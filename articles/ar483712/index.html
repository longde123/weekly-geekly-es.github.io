<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ถ ๐ฉโ๐งโ๐ฆ โคต๏ธ HighLoad ++ ุ Yuri Nasretdinov (VK): ููู ุชููู VK ุจุฅุฏุฑุงุฌ ุงูุจูุงูุงุช ูู ClickHouse ูู ุนุดุฑุงุช ุงูุขูุงู ูู ุงูุฎูุงุฏู ๐ฉ๐ฟโ๐ง ๐ ๐ถ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="HighLoad ++ ููุณูู 2018 ุ ูุงุนุฉ ุงููุคุชูุฑุงุช. 9 ููููุจุฑ ุ 15:00 

 ุงูููุฎุตุงุช ูุงูุนุฑุถ ุงูุชูุฏููู: http://www.highload.ru/moscow/2018/abstracts/4066 

 ููุฑู ูุงุณุฑู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>HighLoad ++ ุ Yuri Nasretdinov (VK): ููู ุชููู VK ุจุฅุฏุฑุงุฌ ุงูุจูุงูุงุช ูู ClickHouse ูู ุนุดุฑุงุช ุงูุขูุงู ูู ุงูุฎูุงุฏู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/483712/" style=";text-align:right;direction:rtl">  HighLoad ++ ููุณูู 2018 ุ ูุงุนุฉ ุงููุคุชูุฑุงุช.  9 ููููุจุฑ ุ 15:00 <br><br>  ุงูููุฎุตุงุช ูุงูุนุฑุถ ุงูุชูุฏููู: <a href="http://www.highload.ru/moscow/2018/abstracts/4066">http://www.highload.ru/moscow/2018/abstracts/4066</a> <br><br>  ููุฑู ูุงุณุฑูุชุฏูููู (ููููุชุงูุชู): ุณูู ูุฎุจุฑูุง ุงูุชูุฑูุฑ ุนู ุชุฌุฑุจุฉ ุชุทุจูู ClickHouse ูู ุดุฑูุชูุง - ููุงุฐุง ูุญุชุงุฌ ุฅูููุง ุ ููู ูุญู ูุฎุฒู ุงูุจูุงูุงุช ุ ูููู ููุชุจูุง ููุง ุฅูู ุฐูู. <br><br><img src="https://habrastorage.org/webt/82/hn/hb/82hnhbxzvzseq8_viregjypt_ms.jpeg"><br><br>  ููุงุฑุฏ ุฅุถุงููุฉ: <a href="https://habr.com/ru/company/ua-hosting/blog/483112/">ุงุณุชุฎุฏุงู Clickhouse ูุจุฏูู ูู ELK ู Big Query ู TimescaleDB</a> <a name="habracut"></a><br><br>  <b>ููุฑู Nasretdinov:</b> - ูุฑุญุจุงู ุจุงูุฌููุน!  ุงุณูู ููุฑู Nasretdinov ุ ูุฃููุง ูุฏูุช ูู ุจุงููุนู.  ุฃูุง ุฃุนูู ูู ููููุชุงูุชู.  ุณุฃุชุญุฏุซ ุนู ููููุฉ ุฅุฏุฑุงุฌ ุงูุจูุงูุงุช ูู "ClickHouse" ูู ุฃุณุทูููุง ูู ุงูุฎูุงุฏู (ุนุดุฑุงุช ุงูุขูุงู). <br><br><h3 style=";text-align:right;direction:rtl">  ูุง ูู ุณุฌูุงุช ูููุงุฐุง ุฌูุนูุงุ </h3><br>  ูุง ุงูุฐู ุณูุชุญุฏุซ ุนูู: ูุงุฐุง ูุนููุง ุ ูููุงุฐุง ุงุญุชุฌูุง ุฅูู "ClickHouse" ุ ุนูู ุงูุชูุงูู - ููุงุฐุง ุงุฎุชุฑูุงู ุ ูููุน ุงูุฃุฏุงุก ุงูุฐู ููููู ุงูุญุตูู ุนููู ุชูุฑูุจูุง ุฏูู ุชูููู ุฃู ุดูุก ุนูู ูุฌู ุงูุชุญุฏูุฏ.  ุณูู ุฃุฎุจุฑูู ุฃูุซุฑ ุนู ุงูุฌุฏุงูู ุงูุนุงุฒูุฉ ุ ูุนู ุงููุดููุงุช ุงูุชู ูุงุฌููุงูุง ุ ูุนู ุงูุญููู ุงูุชู ุทูุฑูุงูุง ูู ุงููุตุงุฏุฑ ุงูููุชูุญุฉ - KittenHouse ู Lighthouse. <br><br><img src="https://habrastorage.org/webt/j8/gj/qv/j8gjqvhcihgkbedpsmonpxznjto.jpeg"><br><br>  ููุงุฐุง ููุง ุจุญุงุฌุฉ ุฅูู ุงูููุงู ุจุฃู ุดูุก ุนูู ุงูุฅุทูุงู (ุนูู ููููุชุงูุชู ูู ุดูุก ุนูู ูุง ูุฑุงู ุฏุงุฆูุง ุ ุฃููุณ ูุฐููุ).  ููุฏ ุฃุฑุฏูุง ุชุฌููุน ุณุฌูุงุช ุชุตุญูุญ ุงูุฃุฎุทุงุก (ููุงู ููุงู ูุฆุงุช ุชูุฑุงุจุงูุช ูู ุงูุจูุงูุงุช ููุงู) ุ ูุฑุจูุง ุ ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ุ ูู ุงูููุงุฆู ูุฑุงุกุฉ ุงูุฅุญุตุงุกุงุช ุ  ููุฏููุง ุนุดุฑุงุช ุงูุขูุงู ูู ุงูุฎูุงุฏู ุงูุชู ูุญุชุงุฌ ูู ูุฐุง ุฅูู ุงูููุงู ุจูุง. <br><br><img src="https://habrastorage.org/webt/pc/og/3w/pcog3wkh42pnfsdpwshhnu-1xqa.jpeg"><br><br>  ููุงุฐุง ูุฑุฑูุงุ  ุฑุจูุง ูุงู ูุฏููุง ุญููู ูุชุฎุฒูู ุงูุณุฌูุงุช.  ููุง - ููุงู ูุซู "Backend VK" ุงูุนุงู.  ุฃูุง ุฃูุตู ุงูุงุดุชุฑุงู ูู ุฐูู. <br><br><img src="https://habrastorage.org/webt/15/xd/b3/15xdb3ma4wv43trpduxyujyo1w0.jpeg"><br><br>  ูุง ูู ุณุฌูุงุชุ  ูุฐุง ูู ูุญุฑู ุฅุฑุฌุงุน ุตูููุงุช ูุงุฑุบุฉ.  ูุญุฑูุงุช "VK" ูู ูุง ูุณูููุง ุงูุขุฎุฑูู ุจุงูุฎุฏูุงุช ุงููููุฑููุฉ.  ููุซู ูุฐุง ุงูููุตู ูุจุชุณู (ุงููุซูุฑ ูู ุงูุฅุนุฌุงุจุงุช).  ููู ุฐููุ  ุญุณูุง ุ ุงุณูุน ุนูู <br><br><img src="https://habrastorage.org/webt/xm/xr/rf/xmxrrfccutg7p6ylcy9-zoyi8ba.jpeg"><br><br>  ูุง ูููู ุงุณุชุฎุฏุงูู ูุชุฎุฒูู ุงูุณุฌูุงุช ุจุดูู ุนุงูุ  ูู ุงููุณุชุญูู ุฃู ูุฐูุฑ ุฎุถุฑ.  ุซู ุ ุนูู ุณุจูู ุงููุซุงู ุ Rsyslog (ุงูุชุฎุฒูู ูู ูููุงุช ูุฐู ุงูุณุฌูุงุช).  LSD.  ูู ูุฏุฑู ูุง ูู LSDุ  ูุง ุ ููุณ ูุฐุง LSD.  ูุชู ุชุฎุฒูู ุงููููุงุช ุ ุนูู ุงูุชูุงูู ุ ุฃูุถุง.  ุญุณููุง ุ ClickHouse ูู ุฅุตุฏุงุฑ ุบุฑูุจ ูู ููุน ูุง. <br><br><h3 style=";text-align:right;direction:rtl">  Clickhouse ูุงูููุงูุณูู: ุงููุชุทูุจุงุช ูุงููุฑุต </h3><br>  ูุงุฐุง ูุฑูุฏุ  ูุฑูุฏ ุฃููุง ูู ููู ุจุญุงุฌุฉ ุฅูู ุฃุฎุฐ ุญูุงู ุจุฎุงุฑ ุฎุงุต ูุน ุงูุนูููุฉ ุ ุจุญูุซ ูุนูู ุฎุงุฑุฌ ุงูุตูุฏูู ุจุดูู ููุถู ุ ูุน ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุฅุนุฏุงุฏ.  ูุฑูุฏ ุฃู ููุชุจ ุงููุซูุฑ ูุงููุชุงุจุฉ ุจุณุฑุนุฉ.  ููุฑูุฏ ุงูุงุญุชูุงุธ ุจูุง ุทูุงู ุงูุฃุดูุฑ ูุงูุณููุงุช ุ ุฃู ููุชุฑุฉ ุทูููุฉ.  ูุงููุง: "ูุฏ ูุฑุบุจ ูู ุญู ูุดููุฉ ูุง ุงูุชู ุฃุชูุง ุจูุง ุฅูููุง ุ" - ูุง ูุนูู ุดูุก ูู ุฃุฌููุง ููุง ุ - ูุงู ูุฐุง ููุฐ 3 ุฃุดูุฑ) ุ ููุฑูุฏ ุฃู ูููู ูุงุฏุฑูู ุนูู ุฑุคูุชู ูุจู 3 ุฃุดูุฑ ".  ุถุบุท ุงูุจูุงูุงุช - ูู ุงูููููู ููุงุฐุง ุณูููู ุฒุงุฆุฏ - ูุฃูู ูุชู ุชูููู ูุณุงุญุฉ ุงููุณุงุญุฉ ุงููุดุบููุฉ. <br><br><img src="https://habrastorage.org/webt/ho/f7/bs/hof7bsmyf40jzgxireygut6jpks.jpeg"><br><br>  ููุฏููุง ูุซู ูุฐุง ุงููุทูุจ ุงููุซูุฑ ููุงูุชูุงู: ููุชุจ ุฃุญูุงููุง ุฅุฎุฑุงุฌ ุจุนุถ ุงูุฃูุงูุฑ (ุนูู ุณุจูู ุงููุซุงู ุ ุงูุณุฌูุงุช) ุ ููููู ุฃู ูููู ุฃูุซุฑ ูู 4 ูููู ุจุงูุช ุจูุฏูุก ุชุงู.  ูุฅุฐุง ูุงู ูุฐุง ุงูุดูุก ูุนูู ุนูู UDP ุ ููู ูุญุชุงุฌ ุฅูู ุฅููุงู ... ูู ูููู ูู ุฃู "ุญูู" ููุงุชุตุงู ุ ูุจุงููุณุจุฉ ูุนุฏุฏ ูุจูุฑ ูู ุงูุฎูุงุฏู ุ ุณุชููู ูุฐู ููุฒุฉ ุฅุถุงููุฉ. <br><br><img src="https://habrastorage.org/webt/jh/pj/3i/jhpj3iedzogld0galjmia2npwe4.jpeg"><br><br>  ุฏุนููุง ูุฑู ูุง ููุฏูู ุงููุตุฏุฑ ุงูููุชูุญ ููุง.  ุฃููุงู ุ ูุฏููุง ูุญุฑู ุณุฌูุงุช - ูุฐุง ูู ูุญุฑููุง ุ  ุฅูู ูุนุฑู ูู ุดูุก ุจุดูู ุฃุณุงุณู ุ ุญุชู ุงูุฎุทูุท ุงูุทูููุฉ ูููููุง ุงููุชุงุจุฉ.  ุญุณููุง ุ ูุง ูุชู ุถุบุท ุงูุจูุงูุงุช ุจุดูุงููุฉ - ูููููุง ุถุบุท ุงูุฃุนูุฏุฉ ุงููุจูุฑุฉ ุจุฃููุณูุง ุฅุฐุง ุฃุฑุฏูุง ... ูุญู ุ ุจุงูุทุจุน ุ ูุง ูุฑูุฏ (ุฅู ุฃููู).  ุงููุดููุฉ ุงููุญูุฏุฉ ูู ุฃูู ูุง ูุณุชุทูุน ุณูู ุงูุชุฎูู ุนูุง ููุถุน ูู ุฐุงูุฑุชู ุ  ุจููุฉ ุ ูู ุฃุฌู ุงููุฑุงุกุฉ ุ ุชุญุชุงุฌ ุฅูู ุงูุญุตูู ุนูู binlog ููุฐุง ุงููุญุฑู ุ ูุจุงูุชุงูู ูุณุชุบุฑู ุงูุฃูุฑ ุจุนุถ ุงูููุช. <br><br><img src="https://habrastorage.org/webt/ps/uk/f5/psukf5cng6yokwi5cbtvvrfry30.jpeg"><br><br>  ูุง ูู ุงูุฎูุงุฑุงุช ุงูุฃุฎุฑูุ  ุนูู ุณุจูู ุงููุซุงู ุ ุฎุงุฏูุจ.  ุณูููุฉ ุงูุงุณุชุฎุฏุงู ... ูู ูุนุชูุฏ ุฃู Hadoup ุณูู ุงูุชููููุ  ูุน ุงูุชุณุฌูู ุ ุจุงูุทุจุน ุ ูุง ุชูุฌุฏ ูุดุงูู.  ูุน ุงููุฑุงุกุฉ ุ ุชูุดุฃ ุฃุณุฆูุฉ ูู ุจุนุถ ุงูุฃุญูุงู.  ูู ุญูุซ ุงููุจุฏุฃ ุ ุฃูุฏ ุฃู ุฃููู ุฃู ุนูู ุงูุฃุฑุฌุญ ูุง ุ ูุฎุงุตุฉ ุจุงููุณุจุฉ ููุณุฌูุงุช.  ุงูุชุฎุฒูู ุทููู ุงูุฃุฌู - ุจุงูุทุจุน ุ ูุนู ุ ุถุบุท ุงูุจูุงูุงุช - ูุนู ุ ุงูุฎุทูุท ุงูุทูููุฉ - ูู ุงููุงุถุญ ุฃูู ููููู ุงููุชุงุจุฉ.  ูููู ููุชุณุฌูู ูู ุนุฏุฏ ูุจูุฑ ูู ุงูุฎูุงุฏู ... ุนูู ุฃู ุญุงู ุ ูุฌุจ ุฃู ููุนู ุดูุฆูุง ุจุฃููุณูุง! <br><br>  Rsyslog.  ูู ุงููุงูุน ุ ุงุณุชุฎุฏููุงูุง ูุฎูููุฉ ุงุญุชูุงุทูุฉ ุ ุจุญูุซ ูููู ูู ุงููููู ูุฑุงุกุฉ binlog ุฏูู ุชูุฑูุบ ุ ููู ูุง ูููู ุงููุชุงุจุฉ ูู ุทูุงุจูุฑ ุทูููุฉ ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ูุง ูููู ุฃู ุชูุชุจ ุฃูุซุฑ ูู 4 ูููู ุจุงูุช.  ูุฌุจ ุฃู ูุชู ุถุบุท ุงูุจูุงูุงุช ุจููุณ ุงูุทุฑููุฉ.  ุงููุฑุงุกุฉ ุณูู ุชุฐูุจ ูู ุงููููุงุช. <br><br><img src="https://habrastorage.org/webt/nt/xo/k3/ntxok3kz6sqyggmdlctpxrokprs.jpeg"><br><br>  ุซู ููุงู ุชุทูุฑ "ุณูุก" ูู LSD.  ููุณ ุงูุดูุก ูู ููุณู "Rsyslog" ุจุดูู ุฃุณุงุณู: ุฅูู ูุฏุนู ุงูุฎุทูุท ุงูุทูููุฉ ุ ูููู ูุง ูุนุฑู ููููุฉ ุงุณุชุฎุฏุงู UDP ุ ููู ุงููุงูุน ุ ููุฐุง ุ ููุฃุณู ุ ููุงู ุงููุซูุฑ ูู ุงูุฃุดูุงุก ูุฅุนุงุฏุฉ ูุชุงุจุชูุง ููุงู.  ูุฌุจ ุฅุนุงุฏุฉ ุฅูุดุงุก LSD ุญุชู ุชุชููู ูู ุงูุชุณุฌูู ูู ุนุดุฑุงุช ุงูุขูุงู ูู ุงูุฎูุงุฏู. <br><br><img src="https://habrastorage.org/webt/2s/xr/fw/2sxrfwyzgj72wfqblvhlu8fphf0.jpeg"><br><br>  ุฃูู ููุง!  ุฎูุงุฑ ูุถุญู ูู ElasticSearch.  ุญุณูุง ุ ููู ุฃูููุ  ูู ุดูุก ุนูู ูุง ูุฑุงู ูุน ุงููุฑุงุกุฉ ุ ุฃู ุฃูู ููุฑุฃ ุจุณุฑุนุฉ ุ ูููู ููุณ ุฌูุฏูุง ูุน ุงููุชุงุจุฉ.  ุฃููุงู ุ ุฅุฐุง ูุงู ูุถุบุท ุงูุจูุงูุงุช ุ ููู ุถุนูู ุฌุฏูุง.  ุนูู ุงูุฃุฑุฌุญ ุ ูุชุทูุจ ุงูุจุญุซ ุงููุงูู ุฅูุดุงุกุงุช ุจูุงูุงุช ุฃูุซุฑ ุญุฌููุง ูู ูุญุฏุฉ ุงูุชุฎุฒูู ุงูุฃุตููุฉ.  ูู ุงูุตุนุจ ุงุณุชุบูุงููุง ุ ูุบุงูุจูุง ูุง ุชูุดุฃ ูุดุงูู ูุนูุง.  ููุฑุฉ ุฃุฎุฑู ุ ุฅุฏุฎุงู ูู "ูุฑูุฉ" - ูุฌุจ ุนูููุง ุฌููุนูุง ุฃู ููุนู ุฐูู ุจุฃููุณูุง. <br><br><img src="https://habrastorage.org/webt/wb/uv/ik/wbuvikg6tm42r0pjhkrtdrcye08.jpeg"><br><br>  ููุง ClickHouse - ุงูุฎูุงุฑ ุงููุซุงูู ุ ุจุงูุทุจุน.  ุงูุดูุก ุงููุญูุฏ ูู ุฃู ุงูุชุณุฌูู ูู ุนุดุฑุงุช ุงูุขูุงู ูู ุงูุฎูุงุฏู ููุซู ูุดููุฉ.  ููููุง ูุงุญุฏุฉ ุนูู ุงูุฃูู ุ ูููููุง ูุญุงููุฉ ุญููุง ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ูุจููุฉ ุงูุชูุฑูุฑ ุญูู ูุฐู ุงููุดููุฉ.  ูุง ุงูุฃุฏุงุก ุงูููู ูู ClickHouse ุงูุฐู ูููู ุฃู ุชุชููุนูุ <br><br><h3 style=";text-align:right;direction:rtl">  ููู ุณูุถูููุ  MergeTree </h3><br>  ูู ูููู ูู ูุณูุน ุนู ClickHouse ุ ูุง ุฃุนุฑูุ  ุชุญุชุงุฌ ุฃู ุฃููู ุ ููุณ ูู ุงูุถุฑูุฑูุ  ุณุฑูุน ุฌุฏุง  ูุญุชูู ุงูููุญู ุนูู 1-2 ุบูุบุง ุจุงูุช ูู ุงูุซุงููุฉ ุ ูุงูุฑุดูุงุช ุงูุชู ุชุตู ุฅูู 10 ุบูุบุง ุจุงูุช ูู ุงูุซุงููุฉ ูููู ุฃู ุชุตูุฏ ุฃูุงู ูุฐุง ุงูุชูููู ูุนูููุง - ูููุงู ุฒููู ุซูุงุฆู ุงูููุงุฉ (ุฃู ุ ุญุชู ุฏููููุง ุฃููู) ุ ู 256 ุบูุบุง ุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุ ู 20 ุชูุฑุงุจุงูุช ููู RAID (ูู ูุชู ุชูููู ุฃุญุฏ ุ ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ).  ุฃูููุณู ููููููุฏูู ุ ูุทูุฑ ClickHouse ุ ุฑุจูุง ูุจูู ุ ุฃููุง ูู ููู ุจุชูููู ุฃู ุดูุก (ูุงู ูู ุดูุก ูุนูู ููุง ููุฐุง).  ููููุง ูุฐูู ุ ูููู ุงูุญุตูู ุนูู ุณุฑุนุฉ ุงููุณุญ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุญูุงูู 6 ูููุงุฑุงุช ุตู ูู ุงูุซุงููุฉ ุฅุฐุง ุชู ุถุบุท ุงูุจูุงูุงุช ุฌูุฏูุง.  ุฅุฐุง ููุช ุชุญุจูช ุนูู ุณุทุฑ ูุต ุชูุนู - 100 ููููู ุณุทุฑ ูู ุงูุซุงููุฉ ุ ููุฐุง ูุจุฏู ุ ุจุณุฑุนุฉ ูุจูุฑุฉ. <br><br><img src="https://habrastorage.org/webt/mu/m0/ih/mum0ihdgejlxldsd9id8ijjytx8.jpeg"><br><br>  ููู ุณูุถูููุ  ุญุณูุง ุ ุฃูุช ุชุนุฑู ุฃู ูู "VK" - ูู PHP.  ุณูููู ูู ูู ุนุงูู PHP ุจูุตู HTTP ูู "ClickHouse" ุ ูู ููุญุฉ MergeTree ููู ุฅุฏุฎุงู.  ูู ูุฑู ุงููุดููุฉ ูู ูุฐู ุงูุฏุงุฆุฑุฉุ  ูุณุจุจ ูุง ุ ูู ูุฑูุน ุงูุฌููุน ุฃูุฏููู.  ุฏุนูุง ูุฎุจุฑู. <br><br>  ุฃููุงู ุ ููุงู ุงูุนุฏูุฏ ูู ุงูุฎูุงุฏู - ููููุง ูุฐูู ุ ุณูููู ููุงู ุงูุนุฏูุฏ ูู ุงูุงุชุตุงูุงุช (ุณูุฆุฉ).  ุซู ูู MergeTree ุ ูู ุงูุฃูุถู ุฅุฏุฑุงุฌ ุจูุงูุงุช ูุง ุชุฒูุฏ ุนู ูุฑุฉ ูุงุญุฏุฉ ูู ุงูุซุงููุฉ.  ููู ูุฏุฑู ููุงุฐุงุ  ุญุณูุง ุ ุฌูุฏ.  ุณุฃุฎุจุฑูู ููููุงู ุนู ูุฐุง.  ุณุคุงู ุขุฎุฑ ูุซูุฑ ููุงูุชูุงู ูู ุฃููุง ุ ููุง ูุงู ุ ูุง ูููู ุจุงูุชุญูููุงุช ุ ูุณูุง ุจุญุงุฌุฉ ูุฅุซุฑุงุก ุงูุจูุงูุงุช ุ ูุญู ูุณูุง ุจุญุงุฌุฉ ุฅูู ุฎูุงุฏู ูุณูุทุฉ ุ ูุฑูุฏ ุฃู ูุฏูุฌ ูุจุงุดุฑุฉ ูู "ClickHouse" (ูู ุงูููุถู ุฃู ูููู ุฃูุซุฑ ุงุณุชูุงูุฉ ุ ูููุง ูุงู ุฐูู ุฃูุถู). <br><br><img src="https://habrastorage.org/webt/2r/im/hz/2rimhzqo0cxkonc8paf7pi2qae0.jpeg"><br><br>  ูููุง ูุฐูู ุ ููู ูุชู ุชูููุฐ ุงูุฅุฏุฑุงุฌ ูู MergeTreeุ  ููุงุฐุง ูู ุงูุฃูุถู ุฅุฏุฑุงุฌู ุฃูุซุฑ ูู ูุฑุฉ ูุงุญุฏุฉ ูู ุงูุซุงููุฉ ุฃู ุฃููุ  ุงูุญูููุฉ ูู ุฃู "ClickHouse" ูู ูุงุนุฏุฉ ุจูุงูุงุช ุนููุฏูุฉ ูุชููู ุจูุฑุฒ ุงูุจูุงูุงุช ุจุชุฑุชูุจ ุชุตุงุนุฏู ููููุชุงุญ ุงูุฃุณุงุณู ุ ูุนูุฏ ุงูุฅุฏุฑุงุฌ ุ ูุชู ุฅูุดุงุก ุนุฏุฏ ุงููููุงุช ุนู ุทุฑูู ุนุฏุฏ ุงูุฃุนูุฏุฉ ุนูู ุงูุฃูู ุงูุฐู ูุชู ููู ูุฑุฒ ุงูุจูุงูุงุช ุจุชุฑุชูุจ ุชุตุงุนุฏู ููููุชุงุญ ุงูุฃุณุงุณู (ูุชู ุฅูุดุงุก ุฏููู ูููุตู ุ ูุฌููุนุฉ ูู ุงููููุงุช ุนูู ุงููุฑุต ููู ุฅุฏุฑุงุฌ).  ุซู ูุฐูุจ ุงูุฅุฏุฑุงุฌ ุงูุชุงูู ุ ููู ุงูุฎูููุฉ ููุฏูุฌูู ูู "ูุณู" ุฃูุจุฑ.  ูุธุฑูุง ูุชุตููู ุงูุจูุงูุงุช ุ ููููู "ุชุฒููู" ููููู ูุตูููููู ุฏูู ุงุณุชููุงู ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ. <br><br>  ูููู ุ ููุง ูุฏ ุชุชุฎูู ุ ุฅุฐุง ููุช ุจูุชุงุจุฉ 10 ูููุงุช ููู ุฅุฏุฑุงุฌ ุ ูุฅู "ClickHouse" ุณููุชูู ุจุณุฑุนุฉ (ุฃู ุฎุงุฏูู) ุ ูุฐูู ููุตู ุจุฅุฏุฑุงุฌูุง ูู ุญุฒู ูุจูุฑุฉ.  ููููุง ูุฐูู ุ ูู ูุทูู ุฃุจุฏูุง ุฃูู ูุฎุทุท ูู ุงูุฅูุชุงุฌ.  ุฃุทูููุง ุนูู ุงูููุฑ ูุงุญุฏุฉ ูุฏููุง ุฑูู 2 ููุง: <br><br><img src="https://habrastorage.org/webt/7z/0d/yt/7z0dytuytercg92yrt1nu3tpczw.jpeg"><br><br>  ุชุฎูู ููุง ุฃู ููุงู ุญูุงูู ุฃูู ุฎุงุฏู ูููุง ุจุชุดุบููู ุ ููุงู ููุท PHP.  ููุฌุฏ ุนูู ูู ุฎุงุฏู ูููููุง ุงููุญูู ุ ุงูุฐู ุฃุทูููุง ุนููู ุงุณู "Kittenhouse" ุ ูุงูุฐู ูุญูู ุงุชุตุงููุง ูุงุญุฏูุง ุจู "ClickHouse" ููููู ุจุฅุฏุฑุงุฌ ุงูุจูุงูุงุช ูู ุจุถุน ุซูุงูู.  ูุง ูููู ุจุฅุฏุฑุงุฌ ุงูุจูุงูุงุช ูู MergeTree ุ ูููู ูู ุฌุฏูู ุงูุชุฎุฒูู ุงููุคูุช ุ ูุงูุฐู ูุนูู ุนูู ุนุฏู ุฅุฏุฑุงุฌ ูุจุงุดุฑุฉ ูู MergeTree ุนูู ุงูููุฑ. <br><br><img src="https://habrastorage.org/webt/zu/ok/g1/zuokg1unbbwdege3mpsckf8npme.jpeg"><br><br><h3 style=";text-align:right;direction:rtl">  ุงูุนูู ูุน ุงูุฌุฏุงูู ุงูุนุงุฒูุฉ </h3><br>  ูุง ูุฐุง  ุงูุฌุฏุงูู ุงูุนุงุฒูุฉ ุนุจุงุฑุฉ ุนู ูุทุนุฉ ูู ุงูุฐุงูุฑุฉ ุชู ุฎูุทูุง (ุฃู ุ ููููู ุบุงูุจูุง ุฅุฏุฑุงุฌูุง ูู ุฐูู).  ุฅููุง ุชุชููู ูู ุนุฏุฉ ูุทุน ุ ูุชุนูู ูู ูุทุนุฉ ููุฎุฒู ูุคูุช ูุณุชูู ุ ูุชุฏูู ุจุดูู ูุณุชูู (ุฅุฐุง ูุงู ูุฏูู ุงูุนุฏูุฏ ูู ุงููุทุน ูู ุงููุฎุฒู ุงููุคูุช ุ ูุณุชููู ููุงู ุฅุฏุฎุงูุงุช ูุซูุฑุฉ ูู ุงูุซุงููุฉ).  ููููู ุงููุฑุงุกุฉ ูู ูุฐู ุงูุฌุฏุงูู - ุซู ุชูุฑุฃ ุชูุญูุฏ ูุญุชููุงุช ุงููุฎุฒู ุงููุคูุช ูุงูุฌุฏูู ุงูุฃุตูู ุ ูููู ูู ุชูู ุงููุญุธุฉ ูุชู ุญุธุฑ ุงูุณุฌู ุ ูุฐูู ูู ุงูุฃูุถู ุนุฏู ุงููุฑุงุกุฉ ูู ููุงู.  ูุชู ุนุฑุถ QPS ุฌูุฏ ุฌุฏูุง ูู ุฎูุงู ุงูุฌุฏุงูู ุงูุนุงุฒูุฉ ุ ุฃู ูุง ูุตู ุฅูู 3 ุขูุงู QPS ูู ุชูุงุฌูู ุฃู ูุดุงูู ูู ุนูููุฉ ุงูุฅุฏุฑุงุฌ ุนูู ุงูุฅุทูุงู.  ูู ุงููุงุถุญ ุฃูู ูู ุญุงูุฉ ููุฏ ุงูุทุงูุฉ ูู ุงูุฎุงุฏู ุ ูููู ุฃู ุชุถูุน ุงูุจูุงูุงุช ุ ูุฃููุง ูุฎุฒูุฉ ููุท ูู ุงูุฐุงูุฑุฉ. <br><br><img src="https://habrastorage.org/webt/4p/rg/l1/4prgl1wcijnrxs6zcgz2gmybvec.jpeg"><br><br>  ูู ุงูููุช ููุณู ุ ูุชู ุชุนููุฏ ุงููุฎุทุท ูุน ุงููุฎุฒู ุงููุคูุช ุจูุงุณุทุฉ ALTER ุ ูุฃูู ุชุญุชุงุฌ ุฃููุงู ุฅูู ุฅุณูุงุท ุฌุฏูู ุงููุฎุฒู ุงููุคูุช ุงููุฏูู ูุน ุงููุฎุทุท ุงููุฏูู (ูู ูุชู ููุฏ ุงูุจูุงูุงุช ูู ููุณ ุงูููุช ุ ูุฃูู ุณูุชู ูุณุญูุง ูุจู ุญุฐู ุงูุฌุฏูู).  ุซู ููููู "ุชุบููุฑ" ุงูุฌุฏูู ุงูุฐู ุชุญุชุงุฌู ูุฅูุดุงุก ุฌุฏูู ุงููุฎุฒู ุงููุคูุช ูุฑุฉ ุฃุฎุฑู.  ููููุง ูุฐูู ุ ุนูู ุงูุฑุบู ูู ุนุฏู ูุฌูุฏ ุฌุฏูู ูุคูุช ุ ูุฅู ุจูุงูุงุชู ูุง ุชุชุฏูู ูู ุฃู ููุงู ุ ูููู ููููู ุญุชู ุนูู ุงููุฑุต ูุญูููุง. <br><br><img src="https://habrastorage.org/webt/nv/vx/ek/nvvxekkpy2bcezjpuylifhcworq.jpeg"><br><br><h3 style=";text-align:right;direction:rtl">  ูุง ูู Kittenhouse ูููู ูุนููุ </h3><br>  ูุง ูู KittenHouseุ  ูุฐุง ูููู.  ุชุฎููู ูุง ุงููุบุฉุ  ููุฏ ุฌูุนุช ุฃูุซุฑ ุงูููุถูุนุงุช ุฅุซุงุฑุฉ ูู ุชูุฑูุฑู - ูุฐุง ูู "Clickhouse" ุ ุงุฐูุจ ุ ุฑุจูุง ุฃุชุฐูุฑ ุดูุฆูุง ุขุฎุฑ.  ูุนู ุ ูู ููุชูุจ ูู Go ุ ูุฃููู ูุง ุฃุนุฑู ุญููุง ููููุฉ ุงููุชุงุจุฉ ุจุงููุบุฉ C ุ ูุง ุฃุฑูุฏ ุฐูู. <br><br><img src="https://habrastorage.org/webt/6r/1w/th/6r1wthqhe4flw_7t7ww01s5arug.jpeg"><br><br>  ูููุง ูุฐูู ุ ูุฅูู ูุญุชูุธ ุงุชุตุงู ูุน ูู ุฎุงุฏู ุ ูููู ุงููุชุงุจุฉ ุฅูู ุงูุฐุงูุฑุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุชุจูุง ุณุฌูุงุช ุงูุฃุฎุทุงุก ูู "Clickhouse" ุ ูุฅุฐุง ูู ููู "Clickhouse" ูุฏูู ุงูููุช ูุฅุฏุฑุงุฌ ุงูุจูุงูุงุช (ุจุนุฏ ูู ุดูุก ุ ุฅุฐุง ูุงู ุงููุซูุฑ ูููุง ููุชูุจูุง) ุ ูุฅููุง ูุง ูุชุถุฎู ูู ุงูุฐุงูุฑุฉ - ููุญู ุจุจุณุงุทุฉ ูุทุฑุฏ ุงูุจุงูู.  ูุฃูู ุฅุฐุง ูุชุจูุง ุนุฏุฉ ุบูุบุง ุจุงูุช ูู ุงูุซุงููุฉ ุงููุงุญุฏุฉ ูู ุงูุฃุฎุทุงุก ุ ููู ุงููุญุชูู ุ ุฑุจูุง ุ ูููููุง ุฅููุงุก ุจุนุถูุง.  Kittenhouse ูุนุฑู ููู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููู ูุนุฑู ููููุฉ ุงูุชุณููู ุจุดูู ููุซูู ุ ุฃู ุฃูู ููุชุจ ุนูู ูุฑุต ุนูู ุงูุฌูุงุฒ ุงููุญูู ููุฑุฉ โโูุงุญุฏุฉ ูู ูุชุฑุฉ (ููุงู ุ ูุฑุฉ ูุงุญุฏุฉ ูู ุจุถุน ุซูุงู) ูุญุงูู ุชุณููู ุงูุจูุงูุงุช ูู ูุฐุง ุงูููู.  ููู ุงูุจุฏุงูุฉ ุงุณุชุฎุฏููุง ุชูุณูู ุงูููู ุงููุนุชุงุฏ - ูููุณ ุจุนุถ ุงูุชูุณููุงุช ุงูุซูุงุฆูุฉ ุ ุชูุณูู ุงููุต (ููุง ูู SQL ุงููุนุชุงุฏ). <br><br><img src="https://habrastorage.org/webt/rj/2q/z3/rj2qz3hcwcur_lvha_tc2mxjpwq.jpeg"><br><br>  ูููู ุจุนุฏ ุฐูู ุญุฏุซ ูุฐุง.  ุงุณุชุฎุฏููุง ุงูุชุณููู ุงูููุซูู ุ ููุชุจ ุงูุณุฌูุงุช ุ ุซู ูุฑุฑูุง (ูุงูุช ูุฌููุนุฉ ุงุฎุชุจุงุฑ ูุดุฑูุทุฉ) ... ููุฏ ุฃุฎุฑุฌููุง ูุจุถุน ุณุงุนุงุช ูุฑูุนููุง ูุฑุฉ ุฃุฎุฑู ุ ูุจุฏุฃ ุงูุฅุฏุฑุงุฌ ูู ุขูุงู ุงูุฎูุงุฏู - ุงุชุถุญ ุฃู Klickhouse ูุง ูุฒุงู ูุฏูู "ุฎูุท ุนูู ุงุชุตุงู "- ููููุง ูุฐูู ุ ูู ุขูุงู ุงูุงุชุตุงูุงุช ุ ูุคุฏู ุงูุฅุฏุฑุงุฌ ุงููุดุท ุฅูู ูุนุฏู ุชุญููู ุนูู ุงูุฎุงุฏู ูุจูุบ ุญูุงูู ูุงุญุฏ ููุตู ุงูุฃูู.  ูู ุงููุซูุฑ ููุฏูุดุฉ ุฃู ุงูุฎุงุฏู ูุจู ุงูุทูุจุงุช ุ ููู ุชู ุฅุฏุฑุงุฌ ูุฐู ุงูุจูุงูุงุช ุจุนุฏ ูุฑูุฑ ุจุนุถ ุงูููุช ุ  ูููู ูุงู ูู ุงูุตุนุจ ููุบุงูุฉ ุนูู ุงูุฎุงุฏู ุฎุฏูุชูุง ... <br><br><h3 style=";text-align:right;direction:rtl">  ุฃุถู nginx </h3><br>  ูุซู ูุฐุง ุงูุญู ููุคุดุฑ ุงูุชุฑุงุจุท ููู ูููุฐุฌ ุงุชุตุงู ูู nginx.  ูุถุนูุง nginx ุฃูุงู Clickhouse ุ ููู ููุณ ุงูููุช ูููุง ุจุชุนููู ุงูุชูุงุฒู ุนูู ูุณุฎุชูู ูุชูุงุซูุชูู (ูููุง ุจุฒูุงุฏุฉ ุณุฑุนุฉ ุงูุฅุฏุฑุงุฌ ุจููุฏุงุฑ 2 ูุฑุงุช ุ ุนูู ุงูุฑุบู ูู ุนุฏู ููููุง ูุฐูู) ูุญุตุฑ ุนุฏุฏ ุงูุงุชุตุงูุงุช ุจู Clickhouse ุ ูุนูู ุงูููุจุน ุ ูุจุงูุชุงูู ุ ููุง ูุงูุช ุนููู ูู 50 ูุฑูุจุฉ ุ ูุจุฏู ุฃูู ูุง ูุนูู ูุฅุฏุฑุงุฌูุง. <br><br><img src="https://habrastorage.org/webt/7i/ib/9b/7iib9bduvmhr6taouopwj20zzsu.jpeg"><br><br>  ุซู ุฃุฏุฑููุง ุฃู ูุฐุง ุงููุฎุทุท ุจุดูู ุนุงู ูู ุนููุจ ุ ูุฃู ูุฏููุง nginx ูุงุญุฏ ููุง.  ููููุง ูุฐูู ุ ุฅุฐุง ูุงู nginx ููุถุน ุ ุนูู ุงูุฑุบู ูู ูุฌูุฏ ุงููุณุฎ ุงููุชูุงุซูุฉ ุ ูุฅููุง ูููุฏ ุงูุจูุงูุงุช ุฃู ุ ุนูู ุงูุฃูู ุ ูุง ููุชุจ ูู ุฃู ููุงู.  ูุฐูู ุ ูุนููุง ูุฏููุง ููุงุฒูุฉ ุงูุญูู.  ููุฏ ุฃุฏุฑููุง ุฃูุถูุง ุฃู "Clickhouse" ูุง ูุฒุงู ููุงุณุจูุง ููุณุฌูุงุช ุ ูุฃู "ุงูุดูุทุงู" ุจุฏุฃ ุฃูุถูุง ูู ูุชุงุจุฉ ุณุฌูุงุชู ูู "Clickhouse" ุฃูุถูุง - ููุงุฆู ุฌุฏูุง ุ ููููู ุตุงุฏููู.  ูุง ุฒููุง ูุณุชุฎุฏููุง ูู "ุงูุดูุงุทูู" ุงูุฃุฎุฑู. <br><br><img src="https://habrastorage.org/webt/px/o4/v3/pxo4v3tnrrxwye_tjavgb2p3kgu.jpeg"><br><br>  ุซู ุงูุชุดููุง ูุซู ูุฐู ุงููุดููุฉ ุงููุซูุฑุฉ ููุงูุชูุงู: ุฅุฐุง ููุช ุชุณุชุฎุฏู ุทุฑููุฉ ุบูุฑ ููุงุณูุฉ ุชูุงููุง ููุฅุฏุฑุงุฌ ูู ูุถุน SQL ุ ููุฌุจ ูุฑุถ ูุญูู ูุชูุงูู ูุณุชูุฏ ุฅูู AST SQL ุ ููู ุฃูุฑ ุจุทูุก ููุนูุง ูุง.  ููููุง ูุฐูู ุ ุฃุถููุง ุงูุฅุนุฏุงุฏุงุช ุญุชู ูุง ูุญุฏุซ ูุฐุง ุฃุจุฏูุง.  ููุฏ ุญูููุง ููุงุฒูุฉ ุชุญููู ุ ููุญูุตุงุช ุตุญูุฉ ุ ุจุญูุซ ุฅุฐุง ูุงุช ุฃุญุฏ ุ ูุฅููุง ูุง ูุฒุงู ูุชุฑู ุงูุจูุงูุงุช.  ููุฏ ุญุตููุง ุนูู ุงูุฌุฏุงูู ุงููุงููุฉ ุญุชู ูุญุชุงุฌ ุฅูู ูุฌููุนุงุช "Clickhouse" ูุฎุชููุฉ.  ูุจุฏุฃูุง ุงูุชูููุฑ ูู ุงุณุชุฎุฏุงูุงุช ุฃุฎุฑู - ุนูู ุณุจูู ุงููุซุงู ุ ุฃุฑุฏูุง ูุชุงุจุฉ ุณุฌูุงุช ูู ูุญุฏุงุช nginx ุ ููุง ูููููู ุงูุชูุงุตู ุจุงุณุชุฎุฏุงู RPC ุงูุฎุงุต ุจูุง.  ุญุณููุง ุ ุฃุฑุบุจ ูู ุชุนููููู ุจุทุฑููุฉ ูุง ููููุฉ ุงูุฅุฑุณุงู - ุนูู ุณุจูู ุงููุซุงู ุ ุนุจุฑ UDP ูุงุณุชูุจุงู ุงูุฃุญุฏุงุซ ุนูู ุงููุถูู ุงููุญูู ุซู ุฅุฑุณุงููุง ุฅูู "Clickhouse". <br><br><h3 style=";text-align:right;direction:rtl">  ุฎุทูุฉ ูุงุญุฏุฉ ูู ุงููุฑุงุฑ </h3><br>  ุจุฏุฃ ุงููุฎุทุท ุงูููุงุฆู ูู ุงูุธููุฑ ุจูุฐุง ุงูุดูู (ุงูุฅุตุฏุงุฑ ุงูุฑุงุจุน ูู ูุฐุง ุงููุฎุทุท): ุนูู ูู ุฎุงุฏู ุฃูุงู Clickhouse ููุฌุฏ nginx (ุนูู ููุณ ุงูุฎุงุฏู ุ ุนูุงูุฉ ุนูู ุฐูู) ูููู ุจุฅุฑุณุงู ุทูุจุงุช ุฅูู ุงููุถูู ุงููุญูู ุจุญุฏ ุฃูุตู ูุนุฏุฏ ุงุชุตุงูุงุช 50 ูุทุนุฉ.  ูุงูุขู ูุฐุง ุงููุฎุทุท ูุงู ูุนูู ุจุงููุนู ุ ูุงู ุฌูุฏูุง ุฌุฏูุง. <br><br><img src="https://habrastorage.org/webt/co/ea/sw/coeaswk1ttzg--hk_nz-exq19l0.jpeg"><br><br>  ุนุดูุง ูุซู ูุฐุง ููุฏุฉ ุดูุฑ ุชูุฑูุจุง.  ูุงู ุงูุฌููุน ุณุนุฏุงุก ุ ูุถููุง ุงูุฌุฏุงูู ุ ูุถููุง ุ ูุถููุง ... ุจุดูู ุนุงู ุ ุงุชุถุญ ุฃู ุงูุทุฑููุฉ ุงูุชู ุฃุถููุง ุจูุง ุงูุฌุฏุงูู ุงููุคูุชุฉ ูู ุชูู ูุซุงููุฉ (ุฏุนูุง ูููู ุฐูู).  ููุฏ ุตูุนูุง 16 ูุทุนุฉ ูู ูู ุทุงููุฉ ููุงุตู ุฒููู ูุจุถุน ุซูุงู ุ  ูุงู ูุฏููุง 20 ุทุงููุฉ ู 8 ุฅุฏุฎุงูุงุช ูู ุงูุซุงููุฉ ุงููุงุญุฏุฉ ุฐูุจุช ุฅูู ูู ุฌุฏูู - ููู ุชูู ุงููุญุธุฉ ุจุฏุฃ "Clickhouse" ... ุจุฏุฃุช ุงูุณุฌูุงุช ูุงุฑุบุฉ.  ูู ูุชู ุชูุฑูุฑูุง ... ูุงู ูุฏู Nginx ุดูุก ูุซูุฑ ููุงูุชูุงู ุจุดูู ุงูุชุฑุงุถู ุจุญูุซ ุฅุฐุง ูุงูุช ุงูุงุชุตุงูุงุช ูุฏ ุงูุชูุช ุนูุฏ ุงูููุจุน ุ ูุฐูู ูุนูู ุฃู "502" ูุนุทู ุฌููุน ุงูุทูุจุงุช ุงูุฌุฏูุฏุฉ. <br><br><img src="https://habrastorage.org/webt/wd/b-/ih/wdb-ihhsype-ykkjymstxzlq27q.jpeg"><br><br>  ูููุง ุนูููุง (ูุธุฑุช ููุชู ุฅูู ุงูุณุฌูุงุช ุงูููุฌูุฏุฉ ูู "Clickhouse" ุงูุชู ูุธุฑุช ุฅูููุง) ูู ููุงู ูุง ููุดู ููู ุญูุงูู ูุตู ุจุงููุงุฆุฉ ูู ุงูุทูุจุงุช.  ูููุง ูุฐูู ุ ูุงู ุงุณุชุฎุฏุงู ุงููุฑุต ุนุงููุฉ ุ ููุงู ููุงู ุงูุนุฏูุฏ ูู ุนูููุงุช ุงูุฏูุฌ.  ุญุณูุง ุ ูุงุฐุง ูุนูุชุ  ุจุทุจูุนุฉ ุงูุญุงู ุ ูู ุฃุจุฏุฃ ูู ููู ุณุจุจ ุงูุชูุงุก ุงูุงุชุตุงู ูุงูุชูููุจ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงุณุชุจุฏุงู nginx ูุน ุงููููู ุงูุนูุณู </h3><br>  ูุฑุฑุช ุฃููุง ูุญุชุงุฌ ุฅูู ุฅุฏุงุฑุฉ ูุฐุง ุงูุฃูุฑ ุจุฃููุณูุง ุ ูุนุฏู ุฅุนุทุงุฆู ุฅูู nginx - ูุง ูุนุฑู nginx ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ ูู "Clickhouse" ุ ูุงุณุชุจุฏู nginx ุจุจุฑููุณู ุนูุณู ุ ููุฐุง ูุง ูุชุจุชู ุฃูุถูุง. <br><br><img src="https://habrastorage.org/webt/7u/pv/ve/7upvvezqfizgs73uazcnuqz8edm.jpeg"><br><br>  ูุงุฐุง ููุนูุ  ุฅูู ูุนูู ุนูู ุฃุณุงุณ ููุชุจุฉ fasthttp "goosh" ุ ุฃู ุจุณุฑุนุฉ ุชูุฑูุจูุง ุจููุณ ุณุฑุนุฉ nginx.  ุนุฐุฑูุง ุ ุฅูุฌูุฑ ุ ุฅุฐุง ููุช ููุง (ููุงุญุธุฉ: ุฅูุฌูุฑ ุณูุณูู ูู ูุจุฑูุฌ ุฑูุณู ุฃูุดุฃ ุฎุงุฏู ุงูููุจ nginx).  ููููู ููู ุฃู ููุน ูู ุงูุงุณุชุนูุงูุงุช - INSERT ุฃู SELECT - ุนูู ุงูุชูุงูู ุ ูุญุชูุธ ุจุชุฌูุนุงุช ุงุชุตุงู ูุฎุชููุฉ ูุฃููุงุน ูุฎุชููุฉ ูู ุงูุงุณุชุนูุงูุงุช. <br><br><img src="https://habrastorage.org/webt/ub/q1/43/ubq143ugu8fsrxicwobmwn8veni.jpeg"><br><br>  ููููุง ูุฐูู ุ ุญุชู ูู ูู ููู ูุฏููุง ููุช ูุฅููุงู ุงูุทูุจุงุช ุ ูุฅู "ุงูุชุญุฏูุฏุงุช" ุณูู ุชูุฑ ุ ูุงูุนูุณ ุตุญูุญ.  ููููู ุจุชุฌููุน ุงูุจูุงูุงุช ูู ุฌุฏุงูู ุนุงุฒูุฉ - ูุน ูุฌูุฏ ูุฎุฒู ูุคูุช ุตุบูุฑ: ุฅุฐุง ูุงู ููุงู ุฃู ุฃุฎุทุงุก ูุฃุฎุทุงุก ุจูุงุก ุฌููุฉ ููุง ุฅูู ุฐูู - ุจุญูุซ ุฃุซุฑุช ููููุงู ุนูู ุจููุฉ ุงูุจูุงูุงุช ุ ูุฃูู ุนูุฏูุง ูุชู ุฅุฏุฑุงุฌูุง ุจุจุณุงุทุฉ ูู ุงูุฌุฏุงูู ุงูุนุงุฒูุฉ ุ ูุงู ูุฏููุง ุตุบูุฑ " bachi "ุ ูุฌููุน ุฃุฎุทุงุก ุฃุฎุทุงุก ุจูุงุก ุงูุฌููุฉ ุฃุซุฑุช ููุท ุนูู ูุฐู ุงููุทุนุฉ ุงูุตุบูุฑุฉ ุ  ูููุง ุณูู ุชุคุซุฑ ุจุงููุนู ุนูู ุงููุฎุฒู ุงููุคูุช ุงููุจูุฑ.  ุตุบูุฑ ูู 1 ููุบุง ุจุงูุช ุ ููุฐุง ููุณ ุตุบูุฑุง ุฌุฏุง. <br><br><img src="https://habrastorage.org/webt/16/zx/hh/16zxhh_8qun8kzdyjd3i3ysnxzs.jpeg"><br><br>  ูุง ูุคุฏู ุฅุฏุฎุงู ูุฒุงููุฉ ูุงุณุชุจุฏุงู nginx ุจุดูู ุฃุณุงุณู ุฅูู ููุณ ุงูุดูุก ุงูุฐู ูุนูู nginx ูู ูุจู - Kittenhouse ูุง ูุญุชุงุฌ ุฅูู ุชุบููุฑ ูุญูู ููุฐุง ุงูุบุฑุถ.  ููุธุฑูุง ูุฃูู ูุณุชุฎุฏู fasthttp ุ ููู ุณุฑูุน ุฌุฏูุง - ููููู ุชูุฏูู ุฃูุซุฑ ูู 100 ุฃูู ุทูุจ ูู ุงูุซุงููุฉ ูู ุงูุฅุฏุฎุงูุงุช ุงููุฑุฏูุฉ ูู ุฎูุงู ุงููููุงุก ุงูุนูุณููู.  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ููููู ุฅุฏุฑุงุฌ ุณุทุฑ ูุงุญุฏ ูู ุงููููู ุงูุนูุณู kittenhouse ุ ููููุง ุจุงูุชุฃููุฏ ูุง ููุนู ุฐูู. <br><br><img src="https://habrastorage.org/webt/dv/u5/w8/dvu5w8totg6sa3wexahrky4xcsu.jpeg"><br><br>  ุจุฏุฃ ุงููุฎุทุท ุนูู ุงููุญู ุงูุชุงูู: Kittenhouse ุ ููู ูููู ุนูุณู ูููู ุจุชุฌููุน ุงูุนุฏูุฏ ูู ุงูุทูุจุงุช ูู ุงูุฌุฏุงูู ุ ูุจุงูุชุงูู ุชููู ุงูุฌุฏุงูู ุงููุคูุชุฉ ุจุฅุฏุฑุงุฌูุง ูู ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุงุชู - ุญู ูุคูุช ุ ูุฑูุฑุฉ - ุฏุงุฆู </h3><br>  ูุงูุช ููุงู ูุดููุฉ ูุซูุฑุฉ ููุงูุชูุงู ... ูู ุงุณุชุฎุฏู ุฃุญุฏูู fasthttpุ  ุงูุฐูู ุงุณุชุฎุฏููุง fasthttp ูุน ุทูุจุงุช POSTุ  ุฑุจูุง ุ ูู ููู ุงูุฃูุฑ ูุณุชุญู ุฐูู ูู ุงููุงูุน ุ ูุฃูู ูููู ุจุชุฎุฒูู ูุต ุงูุทูุจ ุจุดูู ุงูุชุฑุงุถู ุ ููููุง ุจุชุนููู ุญุฌู ุงููุฎุฒู ุงููุคูุช ุงูุจุงูุบ 16 ููุบุงุจุงูุช.  ุชููู ุงูุฅุฏุฎุงู ูู ุงูููุช ุงูููุงุณุจ ูู ูุฑุญูุฉ ูุง ุ ููู ุจูู ุนุดุฑุงุช ุงูุขูุงู ูู ุงูุฎูุงุฏู ุ ุจุฏุฃุช ูุฌููุนุงุช ุจุญุฌู 16 ููุฌุงุจุงูุช ูู ุงูุธููุฑ ุ ูุชู ุชุฎุฒูููุง ุฌููุนูุง ูู ุงูุฐุงูุฑุฉ ูุจู ุชุณููููุง ุฅูู Clickhouse.  ุชุจุนุง ูุฐูู ุ ููุฏุช ุงูุฐุงูุฑุฉ ุ ูุฌุงุก ูุงุชู Out-Of-Memory ุ ููุชู ุงููููู ุงูุนูุณู (ุฃู "Clickhouse" ุ ูุงูุฐู ูููู ูุธุฑูุง "ุฃู ูุฃูู" ุฃูุซุฑ ูู ุงููููู ุงูุนูุณู).  ุชูุฑุฑุช ุงูุฏูุฑุฉ.  ููุณุช ูุดููุฉ ุฌูููุฉ ุฌุฏุง  ุนูู ุงูุฑุบู ูู ุฃููุง ูุงุฌููุง ูุฐุง ุฅูุง ุจุนุฏ ุจุถุนุฉ ุฃุดูุฑ ูู ุงูุนูููุฉ. <br><br>  ูุงุฐุง ูุนูุชุ  ูุฑุฉ ุฃุฎุฑู ุ ูุง ุฃุญุจ ุญููุง ููู ูุง ุญุฏุซ ุจุงูุถุจุท.  ูุจุฏู ูู ูุงุถุญูุง ุฌุฏูุง ุฃูู ูุง ุชูุฌุฏ ุญุงุฌุฉ ููุชุฎุฒูู ุงููุคูุช ูู ุงูุฐุงูุฑุฉ.  ูู ุฃุณุชุทุน ุชุตุญูุญ fasthttp ุ ุนูู ุงูุฑุบู ูู ุฃููู ุญุงููุช.  ููููู ูุฌุฏุช ุทุฑููุฉ ูุฌุนููุง ูุง ุชุญุชุงุฌ ุฅูู ุชุตุญูุญ ุฃู ุดูุก ุ ูุชูุตูุช ุฅูู ุทุฑููุฉ ุฎุงุตุฉ ุจู ูู HTTP - ูุงูุชู ูุทูู ุนูููุง KITTEN.  ุญุณููุง ุ ูุฐุง ููุทูู - "VK" ุ "Kitten" ... ููู ุบูุฑ ุฐููุ .. <br><br><img src="https://habrastorage.org/webt/o9/r5/cu/o9r5cugeck0dm4gc_macqqzymgg.jpeg"><br><br>  ุฅุฐุง ูุตู ุทูุจ ุฅูู ุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ Kitten ุ ููุฌุจ ุฃู ูุฌูุจ ุงูุฎุงุฏู ุนูู "ููุงุก" - ุจุดูู ููุทูู.  ุฅุฐุง ุฃุฌุงุจ ุนูู ูุฐุง ุ ูููุนุชูุฏ ุฃูู ูููู ูุฐุง ุงูุจุฑูุชูููู ุ ุซู ุงุนุชุฑุถ ุงูุงุชุตุงู (ุชูุฌุฏ ูุซู ูุฐู ุงูุทุฑููุฉ ูู fasthttp) ุ ูููุชูู ุงูุงุชุตุงู ุฅูู ุงููุถุน "ุงูุฎุงู".  ููุงุฐุง ุฃุญุชุงุฌ ูุฐุงุ  ุฃุฑูุฏ ุงูุชุญูู ูู ููููุฉ ุญุฏูุซ ุงููุฑุงุกุฉ ูู ุงุชุตุงูุงุช TCP.  ูุชูุชุน TCP ุจุฎุงุตูุฉ ุฑุงุฆุนุฉ: ุฅุฐุง ูู ููุฑุฃ ุฃุญุฏ ูู ูุฐุง ุงูุฌุงูุจ ุ ูุณูุจุฏุฃ ุงูุณุฌู ูู ุงูุงูุชุธุงุฑ ุ ููุง ุชููู ุงูุฐุงูุฑุฉ ุจุดูู ุฎุงุต ุนูู ูุฐุง. <br><br>  ูููุฐุง ูุฑุฃุช ูู ููุงู ูุง ูู 50 ุนููููุง ูู ููุช ูุงุญุฏ (ูู ุฎูุณูู ูุฃูู ูู ุงููุคูุฏ ุฃู ูููู ุงูุฎูุณูู ูุงูููุง ุ ุญุชู ูู ูุงู ูุตุฏุฑู ุชูุงุฑ ูุณุชูุฑ ุขุฎุฑ) ... ุงูุฎูุถ ุงูุงุณุชููุงู ูุน ูุฐุง ุงูููุฌ 20 ูุฑุฉ ุนูู ุงูุฃูู ุ ููููู ุจุตุฑุงุญุฉ ุ ูู ุฃุณุชุทุน ููุงุณ ููุฏุงุฑ ุฐูู ุจุงูุถุจุท ุ ูุฃูู ูุง ูุนูู ูู ุจุงููุนู (ููุฏ ุฃุตุจุญ ุจุงููุนู ุนูู ูุณุชูู ุงูุฎุทุฃ).  ุงูุจุฑูุชูููู ุซูุงุฆู ุ ุฃู ุฃู ููุงู ุงุณู ุฌุฏูู ูุจูุงูุงุช ุ  ูุง ุชูุฌุฏ ุฑุคูุณ http ุ ูุฐูู ูู ุฃุณุชุฎุฏู ููุจุณ ููุจ (ูุณุช ุจุญุงุฌุฉ ููุชูุงุตู ูุน ุงููุชุตูุญุงุช - ููุฏ ุตูุนุช ุจุฑูุชูููููุง ููุงุณุจ ุงุญุชูุงุฌุงุชูุง).  ููุนู ูุงู ูู ุดูุก ุนูู ูุง ูุฑุงู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฌุฏูู ุงูุนุงุฒูุฉ ุฃูุฑ ูุญุฒู </h3><br>  ูู ุงูุขููุฉ ุงูุฃุฎูุฑุฉ ุ ูุงุฌููุง ููุฒุฉ ุฃุฎุฑู ูุซูุฑุฉ ููุงูุชูุงู ูู ุงูุฌุฏุงูู ุงูุนุงุฒูุฉ.  ููุฐู ุงููุดููุฉ ูู ุจุงููุนู ุฃูุซุฑ ุฅููุงูุง ุจูุซูุฑ ูู ุจููุฉ.    :      ยซยป,     ยซยป,      ,     (,  60 );       Alter   โฆ   ยซยป,    ยซยป,     , ยซยป   โ , -  ,   ยซยป   .     ?  ? <br><br><img src="https://habrastorage.org/webt/8w/zp/su/8wzpsufzkqmzafrt9vom83joq2i.jpeg"><br><br>  , ,          ,       .  , , ,   ยซยป  (      โ   ,   , ), โฆ     ,    ยซยป ( -  ยซยป ) โ  ,  -   :      (   ,     ),  ยซยป , - ,         .    ,    ยซยป,          โ   . <br><br><img src="https://habrastorage.org/webt/po/om/z0/poomz0as89k3aqxh3pa9xpvrr-4.jpeg"><br><br>     (,   ) โ     ยซยป query_thread_log.  ,  -   .    840      (100 ).    ,    (, , ,   ) ยซยป (inserts).    ,   ยซยป  โ     ยซยป    . ,    โ     ,       .  ููุงุฐุงุ      ,    !   . <br><br><img src="https://habrastorage.org/webt/vg/gm/fl/vggmfl00f3pku7iix3k7dfj_-am.jpeg"><br><br>   ,     ?    ยซยป.  . <br><br><h3 style=";text-align:right;direction:rtl">   ยซKitttenHouseยป </h3><br>    , ?               .   !    :  ,   ,  -      .          ,       . <br><br><img src="https://habrastorage.org/webt/pd/e0/rd/pde0rdcd8h4mquk684qhfkvmpvq.jpeg"><br><br> ,   ยซยป,      โ       ,      (, - )     ,   ,  โ . <br><br><img src="https://habrastorage.org/webt/k_/f3/ev/k_f3ev78dpgabrqjogevuzmykvw.jpeg"><br><br>     ?    .   , ,    10  ,    โ         -,      ,  .  ,    , ,    ,        โ ,     ยซยป,    100         - โ        ,   ,          ,     .          ,   .     ,    . <br><br>  ,       ,    .    :    ,    - ,  , ,    read only    .   ?   .         โ  -  , -      โฆ (   , ยซยป,  ClickHouse)  ? ?   ,    .       .   :      ,        .        ,      .  . <br><br><h3 style=";text-align:right;direction:rtl">    </h3><br>      .      .  ,   -   ?..    ยซยป? -    โฆ     ยซยป?  ,   ,        .     ,        .    ,  . <br><br><img src="https://habrastorage.org/webt/qy/ko/ud/qykoudjbl76cbexrko1zcmr_wmy.jpeg"><br><br>    โ     .     ,   .    ,   : ,     ,     (   ),      โ ,   . <br><br><img src="https://habrastorage.org/webt/gp/xa/1f/gpxa1fqutqdl4zr_ngqko2yjpom.jpeg"><br><br>       Sequel Pro,      ยซยป,   .  : ยซ,     -?ยป  ? 2018-?  ,       ยซยป (MySQL)        ,      ยซยป,    !       ยซยป,     โ  ,  . <br><br><img src="https://habrastorage.org/webt/bj/ei/vf/bjeivfj1rem72hvgi50jemwlwkc.jpeg"><br><br> ,    ,   ,  ,  ,   ,  ,    , affected rows (  ),       .  . <br><br><img src="https://habrastorage.org/webt/gu/qb/d7/guqbd74jb1bppis3vv_nbokkiaq.jpeg"><br><br>   .        ยซยป,   .  - -  .     . <br><br><h3 style=";text-align:right;direction:rtl"> ยซยป    </h3><br>    ,  ยซยป,     ,     . ,  ,    โ         .          ,      โฆ ,    ,     . <br><br><img src="https://habrastorage.org/webt/ty/tn/97/tytn97odgbvky_khyj7abanlhqg.jpeg"><br><br> TCP? ,  ยซยป   UDP.     TCPโฆ , ,   : ยซ,   ! ,  UDPยป. ,  TCP     . ,       ,     โ  -   ;  ,   . <br><br> ยซยป  ยซยป     HighLoad Siberia,       ยซ ยปโฆ  ,   โฆ    , ,       .  -  , -   ,    โ ,  (     ,   , ).   <a href="https://vk.com/vkbackend">   </a> .  ! Github  <a href="https://github.com/VKCOM/"> </a> .  ยซยป      . <br><br><img src="https://habrastorage.org/webt/ai/nd/eu/aindeupigrlmumartzyvealbyj4.jpeg"><br><br> <b>:</b> โ ,   .   ,          VHS. <br><br> <b>  ( โ ):</b> โ         VHS,     ? <br><br><img src="https://habrastorage.org/webt/w0/b6/zx/w0b6zxe9lcu_9gtaoimopvg8eyy.jpeg"><br><br> <b>:</b> โ        ,  ยซยป โ    ! , 5   ! <br><br><h3 style=";text-align:right;direction:rtl">  </h3><br>  <b>ุณุคุงู ูู ุงูุฌูููุฑ (ูู ุงูุขู ูุตุงุนุฏุง - ุญ):</b> - ูุณุงุก ุงูุฎูุฑ.  ุดูุฑุง ุฌุฒููุง ุนูู ุงูุชูุฑูุฑ  ูุฏู ุณุคุงูุงู.  ุณุฃุจุฏุฃ ุจุญุฑู ุชุงูู: ูู ูุคุซุฑ ุนุฏุฏ ุงูุฃุญุฑู t ุจุงุณู "Kittenhouse" ุนูู ุงููุฎุทุทุงุช (3 ุ 4 ุ 7 ...) ุนูู ุฑุถุง ุงููุทุทุ <br><br>  <b>UN:</b> - ูููุฉ ูุงุฐุงุ <br><br>  <b>Z:</b> - ุงูุญุฑูู ุฑ.  ููุงู ุซูุงุซุฉ ุฑ ุ ูู ููุงู ูุง ุซูุงุซุฉ ุฑ. <br><br>  <b>UN:</b> - ูู ููุช ุจุงููุนู ุจุชุตุญูุญ ูุฐุงุ  ุญุณูุง ุจุงูุทุจุน ููุนู!  ูุฐู ููุชุฌุงุช ูุฎุชููุฉ - ููุฏ ูุฐุจุช ุนููู ุทูุงู ูุฐุง ุงูููุช.  ุญุณููุง ุ ุฃูุง ุฃูุฒุญ - ุฅูู ููุณ ูุฐูู.  ุงู ุ ููุง!  ูุง ุ ูุฐุง ูู ููุณ ุงูุดูุก ุ ููุฏ ุฃุบููุช. <br><br><img src="https://habrastorage.org/webt/fm/4c/ju/fm4cju6vnwwqvpm2o0exqllhsra.jpeg"><br><br>  <b>Z:</b> - ุดูุฑุง ูู.  ุงูุณุคุงู ุงูุซุงูู ุฎุทูุฑ.  ุจูุฏุฑ ูุง ุฃููู ุ ูู "Clickhouse" ุ ุชุนูุด ุงูุฌุฏุงูู ุงูุนุงุฒูุฉ ุจุดูู ุญุตุฑู ูู ุงูุฐุงูุฑุฉ ุ ููุง ูุชู ุชุฎุฒูููุง ูุคูุชูุง ุนูู ุงููุฑุต ุ ูุจุงูุชุงูู ููู ููุณุช ุซุงุจุชุฉ. <br><br>  <b>ุงูุฃูู ุงููุชุญุฏุฉ:</b> - ูุนู. <br><br>  <b>Z:</b> - ููู ุงูููุช ููุณู ุ ูุชู ุชูููุฐ ุงูุชุฎุฒูู ุงููุคูุช ุนูู ุงููุฑุต ุงูุฎุงุต ุจู ุนูู ุงูุนููู ุ ููุง ูุนูู ุจุนุถ ุงูุถูุงู ูุชุณููู ูุฐู ุงูุณุฌูุงุช ููุณูุง.  ููู ูู Clickhouse ุ ูุฐุง ุบูุฑ ูุถููู.  ุงุดุฑุญ ููู ูุชู ุชูููุฐ ุงูุถูุงู ุ ุจุณุจุจ ูุงุฐุงุ .. ูุฐู ุงูุขููุฉ ุฃูุซุฑ ุชูุตููุงู <br><br>  <b>ุงูุฃูู ุงููุชุญุฏุฉ:</b> - ูุนู ุ ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ูุง ุชูุฌุฏ ุชูุงูุถุงุช ุ ูุฃูู ููููู ุงูุชุดุงู ููููู ุทุฑููุฉ ูุฎุชููุฉ ูู ุงููุงูุน ุนูุฏ ุณููุท "Clickhouse".  ุฅุฐุง ุชุนุทู "Clickhouse" (ุฅุฐุง ูู ููุชูู ุจุดูู ุตุญูุญ) ุ ูููููู ุ ุชูุฑูุจูุง ุ ุฅุฑุฌุงุน ุณุฌูู ุงูุฐู ูุชุจุชู ููููุงู ูุงูุจุฏุก ูู ุงููุญุธุฉ ุงูุชู ูููู ูููุง ูู ุดูุก ุนูู ูุง ูุฑุงู.  ุฏุนูุง ูุฑุฌุนูุง ูุจู ุฏูููุฉ ุ ุฃู ุ ูุนุชูุฏ ุฃููุง ุชููุถ ูู ุดูุก ูู ุฏูููุฉ ูุงุญุฏุฉ. <br><br>  <b>Z:</b> - ููุฐุง ูู ุ Kittenhouse ูุญุชูุธ ุงููุงูุฐุฉ ููุชุฑุฉ ุฃุทูู ููู ุญุงูุฉ ุณููุท ูููู ุงูุชุนุฑู ุนูููุง ูุงูุงุณุชุฑุฎุงุกุ <br><br>  <b>ุงูุฃูู ุงููุชุญุฏุฉ:</b> - ูููู ูุฐุง ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ.  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูุญู ูุง ููุนู ุฐูู ุ ูุงูุชุณููู ุงูููุซูู ุจู ูู ุงูุตูุฑ ุฅูู ุงูุฃููุงุช ุงููุงููุงูุฉ.  ูููู ูู ุงููุชูุณุท โโูุงุญุฏ.  ูุญู ููุชูุนูู ุจุฃูู ูู ุญุงูุฉ ุชุนุทู "Clickhouse" ูุณุจุจ ูุง ุฃู "ุฅุนุงุฏุฉ ุชุดุบูู" ุงูุฎูุงุฏู ุ ูุฅููุง ูููุฏ ููููุงู.  ูู ุฌููุน ุงูุญุงูุงุช ุงูุฃุฎุฑู ุ ูู ูุญุฏุซ ุดูุก. <br><br>  <b>Z:</b> - ูุฑุญุจุง.  ููุฐ ุงูุจุฏุงูุฉ ุ ุจุฏุง ูู ุฃูู ุณุชุณุชุฎุฏู UDP ุจุงููุนู ูู ุจุฏุงูุฉ ุงูุชูุฑูุฑ.  ูุฏูู http ุ ูู ุฐูู ... ููุนุธู ุงููุดุงูู ุงูุชู ูุตูุชูุง ุ ููุง ุฃููููุง ุ ุณุจุจูุง ูุฐุง ุงูุญู ุงููุญุฏุฏ ... <br><br>  <b>UN:</b> - ูุงุฐุง ูุณุชุฎุฏู TCPุ <br><br>  <b>Z:</b> - ูู ุงููุงูุน ุ ูุนู. <br><br>  <b>ุงูุงูู ุงููุชุญุฏุฉ:</b> - ุฑูู <br><br>  <b>Z:</b> - ูุงู ูุน fasthttp ุฃู ูุฏูู ูุดุงูู ุ ูุน ุงูุงุชุตุงู ูุงู ูุฏูู ูุดุงูู.  ุฅุฐุง ููุช ุชุณุชุฎุฏู UDP ููุชู ุ ูุณุชููุฑ ุนููู ุงูููุช.  ุญุณููุง ุ ุณุชููู ููุงู ูุดุงูู ูู ุงูุฑุณุงุฆู ุงูุทูููุฉ ุฃู ุฃู ุดูุก ุขุฎุฑ ... <br><br>  <b>ุงูุฃูู ุงููุชุญุฏุฉ:</b> - ูุน ูุงุฐุงุ <br><br><img src="https://habrastorage.org/webt/zl/pe/qj/zlpeqjirfmjnmnfkz-tmzmpnbia.jpeg"><br><br>  <b>Z:</b> - ูุน ุงูุฑุณุงุฆู ุงูุทูููุฉ ุ ูุฃููุง ูุฏ ูุง ุชูุณุฌู ูุน MTU ุ ุดูุก ุขุฎุฑ ... ุญุณููุง ุ ูุฏ ุชูุดุฃ ูุดุงููู.  ูุงูุณุคุงู ูู: ููุงุฐุง ููุณ UDPุ <br><br>  <b>UN:</b> - ุฃุนุชูุฏ ุฃู ุงููุคูููู ุงูุฐูู ุทูุฑูุง TCP / IP ุฃูุซุฑ ุฐูุงุกู ููู ููุนุฑููู ููููุฉ ุฅุฌุฑุงุก ุชุณูุณู ููุฑุฒู ุจุดูู ุฃูุถู (ุญุชู ูุฐูุจูู) ุ ููู ููุณ ุงูููุช ุถุจุท ูุงูุฐุฉ ุงูุฅุฑุณุงู ุ ูุนุฏู ุฒูุงุฏุฉ ุงูุชุญููู ุนูู ุงูุดุจูุฉ ุ ูุชูุฏูู ููุงุญุธุงุช ุญูู ูุง ููุฑุฃ ุ ูููุณ ุงูุนุฏ ูู ุงูุฌุงูุจ ุงูุขุฎุฑ ... ูู ูุฐู ุงููุดุงูู ุ ูู ุฑุฃูู ุ ุณุชููู ุฃูุถุง ูู UDP ุ ููุท ุณุฃุถุทุฑ ุฅูู ูุชุงุจุฉ ููุฏ ุฃูุซุฑ ููุง ูุชุจุช ุจุงููุนู ูู ุฃุฌู ุชูููุฐ ููุณ ุงูุดูุก ุจููุณู ูุนูู ุงูุฃุฑุฌุญ ุณูููู ุณูุฆูุง.  ุฃูุง ูุง ุฃุญุจ ุงููุชุงุจุฉ ูู C ุ ูููุณ ูุซู ููุงู ... <br><br>  <b>Z:</b> - ูุฑูุญุฉ ููุท!  ุฃุฑุณูุช ุญุณูุง ููุง ุชุชููุน ุฃู ุดูุก - ูุฏูู ุจุดูู ุบูุฑ ูุชุฒุงูู ุชูุงูุง.  ุนุงุฏ ุฅุดุนุงุฑ ุจุฃู ูู ุดูุก ุนูู ูุง ูุฑุงู - ููุฐุง ูุนูู ุฃูู ูุฏ ุญุงู ุ  ูู ูุฃุช - ููุฐุง ูุนูู ุณูุฆุฉ. <br><br>  <b>UN:</b> - ุฃุญุชุงุฌ ุฅูู ูู ูู ูุฐุง ูุงูุขุฎุฑ - ุฃุญุชุงุฌ ุฅูู ุฃู ุฃููู ูุงุฏุฑูุง ุนูู ุฅุฑุณุงู ูููููุง ูุน ุถูุงู ุงูุชุณููู ุ ูุฏูู ุถูุงู ุงูุชุณููู.  ูุฐุงู ุณููุงุฑูููุงู ูุฎุชููุงู.  ุจุนุถ ุงูุณุฌูุงุช ุงูุชู ูุง ุฃุญุชุงุฌ ุฅูู ููุฏุงููุง ุฃู ุนุฏู ููุฏูุง ูู ุญุฏูุฏ ุงููุนููู. <br><br>  <b>Z:</b> - ูู ุขุฎุฐ ุงูููุช.  ูุฐุง ูุฌุจ ุฃู ููุงูุด ููุชุฑุฉ ุฃุทูู.  ุดูุฑุง ูู <br><br>  <b>ุงููุฐูุน:</b> - ูู ูุฏูู ุฃุณุฆูุฉ - ุฃููุงู ูู ุงูุณูุงุก! <br><br><img src="https://habrastorage.org/webt/ip/mz/l7/ipmzl72i77pluuukxeyuxpqeob0.jpeg"><br><br>  <b>Z:</b> - ูุฑุญุจุง ุ ุฃูุง ุณุงุดุง.  ูู ููุงู ูุง ูู ููุชุตู ุงูุชูุฑูุฑ ุ ูุงู ููุงู ุดุนูุฑ ุจุฃูู ูู ุงููููู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุจุฑูุงูุฌ ุงูุชุนุงูู ุงูููู ุ ุงุณุชุฎุฏุงู ุญู ุฌุงูุฒ - ููุน ูู "ูุงููุง". <br><br>  <b>ุงูุฃูู ุงููุชุญุฏุฉ:</b> "ุญุณููุง ... ุฃุฎุจุฑุชู ุฃููู ูุง ุฃุฑูุฏ ุงุณุชุฎุฏุงู ุฎูุงุฏู ูุณูุทุฉ ุ ูุฃู ... ุฅูู ูุงููุง - ุงุชุถุญ ุฃู ูุฏููุง ุนุดุฑุฉ ุขูุงู ูุถูู ุ  ูู ุงููุงูุน ุ ูุฏููุง ุฃูุซุฑ - ุนุดุฑุงุช ุงูุขูุงู ูู ุงููุถูููู.  ูุน Kafka ุ ุฏูู ุฃู ูููุงุก ุ ูููู ุฃู ูุถุฑ ุฃูุถูุง.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุงูุฃูู ูู ุฐูู ุ ุฃูู ูุง ูุฒุงู ูุนุทู "ุงููููู" ุ ููุนุทู ุงููุถูููู ุงูุฅุถุงููุฉ ุงูุชู ุชุญุชุงุฌ ุฅูููุง.  ูุฃูุง ูุง ุฃุฑูุฏ ุฃู ูููู ููู - ุฃุฑูุฏ ... <br><br>  <b>Z:</b> - ูููู ูู ุงูููุงูุฉ ุงุชุถุญ ุนูู ุฃู ุญุงู. <br><br>  <b>ุงูุฃูู ุงููุชุญุฏุฉ:</b> - ูุง ุ ูุง ููุฌุฏ ูุถูููู!  ูู ุดูุก ูุนูู ุนูู ุงููุถูููู Clickhouse. <br><br>  <b>Z:</b> - ูููู ูุงุฐุง ุนู Kittenhouse ุ ุงูุนูุณ ูู - ุฃูู ูุนูุดุ <br><br><img src="https://habrastorage.org/webt/bn/ew/lk/bnewlk0ozew0rhhlgtdwhkhjfcu.jpeg"><br><br>  <b>UN:</b> - ูู ูุถูู Klickhouse ุ ูุง ููุชุจ ุฃู ุดูุก ุนูู ุงููุฑุต. <br><br>  <b>Z:</b> - ุญุณูุง ุ ุฏุนูุง ูููู. <br><br>  <b>ุงููุฐูุน:</b> - ูุฑุถููุ  ูู ูููููุง ุฅุนุทุงุก ุฑุงุชุจุ <br><br>  <b>Z:</b> - ูุนู ุ ูุนู.  ูู ุงููุงูุน ุ ููุงู ุงููุซูุฑ ูู ุงูุนูุงุฒุงุช ูู ุฃุฌู ุงูุญุตูู ุนูู ููุณ ุงูุดูุก ุ ูุงูุขู - ุงูุฌูุงุจ ุงูุณุงุจู ุนูู ููุถูุน ููุงูุถ TCP ุ ูู ุฑุฃูู ุ ูุฐุง ุงููููู.  ูุจุฏู ุฃูู ุชุณุชุทูุน ุฃู ุชูุนู ูู ุดูุก ุนูู ุฑูุจุชู ูู ููุช ุฃูู ุจูุซูุฑ. <br><br>  <b>ุงูุฃูู ุงููุชุญุฏุฉ:</b> - ูููุงุฐุง ูุง ุฃุฑุบุจ ูู ุงุณุชุฎุฏุงู "ูุงููุง" ุ ูุฃูู ูุงู ููุงู ุงููุซูุฑ ูู ุงูุดูุงูู ูู ุจุฑููุฉ "Clickhouse" ูู Telegram ูุงูุชู ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุฏุช ุฑุณุงุฆู ูู "Kafka".  ููุณ ูู ูุงููุง ููุณูุง ุ ูููู ูู ุฏูุฌ ูุงููุง ููููููุงูุณ ุ  ุฃู ุดูุก ูู ูุชุตู ููุงู.  ุจูุนูู ุชูุฑูุจู ุ ุณูููู ูู ุงูุถุฑูุฑู ุฅุฐู ุฃู ููุชุจ ุงูุนููู ููุงููุง ูู ุฐูู ุงูููุช.  ูุง ุฃุนุชูุฏ ุฃูู ุณูุชู ุงูุญุตูู ุนูู ุญู ุฃุจุณุท ูุฃูุซุฑ ููุซูููุฉ. <br><br>  <b>Z:</b> - ุฃุฎุจุฑูู ุ ููุงุฐุง ูู ุชุฌุฑุจ ุจุนุถ ุงูุฎุทูุท ุฃู ุจุนุถ ุงูุญุงููุงุช ุงููุดุชุฑูุฉุ  ูุธุฑูุง ูุฃูู ุชููู ุฃูู ูุงู ูู ุงููููู ูุนู ุจุดูู ุบูุฑ ูุชุฒุงูู ุฃู ุชููุฏ ุนุจุฑ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุณุฌูุงุช ููุณูุง ูุฃูุถูุง ุฃู ุชุญุตู ุจุดูู ุบูุฑ ูุชุฒุงูู ูู ุฎูุงู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงุณุชุฌุงุจุฉุ <br><br><img src="https://habrastorage.org/webt/pn/4q/sz/pn4qszihp9ejs5aoua8swthjrqk.jpeg"><br><br>  <b>UN:</b> - ูุฑุฌู ุงูุชุฑุงุญ ุฃู ููุงุฆู ุงูุงูุชุธุงุฑ ูููู ุงุณุชุฎุฏุงููุงุ <br><br>  <b>Z:</b> - ุฃู ุ ุญุชู ุฏูู ุถูุงู ุฃููู ูุณูุฑูู ูู ุงููุธุงู.  ุฃู Redis ุ RMQ ... <br><br>  <b>UN:</b> - ูุฏู ุดุนูุฑ ุจุฃู Redis ุนูู ุงูุฃุฑุฌุญ ูู ูุชููู ูู ุณุญุจ ูุญุฏุฉ ุชุฎุฒูู ุงูุฅุฏุฎุงู ูุฐู ุญุชู ุนูู ูุถูู ูุงุญุฏ (ุจูุนูู ุงูุนุฏูุฏ ูู ุงูุฎูุงุฏู) ุงูุชู ุชุณุญุจ Clickhouse.  ูุง ูููููู ุชุฃููุฏ ุฐูู ุจุฃู ุฏููู (ูู ุฃูู ุจุชููููู) ุ ููู ูุจุฏู ูู ุฃู Redis ููุณ ูู ุงูุญู ุงูุฃูุถู ููุง.  ูู ุญูุซ ุงููุจุฏุฃ ุ ููููู ุงุนุชุจุงุฑ ูุฐุง ุงููุธุงู ุจูุซุงุจุฉ ูุงุฆูุฉ ุงูุชุธุงุฑ ุฑุณุงุฆู ูุฑุชุฌูุฉ ุ ูููู ูุฐุง ูุฎุตุต ููุท ูู "Clickhouse" <br><br>  <b>ุงููุฐูุน:</b> - ููุฑู ุ ุดูุฑุง ุฌุฒููุง ูู.  ุฃูุชุฑุญ ุฅููุงุก ุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ ุญูู ูุฐุง ุงูููุถูุน ูุฃููู ุฃู ูู ุงูุฃุดุฎุงุต ุงูุฐูู ุทุฑุญูุง ุงูุณุคุงู ุณูู ููุฏู ููุง ูุชุงุจูุง. <br><br>  <b>ุงูุฃูู ุงููุชุญุฏุฉ:</b> - ุฃูุฏ ุฃู ุฃูุฏู ูุชุงุจูุง ูุฃูู ุดุฎุต ุทุฑุญ ุณุคุงููุง. <br><br>  <b>ุงููุฐูุน:</b> - ุนุธูู!  ! ููุชุงุฒ  ุนุธูู!  ุดูุฑุง ุฌุฒููุง <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/pbbcMcrQoXw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3 style=";text-align:right;direction:rtl">  ููููุง ูู ุงูุฅุนูุงู :) </h3><br>  ุดูุฑุง ูู ุนูู ุงูุจูุงุก ูุนูุง.  ูู ุชุญุจ ููุงูุงุชูุงุ  ุชุฑูุฏ ุฃู ุชุฑู ุงููุฒูุฏ ูู ุงูููุงุฏ ุงููุซูุฑุฉ ููุงูุชูุงูุ  ุงุฏุนููุง ุนู ุทุฑูู ุชูุฏูู ุทูุจ ุฃู ุงูุชูุตูุฉ ูุฃุตุฏูุงุฆู <a href="https://ua-hosting.company/cloudvps/nl">VPS ุงููุณุชูุฏุฉ ุฅูู ูุฌููุนุฉ ุงููุธุฑุงุก ูููุทูุฑูู ูู 4.99 ุฏููุงุฑ</a> ุ ููู <b>ุชูุซููู ูุฑูุฏ ูู ุงูุฎูุงุฏู ุนูู ูุณุชูู ุงูุฏุฎูู ุงูุชู ุงุฎุชุฑุนูุงูุง ูู:</b> <a href="https://habr.com/company/ua-hosting/blog/347386/">ุงูุญูููุฉ ุงููุงููุฉ ุญูู VPS (KVM) E5-2697 v3 (6 Cores) 10GB DDR4 480GB SSD 1Gbps ูู 19 $ ุฃู ููููุฉ ุชูุณูู ุงูุฎุงุฏูุ</a>  (ุชุชููุฑ ุฎูุงุฑุงุช ูุน RAID1 ู RAID10 ุ ูุง ูุตู ุฅูู 24 ูุฑูุฒูุง ููุง ูุตู ุฅูู 40 ุฌูุฌุงุจุงูุช ูู ุฐุงูุฑุฉ DDR4). <br><br>  <b>Dell R730xd ุฃุฑุฎุต ูุฑุชูู ูู ูุฑูุฒ ุจูุงูุงุช Equinix Tier IV ูู ุฃูุณุชุฑุฏุงูุ</b>  ููุท ูุฏููุง <b><a href="https://ua-hosting.company/serversnl">2 ูู Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6 ุฌูุฌุง ูุฑุชุฒ 14 ุฌูุฌุง ุจุงูุช 64 ุฌูุฌุง ุจุงูุช DDR4 4 ร 960 ุฌูุฌุง ุจุงูุช SSD 1 ุฌูุฌุงุจุช ูู ุงูุซุงููุฉ 100 TV ูู 199 ุฏููุงุฑ</a> ูู ููููุฏุง!</b>  <b><b>Dell R420 - 2x E5-2430 ุณุนุฉ 2 ุฌูุฌุง ูุฑุชุฒ 6 ุฌูุฌุง ุจุงูุช 128 ุฌูุฌุง ุจุงูุช ุฐุงูุฑุฉ DDR3 2x960GB SSD ุจุณุฑุนุฉ 1 ุฌูุฌุงุจุช ูู ุงูุซุงููุฉ 100 ุชูุฑุงุจุงูุช - ูู 99 ุฏููุงุฑูุง!</b></b>  ุงูุฑุฃ ุนู <a href="https://habr.com/company/ua-hosting/blog/329618/">ููููุฉ ุจูุงุก ุงูุจููุฉ ุงูุชุญุชูุฉ</a>  <a href="https://habr.com/company/ua-hosting/blog/329618/">ูุฆุฉ ุจุงุณุชุฎุฏุงู ุฎูุงุฏู V4 R730xd E5-2650d ุชููู 9000 ููุฑู ุนู ุจูุณ ูุงุญุฏุ</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar483712/">https://habr.com/ru/post/ar483712/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar483698/index.html">ููู ูุณุงุนุฏ LoRaWAN ูู ุจูุงุก ุฅูุชุฑูุช ุนุตุฑู ููุฃุดูุงุก</a></li>
<li><a href="../ar483700/index.html">ุงููุชุงุฆุฌ ุงููุงุฏูุฉ ููุนุงู - 2019</a></li>
<li><a href="../ar483704/index.html">ุงูุฃุญุฏุงุซ ุงูุฑูููุฉ ูู ููุณูู ูู ุงููุชุฑุฉ ูู 13 ุฅูู 19 ููุงูุฑ</a></li>
<li><a href="../ar483706/index.html">ุฃููุงุฑ ุงูุชุทุจูู ูุชูููุฏ ุฅูุฑุงุฏุงุช ููุดุฑูุงุช ุงููุงุดุฆุฉ ูู ุนุงู 2019 ููุง ุจุนุฏู</a></li>
<li><a href="../ar483708/index.html">ุชุฃุซูุฑ ุฏูุจูุฑ ุ ุฃู ูุณุฃูุฉ ุฏูุฉ ุชุญุฏูุฏ ุงูุณุฑุนุฉ ุจูุงุณุทุฉ ุฑุงุฏุงุฑุงุช ุดุฑุทุฉ ุงููุฑูุฑ</a></li>
<li><a href="../ar483714/index.html">ุฌูุงุฆุฒ ููุณุงุจูุงุช ููุดุงุฑูุน ูุจุชูุฑุฉ. ุฎุจุฑุฉ ุจุงุฆุนู ุงูุนุงูู</a></li>
<li><a href="../ar483716/index.html">ุงุณุชุฎุฏุงู ูุงุณุญ ุนุฏู ุงูุญุตุงูุฉ ูู ููุชุจุงุช ุงูุชุญูู ูู ุงูุชุจุนูุฉ ุงููุณุชุฎุฏูุฉ ูู GitlabCI</a></li>
<li><a href="../ar483718/index.html">ููู ุชุญูู VDI ุจูุฆุฉ ุงูููุชุจ</a></li>
<li><a href="../ar483720/index.html">ูุง ุฌูุจ ููุง ุงูุจุงูุฏุง 1.0</a></li>
<li><a href="../ar483722/index.html">ุชุญูููุงุช ุฌุบุฑุงููุฉ ูู ุงูุจูุน ุจุงูุชุฌุฒุฆุฉ ุ ุงูุฌุฒุก 1: ูุญู ูููู ุชููุงุฆููุง ุจุนูููุฉ ุงุฎุชูุงุฑ ููุงู ููุนูู ุงูุชุฌุงุฑู. 2GIS + MS Azure + ML</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>