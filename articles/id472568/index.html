<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‡ğŸ» ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ ğŸ™‹ Apache Ignite Zero Deployment: tepatnya Zero? ğŸš“ ğŸ§”ğŸ» ğŸ¤±ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kami adalah departemen pengembangan teknologi ritel. Suatu ketika, manajemen mengatur tugas mempercepat perhitungan volumetrik dengan menggunakan Apac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apache Ignite Zero Deployment: tepatnya Zero?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472568/"><p><img src="https://habrastorage.org/webt/3n/sz/ql/3nszqltvkgimlabres4hunyxfc0.jpeg"></p><br><p> Kami adalah departemen pengembangan teknologi ritel.  Suatu ketika, manajemen mengatur tugas mempercepat perhitungan volumetrik dengan menggunakan Apache Ignite bersama dengan MSSQL, dan menunjukkan situs dengan ilustrasi yang indah dan contoh kode Java.  Situs ini langsung menyukai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Zero Deployment</a> , deskripsi yang menjanjikan keajaiban: Anda tidak harus menggunakan kode Java atau Scala secara manual di setiap node di grid dan menyebarkan kembali setiap kali berubah.  Dalam perjalanan kerja, ternyata Zero Deployment memiliki penggunaan khusus, fitur yang ingin saya bagikan.  Di bawah refleksi kucing dan detail implementasi. </p><a name="habracut"></a><br><h2 id="1-postanovka-zadachi">  1. Pernyataan masalah </h2><br><p>  Inti dari masalah adalah sebagai berikut.  Ada direktori titik penjualan untuk SalesPoint dan direktori produk Sku (Stock Keeping Unit).  Titik penjualan memiliki atribut "tipe toko" dengan nilai "kecil" dan "besar".  Bermacam-macam (daftar barang dari titik penjualan) terhubung (dimuat dari DBMS) ke setiap titik penjualan dan informasi disediakan bahwa produk yang ditentukan telah tanggal <br>  dikecualikan dari bermacam-macam atau ditambahkan ke bermacam-macam. </p><br><p>  Diperlukan untuk mengatur cache titik penjualan dan menyimpan informasi tentang barang yang terhubung selama sebulan di muka.  Kompatibilitas dengan sistem pertempuran memerlukan simpul klien Ignite untuk mengunduh data, menghitung agregat jenis (tipe Toko, kode Produk, hari, jumlah titik penjualan) dan mengunggahnya kembali ke DBMS. </p><br><h2 id="2-izuchenie-literatury">  2. Studi literatur </h2><br><p>  Belum ada pengalaman, jadi saya mulai menari dari kompor.  Yaitu, dengan ulasan publikasi. </p><br><p>  Artikel 2016 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Memperkenalkan Apache Ignite: Langkah-langkah pertama</a> menyediakan tautan ke dokumentasi proyek Apache Ignite dan pada saat yang sama mencela untuk slurring.  Saya membacanya beberapa kali, kejelasan tidak datang.  Beralih ke tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">memulai</a> resmi, yang <br>  optimis menjanjikan "Anda akan bangun dan berjalan dalam sekejap!".  Saya mengerti pengaturan variabel lingkungan, menonton dua video Apache Ignite Essentials, ternyata tidak terlalu berguna untuk tugas spesifik saya.  Saya berhasil meluncurkan Ignite dari baris perintah dengan file standar "example-ignite.xml", saya membangun <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Aplikasi Compute</a> pertama menggunakan Maven.  Aplikasi ini bekerja dan menggunakan Zero Deployment, sungguh indah! </p><br><p>  Saya membaca lebih lanjut, dan di sana contohnya segera menggunakan affinityKey (dibuat sebelumnya melalui query SQL), dan bahkan BinaryObject misterius diterapkan: </p><br><pre><code class="plaintext hljs">IgniteCache&lt;BinaryObject, BinaryObject&gt; people = ignite.cache("Person").withKeepBinary();</code> </pre> <br><p>  Saya membaca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sedikit</a> : format biner sedikit refleksi, akses ke bidang objek dengan nama.  Itu dapat membaca nilai dari suatu bidang tanpa benar-benar deserializing objek (menyimpan memori).  Tetapi mengapa BinaryObject digunakan sebagai ganti Person, karena ada Zero Deployment?  Mengapa IgniteCache &lt;Key, Person&gt; diterjemahkan ke dalam IgniteCache &lt;BinaryObject, BinaryObject&gt;?  Belum jelas. </p><br><p>  Saya membuat kembali Aplikasi Hitung untuk kasus saya.  Kunci utama dari titik penjualan direktori di MSSQL didefinisikan sebagai [id] [int] BUKAN NULL, saya membuat cache dengan analogi </p><br><pre> <code class="plaintext hljs">IgniteCache&lt;Integer, SalesPoint&gt; salesPointCache=ignite.cache("spCache")</code> </pre> <br><p>  Dalam xml-config saya menunjukkan bahwa cache dipartisi </p><br><pre> <code class="plaintext hljs">&lt;bean class="org.apache.ignite.configuration.CacheConfiguration"&gt; &lt;property name="name" value="spCache"/&gt; &lt;property name="cacheMode" value="PARTITIONED"/&gt; &lt;/bean&gt;</code> </pre> <br><p>  Pemisahan dengan titik penjualan mengasumsikan bahwa agregat yang diperlukan akan dibangun pada setiap node cluster untuk catatan salesPointCache di sana, setelah itu node klien akan melakukan penjumlahan akhir. </p><br><p>  Saya membaca tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Aplikasi Ignite Compute Pertama</a> , saya melakukannya dengan analogi.  Pada setiap node cluster saya menjalankan IgniteRunnable (), sesuatu seperti ini: </p><br><pre> <code class="plaintext hljs"> @Override public void run() { SalesPoint sp=salesPointCache.get(spId); sp.calculateSalesPointCount(); .. }</code> </pre> <br><p>  Saya menambahkan agregasi dan mengunggah logika, dijalankan pada set data uji.  Secara lokal, semuanya berfungsi di server pengembangan. </p><br><p>  Saya meluncurkan dua server pengujian CentOs, tentukan alamat ip di default-config.xml, jalankan pada masing-masing </p><br><pre> <code class="plaintext hljs">./bin/ignite.sh config/default-config.xml</code> </pre> <br><p>  Kedua node Ignite mulai dan saling bertemu.  Saya menentukan alamat yang diperlukan dalam xml-config dari aplikasi klien, dimulai, menambahkan node ketiga ke topologi dan segera ada dua node lagi.  Log berbunyi "ClassNotFoundException: model.SalesPoint" di baris </p><br><pre> <code class="plaintext hljs">SalesPoint sp=salesPointCache.get(spId);</code> </pre> <br><p>  StackOverflow mengatakan penyebab kesalahan adalah bahwa server CentOs tidak memiliki kelas SalesPoint kustom.  Tiba  Jadi bagaimana Anda tidak perlu menyebarkan kode Java secara manual pada setiap node dan seterusnya?  Atau apakah kode Java Anda bukan tentang SalesPoint? </p><br><p>  Saya mungkin melewatkan sesuatu - lagi saya mulai mencari, membaca dan mencari lagi.  Seiring waktu, ada perasaan bahwa saya membaca segala sesuatu tentang topik itu, tidak ada yang baru.  Saat mencari, saya menemukan beberapa komentar menarik. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Valentin Kulichenko</a> , Arsitek Utama di GridGain Systems, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menanggapi</a> StackOverflow, April 2016: </p><br><pre> <code class="plaintext hljs">Model classes are not peer deployed, but you can use withKeepBinary() flag on the cache and query BinaryObjects. This way you will avoid deserialization on the server side and will not get ClassNotFoundException.</code> </pre> <br><p>  Pendapat otoritatif lainnya: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Denis Magda</a> , Direktur manajemen produk, GridGain Systems. </p><br><p>  Sebuah artikel tentang HabrÃ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tentang microservices</a> merujuk pada tiga artikel Denis Magda: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Microservices Bagian I</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Microservices Bagian II</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Microservices Bagian III</a> 2016-2017.  Dalam artikel kedua, Denis menyarankan memulai simpul kluster melalui MaintenanceServiceNodeStartup.jar.  Anda juga dapat menggunakan peluncuran dengan konfigurasi xml dan baris perintah, tetapi kemudian Anda perlu secara manual menempatkan kelas khusus pada setiap node gugus yang digunakan: </p><br><pre> <code class="plaintext hljs">That's it. Start (..) node using MaintenanceServiceNodeStartup file or pass maintenance-service-node-config.xml to Apache Ignite's ignite.sh/bat scripts. If you prefer the latter then make sure to build a jar file that will contain all the classes from java/app/common and java/services/maintenance directories. The jar has to be added to the classpath of every node where the service might be deployed.</code> </pre> <br><p>  Memang itu saja.  Di sini ternyata, mengapa, format biner misterius ini! </p><br><h2 id="3-singlejar">  3. SingleJar </h2><br><p>  Denis mengambil tempat pertama di peringkat pribadi saya, IMHO tutorial yang paling berguna dari semua yang tersedia.  MicroServicesExample <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github-</a> nya berisi contoh konfigurasi cluster node yang sudah jadi, yang dikompilasi tanpa squat tambahan. </p><br><p>  Saya melakukannya dalam gambar dan rupa, saya mendapatkan file jar tunggal yang menjalankan "data node" atau "client node" tergantung pada argumen baris perintah.  Perakitan dimulai dan dijalankan.  Zero Deployment dikalahkan. </p><br><p>  Transisi dari megabita data uji ke puluhan gigabita data pertempuran menunjukkan bahwa format biner ada karena alasan yang bagus.  Itu diperlukan untuk mengoptimalkan konsumsi memori pada node, dan di sini BinaryObject sangat berguna. </p><br><h2 id="4-vyvody">  4. Kesimpulan </h2><br><p>  Teguran pertama yang kami temui tentang dokumentasi cadel dari proyek Apache Ignite ternyata adil, itu telah berubah sedikit sejak 2016.  Tidak mudah bagi pemula untuk membangun prototipe yang berfungsi berdasarkan situs dan / atau repositori. </p><br><p>  Sebagai hasil dari pekerjaan yang dilakukan, tampaknya Zero Deployment berfungsi, tetapi hanya pada level sistem.  Sesuatu seperti ini: BinaryObject digunakan untuk mengajarkan node cluster jarak jauh bagaimana bekerja dengan kelas kustom;  Zero Deployment - Mekanisme Internal <br>  Apache Menyalakan dirinya sendiri dan mendistribusikan objek sistem di seluruh cluster. </p><br><p>  Saya harap pengalaman saya akan bermanfaat bagi pengguna baru Apache Ignite. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id472568/">https://habr.com/ru/post/id472568/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id472552/index.html">63 core dikunci oleh tujuh instruksi</a></li>
<li><a href="../id472556/index.html">Rahasia kebahagiaan karyawan adalah sifat alami di kantor?</a></li>
<li><a href="../id472560/index.html">Pengujian Gestalt: pendekatan baru untuk optimasi milis berdasarkan teori Bayesian dan pembelajaran mesin</a></li>
<li><a href="../id472562/index.html">Tren Keuangan: Perusahaan Besar Membutuhkan Semakin Banyak Profesional TI</a></li>
<li><a href="../id472566/index.html">Neraka pribadi penulis Fraerman, atau Tale of First Love</a></li>
<li><a href="../id472570/index.html">Intel Xeon W Big Update</a></li>
<li><a href="../id472572/index.html">DevOps and Chaos: Pengiriman Perangkat Lunak di Dunia yang Terdesentralisasi</a></li>
<li><a href="../id472574/index.html">Buat Minecraft Anda: hasilkan level 3D dari kubus</a></li>
<li><a href="../id472576/index.html">Konferensi XVI untuk pengembang perangkat lunak gratis atau tempat untuk mendapatkan kontributor gratis</a></li>
<li><a href="../id472580/index.html">Manajemen Layanan Perusahaan: Mengapa Perluas Manajemen Layanan Di Luar TI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>