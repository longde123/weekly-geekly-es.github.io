<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💌 🏈 🍿 演示应用演示 🚣🏾 🤱🏾 🕰️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="您好，我叫Dmitry Karlovsky，有时我在各种会议上发言，最近，我本人也加入了其中之一的组织者团队-PiterJS 。 最近，我们有一个周年纪念-举行了40次会议。 但是我们没有放松和得到祝贺，反而感到疲倦，自己准备了组织者的报告 。 





 但这对我们来说还不够，因此我们决定通过在...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>演示应用演示</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465763/"><p>您好，我叫Dmitry Karlovsky，有时我在各种会议上发言，最近，我本人也加入了其中之一的组织者团队<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-PiterJS</a> 。 最近，我们有一个周年纪念-举行了40次会议。 但是我们没有放松和得到祝贺，反而感到疲倦，自己准备<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">了组织者的报告</a> 。 </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/905/330/66e/90533066ea4d2324748c0aa91e6a62d8.png" alt="测试语音控制"></p><br><p> 但这对我们来说还不够，因此我们决定通过在Neva <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PiterJSConf</a>银行举办会议来庆祝这一重要的周年纪念日，该会议将于2019年9月7日（星期六）举行。在仍然有空位的情况下，请快注册，因为参加会议对您完全免费。 </p><br><p> 我们做这一切不是为了钱，而是为了一个伟大的想法，那就是知识应该是自由的。 因此，我们所做的一切都<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">可以在Open Source中找到</a> 。 我们很高兴与他人分享我们的最佳实践，知识和经验。 我们敦促其他城市的组织者合作，以建立一个开放的平台，定期组织技术会议。 作为<a href="">组织者</a> ， <a href="">合作伙伴</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">发言人</a> ， <a href="">志愿者</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">赞助人</a>或听众加入我们。 </p><br><p>同时，我将为您提供有关我用于所有演示文稿的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$hyoo_slides</code></a>演示文稿Web应用程序的故事。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">可以在YouTube上进行视频录制</a> ，但还没有所有功能。 您可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">将其作为文章阅读</a> ，也<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">可以在应用程序本身的界面中打开</a> 。 接下来，我将告诉您它可以做什么以及如何工作。 </p><a name="habracut"></a><br><h1 id="interfeys-slushatelya"> 侦听器界面 </h1><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://slides.hyoo.ru/&amp;usg=ALkJrhjWzwSbunLEahTFEIPY0oeT1tJn8w#slides=">听力演讲</a> </p><br><p> 这是观众在表演中看到的界面。 里面没有多余的东西。 </p><br><p> 幻灯片的名称和编号显示在顶部。 听众可能有疑问。 并迅速记录下该号码，他们将能够在演讲后呼叫该号码，从而使听众免于繁琐的等待，因为演讲者可以找到要提问的幻灯片。 </p><br><p> 您可以在下面注意进度条，显示迟到的收听者错过了多少。 对于其他所有人-还剩下多少钱。 它不是通过幻灯片的数量来计算的，而是通过叙述的语音的数量来计算的。 </p><br><h1 id="smotri-kak-ya-mogu"> 看我怎么能 </h1><br><p> 基本思想是让演讲者专注于内容而不用担心设计。 该报告根本不需要任何特殊的美感和壮观的动画。 否则，设计将引起注意。 内容有冒失的风险。 </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ab1/623/eea/ab1623eea20657db95cc8878da51ca36.png" alt="因为我是蝙蝠侠！"></p><br><p> 但是设计应该整洁，以免破坏报告的印象。 因此，该应用程序的设计简单，不引人注目，最重要的是，与计划委员会的建议保持一致。 </p><br><h1 id="interfeys-dokladchika"> 喇叭接口 </h1><br><p> 扬声器的界面分为两个部分。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://slides.hyoo.ru/&amp;usg=ALkJrhjWzwSbunLEahTFEIPY0oeT1tJn8w#slides=">演示者演示</a> </p><br><p> 左侧是听众看到的。 右边是演讲者的笔记。 它们将帮助您记住迷失的思想，而不会离开听众，也不会长时间使他们紧张……这是一个暂停。 </p><br><h1 id="glavnoe---kontent"> 最重要的是内容 </h1><br><p> 因此，在我们的案例中，内容以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MarkDown</a>格式写为文章，并布置在某些GitHub Pages上。  Web应用程序负责其余的工作。 </p><br><pre> <code class="plaintext hljs">#       #      </code> </pre> <br><p> 演讲后，报告的文字记录通常以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">哈勃（Habré）</a>上的文章形式列出。 他们可以做一个月，两年，半年。 这项任务是将语音转换为文本的忘恩负义。 但是，由于幻灯片的来源已经是降价格式，并且包含演讲者的评论，因此可以立即以这种形式发布。 </p><br><h1 id="stili-teksta"> 文字样式 </h1><br><p> 纯文本仅显示给演示者。 每个人都可以看到各种图片，列表，表格，引号等。 </p><br><pre> <code class="plaintext hljs">- ** - ** ** - ~~~~ - ``````</code> </pre> <br><ul><li>  <em>口音</em> </li><li>  <strong>强烈的口音</strong> </li><li><del> 删掉 </del></li><li> <code></code> </li> </ul><br><p> 当然，可以使用各种内联格式化工具。 </p><br><h1 id="ishodnye-kody"> 源代码 </h1><br><p> 当然，源代码块也受支持，并且以彩虹的所有颜色绘制。 就像你一样。 </p><br><pre> <code class="plaintext hljs">```javascript const hello = ()=&gt; &lt;body&gt; Hello, "world"! &lt;/body&gt; ```</code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hello = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> &lt;body&gt; Hello, <span class="hljs-string"><span class="hljs-string">"world"</span></span>! <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><h1 id="tablicy"> 桌子 </h1><br><p> 各种事物的比较将对您的表有所帮助。 例如，让我们看看为什么<code>$hyoo_slides</code>比其最接近的竞争对手<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">要好-shwr.me</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">google slides</a> </p><br><pre> <code class="plaintext hljs">| | shwr.me | google slides | slides.hyoo.ru | |--------------------------|---------|---------------|----------------| |   MarkDown | - | - | + | |   | - | + | + | |   | - | - | + | |  | - | + | + |</code> </pre> <br><div class="scrollable-table"><table><thead><tr><th></th><th>  shwr.me </th><th> 谷歌幻灯片 </th><th>  slides.hyoo.ru </th></tr></thead><tbody><tr><td>  MarkDown中的源 </td><td>  -- </td><td>  -- </td><td>  + </td></tr><tr><td> 双面板模式 </td><td>  -- </td><td>  + </td><td>  + </td></tr><tr><td> 自动滑动开关 </td><td>  -- </td><td>  -- </td><td>  + </td></tr><tr><td> 下线 </td><td>  -- </td><td>  + </td><td>  + </td></tr></tbody></table></div><br><p> 如您所见， <code>$hyoo_slides</code>在各个方面都击败了竞争对手。 当然，除了表中未包含的那些。 </p><br><p> 好吧，桌子很无聊。 </p><br><h1 id="kartinki"> 图片 </h1><br><p> 抓住猫。 </p><br><pre> <code class="plaintext hljs">![](https://github.com/nin-jin/slides/raw/master/slides/cat.gif)</code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/d1a/b47/b98/d1ab47b983f9a9573ba4973d107d7a24.gif" alt="猫咪"></p><br><p> 请注意，幻灯片的背景为灰色。 因此，最好不要在白色背景上而是透明地准备图像，以使图片周围没有令人讨厌的白色矩形。 这样做是为了使白色区域形成对比，并且不与背景合并。 </p><br><h1 id="video"> 录影带 </h1><br><p> 您可以使用与插入图片相同的MarkDown语法发布视频，网页和任何其他外部内容。 </p><br><pre> <code class="plaintext hljs">![ ](https://www.youtube.com/embed/exfBX2pb7AQ?autoplay=1)</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">目标受众</a> </p><br><p> 例如，我插入了一段视频，说明现代界面非常简单方便，即使是猴子也可以处理。 </p><br><h1 id="klaviaturnaya-navigaciya"> 键盘导航 </h1><br><p> 您可以在键盘上用箭头切换幻灯片。 但是，为了不与笔记本电脑连接，而是要在舞台上自由行走，您需要一根手指的无线电延长线。 他是一个答题者。 </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/509/7cc/7bf/5097cc7bfd785e54f987c8494d50b5a6.png" alt="箭"></p><br><p> 但是，如果答题器损坏了怎么办？ </p><br><h1 id="kodovye-frazy"> 代码短语 </h1><br><p> 您可能以为在房间里我有一个处理不当的哥萨克人而不是我来换幻灯片？ 但是，事实并非如此。 </p><br><ul><li> 请<strong>进一步</strong> 。 </li><li> 请<strong>回来</strong> 。 </li><li>  <strong>幻灯片编号</strong> 5，请客气。 </li><li>  <strong>请在开始</strong>时。 </li><li>  <strong>最后</strong>请。 </li><li>  <strong>找到</strong> “猫”，请客气。 </li><li> 请<strong>重复</strong> 。 </li><li>  <strong>闭嘴</strong> ，好心。 </li><li> 请<strong>继续</strong> 。 </li><li> 请<strong>关掉灯</strong> 。 </li></ul><br><p> 请再说一遍。  <em>上面的声音重复了最后一个短语。</em> </p><br><p> 是的，幻灯片可以完全控制声音，使您的手没有任何姿势。 它使用标准的Web API进行语音识别和合成。 </p><br><p> 但是连续十次重复这些代码短语很无聊，因此<code>$hyoo_slides</code>可以分析说话者的注释，当您说出最后一个单词时，会自动切换幻灯片。 </p><br><h1 id="zhesty-palcem"> 手指手势 </h1><br><p> 好吧，情况变得复杂了。 听完您的演讲后，有人决定乘坐地铁回家时从平板电脑上查看您的幻灯片。 </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/922/977/327/9229773270adb93e6193952f4216558d.png" alt="手势"></p><br><p> 没有键盘。 火车很吵。 在这里，普通的手指手势可以解救。 </p><br><h1 id="offlayn"> 下线 </h1><br><p> 但是随后他呼唤进入隧道，他的联系消失了。 </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/338/9cc/9e1/3389cc9e145f29988bf8f2f8d29d6333.png" alt="没有网络"></p><br><p> 没关系，即使没有互联网，我们也可以使用具有完整功能的Web2.0 HTML5渐进式Web应用程序。 </p><br><h1 id="pechat-v-pdf">  PDF打印 </h1><br><p> 但是组织者在这里向您说：“我们需要PDF。” </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/6fa/22b/1ff/6fa22b1ff38afc8d6e6cdce90ee17f1a.png" alt="印记"></p><br><p> 哪个pdf？ 我们这里有多媒体交互式Web2.0 HTML5渐进式Web应用程序。 但是，他们向您说明该应用程序现在已经存在，明天不再存在。 如果有，他要钱。 而且，如果您不想这样做，那么那里的幻灯片已经可以更改了，无法识别。 而且，PDF安静地保存在存档中，其内容与表演期间录制的视频相对应。 </p><br><p> 没关系，请按<code>Ctrl+P</code> ，选择“打印为PDF”并获取所需的内容。 这很简单- <code>onbeforeprint</code>事件，并且在发生该事件时，将仅呈现所有幻灯片，而不仅仅是当前幻灯片。 然后<code>onafterprint</code> ，除当前幻灯片<code>onafterprint</code> ，所有幻灯片都将被删除。 </p><br><p> 至此，功能列表已结束。 </p><br><h1 id="kak-sozdat-prezentaciyu"> 如何建立简报 </h1><br><p> 尝试<code>$hyoo_slides</code>很容易。 您将需要<code>readme.md</code>及其内容和图片。 在附近，您还需要复制粘贴<code>index.html</code> ，该重定向到Web应用程序并在其中打开您的演示文稿。 以及offline.js的离线支持。 </p><br><ul><li> <code>readme.md</code> </li> <li> 图片 </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>index.html</code></a> </li> <li> <a href=""><code>offline.js</code></a> </li> <li> 静态托管 </li></ul><br><p> 请记住，此<code>index.html</code>将为应用程序提供可从放置整个内容的域访问的任何文件。  GitHub Pages是一个非常方便和安全的选择。 我自己用。 </p><br><h1 id="drugie-prilozheniya"> 其他应用 </h1><br><p> 如果您喜欢此应用程序，则可以看看在$ mol框架上实现的其他有趣的应用程序。 它们非常轻巧，即使是几十个也不怕一次将它们全部加载到一张幻灯片上。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">应用程序库</a> </p><br><p> 但是后来以某种方式关于他们... </p><br><h1 id="primery-prezentaciy"> 演示实例 </h1><br><p> 您可以在单独的演示文稿中了解有关该框架的更多信息。 您可以在PPR的演示文稿中进行更深入的研究。 您可以在有关计算量化的演示中开启未来的帷幕。 </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">$ mol-痔疮的最佳疗法</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">对象反应式编程</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">计算的量子力学</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">slides.hyoo.ru</a> </li></ul><br><p> 它们都使用$ hyoo_slides进行显示。 我希望很快会有更多这样的演讲。 </p><br><h1 id="struktura-prilozheniya"> 应用结构 </h1><br><p> 现在，让我们稍微打开一下引擎盖，看看应用程序是如何安排的，以及如何在一个晚上就完成类似的工作。 </p><br><pre> <code class="plaintext hljs">$hyoo_slides_page $mol_view sub / &lt;= Listener &lt;= Speaker</code> </pre> <br><pre> <code class="plaintext hljs">export class $hyoo_slides_page extends $mol_view { sub() { return [ this.Listener() , this.Speaker() , ] } }</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这是view.tree</a>和等效TypeScript代码中单个屏幕<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>顶级描述。 在这里，我们声明了组件<code>$hyoo_slides_page</code> ，它扩展了基本组件<code>$mol_view</code> 。 该组件具有<code>sub</code>属性。 返回此属性的所有内容都将呈现在组件内部。 因此，我们将其重新定义，将两个元素组成的数组作为值传递： <code>Listener</code> （向幻灯片输出给听众的组件）和<code>Speaker</code> -附加扬声器面板的组件。 </p><br><h1 id="pereklyuchenie-raskladki-stranicy"> 切换页面布局 </h1><br><p> 除了对结构的描述之外，我们还可以应用程序逻辑，该逻辑允许动态计算任何属性。 </p><br><pre> <code class="plaintext hljs">sub() { const role = this.role() return [ this.Listener() , ... ( role === 'speaker' ) ? [ this.Speaker() ] : [] , ] }</code> </pre> <br><p> 这里的逻辑很简单：我们总是为听众显示幻灯片，但只有当前角色为<code>speaker</code>才会显示Speaker面板。 如果角色发生变化，则由于对象反应式编程的魔力，应用程序的布局也将发生变化。 </p><br><h1 id="routing"> 路由选择 </h1><br><p> 我们将通过特殊的反应性API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_state_arg</code></a>从address参数中扮演角色。 </p><br><pre> <code class="plaintext hljs">role() : 'speaker' | 'listener' { return $mol_state_arg.value( 'role' ) || 'speaker' }</code> </pre> <br><p> 无论出于何种原因，地址都已更改-角色将自动从中提取出来，并传递给此方法。 </p><br><h1 id="struktura-interfeysa-slushatelya"> 侦听器接口结构 </h1><br><p> 让我们描述一下监听器接口。 </p><br><pre> <code class="plaintext hljs">Listener $mol_page title &lt;= title tools / &lt;= Slide_switcher body / &lt;= Listener_content &lt;= Progress</code> </pre> <br><p> 它使用标准组件<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_page</code></a>绘制带有页眉和正文的典型页面。 页眉中有一个显示页面名称的区域。 通过<code>title</code>属性，您可以指定在那里输出什么。 我们通过将其<code>title</code>属性与<code>title</code>属性相关联来完成此操作。 现在，更改属性，我们可以完全控制页面上显示为标题的内容。 </p><br><p> 在标题的右侧，有一个用于其他工具的输出区域<code>tools</code> 。 在其中，我们<code>Slides_switcher</code>一个用于显示幻灯片编号并在相邻幻灯片之间切换的组件。 </p><br><p> 最后，作为<code>body</code>页面<code>body</code>我们显示幻灯片和进度条的内容。 </p><br><h1 id="struktura-pereklyuchatelya-stranic"> 页面切换结构 </h1><br><p> 如何实现<code>Slide_switcher</code> ？ 只需使用标准组件<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_paginator</code></a> 。 </p><br><pre> <code class="plaintext hljs">Slide_switcher $mol_paginator value?val &lt;=&gt; slide?val</code> </pre> <br><p> 他所拥有的只是一个可变的属性<code>value</code> ，我们将该属性<code>value</code>与包含当前幻灯片编号的属性进行双边关联。 没有导入，回调，事件和其他垃圾。 这两行是工作页面切换出现在页面上所必需的。 </p><br><h1 id="struktura-soderzhimogo-slayda"> 幻灯片内容结构 </h1><br><p> 为了显示幻灯片的内容，我们再次使用标准组件<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_text</code></a> 。 </p><br><pre> <code class="plaintext hljs">Listener_content $mol_text uri_base &lt;= uri_base text &lt;= listener_content</code> </pre> <br><p> 它接受<code>markdown</code>并进行渲染。 由于此文本中的链接将相对于源文件，而不是相对于我们的应用程序，因此我们将链接传递给uri_base属性，关于该属性，所有路径都将得到解析。 </p><br><h1 id="struktura-indikatora-progressa"> 进度指标结构 </h1><br><p> 您可能已经猜到了，还有一个用于显示进度的标准组件- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_portion</code></a> 。 </p><br><pre> <code class="plaintext hljs">Progress $mol_portion portion &lt;= progress</code> </pre> <br><pre> <code class="plaintext hljs">portion: [ 0 .. 1 ]</code> </pre> <br><p> 我们为他提供从0到1的数字，并为该份额填充指标。 </p><br><h1 id="struktura-interfeysa-dokladchika"> 扬声器接口结构 </h1><br><p> 演讲者界面中有一些更有趣的内容。 标头中显示的工具不会以任何方式附加到当前页面-它们是整个应用程序所共有的。 因此，我们将在此处放置仅<code>speaker_tools</code>插槽，而不是在此处对其进行硬编码，从而从外部传输组件列表。 </p><br><pre> <code class="plaintext hljs">Speaker $mol_page head &lt;= speaker_tools /$mol_view body / &lt;= Speaker_content</code> </pre> <br><h1 id="struktura-prilozheniya-1"> 应用结构 </h1><br><p> 现在上一个级别，并创建一个使用页面组件的应用程序组件<code>$hyoo_slides</code> 。 </p><br><pre> <code class="plaintext hljs">$hyoo_slides $mol_view Page!index $hyoo_slides_page - ... plugins / &lt;= Nav &lt;= Touch &lt;= Speech_next - ...</code> </pre> <br><p> 任何<code>$mol_view</code>组件都具有<code>plugins</code>属性，通过该属性可以将其他逻辑连接到它。 插件插件与组件本身位于同一DOM节点上。 组件在渲染期间将其初始化。 当停止渲染时-插件会自动销毁。 </p><br><p> 我们还宣布了<code>Page</code>属性，该属性为每个索引返回我们先前开发的<code>$hyoo_slides_page</code>组件的单独实例。 </p><br><h1 id="nastroyka-stranicy-izvne"> 外部页面设置 </h1><br><pre> <code class="plaintext hljs">Page!index $hyoo_slides_page role &lt;= role slide?val &lt;=&gt; page_slide!index?val speaker_tools / &lt;= Speech_toggle &lt;= Speech_text &lt;= Open_listener</code> </pre> <br><p> 我们将<code>role</code>属性原样传递给子组件。 页面组件的<code>slide</code>属性通过双向通信与应用程序的<code>page_slide</code>属性连接。 请注意， <code>page_slide</code>不仅接受可选的新值，而且接受页面索引。 这使您可以为每页返回一个数字。 最后，在我们之前宣布的<code>speaker_tools</code>插槽中，我们放置了三个组件来帮助管理幻灯片。 </p><br><h1 id="struktura-pereklyuchatelya-golosovogo-upravleniya"> 语音控制开关结构 </h1><br><p> 我们通过标准组件<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_check_icon</code></a>实现了<code>Speech_toggle</code> ，该组件绘制了一个图标。 当您单击它时，它会切换<code>checked</code>标志。 并通过更改图标的颜色来显示当前状态。 </p><br><pre> <code class="plaintext hljs">Speech_toggle $mol_check_icon Icon &lt;= Speech_toggle_icon $mol_icon_microphone checked?flag &lt;=&gt; speech_enabled?flag</code> </pre> <br><p> 我们从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_icon</code></a>中取出了图标，在以苦行者材料设计风格制作的4000个图标中， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">很容易找到</a>合适的图标。 </p><br><h1 id="struktura-knopki-otkrytiya-vedomogo-okna"> 从属窗口打开按钮结构 </h1><br><p> 这里的一切都很简单。 该按钮将是链接<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_link</code></a> 。 她可以使用地址设置<code>uri</code>属性，或者可以做一些更狡猾的操作，仅修补当前地址，并通过<code>arg</code>替换一些参数。 </p><br><pre> <code class="plaintext hljs">Listener_open $mol_link target \_blank arg * role \listener slide null sub / &lt;= Listener_open_icon $mol_icon_external</code> </pre> <br><p> 在这里，我们从地址中删除了幻灯片编号，以便从属窗口将其从本地存储而不是地址中获取。 这将确保窗口彼此同步。 他们还指出，该角色应该是“听众”。 在链接内部，我们放置了一个图标而不是文本。 </p><br><h1 id="plaginy"> 外挂程式 </h1><br><p> 插件可以大大扩展组件的功能。 我们将最大限度地使用它们。 </p><br><pre> <code class="plaintext hljs">plugins / &lt;= Nav &lt;= Touch &lt;= Speech_next &lt;= Speech_prev &lt;= Speech_start &lt;= Speech_end - ...</code> </pre> <br><p> 我们使用的所有插件可以分为3类：键盘导航，手势控制和语音控制。 </p><br><h1 id="klaviaturnaya-navigaciya-1"> 键盘导航 </h1><br><p> 通过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_nav</code></a>可以轻松实现垂直和水平方向的键盘导航。 所需要做的就是为插件提供一系列按键（通过它们进行切换），以及双向通信到当前值。 </p><br><pre> <code class="plaintext hljs">Nav $mol_nav keys_y &lt;= slide_keys keys_x &lt;= slide_keys current_y?val &lt;=&gt; slide?val current_x?val &lt;=&gt; slide?val</code> </pre> <br><pre> <code class="javascript hljs">slide_keys: [ <span class="hljs-number"><span class="hljs-number">0</span></span> , <span class="hljs-number"><span class="hljs-number">1</span></span> , <span class="hljs-number"><span class="hljs-number">2</span></span> , <span class="hljs-number"><span class="hljs-number">3</span></span> , ... , <span class="hljs-number"><span class="hljs-number">30</span></span> ] ^ slide</code> </pre> <br><h1 id="zhesty-palcem-1"> 手指手势 </h1><br><p> 对于手指跟踪，有一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_touch</code></a> 。 有了它，您可以缩放，平移和滑动。 这是现在让我们感兴趣的最后机会。 </p><br><pre> <code class="plaintext hljs">Touch $mol_touch swipe_to_left?event &lt;=&gt; go_next?event swipe_to_right?event &lt;=&gt; go_prev?event</code> </pre> <br><pre> <code class="plaintext hljs">go_next( event? : Event ) { this.slide( this.slide() + 1 ) }</code> </pre> <br><p> 刷卡有两种类型。 例如，从屏幕的任何部分向左或向右滑动，并由于屏幕的右或左边缘向中心滑动。 在提供的代码中，我们将处理程序挂在第一种类型的滑动上。 </p><br><h1 id="golosovoe-upravlenie"> 语音控制 </h1><br><p> 对于语音控制，请使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>$mol_speech</code></a> 。 您必须为每个操作选项创建一个插件实例。 </p><br><pre> <code class="plaintext hljs">Sing $mol_speech event_catch?val &lt;=&gt; sing?val patterns / \sing( \S+?)* \( \S+?)*</code> </pre> <br><p> 该插件采用一个动作处理程序和一组模式，一旦检测到该模式，就会触发一个事件。 您可以在模式中使用捕获括号来获取对应于处理程序中其内容的单词。 </p><br><h1 id="avtomaticheskoe-pereklyuchenie-slaydov"> 自动滑动开关 </h1><br><p> 默认情况下， <code>$mol_speech</code>需要礼貌处理。 例如，您应该说的不是“唱歌”，而是“请唱歌”。 您可以覆盖<code>suffix</code>属性以完全更改或删除此代码字。 </p><br><pre> <code class="plaintext hljs">Speech_next_auto $mol_speech event_catch?val &lt;=&gt; go_next?val suffix \ patterns &lt;= speech_next_auto_patterns</code> </pre> <br><p> 例如，要实现自动幻灯片切换，我们不需要魔术词。 但是，我们将基于对演讲者文本内容的分析，动态生成一组模式。 </p><br><h1 id="zapusk-prilozheniya"> 应用启动 </h1><br><p> 有了应用程序组件，您可以像任何普通类一样手动实例化它。 但是，我们将通过特殊属性<code>mol_view_root</code>使用自动启动。 </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mol_view_root</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$hyoo_slides"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"web.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> 属性名称是组件的名称。 当然，以这种方式进行渲染绝对可以是任何组件。 </p><br><h1 id="offlayn-1"> 下线 </h1><br><p> 要添加离线支持，只需在捆绑包中包括<code>mol/offline/install</code>模块。 </p><br><pre> <code class="plaintext hljs">include \/mol/offline/install</code> </pre> <br><p> 它会自动引发一个ServiceWorker，它缓存所有请求。 如果网络不可用，它将从缓存中返回数据。 这不是最酷的实现，但是对于不想打扰的简单情况，它会做到。 </p><br><h1 id="rezhim-pechati"> 列印模式 </h1><br><p> 之前，我说过，在打印期间您需要渲染所有页面，但是由于我们具有完全反应性的编程，因此无需手动监视<code>onbeforeprint</code>和<code>onafterprint</code> ，因此我们将使用反应性状态<code>$mol_print</code> ，它为我们提供了反应性标志占用渲染。 </p><br><pre> <code class="plaintext hljs">sub() { if( !this.$.$mol_print.active() ) { return [ this.Page( this.slide() ) ] } return $mol_range2( index =&gt; this.Page( index ) , ()=&gt; this.slide_keys().length , ) }</code> </pre> <br><p> 如果未引发<code>active</code>标志，则此处仅返回一页。 否则，我们将返回一个惰性数组，该数组根据给定的公式计算其长度和元素。 </p><br><h1 id="epilog"> 结语 </h1><br><p> 结果，我们得到了一个现代的Web应用程序，该应用程序具有很多功能并且仅重35kb。 添加清单，将有一个成熟的渐进式Web应用程序。 当然，没有考虑许多细节。 您可以在github上的代码中看到它们。 对于所有问题，请在聊天中写电报。 </p><br><blockquote> 这些幻灯片在应用程序中： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">slides.hyoo.ru</a> <br> 应用程序来源： <a href="">hyoo-ru / slides.hyoo.ru</a> <br> 演示示例： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">nin-jin /幻灯片</a> <br> 电报聊天： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">@mam_mol</a> </blockquote><p> 如果您尝试使用<code>$hyoo_slides</code>进行演示，我将非常高兴。 如果您能使它变得比现在更好，我将非常高兴。 感谢您的关注！ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN465763/">https://habr.com/ru/post/zh-CN465763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN465751/index.html">故事游戏</a></li>
<li><a href="../zh-CN465753/index.html">比较器的比较，用于同步MS SQL Server的架构和数据库数据</a></li>
<li><a href="../zh-CN465755/index.html">八月机器学习和人工智能新闻摘要</a></li>
<li><a href="../zh-CN465759/index.html">数学模型揭示了视觉的秘密</a></li>
<li><a href="../zh-CN465761/index.html">运动平滑杀死电影院</a></li>
<li><a href="../zh-CN465765/index.html">移动开发人员313的有趣材料的摘要（8月26日至9月1日）</a></li>
<li><a href="../zh-CN465767/index.html">从设计师转为程序员后的个人经验和结论</a></li>
<li><a href="../zh-CN465773/index.html">使用Windows 10 1903更新笔记本电脑-从砖块到丢失所有数据。 为什么更新不能超过用户？</a></li>
<li><a href="../zh-CN465775/index.html">基于CentOS7的LTSP服务器</a></li>
<li><a href="../zh-CN465779/index.html">Yealink T19自动配置+动态地址簿</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>