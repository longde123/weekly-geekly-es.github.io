<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â›³ï¸ ğŸ¤™ğŸ¿ âœŒğŸ¼ Windows PowerShell dan Long Paths ğŸ‘… â†ªï¸ ğŸ…</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya pikir Anda, seperti saya, sudah sering melihat jalur formulir \ !!! Penting \ ____ Baru ____ \ !!! Jangan hapus !!! \ Pesan No. 98819-649-B tangg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Windows PowerShell dan Long Paths</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457204/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/zi/hg/gi/zihggini2_o9_0eqdiwrnorr54k.jpeg"></a> <br><br>  Saya pikir Anda, seperti saya, sudah sering melihat jalur formulir <b>\ !!!</b>  <b>Penting \ ____ Baru ____ \ !!!</b>  <b>Jangan hapus !!! \ Pesan No. 98819-649-B tanggal 30 Februari 1985</b>  <b>pada penunjukan Kozlov Ivan Aleksandrovich sebagai kepala sementara departemen untuk mengawal klien VIP perusahaan dan mengatur pertemuan bisnis di sela-sela.doc</b> . <br><br>  Dan seringkali membuka dokumen seperti itu di Windows tidak langsung berfungsi.  Seseorang mempraktikkan solusi dalam bentuk pemetaan disk, seseorang menggunakan manajer file yang dapat bekerja dengan jalur panjang: Manajer Jauh, Total Komandan dan sejenisnya.  Dan banyak lagi yang menyaksikan dengan sedih ketika mereka menciptakan naskah-PS, yang merupakan banyak pekerjaan dan yang bekerja di lingkungan uji dengan ledakan, di lingkungan pertempuran tanpa daya mengeluh tentang tugas yang tidak mungkin: <i>Jalur yang ditentukan, nama file, atau keduanya terlalu panjang .</i>  <i>Nama file yang sepenuhnya memenuhi syarat harus kurang dari 260 karakter, dan nama direktori harus kurang dari 248 karakter.</i> <br>  Ternyata, 260 karakter sudah cukup "tidak hanya untuk semua orang."  Jika Anda tertarik untuk melampaui batas yang diizinkan - saya minta kucing. <br><a name="habracut"></a><br>  Berikut adalah beberapa konsekuensi menyedihkan dari membatasi panjang path file: <br><br><ul><li>  ada folder di server, misalnya, D: \ Data \ Shared \ Accounting, yang dibagikan melalui SMB dan dipasang ke pengguna sebagai drive jaringan S;  pengguna membuat file yang tidak akan dapat membaca admin / skrip dengan akses lokal dari server, karena  jalur absolut lebih panjang dari jalur jaringan; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kesalahan sinkronisasi profil roaming</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">masalah pulih dari salinan bayangan</a> ; </li><li>  ketika data dimigrasikan dari sistem lain di mana ada pembatasan yang lebih ketat pada panjang jalur, di lingkungan baru, beberapa dari mereka akan menjadi tidak dapat diakses tanpa menari dengan rebana; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Data salah saat menghitung ukuran dan jumlah file dalam folder</a> ; </li><li>  dll ... </li></ul><br>  Sedikit menyimpang dari topik, saya perhatikan bahwa untuk Replikasi DFS masalah yang dipertimbangkan dalam artikel tidak mengerikan dan file dengan nama panjang berhasil melakukan perjalanan dari server ke server (kecuali, tentu saja, Anda <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">melakukan</a> semuanya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dengan benar</a> sisanya). <br><br>  Saya juga ingin menarik perhatian pada utilitas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">robocopy yang</a> sangat berguna <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">yang</a> membantu saya lebih dari sekali.  Dia juga tidak takut jalan panjang, dan dia tahu banyak.  Karena itu, jika tugasnya adalah menyalin / mentransfer data file, Anda dapat berhenti melakukannya.  Jika Anda perlu perdukunan dengan daftar kontrol akses sistem file (DACL), lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">subinacl</a> .  Meskipun usianya cukup besar, ia menunjukkan hasil yang sangat baik pada Windows 2012 R2.  Metode aplikasi dibahas di sini. <br><br>  Sangat menarik bagi saya untuk mengajar bekerja dengan PowerShell.  Bersamanya hampir seperti dalam anekdot berjanggut tentang Ivan Tsarevich dan Vasilisa yang Indah. <br><br><h4>  Cara cepat </h4><br>  Pergi ke <s>Linux dan jangan</s> mengukus Windows 10/2016/2019 dan mengaktifkan pengaturan Kebijakan Grup / klik registri.  Saya tidak akan membahas metode ini secara rinci, karena  sudah ada banyak artikel di jaringan tentang topik ini, misalnya yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ini</a> . <br><br>  Mengingat bahwa di sebagian besar perusahaan ada banyak, lebih tepatnya, bukan versi baru dari sistem operasi, metode ini cepat hanya untuk menulis di atas kertas, kecuali, tentu saja, Anda adalah salah satu dari mereka yang beruntung yang memiliki sedikit sistem warisan dan memerintah Windows 10/2016/2019 . <br><br><h4>  Jauh </h4><br>  Di sini kami segera membuat reservasi bahwa perubahan tidak akan mempengaruhi perilaku Windows Explorer, tetapi akan memungkinkan untuk menggunakan jalur panjang di cmdlet PowerShell, seperti Get-Item, Get-Item, Get-ChildItem, Remove-Item, dll. <br><br>  Pertama, tingkatkan PowerShell.  Itu dilakukan satu-dua-tiga. <br><br><ol><li>  Kami memperbarui .NET Framework ke versi paling tidak 4.5.  Sistem operasi harus setidaknya Windows 7 SP1 / 2008 R2.  Versi saat ini dapat diunduh di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> , baca informasi lebih lanjut di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Unduh</a> dan instal Windows Management Framework 5.1 </li><li>  Nyalakan kembali mobil. </li></ol><br>  Orang pekerja keras dapat melakukan langkah-langkah yang dijelaskan di atas secara manual, yang malas - dengan bantuan SCCM, kebijakan, skrip, dan berbagai alat otomatisasi lainnya. <br><br>  Versi PowerShell saat ini dapat ditemukan dalam variabel <i>$ PSVersionTable</i> .  Setelah pembaruan, seharusnya menjadi seperti ini: <br><br><img src="https://habrastorage.org/webt/q_/cd/wg/q_cdwg2qzweozvyt2lz5jes4o2o.png"><br><br>  Sekarang, ketika menggunakan cmdlet <i>Get-ChildItem</i> dan sejenisnya, kita akan menggunakan <i>LiteralPath</i> alih-alih <i>Path</i> biasa. <br><br>  Format lintasan akan sedikit berbeda: <br><br><pre><code class="plaintext hljs">Get-ChildItem -LiteralPath "\\?\C:\Folder" Get-ChildItem -LiteralPath "\\?\UNC\ServerName\Share" Get-ChildItem -LiteralPath "\\?\UNC\192.168.0.10\Share"</code> </pre> <br>  Untuk kenyamanan mengubah jalur dari format yang akrab ke format <i>LiteralPath</i> , <i>Anda</i> dapat menggunakan fungsi ini: <br><br><pre> <code class="plaintext hljs">Function ConvertTo-LiteralPath { Param([parameter(Mandatory=$true, Position=0)][String]$Path) If ($Path.Substring(0,2) -eq "\\") {Return ("\\?\UNC" + $Path.Remove(0,1))} Else {Return "\\?\$Path"} }</code> </pre><br>  Harap dicatat bahwa Anda tidak dapat menggunakan wildcard ( <i>*</i> , <i>?</i> , Etc) saat menentukan parameter <i>LiteralPath</i> . <br><br>  Selain parameter <i>LiteralPath</i> , dalam versi PowerShell yang diperbarui, cmdlet <i>Get-ChildItem</i> menerima parameter <i>Kedalaman</i> , yang dengannya Anda dapat mengatur kedalaman bersarang untuk pencarian rekursif, saya menggunakannya beberapa kali dan merasa puas. <br><br>  Sekarang Anda tidak perlu takut bahwa skrip PS Anda akan tersesat dan tidak akan melihat file yang jauh.  Sebagai contoh, pendekatan ini banyak membantu saya ketika menulis skrip untuk menjatuhkan atribut "sementara" pada file di folder DFSR.  Tapi ini cerita lain, yang akan saya coba ceritakan di artikel lain. <br>  <b>UPD 07/06/2019:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel yang dijanjikan</a> <br>  Saya menunggu komentar menarik dari Anda dan menyarankan Anda mengikuti survei. <br><br>  <b>Tautan yang bermanfaat:</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">docs.microsoft.com/en-us/dotnet/api/microsoft.powershell.commands.contentcommandbase.literalpath?view=powershellsdk-1.1.0</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/get-childitem?view=powershell-5.1</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">stackoverflow.com/questions/46308030/handling-path-too-long-exception-with-new-psdrive/46309524</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">luisabreu.wordpress.com/2013/02/15/theliteralpath-parameter</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id457204/">https://habr.com/ru/post/id457204/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id457194/index.html">Airbus mencapai ketinggian baru dengan bantuan teknologi realitas campuran Microsoft</a></li>
<li><a href="../id457196/index.html">Petty little joy # 5: Dynaconf - mengelola pengaturan dalam proyek</a></li>
<li><a href="../id457198/index.html">Jaringan saraf telah belajar menggambar adegan kompleks dari deskripsi tekstual</a></li>
<li><a href="../id457200/index.html">Bot menggambar untuk mewujudkan adegan sehari-hari dan bahkan cerita</a></li>
<li><a href="../id457202/index.html">Bagaimana kami memilih ide untuk pengembangan produk kami: vendor harus dapat mendengar ...</a></li>
<li><a href="../id457206/index.html">SQL Index Manager - cerita panjang tentang SQL Server, penggalian kuburan dan pemeliharaan indeks</a></li>
<li><a href="../id457208/index.html">Menghasilkan robots.txt secara dinamis untuk situs ASP.NET Core berdasarkan lingkungan</a></li>
<li><a href="../id457210/index.html">Simpan sumber daya statis di hosting Anda</a></li>
<li><a href="../id457212/index.html">Mengapa tidak ada kata terlambat untuk mulai belajar Java (atau bahasa Java lainnya)</a></li>
<li><a href="../id457224/index.html">Pendekatan Modern untuk Persaingan di Android: Corotins at Kotlin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>