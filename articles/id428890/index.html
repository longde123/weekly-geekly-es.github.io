<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üà≤ üë¥üèº üõÖ Seluruh kebenaran tentang RTOS. Artikel # 18. Grup Bendera Acara: Layanan Pembantu dan Struktur Data üíù üëáüèº üëáüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini terus menggambarkan grup bendera acara. 

 Artikel sebelumnya dalam seri: 

 Artikel # 17. Grup Bendera Acara: Pengantar dan Layanan Dasar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Seluruh kebenaran tentang RTOS. Artikel # 18. Grup Bendera Acara: Layanan Pembantu dan Struktur Data</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428890/"><img src="https://habrastorage.org/webt/uv/-u/8d/uv-u8dltglarzrr6lq6czxprtnk.jpeg"><br><br>  Artikel ini terus menggambarkan grup bendera acara. <br><br>  Artikel sebelumnya dalam seri: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 17.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Grup Bendera Acara: Pengantar dan Layanan Dasar</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 16.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sinyal</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 15.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Partisi Memori: Layanan dan Struktur Data</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 14.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian memori: pengantar dan layanan dasar</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 13.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Struktur data tugas dan panggilan API yang tidak didukung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 12.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Layanan untuk bekerja dengan tugas</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 11.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tugas: konfigurasi dan pengantar API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 10.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Penjadwal: fitur canggih dan pelestarian konteks</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 9.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Penjadwal: implementasi</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nucleus SE: Desain dan Penyebaran Internal</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 7.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nucleus SE: Pendahuluan</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Layanan RTOS lainnya</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Interaksi tugas dan sinkronisasi</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tugas, pengalihan konteks, dan interupsi</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tugas dan Perencanaan</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RTOS: Struktur dan mode waktu-nyata</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel # 1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RTOS: pengantar.</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><br></a> <br><a name="habracut"></a><br><h2>  Layanan Pembantu Grup Bendera Acara </h2><br>  Nucleus RTOS memiliki tiga panggilan API yang menyediakan fungsi pembantu untuk grup bendera acara: mengambil informasi grup, mengambil informasi tentang jumlah grup bendera acara dalam aplikasi, dan mengambil pointer ke semua grup bendera acara.  Dua tantangan pertama diimplementasikan dalam Nucleus SE. <br><br><h3>  Mengambil Informasi Bendera Grup Acara </h3><br>  Panggilan utilitas ini mengembalikan informasi tentang kelompok bendera acara.  Implementasi panggilan ini di Nucleus SE berbeda dari implementasi di Nucleus RTOS karena lebih sedikit informasi yang dikembalikan, karena penamaan objek dan urutan jeda tugas tidak didukung, dan jeda tugas itu sendiri dapat dinonaktifkan. <br><br>  <b><i>Panggilan untuk mengambil informasi grup acara di Nucleus RTOS</i></b> <br>  Prototipe panggilan layanan: <br>  <b>STATUS NU_Event_Group_Information (NU_EVENT_GROUP * grup, CHAR * nama, UNSIGNED * event_flags, UNSIGNED * task_waiting, NU_TASK ** first_task);</b> <br><br>  Parameter: <br>  <b>grup</b> - pointer ke blok kontrol yang disediakan pengguna untuk sekelompok bendera acara; <br>  <b>name</b> - pointer ke wilayah 8 karakter untuk nama grup flag acara, ini juga termasuk nol penghentian; <br>  <b>event_flags</b> - penunjuk ke variabel yang akan mengambil nilai saat ini dari kelompok bendera acara yang ditentukan; <br>  <b>task_waiting</b> - penunjuk ke variabel yang akan mengambil jumlah tugas yang ditangguhkan dalam kelompok ini bendera acara; <br>  <b>first_task</b> - pointer ke variabel tipe <b>NU_TASK</b> , yang akan membawa pointer ke tugas pertama yang ditangguhkan. <br><br>  Nilai pengembalian: <br>  <b>NU_SUCCESS</b> - panggilan berhasil diselesaikan; <br>  <b>NU_INVALID_GROUP</b> - penunjuk yang tidak valid ke sekelompok bendera acara. <br><br>  <b><i>Panggilan untuk mengambil informasi grup acara di Nucleus SE</i></b> <br>  Panggilan ini mendukung fungsionalitas inti dari Nucleus RTOS API. <br><br>  Prototipe panggilan layanan: <br>  <b>STATUS NUSE_Event_Group_Information (NUSE_EVENT_GROUP grup, U8 * event_flags, U8 * task_waiting, NUSE_TASK * first_task);</b> <br><br>  Parameter: <br>  <b>grup</b> - indeks kelompok bendera acara tentang informasi mana yang diminta; <br>  <b>event_flags</b> - penunjuk ke variabel yang akan mengambil nilai saat ini dari kelompok bendera acara yang ditentukan; <br>  <b>task_waiting</b> - pointer ke variabel yang akan mengambil jumlah tugas yang ditangguhkan dalam grup ini flag acara (tidak ada yang dikembalikan jika penangguhan tugas dinonaktifkan); <br>  <b>first_task</b> - pointer ke variabel tipe <b>NUSE_TASK</b> , yang akan mengambil indeks tugas yang ditangguhkan pertama (tidak ada yang dikembalikan jika penangguhan tugas dinonaktifkan). <br><br>  Nilai pengembalian: <br>  <b>NUSE_SUCCESS</b> - panggilan berhasil diselesaikan; <br>  <b>NUSE_INVALID_GROUP</b> - indeks grup bendera acara tidak valid. <br><br>  <b><i>Implementasi informasi grup acara di Nucleus SE</i></b> <br>  Menerapkan panggilan API ini cukup sederhana: <br><br><pre><code class="hljs pgsql">*event_flags = NUSE_Event_Group_Data[<span class="hljs-keyword"><span class="hljs-keyword">group</span></span>]; #<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> NUSE_BLOCKING_ENABLE *tasks_waiting = NUSE_Event_Group_Blocking_Count[<span class="hljs-keyword"><span class="hljs-keyword">group</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (NUSE_Event_Group_Blocking_Count[<span class="hljs-keyword"><span class="hljs-keyword">group</span></span>] != <span class="hljs-number"><span class="hljs-number">0</span></span>) { U8 <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>&lt;NUSE_TASK_NUMBER; <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((LONIB(NUSE_Task_Status[<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>]) == NUSE_EVENT_SUSPEND) &amp;&amp; (HINIB(NUSE_Task_Status[<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>]) == <span class="hljs-keyword"><span class="hljs-keyword">group</span></span>)) { *first_task = <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>; break; } } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { *first_task = <span class="hljs-number"><span class="hljs-number">0</span></span>; } #<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> *tasks_waiting = <span class="hljs-number"><span class="hljs-number">0</span></span>; *first_task = <span class="hljs-number"><span class="hljs-number">0</span></span>; #endif <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NUSE_SUCCESS;</code> </pre> <br>  Fungsi mengembalikan nilai kelompok bendera acara.  Kemudian, jika pemblokiran panggilan API diaktifkan, jumlah tugas yang tertunda dan indeks yang pertama akan dikembalikan (jika tidak, kedua parameter ini disetel ke nol). <br><br><h3>  Mendapatkan jumlah grup bendera acara </h3><br>  Panggilan utilitas ini mengembalikan jumlah grup bendera acara dalam aplikasi.  Dalam Nucleus RTOS, nilai ini berubah seiring waktu, dan nilai kembali menunjukkan jumlah grup saat ini, sementara di Nucleus SE nilai ini ditentukan selama perakitan dan tidak berubah seiring waktu. <br><br>  <b><i>Memanggil konter grup bendera acara di Nucleus RTOS</i></b> <br>  Prototipe panggilan layanan: <br>  <b>NU_Establised_Event_Groups (VOID) UNSIGNED;</b> <br><br>  Parameter: <br>  Tidak ada. <br><br>  Nilai pengembalian: <br>  Jumlah saat ini grup bendera acara dibuat. <br><br>  <b><i>Memanggil Konter Grup Bendera Acara di Nucleus SE</i></b> <br>  Prototipe panggilan layanan: <br>  <b>U8 NUSE_Event_Group_Count (batal);</b> <br><br>  Parameter: <br>  Tidak ada. <br><br>  Nilai pengembalian: <br>  Jumlah grup bendera acara yang dikonfigurasi. <br><br>  <b><i>Menerapkan konter grup bendera acara di Nucleus SE</i></b> <br>  Implementasi panggilan API ini cukup sepele: nilai simbol <b>#define</b> <b>NUSE_EVENT_GROUP_NUMBER dikembalikan</b> . <br><br><h2>  Struktur data </h2><br>  Seperti semua objek Nucleus SE lainnya, grup bendera acara menggunakan satu atau dua array struktur data (keduanya terletak di RAM), ukuran array tergantung pada jumlah grup yang ditentukan dalam pengaturan. <br><br>  Saya sangat merekomendasikan bahwa kode aplikasi tidak menggunakan akses langsung ke struktur data ini, tetapi merujuknya melalui fungsi API yang disediakan.  Ini akan menghindari ketidakcocokan dengan versi Nucleus SE di masa depan dan efek samping yang tidak diinginkan, serta menyederhanakan porting aplikasi ke Nucleus RTOS.  Untuk pemahaman yang lebih baik tentang kode panggilan layanan dan debugging, tinjauan rinci struktur data disediakan di bawah ini. <br><br><h3>  Data RAM </h3><br>  Data ini memiliki struktur sebagai berikut: <br>  <b>NUSE_Event_Group_Data []</b> - larik data tipe <b>U8 yang</b> memiliki satu catatan untuk setiap kelompok bendera yang dikonfigurasi;  itu menyimpan data flag event. <br>  <b>NUSE_Event_Group_Blocking_Count []</b> - larik tipe <b>U8 yang</b> berisi penghitung tugas yang diblokir di setiap grup bendera acara.  Array ini hanya ada ketika fungsi penguncian di API diaktifkan. <br><br>  Struktur data ini diinisialisasi dengan nol di fungsi <b>NUSE_Init_Event_Group ()</b> ketika Nucleus SE dimulai.  Salah satu artikel berikut akan memberikan deskripsi lengkap tentang prosedur startup Nucleus SE. <br><br>  Berikut ini adalah deskripsi struktur data ini dalam file <b>nuse_init.c</b> : <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">RAM</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">U8</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NUSE_Event_Group_Data</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[NUSE_EVENT_GROUP_NUMBER]</span></span>; <span class="hljs-selector-id"><span class="hljs-selector-id">#if</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NUSE_BLOCKING_ENABLE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RAM</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">U8</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NUSE_Event_Group_Blocking_Count</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[NUSE_EVENT_GROUP_NUMBER]</span></span>; <span class="hljs-selector-id"><span class="hljs-selector-id">#endif</span></span></code> </pre><br><h3>  Data ROM </h3><br>  Untuk mengimplementasikan grup bendera acara, data dalam ROM tidak digunakan. <br><br><h3>  Ukuran memori untuk grup bendera acara </h3><br>  Seperti dengan semua objek kernel Nucleus SE, jumlah memori yang diperlukan untuk grup bendera acara dapat diprediksi. <br><br>  Jumlah data dalam ROM untuk semua grup bendera acara dalam aplikasi adalah 0. <br><br>  Jumlah memori dalam RAM untuk semua grup bendera acara dengan fungsi penguncian API yang diaktifkan adalah <b>NUSE_EVENT_GROUP_NUMBER * 2</b> . <br><br>  Kalau tidak, itu adalah <b>NUSE_EVENT_GROUP_NUMBER</b> . <br><br><h2>  Panggilan API yang belum direalisasi </h2><br>  Tiga panggilan API untuk grup bendera acara yang dapat ditemukan di Nucleus RTOS tidak diterapkan di Nucleus SE. <br><br><h3>  Membuat Grup Bendera Acara </h3><br>  Panggilan API ini membuat sekelompok bendera acara.  Nucleus SE tidak memerlukan panggilan ini karena grup bendera acara dibuat secara statis. <br><br>  Prototipe panggilan layanan: <br>  <b>STATUS NU_Create_Event_Group (NU_EVENT_GROUP * grup, CHAR * nama);</b> <br><br>  Parameter: <br><br>  <b>grup</b> - pointer ke blok kontrol yang disediakan pengguna untuk sekelompok bendera acara;  Digunakan sebagai deskriptor untuk mengelola grup bendera acara di panggilan API lainnya <br>  <b>name</b> - pointer ke nama 8 karakter grup flag acara dengan terminasi null byte yang termasuk dalam area ini. <br><br>  Nilai pengembalian: <br><br>  <b>NU_SUCCESS</b> - panggilan berhasil diselesaikan; <br>  <b>NU_INVALID_GROUP</b> - pointer nol ke unit kontrol grup bendera acara ( <b>NULL</b> ) atau sudah digunakan. <br><br><h3>  Menghapus sekelompok bendera acara </h3><br>  Panggilan API ini menghapus grup bendera acara yang dibuat sebelumnya.  Nucleus SE tidak memerlukan panggilan ini karena grup bendera acara dibuat secara statis dan tidak dapat dihapus. <br><br>  Prototipe panggilan layanan: <br><br>  <b>STATUS NU_Delete_Event_Group (NU_EVENT_GROUP * grup);</b> <br><br>  Parameter: <br><br>  <b>grup</b> - penunjuk ke blok kontrol grup bendera acara. <br><br>  Nilai pengembalian: <br><br>  <b>NU_SUCCESS</b> - panggilan berhasil diselesaikan; <br>  <b>NU_INVALID_GROUP</b> - penunjuk yang tidak valid ke sekelompok bendera acara. <br><br><h3>  Pointer Grup Bendera Acara </h3><br>  Panggilan API ini membuat daftar pointer berurutan untuk semua grup bendera acara dalam sistem.  Nucleus SE tidak memerlukan panggilan ini karena grup bendera acara memiliki indeks sederhana, bukan petunjuk. <br><br>  Prototipe panggilan layanan: <br><br>  <b>UNSIGNED NU_Event_Group_Pointers (NU_EVENT_GROUP * pointer_list, maksimum_pointers UNSIGNED);</b> <br><br>  Parameter: <br><br>  <b>pointer_list</b> - pointer ke array pointer <b>NU_EVENT_GROUP</b> , array ini diisi dengan pointer ke grup bendera acara yang dibuat dalam sistem; <br>  <b>maximum_pointers</b> - jumlah maksimum pointer dalam array. <br><br>  Nilai pengembalian: <br><br>  Jumlah <b>NU_EVENT_GROUP</b> pointer dalam array. <br><br><h2>  Kompatibel dengan RTOS Inti </h2><br>  Ketika mengembangkan Nucleus SE, tujuan saya adalah untuk memastikan tingkat maksimum kompatibilitas kode dengan Nucleus RTOS.  Kelompok bendera acara tidak terkecuali, dan, dari sudut pandang pengembang, mereka diimplementasikan dengan cara yang hampir sama dengan di RTOS Inti.  Ada beberapa ketidakcocokan yang saya anggap valid, mengingat bahwa kode akhir akan menjadi lebih mudah dipahami dan lebih efisien dalam hal jumlah memori yang diperlukan.  Jika tidak, panggilan Nucleus RTOS API dapat digunakan hampir secara langsung sebagai panggilan Nucleus SE. <br><br><h3>  Pengidentifikasi Objek </h3><br>  Dalam Nucleus RTOS, semua objek dijelaskan oleh struktur data (unit kontrol) dari tipe tertentu.  Penunjuk ke unit kontrol ini adalah pengidentifikasi untuk sekelompok bendera acara.  Saya memutuskan bahwa dalam Nucleus SE, diperlukan pendekatan berbeda untuk penggunaan memori yang efisien: semua objek kernel dijelaskan oleh beberapa tabel dalam RAM dan / atau ROM.  Ukuran tabel ini ditentukan oleh jumlah objek yang dikonfigurasi dari setiap jenis.  Pengidentifikasi objek tertentu adalah indeks dalam tabel ini.  Jadi saya mendefinisikan <b>NUSE_EVENT_GROUP</b> sebagai setara dengan <b>U8</b> , variabel jenis ini (bukan pointer) berfungsi sebagai pengidentifikasi kelompok bendera acara.  Ketidakcocokan sedikit ini mudah ditangani jika kode porting dari Nucleus SE ke Nucleus RTOS dan sebaliknya.  Biasanya, tidak ada operasi yang dilakukan pada pengidentifikasi objek selain memindahkan dan menyimpan. <br><br>  Nucleus RTOS juga mendukung penamaan grup bendera acara.  Nama-nama ini hanya digunakan untuk debugging.  Saya mengecualikan mereka dari Nucleus SE untuk menghemat memori. <br><br><h3>  Jumlah bendera dalam grup </h3><br>  Dalam Nucleus RTOS, grup bendera acara masing-masing berisi 32 bendera, di Nucleus SE I mengurangi jumlahnya menjadi delapan, karena ini cukup untuk aplikasi sederhana dan menghemat RAM.  Nucleus SE dapat dengan mudah dimodifikasi jika kelompok yang lebih besar dari bendera acara diperlukan. <br><br><h3>  Fungsi penyerapan bendera </h3><br>  Nucleus RTOS memiliki fungsi untuk menghapus (menyerap) flag event setelah membacanya.  Saya memutuskan untuk mengecualikan fungsi ini dari Nucleus SE untuk menyederhanakan sistem, karena penyerapan (penghapusan) bendera terjadi ketika semua tugas yang diblokir menerima bendera untuk dibaca, dan ini akan sulit untuk diterapkan.  Jika perlu, tugas membaca bendera selalu dapat menghapusnya menggunakan panggilan API terpisah. <br><br><h3>  Panggilan API yang belum direalisasi </h3><br>  Nucleus RTOS mendukung tujuh panggilan utilitas untuk bekerja dengan grup bendera acara.  Dari jumlah tersebut, tiga tidak diimplementasikan dalam Nucleus SE.  Rincian tantangan ini, serta keputusan untuk mengeluarkannya dari Nucleus SE, telah dijelaskan di atas. <br>  Artikel selanjutnya akan melihat semaphores. <br><br>  <b>Tentang Pengarang:</b> Colin Walls telah bekerja di industri elektronik selama lebih dari tiga puluh tahun, mencurahkan sebagian besar waktunya untuk firmware.  Dia sekarang seorang insinyur firmware di Mentor Embedded (sebuah divisi dari Mentor Graphics).  Colin Walls sering berbicara di konferensi dan seminar, penulis berbagai artikel teknis dan dua buku tentang firmware.  Tinggal di Inggris.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Blog</a> profesional <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Colin</a> , email: colin_walls@mentor.com. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id428890/">https://habr.com/ru/post/id428890/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id428876/index.html">Tidak ada jalan untuk kembali: pengalaman pribadi penguji</a></li>
<li><a href="../id428878/index.html">Penerbangan Babi, atau Optimalisasi Penerjemah Bytecode</a></li>
<li><a href="../id428880/index.html">Metode otentikasi baru - ancaman terhadap privasi?</a></li>
<li><a href="../id428882/index.html">Ponsel Yandex. Blitz: kami menganalisis tugas</a></li>
<li><a href="../id428888/index.html">qml: kekuatan dan kesederhanaan</a></li>
<li><a href="../id428892/index.html">Cara membuat game AI: panduan untuk pemula</a></li>
<li><a href="../id428894/index.html">PPN untuk pembelian domestik</a></li>
<li><a href="../id428896/index.html">Sensor syaraf sensor hentai</a></li>
<li><a href="../id428898/index.html">Aspek bermasalah pemrograman di C ++</a></li>
<li><a href="../id428900/index.html">Robot beroda mulai mengirimkan barang ke penduduk Amerika Serikat dan Inggris</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>