<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛌🏻 👨🏾‍🤝‍👨🏻 🤾🏿 Wo ist sein Knopf ?! Wie kann eine einfache Person Daten aus Kibana und Elasticsearch entladen und die Entwickler nicht belasten? 👨🏽‍🎓 👩🏻‍✈️ 📸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Elasticsearch, Kibana und Logstash (ELK) sind ein hervorragendes Toolkit zum Sammeln und Visualisieren großer Datenmengen. 

 Protokolle, Magazine, Er...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wo ist sein Knopf ?! Wie kann eine einfache Person Daten aus Kibana und Elasticsearch entladen und die Entwickler nicht belasten?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414581/"> Elasticsearch, Kibana und Logstash (ELK) sind ein hervorragendes Toolkit zum Sammeln und Visualisieren großer Datenmengen. <br><br>  Protokolle, Magazine, Ereignisse - all dies lässt sich ganz einfach in einem einzigen Toolkit zusammenstellen, zuordnen und anzeigen.  Logstash ordnet Daten zu, Elasticsearch speichert sie und Kibana zeigt sie in Diagrammen an. <br><br>  Bei aller Leistung dieses Bundles gibt es natürlich Aufgaben, die mit den integrierten Funktionen nicht realisiert werden können. <br><br>  Zum Beispiel zeigt Kibana Daten perfekt in einer einzelnen Tabelle (Index) an, aber sobald es darum geht, verschiedene Indizes zu einer Stichprobe zu kombinieren, wirft es hilflos die Hände hoch. <br><br>  Die einzige Möglichkeit, das Problem in diesem Fall zu lösen, besteht darin, die Daten aus Kibana zu entladen und in einem anderen Tool, beispielsweise in Excel, zu kombinieren. <br><br>  Ein einfaches Beispiel.  Stellen Sie sich vor, Ihr Weihnachtsbaum (ELK) sammelt und speichert Jira-Ereignisse - für jede Änderung einer der Aufgaben des Task-Trackers. <br><br>  In diesem Fall speichert der Elasticsearch-Index mehrere Datensätze für eine Aufgabe: <br><br><img src="https://habrastorage.org/webt/n5/es/_l/n5es_l0gutmilv1g72-k0k6itao.png"><br><a name="habracut"></a><br>  Wenn Sie einen Jira-Ereignisplan erstellen möchten, der die Konvertierung von Aufgaben nach Status anzeigt, ist es unwahrscheinlich, dass Sie dies mit Kibana tun können.  Aufgrund der Besonderheiten von noSQL benötigen Sie alle Ereignisse einer Aufgabe, um in einen Elasticsearch-Datensatz zu „fahren“. <br><br>  Es ist ziemlich schwierig, dies zu tun, ohne Entwickler einzubeziehen und Logstash-Konfigurationen neu zu schreiben. <br><br>  Das erste, was Ihnen in den Sinn kommt, ist das Entladen von Daten aus Kibana, um sie manuell in normalem Excel zu verdrehen. <br><br>  Zu Ihrer großen Überraschung schlägt die Suche nach dem Upload-Button jedoch fehl, insbesondere wenn Kibana ein Unternehmen ist und Einschränkungen im Berichtsmodul aufweist: <br><br><img src="https://habrastorage.org/webt/4x/fo/ub/4xfoubdea8vmtyosrlugbv-wbfa.png"><br><br>  Was passiert also, es gibt Daten, die Sie jedoch nicht verwenden können? <br>  Es gibt tatsächlich einen geheimen Weg.  Über die Standardtabelle Bericht Datentabelle. <br><br>  Auf der Registerkarte "Visualisieren" können Sie viele verschiedene Berichte erstellen. Nur in der Datentabelle befindet sich eine Schaltfläche zum Hochladen von Daten im CSV-Format. <br><br><img src="https://habrastorage.org/webt/us/2g/63/us2g63xvo0pec7ju0ino3jirnc8.png"><br><br>  Wenn Sie mit Kibana arbeiten, nehmen Sie die Datentabelle wahrscheinlich als Aggregat wahr, d. H.  Eine Tabelle, in der Sie die Gesamtzahl von etwas berechnen können, aber es ist unmöglich, alle Datensätze aufzulisten.  Dies ist jedoch nicht ganz richtig. <br><br>  Die Tabelle hat eine wunderbare Funktion - Unique Count (um die Anzahl der eindeutigen Elemente zu zählen), mit der Sie die gesamte Liste der Datensätze in der Tabelle anzeigen können. <br><br>  Klicken Sie auf der Registerkarte "Visualisieren" auf "+", wählen Sie "Datentabelle" und geben Sie den Index an, aus dem Sie entladen möchten.  Geben Sie in den Tabellenparametern das Aggregat "Unique Count" und direkt unter dem Feld mit einer eindeutigen ID an. <br><br><img src="https://habrastorage.org/webt/ka/n6/xu/kan6xu9kwfkqnmz1mnhdga3a1jk.png"><br><br>  Wenn Sie die Nachzählung starten, zeigt Kibana die Anzahl der eindeutigen Einträge im Index an. <br>  Wie verwandle ich eine Nummer in eine Liste von Datensätzen?  Sehr einfach - mit der Schaltfläche „Zeilen teilen“ <br>  Klicken Sie darauf und wählen Sie "Begriffe" als Aggregat (Aufschlüsselung nach Feldwert). <br>  Dies ist ein wichtiger Punkt: Geben Sie unter „Feld“ ein Feld mit einer eindeutigen Datensatz-ID an. <br><br>  Und siehe da, eine Zahl, wenn man einen Tisch erzählt, verwandelt sich auf magische Weise in einen Tisch! <br>  Hier ist es, der Moment der Wahrheit. <br><br>  Was hast du getan  Kurz gesagt, Sie haben Kibana mitgeteilt, dass Sie die Anzahl der eindeutigen Datensätze zählen möchten, und die Gruppierung der Datensätze nach Attributen angegeben, nämlich nach den eindeutigen Werten des von Ihnen angegebenen Felds. <br><br>  Jetzt zählt Kibana die Anzahl der Elemente in jeder Gruppe separat.  Als Werte, für die Sie eine eindeutige Datensatz-ID angegeben haben, begann Kibana, die Anzahl der eindeutigen Datensätze zu zählen, die nach einer eindeutigen ID gruppiert sind, d. h.  Tatsächlich ist neben jeder Zeile der Tabelle die Metrik "Unique Count" gleich "1". <br><br>  Sie haben das gewünschte Ergebnis erhalten - alle Datensätze angezeigt und zusätzlich berechnet, wie viele Zeilen Sie im Index mit derselben ID haben. <br><br><img src="https://habrastorage.org/webt/6b/oy/tn/6boytng4ypu6ajrivjasoksuxqy.png"><br><br>  Wenn die Spalten in der Tabelle nicht ausreichen, fügen Sie zusätzliche Felder hinzu, indem Sie auf die Schaltfläche "Unter-Buckets hinzufügen" und dann auf "Zeilen teilen" klicken. <br><br><img src="https://habrastorage.org/webt/86/bn/-k/86bn-k8pachweobxqwaao7npuni.png"><br><br>  Wählen Sie überall "Begriffe" als Aggregat aus und geben Sie die Namen der Felder an, die Sie der Tabelle hinzufügen möchten. <br><br><img src="https://habrastorage.org/webt/je/jl/wn/jejlwnvhoo6aymu-vmtzq7mprxk.png"><br><br>  Fertig.  Sie haben einen vollständigen Upload des Index erhalten. <br>  Sie müssen lediglich die Visualisierung speichern und auf die Schaltfläche „Raw exportieren“ oder „Formatiert exportieren“ klicken. <br><br><img src="https://habrastorage.org/webt/ng/ha/wd/nghawdmii16zzs8stpyhildlufk.png"><br><br>  Raw entlädt alles Raw und formatiert formatiert die Daten entsprechend dem in Kibana festgelegten Gebietsschema neu. <br>  Das ist alles. <br><br>  Wie Sie sehen können, ist das Hochladen von Kibana zu einer einfachen Person, die mit der Programmierung nicht vertraut ist, weiterhin möglich, obwohl die Lösung nicht auf der Oberfläche liegt. <br><br>  Ich hoffe, dieser kleine Trick erleichtert jemandem das Leben und gibt mir die Möglichkeit, die Daten schnell zu analysieren, ohne Entwickler in die Downloads einzubeziehen. <br><br>  Wenn meine Erfahrung Ihnen geholfen hat, freue ich mich über Ihren Kommentar zu diesem Artikel. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de414581/">https://habr.com/ru/post/de414581/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de414569/index.html">Korallenriffe halten Geheimnisse der Vergangenheit und Zukunft der Ozeane</a></li>
<li><a href="../de414571/index.html">Die unerwartete Relativität des im Gehirn eingebauten GPS</a></li>
<li><a href="../de414573/index.html">IP DoorBell - Interaktive Türklingel</a></li>
<li><a href="../de414577/index.html">Devilution: Diablo Reverse Engineering Projekt</a></li>
<li><a href="../de414579/index.html">Google AI hat gelernt, vorherzusagen, wann ein Patient sterben wird (aber nicht alles ist so düster)</a></li>
<li><a href="../de414583/index.html">RIT ++, Tech RaDarts und alles in allem</a></li>
<li><a href="../de414585/index.html">Wie meine String.getBytes (UTF_8) kaputt gingen und was ich damit gemacht habe</a></li>
<li><a href="../de414587/index.html">DIY Standalone-Drohne mit Kontrolle über das Internet. Teil 2 über Software</a></li>
<li><a href="../de414589/index.html">Sberbank Collaborative Robotics: Was für einen Roboter können wir mit Ihnen machen?</a></li>
<li><a href="../de414593/index.html">Vergleich von C # und JavaScript. Die Grundlagen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>