<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéπ üåµ ü§ñ Tes Unit Python: Mulai Cepat ü•Ö üöì üëâüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Terjemahan artikel disiapkan khusus untuk siswa kursus Python QA Engineer . 

 Pengujian kode unit merupakan bagian integral dari siklus hidup pengemb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tes Unit Python: Mulai Cepat</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/481806/">  <i>Terjemahan artikel disiapkan khusus untuk siswa kursus <a href="https://otus.pw/378I/">Python QA Engineer</a> .</i> <br><hr><br>  Pengujian kode unit merupakan bagian integral dari siklus hidup pengembangan perangkat lunak.  Tes unit juga membentuk dasar untuk melakukan pengujian regresi, yaitu, mereka menjamin bahwa sistem akan berperilaku sesuai dengan skenario ketika fitur baru ditambahkan atau yang sudah ada berubah. <br><br>  Pada artikel ini, saya akan menunjukkan ide dasar pengujian unit dalam satu kelas.  Dalam praktiknya, Anda harus menulis banyak test case, menambahkannya ke test suite, dan menjalankan semuanya.  Manajemen kasus uji akan dibahas dalam artikel berikutnya. <a name="habracut"></a><br><br>  Hari ini kita akan fokus pada pengujian backend.  Artinya, pengembang telah mengimplementasikan beberapa proyek sesuai dengan spesifikasi (misalnya, Calculator.py), dan tugas Anda adalah memastikan bahwa kode yang dikembangkan benar-benar cocok dengan mereka (misalnya, menggunakan <code>TestCalculator.py</code> ). <br><br>  Misalkan Anda menulis kelas Kalkulator untuk melakukan fungsi komputasi dasar: penjumlahan, pengurangan, perkalian, dan pembagian. <br><br>  Kode untuk ini ada di sini ( <code>Calculator.py</code> ): <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#A simple calculator class Calculator: #empty constructor def __init__(self): pass #add method - given two numbers, return the addition def add(self, x1, x2): return x1 + x2 #multiply method - given two numbers, return the #multiplication of the two def multiply(self, x1, x2): return x1 * x2 #subtract method - given two numbers, return the value #of first value minus the second def subtract(self, x1, x2): return x1 - x2 #divide method - given two numbers, return the value #of first value divided by the second def divide(self, x1, x2): if x2 != 0: return x1/x2</span></span></code> </pre> <br>  Sekarang saya ingin menjalankan unit test untuk memahami bahwa fungsi di kelas di atas berfungsi seperti yang direncanakan. <br><br>  Python biasanya datang dengan paket <code>unittest</code> .  Jika tidak ada di sistem Anda, gunakan pip untuk menginstalnya. <br><br>  Tes unit memiliki struktur berikut: <br><br><img src="https://habrastorage.org/webt/ka/u1/ck/kau1ckv7rgr6be2w6xjwrmgkzqy.png"><br><br>  <code>setUp()</code> dan <code>tearDown()</code> adalah metode standar yang datang dengan kerangka kerja unittest (mereka didefinisikan dalam kelas unittest.TestCase).  Tergantung pada kasus pengujian Anda, Anda dapat menimpa atau tidak menimpa kedua metode ini secara default. <br><br>  Saatnya untuk melihat kode kasus uji.  Ini file <code>TestCalculator.py</code> . <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Calculator <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Calculator <span class="hljs-comment"><span class="hljs-comment">#Test cases to test Calulator methods #You always create a child class derived from unittest.TestCase class TestCalculator(unittest.TestCase): #setUp method is overridden from the parent class TestCase def setUp(self): self.calculator = Calculator() #Each test method starts with the keyword test_ def test_add(self): self.assertEqual(self.calculator.add(4,7), 11) def test_subtract(self): self.assertEqual(self.calculator.subtract(10,5), 5) def test_multiply(self): self.assertEqual(self.calculator.multiply(3,7), 21) def test_divide(self): self.assertEqual(self.calculator.divide(10,2), 5) # Executing the tests in the above test case class if __name__ == "__main__": unittest.main()</span></span></code> </pre> <br>  Meskipun ini tidak perlu, tetapi sebagai aturan saya memanggil kelas uji dengan Uji awalan (dalam kasus kami TestCalculator).  Persyaratan utama di kelas ini adalah keberadaan superclass <code>unittest.TestCase</code> . <br><br>  Setiap kali test case ini dijalankan, metode setUp () dijalankan terlebih dahulu.  Dalam kasus kami, kami cukup membuat objek Kalkulator kelas dan menyimpannya sebagai atribut kelas.  Ada beberapa metode standar lain di kelas induk, yang akan kita bahas nanti. <br><br>  Untuk saat ini, semua yang akan Anda lakukan adalah menulis metode <code>test_xxx</code> untuk menguji setiap metode di kelas Kalkulator.  Harap dicatat bahwa semua metode pengujian dimulai dengan awalan <code>test_</code> .  Ini memberitahu Python menggunakan kerangka kerja unittest bahwa ini adalah metode pengujian. <br><br>  Di setiap metode pengujian, saya menggunakan metode <code>assertEqual</code> untuk memeriksa apakah metode kalkulator mengembalikan nilai yang diharapkan.  Jika nilai kembali sama dengan nilai yang diharapkan, maka tes berhasil, jika tidak maka gagal. <br><br>  Ada banyak metode <code>assert</code> yang akan kita bicarakan nanti. <br><br>  Baris terakhir dalam kode di atas hanya meluncurkan <code>TestCalculator</code> test case.  Ini mengeksekusi setiap metode pengujian yang didefinisikan di dalam kelas dan mengembalikan hasilnya. <br><br><pre> <code class="python hljs">python TestCalculator.py -v</code> </pre> <br><br>  Anda akan melihat kesimpulan yang mirip dengan yang berikut: <br><br><pre> <code class="python hljs">test_add (__main__.TestCalculator) ... ok test_divide (__main__.TestCalculator) ... ok test_multiply (__main__.TestCalculator) ... ok test_subtract (__main__.TestCalculator) ... ok -------------------------------------------------------------------- Ran <span class="hljs-number"><span class="hljs-number">4</span></span> tests <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span>s OK</code> </pre> <br>  Bagaimana jika sesuatu tidak berfungsi seperti yang diharapkan?  Mari kita ubah nilai yang diharapkan dari <code>test_divide</code> dari 5 menjadi 6 (5 adalah nilai yang benar, sekarang kita akan melihat apa yang terjadi jika gagal. Ini bukan kesalahan dalam kode sumber, tetapi kesalahan di suite tes, Anda mungkin juga memiliki kesalahan dalam suite tes, jadi selalu periksa skrip pengujian untuk kesalahan!) <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> unittest <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Calculator <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Calculator <span class="hljs-comment"><span class="hljs-comment">#Test cases to test Calulator methods #You always create a child class derived from unittest.TestCase class class TestCalculator(unittest.TestCase): #setUp method overridden from the parent class TestCase def setUp(self): self.calculator = Calculator() ... def test_divide(self): self.assertEqual(self.calculator.divide(10,2), 6) # Executing the tests in the above test case class if __name__ == "__main__": unittest.main()</span></span></code> </pre> <br>  Ketika Anda menjalankan test case ini, Anda akan mendapatkan hasil berikut: <br><br><pre> <code class="python hljs">test_add (__main__.TestCalculator) ... ok test_divide (__main__.TestCalculator) ... FAIL test_multiply (__main__.TestCalculator) ... ok test_subtract (__main__.TestCalculator) ... ok ==================================================================== FAIL: test_divide (__main__.TestCalculator) -------------------------------------------------------------------- Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"TestCalculator.py"</span></span>, line <span class="hljs-number"><span class="hljs-number">23</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> test_divide self.assertEqual(self.calculator.divide(<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-number"><span class="hljs-number">6</span></span>) AssertionError: <span class="hljs-number"><span class="hljs-number">5.0</span></span> != <span class="hljs-number"><span class="hljs-number">6</span></span> -------------------------------------------------------------------- Ran <span class="hljs-number"><span class="hljs-number">4</span></span> tests <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span>s FAILED (failures=<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  Dikatakan di sini bahwa 3 dari 4 tes berhasil, tetapi satu gagal.  Dalam skenario nyata, diasumsikan bahwa test case Anda benar, yaitu, dengan cara ini membantu mengidentifikasi fungsi yang tidak diterapkan dengan benar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id481806/">https://habr.com/ru/post/id481806/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id481794/index.html">Beckender - seorang psikoterapis: seorang debugger untuk jiwa</a></li>
<li><a href="../id481796/index.html">Cara membagi peran dalam proyek Laravel: ikhtisar paket RBAC</a></li>
<li><a href="../id481798/index.html">Menggabungkan tidak kompatibel: tim pengembangan produk dan dukungan semua digulung menjadi satu</a></li>
<li><a href="../id481800/index.html">VPS Anggaran dengan adapter video: perbandingan penyedia Rusia</a></li>
<li><a href="../id481804/index.html">Meningkatkan allOf dan anyOf di CompletableFuture</a></li>
<li><a href="../id481808/index.html">Mengapa dukungan otomasi merugikan bisnis</a></li>
<li><a href="../id481812/index.html">Penelitian saya - yang bekerja di bidang TI - profesi, keterampilan, motivasi, pengembangan karir, teknologi (DIPERBARUI 12/26/2019)</a></li>
<li><a href="../id481814/index.html">FunCode Java / Kotlin menantang kontes backend</a></li>
<li><a href="../id481818/index.html">Memigrasi server yang sedang berjalan ke RAID</a></li>
<li><a href="../id481820/index.html">PocketBook: hasil tahun ini, atau Apa yang Baru dan Penting terjadi pada 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>