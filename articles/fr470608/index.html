<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🃏 🌆 🚆 Optimisation de l'interface utilisateur Unity 🍪 🔝 😪</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article traite de l'optimisation des éléments d'interface utilisateur des projets réalisés dans Unity. Sur la base d'informations issues de la doc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Optimisation de l'interface utilisateur Unity</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/470608/"><p><img src="https://habrastorage.org/webt/zc/iw/5s/zciw5sbh_cn-pp5gmmxwu5rznm0.png" alt="image"></p><br><p>  Cet article traite de l'optimisation des éléments d'interface utilisateur des projets réalisés dans Unity.  Sur la base d'informations issues de la documentation officielle et de mon expérience personnelle, j'ai essayé d'expliquer clairement les principes de fonctionnement des éléments de l'interface utilisateur.  Vous trouverez également ici des conseils pratiques qui vous aideront à améliorer les performances de votre projet en ce qui concerne l'interface utilisateur. </p><a name="habracut"></a><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Terminologie</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Introduction</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rendu de l'interface utilisateur Unity</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Refonte de l'interface utilisateur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Maillage</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conseils généraux d'optimisation de l'interface utilisateur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Travailler avec du texte et son optimisation</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Atlas de sprites</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Résumer les méthodes d'optimisation</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les sources</a> </li></ul><br><h3 id="anchorthermsanchorterminologiya"><a name="therms"></a>  Terminologie </h3><br><p> <strong>Les éléments d'interface utilisateur</strong> sont tous les éléments d'Unity liés à la création d'une interface utilisateur.  Cela inclut, par exemple: bouton, texte, image, menu déroulant, etc. <br>  <strong>Canvas (canvas)</strong> - l'élément de base de l'interface utilisateur, qui est un conteneur pour le reste des éléments. <br>  <strong>Mesh</strong> - un ensemble de paramètres décrivant un modèle 3D. <br>  <strong>Un quad</strong> est un maillage qui est un quadrilatère. <br>  <strong>Batching</strong> - combinaison de maillages d'objets en un seul grand maillage pour un rendu plus rapide. <br>  <strong>Draw-call</strong> - une commande pour dessiner du moteur vers l'API graphique (par exemple, OpenGL ou Direct3D). <br>  <strong>File d'attente transparente</strong> - une file d'attente pour le rendu d'objets transparents. <br>  <strong>Alpha blending</strong> (Alpha blending) - un algorithme pour mélanger les pixels sur le canal alpha pour obtenir une image avec transparence. <br>  <strong>Atlas</strong> est un type de ressource qui combine plusieurs textures en une seule. </p><br><h3 id="anchorenteranchorvvodnaya"><a name="enter"></a>  Introduction </h3><br><p>  Dans l'optimisation de l'interface utilisateur, il n'y a pas de règles universelles qui fonctionnent dans n'importe quelle situation.  Tout se résume à trouver un équilibre entre le coût du traitement par lots et le nombre d'appels de tirage.  On peut distinguer quatre problèmes principaux: </p><br><ul><li>  Charge GPU trop élevée (surcharge sur le rendu); </li><li>  trop de charge CPU lors de la reconstruction du canevas; </li><li>  trop d'éléments changeants conduisant à la reconstruction de la toile; </li><li>  La charge du processeur est trop importante pour la génération de maillage (généralement associée au texte). </li></ul><br><h3 id="anchordrawanchorotrisovka-unity-ui"><a name="draw"></a>  Rendu de l'interface utilisateur Unity </h3><br><p>  L'élément de base de l'interface utilisateur Unity est le canevas.  Il est responsable de la génération, du tri et du rendu des maillages des éléments d'interface enfant.  Tous les éléments de l'interface utilisateur doivent être des enfants de n'importe quel canevas, sinon ils ne seront pas affichés dans le jeu. <br><img src="https://habrastorage.org/webt/_o/tl/ym/_otlymxpp3b04alh9902hx3w9fu.png" alt="image"><br>  Le rendu se produit de l'objet le plus éloigné à l'objet le plus éloigné de l'appareil photo <strong>(de l'arrière vers l'avant)</strong> dans la <strong>file</strong> d' <strong>attente transparente</strong> avec un mélange alpha. </p><br><p>  Par ailleurs, il convient de noter que la transparence des éléments de l'interface utilisateur <strong>n'affecte PAS</strong> les performances.  Même si l'élément est entièrement constitué de pixels «opaques», il sera toujours rendu en utilisant le mélange alpha. </p><br><p>  Il est également important de comprendre que lors du rendu, tous les pixels de tous les éléments actifs sont traités.  Cela ne dépend pas qu’ils soient visibles, bloqués par d’autres objets ou même complètement transparents. </p><br><h3 id="anchorrebuildanchorperestroenie-interfeysa-polzovatelya"><a name="rebuild"></a>  Refonte de l'interface utilisateur </h3><br><p>  La refonte de l'interface utilisateur est un processus en plusieurs étapes, comprenant la construction des maillages de chaque élément de l'interface utilisateur et la tentative de patcher ces maillages afin de minimiser le nombre d' <strong>appels</strong> de <strong>tirage</strong> . </p><br><p>  La reconstruction se déroule en quatre étapes: </p><br><ol><li>  Les structures des éléments sont analysées. </li><li>  Les maillages de tous les éléments actifs, y compris les éléments avec une transparence nulle, sont reconstruits. </li><li>  Reconstruit les matériaux pour le maillage des maillages d'éléments. </li><li>  Tous les éléments sont dessinés selon leur ordre. </li></ol><br><p>  Le canevas reconstruit est mis en cache et réutilisé jusqu'à ce que l'un des éléments du canevas soit marqué comme modifié. <br>  <strong>Les</strong> objets <strong>sales</strong> sont marqués qui ont été activés ou désactivés;  qui ont changé de matière, de position, d'échelle, de rotation;  la valeur du texte du composant texte a changé;  réaffectation du parent, etc. </p><br><p>  Dans ce cas, la reconstruction du canevas contient à nouveau au moins un élément modifié.  Certes, cela s'applique uniquement au canevas dans lequel se trouve l'élément.  En d'autres termes, les modifications apportées aux éléments dans les toiles enfants n'affectent pas celles des parents. </p><br><p>  Plus il y a d'éléments dans le canevas, plus le coût d'analyse et de tri des objets est élevé. </p><br><h3 id="anchorbatchanchorbatching-meshey"><a name="batch"></a>  Maillage </h3><br><p>  La fusion de maillages ou de lots permet de réduire la charge sur le GPU en réduisant le nombre d'appels de tirage.  Au cours du processus de traitement par lots, les mailles sont triées par profondeur et vérifiées pour le chevauchement.  Lors du passage d'un élément distant à un élément proche (ou de l'élément supérieur à l'élément inférieur dans la hiérarchie), les objets avec les mêmes matériaux ou textures sont combinés en un maillage au sein du même canevas.  Pour cela, il ne doit pas y avoir d'objets avec d'autres matériaux entre eux.  En outre, les objets avec d'autres matériaux ne doivent pas chevaucher les objets cuits au four avec leurs conteneurs globaux.  L'opération de traitement par lots est multi-thread, ses performances varient considérablement en fonction du nombre de cœurs dans le processeur. </p><br><p>  Le texte peut flotter avec d'autres textes s'ils ont la même police.  Peu importe que les paramètres et les styles de police soient identiques ou différents.  Si les polices sont différentes, le texte ne roulera pas. </p><br><p>  Il convient également de garder à l'esprit que le texte peut chevaucher un objet avec son conteneur global, et un tel chevauchement peut être facilement ignoré. <br><img src="https://habrastorage.org/webt/hp/25/q6/hp25q6lnrkta2lfzglksyejea34.png" alt="image"></p><br><p>  Prenons un exemple.  Il y a trois objets A, B et C disposés dans une hiérarchie de cette façon: <br><img src="https://habrastorage.org/webt/iq/s-/7e/iqs-7ev081f2-yspnchyfhu7ejy.png" alt="image"><br><img src="https://habrastorage.org/webt/-x/xi/4o/-xxi4olr9aexg7rk2sic-4vntrw.png" alt="image"><br>  Dans l'image de gauche, les objets A et C seront fusionnés, car  ont le même matériau et ne se croisent pas avec l'objet B. Dans l'image de droite, les objets A et C ne seront pas combinés, car  il y a une intersection avec l'objet B. </p><br><h3 id="anchorcommonanchorobschie-sovety-po-optimizacii-ui"><a name="common"></a>  Conseils généraux d'optimisation de l'interface utilisateur </h3><br><p>  Avant de commencer l'optimisation, il est fortement recommandé de profiler l'interface utilisateur.  Cela aidera à identifier les goulots d'étranglement entraînant une perte de performances (le cas échéant).  Pour le profilage, il existe de nombreux outils, à la fois intégrés à Unity (Unity Profiler) et à des outils tiers.  Mais nous ne discuterons pas des problèmes de profilage de l'interface utilisateur dans cet article. </p><br><p>  Voici quelques suggestions pour optimiser votre interface utilisateur dans Unity: </p><br><ol><li>  Désactivez les objets invisibles.  Si un élément est superposé par un élément opaque, vous devez désactiver son GameObject ou le GameObject parent de l'élément superposé.  Dans le même temps, les éléments d'interface avec alpha défini sur 0 seront toujours dessinés.  Pour de tels objets, vous devez activer Cull Transparent Mesh dans le composant Canvas Renderer ou tout simplement désactiver les objets invisibles. <br><img src="https://habrastorage.org/webt/gq/mf/hb/gqmfhb92x6wbpjgs3imcclryb8m.png" alt="image"></li><li>  Désactivez les objets du monde cachés par une interface opaque.  Si l'interface ne couvre pas le monde entier, vous pouvez l'enregistrer dans la texture de rendu et désactiver la caméra mondiale. </li><li>  Minimisez le nombre de pixels à dessiner.  Combinez autant d'images que possible en une seule.  Par exemple, il est logique de faire des boutons un sprite unique, plutôt que des calques séparés avec un arrière-plan, un trait, un corps de bouton, etc.  Cela réduira la flexibilité de travailler avec de tels éléments et peut entraîner un colmatage des ressources, donc un compromis doit être recherché. <br><img src="https://habrastorage.org/webt/sh/o8/q-/sho8q-hlftycczgnzevncmx1hoa.png" alt="image"></li><li>  Évitez les éléments vides qui servent uniquement à organiser la structure (n'utilisez pas les éléments comme noms de «dossiers» dans la hiérarchie des documents). </li><li>  Évitez de croiser des objets qui ne peuvent pas cuire les uns avec les autres.  Si possible, il est préférable de modifier la position dans la hiérarchie, la taille du conteneur ou la position des éléments qui se chevauchent et qui n'agglomèrent pas. </li><li>  Utilisez un canevas séparé ou imbriqué pour les éléments dynamiques.  Vous minimisez ainsi le coût du tri et de la reconstruction de la structure du canevas contenant un grand nombre d'éléments.  Les toiles imbriquées sont plus pratiques, car  hérite des paramètres du canevas parent.  Dans le même temps, lors du changement du canevas parent, tous ceux imbriqués seront également reconstruits.  C'est assez rare, mais cela arrive (par exemple, lors du changement de la résolution d'écran).  Gardez à l'esprit que les objets provenant de différentes toiles ou de toiles imbriquées NE sont PAS cuits pour le rendu conjoint.  Il est recommandé de diviser les toiles selon la régularité des éléments de mise à jour.  Les éléments statiques doivent être placés dans un canevas séparé, puis ils ne seront dessinés qu'une seule fois.  S'il y a des éléments qui changent constamment, il est préférable de les combiner dans un autre canevas, car  ils continueront à se reconstruire.  Les objets changeants peuvent également être divisés en plusieurs toiles par le taux de rafraîchissement.  Par exemple, les éléments mis à jour à chaque cadre sont placés dans un canevas et les éléments mis à jour moins souvent dans un autre. </li><li>  La désactivation de Pixel Perfect augmentera considérablement la productivité.  Cela est particulièrement vrai pour les objets constamment mis à jour avec un grand nombre d'éléments (par exemple, un inventaire défilant). <br><img src="https://habrastorage.org/webt/0d/zg/xi/0dzgxi_azqoacbfsdarrgr7nejo.png" alt="image"><br>  La toile <br><img src="https://habrastorage.org/webt/jv/qt/31/jvqt315ookagmhaiftexsaguz0g.png" alt="image"><br>  Toile imbriquée </li><li>  Si vous devez désactiver le canevas, ne désactivez pas l'objet qui le contient (via la fonction <strong>SetActive</strong> ).  La prochaine fois que vous activerez les éléments de ce canevas, ils seront marqués comme modifiés et tous les éléments seront reconstruits.  Il est préférable de désactiver le composant de canevas lui-même, alors la structure entière et les données cuites ne changeront pas et la prochaine fois que vous activerez le composant de canevas, ils commenceront simplement leur dessin. <br><img src="https://habrastorage.org/webt/pr/qo/-s/prqo-stitn0evgzxrddr54ncqwk.png"></li><li>  Pour les toiles avec <strong>Screen Space - Camera</strong> ou <strong>World Space</strong> sélectionné dans le paramètre <strong>Render Mode</strong> , installez toujours une caméra.  Si vous ne l'installez pas, le système d'interface utilisateur dans chaque cadre le recherchera via <strong>Object.FindObjectWithTag</strong> pour trouver <strong>Camera.main</strong> , et cela affectera les performances. </li><li>  Afin de ne pas créer plusieurs textures identiques, vous pouvez en créer une en nuances de gris et la «peindre» via le composant Image en sélectionnant la couleur souhaitée. <br><img src="https://habrastorage.org/webt/o7/tj/jr/o7tjjrk1hyt5a1rqbukrw-upsh0.png"></li><li>  Ne laissez l' <strong>indicateur Raycast Target</strong> que sur les éléments qui nécessitent des événements d'entrée et supprimez le reste.  Par défaut, la <strong>cible Raycast est</strong> activée sur de nombreux éléments (image, texte, etc.).  Cela complique et ralentit le travail du composant <strong>Raycaster</strong> , qui gère les événements d'entrée dans Unity UI.  Lorsque vous cliquez ou appuyez sur, il parcourt toute la hiérarchie des éléments et recherche tous les composants graphiques avec l' <strong>indicateur Raycast Target défini,</strong> puis les vérifie pour la possibilité d'événements d'entrée et, après avoir passé les vérifications avec succès, les ajoute à la liste des résultats.  Après cela, la liste des résultats est triée par profondeur, les objets en dehors de l'écran sont supprimés.  En conséquence, il donne la liste finale des résultats. <br>  Dans Unity UI, de nombreux composants (Image, Texte, etc.) ont l' <strong>indicateur Raycast Target</strong> . </li></ol><br><p><img src="https://habrastorage.org/webt/vp/k8/ce/vpk8cecf2dr_svrostszl-hkeeo.png" alt="image"><br>  <strong>Raycast Target</strong> sur le composant image. </p><br><p><img src="https://habrastorage.org/webt/lx/z9/3o/lxz93oxpurdfign10vwpuf8mnv0.png" alt="image"><br>  <strong>TextMeshPro l'a</strong> caché dans l'onglet <strong>Paramètres supplémentaires</strong> . </p><br><p><img src="https://habrastorage.org/webt/k_/63/09/k_6309bflccv61qqzc9g_rpu3u4.png" alt="image"><br>  Pour <strong>TextMeshPro,</strong> vous pouvez définir le <strong>paramètre Cible Raycast</strong> par défaut dans <strong>Paramètres du lecteur -&gt; TextMest Pro -&gt; Paramètres -&gt; Activer la cible Raycast</strong> . </p><br><p>  Les éléments sont testés lorsque: </p><br><ul><li>  Raycast Target activé </li><li>  l'élément lui-même est allumé et activé; </li><li>  le point d'insertion est à l'intersection avec RectTransform. </li></ul><br><p>  Il est également judicieux de supprimer l'indicateur Raycast Target des enfants si l'objet racine le possède déjà et chevauche complètement les enfants avec sa géométrie.  Par exemple, le bouton d'interface utilisateur Unity standard. </p><br><img src="https://habrastorage.org/webt/q7/6i/cz/q76iczyqwjxw6slf9ji6bgu1vqa.png"><br><p>  L'image chevauche complètement le texte avec sa forme, dans ce cas, vous pouvez supprimer la <strong>cible Raycast</strong> du composant texte. </p><br><img src="https://habrastorage.org/webt/vf/oy/la/vfoylaklhkozlwt0dzboxd8r5vy.png"><br><p>  Si tous les éléments du canevas n'attendent pas les événements d'entrée, vous pouvez supprimer le composant <strong>Graphic Raycaster</strong> du canevas / canevas imbriqué. </p><br><h3 id="anchortextanchorrabota-s-tekstom-i-ego-optimizaciya"><a name="text"></a>  Travailler avec du texte et son optimisation </h3><br><p>  Le texte de l'interface Unity est constitué de grilles dans lesquelles chaque symbole est créé son propre quad.  Le maillage est reconstruit à chaque fois que la valeur du texte change.  La reconstruction se produit également si le composant texte ou son parent a été désactivé puis réactivé. </p><br><p>  Par défaut, les polices dans Unity sont ajoutées en tant que dynamiques.  Pour chaque police dynamique utilisée dans le composant texte de la scène, un atlas est créé.  Seuls les personnages utilisés sont inclus dans cet atlas.  Par exemple, si le champ de texte contient le texte «Nouveau texte», l'atlas créé pour lui contiendra les caractères «N», «e», «w», «T», «x» et «t».  Pour chaque personnage de taille ou de style différent, une représentation sera créée dans l'atlas. </p><br><img src="https://habrastorage.org/webt/ze/pw/jx/zepwjxjnaa7nk2qxvenmvt3flc4.png"><br><p>  Texte sur scène </p><br><img src="https://habrastorage.org/webt/d0/1j/un/d01jun9sehx1lhs6wdrfwhyfn8q.png"><br><p>  Atlas des polices </p><br><p>  Si pendant l'exécution du programme le contenu du composant texte change et qu'il apparaît des caractères qui ne sont pas dans l'atlas, l'atlas entier sera reconstruit.  S'il y a de l'espace libre dans la texture de l'atlas, les symboles nécessaires y seront simplement ajoutés.  Dans le même temps, les caractères qui ne sont pas actuellement utilisés ne seront pas supprimés.  S'il n'y a pas assez d'espace dans l'atlas pour de nouveaux caractères, sa taille sera doublée et remplie à nouveau en fonction des caractères utilisés dans les composants de texte actifs. </p><br><p>  Si un nombre strictement défini de caractères est défini pour un projet, par exemple, uniquement l'alphabet latin, alors il vaut la peine d'utiliser des polices statiques qui sont stockées en permanence en mémoire.  Si votre projet autorise un grand nombre de caractères, il vaut mieux s'attarder sur les polices dynamiques. <br>  Vous pouvez également améliorer les performances en remplaçant le composant texte par un sprite.  Par exemple, les nombres apparaissant dans le jeu (score) peuvent être créés à l'aide de sprites d'un atlas contenant uniquement un ensemble de caractères nécessaires.  Dans ce cas, il n'y aura aucun frais pour reconstruire la toile et l'atlas de la police. </p><br><p>  L'utilisation de polices de secours, répertoriées dans le champ <strong>Noms</strong> des polices des paramètres de police, augmente la mémoire utilisée.  Cela est particulièrement visible dans les polices pictographiques. </p><br><p>  Il n'est pas recommandé d'utiliser <strong>Best Fit</strong> , car  cette option entraîne un débordement rapide de l'atlas et provoque sa restructuration. <br>  <strong>Le meilleur ajustement</strong> ignore les paramètres de taille de police et essaie d'ajuster le texte dans le rectangle de contour du composant texte. </p><br><p>  Maintenant, <strong>quelques</strong> mots sur <strong>TextMeshPro (TMP)</strong> , un remplacement populaire pour le composant texte Unity standard.  TextMeshPro reconstruit également sa grille à chaque fois que la valeur du texte change.  Cependant, le texte TMP n'utilise pas de polices dynamiques.  Pour cela, des atlas de polices sont générés à l'avance, qui incluent tous les caractères nécessaires.  Si, pour certains textes de la scène, aucun caractère de la police n'est affecté à son composant, alors TMP commence la recherche dans les polices de sauvegarde.  S'il n'y a rien, alors TMP essaiera de trouver ce caractère dans toutes les polices téléchargées. </p><br><p>  <strong>Best Fit in</strong> <strong>TMP</strong> ne crée pas de problèmes comme un composant de texte normal, il peut donc être utilisé. </p><br><p>  Un grand nombre de polices avec différentes localisations ou de grands atlas de polices peuvent occuper beaucoup de mémoire.  Par conséquent, il est préférable d'utiliser le préchargement uniquement les polices nécessaires à une localisation spécifique. </p><br><p>  <strong>World Space</strong> recommande d'utiliser <strong>TextMeshPro</strong> au lieu de <strong>TextMeshProUGUI</strong> . <br>  <strong>TextMeshProUGUI est</strong> utilisé dans les toiles. </p><br><h3 id="anchoratlasanchoratlasy-spraytov"><a name="atlas"></a>  Atlas de sprites </h3><br><p>  <strong>Les atlas de sprites</strong> sont un type de ressource qui combine plusieurs textures en une seule.  Ils vous permettent de réduire le nombre de tirages ( <strong>appels de tirage</strong> ) et d'augmenter la productivité. </p><br><p>  Création d'atlas. <br>  Créez un atlas: <strong>Actif&gt; Créer&gt; Sprite Atlas</strong> . <br>  Sélectionnez l'atlas et placez le sprite nécessaire dans <strong>Objects for Packing</strong> . <br><img src="https://habrastorage.org/webt/bs/dl/8n/bsdl8nc2krqqx0hj7kwdckcatzc.png" alt="image"><br>  Cliquez sur <strong>Aperçu du pack</strong> pour prévisualiser l'atlas. <br><img src="https://habrastorage.org/webt/z2/ct/l1/z2ctl1uykvlwq_xelfoc3gezmdc.png" alt="image"><br>  Gardez à l'esprit que même si un ou plusieurs sprites de l'atlas sont utilisés sur la scène, l'atlas sera toujours chargé dans son intégralité.  Par conséquent, cela n'a aucun sens d'essayer d'incorporer toutes les images dans un atlas géant, qui sur les appareils avec une petite RAM peut prendre sa partie tangible.  Il vaut mieux percer quelques atlas plus petits, par exemple, l'atlas de l'interface utilisateur du menu du jeu et l'atlas de l'interface du mode jeu. </p><br><p>  Évitez les grands espaces vides dans l'atlas, afin de ne pas occuper trop d'espace mémoire.  Pour ce faire, vous pouvez redimensionner l'atlas ou ajouter des images supplémentaires pour remplir autant que possible l'espace vide. <br><img src="https://habrastorage.org/webt/vc/4n/f5/vc4nf5zljiikgjg83qau04b022q.png" alt="image"><br><img src="https://habrastorage.org/webt/r7/k2/w0/r7k2w0csvrfxsevgjw2nop0_zb8.png" alt="image"><br>  Pour les images qui ne sont pas dans l'atlas, vous devez sélectionner les paramètres corrects. <br>  Pour chaque format de compression, il existe des exigences en vertu desquelles il fonctionnera efficacement.  Les exigences d'image les plus courantes: </p><br><ul><li>  la largeur et la hauteur doivent être un multiple de la puissance de deux; </li><li>  la largeur et la hauteur doivent être un multiple de 4; </li><li>  les deux paragraphes précédents ensemble. <br>  Sinon, la texture ne sera pas compressée et des coûts supplémentaires de mémoire de périphérique se produiront. </li></ul><br><p>  Lors du choix d'un format de compression, Unity vous indiquera si les exigences pour le format sélectionné ne sont pas remplies. <br><img src="https://habrastorage.org/webt/_s/tq/0c/_stq0cqnfhbnoczd2yrqm0d1iic.png" alt="image"></p><br><p>  N'oubliez pas non plus que les formats sont différents de l'appareil cible.  Pour plus d'informations et de recommandations sur les formats, consultez la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation officielle</a> : </p><br><h3 id="anchorresumeanchorrezyumiruem-sposoby-optimizacii"><a name="resume"></a>  Résumer les méthodes d'optimisation </h3><br><ul><li>  Désactiver les objets invisibles et transparents </li><li>  Minimisez le nombre d'articles </li><li>  Évitez de traverser des objets qui ne peuvent pas cuire les uns avec les autres </li><li>  Distribuer des éléments par toile en fonction du taux de rafraîchissement </li><li>  Pour les toiles avec des éléments fréquemment mis à jour, désactivez Pixel Perfect </li><li>  Désactiver Raycast Target sur les éléments non cliquables </li><li>  Supprimez le composant Graphic Raycaster du canevas pour lequel tous les éléments ne sont pas cliquables </li><li>  Pour les composants de texte normaux, n'utilisez pas Best Fit </li><li>  Pour TextMeshPro Dans World Space, utilisez TextMeshPro au lieu de TextMeshProUGUI.  TextMeshProUGUI utilisé dans les toiles </li><li>  Réglez l'appareil photo dans les paramètres du canevas, si nécessaire </li><li>  Désactivez le canevas en désactivant le composant canevas </li><li>  Utilisez des sprites en niveaux de gris et colorisez les paramètres du composant d'image </li><li>  Utilisez des atlas de sprites </li><li>  Utilisez la taille et le format de compression corrects pour les textures absentes de l'atlas </li></ul><br><h3 id="anchorlinksanchoristochniki"><a name="links"></a>  Sources: </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Informations complètes sur l'optimisation de l'interface utilisateur Unity</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Une autre source officielle sur ce sujet contient des informations sous une forme plus concise.</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Livres blancs Atlas</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Informations supplémentaires sur les formats de compression de texture</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470608/">https://habr.com/ru/post/fr470608/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470596/index.html">Caractéristiques de Q et KDB + sur l'exemple d'un service en temps réel</a></li>
<li><a href="../fr470598/index.html">Le livre "Java moderne. Expressions Lambda, flux et programmation fonctionnelle »</a></li>
<li><a href="../fr470600/index.html">À propos des consoles noVNC sécurisées, de la mise à l'échelle automatique dans Kubernetes, de Haproxy dans Ostrovka et du travail des administrateurs avec les programmeurs</a></li>
<li><a href="../fr470602/index.html">À quoi ressemblerait le métro de Moscou dans un monde en trois dimensions</a></li>
<li><a href="../fr470604/index.html">Vitesse de chargement des sites dans le commerce électronique: analyse des 48 meilleurs magasins en ligne en Russie</a></li>
<li><a href="../fr470610/index.html">Un jour dans la vie d'un développeur</a></li>
<li><a href="../fr470612/index.html">Ce qu'un voltmètre montre, ou des prises mathématiques</a></li>
<li><a href="../fr470614/index.html">Comment les graphiques NES ont-ils été organisés?</a></li>
<li><a href="../fr470616/index.html">Une nouvelle solution au paradoxe de Fermi (pourquoi nous sommes seuls dans l'univers)</a></li>
<li><a href="../fr470618/index.html">Modélisation thématique de l'actualité à l'aide de l'analyse factorielle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>