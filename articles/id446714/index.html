<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🚒 🙌🏽 ✌🏽 Penasaran Penasaran dari Dunia IT - 4 🕋 💇🏽 👩🏾‍🤝‍👨🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Situs web Daily WTF telah mengumpulkan cerita-cerita lucu, liar dan / atau sedih dari dunia TI selama 15 tahun. Saya menerjemahkan beberapa cerita yan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Penasaran Penasaran dari Dunia IT - 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446714/"><div style="text-align:center;"><img src="https://ic.pics.livejournal.com/egor_23/73280836/1707368/1707368_1000.jpg" alt="gambar"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Situs</a> web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Daily WTF</a> telah mengumpulkan cerita-cerita lucu, liar dan / atau sedih dari dunia TI selama 15 tahun.  Saya menerjemahkan beberapa cerita yang sepertinya menarik bagi saya.  Semua nama dan nama perusahaan telah diubah.  Masalah sebelumnya dapat ditemukan di bawah label " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">penyimpangan penasaran</a> ." <br><br><h2>  Kisah pertama.  Akhir bulan </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">[Asli]</a> <br><br>  Jika Anda bertanya kepada seorang insinyur desain apakah aman berjalan melintasi jembatan, ia akan dengan senang hati memberi tahu Anda seberapa andal jembatan itu, bagaimana matematika bekerja di dalamnya, seberapa jauh kita telah mencapai masalah keamanan bangunan.  Setelah berbicara dengannya, Anda akan mendapat kesan bahwa tidak ada satu jembatan pun di Bumi yang akan hancur berantakan.  Tetapi jika Anda bertanya kepada insinyur pengembangan perangkat lunak tentang bank, maka kemungkinan besar Anda akan ngeri, dan dengan probabilitas 50/50 meyakinkan diri Anda untuk menginvestasikan semua uang dalam bitcoin.  Bank terkenal karena keputusan buruk mereka ketika membuat perangkat lunak - bukan karena keputusan ini menjijikkan, tetapi karena kebanyakan orang menganggap bahwa bank lebih akurat dan berhati-hati tentang keamanan. <br><br>  <b>Kato</b> bekerja di Inibank, di mana produk komersial bernama T24 digunakan sebagai inti dari sistem perbankan.  Sistem T24 digunakan oleh ratusan bank di seluruh dunia.  Dapat disesuaikan untuk berbagai solusi perbankan.  Seperti kebanyakan paket khusus.  Ada programmer yang berspesialisasi dalam penulisan kode untuk itu, dan konsultan yang membantu bank dengan pembaruan besar. <br><a name="habracut"></a><br>  Staf Inibank sibuk, sehingga bank mengundang konsultan untuk berpartisipasi dalam proyek khusus.  Pada akhir hari kerja, bank melakukan proses penyelesaian, yang diperlukan agar semua uang mengalir sesuai dengan yang diperintahkan, semua data output yang diperlukan dihitung ulang, dan semua laporan yang diperlukan dieksekusi.  Di bank, proses ini juga mengubah tanggal sistem ke hari kerja berikutnya.  Itulah sebabnya ketika Anda melakukan perbankan online pada hari Minggu, tidak satu transaksi pun mulai diproses hingga Senin pagi.  Konsultan harus membuat laporan baru yang akan dieksekusi selama proses penyelesaian dan termasuk pemrosesan tambahan jika tanggalnya sesuai dengan akhir bulan. <br><br>  Kato menunjukkan kepada konsultan baru bagaimana bank membuat laporan akhir hari.  “Lihat, kami memiliki variabel global untuk hari kerja sebelumnya, untuk hari ini, dan untuk hari kerja berikutnya.  Mereka memiliki format YYMMDD untuk membuatnya lebih mudah untuk dikerjakan. " <br><br>  "Ya, ya, mengerti.  Saya mengerti.  Apa format mereka? " <br><br>  "... Uhh ... Aku hanya bisa berasumsi bahwa ini adalah tahun, bulan, dan hari." <br><br>  “Ya, ya, baiklah.  Bagus  Lalu saya mulai bekerja. " <br><br>  Setelah percakapan ini, Kato punya firasat buruk tentang ini.  tetapi dia berusaha menyingkirkannya.  Konsultan mengatakan bahwa semuanya sudah diatur dan siap.  Dia tahu persis apa yang dia lakukan, kan?  Kato membuang ini keluar dari kepalanya dan berhenti khawatir sampai waktu untuk meninjau kode tiba dan dia menemukan mutiara seperti itu: <br><br><pre> <code class="hljs pgsql">TH.DATE = R.DATES(EB.DAT.NEXT.WORKING.DAY)[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]:"01" <span class="hljs-keyword"><span class="hljs-keyword">CALL</span></span> CDT(<span class="hljs-string"><span class="hljs-string">'ES00'</span></span>,TH.DATE,"-1C") WTODAY = OCONV(<span class="hljs-type"><span class="hljs-type">DATE</span></span>(),"DY") : FMT(OCONV(<span class="hljs-type"><span class="hljs-type">DATE</span></span>(),"DM"),<span class="hljs-string"><span class="hljs-string">'R%2'</span></span>) : FMT(OCONV(<span class="hljs-type"><span class="hljs-type">DATE</span></span>(),"DD"),<span class="hljs-string"><span class="hljs-string">'R%2'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> TH.DATE EQ WTODAY <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span></code> </pre> <br>  Jelaskan dengan singkat apa yang terjadi di sini: <br><br><ol><li>  Ambil hari kerja berikutnya dan ubah hari menjadi 01 untuk mendapatkan hari pertama bulan itu. </li><li>  Kami mengubah tanggal ini dengan mengurangi 1 hari kalender pada kalender Spanyol. </li><li>  Kami mengambil tanggal dari server dan menerjemahkannya ke format YYYYMMDD, memanggil perintah Date tiga kali. </li><li>  Jika tanggal yang dihitung pada langkah 2 sama dengan tanggal yang dihitung pada langkah 3, mulailah prosesnya. </li></ol><br>  Sebenarnya ... itu berhasil.  Sebagian besar.  Kecuali untuk beberapa alasan, akhir hari tidak terjadi setelah tengah malam pada hari terakhir dari bulan - dan ini tidak begitu jarang.  Dalam hal ini, kode tersebut akan secara keliru berpikir bahwa ini adalah hari terakhir bulan itu, dan akan mulai membuat laporan.  Yang berjalan dengan baik dengan masalah lain: jika hal yang sama terjadi pada hari terakhir bulan itu, maka membuat laporan tidak akan dimulai dengan kesalahan.  Dan bug terbaik: jika hari terakhir pada bulan itu ternyata adalah hari Minggu, maka kalender server tidak akan pernah diinstal di sana, karena itu melompati hari yang tidak bekerja. <br><br>  Berbicara tentang hari-hari yang tidak bekerja: karena Inibank berlokasi di AS, tidak ada alasan untuk menggunakan kalender Spanyol.  Ya, bulan dan minggu akan sama, tetapi dalam kalender perangkat lunak Spanyol Anda perlu menentukan hari libur bank di AS, jika tidak, program akan terus bekerja.  Akhirnya, seolah-olah semua ini belum cukup, Triple Date call berarti bahwa mungkin ada perbedaan pendapat ketika mulai tepat di tengah malam: nilai bulan diminta sebelum tengah malam, dan hari setelahnya. <br><br>  Kato menambahkan komentar, menyarankan cara untuk mengubah kode: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">IF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">R</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.DATES</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">EB</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.DAT</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.TODAY</span></span>)<span class="hljs-selector-attr"><span class="hljs-selector-attr">[5,2]</span></span> # <span class="hljs-selector-tag"><span class="hljs-selector-tag">R</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.DATES</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">EB</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.DAT</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.LAST</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.WORKING</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.DAY</span></span>)<span class="hljs-selector-attr"><span class="hljs-selector-attr">[5,2]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">THEN</span></span></code> </pre> <br>  Lima menit kemudian, konsultan pergi ke mejanya.  "Apa maksud edit ini?" <br><br>  Kato sedang tidak ingin berdebat pada saat itu.  “Kode kamu rusak, teman.  Semua ini tidak perlu. " <br><br>  “Begitu, begitu.  Ini sebenarnya hanya prosedur operasi standar untuk industri kami.  Baiklah, oke. " <br><br>  Kato sangat meragukan itu, tetapi hanya mengangkat bahu.  “Maka industrinya salah.  Saya menjelaskan semuanya dalam komentar. " <br><br>  "Ya.  Ya saya membacanya.  Tetapi saya akan membacanya lagi. "  Dan dia menghilang dengan tiba-tiba saat dia muncul. <br><br>  Pengeditan dilakukan, Kato menyetujui kode itu, dan konsultan menghilang ke kabut. <br><br>  Kadang-kadang, berbaring di tempat tidur pada malam hari, Kato bertanya-tanya: apakah konsultan itu benar-benar memahami kesalahannya, atau apakah dia hanya setuju untuk melihat, menerima ceknya dan terus menulis di suatu tempat kode yang mengerikan dengan harga dua kali gaji Kato?  Di bank-bank di mana tidak ada karyawan yang dapat memverifikasi kode. <br><br>  Tetapi jangan menginvestasikan semua uang dalam bitcoin.  Bahkan lebih buruk di sana. <br><br><h2>  Kisah kedua.  Bagaimana ini dilakukan </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">[Asli]</a> <br><br>  Orang suka makan hot dog sampai mereka tahu cara memasaknya.  Kebanyakan tidak bertanya, karena mereka tidak mau tahu dan terus makan hot dog.  Saat mengembangkan perangkat lunak, terkadang kita <em>harus</em> bertanya.  Bukan hanya untuk memecahkan masalah, tetapi juga karena beberapa programmer takut bahwa perangkat lunak di mobil mereka, yang bepergian di sepanjang jalan raya dengan kecepatan 100 km / jam, dirakit dari pita dan tongkat.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Seluruh industri kami melakukan tugasnya dengan buruk</a> . <br><br>  <strong>Brett</strong> bekerja sebagai analis sistem di MedStitute Medical Research Center.  MedStitute menggunakan perangkat lunak berpemilik yang disebut MedTech untuk menyimpan dan menganalisis data.  Dokter dan peneliti menyukai hasil MedTech, tetapi kolega Brett Tyree tahu bagaimana mereka diciptakan. <br><br>  Perangkat lunak tidak memiliki akses ke backend, dan seluruh proses pengembangan terjadi di GUI "mouse yang dapat diprogram".  Antarmuka ini terlihat seperti ditulis oleh orang yang mempelajari pemrograman oleh situs web copy-paste dari tahun 90-an, melihat sepuluh menit <em>dari Jurassic Park</em> dan mencari jawaban untuk StackOverflow sampai sesuatu dapat dikompilasi.  "Bahasa pemrograman" juga menunjukkan tingkat perhatian yang serupa dalam filosofi desain.  Masing-masing <code>if</code> <em>pasti</em> memiliki yang <code>else</code> .  Beberapa modul menggunakan nilai Boolean, yang lain mengembalikan string kosong untuk menunjukkan nilai yang salah.  Dari dokumentasi itu tidak jelas dalam situasi yang satu atau yang lain terjadi.  Bahkan, setiap <code>if</code> berubah menjadi tiga pernyataan. <br><br>  Brett perlu memulai studi baru.  Itu didasarkan pada satu set statistik sederhana dan mengelompokkan pasien menggunakan variabel acak.  Brett mencari dalam daftar untuk variabel yang dapat diacak, tetapi tidak merasa perlu.  Dia menyarankan agar dia melakukan kesalahan dan kembali beberapa layar untuk memeriksa namanya dengan menyalin untuk pencarian.  Brett kembali ke daftar variabel acak.  Dia tidak ada di sana.  Dia melihat lebih dekat pada daftar dan memperhatikan bahwa daftar variabel acak berisi data dari bidang pilihan ganda.  Bidang yang dia perlu untuk acak didasarkan pada bidang yang dihitung. <br><br>  Brett tahu bahwa Tyree sedang mengerjakan proyek lain yang diacak oleh bidang komputer, jadi dia menghubunginya di Slack.  “Bagaimana Anda menyandikan variabel acak ini?  Apakah Medtech mencegah hal ini terjadi? " <br><br>  "Aku sedang berbicara tentang konferensi, aku akan meneleponmu lagi nanti," tulis Tyree. <br><br>  Beberapa menit kemudian Tyree menelepon Brett. <br><br>  “Anda harus mulai dengan dua bidang.  Katakan saja.  sebut saja mereka <code>$variable_choice</code> , yaitu, pertanyaan pilihan ganda, dan <code>$variable_calced</code> , yaitu, bidang terhitung Anda.  Saat Anda ingin membuat variabel yang membuat pemilihan acak berdasarkan bidang terhitung, Anda memberi tahu Medtech bahwa variabel acak ini didasarkan pada <code>$variable_choice</code> .  Kemudian Anda menghapus <code>$variable_choice</code> , dan mengganti nama <code>$variable_calced</code> menjadi <code>$variable_choice</code> ” <br><br>  “Berhenti, sistem memungkinkan Anda untuk melakukan ini, tetapi tidak memungkinkan Anda untuk mengacak bidang terhitung dengan cara lain?  Dan dia tidak memeriksanya? " <br><br>  "Saya harap tidak ada perubahan, dan dia tidak mulai memverifikasi ini sampai proyek saya selesai," jawab Tyree. <br><br>  “Studi ini harus dilakukan selama sepuluh tahun.  Dan penyelesaiannya yang sukses tergantung pada apakah pengembang menganggap trik ini sebagai bug? ” <br><br>  “Saya hanya berhasil menemukan solusi seperti itu.  Beri tahu saya jika Anda menemukan sesuatu yang lebih baik. ” <br><br>  Brett tidak puas dengan peretasan semacam itu, dan ia kembali mempelajari dokumentasinya.  Ia menemukan solusi "lebih baik": Anda bisa membuat bidang pilihan ganda baca-saja dengan satu-satunya nilai default - nilai bidang terhitung.  Sayangnya, pengguna secara tidak sengaja dapat mengubah daftar dengan menjawab pertanyaan pilihan ganda <em>sebelum</em> menghitung nilai bidang yang dihitung. <br><br>  Pada akhirnya, satu-satunya yang tersisa bagi Brett adalah istirahat, pergi ke kafetaria dan membeli beberapa hot dog. <br><br><h2>  Cerita ketiga.  Portabilitas dan perangkat keras </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">[Asli]</a> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/52e/2cb/0c2/52e2cb0c2e0b8465a1b713aa60dfd474.jpg"></div><br>  Beberapa bulan yang lalu, ketika PC memiliki kasus logam dan plastik yang berat, <b>Matt</b> dan rekannya diminta untuk mengevaluasi paket perangkat lunak untuk operasi departemen penjualan yang akan datang.  Sayangnya, ia dan koleganya bekerja di kantor yang berbeda di kota yang sama.  Di era itu, alat kolaborasi online yang efektif belum ada, jadi Matt secara teratur harus pergi ke kantor lain, membawa PC bersamanya.  Ini berarti bahwa setiap kali perlu untuk melepaskan kabel periferal dari case 473, membawa komputer di sepanjang koridor dan menuruni tangga, naik bus untuk menuju ke kantor lain, di mana ia melakukan semua ini dalam urutan terbalik.  Terkadang organisasi buruh yang salah memaksa pasangan ini untuk bekerja di akhir pekan, yang berarti mereka membawa mesin kerja ke rumah. <br><br>  Dalam prosesnya, hard drive 20 MB di komputer Matt meluap.  Dari kantornya, ia mengirim permintaan ke departemen TI.  Untuk memenuhi aplikasi, teknisi Gary ditunjuk, yang setelah beberapa waktu muncul di kubus Matt, memegang hard disk baru dan obeng.  Gary mengirim Matt minum kopi untuk fokus pada "pasiennya."  Setelah sedikit operasi, PC Matt dinyalakan dan bekerja dengan hard drive yang besar. <br><br>  Sehari sebelum batas waktu proyek, Matt hampir menyelesaikan bagiannya dari pekerjaan.  Dia hanya perlu membuat beberapa tambahan pada laporannya, dan kemudian menyalinnya ke disket dan mengirimkannya ke departemen penjualan.  Mengembalikan PC-nya ke kubus dan menghubungkan kabel-kabel, dia menyalakan power dan mendengar bunyi letupan.  PC sudah mati dan tidak menunjukkan tanda-tanda kehidupan. <br><br>  Setelah panik menelepon ke departemen TI, Gary kembali muncul di kantornya dengan obeng.  Membuka kasing PC, ia langsung berteriak: “Tunggu sebentar!  Apakah Anda menyeret komputer ke suatu tempat? " <br><br>  Matt mengerutkan kening.  "Ya, tentu saja.  Apakah itu masalahnya? " <br><br>  “Ya tentu saja!  Anda seharusnya tidak melakukan itu! "Gary mulai mengutuk.  "Hard drive mulai nongkrong dan mempersingkat semuanya di dalam!" <br><br>  Matt membungkuk pada Gary untuk melihat sendiri bagian dalam komputer itu.  Dia segera memperhatikan bahwa hard drive baru "diperbaiki" untuk ditempel. <br><br>  "Berhenti!  Bahwa <i>kamu</i> seharusnya tidak melakukan ini! "  Matt menunjuk ke selotip scotch.  "Haruskah aku menghubungi atasanmu untuk berjaga-jaga?" <br><br>  Wajah Gary mengerutkan kening.  "Mereka tidak memberi saya pengencang yang diperlukan!" <br><br>  "Lalu temukan orang yang memilikinya!" <br><br>  Mengingat tenggat waktu yang akan datang, dengan izin bos, Matt mentransfer permohonannya lebih tinggi lagi.  Hampir seketika, pita perekat diganti dengan perangkat keras asli.  Dia tidak pernah mengerti <i>mengapa</i> karyawan departemen TI tidak memiliki akses ke peralatan yang diperlukan;  dia menyarankan bahwa itu adalah ide cemerlang seorang idiot untuk menghemat uang.  Matt hanya bisa menebak apa improvisasi putus asa lainnya yang membuat infrastruktur TI mereka berfungsi, dan berapa lama mereka akan luput dari perhatian jika PC-nya tidak rusak. <br><br><h2>  Kisah keempat.  Ini adalah bagaimana PL / SQL mempengaruhi otak Anda. </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">[Asli]</a> <br><br>  Juara abadi di antara keputusan-keputusan aneh dan paling tidak berhasil selamanya akan tetap menjadi <em>Oracle</em> .  Hari ini kita melihat sedikit kode PL / SQL. <br><br>  PL / SQL adalah bahasa yang aneh, campuran dari SQL dan <strong>P</strong> rocedural (prosedural) <strong>L</strong> bahasa (bahasa) dengan objek-berorientasi terpaku ke samping.  Sintaksnya mampu menciptakan kesan bahwa itu dikembangkan pada tahun 1970-an, dan setiap fungsi baru atau perubahan bahasa melanjutkan tradisi ini. <br><br>  Struktur setiap modul kode PL / SQL berbasis <em>blok</em> .  Setiap blok adalah namespace independen.  Singkatnya, anatominya terlihat seperti ini: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> <span class="hljs-comment"><span class="hljs-comment">-- variable declarations go here BEGIN -- code goes here EXCEPTIONS -- exception handling code goes here, using WHEN clauses END;</span></span></code> </pre> <br>  Jika Anda menulis prosedur tersimpan atau pengendali acara, maka ganti kata kunci <code>DECLARE</code> dengan <code>CREATE [OR REPLACE]</code> .  Anda juga dapat membuat sarang di dalam blok lain, jadi cukup sering Anda dapat melihat kode terstruktur dengan cara ini: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> <span class="hljs-comment"><span class="hljs-comment">--stuff BEGIN --actions END; --more actions END;</span></span></code> </pre> <br>  Ya, cukup cepat itu mulai membingungkan.  Dan ya, jika Anda ingin memberikan setidaknya penanganan kesalahan yang terstruktur, Anda <em>harus</em> mulai saling memblok. <br><br>  Bahasa dan database memiliki fitur menyenangkan lainnya.  Sebelum versi 12c, mereka tidak memiliki tipe kolom <code>IDENTITY</code> .  Dalam versi sebelumnya, Anda harus menggunakan objek <code>SEQUENCE</code> dan menulis prosedur atau penangan peristiwa yang melakukan penomoran otomatis secara paksa.  Biasanya, operator <code>SELECT INTO…</code> digunakan untuk menetapkan nilai ke variabel.  Bonus: Oracle SQL <em>selalu</em> membutuhkan tabel untuk ditentukan dalam pernyataan <code>FROM</code> , jadi Anda harus menggunakan tabel <code>dual</code> diciptakan, seperti ini: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRIGGER</span></span> <span class="hljs-string"><span class="hljs-string">"SOME_TABLE_AUTONUMBER"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEFORE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"SOME_TABLE"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EACH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ROW</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> myseq.nextval <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> :new.id <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> dual; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>;</code> </pre> <br>  <code>:new</code> dalam konteks ini menunjukkan baris yang kami beri penomoran secara otomatis.  Dalam versi Oracle yang lebih lama, ini adalah cara "biasa" untuk membuat kolom dengan penomoran otomatis.  <strong>Benoit</strong> menemukan cara lain yang sedikit kurang umum untuk melakukan operasi yang sama: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRIGGER</span></span> <span class="hljs-string"><span class="hljs-string">"SCHEMA1"</span></span>.<span class="hljs-string"><span class="hljs-string">"TABLE1_TRIGGER"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEFORE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-string"><span class="hljs-string">"SCHEMA1"</span></span>.<span class="hljs-string"><span class="hljs-string">"TABLE1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EACH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ROW</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> pl_error_id table1.error_id%<span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span>; CURSOR get_seq IS <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> table1_seq.nextval <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> dual; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OPEN</span></span> get_seq; FETCH get_seq INTO pl_error_id; IF get_seq%NOTFOUND THEN raise_application_error(-20001, 'Sequence TABLE1_SEQ does not exist'); CLOSE get_seq; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span>; CLOSE get_seq; :new.error_id := pl_error_id; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> table1_trigger;</code> </pre> <br>  Banyak yang terjadi di sini.  Pertama, perhatikan bahwa bagian <code>DECLARE</code> berisi pernyataan <code>CURSOR</code> .  Kursor memungkinkan Anda untuk beralih melalui catatan.  Mereka sangat mahal dan di dunia Oracle itu adalah sumber daya yang perlu dibebaskan. <br><br>  Penangan kejadian ini (pemicu) menggunakan blok bersarang tanpa alasan.  Itu juga menggunakan <code>pl_error_id</code> variabel tambahan, yang dapat ditiadakan. <br><br>  Tetapi bagian yang sangat aneh adalah blok <code>IF get_seq%NOTFOUND</code> .  Semuanya cukup sederhana: memeriksa kondisi bahwa kursor tidak mengembalikan string.  Untuk kursor ini, ini tidak dapat terjadi bahkan <em>secara teoritis</em> , sehingga operasi di dalamnya tidak pernah dilakukan.  Urutan selalu mengembalikan nilai.  Dan ini <em>bagus</em> , mengingat kode yang melangkah lebih jauh. <br><br>  <code>raise_application_error</code> adalah analog dari throw in Oracle.  Pernyataan ini naik tumpukan blok yang dapat dieksekusi sampai menemukan bagian <code>EXCEPTIONS</code> untuk menangani kesalahan.  Perhatikan bahwa kami menutup kursor <em>setelah</em> pernyataan ini - yaitu, faktanya, kami <em>tidak pernah</em> menutup kursor.  Kursor, seperti yang disebutkan di atas, mahal, dan Oracle hanya memungkinkan sejumlah terbatas untuk digunakan. <br><br>  Di sini kita melihat contoh aneh bagaimana pengembang mencoba membela diri terhadap kesalahan yang tidak dapat terjadi, dengan cara yang akan menyebabkan kesalahan baru seiring waktu. <br><br><h2>  Cerita kelima.  Login Terenkripsi Ganda </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">[Asli]</a> <br><br>  Membuat otentikasi untuk API web adalah tugas yang <em>sulit</em> , tetapi memiliki <em>banyak</em> solusi yang mapan.  Hal yang paling sulit sebenarnya adalah memilih salah satu dari berbagai opsi, setelah itu cukup dengan hanya menambahkan komponen. <br><br>  Ketika diimplementasikan dengan benar, sistem tidak tergantung pada jenis klien.  Saya dapat mengakses layanan melalui browser, di klien yang tebal atau melalui CURL.  Jika diterapkan secara tidak benar, Anda mendapatkan apa yang terjadi pada <strong>Amira</strong> . <br><br>  Dia memecahkan masalah menarik statistik yang dia butuhkan dari backend, tetapi tidak dapat menemukan metode otentikasi.  Oleh karena itu, ia mempelajari kode front-end untuk memahami bagaimana melakukan otentikasi: <br><br><pre> <code class="javascript hljs">crypt = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JSEncrypt(); crypt.setPublicKey(<span class="hljs-string"><span class="hljs-string">'&lt;removed&gt;'</span></span>); challenge = <span class="hljs-string"><span class="hljs-string">"&lt;removed&gt;"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doChallengeResponse</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.loginForm.password.value.replace(<span class="hljs-regexp"><span class="hljs-regexp">/&amp;/g</span></span>, <span class="hljs-string"><span class="hljs-string">'%26'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.loginForm.password.value.replace(<span class="hljs-regexp"><span class="hljs-regexp">/\\+/g</span></span>, <span class="hljs-string"><span class="hljs-string">'%2B'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.loginForm.password.value = crypt.encrypt(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.loginForm.password.value); <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.loginForm.response.value = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.loginForm.password.value; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.loginForm.password.value = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.loginForm.submit(); }</code> </pre> <br>  Di satu sisi, saya dapat mengasumsikan bahwa kode ini sangat tua, mengingat <code>document.loginForm</code> digunakan untuk interaksi dengan elemen DOM.  Di sisi lain, <code>JSEncrypt</code> pertama kali dirilis pada 2013, yang memberi kami bilah usia maksimum. <br><br>  Kami meneruskan parameter akses ke backend dengan mengirimkan formulir, yang menurut pengembang kode, pembersihan diperlukan - semua <code>&amp;</code> <code>+</code> di kata sandi diganti, tetapi ... ini tidak perlu, karena formulir harus memenuhi permintaan <code>POST</code> dan, di samping itu, <em>kami mengenkripsi data</em> . <br><br>  Inilah yang saya pikirkan.  Kode <em>ini sebenarnya</em> cukup lama.  Pengembang menyalinnya dari pos di StackOverflow sekitar tahun 2005, yang tidak menggunakan enkripsi dan <code>POST</code> formulir melalui <code>POST</code> .  Tahun demi tahun, sedikit perubahan ditambahkan padanya.  tetapi mekanisme yang mendasarinya tidak pernah berubah. <br><br>  Amira memeriksa riwayat dan menemukan bahwa enkripsi tidak digunakan di versi sebelumnya.      <code>challenge</code> ,    MD5,     <em></em>  ,     ,       . <br><br>     :   ,     ,         ,     ,    cURL      -.          ,    <em>    SSL/TLS</em> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id446714/">https://habr.com/ru/post/id446714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id446702/index.html">Dan headphone aneh lainnya - untuk tidur</a></li>
<li><a href="../id446706/index.html">Kueri Paralel di PostgreSQL</a></li>
<li><a href="../id446708/index.html">Perbandingan sistem komunikasi luar angkasa</a></li>
<li><a href="../id446710/index.html">Empat kisah nyata bekerja dengan arsitektur layanan mikro - laporan dari mitigasi Backend United 3: Kholodets</a></li>
<li><a href="../id446712/index.html">HTTPS tidak selalu seaman kelihatannya. Kerentanan ditemukan di 5,5% dari situs HTTPS</a></li>
<li><a href="../id446716/index.html">Kesadaran dan Argumen Kiamat</a></li>
<li><a href="../id446718/index.html">Tinjau laporan paling menarik dari CodeFest 2019: versi True Engineering</a></li>
<li><a href="../id446722/index.html">Pengujian akan menunjukkan: bagaimana mempersiapkan implementasi Cisco ISE dan memahami fitur sistem apa yang Anda butuhkan</a></li>
<li><a href="../id446724/index.html">Bagaimana Pengembang iOS Mencari Ke Atas Dengan Cloud Computing</a></li>
<li><a href="../id446726/index.html">Pembelajaran yang mendalam dalam Perhitungan Aliran Optik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>