<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö™ üçà üë©‚Äçüë©‚Äçüëß‚Äçüëß Fallstricke von Java. Teil 1 üë©üèª‚Äçüé® üôåüèæ üë©‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag. Ich m√∂chte Sie auf einen kurzen Artikel aufmerksam machen. Dieser Artikel ist f√ºr Anf√§nger gedacht. Aber auch wenn Sie ein erfahrener Entwi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fallstricke von Java. Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439642/"> Guten Tag.  Ich m√∂chte Sie auf einen kurzen Artikel aufmerksam machen.  Dieser Artikel ist f√ºr Anf√§nger gedacht.  Aber auch wenn Sie ein erfahrener Entwickler sind, sollten Sie keine Schlussfolgerungen ziehen. <br>  Ich hoffe, dass diese Ver√∂ffentlichung nicht nur f√ºr Anf√§nger n√ºtzlich ist. <br><br>  <i>Der Zweck dieser Ver√∂ffentlichung:</i> <br>  Zeigen Sie die h√§ufigsten Fehler Anf√§nger und einige Tricks, um sie zu beheben.  Es ist klar, dass einige Fehler komplex sein und aus dem einen oder anderen Grund auftreten k√∂nnen.  Der Zweck der Ver√∂ffentlichung besteht in gewissem Ma√üe darin, sie zu analysieren und zu helfen, sie fr√ºhzeitig zu identifizieren.  Ich hoffe, dass diese Ver√∂ffentlichung f√ºr Anf√§nger n√ºtzlich sein wird. <br><br>  Fehlercheckliste: <br><a name="habracut"></a><br>  1. Tippfehler.  √Ñrgerliche Tippfehler, die nicht sofort auftauchen <br>  2. Zuordnung im Zustand statt Vergleich <br>  3. Logische Fehler in der Bedingung <br>  4. Falscher Stringvergleich <br>  5. Falsche Initialisierung von Variablen primitiver Typen <br>  6. Unsachgem√§√üe Verwendung von Double <br>  7. Falscher Typ des R√ºckgabewerts im Konstruktor. <br>  8. Division durch Null.  POSITIVE_INFINITY <br>  9. Ohne Ber√ºcksichtigung der Klasseninitialisierungsreihenfolge <br>  10. Eine lokale Variable verbirgt eine Klassenvariable <br>  11. Automatisches Casting in arithmetischen Ausdr√ºcken ignorieren <br>  12. Endlosschleife mit Byte, die schwer zu erkennen ist. <br>  13. Der Name der Klasse unterscheidet sich vom Namen der Datei, in der sie gespeichert ist. <br>  14. Objekte, die Elemente eines Arrays sind, werden nicht initialisiert. <br>  15. Platzieren mehrerer Klassen gleichzeitig in einer Datei mit dem √∂ffentlichen Modifikator <br><cut></cut><br><h3>  Java-Fallstricke </h3><br>  Alle Programmiersprachen haben ihre Vor- und Nachteile.  Dies hat viele Gr√ºnde.  Java ist keine Ausnahme.  Ich habe versucht, einige offensichtliche und nicht offensichtliche Schwierigkeiten zu sammeln, auf die ein unerfahrener Java-Programmierer gesto√üen ist.  Ich bin sicher, dass erfahrene Programmierer in meinem Artikel auch etwas N√ºtzliches finden werden.  √úbung, Aufmerksamkeit und gesammelte Programmiererfahrung helfen Ihnen, viele Fehler zu vermeiden.  Einige Fehler und Schwierigkeiten sollten jedoch am besten im Voraus ber√ºcksichtigt werden.  Ich werde einige Beispiele mit Code und Erkl√§rungen geben.  Viele Erkl√§rungen werden Ihnen aus den Kommentaren zum Code klar.  √úbung gibt viel, da einige Regeln nicht so offensichtlich sind.  Einige liegen an der Oberfl√§che, andere sind in den Sprachbibliotheken oder in der virtuellen Java-Maschine versteckt.  Denken Sie daran, dass Java nicht nur eine Programmiersprache mit einer Reihe von Bibliotheken ist, sondern auch eine virtuelle Java-Maschine. <br><br>  F√ºr den Artikel habe ich speziell einen Arbeitscode mit detaillierten Kommentaren geschrieben.  Um einen Artikel mit Codebeispielen zu schreiben, wurde Java 8 verwendet. Zum Testen wird Java-Code in separaten Paketen abgelegt. <br><br>  Beispiel: "package underwaterRocks.simple;" <br><br>  Welche Schwierigkeiten haben Anf√§nger? <br><br><h3>  Tippfehler </h3><br>  Es kommt vor, dass unerfahrene Programmierer Tippfehler machen, die auf einen Blick schwer zu erkennen sind. <br><br><cut></cut><br>  <i>Codebeispiel:</i> <br><br>  Datei: "Simple.java" <br><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*   ;     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.simple; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Simple</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ival = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(ival&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>); { System.out.println(<span class="hljs-string"><span class="hljs-string">"     "</span></span>); } } }</code> </pre> <br><cut></cut><br>  <i>Erl√§uterung</i> : ‚ÄûDas Semikolon gibt das Ende der Anweisung an.  In diesem Fall;  Ist das Ende einer leeren Anweisung.  Dies ist ein logischer Fehler.  Ein solcher Fehler kann schwierig zu erkennen sein. <br><br>  Der Compiler wird ber√ºcksichtigen, dass alles korrekt ist.  Bedingung wenn (ival&gt; 0);  in diesem Fall macht keinen Sinn.  Weil es bedeutet: Wenn ival gr√∂√üer als Null ist, tun Sie nichts und fahren Sie fort. ‚Äú <br><br><h3>  Zuordnung im Zustand statt Vergleich </h3><br>  Die Bedingung ist die Variablenzuweisung. <br><br>  Dies ist kein Fehler, aber die Verwendung einer solchen Technik sollte gerechtfertigt sein. <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> myBool = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(myBool = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) System.out.println(myBool);</code> </pre> <br>  Wenn in diesem Code (myBool = true) bedeutet: ‚ÄûSetzen Sie die Variable myBool auf true, <br>  Wenn der Ausdruck wahr ist, befolgen Sie die Bedingung in Klammern. ‚Äú <br><br>  In diesem Code ist die Bedingung immer wahr.  Und System.out.println (myBool);  wird immer ausgef√ºhrt, unabh√§ngig von der Bedingung. <br><br>  == ist ein Vergleich f√ºr Gleichheit. <br>  = Ist eine Aufgabe, kann man sagen a = 10;  wie: "aber einen Wert von 10 zuweisen". <br><br>  Die Bedingung in Klammern gibt einen booleschen Wert zur√ºck. <br>  Es spielt keine Rolle, in welcher Reihenfolge Sie schreiben.  Sie k√∂nnen wie folgt vergleichen: (0 == a) oder (5 == a) <br>  Wenn Sie ein Gleichheitszeichen vergessen, z. B. (0 = a) oder (5 = a), benachrichtigt Sie der Compiler √ºber einen Fehler.  Sie weisen einen Wert zu, keinen Vergleich. <br>  Sie k√∂nnen auch einige Intervalle in lesbarer Form schreiben. <br>  Zum Beispiel: Sie m√ºssen schreiben: a gr√∂√üer als 5 und kleiner als 10. <br>  Sie schreiben wie folgt: (a&gt; 4 &amp;&amp; a &lt;10), aber mit dem gleichen Erfolg k√∂nnen Sie schreiben: (4 &lt;a &amp;&amp; a &lt;10), <br>  Jetzt sehen Sie, dass a zwischen 4 und 10 liegt, ohne diese Werte.  Das ist offensichtlicher.  Es ist sofort ersichtlich, dass a ohne diese Werte im Intervall zwischen 4 und 10 liegt. <br><br>  Codebeispiel (Intervall] 3.9 [): <br>  if (3 &lt;a &amp;&amp; a &lt;9) ausf√ºhren; <br><br><h3>  Logischer Fehler </h3><br>  if (Bedingung) {} if (Bedingung) {} else {} - else bezieht sich auf das n√§chstgelegene if. <br>  Dies ist h√§ufig die Ursache f√ºr Anf√§ngerfehler. <br><br><h3>  Ung√ºltiger Zeichenfolgenvergleich </h3><h3>  Anf√§nger verwenden h√§ufig == anstelle von .equals, um Zeichenfolgen zu vergleichen. <br><br></h3><h3>  Variable Initialisierung </h3><br>  Erw√§gen Sie die Initialisierung von Variablen eines primitiven Typs. <br><br>  Grundelemente (Byte, kurz, int, lang, char, float, double, boolean). <br><br>  Anfangswerte. <br><cut></cut><br><pre> <code class="plaintext hljs">byte 0 short 0 int 0 long 0L float 0.0f double 0.0d char '\u0000' String (or any object) null boolean false (  jvm)</code> </pre> <br><cut></cut><br>  <i>Hinweis:</i> <br><br>  Lokale Variablen unterscheiden sich geringf√ºgig. <br>  Der Compiler weist einer nicht initialisierten lokalen Variablen niemals einen Standardwert zu. <br><br>  Wenn Sie Ihre lokale Variable nicht dort initialisieren k√∂nnen, wo sie deklariert ist, <br>  Denken Sie daran, ihm einen Wert zuzuweisen, bevor Sie versuchen, ihn zu verwenden. <br><br>  Der Zugriff auf eine nicht initialisierte lokale Variable f√ºhrt zu einem Fehler bei der Kompilierung. <br><br>  <i>Best√§tigung dieses Hinweises im Code:</i> <br><br>  Datei: "MyInitLocal.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myInit; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInitLocal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> classes_f; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> classes_gi; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; MyInitLocal myInit = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyInitLocal(); <span class="hljs-comment"><span class="hljs-comment">/*         .*/</span></span> System.out.println(<span class="hljs-string"><span class="hljs-string">"myInit.classes_f = "</span></span> + myInit.classes_f); System.out.println(<span class="hljs-string"><span class="hljs-string">"myInit.classes_gi = "</span></span> + myInit.classes_gi); <span class="hljs-comment"><span class="hljs-comment">// System.out.println("f = " + f); // .     // System.out.println("f = " + i); // .     } }</span></span></code> </pre> <br><br>  Wertebereiche: <br><br> <code>byte ( , 1 , [-128, 127]) <br> short ( , 2 , [-32768, 32767]) <br> int ( , 4 , [-2147483648, 2147483647]) <br> long ( , 8 , [-922372036854775808,922372036854775807]) <br> float ( , 4 ) <br> double ( , 8 ) <br> char ( Unicode, 2 , 16 , [0, 65535]) <br> boolean ( /,  int,   JVM)</code> <br> <blockquote>  char: Der char-Datentyp ist ein einzelnes 16-Bit-Unicode-Zeichen.  Es hat einen Mindestwert von '\ u0000' (oder 0) und einen H√∂chstwert von '\ uffff' (oder 65.535 einschlie√ülich). </blockquote><br><br>  Oracle-Dokumentation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">&gt;&gt;</a> <br><br>  Versuchen wir, eine Variable vom Typ long mit der Nummer 922372036854775807 zu initialisieren. <br>  F√ºr uns wird nichts klappen.  Weil es ein ganzzahliges Literal vom Typ int ist. <br>  Richtige Initialisierung mit einem langen Literal: 922372036854775807L; <br><br>  <i>Codebeispiel:</i> <br><br>  Datei: "MyInitLocalLong.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*    long  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myInit; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInitLocalLong</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// long al = 922372036854775807; // integer number too large long bl = 922372036854775807L; //   } }</span></span></code> </pre><br><br>  Worauf Sie beim Initialisieren einer Variablen achten m√ºssen. <br><br>  Der Wertebereich einer Variablen dieses Typs.  Die Tatsache, dass die Variable mit einem Literal eines bestimmten Typs initialisiert wird.  F√ºr explizite und implizite Besetzungen.  Auf Typkompatibilit√§t. <br><br>  Wenn Sie Shells vom Typ Integer verwenden, sollten Sie auf das automatische Packen und automatische Entpacken dieser Typen achten. <br><br><h3>  Unangemessene Verwendung von Doppel </h3><br>  Hier m√ºssen Sie kl√§ren.  Hier geht es nicht darum, den Doppeltyp zu missbrauchen. <br>  Wir verwenden richtig.  Nur das Ergebnis kann einen unerfahrenen Programmierer √ºberraschen. <br>  Datei: "MinusDouble.java" <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.tstDouble; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> vvm */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MinusDouble</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> a = <span class="hljs-number"><span class="hljs-number">4.64</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> b = <span class="hljs-number"><span class="hljs-number">2.64</span></span>; System.out.println(<span class="hljs-string"><span class="hljs-string">"ab = "</span></span>+(ab)); } } <span class="hljs-comment"><span class="hljs-comment">/*   run: ab = 1.9999999999999996 */</span></span></code> </pre><br><br>  <i>Hinweis zum Doppeltyp.</i>  Mit einem Gleitkomma k√∂nnen Sie mit einem bestimmten relativen Fehler und einem gro√üen Bereich z√§hlen.  Bei wissenschaftlichen Berechnungen wird h√§ufig ein relativer Fehler ben√∂tigt. <br><br><h3>  Ung√ºltiger Doppelvergleich </h3><br>  Betrachten Sie den Doppeltyp. <br><br>  <i>Codebeispiel:</i> <br><br>  Datei: "MyDouble.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*    double  - double. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myDouble; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyDouble</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dx = <span class="hljs-number"><span class="hljs-number">1.4</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span> - <span class="hljs-number"><span class="hljs-number">0.1</span></span>; System.out.println(<span class="hljs-string"><span class="hljs-string">"dx = "</span></span> + dx); <span class="hljs-comment"><span class="hljs-comment">// dx = 0.9999999999999997 System.out.print(" (dx == 1.0):"); System.out.println(dx == 1.0); // false,   1.0   0.9999999999999997 /*   double*/ final double EPSILON = 1E-14; double xx = 1.4 - 0.1 - 0.1 - 0.1 - 0.1; double xy = 1.0; /*  xx c xy */ if (Math.abs(xx - xy) &lt; EPSILON) System.out.println(xx + "    " + xy + " EPSILON = " + EPSILON); } }</span></span></code> </pre><br>  Der Doppeltyp ist praktisch, wenn keine hohe Pr√§zision erforderlich ist.  F√ºr Finanztransaktionen ist dieser Typ nicht geeignet.  Obwohl einige, nicht sehr ehrliche Unternehmen, den Doppeltyp verwenden, um auf die Seite zu runden, die sie ben√∂tigen.  F√ºr Finanzoperationen wird die BigDecimal-Klasse in Finanzberechnungen verwendet, da echte primitive Typen aufgrund von Genauigkeitsverlusten und Fehlern bei Rundungsergebnissen f√ºr diesen Zweck nicht geeignet sind.  Mit der BigInteger-Klasse werden jedoch genauere Ergebnisse erzielt. <br><br><h3>  Klassenkonstruktor </h3><br>  Der Klassenkonstruktor stimmt mit dem Klassennamen √ºberein und gibt nichts zur√ºck, nicht einmal void. <br><br>  <i>Codebeispiel:</i> <br><br>  Datei: "MyConstructor.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*      ,  void    void -    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> underwaterRocks.myConstructor; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"   void"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyConstructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"  c void"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ MyConstructor myconst = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyConstructor(); myconst.MyConstructor(); <span class="hljs-comment"><span class="hljs-comment">//    } }</span></span></code> </pre><br>  Wie wir im Code sehen, zwei Methoden mit demselben Namen: MyConstructor () und MyConstructor ().  Eine der Methoden gibt nichts zur√ºck.  Dies ist der Konstruktor unserer Klasse.  Eine andere Methode mit void ist die regul√§re Klassenmethode.  Wenn Sie keinen Konstruktor oder Ihrer Meinung nach einen Klassenkonstruktor mit void erstellt haben, erstellt der Compiler einen Standardkonstruktor und Sie werden √ºberrascht sein, warum Ihr Konstruktor nicht funktioniert. <br><br><h3>  Division durch Null </h3><br>  Was wird Ihrer Meinung nach das Ergebnis der Ausf√ºhrung eines solchen Codes sein? <br><br>  Datei: "DivisionByZero.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/* */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> divisionByZero; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> java.lang.Double.POSITIVE_INFINITY; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DivisionByZero</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f = <span class="hljs-number"><span class="hljs-number">12.2f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> d = <span class="hljs-number"><span class="hljs-number">8098098.8790</span></span>d; System.out.println(f/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(d/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(POSITIVE_INFINITY == f/<span class="hljs-number"><span class="hljs-number">0</span></span>); System.out.println(POSITIVE_INFINITY == d/<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (NumberFormatException ex) { System.out.println(<span class="hljs-string"><span class="hljs-string">"NumberFormatException"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ArithmeticException ex) { System.out.println(<span class="hljs-string"><span class="hljs-string">"ArithmeticException"</span></span>); } } }</code> </pre><br>  Beim Ausf√ºhren des Codes wird Folgendes ausgegeben: <br><br><pre> <code class="plaintext hljs">Infinity Infinity true true</code> </pre> <br>  Wenn Sie den Integer-Typ durch Null teilen, erhalten Sie eine ArithmeticException. <br><br>  Die Klasse java.lang.Double definiert die Konstante <code>POSITIVE_INFINITY;</code> <br><br><pre> <code class="1c hljs">public static final float POSITIVE_INFINITY = <span class="hljs-number"><span class="hljs-number">1.0</span></span>d / <span class="hljs-number"><span class="hljs-number">0.0</span></span>d;</code> </pre> <br>  Es wird in eine Zeichenfolge konvertiert, die Infinity entspricht. <br><br><h3>  Initialisierungsreihenfolge </h3><br>  Datei: "InitClass.java" <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> myInitClass; <span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> Ar20L80 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InitClass</span></span></span><span class="hljs-class"> </span></span>{ InitClass(){ <span class="hljs-comment"><span class="hljs-comment">//   System.out.print(""); } { //   System.out.print("3 "); } public static void main(String[] args) { System.out.print("2"); new InitClass(); } static { //    System.out.print("1"); } }</span></span></code> </pre><br>  Zuerst werden alle statischen Bl√∂cke ausgef√ºhrt, dann Initialisierungsbl√∂cke und dann der Klassenkonstruktor. <br><br>  Es wird angezeigt: "123 Konstruktor" <br><br>  <b>Eine lokale Variable verbirgt eine Klassenvariable</b> <br>  Obwohl moderne IDEs einen solchen Fehler leicht erkennen, m√∂chte ich einen solchen Fehler genauer betrachten.  Beginnen wir mit der klassischen Variablenzuweisung im Konstruktor.  Das Beispiel ist richtig.  Es gibt keinen Fehler. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> val = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> val)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.val = val; } }</code> </pre><br>  Was passiert jedoch, wenn Sie diese Technik in einer Methode und nicht in einem Klassenkonstruktor verwenden?  Bei der √ºblichen Methode wird die Verwendung dieser Technik nicht empfohlen.  Die Frage bezieht sich auf die richtige Gestaltung einer Klasse. <br><br>  <i>Eine einfache Erkl√§rung:</i> In einer Methode ist eine Variable mit demselben Namen wie eine Klassenvariable lokal f√ºr die Methode.  Sie k√∂nnen mit this.val auf die Klassenvariable zugreifen.  Ein solcher Aufruf der Methode f√ºhrt jedoch nur zu Nebenwirkungen, wenn die Klasse nicht ordnungsgem√§√ü entworfen wurde, und kann die Lesbarkeit des Codes beeintr√§chtigen. <br><br>  <b>Das Gie√üen vom arithmetischen Typ erfolgt automatisch</b> <br><br>  Dies kann zu st√∂renden Fehlern f√ºhren. <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// byte a = 1; // byte b = 1; // byte  = a + b; //  // byte a = (byte) 1; // byte b = (byte) 1; // byte  = a + b; // </span></span></code> </pre><br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     ‚Äî     . byte a = 1; byte b = 1; byte c = (byte) (a + b);</span></span></code> </pre><br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//     ‚Äî  final // final byte a = 1; // final byte b = 1; // byte c = a + b; //    ,  a  b final</span></span></code> </pre><br><br>  Eine m√∂gliche L√∂sung beim Arbeiten mit einem String: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> bHundr = Byte.parseByte(<span class="hljs-string"><span class="hljs-string">"100"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//      byte</span></span></code> </pre> <br><br>  Ein weiterer Fehler wird im folgenden Code angegeben. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= <span class="hljs-number"><span class="hljs-number">128</span></span>; i++) { System.out.println(i); }</code> </pre><br>  In diesem Fall erhalten wir eine Endlosschleife. <br><br>  <i>Die Erkl√§rung.</i>  Geben Sie Byte [-128, 127] ein.  128 liegt nicht mehr in diesem Bereich.  Ein √úberlauf tritt auf und der Zyklus wiederholt sich.  Die Notwendigkeit, in diesem Fall Byte zu verwenden, ist zweifelhaft.  Obwohl es in seltenen F√§llen stattfindet.  Es wird empfohlen, int anstelle von Byte zu verwenden.  Eine weitere Empfehlung ist, keine Schleife in Ihrem Algorithmus zu verwenden. <br><br>  <b>Objekte, die Array-Elemente sind, werden nicht initialisiert</b> <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] cats = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[<span class="hljs-number"><span class="hljs-number">10</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;cats.length;i++){ System.out.println(<span class="hljs-string"><span class="hljs-string">"cats "</span></span> + i + <span class="hljs-string"><span class="hljs-string">" = "</span></span> + cats[i]); }</code> </pre><br><br>  In diesem Beispiel haben wir ein Array primitiver Elemente.  Und nichts Schlimmes passiert, wenn wir sie nicht initialisieren.  Ihnen wird der Standardwert zugewiesen.  In diesem Fall ist der Wert = 0. <br><br>  Betrachten wir ein anderes Beispiel, nicht mit Grundelementen im Array, sondern mit Objekten im Array. <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArrInitObj</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ MyObj[] cats = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyObj[<span class="hljs-number"><span class="hljs-number">10</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;cats.length;i++){ System.out.println(<span class="hljs-string"><span class="hljs-string">"cats "</span></span> + i + <span class="hljs-string"><span class="hljs-string">" = "</span></span> + cats[i]); System.out.println(<span class="hljs-string"><span class="hljs-string">"cats "</span></span> + i + <span class="hljs-string"><span class="hljs-string">".val = "</span></span> + cats[i].val); <span class="hljs-comment"><span class="hljs-comment">//    java.lang.NullPointerException } } } class MyObj{ public int val; }</span></span></code> </pre><br><br>  Die L√∂sung f√ºr dieses Problem besteht darin, alle Objektvariablen vor ihrer Verwendung zu initialisieren.  Die Initialisierung kann im Konstruktor der MyObj-Klasse erfolgen. <br><br>  <b>Der Klassenname unterscheidet sich vom Namen der Datei, in der er gespeichert ist</b> <br>  Die moderne IDE erkennt diese Art von Fehler leicht.  Solche Fehler treten jedoch auf, wenn auch ziemlich selten.  Dies hilft bei der Aufmerksamkeit, da Unterschiede in den Namen von Gro√ü- und Kleinbuchstaben ber√ºcksichtigt werden. <br><br>  <b>Platzieren mehrerer Klassen in einer Datei gleichzeitig mit dem √∂ffentlichen Modifikator</b> <br>  Der Fehler ist ziemlich selten.  Die IDE gibt Ihnen sofort eine Warnung. <br>  Der Dateiname muss mit dem Namen der √∂ffentlichen Klasse √ºbereinstimmen. <br><br>  <b>Schlussfolgerungen</b> <br>  Viele Fehler sind auf den ersten Blick nicht offensichtlich.  Sogar erfahrene Programmierer tun dies, jedoch in geringerer Anzahl.  Sorgfalt, praktische Erfahrung, die Verwendung eines Debuggers und das Lesen der Dokumentation helfen Ihnen, viele Fehler zu vermeiden. <br><br>  Ich hoffe, Ihnen hat der Artikel gefallen und Sie fanden ihn hilfreich.  Ich freue mich √ºber Ihre Kommentare, Kommentare, Vorschl√§ge, W√ºnsche.  Fortsetzung folgt.  Vielmehr folgt der Zusatz. <br><br>  <b>Referenzen</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Richtlinien f√ºr das Design von Oracle Java-Code &gt;&gt;&gt;</a> <br><br>  PS.  Meine Freunde.  Ich kann ohne Ihre Hilfe nicht weiter ver√∂ffentlichen.  Das hei√üt, keine finanzielle Chance.  Wenn die Ver√∂ffentlichung Ihnen wirklich geholfen hat und Sie fortfahren m√∂chten, unterst√ºtzen Sie mich bitte.  Irgendwo gibt es eine Schaltfl√§che: "Unterst√ºtze den Autor." <br>  Ich hoffe auf Ihr Verst√§ndnis.  Ich danke Ihnen.  Vielen Dank an Habr f√ºr die Gelegenheit zur Ver√∂ffentlichung. <br><br>  Der Autor wird gezwungen sein, seine Ver√∂ffentlichungen zu l√∂schen oder sie in Entwurfskopien zu verstecken, wenn keine Unterst√ºtzung vorliegt.  Dies ist kein Ultimatum.  Wenn Sie die M√∂glichkeit haben, hat es sich als n√ºtzlich erwiesen. Sie k√∂nnen helfen und dann auf die Schaltfl√§che f√ºr die Autorenunterst√ºtzung klicken. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439642/">https://habr.com/ru/post/de439642/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439628/index.html">Parallele Datenaktualisierung in der ASP.NET-Web-API</a></li>
<li><a href="../de439632/index.html">So richten Sie Continuous Deployment f√ºr Ihr Projekt ein: pers√∂nliche Erfahrung</a></li>
<li><a href="../de439636/index.html">Die Krise der Konzepte zur Verbesserung der Verkehrssicherheit und ein neues Konzept zu ihrer L√∂sung</a></li>
<li><a href="../de439638/index.html">FPGA in Python herunterladen</a></li>
<li><a href="../de439640/index.html">Vinyl ist zur√ºck und er ist anders</a></li>
<li><a href="../de439644/index.html">Anti-Aging: Senolytika und Stammzellenersatztherapie</a></li>
<li><a href="../de439646/index.html">Die SoftBank Holding verkauft die Aktien von Nvidia aufgrund eines Preisverfalls, erh√§lt aber immer noch 3,3 Milliarden US-Dollar</a></li>
<li><a href="../de439652/index.html">So transportieren Sie Ihr Startup in die USA: 4 wichtige Schritte</a></li>
<li><a href="../de439654/index.html">Vollst√§ndiges Eintauchen: Wie k√ºhlen wir ASIC-Chips bei Bitfury?</a></li>
<li><a href="../de439656/index.html">Zeichenrechner in C #</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>