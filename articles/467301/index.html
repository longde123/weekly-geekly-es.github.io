<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>游눵 游 游댴 C칩mo funciona la IA en Hitman (2016) 游냣 游놌游낗 游뛌游낕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lanzado por IO Interactive en 2016, Hitman ha devuelto la franquicia a sus ra칤ces: creando escenarios ricos e interesantes en los que el Agente 47 tie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C칩mo funciona la IA en Hitman (2016)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467301/">  Lanzado por IO Interactive en 2016, <em>Hitman ha</em> devuelto la franquicia a sus ra칤ces: creando escenarios ricos e interesantes en los que el Agente 47 tiene que eliminar sus objetivos, a menudo de manera improvisada y poco pr치ctica.  Para resolver este problema, se utilizan muchos sistemas de IA dentro del juego, y los estudiaremos con precisi칩n.  Profundizaremos en la estructura de los sistemas de IA que son responsables de varias funciones en la 칰ltima generaci칩n de juegos de <em>Hitman</em> : la creaci칩n de NPC que responden a la situaci칩n, guardaespaldas, sistemas de multitudes, animaciones controladas por inteligencia artificial y mucho m치s. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/576/cfd/b1f/576cfdb1f04d610632ddb9b9b14c1792.png"></div><br><h1>  Sobre Hitman </h1><br>  Los jugadores en <em>Hitman tienen</em> la tarea de matar personalidades crueles y sin principios, de cuya muerte nadie se arrepentir치 particularmente.  Pero en cada caso, el significado es m치s en historias 칰nicas que el jugador puede crear por s칤 mismo, destruyendo objetivos de una manera compleja o divertida.  <em>Hitman est치</em> plagado de sistemas que permiten al jugador experimentar, improvisar y responder a los cambios en la imagen m치s amplia que se desarrolla.  Disfr치zate de camarero y envenena a la v칤ctima con una bebida, rompe su cuello fingiendo ser un masajista, asusta al objetivo retratando a un m칠dico de la peste o incluso ganando la confianza del equipo de grabaci칩n tocando la bater칤a.  El juego proporciona a los usuarios una amplia gama de m칠todos de penetraci칩n interesantes y a menudo prenegociados, u oculta informaci칩n de ellos en escenarios m치s complejos y largos. <a name="habracut"></a>  Ya sea que est칠 caminando en la pasarela de una semana de la moda en Par칤s o actuando en medio de un golpe pol칤tico en Marrakech, sus objetivos siempre est치n en escenas densamente pobladas, vivas y complejas donde hay guardias personales y agencias locales de aplicaci칩n de la ley, sin mencionar a los civiles que interfieren bajo los pies.  Pero precisamente por esto, el juego se vuelve realmente interesante: los jugadores deben fusionarse con el entorno, disfrazarse y manipular el mundo que los rodea, para estar un paso m치s cerca de la meta, infligir retribuci칩n k치rmica en ellos y luego escapar hasta que el mundo a su alrededor sospeche la presencia del Agente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cda/a29/471/cdaa29471f072eacbd04307d6de0b0aa.png"></div><br>  <em>Hitman</em> brinda el mayor placer cuando la preparaci칩n y la planificaci칩n son correctas y se implementan perfectamente, y para esto necesita muchos sistemas de inteligencia artificial.  En este art칤culo, veremos cuatro elementos clave, explicaremos c칩mo funcionan y ayudaremos a crear el juego de <em>Hitman</em> : <br><br><ul><li>  Un sistema de 치rboles de comportamiento basado en la situaci칩n, en el que m치s de 300 personajes de nivel pueden tomar decisiones sobre sus acciones futuras en funci칩n de lo que sucede a su alrededor y responder a los eventos, que a menudo est치n en manos del jugador. </li><li>  Sistemas receptivos y pr치cticos de guardias y guardaespaldas que complican el trabajo del Agente y se distribuyen para proteger al jugador que complica llegar al objetivo. </li><li>  Un poderoso sistema para controlar y simular el comportamiento de las multitudes, que le permite usar en un nivel de multitud de hasta 1000 NPC que responden a las acciones de los jugadores. </li><li>  Y, por 칰ltimo, un marco de animaci칩n cuidadosamente ajustado que proporciona a todos estos personajes la apariencia y el comportamiento m치s realistas. </li></ul><br>  Explicar칠 c칩mo funcionan todos estos sistemas, y hablar칠 sobre las configuraciones m치s finas utilizadas tanto en el juego de 2016 como en la secuela de 2018.  Sin embargo, antes de comenzar una conversaci칩n sobre la IA de cualquier juego, debes mirar la fuente desde la que comienza la cadena de herramientas de IA y estudiar los principios b치sicos de su dise침o.  Por lo tanto, comenzaremos con <em>Hitman Absolution</em> . <br><br>  Lanzado en 2012, <em>Hitman Absolution</em> implement칩 una interpretaci칩n m치s fluida y lineal de la f칩rmula de la franquicia.  A pesar de su popularidad relativamente baja en comparaci칩n con los juegos m치s nuevos, se ha convertido en la base de las tecnolog칤as y herramientas b치sicas utilizadas en los juegos en 2016 y 2018.  Una de las razones m치s importantes para esto fue que Absolution fue el primer juego de franquicia despu칠s de <em>Hitman: Blood Money en</em> 2006 (entre ellos, IO Interactive jug칩 juegos en la serie <em>Kane &amp; Lynch</em> y <em>Mini Ninjas</em> . Por lo tanto, se crearon nuevas herramientas para <em>Absolution</em> y sistemas que reflejan mejor las ambiciones del equipo para el futuro La arquitectura b치sica de los personajes no jugadores de <em>Hitman</em> AI, as칤 como sistemas para multitudes y animaciones, fueron creados para <em>Absolution</em> y mejorados para los lanzamientos de 2016 y 2018. <br><br><h1>  Arquitectura b치sica de IA </h1><br>  <em>Hitman</em> AI fue dise침ado para aprovechar los diferentes estilos de pase que estaban disponibles en <em>Absolution</em> y juegos posteriores.  Esto significa que el sistema le permite usar el sigilo, disfrazarse y fusionarse con el entorno (los desarrolladores lo llaman "sigilo social") o elegir un enfoque m치s agresivo y sacudir las armas. <br><br>  Adem치s, debe permitir que el NPC viva una vida normal, a veces incluso tenga procedimientos de comportamiento bien establecidos: sirven bebidas, aplican maquillaje, protegen las entradas, preparan la comida, es decir, hacen lo que es apropiado para el entorno de la escena.  Estos procedimientos deben ser predecibles y confiables, porque en los juegos de sigilo, los jugadores deben confiar en dicha previsibilidad.  Al mismo tiempo, la IA debe poder interrumpirlos cuando descubre uno de los muchos elementos que el jugador puede manipular en el mundo.  Por ejemplo, cuando un jugador apaga el motor, o bloquea el drenaje en el fregadero, o atraviesa el tanque de combustible, o enciende el video.  Dependiendo del tipo de interacci칩n, atraer치 inmediatamente a los personajes, ya que interfiere con sus acciones o cambia la secuencia de sus acciones m치s adelante, para que el jugador pueda usarla.  Esto es 칰til para algunas acciones espec칤ficas que le permiten atraer objetivos al lugar correcto.  El jugador no querr치 esperar el resultado de 20 minutos, pero la reacci칩n instant치nea de los personajes habr칤a parecido demasiado poco natural. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b13/2ee/5e5/b132ee5e54b675576344a207d6eeffec.png"></div><br>  <em>Hitman</em> Fundamental AI utiliza 치rboles de comportamiento, uno de los formatos de gesti칩n de comportamiento de IA m치s comunes en los juegos modernos.  En los 치rboles de comportamiento, se construye una estructura de arriba hacia abajo que determina las reacciones de los personajes a diversas condiciones.  Los comportamientos se seleccionan seg칰n las condiciones espec칤ficas del mundo circundante y conducen a una acci칩n o cadena de acciones como reacci칩n a las acciones del jugador y otros sistemas de juego. <br><br>  Pero antes de que el 치rbol de comportamiento pueda tomar una decisi칩n, cada personaje debe descubrir qu칠 est치 sucediendo en el mundo que lo rodea.  Para esto, cada personaje de IA activo en el mundo tiene una base de conocimiento.  La base de conocimiento se compone de dos conjuntos de datos: conocimiento general, es decir, informaci칩n p칰blicamente conocida sobre un objeto o personaje, as칤 como informaci칩n que refleja su condici칩n.  Pero tambi칠n hay conocimiento privado de que el personaje retiene sobre las 칰ltimas posiciones conocidas de objetos o personajes.  Tambi칠n mantiene una historia de conocimiento sobre temas espec칤ficos.  En consecuencia, el personaje comienza a notar que las cosas cercanas desaparecen o se mueven;  Del mismo modo, no intentar치 encontrar personajes que hayan desaparecido o muerto, y tambi칠n interactuar치 con ellos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/28e/291/57f/28e29157f78212fae2e2bf0288f216f4.png"></div><br>  La base de conocimiento se acumula al recopilar toda la informaci칩n que est치 sucediendo actualmente en un determinado punto del mundo del juego, con su posterior filtrado utilizando sensores y servicios.  Los sensores permiten a los personajes actualizar sus datos personales y responder a los cambios que notan, as칤 como escuchar lo que sucede cerca.  Los servicios actualizan una base de conocimiento com칰n.  Los tres servicios m치s comunes son Disfraz (disfraz), Deadbody (cad치ver) y Hitman (asesino).  El servicio Disfraz se usa cuando el Agente 47 se transforma en un disfraz;  ayuda al personaje a saber si el disfraz del Agente debe sospechar de 칠l.  El servicio Deadbody ayuda a los personajes cercanos a darse cuenta de que recientemente se ha encontrado un cad치ver cerca de ellos.  Finalmente, el servicio Hitman le permite compartir conocimientos generales sobre el Agente 47, por ejemplo, informaci칩n sobre si un jugador se vio comprometido y d칩nde fue visto por 칰ltima vez.  Una caracter칤stica divertida de los sensores es que proporcionan un curioso equilibrio de conocimiento contextual, al mismo tiempo que dejan huecos que el jugador puede explorar.  Los sensores proporcionan informaci칩n directa sobre el mundo, pero su acci칩n puede interrumpirse bloqueando el alcance o distrayendo a los personajes.  Los servicios no son omnipotentes y se actualizan solo a ciertos intervalos.  Por lo tanto, la mayor칤a de la informaci칩n recibida de los servicios queda obsoleta con bastante rapidez, lo que permite al jugador manipular a los personajes en su inter칠s. <br><br>  Pero cuando la IA recibe toda esta informaci칩n, necesita tomar decisiones sobre sus acciones.  Cada personaje de IA puede incluir un conjunto de objetivos para s칤 mismo, que controla sus decisiones.  Despu칠s de seleccionar estos objetivos, utiliza el 치rbol de comportamiento para tomar decisiones sobre el comportamiento futuro.  Hasta ahora no he explicado esto, pero luego llegaremos a este tema. <br><br>  Para diversificar la jugabilidad, el juego divide las IA de NPC administradas en dos tipos principales: civiles y guardias de seguridad.  Esta separaci칩n afecta la informaci칩n almacenada en su base de conocimiento y los tipos de objetivos que pueden elegir por s칤 mismos. <br><br>  Comencemos con los civiles.  Estos personajes suelen ser de naturaleza pasiva, pero notan el comportamiento m치s provocativo, consider치ndolo sospechoso o alarmante.  Al mismo tiempo, pueden tener objetivos como oponerse al jugador o advertir a los guardias, pero esto no les permite participar en la batalla.  Buenos ejemplos de esto son los niveles en el desfile de moda de Par칤s y en el hotel Bangkok 2016 en Bangkok.  En ellos, los civiles con diferentes perfiles de base de conocimiento presentan diferentes comportamientos.  Los invitados son mucho m치s pasivos, pero todos reaccionan al comportamiento m치s atroz del jugador, mientras que el personal y las personas que rodean el objetivo del Agente tienen m치s probabilidades de reaccionar a sus payasadas y tratar de contrarrestarlo. <br><br>  Pasemos a los guardias.  Naturalmente, son los principales oponentes del jugador y entran en batalla con 칠l, reaccionando a las condiciones m치s extremas, por ejemplo, el descubrimiento de un cad치ver o personas inconscientes, as칤 como armas y otros elementos estrat칠gicos que se encuentran en el mundo abierto.  Como se mencion칩 anteriormente, en 2016 <em>Hitman</em> apareci칩 guardaespaldas de IA, siguiendo activamente al VIP y protegi칠ndolo cuando se mueve por el nivel.  Al mismo tiempo, todav칤a tienen libre albedr칤o y pueden explorar el mundo de forma independiente.  Para implementar esto, se requiere un sistema completamente diferente, y un poco m치s adelante hablaremos de ello. <br><br>  Entonces, despu칠s de haber recibido toda esta informaci칩n y haber activado los objetivos, el juego construye un sistema de 치rboles de comportamiento que permite a los personajes actuar de acuerdo con una de dos opciones: ejecutar los comportamientos por su cuenta o unirse a "situaciones" en las que los comportamientos son coordinados por el grupo.  El comportamiento es una o m치s acciones, por ejemplo, girar hacia un jugador, interactuar o hablar con 칠l, moverse a lugares del mundo, cambiar al modo de batalla o interactuar con objetos que el jugador manipul칩.  Al jugar, notar치s que muchos de los objetivos cumplen los comportamientos establecidos despu칠s de que el jugador manipula el mundo de cierta manera.  Esto sucede porque corresponde a los objetivos establecidos que los objetivos deben cumplir en caso de ciertas condiciones.  Es decir, se ponen intencionalmente en una posici칩n de riesgo para que el jugador pueda matarlos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce0/3b9/eee/ce03b9eee115f6e62b51f8e76fa48bf0.png"></div><br>  Al mismo tiempo, las situaciones a menudo surgen cuando los eventos que ocurren en el mundo tienen un impacto m치s amplio, por ejemplo, cuando los personajes descubren cad치veres, cuando un jugador se ve comprometido o cuando el objetivo se da cuenta de que lo est치 buscando y trata de escapar.  En tales casos, los personajes son conscientes de lo que sucede a su alrededor y se unen a la situaci칩n.  La situaci칩n dicta acciones para cada uno de ellos y todos juegan su parte en esta actuaci칩n.  Por ejemplo, en el caso de que un jugador abra fuego en un desfile de modas, los invitados y el personal a menudo intentan escapar y pedir ayuda, y los guardias de seguridad comienzan a buscar al jugador y disparan. <br><br>  El sistema de 치rboles de comportamiento apareci칩 por primera vez en Absolution y se mejor칩 mucho y se complement칩 con el lanzamiento de juegos en 2016 y 2018.  Utiliza un sistema de niveles de detalle (LOD).  Esto significa que cuando en el nivel hay m치s de 300 personajes de IA activos controlados por 치rboles de comportamiento, aquellos ubicados lejos del jugador actualizan su comportamiento con menos frecuencia, y la prioridad de los recursos de la CPU para actualizar la IA se otorga a los personajes m치s cercanos.  Adem치s, para estos personajes lejanos de IA, las animaciones se simplifican o se desactivan por completo.  Como se mencion칩 anteriormente, la gran mayor칤a de los personajes en el nivel est치n controlados por el sistema de IA de la multitud, pero si es necesario, cada personaje de la multitud puede estar dotado de un 치rbol de comportamiento AI, lo que aumenta su capacidad para un personaje receptivo y coordinado. <br><br><h1>  Multitudes </h1><br>  Ahora, antes de pasar a los sistemas dise침ados para el juego de 2016, echemos un vistazo al segundo sistema b치sico creado para Absolution: el marco de inteligencia artificial de multitudes.  En Absolution, pod칤a soportar hasta 1200 agentes en una multitud, y 500 de ellos pod칤an ser visibles al mismo tiempo.  Todav칤a no he dicho esto, pero los sistemas de multitudes son muy dif칤ciles de implementar correctamente.  Las multitudes a menudo consisten en una multitud de mu침ecos de IA, que no se pueden comparar mentalmente con los personajes de IA comunes.  Esto se debe principalmente al hecho de que hay demasiados, pero a menudo tambi칠n es bastante l칩gico: las personas en la multitud simplemente obedecen el instinto de la multitud y se mueven en el espacio hacia su objetivo.  Pero los desarrolladores de <em>Hitman</em> se propusieron difuminar la l칤nea entre las multitudes y el comportamiento del 치rbol de IA. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/108/706/177/1087061777522d55cad496d23c34cac3.png"></div><br>  Los personajes se colocan en una multitud como individuos, capaces de caminar, detenerse y reconocer objetos en el espacio.  Tambi칠n hay grupos sobre los cuales los dise침adores tienen m치s control.  Un grupo es muy 칰til cuando hay una acci칩n espec칤fica que varios personajes deben realizar en una multitud, por ejemplo, mirar en alg칰n punto y al mismo tiempo formar una determinada forma, por ejemplo, una gran figura o configuraci칩n.  Cada personaje de personalidad implementa un sistema similar a una m치quina de estados finitos simple, que tiene solo tres estados b치sicos de comportamiento: inactividad, caminar y "esperar para caminar".  El 칰ltimo estado es 칰til en situaciones donde el personaje quiere moverse, pero no se le permite hacer esto con una multitud de multitudes.  Si los personajes est치n atrapados en la multitud, entonces deciden la mejor direcci칩n de movimiento y esperan una oportunidad que les permita volver a caminar nuevamente.  De hecho, todo es m치s complicado de lo que describo, porque en el proceso de movimiento, los personajes necesitan ajustar su velocidad.  Por lo tanto, cada personaje puede establecer la velocidad preferida y m치xima que se utilizan para mantener el flujo de la multitud.  Tal sistema es a칰n m치s 칰til en caso de p치nico, cuando las personas comienzan a correr al azar. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/499/e6b/048/499e6b0486b1460aac182fb01f00a08f.png"></div><br>  Uno de los peligros reales de tener tantos agentes en un sistema de control de multitudes es que interrogan a un nomesch para encontrar una forma o simplemente verifican si pueden llegar al punto deseado.  Navigations Meshes es un sistema com칰nmente utilizado en juegos 3D para mover personajes alrededor de entornos.  La compa침칤a IO se dio cuenta de que este era un momento bastante cr칤tico, por lo tanto, superpuso una cuadr칤cula de toma de decisiones en 2D que informaba al personaje de IA si era posible atravesar un espacio determinado, si deb칤a evitarse (si se trata de un 치rea protegida), puntos de salida para NPC y 치reas prohibidas en caso de p치nico causado por el Agente 47; ser칤a extra침o que la gente corriera tranquilamente a su lado.  La inteligencia artificial de las multitudes y los 치rboles de comportamiento tienen cuadr칤culas de toma de decisiones.  Para los 치rboles de comportamiento, las cuadr칤culas proporcionan una forma r치pida y efectiva de realizar comprobaciones de visibilidad, buscar ubicaciones adecuadas cerca de puntos importantes y encontrar ubicaciones t치cticas en relaci칩n con un personaje dado sin tensi칩n excesiva sobre la bisagra. <br><br>  Pero la parte m치s dif칤cil comienza cuando el Agente 47 se agrega al sistema. La multitud lo rodea y se ocupa de sus asuntos, pero cuando el jugador comienza a causar estragos, los sistemas de inteligencia artificial deben poder responder a 칠l.  Los personajes en las inmediaciones del jugador deber칤an verse aterrados e intentar escapar, pero esto tendr치 un efecto acumulativo en toda la multitud: comenzar치 a moverse por el espacio tan pronto como cada personaje cercano se escape de la fuente de la alarma.  Este problema se resuelve mediante dos sistemas llamados zonas de comportamiento y flujos de p치nico. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/576/cfd/b1f/576cfdb1f04d610632ddb9b9b14c1792.png"></div><br>  Primero, cualquier acci칩n en el mundo que deber칤a influir en la multitud crea una o m치s zonas de comportamiento en el medio ambiente.  La zona de comportamiento env칤a un impulso con un cierto radio y 치ngulo en relaci칩n con la fuente del evento, que determina c칩mo debe reaccionar cada multitud que interact칰a con la IA.  Por ejemplo, cuando los fuegos artificiales comienzan a hacer ruido, entonces todos los personajes dentro de un cierto radio giran hacia un punto importante para observar sus explosiones.  Si un jugador, mientras tanto, saca un arma y lo dirige a un espectador inocente, tres zonas de comportamiento funcionar치n: <br><br><ul><li>  El primero hace que los que est치n en la l칤nea de fuego caigan al suelo. </li><li>  El segundo hace que el personaje en las inmediaciones del jugador entre en p치nico. </li><li>  El tercero hace que todos, dentro de un cierto radio del jugador, aprendan sobre la situaci칩n y entren en un estado de mayor ansiedad. </li></ul><br>  Cuando el Agente se mueve por el espacio con armas, estas zonas de comportamiento contin칰an enviando impulsos desde el jugador y hacen que otros personajes de IA de la multitud reaccionen ante 칠l.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La zona de comportamiento puede causar muchas reacciones en la multitud AI: mire un punto importante, evite la fuente de la zona de comportamiento, notif칤quelo, asuste o caiga al suelo. Si la IA de la multitud se encuentra entre varias zonas de comportamiento, prefiere la acci칩n, que afectar치 m치s su estado de 치nimo. Adem치s, seg칰n mi investigaci칩n, si un jugador ahuyenta a los personajes, no ser치 posible calmarlos, por lo tanto, solo puede hacerse peor y es imposible mejorar la situaci칩n. El jugador tiene un impacto negativo en la multitud. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los dise침adores crean estas zonas de comportamiento para cada nivel, porque son necesarias para que los personajes reaccionen a los eventos del mundo, pero sus reacciones tendr칤an sentido en un contexto espec칤fico. Por ejemplo, si en </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hitman</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En 2016, comenzar치 una pelea en el bar en el desfile de modas, esto resultar치 muy inapropiado y la multitud reaccionar치 de manera bastante negativa. Si un jugador comienza un desastre en el iVixen Club en </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hitman Absolution</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , entonces no se tomar치 tan en serio, porque las barras de striptease tienen una atm칩sfera adecuada y las personas pueden comportarse como cerdos all칤.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero cuando un jugador crea caos, la multitud quiere salir de su camino, y los flujos de p치nico entran aqu칤. </font><font style="vertical-align: inherit;">Los flujos de p치nico se crean sobre la base de la cuadr칤cula de decisi칩n, que mencion칠 anteriormente, en la que cada salida publicada por los dise침adores hace que cada celda del mapa calcule la ruta m치s corta a esta salida usando una variante del algoritmo de Dijkstra. </font><font style="vertical-align: inherit;">Estos caminos hacia las salidas son corrientes de p치nico, y la multitud AI elige el mejor flujo a seguir en caso de peligro. </font><font style="vertical-align: inherit;">Dichos flujos se calculan para todas las salidas en un espacio dado, lo que permite que la IA de la multitud cambie din치micamente a otra salida en caso de un "atasco de tr치fico", as칤 como para resolver situaciones en las que un jugador decide bloquear la salida m치s cercana.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guardaespaldas y VIP </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu칠s de mejorar los sistemas de IA de los 치rboles de comportamiento y la IA de la multitud para </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hitman</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2016, quedaba por agregar otra funci칩n importante: el sistema VIP y los guardaespaldas. Muchos objetivos importantes en </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hitman est치n</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acompa침ados por uno o m치s guardaespaldas, lo que agrega otro nivel de dificultad para el jugador. Por supuesto, cada nivel est치 dise침ado para que pueda encontrar formas de sortearlos, a menudo oblig치ndolos a moverse a posiciones m치s d칠biles o visti칠ndose con un traje que les permita pasar desapercibidos. Pero para agregar este nuevo nivel de complejidad, era necesario integrar un sistema completamente diferente en el marco de IA terminado.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0db/1ca/180/0db1ca180d1fb3ced18fa78dfc4008fb.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los desarrolladores necesitaban resolver el problema de crear una relaci칩n entre guardaespaldas y VIP. Anteriormente, los personajes de IA no sab칤an sobre la existencia del otro. La IA de la multitud solo sab칤a que algo imped칤a que se moviera alrededor del mundo, y la IA del 치rbol de comportamiento nunca supo lo que otros personajes estaban haciendo. Como se mencion칩 anteriormente, gracias al sistema de situaciones, parec칤a que estaban coordinados y respond칤an a eventos en el mundo, pero no pod칤an unirse significativamente a otros personajes para participar en esta situaci칩n y no se comunicaban entre s칤, porque solo usaban sensores y servicios. Simplemente le permiten agregarse a la situaci칩n y un sistema separado los selecciona seg칰n su posici칩n local y otros criterios. Pero en este caso, necesitamos implementar una relaci칩n entre los dos tipos de IA. Los guardaespaldas siempre deben seguir al VIP y verificar su estado,si no lo has visto por un tiempo. Al mismo tiempo, muchas reacciones sist칠micas a los sistemas de juego no deben ser manejadas por el propio VIP (despu칠s de todo, 칠l es finalmente el jefe), simplemente ordena a sus guardaespaldas que se encarguen de ellos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esto requiri칩 situaciones de escolta VIP y evacuaci칩n completamente nuevas que deben integrarse en el sistema principal de IA. En este caso, las situaciones deben tener reglas muy espec칤ficas que determinen su trabajo. Para implementarlos, IO cre칩 dos tipos especiales de caracteres. VIP es un tipo de IA civil que responde a las situaciones de manera un poco diferente, incluida una nueva capacidad para comandar a otras personas. Los guardaespaldas son un tipo de guardias de IA que tienen un conjunto de comportamientos ligeramente modificados y controlan activamente su VIP actual.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En primer lugar, el sistema te permite crear una situaci칩n llamada Ambient VIP Escort, en la que los guardaespaldas acompa침an al VIP en el nivel. Los guardaespaldas usan los sistemas de b칰squeda de nomeshme y camino para mantenerse cerca del personaje y seguirlo. Si el VIP decide detenerse, los guardaespaldas cambian a comportamientos pasivos y esperan hasta que necesiten seguirlo m치s. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sin embargo, esto significa que los VIP nunca se pueden dejar solos. Naturalmente, un VIP puede necesitar quedarse solo para hacer negocios, lo que ayuda al jugador en su tarea. Por lo tanto, el VIP puede ordenar a los guardaespaldas que no lo sigan a ciertas 치reas; los dise침adores de nivel colocaron notas en el mapa dici칠ndoles a los guardaespaldas d칩nde deb칤an esperar al jefe.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero esto revela otro punto d칠bil: el VIP puede perderse si los guardaespaldas simplemente se paran y no verifican si el jefe todav칤a est치 vivo. Esto es contrario a su prop칩sito. Por lo tanto, se agreg칩 otra situaci칩n al juego: el comportamiento de Escort-Search. Si el juego comprende que el VIP no puede continuar su patrulla en el mapa (porque fue impedido, est치 inconsciente o, muy probablemente, muerto), entonces el temporizador comienza. Cuando alcanza un cierto valor, el guardia m치s cercano comienza a verificar la 칰ltima ubicaci칩n conocida del VIP, y si no la encuentra, otros guardaespaldas se unen a 칠l y se dispersan para buscar una lista m치s amplia de ubicaciones cercanas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si encuentran un VIP y todo est치 en orden con 칠l, el proceso contin칰a de la manera habitual. Si el VIP est치 muerto, se activa el modo de b칰squeda activa, pero si el VIP se encuentra inconsciente, los guardaespaldas implementar치n la 칰ltima situaci칩n a침adida al juego de 2016: Evacuar VIP.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ce/430/06e/6ce43006eacbfb5957ca7e947f6d2361.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La situaci칩n de evacuaci칩n se cre칩 para que los guardaespaldas pudieran mover el VIP a un lugar seguro. Comienza cuando el VIP se entera del atentado contra su vida, en el caso de disparos, explosiones y otras se침ales de peligro que surgieron cerca. En una situaci칩n de evacuaci칩n, los guardias m치s cercanos rodean al VIP, despu칠s de lo cual este grupo se traslada a una habitaci칩n segura. Las habitaciones seguras son ubicaciones que los dise침adores de niveles han calificado como un buen lugar para esconderse VIP. Cuando un grupo est치 a punto de trasladarse a una habitaci칩n segura, el sistema calcula el espacio de su impacto en la cuadr칤cula de decisiones, prefiriendo los caminos con menos aglomeraci칩n para evitar crear embotellamientos en la multitud. Las rutas calculadas est치n dispuestas deliberadamente para que el grupo evite ser presionado en las esquinas, porque cuando varios guardaespaldas protegen a un VIP,No deben acumularse y colisionar entre s칤. Si es imposible encontrar una habitaci칩n segura o construir un camino hacia ella, deciden que la mejor ruta de escape es mantener la posici칩n hasta que se presente una nueva oportunidad de retiro.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sea como fuere, para comenzar la evacuaci칩n, los guardaespaldas deben alinearse. Para hacer esto, necesitan un edificio, que se maneja mediante un sistema de construcci칩n separado, que asigna a cada personaje su propio espacio y crea la prioridad de su incorporaci칩n al grupo. Luego, otro sistema entra en juego, apoyando la velocidad de movimiento y preservando la construcci칩n del grupo tanto como sea posible; El punto de partida es VIP. Sin embargo, si el jugador decide perseguirlos, los guardaespaldas pueden salirse de la l칤nea para detenerse y aceptar la batalla.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu칠s de llegar a una habitaci칩n segura, todos los guardias asignados son asignados a la habitaci칩n y realizan un comportamiento defensivo para proteger al VIP. </font><font style="vertical-align: inherit;">Si despu칠s de esto aparece un jugador y pone en peligro esta sala, el sistema comienza el proceso de evacuaci칩n nuevamente, despu칠s de lo cual los NPC crean un edificio y calculan una nueva sala y el camino hacia ella.</font></font><br><br><h1>  Animaciones </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El 칰ltimo componente importante de la inteligencia artificial de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hitman</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> son los sistemas de animaci칩n que el jugador ve en primer lugar. </font><font style="vertical-align: inherit;">Las animaciones en los juegos son muy importantes para demostrar las decisiones tomadas por los personajes; </font><font style="vertical-align: inherit;">son especialmente importantes en los juegos de sigilo, donde el jugador debe entender lo que est치 pensando, porque esto afecta su estrategia en general.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tradicionalmente, la animaci칩n se controla a trav칠s de un controlador: el sistema sabe que en ciertos contextos un personaje pasa de un estado de espera pasiva a caminar y correr. Para esto, los programadores y animadores generalmente necesitan construir tales sistemas de tal manera que cada personaje no solo conozca la animaci칩n que necesita reproducir, sino que tambi칠n entienda c칩mo realizar transiciones suaves entre animaciones, as칤 como hacer frente a muchas condiciones bajo las cuales necesita mezclar juntos Varias animaciones para lograr el efecto deseado. Si el sistema funciona mal, entonces los personajes se ven poco naturales y torpes, pero para su correcta implementaci칩n para cada personaje se requiere mucho trabajo. La tarea se vuelve a칰n m치s dif칤cil cuando los personajes pueden estar en nuevas condiciones 칰nicas y se agregan nuevas animaciones al sistema.Id Software resolvi칩 este problema agregando a</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOOM 2016</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un controlador de animaci칩n basado en animaci칩n que minimiza la cantidad de animaciones creadas para cada personaje y le permite calcular la mejor manera de administrarlas en el contexto actual. Pero una </font><font style="vertical-align: inherit;">caracter칤stica </font><font style="vertical-align: inherit;">칰nica para </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hitman</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fue que IO Interactive no pod칤a permitirse el lujo de tener m치s de mil controladores de animaci칩n complejos al mismo tiempo. Por lo tanto, necesitaba algo menos costoso y, en el caso ideal, calculado de antemano para reducir la carga en la CPU.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd6/cb5/845/fd6cb5845a1b887a7891a88c7c987857.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por lo tanto, IO Interactive decidi칩 investigar un sistema llamado Motion Graphs, en el que la tarea de los dise침adores era conectar todas las animaciones, y la tarea de AI era descubrir c칩mo mezclarlas todas. La idea subyacente es bastante simple: despu칠s de grabar todas estas animaciones, forzaremos al algoritmo a encontrar cuadros en los que dos animaciones est칠n lo suficientemente cerca una de la otra para que puedan usarse como transici칩n. Esto se logra buscando un par de cuadros (uno de cada animaci칩n), cuya diferencia es m칤nima. Al mismo tiempo, se buscan no los cuadros m치s similares entre s칤, sino los menos distintos teniendo en cuenta la duraci칩n y la velocidad. Despu칠s de que la m칠trica de discrepancia selecciona el par con el valor m치s bajo, lo agrega al gr치fico de posibles transiciones. Cuando se completa el gr치fico de movimiento,el personaje simplemente puede actuar en el juego y determinar la secuencia de animaciones necesarias para lograr el efecto deseado.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqu칤 es donde la IA entra en acci칩n, porque a pesar del hecho de que el gr치fico de movimiento elimina la parte del dise침o del problema, todav칤a necesitamos un sistema para realizar las animaciones necesarias. </font><font style="vertical-align: inherit;">Por lo tanto, comenzando con Absolution, se integr칩 un nuevo controlador de animaci칩n en la serie de juegos, utilizando aprendizaje autom치tico reforzado. </font><font style="vertical-align: inherit;">Si el sistema conoce la animaci칩n actual, la direcci칩n y velocidad actuales, entonces necesita cumplir las condiciones de la direcci칩n y velocidad necesarias, y tambi칠n averiguar en qu칠 animaci칩n actual debe permanecer y con qu칠 direcci칩n y velocidad. </font><font style="vertical-align: inherit;">La primera versi칩n del sistema utiliza una variaci칩n simple de la pol칤tica codiciosa est치ndar, pero m치s tarde los desarrolladores estudiaron las posibilidades de Q-learning y aproximar una funci칩n expandi칠ndola a un sistema de funciones b치sicas (aproximaci칩n de funciones b치sicas), que puede aplicarse en nuevas versiones.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hitman 2 </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el proceso de pasar de Absolution a </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hitman</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2016, se mejoraron los sistemas b치sicos de IA, se optimiz칩 el sistema de multitudes y se agregaron sistemas de guardaespaldas y VIP. El mismo proceso continu칩 durante el desarrollo de la secuela de 2018 llamada </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hitman 2</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al momento de escribir, los detalles a칰n se desconocen, pero se han realizado cambios significativos en el juego, y cada sistema ha sido revisado e integrado nuevamente. El cambio m치s notable fue la mayor optimizaci칩n del sistema de multitudes, que ahora puede manejar m치s de 2000 NPC, y esto demuestra completamente el segundo nivel del juego con la pista de carreras en Miami.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/345/0dc/a55/3450dca55887ea925689352d5b55a41c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El sistema de sensores tambi칠n fue revisado: ahora puedes quitarte las miradas sospechosas del NPC, simplemente alej치ndote de ellos, ya no necesitas abandonar su campo de visi칩n. Adem치s, el jugador ahora puede esconderse mejor en la multitud, as칤 como aprovechar la vegetaci칩n. A su vez, los NPC aprendieron a ver al jugador en los espejos, lo que hace que su comportamiento sea mucho m치s realista. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La tercera misi칩n en Colombia eleva las apuestas particularmente altas: tiene hasta tres objetivos, cada uno de los cuales se mueve a lo largo de una ruta de patrulla bastante grande. El jugador necesita m치s flexibilidad, porque los sistemas de juego interrumpen estas rutas objetivo si resulta obvio que el jugador est치 tratando de usarlas.</font></font><br><br><h1>  En conclusi칩n </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En 칰ltima instancia, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hitman</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es una de las caracter칤sticas m치s ricas y los juegos m치s complejos que he encontrado en la serie AI y Games. </font><font style="vertical-align: inherit;">Utiliza una gran cantidad de sistemas optimizados y cuidadosamente ajustados que administran una gran cantidad de NPC, al tiempo que proporciona una peque침a carga en la computadora. </font><font style="vertical-align: inherit;">Establece un nuevo est치ndar para el tama침o y la escala de los personajes de IA en tiempo real, y espero que este no sea el 칰ltimo juego de la franquicia IO Interactive.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Referencias </font></font></h1><br><ul><li> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Creando la IA para el mundo vivo, la respiraci칩n de la absoluci칩n de Hitman"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por Mika Vehkala, GDC Europe 2013.</font></font></li><li> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Multitudes en Hitman: Absoluci칩n"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por Kasper Fauerby, Game / AI Conference 2012</font></font></li><li> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Refuerzo del aprendizaje basado en la locomoci칩n de personajes en Hitman: Absoluci칩n"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por Michael B칲ttner, Game / AI Conference 2012.</font></font></li><li> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Guardaespaldas y VIP: una mirada al comportamiento ambiental, de alerta y de evacuaci칩n de la IA en Hitman"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por Jason Schroder y Thomas Egeskov Petersen. </font><font style="vertical-align: inherit;">nucl.AI Conference 2016.</font></font></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/467301/">https://habr.com/ru/post/467301/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../467283/index.html">C칩mo explicarle a tu abuela la diferencia entre SQL y NoSQL</a></li>
<li><a href="../467289/index.html">Desarrollo de un sistema operativo monol칤tico similar a Unix: GDT e IDT (5)</a></li>
<li><a href="../467291/index.html">iOS para la creatividad: dibujar</a></li>
<li><a href="../467295/index.html">El enlace de vistas tan esperado en Android</a></li>
<li><a href="../467299/index.html">Conceptos: simplificar la implementaci칩n de las clases de utilidad STD</a></li>
<li><a href="../467303/index.html">La historia del programador m치s joven de PSB: el hackathon se convirti칩 en la puerta del banco</a></li>
<li><a href="../467305/index.html">Cuando la ciudad es inteligente: la experiencia de las megaciudades</a></li>
<li><a href="../467313/index.html">Replicaci칩n cruzada entre PostgreSQL y MySQL</a></li>
<li><a href="../467317/index.html">C칩mo SoftBank se trag칩 el mundo</a></li>
<li><a href="../467323/index.html">Descripci칩n general de las caracter칤sticas de programaci칩n del microcontrolador Qt Creator 4.10 y QBS 1.14</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>