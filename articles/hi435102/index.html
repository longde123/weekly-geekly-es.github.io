<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСОЁЯП╗ ЁЯСйЁЯП╛тАНтЪЦя╕П ЁЯдШЁЯП╝ рд▓реЗрдХреНрд╕рд┐рдХрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ ЁЯНА ЁЯИ▓ ЁЯСПЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдПрдХ рдмрд╛рд░, рдЬрдм рдЖрдХрд╛рд╢ рдиреАрд▓рд╛ рдерд╛, рдШрд╛рд╕ рд╣рд░рд┐рдпрд╛рд▓реА рдереА рдФрд░ рдбрд╛рдпрдирд╛рд╕реЛрд░ рдкреГрдереНрд╡реА рдкрд░ рдШреВрдорддреЗ рдереЗ ... рдирд╣реАрдВ, рдбрд╛рдпрдирд╛рд╕реЛрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреВрд▓ рдЬрд╛рдУред рдЦреИрд░, рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдПрдХ рдмрд╛рд░ рдорд╛рдирдХ рд╡реЗрдм-рдкреН...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд▓реЗрдХреНрд╕рд┐рдХрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435102/"><img src="https://habrastorage.org/webt/93/ob/36/93ob36rkepacsoqhbmlu4bj3g0q.png"><br><br>  рдПрдХ рдмрд╛рд░, рдЬрдм рдЖрдХрд╛рд╢ рдиреАрд▓рд╛ рдерд╛, рдШрд╛рд╕ рд╣рд░рд┐рдпрд╛рд▓реА рдереА рдФрд░ рдбрд╛рдпрдирд╛рд╕реЛрд░ рдкреГрдереНрд╡реА рдкрд░ рдШреВрдорддреЗ рдереЗ ... рдирд╣реАрдВ, рдбрд╛рдпрдирд╛рд╕реЛрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреВрд▓ рдЬрд╛рдУред  рдЦреИрд░, рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдПрдХ рдмрд╛рд░ рдорд╛рдирдХ рд╡реЗрдм-рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рд╕реЗ рдзреНрдпрд╛рди рд╣рдЯрд╛рдиреЗ рдФрд░ рдХреБрдЫ рдЕрдзрд┐рдХ рдкрд╛рдЧрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рдЪрд╛рд░ рдЖрдпрд╛ред  рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдХреБрдЫ рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдкрд╕рдВрдж рдЕрдкрдиреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рд▓рд┐рдЦрдиреЗ рд╡рд╛рд▓реЗ рдкрд░ рдЧрд┐рд░ рдЧрдИред  рдореИрдВ рдХреНрдпрд╛ рдХрд╣ рд╕рдХрддрд╛ рд╣реВрдВ ... <i>рдХрднреА рднреА рдЕрдкрдиреА рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рд▓реИрдВрдЧреНрд╡реЗрдЬ рди рд▓рд┐рдЦреЗрдВ</i> ред  рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдЗрд╕ рд╕рдм рд╕реЗ рдХреБрдЫ рдЕрдиреБрднрд╡ рд╣реБрдЖ, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдЗрд╕реЗ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред  рдЪрд▓реЛ рдмрд╣реБрдд рдиреАрдВрд╡ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ - рд▓реЗрд╕рд░ред <br><a name="habracut"></a><br><h2>  рдкреНрд░рд╕реНрддрд╛рд╡рдирд╛ </h2><br>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк рд╕рдордЭрдиреЗ рд▓рдЧреЗрдВ рдХрд┐ "рд▓реЗрдХреНрд╕рд░" рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЬрд╛рдирд╡рд░ рд╣реИ, рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд╛рдпрдХ рд╣реИ рдХрд┐ рд╣рд╛рдВрдк рдХрд┐рд╕рд╕реЗ рдмрдирд╛ рд╣реИред <br><br>  рдЖрдзреБрдирд┐рдХ рджреБрдирд┐рдпрд╛ рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ рд╕рдВрдХрд▓рдХ / рджреБрднрд╛рд╖рд┐рдпрд╛ / рдЯреНрд░рд╛рдВрд╕рдкрд┐рд▓рд░ / рдХреБрдЫ-рд╡рд╣рд╛рдБ-рдФрд░-рдЬреИрд╕реЗ (рдЪрд▓реЛ, рдореИрдВ рдмрд╕ рдЗрд╕реЗ рдЖрдЧреЗ "рд╕рдВрдХрд▓рдХ" рдХрд╣реВрдБрдЧрд╛, рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рдХреЗ рдмрд┐рдирд╛) рджреЛ рдЯреБрдХрдбрд╝реЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рд╕реНрдорд╛рд░реНрдЯ рдЪрд╛рдЪрд╛рдУрдВ рдХреА рд╢рдмреНрджрд╛рд╡рд▓реА рдореЗрдВ, рдРрд╕реЗ рдЯреБрдХрдбрд╝реЛрдВ рдХреЛ "рдлреНрд░рдВрдЯреЗрдВрдб" рдФрд░ "рдмреИрдХрдПрдВрдб" рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдирд╣реАрдВ, рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╡реЗрдм рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп, рд╣рдореЗрдВ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрдпрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд╕рд╛рдордиреЗ рд╡рд╛рд▓реЗ рдХреЛ HTML рдХреЗ рд╕рд╛рде JS рдореЗрдВ рдирд╣реАрдВ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐ ... рдареАрдХ рд╣реИред <br><br>  рд░рд╛рд╕реНрддреЗ рдореЗрдВ рд╕рд┐рдВрдЯреИрдХреНрд╕ (рдФрд░ рдХрднреА-рдХрднреА рд╢рдмреНрджрд╛рд░реНрде) рдХреА рдЬрд╛рдБрдЪ рдХрд░рддреЗ рд╣реБрдП рдкрд╣рд▓реЗ рд╕реАрдорд╛рдВрдд рдХрд╛ рдХрд╛рд░реНрдп <b>рдкрд╛рда</b> рдХреЛ рд▓реЗрдирд╛ рдФрд░ рдЗрд╕реЗ <b>рдПрдПрд╕рдЯреА</b> (рд╕рд╛рд░ рд╕рд┐рдВрдЯреИрдХреНрд╕ рдЯреНрд░реА) рдореЗрдВ рдмрджрд▓рдирд╛ рд╣реИред  рджреВрд╕рд░рд╛ рдмреИрдХрдПрдВрдб рдХрд╛ рдХрд╛рд░реНрдп рдпрд╣ рд╕рдм рдХрд╛рдо рдХрд░рдирд╛ рд╣реИред  рдпрджрд┐ рдХреЛрдб рджреБрднрд╛рд╖рд┐рдпрд╛ рдХреЗ рдЕрдВрджрд░ рдЗрдХрдЯреНрдард╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдПрдПрд╕рдЯреА рд╡рд░реНрдЪреБрдЕрд▓ рдкреНрд░реЛрд╕реЗрд╕рд░ (рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди) рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ рдмрдирд╛рддрд╛ рд╣реИ, рдпрджрд┐ рдХрдВрдкрд╛рдЗрд▓рд░, рддреЛ рдЕрд╕рд▓реА рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рд╕реЗрдЯред  рдЬреАрд╡рди рдореЗрдВ, рд╕рдм рдХреБрдЫ рдХрд╛рдлреА рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИ рдФрд░ рдХрд╛рдлреА рд╣рдж рддрдХ рдЗрд╕реЗ рд▓рд╛рдЧреВ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬреАрд╕реАрд╕реА рд╕рдВрдХрд▓рдХ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╕рдм рдХреБрдЫ рдорд┐рд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреНрд▓реИрдВрдЧ рдкрд╣рд▓реЗ рд╕реЗ рдЕрдзрд┐рдХ рд╡рд┐рд╣рд┐рдд рд╣реИ, рдПрд▓рдПрд▓рд╡реАрдПрдо рд╕рдВрдХрд▓рдХ рдХреЗ рд▓рд┐рдП "рдмреИрдХрдПрдВрдб" рдХрд╛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░рддрд┐рдирд┐рдзрд┐ рд╣реИред <br><br><img src="https://habrastorage.org/webt/un/ai/wa/unaiwa1kmx5jci6uxnhngor5ozs.png"><br><br>  рдЕрдм рдЖрдЗрдП рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдлреНрд░рдВрдЯреЗрдВрдб рдирд╛рдордХ рдПрдХ рдЯреБрдХрдбрд╝рд╛ред <br><br><h2>  рд▓реЗрдХреНрд╕рд┐рдХрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг </h2><br>  рд▓реЗрдХреНрд╕рд░ рдФрд░ рд▓реЗрдХреНрд╕рд┐рдХрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рдЪрд░рдг рдХрд╛ рдХрд╛рд░реНрдп рдкреНрд░рд╡реЗрд╢ рджреНрд╡рд╛рд░ рдкрд░ рдХрдИ, рдХрдИ рдЕрдХреНрд╖рд░реЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдХреБрдЫ рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдореЗрдВ рд╕рдореВрд╣рд┐рдд рдХрд░рдирд╛ рд╣реИ - "рдЯреЛрдХрди"ред  рдЗрд╕рд▓рд┐рдП, рд▓реЗрдХреНрд╕рд┐рдХрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЛ "рдЯреЛрдХреЗрдирд╛рдЗрдЬреЗрд╢рди" рднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХрд╛ рдкрд╣рд▓рд╛ рдЪрд░рдг рд╣реИ рдЬреЛ рд╣рд░ рдореМрдЬреВрджрд╛ рдХрдВрдкрд╛рдЗрд▓рд░ рдХрд╛ рдЙрддреНрдкрд╛рджрди рдХрд░рддрд╛ рд╣реИред <br><br>  рдХреБрдЫ рдЗрд╕ рддрд░рд╣: <br><br><pre><code class="php hljs">$tokens = [<span class="hljs-string"><span class="hljs-string">'class'</span></span>, <span class="hljs-string"><span class="hljs-string">'\w+'</span></span>, <span class="hljs-string"><span class="hljs-string">'}'</span></span>, <span class="hljs-string"><span class="hljs-string">'{'</span></span>]; var_dump(lex(<span class="hljs-string"><span class="hljs-string">'class Example {}'</span></span>, $tokens)); <span class="hljs-comment"><span class="hljs-comment">// array(4) { // [0] =&gt; string(5) "class" // [1] =&gt; string(7) "Example" // [2] =&gt; string(1) "{" // [3] =&gt; string(1) "}" // }</span></span></code> </pre> <br>  рд╡реИрд╕реЗ, рдпрд╣рд╛рдВ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЬреАрд╡рди рдХреЛ рдЖрд╕рд╛рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рд▓рд┐рдЦрд╛ рд╣реИред  рд╡рд╣реА <i>рдкреНрд░реАрдЧ</i> рдлрд╝рдВрдХреНрд╢рдВрд╕ рдЬреЛ рд╣рдордиреЗ рдкрд╛рд░реНрд╕рд┐рдВрдЧ рдЯреЗрдХреНрд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП <i>рдереЗ,</i> рдЗрд╕ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП рдХрд╛рдлреА <i>рд╕рдХреНрд╖рдо</i> рд╣реИрдВред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЙрдкрдХрд░рдг рд╣реИрдВ: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдлрд▓реЗрдХреНрд╕</a> , рдирд┐рдХрд┐рддрд╛ рдкреЛрдкреЛрд╡ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦрд┐рддред </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реЛрдЖ</a> рдПрдХ рдЯреВрд▓рдХрд┐рдЯ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд▓реЗрдХреНрд╕рд░ + рдкрд╛рд░реНрд╕рд░ + рдЧреНрд░рд╛рдорд░ рд╢рд╛рдорд┐рд▓ рд╣реИред </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреЛрд░реНрдЯ рдпреИрдХ</a> , рдПрдВрдереЛрдиреА рдлреЗрд░рд╛рд░рд╛ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦрд┐рдд, рдЬреЛ рдПрдХ рдЬрдЯрд┐рд▓ рдЯреВрд▓рдХрд┐рдЯ рднреА рд╣реИ, рдФрд░ рдЬрд┐рд╕ рдкрд░ рдкреНрд░рд╕рд┐рджреНрдз рдкреЛрдкреЛрд╡ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреАрдПрдЪрдкреА рдкрд╛рд░реНрд╕рд░</a> рд▓рд┐рдЦрд╛ рд╣реИ, рдЬреЛ рдХреЛрдб рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЯреВрд▓ рдореЗрдВ рд▓рд╛рдЧреВ рд╣реИред </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Railt Lexer</a> PHP <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">7.1+ рдХреЗ</a> рд▓рд┐рдП рдореЗрд░рд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╛рд░реНрд▓реЗ</a> PHP рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╣реИ рдЬреЛ рдкреАрд╕реАрдЖрд░рдИ рднрд╛рд╡реЛрдВ рдХрд╛ рд╕реАрдорд┐рдд рд╕реЗрдЯ (рдХреЛрдИ рд▓реБрдХ рдирд╣реАрдВ рдФрд░ рдХреБрдЫ рдЕрдиреНрдп рд╕рд┐рдВрдЯреИрдХреНрд╕ рдирд┐рд░реНрдорд╛рдг) рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </li><li>  рдФрд░ рдЕрдВрдд рдореЗрдВ, рдорд╛рдирдХ php рдлрд╝рдВрдХреНрд╢рди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">token_get_all</a> , рдЬреЛ рд╕реАрдзреЗ PHP рдХреЗ рд╢рд╛рдмреНрджрд┐рдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рдЕрднрд┐рдкреНрд░реЗрдд рд╣реИред </li></ul><br>  рдЦреИрд░, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдЧрд┐рдЬрд╝реНрдо рд╣реИрдВ рдЬреЛ рдкрд╛рда рдХреЛ рдЯреЛрдХрди рд╕реЗ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд╢рд╛рдпрдж рдореИрдВ рднреА рдХреБрдЫ рднреВрд▓ рдЧрдпрд╛ рд╣реВрдВ, рдЬреИрд╕реЗ рдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдбреЙрдХреНрдЯреНрд░рд┐рди</a> рд▓реЗрдХреНрд╕рд░ред  рд▓реЗрдХрд┐рди рдЖрдЧреЗ рдХреНрдпрд╛ рд╣реИ? <br><br><h2>  рд▓реЗрдХрд░реНрд╕ рдХреЗ рдкреНрд░рдХрд╛рд░ </h2><br>  рдФрд░ рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣, рд╕рдм рдХреБрдЫ рдЙрддрдирд╛ рд╕рд░рд▓ рдирд╣реАрдВ рд╣реИ рдЬрд┐рддрдирд╛ рдпрд╣ рд▓рдЧ рд░рд╣рд╛ рдерд╛ред  рд▓реЗрдХрд░реНрд╕ рдХреА рдХрдо рд╕реЗ рдХрдо рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╢реНрд░реЗрдгрд┐рдпрд╛рдВ рд╣реИрдВред  рд╕рд╛рдорд╛рдиреНрдп рд╡рд┐рдХрд▓реНрдк рд╣реИ, рдХрд╛рдлреА рддреБрдЪреНрдЫ, рдЬрд┐рд╕рдореЗрдВ рдЖрдк рдирд┐рдпрдореЛрдВ рдХреЛ рдЦрд┐рд╕рдХрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕рдм рдХреБрдЫ рдЯреЛрдХрди рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдмрд╛рдж рдХрд╛ рд╡рд┐рдиреНрдпрд╛рд╕ рдореЗрд░реЗ рджреНрд╡рд╛рд░рд╛ рджрд┐рдЦрд╛рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рд╕реЗ рдмрд╣реБрдд рдЕрд▓рдЧ рдирд╣реАрдВ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдПрдХ рдФрд░ рд╡рд┐рдХрд▓реНрдк рд╣реИ рдЬрд┐рд╕реЗ <b>рдорд▓реНрдЯреАрд╕реНрдЯреЗрдЯ</b> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдРрд╕реЗ рд▓реЗрдХрд░реНрд╕ рдХреЛ рд╕рдордЭрдирд╛ рдереЛрдбрд╝рд╛ рдЬреНрдпрд╛рджрд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИ, рдЗрд╕рд▓рд┐рдП, рдореИрдВ рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдФрд░ рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред <br><br>  рдорд▓реНрдЯреАрд╕реНрдЯреЗрдЯ рд▓реЗрдХреНрд╕рд░ рдХрд╛ рдХрд╛рд░реНрдп рдкрд┐рдЫрд▓реЗ рд░рд╛рдЬреНрдп рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд┐рднрд┐рдиреНрди рдЯреЛрдХрди рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ рд╣реИред  рдареАрдХ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, PHP рдореЗрдВ, рдРрд╕реЗ "рд╕рдВрдХреНрд░рдордгрдХрд╛рд▓реАрди" рд░рд╛рдЬреНрдп &lt;? Php +?&gt; рдЯреИрдЧ, рд▓рд╛рдЗрдиреЛрдВ, рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ, рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">HEREDOC</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">NowDOC</a> рдирд┐рд░реНрдорд╛рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд░рдХреЗ</a> рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВред <br><br>  4 рдЯреЛрдХрди рдХреЗ рд╕рд╛рде рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдг рдХреЛ рдпрд╛рдж рд░рдЦреЗрдВ?  рдЖрдЗрдП рдЗрд╕реЗ рдереЛрдбрд╝рд╛ рд╕рдордЭреЗрдВ рдХрд┐ рдпреЗ рдЕрд╡рд╕реНрдерд╛рдПрдБ рдХреНрдпрд╛ рд╣реИрдВ: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// class Example {} }</span></span></code> </pre><br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЕрдЧрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкреАрд╕реАрдЖрд░ рдХреА рд╡реНрдпрд╛рдкрдХ рдХреНрд╖рдорддрд╛рдУрдВ рдХреЗ рдмрд┐рдирд╛ рд╕рдмрд╕реЗ рд╕рд░рд▓ рд▓реЗрд╕рд░ рд╣реИ, рддреЛ рд╣рдореЗрдВ рдЯреЛрдХрди рдХреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗрдЯ рдорд┐рд▓рддреЗ рд╣реИрдВ: <br><br><pre> <code class="php hljs">var_dump(lex(...)); <span class="hljs-comment"><span class="hljs-comment">// array(9) { // [0] =&gt; string(5) "class" // [1] =&gt; string(7) "Example" // [2] =&gt; string(1) "{" // [3] =&gt; string(2) "//" // [4] =&gt; string(5) "class" // [5] =&gt; string(7) "Example" // [6] =&gt; string(1) "{" // [7] =&gt; string(1) "}" // [8] =&gt; string(1) "}" //}</span></span></code> </pre><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рдореЗрдВ 3-5 рдкрд░ рддрддреНрд╡реЛрдВ рдкрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкреНрд░рддрд┐рдмрдВрдз рдЬрдВрдм рдорд┐рд▓рд╛ рд╣реИ: рдЯрд┐рдкреНрдкрдгреА рдХреЛ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд░реВрдк рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рдЯреЛрдХрди рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЗрд╕реЗ рдПрдХ рдкреВрд░реЗ рдЯреБрдХрдбрд╝реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдирд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдерд╛ред <br><br>  рдмреЗрд╢рдХ, рдкреАрд╕реАрдЖрд░рдИ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдХреЗ рд╕рд╛рде, рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рдЯреЛрдХрди рдХреЛ рдПрдХ рдирд┐рдпрдорд┐рдд рдирд┐рдпрдорд┐рддрддрд╛ рдХреА рдорджрдж рд╕реЗ рдлрд╛рдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ " <i>// [^ \ n] * \ n</i> ", рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдпрд╣ рдирд╣реАрдВ рд╣реИ?  рдпрд╛ рд╣рдо рдЗрд╕реЗ рдЕрдкрдиреЗ рд╣рд╛рдереЛрдВ рд╕реЗ рдЧрд╢ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ?  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдорд▓реНрдЯреАрд╕реНрдЯреЗрдЯ рд▓реЗрдХреНрд╕рд░ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ - рд╣рдо рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╕рднреА рдЯреЛрдХрди рд╕рдореВрд╣ <b>рдирдВрдмрд░ 1</b> рдореЗрдВ рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдП, рдЬреИрд╕реЗ рд╣реА " <i>//</i> " рдЯреЛрдХрди рдкрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╕рдореВрд╣ <b>рдирдВрдмрд░ 2</b> рдореЗрдВ рд╕рдВрдХреНрд░рдордг рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдФрд░ рджреВрд╕рд░реЗ рд╕рдореВрд╣ рдХреЗ рдЕрдВрджрд░, рд░рд┐рд╡рд░реНрд╕ рд╕рдВрдХреНрд░рдордг, рдЕрдЧрд░ рдЯреЛрдХрди " <i>\ n</i> " рдкрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдкрд╣рд▓реЗ рд╕рдореВрд╣ рдореЗрдВ рд╡рд╛рдкрд╕ рдЪрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдХреБрдЫ рдЗрд╕ рддрд░рд╣: <br><br><pre> <code class="php hljs">$tokens = [ <span class="hljs-string"><span class="hljs-string">'group-1'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span>, <span class="hljs-string"><span class="hljs-string">'\w+'</span></span>, <span class="hljs-string"><span class="hljs-string">'{'</span></span>, <span class="hljs-string"><span class="hljs-string">'}'</span></span>, <span class="hljs-string"><span class="hljs-string">'//'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'group-2'</span></span> <span class="hljs-comment"><span class="hljs-comment">//      2 ], 'group-2' =&gt; [ "\n" =&gt; 'group-1', //    1    '.*' ] ];</span></span></code> </pre><br>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЕрдм рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдХреБрдЫ HEREDOC рдХреЛ рдХреИрд╕реЗ рдкрд╛рд░реНрд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ PCRE рдХреА рд╕рд╛рд░реА рд╢рдХреНрддрд┐ рдХреЗ рд╕рд╛рде рднреА, рдЗрд╕ рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рд▓рд┐рдЦрдирд╛ рдмреЗрд╣рдж рд╕рдорд╕реНрдпрд╛рдЧреНрд░рд╕реНрдд рд╣реИ, рдпрд╣ рджреЗрдЦрддреЗ рд╣реБрдП рдХрд┐ рдпрд╣ HEREDOC рд╕рд┐рдВрдЯреИрдХреНрд╕ рд╡реИрд░рд┐рдПрдмрд▓ рдЗрдВрдЯрд░рдкреЛрд▓реЗрд╢рди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред  рдмрд┐рд▓реНрдЯ-рдЗрди <i>token_get_all</i> рдлрд╝рдВрдХреНрд╢рди (рдиреЛрдЯ&gt; 12 рдЯреЛрдХрди) рдХреЗ рд╕рд╛рде рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $example = <span class="hljs-number"><span class="hljs-number">42</span></span>; $a = &lt;&lt;&lt;EOL Your answer is $example !!! EOL; var_dump(token_get_all(file_get_contents(<span class="hljs-keyword"><span class="hljs-keyword">__FILE__</span></span>)));</code> </pre><br>  рдЦреИрд░, рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╣рдо рдЕрднреНрдпрд╛рд╕ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВред <br><br><h2>  рдЕрднреНрдпрд╛рд╕ </h2><br>  рдЖрдЗрдП рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдРрд╕реА рдЪреАрдЬреЛрдВ рдХреЗ рд▓рд┐рдП PHP рдореЗрдВ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреНрдпрд╛ рд╣реИ?  рдЦреИрд░, рдмреЗрд╢рдХ, preg_match!  рдареАрдХ рд╣реИ, рдиреАрдЪреЗ рдЖрдУред  Preg_match- рдЖрдзрд╛рд░рд┐рдд рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реЛрдЖ рдореЗрдВ</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдлреЗрд▓реНрд╕реА рдХреЗ рдЗрд╕ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ</a> ред  рдЗрд╕рдХрд╛ рдХрд╛рд░реНрдп рдХрд╛рдлреА рд╕рд░рд▓ рд╣реИ: <br><br><ol><li>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╕реНрд░реЛрдд рдкрд╛рда рдФрд░ рдирд┐рдпрдорд┐рдд рдХреА рдПрдХ рд╕рд░рдгреА рд╣реИред </li><li>  рд╣рдо рддрдм рддрдХ рдорд┐рд▓рддреЗ рд╣реИрдВ рдЬрдм рддрдХ рдХрд┐ рдХреБрдЫ рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рдорд┐рд▓ рдЬрд╛рддрд╛ред </li><li>  рдЬреИрд╕реЗ рд╣реА рдЖрдк рдПрдХ рдЯреБрдХрдбрд╝рд╛ рдкрд╛рддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдкрд╛рда рд╕реЗ рдмрд╛рд╣рд░ рдХрд╛рдЯреЗрдВ рдФрд░ рдЖрдЧреЗ рдореЗрд▓ рдХрд░реЗрдВред </li></ol><br>  рдХреЛрдб рд░реВрдк рдореЗрдВ, рдпрд╣ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛: <br><br><div class="spoiler">  <b class="spoiler_title">рдХреЛрдб рд╢реАрдЯ</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleLexer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> array&lt;string&gt; */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $tokens = []; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> array&lt;string&gt; $tokens */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $tokens)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($tokens <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $name =&gt; $definition) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tokens[$name] = \sprintf(<span class="hljs-string"><span class="hljs-string">'/\G%s/isSum'</span></span>, $definition); } } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $sources * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> iterable&amp;\Traversable&lt;string&gt; * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> RuntimeException */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $sources)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterable</span></span></span><span class="hljs-function"> </span></span>{ [$offset, $length] = [<span class="hljs-number"><span class="hljs-number">0</span></span>, \strlen($sources)]; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ($offset &lt; $length) { [$name, $token] = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;next($sources, $offset); <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> $name =&gt; $token; $offset += \strlen($token); } } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $sources * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> int $offset * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> array&lt;string,string&gt; * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> RuntimeException */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $sources, int $offset)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tokens <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $name =&gt; $pcre) { \preg_match($pcre, $sources, $matches, <span class="hljs-number"><span class="hljs-number">0</span></span>, $offset); $token = \reset($matches); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (\count($matches) &amp;&amp; \strpos($sources, $token, $offset) === $offset) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [$name, $token]; } } <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \RuntimeException(<span class="hljs-string"><span class="hljs-string">'Unrecognized token at offset '</span></span> . $offset); } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">рдХреЛрдб рд╢реАрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</b> <div class="spoiler_text"><pre> <code class="php hljs">$lexer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimpleLexer([ <span class="hljs-string"><span class="hljs-string">'T_CLASS'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'class'</span></span>, <span class="hljs-string"><span class="hljs-string">'T_CONST'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'\w+'</span></span>, <span class="hljs-string"><span class="hljs-string">'T_BRACE_OPEN'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'{'</span></span>, <span class="hljs-string"><span class="hljs-string">'T_BRACE_CLOSE'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'}'</span></span>, <span class="hljs-string"><span class="hljs-string">'T_WHITESPACE'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'\s+'</span></span>, ]); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> \sprintf(<span class="hljs-string"><span class="hljs-string">'| %-10s | %-20s |'</span></span>, <span class="hljs-string"><span class="hljs-string">'VALUE'</span></span>, <span class="hljs-string"><span class="hljs-string">'NAME'</span></span>) . <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($lexer-&gt;lex(<span class="hljs-string"><span class="hljs-string">'class Example {}'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $name =&gt; $token) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> \sprintf(<span class="hljs-string"><span class="hljs-string">'| %-10s | %-20s |'</span></span>, <span class="hljs-string"><span class="hljs-string">'"'</span></span> . \trim($token, <span class="hljs-string"><span class="hljs-string">"\n"</span></span>) . <span class="hljs-string"><span class="hljs-string">'"'</span></span>, $name) . <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; }</code> </pre><br></div></div><br>  рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛рдлреА рддреБрдЪреНрдЫ рд╣реИ рдФрд░ рдХреАрдмреЛрд░реНрдб рдХреЗ рдПрдХ рдЬреЛрдбрд╝реЗ рдХреЛ рд▓реЗрдХреНрд╕рд░ рдХреЛ рдЕрдЧрд▓реЗ () рд╡рд┐рдзрд┐ рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬреЛ рд░рд╛рдЬреНрдпреЛрдВ рдХреЗ рдмреАрдЪ рдПрдХ рд╕рдВрдХреНрд░рдордг рдХреЛ рдЬреЛрдбрд╝рддрд╛ рд╣реИ рдФрд░ рдЗрд╕ рдмрд╛рдзрд╛ рдХреЛ рдПрдХ рдЖрджрд┐рдо рдмрд╣реБрд╕реНрддрд░реАрдп рд▓реЗрдХреНрд╕рд░ рдореЗрдВ рдмрджрд▓ рджреЗрддрд╛ рд╣реИред  <i>$ рдЗрд╕-&gt; рдЯреЛрдХрди рдХреНрд╖реЗрддреНрд░ рдореЗрдВ,</i> рдмрд╕ <i>$</i> рдХреБрдЫ <i>рдЗрд╕</i> рддрд░рд╣ <i>рдЬреЛрдбрд╝реЗрдВ-&gt; рдЯреЛрдХрди [$ рдпрд╣-&gt; рд░рд╛рдЬреНрдп]</i> ред <br><br>  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдкреНрд░рд╛рдЗрдорд┐рдЯрд┐рд╡рд┐рдЬреНрдо рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХ рдФрд░ рдЦрд╛рдореА рд╣реИ, рдШрд╛рддрдХ рдирд╣реАрдВ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдмрд╛рд╣рд░ рдирд┐рдХрд▓ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА ... рдЗрд╕ рддрд░рд╣ рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд░реВрдк рд╕реЗ рдзреАрдорд╛ рд╣реИред  I7 7600k рдкрд░, рдЬрд┐рд╕рдХреЗ рдорд╛рд▓рд┐рдХ рдореИрдВ рд╕рдВрдпреЛрдЧ рд╕реЗ рд╣реБрдЖ рдерд╛ - рдПрдХ рд╕рдорд╛рди рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рд▓рдЧрднрдЧ 400 рдЯреЛрдХрди рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЙрдирдХреА рд╡рд┐рд╡рд┐рдзрддрд╛рдУрдВ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдХреЗ рд╕рд╛рде (рдпрд╛рдиреА, рдкрд░рд┐рднрд╛рд╖рд╛рдПрдБ рдЬреЛ рд╣рдо рдирд┐рд░реНрдорд╛рддрд╛ рдХреЗ рдкрд╛рд╕ рдЧрдП рдереЗ) - рдпрд╣ рд░реВрд╕ рдореЗрдВ рдмрджрд▓рддреЗ рд░рд╛рд╖реНрдЯреНрд░рдкрддрд┐рдпреЛрдВ рдХреА рдЧрддрд┐ рдХреЛ рдзреАрдорд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ ... рдЕрд╣рдо рдорд╛рдл рдХрд░ рджреАрдЬрд┐рдПред  рдореИрдВ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдХрд╣рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ рдХрд┐ рдпрд╣ <b>рдмрд╣реБрдд рдзреАрдореА рдЧрддрд┐</b> рд╕реЗ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред <br><br>  рдареАрдХ рд╣реИ, рд╣рдо рдХреНрдпрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?  рд╢реБрд░реБрдЖрдд рдХреЗ рд▓рд┐рдП, рдЖрдк рд╕рдордЭ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдЧрд▓рдд рд╣реЛ рд░рд╣рд╛ рд╣реИред  рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рд╣рд░ рдмрд╛рд░ рдЬрдм рд╣рдо рднрд╛рд╖рд╛ рдХреЗ рд╡рд┐рд▓реНрд╕ рдХреЗ рдЕрдВрджрд░ рдкреНрд░реАрдЧ_рдореИрдЪ рдХрд╣рддреЗ рд╣реИрдВ, рддреЛ рдЙрд╕рдХреЗ JIT рдирд╛рдордХ рдПрдХ рдХрдВрдкрд╛рдЗрд▓рд░ PCRE рдЙрдЧрддрд╛ рд╣реИ (рдФрд░ PHP 7.3 рдХреЗ рд╕рд╛рде, PCRE2 рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╣реИ)ред  рд╣рд░ рдмрд╛рд░ рд╡рд╣ рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдЦреБрдж рдХреЛ рддреИрдпрд╛рд░ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЙрдирдХреЗ рд▓рд┐рдП рдПрдХ рдкрд╛рд░реНрд╕рд░ рдЗрдХрдЯреНрдард╛ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рд╣рдо рдЯреЛрдХрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рда рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рдереЛрдбрд╝рд╛ рдЕрдЬреАрдм рдФрд░ рддрдирд╛рддрдиреА рд▓рдЧрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ рдЯреЛрдХрди рдХреЛ 1 рд╕реЗ рдПрди рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рд╕рдВрдХрд▓рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬрд╣рд╛рдВ рдПрди рдЗрди рдЯреЛрдХрди рдХреА рдкрд░рд┐рднрд╛рд╖рд╛рдУрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╣реИред  рдЗрд╕реА рд╕рдордп, рдпрд╣ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдореЗрдВ " <i>\</i> " <i>рдЬреА</i> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ " <i>S</i> " рдзреНрд╡рдЬ рдФрд░ рдЕрдиреБрдХреВрд▓рди рднреА рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдЯреЛрдХрди рдХреЗ рд▓рд┐рдП рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдЙрддреНрдкрдиреНрди рд╣реЛрддреА рд╣реИрдВ, рдорджрдж рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ рд╣реА рд░рд╛рд╕реНрддрд╛ рд╣реИ - рдЖрдкрдХреЛ рдЗрд╕ рд╕рднреА рдкрд╛рда рдХреЛ рдПрдХ рдкрд╛рд╕ рдореЗрдВ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддреНред  рдХреЗрд╡рд▓ рдПрдХ <b>preg_match</b> рдлрд╝рдВрдХреНрд╢рди рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдХреЗред  рдпрд╣ рджреЛ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдиреА рд╣реБрдИ рд╣реИ: <br><br><ol><li>  рдпрд╣ рдХреИрд╕реЗ рдЗрдВрдЧрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ N1 рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдЯреЛрдХрди N2 рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ?  рдпрд╛рдиреА  рдХреИрд╕реЗ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ " <i>\ w +</i> ", рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <i>T_CONST рд╣реИ</i> ред </li><li>  рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдЯреЛрдХрди рдХреЗ рдЕрдиреБрдХреНрд░рдо рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХреИрд╕реЗ рдХрд░реЗрдВред  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ, <b>preg_match</b> рдпрд╛ <b>preg_match_all</b> рдХреЗ рдкрд░рд┐рдгрд╛рдо рдореЗрдВ рд╕рдм рдХреБрдЫ рдорд┐рд╢реНрд░рд┐рдд рд╣реЛрдЧрд╛ред  рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЪреМрдереЗ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд░рд┐рдд рдЭрдВрдбреЗ рдХреА рдорджрдж рд╕реЗ, рд╕реНрдерд┐рддрд┐ рдирд╣реАрдВ рдмрджрд▓реЗрдЧреАред </li></ol><br>  рдпрд╣рд╛рдВ рдЖрдк рдереЛрдбрд╛ рд░реБрдХ рдХрд░ рд╕реЛрдЪ рд╕рдХрддреЗ рд╣реИрдВред  рдЦреИрд░ рдпрд╛ рдирд╣реАрдВред <br><br>  рдкрд╣рд▓реА рд╕рдорд╕реНрдпрд╛ рдХреЗ рд╕рдорд╛рдзрд╛рди рдХреЛ рдкреАрд╕реАрдЖрд░рдИ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рдореВрд╣реЛрдВ</a> рдХрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирд╛рдо рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ</a> , рдЬрд┐рдиреНрд╣реЗрдВ "рдЙрдкрдорд╛рдХреНрд╕" рднреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдирд┐рдпрдореЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛: " <i>&lt;! &lt;T_WHITESPACE&gt; \ s + | &lt;T_WORD&gt; \ w + | ...)</i> " рдЖрдк рд╕рднреА рдЯреЛрдХрди рдХреЛ рдЙрдирдХреЗ рдирд╛рдо рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рдХреЗ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдореИрдЪ рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдПрдХ рд╕рд╣рдпреЛрдЧреА рд╕рд░рдгреА рдмрдирд╛рдИ рдЬрд╛рдПрдЧреА, рдЬрд┐рд╕рдореЗрдВ " <i>[TOKEN_NAME =&gt; TOKEN_VALUE]</i> " рдЬреЛрдбрд╝реЗ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗред <br><br>  рджреВрд╕рд░рд╛ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рдЖрдк рдПрдХ рд╕рд╛рдорд░рд┐рдХ рдЪрд╛рд▓ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">preg_replace_callback</a> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рдХреА рдЦрд╝рд╛рд╕рд┐рдпрдд рдпрд╣ рд╣реИ рдХрд┐ рджреВрд╕рд░реЗ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдЕрдирд╛рдо рдкрд╣рд▓реЗ рд╕реЗ рдЖрдЦрд┐рд░реА рддрдХ рдкреНрд░рддреНрдпреЗрдХ рдЯреЛрдХрди рдХреЗ рд▓рд┐рдП рд╕рдЦреНрддреА рд╕реЗ рдХреНрд░рдорд┐рдХ рд░реВрдк рд╕реЗ рдХрд╣рд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдЖрджреЗрд╢ рдореЗрдВ рдХрдореА рдирд╣реАрдВ рд╣реИ - рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: <br><br><div class="spoiler">  <b class="spoiler_title">рдХреЛрдб рдХрд╛ рдПрдХ рдФрд░ рдлреНрд▓реИрдк</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PregReplaceLexer</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> array&lt;string&gt; */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $tokens = []; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> array&lt;string&gt; $tokens */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $tokens)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($tokens <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $name =&gt; $definition) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tokens[] = \sprintf(<span class="hljs-string"><span class="hljs-string">'(?&lt;%s&gt;%s)'</span></span>, $name, $definition); } } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $sources * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> iterable&amp;\Traversable&lt;string,string&gt; */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $sources)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterable</span></span></span><span class="hljs-function"> </span></span>{ $result = []; \preg_replace_callback(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;compilePcre(), <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $matches)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;$result)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (\array_reverse($matches) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $name =&gt; $value) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (\is_string($name) &amp;&amp; $value !== <span class="hljs-string"><span class="hljs-string">''</span></span>) { $result[] = [$name, $value]; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } }, $sources); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($result <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> [$name, $value]) { <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> $name =&gt; $value; } } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compilePcre</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> \sprintf(<span class="hljs-string"><span class="hljs-string">'/\G(?:%s)/isSum'</span></span>, \implode(<span class="hljs-string"><span class="hljs-string">'|'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;tokens)); } }</code> </pre><br></div></div><br>  рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдкрд┐рдЫрд▓реЗ рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рдЕрд▓рдЧ рдирд╣реАрдВ рд╣реИред  рдЗрд╕реА рд╕рдордп, рдХрд╛рдо рдХреА рдЧрддрд┐ <b>400</b> рд╕реЗ <b>57,000</b> рдЯреЛрдХрди рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рддрдХ рдмрдврд╝ рдЬрд╛рддреА рд╣реИред  рдпрд╣ рд╡рд╣ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рд╣реИ рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдкрдиреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ</a> рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдерд╛</a> , рд╣реЛрдЖ рд╕реНрд░реЛрдд рдХреЛрдб рдХрд╛ рдкреБрдирд░реНрд▓реЗрдЦрдиред  рд╡реИрд╕реЗ, рдпрджрд┐ рдЖрдк рдкрд╛рд░реНрд▓реЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб <b>600,000</b> рдЯреЛрдХрди рддрдХ рдирд┐рдЪреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  рдФрд░ рд╕рдордЧреНрд░ рддрд╕реНрд╡реАрд░ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддреА рд╣реИ (PHP 7.1 рдореЗрдВ XDebug рдЪрд╛рд▓реВ рд╣реЛрдиреЗ рдХреЗ рд╕рд╛рде, рдЗрд╕рд▓рд┐рдП рд╕рдВрдЦреНрдпрд╛ рдХрдо рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдиреБрдкрд╛рдд рд▓рдЧрднрдЧ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ)ред <br><br> <a href=""><img src="https://habrastorage.org/webt/rr/yw/qr/rrywqr04hb7lt5zdhdpmu8ppdc8.png"></a> <br><br><ul><li>  рдпреЗрд▓реЛ рдкрд╛рд░рд▓реЗ рдХрд╛ рдореВрд▓ рд╡рд┐рд╕реНрддрд╛рд░ рд╣реИред </li><li>  рдмреНрд▓реВ - рдкреВрд░реНрд╡ рдЗрдХрдЯреНрдареЗ рдирд┐рдпрдорд┐рдд рдХреЗ рд╕рд╛рде <i>preg_replace_callback рдХреЗ</i> рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдиред </li><li>  рд▓рд╛рд▓ - рд╕рднреА рд╕рдорд╛рди, рд▓реЗрдХрд┐рди рдХреЙрд▓ рдХреЗ рджреМрд░рд╛рди рдЙрддреНрдкрдиреНрди <i>рдирд┐рдпрдорд┐рддрддрд╛ рдХреЗ</i> рд╕рд╛рде <i>preg_replace_callback рдХреЗ рд▓рд┐рдП</i> ред </li><li>  рдЧреНрд░реАрди - <i>preg_match рдХреЗ</i> рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдиред </li></ul><br><h2>  рдХреНрдпреЛрдВ? </h2><br>  рдЦреИрд░, рдпрд╣ рд╕рдм, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдЕрджреНрднреБрдд рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдзреАрд░ рд▓реЛрдЧреЛрдВ рдХреЛ рд╕рд╡рд╛рд▓ рдкреВрдЫрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрддреНрд╕реБрдХ рд╣реИрдВ: "рдЗрд╕реЗ рдХрд┐рд╕рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИ?"  PHP рдХреА рдЕрдореВрд░реНрдд рджреБрдирд┐рдпрд╛ рдореЗрдВ, рдЬрд╣рд╛рдВ "рдЕрдВрдЬреАрд░-рдЕрдВрдЬреАрд░ рдФрд░ рд╕рд╛рдЗрдЯ-рддреИрдпрд╛рд░" рдХрд╛ рд╕рд┐рджреНрдзрд╛рдВрдд рд╣рд╛рд╡реА рд╣реИ - рдРрд╕реЗ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рд╣рдо рдИрдорд╛рдирджрд╛рд░ рд╣реЛрдВрдЧреЗред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рд╣рдо рдПрдХ рдкреВрд░реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд░рд┐рд╕реНрдерд┐рддрд┐рдХреА рддрдВрддреНрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд┐рдореНрдлрдиреА / рдпрд╛рдорд▓</a> рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдбреЙрдХреНрдЯреНрд░рд┐рди</a> рдЬреИрд╕реЗ рдХреБрдЦреНрдпрд╛рдд рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЛ рдпрд╛рдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╕рд┐рдореНрдлрдиреА рдореЗрдВ рдПрдиреЛрдЯреЗрд╢рди PHP рдХреЗ рднреАрддрд░ рдПрдХ рд╣реА рдЙрдк-рднрд╛рд╖рд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд▓реЗрдХреНрд╕рд┐рдХрд▓ рдФрд░ рд╡рд╛рдХреНрдпрд╡рд┐рдиреНрдпрд╛рд╕ рдкрд╛рд░реНрд╕рд┐рдВрдЧ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдкреАрдПрдЪрдкреА рдореЗрдВ рд▓рд┐рдЦреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХреЙрдлрд╝реАрд╕реНрдХреНрд░рд┐рдкреНрдЯ, рд▓реЗрд╕, рдФрд░ рдПрд╕рд╕реАрдПрд╕ / рдПрд╕рдПрдПрд╕ рдЯреНрд░рд╛рдВрд╕рдкреИрд░рд░реНрд╕ рднреА рдереЛрдбрд╝рд╛ рдХрдо рдкреНрд░рд╕рд┐рджреНрдз рд╣реИрдВред  рдЦреИрд░, рдпрд╛ рдпрд╛ рдФрд░ рдЗрд╕рдХреЗ рдЖрдзрд╛рд░ рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░реАрдкреНрд░реЛрд╕реЗрд╕</a> ред  рдореИрдВ рдХреЛрдб рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЙрдкрдХрд░рдгреЛрдВ рдЬреИрд╕реЗ phpmd рдпрд╛ phpcs рдХрд╛ рднреА рдЙрд▓реНрд▓реЗрдЦ рдирд╣реАрдВ рдХрд░реВрдВрдЧрд╛ред  рдФрд░ phpDocumentnor рдпрд╛ рд╕рд╛рдореА рдЬреИрд╕реЗ рдкреНрд░рд▓реЗрдЦрди рдЬрдирд░реЗрдЯрд░ рдмрд╣реБрдд рддреБрдЪреНрдЫ рд╣реИрдВред  рдЗрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдПрдХ рдбрд┐рдЧреНрд░реА рдпрд╛ рджреВрд╕рд░реЗ рдореЗрдВ рдкрд╛рд░реНрд╕рд┐рдВрдЧ рдЯреЗрдХреНрд╕реНрдЯ / рдХреЛрдб рдХреЗ рдкрд╣рд▓реЗ рдЪрд░рдг рдореЗрдВ рд▓реЗрдХреНрд╕рд┐рдХрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред <br><br>  рдпрд╣ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреА рдкреВрд░реА рд╕реВрдЪреА рдирд╣реАрдВ рд╣реИ рдФрд░ рд╢рд╛рдпрдж рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдореЗрд░реА рдХрд╣рд╛рдиреА рдЖрдкрдХреЛ рдХреБрдЫ рдирдпрд╛ рдЦреЛрдЬрдиреЗ рдФрд░ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рднрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧреАред <br><br><h2>  рдЕрдВрддрднрд╛рд╖рдг </h2><br>  рдЖрдЧреЗ рджреЗрдЦрддреЗ рд╣реИрдВ, рдЕрдЧрд░ рдХреЛрдИ рднреА рдкрд░реНрд╕рд░ рдФрд░ рдХрдореНрдкрд╛рдЗрд▓рд░ рдХреЗ рд╡рд┐рд╖рдп рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддрд╛ рд╣реИ, рддреЛ рдЗрд╕ рд╡рд┐рд╖рдп рдкрд░ рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рд░рд┐рдкреЛрд░реНрдЯреЗрдВ рд╣реИрдВ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЬреЗрдЯрдмреНрд░реЗрди рдХреЗ рд▓реЛрдЧреЛрдВ рд╕реЗ: <br><br><div class="spoiler">  <b class="spoiler_title">рд╡реАрдбрд┐рдпреЛ</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/zI1QmnRRBMA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  рдлрд┐рд░ рднреА, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдЖрдВрджреНрд░реЗрдИ рдмреНрд░реЗрд╕рд▓реЗрд╡ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">рдЕрдмреНрд░реЗрд╕рд▓реЗрд╡</a> ) рдХреЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рдкреНрд░рджрд░реНрд╢рди, рдЬреЛ YouTube рдХреА рд╡рд┐рд╢рд╛рд▓рддрд╛ рдкрд░ рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ - рдореИрдВ рдЖрдкрдХреЛ рджреЗрдЦрдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВред <br><br>  рдЦреИрд░, рдХрд▓реНрдкрдирд╛ рдХреЗ рдкреНрд░рд╢рдВрд╕рдХреЛрдВ рдХреЗ рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ рдРрд╕рд╛ рд╕рдВрд╕рд╛рдзрди рд╣реИ</a> рдЬреЛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ рдореЗрд░реЗ рд▓рд┐рдП рдмреЗрд╣рдж рдЙрдкрдпреЛрдЧреА рдерд╛ред <br><br>  рдкреЛрд╕реНрдЯ рдкреЛрд╕реНрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯрдоред  рдпрджрд┐ рдЖрдк рдХрд╣реАрдВ рдЗрд╕ рдорд╣рд╛рдХрд╛рд╡реНрдп рдХреА рд╡рд┐рд╢рд╛рд▓рддрд╛ рдореЗрдВ рд╕реАрд▓ рд╣реИрдВ, рддреЛ рдЖрдк рд▓реЗрдЦрдХ рдХреЛ рдХрд┐рд╕реА рднреА рд░реВрдк рдореЗрдВ рдЖрдкрдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд░реВрдк рд╕реЗ рд╕реВрдЪрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдПрдХ рдмреЛрдирд╕ рдХреЗ рд░реВрдк рдореЗрдВ, рдореИрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ рд╕рд╛рдзрд╛рд░рдг PHP lexer рдХрд╛ рдЙрджрд╛рд╣рд░рдг</a> рджреЗрдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛, рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдЕрдм рдЗрддрдирд╛ рдбрд░рд╛рд╡рдирд╛ рдирд╣реАрдВ рд╣реИ, рдФрд░ рдЕрдм рдпрд╣ рднреА рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдпрд╣ рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИ, рд╣реИ рдирд╛?  рдпрджреНрдпрдкрд┐ рдореИрдВ рдЬрд┐рд╕реЗ рдзреЛрдЦрд╛ рджреЗ рд░рд╣рд╛ рд╣реВрдВ, рд╡рд╣ рдЖрдВрдЦреЛрдВ рдХреЛ рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдЦреВрди рдмрд╣ рд░рд╣рд╛ рд╣реИред  =) <br><br>  рдзрдиреНрдпрд╡рд╛рдж! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi435102/">https://habr.com/ru/post/hi435102/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi435088/index.html">рдЪреАрдиреА рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ рджрд┐рдЧреНрдЧрдЬ рдЯреЗрдирд╕реЗрдВрдЯ рдореНрдпреВрдЬрд┐рдХ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЖрдИрдкреАрдУ рдЪрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ - рдЗрд╕рдХрд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ рдФрд░ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рдпреЛрдВ рдХреЛ рдХреНрдпрд╛ рдЙрдореНрдореАрдж рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП</a></li>
<li><a href="../hi435090/index.html">рд╣реБрдВрдбрдИ рдореЛрдЯрд░ рд╕рдореВрд╣ рдиреЗ рд╡рд╛рдпрд░рд▓реЗрд╕ рдЪрд╛рд░реНрдЬрд┐рдВрдЧ рдФрд░ рд╕реНрд╡рд╛рдпрддреНрдд рдкрд╛рд░реНрдХрд┐рдВрдЧ рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдкреЗрд╢ рдХреА</a></li>
<li><a href="../hi435094/index.html">рд╕реЗрдЧрд╛ рдореЗрдЧрд╛ рдбреНрд░рд╛рдЗрд╡ рдФрд░ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдкрд╛рд░реНрдЯ 2 рд╕реЗ рдЧреЗрдордкреИрдб (рдЕрдВрддрд┐рдо рдЫрд╣ рдмрдЯрди)</a></li>
<li><a href="../hi435096/index.html">рдЧрд░реНрдо рдЯреНрдпреВрдм рд░реЗрдбрд┐рдпреЛ рдХрд╛ рдкреНрд░рднрд╛рд╡</a></li>
<li><a href="../hi435098/index.html">рдПрдбреАрдмреА рдмрдирд╛рдо рд╕реНрдкрд╛рдИ рдХреИрдо рдФрд░ рдорд╛рдЗрдХ</a></li>
<li><a href="../hi435106/index.html">рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рдкрд╛рд╕рдкреЛрд░реНрдЯ.рдЬреЗрдПрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a></li>
<li><a href="../hi435108/index.html">рдкреНрд░реЛрд▓реЙрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a></li>
<li><a href="../hi435112/index.html">рдХреЙрд░реНрдкреЛрд░реЗрдЯ рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░</a></li>
<li><a href="../hi435114/index.html">рд╕реНрдкреНрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдЬрдкрд╛</a></li>
<li><a href="../hi435118/index.html">рдлрд╝рд╛рдЗрд▓ рдореБрдЭреЗ рд╕рд╣реЗрдЬреЗрдВ - рдХреНрд▓рд╛рдЗрдВрдЯ-рд╕рд╛рдЗрдб рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреЗ рд╕рд╛рде рдПрдХ рдореБрдлреНрдд рдмреИрдХрдЕрдк рд╕реЗрд╡рд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>