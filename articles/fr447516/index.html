<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§πüèª üò© üëú Comment nous avons overclock√© CAD COMPASS-3D ‚Üí Partie 2 ü§ôüèø üë®üèΩ‚Äçüè≠ üê°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans la derni√®re partie, nous avons parl√© de la naissance de KOMPAS-3D v18, quelque chose sur la s√©lection de crit√®res et de mod√®les pour tester de no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment nous avons overclock√© CAD COMPASS-3D ‚Üí Partie 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ascon/blog/447516/">  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">derni√®re partie,</a> nous avons parl√© de la naissance de KOMPAS-3D v18, quelque chose sur la s√©lection de crit√®res et de mod√®les pour tester de nouvelles fonctions, et avons √©galement abord√© le sujet du rendu dans la version ¬´Basic¬ª. <br>  Continuons avec l'histoire de l'option de rendu ¬´Am√©lior√©¬ª. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rg/eh/lx/rgehlxcmqgdhw0tfwtdl_ajgyp8.jpeg"></div><a name="habracut"></a><br><h1>  <font color="#00B2FF">Appeler des appels</font> </h1><blockquote><a href=""><img align="right" src="https://habrastorage.org/webt/ld/gb/19/ldgb19esjt6fk41auvk5dirjluy.png"></a>  <b>Alexander Tulup, programmeur:</b> <br>  ¬´Le principal probl√®me des performances d'affichage de grandes sc√®nes est associ√© √† un grand nombre de soi-disant¬´ appels de dessin ¬ª.  L'ancienne version du rendu est construite au-dessus du mod√®le de donn√©es math√©matiques.  Ainsi, pour chaque primitive - points, ar√™tes, faces - une m√©thode distincte a √©t√© appel√©e pour son affichage. <br><br>  Pour chaque appel de tirage, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenGL</a> (pilote) effectue une s√©rie de v√©rifications, traduisant simultan√©ment les commandes entrantes dans un format compr√©hensible pour la carte vid√©o, apr√®s quoi les appels sont ajout√©s √† la file d'attente et sont d√©j√† ex√©cut√©s. <br><br><img src="https://habrastorage.org/webt/ei/rd/on/eirdonw__vgqgxcuby2kfglkm9c.png"><br>  <i>Sch√©ma de transfert de commande GPU dans OpenGL ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">source</a> )</i> <br><br>  Avec un grand nombre de d√©tails, le nombre d'appels au CPU augmente tellement que les donn√©es n'ont tout simplement pas le temps d'arriver sur la carte vid√©o.  Nous obtenons une situation o√π sur une carte vid√©o tr√®s forte, elle "ralentit" de la m√™me mani√®re que sur une carte moyenne ou plus faible. <br><br>  Vous pouvez y faire face en r√©duisant le nombre de rendus (transitions d'√©tats) - regrouper par mat√©riau, combiner une g√©om√©trie commune ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">instanciation</a> ), etc. <br><br>  N'oublions pas que de toute la sc√®ne, nous n'en voyons qu'une partie.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Des algorithmes de d√©tection d'objets invisibles sont</a> applicables ici (abattage tronconique, abattage d'occlusion, etc.) <br><br>  Inspir√©s par l'exemple de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">The Road to One Million Draws</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AZDO</a> , nous avons d√©cid√© d'emprunter une voie assez inhabituelle: se d√©barrasser autant que possible des changements d'√©tat c√¥t√© CPU.  Maintenant, presque tout est fait sur la carte graphique.  Tous les attributs n√©cessaires sont directement extraits de la m√©moire vid√©o tout en puisant dans le shader lui-m√™me ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">shader</a> ), ce qui a √©t√© rendu possible gr√¢ce √† l'augmentation de la m√©moire vid√©o ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VRAM</a> ) et √† l'av√®nement du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SSBO</a> . <br><br><img src="https://habrastorage.org/webt/ta/is/xf/taisxf8tjdkcztftev7mbuvxi2m.png"><br>  <i>1000000 de d√©s</i> <br><br>  Parmi les avantages de cette approche: la vitesse d'affichage est devenue tr√®s √©lev√©e.  La vitesse n'est limit√©e que par les capacit√©s du GPU, √† savoir la quantit√© de donn√©es qu'il est capable de traiter. <br><br>  Il a √©galement permis de mettre en ≈ìuvre assez efficacement des m√©canismes de d√©tourage pour les objets invisibles.  Les r√©sultats du contr√¥le de visibilit√© sont enregistr√©s directement dans la m√©moire vid√©o et √† partir de l√†, les commandes de dessin sont form√©es en fonction de celles-ci.  Autrement dit, du c√¥t√© du processeur, vous n'avez pas besoin d'attendre. <br><br>  L'un des principaux inconv√©nients de cette approche est la grande complexit√© du d√©veloppement.  Beaucoup doit √™tre mis en ≈ìuvre √† nouveau, en tenant compte de l'approche choisie.  De plus, nous avons souvent d√ª faire face √† une situation o√π le m√™me code de shader fonctionnait diff√©remment ou ne fonctionnait pas du tout sur les cartes vid√©o de diff√©rents fabricants.  Souvent, cela a √©t√© "trait√©" par la mise √† jour du pilote, mais parfois apr√®s un long d√©bogage, il √©tait n√©cessaire de r√©√©crire le code. <br><br>  Naturellement, les exigences pour la carte vid√©o ont √©galement augment√©.  La prise en charge d'OpenGL 4.5 est une cl√©, mais pas la seule exigence. </blockquote>  Ci-dessous, nous pr√©sentons les r√©sultats de la vitesse de rendu lors de la rotation de l'assemblage.  Rappelons que 24 images par seconde (ips) sont consid√©r√©es comme des indicateurs confortables pour l'≈ìil humain. <br><blockquote>  <b>Ci-apr√®s, des mesures ont √©t√© prises sur un PC avec la configuration suivante:</b> <br>  Processeur: Intel Core i7-6700K 4,00 GHz <br>  RAM: 32 Go <br>  GPU: NVidia Quadro P2000 <br>  Syst√®me d'exploitation: Microsoft Windows 10 x64 Professional </blockquote>  <i>Tableau 1. Fr√©quence d'images (images par seconde, ips) sur divers mod√®les.</i>  <i>Plus c'est mieux.</i>  <i>Mode d'affichage: Demi-teinte + filaire, mode simplifi√© d√©sactiv√©, qualit√© anti-aliasing: moyenne (MSAA 8x)</i> <br><table><tbody><tr><td rowspan="2">  <b>Mod√®le</b> </td><td rowspan="2">  <b>La quantit√©</b> <b><br></b>  <b>composants</b> </td><td colspan="3">  <b>Fr√©quence d'images, fps</b> </td></tr><tr><td>  <b>V16.1</b> </td><td>  <b>v17.1</b> </td><td>  <b>v18</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/ls/hl/6s/lshl6shv12lncujsabab3t5ed1c.png" alt="image"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voiture</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">broyage de mosa√Øque</a> <br></td><td>  2764 </td><td>  4.1 </td><td>  4.7 </td><td>  <b>124,9</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/_d/4j/bn/_d4jbnztqcslsnedjtneaudg3ey.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PGU-410</a> </td><td>  108337 </td><td>  0,3 </td><td>  0,4 </td><td>  <b>28,6</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/w6/nm/m5/w6nmm5nt369jn5vldy_5faa2iii.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tombereau de voiture</a> </td><td>  17342 </td><td>  1,1 </td><td>  1.4 </td><td>  <b>124,7</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/vb/qs/xz/vbqsxzx8qc1gj8isnfdynncvhy0.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Trolleybus</a> </td><td>  9783 </td><td>  1,9 </td><td>  2,4 </td><td>  <b>124,9</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/wp/bv/jm/wpbvjmjl094bur5ajdkwgpjf7z8.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mar√©e nord</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">centrale √©lectrique</a> </td><td>  48445 </td><td>  0,3 </td><td>  0,5 </td><td>  <b>76,1</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/s2/mg/lv/s2mglv84fvskfbb_x-qxojpdx4o.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'installation</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vide technologique</a> </td><td>  7189 </td><td>  1,9 </td><td>  2,3 </td><td>  <b>124,9</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/uj/vz/m2/ujvzm20hrhc5-r5ohmqnmeea7kw.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R√©ducteur de navire</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">centrale √©lectrique</a> </td><td>  6414 </td><td>  2.6 </td><td>  3,6 </td><td>  <b>123,9</b> </td></tr></tbody></table><br><br><h3>  <font color="#00B2FF">Ajout de composants √† un grand assemblage</font> </h3><br>  Le sc√©nario avec l'ajout de composants √† un grand assemblage est finalement devenu le test dit complexe, d√©crit dans le tableau 2. <br><br>  <i>Tableau 2. Sc√©nario avec l'ajout de composants √† un grand assemblage.</i>  <i>Crit√®res de test.</i> <br><table><tbody><tr><td>  <b>Crit√®re</b> </td><td>  <b>Description du crit√®re</b> </td></tr><tr><td>  Vitesse d'ouverture des fichiers </td><td>  <i>Le composant ajout√© √† l'assemblage doit √™tre charg√© √† partir du disque</i> </td></tr><tr><td>  Vitesse de rendu </td><td>  <i>L'assemblage et le composant ins√©r√© doivent √™tre positionn√©s, pour cela vous devez faire pivoter / d√©placer / zoomer l'image</i> </td></tr><tr><td>  Vitesse de s√©lection des objets </td><td>  <i>Pour cr√©er des contraintes, vous devez s√©lectionner les objets de base: faces, plans, ar√™tes, etc.</i> </td></tr><tr><td>  Vitesse de synchronisation avec l'arbre de construction </td><td>  <i>Le composant ajout√© √† l'assemblage et ses interfaces doivent √™tre repr√©sent√©s dans l'arbre de construction</i> </td></tr><tr><td>  Vitesse de synchronisation du module de sp√©cification </td><td>  <i>Le composant ajout√© √† l'assemblage doit √™tre pris en compte dans la sp√©cification.</i> </td></tr></tbody></table><br>  Dans le tableau, vous pouvez voir les points (dessin, ouverture) qui, d√®s le d√©but, ont √©t√© s√©lectionn√©s comme directions d'acc√©l√©ration distinctes.  Mais les am√©liorations n√©cessitaient d'autres composants. <br><br>  Un temps important a √©t√© pris par synchronisation avec un arbre.  Nous avons r√©solu le probl√®me en impl√©mentant une mise √† jour partielle. <br><br>  Une autre difficult√© a √©t√© l'impact significatif de la sp√©cification sur les performances de KOMPAS-3D.  Dans certains sc√©narios de test complexes, ce composant √©tait le principal (50% ou plus). <br><div class="spoiler">  <b class="spoiler_title">Sp√©cification</b> <div class="spoiler_text"><blockquote>  La sp√©cification est le module syst√®me KOMPAS-3D, qui est responsable de la formation du document de conception du m√™me nom.  Il est d√©velopp√© par une √©quipe distincte. <br><br>  En particulier, l'√©quipe a acc√©l√©r√© la synchronisation lors de l'insertion en repensant les m√©canismes internes du module de sp√©cification. </blockquote><br></div></div><br><h3>  <font color="#00B2FF">Quelques r√©sultats</font> </h3><br>  Ajoutez des composants √† l'assemblage ¬´R√©ducteur de la centrale √©lectrique du navire¬ª. <br><br><img src="https://habrastorage.org/webt/oh/zs/d-/ohzsd-w4xu3jcz-zko7iein1t8g.png"><br>  <i>Test complet pour l'assemblage "R√©ducteur d'une centrale marine".</i> <i><br></i>  <i>Les chiffres indiquent: 1 - support, 2 - rondelle, 3 - boulon.</i> <br><br>  <i>Tableau 3. Temps d'insertion des composants dans un grand assemblage en secondes.</i>  <i>Moins c'est mieux.</i> <br><table><tbody><tr><td rowspan="2">  <b>Composant</b> </td><td colspan="2" rowspan="2">  <b>Action</b> </td><td colspan="3">  <b>Heure s</b> </td></tr><tr><td>  <b>V16.1</b> </td><td>  <b>v17.1</b> </td><td>  <b>v18</b> </td></tr><tr><td rowspan="13">  Ins√©rer <br>  composant <br>  Bracket <br><br><img src="https://habrastorage.org/webt/0_/uh/gz/0_uhgzadc0r1vpwsjdijjrsx-qa.png"></td><td colspan="2">  Chargement </td><td>  <b>2.0</b> </td><td>  3.0 </td><td>  2.2 </td></tr><tr><td colspan="2">  Passer en mode d'appairage </td><td>  0,6 </td><td>  0,4 </td><td>  0,4 </td></tr><tr><td rowspan="3">  Premier appariement </td><td>  S√©lection du premier objet </td><td>  0,4 </td><td>  1,0 </td><td>  <b>0,2</b> </td></tr><tr><td>  Le choix du deuxi√®me objet </td><td>  0,5 </td><td>  1,1 </td><td>  <b>0,2</b> </td></tr><tr><td>  S√©lectionnez le bon appariement </td><td>  3.8 </td><td>  3,6 </td><td>  <b>1,0</b> </td></tr><tr><td rowspan="3">  Deuxi√®me appariement </td><td>  S√©lection du premier objet </td><td>  0,5 </td><td>  1.4 </td><td>  0,5 </td></tr><tr><td>  Le choix du deuxi√®me objet </td><td>  0,5 </td><td>  1.4 </td><td>  <b>0,2</b> </td></tr><tr><td>  S√©lectionnez le bon appariement </td><td>  3,6 </td><td>  3.0 </td><td>  <b>1,2</b> </td></tr><tr><td rowspan="3">  Troisi√®me appariement </td><td>  S√©lection du premier objet </td><td>  0,5 </td><td>  0,5 </td><td>  0,5 </td></tr><tr><td>  Le choix du deuxi√®me objet </td><td>  0,3 </td><td>  1,1 </td><td>  0,3 </td></tr><tr><td>  S√©lectionnez le bon appariement </td><td>  3,7 </td><td>  3.2 </td><td>  <b>1,1</b> </td></tr><tr><td colspan="2">  Confirmer la cr√©ation d'insertion </td><td>  7.8 </td><td>  5.2 </td><td>  <b>2,3</b> </td></tr><tr><td colspan="2">  Insert de support total </td><td>  24,2 </td><td>  24,6 </td><td>  <b>10.1</b> </td></tr><tr><td rowspan="4">  Ins√©rer <br>  rondelles <br>  de la biblioth√®que <br>  standard <br>  les produits <br><br><img src="https://habrastorage.org/webt/ch/hm/6g/chhm6g-guxcbwvetqsd5teyb3os.png"><br><br></td><td colspan="2">  Premi√®re s√©lection d'appariement </td><td>  6,4 </td><td>  2,4 </td><td>  <b>0,4</b> </td></tr><tr><td colspan="2">  S√©lection de la deuxi√®me paire </td><td>  4.2 </td><td>  3,1 </td><td>  <b>0,4</b> </td></tr><tr><td colspan="2">  Confirmer la cr√©ation d'insertion </td><td>  15,7 </td><td>  9.2 </td><td>  <b>4.4</b> </td></tr><tr><td colspan="2">  Total pour rondelles d'insertion </td><td>  26,3 </td><td>  14,7 </td><td>  <b>5.2</b> </td></tr><tr><td rowspan="13">  Ins√©rer <br>  boulons <br><br><img src="https://habrastorage.org/webt/14/lp/ro/14lproscfkxs7g82wmaemf0ncbe.png"></td><td colspan="2">  Chargement </td><td>  2.0 </td><td>  2.7 </td><td>  2.0 </td></tr><tr><td colspan="2">  Passer en mode d'appairage </td><td>  0,5 </td><td>  0,5 </td><td>  0,5 </td></tr><tr><td rowspan="3">  Premier appariement </td><td>  S√©lection du premier objet </td><td>  0,4 </td><td>  1,0 </td><td>  <b>0,2</b> </td></tr><tr><td>  Le choix du deuxi√®me objet </td><td>  0,4 </td><td>  1,1 </td><td>  <b>0,2</b> </td></tr><tr><td>  S√©lectionnez le bon appariement </td><td>  3.4 </td><td>  2.7 </td><td>  <b>1,0</b> </td></tr><tr><td rowspan="3">  Deuxi√®me appariement </td><td>  S√©lection du premier objet </td><td>  0,4 </td><td>  1,2 </td><td>  0,4 </td></tr><tr><td>  Le choix du deuxi√®me objet </td><td>  0,5 </td><td>  0,5 </td><td>  <b>0,4</b> </td></tr><tr><td>  S√©lectionnez le bon appariement </td><td>  3,7 </td><td>  2.9 </td><td>  <b>1,0</b> </td></tr><tr><td rowspan="3">  Troisi√®me appariement </td><td>  S√©lection du premier objet </td><td>  0,5 </td><td>  1,0 </td><td>  0,5 </td></tr><tr><td>  Le choix du deuxi√®me objet </td><td>  0,5 </td><td>  1,0 </td><td>  <b>0,2</b> </td></tr><tr><td>  S√©lectionnez le bon appariement </td><td>  4.2 </td><td>  3.9 </td><td>  <b>1,2</b> </td></tr><tr><td colspan="2">  Confirmer la cr√©ation d'insertion </td><td>  32,5 </td><td>  5,4 </td><td>  <b>2.2</b> </td></tr><tr><td colspan="2">  Total pour l'insertion des boulons </td><td>  49 </td><td>  21,2 </td><td>  <b>9,8</b> </td></tr><tr><td colspan="3">  <i><b>L'insertion totale des trois composants</b></i> </td><td>  <i>99,5</i> </td><td>  <i>60,5</i> </td><td>  <b><i>25,1</i></b> </td></tr></tbody></table><br><br>  Un test complet peut √™tre consid√©r√© comme l'un des sc√©narios d'√©dition de l'assemblage (√† partir du nombre de sc√©narios courants). <br><br>  De plus, la reconstruction de l'assemblage s'est acc√©l√©r√©e.  Maintenant, si vous modifiez une op√©ration, l'assemblage entier ne sera pas compl√®tement reconstruit - seuls les objets modifi√©s seront mis √† jour.  Pour d√©terminer les op√©rations d√©pendantes, c'est-√†-dire les op√©rations dont le r√©sultat pourrait √™tre affect√© par le r√©sultat de l'op√©ration modifi√©e, un algorithme sp√©cial est utilis√© pour √©tablir des relations entre les op√©rations, les corps et les insertions. <br><br><h3>  <font color="#00B2FF">Ouverture des assemblages</font> </h3><br>  L'id√©e principale pour augmenter la vitesse de lecture des fichiers est de faire en sorte que KOMPAS-3D ne lise que ce dont l'utilisateur a besoin pour le moment. <br><br>  Par exemple: <br><br><ul><li>  lecture seule de l'ex√©cution en cours pour les insertions d'assemblage, </li><li>  pour les types de t√©l√©chargement, lisez uniquement les informations n√©cessaires: triangulation ou triangulation + r√©sultats ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">B-rep</a> ). </li></ul><br>  Tout cela a n√©cessit√© un raffinement de la structure des donn√©es dans le fichier afin que ses diff√©rentes parties puissent √™tre lues. <br><br><blockquote> <a href=""><img align="right" src="https://habrastorage.org/webt/br/cu/ku/brcukuey6fmjicbcsx2tibjhjhw.png"></a>  <b>Anton Sidyakin, programmeur, chef d'√©quipe:</b> <br><br>  ¬´Depuis quelque temps, le fichier KOMPAS-3D est une archive combinant plusieurs fichiers de service.  L'un d'eux contient des donn√©es de mod√®le / document d'assemblage organis√©es en arborescence.  La possibilit√© de naviguer dans cette structure existait d√©j√†.  Pour une lecture partielle, il fallait assurer l'ind√©pendance des pi√®ces les unes par rapport aux autres.  Ainsi, les parties re√ßues n'auraient pas d√ª se r√©f√©rer entre elles, sinon la partie avec le lien serait devenue ¬´inf√©rieure¬ª. <br><br>  Par cons√©quent, pour plus de d√©tails, il a √©t√© possible de s√©parer les performances du document et les unes des autres.  Dans les assemblages, le conteneur d'inserts et de contraintes est mis en surbrillance s√©par√©ment.  A l'int√©rieur des ex√©cutions, il a √©galement √©t√© possible de s√©parer les donn√©es initiales de la construction et les r√©sultats sous forme de triangulation et de corps. <br><br><img src="https://habrastorage.org/webt/yh/h3/kc/yhh3kchzbyacjohgjlzvu1laoz4.png"><br><br>  Si nous parlons de types de chargement simplifi√©s, l'assemblage modifiable est enti√®rement charg√©, et seule la triangulation et, selon le type, la repr√©sentation des limites (B-rep) sont charg√©es √† partir de ses insertions.  L'affichage des insertions avec des variables externes modifi√©es dans ce mode √©tait d'une certaine difficult√©, car elles √©taient pr√©c√©demment obtenues √† la vol√©e en reconstruisant lors de la lecture, et dans les types de chargement simplifi√©s, il n'y a pas de donn√©es pour cela.  La solution consistait √† noter les r√©sultats de la reconstruction de ces inserts dans l'assemblage.  Cela a donn√© une acc√©l√©ration et en raison du manque de reconstruction. <br><br>  La division d√©crite du document en pi√®ces ne permettait de charger dans l'assemblage que les performances s√©lectionn√©es dans les inserts. </blockquote>  En plus d'acc√©l√©rer l'ouverture des fichiers, la lecture partielle a √©galement permis de r√©duire les ressources consomm√©es - principalement la RAM. <br><br>  Sur la base des am√©liorations, un nouveau type de chargement d'assemblage est apparu - ¬´Partiel¬ª.  Dans ce type de chargement, seuls les r√©sultats (corps, surfaces) et la triangulation sont soustraits du fichier.  Le chargement partiel vous permet de cr√©er des paires et est proche en termes de fonctionnalit√© du chargement complet des composants. <br><br>  Apr√®s avoir impl√©ment√© des am√©liorations sur la lecture partielle, la cr√©ation de types de chargement personnalis√©s devient prometteuse. <br><br><div class="spoiler">  <b class="spoiler_title">Indice</b> <div class="spoiler_text"><blockquote>  Les types de d√©marrage personnalis√©s sont des combinaisons de m√©thodes syst√®me pour charger un composant.  Cette fonction n'est pas nouvelle, mais les am√©liorations apport√©es √† la v18 vous permettent d'obtenir des bonus importants de son utilisation. </blockquote><br></div></div><br>  Pour les composants qui ne sont pas importants pour les futures g√©n√©rations, le type de charge ¬´Vide¬ª peut √™tre appliqu√©.  Il peut s'agir de composants cach√©s √† l'int√©rieur des autres (¬´vnutryanka¬ª).  Dans la version 18, les composants (et les assemblages entiers) avec le type de d√©marrage ¬´Vide¬ª s'ouvrent presque instantan√©ment. <br><br>  <i>Tableau 4. Temps d'ouverture des assemblages avec les types de d√©marrage ¬´Vide¬ª et ¬´Dimension¬ª en secondes.</i>  <i>Moins c'est mieux.</i> <br><table><tbody><tr><td rowspan="2">  Mod√®le </td><td rowspan="2">  Type de t√©l√©chargement </td><td colspan="3">  Heure d'ouverture, s </td></tr><tr><td>  V16.1 </td><td>  v17.1 </td><td>  v18 </td></tr><tr><td rowspan="2"><img src="https://habrastorage.org/webt/s2/mg/lv/s2mglv84fvskfbb_x-qxojpdx4o.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'installation</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vide technologique</a> </td><td>  Vide </td><td>  12,8 </td><td>  11,7 </td><td>  <b>2,5</b> </td></tr><tr><td>  La taille </td><td>  21,2 </td><td>  20,8 </td><td>  <b>2.6</b> </td></tr><tr><td rowspan="2"><img src="https://habrastorage.org/webt/uj/vz/m2/ujvzm20hrhc5-r5ohmqnmeea7kw.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R√©ducteur de navire</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">centrale √©lectrique</a> </td><td>  Vide </td><td>  31,0 </td><td>  15,9 </td><td>  <b>7.2</b> </td></tr><tr><td>  La taille </td><td>  371,5 </td><td>  114,8 </td><td>  <b>7.3</b> </td></tr></tbody></table><br><br>  Les composants restants, qui sont n√©cessaires pour comprendre l'apparence du produit ou qui seront utilis√©s comme objets de support pour une construction ult√©rieure, peuvent √™tre charg√©s ¬´compl√®tement¬ª ou ¬´partiellement¬ª. <br><br>  En tant qu'outil de pr√©paration de types de d√©marrage personnalis√©s, vous pouvez utiliser de nouvelles commandes pour s√©lectionner des composants ¬´invisibles¬ª.  Nous appliquons la commande puis utilisons le menu contextuel pour changer le type de chargement des composants s√©lectionn√©s en ¬´Vide¬ª. <br><br><h3>  <font color="#00B2FF">Projection</font> </h3><br>  Lors de l'acc√©l√©ration de la projection, nous nous sommes pos√© la question du filtrage des donn√©es re√ßues en entr√©e du noyau math√©matique. <br><br>  Tout d'abord, nous avons d√©cid√© de filtrer les composants / corps invisibles.  √Ä cette fin, le m√©canisme d'occlusion-√©limination a √©t√© utilis√© - il vous permet de savoir si le corps qui sera projet√© est visible ou s'il se ferme et se trouve √† l'int√©rieur d'un autre corps.  Cette op√©ration est effectu√©e sur le c√¥t√© de la carte vid√©o. <br><br>  Le plus grand effet sera lors de la cr√©ation de projections de mod√®les avec un grand nombre de composants cach√©s dans des volumes ferm√©s, par exemple: <br><br><ul><li>  entra√Ænements complexes, bo√Ætes de vitesses, etc., </li><li>  v√©hicules </li><li>  les b√¢timents </li><li>  armoires avec √©quipement √©lectrique. </li></ul><br>  Pour l'inclusion, l'option "Rough projection" est responsable.  Le nom n'est pas accidentel - des pi√®ces relativement petites (par exemple, un boulon √† l'√©chelle d'une centrale √©lectrique) peuvent ne pas √™tre projet√©es √† l'√©chelle d'un assemblage.  Pour de nombreux utilisateurs, cette situation conviendra, en particulier dans le cas de la cr√©ation de dessins dimensionnels et de dessins g√©n√©raux. <br><br><div class="spoiler">  <b class="spoiler_title">En savoir plus sur l'option Rough Projection.</b> <div class="spoiler_text"><blockquote>  L'option n'est disponible que pour les projections standard.  Pour sp√©cifier des images (sections, sections, vues √† distance), la "projection grossi√®re" n'est pas impliqu√©e. </blockquote><br></div></div><br>  M√™me sans utiliser cette option, la projection est sensiblement plus rapide par rapport √† V16 et v17.  Cela a √©t√© aid√© par des am√©liorations du c√¥t√© du noyau math√©matique. <br><br>  <i>Tableau 5. Temps n√©cessaire pour cr√©er trois projections standard en quelques secondes.</i>  <i>Moins c'est mieux.</i> <br><table><tbody><tr><td rowspan="2">  Mod√®le </td><td colspan="4">  Il est temps de cr√©er trois projections standard, s </td></tr><tr><td>  V16.1 </td><td>  v17.1 </td><td>  v18 <br>  Inclus <br>  brouillon <br>  projection </td><td>  v18 <br>  √âteint <br>  brouillon <br>  projection </td></tr><tr><td><img src="https://habrastorage.org/webt/s2/mg/lv/s2mglv84fvskfbb_x-qxojpdx4o.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'installation</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vide technologique</a> </td><td>  124,1 </td><td>  47,5 </td><td>  <b>12,9</b> </td><td>  34,6 </td></tr><tr><td><img src="https://habrastorage.org/webt/uj/vz/m2/ujvzm20hrhc5-r5ohmqnmeea7kw.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R√©ducteur de navire</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">centrale √©lectrique</a> </td><td>  256 </td><td>  410 </td><td>  <b>38,4</b> </td><td>  54,4 </td></tr><tr><td><img src="https://habrastorage.org/webt/bi/nn/nl/binnnlusnbewy71vya0vorxubpg.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Multi-usages</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">unifi√©</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">corps de bo√Æte</a> </td><td>  99,9 </td><td>  123,4 </td><td>  <b>44,9</b> </td><td>  53,5 </td></tr></tbody></table><br><br>  Toujours en v18, la possibilit√© de reconstruire des esp√®ces associatives individuelles a √©t√© impl√©ment√©e. <br><br>  Dans un dessin contenant de nombreuses vues associatives, l'utilisateur a la possibilit√© de reconstruire des vues individuelles non pertinentes.  Par exemple, celui auquel il souhaite ajouter des annotations.  Vous pouvez √©galement sp√©cifier les vues cr√©√©es avec l'option Projection grossi√®re activ√©e. <br><br><div class="spoiler">  <b class="spoiler_title">Reconstruire une vue unique</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/og/nk/em/ognkemiqn2re1hneq0cbw4rcjgy.png"><br></div></div><br>  Cette fonctionnalit√© ne s'applique pas aux acc√©l√©rations explicites, mais permet √† l'utilisateur de gagner du temps. <br><br>  R√©sultat du travail effectu√© pour acc√©l√©rer la projection du mod√®le Installation technologique sous vide dans le dessin: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/P2kloyNOedE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie suivante,</a> nous d√©crirons comment nous avons acc√©l√©r√© le calcul des caract√©ristiques de centrage de masse (MTC), la contribution du noyau g√©om√©trique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">c3dlabs</a> aux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">performances</a> COMPAS-3D, les modifications apport√©es √† C3D Modeler et √©galement le mat√©riel adapt√© √† la v18.</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr447516/">https://habr.com/ru/post/fr447516/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr447502/index.html">Comment cr√©er un CV pour des entreprises informatiques √©trang√®res</a></li>
<li><a href="../fr447508/index.html">Sergey Zonov: ¬´J'ai fait le premier Spectrum parce que j'√©tais int√©ress√©¬ª</a></li>
<li><a href="../fr447510/index.html">GeekUniversity ouvre ses inscriptions au d√©partement Design</a></li>
<li><a href="../fr447512/index.html">Et qui a fait √ßa? Automatisez l'audit de la s√©curit√© des informations</a></li>
<li><a href="../fr447514/index.html">7 startups int√©ressantes dans l'IoT</a></li>
<li><a href="../fr447520/index.html">Fonctionnalit√©s de hi√©rarchisation automatique dans le stockage Qsan XCubeSAN</a></li>
<li><a href="../fr447522/index.html">Quelles choses utiles peuvent √™tre extraites des journaux d'un poste de travail Windows</a></li>
<li><a href="../fr447526/index.html">Propre v√©lo pour synchroniser MariaDB et Sphinx</a></li>
<li><a href="../fr447528/index.html">Qui est responsable de la qualit√©?</a></li>
<li><a href="../fr447530/index.html">OceanLotus: mise √† jour Malvari pour macOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>