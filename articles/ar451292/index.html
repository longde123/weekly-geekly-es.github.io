<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ถ ๐๐ป ๐ฐ๐ฝ RxDart: ุงูุชุญููุงุช ุงูุณุญุฑูุฉ ููุชุฏููุงุช ๐คฆ๐ป โ๏ธ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจูุง - ูุฐุง ูู ุงูุฌุฒุก ุงูุซุงูุซ ูู ุณูุณูุฉ ููุงูุงุช Flutter Architecture ุงูุฎุงุตุฉ ุจู. 


- ููุฏูุฉ 
- ุฏุงุฑุช ุชูุงุฑุงุช ุฃุณุงุณูุงุช 
- RxDart: ุชุญูููุงุช ุงูุฏูู ุงูุณุญุฑู (ูุฐู ุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RxDart: ุงูุชุญููุงุช ุงูุณุญุฑูุฉ ููุชุฏููุงุช</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451292/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุฑุญุจูุง - ูุฐุง ูู ุงูุฌุฒุก ุงูุซุงูุซ ูู ุณูุณูุฉ ููุงูุงุช Flutter Architecture ุงูุฎุงุตุฉ ุจู. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฏูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏุงุฑุช ุชูุงุฑุงุช ุฃุณุงุณูุงุช</a> </li><li style=";text-align:right;direction:rtl">  <strong>RxDart: ุชุญูููุงุช ุงูุฏูู ุงูุณุญุฑู (ูุฐู ุงููุดุงุฑูุฉ)</strong> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุณุงุณูุงุช RxVMS: RxCommand ู GetIt</a> </li><li style=";text-align:right;direction:rtl">  RxVMS: ุงูุฎุฏูุงุช ูุงููุฏูุฑูู </li><li style=";text-align:right;direction:rtl">  RxVMS: ุงูุญุงุฌูุงุช ุจุฐุงุชูุง </li><li style=";text-align:right;direction:rtl">  ูุตุงุฏูุฉ ุงููุณุชุฎุฏู ูุน RxVMS </li></ul><br><p style=";text-align:right;direction:rtl"> ูุฐู ุงููุฑุฉ ุณูุฌุนู ุงูุบูุต ุตุบูุฑูุง ูู ุนุงูู ุงูุชูุฏูุฏุงุช ุงูุชูุงุนููุฉ (Rx).  ุณูู ุฃุฑูุฒ ุนูู ุฃูุซุฑ ูุธุงุฆู Rx ุงุณุชุฎุฏุงููุง ูุดุฑุญ ุชุทุจูููุง.  ุฅุฐุง ูู ุชูู ูุฏ ูุฑุฃุช ุงูููุดูุฑ ุงูุณุงุจู ุ ููุฏ ุญุงู ุงูููุช ููุฐุง ูุจู ุงูุงูุชูุงู. </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">RxDart</a> ูู ุชุทุจูู ูููููู Rx ููุบุฉ Dart ุ ูุฐูู ุจูุถู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฑุงูู Pepermans</a> ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Brian Egan ุนูู ุฐูู</a> .  ุฅุฐุง ุณุจู ูู ุงุณุชุฎุฏุงู Rx ุจูุบุงุช ุฃุฎุฑู ุ ููู ุงููุญุชูู ุฃู ุชูุงุญุธ ุงุฎุชูุงููุง ูู ุชุณููุฉ ุนุฏุฏ ูู ุงููุธุงุฆู ุ ููู ูุฐุง ูู ูุณุจุจ ูู ุฃู ุตุนูุจุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุฑูุฒ ุงูุงุฎุชุจุงุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ุญุชู ุงูุขู ุ ุงุณุชุฎุฏููุง ุงูุชุฏููุงุช ููุณููุฉ ูููู ุงูุจูุงูุงุช ูู ููุงู ุฅูู ุขุฎุฑ ูู ุชุทุจูููุง ุ ููู ูููููู ุงูููุงู ุจุงููุซูุฑ.  ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ุจุนุถ ุงูููุฒุงุช ุงูุชู ูุถูููุง Rx ุฅูู Streams. </p><a name="habracut"></a><br><h2 id="sozdanie-observables" style=";text-align:right;direction:rtl">  ุฎูู ููุงุญุธุงุช </h2><br><p style=";text-align:right;direction:rtl">  ููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฐูุฑูุง ุณุงุจููุง</a> ุ ุชูุซู Observables ุฅุตุฏุงุฑุงุช Rx ูู ุงูุชุฏููุงุช ุฐุงุช ุงูููุฒุงุช ุงูุฑุงุฆุนุฉ.  ููุงู ุงูุนุฏูุฏ ูู ุงูุทุฑู ุงููุซูุฑุฉ ููุงูุชูุงู ูุฅูุดุงุฆูุง: </p><br><h3 id="iz-potoka" style=";text-align:right;direction:rtl">  ุฎุงุฑุฌ ุงูุฏูู </h3><br><p style=";text-align:right;direction:rtl">  ูููู ุชุญููู ุฃู ุชูุงุฑ ุฅูู ููุงุญุธ ุนู ุทุฑูู ุชูุฑูุฑู ุฅูู ุงูููุดุฆ: </p><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs">var controller = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StreamController&lt;String&gt;(); var streamObservable = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Observable(controller.stream); streamObservable.listen(print);</code> </pre> <br><h3 id="povtoryayuschiesya-sobytiya" style=";text-align:right;direction:rtl">  ุงูุฃุญุฏุงุซ ุงููุชูุฑุฑุฉ </h3><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">var timerObservable = Observable.periodic(Duration(seconds: <span class="hljs-number"><span class="hljs-number">1</span></span>), (x) =&gt; x.toString() ); timerObservable.listen(print);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุจูุฐู ุงูุทุฑููุฉ ุ ุณูุชู ุฅูุดุงุก ุงูููุงุญุธุฉ ุงูุชู ุชุนุฑุถ ุงูููู ูุน ูุชุฑุฉ ูุญุฏุฏุฉ.  ุญุชู ุชุชููู ูู ุงุณุชุจุฏุงู ุงููููุช. </p><br><h3 id="iz-odinochnogo-znacheniya" style=";text-align:right;direction:rtl">  ูู ูููุฉ ูุงุญุฏุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูู ุจุนุถ ุงูุฃุญูุงู ุชุชููุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ุชุฏูู / ูููู ููุงุญุธุชู ุญูุซ ูููู ูุฏูู ูููุฉ ููุท.  ููุซู ูุฐู ุงูุญุงูุงุช ุ ูุฅู ุงูููุงุญุธุฉ ูููู ุฃู ูููู ููุง ูุตูุน. </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">var justObservable = Observable&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;.just(<span class="hljs-number"><span class="hljs-number">42</span></span>); justObservable.listen(print); <span class="hljs-comment"><span class="hljs-comment">//   : 42</span></span></code> </pre> <br><h3 id="iz-future" style=";text-align:right;direction:rtl">  ูู ุงููุณุชูุจู </h3><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> Future&lt;String&gt; asyncFunction() async { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Future.delayed(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Duration(seconds: <span class="hljs-number"><span class="hljs-number">1</span></span>), () =&gt; <span class="hljs-string"><span class="hljs-string">"AsyncRsult"</span></span>); } test(<span class="hljs-string"><span class="hljs-string">'Create Observable from Future'</span></span>, () async { print(<span class="hljs-string"><span class="hljs-string">'start'</span></span>); var fromFutureObservable = Observable.fromFuture(asyncFunction()); fromFutureObservable.listen(print);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณููุชุธุฑ ุฅูุดุงุก " <code>Observable</code> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุณุชูุจู"</a> ุญุชู ููุชูู " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุณุชูุจู"</a> <code>Observable</code> ูููุฉ <code>Observable</code> ุฃู <code>null</code> ุฅุฐุง ูู ูุชู ุฅุฑุฌุงุน ุงููููุฉ.  ููุงู ุทุฑููุฉ ุฃุฎุฑู ูุฅูุดุงุก ุฏูู ูู Future ููู ุงุณุชุฏุนุงุก <code>toStream()</code> ูุฃู ูุณุชูุจู. </p><br><p style=";text-align:right;direction:rtl">  ูุฏ ุชุชุณุงุกู ุนู ุงููุฏู ูู ุชุญููู ุงููุณุชูุจู ุฅูู ููุงุญุธุฉ / ุฏูู ุจุฏูุงู ูู ูุฌุฑุฏ ุงูุงูุชุธุงุฑ.  ูู ูุทูุฆููุง ุ ุณูุตุจุญ ุฐูู ูุงุถุญูุง ุนูุฏูุง ูุฏุฑุณ ุงููุธุงุฆู ุงููุชุงุญุฉ ููุนุงูุฌุฉ ุงูุจูุงูุงุช ุฃุซูุงุก ูุฌูุฏูุง ูู ุงูุจุซ ุงููุจุงุดุฑ. </p><br><h3 id="subjects" style=";text-align:right;direction:rtl">  ุงูููุถูุนุงุช </h3><br><p style=";text-align:right;direction:rtl">  <code>Subjects</code> ูู ุจุฏูู ุนู <code>StreamController</code> ูู RxDart ุ ููุฐุง ูู ููู ูุชู ุชูููุฐูุง ูู ููุงู ูุง ูู ุฃุญุดุงุก ุงูููุชุจุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููู ุณููููู ูุฎุชูู ููููุงู ุนู StreamControllers ุงูุฃุณุงุณูุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููููู ุชุทุจูู <code>listen()</code> ูุจุงุดุฑุฉ ุนูู ุงูููุถูุน ุ ุฏูู ุงููุตูู ุฅูู ุฎุงุตูุฉ Stream </li><li style=";text-align:right;direction:rtl">  ูุชููุฑ ุฃู ุนุฏุฏ ูู ุงูุงุดุชุฑุงูุงุช ุ ููุชููู ุฌููุน ุงููุณุชูุนูู ููุณ ุงูุจูุงูุงุช ูู ููุณ ุงูููุช </li><li style=";text-align:right;direction:rtl">  ููุงู ุซูุงุซุฉ ุฃููุงุน ูู ุงูููุถูุนุงุช ุ ููุถุญุฉ ุฃุฏูุงู ูุน ุฃูุซูุฉ: </li></ul><br><h4 id="publishsubjects" style=";text-align:right;direction:rtl">  PublishSubjects </h4><br><p style=";text-align:right;direction:rtl">  ุชุชุตุฑู <code>PublishSubjects</code> ูุซู <code>StreamControllers</code> ุ ุจุงุณุชุซูุงุก ุงุญุชูุงู ูุฌูุฏ ุงูุนุฏูุฏ ูู ุงููุณุชูุนูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">var subject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PublishSubject&lt;String&gt;(); subject.listen((item) =&gt; print(item)); subject.add(<span class="hljs-string"><span class="hljs-string">"Item1"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    subject.listen((item) =&gt; print(item.toUpperCase())); subject.add("Item2"); subject.add("Item3"); //        await Future.delayed(Duration(seconds: 5)); //    subject.close;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ูุฐุง ุงูุฑูุฒ ูุณุชุญุตู ุนูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Item1 ITEM2 Item2 ITEM3 Item3</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงููุงุถุญ ุฃู ุงููุณุชูุน ุงูุซุงูู ุงูุฐู ุชุฃุฎุฑ ุนู ุงูุญููุฉ (ุณูู ูุณูููุง ุงููุดุชุฑููู ุงููุชุฃุฎุฑูู) ุฃุฎุทุฃ ุงูููุทุฉ ุงูุฃููู.  ูุชุฌูุจ ูุฐุง ุ ููููู ุงุณุชุฎุฏุงู <code>BehaviourSubject</code> </p><br><h4 id="behavioursubject" style=";text-align:right;direction:rtl">  BehaviourSubject </h4><br><p style=";text-align:right;direction:rtl">  ูุน <code>BehaviourSubject</code> ูู ูุดุชุฑู ุฌุฏูุฏ ุฃููุงู ุนูู ุขุฎุฑ ูููุฉ ููุจููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">var subject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BehaviorSubject&lt;String&gt;(); subject.listen((item) =&gt; print(item)); subject.add(<span class="hljs-string"><span class="hljs-string">"Item1"</span></span>); subject.add(<span class="hljs-string"><span class="hljs-string">"Item2"</span></span>); subject.listen((item) =&gt; print(item.toUpperCase())); subject.add(<span class="hljs-string"><span class="hljs-string">"Item3"</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุฎุฑูุฌ </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Item1 ITEM2 ITEM3 Item2 Item3</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ุฃู ุชุฑู ุฃู <code>Item1</code> ููุฏ ูููุดุชุฑู ุงูุซุงูู ุ ูููู ูุชููู <code>Item2</code> .  ูุฏ ุชูุงุฌุฃ ุฃู ุงููุดุชุฑู ุงูุซุงูู ูุชููู <code>Item3</code> ูุจู ุฃู ูุญุตู ุงููุดุชุฑู ุงูุฃูู ุนูู <code>Item2</code> .  ูุฐูู ูุฃู ุชุณูุณู ุงููุดุชุฑููู ูู ุงูุฎุฏูุฉ ุบูุฑ ูุถููู ุ ุนูู ุงูุฑุบู ูู ุฃู ุฌููุน ุงููุดุชุฑููู ูุชูููู ุงูุจูุงูุงุช ุจุงูุชุฑุชูุจ ุงูุตุญูุญ.  <code>BehaviourSubject</code> ููุท ุจุชุฎุฒูู ุขุฎุฑ ุนูุตุฑ ุชู ุงุณุชูุงูู ูููุดุชุฑููู ุงููุชุฃุฎุฑูู.  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุชุฎุฒูู ุงููุฒูุฏ ูู ุงูุนูุงุตุฑ ุ ููููู ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ReplaySubject</a> .  ูู ูุนุธู ุงูุญุงูุงุช ุ ูุฐุง ููุณ ุถุฑูุฑููุง. </p><br><h2 id="manipulirovanie-dannymi-na-letu" style=";text-align:right;direction:rtl">  ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุนูู ุงูุทุงูุฑ </h2><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ea5/dfe/1c6/ea5dfe1c65f93367e3207e2a0fe68908.gif"></p><br><p style=";text-align:right;direction:rtl">  ุชููู ุงูููุฉ ุงูุญููููุฉ ูู Rx ูู ุญูููุฉ ุฃููุง ุชุณูุญ ูู ุจูุนุงูุฌุฉ ุงูุจูุงูุงุช ุฃุซูุงุก ุงูููู ุนุจุฑ ุงูุฏูู.  ุชููู ูู ุทุฑููุฉ ูู ุทุฑู Rx ุจุฅุฑุฌุงุน ุฏูู ุฌุฏูุฏ ูุน ุงูุจูุงูุงุช ุงููุงุชุฌุฉ (ููุง ูู ุงูุฑุณู ุงูุชูุถูุญู) ุ ููุง ูุนูู ุฃูู ููููู ุฑุจุทูุง ูุนูุง ูู ุฎุท ุฃูุงุจูุจ ูุนุงูุฌุฉ ูุงุญุฏ ุ ููุฐุง ูุฌุนู Rx ุฃุฏุงุฉ ูููุฉ ููุบุงูุฉ. </p><br><h3 id="map" style=";text-align:right;direction:rtl">  ุฎุฑูุทุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ููุงู ุฃู ุนูููุฉ ุชุดุบูู ูุง ุฃุฑูุฏ ุชูููุชูุง ุ ููุฐู ูู <code>map()</code> .  ูุง ุชููู ุจู <code>map()</code> ูู ุฃููุง ุชุญุชุงุฌ ุฅูู ููู ูู ุนูุตุฑ ูู ุนูุงุตุฑ ุงูุจูุงูุงุช ูุชุทุจูู ูุธููุฉ ูุนููุฉ ุนููู ุ ูุจุนุฏ ุฐูู ุชุถุน ุงููุชูุฌุฉ ูู ุงูุฏูู ุงููุงุชุฌ.  ูุซุงู ุจุณูุท: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8e0/05a/ecc/8e005aecc11e119b7c856a4cadec9b11.gif"></p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">var subject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PublishSubject&lt;String&gt;(); subject.<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((item) =&gt; item.toUpperCase()).listen(print); subject.add(<span class="hljs-string"><span class="hljs-string">"Item1"</span></span>); subject.add(<span class="hljs-string"><span class="hljs-string">"Item2"</span></span>); subject.add(<span class="hljs-string"><span class="hljs-string">"Item3"</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุชูุฌุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">ITEM1 ITEM2 ITEM3</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููู <code>map</code> ูุทููุจุฉ ูุฅุฑุฌุงุน ููุณ ููุน ุงูุจูุงูุงุช ุงูุฐู ุชุชููุงู ููุฏุฎูุงุช.  ุณูุฃุฎุฐ ุงููุซุงู ุงูุชุงูู ุฃุนุฏุงุฏูุง ุตุญูุญุฉ ุจุฏูุงู ูู ุงูุณูุงุณู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุณูู ูุฑุจุท ุจูู ุชุญููููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">var subject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PublishSubject&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(); subject.<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((intValue) =&gt; intValue.toString()) .<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((item) =&gt; item.toUpperCase()) .listen(print); subject.add(<span class="hljs-number"><span class="hljs-number">1</span></span>); subject.add(<span class="hljs-number"><span class="hljs-number">2</span></span>); subject.add(<span class="hljs-number"><span class="hljs-number">3</span></span>);</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃู ุดูุก ูู ูุฐุง ุงููุจูู: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0bb/73f/2a2/0bb73f2a2ccb82e6a920efbf2c395b0d.gif"></p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DataClass</span></span></span><span class="hljs-class">{</span></span>} <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WrapperClass</span></span></span><span class="hljs-class"> {</span></span> final DataClass wrapped; WrapperClass(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.wrapped); } var subject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PublishSubject&lt;WrapperClass&gt;(); subject.<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>&lt;WrapperClass&gt;((a) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WrapperClass(a));</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุญุฏ ุฃูุซุฑ ุงูุงุณุชุฎุฏุงูุงุช ุงููููุฏุฉ ูู <code>.map</code> ูู ุนูุฏูุง ุชุญุตู ุนูู ุจูุงูุงุช ุจุชูุณูู ูู ุจุนุถ ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช REST ุฃู ูู ูุงุนุฏุฉ ุจูุงูุงุช ูุชุฑูุฏ ุชุญููููุง ุฅูู ูุงุฆูุงุช ุฎุงุตุฉ ุจู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> {</span></span> final String name; final String adress; final String phoneNumber; final <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> age; <span class="hljs-comment"><span class="hljs-comment">//       - //   factory User.fromJson(String jsonString) { var jsonMap = json.decode(jsonString); return User( jsonMap['name'], jsonMap['adress'], jsonMap['phoneNumber'], jsonMap['age'], ); } User(this.name, this.adress, this.phoneNumber, this.age); @override String toString() { return '$name - $adress - $phoneNumber - $age'; } } void main() { test('Map', () { // -  var jsonStrings = [ '{"name": "Jon Doe", "adress": "New York", "phoneNumber":"424242","age": 42 }', '{"name": "Stephen King", "adress": "Castle Rock", "phoneNumber":"123456","age": 71 }', '{"name": "Jon F. Kennedy", "adress": "Washington", "phoneNumber":"111111","age": 66 }', ]; //   json-,    API/DB. var dataStreamFromAPI = new PublishSubject&lt;String&gt;(); dataStreamFromAPI .map&lt;User&gt;((jsonString) =&gt; User.fromJson(jsonString)) // json -&gt; User .listen((user) =&gt; print(user.toString())); //    dataStreamFromAPI.add(jsonStrings[0]); dataStreamFromAPI.add(jsonStrings[1]); dataStreamFromAPI.add(jsonStrings[2]); });</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <em>ุฃูุงุญุธ ุฃูู ููุณ ููุท Stream ุ ูููู ุฃูุถูุง ุฃู Iterable ูููุฑ ูุธููุฉ <code>map</code> ููููู ุงุณุชุฎุฏุงููุง ููุชุญููุงุช ูู ุงูููุงุฆู.</em> </p><br><h3 id="where" style=";text-align:right;direction:rtl">  ุญูุซ </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ููุชููุง ููุท ุจููู ูุนููุฉ ุชุญุฏุซ ูู ุงูุฏูู ุ ูููููู ุงุณุชุฎุฏุงู ุงูุฏุงูุฉ <code>.where()</code> ุจุฏูุงู ูู ุงุณุชุฎุฏุงู <code>if</code> ูู ุงููุณุชูุน ุ ููุฐุง ุฃูุซุฑ ุชุนุจูุฑูุง ูุฃุณูู ูู ุงููุฑุงุกุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">var subject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PublishSubject&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(); subject.where((val) =&gt; val.isOdd) .listen( (val) =&gt; print(<span class="hljs-string"><span class="hljs-string">'This only prints odd numbers: $val'</span></span>)); subject.where((val) =&gt; val.isEven) .listen( (val) =&gt; print(<span class="hljs-string"><span class="hljs-string">'This only prints even numbers: $val'</span></span>)); subject.add(<span class="hljs-number"><span class="hljs-number">1</span></span>); subject.add(<span class="hljs-number"><span class="hljs-number">2</span></span>); subject.add(<span class="hljs-number"><span class="hljs-number">3</span></span>); <span class="hljs-comment"><span class="hljs-comment">//: This only prints odd numbers: 1 This only prints even numbers: 2 This only prints odd numbers: 3</span></span></code> </pre> <br><h3 id="debounce" style=";text-align:right;direction:rtl">  Debounce </h3><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ูุงุญุฏ ูู ุงููุคูุค ุงูุตุบูุฑุฉ ูู ุขุฑ ุฅูุณ!  ุชุฎูู ุฃู ูุฏูู ุญูู ุจุญุซ ูุณุชุฏุนู REST API ุฅุฐุง ุชู ุชุบููุฑ ูุตู.  ุฅุฌุฑุงุก ููุงููุฉ API ููู ุถุบุทุฉ ููุชุงุญ ุฃูุฑ ูููู.  ูุจุงูุชุงูู ุ ูุง ุชุฑุบุจ ูู ุฅุฌุฑุงุก ููุงููุฉ ุฅูุง ุฅุฐุง ุชููู ุงููุณุชุฎุฏู ููุญุธุฉ.  ููุฐุง ุงูุบุฑุถ ุ ูุชู ุงุณุชุฎุฏุงู ุงูุฏุงูุฉ <code>debounce()</code> ุ ูุงูุชู ุชุจุชูุน ูู ุงูุฃุญุฏุงุซ ุงููุงุฑุฏุฉ ุฅุฐุง ูู ูุชู ุฅุชุจุงุนูุง ูุคูุชูุง. </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">var subject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PublishSubject&lt;String&gt;(); subject.debounce(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Duration(milliseconds: <span class="hljs-number"><span class="hljs-number">500</span></span>)).listen((s) =&gt; print(s)); subject.add(<span class="hljs-string"><span class="hljs-string">'A'</span></span>); subject.add(<span class="hljs-string"><span class="hljs-string">'AB'</span></span>); await Future.delayed(Duration(milliseconds: <span class="hljs-number"><span class="hljs-number">200</span></span>)); subject.add(<span class="hljs-string"><span class="hljs-string">"ABC"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    await Future.delayed(Duration(milliseconds: 700)); //       : 'ABC'</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุฅุฐุง ููุช ุจุชุญููู ูุนุงูุฌ <code>TextField.onChanged</code> ุฅูู <code>Observable</code> ุ ูุณุชุญุตู ุนูู ุญู ุฃููู. </p><br><h3 id="expand" style=";text-align:right;direction:rtl">  ูุณุน </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุงููุตุฏุฑ ุงูุฎุงุต ุจู ููุจุนุซ ููู ุตูุงุฆู ูู ุงููุงุฆูุงุช ุ ูุชุฑูุฏ ูุนุงูุฌุฉ ูู ูุงุฆู ุจููุณู ุ ูููููู ุงุณุชุฎุฏุงู <code>.expand</code> ุ ูุงูุฐู ุณููุนู ุฐูู: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e8e/8d7/2b3/e8e8d72b36dddd0d3469107c6cdae2b1.gif" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ุณุชุฑู ุชุทุจูู ูุฐู ุงูุทุฑููุฉ ุฃุฏูุงู ูู ูุซุงู FireStore. </p><br><h3 id="merge" style=";text-align:right;direction:rtl">  ุฏูุฌ </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ูุฏูู ุนุฏุฉ ูุคุดุฑุงุช <code>.mergeWith</code> ูุฎุชููุฉ ุ ูููู ุชุฑูุฏ ูุนุงูุฌุฉ ุงููุงุฆูุงุช ุงูุฎุงุตุฉ ุจูู ูุนูุง ุ ููููู ุงุณุชุฎุฏุงู <code>.mergeWith</code> (ูู ุชุทุจููุงุช Rx ุงูุฃุฎุฑู ููุท <code>merge</code> ) ุ ูุงูุชู ุชุฃุฎุฐ ูุฌููุนุฉ ูู ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูุฅุฑุฌุงุน ูุคุดุฑ ุชุฑุงุจุท ูุฏูุฌ ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a2f/9ba/82b/a2f9ba82b88b555841c21dc623c3d298.gif" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  <code>.mergeWith</code> ูุง ูุถูู ุฏูุฌ ุฃู ุชุฑุชูุจ ูู ุงูุชุฏููุงุช.  ููุจุนุซ ุงูุจูุงูุงุช ูู ุชุฑุชูุจ ุงููุฏุฎูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ูุฏูู ููููุงู ููููุงู ุจุงูุฅุจูุงุบ ุนู ุงูุฃุฎุทุงุก ูู ุฎูุงู ุฏูู ุ ูุชุฑุบุจ ูู ุนุฑุถูุง ูุนูุง ูู ูุฑุจุน ุญูุงุฑ ุ ููููู ุงูููุงู ุจุฐูู ุนูู ุงููุญู ุงูุชุงูู (ุงูุฑูุฒ ุงูุฒุงุฆู): </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">@<span class="hljs-function"><span class="hljs-function">override </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ super.initState(); component1.errors.mergeWith([component2.errors]) .listen( (error) async =&gt; await showDialog(error.message)); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃู ุฅุฐุง ููุช ุชุฑูุฏ ุนุฑุถูุง ูุดุชุฑููุง ููุฑุณุงุฆู ูู ุงูุนุฏูุฏ ูู ุงูุดุจูุงุช ุงูุงุฌุชูุงุนูุฉ ุ ููุฏ ูุจุฏู ูุฐุง (ุงูุฑูุฒ ุงูุฒุงุฆู): </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">final observableTwitter = getTwitterStream().<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((data) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyAppPost.fromTwitter(data)); final observableFacebook = getFacebookStream().<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((data) =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyAppPost.fromFaceBook(data)); final postStream = observableTwitter.mergeWith([observableFacebook]);</code> </pre> <br><h3 id="zipwith" style=";text-align:right;direction:rtl">  ZipWith </h3><br><p style=";text-align:right;direction:rtl">  <code>zipWith</code> ุฃูุถุง ูุฏูุฌ ุฏูู ูุงุญุฏ ูุน ุขุฎุฑ.  ูููู ุ ุนูู ุนูุณ <code>.mergeWith</code> ุ ูุง ูุฑุณู ุงูุจูุงูุงุช ุจูุฌุฑุฏ ุชููู ุนูุตุฑ ูู ุฃุญุฏ ุชุฏููุงุช ูุตุฏุฑู.  ููุชุธุฑ ุญุชู ูุตูู ุงูุนูุงุตุฑ ูู ููุง ุชุฏููุงุช ุงููุตุฏุฑ ุ ุซู ูุฌูุนูุง ุจุงุณุชุฎุฏุงู ูุธููุฉ <code>zipper</code> ุงูููุฏูุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/5ef/611/847/5ef611847db6bfa40237fb3622d93822.gif" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุชูููุน <code>zipWith</code> ูุฎูููุง ุ ููููุง ููุธุฑ ุฅููู ุงูุขู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// R :   Stream/Observable // S :   Stream/Observable // zipper: - Observable&lt;R&gt; zipWith&lt;S, R&gt;(Stream&lt;S&gt; other, R zipper(T t, S s))</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุซุงู ูุจุณุท ููุบุงูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Observable.just(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-comment"><span class="hljs-comment">// .just()  Observable,    .zipWith(new Observable.just(2), (one, two) =&gt; one + two) .listen(print); //  3</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงู ุชุทุจูู ุฃูุซุฑ ุนูููุฉ ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงูุชุธุงุฑ ูุธููุชูู ุบูุฑ ูุชุฒุงููุชูู ุชุฑุฌุน <code>Future</code> ุ ูุชุฑูุฏ ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุจูุฌุฑุฏ ุฃู ูุชู ุฅุฑุฌุงุน ูู ุงููุชุงุฆุฌ.  ูู ูุฐุง ุงููุซุงู ุงูููุชุฑุถ ุจุนุถ ุงูุดูุก ุ ููุฏู ุงุซููู ูู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ูู REST: ุฃุญุฏููุง ูุนุฑุถ <code>User</code> ุ ูุงูุขุฎุฑ ูุนุฑุถ <code>Product</code> ูุณูุงุณู JSON ุ ููุฑูุฏ ุงูุชุธุงุฑ ููุง ุงูููุงููุงุช ูุจู ุฅุฑุฌุงุน ูุงุฆู <code>Invoice</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Invoice</span></span></span><span class="hljs-class"> {</span></span> final User user; final Product product; Invoice(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.user, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.product); printInvoice() { print(user.toString()); print(product.toString()); } } <span class="hljs-comment"><span class="hljs-comment">//  HTTP ,  Product,  JSON Future&lt;String&gt; getProduct() async { print("Started getting product"); await Future.delayed(Duration(seconds: 2)); print("Finished getting product"); return '{"name": "Flux compensator", "price": 99999.99}'; } //  HTTP ,  User,  JSON Future&lt;String&gt; getUser() async { print("Started getting User"); await Future.delayed(Duration(seconds: 4)); print("Finished getting User"); return '{"name": "Jon Doe", "adress": "New York", "phoneNumber":"424242","age": 42 }'; } void main() { test('zipWith', () async { var userObservable = Observable.fromFuture(getUser()).map&lt;User&gt;((jsonString) =&gt; User.fromJson(jsonString)); var productObservable = Observable.fromFuture(getProduct()) .map&lt;Product&gt;((jsonString) =&gt; Product.fromJson(jsonString)); Observable&lt;Invoice&gt; invoiceObservable = userObservable.zipWith&lt;Product, Invoice&gt;( productObservable, (user, product) =&gt; Invoice(user, product)); print("Start listening for invoices"); invoiceObservable.listen((invoice) =&gt; invoice.printInvoice()); //        await Future.delayed(Duration(seconds: 5)); }); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงููุธุฑ ุฅูู ุงูุฅุฎุฑุงุฌ ุ ููููู ุฃู ุชุฑู ููู ูุชู ุฐูู ุจุดูู ุบูุฑ ูุชุฒุงูู </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Started getting User Started getting product Start listening <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> invoices Finished getting product Finished getting User Jon Doe - New York - <span class="hljs-number"><span class="hljs-number">424242</span></span> - <span class="hljs-number"><span class="hljs-number">42</span></span> Flux compensator - <span class="hljs-number"><span class="hljs-number">99999.99</span></span></code> </pre> <br><h3 id="combinelatest" style=";text-align:right;direction:rtl">  CombineLatest </h3><br><p style=";text-align:right;direction:rtl">  ูุฏูุฌ <code>combineLatest</code> ุฃูุถูุง ููู ุงูุฏูู ุ ูููู ุจุทุฑููุฉ ูุฎุชููุฉ ููููุงู ุนู <code>merge</code> <code>zip</code> .  ูุณุชูุน ููุฒูุฏ ูู ูุคุดุฑุงุช ุงูุชุฑุงุจุท ููุตุฏุฑ ูููุฉ ูุดุชุฑูุฉ ูููุง ูุตูุช ูููุฉ ุฌุฏูุฏุฉ ูู ุฃุญุฏ ุณูุงุณู ุงูุนูููุงุช.  ูู ุงููุซูุฑ ููุงูุชูุงู ุฃูู ูุง ูููุฏ ุงููููุฉ ุงููุชุบูุฑุฉ ูุญุณุจ ุ ูููู ุฃูุถูุง ุขุฎุฑ ููู ุชู ุงูุญุตูู ุนูููุง ูุฌููุน ุชุฏููุงุช ุงููุตุฏุฑ ุงูุฃุฎุฑู.  ุงูุธุฑ ุจุนูุงูุฉ ุฅูู ูุฐู ุงูุฑุณูู ุงููุชุญุฑูุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/633/acb/bee/633acbbee01158bb7a6ad0450d39f712.gif" alt="ุตูุฑุฉ"></p><br><p style=";text-align:right;direction:rtl">  ูุจู <code>combineLates</code> ูููุชู ุงูุฃููู ุ ูุฌุจ ุฃู ุชุชููู ูุงูุฉ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงููุตุฏุฑ ุฅุฏุฎุงููุง ูุงุญุฏูุง ุนูู ุงูุฃูู. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุนูุณ ุงูุฃุณุงููุจ ุงูุชู ุชู ุงุณุชุฎุฏุงููุง ุณุงุจููุง ุ ูุฅู <code>combineLatest</code> ุซุงุจุช.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุธุฑูุง ูุฃู Dart ูุง ูุณูุญ <code>combLastest</code> ุงูุฒุงุฆุฏ ูููุดุบู ุ ูููุงู ุฅุตุฏุงุฑุงุช ูู <code>combLastest</code> ุจูุงุกู ุนูู ุนุฏุฏ ุชุฏููุงุช ุงููุตุฏุฑ: <strong>combineLatest2 ... combineLatest9</strong> </p><br><p style=";text-align:right;direction:rtl">  <code>combineLatest</code> ุงุณุชุฎุฏุงููุง ุฌูุฏูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ูุฏูู <code>Observable&lt;bool&gt;</code> <code>combineLatest</code> ุฃู ุจุนุถ ุฃุฌุฒุงุก ุงูุชุทุจูู ูุฏูู ูุดุบููุฉ ุ ูุชุฑูุฏ ุนุฑุถ ูุดุบูู ุงูุฏูุงุฑ ุฅุฐุง ูุงู ุฃุญุฏููุง ูุดุบูููุง.  ูุฏ ูุจุฏู ูุซู ูุฐุง (ุงูุฑูุฒ ุงูุฒุงุฆู): </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Model</span></span></span><span class="hljs-class"> {</span></span> Observable&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; get isBusy =&gt; Observable.combineLatest2(isBusyOne,isBusyTwo, (b1, b2) =&gt; b1 || b2); PublishSubject&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; isBusyOne; PublishSubject&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; isBusyTwo; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฎุงุตุฉ ุจู ุ ููููู ุงุณุชุฎุฏุงู <code>isBusy</code> ูุน <code>StreamBuilder</code> ูุนุฑุถ <code>Spinner</code> ุฅุฐุง ูุงูุช ุงููููุฉ ุงููุงุชุฌุฉ ุตุญูุญุฉ. </p><br><p style=";text-align:right;direction:rtl">  <code>combineLatest</code> ููุฒุฉ ููุงุณุจุฉ ุฌุฏูุง ูุน ุชูุงุฑุงุช <strong>ููุทุงุช FireStore</strong> . </p><br><p style=";text-align:right;direction:rtl">  ุชุฎูู ุฃูู ุชุฑูุฏ ุฅูุดุงุก ุชุทุจูู ูุนุฑุถ ููุฌุฒูุง โโููุฃุฎุจุงุฑ ุฌูุจูุง ุฅูู ุฌูุจ ูุน ุชููุนุงุช ุงูุทูุณ.  ูุชู ุชุฎุฒูู ุฑุณุงุฆู ุดุฑูุท ูุจูุงูุงุช ุงูุทูุณ ูู ูุฌููุนุชูู ูุฎุชููุชูู ูู FireStore.  ูุชู ุชุญุฏูุซ ููุงููุง ุจุดูู ูุณุชูู.  ุชุฑูุฏ ุนุฑุถ ุชุญุฏูุซุงุช ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู StreamBuilder.  ูุน <code>combineLatest</code> ูุฅูู ูู ุงูุณูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WeatherForecast</span></span></span><span class="hljs-class"> {</span></span> final String forecastText; final GeoPoint location; factory WeatherForecast.fromMap(Map&lt;String, dynamic&gt; <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> WeatherForecast(<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>[<span class="hljs-string"><span class="hljs-string">'forecastText'</span></span>], <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>[<span class="hljs-string"><span class="hljs-string">'location'</span></span>]); } WeatherForecast(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.forecastText, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.location); } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewsMessage</span></span></span><span class="hljs-class"> {</span></span> final String newsText; final GeoPoint location; factory NewsMessage.fromMap(Map&lt;String, dynamic&gt; <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewsMessage(<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>[<span class="hljs-string"><span class="hljs-string">'newsText'</span></span>], <span class="hljs-built_in"><span class="hljs-built_in">map</span></span>[<span class="hljs-string"><span class="hljs-string">'location'</span></span>]); } NewsMessage(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.newsText, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.location); } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CombinedMessage</span></span></span><span class="hljs-class"> {</span></span> final WeatherForecast forecast; final NewsMessage newsMessage; CombinedMessage(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.forecast, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.newsMessage); } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Model</span></span></span><span class="hljs-class"> {</span></span> CollectionReference weatherCollection; CollectionReference newsCollection; Model() { weatherCollection = Firestore.instance.collection(<span class="hljs-string"><span class="hljs-string">'weather'</span></span>); newsCollection = Firestore.instance.collection(<span class="hljs-string"><span class="hljs-string">'news'</span></span>); } Observable&lt;CombinedMessage&gt; getCombinedMessages() { Observable&lt;WeatherForecast&gt; weatherForecasts = weatherCollection .snapshots() .expand((snapShot) =&gt; snapShot.documents) .<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>&lt;WeatherForecast&gt;((document) =&gt; WeatherForecast.fromMap(document.data)); Observable&lt;NewsMessage&gt; news = newsCollection .snapshots() .expand((snapShot) =&gt; snapShot.documents) .<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>&lt;NewsMessage&gt;((document) =&gt; NewsMessage.fromMap(document.data)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Observable.combineLatest2( weatherForecasts, news, (weather, news) =&gt; CombinedMessage(weather, news)); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฎุงุตุฉ ุจู ุ ุณุชุจุฏู ูุซู ูุฐุง: <code>StreamBuilder&lt;CombinedMessage&gt;(stream: model.getCombinedMessages(),...).</code> </p><br><h3 id="distinct" style=";text-align:right;direction:rtl">  ูุชููุฒ </h3><br><p style=";text-align:right;direction:rtl">  ูู ุงูุณููุงุฑูู ุงูููุถุญ ุฃุนูุงู ุ ูุฏ ูุญุฏุซ ุฃู ูููู ูู ูู <strong>isBusyOne</strong> ู <strong>isBusyTwo</strong> ุจุฅุนุทุงุก ุงููููุฉ ููุณูุง ุ ููุง ุณูุคุฏู ุฅูู ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจููุณ ุงูุจูุงูุงุช.  ูููุน ูุฐุง ุ ูููููุง ุงุณุชุฎุฏุงู <code>.distinct()</code> .  ุฅูู ูุถูู ุนุฏู ุชุฏูู ุงูุจูุงูุงุช ุฅูุง ุฅุฐุง ูุงูุช ูููุฉ ุงูุนูุตุฑ ุงูุฌุฏูุฏ ูุฎุชููุฉ ุนู ุงูุฃุฎูุฑุฉ.  ูุจุงูุชุงูู ุ ูุบูุฑ ุงูุฑูุฒ ุฅูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> Observable&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt; isBusy =&gt; isBusyOne.mergeWith([isBusyTwo]).distinct();</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุฐุง ููุถุญ ุฃูุถูุง ุฃูู ูููููุง ุงูุฌูุน ุจูู ูุธุงุฆููุง ูู ุณูุงุณู ูุฎุชููุฉ ุญุณุจ ุงูุฑุบุจุฉ. </p><br><h3 id="asyncmap" style=";text-align:right;direction:rtl">  AsyncMap </h3><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู <code>map()</code> ููุงู ุฃูุถูุง ูุธููุฉ <code>asyncMap</code> ุ ูุงูุชู ุชุชูุญ ูู ุงุณุชุฎุฏุงู ุฏุงูุฉ ุบูุฑ ูุชุฒุงููุฉ ููุธููุฉ ูุฎุทุท.  ุฏุนูุง ููุฏู ุฅุนุฏุงุฏูุง ูุฎุชูููุง ููููุงู ููุซุงู FireStore.  ุงูุขู ูุนุชูุฏ <strong>WeatherForecast</strong> ุงูุถุฑูุฑู ุนูู ูููุน <strong>NewsMessage</strong> ููุฌุจ ุชุญุฏูุซู ููุท ุนูุฏ ุชููู <strong>NewsMessage</strong> ุฌุฏูุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Observable&lt;CombinedMessage&gt; getDependendMessages() { Observable&lt;NewsMessage&gt; news = newsCollection.snapshots().expand((snapShot) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> snapShot.documents; }).<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>&lt;NewsMessage&gt;((document) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewsMessage.fromMap(document.data); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> news.asyncMap((newsEntry) async { var weatherDocuments = await weatherCollection.where(<span class="hljs-string"><span class="hljs-string">'location'</span></span>, isEqualTo: newsEntry.location).getDocuments(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CombinedMessage( WeatherForecast.fromMap(weatherDocuments.documents.first.data), newsEntry); }); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูุชู ุฅูุดุงุก ุงูููุงุญุธุฉ ุงูุชู ูุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ getDependendMessages ูู ุฅูุดุงุก CombinedMessage ุฌุฏูุฏ ูู ูู ูุฑุฉ ูุชุบูุฑ newsCollection. </p><br><h2 id="otladka-observables" style=";text-align:right;direction:rtl">  Debug Observables </h2><br><p style=";text-align:right;direction:rtl">  ุจุงููุธุฑ ุฅูู ุณูุงุณู ูุฏุงุก Rx ุงูุฃูููุฉ ุ ูุจุฏู ูู ุงููุณุชุญูู ุชูุฑูุจูุง ุชุตุญูุญ ุชุนุจูุฑ ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Observable&lt;NewsMessage&gt; news = newsCollection .snapshots() .expand((snapShot) =&gt; snapShot.documents) .<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>&lt;NewsMessage&gt;((document) =&gt; NewsMessage.fromMap(document.data));</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููู ุถุน ูู ุงุนุชุจุงุฑู ุฃู <code>=&gt;</code> ูุฌุฑุฏ ูููุฐุฌ ูุตูุฑ ููุธููุฉ ูุฌูููุฉ.  ุจุงุณุชุฎุฏุงู <strong>ุชุญููู ูููุน ุงูุฌุณู</strong> ุ ุณูู ุชุญุตู ุนูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Observable&lt;NewsMessage&gt; news = newsCollection .snapshots() .expand((snapShot) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> snapShot.documents; }) .<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>&lt;NewsMessage&gt;((document) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewsMessage.fromMap(document.data); });</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุงูุขู ูููููุง ุชุนููู ููุทุฉ ุชููู ุฃู ุฅุถุงูุฉ ุจูุงูุงุช ูุทุจูุนุฉ ูู ูู ุฎุทูุฉ ูู ุฎุท ุฃูุงุจูุจูุง. </p><br><h2 id="osteregaytes-pobochnyh-effektov" style=";text-align:right;direction:rtl">  ุงุญุฐุฑ ูู ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ </h2><br><p style=";text-align:right;direction:rtl">  <strong>ุฅุฐุง ููุช ุชุฑุบุจ ูู ุงูุงุณุชูุงุฏุฉ ูู Rx ูุฌุนู ุดูุฑุชู ุฃูุซุฑ ููุฉ ุ ูุถุน ูู ุงุนุชุจุงุฑู ุฏุงุฆููุง ุฃู Rx ูู ุชุญููู ุงูุจูุงูุงุช ุนูุฏูุง ูุชุญุฑู "ุนูู ุทูู ุญุฒุงู ูุงูู".</strong>  <strong>ูุฐูู ุ ูุง ุชุณุชุฏุนู ุฃุจุฏูุง ุงููุธุงุฆู ุงูุชู ุชุบูุฑ ุฃู ูุชุบูุฑุงุช / ุญุงูุงุช ุฎุงุฑุฌ ุฎุท ุฃูุงุจูุจ ุงููุนุงูุฌุฉ ุญุชู ุชุตู ุฅูู ูุธููุฉ .listen.</strong> <br>  ุจุฏูุงู ูู ุงูููุงู ุจุฐูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Observable.fromFuture(getProduct()) .<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>&lt;Product&gt;((jsonString) { var product = Product.fromJson(jsonString); database.save(product); setState((){ _product = product }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> product; }).listen();</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุนู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Observable.fromFuture(getProduct()) .<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>&lt;Product&gt;((jsonString) =&gt; Product.fromJson(jsonString)) .listen( (product) { database.save(product); setState((){ _product = product }); });</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุงุฌุจ <code>map()</code> ูู ุชุญููู ุงูุจูุงูุงุช ูู ุงูุฏูู ุ ูููุณ ุฃูุซุฑ!  ุฅุฐุง ูุงูุช ูุธููุฉ ุงูุนุฑุถ ุงูุชู ุชู ุชูุฑูุฑูุง ุชุคุฏู ุดูุฆูุง ุขุฎุฑ ุ ูุณูุชู ุงุนุชุจุงุฑูุง ูู ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ ุ ููุง ูุคุฏู ุฅูู ุญุฏูุซ ุฃุฎุทุงุก ูุญุชููุฉ ูุตุนุจ ุงูุชุดุงููุง ุนูุฏ ูุฑุงุกุฉ ุงูุฑูุฒ. </p><br><h2 id="nekotorye-mysli-ob-osvobozhdenii-resursov" style=";text-align:right;direction:rtl">  ุจุนุถ ุงูุฃููุงุฑ ุญูู ุชุญุฑูุฑ ุงูููุงุฑุฏ </h2><br><p style=";text-align:right;direction:rtl">  ูุชุฌูุจ ุชุณุฑุจ ุงูุฐุงูุฑุฉ ุ ุงุชุตู ุฏุงุฆููุง <code>cancel()</code> ููุงุดุชุฑุงูุงุช ุ <code>dispose()</code> ุฃุฌู StreamControllers ุ <code>close()</code> ููููุถูุนุงุช ุ ุจูุฌุฑุฏ ุนุฏู ุญุงุฌุชู ุฅูููุง. </p><br><h2 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br><p style=";text-align:right;direction:rtl">  ูุจุฑูู ูู ุจููุช ูุนู ุญุชู ูุฐู ุงููุญุธุฉ.  ุงูุขู ูุง ููููู ุงุณุชุฎุฏุงู Rx ููุท ูุฌุนู ุญูุงุชู ุฃุณูู ุ ูููู ุฃูุถูุง ุงูุงุณุชุนุฏุงุฏ <strong>ูููุดุงุฑูุงุช</strong> ุงูุชุงููุฉ ุงูุชู <strong>ุณูุจุญุซ ูููุง</strong> ูู ุชูุงุตูู <strong>RxVMS</strong> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar451292/">https://habr.com/ru/post/ar451292/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar451276/index.html">ููููุฉ ุจูุงุก ุงูุนูุงูุฉ ุงูุชุฌุงุฑูุฉุ</a></li>
<li><a href="../ar451278/index.html">ุชุญููู ุงููููุฌุงุช ุงูุฌุฒุก 1</a></li>
<li><a href="../ar451280/index.html">ุงููุนุงุฏู ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู</a></li>
<li><a href="../ar451282/index.html">ุชุญูููุงุช ุงูููุจ ุงูุซููุจ ุงูุณูุฏุงุก: ููุฏุงุฑ ุงูุจูุงูุงุช ุงูููููุฏุฉ ูู GA ูุงูุณุจุจ ูู ุฐูู</a></li>
<li><a href="../ar451286/index.html">Roskomnadzor ุ ููู ูุง ูุณุชุญูู</a></li>
<li><a href="../ar451294/index.html">ููุง ุฃุถูุช ูุธุงุฆู ุฅูู ุงูุณูุงุฑุฉ ุนุจุฑ CAN ุ ุนุฏู ุงููุฏุฑุฉ ุนูู ุงูุจุฑูุฌุฉ</a></li>
<li><a href="../ar451296/index.html">ุฃุนูู ุนู ุทุฑูู ML.NET 1.0</a></li>
<li><a href="../ar451298/index.html">ููููุฉ ุฅูุดุงุก ูุญุฏุฉ ุชุญูู ูุนุจุฉ ูุน ุฅุญุฏู ุงูุญุงูุงุช ุนู ุทุฑูู ุทูุจ ููุญุฉ ุฏูุงุฆุฑ ูุทุจูุนุฉ ูุงุญุฏุฉ</a></li>
<li><a href="../ar451302/index.html">ููุฉ ุดุฑูุงุช ุชูููููุฌูุง ุงููุนูููุงุช ุงูุงุณุชุนุงูุฉ ุจูุตุงุฏุฑ ุฎุงุฑุฌูุฉ</a></li>
<li><a href="../ar451304/index.html">ูุงูุฏูุณ "ูุตูุญุฉ": ููููุฉ ุชุญููู ุฃูุตู ูุฏุฑ ูู ุงูุฃุฑุจุงุญ ุนูู ุงูุงุดุชุฑุงู ุงููุฏููุน</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>