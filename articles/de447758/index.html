<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüåæ üßìüèΩ üòë Hacking-Geschichte eines klassischen Dendy- oder Contra-Spiels f√ºr 100 Leben üë©üèª‚Äç‚öïÔ∏è üë©üèº‚Äçüî¨ ü§∞üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Da einige japanische Unternehmen ihr Urheberrecht immer noch sorgf√§ltig √ºberwachen. Ich kann Ihnen weder meine Rum-Version noch die von mir verwendete...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hacking-Geschichte eines klassischen Dendy- oder Contra-Spiels f√ºr 100 Leben</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447758/"><p>  Da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einige japanische Unternehmen</a> ihr Urheberrecht immer noch sorgf√§ltig √ºberwachen.  Ich kann Ihnen weder meine Rum-Version noch die von mir verwendete Quelle zur Verf√ºgung stellen.  Ich kann nur sagen, dass ich es in der Torrent-Sammlung "All games on Dendy" gefunden habe.  Ich nahm die japanische Version des Spiels "Contra (J) [T + Rus_Chronix]", die von dort ins Russische √ºbersetzt wurde, und ging sie mehrmals durch. Als √§u√üerst neugierige Person entschied ich mich, das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ROM-Bild ein</a> wenig herauszusuchen, um den Spielern ein paar Leben zu geben. <a name="habracut"></a></p><br><div class="spoiler">  <b class="spoiler_title">Hier ist eine lebendige, langweilige und langwierige Aufzeichnung dieses Prozesses.</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/Zvzn3EG44tE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br><p>  Um das Spiel zu hacken, habe ich den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FCEUX-</a> Emulator verwendet. </p><br><p>  Und das sind alles vorbereitende Vorbereitungen, ohne die Bildschirmeinstellungen und das Gamepad. </p><br><p>  Das Hacken selbst erfolgt in mehreren Phasen: </p><br><ol><li>  Suchen Sie nach den gew√ºnschten Werten oder vielmehr nach den Variablen, in denen sie gespeichert sind, oder nach Adressen, die die gew√ºnschten Werte enthalten </li><li>  Suchen Sie nach Anweisungen, die diese Werte √§ndern oder lesen, je nachdem, was Sie interessiert </li><li>  Analyse von Codebl√∂cken, die diese Anweisungen enthalten </li><li>  √Ñndern von interessierenden Codebl√∂cken, gefolgt vom Schreiben in eine ROM-Datei </li></ol><br><p>  Wenn das Ergebnis der Analyse der Codebl√∂cke andere Adressen sind, m√ºssen die Punkte 2 und 3 wiederholt werden.  Weiter werde ich diesen Moment zeigen. </p><br><p>  Um nach Werten im Speicher zu suchen, wird das im Emulator integrierte Tool "RAM search" verwendet. </p><br><p><img src="https://habrastorage.org/webt/uv/bf/ov/uvbfovvgu1q2v4unan-svploj-y.png"></p><br><p>  Ich wei√ü nicht, ob in Spielen f√ºr NES Verschl√ºsselung verwendet wurde, aber ich bin immer noch nicht auf solche Spiele gesto√üen.  Und auf dem Bildschirm nach dem Begr√º√üungsbildschirm und vor dem Start des Levels sah ich die Anzahl der Leben "drei". </p><br><p><img src="https://habrastorage.org/webt/bj/5o/aq/bj5oaqf0k8bpbd8uecosyx3j-ta.png"></p><br><p>  Also habe ich mit den drei die Suche gestartet. </p><br><p>  Der Vergleichsoperator "gleich", ich vergleiche mit einem bestimmten Wert von "3" und klicke nicht vor Beginn des Levels auf die Suchschaltfl√§che.  Theoretisch ist dies f√ºr das NES-Spiel nicht wichtig, aber ich ziehe es vor, die Suche zu wiederholen und zu starten, nachdem ich sicher bin, dass der gew√ºnschte Wert an seiner Stelle im Speicher liegt, dh nach dem Beginn des Levels selbst. </p><br><p>  Das Suchen nach Adressen ist sehr routinem√§√üig. Sie m√ºssen die verschiedenen Werte au√üer der Suche geringf√ºgig √§ndern, die Suche wiederholen usw.  √úbrigens √§ndert sich im Moment der Sinn des Lebens in keiner Weise und Sie k√∂nnen alle Werte l√∂schen, die sich in letzter Zeit mehrmals ge√§ndert haben. Es ist jedoch besser, dies zu tun, wenn Sie das Suchfenster nach dem Start des Levels √∂ffnen oder wenn Sie die Suche vor dem ersten Vergleich, aber nach dem Beginn des Levels zur√ºcksetzen.  Anschlie√üend k√∂nnen Sie den gew√ºnschten Wert √§ndern (in diesem Fall das Zeichen beenden) und im Vergleichsfeld einen neuen Wert festlegen usw., bis eine Variable √ºbrig bleibt. </p><br><p>  Aber ich habe danach keine Variablen mehr und es kann zwei Gr√ºnde daf√ºr geben: </p><br><ol><li>  menschlicher Faktor, mit anderen Worten, ich habe einen Fehler im Suchprozess gemacht </li><li>  In der f√ºr das Leben verantwortlichen Variablen liegt etwas anderes </li></ol><br><p>  Wir werden die erste Option sp√§ter verschieben, nicht dass ich selten Fehler machen w√ºrde. Ich beginne die Suche immer mit √úberpr√ºfungen von allem anderen. Ich bin so selbstbewusst. </p><br><p>  Und bevor Sie √ºber einen Plan zur Umgehung der gerissenen Verschl√ºsselung nachdenken, schauen Sie noch einmal auf den Bildschirm. </p><br><p><img src="https://habrastorage.org/webt/tj/4k/ly/tj4klyzapeinwkzfihmrpzvaiy4.png"></p><br><p>  Der Spieler hat drei Leben und zwei Medaillen h√§ngen √ºber ihm.  Wenn ein Spieler drei Leben hat, wird m√∂glicherweise der Wert ‚Äûzwei‚Äú (zwei freie Leben) in seinem Ged√§chtnis aufgezeichnet.  Als ich das Spiel zur√ºcksetzte und eine neue Suche startete, bereits mit der Anzahl der Medaillen und zwei Spielern, fand ich fast sofort zwei Adressen mit geeigneten Werten. </p><br><p><img src="https://habrastorage.org/webt/4p/z0/od/4pz0oddvsghpo4dajwwjvc4hwfm.png"></p><br><p>  Dies sind 32 <sub>16</sub> und 33 <sub>16</sub> Adressen.  Der einfachste Weg, die gefundene Adresse zu √ºberpr√ºfen, besteht darin, ihren Wert zu √§ndern.  Dazu ben√∂tigen Sie das im Emulator integrierte HEX Editor-Tool. Im RAM-Suchfenster k√∂nnen Sie es √∂ffnen, indem Sie mit der rechten Maustaste auf die Adresse klicken, damit Sie diese Adresse im Speicher √∂ffnen.  Und als ich die Adresse ‚Äûvier‚Äú auf 32 <sub>16 setzte,</sub> sah ich, wie sich der Bestand des ersten Spielers ver√§nderte, und als ich ihn auf 33 <sub>16 setzte,</sub> ver√§nderte ich das Leben des zweiten Spielers. </p><br><p>  Der langweiligste und routinem√§√üigste Teil der Arbeit ist erledigt.  Mit der Schaltfl√§che "√úberwachen" k√∂nnen Sie dem zur √úberwachung der Werte erstellten Fenster "RAM-√úberwachung" eine Adresse hinzuf√ºgen. In meinem Fall, damit sich der Computer an die von mir ben√∂tigten Adressen erinnert, ist mein Speicher voller L√∂cher, die ich vergessen werde.  Diese Variablen werden √ºbrigens im statischen Speicher des Emulators gespeichert. Sobald Sie sie gefunden haben, k√∂nnen Sie sie jederzeit verwenden, ohne bef√ºrchten zu m√ºssen, das Spiel, den Emulator und sogar den Computer neu zu starten. </p><br><p>  In der zweiten Phase m√ºssen Sie nach Funktionen / Unterprogrammen / Codebl√∂cken suchen (unterstreichen Sie Ihren Favoriten), die diese Werte √§ndern.  Wenn das Spiel nicht von Dummk√∂pfen erstellt wurde, sondern zu Beginn des Spiels des Lebens, erhalten beide Spieler eine Unterroutine, aber ohne dies vorher zu wissen, werden solche Dinge am besten √ºberpr√ºft.  Zu diesem Zweck ist im Emulator ein Debugger eingebaut, das Fenster "Debugger". </p><br><p><img src="https://habrastorage.org/webt/ek/a-/lb/eka-lbd4prql2whcx0_ig0j7fvq.png"></p><br><p>  Und dies ist wahrscheinlich das schwierigste Fenster im Emulator.  Formal kann es in zwei Teile unterteilt werden: Ein gro√ües Feld links zeigt den gesamten Inhalt des Speichers, der ihn in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Opcodes</a> mit Parametern / Argumenten aufteilt, und schreibt entsprechende Mnemoniken in der N√§he.  Und in der rechten H√§lfte wird sich der Teufel auf den ersten Blick das Bein brechen.  Obwohl es nichts Kompliziertes gibt, m√ºssen Sie nur alles sorgf√§ltig lesen und, wenn m√∂glich, daran denken.  Hier interessiert mich vor allem das Feld "Haltepunkte", in dem Sie √ºber die Schaltfl√§che "Hinzuf√ºgen" Haltepunkte zu den Adressen hinzuf√ºgen k√∂nnen.  Um herauszufinden, welche Anweisungen Daten an diese Adressen schreiben, habe ich das Kontrollk√§stchen "Schreiben" aktiviert. </p><br><p><img src="https://habrastorage.org/webt/k9/3s/9g/k93s9gnzqx3a5s51mu-n87xbrvs.png"></p><br><p>  Das Setup ist fertig. </p><br><p>  Sie k√∂nnen das Spiel neu starten und sehen, welche Anweisungen, von welchen Unterroutinen und welche Werte an diese Adresse geschrieben werden.  Wenn Sie daran denken, dass ich daran interessiert bin, eine Zwei an diese Adresse zu schreiben, k√∂nnen Sie alle Unterprogramme, die dort Nullen schreiben, ignorieren.  Um das Programm nach dem Stoppen fortzusetzen, klicken Sie im Debugger-Fenster auf die Schaltfl√§che "Ausf√ºhren". </p><br><p>  Und schlie√ülich ein interessanter Code. </p><br><table><thead><tr><th>  Adresse </th><th>  Opcode </th><th>  Mnemonik </th><th>  Argumente </th><th>  A. </th><th>  X. </th><th>  Y. </th></tr></thead><tbody><tr><td><del>  C2E7 </del></td><td><del>  85 39 </del></td><td><del>  STA </del></td><td><del>  $ 0039 </del></td><td>  ?? </td><td><del>  00 </del></td><td>  ?? </td></tr><tr><td>  C2E9 </td><td>  A9 02 </td><td>  Lda </td><td>  # $ 02 </td><td>  ?? </td><td>  00 </td><td>  ?? </td></tr><tr><td>  C2EB </td><td>  A4 24 </td><td>  LDY </td><td>  $ 0024 </td><td>  02 </td><td>  00 </td><td>  00 </td></tr><tr><td>  C2ed </td><td>  F0 02 </td><td>  BEQ </td><td>  $ C2f1 </td><td>  02 </td><td>  00 </td><td>  00 </td></tr><tr><td>  C2EF </td><td>  A9 1D </td><td>  Lda </td><td>  # $ 1D </td><td>  02 </td><td>  00 </td><td>  00 </td></tr><tr><td>  C2f1 </td><td>  95 32 </td><td>  STA </td><td>  $ 32, X. </td><td>  02 oder 1D </td><td>  00 </td><td>  00 </td></tr><tr><td>  C2f3 </td><td>  CA. </td><td>  Dex </td><td></td><td>  02 oder 1D </td><td>  00 </td><td>  00 </td></tr><tr><td>  C2f4 </td><td>  10 F3 </td><td>  Bpl </td><td>  C2E9 </td><td>  02 oder 1D </td><td>  Ff </td><td>  00 </td></tr><tr><td><del>  C2F6 </del></td><td><del>  A9 C8 </del></td><td><del>  Lda </del></td><td><del>  # $ C8 </del></td><td><del>  02 oder 1D </del></td><td><del>  Ff </del></td><td><del>  00 </del></td></tr><tr><td><del>  C2f8 </del></td><td><del>  85 3C </del></td><td><del>  STA </del></td><td><del>  $ 003C </del></td><td><del>  02 oder 1D </del></td><td><del>  Ff </del></td><td><del>  00 </del></td></tr></tbody></table><br><p>  Die durchgestrichenen Anweisungen interessieren mich nicht, weil  Sie arbeiten bereits mit v√∂llig unterschiedlichen Adressen.  Und ich werde die Anweisungen, die mich interessieren, im Detail betrachten.  Die Adresse C2E9 <sub>16</sub> enth√§lt den Opcode A9 <sub>16</sub> , der den Wert in Register A schreibt. Sie entspricht der lesbaren Abk√ºrzung LDA "LoaD A", was das Schreiben in Register A bedeutet. Diese Abk√ºrzung entspricht acht Opcodes, und speziell A9 <sub>16</sub> bedeutet, dass der Wert selbst in das n√§chste Byte geschrieben wird .  Zus√§tzlich zum Wert selbst kann die Adresse √ºbertragen werden, von der der Wert √ºbernommen werden soll.  Sie k√∂nnen hier mehr √ºber Opcodes, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> √ºber Mnemonik (f√ºr Menschen lesbare Abk√ºrzungen) lesen und diese Assemblersprache <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ausf√ºhrlich studieren (obwohl warum?).  Jetzt k√∂nnen Sie mit Wissen den Rest der Anweisungen entschl√ºsseln.  Nur der Debugger im Emulator ist etwas unaufrichtig und in der Adresse C2EB <sub>16</sub> wird der LDY $ 0024-Befehl angezeigt. Tats√§chlich ist dieser Befehl jedoch als LDY $ 24 geschrieben. Beide Datens√§tze bedeuten dasselbe, aber der erste, der auf den Opcode √ºbertragen wird, ben√∂tigt ein Byte mehr und sieht aus wie AC 24 00. Es kann auch Fragen zu der Anweisung in C2ED <sub>16 geben</sub> . Diese Verzweigungsanweisung funktioniert, wenn sie gleich ist, aber nichts wird vorher verglichen. Wie funktioniert sie?  Eigentlich sehr einfach, liest dieser Befehl nur das Null-Flag des Statusregisters.  Die Vergleichsanweisung in der Assemblierung subtrahiert einen Wert von einem anderen, ohne das Ergebnis irgendwo zu schreiben, sondern √§ndert die Flags des Statusregisters.  Weil Verzweigungsbefehle nur Flags lesen.  In diesem Fall setzt der LDY-Befehl von der Adresse C2EB <sub>16</sub> in das Register Y die Null, die zuvor in die Adresse 0024 <sub>16 geschrieben wurde,</sub> und setzt die Einheit in das Null-Flag, da das Ergebnis der letzten Operation Null war.  Und der Verzweigungsbefehl ignoriert alles au√üer dem Zustand des Null-Flags und springt, wenn er eine Einheit sieht, vom Beginn des darauf folgenden Befehls 2 Bytes vorw√§rts, dh zur Adresse C2EF <sub>16</sub> + 2 <sub>16</sub> = C2F1 <sub>16</sub> .  An dieser Adresse in Register A ist 2 <sub>16</sub> oder 1D <sub>16</sub> , abh√§ngig davon, ob der Sprung gemacht wurde oder nicht, der Sprung war und daher gibt es eine Zwei im Register.  Es f√§llt in die Adresse 32 <sub>16, die</sub> im Wert des Registers X einger√ºckt ist, dh 0032 <sub>16</sub> + 00 <sub>16</sub> = 0032 <sub>16</sub> .  Der folgende DEX-Befehl reduziert den Wert des Registers X um 1, indem der Wert FF <sub>16 darauf geschrieben wird</sub> .  Denken Sie daran, dass in der 8-Bit-Arithmetik mit Vorzeichen die Werte (00 <sub>16</sub> - 7F <sub>16</sub> positiv und die Werte (80 <sub>16</sub> - FF <sub>16</sub> ) negativ sind. Dies ist das Vorzeichen der Zahl, die der BPL-Befehl √ºberpr√ºft, und wenn die Zahl positiv ist, wird die Ausf√ºhrung an C2E9 <sub>16 zur√ºckgegeben.</sub> F3 <sub>16</sub> = - 13 <sub>10</sub> = -D <sub>16</sub> , C2F6 <sub>16</sub> - D <sub>16</sub> = C2E9 <sub>16.</sub> Hier k√∂nnen wir annehmen, dass irgendwo fr√ºher im Code im Register X 0 geschrieben wurde, wenn das Spiel f√ºr einen Spieler ist, oder 1, wenn das Spiel f√ºr zwei ist. Offensichtlich hat der zweite Spieler bereits seine erhalten Teil der Leben auf der vorherigen Iteration des Zyklus (C2E9 <sub>16</sub> - C2F4 <sub>16</sub> ), und der Adressmonitor zeigt dies, an Adresse 0033 <sub>16 gibt</sub> es eine Zwei.  Der Code oben in der Adresse C2DD <sub>16</sub> zeigt den Datensatz im Register X des Werts von der Adresse 0022 <sub>16 an</sub> . Wenn Sie einen Haltepunkt zum Schreiben an diese Adresse festlegen und pr√ºfen, wann und was dort geschrieben ist, k√∂nnen Sie sehen, dass sich der Wert in dieser Adresse wirklich auf 0 √§ndert, wenn der Spieler alleine ist und 1, wenn es zwei Spieler gibt. Ich habe diesen Moment erkannt. Jetzt m√ºssen Sie den Datensatz herausfinden. Eine offensichtliche Entscheidung, das Argument 99 <sub>10</sub> = 63 <sub>16</sub> in Adresse C2E9 <sub>16</sub> an den A9-Opcode zu √ºbergeben, aber wenn der Spieler den Konami-Code eingibt? </p><br><p>  Ich musste einen schwierigeren Weg gehen. </p><br><p>  Die Idee ist folgende: Der von Konami eingegebene Code kann nicht abgebrochen werden. Dies bedeutet, dass Sie das Spiel davon √ºberzeugen k√∂nnen, dass der Code bereits eingegeben wurde, und den Wert 99 <sub>10</sub> in das Argument der Anweisung von der Adresse C2EF <sub>16</sub> eingeben k√∂nnen, die funktioniert, wenn der Code von Konami eingegeben wird.  Es ist mir also garantiert, dass beide Spieler 99 99 freie Leben eingeben, unabh√§ngig davon, ob sie den Code eingegeben haben oder nicht.  Es klingt einfach genug und ich begann mit der Analyse der Adresse 0024 <sub>16</sub> , von wo aus das Spiel ‚ÄûKonami-Code‚Äú liest, den Haltepunkt f√ºr das Schreiben an diese Adresse festlegte und zum n√§chsten Codeblock gelangte. </p><br><table><thead><tr><th>  Adresse </th><th>  Opcode </th><th>  Mnemonik </th><th>  Argumente </th><th>  A. </th><th>  X. </th><th>  Y. </th></tr></thead><tbody><tr><td>  F95b </td><td>  91 00 </td><td>  STA </td><td>  ($ 00), Y. </td><td>  00 </td><td>  ?? </td><td>  24 oder 23 ... oder FF </td></tr><tr><td>  F95d </td><td>  88 </td><td>  DEY </td><td></td><td>  00 </td><td>  ?? </td><td>  24 oder 23 ... oder FF </td></tr><tr><td>  F95E </td><td>  C0 FF </td><td>  CPY </td><td>  $ Ff </td><td>  00 </td><td>  ?? </td><td>  23 oder 22 ... oder FF </td></tr><tr><td>  F960 </td><td>  D0 F9 </td><td>  Bne </td><td>  $ F95B </td><td>  00 </td><td>  ?? </td><td>  23 oder 22 ... oder FF </td></tr></tbody></table><br><p>  Nachdem ich es sorgf√§ltig gelesen hatte, kam ich zu dem Schluss, dass dieses Unterprogramm den Adressbereich aufhebt, was bedeutet, dass es nicht zu mir passt.  Nichts ber√ºhrte diese Adresse im Player-Auswahlbildschirm.  Wo der "Konami-Code" selbst das Ger√§t unter dieser Adresse notiert hat.  Daher schl√§gt das einfache √Ñndern des Werts in der Adresse 0024 <sub>16</sub> fehl.  Dann k√∂nnen Sie den Anweisungen etwas mehr Aufmerksamkeit schenken: </p><br><table><thead><tr><th>  Adresse </th><th>  Opcode </th><th>  Mnemonik </th><th>  Argumente </th><th>  A. </th><th>  X. </th><th>  Y. </th></tr></thead><tbody><tr><td>  C2EB </td><td>  A4 24 </td><td>  LDY </td><td>  $ 0024 </td><td>  02 </td><td>  00 </td><td>  00 </td></tr></tbody></table><br><p>  Wie oben geschrieben, schreibt es den Wert von der Adresse 0024 <sub>16</sub> in das Register Y und es ist bereits klar, dass es nicht m√∂glich ist, den Wert dieser Adresse leicht zu √§ndern.  Warum √§ndern Sie dann nicht den Wert des Registers selbst?  √Ñndern Sie dazu den Opcode A4 <sub>16</sub> in den Opcode A0 <sub>16</sub> und √ºbergeben Sie einen anderen Wert als Null mit einem Argument.  Kaum gesagt als getan, aber dann entsteht ein anderes Problem.  Nachdem ich den "HEX-Editor" ge√∂ffnet habe (Sie tun dies nicht √ºber den Debugger, Sie m√ºssen das Fenstermen√º verwenden), kann ich diesen Opcode nicht √§ndern.  Die Erkl√§rung ist sehr einfach, das Spiel verwendet das sogenannte Mapping.  Technologie, mit der Sie Konsolenspiele mit einem gr√∂√üeren Volumen ausf√ºhren k√∂nnen, als die Konsole akzeptieren kann.  Es funktioniert, indem die realen ROM-Adressen durch die Adressen ersetzt werden, die dem Prozessor zur Verf√ºgung stehen, und die Teile √ºbergeben werden, die das Spiel gerade ben√∂tigt, um es zu verarbeiten.  Das hei√üt, die Adresse, die ich im Debugger sehe, stimmt nicht mit der tats√§chlichen Adresse im ROM √ºberein, und ich habe keine Ahnung, wo ich nach dieser Anweisung im ROM suchen soll.  In diesem Moment beginnt der ausgew√§hlte Emulator zu leuchten, da ich jetzt nur noch mit der rechten Maustaste auf den Opcode klicken und "Hier in ROM-Datei gehen" ausw√§hlen muss. Dadurch werde ich zu derselben Anweisung im ROM selbst weitergeleitet, in die ich den Opcode sicher √§ndern kann neue Bedeutung.  Genauso habe ich das Argument der Anweisung ge√§ndert: </p><br><table><thead><tr><th>  Adresse </th><th>  Opcode </th><th>  Mnemonik </th><th>  Argumente </th><th>  A. </th><th>  X. </th><th>  Y. </th></tr></thead><tbody><tr><td>  C2EF </td><td>  A9 1D </td><td>  Lda </td><td>  # $ 1D </td><td>  02 </td><td>  00 </td><td>  00 </td></tr></tbody></table><br><p>  Von 1D <sub>16</sub> bis 63 <sub>16</sub> .  Nat√ºrlich speichere ich das Ergebnis in einer neuen Datei, denn wenn ich nicht den gesamten Schutz des Spiels umgangen habe, habe ich nur das ROM kaputt gemacht und m√∂chte nicht ohne ein funktionierendes Original zur√ºckbleiben. </p><br><p>  PS: Ich entschuldige mich f√ºr das mehrteilige und gr√ºndliche, vielleicht zu gr√ºndliche Kauen.  Bereit, Kritik, Kommentare und Korrekturen anzunehmen.  Vielen Dank, dein Victor. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de447758/">https://habr.com/ru/post/de447758/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de447744/index.html">Elbrus besteigen - Aufkl√§rung im Kampf. Technischer Teil 2. Interrupts, Ausnahmen, Systemtimer</a></li>
<li><a href="../de447750/index.html">Neue Prozessoren f√ºr Rechenzentren - wir analysieren die Ank√ºndigungen der letzten Monate</a></li>
<li><a href="../de447752/index.html">Wie wir CAD COMPASS-3D ‚Üí Teil 3 √ºbertaktet haben</a></li>
<li><a href="../de447754/index.html">Men√ºleisten-App f√ºr macOS</a></li>
<li><a href="../de447756/index.html">Neuer Gartner Quadrant f√ºr Application Monitoring Solutions (APM)</a></li>
<li><a href="../de447786/index.html">Hintergrund: Robot Fedor, was bist du?</a></li>
<li><a href="../de447788/index.html">Wir haben einen Nachrichtenaggregator mit Schwerpunkt auf Kryptow√§hrungen erstellt - intwt.com</a></li>
<li><a href="../de447790/index.html">Lernen, Waves Smart-Vertr√§ge auf RIDE und RIDE4DAPPS zu schreiben. Teil 1 (Multiuser Wallet)</a></li>
<li><a href="../de447792/index.html">Dunkle Muster und das Gesetz: Wie US-Regulierungsbeh√∂rden versuchen, die Produktmechanik zu kontrollieren und den Einfluss von Technologieunternehmen zu verringern</a></li>
<li><a href="../de447794/index.html">√úber einfache Dinge, kompliziert. Ein Brief eines Chemikers an einen 3D-Drucker. L√∂sungsmittel f√ºr Kunststoffe und Schutz gegen diese</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>