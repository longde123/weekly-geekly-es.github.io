<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚åõÔ∏è üí∑ üí≥ Confer√™ncia DEFCON 18. Voc√™ gastou todo esse dinheiro, mas eles continuam tendo voc√™. Parte 2 üêì üôÖüèø üö•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Confer√™ncia DEFCON 18. Voc√™ gastou todo esse dinheiro, mas eles continuam tendo voc√™. Parte 1 

 Eu uso uma coisa interessante de Gary O'Leary-Steele ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Confer√™ncia DEFCON 18. Voc√™ gastou todo esse dinheiro, mas eles continuam tendo voc√™. Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/432496/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Confer√™ncia DEFCON 18. Voc√™ gastou todo esse dinheiro, mas eles continuam tendo voc√™.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> <br><br>  Eu uso uma coisa interessante de Gary O'Leary-Steele chamada Unicod-fun, que √© muito boa para um utilit√°rio escrito em Ruby.  Voc√™ sabe que minhas ferramentas devem ser escritas exclusivamente em Python, ent√£o traduzimos isso para Python.  Agora podemos aplicar uma codifica√ß√£o diferente para ferramentas projetadas para atacar aplicativos da Web e que fazem parte da estrutura WAF. <br><br><img src="https://habrastorage.org/webt/fu/vw/kz/fuvwkztjmn8ydmom8nbow8z1owu.jpeg"><br><br>  A estrutura WAF inclui WAF Fun e WAFWOOF e opera com base em multicodifica√ß√£o e informa√ß√µes recebidas do proxy, e pode funcionar atrav√©s de proxies Tor ou GLib no processo de fazer todas essas coisas diferentes.  Portanto, isso √© realmente √∫til para obter as informa√ß√µes necess√°rias. <a name="habracut"></a><br><br>  Conversamos sobre atacar sites por meio do Tor; falei sobre isso em detalhes no ano passado.  O slide a seguir mostra os scripts para esse ataque: <br><br><pre><code class="plaintext hljs">alias hide='su -c "/home/j0e/dumbscripts/hide.sh"' $ cat /home/j0e/dumbscripts/hide.sh #!/bin/bash # Startup privoxy /usr/sbin/privoxy /etc/privoxy/config # Start Tor /usr/bin/tor $ hide</code> </pre> <br>  Tamb√©m deve ser mencionado o plugin, que √© incorporado como um bot√£o Tor no navegador Firefox. <br>  N√£o sei se algum de voc√™s trabalhou com o DotNet Defender WAF usado por essas malditas empresas.  Descobrimos que ele √© capaz de proteger o servidor contra inje√ß√£o de SQL.  No slide, voc√™ v√™ o resultado da gera√ß√£o de um ataque de script entre sites - o dotDefender bloqueou nossa solicita√ß√£o. <br><br><img src="https://habrastorage.org/webt/p9/zg/eq/p9zgeqmu6a5a_nvjpj-1cdrr4j8.jpeg"><br><br>  Em seguida, voc√™ v√™ uma tentativa de contornar esse tipo de prote√ß√£o usando a inje√ß√£o SQL sem nenhuma codifica√ß√£o.  E o DotNet Defender n√£o podia fazer nada a respeito. <br><br><img src="https://habrastorage.org/webt/cr/_g/yz/cr_gyznstlcjni0vg8jhi04zwqw.jpeg"><br><br>  O fato √© que ele bloqueia apenas certas inje√ß√µes de SQL, contendo principalmente a palavra selecionar.  Este √© o auge da tecnologia de seguran√ßa - bloqueie a palavra selecionar.  Se voc√™ estiver criptografando em Unicode, poder√° passar por esse defensor, para que eles corrigissem essa vulnerabilidade no ano passado, mas n√£o fizeram nada contra outros padr√µes de codifica√ß√£o.  Portanto, se voc√™ usar uma codifica√ß√£o diferente, poder√° ignorar facilmente o DotNet Defender.  Isso me permitiu redefinir o hash da senha do administrador sem nenhuma codifica√ß√£o. <br><br><img src="https://habrastorage.org/webt/di/ct/x_/dictx_cvz2dqmc9fax3fis4po8o.jpeg"><br><br>  Sinto muito, pessoal do DotNet Defender, mas voc√™ precisa consertar suas coisas. <br><br>  Ent√£o, o importante que consegui fazer foi penetrar na LAN via Internet.  Isso √© bastante dif√≠cil, mas ainda √© poss√≠vel.  Por isso, usei uma ferramenta simples no Perl, tive que suport√°-la, apesar de ser um seguidor ardente do Python.  Funciona muito bem, gra√ßas a isso voc√™ pode carregar a interface de rede shell netcat ou meterpreter atrav√©s de um t√∫nel DNS.  Este √© realmente um √≥timo projeto e uma nova atualiza√ß√£o foi lan√ßada recentemente. <br><br><img src="https://habrastorage.org/webt/fo/2j/je/fo2jjei6arth5jmuvcvhei8bx60.jpeg"><br><br>  A seguir, √© uma maneira de injetar SQL usando a ferramenta Mapa do SQL.  Essa ferramenta, escrita em Python, permite fazer o download do os-shell ou do meterpreter.  Ele tamb√©m possui seu pr√≥prio sistema operacional, com o qual voc√™ pode mexer.  Assim, voc√™ pode inserir os comandos necess√°rios para controlar o sistema, configurar o netcat ou entrar diretamente no shell meterpreter, por isso uso essa ferramenta com bastante frequ√™ncia. <br><br>  E agora vamos passar para material mais importante.  O nome oficial desta parte do relat√≥rio √© n√£o se deixe enganar!  N√£o seja um tigre! <br><br><img src="https://habrastorage.org/webt/ef/rp/ku/efrpkusaeqpcsppcp1ibbjbkjze.jpeg"><br><br>  Tudo o que fa√ßo √© n√£o ser pego.  Quem √© o tigre?  Ele √© um punk, punk, quem concorda comigo?  Se eu valho um bilh√£o de d√≥lares e voc√™ √© uma estrela porn√¥, sabe que tenho pessoas que est√£o prontas para mat√°-lo, se voc√™ deixar escapar.  Voc√™ concorda comigo? <br><br>  Portanto, o mais importante para n√£o ser pego √© definir filtros de intrus√£o.  Muitas pessoas tentam op√ß√µes diferentes.  O primeiro √© a filtragem do lado do cliente.  Isso √© ruim.  Isso √© ruim.  E mais cinco vezes - isso √© ruim!  N√£o use scripts JavaScript ou VB ou qualquer coisa do lado do cliente para tentar filtrar a entrada que chega a um aplicativo importante.  Ou, se voc√™ usar uma estrutura como J2EE que cria esses JavaScripts, precisar√° escrever um c√≥digo no servidor que verifique se tudo o que veio do cliente est√° bem. <br><br><img src="https://habrastorage.org/webt/we/-6/yp/we-6ypbesjhfnnafos_sshfsb5e.jpeg"><br><br>  Verifique o c√≥digo-fonte quanto a par√¢metros que passam pelo site que podem ser filtrados usando JavaScript ou script VB e exclua-os.  Salve a p√°gina localmente e exclua os scripts JavaScript ou VB apropriados ou use um proxy local, como Paros, Web Scarab, Burp Suite. <br><br>  Se voc√™ acabou de fazer esse neg√≥cio com uma pessoa, lembre-se de que tudo de ruim acontece na m√°quina do cliente, portanto, voc√™ precisa ensinar essas pequenas li√ß√µes aos desenvolvedores.  Eu digo a eles: "OK, desenvolvedor, quero que voc√™ pense sobre isso, porque voc√™ colocar√° toda essa seguran√ßa em um laptop hacker!"  Voc√™ acha que isso est√° certo?  Portanto, pessoal, n√£o use a filtragem no lado do cliente! <br><br>  A seguir est√£o as restri√ß√µes da lista negra.  Muitas vezes, as pessoas tentam restringir o uso de caracteres especiais.  Bem, digamos que voc√™ n√£o pode enviar um sinal de igual, mais ou menos sinais e assim por diante. <br><br><img src="https://habrastorage.org/webt/lh/gp/jw/lhgpjwttfy06fwaobmcgekqkgms.jpeg"><br><br>  Mas com rela√ß√£o √† sintaxe SQL, voc√™ n√£o precisa indicar que 1 = 1.  Por exemplo, na solicita√ß√£o http: // [site] /page.asp?id=2 ou 1 como 1, voc√™ geralmente pode evitar o uso do sinal de igual e do operador ou substituindo-os na barra de endere√ßo pelas palavras "e" e " como ", por exemplo" e 1 como 1 "," e 1 como 2 "e assim por diante: <br><br>  http: // [site] /page.asp?id=2 e 1 curtida 1 <br>  http: // [site] /page.asp?id=2 e 1 como 2 <br><br>  De fato, as inje√ß√µes de SQL na maioria dos casos n√£o usam caracteres especiais. <br>  Em seguida, considere o IDS baseado em assinatura.  Diga-me, qual de voc√™s tem uma mesa dessas no mouse pad?  Se voc√™ tiver uma tabela de c√≥digos decimais ASCII ou HEX, rasgue-a com este tapete. <br><br><img src="https://habrastorage.org/webt/ci/su/0g/cisu0gqplsuhv1jcsqb86pbdh88.jpeg"><br><br>  O que eu aprendi ontem √† noite quando estava b√™bado na palmilha √© que o ASCII realmente funciona!  Portanto, quando voc√™ estiver lidando com o IDS e receber um alerta TCP de qualquer IP, de qualquer porta, chegando √† porta do nosso servidor da Web, procure um tipo de dados especial 1 = 1.  Vamos pensar, quantos hackers conseguiram entender isso?  Vamos pensar sobre isso. <br><br><img src="https://habrastorage.org/webt/xe/mp/ua/xempuan-tcnciw18noczamu2kxg.jpeg"><br><br>  2 √© 2?  Quarenta on√ßas igual a quarenta on√ßas?  1 = 1 n√£o √© a √∫nica maneira de criar uma solicita√ß√£o para a qual voc√™ pode obter uma resposta "true", voc√™ pode enviar uma solicita√ß√£o do tipo "2 = 2", "1 &lt;2" e assim por diante.  Se as assinaturas s√£o t√£o f√°ceis de obter, por que elas s√£o necess√°rias?  A resposta √© para ferramentas autom√°ticas e crian√ßas. <br><br>  O slide a seguir mostra minha vis√£o IDS baseada em assinatura - este √© o goleiro que pegou uma bola enquanto cem bolas voavam pelo gol. <br><br><img src="https://habrastorage.org/webt/a0/mn/vo/a0mnvo3pk1eingnhy52hhcsqcus.jpeg"><br><br>  O utilit√°rio pentester chamado sqlmap ignora essa prote√ß√£o que eu mostrei por padr√£o, e tamb√©m est√° escrito em Python! <br><br>  Uma coisa semelhante √© mostrada no pr√≥ximo slide.  Aqui, para uma solu√ß√£o alternativa, usei a t√©cnica 2 ou 2 e selecionei o usu√°rio. <br><br><img src="https://habrastorage.org/webt/3r/vk/_b/3rvk_blgnuuu-w8ntjwqmuwgrbm.jpeg"><br><br>  Nesse caso, apresentei toda a express√£o em c√≥digo hexadecimal, mas voc√™ pode faz√™-lo em Unicode, utf7, utf-8, utf-16, em qualquer codifica√ß√£o, n√£o importa, esse m√©todo ainda funciona e permite que voc√™ ignore muitas WAFs. <br><br>  H√° outro produto no campo do PHP - esse √© o IDS do PHP, acho legal que agora eles tenham uma demonstra√ß√£o de seus recursos no site.  Se voc√™ for para demo.phpids.net, poder√° tentar o teste de fuma√ßa.  Este Smoketest permite que voc√™ tente todas as suas inje√ß√µes de SQL, scripts entre sites ou ataques a aplicativos da Web e mostra quais assinaturas esses ataques detectam, para que voc√™ possa continuar praticando kung fu na Internet. <br><br><img src="https://habrastorage.org/webt/5b/o2/ig/5bo2ig31xb7vefbhhzve4gogs-0.jpeg"><br><br>  Por exemplo, voc√™ pode aplicar algum efeito, obter uma assinatura, tentar outra, obter outro conjunto de assinaturas e assim por diante.  Voc√™ continua trabalhando e trabalhando at√© que esse garoto mau diga que est√° tudo em ordem, contornou a defesa e nada mais "fumou" voc√™.  Ent√£o, voc√™ aprimora suas habilidades de kung fu at√© encontrar algo que possa contornar a maioria das regras. <br><br><img src="https://habrastorage.org/webt/sb/za/ns/sbzansb4oyj8fz9thrazk418jtc.jpeg"><br><br>  Agora, o Modsecurity se uniu ao PHP IDS e eles t√™m seu pr√≥prio teste de fuma√ßa.  Eu n√£o o adicionei aos meus slides devido a uma ressaca matinal, mas direi que eles conseguiram combinar a regra de Modsecurity com a regra de IDS do PHP definida em uma interface da web, ent√£o basta inserir suas explora√ß√µes at√© ignorar todas as regras.  Em resumo, o IDS baseado em assinatura √© apenas uma piada est√∫pida.  Pelo menos eu n√£o tinha clientes que conheciam esses produtos, mas eles os compraram de qualquer maneira.  Mas essa √© uma hist√≥ria um pouco diferente. <br><br>  Entendo perfeitamente aqueles que s√£o analistas do IDS e WAF.  Sei que falo muito, mas sinto sua dor porque costumava fazer seu trabalho, e n√£o h√° bebida suficiente no mundo para suportar o trabalho que voc√™ faz. <br><br><img src="https://habrastorage.org/webt/ad/b-/ok/adb-oktonu-m15srcmq-zh4k6di.jpeg"><br><br>  Portanto, a grande maioria das coisas que acabei de mostrar √© feita atrav√©s da rede.  Como eu disse, voc√™ interage com o IDS e o IPS remotamente, carregando v√°rias explora√ß√µes.  Quantos de voc√™s lidaram com o JBoss, um servidor de aplicativos de c√≥digo aberto, sabe que a maioria dos arquivos √© baixada usando-o.  A inje√ß√£o de SQL simplesmente codifica alguns caminhos que eu posso acessar, o que geralmente me d√° acesso ao shell e √† DMZ, e tento trabalhar a partir da√≠. <br><br>  Depois disso, fa√ßo uma coisa incr√≠vel e envio um email para o cliente, porque funciona.  Seu lado do cliente com a estrutura Metasploit parece maravilhoso, ent√£o voc√™ pode escolher tudo que suporta o navegador, PDF, ActiveX ou explora√ß√£o de arquivos mais recente, verifique se ele inverte o shell TCP, ap√≥s o que o Metasploit transforma essa mensagem em HTTPS.  Tudo est√° √≥timo, a √∫nica coisa ruim √© que est√° escrito em Ruby.  Mas a ferramenta Python SET √© um n√≠vel totalmente novo de pentesting. <br><br><img src="https://habrastorage.org/webt/nn/zn/h4/nnznh4uhjpij9ty0hrby0a0-dyo.jpeg"><br><br>  Esta ferramenta permite que voc√™ fa√ßa coisas incr√≠veis.  O SET foi criado por David Kennedy, do grupo ReLic, vamos aplaudi-lo por isso.  √â exatamente disso que precisamos para ilustrar a ess√™ncia do que est√° acontecendo.  Os hackers n√£o examinam mais as portas da sua rede, se n√£o est√£o tentando fazer isso, ent√£o, de qualquer forma, provavelmente n√£o v√£o assumir o controle.  Os hackers tentam fazer o download de algo malicioso usando email ou algo assim. <br><br>  Portanto, √© necess√°rio que o cliente entenda que, durante o teste, √© necess√°rio testar seu sistema quanto √† resist√™ncia aos efeitos de sites fraudulentos, phishing e similares.  Especialmente se voc√™ se deparar com um cliente que eu tinha, ele se levantou e disse: "OK, Joe, n√£o vou pagar por conselhos para ensinar aos funcion√°rios da empresa como usar a rede corretamente".  Portanto, voc√™ deve reproduzir todas as amea√ßas reais do lado do cliente para que ele entenda o quanto isso √© s√©rio. <br><br>  Portanto, o pr√≥ximo est√°gio do teste √© o Ataque Pivot, ou "ataque de virada", no qual um host hackeado √© usado para atacar outros hosts.  O ‚ÄúTurning Attack‚Äù na LAN √© uma parte importante do pentesting do lado do cliente. <br><br><img src="https://habrastorage.org/webt/i0/a3/ae/i0a3aeevv25jnxgqfm6lktiwjso.jpeg"><br><br>  O Metasploit oferece suporte ao Pivot e, se eu n√£o puder fazer o download do arquivo .cab com todos os arquivos execut√°veis ‚Äã‚Äãque foram estaticamente compilados com anteced√™ncia, n√£o ser√° necess√°rio instalar nada.  Eu uso isso no meu workshop para fazer um lan√ßamento do Pivot em uma LAN, para que eu "pule" nela e comece a me mover a partir da√≠. <br><br>  A pr√≥xima coisa que considero s√£o solu√ß√µes gerais de seguran√ßa para a LAN.  Essa falta de DHCP, ou seja, endere√ßos IP est√°ticos, endere√ßos MAC DHCP, seguran√ßa de portas, solu√ß√µes NAC, s√£o coisas que me tornam incapaz de acessar a rede.  Ent√£o, o que fa√ßo se n√£o conseguir acessar a rede? <br><br>  Se o DHCP estiver ausente e os endere√ßos IP forem est√°ticos, eu roubo um endere√ßo IP v√°lido do host.  Meus filhos me ensinaram isso porque endere√ßos IP est√°ticos s√£o uma coisa incrivelmente ineficiente.  Espero que voc√™ n√£o tenha clientes que digam que v√£o impedir que hackers usem endere√ßos IP est√°ticos.  Eu fa√ßo o mesmo na presen√ßa de endere√ßos MAC DHCP - eu roubo um endere√ßo MAC v√°lido.  Se tivermos uma porta segura, tamb√©m roubo um endere√ßo IP ou MAC v√°lido.  Por fim, se houver solu√ß√µes NAC, voc√™ pode simplesmente pegar o computador, entreg√°-lo e verificar seu endere√ßo MAC ou tentar encontrar exce√ß√µes no protocolo 802.1x, ou seja, dispositivos que n√£o suportam o 802.1x, como impressoras, copiadoras, racks de CD-ROM e telefones VoIP. <br><br>  Todos esses m√©todos funcionam para mim, e os melhores dispositivos para penetrar nas LANs s√£o os telefones VoIP.  Eu tinha muitos clientes que usavam a autoriza√ß√£o autom√°tica de telefones VoIP na rede de voz com base no endere√ßo MAC e na etiqueta VLAN.  Assim, voc√™ pode criar uma "caixa" do Linux semelhante a um telefone VoIP e colidir com uma rede LAN de voz virtual, ignorando as solu√ß√µes NAC. <br><br>  A maioria dos telefones dos meus clientes precisava ser conectada diretamente ao centro de software do CallManager na DMZ interna, porque todos os centros do CallManager deveriam funcionar com o restante dos servidores, portanto minha recep√ß√£o funcionou bem em toda a rede. <br><br>  Existe uma coisa chamada Voip Hopper que automatiza o processo de penetra√ß√£o em uma VLAN de voz.  Voc√™ pode baixar esse exploit do voiphopper.sourceforge.net e us√°-lo para "pular" diretamente na VLAN. <br><br>  Quando entro na rede, geralmente descubro quem √© o administrador do dom√≠nio.  No slide, voc√™ v√™ uma lista de comandos que eu uso: set - para descobrir informa√ß√µes sobre o dom√≠nio e os usu√°rios, net view - para ver computadores da rede, dom√≠nios de usu√°rios e outros dom√≠nios, net localgroup - para encontrar grupos locais de computadores e assim por diante. <br><br><img src="https://habrastorage.org/webt/9a/sk/sc/9askscguc6uavr4wuhu1vyl01na.jpeg"><br><br>  Fa√ßo isso para descobrir quem e em quais grupos trabalha na rede para tentar atacar seus computadores.  Melhor ainda, se eu conseguir um administrador local ou sistema local, a pr√≥xima coisa que fa√ßo √© verificar a rede para determinar quem √© o usu√°rio espec√≠fico deste computador. <br><br><img src="https://habrastorage.org/webt/2n/2w/kx/2n2wkxxigbhr3c3kdihw9rrg-ow.jpeg"><br><br>  Voc√™ pode usar v√°rios scripts para inspecionar a rede e descobrir onde, em qual m√°quina a ‚Äúcaixa‚Äù do administrador est√° localizada.  Se voc√™ "capturou" um administrador local ou um sistema local, pode "pular" na "caixa" deles e usar o shell pcexec a partir da√≠. <br><br><img src="https://habrastorage.org/webt/fy/wf/kl/fywfklgaif8vw1dsxcuc35g4j_0.jpeg"><br><br>  Depois que pulo para a "caixa", come√ßo a procurar uma maneira de aumentar meus privil√©gios.  Construir privil√©gios √© uma coisa realmente dif√≠cil.  No Windows XP, essas coisas funcionam mesmo com o service pack Sp3, que usa essa linda interface de linha de comando cmd.exe, o que √© √≥timo. <br><br>  Quando pr√©-teste um banco, tive que "matar" o servi√ßo de estrutura da McAfee, que se refere ao sistema de preven√ß√£o de intrus√µes HIPS.  Para isso, usei o comando pskill.exe.  Desabilitei a McAfee, HIPS, o interceptador e o firepm e todos os outros processos iniciados pelo sistema de preven√ß√£o de intrus√µes. <br><br><img src="https://habrastorage.org/webt/hg/zo/j9/hgzoj99riuecwoqodktqspulkre.jpeg"><br><br>  Outra coisa que n√£o tive tempo de mostrar no slide √© que, quando voc√™ desativa a McAfee, primeiro precisa aumentar os privil√©gios, e isso tamb√©m funciona com rela√ß√£o √† prote√ß√£o de pontos de extremidade da Symantec.  O fato √© que, depois que voc√™ "mata" todos esses processos, depois de um tempo, eles come√ßam novamente.  Portanto, voc√™ precisa ‚Äúsoltar‚Äù os arquivos DLL na mem√≥ria para parar de reiniciar a prote√ß√£o.  N√£o postei isso nos slides, mas se voc√™ se lembrar mais tarde, darei a sintaxe para esse truque. <br>  Outra coisa que aprendi sobre a McAfee √© que os arquivos na lista de exclus√£o aparecem com um nome espec√≠fico, n√£o com um hash ou algo semelhante.  Portanto, os arquivos inclu√≠dos na lista de exclus√£o de antiv√≠rus da McAfee n√£o s√£o protegidos contra estouros de buffer e eu usarei esse fato para meus pr√≥prios fins. <br><br>  A seguir, mostramos a "morte" do HIPS como um sistema com o Metasploit.  Agora eles t√™m algo chamado getsystem, ent√£o voc√™ pode simplesmente escrever o Metasploit, o sistema gets e ele o lan√ßar√° diretamente no sistema usando um dos quatro m√©todos: interrompa a prote√ß√£o antiv√≠rus geral, interrompa o HIPS, "mate" os processos da McAfee ou "mate" Processos HIPS. <br><br><img src="https://habrastorage.org/webt/v4/zj/l0/v4zjl0bsdiczwgmjcsfsyz4_x8m.jpeg"><br><br>  A √∫ltima coisa que eu queria mostrar era captura de dom√≠nio. <br><br><img src="https://habrastorage.org/webt/zx/q7/ol/zxq7oldrdrybyhrvhxh55qjwyym.jpeg"><br><br>  Assim que chego √† "caixa" do administrador, uso todos os tokens que roubei e come√ßo a usar seus poderes.  Representando um administrador de dom√≠nio, crio um grupo de usu√°rios e os adiciono ao grupo de administradores.  Para meus prop√≥sitos, isso funciona muito bem. <br><br><img src="https://habrastorage.org/webt/xa/cp/hw/xacphwket5nhebsdpc3kzor_y04.jpeg"><br><br>  Quanto √† prote√ß√£o, tenho de 1 a 2 p√°ginas de documenta√ß√£o sobre prote√ß√£o contra cada um dos ataques de que falei hoje.  Diz como realizar um ataque e como se defender.  Portanto, se voc√™ precisar dessas informa√ß√µes, entre em contato comigo, todos os contatos est√£o no slide. <br><br>  Se n√£o tiver perguntas, terminarei a√≠. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/tJsNu0VRKYY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usu√°rios da Habr em um an√°logo exclusivo de servidores b√°sicos que inventamos para voc√™:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de US $ 20 ou como dividir o servidor?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10 GB DDR4 240 GB SSD de 1 Gbps at√© janeiro de gra√ßa</b> quando pagar por um per√≠odo de seis meses, voc√™ pode fazer o pedido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente n√≥s temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt432496/">https://habr.com/ru/post/pt432496/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt432484/index.html">Global AI & MR Bootcamp Moscou 2018</a></li>
<li><a href="../pt432486/index.html">Por que dirigir um carro √© um desafio, mesmo para a IA</a></li>
<li><a href="../pt432488/index.html">O que eu n√£o gosto em C e C ++</a></li>
<li><a href="../pt432492/index.html">5 livros que Bill Gates aconselha em 2018</a></li>
<li><a href="../pt432494/index.html">O IntelliCode agora tamb√©m est√° em TypeScript / JavaScript</a></li>
<li><a href="../pt432498/index.html">Defini√ß√£o de n√∫meros de ouvido: implementa√ß√£o no Arduino</a></li>
<li><a href="../pt432500/index.html">Certifica√ß√£o PMP: Auditoria de Aplica√ß√£o</a></li>
<li><a href="../pt432502/index.html">A Internet pode ter s√©rios problemas devido a idiomas como C e C ++ que contribuem para vulnerabilidades</a></li>
<li><a href="../pt432506/index.html">Microsoft Connect (); 2018: todos os an√∫ncios de confer√™ncia na nuvem</a></li>
<li><a href="../pt432508/index.html">Sobre as barreiras ao uso de sistemas de sinais na intelig√™ncia artificial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>