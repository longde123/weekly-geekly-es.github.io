<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍞 🈳 🐝 Node.js手册，第4部分：npm，package.json和package-lock.json文件 🕉️ 😢 👨🏿‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今天，我们将发布Node.js的翻译的第四部分。 在本文中，我们将开始讨论npm并考虑package.json和package-lock.json 。 

  

 [我们建议您阅读]周期的其他部分  第1部分： 一般信息和入门 
 第2部分： JavaScript，V8，一些开发技巧 
 第3部分...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Node.js手册，第4部分：npm，package.json和package-lock.json文件</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423703/">今天，我们将发布Node.js的翻译的第四部分。 在本文中，我们将开始讨论npm并考虑<code>package.json</code>和<code>package-lock.json</code> 。 <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br><div class="spoiler">  <b class="spoiler_title">[我们建议您阅读]周期的其他部分</b> <div class="spoiler_text"> 第1部分： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">一般信息和入门</a> <br> 第2部分： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JavaScript，V8，一些开发技巧</a> <br> 第3部分： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">托管，REPL，使用控制台，模块</a> <br> 第4部分： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">npm，package.json和package-lock.json文件</a> <br> 第5部分： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">npm和npx</a> <br> 第6部分： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">事件循环，调用堆栈，计时器</a> <br> 第7部分： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">异步编程</a> <br> 第8部分： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Node.js指南，第8部分：HTTP和WebSocket协议</a> <br> 第9部分： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Node.js指南，</a>第9 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分：使用文件系统</a> <br> 第10部分： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Node.js指南，第10部分：标准模块，流，数据库，NODE_ENV</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Node.js指南的完整PDF</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Npm基础</font> </h2><br>  Npm（节点程序包管理器）是Node.js程序包管理器。 在本材料的第一部分中，我们已经提到过，现在npm中有超过一百万个软件包，这使其成为世界上最大的用一种语言编写的代码存储库。 这表明在npm中，您可以找到旨在解决几乎所有任务的软件包。 <br><br> 最初，npm是作为Node.js的程序包管理系统创建的，但今天它也用于开发JavaScript前端项目。 为了与npm注册表进行交互，使用了相同名称的命令，这为开发人员提供了大量机会。 <br><br><h3>  <font color="#3AC1EF">▍加载包</font> </h3><br> 使用<code>npm</code>命令，您可以从注册表中下载软件包。 下面我们将考虑其用法示例。 <br><br><h3>  <font color="#3AC1EF">▍安装所有项目依赖项</font> </h3><br> 如果项目具有<code>package.json</code>文件，则可以使用以下命令安装该项目的所有依赖项： <br><br><pre> <code class="plaintext hljs">npm install</code> </pre> <br> 此命令将下载项目所需的所有内容，并将这些资料放置在<code>node_modules</code>文件夹中，如果项目目录中不存在该文件， <code>node_modules</code>创建该文件。 <br><br><h3>  <font color="#3AC1EF">▍安装单独的包装</font> </h3><br> 可以使用以下命令安装单独的一个： <br><br><pre> <code class="plaintext hljs">npm install &lt;package-name&gt;</code> </pre> <br> 您经常可以看到该命令的使用方式不是很简单，而是带有一些标志。 考虑他们： <br><br><ul><li>  <code>--save</code>标志使<code>--save</code>可以安装软件包，并将有关该项目的条目添加到<code>package.json</code>文件的<code>dependencies</code>部分，其中描述了项目依赖项。 这些依赖项由项目使用以实现其主要功能，它们是在项目部署期间在服务器上安装的（在npm 5发行之后，“依赖项”部分中有关已安装软件包的条目会自动生成，而无需使用此标志）。 </li><li>  <code>--save-dev</code>标志允许您安装软件包并将其相关条目添加到包含<code>package.json</code>文件的开发依赖项列表的部分（即，在项目开发过程中需要的包，例如用于测试的库，但对于其操作而言并非必需） <code>package.json</code>称为<code>devDependencies</code> 。 </li></ul><br><h3>  <font color="#3AC1EF">▍包更新</font> </h3><br> 要更新软件包，请使用以下命令： <br><br><pre> <code class="plaintext hljs">npm update</code> </pre> <br> 收到此命令后，npm将检查所有软件包的新版本，如果它们找到满足<code>package.json</code>指定的软件包版本限制的新版本，请安装它们。 <br><br> 您还可以升级单独的软件包： <br><br><pre> <code class="plaintext hljs">npm update &lt;package-name&gt;</code> </pre> <br><h3>  <font color="#3AC1EF">▍上传某些版本的软件包</font> </h3><br> 除了标准软件包下载外，npm还支持下载它们的特定版本。 特别要指出的是，某些库仅与其他库的某些较大版本兼容，也就是说，如果安装了此类库的依赖项而未考虑版本，则可能会破坏其工作。 在某些情况下，例如，该软件包的最新版本非常适合您，但是事实证明其中存在错误，可以安装特定版本的软件包。 等待软件包固定版本的发布，您可以使用其较旧但稳定的版本。 <br><br> 当所有团队成员都使用完全相同的库时，指定项目所需库的特定版本的功能在团队开发中很有用。 通过更改<code>package.json</code>项目文件，还可以集中执行向新版本的过渡。 <br><br> 在所有这些情况下，指定项目所需的软件包版本的功能非常有用。  Npm遵循语义版本控制（标准）的标准。 <br><br><h3>  <font color="#3AC1EF">▍运行脚本</font> </h3><br>  <code>package.json</code>文件支持描述可以使用此构造启动的命令（脚本）的功能： <br><br><pre> <code class="plaintext hljs">npm &lt;task-name&gt;</code> </pre> <br> 例如，以下是文件相应部分中的脚本列表： <br><br><pre> <code class="plaintext hljs">{ "scripts": {   "start-dev": "node lib/server-development",   "start": "node lib/server-production" } }</code> </pre> <br> 使用此功能来启动Webpack是很常见的： <br><br><pre> <code class="plaintext hljs">{ "scripts": {   "watch": "webpack --watch --progress --colors --config webpack.conf.js",   "dev": "webpack --progress --colors --config webpack.conf.js",   "prod": "NODE_ENV=production webpack -p --config webpack.conf.js", } }</code> </pre> <br> 这种方法可以用以下简单结构替换充满错误的长命令的输入： <br><br><pre> <code class="plaintext hljs">$ npm watch $ npm dev $ npm prod</code> </pre> <br><h3>  <font color="#3AC1EF">pmnpm在哪里安装软件包？</font> </h3><br> 使用npm（或<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">yarn</a> ）安装软件包时，有两个安装选项可用：本地和全局。 <br><br> 默认情况下，当您使用<code>npm install lodash</code>类的命令<code>npm install lodash</code> ，该软件包将显示在项目文件夹中的<code>node_modules</code>文件夹中。 此外，如果执行了以上命令，npm还将在当前目录中的<code>package.json</code>文件的<code>dependencies</code>部分中添加<code>lodash</code>库的条目。 <br><br> 使用<code>-g</code>标志执行软件包的全局安装： <br><br><pre> <code class="plaintext hljs">npm install -g lodash</code> </pre> <br> 通过执行这样的命令，npm不会将软件包安装在项目的本地文件夹中。 而是将软件包文件复制到某个全局位置。 这些文件到底在哪里？ <br><br> 为了找出答案，请使用以下命令： <br><br><pre> <code class="plaintext hljs">npm root -g</code> </pre> <br> 在macOS或Linux上，软件包文件可能会出现在<code>/usr/local/lib/node_modules</code> 。 在Windows上，可能类似于<code>C:\Users\YOU\AppData\Roaming\npm\node_modules</code> 。 <br><br> 但是，如果使用Node.js nvm进行版本控制，则全局软件包文件夹的路径可能会更改。 <br><br> 例如，我使用nvm，上面的命令告诉我全局软件包安装在以下地址： <code>/Users/flavio/.nvm/versions/node/v8.9.0/lib/node_modules</code> 。 <br><br><h3>  <font color="#3AC1EF">▍使用并执行随npm安装的软件包</font> </h3><br> 如何使用通过npm本地或全局安装的模块进入<code>node_modules</code>文件夹？ 假设您安装了流行的<code>lodash</code>库，其中包含JavaScript开发中使用的许多辅助函数： <br><br><pre> <code class="plaintext hljs">npm install lodash</code> </pre> <br> 这样的命令会将库安装在<code>node_modules</code>项目的本地文件夹中。 <br><br> 为了在代码中使用它，只需使用<code>require</code>命令将其导入： <br><br><pre> <code class="plaintext hljs">const _ = require('lodash')</code> </pre> <br> 如果软件包是可执行文件，该怎么办？ <br><br> 在这种情况下，可执行文件将<code>node_modules/.bin/ folder</code>位于<code>node_modules/.bin/ folder</code> 。 <br><br> 您可以通过安装<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Cowsay</a>软件包来了解这种机制的工作原理。 这是为命令行编写的漫画程序。 如果将一些文本传递到此数据包，则在控制台中以ASCII艺术风格显示牛的图像，并“发音”为相应的文本。 其他生物可以“说出”文字。 <br><br> 因此，在使用<code>npm install cowsay</code>安装软件包之后，它将连同其依赖项一起以<code>node_modules</code> 。 并且在隐藏的<code>.bin</code>文件夹中将写入指向Cowsay二进制文件的符号链接。 <br><br> 如何实施？ <br><br> 当然，您可以在终端中输入<code>./node_modules/.bin/cowsay</code>之类的<code>./node_modules/.bin/cowsay</code>来调用该程序，这是一种<code>./node_modules/.bin/cowsay</code>的方法，但是最好使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">npx</a> （一种用于启动npm包可执行文件的工具），该工具自5.2版起包含在npm中。 也就是说，在我们的情况下，我们需要以下命令： <br><br><pre> <code class="plaintext hljs">npx cowsay</code> </pre> <br> 将自动找到npx包的路径。 <br><br><h2>  <font color="#3AC1EF">Package.json文件</font> </h2><br>  <code>package.json</code>文件是许多基于Node.js生态系统的项目的重要元素。 如果您使用JavaScript编程（无论是服务器开发还是客户端开发），那么您可能已经看到了此文件。 为什么需要它？ 您应该了解他什么，他会给您带来什么机会？ <br><br>  <code>Package.json</code>是项目的一种清单文件。 他为开发人员提供了多种多样的可能性。 例如，它表示项目中使用的工具的中央设置存储库。 此外，在这里， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">npm</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">yarn</a>还会写入有关已安装软件包的名称和版本的信息。 <br><br><h3>  <font color="#3AC1EF">▍文件结构</font> </h3><br> 这是一个简单的<code>package.json</code>文件的示例： <br><br><pre> <code class="plaintext hljs">{ }</code> </pre> <br> 如您所见，它是空的。 对于特定应用程序，对于此类文件中应包含的内容，没有严格的要求。 文件结构的唯一要求是它必须遵循JSON格式的规则。 否则，尝试访问其内容的程序将无法读取该文件。 <br><br> 如果创建打算通过npm分发的Node.js程序包，则所有内容都会发生根本变化，并且<code>package.json</code>应该具有一组属性，可以帮助其他人使用该程序包。 稍后我们将详细讨论。 <br><br> 这是另一个示例<code>package.json</code> ： <br><br><pre> <code class="plaintext hljs">{ "name": "test-project" }</code> </pre> <br> 它设置<code>name</code>属性，其值是应用程序或程序包的名称，其材料包含在该文件所在的同一文件夹中。 <br><br> 这是我使用Vue.js编写的示例应用程序中的一个更复杂的示例： <br><br><pre> <code class="plaintext hljs">{ "name": "test-project", "version": "1.0.0", "description": "A Vue.js project", "main": "src/main.js", "private": true, "scripts": {   "dev": "webpack-dev-server --inline --progress --config build/webpack.dev.conf.js",   "start": "npm run dev",   "unit": "jest --config test/unit/jest.conf.js --coverage",   "test": "npm run unit",   "lint": "eslint --ext .js,.vue src test/unit",   "build": "node build/build.js" }, "dependencies": {   "vue": "^2.5.2" }, "devDependencies": {   "autoprefixer": "^7.1.2",   "babel-core": "^6.22.1",   "babel-eslint": "^8.2.1",   "babel-helper-vue-jsx-merge-props": "^2.0.3",   "babel-jest": "^21.0.2",   "babel-loader": "^7.1.1",   "babel-plugin-dynamic-import-node": "^1.2.0",   "babel-plugin-syntax-jsx": "^6.18.0",   "babel-plugin-transform-es2015-modules-commonjs": "^6.26.0",   "babel-plugin-transform-runtime": "^6.22.0",   "babel-plugin-transform-vue-jsx": "^3.5.0",   "babel-preset-env": "^1.3.2",   "babel-preset-stage-2": "^6.22.0",   "chalk": "^2.0.1",   "copy-webpack-plugin": "^4.0.1",   "css-loader": "^0.28.0",   "eslint": "^4.15.0",   "eslint-config-airbnb-base": "^11.3.0",   "eslint-friendly-formatter": "^3.0.0",   "eslint-import-resolver-webpack": "^0.8.3",   "eslint-loader": "^1.7.1",   "eslint-plugin-import": "^2.7.0",   "eslint-plugin-vue": "^4.0.0",   "extract-text-webpack-plugin": "^3.0.0",   "file-loader": "^1.1.4",   "friendly-errors-webpack-plugin": "^1.6.1",   "html-webpack-plugin": "^2.30.1",   "jest": "^22.0.4",   "jest-serializer-vue": "^0.3.0",   "node-notifier": "^5.1.2",   "optimize-css-assets-webpack-plugin": "^3.2.0",   "ora": "^1.2.0",   "portfinder": "^1.0.13",   "postcss-import": "^11.0.0",   "postcss-loader": "^2.0.8",   "postcss-url": "^7.2.1",   "rimraf": "^2.6.0",   "semver": "^5.3.0",   "shelljs": "^0.7.6",   "uglifyjs-webpack-plugin": "^1.1.1",   "url-loader": "^0.5.8",   "vue-jest": "^1.0.2",   "vue-loader": "^13.3.0",   "vue-style-loader": "^3.0.1",   "vue-template-compiler": "^2.5.2",   "webpack": "^3.6.0",   "webpack-bundle-analyzer": "^2.9.0",   "webpack-dev-server": "^2.9.1",   "webpack-merge": "^4.1.0" }, "engines": {   "node": "&gt;= 6.0.0",   "npm": "&gt;= 3.0.0" }, "browserslist": [   "&gt; 1%",   "last 2 versions",   "not ie &lt;= 8" ] }</code> </pre> <br> 如您所见，这里有很多有趣的事情。 即，可以在此处区分以下属性： <br><br><ul><li>  <code>name</code>设置应用程序（程序包）的名称。 </li><li>  <code>version</code> -包含有关应用程序当前版本的信息。 </li><li>  <code>description</code>应用程序的简短描述。 </li><li>  main-将入口设置为应用程序。 </li><li>  <code>private</code>如果将此属性设置为<code>true</code> ，则可以防止将软件包意外发布到npm。 </li><li>  <code>scripts</code> -定义了一组可以运行的Node.js脚本。 </li><li>  <code>dependencies</code> -包含应用程序所依赖的npm软件包的列表。 </li><li>  <code>devDependencies</code>包含在开发项目时使用的npm软件包列表，但在实际工作时不使用。 </li><li>  <code>engines</code> -设置运行应用程序的Node.js版本的列表。 </li><li>  <code>browserlist</code>用于存储应用程序应支持的浏览器（及其版本）列表。 </li></ul><br>  npm或整个应用程序生命周期中使用的其他工具都将使用所有这些属性。 <br><br><h3>  <font color="#3AC1EF">packagepackage.json中使用的属性</font> </h3><br> 让我们讨论可以在<code>package.json</code>使用的属性。 在这里，我们将使用“程序包”一词，但是有关程序包的所有说明也适用于不打算用作程序包的本地应用程序。 <br><br> 我们描述的大多数属性仅用于满足npm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">存储库</a>的需求，而某些属性则用于与代码（如同一npm）进行交互的程序。 <br><br><h4> 名称属性 </h4><br>  <code>name</code>属性设置包的名称： <br><br><pre> <code class="plaintext hljs">"name": "test-project"</code> </pre> <br> 名称必须短于214个字符，不能包含空格，只能由大写字母，连字符（ <code>-</code> ）和下划线（ <code>_</code> ）组成。 <br><br> 存在类似的限制，因为在npm中发布软件包时，其名称用于形成软件包页面的URL。 <br><br> 如果您在公共领域的GitHub上发布了程序包代码，则程序包名称的一个不错的选择是相应GitHub存储库的名称。 <br><br><h4> 作者财产 </h4><br>  <code>author</code>属性包含有关软件包作者的信息： <br><br><pre> <code class="plaintext hljs">{ "author": "Flavio Copes &lt;flavio@flaviocopes.com&gt; (https://flaviocopes.com)" }</code> </pre> <br> 可以以下格式显示： <br><br><pre> <code class="plaintext hljs">{ "author": {   "name": "Flavio Copes",   "email": "flavio@flaviocopes.com",   "url": "https://flaviocopes.com" } }</code> </pre> <br><h4> 贡献者财产 </h4><br>  <code>contributors</code>属性包含一个数组，其中包含有关为该项目做出贡献的人员的信息： <br><br><pre> <code class="plaintext hljs">{ "contributors": [   "Flavio Copes &lt;flavio@flaviocopes.com&gt; (https://flaviocopes.com)" ] }</code> </pre> <br> 该属性可能如下所示： <br><br><pre> <code class="plaintext hljs">{ "contributors": [   {     "name": "Flavio Copes",     "email": "flavio@flaviocopes.com",     "url": "https://flaviocopes.com"   } ] }</code> </pre> <br><h4> 错误属性 </h4><br>  <code>bugs</code>属性包含一个指向该项目的bug跟踪器的链接，很可能该链接将导致GitHub错误跟踪系统页面： <br><br><pre> <code class="plaintext hljs">{ "bugs": "https://github.com/flaviocopes/package/issues" }</code> </pre> <br><h4> 主页属性 </h4><br>  <code>homepage</code>属性允许您设置程序包主页： <br><br><pre> <code class="plaintext hljs">{ "homepage": "https://flaviocopes.com/package" }</code> </pre> <br><h4> 版本属性 </h4><br>  <code>version</code>属性包含有关软件包当前版本的信息： <br><br><pre> <code class="plaintext hljs">"version": "1.0.0"</code> </pre> <br> 形成此属性的值时，必须遵循<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">语义版本控制</a>的规则。 特别是，这意味着版本号始终由三位数字表示：xxx <br><br> 第一个数字是软件包的主要版本，第二个是次要版本，第三个是补丁版本。 <br><br> 更改这些数字具有一定意义。 因此，仅纠正错误的软件包的发布会导致补丁版本价值的增加。 如果发布了软件包，则对该软件包所做的更改与先前版本向后兼容，则次要版本也会更改。 软件包的主要版本可能包含使这些软件包与以前的主要版本的软件包不兼容的更改。 <br><br><h4> 许可属性 </h4><br>  <code>license</code>属性包含软件包<code>license</code>信息： <br><br><pre> <code class="plaintext hljs">"license": "MIT"</code> </pre> <br><h4> 关键字属性 </h4><br>  <code>keywords</code>属性包含与软件包功能相关的一组关键字： <br><br><pre> <code class="plaintext hljs">"keywords": [ "email", "machine learning", "ai" ]</code> </pre> <br> 正确选择关键字可以帮助人们在搜索软件包以解决某些问题时找到所需的内容，使您可以对软件包进行分组并在查看npm网站时快速评估其可能的功能。 <br><br><h4> 说明属性 </h4><br>  <code>description</code>属性包含对该程序包的简短描述： <br><br><pre> <code class="plaintext hljs">"description": "A package to work with strings"</code> </pre> <br> 如果您打算在npm中发布程序包，此属性特别重要，因为它使npm网站的用户可以了解程序包的用途。 <br><br><h4> 储存库属性 </h4><br>  <code>repository</code>属性指示软件包存储库所在的位置： <br><br><pre> <code class="plaintext hljs">"repository": "github:flaviocopes/testing",</code> </pre> <br> 请注意，此属性的值具有<code>github</code>前缀。  Npm还支持此类其他一些流行服务的前缀： <br><br><pre> <code class="plaintext hljs">"repository": "gitlab:flaviocopes/testing", "repository": "bitbucket:flaviocopes/testing",</code> </pre> <br> 软件包开发中使用的版本控制系统也可以明确设置： <br><br><pre> <code class="plaintext hljs">"repository": { "type": "git", "url": "https://github.com/flaviocopes/testing.git" }</code> </pre> <br> 相同的程序包可以使用不同的版本控制系统： <br><br><pre> <code class="plaintext hljs">"repository": { "type": "svn", "url": "..." }</code> </pre> <br><h4> 物业主要 </h4><br>  <code>main</code>属性将入口点设置为包： <br><br><pre> <code class="plaintext hljs">"main": "src/main.js"</code> </pre> <br> 将包导入应用程序时，将在此处搜索相应模块的导出内容。 <br><br><h4> 私人财产 </h4><br> 将<code>private</code>属性设置为<code>true</code>可以防止将该软件包意外发布到npm： <br><br><pre> <code class="plaintext hljs">"private": true</code> </pre> <br><h4> 脚本属性 </h4><br>  <code>scripts</code>属性设置可以使用npm工具启动的脚本或实用程序的列表： <br><br><pre> <code class="plaintext hljs">"scripts": { "dev": "webpack-dev-server --inline --progress --config build/webpack.dev.conf.js", "start": "npm run dev", "unit": "jest --config test/unit/jest.conf.js --coverage", "test": "npm run unit", "lint": "eslint --ext .js,.vue src test/unit", "build": "node build/build.js" }</code> </pre> <br> 这些脚本是命令行应用程序。 通过执行<code>npm run XXXX</code>或<code>yarn XXXX</code>形式的命令，可以分别使用npm或yarn运行它们，其中<code>XXXX</code>是脚本的名称。 例如，它可能看起来像这样： <br><br><pre> <code class="plaintext hljs">npm run dev</code> </pre> <br> 脚本可以随意调用，它们几乎可以完成开发人员可能想要的所有事情。 <br><br><h4> 依赖项属性 </h4><br>  Dependencies属性包含作为软件包依赖项安装的npm软件包列表： <br><br><pre> <code class="plaintext hljs">"dependencies": { "vue": "^2.5.2" }</code> </pre> <br> 使用npm或yarn安装软件包时，将使用以下命令： <br><br><pre> <code class="plaintext hljs">npm install &lt;PACKAGENAME&gt; yarn add &lt;PACKAGENAME&gt;</code> </pre> <br> 这些软件包会自动添加到正在开发的软件包的依赖项列表中。 <br><br><h4>  DevDependencies属性 </h4><br>  <code>devDependencies</code>属性包含作为开发依赖关系安装的npm软件包列表： <br><br><pre> <code class="plaintext hljs">"devDependencies": { "autoprefixer": "^7.1.2", "babel-core": "^6.22.1" }</code> </pre> <br> 此列表不同于<code>dependencies</code>属性中存储的列表，因为其中可用的软件包仅安装在软件包开发者的系统中；在实际使用该软件包时，不会使用它们。 <br><br> 使用npm或yarn安装软件包时，它们会属于此列表，如下所示： <br><br><pre> <code class="plaintext hljs">npm install --dev &lt;PACKAGENAME&gt; yarn add --dev &lt;PACKAGENAME&gt;</code> </pre> <br><h4> 引擎属性 </h4><br>  <code>engines</code>属性指示使用哪个版本的Node.js和其他软件产品来提供软件包： <br><br><pre> <code class="plaintext hljs">"engines": { "node": "&gt;= 6.0.0", "npm": "&gt;= 3.0.0", "yarn": "^0.13.0" }</code> </pre> <br><h4>  Browserlist属性 </h4><br>  <code>browserlist</code>属性允许<code>browserlist</code>报告程序包开发人员将支持哪些浏览器（及其版本）： <br><br><pre> <code class="plaintext hljs">"browserslist": [ "&gt; 1%", "last 2 versions", "not ie &lt;= 8" ]</code> </pre> <br>  Babel，Autoprefixer和其他工具使用此属性。 通过对该列表进行分析，他们可以仅将列出的浏览器所需的polyfill和辅助机制添加到软件包中。 <br><br> 作为示例，此处显示的<code>browserlist</code>属性的值表示您希望支持至少2％使用率至少1％的所有浏览器的主要版本（此数据取自<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CanIUse.com</a> ），但IE 8和该浏览器的旧版本除外（更多信息）可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">browserlists</a>软件包<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">页面</a>上找到）。 <br><br><h3>  <font color="#3AC1EF">package在package.json设置中存储各种软件工具</font> </h3><br> 在<code>package.json</code>您可以存储各种辅助工具（如Babel或ESLint）的设置。 <br><br> 这些工具中的每一个都有一个特殊的属性，例如<code>eslintConfig</code>或<code>babel</code> 。 有关使用此类属性的详细信息，请参见各个项目的文档。 <br><br><h3>  <font color="#3AC1EF">package关于软件包版本和语义版本控制</font> </h3><br>      ,           ,  ,       . ,   <code>~3.0.0</code>  <code>^0.13.0</code> .      ,     ,      . <br><br>  ,            ,    ,      ,      : <br><br><ul><li> <code>~</code> :       <code>~0.13.0</code>  ,     - .  ,  <code>0.13.1</code>  ,  <code>0.14.0</code> — . </li><li> <code>^</code> :       <code>^0.13.0</code> ,  ,     -    .  ,     <code>0.13.1</code> , <code>0.14.0</code> ,   . </li><li> <code>*</code> :   ,   ,       ,    —    . </li><li> <code>&gt;</code> :    ,   . </li><li> <code>&gt;=</code> :    ,     . </li><li> <code>&lt;=</code> :   ,       . </li><li> <code>&lt;</code> :   ,    . </li><li> <code>=</code> :      . </li><li> <code>-</code> :      ,  — <code>2.1.0 - 2.6.2</code> . </li><li> <code>||</code> :    ,  .      <code>&lt; 2.1 || &gt; 2.6</code> . </li></ul><br>     : <br><br><ul><li>   :        ,  ,        -   . </li><li> <code>latest</code> :   ,        . </li></ul><br>     , ,     -. ,   <code>1.0.0 || &gt;=1.1.0 &lt;1.2.0</code>   ,       <code>1.0.0</code> ,  ,      <code>1.1.0</code> ,   <code>1.2.0</code> . <br><br><h2> <font color="#3AC1EF"> package-lock.json</font> </h2><br>  <code>package-lock.json</code>     npm  5.      Node.js-.    ? ,          <code>package.json</code> ,     . <br><br>          ,              ,  ,    ,  . <br><br>      ,     <code>package.json</code> .  <code>package.json</code>  ,       (-   )     . <br><br>  Git    <code>node_modules</code> ,       .        ,    <code>npm install</code>   , , ,    <code>~</code>      ,   -,     ,    ,    -. <br><br>       <code>^</code> .         ,         ,    ,     . <br><br> , -   ,   <code>npm install</code> .      ,      .  ,    ,    -      ,   ,   ,     ( )  . <br><br>  <code>package-lock.json</code>            npm          <code>npm install</code> . <br><br>    ,  ,      (  Composer  PHP)     . <br><br>  <code>package-lock.json</code>    Git-,         ,    ,  ,      ,     Git   . <br><br>      <code>package-lock.json</code>    <code>npm update</code> . <br><br><h3> <font color="#3AC1EF">▍  package-lock.json</font> </h3><br>       <code>package-lock.json</code> ,      cowsay,      npm <code>install cowsay</code> : <br><br><pre> <code class="plaintext hljs">{ "requires": true, "lockfileVersion": 1, "dependencies": {   "ansi-regex": {     "version": "3.0.0",     "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-3. 0.0.tgz",     "integrity": "sha1-7QMXwyIGT3lGbAKWa922Bas32Zg="   },   "cowsay": {     "version": "1.3.1",     "resolved": "https://registry.npmjs.org/cowsay/-/cowsay-1.3.1.tgz" ,     "integrity": "sha512-3PVFe6FePVtPj1HTeLin9v8WyLl+VmM1l1H/5P+BTTDkM Ajufp+0F9eLjzRnOHzVAYeIYFF5po5NjRrgefnRMQ==",     "requires": {       "get-stdin": "^5.0.1",       "optimist": "~0.6.1",       "string-width": "~2.1.1",       "strip-eof": "^1.0.0"     }   },   "get-stdin": {     "version": "5.0.1",     "resolved": "https://registry.npmjs.org/get-stdin/-/get-stdin-5.0. 1.tgz",     "integrity": "sha1-Ei4WFZHiH/TFJTAwVpPyDmOTo5g="   },   "is-fullwidth-code-point": {     "version": "2.0.0",     "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/ is-fullwidth-code-point-2.0.0.tgz",     "integrity": "sha1-o7MKXE8ZkYMWeqq5O+764937ZU8="   },   "minimist": {     "version": "0.0.10",     "resolved": "https://registry.npmjs.org/minimist/-/minimist-0.0.10 .tgz",     "integrity": "sha1-3j+YVD2/lggr5IrRoMfNqDYwHc8="   },   "optimist": {     "version": "0.6.1",     "resolved": "https://registry.npmjs.org/optimist/-/optimist-0.6.1.tgz",     "integrity": "sha1-2j6nRob6IaGaERwybpDrFaAZZoY=",     "requires": {       "minimist": "~0.0.1",       "wordwrap": "~0.0.2"     }   },   "string-width": {     "version": "2.1.1",     "resolved": "https://registry.npmjs.org/string-width/-/string-width-2.1.1.tgz",     "integrity": "sha512-nOqH59deCq9SRHlxq1Aw85Jnt4w6KvLKqWVik6oA9ZklXLNIOlqg4F2yrT1MVaTjAqvVwdfeZ7w7aCvJD7ugkw==",     "requires": {       "is-fullwidth-code-point": "^2.0.0",       "strip-ansi": "^4.0.0"     }   },   "strip-ansi": {     "version": "4.0.0",     "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-4.0.0.tgz",     "integrity": "sha1-qEeQIusaw2iocTibY1JixQXuNo8=",     "requires": {       "ansi-regex": "^3.0.0"     }   },   "strip-eof": {     "version": "1.0.0",     "resolved": "https://registry.npmjs.org/strip-eof/-/strip-eof-1.0.0.tgz",     "integrity": "sha1-u0P/VZim6wXYm1n80SnJgzE2Br8="   },   "wordwrap": {     "version": "0.0.3",     "resolved": "https://registry.npmjs.org/wordwrap/-/wordwrap-0.0.3.tgz",     "integrity": "sha1-o9XabNXAvAAI03I0u68b7WMFkQc="   } } }</code> </pre> <br>   .    cowsay,     : <br><br><ul><li> get-stdin </li><li> optimist </li><li> string-width </li><li> strip-eof </li></ul><br>  ,   ,    ,         <code>requires</code> ,      : <br><br><ul><li> ansi-regex </li><li> is-fullwidth-code-point </li><li> minimist </li><li> wordwrap </li><li> strip-eof </li></ul><br>       ,     <code>version</code> ,   <code>resolved</code> ,    ,    <code>integrity</code> ,       . <br><br><h2> <font color="#3AC1EF"></font> </h2><br>      npm        <code>package.json</code>  <code>package-lock.json</code> .       npm    npx. <br><br>  <b>亲爱的读者们！</b>      — npm  yarn? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN423703/">https://habr.com/ru/post/zh-CN423703/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN423693/index.html">使用Webpack 4和代码分离的另一种方法</a></li>
<li><a href="../zh-CN423695/index.html">如何用银行账户中的一百万美元退休40年</a></li>
<li><a href="../zh-CN423697/index.html">介绍Spring Data JDBC</a></li>
<li><a href="../zh-CN423699/index.html">“数字经济”的价格上涨：必须从预算中拨出2万亿卢布</a></li>
<li><a href="../zh-CN423701/index.html">Node.js指南，第3部分：托管，REPL，控制台操作，模块</a></li>
<li><a href="../zh-CN423705/index.html">Node.js手册，第5部分：npm和npx</a></li>
<li><a href="../zh-CN423707/index.html">Jaxx的内幕是什么。 开箱即用的熵128位</a></li>
<li><a href="../zh-CN423709/index.html">CSS Grid-用于网站和应用程序布局的瑞士军刀</a></li>
<li><a href="../zh-CN423711/index.html">管理极客：从哪里获取数据？</a></li>
<li><a href="../zh-CN423713/index.html">“俄罗斯制造”-用于开发服务器端Web应用程序的WBASIC编程语言</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>