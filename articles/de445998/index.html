<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòâ üôÜüèª ü§ôüèΩ So machen Sie Freunde Progress OpenEdge und Oracle DBMS ü§∂üèø üïõ üö°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seit 1999 nutzt unsere Bank das integrierte BISKVIT-Bankensystem auf der Progress OpenEdge-Plattform, um das Backoffice zu bedienen, das weltweit, auc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So machen Sie Freunde Progress OpenEdge und Oracle DBMS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vtb/blog/445998/">  Seit 1999 nutzt unsere Bank das integrierte BISKVIT-Bankensystem auf der Progress OpenEdge-Plattform, um das Backoffice zu bedienen, das weltweit, auch im Finanzsektor, weit verbreitet ist.  Mit der Leistung dieses DBMS k√∂nnen Sie bis zu eine Million oder mehr Datens√§tze pro Sekunde in einer Datenbank (DB) lesen.  Unser Progress OpenEdge bedient rund 1,5 Millionen Einlagen von Privatpersonen und rund 22,2 Millionen Vertr√§ge f√ºr aktive Produkte (Autokredite und Hypotheken) und ist auch f√ºr alle Abrechnungen mit der Aufsichtsbeh√∂rde (CB) und SWIFT verantwortlich. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/307/c1d/98d/307c1d98db920948d240ad6101acc1e1.png"><br><br>  Mit Progress OpenEdge sehen wir uns mit der Tatsache konfrontiert, dass wir uns mit Oracle DBMS anfreunden m√ºssen.  Urspr√ºnglich war dieses Bundle der ‚ÄûEngpass‚Äú unserer Infrastruktur - bis wir Pro2 CDC installiert und konfiguriert haben - ein Progress-Produkt, mit dem Sie Daten von Progress DBMS direkt online an Oracle DBMS senden k√∂nnen.  In diesem Beitrag erkl√§ren wir Ihnen ausf√ºhrlich, wie Sie mit OpenEdge und Oracle effektiv Freunde finden k√∂nnen. <br><a name="habracut"></a><br><h2>  So war es: Hochladen von Daten auf QCD durch Dateifreigabe </h2><br>  Zun√§chst einige Fakten zu unserer Infrastruktur.  Die Anzahl der aktiven Benutzer der Datenbank betr√§gt ungef√§hr 15.000.  Das Volumen aller produktiven Datenbanken, einschlie√ülich Replikat und Standby, betr√§gt 600 TB, die gr√∂√üte Datenbank 16,5 TB.  Gleichzeitig werden die Datenbanken st√§ndig aufgef√ºllt: Allein im letzten Jahr wurden rund 120 TB produktive Daten hinzugef√ºgt.  Das System bietet 150 Front-End-Server auf der x86-Plattform.  Datenbanken werden auf 21 IBM Plattformservern gehostet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a9/f39/b08/1a9f39b085135d52cace5abb4f3f6dce.png"><br>  Frontsysteme, verschiedene ABS- und Bankdienstleistungen sind √ºber den Sonic ESB-Bus in OpenEdge Progress (IBS BISQUIT) integriert.  Daten werden durch Dateiaustausch auf QCD hochgeladen.  Eine solche L√∂sung hatte bis zu einem bestimmten Zeitpunkt sofort zwei gro√üe Probleme: die geringe Leistung beim Hochladen von Informationen in das Corporate Data Warehouse (QCD) und die lange Zeit, die zum Abgleichen von Daten (Abgleich) mit anderen Systemen ben√∂tigt wird. <br><img src="https://habrastorage.org/getpro/habr/post_images/5ed/b9b/7dc/5edb9b7dc0c77268d2a3d535f5593d80.png"><br>  Aus diesem Grund haben wir nach einem Tool gesucht, das diese Prozesse beschleunigen kann.  Die L√∂sung f√ºr beide Probleme war genau das neue Progress OpenEdge-Produkt - Pro2 CDC (Change Data Capture).  Also fangen wir an. <br><br><h2>  Installieren Sie Progress OpenEdge und Pro2Oracle </h2><br>  Um Pro2 Oracle auf einem Windows-Computer eines Administrators auszuf√ºhren, installieren Sie einfach die Progress OpenEdge Developer Kit Classroom Edition, die kostenlos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">heruntergeladen werden</a> kann.  OpenEdge-Standardinstallationsverzeichnisse: <br><br>  <i>DLC: C: \ Progress \ OpenEdge</i> <i><br></i>  <i>WRK: C: \ OpenEdge \ WRK</i> <br><br>  ETL-Prozesse erfordern Progress OpenEdge-Lizenzen der Version 11.7+, n√§mlich OE DataServer f√ºr Oracle und 4GL Development System.  Diese Lizenzen sind in Pro2 enthalten.  F√ºr den vollst√§ndigen Betrieb von DataServer for Oracle mit einer entfernten Oracle-Datenbank ist Full Oracle Client installiert. <br><br>  Auf dem Oracle-Server m√ºssen Sie die Version von Oracle Database 12+ installieren, eine leere Datenbank erstellen und den Benutzer hinzuf√ºgen (nennen wir es <i>cdc</i> ). <br><br>  Laden Sie zum Installieren von Pro2Oracle das neueste Distributionspaket aus dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Progress Software-</a> Downloadcenter herunter.  Entpacken Sie das Archiv in das Verzeichnis <i>C: \ Pro2</i> (f√ºr die Konfiguration von Pro2 unter Unix wird dasselbe Distributionskit verwendet, und es werden dieselben Konfigurationsprinzipien angewendet). <br><br><h2>  Erstellen einer cdc-Replikationsdatenbank </h2><br>  Die <i>cdc (repl) -Replikationsdatenbank</i> wird von Pro2 zum Speichern von Konfigurationsinformationen verwendet, einschlie√ülich der Replikationszuordnung, der Namen der replizierten Datenbanken und ihrer Tabellen.  Es enth√§lt auch eine Replikationswarteschlange, die aus Hinweisen besteht, dass sich die Tabellenzeile in der Quellendatenbank ge√§ndert hat.  Die Daten aus der Replikationswarteschlange werden von ETL-Prozessen verwendet, um die Zeilen zu identifizieren, die aus der Quellendatenbank nach Oracle kopiert werden m√ºssen. <br><br>  Erstellen Sie eine separate CDC-Datenbank. <br><br><div class="spoiler">  <b class="spoiler_title">Vorgehensweise zum Erstellen einer Datenbank</b> <div class="spoiler_text"><ol><li>  Erstellen Sie auf dem Datenbankserver ein Verzeichnis f√ºr die CDC-Datenbank, z. B. auf der <i>Datenbank / database / cdc /</i> server. <br></li><li>  Erstellen Sie einen Dummy f√ºr die cdc-Basis: <i>procopy $ DLC / empty cdc</i> <br></li><li>  <i>Aktivieren Sie die</i> Unterst√ºtzung gro√üer Dateien: <i>proutil cdc -C EnableLargeFiles</i> <br></li><li>  Wir bereiten das Skript zum Starten der CDC-Datenbank vor.  Die Startparameter sollten den Startparametern der replizierten Datenbank √§hnlich sein. <br></li><li>  Wir starten die CDC-Datenbank. <br></li><li>  Wir stellen eine Verbindung zur cdc-Datenbank her und laden das Pro2-Diagramm aus der <i>cdc.df-</i> Datei, die im Pro2-Paket enthalten ist. <br></li><li>  Erstellen Sie in der cdc-Datenbank die folgenden Benutzer: <br></li></ol><br>  <i>pro2adm - zum Verbinden √ºber das Pro2-Admin-Panel;</i> <i><br></i>  <i>pro2etl - zum Verbinden von ETL-Prozessen (ReplBatch);</i> <i><br></i>  <i>pro2cdc - zum Verbinden von CDC-Prozessen (CDCBatch);</i> <br></div></div><br><br><h2>  OpenEdge Change Data Capture aktivieren </h2><br>  Schalten wir nun den CDC-Mechanismus selbst ein, √ºber den Daten in einen zus√§tzlichen Technologiebereich repliziert werden.  In jeder Progress OpenEdge-Quellendatenbank m√ºssen Sie separate Speicherbereiche hinzuf√ºgen, in die die Quelldaten dupliziert werden, und den Mechanismus selbst mit dem <i>Befehl proutil</i> aktivieren. <br><br><div class="spoiler">  <b class="spoiler_title">Beispielverfahren f√ºr die Bisquit-Datenbank</b> <div class="spoiler_text"><ol><li>  Kopieren Sie die Datei <i>cdcadd.st</i> aus dem <i>Verzeichnis</i> <i>C: \ Pro2 \ db in das</i> <i>Verzeichnis</i> der <i>Bisquit-</i> Quellendatenbank. <br></li><li>  Wir beschreiben in <i>cdcadd.st</i> <i>Extents</i> mit <i>festem</i> <i>Umfang</i> f√ºr <i>die</i> <i>Bereiche</i> <i>ReplCDCArea</i> und <i>ReplCDCArea_IDX</i> .  Sie k√∂nnen online neue Speicherbereiche hinzuf√ºgen: <i>prostrct addonline bisquit cdcadd.st</i> <br></li><li>  OpenEdge CDC aktivieren: <br>  <i>proutil bisquit -C enablecdc Bereich "ReplCDCArea" Indexbereich "ReplCDCArea_IDX"</i> <br></li><li>  Die folgenden Benutzer m√ºssen in der Quellendatenbank erstellt werden, um laufende Prozesse zu identifizieren: <br>  <i>a.</i>  <i>pro2adm - zum Verbinden √ºber das Pro2-Admin-Panel.</i> <i><br></i>  <i>b.</i>  <i>pro2etl - zum Verbinden von ETL-Prozessen (ReplBatch).</i> <i><br></i>  <i>c.</i>  <i>pro2cdc - zum Verbinden von CDC-Prozessen (CDCBatch).</i> <br></li></ol><br></div></div><br><br><h2>  Erstellen eines Schemahalters f√ºr DataServer f√ºr Oracle </h2><br>  Als N√§chstes m√ºssen wir den Datenbankschemahalter auf dem Server erstellen, auf dem die Daten vom Fortschritts-DBMS zum Oracle-DBMS repliziert werden.  DataServer Schema Holder ist eine leere Progress OpenEdge-Datenbank ohne Benutzer- oder Anwendungsdaten, die eine Entsprechungskarte zwischen Quelltabellen und externen Oracle-Tabellen enth√§lt. <br><br>  Die Schema Holder-Datenbank f√ºr Progress OpenEdge DataServer f√ºr Oracle f√ºr Pro2 muss sich auf dem ETL-Prozessserver befinden und wird f√ºr jeden Zweig separat erstellt. <br><br><div class="spoiler">  <b class="spoiler_title">So erstellen Sie einen Schemahalter</b> <div class="spoiler_text"><ol><li>  Entpacken Sie die Pro2-Distribution in das <i>Verzeichnis / pro2</i> <br></li><li>  Erstellen Sie und gehen Sie zum <i>Verzeichnis / pro2 / dbsh</i> <br></li><li>  Erstellen Sie die Schema Holder-Datenbank mit dem <i>Befehl procopy $ DLC / empty bisquitsh</i> <br></li><li>  Wir konvertieren <i>Bisquitsh</i> in die erforderliche Codierung - zum Beispiel in UTF-8, wenn Oracle-Datenbanken in UTF-8 codiert sind: <i>Proutil Bisquitsh -C Convchar konvertiert UTF-8</i> <br></li><li>  Nachdem <i>wir</i> eine leere <i>Bisquitsh-</i> Datenbank erstellt haben, stellen <i>wir</i> im Einzelbenutzermodus eine Verbindung zu ihr her: <i>Pro Bisquitsh</i> <br></li><li>  Gehen Sie zum <i>Datenw√∂rterbuch</i> : <i>Tools -&gt; Datenw√∂rterbuch -&gt; DataServer -&gt; ORACLE-Dienstprogramme -&gt; DataServer-Schema erstellen</i> <br></li><li>  Starten Sie den Schema Holder <br></li><li>  Konfigurieren Sie den Oracle DataServer-Broker: <br>  <i>a.</i>  <i>Starten Sie AdminServer.</i> <i><br></i>  <i>proadsv -start</i> <i><br></i>  <i>b.</i>  <i>Start des Oracle DataServer-Brokers</i> <i><br></i>  <i>oraman -name orabroker1 -start</i> <br></li></ol><br></div></div><br><br><h2>  Konfigurieren Sie das Admin-Panel und das Replikationsschema </h2><br>  Das Pro2-Administrationsfenster konfiguriert die Pro2-Einstellungen, einschlie√ülich des Einrichtens des Replikationsschemas und des Generierens von ETL-Prozessprogrammen (Prozessorbibliothek), prim√§ren Synchronisationsprogrammen (Massenkopierprozessor), Replikationsausl√∂sern und OpenEdge CDC-Richtlinien.  Es gibt auch prim√§re Tools zum √úberwachen und Verwalten von ETL- und CDC-Prozessen.  Zun√§chst konfigurieren wir die Parameterdateien. <br><br><div class="spoiler">  <b class="spoiler_title">So richten Sie Parameterdateien ein</b> <div class="spoiler_text"><ol><li>  <i>Wechseln</i> Sie in das Verzeichnis <i>C: \ Pro2 \ bprepl \ Scripts</i> <br></li><li>  √ñffnen Sie die Datei <i>replProc.pf</i> zur Bearbeitung <br></li><li>  F√ºgen Sie die Parameter f√ºr die Verbindung zur cdc-Replikationsdatenbank hinzu: <br>  <i># Replikationsdatenbank</i> <i><br></i>  <i>-db cdc -ld repl -H &lt;Hostname der Hauptdatenbank&gt; -S &lt;Port des cdc-Datenbankbrokers&gt;</i> <i><br></i>  <i>-U pro2admin -P &lt;Kennwort&gt;</i> <br></li><li>  F√ºgen Sie <i>replProc.pf</i> die Parameter f√ºr die Verbindung mit den Quelldatenbanken und dem Schema-Halter in Form von Parameterdateien <i>hinzu</i> .  Der Name der Parameterdatei muss mit dem Namen der zu verbindenden Quelldatenbank √ºbereinstimmen. <br>  <i># Stellen Sie eine Verbindung zu allen replizierten Quell-BISQUITs her</i> <i><br></i>  <i>-pf bprepl \ scripts \ bisquit.pf</i> <br></li><li>  F√ºgen Sie die Parameter f√ºr die Verbindung zum Schemahalter in replProc.pf hinzu. <br>  <i>#Target Pro DB Schema Holder</i> <i><br></i>  <i>-db bisquitsh -ld bisquitsh</i> <i><br></i>  <i>-H &lt;Hostname der ETL-Prozesse&gt;</i> <i><br></i>  <i>-S &lt;Biskuitsh Broker Port&gt;</i> <i><br></i>  <i>-db bisquitsql</i> <i><br></i>  <i>-ld bisquitsql</i> <i><br></i>  <i>-dt ORACLE</i> <i><br></i>  <i>-S 5162 -H &lt;Hostname des Oracle-Brokers&gt;</i> <i><br></i>  <i>-DataService orabroker1</i> <br></li><li>  Speichern Sie die Parameterdatei <i>replProc.pf</i> <br></li><li>  Als N√§chstes m√ºssen Sie die Parameterdateien f√ºr jede verbundene Quellendatenbank im <i>Verzeichnis C: \ Pro2 \ bprepl \ Scripts: bisquit.pf</i> erstellen und zum Bearbeiten <i>√∂ffnen</i> .  Jede pf-Datei enth√§lt Parameter f√ºr die Verbindung mit der entsprechenden Datenbank, zum Beispiel: <br>  <i>-db bisquit -ld bisquit -H &lt;Hostname&gt; -S &lt;Brokerport&gt;</i> <i><br></i>  <i>-U pro2admin -P &lt;Kennwort&gt;</i> <br></li></ol><br></div></div><br><br>  Um Windows-Verkn√ºpfungen zu konfigurieren, <i>wechseln Sie in das Verzeichnis C: \ Pro2 \ bprepl \ Scripts</i> und bearbeiten Sie die Verkn√ºpfung ‚ÄûPro2 - Administration‚Äú.  √ñffnen Sie dazu die Eigenschaften der Verkn√ºpfung und geben Sie in der Zeile <i>Start in</i> das Installationsverzeichnis Pro2 an.  Ein √§hnlicher Vorgang muss f√ºr die Labels "Pro2 - Editor" und "RunBulkLoader" durchgef√ºhrt werden. <br><br><h2>  Konfigurieren der Pro2-Administration: Herunterladen der Prim√§rkonfiguration </h2><br>  Wir starten die Konsole. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b82/639/717/b82639717e154bdb889038e56ca41d90.png"><br><br>  Gehen Sie zur "DB Map". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ec/623/ae9/8ec623ae9f617ae630a42fa1d1b599c6.png"><br><br>  Um die Datenbanken in Pro2 - Administration zu verkn√ºpfen, wechseln Sie zur Registerkarte <i>DB Map</i> .  Wir f√ºgen die Zuordnung von Quelldatenbanken hinzu - <i>Schema Holder - Oracle</i> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d23/db6/d6c/d23db6d6c53ea7e7d47aa2b6a71b2cde.png"><br><br>  Wechseln Sie zur Registerkarte <i>Zuordnung</i> .  In der Liste Quelldatenbank ist standardm√§√üig die erste verbundene Quellendatenbank ausgew√§hlt.  Rechts von der Liste sollte <i>Alle Datenbanken verbunden sein</i> - die ausgew√§hlten Datenbanken sind verbunden.  Eine Liste der Fortschrittstabellen von Bisquit sollte unten links sichtbar sein.  Auf der rechten Seite finden Sie eine Liste der Tabellen aus der Oracle-Datenbank. <br><br><h2>  Erstellen von SQL-Schemas und -Datenbanken in Oracle </h2><br>  Um eine Replikationszuordnung zu erstellen, m√ºssen Sie zuerst das <i>SQL-Schema</i> in Oracle generieren.  F√ºhren Sie in Pro2 Administration den Men√ºpunkt <i>Extras -&gt; Code generieren -&gt; Zielschema aus</i> , <i>w√§hlen Sie</i> dann im Dialogfeld <i>Datenbank ausw√§hlen</i> eine oder mehrere Quelldatenbanken aus und √ºbertragen Sie sie nach rechts. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a15/d6b/ca5/a15d6bca502084aea7c24faace6494f3.png"><br><br>  Klicken Sie auf OK und w√§hlen Sie das Verzeichnis aus, in dem die SQL-Schemas gespeichert werden sollen. <br><br>  Als n√§chstes erstellen wir die Basis.  Dies kann beispielsweise √ºber <i>Oracle SQL Developer erfolgen</i> .  Stellen Sie dazu eine Verbindung zur Oracle-Datenbank her und laden Sie das Schema, um Tabellen hinzuzuf√ºgen.  Nachdem Sie die Zusammensetzung der Oracle-Tabellen ge√§ndert haben, m√ºssen Sie die SQL-Schemas im Schema-Holder aktualisieren. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a21/86f/d8d/a2186fd8d269e13120ce1ff2c87467d3.png"><br><br>  Nachdem der Download erfolgreich abgeschlossen wurde, beenden Sie die Bisquitsh-Datenbank und √∂ffnen Sie das Pro2-Administrationsfenster.  Die Tabellen aus der Oracle-Datenbank sollten rechts auf der Registerkarte Zuordnung angezeigt werden. <br><br><h2>  Tabellen zuordnen </h2><br>  Um eine Replikationszuordnung im Pro2-Administrationsbereich zu erstellen, wechseln Sie zur Registerkarte Zuordnung und w√§hlen Sie die Quellendatenbank aus.  Wir klicken auf Map Tables, w√§hlen links Select Changes-Tabellen aus, die auf Oracle repliziert werden sollen, √ºbertragen sie nach rechts und best√§tigen die Auswahl.  F√ºr die ausgew√§hlten Tabellen wird automatisch eine Karte erstellt.  Wiederholen Sie den Vorgang, um eine Replikationszuordnung f√ºr andere Quelldatenbanken zu erstellen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/455/9f9/1fe/4559f91fe85a7e724bf015f13873cbc3.png"><br><br><h2>  Generierung der Programme Pro2 Replication Processor Library und Bulk-Copy Processor </h2><br><br>  Die Prozessorbibliothek wurde f√ºr spezielle Replikationsprozesse (ETLs) entwickelt, die die Pro2-Replikationswarteschlange verarbeiten und die √Ñnderungen in die Oracle-Datenbank √ºbertragen.  Nach der Generierung werden die Replikationsprozessor-Bibliotheksprogramme automatisch im <i>Verzeichnis bprepl / repl_proc (Parameter PROC_DIRECTORY) gespeichert</i> .  Um die Replikationsprozessorbibliothek zu generieren, gehen Sie zu <i>Extras -&gt; Code generieren -&gt; Prozessorbibliothek.</i>  Nach Abschluss der Generierung werden die Programme im <i>Verzeichnis bprepl / repl_proc angezeigt</i> . <br><br>  Massenprozessorprogramme werden verwendet, um die Quell-Progress-Datenbanken mit der Oracle-Zieldatenbank basierend auf der Programmiersprache Progress ABL (4GL) zu synchronisieren.  Um sie zu generieren, gehen Sie zum Men√ºpunkt <i>Extras -&gt; Code generieren -&gt; Massenkopierprozessor</i> .  W√§hlen Sie im Dialogfeld Datenbank ausw√§hlen die Quelldatenbank aus, √ºbertragen Sie sie auf die rechte Seite des Fensters und klicken Sie auf <i>OK</i> .  Nach Abschluss der Generierung werden die Programme im <i>Verzeichnis bprepl \ repl_mproc angezeigt</i> . <br><br><h2>  Konfigurieren von Replikationsprozessen in Pro2 </h2><br>  Das Aufteilen der Tabellen in Gruppen, die von einem separaten Replikationsthread bedient werden, kann die Leistung und Effizienz von Oracle Pro2 verbessern.  Standardm√§√üig sind alle in der Replikationszuordnung f√ºr neue Replikationstabellen erstellten Verbindungen an Stream Nummer 1 gebunden. Es wird empfohlen, Tabellen in verschiedene Flows zu unterteilen. <br><br>  Informationen zum Status von Replikationsabl√§ufen werden auf dem Bildschirm Pro2 Administration auf der Registerkarte Monitor im Abschnitt Replikationsstatus angezeigt.  Eine ausf√ºhrliche Beschreibung der Parameterwerte finden Sie in der Pro2-Dokumentation (Verzeichnis C: \ Pro2 \ Docs). <br><br><h2>  Erstellen und aktivieren Sie CDC-Richtlinien </h2><br>  Richtlinien sind eine Reihe von Regeln f√ºr den OpenEdge CDC-Mechanismus, nach denen √Ñnderungen in Tabellen verfolgt werden.  Zum Zeitpunkt des Schreibens unterst√ºtzt Pro2 nur CDC-Richtlinien mit Stufe 0, dh nur die Tatsache <i>einer Datensatz√§nderung</i> wird verfolgt. <br><br>  Um eine CDC-Richtlinie im Verwaltungsbereich zu erstellen, wechseln Sie zur Registerkarte Zuordnung, w√§hlen Sie die Quellendatenbank aus und klicken Sie auf die Schaltfl√§che Richtlinien hinzuf√ºgen / entfernen.  W√§hlen Sie im daraufhin ge√∂ffneten Fenster √Ñnderungen ausw√§hlen auf der linken Seite die Option aus und √ºbertragen Sie sie in die rechte Tabelle, f√ºr die Sie eine CDC-Richtlinie erstellen oder l√∂schen m√ºssen. <br><br>  √ñffnen Sie zum Aktivieren die Registerkarte Zuordnung erneut, w√§hlen Sie die Quellendatenbank aus und klicken Sie auf die Schaltfl√§che <i>(In) Richtlinien</i> aktivieren.  W√§hlen Sie aus und √ºbertragen Sie auf die rechte Seite der Tabelle, deren Richtlinien Sie aktivieren m√ºssen. Klicken Sie auf OK.  Danach werden sie gr√ºn markiert.  Mit <i>(In) Activate Policies (Richtlinien aktivieren)</i> k√∂nnen Sie auch CDC-Richtlinien deaktivieren.  Alle Operationen werden online ausgef√ºhrt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/518/0ef/770/5180ef7709ef906a1541bb7e71b8b5ba.png"><br><br>  Nach dem Aktivieren der CDC-Richtlinie werden Notizen zu den ge√§nderten Datens√§tzen gem√§√ü der urspr√ºnglichen Datenbank im Speicherbereich <i>‚ÄûReplCDCArea‚Äú</i> gespeichert.  Diese Notizen werden von einem speziellen <i>CDCBatch-</i> Prozess verarbeitet, der auf ihrer Grundlage Notizen in der Pro2-Replikationswarteschlange in der <i>cdc (repl)</i> -Datenbank erstellt. <br><br>  Somit haben wir zwei Warteschlangen f√ºr die Replikation.  Die erste Stufe ist CDCBatch: Von der urspr√ºnglichen Datenbank gehen die Daten zuerst in die CDC-Zwischendatenbank.  In der zweiten Phase werden Daten aus der CDC-Datenbank in Oracle √ºbertragen.  Dies ist ein Merkmal der aktuellen Architektur und des Produkts selbst. Bisher konnten Entwickler keine direkte Replikation einrichten. <br><br><h2>  Prim√§rsynchronisation </h2><br>  Nachdem Sie den CDC-Mechanismus aktiviert und den Pro2-Replikationsserver eingerichtet haben, m√ºssen Sie die prim√§re Synchronisierung starten.  Prim√§rer Startbefehl f√ºr die Synchronisation: <br><br>  <i>/pro2/bprepl/Script/replLoad.sh bisquit Tabellenname</i> <br><br>  Nach Abschluss der ersten Synchronisierung k√∂nnen Replikationsprozesse gestartet werden. <br><br><h2>  Starten Sie die Replikationsprozesse </h2><br>  Um Replikationsprozesse zu starten, m√ºssen Sie das Skript <i>replbatch.sh ausf√ºhren</i> .  Stellen Sie vor dem Start sicher, dass f√ºr alle Threads Replbatch-Skripte vorhanden sind - Replbatch1, Replbatch2 usw.  Wenn alles vorhanden ist, √∂ffnen Sie die Befehlszeile (z. B. <i>proenv)</i> , <i>wechseln</i> Sie in das <i>Verzeichnis / bprepl / scripts</i> und starten Sie das Skript.  Im Verwaltungsbereich √ºberpr√ºfen wir, ob der entsprechende Prozess den Status RUNNING erhalten hat. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f7f/e36/d10/f7fe36d10541f356f26d18f220a241cc.png"><br><br><h2>  Ergebnisse </h2><br><img src="https://habrastorage.org/webt/96/tx/ic/96txicmq_eawginnc244qddkqww.png"><br>  Nach der Implementierung haben wir das Hochladen von Informationen in das Corporate Data Warehouse erheblich beschleunigt.  Die Daten selbst gehen online an Oracle.  Sie m√ºssen keine Zeit mit lang laufenden Abfragen verbringen, um Daten von verschiedenen Systemen zu erfassen.  Dar√ºber hinaus kann der Replikationsprozess in dieser L√∂sung Daten komprimieren, was sich auch positiv auf die Geschwindigkeit auswirkt.  Jetzt begann die t√§gliche Abstimmung des BISKVIT-Systems mit anderen Systemen 15 bis 20 Minuten statt 2 bis 2,5 Stunden und die vollst√§ndige Abstimmung mehrere Stunden statt zwei Tage. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445998/">https://habr.com/ru/post/de445998/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445980/index.html">Wir programmieren die Sprachsteuerung eines Copters mit Node.js und ARDrone</a></li>
<li><a href="../de445984/index.html">Pacsafe Taschendieb Gewitter</a></li>
<li><a href="../de445986/index.html">Kundenentwicklung als Lebensphilosophie</a></li>
<li><a href="../de445988/index.html">Eigene tempor√§re Mail: Telegrammbot</a></li>
<li><a href="../de445992/index.html">Nauchpop am Minimum: optische T√§uschungen</a></li>
<li><a href="../de446000/index.html">Was ist los mit Yandex.Music? UX / UI-Analyse</a></li>
<li><a href="../de446006/index.html">Intel - klingt neu</a></li>
<li><a href="../de446008/index.html">Open Source Tool zur absichtsbasierten Validierung der Suchqualit√§t</a></li>
<li><a href="../de446022/index.html">Wie ich das belarussische Internet NICHT gescannt habe</a></li>
<li><a href="../de446024/index.html">Installieren und konfigurieren Sie einen Ripple-Knoten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>