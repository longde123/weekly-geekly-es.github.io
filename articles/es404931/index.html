<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§±üèΩ ‚ÜïÔ∏è üö∂üèæ ¬øC√≥mo se distribuye Petya? üë©üèø‚Äçüíª üéüÔ∏è üìµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Una vez m√°s, brevemente sobre la √∫ltima epidemia. 


- Si est√° infectado, no pague el rescate: la direcci√≥n wowsmith123456@posteo.net est√° bloqueada p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øC√≥mo se distribuye Petya?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/404931/"><h1 id="esche-raz-korotko-o-posledney-epidemii">  Una vez m√°s, brevemente sobre la √∫ltima epidemia. </h1><br><ul><li>  Si est√° infectado, no pague el rescate: la direcci√≥n wowsmith123456@posteo.net est√° bloqueada por el proveedor, lo que hace que sea imposible obtener una clave para el descifrado.  <em>(de qu√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se</a> ha tratado el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> , aproximadamente por persona)</em> </li><li>  La distribuci√≥n ocurre en computadoras con el √∫ltimo sistema de Windows dentro del dominio. </li><li>  Crear un archivo en C: \ Windows \ perfc bloquea el vector de ataque a trav√©s de WMIC. </li><li>  Si CHKDSK apareci√≥ en la pantalla despu√©s de reiniciar la computadora, debe apagarla inmediatamente; en este momento, los archivos est√°n encriptados. </li></ul><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/e12/10a/b89/e1210ab8950fcd75a15dcdaa250c90a0.png" alt="imagen"></p><br><p>  Adem√°s del √∫ltimo ataque de WannaCry, se recomienda instalar la actualizaci√≥n de Microsoft <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MS17-010</a> lo antes posible.  Si por alguna raz√≥n es imposible instalar un parche, se recomienda <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">desactivar el protocolo SMBv1</a> . </p><a name="habracut"></a><br><h1 id="rasprostranenie-virusa">  Propagaci√≥n de virus </h1><br><p>  Petya y Mischa, a diferencia de WannaCry, se distribuyen dentro de la red local (por defecto, un entorno seguro).  En los casos que estudiamos, los mecanismos de distribuci√≥n a trav√©s de Internet no estaban integrados. </p><br><p>  Despu√©s de iniciar el ransomware, la computadora infectada escanea la subred local (/ 24) en busca de recursos compartidos de red ADMIN $ para copiar payloadu a otra computadora y comenzar a usar PsExec. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/db4/ac2/98f/db4ac298f58767c3ceb47e8ac3764871.png" alt="imagen"></p><br><p>  El siguiente paso fue ejecutar el comando WMIC (llamada a proceso crear \ "C: \ Windows \ System32 \ rundll32.exe \\" C: \ Windows \ perfc.dat \) en las computadoras encontradas.  Esta conexi√≥n se obtuvo usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mimikatz</a> . </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/6fb/c0b/770/6fbc0b770c724c08cb108f951590641e.png" alt="imagen"></p><br><p>  El √∫ltimo m√©todo de distribuci√≥n estaba usando la vulnerabilidad EternalBlue. </p><br><h1 id="kak-rabotaet-virus">  Como funciona el virus </h1><br><p>  El ransomware escane√≥ solo unidades locales.  Las unidades de red y externas no fueron el objetivo del ataque. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/930/5ba/bb1/9305babb130104e37e717266bbb09294.png" alt="imagen"></p><br><p>  Los archivos con las siguientes extensiones fueron encriptados: </p><br><p>  <em>.3ds .7z .accdb .ai .asp .aspx .avhd .back .bak .c .cfg .conf .cpp .cs .ctl .dbf .disk .djvu .doc .docx .dwg .eml .fdb .gz .h .hdd .kdbx .mail .mdb .msg .nrg .ora .ost .ova .ovf .pdf .php .pmf .ppt .pptx .pst .pvi .py .pyc .rar .rtf .sln .sql .tar .vbox .vbs .vcb .vdi .vfd .vmc .vmdk .vmsd .vmx .vsdx .vsv .work .xls .xlsx .xvd .zip</em> </p><br><p>  No hubo cambios significativos en el mecanismo de reescritura del sector de arranque MBR en comparaci√≥n con la campa√±a del a√±o pasado.  Despu√©s de la infecci√≥n, los registros del sistema se borran (Configuraci√≥n, Sistema, Seguridad, Aplicaci√≥n). </p><br><p>  La programaci√≥n de tareas tambi√©n agrega un comando para reiniciar la computadora <strong>una hora despu√©s de la infecci√≥n</strong> .  Petya tambi√©n utiliza la funci√≥n no documentada de la funci√≥n WinAPI <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NtRaiseHardError</a> para reiniciar la m√°quina. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/037/ed9/71a/037ed971af5b8750037f4a0779668c3f.png" alt="imagen"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es404931/">https://habr.com/ru/post/es404931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es404921/index.html">Instrucciones para eludir el bloqueo de Telegram. C√≥mo activar SOCKS 5</a></li>
<li><a href="../es404923/index.html">C√≥mo los registradores rusos desarrollan AdvoCam</a></li>
<li><a href="../es404925/index.html">Nvidia y ASUS han desarrollado tarjetas de video especializadas para la miner√≠a de criptomonedas</a></li>
<li><a href="../es404927/index.html">Coches el√©ctricos y el "pico del petr√≥leo". La verdad en el modelo - 3</a></li>
<li><a href="../es404929/index.html">Atmotube y Air Quality Monitor experimentan con diferentes concentraciones de CO2</a></li>
<li><a href="../es404933/index.html">Programa interplanetario SpaceX: un an√°lisis detallado del motor de cohete Raptor</a></li>
<li><a href="../es404937/index.html">PaySend: transferencias de dinero de una tarjeta a otra en todo el mundo por 49 rublos</a></li>
<li><a href="../es404939/index.html">Seis reglas para elegir un centro de datos</a></li>
<li><a href="../es404941/index.html">C√≥mo los entusiastas restauran las cintas magn√©ticas con tostado</a></li>
<li><a href="../es404943/index.html">Fraude de administradores de zona de dominio de retroalimentaci√≥n.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>