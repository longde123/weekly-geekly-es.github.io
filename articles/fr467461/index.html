<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶ì üõ§Ô∏è üßëüèø‚Äçü§ù‚Äçüßëüèæ RubyRussia 2019. Julian Pokrovsky: comment optimiser un monolithe ü§∏üèº üì™ üëàüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Malgr√© l'√©norme quantit√© de documents sur le th√®me de l'optimisation des monolithes, je veux souvent m'√©loigner de l'√©tude approfondie du probl√®me et ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RubyRussia 2019. Julian Pokrovsky: comment optimiser un monolithe</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/railsclub/blog/467461/"> Malgr√© l'√©norme quantit√© de documents sur le th√®me de l'optimisation des monolithes, je veux souvent m'√©loigner de l'√©tude approfondie du probl√®me et essayer de deviner comment rendre l'application plus rapide ou plus compacte.  La bonne nouvelle: le principe de Pareto fonctionne ici.  Lors de la conf√©rence <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RubyRussia</a> du 28 septembre, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Julian Pokrovsky</a> parlera des techniques n√©cessaires.  Quelques teasers seront dans cette interview avec Julian et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Grigory Petrov</a> . <br><br><img src="https://habrastorage.org/webt/i1/vr/gd/i1vrgdj-77oyjjv9wt29ssgvsjw.jpeg" alt="image"><br><br>  <b>Que faites-vous dans le monde de l'informatique, Ruby, vos int√©r√™ts, votre expertise?</b> <br><a name="habracut"></a><br>  Je travaille √† Cupill.  Dans le projet, j'ai √©crit en Ruby et sur le backend Rust pour rechercher, r√©server et acheter des billets d'avion.  Je m'int√©resse √† un large √©ventail de ce qui se passe dans l'informatique: des compilateurs aux syst√®mes distribu√©s.  Pas vraiment int√©ress√© par l'apprentissage automatique et le front-end, mais peut-√™tre qu'un jour j'y arriverai aussi. <br><br>  <b>Dites-moi de quoi parle votre rapport?</b> <br><br>  Je vais raconter notre exp√©rience dans l'optimisation d'un monolithe de 8 ans et montrer qu'il est tr√®s simple et b√©n√©fique pour tout le monde.  Et il est possible d'allouer du temps pour cela dans le sprint.  Vous pouvez obtenir une am√©lioration des performances en examinant quelques astuces et outils simples qui ne n√©cessitent pas de Rails et conviennent non seulement √† une application Web.  Je vais vous parler du mat√©riel que nous avons guid√© pour r√©soudre nos probl√®mes.  Examinons stackprof, rbspy, heapy, et aussi pourquoi des modifications triviales des param√®tres du syst√®me d'exploitation, en changeant l'allocateur, peuvent apporter des avantages incroyables.  Et pourquoi est-il mauvais d'appliquer des conseils sur Internet sans prendre de mesures sur votre application. <br><br>  <b>Il y a une telle l√©gende urbaine que si nous comparons les langages des Big Four (Ruby, Python, JavaScript et PHP), alors en premier lieu nous avons JS, car il attend et jit, dans le deuxi√®me PHP, puis Python, et Ruby prend l'honorable 4e Que dites-vous, est-ce le cas?</b> <br><br>  Je ne suis pas enclin √† nier que Ruby ne fonctionne pas bien sur de nombreux benchmarks.  Mais ce n'est certainement pas juste de dire que dans n'importe quelle situation, il sera √† la derni√®re place.  Plus largement, Ruby est une norme de langage.  Nous pouvons parler de TruffleRuby, de JRuby, de l'IRM, des probl√®mes de performances.  Ce sont des choses tr√®s individuelles.  Tout d√©pend de la fa√ßon dont vous avez √©crit le code et de ce que vous vouliez obtenir.  Dans certains cas, Ruby sera plus rapide que n'importe qui, dans certains Python, non sans raison qu'il est populaire en science des donn√©es, parfois JavaScript sera le plus rapide. <br><br>  <b>Dans quelle mesure l'√©cosyst√®me Ruby offre-t-il d√©sormais des moyens rapides et natifs de r√©soudre les probl√®mes courants?</b> <br><br>  Je peux interpr√©ter la question diff√©remment.  Vous pouvez parler de la situation actuelle avec les extensions C dans Ruby.  Si nous limitons la question √† cela, alors nous savons tous: OJ pour la s√©rialisation JSON, pilote PostgreSQL, pilote Ruby pour MySQL et bien d'autres choses sont √©crites en C.La question est de savoir √† quel point c'est bon ou mauvais pour moi personnellement.  Pour que les compilateurs jit, qui peuvent √™tre l'avenir de Ruby, optimisent bien le code, nous devons √©crire plus dans Ruby et utiliser moins d'√©tendue.  Pour que le compilateur puisse le faire.  TruffleRuby a une approche diff√©rente √† cela.  Pour autant que je m'en souvienne, il vous permet de faire une optimisation entre diff√©rentes langues, donc il s'appelle polyglot vm.  Encore une fois, avec quel succ√®s il le fait, je ne suis pas pr√™t √† dire.  Et TruffleRuby lui-m√™me est encore un projet assez jeune. <br><br>  <b>Quelles sont les avanc√©es dans le monde Ruby pour la programmation asynchrone?</b> <br><br>  √Ä mon avis, aucun mouvement de masse r√©cent vers le Ruby asynchrone ne s'est produit.  Il existe des projets distincts: le projet √©prouv√© EventMachine et le projet Sam Williams, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">async</a> , ou plut√¥t tout un groupe de projets dans lesquels une nouvelle impl√©mentation asynchrone est faite sur la base de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nio4r</a> , qui est plus simple que EventMachine ou Celluloid.  Mais en g√©n√©ral, l'histoire, bien qu'elle ne reste pas immobile, marche plut√¥t en petit cercle.  Et jusqu'√† pr√©sent, rien n'est all√© au-del√†.  Voyons ce qui se passe ensuite. <br><br>  Je vois toujours beaucoup d'utilisation bas√©e sur des threads rubis simultan√©s.  Ce n'est pas une si mauvaise option pour une langue avec un runtime mod√©r√©ment productif - utilisez des flux qui lib√®rent GVL (verrouillage global) et vous permettent de faire des requ√™tes HTTP parall√®les ou d'autres op√©rations d'E / S en m√™me temps.  Peut-√™tre que la fibre √† l'avenir sera plus populaire.  Ils constituaient d√©sormais la base de la biblioth√®que du groupe effets secs-secs.  Cela vous permet simplement d'effectuer des op√©rations parall√®les bas√©es sur la fibre.  Pas de mani√®re synchrone, mais pas enti√®rement asynchrone - d√©j√† √† moiti√© asynchrone. <br><br>  <b>Matsumoto-san, l'auteur de Ruby, s'envole pour la conf√©rence.</b>  <b>Que pensez-vous qu'il serait int√©ressant pour vous de discuter avec lui autour d'une tasse de caf√© ou d'un verre de sak√© √† l'afterparty?</b> <br><br>  J'ai d√©j√† vu Matsumoto √† Moscou en 2016.  Je me souviens, il a ensuite dit que si la conf√©rence continuait de s'appeler RailsClub, il ne reviendrait pas. <br><br>  <b>Oui, et il a √©t√© renomm√© RubyRussia, c'est un nom plus large.</b>  <b>Et il nous rend de nouveau visite.</b> <br><br>  J'ai alors pens√© qui gagnerait, lui ou RailsClub.  Matsumoto bat.  Je voudrais savoir comment il a r√©ussi √† soulever la question de telle mani√®re qu'ils ont renomm√© le plus grand √©v√©nement Ruby en Russie. <br><br>  <b>Je pense que vous aurez toutes les chances de poser cette question personnellement.</b>  <b>Quel est l'avenir de Ruby?</b>  <b>Qu'est-ce qui vous manque dans la langue, l'√©cosyst√®me?</b> <br><br>  Pr√©dire le sort d'un langage de programmation est une t√¢che ingrate, car jusqu'√† pr√©sent, personne n'a devin√© comment les √©v√©nements se d√©velopperont pour n'importe quel langage.  Je peux me tromper, mais Ruby n'est pas le choix le plus populaire pour les nouveaux projets en ce moment.  Beaucoup ont entendu "Ruby est mort, mais Rails est d√©conseill√©": il est lent, non asynchrone, il n'est pas parall√®le et il a tout un tas de probl√®mes.  Cela affecte-t-il le nombre de nouveaux projets Ruby?  √Ä mon avis, certainement oui.  Ils deviennent plus petits et deviendront encore plus petits.  Mais les vieux projets restent.  √Ä mon avis, Ruby a ainsi besoin d'outils pour prendre en charge des applications complexes et massives.  Dans de telles situations, c'est une bonne id√©e de regarder des ajouts comme le syst√®me de type.  Beaucoup de gens pr√©f√®rent prendre en charge de grandes applications et les d√©velopper, comme nous pouvons le voir avec JavaScript avec Flow et TypeScript, vers la saisie, ce qui facilite un peu la refactorisation et la surveillance d'une situation dans un projet complexe.  Vous devez peut-√™tre cr√©er un √©cosyst√®me plus riche de biblioth√®ques que vous devez utiliser ind√©pendamment, comme dry-rb.  O√π une personne peut choisir ce dont elle a besoin pour valider, quoi cr√©er des effets dans un sous-syst√®me.  Peut-√™tre qu'il a besoin de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">conteneurs d'injection de d√©pendance</a> qui r√©solvent certains probl√®mes.  L'√©cosyst√®me devrait √©voluer dans cette direction.  Dans le sens du d√©veloppement de l'entreprise et du support de syst√®mes vastes et complexes. <br><br>  <b>Discutez sur RubyRussia!</b> <br><br>  Venez et vous, l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">inscription est</a> toujours ouverte. <br><br>  Il y aura non seulement des rapports, mais aussi des stands d'entreprises sympas: <br><br>  Organisateur - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Evrone</a> <br>  Associ√© commandit√© - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toptal</a> <br>  Partenaire Gold - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gett</a> <br>  Partenaires Silver - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Valarm</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JetBrains</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Bookmate</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cashwagon</a> <br>  Partenaire Bronze - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">InSales</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr467461/">https://habr.com/ru/post/fr467461/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr467449/index.html">D√©tection des vuln√©rabilit√©s et √©valuation de la r√©sistance aux attaques de pirates des cartes √† puce et des processeurs cryptographiques avec protection int√©gr√©e</a></li>
<li><a href="../fr467453/index.html">R√©solution du probl√®me du num√©ro 42 √† l'aide d'un supercalculateur plan√©taire</a></li>
<li><a href="../fr467455/index.html">Mod√®le QBS pour la programmation de microcontr√¥leurs dans QtCreator en utilisant l'exemple des contr√¥leurs Milander</a></li>
<li><a href="../fr467457/index.html">Le chemin de la chirurgie au d√©veloppement de jeux ou la premi√®re exp√©rience de d√©veloppement mobile sur Unity</a></li>
<li><a href="../fr467459/index.html">Comment un microcontr√¥leur peut lire des donn√©es √† 1,6 Gbit / s</a></li>
<li><a href="../fr467463/index.html">Juste la division, ou comment cr√©er une th√©orie math√©matique et y gagner 400 000 $. Troisi√®me s√©rie, finale</a></li>
<li><a href="../fr467465/index.html">Le cloud sauvera-t-il les smartphones ultra-√©conomiques</a></li>
<li><a href="../fr467471/index.html">Soul Mikrotik contre ILV sans √¢me et le m√™me fournisseur</a></li>
<li><a href="../fr467473/index.html">Et plus sur les sortes</a></li>
<li><a href="../fr467475/index.html">Renvoyez Thread.Abort () √† .NET Core. Livraison d'applications avec sa version de CoreCLR et CoreFX</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>