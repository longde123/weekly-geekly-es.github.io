<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ üèØ üïß G√©n√©ration d'un environnement sonore et musical dans Unity3D ‚úçüèª üà¥ üéÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Annotation 


 Bonjour √† tous. Cet article est le premier d'une s√©rie sur le th√®me de la g√©n√©ration de contenu bas√© sur la musique et le son. En fait,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>G√©n√©ration d'un environnement sonore et musical dans Unity3D</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digital-ecosystems/blog/429872/"><h2 id="annotaciya">  Annotation </h2><br><p>  Bonjour √† tous.  Cet article est le premier d'une s√©rie sur le th√®me de la g√©n√©ration de contenu bas√© sur la musique et le son.  En fait, une telle g√©n√©ration est une t√¢che technique assez compliqu√©e, donc ce mat√©riel sera introductif, plus ax√© sur la conception de jeux et une compr√©hension g√©n√©rale du sujet, apr√®s quoi nous nous plongerons dans les aspects techniques de ce sujet. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gn/qs/ck/gnqscktbympej56xg1dr8gepcjm.jpeg" width="700"></div><br><p>  Dans cet article, nous consid√©rerons un genre sp√©cifique de jeux dans lesquels le contenu est g√©n√©r√© √† partir du son et de la musique.  La th√©orie g√©n√©rale du son ne sera pas donn√©e ici, mais dans le mat√©riel, vous pouvez trouver des liens vers des sources d'information et une br√®ve description des termes que nous utiliserons.  Le mat√©riel, bien qu'il contienne des informations techniques sur la th√©orie du son et la programmation, est con√ßu pour un public novice.  Les illustrations sont r√©alis√©es seules et, comme je ne suis pas artiste, ne les prenez pas au s√©rieux, elles ne sont n√©cessaires que pour une meilleure compr√©hension du mat√©riel.  Bonne lecture! </p><a name="habracut"></a><br><h2 id="vvedenie">  Pr√©sentation </h2><br><p> La g√©n√©ration proc√©durale bas√©e sur la musique dans les jeux vid√©o est un sujet qui, pour moi personnellement, a toujours √©t√© envelopp√© d'une certaine touche de mysticisme.  Il y a quelque chose d'incroyable dans la fa√ßon dont les formes sonores sont non seulement visualis√©es, mais affectent √©galement directement le gameplay.  Tout cela semble particulier, mais sacr√©ment amusant.  C'est pourquoi ces jeux ont leur propre public petit mais stable.  Steam a ajout√© des balises distinctes pour ces jeux: ¬´Generation based on music¬ª et ¬´Rhythm game¬ª.  √Ä l'heure actuelle, ces balises peuvent √™tre trouv√©es sur environ 200 projets, bien qu'il existe beaucoup plus de jeux qui utilisent cette m√©canique. </p><br><p>  En fait, la g√©n√©ration bas√©e sur le son donne une port√©e illimit√©e pour le d√©veloppement du gameplay, mais jusqu'√† pr√©sent, ces id√©es restent le destin des projets ind√©pendants, tandis que dans les jeux AAA (√† l'exception de Guitar Hero), de telles exp√©riences ne sont pas applicables en raison de leur instabilit√© et de leur inhabituel de gameplay. . </p><br><h2 id="primery-horoshih-proektov">  Exemples de bons projets </h2><br><p>  Avant de passer √† l'essence m√™me de la g√©n√©ration sonore (√† ne pas confondre avec la g√©n√©ration sonore!), Je voudrais donner des exemples de jeux r√©ussis qui utilisent des m√©canismes similaires.  Si vous ne les avez pas encore jou√©s, essayez-le!  Vous n'avez probablement jamais vu cela auparavant.  Beaucoup de ces projets ont re√ßu des r√©compenses de joueurs et de la presse. </p><br><p>  √Ä proprement parler, la g√©n√©ration pure n'est utilis√©e que dans Audiosurf.  Le reste des jeux j'utilise l'un ou l'autre de ses √©l√©ments.  Certains jeux sont plus ax√©s sur le suivi des bits, d'autres sur le volume de la piste, etc. </p><br><p>  De tels projets sont tr√®s difficiles √† √©valuer par une capture d'√©cran ou une description. Si vous n'avez pas le temps de jouer, regardez simplement la vid√©o sur YouTube. </p><br><h3 id="audiosurf">  Audiosurf </h3><br><p><img src="https://habrastorage.org/webt/nh/dp/or/nhdporzttdbt587cybzmwcadnba.jpeg"><br>  Pour de nombreux joueurs, Audiosurf a √©t√© le premier jeu √† utiliser la g√©n√©ration de contenu musical.  Le projet a √©t√© cr√©√© par un d√©veloppeur ind√©pendant de Invisible Handlebar - la soci√©t√© de Dylan Fiterer.  Lorsque Audiosurf est apparu sur Steam, ce march√© commen√ßait tout juste √† se d√©velopper et le taux de croissance monstrueux actuel √©tait encore loin.  Audiosurf avait l'air tr√®s frais et pas habituel, en plus, c'√©tait le premier jeu sur Steam (√† l'exception des jeux Valve), qui contenait des succ√®s! </p><br><p>  Le slogan d'Audiosurf - "Ride your music" - refl√®te tr√®s pr√©cis√©ment le gameplay: sur la base de votre morceau de musique, le morceau que vous devez conduire est cr√©√©.  Le jeu prend en compte la vitesse de la piste, les changements dynamiques (augmentation et diminution du volume) et le bit.  Vous pouvez y utiliser diff√©rents genres de musique et les combiner avec diff√©rents modes de jeu.  De plus, chaque morceau a sa propre table d'enregistrement, et vous serez peut-√™tre surpris de d√©couvrir que votre "Death metal Undeground" pr√©f√©r√© est √©cout√© par dix autres personnes. </p><br><p><img src="https://habrastorage.org/webt/jp/na/gw/jpnagwx7mg8oqxu13pc7vxxwrli.jpeg"><br>  <em>Malheureusement, en statique, Audiosurf n'est pas per√ßu.</em>  <em>Besoin de jouer.</em> </p><br><p>  En parlant de gameplay, Audiosurf est g√©nial.  Par exemple, si la piste commence par une introduction silencieuse, votre bateau rampe lentement vers le haut, mais lorsque la texture musicale devient plus satur√©e et cors√©e, la vitesse augmente et vous vous pr√©cipitez √† tout moment.  Le soi-disant Drop est particuli√®rement bien ressenti, pendant lequel le son ¬´se d√©tache¬ª au milieu du d√©veloppement, puis revient au moment de l'apog√©e.  Un kit de batterie diversifi√© peut transformer votre piste en une route vallonn√©e, ainsi que des effets sp√©ciaux.  les effets.  De plus, les blocs que vous devez collecter lors du passage de la trace g√©n√©r√©e sont √©galement plac√©s sous le bit. </p><br><p>  10 ans se sont √©coul√©s depuis la sortie du jeu, mais il est toujours tr√®s populaire aupr√®s des joueurs.  Pour le moment, deux parties du jeu ont √©t√© publi√©es, et le d√©veloppeur Dylan Fitterer a continu√© √† d√©velopper ses id√©es et a cr√©√© Audioshield, o√π vous repoussez des blocs de r√©alit√© virtuelle volant vers vous sous un battement de bits. </p><br><p>  Nous vous recommandons de jouer sur des pistes telles que: </p><br><ul><li>  Syst√®me d'un Down - Chop Suey! </li><li>  Martin Garrix - Animaux </li><li>  Skrillex - Bangarang </li></ul><br><p>  Partagez vos morceaux pr√©f√©r√©s pour Audiosurf dans les commentaires! </p><br><p>  Le jeu peut √™tre achet√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Steam</a> . </p><br><h3 id="beat-hazard">  Battre le danger </h3><br><p>  Dans ce projet, les cr√©ateurs ont repris la m√©canique standard de Shoot'em et y ont ajout√© une analyse de vos morceaux de musique.  Cela s'est av√©r√© tr√®s cool.  La musique affecte tout: la puissance de votre vaisseau, le nombre d'adversaires, la vitesse globale du jeu.  Mieux encore, le jeu peut √™tre ressenti avec de la musique, o√π il y a des transitions nettes entre le silence et un son puissant, puis votre √©cran explose √† cause des effets et le navire commence √† tirer avec d'√©normes rayons. </p><br><p>  Le jeu a une m√©canique assez riche, plusieurs modes et d'√©normes boss.  En g√©n√©ral, tout ce dont vous avez besoin pour vous amuser! </p><br><p><img src="https://habrastorage.org/webt/df/rb/9u/dfrb9uy1jhzy5bapkf5fpfar0vy.jpeg"></p><br><p>  Nous vous recommandons de jouer sur des pistes telles que: </p><br><ul><li>  The Prodigy - Les envahisseurs doivent mourir! </li><li>  Champignon infect√© - La l√©gende du Shawarma noir </li><li>  Daft Punk - Contact </li></ul><br><p>  √âcrivez dans les commentaires les pistes qui vous plaisent le plus √† d√©truire les navires ennemis! </p><br><p>  Le jeu peut √™tre achet√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Steam</a> . </p><br><h3 id="soundodger">  Soundodger + </h3><br><p>  Le jeu est une sorte de m√©lange de Beat Hazzard et du populaire Super Hexagon.  L'essence du gameplay est que vous devez esquiver des objets dont l'activit√© d√©pend de votre piste musicale.  Le processus est tr√®s compliqu√© et donc - super excitant. </p><br><p><img src="https://habrastorage.org/webt/io/od/q0/ioodq0vk5pbmfujecgekpklm_90.jpeg"></p><br><p>  Le jeu peut √™tre achet√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Steam</a> . </p><br><h3 id="crypt-of-the-necrodancer">  Crypte du n√©crodancier </h3><br><p>  Un jeu qui transf√®re incroyablement avec pr√©cision le rythme et vous fait danser avec une manette de jeu.  Crypt of the NecroDancer est un projet Roguelike dans lequel vous et les monstres devez vous d√©placer strictement sur la musique.  Si vous n'entrez pas dans le rythme, le jeu vous inflige une amende lorsque vous bougez.  L'endroit entier en m√™me temps bat au rythme, ce qui cr√©e une atmosph√®re irr√©elle.  La bande originale a √©t√© √©crite par le c√©l√®bre Danny Baranowsky (Super Meat Boy, The Binding of Isaac).  Soit dit en passant, le jeu prend en charge les tapis de danse! </p><br><p><img src="https://habrastorage.org/webt/g0/tq/p3/g0tqp3ufnugpsybbeu-ku6_vk18.jpeg"></p><br><p>  Le jeu peut √™tre achet√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Steam</a> . </p><br><h3 id="geometry-dash">  Tableau de bord de g√©om√©trie </h3><br><p>  C'est un coureur tr√®s hardcore dans lequel vous comptez non seulement sur votre r√©action, mais aussi sur le sens du rythme, car tous les obstacles sont clairement battus et √† la fin de la piste (si vous atteignez), vous vous d√©placez d√©j√† √† un niveau intuitif.  √Ä proprement parler, il n'y a pas de g√©n√©ration en tant que telle, mais les d√©veloppeurs ont utilis√© l'analyse des morceaux de musique pour mieux construire le niveau. </p><br><p><img src="https://habrastorage.org/webt/1z/bp/sy/1zbpsynlhfdxks9z_es3qifiwp8.png"><br>  <em>Comme presque tous les jeux de ce genre, Geometry Dash est tr√®s brillant</em> </p><br><p>  Le jeu peut √™tre achet√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Steam</a> . </p><br><h3 id="beatbuddy-tale-of-the-guardians">  Beatbuddy: conte des gardiens </h3><br><p>  Un magnifique jeu de plateforme musical, dont l'action se d√©roule dans le monde sous-marin, vivant sous un swing swing √©lectro lumineux.  Chaque cr√©ature de ce jeu g√©n√®re son propre son.  Krabik tape un rythme rapide, les an√©mones sont responsables du baril ... Dans le m√™me temps, le personnage principal peut influencer les habitants du monde et changer la musique et le gameplay lui-m√™me.  Pour le jeu, les pistes de musiciens tels que Parov Stelar, Austin Wintory, Sabrepulse et La Rochelle Band ont √©t√© utilis√©es. </p><br><p><img src="https://habrastorage.org/webt/do/km/yh/dokmyh3teztg93lai0ca422zesq.jpeg"></p><br><p>  Le jeu peut √™tre achet√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Steam</a> . </p><br><p>  Apr√®s nous √™tre inspir√©s par d'excellents projets, nous pouvons passer √† l'√©tude de la question "comment √ßa marche?" </p><br><h2 id="osnovnye-parametry-zvuka">  Options sonores de base </h2><br><h3 id="parametry-analogovogo-zvuka">  Options audio analogiques </h3><br><p>  Le sujet choisi n'√©tant pas trop simple et comportant de nombreux aspects techniques, j'ai d√©cid√© de ne pas gonfler l'article de th√©orie, mais de d√©finir des concepts de base.  Si vous voulez √©tudier de plus pr√®s la th√©orie du son, alors sur Habr, il y avait de nombreux articles sur ce sujet.  √Ä la fin de l'article, vous trouverez de nombreux liens utiles. </p><br><p>  Les param√®tres de base du son, nous inclurons les suivants: </p><br><ul><li>  Fr√©quence ou hauteur des ondes sonores, Hz </li><li>  Amplitude des ondes sonores ou volume sonore, dB </li><li>  Le coefficient d'att√©nuation est le taux de diminution de l'amplitude dans le temps. </li><li>  Forme d'onde - une vue g√©n√©rale d'une onde sonore.  En utilisant ce param√®tre, vous pouvez diviser les sons en groupes (net, lisse, bruit, etc.) </li></ul><br><p>  Pour plus de clart√©, j'ai cit√© les principales caract√©ristiques de l'onde sonore dans les graphiques suivants (les unit√©s ne sont pas d√©finies, je m'excuse): </p><br><p><img src="https://habrastorage.org/webt/4w/jw/5k/4wjw5kztenllvl9kji6hzxos5um.png"><br>  <em>Son fort avec une grande amplitude</em> </p><br><p><img src="https://habrastorage.org/webt/bu/-5/lp/bu-5lp0ns5jj5_vhdkpe0mlsvni.png"><br>  <em>Son silencieux avec moins d'amplitude</em> </p><br><p><img src="https://habrastorage.org/webt/28/p2/zr/28p2zrfybsakqdpkj80zswskbjy.png"><br>  <em>Aigu, haute fr√©quence</em> </p><br><p><img src="https://habrastorage.org/webt/9e/eb/xy/9eebxygle4253bci6_wh8p_lj_i.png"><br>  <em>Son faible avec moins de fr√©quence</em> </p><br><p><img src="https://habrastorage.org/webt/y_/wr/gt/y_wrgtlts7ut9betdlwosmnu_km.png"><br>  <em>Son fort et aigu (prenez soin de vos oreilles!)</em> </p><br><p>  En g√©n√©ral, ces donn√©es sont suffisantes pour avoir une compr√©hension suffisante de ce qu'est le son et passer √† autre chose.  Mais si vous √™tes int√©ress√© par ce sujet, alors, bien s√ªr, vous devez l'√©tudier plus en profondeur. </p><br><h3 id="parametry-cifrovogo-zvuka">  Options audio num√©riques </h3><br><p>  Lors de l'√©criture de jeux et d'autres programmes, nous travaillerons avec la forme num√©rique du son.  Le son num√©rique est obtenu par √©chantillonnage (division en petits points dans le temps), quantification (arrondi √† un certain niveau) et codage (en fait, transformation du son en z√©ros et en uns).  Vous pouvez trouver beaucoup d'informations sur ce sujet dans l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Theory of Sound.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ce que vous devez savoir sur le son pour pouvoir l'utiliser.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D√©couvrez Yandex.Music</a> , que j'ai vraiment aim√©.  Vous y trouverez des informations sur la mesure du volume et une description des filtres que je mentionnerai. </p><br><p>  La principale chose que nous devons savoir sur le signal num√©rique est: </p><br><ol><li><p>  Taux d'√©chantillonnage - caract√©rise la pr√©cision avec laquelle votre son sera num√©ris√©.  Par exemple, lorsque nous disons que la fr√©quence d'√©chantillonnage est de 44,1 kHz, cela signifie que le signal est mesur√© 44 100 fois en une seconde.  Aujourd'hui, les fr√©quences d'√©chantillonnage les plus courantes sont 44,1 kHz et 48 kHz. </p><br></li><li><p>  Profondeur de bits d'un signal num√©rique - caract√©rise la fa√ßon dont la large gamme dynamique "s'int√®gre" dans votre num√©rique.  Il est mesur√© en bits et est g√©n√©ralement de 16, 24 et 32 ‚Äã‚Äãbits.  La plage dynamique est la diff√©rence entre le son le plus fort et le plus silencieux, exprim√©e en d√©cibels.  Par exemple, pour un signal 8 bits, il est de 48 dB, pour un signal 16 bits, il est de 96 dB, pour un signal 24 bits, il est de 144 dB, et pour un signal 32 bits, il est de 192 dB. </p><br></li><li><p>  Le d√©bit binaire est ce que tous les internautes ont regard√© en 2002 lorsqu'ils ont t√©l√©charg√© de la musique.  Le d√©bit binaire est le nombre de bits utilis√©s pour transmettre ou traiter des donn√©es par unit√© de temps.  Dans les formats de streaming vid√©o et audio (par exemple, MPEG et MP3) qui utilisent la compression avec perte de qualit√©, le param√®tre ¬´bitrate¬ª exprime le taux de compression du flux. </p><br></li></ol><br><h2 id="metadannye-v-muzykalnyh-faylah">  M√©tadonn√©es dans les fichiers musicaux </h2><br><p>  En plus des param√®tres sonores eux-m√™mes, nous pouvons utiliser des informations cach√©es dans les fichiers audio eux-m√™mes.  Ces informations sont g√©n√©ralement appel√©es balises et chaque format de fichier a son propre format de balise.  Nous parlerons des fichiers mp3 comme les plus courants. </p><br><p>  Les balises sont plus faciles √† lire √† l'aide d'une biblioth√®que pr√™te √† l'emploi, par exemple √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TagLib</a> . </p><br><p>  Le format mp3 contient des m√©tadonn√©es dans sa structure ID3, dans lesquelles nous pouvons stocker beaucoup d'informations.  Il existe plusieurs options pour le format ID3, mais nous parlerons d'ID3 v2.3, dans lequel vous pouvez stocker la plupart des donn√©es.  Parmi les informations utiles, vous devez faire attention √†: <strong>nom, ann√©e d'enregistrement, genre, BPM (nombre de battements par minute), dur√©e de la piste</strong> .  Comment ces champs peuvent-ils nous aider lors de la g√©n√©ration de contenu?  Si tout est clair avec BPM, il est utilis√© pendant la g√©n√©ration tout le temps et nous en parlerons s√©par√©ment, alors pourquoi avons-nous besoin d'autres champs?  Ici, vous devez faire preuve d'imagination. </p><br><p>  Par exemple, nous lisons le genre et l'ann√©e.  Pour commencer, nous devons traiter un peu ces informations.  Par souci de simplicit√©, nous ne consid√©rerons que l'anglais.  Les balises MP3 (et autres balises) sont souvent remplies manuellement, √† partir de l√†, suivez diff√©rentes orthographes de genres, diff√©rentes ponctuations, etc.  Il est pr√©f√©rable d'amener la balise r√©sultante dans un format unique afin de la comparer plus facilement avec les autres.  Il est conseill√© de supprimer tous les signes de ponctuation, les espaces et de convertir la cha√Æne en minuscules.  Cela peut √™tre fait en utilisant des expressions r√©guli√®res. </p><br><p>  Apr√®s de telles manipulations, il vous sera beaucoup plus facile de comparer les genres de chansons.  Ensuite, vous devrez cr√©er une base de genres, bas√©e sur une source, et la parcourir pour compiler votre base de donn√©es de balises.  Voici un exemple d'une liste de tous les genres: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">musicgenreslist.com</a> .  Naturellement, vous devez choisir uniquement les plus basiques. </p><br><p>  Je n'ai pas r√©pondu, pourquoi de telles difficult√©s?  Je vais donner des exemples (tr√®s simplifi√©s). <br>  En fonction du genre, nous pouvons: </p><br><ul><li>  Changer de lieu (rock - for√™t sombre, musique √©lectronique - espace, country - d√©sert, pop - ville, etc.) </li><li>  Changer de personnage </li><li>  Changez d'ennemis, etc. </li></ul><br><p><img src="https://habrastorage.org/webt/xf/ri/y7/xfriy7rqpsny7hsrcrbezkncpts.jpeg"><br>  <em>Un exemple de personnage bas√© sur les balises rock, electro, pop.</em> </p><br><p>  Et puis vous pouvez trouver quoi que ce soit!  Ann√©e de sortie de l'album: 1960-1970?  Habillez le personnage avec les v√™tements de cette p√©riode.  Dur√©e de la piste 10 minutes?  Laissez votre ¬´serpent g√©n√©r√© musicalement¬ª avoir une longue queue.  Il y a beaucoup d'opportunit√©s et il y a toujours une chance de surprendre le joueur. </p><br><h2 id="predstavlenie-audiofaylov-v-unity">  Repr√©sentation de fichiers audio dans Unity </h2><br><p><img src="https://habrastorage.org/webt/dn/oa/fh/dnoafhs7ydzopthfrzaowcgvygi.png"><br>  <em>Tout semble simple ...</em> </p><br><p>  Unity a plusieurs composants principaux pour travailler avec le son: </p><br><ul><li>  L'auditeur audio (auditeur) se comporte comme un microphone.  Il re√ßoit l'entr√©e de n'importe quelle source sonore (source audio) dans la sc√®ne et √©met des sons via les haut-parleurs.  Pour la plupart des applications, il est logique d'ajouter un √©couteur √† la cam√©ra principale - l'objet Cam√©ra principale. </li><li>  La source audio lit le clip audio dans la sc√®ne.  Si le clip audio est un clip 3D, la source est lue √† une position donn√©e dans l'espace et sera coup√©e en fonction de la distance. </li><li>  Les clips audio (clips) contiennent des donn√©es audio utilis√©es dans les sources audio.  Unity prend en charge les ressources audio mono, st√©r√©o et multicanaux.  Unity peut importer les types de fichiers suivants: .aif, .wav, .mp3 et .ogg. </li></ul><br><p><img src="https://habrastorage.org/webt/yo/gn/4u/yogn4ur4qy6vpafvedpkylajw-s.png"></p><br><p>  Si vous √™tes profond√©ment plong√© dans le travail du son, vous devrez interagir directement avec les clips audio.  Un clip audio contient un tableau d'images sonores (√©chantillons) que vous pouvez lire et √©craser.  Avec cela (et des tas de matan), vous pouvez d√©terminer les param√®tres des pistes sonores et cr√©er des effets sonores. </p><br><h2 id="muzykalnye-parametry-treka">  Param√®tres de la piste musicale </h2><br><p>  Donc, nous avons lu quelques donn√©es de d√©part de notre piste et nous avons obtenu les premiers rudiments de g√©n√©ration.  Vous pouvez maintenant passer √† la partie la plus difficile.  Nous devons comprendre quels param√®tres dynamiques de la piste nous pouvons d√©terminer et comment ils peuvent √™tre utilis√©s dans le gameplay.  Une partie du mat√©riel est bas√©e sur le blog du studio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Parallelcube</a> .  Les gars font des atouts et des tutoriels pour Unreal Engine, pour lesquels merci beaucoup √† eux. </p><br><p>  Les t√¢ches suivantes peuvent √™tre distingu√©es: </p><br><ul><li>  D√©finir un baril comme d√©clencheur d'effets sp√©ciaux </li><li>  D√©terminer les moments calmes et forts d'une piste </li><li>  Utilisation de ces donn√©es pour cr√©er un niveau </li><li>  Utiliser ces donn√©es pour cr√©er des effets </li></ul><br><h3 id="opredelenie-bochki-v-treke-i-ispolzovanie-etogo-zvuka-kak-triggera">  D√©tecter une grosse caisse dans une piste et utiliser ce son comme d√©clencheur. </h3><br><p>  Afin de commencer √† d√©terminer les param√®tres de la piste, vous devez s√©lectionner la musique.  Pour faciliter le travail, vous avez besoin d'une piste dans laquelle il y a un canon √©vident et, de pr√©f√©rence, des transitions nettes en volume.  J'ai choisi le morceau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Perturbator - Future Club</a> , que l'on pouvait entendre dans le jeu Hotline Miami 2: Wrong Number. </p><br><p>  Voici une petite analyse de l'entr√©e de cette piste (la piste audio a √©t√© sp√©cialement raccourcie) </p><br><p><img src="https://habrastorage.org/webt/lg/5r/8_/lg5r8_jmgic9_dygd7ouaziop1y.png"></p><br><ol><li>  Le soi-disant fondu, ou introduction.  En ce moment, la piste monte en volume. </li><li>  La force de choc principale appara√Æt - le baril.  Les moments d'apparition du canon sont tr√®s faciles √† lire sur la repr√©sentation visuelle de la piste audio.  De plus, un synth√©tiseur de fond retentit ici et son bruit est visible sur la piste.  Si la piste n'avait pas √©t√© compress√©e, elle aurait √©t√© encore plus claire.  (d√©tails sur la compression <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ) </li><li>  Un synth√©tiseur suppl√©mentaire appara√Æt, ce qui √©rode l√©g√®rement la clart√© de la repr√©sentation visuelle du canon </li><li>  Une pause qui appara√Æt avant un moment lumineux dans la piste (drop). </li><li>  La partie principale, o√π, en plus du barillet, un synth√©tiseur de basse appara√Æt, ce qui d√©forme consid√©rablement la repr√©sentation visuelle du signal, mais le barillet peut encore √™tre distingu√©. </li></ol><br><p>  Donc, notre t√¢che principale est de d√©terminer √† quel moment notre baril sonne.  C'est une t√¢che assez difficile, pour laquelle des biblioth√®ques audio sp√©ciales sont g√©n√©ralement utilis√©es.  N'oubliez pas, s'il existe des options toutes faites, et que vous avez pour objectif de faire un effet, et non d'√©tudier le tapis.  partie, prenez des options toutes faites.  Si votre jeu a un budget et 25 $ suppl√©mentaires, vous pouvez acheter un atout sp√©cial aupr√®s du d√©veloppeur 3y3net, qui s'appelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Beat Detection</a> .  En outre, vous pouvez envisager une excellente option du d√©veloppeur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Allan Pichardo</a> .  Si vous voulez comprendre comment ces algorithmes fonctionnent, alors, bien s√ªr, √©crivez-le √† partir de z√©ro, vous-m√™me. </p><br><p>  Comme nous l'avons vu sur la piste audio, un battement se distingue toujours clairement par le niveau sonore.  Telle est son essence.  Les musiciens traitent et compressent sp√©cialement la piste afin que le rythme ne soit pas obstru√© par d'autres sons et ait sa place dans la plage de fr√©quences de la piste.  Le bit est toujours plus fort que le niveau de volume moyen (moyen).  Si le son est plus fort qu'un certain seuil (Threshold), alors nous, en regardant simplement l'affichage graphique de l'onde sonore, nous pouvons dire avec confiance "Oui, c'est un peu!" </p><br><p><img src="https://habrastorage.org/webt/fk/i_/d8/fki_d86fbvfj_nj-watpcbczg_y.gif"></p><br><p>  Je voudrais pr√©senter une description technique plus d√©taill√©e et des algorithmes sp√©cifiques pour d√©terminer un peu dans un article s√©par√© (il sera publi√© apr√®s un certain temps), car ce sujet d√©passe de loin la port√©e de ce mat√©riel.  En bref, dans de tels algorithmes, le son passe d'abord par des filtres pour en faciliter le traitement, apr√®s quoi la dynamique de l'√©nergie sonore est analys√©e.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici un exemple d'un tel algorithme (attention, matlab!)</a> . </p><br><p>  Une description math√©matique compl√®te de cet algorithme peut √™tre trouv√©e dans cet article: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conception et impl√©mentation d'un algorithme Beat Detector</a> . </p><br><p>  Imaginons donc que nous ayons pu √©crire un script qui d√©termine en temps r√©el √† quel moment un tonneau d√©marre.  De plus, √† l'aide de l'algorithme, nous pouvons √©galement d√©terminer le BPM g√©n√©ral et comprendre o√π le rythme principal ¬´bat¬ª avec nous.  Que pouvons-nous faire des informations re√ßues? </p><br><p>  Vous pouvez prendre Beathazard comme exemple et vous assurer que pour chaque rythme du rythme principal, notre navire tire avec un laser conventionnel ordinaire, et lorsque le canon frappe, nous tirons avec un super laser.  Cela ressemblera √† ceci: </p><br><p><img src="https://habrastorage.org/webt/9t/1z/ts/9t1ztsknz1gonebi2lzw7urv3p0.gif"></p><br><p>  De plus, nous pouvons ajouter plus de sp√©ciaux.  les effets.  Et faites pulser le niveau avec le bit: </p><br><p><img src="https://habrastorage.org/webt/yh/ga/e6/yhgae6kinv2oyb5aurq_c50ms60.gif"></p><br><p>  Le m√™me algorithme qui d√©termine le bit en temps r√©el, nous pouvons utiliser pour calculer le BPM (battements par minute ou le nombre de battements par minute).  Les informations BPM peuvent √™tre utilis√©es, par exemple, pour g√©n√©rer des niveaux de difficult√© et calculer des points bonus.  Si la piste est rapide (150-180 BMP), le joueur re√ßoit un bonus X5, etc. </p><br><h3 id="opredelenie-tihih-i-gromkih-momentov-v-treke">  D√©terminer les moments calmes et forts d'une piste </h3><br><p>  Une fa√ßon de d√©terminer les moments forts et calmes est de traiter la piste avec un filtre passe-bas et d'obtenir une moyenne mobile pour le niveau de volume.  Apr√®s cela, nous pouvons enregistrer ce niveau de volume dans un format qui nous convient, par exemple, dans un tableau flottant. </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous parvenez √† identifier dynamiquement les endroits calmes et bruyants de la musique, vous pouvez contr√¥ler tr√®s efficacement la tension et l'atmosph√®re de votre jeu. </font><font style="vertical-align: inherit;">Par exemple, avant la bataille avec le boss, une m√©lodie alarmante est jou√©e et lorsque le boss appara√Æt, elle devient plus forte. </font><font style="vertical-align: inherit;">Vous pouvez utiliser l'algorithme pour d√©terminer le niveau de volume et amplifier toutes les lumi√®res qui se trouvent sur la sc√®ne. </font><font style="vertical-align: inherit;">Ainsi, le joueur comprendra que l'apog√©e viendra bient√¥t.</font></font></p><br><p><img src="https://habrastorage.org/webt/pe/ar/vi/pearviknrx8wgkrkdar9bfmxum4.gif"></p><br><h3 id="sozdanie-urovnya-na-osnove-audiodannyh"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cr√©ation d'une couche bas√©e sur des donn√©es audio. </font></font></h3><br><p>   ,   ,   ,        ,    (     ).      , ,   2D-?          .          : </p><br><p><img src="https://habrastorage.org/webt/i5/fk/vs/i5fkvsoesbwbwf1mbx7ysar2j20.png"></p><br><p>            3D,    2D .  ,  Audiosurf     ,          . </p><br><p><img src="https://habrastorage.org/webt/av/tk/ip/avtkipe2mfxasz1wzqjfnj9hyy0.png"><br> <em>   Elastomania,      ?    !?</em> </p><br><p>                  , ,  ,    -  . </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  ,         ,     .     ,       ,         ,    ,            . ,    ,       ,      .    ,      ,           .                 Unity.   ! </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1y/u8/va/1yu8va0zuojgi-b0dos-rrkilw0.jpeg" width="700"></div><br><h2 id="poleznye-ssylki">  Liens utiles </h2><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">    </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Th√©orie du son. </font><font style="vertical-align: inherit;">Ce que vous devez savoir sur le son pour pouvoir l'utiliser. </font><font style="vertical-align: inherit;">D√©couvrez Yandex.Music</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualisation musicale: des approches traditionnelles aux interfaces modernes</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bases du codage audio avec perte. </font><font style="vertical-align: inherit;">Test de la version b√™ta d'Opus 1.3</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compression sonore</font></font></a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr429872/">https://habr.com/ru/post/fr429872/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr429854/index.html">Comment faire une romance interraciale dans le jeu et ne pas faire rire le joueur</a></li>
<li><a href="../fr429856/index.html">Migration d'Ubuntu vers Windows 10, Hyper-V et se d√©barrasser d'un routeur Iron</a></li>
<li><a href="../fr429858/index.html">Retirer de l'argent d'Upwork. Analyse comparative</a></li>
<li><a href="../fr429860/index.html">"Monstres dans les jeux ou comment surprendre un joueur"</a></li>
<li><a href="../fr429866/index.html">Comment: termes informatiques en anglais</a></li>
<li><a href="../fr429876/index.html">Les chercheurs ont surmont√© les bloqueurs de publicit√©s les plus puissants, la guerre des formats approche</a></li>
<li><a href="../fr429878/index.html">Pourquoi avec la croissance de l'entreprise, les d√©veloppeurs qui √©taient √† l'avant-garde sont ¬´par dessus bord¬ª</a></li>
<li><a href="../fr429880/index.html">Pix4D - des photos aux mesures</a></li>
<li><a href="../fr429882/index.html">Contr√¥le des LED RVB via les microcontr√¥leurs Cypress UDB PSoC</a></li>
<li><a href="../fr429884/index.html">Conf√©rence PROSTOR 2018: questions et r√©ponses sur l'avenir du stockage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>