<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👈🏾 🗞️ 👨‍🎤 Altium Designer: Was tun, wenn ein Projekt kompliziert wird? 🤹🏽 😍 👨‍👩‍👦‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Grüße! Ich denke, dass jeder Ingenieur oder nur ein Amateur / Heimwerker / Hersteller, der an der Entwicklung der Elektronik beteiligt ist, versucht, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Altium Designer: Was tun, wenn ein Projekt kompliziert wird?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426951/">  Grüße!  Ich denke, dass jeder Ingenieur oder nur ein Amateur / Heimwerker / Hersteller, der an der Entwicklung der Elektronik beteiligt ist, versucht, seine Fähigkeiten zu entwickeln, die mit der Komplexität der Projekte wachsen.  Irgendwann erreicht eine Person ein Niveau, in dem es den Anschein hat, dass die Projekte sehr komplex geworden sind, viel Zeit für die Entwicklung benötigen und Sie etwas dagegen tun müssen - Sie müssen Ihre Arbeit optimieren.  Heute werde ich Ihnen erklären, wie Sie die Produktivität meiner intellektuellen Arbeit in Altium Designer 18 (im Folgenden als AD oder AD18 bezeichnet) steigern und Zeit, Nerven und Geld sparen können. <br><br><img src="https://habrastorage.org/webt/gu/zt/o5/guzto50uwjuf0q39ju0n_fvxzg4.jpeg"><br><a name="habracut"></a><br><h2>  Einführung </h2><br>  Nun ein paar Informationen für diejenigen, die nicht wissen, was Altium Designer ist.  Dies ist eines von drei beliebten professionellen CAD-Systemen, mit denen Sie Elektronik praktisch beliebiger Komplexität entwickeln können.  Die beiden verbleibenden Pakete sind Mentor Expedition (und wahrscheinlich PADS) und Allegro Cadence.  Jedes dieser 3 Pakete hat seine Vor- und Nachteile sowie eine bedingte Spezialisierung.  Es wird heute keine Vergleiche geben, daher sage ich nur, warum ich mich für Altium entschieden habe: <br><br><ul><li>  Das hervorragende Design und die durchdachte Oberfläche dieses Programms sind einfach unübertroffen.  Schauen Sie sich einfach die Konkurrenten an und alles wird klar.  Ja, Design und Benutzerfreundlichkeit sind wichtig, wenn Sie jeden Tag mehrere Stunden bei der Arbeit verbringen.  Es erleichtert auch den Lernprozess für Anfänger, da das Lernen in einem verständlichen und logischen CAD viel einfacher ist. </li><li>  Die Fähigkeit, direkt mit mechanischem "Titan" wie SolidWorks zu arbeiten.  Wir können die Platine von AD einfach in festem Zustand öffnen und als Teil der Baugruppe ohne Qualitätsverlust hinzufügen.  Auf Wiedersehen Konvertierung durch STEP.  Für mich und sicherlich für Sie ist das wichtig, weil  Ein elektronisches Gerät ist nicht nur eine Platine mit Komponenten, es ist fast immer auch ein Fall.  Mit dieser Funktion können Sie auf einfache Weise ein Montagemodell des gesamten Geräts erstellen und Fehler bei der Konstruktion und Herstellung von Formen für jeweils 3 bis 5 Tausend US-Dollar vermeiden. </li><li>  Das Vorhandensein einer ausreichend großen Menge an Informationen auf Russisch, was eine relativ niedrige Eintrittsschwelle bietet.  Dies ist der Hauptgrund, warum Altium in der GUS dominiert und nicht etwas anderes.  Versuchen Sie, etwas auf Russisch von Mentor oder Cadence zu finden, und möchten Sie sofort lernen, darin zu arbeiten. </li><li>  In der GUS und in Asien arbeiten die meisten Unternehmen in Altium und haben in den USA einen großen Marktanteil.  In Europa lieben sie SolidWorks PCB, genau das gleiche eingebaute AD.  Was gibt es?  Sie können leicht einen Job finden, wenn Sie sich entscheiden, im Bereich der Elektronikentwicklung zu arbeiten. </li></ul><br>  Ja, ja, ich habe nicht über alle Arten von Simulationsfunktionen, Tools und mehr gesprochen, aber dies ist nicht erforderlich.  Alle 3 oben beschriebenen CAD-Systeme von der technischen Seite können ungefähr das Gleiche tun, nur mit unterschiedlichem Komfort und Krücken. <br><br><h2>  Ich möchte lernen, wie man in Altium arbeitet, aber es macht mir Angst </h2><br>  Einmal, im Jahr 2011-2012, hatte ich die Gelegenheit, zum ersten Mal in AD zu arbeiten. Es schien mir cool, aber beängstigend, weil  In diesem Moment war Englisch ein Hindernis für mich und im Allgemeinen war nicht klar, wie man darin arbeitet.  Um meine Angst vor einer Vielzahl von Tools und Funktionen zu überwinden, haben mir Videos von Comrade geholfen.  Sabunina (danke an ihn), die auf Youtube auf Russisch sind und grundlegende Dinge beschreiben, die es Ihnen ermöglichten, die ersten Schritte beim Mastering zu unternehmen.  In den letzten 6 Jahren gab es noch mehr Informationen zu AD auf Russisch, sodass die Eintrittsschwelle noch niedriger geworden ist. Haben Sie also keine Angst und lernen Sie nicht. <br><br>  Um Ihnen das Beherrschen von Altium Designer zu erleichtern, biete ich ein paar "Lebkuchen" von mir an: <br><br><ul><li>  Der Zyklus des Video-Trainings ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Die Videos haben eine lange Dauer, enthalten jedoch umfassende Informationen zur Grundfunktion (zumindest sagen sie dies) und ermöglichen es jedem Schüler, sein erstes Gerät einfach zu entwerfen. </li><li>  Bibliotheken für Altium Designer - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Hier finden Sie alle passiven Komponenten (Widerstände, Kondensatoren usw.) sowie eine Vielzahl gängiger Transistoren, Dioden und Mikroschaltungen, einschließlich MK und FPGA.  Das Erstellen von Bibliotheken zu Beginn nimmt viel Zeit in Anspruch, daher hoffe ich, dass ich Ihnen viel Zeit sparen werde. </li></ul><br>  Wenn Sie während des Studiums Fragen haben und Schwierigkeiten auftreten, können Sie mir private Nachrichten schreiben. Wenn möglich, versuche ich, alle zu beantworten. <br><br><h2>  Wann wird ein Projekt kompliziert? </h2><br>  Jedes mehr oder weniger ernsthafte Projekt, sei es der Quellcode eines Programms oder ein Schaltplan eines elektronischen Geräts, hat immer eine Eigenschaft, nach der Chaos einsetzt, das Projekt unverständlich wird, schwer zu überprüfen und zu testen ist und außer Kontrolle gerät. <br>  Diese Grenze ist für jeden Entwickler individuell: Einer kann ein Gerät mit 1000 Komponenten perfekt verstehen, der andere beginnt Fehler zu machen und hat Schwierigkeiten mit einem Projekt mit 200 Komponenten.  Im Allgemeinen ist die Schätzung der Anzahl elektronischer Komponenten etwas subjektiv, ermöglicht es uns jedoch, das allgemeine Wesen des Problems zu verstehen. <br><br>  Aus dem Obigen können wir die folgende Schlussfolgerung ziehen: <br><blockquote>  Ein Projekt wird kompliziert, wenn ein Entwickler Maßnahmen ergreifen muss, um die Lesbarkeit und Verständlichkeit der Projektquelle zu gewährleisten. </blockquote><br>  Bis zu einem bestimmten Moment können Sie mit Sicherheit alles punkten und auf dem Diagramm alles und jeden Weg „zeichnen“, zum Beispiel wie folgt: <br> <a href=""><img src="https://habrastorage.org/webt/vd/w2/dq/vdw2dq_hwfhik-wmtoqughhf3_4.png"></a> <br><br>  Alles verschmilzt, die Schaltung ist schlampig und letztendlich führt dies dazu, dass ein Pfad schief oder falsch ist. Sie haben dies in diesem Chaos nicht sofort bemerkt und infolgedessen die Leiter auf den Platinen abgeschnitten und den Rotz gelötet. <br><br>  Schauen wir uns noch ein Meisterwerk an - die Arduino-Schaltung aus AD: <br> <a href=""><img src="https://habrastorage.org/webt/nm/sy/za/nmsyzah9v2a4utjzaknyirhrxbg.png"></a> <br><br>  Wie gefällt es dir?  Es tut mir weh ... Ich schaue auf R2 und R3, es scheint klar zu sein, dass dies Hosenträger für I2C sind, aber wo ist dieser I2C und welcher Anschluss sollte ein Rätsel für mich sein und ich muss lange und mühsam danach suchen, und dies ist eine Schaltung mit einer kleinen Anzahl von Komponenten und einfach, aber schon Chaos. <br><br>  Als Alternative ein Beispiel aus meinen Arbeiten (anklickbar): <br> <a href=""><img src="https://habrastorage.org/webt/bj/qa/8n/bjqa8npbvzuprpktybwldilk_zs.png"></a> <br><br>  Schauen Sie sich das Schema an und ich denke, Sie verstehen sofort, zumindest wo sich der Eingang befindet und wo der Ausgang der Hinweis auf die „Pfeile“ ist, und wir sind keine Araber, wir lesen (einschließlich der Pläne) von links nach rechts.  Das Modul hat eine Funktion - ein dreiphasiges Gleichtaktfilter und nichts weiter.  Das Schema wird sorgfältig durchgeführt und belegt 1 Blatt in der Dokumentation.  1 Blatt - 1 Funktion. <br><br>  In der Tat, was ich oben geschrieben habe, sind Kleinigkeiten, die wichtig sind und das Leben leichter machen, aber immer noch Kleinigkeiten.  Obwohl ich hoffe, dass Sie die allgemeine Ideologie verstehen, lassen Sie uns nun zusammenfassen, wie man "macht": <br><br><ul><li>  Das Kapselungsprinzip ist auch in Schaltkreisen anwendbar: <b>Jedes Modul führt eine einzelne einfache Aufgabe aus</b> .  Ein Modul ist normalerweise ein einzelnes Blatt in der Dokumentation, z. B. ein A3. </li><li>  Der Schaltplan sollte im gleichen Stil und sehr sorgfältig ausgeführt werden.  Die Genauigkeit bei zukünftigen Arbeiten wird sich voll auszahlen.  Und wenn Sie beim Interview ein verständliches, sorgfältig ausgeführtes Schema zeigen, werden Sie sofort einen guten Eindruck haben.  Sie sehen die Hände sofort und mögen es normalerweise nicht; </li><li>  Verwenden Sie keine Blätter, die größer als A2 sind, auch wenn Sie einige tausend Komponenten haben.  Wenn Sie A1 halten wollen, dann machen Sie etwas falsch.  Möglicherweise müssen Sie einige Module im Diagramm auswählen und auf ein separates Blatt übertragen. </li></ul><br><h2>  Kritisieren Sie?  Schlagen Sie vor! </h2><br>  Nachdem wir andere kritisiert haben, ist es nun notwendig, eine Alternative vorzuschlagen, wie es geht.  Es versteht sich, dass die im Artikel beschriebene subjektive Meinung des Autors auf Arbeitserfahrung und seiner eigenen Sicht auf die Welt basiert. <br><br>  Ich schlage vor, wie alle normalen Menschen zu machen, das heißt, zuerst werden wir <s>eine</s> schlechte Version des Schemas <s>durch den Arsch machen</s> und dann alle Probleme heldenhaft lösen und in einen akzeptablen Zustand bringen.  Lass uns gehen! <br><br>  Erstellen Sie ein Projekt in Altium Designer.  Darin werde ich zum Beispiel einen 6-Phasen-Abwärts-DC / DC-Wandler darstellen.  Ich werde 6 Leistungskanäle und 1 MK zur Steuerung aller Phasen haben.  Jeder Stromkanal sieht folgendermaßen aus (anklickbar): <br><br> <a href=""><img src="https://habrastorage.org/webt/jx/v0/9b/jxv09bgcfh7u5xrlw3ieaw1rumw.png"></a> <br><br>  Den Stromkanal selbst habe ich ursprünglich richtig gezeichnet.  Wenn Sie genau hinschauen, habe ich einen Signaleingang an der Schaltung - 2 PWMs links + VCCIN mit GND, es gibt einen Ausgang - VCC5V und GND.  Das Modul selbst führt eine Aufgabe aus - konvertiert VCCIN in 5V.  Dann machen wir es schlecht ... <br><br>  Hier stoßen wir auf die erste Einschränkung - ein Kanal belegt fast das gesamte Blatt von A3, wir haben 6 davon. Wenn ich das Blatt auf A2 erhöhe, passt es immer noch nicht.  Sie können das Blatt auf A1 erhöhen - ausgezeichnet, im Moment <s>sind</s> wir unerfahrene Entwickler, und wir folgen einem solchen Weg und beobachten das folgende Bild (anklickbar): <br><br> <a href=""><img src="https://habrastorage.org/webt/ek/wh/6n/ekwh6nzv6qis3ns0ee_gqw5mhfm.jpeg"></a> <br><br>  Es scheint vorerst klar zu sein - es gibt 6 Teile der Rennstrecke, darunter befindet sich ein MK.  Das sind nur 30% des Programms. Was wird noch benötigt?  MK Bindung + Feedback?  Natürlich!  Sollte das Gerät mit der Außenwelt kommunizieren?  Natürlich RS485 hinzufügen.  Ahhh, Sie brauchen immer noch Strom für die Treiber, das heißt, Sie müssen +12 V von VCCIN erhalten und DC / DC hinzufügen!  Noch ein MK ... er braucht noch 1 DC / DC und fügt jetzt all das hinzu - schau (klickbar): <br><br> <a href=""><img src="https://habrastorage.org/webt/ve/dt/5s/vedt5s9enrmszzqgnkcvx2hpuhm.jpeg"></a> <br><br>  Es ist klar, was da ist?  Und wenn ich anfangs nicht über die Funktionalität des Gerätes gesprochen habe?  Und wenn er darüber hinaus auch ungeschickte Teile der Rennstrecke ungeschickt malte?  Und wenn die UGO-Komponenten in den Bibliotheken zunächst schief gezeichnet werden?  Angst?  Das ist das gleiche ... <br><br><h2>  Was tun? </h2><br>  Lassen Sie uns jetzt überlegen ... In diesem Gerät gibt es insgesamt 150 Komponenten. In meinen durchschnittlichen Projekten im Zusammenhang mit Leistungselektronik liegen diese normalerweise zwischen 1500 und 4000, dh dem Ausmaß der Katastrophe, die Sie sich vorstellen, wenn 10 solcher A1-Blätter wie oben vorhanden sind und alle überladen und verstopft sind.  Fehler sind unvermeidlich! <br><br>  Wir schauen und denken weiter.  Als erstes müssen die Module gebildet werden.  Ich habe sie alle gebildet, weil  Ich habe sie gerade von einem Heimwerker kopiert, aber ich habe ein Modul kaputt gemacht - den EEPROM-Speicher, der auf I2C läuft.  Ich habe den gleichen Fehler gemacht wie im Arduino-Schema, wie es geht: <br><br><img src="https://habrastorage.org/webt/my/te/ui/myteuiwqvk4dwi6s8_uehdlodug.png"><br><br>  Wie Sie sehen können, habe ich einen Speicherchip in einem „Haufen“ zusammengestellt, der den Leistungskondensator blockiert, der in der Nähe davon steht und bis zu +3,3 V anzieht.  Jetzt muss ich nicht mehr nach allen Komponenten suchen, die zum Binden eines Speicherchips benötigt werden. Laut Schema befinden sich alle an einem Ort.  Es ist übrigens nicht erforderlich, jedem kleinen Chip ein separates Blatt zuzuweisen, dennoch ist das EEPROM kein separates Modul, sondern Teil der Mikrocontroller-Bindung.  MK mit Umreifung - jetzt ist dies ein Modul, das eines separaten Blattes würdig ist. <br><br>  Fahren wir fort ... Wir haben sich wiederholende Teile der Schaltung, zum Beispiel 2 absolut identische Kanäle für die Rückmeldung an einen Operationsverstärker (OA), 6 genau identische Leistungskanäle.  Dies kann ebenfalls optimiert werden. <br><br>  Ein weiterer guter Gedanke ist, dass wenn alle 6 Buck-Kanäle gleich sind, ihre Spur wahrscheinlich gleich sein wird.  Dies muss verwendet werden.  Vielleicht können Sie die Straßen für ein Modul trennen, und dann sagen die restlichen 5 "gut, wiederholen"?  Es stellt sich heraus, dass AD es uns ermöglicht, unser Leben erheblich zu vereinfachen. <br><br><h2>  Lass es uns schön machen! </h2><br>  Wo fängt ein elektronisches Gerät an?  Natürlich mit einer Idee.  Wie kann man diese Idee in etwas Greifbares verwandeln?  Sie können beispielsweise ein Blockdiagramm zeichnen, in dem die Makrofunktionalität angezeigt wird.  Sie müssen nicht sehr schlau sein, nur ein Bild auf einer Tafel oder ein Stück Papier: <br><br><img src="https://habrastorage.org/webt/zc/o3/sr/zco3srognsucoj_w2aaclx9ngze.png"><br><br>  Auf das Blatt passen alle Funktionen unseres Gerätes.  Erstens ermöglicht uns diese Schaltung zu verstehen, wie das Gerät im Grunde funktioniert: Es gibt einen 6-Kanal-Leistungsteil (Buck), der von der MCU gesteuert wird und zur Steuerung zu 2 Rückkopplungssignalen durch den Operationsverstärker (Amp.) Führt Es gibt auch ein paar DC / DC für die Selbstversorgung und eine Modbus-Schnittstelle für die Kommunikation mit der Welt.  Zweitens sind gemäß dem Schema vorgefertigte Funktionsblöcke sofort sichtbar. <br><br>  Jetzt müssen wir 5 Blätter A3 in AD erstellen und den entsprechenden Teil der Schaltung auf jedes übertragen, aber vorher müssen wir die Arten von Verbindungen und Schaltungen berücksichtigen, die wir in AD verwenden werden: <br><br><ul><li>  <b>Stromanschluss</b> <br><img src="https://habrastorage.org/webt/c5/mb/it/c5mbitcaqsofvn-ufyayajxglzq.png"><br>  Dieser Typ ist im gesamten Projekt global.  Das heißt, wenn wir einen solchen Port auf ein Blatt und auf ein anderes setzen, werden sie zu einem einzigen Stromkreis mit dem Namen "VCC3V3" zusammengeführt.  Dementsprechend müssen außerdem die Stromkreise auf verschiedenen Blättern nicht angeschlossen werden.  Dieser Porttyp definiert nur die Stromversorgung und Masse (GND). </li><li>  <b>Netzetikett</b> <br><img src="https://habrastorage.org/webt/uq/qh/yg/uqqhygfvtvqpwecsopyvy0nqb4q.png"><br>  Ein Tool zum Benennen einer bestimmten Schaltung in einer Schaltung.  Gleichnamige Ketten (NetLabel) werden sowohl innerhalb eines Blattes als auch darüber hinaus kombiniert.  Wir werden dieses koschere Tool verwenden, dh nur, um Namen und Verbindungen innerhalb eines Blattes anzugeben. </li><li>  <b>Port platzieren</b> <br><img src="https://habrastorage.org/webt/5s/ew/di/5sewdiqhjjqltwansn6bn-uhcfc.png"><br>  Werkzeug für intermodulare Verbindungen.  Im Gegensatz zu NetLabel, das zum Verbinden innerhalb eines Moduls / Blatts verwendet wird, wird dieser Port zur Kommunikation mit der "Außenwelt" verwendet.  Wir verbinden Module miteinander, alle Stromkreise außer Strom und Masse (GND). </li></ul><br><br>  Jetzt müssen wir Signale über den Place Port setzen, der über das Modul hinausgeht.  Für ein Modul mit einem Operationsverstärker sieht es beispielsweise folgendermaßen aus: <br><br> <a href=""><img src="https://habrastorage.org/webt/rn/ei/gp/rneigpk1jw6ug4opk96df6jsu9w.png"></a> <br><br>  Jetzt ist unser Modul ein völlig logischer Teil der Schaltung geworden: Es hat einen Eingang (INPUT), einen Ausgang (ADC-OUT) und 2 globale Verbindungen (Power Port) - GND und VCC3V3.  Nichts Überflüssiges.  Wir werden dasselbe für andere Module tun und die automatische Zuordnung von Zahlen zu Symbolen (Bezeichner) vornehmen, indem wir zu <i>Extras -&gt; Anmerkungen -&gt; Schaltpläne mit Anmerkungen gehen</i> und auf <i>Änderungsliste</i> <i>aktualisieren</i> klicken: <br><br> <a href=""><img src="https://habrastorage.org/webt/6p/ct/5e/6pct5e8yygpyhzvg0uyfxyjrdja.png"></a> <br><br>  Klicken Sie anschließend auf <i>Änderungen akzeptieren</i> und im daraufhin <i>angezeigten</i> Fenster auf <i>Änderungen ausführen</i> : <br><br> <a href=""><img src="https://habrastorage.org/webt/l5/vt/ur/l5vturkknxvohhatyk4viimvl-g.png"></a> <br><br>  Wir schließen die zusätzlichen Fenster und sehen, dass unsere Bezeichnungen (D ?, R ?, C? Usw.) eindeutige Nummern erhalten haben.  Nach den durchgeführten Aktionen erhalten wir hier ein solches Projekt - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PDF</a> . <br><br>  Und wie?  Ich denke, niemand wird streiten - alles ist ordentlich, es ist klar, wie es auf den ersten Blick funktioniert, es gibt keinen Müll im Diagramm.  Jetzt bleibt es für die Kleinen - wir müssen irgendwie 6 Kanäle aus einem Blatt erstellen und im Allgemeinen alles zusammenfügen. <br><br>  Erstellen Sie dazu ein neues Blatt. Ich habe es nur als <i>Hauptdesign bezeichnet</i> , aber der Name kann beliebig sein.  In diesem Blatt haben wir ein Blockdiagramm, das ich zuvor von Hand gezeichnet habe.  Um das Modul zu erstellen, gehen Sie zu <i>Platzieren -&gt; Blattsymbol</i> .  Stellen wir nun unser Element auf den Stil des gesamten Projekts ein, dh die Schriftart (ich habe ISOCPEUR), die Breite und Farbe des Rahmens, den Bezeichner usw., und schreiben Sie mit unserem Modul auch den Namen des Blattes: <br><br><img src="https://habrastorage.org/webt/zj/uv/0w/zjuv0w3hkefzuvnq8xc6dnmhcku.png"><br><br>  Klicken Sie nun mit der rechten Maustaste auf unser Modul (orangefarbenes Quadrat) und gehen Sie zu <i>Blattsymbolaktionen -&gt; Blatteinträge und Port synchronisieren.</i> Ein Fenster wird geöffnet: <br><br><img src="https://habrastorage.org/webt/fr/gs/l3/frgsl3n9uo2xcqdhnrgpirshcjk.png"><br><br>  Darin sehen wir eine Liste unseres Place Ports.  Wir wählen alles aus und klicken auf <i>Blatteinträge hinzufügen</i> , installieren es in unserem Modul und legen den allgemeinen Schrifttyp fest. Wir erhalten das folgende Modul: <br><br><img src="https://habrastorage.org/webt/u1/8b/-6/u18b-6hcubunivyggssoyyvw6-a.png"><br><br>  Jetzt wiederholen wir dasselbe für die verbleibenden 4 Module und am Ausgang erhalten wir diese Struktur: <br><br><img src="https://habrastorage.org/webt/5h/km/o9/5hkmo9yrrttkgr7xjqyedxsyuoi.png"><br><br>  Hier lohnt es sich, auf 2 Punkte zu achten: <br><br><ul><li>  Das fünfte Blatt (Seite 5) mit DC / DC erkennt den Place Port beim Synchronisieren nicht. Wenn Sie sich das Moduldiagramm ansehen, sind sie wirklich nicht vorhanden, sondern nur der Power Port.  ABER!  Das Modul muss unbedingt herausgenommen werden, da sonst die Komponenten aus diesem Blatt einfach nicht auf der Platine erscheinen. </li><li>  Beachten Sie, dass das Werkzeug "Port platzieren" einen Direktivitätsparameter hat: Eingabe, Ausgabe und bidirektional.  Sie sollten den Porttyp für Ihr Signal korrekt bestimmen. Beispielsweise werden die PWM-H-Ports für das MCU-Modul ausgegeben (ausgegeben) und für das Buck-Modul eingegeben (eingegeben). </li></ul><br><br><h2>  Klon </h2><br>  Nachdem wir alle Module erstellt haben, müssen wir ihre Anzahl erhöhen, um 6 Kanäle für das Leistungsteil und 2 Kanäle für Operationsverstärker zu erhalten.  Wie das Sprichwort sagt, gibt es immer zwei Ausgänge, auch wenn Sie gegessen wurden und dieser Fall ist keine Ausnahme.  Ich werde beide Wege zeigen: <br><br><ul><li>  <b>Von Hand zu Hand kopieren</b> <br>  Hier ist alles einfach - gewöhnliches Kopieren und Einfügen.  Wählen Sie unser Modul, Strg + C und Strg + V - wir erhalten ein neues Modul.  Es bleibt einfach, die Bezeichnernummer von M3 auf M6 zu ändern.  Dann verbinden wir alles und erhalten eine Zwischenversion der Schaltung: <br><br> <a href=""><img src="https://habrastorage.org/webt/sj/z8/-z/sjz8-zjktmvg7pybeqcjcyuathe.png"></a> <br><br>  Ich habe das Operationsverstärkermodul kopiert, ein paar Anschlüsse und GND- und VCCIN-Busse hinzugefügt. Sie sind jetzt global und werden sofort in allen Modulen angeschlossen, in denen sie sich befinden.  In diesem Fall ist es nicht sinnvoll, sie separat zu platzieren.  Ich habe auch alle externen Schaltkreise mit Ausnahme des Buck-Moduls angeschlossen. Darauf werde ich den zweiten, kompakteren Weg demonstrieren. </li><li>  <b>Jedi kopieren</b> <br>  Im Gegensatz zur Vorgängerversion ist hier alles schwer zu verstehen, aber einfacher zu implementieren und vor allem kompetenter.  Mit der <i>REPEAT-</i> Direktive werden mehrere Kanäle erstellt.  Zu diesem <i>Zweck</i> schreiben wir anstelle von M1 den Befehl <i>REPEAT (BUCK, 1, 6)</i> .  Dieses Team wird Kanäle mit Bezeichnern von BUCK1 bis BUCK6 erstellen, dh unseren 6 Stücken.  Drücken Sie die <i>Eingabetaste</i> und sehen Sie, wie AD die erforderliche Anzahl von Kanälen erstellt hat: <br><br><img src="https://habrastorage.org/webt/-o/sl/dy/-osldyuu0iuv_x-zbtpij1vmybq.png"><br><br>  Jetzt müssen Sie die Schaltung anschließen.  Ich beginne mit einem einfachen - unsere OUT-5V-Ausgänge auf allen Kanälen sollten kombiniert werden, weil  Alle unsere Phasen arbeiten als ein Konverter für einen gemeinsamen Ausgang.  Dazu ziehen wir einfach eine normale Schaltung vom Place Port und verbinden sie mit dem Ausgangsanschluss: <br><br><img src="https://habrastorage.org/webt/e9/hn/n9/e9hnn95pdp_ojpwm9yekqleigq0.png"><br><br>  Jetzt müssen Sie AD mitteilen, dass unsere PWM-H-Ports nicht ein Port / eine Schaltung, sondern 6 separate Kanäle sind.  Klicken Sie dazu auf Port mit dem Namen PWM-H platzieren und schreiben Sie <i>REPEAT (PWM-H)</i> in die Spalte mit dem Namen. Dadurch werden 6 verschiedene Ketten erstellt: <br><br><img src="https://habrastorage.org/webt/rl/8s/fb/rl8sfbllpq1iip970vwc_4y4xh8.png"><br><br>  Jetzt müssen Sie die normale Kette (Strg + W) vom Place Port mit dem Namen REPEAT (PWM-H) ausgeben und dieser Kette mit dem NetLabel-Tool den Namen PWM-H geben.  Dann muss der Bus aus dem Stromkreis entfernt und mit dem Namen <i>PWM-H [1..6] versehen werden</i> .  Aus einem Port haben wir also 6 verschiedene Schaltungen abgeleitet, die die Namen PWM-H1, PWM-H2 usw. haben: <br><br><img src="https://habrastorage.org/webt/13/w6/ak/13w6akm1gjnn3pgt1gdvciyuyua.png"><br><br>  Als nächstes verbinden wir den <i>PWM-H-</i> Bus <i>[1..6]</i> mit dem <i>Busausgang</i> am MCU-Modul für die oberen Halbbrückentransistoren.  Ähnliche Verfahren müssen auch für die unteren Transistoren durchgeführt werden und nur den Bus werfen, am Ende haben wir eine Schaltung der folgenden Form: <br><br><img src="https://habrastorage.org/webt/cf/ha/mj/cfhamjkazr69f7wkvqken9jgbo4.png"><br><br>  Nachdem wir Zen gelernt haben, wollen wir das Jedi-Modul mit einem Operationsverstärker neu gestalten, um keine Krücke in Form von Copy Paste zu hinterlassen.  Als Ergebnis erhalten wir die endgültige Version des Schaltplans: <br><br> <a href=""><img src="https://habrastorage.org/webt/li/o6/qs/lio6qs-imr6-dtzxjzqfwm3d3au.jpeg"></a> </li></ul><br><br>  Hier enden wir mit dem Schaltplan, das Endergebnis ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PDF</a> .  Wie Sie sehen können, kam das einfachste Schema heraus, nur ein paar halb leere A3-Blätter, die jeder Amateurfunker mit minimaler Zeit und Nerven herausfinden kann. <br><br><h2>  Sparen Sie Dutzende von Arbeitsstunden pro Spur </h2><br>  In modernen Realitäten dauert die Entwicklung eines Schaltplans immer weniger, wenn der Integrationsgrad von Komponenten (Mikroschaltungen) recht hoch ist.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schon nicht so oft triffst du 90% der analogen Monster und das ist gut so. Der „Schwachpunkt“ im Entwicklungsprozess des Geräts bleibt das Design der Leiterplatte. Moderne CAD-Systeme bieten viele verschiedene Werkzeuge, um die Arbeitskosten für die Entwicklung einer Platine zu senken, und genau dies war der Hauptzweck dieses Artikels. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie ich bereits erwähnt habe, enthält unser Gerät mehrere sich wiederholende Module: Buck und Operationsverstärker. Wenn Sie sich moderne Geräte ansehen, werden viele solche Wiederholungen haben, zum Beispiel ein 4-Kanal-Oszilloskop, bei dem alle Kanäle identisch sind. Natürlich können wir jeden Kanal mit unseren Händen verfolgen und unser Leben vereinfachen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alles, was zuvor in diesem Artikel beschrieben wurde, heißt einfach - ein </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mehrkanalschema</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">klingt einfach und geschmackvoll. </font><font style="vertical-align: inherit;">Wir haben einen solchen Schaltplan erstellt, und jetzt können wir Folgendes tun: Die Schaltkreise für einen Buck-Kanal trennen und dann einfach auf die verbleibenden 5 und die Position der Komponenten (Layout) und aller Leiter kopieren. </font><font style="vertical-align: inherit;">Übertragen Sie zunächst alle unsere Komponenten aus dem Schaltplan in die Datei mit der Leiterplatte, klicken Sie auf </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design -&gt; PCB-Dokument aktualisieren</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font style="vertical-align: inherit;">Klicken Sie nun auf </font><i><font style="vertical-align: inherit;">Änderungen ausführen,</font></i><font style="vertical-align: inherit;"> und als Ergebnis erhalten wir genau diese Leiterplatte:</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/-s/md/vs/-smdvse1gmy6i_qrhjkyjyf_xck.png"></a> <br><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><br> <a href=""><img src="https://habrastorage.org/webt/rh/di/zr/rhdizrfl3abzwrw7bdj6sos-bii.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie Sie sehen können, erschienen 6 rote Zonen auf der Tafel, die als Räume bezeichnet werden. </font><font style="vertical-align: inherit;">Jeder Raum hat elektronische Komponenten für einen Kanal und nichts weiter. </font><font style="vertical-align: inherit;">Jetzt müssen Sie die Abmessungen des Raums festlegen, dh angeben, welchen spezifischen Bereich die Komponenten unseres Kanals einnehmen werden, und das Layout der Details vornehmen.</font></font> Es sieht so aus: <br><br> <a href=""><img src="https://habrastorage.org/webt/b0/e7/pm/b0e7pm-noct7bcnkrkwhsgggmrw.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Komponenten jedes Kanals werden also lokalisiert und nehmen genau einen solchen Bereich ein. Es stimmt, ich mag hier etwas nicht ... Ja! Die Bezeichnungen der Komponenten in der Siebdruckschicht (weiße Beschriftung) haben keine End-to-End-Nummerierung, sondern eine Nummerierung im Format „Room_Name“, dh wir haben Widerstände R6_BUCK1, R6_BUCK2 usw. Ich möchte das Präfix "_BUCK1" vermeiden und jede Komponente hat ihre eigene Nummer. Drücken Sie </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Strg + L</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und gehen Sie dann zum Menü </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anmerkungsoptionen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in dem ein solches Menü angezeigt wird: </font><font style="vertical-align: inherit;">Jetzt müssen Sie die Nummerierungsoption </font><i><font style="vertical-align: inherit;">$ ComponentPrefix $ GlobalIndex</font></i><font style="vertical-align: inherit;"> auswählen </font><font style="vertical-align: inherit;">und auf OK klicken. Klicken Sie auf </font><i><font style="vertical-align: inherit;">Alle </font></i><i><font style="vertical-align: inherit;">zurücksetzen</font></i><font style="vertical-align: inherit;"> , </font><i><font style="vertical-align: inherit;">um</font></i><font style="vertical-align: inherit;"> alle Werte zu </font><i><font style="vertical-align: inherit;">verwerfen</font></i><font style="vertical-align: inherit;"> , und klicken </font><i><font style="vertical-align: inherit;">Sie</font></i><font style="vertical-align: inherit;"> dann auf </font><i><font style="vertical-align: inherit;">Anotate Designated.</font></i></font><br><br> <a href=""><img src="https://habrastorage.org/webt/jo/iq/o9/joiqo9-1gdxlwdttbuvrf29uxne.png"></a> <br><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wie Sie im BUCK2-Kanal sehen können, haben die Komponenten ihre Bezeichnungen von R6_BUCK2 in die bekannteren Bezeichnungen R6, R7 usw. geändert. Sie müssen </font></font><br><br><img src="https://habrastorage.org/webt/c2/0c/mz/c20cmzv77sxz1jb2iy7auzw5mzi.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Änderungen noch akzeptieren, indem Sie auf </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Änderungen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akzeptieren klicken </font><font style="vertical-align: inherit;">und im folgenden Fenster alles bestätigen, indem Sie auf </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Änderungen ausführen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> klicken </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wir übertragen die Änderungen von der Schaltung auf die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design -&gt; Update PCB Documet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Platine, </font><font style="vertical-align: inherit;">wie wir es bereits getan haben. </font><font style="vertical-align: inherit;">Infolgedessen beobachten wir „menschliche“ Bezeichnungen, die nicht die gesamte Platine einnehmen, und scheißen darin: </font></font><br><br><img src="https://habrastorage.org/webt/v9/a-/s8/v9a-s8fylb11ljgqwbq9atwc3ya.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mit einem angemessenen Layout und Bezeichnungen fahren wir mit dem Routing fort - wir werden die Schaltkreise in einem BUCK6-Raum verfolgen und das folgende Bild erhalten:</font></font><br><br><img src="https://habrastorage.org/webt/sl/g_/jb/slg_jb6wz8ia-ivopkpuau2tr6e.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe nicht alles gezüchtet, GND hat es unberührt gelassen, weil </font><font style="vertical-align: inherit;">Dies wird normalerweise mit einem einzelnen Polygon gefüllt. </font><font style="vertical-align: inherit;">Genug für eine Demonstration. </font><font style="vertical-align: inherit;">Gehen Sie nun wie folgt vor:</font></font><br><br><ul><li>  <i>Design -&gt; Rooms -&gt; Cope Room Format</i> </li><li> Altium    <i>Choose source room</i> ,           ,     BUCK6 </li><li>  altium  <i>ChooseDestination Room</i> ,            .    BUCK-. </li><li>        <i>Apply To Specified Channel</i> ,  ,        ,    . <br> <a href=""><img src="https://habrastorage.org/webt/v5/-e/qj/v5-eqjm_va7esddyjkzku5oulle.png"></a> </li><li>    ! </li></ul><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe keine Morgendämmerung gesetzt und auf 2 Kanäle geklickt, weil Es gibt Situationen, in denen beispielsweise nicht alle Kanäle identisch sind. Denken Sie an das VRM auf dem Motherboard der CPU, es gibt oft 3-4 Phasen auf der einen Seite und 3-4 weitere auf der anderen Seite. In meinem Fall können es 3 Phasen mit einer Verkabelung und 3 weitere Phasen mit einer anderen sein. Ich denke, die allgemeine Ideologie ist verständlich. Schauen wir uns nun das Ergebnis an: Wir beobachten </font><font style="vertical-align: inherit;">3 identische Kanäle und vor allem habe ich Zeit auf allen Kanälen als 1 verbracht. In diesem abstrakten Fall spare ich 6-mal Zeit, aber bei realen Problemen ist das Verfahren zur Reduzierung der Arbeitskosten ungefähr gleich. Und es ist kein unwichtiger Faktor - wenn Sie 6 Kanäle mit Ihren Händen machen, ist das „Auge“ aufgrund der gleichen Art von Arbeit verschwommen und es ist sehr wahrscheinlich, dass Sie einen Fehler machen oder eine Layoutkurve erstellen.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/je/p6/zt/jep6ztsxyvoosu1x00wflcgfeii.png"></a> <br><br><font style="vertical-align: inherit;"></font><br><br><h2>  Zusammenfassung </h2><br>                 -   .   —   ,               . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de426951/">https://habr.com/ru/post/de426951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de426941/index.html">Zur Frage der Geschwindigkeit und Messung in Arduino</a></li>
<li><a href="../de426943/index.html">Die umfassendste russische Übersetzung des Harvard Programming Course CS50 2015, kostenlos auf YouTube</a></li>
<li><a href="../de426945/index.html">Was mir an Paul Allen gefallen hat</a></li>
<li><a href="../de426947/index.html">"Der Teufel hat mich gezogen, um im Büro zu arbeiten" - 10 Fragen an den Programmierer, 9. Auflage</a></li>
<li><a href="../de426949/index.html">THX Deep Note Sound neu erstellen</a></li>
<li><a href="../de426953/index.html">Arch Linux Beispiel- und Installationsmethoden</a></li>
<li><a href="../de426957/index.html">Einführung in WSGI-Server: Teil Eins</a></li>
<li><a href="../de426959/index.html">Installieren Sie Kubernetes über Kubespray (lokaler Speicher, installieren Sie Elasticsearch + Fluentd + Kibana, prometheus)</a></li>
<li><a href="../de426961/index.html">Wie Microsoft den C # -Compiler in C # umschrieb und öffnete</a></li>
<li><a href="../de426963/index.html">Träumen Flutter-Apps von plattformbasierten Widgets?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>