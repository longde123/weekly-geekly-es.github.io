<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëú üêÅ üßõ Der Linux-Kernel enthielt WireGuard VPN ü¶å üë®üèø‚Äçü§ù‚Äçüë®üèΩ üçù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute ist Linus in eine Net-Next-Filiale mit WireGuard VPN-Schnittstellen umgezogen . Dieses Ereignis wurde auf der WireGuard-Mailingliste gemeldet . ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Der Linux-Kernel enthielt WireGuard VPN</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dcmiran/blog/486046/">  Heute ist Linus in eine Net-Next-Filiale mit <a href="https://www.wireguard.com/">WireGuard</a> VPN-Schnittstellen <a href="https://www.wireguard.com/">umgezogen</a> .  Dieses Ereignis wurde auf der WireGuard-Mailingliste <a href="https://lists.zx2c4.com/pipermail/wireguard/2020-January/004906.html">gemeldet</a> . <br><br><img src="https://habrastorage.org/webt/kp/qj/lf/kpqjlfg-kigwemsvbuzdegg_ira.png"><br><br>  Derzeit wird die Codeerfassung f√ºr den neuen Linux 5.6-Kernel fortgesetzt.  WireGuard ist ein schnelles VPN der neuen Generation mit moderner Kryptografie.  Es wurde urspr√ºnglich als einfachere und bequemere Alternative zu vorhandenen VPNs entwickelt.  Der Autor ist der kanadische Informationssicherheitsspezialist Jason A. Donenfeld.  Im August 2018 wurde WireGuard von Linus Torvalds <a href="https://lists.openwall.net/netdev/2018/08/02/124">gelobt</a> .  Etwa zu der Zeit begannen die Arbeiten zur Einbindung eines VPN in den Linux-Kernel.  Der Prozess war etwas verz√∂gert. <br><a name="habracut"></a><br>  "Ich sehe, dass Jason einen Pool-Antrag gestellt hat, um WireGuard in den Core aufzunehmen", schrieb Linus am 2. August 2018.  - Kann ich nur noch einmal meine Liebe zu diesem VPN erkl√§ren und auf eine baldige Fusion hoffen?  Der Code ist vielleicht nicht perfekt, aber ich habe ihn mir angesehen und im Vergleich zu den Schrecken von OpenVPN und IPSec ist dies ein echtes Kunstwerk. ‚Äú <br><br>  Trotz der W√ºnsche von Linus zog sich die Fusion eineinhalb Jahre hin.  Das Hauptproblem stellte sich heraus, dass sie selbst kryptografische Funktionen implementierten, die zur Steigerung der Produktivit√§t eingesetzt wurden.  Nach langwierigen Verhandlungen im September 2019 wurde <a href="https://lists.zx2c4.com/pipermail/wireguard/2019-September/004560.html">ein Kompromiss geschlossen,</a> um die Patches auf die Kernfunktionen der Crypto-API zu √ºbertragen, bei denen WireGuard-Entwickler Beschwerden √ºber die Leistung und die allgemeine Sicherheit haben.  Sie beschlossen jedoch, die nativen WireGuard-Kryptofunktionen in eine separate Zink-API auf niedriger Ebene zu integrieren und sie schlie√ülich auf den Kernel zu portieren.  Im November hielten die Kernentwickler ihr Versprechen und <a href="https://lists.zx2c4.com/pipermail/wireguard/2019-November/004614.html">einigten sich darauf</a> , einen Teil des Codes von Zink auf den Hauptkern zu √ºbertragen.  Zum Beispiel enth√§lt die Crypto-API WireGuard-vorbereitete schnelle Implementierungen der ChaCha20- und Poly1305-Algorithmen. <br><br>  Am 9. Dezember 2019 <a href="https://lists.zx2c4.com/pipermail/wireguard/2019-December/004704.html">akzeptierte</a> David S. Miller, verantwortlich f√ºr das Linux-Kernel-Netzwerk-Subsystem, <a href="https://lkml.org/lkml/2019/12/8/240">Patches</a> mit der Implementierung der VPN-Schnittstelle vom WireGuard-Projekt in den net-next-Zweig. <br><br>  Und heute, am 29. Januar 2020, gingen die √Ñnderungen an Linus, um in den Kernel aufgenommen zu werden. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c4e/f99/656/c4ef99656b0c2b9db9e69c30f2d16461.svg"><br><br>  Die erkl√§rten Vorteile von WireGuard gegen√ºber anderen VPN-L√∂sungen: <br><br><ul><li>  Einfach zu bedienen <br></li><li>  Verwendet moderne Kryptografie: Noise Protocol Framework, Curve25519, ChaCha20, Poly1305, BLAKE2, SipHash24, HKDF usw. <br></li><li>  Kompakter lesbarer Code, der leichter auf Schwachstellen untersucht werden kann. <br></li><li>  Hohe leistung. <br></li><li>  Klare und detaillierte <a href="https://www.wireguard.com/papers/wireguard.pdf">Spezifikation</a> . </li></ul><br>  Die gesamte Kernlogik von WireGuard ben√∂tigt weniger als 4000 Codezeilen, w√§hrend OpenVPN und IPSec Hunderttausende von Zeilen umfassen. <br><br><blockquote> ‚ÄûWireGuard verwendet das Konzept des Weiterleitens von Verschl√ºsselungsschl√ºsseln, bei dem ein privater Schl√ºssel an jede Netzwerkschnittstelle gebunden und zum Binden √∂ffentlicher Schl√ºssel verwendet wird.  Der Austausch √∂ffentlicher Schl√ºssel zum Verbindungsaufbau erfolgt analog zu SSH.  Um Schl√ºssel auszuhandeln und eine Verbindung herzustellen, ohne einen separaten D√§mon im Benutzerbereich zu starten, wird der Noise_IK-Mechanismus aus dem <a href="http://noiseprotocol.org/">Noise Protocol Framework verwendet</a> , √§hnlich wie bei der Verwaltung von authorized_keys in SSH.  Daten werden durch Kapselung in UDP-Paketen √ºbertragen.  Es unterst√ºtzt das √Ñndern der IP-Adresse des VPN-Servers (Roaming) ohne Unterbrechung der Verbindung mit automatischer Rekonfiguration des Clients, <a href="https://www.opennet.ru/opennews/art.shtml%3Fnum%3D51997">schreibt</a> Opennet. <br><br>  F√ºr die Verschl√ºsselung <a href="https://www.wireguard.io/protocol/">werden</a> die <a href="http://cr.yp.to/chacha.html">ChaCha20-</a> Stream-Verschl√ºsselung und der von <a href="http://cr.yp.to/djb.html">Daniel J. Bernstein</a> , Tanja Lange und Peter Schwabe entwickelte Nachrichtenauthentifizierungsalgorithmus (MAC) <a href="http://cr.yp.to/mac.html">Poly1305</a> verwendet.  ChaCha20 und Poly1305 sind die schnelleren und sichereren Analoga von AES-256-CTR und HMAC, deren Software-Implementierung es erm√∂glicht, eine feste Laufzeit ohne spezielle Hardware-Unterst√ºtzung zu erreichen.  Um einen gemeinsamen geheimen Schl√ºssel zu generieren, wird das Diffie-Hellman-Protokoll f√ºr elliptische Kurven in der Implementierung von <a href="http://cr.yp.to/ecdh.html">Curve25519 verwendet</a> , das auch von Daniel Bernstein vorgeschlagen wurde.  F√ºr das Hashing wird der <a href="https://www.opennet.ru/opennews/art.shtml%3Fnum%3D35676">BLAKE2-</a> Algorithmus <a href="https://www.opennet.ru/opennews/art.shtml%3Fnum%3D35676">(RFC7693) verwendet</a> . ‚Äú </blockquote><br>  <a href="https://www.wireguard.com/performance/">Leistungstestergebnisse</a> von der offiziellen Website: <br><br>  <b>Bandbreite (Megabit / s)</b> <br><img src="https://habrastorage.org/webt/0p/10/cx/0p10cxvt-fv9qx2ohcgo4urzgwc.png"><br><br>  <b>Ping (ms)</b> <br><img src="https://habrastorage.org/webt/av/v7/f-/avv7f-woayzkqjhd5zdtsn9hqqw.png"><br><br><h4>  Testkonfiguration: </h4><br><ul><li>  Intel Core i7-3820QM und Intel Core i7-5200U </li><li>  Gigabit Intel 82579LM und Intel I218LM Karten </li><li>  Linux 4.6.1 </li><li>  WireGuard-Konfiguration: 256-Bit-ChaCha20 mit Poly1305 f√ºr MAC </li><li>  IPsec-Erstkonfiguration: 256-Bit-ChaCha20 mit Poly1305 f√ºr MAC </li><li>  Zweite IPsec-Konfiguration: AES-256-GCM-128 (mit AES-NI) </li><li>  OpenVPN-Konfiguration: √Ñquivalentes 256-Bit-AES-Verschl√ºsselungsset mit HMAC-SHA2-256, UDP-Modus </li><li> Die Leistung wurde mit <code>iperf3</code> gemessen und zeigte ein durchschnittliches Ergebnis in 30 Minuten. </li></ul><br>  Theoretisch sollte WireGuard nach der Integration in den Netzwerkstack noch schneller arbeiten.  In der Realit√§t ist dies jedoch nicht unbedingt der Fall, da auf die im Kern der Crypto-API integrierten kryptografischen Funktionen √ºbergegangen wird.  Vielleicht sind noch nicht alle auf das Leistungsniveau des nativen WireGuard optimiert. <br><br><blockquote>  ‚ÄûMeiner Meinung nach ist WireGuard im Allgemeinen ideal f√ºr den Benutzer.  Alle Entscheidungen auf niedriger Ebene werden in der Spezifikation getroffen, sodass die Vorbereitung einer typischen VPN-Infrastruktur nur wenige Minuten dauert.  Es ist fast unm√∂glich, die Konfiguration zu verwechseln, - <a href="https://habr.com/ru/post/432686/">sie haben</a> 2018 √ºber Habr√© geschrieben.  - Der Installationsprozess <a href="https://www.wireguard.com/install/">ist</a> auf der offiziellen Website <a href="https://www.wireguard.com/install/">ausf√ºhrlich beschrieben</a> , ich m√∂chte die hervorragende <a href="https://openwrt.org/docs/guide-user/network/tunneling_interface_protocols">Unterst√ºtzung f√ºr OpenWRT erw√§hnen</a> .  Eine solche Benutzerfreundlichkeit und Kompaktheit der Codebasis wurde aufgrund der Ablehnung der Verteilung von Schl√ºsseln erreicht.  Es gibt kein kompliziertes Zertifikatsystem und all diesen Unternehmensschrecken, kurze Verschl√ºsselungsschl√ºssel werden ungef√§hr wie SSH-Schl√ºssel verteilt. ‚Äú </blockquote><br>  Das WireGuard-Projekt wird seit 2015 entwickelt und hat eine Pr√ºfung und <a href="https://www.wireguard.com/formal-verification/">formelle Verifizierung bestanden</a> .  Die WireGuard-Unterst√ºtzung ist in NetworkManager und systemd integriert, und Kernel-Patches sind Teil der Basisdistributionen von Debian Unstable, Mageia, Alpine, Arch, Gentoo, OpenWrt, NixOS, Subgraph und ALT. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de486046/">https://habr.com/ru/post/de486046/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de486030/index.html">TL-SREET 55 5K LED Stra√üenlaterne Bewertung</a></li>
<li><a href="../de486032/index.html">So werden Sie Dialogdesigner</a></li>
<li><a href="../de486034/index.html">Schneller Einstieg in das Produktmanagement √ºber Open Source</a></li>
<li><a href="../de486036/index.html">Text-Stimmungsanalyse auf Node.js</a></li>
<li><a href="../de486042/index.html">Gesetzgebung f√ºr Boten und Telekommunikation</a></li>
<li><a href="../de486048/index.html">Was ist das und was frisst es?</a></li>
<li><a href="../de486050/index.html">Webix JavaScript-Bibliothek mit den Augen eines Anf√§ngers. Teil 3. Module, Diagramme, Baumtabellen</a></li>
<li><a href="../de486052/index.html">Verbrannte Erde ist die Mutter aller Spiele. Interview mit dem Sch√∂pfer</a></li>
<li><a href="../de486056/index.html">Vom Skript zur eigenen Plattform: Wie wir die Entwicklung am Cyan Institute automatisierten</a></li>
<li><a href="../de486060/index.html">Finden Sie Ordnung im Chaos der IT: Organisieren Sie Ihre eigene Entwicklung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>