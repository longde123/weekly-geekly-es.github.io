<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚Ñ¢Ô∏è üëê ‚úåÔ∏è NB-IoT: Wie funktioniert es? Teil 3: SCEF - ein einziges Zugriffsfenster auf Betreiberdienste üéÜ üë∂ üëäüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In dem Artikel " NB-IoT: Wie funktioniert es?" Teil 2 ‚Äú, in dem es um die Architektur des Paketkerns des NB-IoT-Netzwerks ging, erw√§hnten wir das Auft...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>NB-IoT: Wie funktioniert es? Teil 3: SCEF - ein einziges Zugriffsfenster auf Betreiberdienste</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/473982/">  <b>In dem Artikel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NB-IoT: Wie funktioniert es?"</a></b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> ‚Äú, in dem es um die Architektur des Paketkerns des NB-IoT-Netzwerks ging, erw√§hnten wir das Auftreten eines neuen SCEF-Knotens.</b>  <b>Wir erkl√§ren im dritten Teil, was es ist und warum es ben√∂tigt wird.</b> <br><br><img src="https://habrastorage.org/webt/76/cr/em/76cremp-e3xgn0thazxk_jvws8k.png"><br><br>  Beim Erstellen eines M2M-Dienstes stehen Anwendungsentwickler vor folgenden Fragen: <br><br><ul><li>  So identifizieren Sie Ger√§te </li><li>  Welcher Authentifizierungs- und Authentifizierungsalgorithmus verwendet werden soll; </li><li>  welches Transportprotokoll f√ºr die Interaktion mit Ger√§ten verwendet werden soll; </li><li>  So liefern Sie garantiert Daten an Ger√§te </li><li>  wie man Regeln f√ºr den Datenaustausch mit ihnen organisiert und festlegt; </li><li>  wie man Informationen √ºber ihren Status online √ºberwacht und empf√§ngt; </li><li>  wie man gleichzeitig Daten an eine Gruppe ihrer Ger√§te liefert; </li><li>  So senden Sie gleichzeitig Daten von einem Ger√§t an mehrere Clients. </li><li>  So erhalten Sie einen einheitlichen Zugriff auf zus√§tzliche Betreiberdienste f√ºr die Verwaltung Ihres Ger√§ts. </li></ul><br>  Um sie zu l√∂sen, m√ºssen propriet√§re, technisch ‚Äûschwere‚Äú L√∂sungen erstellt werden, was zu einer Erh√∂hung der Arbeitskosten und der Markteinf√ºhrungszeit f√ºhrt.  Hier kommt der neue SCEF-Knoten zur Rettung. <a name="habracut"></a><br><br>  Gem√§√ü der Definition von 3GPP ist SCEF (Service Capability Exposure Function) eine v√∂llig neue Komponente der 3GPP-Architektur, deren Funktion darin besteht, die von 3GPP-Netzwerkschnittstellen √ºber die API bereitgestellten Dienste und Funktionen sicher verf√ºgbar zu machen. <br><br>  Mit einfachen Worten, SCEF ist ein Vermittler zwischen dem Netzwerk und dem Anwendungsserver (AS), einem einzigen Zugriffsfenster auf Betreiberdienste zur Verwaltung seines M2M-Ger√§ts im NB-IoT-Netzwerk √ºber eine intuitive standardisierte API. <br><br>  SCEF verbirgt die Komplexit√§t des Netzes des Betreibers und erm√∂glicht es Anwendungsentwicklern, von komplexen, spezifischen Mechanismen f√ºr die Interaktion mit Ger√§ten zu abstrahieren. <br><br>  Durch die Umwandlung von Netzwerkprotokollen in vertraute Anwendungsentwickler erleichtert die SCEF-API die Erstellung neuer Dienste und verk√ºrzt die Markteinf√ºhrungszeit.  Au√üerdem umfasst der neue Knoten die Funktionen zur Identifizierung / Authentifizierung mobiler Ger√§te, zur Festlegung der Regeln f√ºr den Datenaustausch zwischen dem Ger√§t und AS, um die Implementierung dieser Funktionen von Anwendungsentwicklern auf ihrer Seite zu vermeiden und diese Funktionen auf die Schultern des Bedieners zu √ºbertragen. <br><br>  SCEF schlie√üt die f√ºr die Authentifizierung und Autorisierung von Anwendungsservern erforderlichen Schnittstellen, um die UE-Mobilit√§t, die Daten√ºbertragung und das Ausl√∂sen von Ger√§ten, den Zugriff auf zus√§tzliche Dienste und die Funktionen des Betreibernetzwerks aufrechtzuerhalten. <br><br>  In Richtung AS gibt es eine einzige T8-Schnittstelle, eine API (HTTP / JSON), ein standardisiertes 3GPP.  Alle Schnittstellen mit Ausnahme von T8 arbeiten auf Basis des DIAMETER-Protokolls (Abb. 1). <br><br><img src="https://habrastorage.org/webt/zr/gv/ej/zrgvejwzuyyxg2jegzpavpkjzbk.png"><br><br>  T6a ist die Schnittstelle zwischen SCEF und MME.  Wird f√ºr Mobilit√§ts- / Sitzungsverwaltungsverfahren, Nicht-IP-Daten√ºbertragung, Bereitstellung von √úberwachungsereignissen und Empfang von Berichten dar√ºber verwendet. <br><br>  S6t ist die Schnittstelle zwischen SCEF und HSS.  Es ist erforderlich, um den Abonnenten zu authentifizieren, Anwendungsserver zu autorisieren, eine Reihe externer IDs und IMSI / MSISDN zu erhalten, √úberwachungsereignisse bereitzustellen und Berichte dar√ºber zu erhalten. <br><br>  S6m / T4 - Schnittstellen von SCEF zu HSS und SMS-C (der MTC-IWF-Knoten ist in 3GPP definiert, das zum Ausl√∂sen von Ger√§ten und zum Senden von SMS in NB-IoT-Netzwerken verwendet wird. In allen Implementierungen ist jedoch die Funktionalit√§t dieses Knotens in SCEF integriert, z Vereinfachung des Schemas werden wir nicht gesondert betrachten).  Wird verwendet, um Routing-Informationen zum Senden von SMS und zur Interaktion mit dem SMS-Center abzurufen. <br><br>  T8 - SCEF-API f√ºr die Interaktion mit Anwendungsservern.  √úber diese Schnittstelle werden sowohl Steuerbefehle als auch Verkehr √ºbertragen. <br><br>  * In Wirklichkeit gibt es mehr Schnittstellen, nur die grundlegendsten sind hier aufgelistet.  Eine vollst√§ndige Liste finden Sie in 3GPP 23.682 (4.3.2 Liste der Referenzpunkte). <br><br>  Nachfolgend sind die wichtigsten Funktionen und Dienste von SCEF aufgef√ºhrt: <br><br><ul><li>  Binden einer SIM-Karten-ID (IMSI) an eine externe ID; </li><li>  Nicht-IP-Verkehrszustellung (Non-IP Data Delivery, NIDD); </li><li>  Gruppenoperationen unter Verwendung einer externen Gruppen-ID; </li><li>  Unterst√ºtzung des Daten√ºbertragungsmodus mit Best√§tigung; </li><li>  Puffern von MO- (Mobile Originated) und MT- (Mobile Terminated) Daten; </li><li>  Authentifizierung und Autorisierung von Ger√§ten und Anwendungsservern; </li><li>  gleichzeitige Verwendung der Daten eines UE durch mehrere AS; </li><li>  Unterst√ºtzung spezieller Funktionen zur √úberwachung des Status von UE (MONTE - Monitoring Events); </li><li>  Ger√§teausl√∂sung; </li><li>  Bereitstellung von Roaming-Nicht-IP-Daten. </li></ul><br>  Das Grundprinzip der Interaktion zwischen AS und SCEF basiert auf dem sogenannten  Abonnements.  Wenn Sie auf einen SCEF-Dienst f√ºr ein bestimmtes UE zugreifen m√ºssen, muss der Anwendungsserver ein Abonnement erstellen, indem er einen Befehl an die spezifische API des angeforderten Dienstes sendet und als Antwort eine eindeutige Kennung erh√§lt.  Danach finden alle weiteren Aktionen und Kommunikationen mit dem UE im Rahmen dieses Dienstes unter Verwendung dieser Kennung statt. <br><br>  <b>Externe ID: universelle Ger√§tekennung</b> <br><br>  Eine der wichtigsten √Ñnderungen im Interaktionsschema zwischen AS und Ger√§ten bei der Arbeit mit SCEF ist die Entstehung einer universellen Kennung.  Anstelle einer Telefonnummer (MSISDN) oder IP-Adresse wie im klassischen 2G / 3G / LTE-Netzwerk wird die Ger√§tekennung f√ºr den Anwendungsserver nun zu ‚Äûexterner ID‚Äú.  Es wird durch den Standard in dem Format definiert, das Anwendungsentwicklern "&lt;Local Identifier&gt; @ &lt;Domain Identifier&gt;" bekannt ist. <br><br>  Entwickler m√ºssen keine Ger√§teauthentifizierungsalgorithmen mehr implementieren, das Netzwerk √ºbernimmt diese Funktion vollst√§ndig.  Die externe ID ist an IMSI angeh√§ngt, und der Entwickler kann sicher sein, dass er unter Bezugnahme auf eine bestimmte externe ID mit einer bestimmten SIM-Karte interagiert.  Bei Verwendung eines SIM-Chips ergibt sich eine allgemein eindeutige Situation, wenn die externe ID ein bestimmtes Ger√§t eindeutig identifiziert! <br><br>  Dar√ºber hinaus k√∂nnen mehrere externe IDs an eine IMSI angeh√§ngt werden. Eine noch interessantere Situation ergibt sich, wenn die externe ID eine bestimmte Anwendung eindeutig identifiziert, die f√ºr einen bestimmten Dienst auf einem bestimmten Ger√§t verantwortlich ist. <br><br>  Eine Gruppenkennung wird ebenfalls angezeigt - eine externe Gruppen-ID, die eine Reihe separater externer IDs enth√§lt.  Mit einer einzigen Anforderung an SCEF kann AS jetzt Gruppenoperationen initiieren - Daten oder Steuerbefehle an mehrere Ger√§te senden, die zu einer einzigen logischen Gruppe zusammengefasst sind. <br><br>  Aufgrund der Tatsache, dass f√ºr AS-Entwickler der √úbergang zu einer neuen Ger√§tekennung nicht sofort erfolgen kann, hat SCEF die M√∂glichkeit einer AS-Kommunikation mit dem UE √ºber die Standardnummer - MSISDN - verlassen. <br><br>  <b>Non-IP Data Delivery (NIDD)</b> <br><br>  In NB-IoT wurde im Rahmen der Optimierung der Mechanismen f√ºr die √úbertragung kleiner Datenmengen zus√§tzlich zu den vorhandenen PDN-Typen wie IPv4, IPv6 und IPv4v6 ein anderer Typ angezeigt - Nicht-IP.  In diesem Fall wird dem Ger√§t (UE) keine IP-Adresse zugewiesen, und Daten werden ohne Verwendung des IP-Protokolls √ºbertragen.  Der Verkehr f√ºr solche Verbindungen kann auf zwei Arten geleitet werden: klassisch - MME -&gt; SGW -&gt; PGW und dann durch den PtP-Tunnel zu AS (Abb. 2) oder mithilfe von SCEF (Abb. 3). <br><br><img src="https://habrastorage.org/webt/2j/zy/7v/2jzy7vfxlilxzphit8uegwa9r6e.png"><br><br>  Die klassische Methode bietet keine besonderen Vorteile gegen√ºber dem IP-Verkehr, au√üer dass die Gr√∂√üe der √ºbertragenen Pakete aufgrund des Fehlens von IP-Headern verringert wird.  Die Verwendung von SCEF er√∂ffnet eine Reihe neuer M√∂glichkeiten und vereinfacht die Verfahren zur Interaktion mit Ger√§ten erheblich. <br><br>  Bei der Daten√ºbertragung √ºber SCEF gibt es zwei sehr wichtige Vorteile gegen√ºber dem klassischen IP-Verkehr: <br><br>  <u>√úbermittlung des MT-Verkehrs an das Ger√§t per externer ID</u> <br><br>  Um eine Nachricht an ein klassisches IP-Ger√§t zu senden, muss der AS seine IP-Adresse kennen.  Hier tritt ein Problem auf: Da sich das Ger√§t normalerweise mit einer ‚Äûgrauen‚Äú IP-Adresse registriert, kommuniziert es √ºber den NAT-Knoten mit dem Anwendungsserver, der sich im Internet befindet, wo die graue Adresse in Wei√ü √ºbersetzt wird.  Eine Reihe von grauen und wei√üen IP-Adressen ist abh√§ngig von den NAT-Einstellungen zeitlich begrenzt.  Im Durchschnitt f√ºr TCP oder UDP - nicht mehr als f√ºnf Minuten.  Das hei√üt, wenn innerhalb von 5 Minuten kein Datenaustausch mit diesem Ger√§t stattgefunden hat, wird das Bundle aufgel√∂st und das Ger√§t ist unter der wei√üen Adresse, mit der die Sitzung mit AS initiiert wurde, nicht mehr zug√§nglich.  Es gibt verschiedene L√∂sungen: <br><br>  1. Verwenden Sie einen Herzschlag.  Sobald eine Verbindung hergestellt ist, muss das Ger√§t alle paar Minuten mit AS-Paketen austauschen, um zu verhindern, dass NAT-√úbersetzungen geschlossen werden.  Von Energieeffizienz kann jedoch keine Rede sein. <br><br>  2. Suchen Sie bei Bedarf jedes Mal auf dem AS nach Paketen f√ºr das Ger√§t - senden Sie eine Nachricht an den Uplink. <br><br>  3. Erstellen Sie einen privaten APN (VRF), in dem sich der Anwendungsserver und die Ger√§te im selben Subnetz befinden, und weisen Sie den Ger√§ten statische IP-Adressen zu.  Es wird funktionieren, aber dies ist fast unm√∂glich, wenn es um eine Flotte von Tausenden, Zehntausenden von Ger√§ten geht. <br><br>  4. Schlie√ülich die am besten geeignete Option: Verwenden Sie IPv6, es wird kein NAT ben√∂tigt, da auf IPv6-Adressen direkt √ºber das Internet zugegriffen werden kann.  Selbst in diesem Fall erh√§lt das Ger√§t bei einer erneuten Registrierung eine neue IPv6-Adresse und ist bei der vorherigen nicht mehr verf√ºgbar. <br><br>  Dementsprechend ist es notwendig, ein bestimmtes Initialisierungspaket mit der Ger√§tekennung an den Server zu senden, um die neue IP-Adresse des Ger√§ts zu melden.  Warten Sie dann auf das Best√§tigungspaket von AS, das sich auch auf die Energieeffizienz auswirkt. <br><br>  Diese Methoden eignen sich gut f√ºr 2G / 3G / LTE-Ger√§te, bei denen f√ºr das Ger√§t keine strengen Anforderungen an die Autonomie gelten und daher keine zeitlichen Beschr√§nkungen f√ºr Luft und Verkehr bestehen.  F√ºr NB-IoT sind diese Methoden aufgrund ihres hohen Energieverbrauchs nicht geeignet. <br><br>  SCEF l√∂st dieses Problem: Da die einzige Ger√§tekennung f√ºr AS eine externe ID ist, reicht es f√ºr AS aus, ein Datenpaket f√ºr eine bestimmte externe ID an SCEF zu senden. SCEF k√ºmmert sich um den Rest.  Befindet sich das Ger√§t im Energiesparmodus PSM oder eDRX, werden die Daten gepuffert und √ºbermittelt, sobald das Ger√§t verf√ºgbar ist.  Wenn das Ger√§t f√ºr den Datenverkehr verf√ºgbar ist, werden die Daten sofort geliefert.  Gleiches gilt f√ºr Managementteams. <br><br>  Der AS kann die gepufferte Nachricht jederzeit an das UE zur√ºckziehen oder durch eine neue ersetzen. <br><br>  Der Puffermechanismus kann auch verwendet werden, wenn MO-Daten vom UE zur AS-Seite √ºbertragen werden.  Wenn SCEF nicht in der Lage war, Daten sofort an AS zu √ºbermitteln, z. B. wenn Servicearbeiten auf AS-Servern ausgef√ºhrt werden, werden diese Pakete gepuffert und garantiert zugestellt, sobald der AS verf√ºgbar ist. <br><br>  Wie oben erw√§hnt, wird der Zugriff auf einen bestimmten Dienst und ein bestimmtes UE f√ºr AS (und NIDD ist ein Dienst) durch Regeln und Richtlinien auf der SCEF-Seite geregelt, wodurch die einzigartige F√§higkeit realisiert werden kann, die Daten eines UE von mehreren AS gleichzeitig zu verwenden.  Das hei√üt  Wenn mehrere AS ein UE abonniert haben, sendet SCEF sie nach dem Empfang von Daten vom UE an alle signierten AS.  Dies ist gut geeignet f√ºr F√§lle, in denen der Ersteller einer Flotte spezialisierter Ger√§te Daten zwischen mehreren Clients fummelt.  Wenn Sie beispielsweise ein Netzwerk von Wetterstationen erstellen, die mit NB-IoT betrieben werden, k√∂nnen Sie Daten von diesen gleichzeitig an viele Dienste verkaufen. <br><br>  <b>Garantierter Mechanismus zur Nachrichten√ºbermittlung</b> <br><br>  Zuverl√§ssiger Datendienst - ein Mechanismus f√ºr die garantierte Zustellung von MO- und MT-Nachrichten ohne Verwendung spezieller Algorithmen auf Protokollebene, wie z. B. Handshake in TCP.  Es funktioniert, indem w√§hrend des Austauschs zwischen dem UE und dem SCEF ein spezielles Flag in den Dienstteil der Nachricht aufgenommen wird.  Ob dieser Mechanismus bei der √úbertragung von Datenverkehr aktiviert werden soll oder nicht, entscheidet der AS. <br><br>  Wenn der Mechanismus aktiviert ist, enth√§lt das UE, falls erforderlich, die garantierte Zustellung von MO-Verkehr ein spezielles Flag im Serviceteil des Pakets.  Nach Erhalt eines solchen Pakets antwortet der SCEF dem UE mit einer Best√§tigung.  Wenn das UE kein Best√§tigungspaket empfangen hat, wird das Paket an SCEF weitergeleitet.  Das gleiche passiert f√ºr den MT-Verkehr. <br><br>  <b>Ger√§te√ºberwachung (√úberwachungsereignisse - MONTE)</b> <br><br>  Wie oben erw√§hnt, umfasst die SCEF-Funktion unter anderem Funktionen zum √úberwachen des Zustands des UE, die sogenannten  Ger√§te√ºberwachung.  Und wenn neue Kennungen und Daten√ºbertragungsmechanismen Optimierungen (wenn auch sehr schwerwiegend) bestehender Verfahren sind, ist MONTE eine v√∂llig neue Funktionalit√§t, die in 2G / 3G / LTE-Netzen nicht verf√ºgbar ist.  Mit MONTE kann AS Ger√§teparameter wie Verbindungsstatus, Kommunikationsverf√ºgbarkeit, Standort, Roaming-Status usw. √ºberwachen.  Wir werden Ihnen sp√§ter mehr dar√ºber erz√§hlen. <br><br>  Wenn ein √úberwachungsereignis f√ºr ein Ger√§t oder eine Gruppe von Ger√§ten aktiviert werden muss, abonniert AS den entsprechenden Dienst, indem der entsprechende MONTE-API-Befehl an SCEF gesendet wird, der Parameter wie externe ID oder externe Gruppen-ID, AS-ID, √úberwachungstyp, Anzahl der Berichte usw. enth√§lt. welche AS erhalten m√∂chte.  Wenn der AS berechtigt ist, die Anforderung auszuf√ºhren, l√∂st SCEF je nach Typ das Ereignis auf dem HSS oder der MME aus (Abb. 4).  Wenn ein Ereignis eintritt, generiert die MME oder HSS einen Bericht an die SCEF-Seite, der ihn an den AS sendet. <br><br>  Alle Ereignisse mit Ausnahme von "Anzahl der in einem geografischen Gebiet vorhandenen UEs" werden √ºber HSS bereitgestellt.  Die beiden Ereignisse "√Ñnderung der IMSI-IMEI-Zuordnung" und "Roaming-Status" werden direkt auf dem HSS verfolgt, der Rest des HSS wird auf dem MME bereitgestellt. <br>  Ereignisse k√∂nnen entweder einmalig oder periodisch sein und werden durch ihren Typ bestimmt. <br><br><img src="https://habrastorage.org/webt/rx/o_/px/rxo_pxe6tfzeoj0eeuue2s0s8gi.png"><br><br>  Die Ereignisberichterstattung (Berichterstellung) wird vom Ereignisverfolgungsknoten direkt an SCEF gesendet (Abb. 5). <br><br><img src="https://habrastorage.org/webt/jw/oz/-7/jwoz-70hshog3zslpoh21-8n-m8.png"><br><br>  <b>Ein wichtiger Punkt:</b> √úberwachungsereignisse k√∂nnen sowohl auf Nicht-IP-Ger√§te angewendet werden, die √ºber SCEF verbunden sind, als auch auf IP-Ger√§te, die Daten auf klassische Weise √ºber MME-SGW-PGW √ºbertragen. <br><br>  Schauen wir uns jedes √úberwachungsereignis genauer an: <br><br>  <u>Verbindungsverlust</u> - Informiert AS, dass das UE weder f√ºr Datenverkehr noch f√ºr Signalisierung mehr verf√ºgbar ist.  Das Ereignis tritt auf, wenn der "mobile Erreichbarkeitszeitgeber" f√ºr das UE auf der MME abl√§uft.  In der Anforderung f√ºr diese Art der √úberwachung kann der AS seinen Wert "Maximale Erkennungszeit" angeben. Wenn das UE w√§hrend dieser Zeit keine Aktivit√§t anzeigt, wird der AS dar√ºber informiert, dass das UE nicht verf√ºgbar ist, und den Grund angeben.  Das Ereignis tritt auch auf, wenn das UE aus irgendeinem Grund vom Netzwerk zwangsweise entfernt wurde. <br><br>  * Damit das Netzwerk wei√ü, dass das Ger√§t noch verf√ºgbar ist, wird regelm√§√üig der Aktualisierungsvorgang - Tracking Area Update (TAU) - eingeleitet.  Die Frequenz dieser Prozedur wird vom Netzwerk unter Verwendung des Zeitgebers T3412 oder (T3412_extended im Fall von PSM) eingestellt, dessen Wert w√§hrend der Attach-Prozedur oder der n√§chsten TAU an das Ger√§t √ºbertragen wird.  Der Timer f√ºr die mobile Erreichbarkeit ist normalerweise einige Minuten l√§nger als der T3412.  Wenn das UE vor Ablauf des Zeitgebers f√ºr die mobile Erreichbarkeit keine TAU erstellt, betrachtet das Netzwerk diese als nicht mehr verf√ºgbar. <br><br>  <u>Erreichbarkeit</u> des UE - Zeigt an, wann das UE f√ºr DL-Verkehr oder SMS verf√ºgbar wird.  Dies geschieht, wenn das UE f√ºr das Paging verf√ºgbar wird (f√ºr das UE im eDRX-Modus) oder wenn das UE in den ECM-CONNECTED-Modus wechselt (f√ºr das UE im PSM- oder eDRX-Modus), d. H.  macht eine TAU oder sendet ein Uplink-Paket. <br><br>  <u>Standortberichterstattung</u> - Mit dieser Art von √úberwachungsereignis kann der AS UE-Standortdaten anfordern.  Es kann entweder der aktuelle Standort (aktueller Standort) oder der letzte bekannte Standort (letzter bekannter Standort, bestimmt durch die Zellen-ID, von der das Ger√§t die TAU erstellt oder den Datenverkehr zum letzten Mal √ºbertragen hat) angefordert werden, was f√ºr Ger√§te im PSM- oder eDRX-Energiesparmodus wichtig ist.  F√ºr "Aktueller Standort" kann der AS wiederholte Wiederholungen anfordern, wobei die MME den AS jedes Mal informiert, wenn der Ger√§testandort ge√§ndert wird. <br><br>  <u>√Ñnderung der IMSI-IMEI-Zuordnung</u> - Wenn dieses Ereignis aktiviert ist, beginnt SCEF, die √Ñnderungen in der Verbindung zwischen IMSI (SIM-Karten-ID) und IMEI (Ger√§te-ID) zu verfolgen.  Wenn ein Ereignis eintritt - informiert AS.  Es kann verwendet werden, um die externe ID dem Ger√§t w√§hrend geplanter Austauscharbeiten automatisch neu zuzuweisen oder als Kennung f√ºr den Diebstahl des Ger√§ts zu dienen. <br><br>  <u>Roaming-Status</u> - Diese Art der √úberwachung wird vom AS verwendet, um zu bestimmen, ob sich das UE im Heimnetzwerk oder im Netzwerk des Roaming-Partners befindet.  Optional kann das PLMN (Public Land Mobile Network) des Betreibers √ºbertragen werden, in dem das Ger√§t registriert ist. <br><br>  <u>Kommunikationsfehler</u> - Diese Art der √úberwachung informiert den AS √ºber Kommunikationsfehler mit dem Ger√§t, basierend auf den Gr√ºnden f√ºr die Verbindung (Freigabekurscode), die vom Funkzugangsnetz (S1-AP-Protokoll) empfangen wurde.  Dieses Ereignis kann dabei helfen, den Grund f√ºr den Kommunikationsfehler zu ermitteln - beispielsweise aufgrund von Netzwerkproblemen, wenn eNodeb (Funkressourcen nicht verf√ºgbar) √ºberlastet ist oder weil das Ger√§t selbst (Funkverbindung mit verlorenem UE) ausgefallen ist. <br><br>  <u>Verf√ºgbarkeit nach DDN-Fehler</u> - Dieses Ereignis informiert den AS dar√ºber, dass das Ger√§t nach einem Kommunikationsfehler verf√ºgbar wurde.  Es kann verwendet werden, wenn Daten auf das Ger√§t √ºbertragen werden m√ºssen, der vorherige Versuch jedoch nicht erfolgreich war, da das UE nicht auf die Benachrichtigung vom Netzwerk reagiert hat (Paging) und die Daten nicht √ºbermittelt wurden.  Wenn diese Art der √úberwachung f√ºr das UE angefordert wurde, wird AS informiert, sobald das Ger√§t eingehende Kommunikation herstellt, eine TAU erstellt oder Daten an die Aufw√§rtsverbindung sendet, dass das Ger√§t verf√ºgbar geworden ist.  Da das DDN-Verfahren (Downlink Data Notification) zwischen der MME und S / P-GW funktioniert, ist diese Art der √úberwachung nur f√ºr IP-Ger√§te verf√ºgbar. <br><br>  <u>PDN-Konnektivit√§tsstatus</u> - Informiert den AS beim √Ñndern des Ger√§testatus (PDN-Konnektivit√§tsstatus) - Verbinden (Aktivieren des PDN) oder Trennen (L√∂schen des PDN).  Dies kann vom AS verwendet werden, um die Kommunikation mit dem UE zu initiieren oder umgekehrt, um zu verstehen, dass keine Kommunikation mehr m√∂glich ist.  Diese Art der √úberwachung ist f√ºr IP- und Nicht-IP-Ger√§te verf√ºgbar. <br><br>  <u>Anzahl der in einem geografischen Gebiet vorhandenen UEs</u> - Diese Art der √úberwachung wird von der AS verwendet, um die Anzahl der UEs in einem bestimmten geografischen Gebiet zu bestimmen. <br><br>  <b>Ger√§teausl√∂sung</b> <br><br>  In 2G / 3G-Netzwerken war die Registrierungsprozedur im Netzwerk zweistufig: Zuerst wurde das Ger√§t in SGSN registriert (Anh√§ngeprozedur), dann wurden die Daten bei Bedarf durch den PDP-Kontext aktiviert - Verbindung zum Paket-Gateway (GGSN).  In 3G-Netzen gingen diese beiden Verfahren nacheinander vor, d.h.  Das Ger√§t wartete nicht auf den Moment, in dem Daten √ºbertragen werden mussten, sondern aktivierte PDP sofort nach Abschluss des Verbindungsvorgangs.  In LTE wurden diese beiden Verfahren zu einem zusammengefasst, dh beim Anschlie√üen forderte das Ger√§t sofort die Aktivierung der PDN-Verbindung (analog zu PDP in 2G / 3G) √ºber eNodeB zu MME-SGW-PGW an. <br><br>  NB-IoT definiert eine Verbindungsmethode wie "Anh√§ngen ohne PDN", dh das UE stellt eine Verbindung her, ohne eine PDN-Verbindung herzustellen.  In diesem Fall ist es nicht f√ºr die Verkehrs√ºbertragung verf√ºgbar und kann nur SMS empfangen oder senden.  Um einen Befehl zum Aktivieren eines PDN und zum Herstellen einer Verbindung mit AS zu einem solchen Ger√§t zu senden, wurde die Funktion "Ger√§teausl√∂sung" entwickelt. <br><br>  Nach Erhalt eines Befehls zum Verbinden eines solchen UE von AS initiiert SCEF √ºber das SMS-Zentrum das Senden einer Steuer-SMS an das Ger√§t.  Beim Empfang einer SMS aktiviert das Ger√§t den PDN und stellt eine Verbindung zum AS her, um nachfolgende Anweisungen zu empfangen oder Daten zu √ºbertragen. <br><br>  Es kann vorkommen, dass ein Abonnement f√ºr ein Ger√§t in SCEF abl√§uft.  Ja, das Abonnement hat eine eigene Lebensdauer, die vom Betreiber festgelegt oder mit AS vereinbart wurde.     MME   PDN,      AS.       ‚ÄúDevice triggering‚Äù.      AS SCEF         SMS-. <br><br>  <b>Fazit</b> <br><br>  SCEF,  ,         .     SCEF     .           ,       . <br><br> <b>   ,       ¬´¬ª-       ?   .       nidd_scef@mts.ru,      ,        . <br></b> <br>  Bis bald <br><br> <i>: <br><br></i> <ul><li> <i>          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">sanov</a> ,</i> </li><li> <i>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">aslapsh</a></i> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de473982/">https://habr.com/ru/post/de473982/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de473972/index.html">Im Auftrag von Embedded-Entwicklern: Suche nach Fehlern in Amazon FreeRTOS</a></li>
<li><a href="../de473974/index.html">Intercom'19 - Eine Konferenz √ºber Kommunikationsautomatisierung von Voximplant findet am 14. November statt</a></li>
<li><a href="../de473976/index.html">AWS Elasticsearch: Grundlegend fehlerhaftes Produkt</a></li>
<li><a href="../de473978/index.html">Solche Schmerzen, solche Schmerzen, Registrierkasse als Dienstleistung 2: 0</a></li>
<li><a href="../de473980/index.html">Technologie und die reale Welt: 4 Start-ups, die die Zukunft der Innenarchitektur ver√§ndern</a></li>
<li><a href="../de473984/index.html">Data Science Digest (Oktober 2019)</a></li>
<li><a href="../de473986/index.html">‚ÄûMein Traum ist es, eine Person durch die B√§ume zu sehen‚Äú - Gr√ºnderin von Lisa Alert √ºber moderne Suchtechnologien</a></li>
<li><a href="../de473988/index.html">Optimierung der Serververteilung √ºber die Racks</a></li>
<li><a href="../de473990/index.html">Lerne OpenGL. Lektion 7.2 - Zeichnen von Text</a></li>
<li><a href="../de473992/index.html">√úberblick √ºber moderne Protokolle in industriellen Automatisierungssystemen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>