<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>↩️ 🤹🏽 💉 Bagaimana cara mentransfer variabel dari fragmen ke aktivitas di Android? 🏒 🏂🏻 🙆🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sebuah kisah tentang bagaimana di Android untuk mentransfer informasi dari sebuah fragmen (Fragmen) ke suatu aktivitas (Aktivitas). Informasi ini akan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana cara mentransfer variabel dari fragmen ke aktivitas di Android?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448744/">  Sebuah kisah tentang bagaimana di Android untuk mentransfer informasi dari sebuah fragmen (Fragmen) ke suatu aktivitas (Aktivitas).  Informasi ini akan berguna untuk pemula (junior), yang menguasai pemrograman untuk Android, dan tidak mungkin menarik bagi middle dan manula. <br><br>  Luncurkan IDE (lingkungan pengembangan terintegrasi) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Android Studio</a> .  Buat proyek baru: File -&gt; Baru -&gt; Proyek Baru.  Pilih "Aktivitas Kosong", klik "Selanjutnya". <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/cg/ke/e2/cgkee2qhgl99tnppykdclbuqm-m.gif"><br><br>  Isi kolom “Nama”, “Nama paket”, “Simpan lokasi”. <br><br><img src="https://habrastorage.org/webt/lm/fs/bk/lmfsbkgnztagfar9zebozvr0388.gif"><br><br>  IDE akan secara otomatis membuat dua file: "MainActivity.java" di direktori "java / [nama paket]", "activity_main.xml" di direktori "res / layout". <br><br><img src="https://habrastorage.org/webt/b3/ku/tg/b3kutgfol159_bc6u5wikjyfvg8.jpeg"><br><br><img src="https://habrastorage.org/webt/nq/a5/iq/nqa5iqsksg74xzkkiyo2yhbchzo.jpeg"><br><br>  File Java menentukan apa yang <i><b>dikerjakan</b></i> aplikasi, xml - seperti apa <i><b>tampilannya</b></i> .  Sejauh ini sangat sedikit, hanya "setContentView (R.layout.activity_main);".  Baris ini memberi tahu aplikasi untuk menggunakan tata letak activity_main.xml saat startup.  Dan, karena tata letak hanya berisi satu widget dari jenis "TextView" dengan teks "Hello World!", Aplikasi kami juga terlihat sangat sederhana. <br><br><img src="https://habrastorage.org/webt/ne/vk/dp/nevkdph0t9qydcj1jnn8kqsxdzu.gif"><br><br>  Di folder proyek, buat fragmen dengan nama "Fragment1". <br><br><img src="https://habrastorage.org/webt/4f/jj/ws/4fjjwsspunm4e3up2bzd-sycpwc.jpeg"><br><br><img src="https://habrastorage.org/webt/bd/xt/to/bdxttophoj-6r7_vu5faxiyrnxo.gif"><br><br>  IDE akan membuat dua file: "Fragment1" dan "fragment_fragment1.xml". <br><br><img src="https://habrastorage.org/webt/gk/z9/vl/gkz9vluu61zdz7kja9od3dtsomk.jpeg"><br><br><img src="https://habrastorage.org/webt/bc/cy/8l/bccy8ljhhmlponiixf522a5z7lm.jpeg"><br><br>  Buka file tata letak fragmen dan hapus widget "TextView" yang tidak kita butuhkan dengan garis sambutan. <br><br><img src="https://habrastorage.org/webt/y0/-k/kk/y0-kkkfjxdhvccgc2yflvcnl8pi.jpeg"><br><br>  Beralih ke mode desain dan seret tombol (Tombol) ke tata letak. <br><br><img src="https://habrastorage.org/webt/gs/8g/yn/gs8gynbw8fylpdugjpqwzzktb4c.jpeg"><br><br>  IDE akan membuat tombol dengan pengenal "button1". <br><br><img src="https://habrastorage.org/webt/a_/ng/fb/a_ngfbvqvgv52zful83hsuxpwmo.jpeg"><br><br>  Sekarang edit tata letak aktivitas utama, mis.  file "activity_main.xml" <br><br><img src="https://habrastorage.org/webt/wa/-z/vr/wa-zvrhls1y0cy22xaa4oqcsyls.jpeg"><br><br>  Pindahkan widget teks lebih tinggi dan tambahkan fragmen yang kami buat ke tata letak (untuk melakukan ini, seret elemen "&lt;&gt;" ke tata letak, pilih "Fragment1" dan klik "OK"). <br><br><img src="https://habrastorage.org/webt/pm/fj/wg/pmfjwgcfvfvfbnimdhl78bjh08u.jpeg"><br><br>  Dalam tata letak aktivitas dalam pengaturan fragmen, atur layout_height = “wrap_content” dan edit penempatannya sesuai selera Anda.  Kami juga akan mengubah pengidentifikasi bidang teks menjadi "textReport", dan fragmen menjadi "fragmentWithButton". <br><br><img src="https://habrastorage.org/webt/dk/au/mg/dkaumgt8t_rpixwewkiyd_ozcdc.jpeg"><br><br>  Jalankan emulator (Shift + F10) dan lihat apa yang terjadi. <br><br><img src="https://habrastorage.org/webt/c2/yc/ax/c2ycaxbgia70bz0xe0tzs1veai4.gif"><br><br>  Aplikasi ini menampilkan tulisan "Hello World!"  dan tombol BUTTON.  Prasasti disimpulkan dari <i><b>aktivitas</b></i> , tombol milik sebuah <i><b>fragmen</b></i> .  Tombol ditekan, tetapi sejauh ini tidak berpengaruh.  Mari kita coba program prasasti untuk menampilkan jumlah penekanan tombol.  Untuk melakukan ini, kita perlu <i><b>mengirim pesan tentang klik tombol dari fragmen ke aktivitas</b></i> . <br><br>  Pertama, kami akan mengajarkan fragmen untuk menghitung jumlah klik tombol.  Buka file "Fragment1.java". <br><br><img src="https://habrastorage.org/webt/6f/ti/eo/6ftieohuhycuf_tpcwnu6s1bm0y.jpeg"><br><br>  Tambahkan variabel "penghitung".  Dalam metode "onCreateView", yang dipanggil segera setelah fragmen dibuat, buat tombol "pendengar".  IDE akan membutuhkan implementasi View.OnClickListener - setuju (Alt + Enter).  Mari kita membuat (mendefinisikan kembali) metode onClick, yang akan meningkatkan nilai variabel "counter" dengan setiap klik tombol dan menampilkan pesan pop-up. <br><br><img src="https://habrastorage.org/webt/is/lw/bg/islwbg0ijjtbojfcvsis1i2gacq.jpeg"><br><br>  Mari kita periksa emulator (lagi Shift + F10) cara kerjanya.  Menekan tombol akan menyebabkan pesan pop-up "Jumlah klik tombol: ..." muncul di bagian bawah layar aplikasi. <br><br><img src="https://habrastorage.org/webt/vo/j5/ul/voj5uljhsxmwgzg_m1ycafmg5p0.gif"><br><br>  Bagus, teruskan.  Tujuan utama kami adalah untuk mentransfer informasi (dalam hal ini, jumlah klik tombol) dari instance fragmen ke instance aktivitas.  Sayangnya, siklus hidup <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">aktivitas</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">fragmen</a> diatur sehingga Android (hampir) tidak memungkinkan aktivitas dan fragmen untuk berkomunikasi secara langsung, sehingga kita membutuhkan antarmuka perantara.  Sebut saja dia "Tukang Pos" (tukang pos).  Antarmuka dapat dibuat dalam file terpisah atau dalam file dengan kode fragmen;  kami akan memilih opsi pertama.  Antarmuka tukang pos kami akan berisi metode abstrak tunggal (tanpa "tubuh") dari "fragmentMail". <br><br><img src="https://habrastorage.org/webt/m4/7y/ze/m47yzelbzced44wwarahc5incwe.jpeg"><br><br>  Kami akan menggunakan variabel "numberOfClicks" sebagai "amplop" untuk mentransfer pesan dari fragmen ke aktivitas. <br><br>  Buka file dengan kode aktivitas "MainActivity.java".  Seperti yang kita ingat, tampilannya seperti ini: <br><br><img src="https://habrastorage.org/webt/tl/h3/s9/tlh3s9pb3alrn_busz9f2pmq9t0.jpeg"><br><br>  Kami menerapkan antarmuka Postman dan menambahkan metode antarmuka fragmentMail ke aktivitas, mendefinisikannya kembali ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Override</a> ). <br><br><img src="https://habrastorage.org/webt/fw/1u/vq/fw1uvq544wgtximbhjtslbszmrs.jpeg"><br><br>  Sekarang, segera setelah aktivitas "melihat" nilai baru dalam variabel "numberOfClicks", itu akan menampilkan pesan yang diperbarui di bidang teks teksLaporan. <br><br>  Tetapi kita masih perlu "memasukkan surat itu ke dalam amplop", yaitu  berikan variabel jumlah klik pada tombol.  Dan kami melakukan ini dalam kode fragmen.  Buka file "Fragment1.java". <br><br>  D̶o̶b̶a̶v̶l̶ya̶e̶m̶ V ̶p̶o̶d̶p̶i̶s̶̶ klassa ̶i̶m̶p̶l̶e̶m̶e̶n̶t̶a̶ts̶i̶yu̶ ̶i̶n̶t̶e̶r̶f̶e̶y̶s̶a̶ ̶ «Postman». IDE ̶p̶o̶t̶r̶e̶b̶u̶e̶t̶ ̶p̶e̶r̶e̶o̶p̶r̶e̶d̶e̶l̶i̶t̶̶ metod ̶i̶n̶t̶e̶r̶f̶e̶y̶s̶a̶ ̶ «̶f̶r̶a̶g̶m̶e̶n̶t̶M̶a̶i̶l̶» ̶, ̶ ada Delat V Nom saya ̶n̶i̶ch̶e̶g̶o̶ Ne ̶b̶u̶d̶e̶m̶, ̶ ̶p̶o̶e̶t̶o̶m̶u̶ ̶o̶s̶t̶a̶v̶i̶m̶ ego Telo ̶p̶u̶s̶t̶y̶m̶.  <i>[Dihapus, lihat “Note 1 of 04/20/2019”]</i> <br><br>  Kami akan membutuhkan tautan ke instance aktivitas.  Kami akan mendapatkannya ketika sebuah fragmen dilampirkan ke aktivitas seperti ini: <br><img src="https://habrastorage.org/webt/yl/jh/fr/yljhfr9cyl1pzhptlzzi6h0ejhy.jpeg"><br><br>  Dalam metode "onClick" (yang sama yang dipanggil ketika tombol fragmen kami diklik) kami menambahkan panggilan ke antarmuka dari instance aktivitas. <br><br><img src="https://habrastorage.org/webt/je/o2/k8/jeo2k8ssprrdoyrzi9ab3v3e4kc.jpeg"><br><br>  Kode akhir fragmen setelah menghapus (untuk kekompakan) komentar terlihat seperti ini: <br><img src="https://habrastorage.org/webt/wb/7r/3d/wb7r3digdzwfbscmtcpwy7qzqj4.jpeg"><br><br>  Sekarang <i>fragmen</i> kami <i>menghitung jumlah klik tombol</i> , menampilkannya dalam pesan pop-up, dan kemudian, menggunakan antarmuka Postman, <i>mentransfer nilai variabel penghitung ke variabel numberOfClicks</i> , yang berfungsi sebagai wadah amplop untuk mengirim pesan dari fragmen ke aktivitas.  Aktivitas, menerima pesan baru, segera menampilkannya di bidang teks widgetnya dengan pengenal "textReport".  Tujuannya tercapai! <br><img src="https://habrastorage.org/webt/ur/vh/mc/urvhmcy7fbx4rmt7sgkdnb_t2v0.gif"><br><br>  PS: Mengubah bahasa pemrograman dari Java ke Kotlin dapat secara signifikan mengurangi fragmen kode: <br><br><img src="https://habrastorage.org/webt/3g/zu/dr/3gzudr28v2o8c3xvmbewzpzqusg.jpeg"><br><br>  PPS: Unduh file proyek di sini: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Java</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kotlin</a> . <br><br><h4>  Catatan 1 dari 04/20/2019: </h4><br>  Implementasi antarmuka Postman telah dihapus dari kode fragmen. <br>  Sebuah fragmen bekerja dengan antarmuka melalui aktivitas di mana antarmuka ini sudah diimplementasikan. <br>  Terima kasih kepada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">mikaakim</a> untuk memberikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">komentar</a> . <br>  File yang diperbarui dapat diunduh dari github di tautan di atas. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id448744/">https://habr.com/ru/post/id448744/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id448732/index.html">Hernia intervertebralis? Bekerja padanya</a></li>
<li><a href="../id448734/index.html">Drone dan robot membantu menyelamatkan Katedral Paris Notre Dame</a></li>
<li><a href="../id448738/index.html">Siapa yang memburu startup?</a></li>
<li><a href="../id448740/index.html">Kami mendengarkan musik SID (Commodore 64) melalui OPL3 pada PC modern</a></li>
<li><a href="../id448742/index.html">Kotak Pandora: kami menganalisis eksploitasi kerentanan WinRAR menggunakan contoh pekerjaan NeoQUEST-2019</a></li>
<li><a href="../id448746/index.html">Indeks dalam PostgreSQL - 7 (GIN)</a></li>
<li><a href="../id448750/index.html">Tentang satu kerentanan yang tidak</a></li>
<li><a href="../id448756/index.html">Latar belakang: mengapa Apple dan Qualcomm bertengkar, dan kemudian berdamai</a></li>
<li><a href="../id448758/index.html">Jam tangan pintar dengan BASIC pada fisik 6502</a></li>
<li><a href="../id448760/index.html">Pengembangan di cloud, keamanan informasi dan data pribadi: intisari untuk dibaca pada akhir pekan dari 1cloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>