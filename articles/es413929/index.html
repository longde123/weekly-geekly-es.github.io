<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😚 👽 👌🏾 Sochi. Cámara: características de crear un proyecto en general, completamente, completamente desde cero, sin estándares y ejemplos ya implementados 🤸🏻 🙂 👫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sochi.Camera : un sitio con transmisiones de más de 300 cámaras web instaladas en Sochi y sus alrededores. El sitio y el servicio completo son sin fin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sochi. Cámara: características de crear un proyecto en general, completamente, completamente desde cero, sin estándares y ejemplos ya implementados</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sochikamera/blog/413929/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sochi.Camera</a> : un sitio con transmisiones de más de 300 cámaras web instaladas en Sochi y sus alrededores.  El sitio y el servicio completo son sin fines de lucro, creados y mantenidos por su cuenta por el proveedor local de Internet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Business Connection"</a> , durante casi 10 años.  En esta publicación le diremos cómo codificar desde cero absoluto;  sobre la batalla con YouTube (ganamos);  por qué el software libre es malo y el servicio gratuito de transmisión de video es bueno.  Quizás en el futuro, cuando recurran a nosotros con la próxima propuesta: escriba por 100-200 mil rublos.  el mismo servicio que Sochi. Cámara, en lugar de mil palabras, le <s>daremos a</s> Rafael un enlace a esta publicación, para que todos puedan entender de inmediato. <br><a name="habracut"></a><br>  <b>Primera versión: diseño rasgado con fragmentos del código de otra persona</b> <br><br>  Nuestro proyecto se realizó desde cero, no había servicios, modelos a seguir o plantillas similares.  Todo lo que hicimos lo tuvimos que hacer nosotros mismos: desde reescribir módulos con errores de bibliotecas de código abierto hasta inventar nuevas formas de montar cámaras.  No había soluciones listas para usar, y cuando comenzamos el proyecto, y ahora tampoco están en forma de plantillas, de todos modos se requieren habilidades de programación bastante decentes. <br><br>  Comenzamos nosotros mismos, con nuestros administradores de red a tiempo completo, que sabían codificar un poco.  Casi desde los primeros pasos del proyecto nos gustaría facilitarnos la vida.  Pero la única versión "arrancada" del sitio fue la primera.  El diseño se tomó prestado del programa de escritorio para ver fotos y videos, cuyo nombre nadie recuerda ahora.  En realidad, la idea original del sitio era un cine en línea con muchas salas, con un fondo oscuro y una pantalla grande con una imagen de alta calidad.  El diseño de este programa con el nombre olvidado fue solo eso: un fondo oscuro, un montón de vistas previas, al hacer clic en él, se abrió una pantalla grande. <br><br><img src="https://habrastorage.org/webt/is/9x/qj/is9xqjpj2cderxubllih-krvgfo.png"><br><br>  El código fue tomado del Linux DVR, el código abierto de código abierto Linux DVR.  Funcionó como un sitio, era posible acceder a él a través de un navegador y ver transmisiones desde cámaras.  En un fragmento de código del DVR de Linux, donde se utilizó motion jpeg, extrajimos el diseño del programa de visualización de fotos y obtuvimos la primera versión de Sochi. La cámara es torpe, pero funciona. <br><br>  Ahora la quinta versión de Sochi está funcionando.  El diseño del sitio ha cambiado mucho.  Sin embargo, la idea principal de una "sala de cine oscura" no desapareció, pero ahora el diseño se parece más al video de Yandex que a una biblioteca de fotos y videos de escritorio.  Sin embargo, esto es solo un recordatorio lejano, no una apariencia desgarrada.  Se anunció una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">competencia en línea</a> para la nueva versión del sitio, el diseño general y los pictogramas creados por los ganadores se utilizaron en la versión actual del sitio. <br><br><img src="https://habrastorage.org/webt/j0/ec/qi/j0ecqimdu6c0aw4zf3sloadevcq.jpeg" alt="imagen"><br><br>  Por supuesto, no todos los usuarios del sitio adoptaron favorablemente una nueva apariencia; para los muy insatisfechos, la versión anterior también se dejó, sin embargo, ahora casi nadie la visita. <br><br>  En cuanto al código, la segunda y más versiones se hicieron de manera más independiente, y resultaron ser menos artesanales.  Ahora el servicio se realiza en script Java, la parte del servidor en Node.js, la parte del cliente en Angular.js.  Solo tenemos una persona desarrollando una aplicación de servidor, pero él es un desarrollador profesional y el alto nivel actual de nuestro servicio es en gran medida su mérito.  Por cierto, todo nuestro equipo figura en la sección <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">del proyecto en Sochi.</a> <br><br>  <b>Turbulencia al cambiar de Flash a HTML5</b> <br><br>  Cuando Steve Jobs declaró la guerra a Flash, nuestro sitio trabajó en ello.  Todos los fabricantes de navegadores comenzaron a abandonar gradualmente HTML5, donde la demostración de transmisiones de video aún no estaba estandarizada, y tuvimos grandes problemas.  Sochi. La cámara podría funcionar durante varios años en Flash, pero en las nuevas versiones de los navegadores todo funcionaba de manera inestable, perdimos muchos usuarios, porque en lugar del video de las cámaras tenían una ventana oscura. <br><br><img src="https://habrastorage.org/webt/h-/o8/vu/h-o8vu-kfokzlvfx_vbkldfvl-y.jpeg"><br><br>  Era necesario reescribir el sitio para nuevas versiones de navegadores, y no solo tenía que escribir un código para cada versión por separado, sino que también era necesario determinar un montón de navegador-jugador sobre la marcha.  Aquí nuestro desarrollador escribió tal construcción que lo hizo con bastante éxito.  Por supuesto, esto fue muy estresante y complicado el código.  Entonces, cuando la situación con la estandarización se ha solucionado, nuevamente rediseñamos el servicio, eliminando estas muletas adicionales. <br><br>  Una de las fortalezas de nuestro desarrollador radica en el hecho de que constantemente se dedica a la refactorización: optimiza el código, reduce la carga en el servidor y los canales de comunicación, monitorea constantemente las capacidades de las nuevas versiones de lenguajes de programación. <br><br>  Por cierto, al mismo tiempo, cuando estábamos luchando con diferentes formatos de navegador, YouTube estaba resolviendo un problema similar, con dos pequeñas diferencias: YouTube mostraba archivos, no secuencias, lo que hacía que los programadores fueran mucho más fáciles;  y esto es YouTube, con un gran equipo de programadores, y no una pequeña empresa con uno, aunque es un programador muy bueno e incluso brillante.  Mirando ahora estos asuntos pasados, podemos decir que la turbulencia no ha pasado peor. <br><br>  Además del enfoque correcto de nuestro programador principal para la efectividad del software, otro punto muy importante fue la elección de una nueva plataforma de transmisión.  Aunque salimos de Wowza no por una "razón técnica", sino por su política arancelaria inmodesta, técnicamente también ganamos a largo plazo.  Comenzamos a trabajar con Flussonic de Erlivideo en nuestra cuarta versión, hace aproximadamente 4 años, cuando aún no se escuchaban.  Luego, este producto pasó de un código abierto de semi-artesanía a un comercial normal pagado. <br><br>  La historia de este producto está muy bien confirmada por el hecho de que los productos de software están mejor desarrollados, no a lo largo del camino del software de código abierto con distribución gratuita (o shareware), sino a lo largo del camino comercial. <br><br>  Flussonic en sí, para cuando estábamos a punto de cambiarlo, ya existía durante unos tres años.  Al principio, tenía código fuente abierto, distribuido gratuitamente, y los programadores ganaban dinero solo con su apoyo.  Su desarrollo fue inestable, ya que los usuarios no informaron errores, no fue interesante que los desarrolladores de terceros participaran en el desarrollo del proyecto, había poco dinero del soporte.  Luego se decidió cerrar el código, crear una empresa Erlivideo y comenzar a desarrollar un producto comercial.  Y en algún momento del año después de la creación de la compañía, comenzamos a trabajar con ellos. <br><br>  Fuimos un campo de pruebas para ellos, una base experimental, compartimos problemas con ellos, ofrecimos funciones.  Una de las cosas importantes que obtuvimos de ellos es un jugador escrito específicamente para su motor.  El punto importante es que ambas partes, el núcleo y el cliente, están escritas por el mismo desarrollador, incluso si surgen problemas, se solucionan muy rápidamente.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Erlivideo</a> ha crecido mucho durante este tiempo, se ha hecho muy conocido en la industria de iptv y ahora, en nuestra quinta versión, todo ha estado funcionando de manera estable durante más de un año sin problemas técnicos. <br><br>  <b>Dinero: qué gastar y cómo ganar dinero</b> <br><br>  Después de muchos años de trabajo, el sitio se ha vuelto muy famoso, popular, se ha convertido en un modelo para tales recursos.  Se nos contacta periódicamente para comprar una solución completa.  Descubrimos cuánto nos costaría esta decisión hoy, teniendo en cuenta nuestra experiencia y los errores cometidos.  En general, la parte del servidor es de aproximadamente 1 000 000 de rublos, cada aplicación móvil es de 500 000 - 600 000 rublos.  Estas cantidades de compradores potenciales dan miedo, esperan un máximo de 100,000 - 200,000 rublos para todo.  Cuando comenzamos a pintar los componentes del software, el costo de ciertas soluciones, la gente está perpleja: por ejemplo, por qué gastar dinero en escribir módulos para los que hay análogos gratuitos en bibliotecas de código abierto.  ¡Sí, solo para que funcionen mejor! <br><br><img src="https://habrastorage.org/webt/qp/ib/q2/qpibq2cjozcttlpkycr4anjeohk.jpeg" alt="imagen"><br><br>  Aquí hay un ejemplo, una tarea simple: tomar un flujo de la cámara y distribuirlo a un gran número de suscriptores, solo para multiplicarlo sin cambiarlo.  Para obtener una solución gratuita de la biblioteca ffmpeg de código abierto, cuando se interrumpe la transmisión desde el origen, todo el proceso se detiene y debe reiniciarse manualmente.  Imagine que hay más de trescientas cámaras en la red, una red bastante grande, algo está sucediendo constantemente: en algún lugar de la cámara fallará la alimentación, en algún lugar entre el servidor y la cámara, la conexión se interrumpirá y el servicio simplemente se detendrá.  Es más fácil pagar dinero por una solución paga que puede monitorear la condición y reiniciar si es necesario, que usar una solución gratuita, pero monitorear y reiniciar manualmente. <br><br>  En general, según nuestras estimaciones, el costo de desarrollar software ascendió a aproximadamente el 40% de todos los costos del proyecto.  El 60% restante es todo hardware, incluidas cámaras y servidores, así como licencias para aplicaciones de terceros usadas. <br><br>  Gastamos mucho dinero en este proyecto nuestro, y en general, ahora no nos negaríamos a ganar dinero de alguna manera.  Pero esto definitivamente no es un camino directo, "en la frente", de monetización.  Después de estudiar la mayoría de los modelos de monetización, quedó claro que aquellos en los que el servicio gana directamente, requieren molestias adicionales y, en general, no dan resultado.  Ahora existen soluciones técnicas que pueden integrar fácilmente la publicidad directamente en la transmisión de video.  Técnicamente, esta es una muy buena solución, la carga en los servidores es baja, es imposible evitar los bloqueadores de anuncios, con nuestra asistencia de 500,000-600,000 personas, una audiencia muy grande verá este anuncio de video cada mes, pero construir un sistema de ventas alrededor de esto y administrar flujos de efectivo es muy costoso, y no planeamos dicha monetización. <br><br>  Por lo tanto, utilizamos modelos indirectos, principalmente para promover nuestro negocio principal de operadores.  Por ejemplo, al ingresar al sitio, analizamos la dirección IP del visitante y mostramos anuncios de nuestros propios servicios al residente local, pero no a nuestro cliente.  Damos transmisiones para mostrar en recursos web de terceros a cambio de nuestra publicidad con ellos.  En los canales de televisión locales, están dispuestos a usar el video de nuestras cámaras en bloques de noticias de horario estelar con el nombre de nuestra empresa.  Las cadenas de hoteles de nuestros clientes transmiten transmisiones de video desde nuestras cámaras en sus televisores, recibiéndolos como canales de televisión, para ellos es un servicio gratuito adicional, un chip para los invitados. <br><br>  El sitio en sí, con sus casi 5 millones de visitas al mes, lo utilizamos como plataforma publicitaria, pero no vendemos anuncios: solo colocamos nuestros propios clientes o nuestros clientes legales de forma gratuita, simplemente aumentamos la lealtad. <br><br>  En el futuro, planeamos adherirnos a la misma línea estratégica: métodos indirectos de monetización, un servicio gratuito para los visitantes. <br><br>  Esperamos sus preguntas, comentarios, comentarios y sugerencias con respecto al próximo artículo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es413929/">https://habr.com/ru/post/es413929/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es413917/index.html">Los titulares de los derechos de autor creen que Yandex contribuye al crecimiento de la piratería en el país</a></li>
<li><a href="../es413921/index.html">Cómo salvar el proyecto de libras extra</a></li>
<li><a href="../es413923/index.html">Quizás la atmósfera todavía se pueda limpiar de dióxido de carbono</a></li>
<li><a href="../es413925/index.html">CVT para Moskvich</a></li>
<li><a href="../es413927/index.html">Digispark en Attiny85 - Conexión bajo Windows 10</a></li>
<li><a href="../es413931/index.html">Linux kernel 4.17 versión: lo que necesita saber al respecto</a></li>
<li><a href="../es413933/index.html">[CASO] Cómo hicimos el diseño del hangar para el Boeing 747</a></li>
<li><a href="../es413935/index.html">¿Qué tan bien sabes bash?</a></li>
<li><a href="../es413937/index.html">Conceptos erróneos de los programadores sobre el empleo</a></li>
<li><a href="../es413939/index.html">Reducción de red neuronal mediante optimización variacional</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>