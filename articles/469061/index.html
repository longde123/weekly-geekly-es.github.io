<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🉑 🧑🏼‍🤝‍🧑🏻 🤷🏽 Versión Rust 1.38.0: compilación canalizada, # [en desuso] para macros y std :: any :: type_name 🛂 👨🏿‍🏭 🤶🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El equipo de desarrollo de Rust se complace en anunciar el lanzamiento de una nueva versión, 1.38.0. Rust es un lenguaje de programación que permite a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Versión Rust 1.38.0: compilación canalizada, # [en desuso] para macros y std :: any :: type_name</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469061/"><p>  El equipo de desarrollo de Rust se complace en anunciar el lanzamiento de una nueva versión, 1.38.0.  Rust es un lenguaje de programación que permite a todos crear software confiable y eficiente. </p><br><p>  Si instaló la versión anterior de Rust usando rustup, para actualizar a la versión 1.38.0 solo necesita ejecutar el siguiente comando: </p><br><pre><code class="plaintext hljs">rustup update stable</code> </pre> <br><p>  Si aún no ha instalado Rustup, puede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">instalarlo</a> desde la página correspondiente de nuestro sitio web. </p><br><h2 id="chto-voshlo-v-stabilnuyu-versiyu">  ¿Qué se incluye en la versión estable? </h2><br><p>  Lo más destacado de esta versión es la compilación canalizada. </p><a name="habracut"></a><br><h3 id="konveyernaya-kompilyaciya">  Recopilación de tuberías </h3><br><p>  El compilador no necesita dependencias completamente ensambladas para compilar el paquete, sino solo sus "metadatos" (una lista de tipos, dependencias, exportaciones, etc.) generados en una etapa temprana de compilación.  A partir de Rust 1.38.0, Cargo comenzará a construir paquetes dependientes tan pronto como sus metadatos estén disponibles. </p><br><p>  El tiempo de compilación de un paquete no disminuyó, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pero nuestras pruebas mostraron</a> que la velocidad de compilación aumenta en un 10% -20% en el caso de compilaciones optimizadas (donde algunas dependencias ya están compiladas).  Para otros paquetes, no ocurrió un fuerte aumento en la velocidad de compilación.  El tiempo que lleva construir el paquete depende de la computadora, por lo que el rendimiento puede variar.  La compilación de canalización se habilita automáticamente desde la versión 1.38.0. </p><br><h3 id="proverka-nekotoryh-nepravilnyh-ispolzovaniy-memuninitialized-zeroed">  Comprobando algún mal uso de <code>mem::{uninitialized, zeroed}</code> </h3><br><p>  Como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se anunció anteriormente</a> , <code>std::mem::uninitialized</code> recomienda <code>std::mem::uninitialized</code> .  En su lugar, <code>MaybeUninit&lt;T&gt;</code> vez se debería usar <code>MaybeUninit&lt;T&gt;</code> . </p><br><p>  La función <code>mem::uninitialized</code> aún no está en desuso, pero esto se hará en futuras versiones.  Pero a pesar de esto, a partir de 1.38.0, <code>rustc</code> busca una clase estrecha de inicializaciones incorrectas usando <code>mem::uninitialized</code> o <code>mem::zeroed</code> . </p><br><p>  Para algunos tipos, como <code>&amp;T</code> y <code>Box&lt;T&gt;</code> , un valor nulo se considera comportamiento indefinido, ya que son objetos tipo puntero que no deberían ser <code>null</code> .  Será un error usar <code>mem::uninitialized</code> o <code>mem::zeroed</code> para inicializar estos tipos, por lo que el compilador intentará advertirle si alguna de estas funciones se usa para inicializar los objetos anteriores, y no importa si se inicializan directamente o como Campos de gran estructura.  Esta comprobación es recursiva, por lo que el siguiente código conlleva una advertencia: </p><br><pre> <code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Wrap</span></span></span></span>&lt;T&gt;(T); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Outer</span></span></span></span>(Wrap&lt;Wrap&lt;Wrap&lt;<span class="hljs-built_in"><span class="hljs-built_in">Box</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">i32</span></span>&gt;&gt;&gt;&gt;); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CannotBeZero</span></span></span></span> { outer: Outer, foo: <span class="hljs-built_in"><span class="hljs-built_in">i32</span></span>, bar: <span class="hljs-built_in"><span class="hljs-built_in">f32</span></span> } ... <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bad_value: CannotBeZero = <span class="hljs-keyword"><span class="hljs-keyword">unsafe</span></span> { std::mem::uninitialized() };</code> </pre> <br><p>  Los lectores atentos pueden notar que la biblioteca estándar contiene más tipos que no deberían llenarse con ceros, especialmente <code>NonNull&lt;T&gt;</code> y <code>NonZero&lt;T&gt;</code> .  Hasta ahora, <em>no se ha</em> verificado la inicialización de estas estructuras con <code>mem::uninitialized</code> o <code>mem::zeroed</code> . </p><br><p>  Estas comprobaciones no cubren todos los casos de uso incorrecto de <code>mem::uninitialized</code> o <code>mem::zeroed</code> , pero le permiten detectar un código incorrecto garantizado que debería cambiar a <code>MaybeUninit</code> . </p><br><h3 id="deprecated-dlya-makrosov">  <code>#[deprecated]</code> para macros </h3><br><p>  El atributo <code>#[deprecated]</code> , introducido por primera vez en Rust 1.9.0, permite a los autores de paquetes notificar a los usuarios sobre la funcionalidad obsoleta que planean eliminar en futuras versiones.  Rust 1.38.0 le permite aplicar este atributo a las macros. </p><br><h3 id="stdanytype_name"> <code>std::any::type_name</code> </h3> <br><p>  Puede ser necesaria una representación de cadena del tipo utilizado al depurar código.  Por ejemplo, en el cuerpo de una función genérica, es posible que desee imprimir el tipo de argumento pasado.  Ahora esto es <code>std::any::type_name</code> con <code>std::any::type_name</code> : </p><br><pre> <code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gen_value</span></span></span></span>&lt;T: <span class="hljs-built_in"><span class="hljs-built_in">Default</span></span>&gt;() -&gt; T { <span class="hljs-built_in"><span class="hljs-built_in">println!</span></span>(<span class="hljs-string"><span class="hljs-string">"Initializing an instance of {}"</span></span>, std::any::type_name::&lt;T&gt;()); <span class="hljs-built_in"><span class="hljs-built_in">Default</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fn</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> _: <span class="hljs-built_in"><span class="hljs-built_in">i32</span></span> = gen_value(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> _: <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> = gen_value(); }</code> </pre> <br><p>  Resultado: </p><br><pre> <code class="plaintext hljs">Initializing an instance of i32 Initializing an instance of alloc::string::String</code> </pre> <br><p>  Al igual que todas las funciones de la biblioteca estándar, destinadas únicamente a la depuración, esta función no garantiza el contenido exacto y el formato de la cadena.  El valor de retorno es la mejor descripción del tipo;  múltiples tipos pueden estar representados por el mismo <code>type_name</code> , pero puede cambiar en futuras versiones del compilador. </p><br><h3 id="izmeneniya-v-standartnoy-biblioteke">  Cambios en la biblioteca estándar </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>slice::{concat, connect, join}</code> además de <code>&amp;T</code> ahora acepta <code>&amp;[T]</code></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>*const T</code> y <code>*mut T</code> ahora implementan <code>marker::Unpin</code> .</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>Arc&lt;[T]&gt;</code> y <code>Rc&lt;[T]&gt;</code> ahora implementan <code>FromIterator&lt;T&gt;</code> .</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>iter::{StepBy, Peekable, Take}</code> ahora implementa <code>DoubleEndedIterator</code> .</a> </li></ul><br><p>  Además, algunas funciones se han estabilizado: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>&lt;*const T&gt;::cast</code></a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>&lt;*mut T&gt;::cast</code></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>Duration::as_secs_f32</code></a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>Duration::as_secs_f64</code></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>Duration::div_f32</code></a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>Duration::div_f64</code></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>Duration::from_secs_f32</code></a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>Duration::from_secs_f64</code></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>Duration::mul_f32</code></a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>Duration::mul_f64</code></a> </li><li>  Operaciones euclidianas de división y obtención del resto ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>div_euclid</code></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>rem_euclid</code></a> ) para todas las primitivas enteras.  Las versiones de <code>checked</code> , <code>overflowing</code> y <code>wrapping</code> también <code>wrapping</code> disponibles. </li></ul><br><h3 id="drugie-izmeneniya">  Otros cambios </h3><br><p>  <a href="">La sintaxis</a> , el <a href="">administrador de paquetes de carga</a> y el <a href="">analizador Clippy</a> también <a href="">han</a> sufrido algunos cambios. </p><br><h2 id="uchastniki-1380">  Miembros 1.38.0 </h2><br><p>  Mucha gente se unió para crear Rust 1.38.0.  No podríamos haber hecho esto sin todos ustedes, ¡ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gracias</a> ! </p><br><h2 id="ot-perevodchikov">  De traductores </h2><br><p>  Con cualquier pregunta sobre el idioma Rust, podrán ayudarlo en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">chat de Telegram</a> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ruso</a> o en un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">chat</a> similar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">para los recién llegados</a> . </p><br><p>  Este artículo fue traducido conjuntamente por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">andreevlex</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">nlinker</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">funkill</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Gymmasssorla</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/469061/">https://habr.com/ru/post/469061/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../469049/index.html">¿Por qué escribimos lógica empresarial en Lua?</a></li>
<li><a href="../469051/index.html">El conector de Azure Cloud Shell en el terminal de Windows</a></li>
<li><a href="../469053/index.html">Una nueva serie de videos para principiantes para aprender programación Python</a></li>
<li><a href="../469055/index.html">Practica zen en espacios abiertos</a></li>
<li><a href="../469059/index.html">¿Qué hay de nuevo en ML.NET y Model Builder?</a></li>
<li><a href="../469071/index.html">Inteligencia artificial Microsoft dominó el mahjong</a></li>
<li><a href="../469073/index.html">Derivado discreto o resumen de cómo sumar series</a></li>
<li><a href="../469075/index.html">Grokay DLR</a></li>
<li><a href="../469077/index.html">Nuevo curso de Python de Microsoft [en inglés]</a></li>
<li><a href="../469079/index.html">Python en Visual Studio Code: actualización de extensión de septiembre</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>