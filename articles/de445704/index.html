<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ú≥Ô∏è üè≥Ô∏è‚Äçüåà üì• Citymobil - ein Leitfaden f√ºr Startups zur Erh√∂hung der Stabilit√§t bei Wachstum. Teil 2. Welche Arten von Unf√§llen gibt es? ‚õπüèª üèä üö£üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dies ist der zweite Artikel in einer Reihe dar√ºber, wie wir bei Citymobil die Stabilit√§t des Dienstes erh√∂ht haben (den ersten k√∂nnen Sie hier lesen)....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Citymobil - ein Leitfaden f√ºr Startups zur Erh√∂hung der Stabilit√§t bei Wachstum. Teil 2. Welche Arten von Unf√§llen gibt es?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/445704/"><img src="https://habrastorage.org/getpro/habr/post_images/61f/db5/50d/61fdb550d3b183fa7f134339397e276f.png"><br><br>  Dies ist der zweite Artikel in einer Reihe dar√ºber, wie wir bei Citymobil die Stabilit√§t des Dienstes erh√∂ht haben (den ersten k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> lesen).  In diesem Artikel werde ich auf die Besonderheiten der Unfallanalyse eingehen.  Aber vorher werde ich einen Punkt behandeln, √ºber den ich im Voraus nachdenken musste, und im ersten Artikel behandeln, aber ich habe nicht dar√ºber nachgedacht.  Und wor√ºber ich aus dem Feedback der Leser gelernt habe.  Der zweite Artikel gibt mir die M√∂glichkeit, diesen l√§stigen Defekt zu beseitigen. <br><a name="habracut"></a><br><h2>  0. Prolog </h2><br>  Einer der Leser stellte eine sehr faire Frage: "Was ist im Backend eines Taxidienstes schwierig?"  Die Frage ist gut.  Ich habe mich letzten Sommer gefragt, bevor ich anfing, in Citymobil zu arbeiten.  Ich dachte dann "denke, ein Taxi, eine Anwendung mit drei Kn√∂pfen."  Was k√∂nnte daran kompliziert sein?  Es stellte sich jedoch heraus, dass dies ein sehr hochtechnologischer Service und ein komplexes Produkt ist.  Um zumindest klar zu machen, worum es geht und worum es sich wirklich um einen gro√üen technologischen Koloss handelt, werde ich auf einige Bereiche der Produktaktivit√§ten von Citymobil eingehen: <br><br><ul><li>  Preisgestaltung.  Das Preisteam k√ºmmert sich zu jedem Zeitpunkt und zu jedem Zeitpunkt um Preisprobleme.  Der Preis wird durch Vorhersage des Gleichgewichts von Angebot und Nachfrage auf der Grundlage von Statistiken und anderen Daten ermittelt.  All dies macht einen gro√üen, komplexen und sich st√§ndig weiterentwickelnden Service aus, der auf maschinellem Lernen basiert. </li><li>  Preisgestaltung.  Die Implementierung verschiedener Zahlungsmethoden, die Logik der Zuschl√§ge nach der Reise, das Einbehalten von Geldern auf Bankkarten, die Abrechnung, die Interaktion mit Partnern und Fahrern. </li><li>  Auftragsverteilung.  An welche Maschine soll der Kundenauftrag verteilt werden?  Zum Beispiel ist die Verteilungsoption f√ºr die n√§chstgelegene nicht die beste, um die Anzahl der Fahrten zu erh√∂hen.  Eine korrektere Option besteht darin, Kunden und Autos so zu vergleichen, dass die Anzahl der Fahrten angesichts der Wahrscheinlichkeit einer Stornierung durch diesen bestimmten Kunden unter diesen Bedingungen (weil es lange dauert) und der Stornierung oder Sabotage der Bestellung durch diesen Fahrer (weil es zu lange oder zu niedrig dauert) maximiert wird √ºberpr√ºfen). </li><li>  Geo.  Alles, was mit der Suche und dem Durchsuchen von Adressen, Landepunkten, der Anpassung der Lieferzeit zu tun hat (unsere Partner, Lieferanten von Karten und Staus geben nicht immer genaue Informationen √ºber ETA unter Ber√ºcksichtigung von Staus), verbessert die Genauigkeit der direkten und umgekehrten Geokodierung und verbessert die Genauigkeit der Maschine.  Es gibt viel Arbeit mit Daten, viele Analysen, viele Dienste, die auf maschinellem Lernen basieren. </li><li>  Betrugsbek√§mpfung.  Der Unterschied im Preis einer Reise f√ºr einen Passagier und f√ºr einen Fahrer (zum Beispiel auf Kurzreisen) schafft einen wirtschaftlichen Anreiz f√ºr Betr√ºger, die versuchen, unser Geld zu stehlen.  Die Bek√§mpfung von Betrug √§hnelt in gewisser Weise der Bek√§mpfung von Spam im E-Mail-Dienst - Vollst√§ndigkeit und Genauigkeit sind wichtig.  Es ist notwendig, die maximale Anzahl von Betr√ºgern zu blockieren (Vollst√§ndigkeit), aber gute Benutzer sollten nicht mit Betr√ºgern verwechselt werden (Genauigkeit). </li><li> Motivation der Fahrer.  Das Fahrermotivationsteam entwickelt alles, was mit der Steigerung der Nutzung unserer Plattform durch Fahrer und der Fahrertreue aufgrund verschiedener Motivationsarten zu tun hat.  Machen Sie zum Beispiel X-Trips und erhalten Sie daf√ºr zus√§tzliche Y-Rubel.  Oder kaufen Sie eine Schicht f√ºr Z Rubel und fahren Sie ohne Provision. </li><li>  Backend-Treiberanwendung.  Eine Liste der Bestellungen, eine Nachfragekarte (ein Hinweis, wo Sie zum Fahrer gehen m√ºssen, um Ihren Umsatz zu maximieren), Status√§nderungen von prokidyvaniya, ein Kommunikationssystem mit Fahrern und vieles mehr. </li><li>  Backend-Client-Anwendung (dies ist wahrscheinlich der offensichtlichste Teil und wird normalerweise als Taxi-Backend verstanden): Bestellungen aufgeben, Status √ºber das √Ñndern des Bestellstatus scrollen, die Bewegung von Autos auf der Karte auf der Bestellung und bei Lieferung sicherstellen, Backend-Tipps und usw. </li></ul><br>  Das ist die ganze Spitze des Eisbergs.  Funktionalit√§t ist viel mehr.  Die benutzerfreundliche Oberfl√§che verbirgt einen riesigen Unterwasserteil des Eisbergs. <br><br>  Und jetzt zur√ºck zu den Unf√§llen.  In den sechs Monaten der Unfallgeschichte haben wir folgende Kategorisierung zusammengestellt: <br><br><ul><li>  schlechte Ver√∂ffentlichung, 500. Fehler; </li><li>  schlechte Version, suboptimaler Code, Belastung der Basis; </li><li>  erfolgloser manueller Eingriff in das System; </li><li>  Osterei; </li><li>  √§u√üere Ursachen; </li><li>  schlechte Version, defekte Funktionalit√§t. </li></ul><br>  Im Folgenden werde ich aufschreiben, welche Schlussfolgerungen wir zu den h√§ufigsten Arten von Unf√§llen gezogen haben. <br><br><h2>  1. Schlechte Ver√∂ffentlichung, 500. Fehler </h2><br>  Fast unser gesamtes Backend ist in PHP geschrieben, einer interpretierten Sprache mit schwacher Typisierung.  Es kommt vor, dass Sie den Code einf√ºhren und er aufgrund eines Fehlers im Namen der Klasse oder Funktion abst√ºrzt.  Und dies ist nur ein Beispiel, wenn der 500. Fehler auftritt.  Es kann auch im Falle eines logischen Fehlers im Code auftreten.  leckte den falschen Ast;  versehentlich den Ordner mit dem Code gel√∂scht;  im Code verbleibende tempor√§re Artefakte, die zum Testen ben√∂tigt werden;  hat die Struktur der Tabellen nicht gem√§√ü dem neuen Code ge√§ndert;  hat die erforderlichen Cron-Skripte nicht neu gestartet oder gestoppt. <br><br>  Wir haben in mehreren Phasen nacheinander mit diesem Problem zu k√§mpfen.  Verlorene Fahrten aufgrund einer schlechten Freisetzung sind offensichtlich proportional zur Nutzungsdauer.  Das hei√üt, wir m√ºssen unser Bestes tun, um sicherzustellen, dass eine schlechte Version so wenig wie m√∂glich in Betrieb ist.  Jede √Ñnderung im Entwicklungsprozess, die die durchschnittliche Zeit, die ben√∂tigt wird, um eine fehlerhafte Version in Betrieb zu nehmen, um mindestens 1 Sekunde verk√ºrzt, ist f√ºr das Unternehmen positiv und muss implementiert werden. <br><br>  Eine schlechte Ver√∂ffentlichung oder ein Produktionsunfall durchl√§uft im Allgemeinen zwei Zust√§nde, die wir als "passive Phase" und "aktive Phase" bezeichnet haben.  Die passive Phase ist, wenn wir den Unfall noch nicht kennen.  Die aktive Phase ist, wenn wir bereits Bescheid wissen.  Der Unfall beginnt im passiven Stadium, und im Laufe der Zeit, wenn wir davon erfahren, geht der Unfall in das aktive Stadium √ºber - wir beginnen, ihn zu bek√§mpfen: Zuerst diagnostizieren wir ihn und reparieren ihn dann. <br><br>  Um die Dauer eines Produktionsunfalls zu verk√ºrzen, muss die durchschnittliche Dauer sowohl der passiven als auch der aktiven Phase verk√ºrzt werden.  Das gleiche gilt f√ºr eine schlechte Ver√∂ffentlichung, weil es an sich eine Art Unfall ist. <br><br>  Wir begannen, unseren aktuellen Prozess der Reparatur von Unf√§llen zu analysieren.  Die fehlerhaften Releases, auf die wir zum Zeitpunkt des Beginns der Analyse gesto√üen sind, f√ºhrten zu einem (vollst√§ndigen oder teilweisen) Leerlaufdurchschnitt von 20 bis 25 Minuten.  Die passive Phase dauerte normalerweise 15 Minuten, die aktive 10 Minuten.  W√§hrend der passiven Phase wurden Benutzerbeschwerden vom Contact Center bearbeitet, und nach einer gewissen Schwelle beschwerte sich das Contact Center √ºber allgemeine Chats in Slack.  Manchmal beschwerte sich einer der Angestellten, wenn er kein Taxi bestellen konnte.  Eine Mitarbeiterbeschwerde war f√ºr uns ein Signal f√ºr ein ernstes Problem.  Nach dem √úbergang einer fehlerhaften Version in die aktive Phase begannen wir mit der Diagnose des Problems, analysierten die neuesten Versionen, verschiedene Grafiken und Protokolle, um die Unfallursache zu ermitteln.  Nachdem wir den Grund herausgefunden hatten, haben wir den Code zur√ºckgesetzt, wenn das fehlerhafte Release zuletzt gepumpt wurde, oder einen neuen Rollback mit der Umkehrung des Commits f√ºr das fehlerhafte Release durchgef√ºhrt. <br><br>  Hier ist ein Prozess, um mit schlechten Releases umzugehen, wir mussten uns verbessern. <br><br><h3>  1.1.  Passive Stufenreduzierung </h3><br>  Zun√§chst haben wir festgestellt, dass wir, wenn eine schlechte Version mit 500 Fehlern einhergeht, ohne Beanstandung verstehen k√∂nnen, dass ein Problem aufgetreten ist.  Gl√ºcklicherweise wurden alle 500. Fehler in New Relic aufgezeichnet (dies ist eines der von uns verwendeten √úberwachungssysteme), und es blieben nur SMS- und IVR-Benachrichtigungen √ºber das √úberschreiten einer bestimmten H√§ufigkeit von ‚Äûf√ºnfhundert‚Äú (im Laufe der Zeit wurde der Schwellenwert st√§ndig gesenkt). <br><br>  Dies f√ºhrte dazu, dass die aktive Phase des Unfalls wie "Schlechte Freigabe, 500. Fehler" fast unmittelbar nach der Freilassung begann.  Der Prozess im Falle eines Unfalls sah folgenderma√üen aus: <br><br><ol><li>  Der Programmierer stellt den Code bereit. </li><li>  Die Freilassung f√ºhrt zu einem Unfall (massive 500er). </li><li>  SMS kommt an. </li><li>  Programmierer und Administratoren beginnen zu verstehen (manchmal nicht sofort, aber nach 2-3 Minuten: SMS k√∂nnen verz√∂gert sein, der Ton auf dem Telefon kann ausgeschaltet sein und die Kultur der sofortigen Aktionen nach SMS kann nicht an einem Tag erscheinen). </li><li>  Die aktive Phase des Unfalls beginnt, die die gleichen 10 Minuten wie zuvor dauert. </li></ol><br>  Somit wurde die passive Stufe von 15 Minuten auf 3 Minuten reduziert. <br><br><h3>  1.2.  Weitere Reduzierung der passiven Stufe </h3><br>  Trotz der Reduzierung der passiven Phase auf 3 Minuten hat uns selbst eine so kurze passive Phase mehr gest√∂rt als die aktive, da wir in der aktiven Phase bereits etwas tun, um das Problem zu l√∂sen, und in der passiven Phase funktioniert der Service nicht ganz oder teilweise, sondern ‚Äû M√§nner wissen es nicht. " <br><br>  Um die passive Phase weiter zu reduzieren, haben wir beschlossen, nach jeder Ver√∂ffentlichung drei Minuten Entwicklerzeit zu opfern.  Die Idee war sehr einfach: Sie rollen den Code aus und sehen sich drei Minuten lang New Relic, Sentry, Kibana an, um festzustellen, ob 500 Fehler vorliegen.  Sobald Sie dort ein Problem sehen, gehen Sie a priori davon aus, dass es mit Ihrem Code zusammenh√§ngt, und Sie beginnen zu verstehen. <br><br>  Wir haben drei Minuten basierend auf Statistiken ausgew√§hlt: Manchmal traten Probleme mit einer Verz√∂gerung von 1-2 Minuten in den Charts auf, aber es gab nie mehr als drei Minuten. <br><br>  Diese Regel wurde in do's &amp; dont's aufgezeichnet.  Anfangs wurde es nicht immer ausgef√ºhrt, aber nach und nach gew√∂hnten sich die Entwickler an die Regel der elementaren Hygiene: Das morgendliche Z√§hneputzen ist ebenfalls Zeitverschwendung, aber Sie m√ºssen dies tun. <br><br>  Infolgedessen wurde die passive Phase auf 1 Minute reduziert (die Zeitpl√§ne waren manchmal noch zu sp√§t).  Als angenehme √úberraschung reduzierte dies gleichzeitig die aktive B√ºhne.  Immerhin st√∂√üt der Entwickler auf ein Problem in gutem Zustand und ist bereit, seinen Code sofort zur√ºckzusetzen.  Obwohl dies nicht immer hilft, weil  Das Problem k√∂nnte durch den parallel gerollten Code eines anderen entstanden sein.  Trotzdem wurde die aktive Phase im Durchschnitt auf 5 Minuten reduziert. <br><br><h3>  1.3.  Weitere Reduzierung im aktiven Stadium </h3><br>  Mehr oder weniger zufrieden mit einer Minute der passiven Phase, begannen wir √ºber eine weitere Reduzierung der aktiven Phase nachzudenken.  Zun√§chst haben wir uns mit der Geschichte der Probleme befasst (dies ist der Eckpfeiler beim Aufbau unserer Stabilit√§t!) Und festgestellt, dass wir in vielen F√§llen nicht sofort zur√ºcksetzen, weil wir nicht verstehen, auf welche Version wir zur√ºcksetzen sollen, da es viele parallele Releases gibt.  Um dieses Problem zu l√∂sen, haben wir die folgende Regel eingef√ºhrt (und in do's &amp; dont's aufgezeichnet): Vor der Ver√∂ffentlichung schreiben Sie in Slack in den Chat, wof√ºr Sie rollen und wof√ºr, und im Falle eines Unfalls schreiben Sie in den Chat "Unfall, nicht rollen!".  Dar√ºber hinaus haben wir begonnen, automatisch per SMS √ºber die Release-Fakten zu berichten, um diejenigen zu benachrichtigen, die nicht am Chat teilnehmen. <br><br>  Diese einfache Regel reduzierte die Anzahl der Freisetzungen bereits bei Unf√§llen stark und reduzierte die aktive Phase - von 5 Minuten auf 3 Minuten. <br><br><h3>  1.4.  Eine noch st√§rkere Reduzierung des aktiven Stadiums </h3><br>  Trotz der Tatsache, dass wir im Chat vor allen Ver√∂ffentlichungen und Abst√ºrzen gewarnt haben, traten manchmal Rennbedingungen auf - einer schrieb √ºber die Ver√∂ffentlichung und der andere wurde bereits in diesem Moment eingef√ºhrt;  oder der Unfall begann, sie schrieben im Chat dar√ºber und jemand rollte gerade einen neuen Code aus.  Diese Umst√§nde verl√§ngerten die Diagnose.  Um dieses Problem zu l√∂sen, haben wir ein automatisches Verbot paralleler Releases implementiert.  Die Idee ist sehr einfach: Nach jeder Ver√∂ffentlichung verbietet das CI / CD-System jedem, die n√§chsten 5 Minuten auszurollen, mit Ausnahme des Autors der letzten Ver√∂ffentlichung (damit er bei Bedarf Hotfix rollen oder rollen kann) und mehrerer besonders erfahrener Entwickler (im Notfall).  Dar√ºber hinaus verbietet das CI / CD-System die Einf√ºhrung w√§hrend eines Unfalls (dh vom Zeitpunkt des Eingangs der Benachrichtigung √ºber den Beginn des Unfalls bis zum Zeitpunkt des Eingangs der Benachrichtigung √ºber dessen Abschluss). <br><br>  So wurde der Prozess wie folgt: Der Entwickler rollt aus, √ºberwacht die Diagramme drei Minuten lang und danach kann zwei weitere Minuten lang niemand mehr etwas rollen.  Wenn es ein Problem gibt, setzt der Entwickler die Version zur√ºck.  Diese Regel vereinfachte die Diagnose radikal und die Gesamtdauer der aktiven und passiven Stadien verringerte sich von 3 + 1 = 4 Minuten auf 1 + 1 = 2 Minuten. <br><br>  Aber zwei Minuten des Unfalls sind viel.  Deshalb haben wir den Prozess weiter optimiert. <br><br><h3>  1.5.  Automatische Crash-Erkennung und Rollback </h3><br>  Wir haben lange dar√ºber nachgedacht, wie wir die Unfalldauer aufgrund schlechter Freisetzungen verk√ºrzen k√∂nnen.  Sie haben sogar versucht, sich zu zwingen, in <code>tail -f error_log | grep 500</code> zu suchen  <code>tail -f error_log | grep 500</code> .  Aber am Ende entschieden sich alle f√ºr eine automatische Kardinall√∂sung. <br><br>  Kurz gesagt, dies ist ein automatischer Rollback.  Wir haben einen separaten Webserver eingerichtet, auf dem wir zehnmal weniger Last vom Balancer geladen haben als auf anderen Webservern.  Jede Version wurde vom CI / CD-System automatisch auf diesem separaten Server bereitgestellt (wir nannten sie Preprod, obwohl trotz des Namens die tats√§chliche Last von realen Benutzern dorthin ging).  Und dann hat die Automatisierung <code>tail -f error_log | grep 500</code>  <code>tail -f error_log | grep 500</code> .  Wenn innerhalb einer Minute kein 500. Fehler aufgetreten ist, hat das CI / CD den neuen Code in der Produktion bereitgestellt.  Wenn Fehler aufgetreten sind, hat das System sofort alles zur√ºckgesetzt.  Gleichzeitig wurden auf Balancer-Ebene alle Anforderungen, die mit 500 Fehlern auf dem Preprod abgeschlossen wurden, auf einen der Produktionsserver dupliziert. <br><br>  Diese Ma√ünahme reduzierte den Effekt der f√ºnfhundertsten Releases auf Null.  Gleichzeitig haben wir im Falle von Fehlern in der Automatisierung die Regel drei Minuten lang nicht abgebrochen, um die Diagramme zu √ºberwachen.  Das ist alles √ºber schlechte Ver√∂ffentlichungen und 500. Bugs.  Wir fahren mit der n√§chsten Art von Unfall fort. <br><br><h2>  2. Schlechte Version, suboptimaler Code, Grundlast </h2><br>  Ich beginne gleich mit einem konkreten Beispiel f√ºr einen Unfall dieser Art.  Wir haben die Optimierung eingef√ºhrt: Wir haben der SQL-Abfrage <code>USE INDEX</code> hinzugef√ºgt, w√§hrend wir diese beschleunigten kurzen Abfragen wie in der Produktion getestet haben, aber lange Abfragen haben sich verlangsamt.  Die Verlangsamung langer Abfragen wurde nur in der Produktion festgestellt.  Infolgedessen wird die gesamte Master-Basis durch den Strom langer Anforderungen eine Stunde lang belastet.  Wir haben die Funktionsweise von <code>USE INDEX</code> genau verstanden, es in der Datei do's &amp; dont beschrieben und Entwickler vor Missbrauch gewarnt.  Wir haben die Abfrage auch analysiert und festgestellt, dass sie haupts√§chlich historische Daten zur√ºckgibt. Dies bedeutet, dass sie f√ºr historische Abfragen auf einem separaten Replikat ausgef√ºhrt werden kann.  Selbst wenn dieses Replikat unter Last liegt, wird das Gesch√§ft nicht aufh√∂ren. <br><br>  Nach diesem Vorfall stie√üen wir immer noch auf √§hnliche Probleme und beschlossen irgendwann, das Problem systematisch anzugehen.  Wir haben den gesamten Code mit einem h√§ufigen Kamm gescannt und alle Anforderungen, die dort gestellt werden k√∂nnen, an das Replikat ausgef√ºhrt, ohne die Qualit√§t des Dienstes zu beeintr√§chtigen.  Gleichzeitig haben wir die Replikate selbst nach Kritikalit√§tsstufen unterteilt, damit der Ausfall eines dieser Replikate den Dienst nicht stoppt.  Als Ergebnis kamen wir zu einer Architektur, die die folgenden Grundlagen hat: <br><br><ul><li>  Master-Basis (f√ºr Schreibvorg√§nge und f√ºr Abfragen, die f√ºr die Datenaktualit√§t √ºberkritisch sind); </li><li>  Produktionsreplik (f√ºr kurze Abfragen, die f√ºr die Datenaktualit√§t etwas weniger kritisch sind); </li><li>  Replik zur Berechnung von Preisverh√§ltnissen, die sogenannte Surge Pricing.  Diese Replik kann um 30-60 Sekunden zur√ºckbleiben - dies ist nicht kritisch, die Koeffizienten √§ndern sich nicht so oft, und wenn diese Replik f√§llt, wird der Dienst nicht gestoppt, nur die Preise entsprechen nicht ganz dem Gleichgewicht zwischen Angebot und Nachfrage. </li><li>  Replikat f√ºr das Admin-Panel von Gesch√§ftsbenutzern und das Contact Center (wenn es f√§llt, steigt das Hauptgesch√§ft nicht, aber der Support funktioniert nicht und wir k√∂nnen die Einstellungen nicht vor√ºbergehend anzeigen und √§ndern); </li><li>  viele Repliken f√ºr die Analyse; </li><li>  MPP-Datenbank f√ºr umfangreiche Analysen mit vollst√§ndigen Slices nach historischen Daten. </li></ul><br>  Diese Architektur gab uns mehr Raum f√ºr Wachstum und reduzierte die Anzahl der Abst√ºrze aufgrund suboptimaler SQL-Abfragen um eine Gr√∂√üenordnung.  Aber sie ist immer noch alles andere als ideal.  Pl√§ne f√ºr Sharding, damit Sie Aktualisierungen und L√∂schungen sowie kurze Abfragen skalieren k√∂nnen, die f√ºr die Aktualit√§t dieser Daten √ºberkritisch sind.  Der Sicherheitsspielraum von MySQL ist nicht unendlich.  Bald brauchen wir schwere Artillerie in Form eines Tarantools.  Dar√ºber wird in den folgenden Artikeln gefordert! <br><br>  W√§hrend des Versuchs mit nicht optimalem Code und nicht optimalen Anforderungen haben wir Folgendes festgestellt: Es ist besser, Nichtoptimalit√§ten vor und nicht nach der Ver√∂ffentlichung zu beseitigen.  Dies verringert das Unfallrisiko und den Zeitaufwand f√ºr die Optimierung durch Entwickler.  Denn wenn der Code bereits heruntergeladen wurde und dar√ºber hinaus neue Versionen vorhanden sind, ist die Optimierung viel schwieriger.  Aus diesem Grund haben wir eine obligatorische Codepr√ºfung auf Optimalit√§t eingef√ºhrt.  Es wird von den erfahrensten Entwicklern durchgef√ºhrt, in der Tat von unseren Spezialeinheiten. <br><br>  Dar√ºber hinaus haben wir begonnen, bei do's &amp; dont die besten Methoden zur Codeoptimierung zu sammeln, die in unserer Realit√§t funktionieren. Sie sind unten aufgef√ºhrt.  Bitte nehmen Sie diese Praktiken nicht als absolute Wahrheit wahr und versuchen Sie nicht, sie blind in sich selbst zu wiederholen.  Jede Methode ist nur f√ºr eine bestimmte Situation und ein bestimmtes Unternehmen sinnvoll.  Sie werden hier nur zum Beispiel angegeben, damit die Einzelheiten klar sind: <br><br><ul><li>  Wenn die SQL-Abfrage nicht vom aktuellen Benutzer abh√§ngt (z. B. eine Bedarfskarte f√ºr Fahrer, in der die Mindestausl√∂sungsraten und Koeffizienten f√ºr Polygone angegeben sind), muss diese Abfrage von cron mit einer bestimmten H√§ufigkeit durchgef√ºhrt werden (in unserem Fall reicht einmal pro Minute aus).  Schreiben Sie das Ergebnis in den Cache (Memcached oder Redis), der bereits im Produktionscode verwendet wird. </li><li>  Wenn die SQL-Abfrage mit Daten arbeitet, deren R√ºckstand f√ºr das Gesch√§ft nicht kritisch ist, sollte das Ergebnis mit einer TTL zwischengespeichert werden (z. B. 30 Sekunden).  Und dann in nachfolgenden Anfragen aus dem Cache lesen. </li><li>  Wenn Sie im Zusammenhang mit der Verarbeitung einer Anforderung im Web (in unserem Fall im Zusammenhang mit der Implementierung einer bestimmten Servermethode in PHP) eine SQL-Abfrage durchf√ºhren m√∂chten, m√ºssen Sie sicherstellen, dass diese Daten bei keiner anderen SQL-Abfrage ‚Äûangekommen‚Äú sind (und ob sie durch Code weiter kommen werden).  Gleiches gilt f√ºr den Zugriff auf den Cache: Er kann auch mit Anfragen √ºberflutet werden, wenn Sie dies w√ºnschen. Wenn die Daten also bereits aus dem Cache "angekommen" sind, m√ºssen Sie nicht in den Cache Ihres Hauses gehen und ihn entnehmen, der bereits weggenommen wurde. </li><li>  Wenn Sie im Kontext der Abfrageverarbeitung im Web eine Funktion aufrufen m√∂chten, m√ºssen Sie sicherstellen, dass in den Giblets kein zus√§tzlicher SQL-Abfrage- oder Cache-Zugriff erfolgt.  Wenn das Aufrufen einer solchen Funktion unvermeidbar ist, m√ºssen Sie sicherstellen, dass sie nicht ge√§ndert oder ihre Logik aufgel√∂st werden kann, um keine unn√∂tigen Abfragen an die Datenbanken / Caches durchzuf√ºhren. </li><li>  Wenn Sie weiterhin in SQL wechseln m√ºssen, m√ºssen Sie sicherstellen, dass Sie die erforderlichen Felder im Code nicht zu den bereits im Code vorhandenen Abfragen hinzuf√ºgen k√∂nnen. </li></ul><br><h2>  3. Erfolgloser manueller Eingriff in das System </h2><br>  Beispiele f√ºr solche Unf√§lle: ein erfolgloser ALTER (der die Datenbank √ºberlastete oder eine Replikatverz√∂gerung hervorrief) oder ein erfolgloser DROP (der in MySQL auf einen Fehler stie√ü und die Datenbank blockierte, als eine neue Tabelle gel√∂scht wurde);  schwere Anfrage nach einem Meister, der versehentlich von Hand gemacht wurde;  Wir haben unter Last am Server gearbeitet, obwohl wir dachten, dass er arbeitslos ist. <br><br>  Um St√ºrze aus diesen Gr√ºnden zu minimieren, ist es leider notwendig, die Art des Unfalls jedes Mal zu verstehen.  Wir haben die allgemeine Regel noch nicht gefunden.  Versuchen Sie es erneut mit den Beispielen.  Nehmen wir an, irgendwann haben die Sto√ükoeffizienten aufgeh√∂rt zu arbeiten (sie multiplizieren den Preis der Reise am Ort und zum Zeitpunkt der erh√∂hten Nachfrage).  Der Grund war, dass auf dem Datenbankreplikat, aus dem die Daten zur Berechnung der Koeffizienten stammten, das Python-Skript funktionierte, das den gesamten Speicher verbrauchte, und das Replikat ausfiel.  Das Skript wurde lange ausgef√ºhrt und funktionierte nur zur Vereinfachung auf einem Replikat.  Das Problem wurde durch einen Neustart des Skripts behoben.  Die Schlussfolgerungen lauteten wie folgt: F√ºhren Sie keine Skripte von Drittanbietern auf einem Computer mit einer Datenbank aus (aufgezeichnet in do's &amp; dont's, andernfalls ist dies eine leere Aufnahme!). √úberwachen Sie das Ende des Speichers auf einem Computer mit einem Replikat und benachrichtigen Sie per SMS, wenn der Speicher bald aufgebraucht ist. <br><br>  Es ist sehr wichtig, immer Schlussfolgerungen zu ziehen und nicht in eine angenehme Situation zu geraten. "Sie haben ein Problem gesehen, es behoben und vergessen."  Ein qualitativ hochwertiger Service kann nur aufgebaut werden, wenn Schlussfolgerungen gezogen werden.  Dar√ºber hinaus sind SMS-Warnungen sehr wichtig - sie setzen die Servicequalit√§t auf ein h√∂heres Niveau als bisher, verhindern ein Absinken und verbessern die Zuverl√§ssigkeit weiter.  Als Kletterer aus jedem stabilen Zustand zieht er sich hoch und ist in einem weiteren stabilen Zustand fixiert, jedoch in einer h√∂heren H√∂he. <br><br>  √úberwachung und Alarmierung mit unsichtbaren, aber starren Eisenhaken schneiden in den Felsen der Unsicherheit und lassen uns niemals unter das von uns eingestellte Stabilit√§tsniveau fallen, das wir st√§ndig nur anheben. <br><br><h2>  4. Osterei </h2><br>  Was wir das "Osterei" nennen, ist eine Zeitbombe, die es schon lange gibt, auf die wir aber nicht gesto√üen sind.  Au√üerhalb dieses Artikels bezieht sich dieser Begriff auf eine nicht dokumentierte Funktion, die absichtlich erstellt wurde.  In unserem Fall ist dies √ºberhaupt keine Funktion, sondern ein Fehler, der jedoch wie eine Zeitbombe funktioniert und ein Nebeneffekt guter Absichten ist. <br><br>  Zum Beispiel: √úberlauf 32 Bit <code>auto_increment</code> ;  Nichtoptimalit√§t im Code / in der Konfiguration, "Schuss" aufgrund der Last;  Ein verz√∂gertes Replikat (normalerweise entweder aufgrund einer suboptimalen Anforderung f√ºr ein Replikat, das durch ein neues Verwendungsmuster ausgel√∂st wurde, oder einer h√∂heren Auslastung oder aufgrund eines suboptimalen UPDATE auf dem Master, das durch ein neues Lademuster ausgel√∂st und das Replikat geladen wurde). <br><br>  Eine andere beliebte Art von Osterei ist nicht optimaler Code und insbesondere nicht optimale SQL-Abfrage.  Zuvor war die Tabelle kleiner und die Last geringer - die Abfrage funktionierte gut.  Und mit der Zunahme der Tabelle, zeitlich linear und Lastwachstum, zeitlich linear, wuchs der DBMS-Ressourcenverbrauch quadratisch.  Normalerweise f√ºhrt dies zu einem scharfen negativen Effekt: Alles war ‚Äûok‚Äú und Knall. <br><br>  Seltenere Szenarien sind eine Kombination aus K√§fer- und Ostereiern.  Eine Ver√∂ffentlichung mit einem Fehler f√ºhrte zu einer Vergr√∂√üerung der Tabelle oder einer Vergr√∂√üerung der Anzahl der Datens√§tze in einer Tabelle eines bestimmten Typs, und ein bereits vorhandenes Osterei verursachte eine √ºberm√§√üige Belastung der Datenbank aufgrund langsamerer Abfragen dieser √ºberwucherten Tabelle. <br><br>  Wir hatten aber auch Ostereier, die nichts mit der Ladung zu tun hatten.  Beispiel: <code>auto increment</code> 32-Bit <code>auto increment</code> : Nach zwei und einigen Milliarden Datens√§tzen in der Tabelle werden keine Einf√ºgungen mehr ausgef√ºhrt.  Das Feld der <code>auto increment</code> in der modernen Welt muss also auf 64-Bit erweitert werden.  Wir haben diese Lektion gut gelernt. <br><br>  Wie gehe ich mit Ostereiern um?  Die Antwort ist einfach: a) Suchen Sie nach alten "Eiern" und b) verhindern Sie, dass neue erscheinen.  Wir versuchen beide Punkte zu erf√ºllen.  Die Suche nach alten ‚ÄûEiern‚Äú in unserem Land ist mit einer st√§ndigen Codeoptimierung verbunden.  Wir haben zwei der erfahrensten Entwickler f√ºr die nahezu Vollzeitoptimierung identifiziert.  Sie finden in slow.log-Abfragen, die die meisten Datenbankressourcen verbrauchen, diese Abfragen und den Code um sie herum.  Wir reduzieren die Wahrscheinlichkeit neuer Eier, indem wir den Optimalit√§tscode jedes Commits durch das oben erw√§hnte Sensei Rezrabotchiki √ºberpr√ºfen.  Ihre Aufgabe ist es, auf Fehler hinzuweisen, die sich auf die Leistung auswirken.  Erkl√§ren Sie, wie Sie es besser machen k√∂nnen, und √ºbertragen Sie Wissen an andere Entwickler. <br><br>  Irgendwann nach dem n√§chsten Osterei stellten wir fest, dass die Suche nach langsamen Abfragen gut ist, aber es lohnt sich, zus√§tzlich nach Abfragen zu suchen, die langsam aussehen, aber schnell funktionieren.  Dies sind nur die n√§chsten Kandidaten, um im Falle eines explosiven Wachstums des n√§chsten Tisches alles zu platzieren. <br><br><h2>  5. Externe Ursachen </h2><br>  Dies sind Gr√ºnde, von denen wir glauben, dass sie von uns schlecht kontrolliert werden.  Zum Beispiel: <br><br><ul><li>  Trab mit Google Maps.  Sie k√∂nnen dies umgehen, indem Sie die Nutzung dieses Dienstes √ºberwachen, ein bestimmtes Lastniveau beobachten, das Wachstum der Last im Voraus planen und eine Erweiterung des Dienstes erwerben. </li><li>  Der Fall des Netzwerks im Rechenzentrum.  Sie k√∂nnen sich fortbewegen, indem Sie eine Kopie des Dienstes im Backup-Rechenzentrum ablegen. </li><li>  Zahlungsdienstunfall.  Sie k√∂nnen die Reservierung von Zahlungsdiensten umgehen. </li><li>  Fehlerhafte Verkehrsblockierung durch den DDoS-Schutzdienst.  Sie k√∂nnen dies umgehen, indem Sie den Standard-DDoS-Schutzdienst deaktivieren und nur im Falle eines DDoS-Angriffs aktivieren. </li></ul><br>  Da die Beseitigung einer externen Ursache (per Definition) ein langwieriges und teures Unterfangen ist, haben wir gerade damit begonnen, Statistiken √ºber Unf√§lle aufgrund externer Ursachen zu sammeln und auf die Anh√§ufung kritischer Massen zu warten.  Es gibt kein Rezept zur Bestimmung der kritischen Masse.  Es funktioniert nur Intuition.  Wenn wir beispielsweise aufgrund von Problemen mit dem DDoS-Steuerungsdienst f√ºnfmal in voller Ausfallzeit waren, wird es mit jedem n√§chsten Tropfen immer sch√§rfer, die Frage nach einer Alternative zu stellen. <br><br>  Auf der anderen Seite, wenn Sie es irgendwie schaffen k√∂nnen, dass es mit einem unzug√§nglichen externen Dienst funktioniert, dann tun wir es definitiv.  Und dies hilft uns bei der Obduktion jedes Sturzes.  Es muss immer eine Schlussfolgerung geben.  Das hei√üt, Sie wollen immer nicht wollen, aber Sie k√∂nnen eine Problemumgehung finden. <br><br><h2>  6. Schlechte Ver√∂ffentlichung, fehlerhafte Funktionalit√§t </h2><br>  Dies ist die unangenehmste Art von Unfall.  Die einzige Art von Unfall, die f√ºr andere Symptome als Benutzer- / Gesch√§ftsbeschwerden nicht sichtbar ist.  Daher kann ein solcher Unfall, insbesondere wenn er nicht gro√ü ist, lange Zeit unbemerkt in der Produktion auftreten. <br><br>  Alle anderen Arten von Unf√§llen √§hneln mehr oder weniger der ‚Äûschlechten Freigabe, 500. Fehler‚Äú.  Es ist nur so, dass der Ausl√∂ser keine Freigabe ist, sondern eine Last, eine manuelle Bedienung oder ein Problem auf der Seite eines externen Dienstes. <br><br>  Um die Methode zur Behandlung dieser Art von Unfall zu beschreiben, gen√ºgt es, sich an eine b√§rtige Anekdote zu erinnern: <br><br><blockquote>  Mathematik und Physik wurde die gleiche Aufgabe angeboten: einen Wasserkocher kochen.  Hilfsmittel sind vorhanden: Herd, Wasserkocher, Wasserhahn mit Wasser, Streichh√∂lzer.  Beide gie√üen abwechselnd Wasser in den Wasserkocher, schalten das Gas ein, z√ºnden es an und setzen den Wasserkocher in Brand.  Dann wurde die Aufgabe vereinfacht: Ein mit Wasser gef√ºllter Wasserkocher und ein Herd mit brennendem Gas wurden vorgeschlagen.  Das Ziel ist das gleiche - Wasser zu kochen.  Der Physiker setzt den Wasserkocher in Brand.  Der Mathematiker gie√üt Wasser aus dem Wasserkocher, stellt das Gas ab und sagt: "Die Aufgabe wurde auf die vorherige reduziert."  anekdotov.net </blockquote><br>  Diese Art von Unfall muss auf jeden Fall auf ‚Äûschlechte Freisetzung, 500. Fehler‚Äú reduziert werden.  Idealerweise, wenn Fehler im Code als Fehler im Protokoll gespeichert wurden.  Nun, oder zumindest Spuren in der Datenbank hinterlassen.  Anhand dieser Spuren k√∂nnen Sie erkennen, dass ein Fehler aufgetreten ist, und sofort alarmieren.  Wie kann man dazu beitragen?  Wir haben begonnen, jeden gr√∂√üeren Fehler zu analysieren und L√∂sungen anzubieten. Welche Art von √úberwachung / SMS-Warnung kann durchgef√ºhrt werden, damit sich dieser Fehler sofort auf die gleiche Weise wie der 500. Fehler manifestiert. <br><br><h3>  6.1.  Beispiel </h3><br>  Es gab massive Beschwerden: Bestellungen, die √ºber Apple Pay bezahlt wurden, werden nicht geschlossen.  Sie begannen zu verstehen, das Problem wurde wiederholt.  Wir haben den Grund gefunden: Wir haben das <code>expire date</code> f√ºr Bankkarten bei der Interaktion mit dem Erwerb verbessert. Infolgedessen haben sie begonnen, es speziell f√ºr Zahlungen √ºber Apple Pay in dem Format zu √ºbertragen, das vom Zahlungsverarbeitungsdienst erwartet wurde (tats√§chlich ist eines behandelbar). etwas anderes verst√ºmmeln), so dass alle Zahlungen √ºber Apple Pay zur√ºckgingen.  Schnell behoben, ausgerollt, verschwand das Problem.  Aber sie "lebten" 45 Minuten mit dem Problem. <br><br>  Um den Spuren dieses Problems zu folgen, haben wir die Anzahl der fehlgeschlagenen Zahlungen √ºber Apple Pay √ºberwacht und eine SMS / IVR-Warnung mit einem Schwellenwert ungleich Null erstellt (da fehlgeschlagene Zahlungen aus Sicht des Dienstes die Norm sind, z. B. wenn der Kunde kein Geld auf der Karte hat oder die Karte blockiert ist). .  Ab diesem Moment, wenn der Schwellenwert √ºberschritten wird, lernen wir sofort das Problem kennen.  Wenn die neue Version JEDES Problem in der Apple Pay-Verarbeitung verursacht, das zu einer teilweisen Inoperabilit√§t des Dienstes f√ºhrt, werden wir sofort davon erfahren, indem wir die Version √ºberwachen und innerhalb von drei Minuten zur√ºcksetzen (wie oben beschrieben, wie der manuelle Rolling-Prozess funktioniert).  Es waren 45 Minuten Teilausfallzeit, es wurden 3 Minuten.  Gewinn <br><br><h3>  6.2.  Andere Beispiele </h3><br>  Wir haben die Optimierung der Liste der Bestellungen f√ºr Fahrer eingef√ºhrt.  Ein Fehler hat sich in den Code eingeschlichen.  Infolgedessen wurde den Fahrern in einigen F√§llen die Liste der Bestellungen nicht angezeigt (sie war leer).  Sie haben zuf√§llig von dem Fehler erfahren - einer der Mitarbeiter hat die Anwendung des Fahrers gepr√ºft.  Schnell zur√ºckgerollt.  Als Schlussfolgerung aus dem Unfall haben wir ein Diagramm der durchschnittlichen Anzahl von Bestellungen in der Liste der Fahrer gem√§√ü der Datenbank erstellt, das Diagramm einen Monat lang r√ºckwirkend betrachtet, dort einen Fehler festgestellt und eine SMS-Warnung f√ºr die SQL-Abfrage erstellt, die dieses Diagramm bildet, wenn die durchschnittliche Anzahl von Bestellungen eingeht Die Liste unter dem ausgew√§hlten Schwellenwert basiert auf dem historischen Minimum f√ºr den Monat. <br><br>  Die Logik der R√ºckgabe von Cashback an Benutzer f√ºr Reisen wurde ge√§ndert.  Einschlie√ülich an die falsche Benutzergruppe verteilt.  Wir haben das Problem behoben, einen Zeitplan f√ºr ausgezahlte Cashbacks erstellt, dort einen starken Anstieg festgestellt und festgestellt, dass es noch nie ein solches Wachstum gegeben hat. Wir haben eine SMS-Benachrichtigung gesendet. <br><br>  Mit der Freigabe wurde die Funktionalit√§t zum Schlie√üen von Bestellungen unterbrochen (die Bestellung wurde f√ºr immer geschlossen, die Zahlung per Karte funktionierte nicht, die Fahrer forderten die Zahlung in bar von den Kunden).  Das Problem betrug 1,5 Stunden (insgesamt passive und aktive Stadien).  Das Problem haben wir vom Contact Center f√ºr Beschwerden erfahren.  Sie nahmen eine Korrektur vor, √ºberwachten und alarmierten die Schlie√üzeit von Auftr√§gen mit Schwellenwerten, die aus dem Studium historischer Grafiken ermittelt wurden. <br><br>  Wie Sie sehen k√∂nnen, ist die Herangehensweise an diese Art von Unfall immer dieselbe: <br><br><ol><li>  Rollen Sie die Freigabe aus. </li><li>  Erfahren Sie mehr √ºber das Problem. </li><li>  Repariere es. </li><li>  Wir bestimmen, anhand welcher Spuren (in der Datenbank, in den Protokollen, in Kiban) Sie die Anzeichen des Problems herausfinden k√∂nnen. </li><li>  Wir zeichnen diese Zeichen. </li><li>  Wir spulen es in die Vergangenheit zur√ºck und schauen uns Bursts / Falls an. </li><li>  Wir w√§hlen den richtigen Schwellenwert f√ºr die Warnung. </li><li>  Wenn ein Problem erneut auftritt, erfahren wir es sofort durch eine Warnung. </li></ol><br>  Das Sch√∂ne an dieser Methode: Eine gro√üe Klasse von Problemen wird sofort mit einem Diagramm und einer Warnung geschlossen (Beispiele f√ºr Problemklassen: Nichtabschluss von Bestellungen, zus√§tzliche Boni, Nichtzahlung √ºber Apple Pay usw.). <br><br>  Im Laufe der Zeit haben wir das Erstellen von Warnungen und die √úberwachung f√ºr jeden gr√∂√üeren Fehler zu einem Teil der Entwicklungskultur gemacht.  Um zu verhindern, dass diese Kultur verloren geht, haben wir sie ein wenig formalisiert.  F√ºr jeden Unfall forderten sie von sich selbst einen Bericht.  Ein Bericht ist ein ausgef√ºlltes Formular mit Antworten auf die folgenden Fragen: Grundursache, Eliminierungsmethode, Auswirkungen auf das Gesch√§ft, Schlussfolgerungen.  Alle Artikel sind erforderlich.  Wenn Sie es wollen oder nicht, werden Sie daher die Schlussfolgerungen schreiben.  Diese Prozess√§nderung wurde nat√ºrlich von do's &amp; dont's aufgeschrieben. <br><br><h2>  7. Kotan </h2><br>    ,     ,    -,        .  - (  ,  )   ¬´¬ª.   ¬´¬ª.  :-) <br><br>  ¬´¬ª   : <br><br>  .          ‚Äî ,      .       ,   (  ),    (     )     ,        .      ( ,      ). <br><br>  .  ,    .   ,     :  ‚Äî   ,   ‚Äî   . , ¬´ 500-  1 %¬ª ‚Äî  .  ¬´ 500-  1 %,   - , - ,  - ¬ª ‚Äî  .         ,      .          (     ).         ,     :  ,   ¬´¬ª,   ,   ,    ,  .     ‚Äî     .      (  ,      ).      . <br><br> .      .        ,     (   ,     ,       ),   ,       :  ,  ,   , . <br><br>  .    ,   ,       ( ,   ). <br><br><h2> 8.      ? </h2><br>       ‚Äî  .    .  :   ,    .          ,    ,   .      ,  ,      , ..    ‚Äî  ,      ‚Äî !      ,     .           ,    ,  ?    ,       , .. ,    ,  . <br><br>           .      .     (    ,   ),    ,           :  ,  ,     ,   .     ,    ,        .          .           .       -,      ,    .    ,   ,      ,     ‚Äî   :          . <br><br><h2> 9.   </h2><br>      ,           . <br><br><table><tbody><tr><th>  ? </th><th>  ? </th></tr><tr><td>    . <br></td><td>        . <br></td></tr><tr><td>    (    )   post-mortem. <br></td><td>       . <br></td></tr><tr><td>    do's &amp; dont's. <br></td><td>     ,       ,   . <br></td></tr><tr><td>   ,    5 . <br></td><td>      . <br></td></tr><tr><td>        ,    . <br></td><td>      . <br></td></tr><tr><td>    . <br></td><td>      . <br></td></tr><tr><td>      <br></td><td>   . <br></td></tr><tr><td>       . <br></td><td>   . <br></td></tr><tr><td>        . <br></td><td>    . <br></td></tr><tr><td> SMS/IVR-  . <br></td><td>    . <br></td></tr><tr><td>   ( )    . <br></td><td>    . <br></td></tr><tr><td>    . <br></td><td>     -   . <br></td></tr><tr><td>    (   ‚Äî slow.log). <br></td><td>     - ¬´ ¬ª. <br></td></tr><tr><td>     . <br></td><td>       . <br></td></tr><tr><td>     . <br></td><td>        . <br></td></tr><tr><td>          . <br></td><td>   ,      ,         . <br></td></tr><tr><td> ¬´¬ª ‚Äî     . <br></td><td>   ,   . <br></td></tr><tr><td>  . <br></td><td>    . <br></td></tr></tbody></table><br>  ,    !       , , ,   ,    ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445704/">https://habr.com/ru/post/de445704/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445692/index.html">√úbersicht √ºber die PlayCanvas-Funktionen zum Erstellen von Web-VR-Anwendungen</a></li>
<li><a href="../de445696/index.html">Wie Roboter entstehen, die dahin gehen k√∂nnen, wo wir sind</a></li>
<li><a href="../de445698/index.html">NanoCAD-Lizenzierung</a></li>
<li><a href="../de445700/index.html">‚Äû33 W√∂rter √ºber Design‚Äú: Wer und warum macht einen Film √ºber Design in Russland?</a></li>
<li><a href="../de445702/index.html">SlowPochta - Messenger f√ºr ungerechtfertigte Zustellung von Nachrichten mit unbestimmter Weiterleitungszeit</a></li>
<li><a href="../de445706/index.html">Intel GPU SGX - Speichern Sie Ihre Daten auf der Grafikkarte. Mit einer Garantie</a></li>
<li><a href="../de445708/index.html">UICollectionView um den Kopf: Wechselnde Ansichten im laufenden Betrieb</a></li>
<li><a href="../de445710/index.html">Team Klimamanagement</a></li>
<li><a href="../de445712/index.html">Sechs Regeln, mit denen Sie Ihre Ziele erreichen k√∂nnen.</a></li>
<li><a href="../de445714/index.html">Das endg√ºltige Programm von DUMP-2019 ist fertig. Wir treffen uns am 19. April in Jekaterinburg</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>