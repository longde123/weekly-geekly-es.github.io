<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äç‚öïÔ∏è üí¢ üßóüèª Aprenda t√°cticas adversas, t√©cnicas y conocimientos comunes (ATT @ CK). T√°cticas empresariales. Parte 9 üéä üçÜ üïã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recogida de datos 
 Enlaces a todas las partes: 
 Parte 1. Obtenci√≥n del acceso inicial (acceso inicial) 
 Parte 2. Ejecuci√≥n 
 Parte 3. Fijaci√≥n (per...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aprenda t√°cticas adversas, t√©cnicas y conocimientos comunes (ATT @ CK). T√°cticas empresariales. Parte 9</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441896/"><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Recogida de datos</a> </h2><br>  <b>Enlaces a todas las partes:</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1. Obtenci√≥n del acceso inicial (acceso inicial)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2. Ejecuci√≥n</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3. Fijaci√≥n (persistencia)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 4. Escalada de privilegios</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 5. Evasi√≥n de defensa</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 6. Obtenci√≥n de credenciales (acceso de credenciales)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 7. Descubrimiento</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 8. Movimiento lateral</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 9. Recolecci√≥n de datos (Colecci√≥n)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 10 Exfiltraci√≥n</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 11. Comando y Control</a> <br><br>  Las t√©cnicas para recopilar datos en un entorno comprometido incluyen m√©todos para identificar, localizar y recopilar directamente informaci√≥n espec√≠fica (por ejemplo, archivos confidenciales) para prepararla para una mayor exfiltraci√≥n.  La descripci√≥n de los m√©todos de recopilaci√≥n de informaci√≥n tambi√©n cubre la descripci√≥n de los lugares de almacenamiento de informaci√≥n en sistemas o redes en los que los oponentes pueden buscarla y recopilarla. <br><br>  Los indicadores de la implementaci√≥n de la mayor√≠a de las t√©cnicas de recopilaci√≥n de datos presentadas en ATT &amp; CK son procesos que utilizan API, WMI, PowerShell, Cmd o Bash para capturar informaci√≥n objetivo de dispositivos de entrada / salida o abrir archivos para leer varias veces y luego copiar los datos recibidos en un lugar espec√≠fico en el sistema de archivos o red .  La informaci√≥n durante la recopilaci√≥n de datos se puede cifrar y combinar en archivos de almacenamiento. <br><br>  La identificaci√≥n y el bloqueo de software potencialmente peligroso y malicioso mediante el uso de herramientas para organizar listas blancas de aplicaciones, como las Pol√≠ticas de restricci√≥n de AppLocker y Sofware en Windows, el cifrado y el almacenamiento de informaci√≥n confidencial fuera de los sistemas locales, se ofrecen restricciones de derechos como recomendaciones generales sobre protecci√≥n contra la recopilaci√≥n de datos. acceso de usuarios a directorios de red y almacenes de informaci√≥n corporativa; aplicaci√≥n de una pol√≠tica de contrase√±a y autenticaci√≥n de dos factores en un entorno protegido. <a name="habracut"></a><br><br>  <i>El autor no es responsable de las posibles consecuencias de aplicar la informaci√≥n establecida en el art√≠culo, y tambi√©n se disculpa por posibles imprecisiones hechas en algunas formulaciones y t√©rminos.</i>  <i>La informaci√≥n publicada es un recuento gratuito de los contenidos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MITER ATT &amp; CK</a> .</i> <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Captura de audio</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Derechos:</i> usuario <br>  <i>Descripci√≥n: Un</i> adversario puede usar los dispositivos perif√©ricos de una computadora (por ejemplo, un micr√≥fono o una c√°mara web) o aplicaciones (por ejemplo, servicios de llamadas de voz y video) para capturar grabaciones de audio y escuchar m√°s conversaciones confidenciales.  Se pueden utilizar software o scripts maliciosos para interactuar con dispositivos perif√©ricos a trav√©s de las funciones API proporcionadas por el sistema operativo o la aplicaci√≥n.  Los archivos de audio recopilados se pueden grabar en un disco local con posterior exfiltraci√≥n. <br><br>  <i>Consejos de seguridad:</i> La oposici√≥n directa a la t√©cnica anterior puede ser dif√≠cil porque requiere un control detallado sobre el uso de la API.  La detecci√≥n de actividad maliciosa tambi√©n puede ser dif√≠cil debido a la variedad de funciones API. <br><br>  Dependiendo del prop√≥sito del sistema atacado, los datos sobre el uso de la API pueden ser completamente in√∫tiles o, por el contrario, proporcionar contenido para detectar otras actividades maliciosas que ocurren en el sistema.  Un indicador de actividad enemiga puede ser un proceso desconocido o inusual de acceder a la API asociada con dispositivos o software que interact√∫an con un micr√≥fono, dispositivos de grabaci√≥n, programas de grabaci√≥n o un proceso que escribe peri√≥dicamente archivos que contienen datos de audio en el disco. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Colecci√≥n automatizada</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Derechos:</i> usuario <br>  <i>Descripci√≥n: Un</i> atacante puede usar herramientas de automatizaci√≥n para recopilar datos internos, como scripts, para buscar y copiar informaci√≥n que cumpla con ciertos criterios: tipo de archivo, ubicaci√≥n, nombre, intervalos de tiempo.  Esta funcionalidad tambi√©n se puede integrar en las utilidades de acceso remoto.  En el proceso de automatizaci√≥n de la recopilaci√≥n de datos con el fin de identificar y mover archivos, tambi√©n se pueden aplicar t√©cnicas para detectar archivos y directorios ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Descubrimiento de archivos y directorios</a> ) y la copia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">remota de archivos (Copia remota de archivos</a> ). <br><br>  <i>Recomendaciones de protecci√≥n: el</i> cifrado y el almacenamiento de informaci√≥n confidencial fuera del sistema es una forma de contrarrestar la recopilaci√≥n de archivos, sin embargo, si la intrusi√≥n dura mucho tiempo, el adversario puede detectar y obtener acceso a los datos de otras maneras.  Por ejemplo, un keylogger instalado en el sistema, al interceptar la entrada, puede recopilar contrase√±as para descifrar documentos protegidos.  Para evitar la pirater√≠a de documentos encriptados fuera de l√≠nea por la fuerza bruta, debe usar contrase√±as seguras. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Datos del portapapeles</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descripci√≥n: los</i> opositores pueden recopilar datos del portapapeles de Windows, almacenados en √©l durante la copia de informaci√≥n por parte de los usuarios dentro o entre las aplicaciones. <br><br>  <b>Ventanas</b> <br>  Las aplicaciones pueden acceder a los datos del portapapeles utilizando la API de Windows. <br><br>  <b>MacOS</b> <br>  OSX tiene un comando <i>pbpast incorporado</i> para capturar el contenido del portapapeles. <br><br>  <i>Recomendaciones de protecci√≥n:</i> no bloquee el software bas√°ndose en la identificaci√≥n del comportamiento asociado con la captura de los contenidos del portapapeles, como  El acceso al portapapeles es una caracter√≠stica est√°ndar de muchas aplicaciones de Windows.  Si la organizaci√≥n decide rastrear este comportamiento de las aplicaciones, entonces los datos de monitoreo deben compararse con otras acciones sospechosas o no relacionadas con el usuario. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Datos organizados</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descripci√≥n:</i> antes de la exfiltraci√≥n, los datos recopilados generalmente se colocan en un directorio espec√≠fico.  Los datos pueden almacenarse en archivos separados o combinarse en un solo archivo mediante compresi√≥n o encriptaci√≥n.  Los shells de comandos interactivos se pueden usar como herramientas, la funcionalidad cmd y bash se pueden usar para copiar datos en una ubicaci√≥n intermedia. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Datos de repositorios de informaci√≥n</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Derechos:</i> usuario <br>  <i>Descripci√≥n: los</i> opositores pueden extraer informaci√≥n valiosa de los repositorios de informaci√≥n, herramientas que le permiten almacenar informaci√≥n, por regla general, para optimizar la colaboraci√≥n o el intercambio de datos entre los usuarios.  El almacenamiento de informaci√≥n puede contener una gran variedad de datos que pueden ayudar a los atacantes a alcanzar otros objetivos o proporcionar acceso a informaci√≥n espec√≠fica. <br><br>  La siguiente es una breve lista de informaci√≥n que se puede encontrar en repositorios de informaci√≥n y de valor potencial para un atacante: <br><br><ul><li>  Pol√≠ticas, procedimientos y est√°ndares; </li><li>  Esquemas de redes f√≠sicas / l√≥gicas; </li><li>  Esquemas de arquitectura del sistema; </li><li>  Documentaci√≥n t√©cnica del sistema; </li><li>  Credenciales para pruebas / desarrollo; </li><li>  Planes de trabajo / proyecto; </li><li>  Fragmentos de c√≥digo fuente; </li><li>  Enlaces a directorios de red y otros recursos internos. </li></ul><br>  Repositorios comunes de informaci√≥n: <br><br>  <b>Microsoft SharePoint</b> <br>  Se encuentra en muchas redes corporativas y a menudo se usa para almacenar e intercambiar una cantidad significativa de documentaci√≥n. <br><br>  <b>Confluencia atlassiana</b> <br>  A menudo se encuentra en entornos de desarrollo junto con Atlassian JIRA.  La confluencia se usa generalmente para almacenar documentaci√≥n relacionada con el desarrollo. <br><br>  <i>Recomendaciones de protecci√≥n:</i> medidas <i>recomendadas</i> para evitar la recopilaci√≥n de datos de los repositorios de informaci√≥n: <br><br><ul><li>  Desarrollo y publicaci√≥n de pol√≠ticas que definen informaci√≥n aceptable para ser registrada en el almac√©n de informaci√≥n; </li><li>  Implementaci√≥n de mecanismos de control de acceso, que incluyen tanto la autenticaci√≥n como la autorizaci√≥n correspondiente; </li><li>  Asegurar el principio del menor privilegio; </li><li>  Revisi√≥n peri√≥dica de los privilegios de la cuenta; </li><li>  Evite el acceso a cuentas v√°lidas v√°lidas que se pueden utilizar para acceder a repositorios de informaci√≥n. </li></ul><br>  Dado que los repositorios de informaci√≥n generalmente tienen una base de usuarios bastante grande, detectar su uso malicioso puede ser una tarea no trivial.  Como m√≠nimo, el acceso a los almacenamientos de informaci√≥n realizados por usuarios privilegiados (por ejemplo, Dominio, Enterprise o Shema Admin) debe ser cuidadosamente monitoreado y evitado, ya que este tipo de cuentas no deben usarse para acceder a los datos almacenados.  Si es posible monitorear y alertar, entonces necesita rastrear a los usuarios que recuperan y ven una gran cantidad de documentos y p√°ginas.  Este comportamiento puede indicar el funcionamiento del software que recupera datos del almacenamiento.  En entornos de alta madurez, los sistemas de an√°lisis de comportamiento del usuario (UBA) se pueden utilizar para detectar anomal√≠as en el comportamiento del usuario. <br><br>  Microsoft SharePoint se puede configurar para registrar el acceso de los usuarios a p√°ginas y documentos espec√≠ficos.  En Confluence Atlassian, se puede configurar un registro similar a trav√©s de AccessLogFilter.  Una detecci√≥n m√°s eficiente probablemente requerir√° infraestructura adicional para almacenar y analizar registros. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Datos del sistema local</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descripci√≥n:</i> Se pueden obtener datos confidenciales de fuentes del sistema local, como un sistema de archivos o una base de datos, con el fin de obtener una mayor exfiltraci√≥n. <br><br>  Los atacantes a menudo buscan archivos en las computadoras que piratearon.  Pueden hacer esto usando la interfaz de l√≠nea de comando (cmd).  Tambi√©n se pueden usar m√©todos para automatizar el proceso de recopilaci√≥n de datos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Datos de la unidad compartida de red</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descripci√≥n:</i> Se pueden recopilar datos confidenciales de sistemas remotos que tienen unidades de red de acceso p√∫blico (carpeta de red local o servidor de archivos) disponibles para el adversario. <br><br>  Para detectar archivos de destino, un atacante puede buscar recursos de red en computadoras que han sido comprometidas.  Para recopilar informaci√≥n, se pueden utilizar tanto los comandos interactivos como las funciones comunes de la l√≠nea de comandos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Datos de medios extra√≠bles (datos de medios extra√≠bles)</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descripci√≥n:</i> Se pueden recopilar datos confidenciales de cualquier medio extra√≠ble (unidad √≥ptica, unidad USB, etc.) conectado a un sistema comprometido. <br><br>  Para detectar archivos de destino, un atacante puede buscar medios extra√≠bles en computadoras comprometidas.  Para recopilar informaci√≥n, se pueden utilizar tanto los comandos interactivos como las funciones comunes de la l√≠nea de comandos, as√≠ como las herramientas de automatizaci√≥n para la recopilaci√≥n de datos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Recolecci√≥n de correo electr√≥nico</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Descripci√≥n:</i> para recopilar informaci√≥n confidencial, los atacantes pueden utilizar buzones electr√≥nicos personalizados.  Los datos contenidos en el correo electr√≥nico se pueden obtener de archivos de datos de Outlook (.pst) o archivos de cach√© (.ost).  Con credenciales de usuario, un adversario puede interactuar directamente con el servidor Exhange y obtener acceso a una interfaz web de correo electr√≥nico externa, como Outlook Web Access. <br><br>  <i>Recomendaciones de seguridad: el</i> uso del cifrado proporciona una capa adicional de protecci√≥n para la informaci√≥n confidencial transmitida por correo electr√≥nico.  El uso de cifrado asim√©trico requerir√° que el adversario obtenga un certificado privado con una clave de cifrado.  El uso de la autenticaci√≥n de dos factores en los sistemas de correo web p√∫blico es la mejor pr√°ctica para minimizar la posibilidad de que un atacante use las credenciales de otra persona. <br><br>  Hay varias formas en que un atacante puede obtener correo electr√≥nico dirigido, cada uno de los cuales tiene su propio mecanismo de detecci√≥n.  Los indicadores de actividad maliciosa pueden ser: acceso a archivos de datos de correo electr√≥nico del sistema local para su posterior filtraci√≥n, procesos inusuales que se conectan al servidor de correo electr√≥nico en la red, as√≠ como patrones de acceso at√≠picos e intentos de autenticaci√≥n en servidores web p√∫blicos de correo electr√≥nico.  Realice un seguimiento de los procesos y los argumentos de la l√≠nea de comandos que se pueden utilizar para recopilar archivos de datos de correo electr√≥nico.  Las herramientas de acceso remoto pueden interactuar directamente con la API de Windows.  Los datos tambi√©n se pueden recuperar utilizando varias herramientas de administraci√≥n de Windows, como WMI o PowerShell. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Captura de entrada</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Derechos:</i> Administrador, Sistema <br>  <i>Descripci√≥n: los</i> atacantes pueden utilizar los medios de capturar la entrada del usuario para obtener las credenciales de las cuentas existentes.  El registro de teclas es el tipo m√°s com√∫n de captura de entrada del usuario, incluidos muchos m√©todos diferentes de interceptar las pulsaciones de teclas, pero existen otros m√©todos para obtener informaci√≥n de destino, como llamar a una solicitud de UAC o escribir un shell para el proveedor de credenciales predeterminado (Proveedores de credenciales de Windows).  El registro de teclas es la forma m√°s com√∫n de robar credenciales cuando el uso de t√©cnicas de descarga de credenciales es ineficiente y el atacante se ve obligado a permanecer pasivo durante un cierto per√≠odo de tiempo. <br><br>  Para recopilar credenciales de usuario, un atacante tambi√©n puede instalar un keylogger de software en portales corporativos externos, por ejemplo, en la p√°gina de inicio de sesi√≥n de VPN.  Esto es posible despu√©s de comprometer el portal o servicio al obtener acceso administrativo leg√≠timo, que a su vez podr√≠a organizarse para proporcionar acceso de respaldo en las etapas de obtener acceso inicial y asegurarlo en el sistema. <br><br>  <i>Recomendaciones de protecci√≥n:</i> garantice la detecci√≥n y el bloqueo de software potencialmente peligroso y malicioso utilizando herramientas como AppLocker o pol√≠ticas de restricci√≥n de software.  Tome medidas para reducir el da√±o si un atacante obtiene credenciales.  Siga <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">las mejores pr√°cticas de Microsoft para desarrollar y administrar su red corporativa</a> . <br><br>  Los keyloggers pueden modificar el registro e instalar controladores.  Las funciones API m√°s utilizadas son SetWindowsHook, GetKeyState, GetAsyncKeyState.  Las llamadas a las funciones API por s√≠ solas no pueden ser indicativas de registro de teclas, pero junto con un an√°lisis de los cambios en el registro, la detecci√≥n de instalaciones de controladores y la aparici√≥n de nuevos archivos en el disco pueden indicar actividad maliciosa.  Rastree la aparici√≥n de Proveedores de credenciales personalizadas en el registro: <br><br> <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Authentication\Credential Providers</code> <br> <br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Man in the Browser</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">(Hombre en el navegador (MitB), Pivoting del navegador)</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Derechos:</i> Administrador, Sistema <br>  <i>Descripci√≥n:</i> durante varios m√©todos de ataque MitB, un adversario, aprovechando la vulnerabilidad del navegador de la v√≠ctima, puede modificar el contenido web utilizando un programa malicioso, por ejemplo, agregar campos de entrada a una p√°gina, modificar la entrada del usuario, interceptar informaci√≥n.  Un ejemplo espec√≠fico es el caso cuando un atacante inyecta software en el navegador que permite que se hereden cookies, sesiones HTTP, certificados de cliente SSL del cliente y usar el navegador como una forma de autenticar e ir a la intranet. <br><br>  Un ataque requiere privilegios SeDebugPrivilege y procesos de alta integridad (Comprensi√≥n del modo protegido).  Al configurar el proxy HTTP, HTTP y HTTPS, el tr√°fico se redirige desde el navegador del atacante a trav√©s de un navegador de usuario.  Al mismo tiempo, el tr√°fico de usuarios no cambia y la conexi√≥n de proxy se desconecta tan pronto como se cierra el navegador.  Esto permite al adversario, incluida la visualizaci√≥n de p√°ginas web como usuario atacado. <br><br>  Por lo general, para cada nueva pesta√±a, el navegador crea un nuevo proceso con permisos y certificados separados.  Con estos permisos, un adversario puede acceder a cualquier recurso en la intranet al que se pueda acceder a trav√©s de un navegador con derechos existentes, como Sharepoint o Webmail.  La rotaci√≥n del navegador tambi√©n elimina la protecci√≥n de autenticaci√≥n de dos factores. <br><br>  Recomendaciones de protecci√≥n <i>: se recomienda que el</i> vector de <i>protecci√≥n</i> tenga como objetivo restringir los permisos de los usuarios, evitar la escalada de privilegios y evitar UAC.  Cierre todas las sesiones del navegador regularmente y cuando ya no sean necesarias.  La detecci√≥n de MitB es extremadamente dif√≠cil ya que  El tr√°fico enemigo se disfraza de tr√°fico de usuario normal, no se crean nuevos procesos, no se utiliza ning√∫n software adicional y la unidad local del host atacado no se ve afectada.  Los registros de autenticaci√≥n se pueden usar para auditar los inicios de sesi√≥n de los usuarios en aplicaciones web espec√≠ficas, sin embargo, identificar la actividad maliciosa entre ellos puede ser dif√≠cil, porque  la actividad corresponder√° al comportamiento normal del usuario. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Captura de pantalla</a> </h3><br>  Sistema: Windows, Linux, macOS <br>  Descripci√≥n: durante la recopilaci√≥n de informaci√≥n, los oponentes pueden intentar tomar capturas de pantalla del escritorio.  La funcionalidad correspondiente se puede incluir en las herramientas de acceso remoto utilizadas despu√©s del compromiso. <br><br>  Mac <br>  OSX utiliza el comando de captura de pantalla incorporado para capturar capturas de pantalla. <br>  Linux <br>  En Linux, hay un comando xwd. <br><br>  <i>Recomendaciones de protecci√≥n:</i> como m√©todo de detecci√≥n, se recomienda monitorear los procesos que usan la API para tomar capturas de pantalla y luego escribir archivos en el disco.  Sin embargo, dependiendo de la legitimidad de tal comportamiento en un sistema en particular, es probable que se requiera una correlaci√≥n adicional de los datos que se recopilan con otros eventos en el sistema para detectar actividad maliciosa. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Captura de video</a> </h3><br>  <i>Sistema:</i> Windows, macOS <br>  <i>Descripci√≥n: Un</i> adversario puede usar perif√©ricos de computadora (por ejemplo, c√°maras y c√°maras web integradas) o aplicaciones (por ejemplo, servicios de video llamada) para capturar video o imagen.  La captura de video, a diferencia de los m√©todos de captura de pantalla, implica el uso de dispositivos y aplicaciones para grabar video, en lugar de capturar im√°genes desde la pantalla de la v√≠ctima.  En lugar de archivos de video, las im√°genes pueden capturarse a ciertos intervalos. <br>  Se pueden usar software o scripts maliciosos para interactuar con los dispositivos a trav√©s de la API proporcionada por el sistema operativo o la aplicaci√≥n para capturar videos o im√°genes.  Los archivos recopilados pueden escribirse en el disco y luego filtrarse. <br><br>  Se conocen varios programas maliciosos diferentes para macOS, por ejemplo Proton y FriutFly, que pueden grabar video desde la c√°mara web de un usuario. <br><br>  <i>Consejos de seguridad:</i> La oposici√≥n directa a la t√©cnica anterior puede ser dif√≠cil porque requiere un control API detallado.  Los esfuerzos de protecci√≥n deben estar dirigidos a prevenir c√≥digos no deseados o desconocidos en el sistema. <br><br>  Identifique y bloquee software potencialmente peligroso y malicioso que se puede usar para grabar sonido usando AppLocker y las Pol√≠ticas de restricci√≥n de software. <br><br>  La detecci√≥n de actividad maliciosa tambi√©n puede ser dif√≠cil debido a varias API.  Dependiendo de c√≥mo se use el sistema que se est√° atacando, los datos de telemetr√≠a relacionados con la API pueden ser in√∫tiles o, por el contrario, proporcionar contenido para otras actividades maliciosas que ocurren en el sistema.  Un indicador de actividad enemiga puede ser un proceso desconocido o inusual de acceder a la API asociada con dispositivos o software que interact√∫an con un micr√≥fono, dispositivos de grabaci√≥n, programas de grabaci√≥n o un proceso que peri√≥dicamente escribe archivos en el disco que contienen datos de audio. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/441896/">https://habr.com/ru/post/441896/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../441882/index.html">VMware NSX para los m√°s peque√±os. Parte 3. Configuraci√≥n de DHCP</a></li>
<li><a href="../441886/index.html">En los √∫ltimos 12 a√±os, nunca he mostrado un curr√≠culum</a></li>
<li><a href="../441888/index.html">SIP desde meg√°fono a precio local</a></li>
<li><a href="../441890/index.html">Todo lo que necesitas saber sobre las extensiones de aplicaciones iOS</a></li>
<li><a href="../441892/index.html">Creaci√≥n de una plantilla de flujo de datos para transmitir datos desde Pub / Sub a BigQuery basado en GCP utilizando Apache Beam SDK y Python</a></li>
<li><a href="../441898/index.html">Sketch + Node.js: generando iconos para muchas plataformas y marcas</a></li>
<li><a href="../441900/index.html">Satya Nadella habl√≥ sobre la cooperaci√≥n con el Pent√°gono</a></li>
<li><a href="../441902/index.html">C√≥mo la tecnolog√≠a crea nuevas realidades</a></li>
<li><a href="../441904/index.html">Instalaci√≥n de una pantalla IPS en el Thinkpad T430S</a></li>
<li><a href="../441906/index.html">Implementemos en Openshift</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>