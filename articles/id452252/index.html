<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’‚ğŸ¼ ğŸ‘©ğŸ¾â€âš•ï¸ ğŸŒ¦ï¸ Keamanan bergaya Google ğŸ—³ï¸ ğŸï¸ ğŸ˜’</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Google I / O 2019 telah mereda dan ini saatnya  menulis ulang proyek pada arsitektur baru  pelajari hal-hal baru. Karena saya tertarik pada keamanan a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Keamanan bergaya Google</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redmadrobot/blog/452252/"><img src="https://habrastorage.org/webt/ap/ef/vq/apefvqv6y3kscabrrbsz3zpnn-k.png"><br><p><br>  Google I / O 2019 telah mereda dan ini saatnya <del>  menulis ulang proyek pada arsitektur baru </del>  pelajari hal-hal baru.  Karena saya tertarik pada keamanan aplikasi mobile, saya pertama kali menarik perhatian ke perpustakaan baru dalam keluarga JetPack - <strong>security-crypto</strong> .  Perpustakaan membantu mengatur enkripsi data dengan benar dan pada saat yang sama melindungi pengembang dari semua nuansa yang menyertai proses ini. </p><a name="habracut"></a><br><h2 id="istoricheskaya-spravka">  Latar belakang sejarah </h2><br><p>  Enkripsi data di Android selalu menghasilkan banyak diskusi.  Algoritma mana yang harus dipilih?  Mode enkripsi apa yang digunakan?  Apa itu padding?  Di mana menyimpan kunci?  Mempelajari semua ini dan terus memperbarui pengetahuan Anda mungkin sulit bagi pengembang rata-rata.  Oleh karena itu, cerita yang paling sering berakhir di salah satu dari tiga skenario: </p><br><ul><li>  copy-paste solusi pertama dengan stackoverflow </li><li>  mencari â€œmanual yang sesuaiâ€ dengan implementasi selanjutnya dan pengumpulan rake </li><li>  aktivasi protokol "Dan itu akan!" </li></ul><br><p>  Seiring berkembangnya komunitas pengembang android, perpustakaan mulai muncul untuk membantu menyelesaikan masalah ini.  Kualitas solusi ini sangat berbeda: dari semua varietas ini, saya hanya dapat memilih <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">java-aes-crypto</a> , yang kami gunakan di Redmadrobot.  Implementasi yang agak berkualitas tinggi, tetapi ada beberapa masalah dengannya. </p><br><p>  Pertama-tama, itu hanya enkripsi string.  Ini sendiri tidak buruk, tetapi string ini perlu disimpan di suatu tempat, dalam database atau SharedPreferences.  Jadi, Anda perlu menulis pembungkus di atas sumber data sehingga semuanya dienkripsi dengan cepat (yang pernah kami lakukan).  Tetapi ini adalah kode yang perlu didukung, diseret dari proyek ke proyek atau dieksekusi di perpustakaan untuk kemudahan penggunaan.  Pada akhirnya, ini juga dilakukan, tetapi tidak membawa kenyamanan bagi pikiran yang ingin tahu. </p><br><p>  Kedua, solusi ini tidak menawarkan apa pun untuk menyelesaikan masalah manajemen utama.  Mereka dapat dihasilkan, tetapi penyimpanan sepenuhnya jatuh di pundak pengembang.  Dengan semua jongkok di AndroidKeystore pada berbagai versi OS dan perangkat yang berasal dari Cina Daratan. </p><br><h2 id="etomu-gorodu-nuzhen-novyy-geroy">  Kota ini membutuhkan pahlawan baru </h2><br><p>  Semuanya berjalan seperti biasa sampai pada musim panas tahun 2018, saya menemukan bahwa ada perpustakaan yang luar biasa dari Google seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tink</a> .  Sangat mudah untuk mempelajari dan melindungi pengembang dari sejumlah besar nuansa yang terkait dengan kriptografi.  Menggunakan perpustakaan ini, hampir tidak mungkin untuk melakukan sesuatu yang salah.  Selain itu, Tink mengambil kendali penuh atas kunci dan abstrak semua operasi dengan AndroidKeystore dari pengembang. </p><br><p>  Tapi itu masih enkripsi string saja.  Dan di sini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Binary Preferences</a> muncul dengan sangat sukses - perpustakaan dari pabrikan domestik yang sudah lama ingin saya lihat.  Ini memungkinkan Anda untuk mengenkripsi semua data yang tersimpan dari algoritma apa pun - untuk ini cukup menulis implementasi dua antarmuka, <a href="">KeyEncryption</a> dan <a href="">ValueEncryption</a> (masing-masing untuk kunci dan nilai). </p><br><p>  Sebagai hasilnya, kami mulai menggunakan dua pustaka ini bersama-sama dan merasa senang bahwa kode kami menjadi lebih bersih dan lebih mudah dipahami. </p><br><h2 id="security-crypto">  keamanan-crypto </h2><br><p><img src="https://habrastorage.org/webt/ee/hh/kn/eehhknztxkcmryvtrryidbblwla.png"></p><br><p>  Sekarang Google sekali lagi memutuskan untuk bertemu dengan para pengembang dan menyederhanakan hidup mereka di bidang enkripsi data yang disimpan.  Pustaka JetPack lain diumumkan untuk membantu hal ini.  Saya bertanya-tanya apa yang mereka tulis begitu revolusioner di sana, dan saya naik untuk mencari dokumentasi (spoiler: tidak).  Saya hanya menemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">javadoc</a> di kelas-kelas yang termasuk dalam perpustakaan, tetapi terima kasih juga untuk itu.  Ternyata ada beberapa peluang: enkripsi file, SharedPreferences dan bekerja dengan kunci. </p><br><p>  Untuk menguji fungsionalitas perpustakaan, saya menulis beberapa cuplikan: </p><br><div class="spoiler">  <b class="spoiler_title">Enkripsi file</b> <div class="spoiler_text"><pre><code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> file = File(filesDir, <span class="hljs-string"><span class="hljs-string">"super_secure_file"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> encryptedFile = EncryptedFile.Builder(file, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-string"><span class="hljs-string">"my_secret_key"</span></span>, EncryptedFile.FileEncryptionScheme.AES256_GCM_HKDF_4KB) .setKeysetAlias(<span class="hljs-string"><span class="hljs-string">"my_test_keyset_alias"</span></span>) .setKeysetPrefName(<span class="hljs-string"><span class="hljs-string">"keyset_pref_file"</span></span>) .build() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> outputStream = encryptedFile.openFileOutput() outputStream.use { it.write(<span class="hljs-string"><span class="hljs-string">"secret info"</span></span>.toByteArray()) }</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Enkripsi SharedPreferences</b> <div class="spoiler_text"><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> encryptedPreferences = EncryptedSharedPreferences.create( <span class="hljs-string"><span class="hljs-string">"super_secret_preferences"</span></span>, <span class="hljs-string"><span class="hljs-string">"prefrences_master_key"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, EncryptedSharedPreferences.PrefKeyEncryptionScheme.AES256_SIV, EncryptedSharedPreferences.PrefValueEncryptionScheme.AES256_GCM ) encryptedPreferences.edit().putString(<span class="hljs-string"><span class="hljs-string">"secret"</span></span>, <span class="hljs-string"><span class="hljs-string">"super secret token"</span></span>)</code> </pre> </div></div><br><p>  Yang sangat mengejutkan saya, semuanya bekerja pertama kali, dan saya harus melihat kode apa yang mereka tulis untuk perpustakaan ini.  Setelah jatuh ke sumber, saya melihat bahwa ini sebenarnya adalah pembungkus di sekitar perpustakaan Tink yang sudah kita ketahui, dan kode tertulis hampir satu-ke-satu ketika kami menulis untuk BinaryPreferences terenkripsi. </p><br><p>  Saya sangat senang bahwa kali ini Google tidak menciptakan sepeda moped, tetapi menggunakan praktik mapannya sendiri.  Mari kita berharap bahwa paket <code>security</code> yang datang ke JetPack tidak akan terbatas hanya pada perpustakaan ini, tetapi akan dikembangkan lebih lanjut. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Demonstrasi BinaryPreferences + Bundel Tink</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kode sumber pustaka security-crypto</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Demo keamanan-crypto</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id452252/">https://habr.com/ru/post/id452252/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id452236/index.html">Harmoni skrip di dalam aplikasi Android</a></li>
<li><a href="../id452240/index.html">Apa yang umum antara orgasme dan Wi-Fi</a></li>
<li><a href="../id452244/index.html">PHPUnit. Manajer Entitas Doktrin Menangis</a></li>
<li><a href="../id452246/index.html">Wawancara dengan Vitaly Bragilevsky: â€œDunia di mana semua orang akan memprogram di Haskell bukan dunia yang baikâ€</a></li>
<li><a href="../id452248/index.html">Kami memompa pengembangan pada Vue menggunakan pola: HOC</a></li>
<li><a href="../id452254/index.html">Tip & Trik Forensik Digital: Cara Menemukan Koin Keberuntungan Penyelundup</a></li>
<li><a href="../id452258/index.html">Corda - open source blockchain untuk bisnis</a></li>
<li><a href="../id452262/index.html">Angular: membuat dan menerbitkan perpustakaan</a></li>
<li><a href="../id452264/index.html">Bagaimana kami membuat situs untuk penghargaan mobil Mascot</a></li>
<li><a href="../id452266/index.html">Rak Tanpa Server</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>