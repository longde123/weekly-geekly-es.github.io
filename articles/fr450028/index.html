<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìß üèòÔ∏è üèâ Construire une architecture orient√©e services sur Rails + Kafka üòß ü§¥üèª üëµüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! Je vous pr√©sente le billet, qui est une adaptation textuelle de la performance de Stella Cotton √† RailsConf 2018 et une traduction de l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Construire une architecture orient√©e services sur Rails + Kafka</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450028/">  Bonjour, Habr!  Je vous pr√©sente le billet, qui est une adaptation textuelle de la performance de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Stella Cotton √† RailsConf 2018</a> et une traduction de l'article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Construire une architecture orient√©e services avec Rails et Kafka"</a> de Stella Cotton. <br><br>  R√©cemment, la transition de l'architecture monolithique aux microservices est clairement visible.  Dans ce guide, nous apprendrons les bases de Kafka et comment une approche √©v√©nementielle peut am√©liorer votre application Rails.  Nous parlerons √©galement des probl√®mes de surveillance et d'√©volutivit√© des services qui fonctionnent √† travers une approche √©v√©nementielle. <br><a name="habracut"></a><br><h2>  Qu'est-ce que Kafka? </h2><br>  Je suis s√ªr que vous aimeriez avoir des informations sur la fa√ßon dont vos utilisateurs sont arriv√©s sur votre plateforme ou sur les pages qu'ils visitent, les boutons sur lesquels ils cliquent, etc.  Une application vraiment populaire peut g√©n√©rer des milliards d'√©v√©nements et envoyer une √©norme quantit√© de donn√©es aux services d'analyse, ce qui peut √™tre un s√©rieux d√©fi pour votre application. <br><br>  En r√®gle g√©n√©rale, une partie int√©grante des applications Web n√©cessite le <i>flux de donn√©es dit en temps r√©el</i> .  Kafka fournit une connexion tol√©rante aux pannes entre les <b>producteurs</b> , ceux qui g√©n√®rent des √©v√©nements, et les <b>consommateurs</b> , ceux qui re√ßoivent ces √©v√©nements.  Il peut m√™me y avoir plusieurs producteurs et consommateurs dans une m√™me application.  √Ä Kafka, chaque √©v√©nement existe pour une dur√©e donn√©e, de sorte que plusieurs consommateurs peuvent lire le m√™me √©v√©nement encore et encore.  Le cluster Kafka comprend plusieurs courtiers qui sont des instances de Kafka. <br><br><img src="https://habrastorage.org/webt/ql/j1/uy/qlj1uyapeg_3fmswgflqauwmd7q.png"><br><br>  Une caract√©ristique cl√© de Kafka est la vitesse √©lev√©e du traitement des √©v√©nements.  Les syst√®mes de mise en file d'attente traditionnels, tels que AMQP, disposent d'une infrastructure qui surveille les √©v√©nements trait√©s pour chaque consommateur.  Lorsque le nombre de consommateurs atteint un niveau d√©cent, le syst√®me commence √† peine √† faire face √† la charge, car il doit surveiller un nombre croissant de conditions.  En outre, il existe de gros probl√®mes de coh√©rence entre le consommateur et le traitement des √©v√©nements.  Par exemple, vaut-il la peine de marquer imm√©diatement un message comme envoy√© d√®s qu'il est trait√© par le syst√®me?  Et si un consommateur tombe √† l'autre bout sans recevoir de message? <br><br>  Kafka poss√®de √©galement une architecture √† s√©curit√© int√©gr√©e.  Le syst√®me s'ex√©cute en cluster sur un ou plusieurs serveurs, qui peuvent √™tre mis √† l'√©chelle horizontalement en ajoutant de nouvelles machines.  Toutes les donn√©es sont √©crites sur le disque et copi√©es sur plusieurs courtiers.  Afin de comprendre les possibilit√©s d'√©volutivit√©, il convient de jeter un coup d'≈ìil √† des soci√©t√©s telles que Netflix, LinkedIn, Microsoft.  Tous envoient des milliards de messages par jour via leurs clusters Kafka! <br><br><h2>  Configurer Kafka dans Rails </h2><br>  Heroku fournit un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">module compl√©mentaire de cluster Kafka</a> qui peut √™tre utilis√© pour n'importe quel environnement.  Pour les applications rubis, nous vous recommandons d'utiliser la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gemme rubis-kafka</a> .  L'impl√©mentation minimale ressemble √† ceci: <br><br><pre><code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># config/initializers/kafka_producer.rb require "kafka" # Configure the Kafka client with the broker hosts and the Rails # logger. $kafka = Kafka.new(["kafka1:9092", "kafka2:9092"], logger: Rails.logger) # Set up an asynchronous producer that delivers its buffered messages # every ten seconds: $kafka_producer = $kafka.async_producer( delivery_interval: 10, ) # Make sure to shut down the producer when exiting. at_exit { $kafka_producer.shutdown }</span></span></code> </pre> <br>  Apr√®s avoir configur√© la configuration, vous pouvez utiliser la gemme pour envoyer des messages.  Gr√¢ce √† l'envoi asynchrone d'√©v√©nements, nous pouvons envoyer des messages de n'importe o√π: <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OrdersController</span></span></span><span class="hljs-class"> &lt; ApplicationController </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">create</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">comment</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Order</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">create!</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">params</span></span></span><span class="hljs-class">) $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">kafka_producer</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">produce</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">order</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">to_json</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">topic</span></span></span><span class="hljs-class">: "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user_event</span></span></span><span class="hljs-class">", </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">partition_key</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br>  Nous parlerons des formats de s√©rialisation ci-dessous, mais pour le moment, nous utiliserons le bon vieux JSON.  L'argument de <code>topic</code> fait r√©f√©rence au journal dans lequel Kafka √©crit cet √©v√©nement.  Les sujets sont r√©partis dans diff√©rentes sections, ce qui vous permet de diviser les donn√©es d'un sujet particulier en diff√©rents courtiers pour une meilleure √©volutivit√© et fiabilit√©.  Et c'est vraiment une bonne id√©e d'avoir deux sections ou plus pour chaque sujet, car si l'une des sections tombe, vos √©v√©nements seront enregistr√©s et trait√©s de toute fa√ßon.  Kafka garantit que les √©v√©nements sont livr√©s dans l'ordre de la file d'attente dans la section, mais pas dans l'ensemble du sujet.  Si l'ordre des √©v√©nements est important, l'envoi de partition_key garantit que tous les √©v√©nements d'un type particulier sont stock√©s sur la m√™me partition. <br><br><h2>  Kafka pour vos services </h2><br>  Certaines des fonctionnalit√©s qui font de Kafka un outil utile en font √©galement un RPC de basculement entre les services.  Jetez un ≈ìil √† un exemple d'application de commerce √©lectronique: <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_order</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_order_record</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">charge_credit_card</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment"># call to Payments Service send_confirmation_email # call to Email Service end</span></span></span></span></code> </pre> <br>  Lorsque l'utilisateur passe une commande, la fonction <code>create_order</code> est <code>create_order</code> .  Cela cr√©e une commande dans le syst√®me, d√©duit de l'argent de la carte et envoie un e-mail avec confirmation.  Comme vous pouvez le constater, les deux derni√®res √©tapes sont effectu√©es dans des services distincts. <br><br><img src="https://habrastorage.org/webt/i8/_y/tr/i8_ytruescd639f48vmelrmsfu4.png"><br><br>  L'un des probl√®mes de cette approche est que le service sup√©rieur dans la hi√©rarchie est responsable de la surveillance de la disponibilit√© du service en aval.  Si le service d'envoi de lettres s'est av√©r√© √™tre une mauvaise journ√©e, le service sup√©rieur doit en √™tre inform√©.  Et si le service d'envoi n'est pas disponible, vous devez r√©p√©ter un certain ensemble d'actions.  Comment Kafka peut-il aider dans cette situation? <br><br>  Par exemple: <br><br><img src="https://habrastorage.org/webt/i1/dh/a8/i1dha8zycj6ibxydaxja9y8bp10.png"><br><br>  Dans cette approche √©v√©nementielle, un service sup√©rieur peut enregistrer un √©v√©nement dans Kafka qu'une commande a √©t√© cr√©√©e.  En raison de l'approche dite <i>au moins une fois</i> , l'√©v√©nement sera enregistr√© au moins une fois √† Kafka et sera mis √† la disposition des consommateurs en aval pour lecture.  Si le service d'envoi de lettres se trouve, l'√©v√©nement attendra sur disque jusqu'√† ce que le consommateur se l√®ve et le lise. <br><br>  Un autre probl√®me avec l'architecture orient√©e RPC est dans les syst√®mes √† croissance rapide: l'ajout d'un nouveau service en aval entra√Æne des changements en amont.  Par exemple, vous souhaitez ajouter une √©tape suppl√©mentaire apr√®s avoir cr√©√© une commande.  Dans un monde ax√© sur les √©v√©nements, vous devrez ajouter un autre consommateur pour g√©rer un nouveau type d'√©v√©nement. <br><br><img src="https://habrastorage.org/webt/ox/ic/ka/oxickaiivr5j6hey5fahjkcvsxc.png"><br><br><h2>  Int√©gration d'√©v√©nements dans une architecture orient√©e services </h2><br>  Un article intitul√© ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Que voulez-vous dire par¬´ √©v√©nementiel</a> ¬ªpar Martin Fowler traite de la confusion autour des applications √©v√©nementielles.  Lorsque les d√©veloppeurs discutent de tels syst√®mes, ils parlent en fait d'un grand nombre d'applications diff√©rentes.  Afin de donner une compr√©hension g√©n√©rale de la nature de ces syst√®mes, Fowler a d√©fini plusieurs mod√®les architecturaux. <br><br>  Jetons un coup d'≈ìil √† ces mod√®les.  Si vous voulez en savoir plus, je vous conseille de lire son <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapport</a> au GOTO Chicago 2017. <br><br><h3>  Notification d'√©v√©nement </h3><br>  Le premier mod√®le Fowler est appel√© <i>Notification d'√©v√©nement</i> .  Dans ce sc√©nario, le service producteur informe les consommateurs de l'√©v√©nement avec un minimum d'informations: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"event"</span></span>: <span class="hljs-string"><span class="hljs-string">"order_created"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"published_at"</span></span>: <span class="hljs-string"><span class="hljs-string">"2016-03-15T16:35:04Z"</span></span> }</code> </pre> <br>  Si les consommateurs ont besoin de plus d'informations sur l'√©v√©nement, ils font une demande au producteur et obtiennent plus de donn√©es. <br><br><h3>  Transfert d'√©tat port√© par l'√©v√©nement </h3><br>  Le deuxi√®me mod√®le est appel√© <i>transfert d'√©tat transport√© par √©v√©nement</i> .  Dans ce sc√©nario, le producteur fournit des informations suppl√©mentaires sur l'√©v√©nement et le consommateur peut stocker une copie de ces donn√©es sans effectuer d'appels suppl√©mentaires: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"event"</span></span>: <span class="hljs-string"><span class="hljs-string">"order_created"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"order_id"</span></span>: <span class="hljs-number"><span class="hljs-number">98765</span></span>, <span class="hljs-attr"><span class="hljs-attr">"size"</span></span>: <span class="hljs-string"><span class="hljs-string">"medium"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"color"</span></span>: <span class="hljs-string"><span class="hljs-string">"blue"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"published_at"</span></span>: <span class="hljs-string"><span class="hljs-string">"2016-03-15T16:35:04Z"</span></span> }</code> </pre> <br><h3>  Source de l'√©v√©nement </h3><br>  Fowler a appel√© le troisi√®me mod√®le <i>Event-Sourced</i> et il est plut√¥t architectural.  La sortie du mod√®le implique non seulement la communication entre vos services, mais aussi la pr√©servation de la pr√©sentation de l'√©v√©nement.  Cela garantit que m√™me si vous perdez la base de donn√©es, vous pouvez toujours restaurer l'√©tat de l'application en ex√©cutant simplement le flux d'√©v√©nements enregistr√©.  En d'autres termes, chaque √©v√©nement enregistre un certain √©tat de l'application √† un certain moment. <br><br>  Le gros probl√®me avec cette approche est que le code d'application change toujours, et avec lui le format ou la quantit√© de donn√©es que le producteur donne peut changer.  Cela rend la restauration de l'√©tat de l'application probl√©matique. <br><br><h3>  S√©paration des responsabilit√©s de requ√™te de commande </h3><br>  Et le dernier mod√®le est <i>S√©gr√©gation de responsabilit√© de requ√™te de commande</i> , ou CQRS.  L'id√©e est que les actions que vous appliquez √† l'objet, par exemple: cr√©er, lire, mettre √† jour, doivent √™tre divis√©es en diff√©rents domaines.  Cela signifie qu'un service doit √™tre responsable de la cr√©ation, un autre de la mise √† jour, etc.  Dans les syst√®mes orient√©s objet, tout est souvent stock√© dans un seul service. <br><br><img src="https://habrastorage.org/webt/xb/5b/mx/xb5bmxasal6md3bq2xsdgnhfhgg.png"><br><br>  Un service qui √©crit dans la base de donn√©es lit le flux d'√©v√©nements et traite les commandes.  Mais toutes les demandes se produisent uniquement dans la base de donn√©es en lecture seule.  La division de la logique de lecture et d'√©criture en deux services diff√©rents augmente la complexit√©, mais vous permet d'optimiser les performances s√©par√©ment pour ces syst√®mes. <br><br><h2>  Les probl√®mes </h2><br>  Parlons de certains des probl√®mes que vous pourriez rencontrer lors de l'int√©gration de Kafka dans votre application orient√©e services. <br><br>  Le premier probl√®me pourrait √™tre celui des consommateurs lents.  Dans un syst√®me orient√© √©v√©nements, vos services devraient pouvoir traiter les √©v√©nements instantan√©ment lorsqu'ils sont re√ßus d'un service sup√©rieur.  Sinon, ils se bloqueront simplement sans aucune alerte sur le probl√®me ou les d√©lais.  Le seul endroit o√π vous pouvez d√©finir des d√©lais d'attente est une connexion socket avec les courtiers Kafka.  Si le service ne g√®re pas l'√©v√©nement assez rapidement, la connexion peut √™tre interrompue par un d√©lai d'attente, mais la restauration du service n√©cessite du temps suppl√©mentaire, car la cr√©ation de telles sockets est co√ªteuse. <br><br>  Si le consommateur est lent, comment pouvez-vous augmenter la vitesse de traitement des √©v√©nements?  Dans Kafka, vous pouvez augmenter le nombre de consommateurs dans un groupe, afin que davantage d'√©v√©nements puissent √™tre trait√©s en parall√®le.  Mais au moins 2 consommateurs seront n√©cessaires pour un service: en cas de chute, les sections endommag√©es peuvent √™tre r√©affect√©es. <br><br>  Il est √©galement tr√®s important de disposer de mesures et d'alertes pour surveiller la vitesse de traitement des √©v√©nements.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ruby-kafka</a> peut fonctionner avec les alertes ActiveSupport, il dispose √©galement de modules StatsD et Datadog, qui sont activ√©s par d√©faut.  De plus, la gemme fournit une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">liste de</a> mesures recommand√©es pour la surveillance. <br><br>  Un autre aspect important de la construction de syst√®mes avec Kafka est la conception de consommateurs capables de g√©rer les d√©faillances.  Kafka est garanti d'envoyer un √©v√©nement au moins une fois;  exclu le cas o√π le message n'a pas √©t√© envoy√© du tout.  Mais il est important que les consommateurs soient pr√™ts √† g√©rer des √©v√©nements r√©currents.  Une fa√ßon de proc√©der consiste √† toujours utiliser <code>UPSERT</code> pour ajouter de nouveaux enregistrements √† la base de donn√©es.  Si l'enregistrement existe d√©j√† avec les m√™mes attributs, l'appel sera essentiellement inactif.  De plus, vous pouvez ajouter un identifiant unique √† chaque √©v√©nement et ignorer simplement les √©v√©nements qui ont d√©j√† √©t√© trait√©s pr√©c√©demment. <br><br><h2>  Formats de donn√©es </h2><br>  L'une des surprises lorsque vous travaillez avec Kafka peut √™tre son attitude simple vis-√†-vis du format des donn√©es.  Vous pouvez envoyer n'importe quoi en octets et les donn√©es seront envoy√©es au consommateur sans aucune v√©rification.  D'une part, cela donne de la flexibilit√© et vous permet de ne pas vous soucier du format des donn√©es.  D'un autre c√¥t√©, si le producteur d√©cide de modifier les donn√©es envoy√©es, il est possible qu'un consommateur finisse par se casser. <br><br>  Avant de construire une architecture orient√©e √©v√©nement, s√©lectionnez un format de donn√©es et analysez comment cela aidera √† l'avenir √† enregistrer et √† d√©velopper des sch√©mas. <br><br>  Bien entendu, l'un des formats recommand√©s est JSON.  Ce format est lisible par l'homme et pris en charge par tous les langages de programmation connus.  Mais il y a des pi√®ges.  Par exemple, la taille des donn√©es finales dans JSON peut devenir extr√™mement grande.  Le format est requis pour stocker des paires cl√©-valeur, ce qui est suffisamment flexible, mais les donn√©es sont dupliqu√©es √† chaque √©v√©nement.  La modification du sch√©ma est √©galement une t√¢che difficile car il n'y a pas de prise en charge int√©gr√©e pour la superposition d'une cl√© sur une autre si vous devez renommer le champ. <br><br>  L'√©quipe qui a cr√©√© Kafka conseille <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Avro</a> comme syst√®me de s√©rialisation.  Les donn√©es sont envoy√©es sous forme binaire, et ce n'est pas le format le plus lisible par l'homme, mais √† l'int√©rieur, il existe un support plus fiable pour les circuits.  L'entit√© finale dans Avro comprend √† la fois le sch√©ma et les donn√©es.  Avro prend √©galement en charge les types simples, tels que les nombres, et les types complexes: dates, tableaux, etc. En outre, il vous permet d'inclure de la documentation √† l'int√©rieur du sch√©ma, ce qui vous permet de comprendre l'objectif d'un champ sp√©cifique dans le syst√®me et contient de nombreux autres outils int√©gr√©s pour travailler avec le sch√©ma. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">avro-builder</a> est un joyau cr√©√© par Salsify qui offre un DSL de type rubis pour cr√©er des sch√©mas.  Vous pouvez en savoir plus sur Avro dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article</a> . <br><br><h2>  Information additionnelle </h2><br>  Si vous souhaitez savoir comment h√©berger Kafka ou comment il est utilis√© dans Heroku, plusieurs rapports peuvent vous int√©resser. <br><br>  Jeff Chao √† DataEngConf SF '17 ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Au-del√† de 50 000 partitions: comment Heroku fonctionne et repousse les limites de Kafka √† grande √©chelle</a> ¬ª <br><br>  Pavel Pravosud √† la conf√©rence Dreamforce '16 ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dogfooding Kafka: comment nous avons construit le flux d'√©v√©nements de la plate-forme en temps r√©el de Heroku</a> ¬ª <br><br>  Ayez une belle vue! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr450028/">https://habr.com/ru/post/fr450028/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr450016/index.html">Cr√©ation d'un syst√®me de v√©rification formel √† partir de z√©ro. Partie 1: machine virtuelle de caract√®res en PHP et Python</a></li>
<li><a href="../fr450018/index.html">Un duo de maths a cartographi√© un territoire sans fin de surfaces minimales</a></li>
<li><a href="../fr450020/index.html">La Silicon Valley est venue aux √©coliers du Kansas. Cela a conduit √† des protestations.</a></li>
<li><a href="../fr450024/index.html">√Ä propos des impl√©mentations open source de la fonction de hachage GOST R 34.11-2012 et leur impact sur la signature √©lectronique de GOST R 34.10-2012</a></li>
<li><a href="../fr450026/index.html">Chiffrement d'acc√©l√©ration: nous √©tudions l'acc√©l√©rom√®tre d'un appareil Android √† l'aide de l'exemple de la t√¢che NeoQUEST-2019</a></li>
<li><a href="../fr450030/index.html">Je ne peux pas utiliser Rift S et vous ne r√©ussirez pas non plus</a></li>
<li><a href="../fr450032/index.html">Comment cr√©er un th√®me sombre sans casser les choses: apprendre avec l'√©quipe Yandex Mail</a></li>
<li><a href="../fr450034/index.html">Pourquoi vous devriez participer aux hackathons</a></li>
<li><a href="../fr450036/index.html">Summ3r 0f h4ck: stage Digital Security 2019</a></li>
<li><a href="../fr450040/index.html">Une nouvelle soci√©t√© prendra en charge OpenJDK 8 et 11 - nous comprenons la situation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>