<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐳 📋 🕖 Como fiz um aplicativo de desktop no Flutter (+ bônus) 🤸🏼 👩🏽‍🏫 🤰🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recentemente, soube-me que a próxima versão do Flutter (1.9) foi lançada , o que promete vários benefícios, incluindo suporte antecipado para aplicati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como fiz um aplicativo de desktop no Flutter (+ bônus)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470251/"> Recentemente, soube-me que a próxima <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">versão do Flutter (1.9) foi lançada</a> , o que promete vários benefícios, incluindo suporte antecipado para aplicativos da web. <br><br>  No trabalho, estou desenvolvendo aplicativos móveis no React Native, mas olho para o Flutter com curiosidade.  Para quem não conhece: agora, no Flutter, você pode criar aplicativos para Android e iOS, o suporte a aplicativos da Web está sendo preparado para lançamento e também há planos para oferecer suporte a computadores. <br><br>  Tal é "um anel para governar tudo". <br><br>  Depois de passar alguns dias pensando em que tipo de aplicativo você pode tentar fazer, decidi escolher uma tarefa com um asterisco - do que precisamos dessas faixas desgastadas?  Balance na área de trabalho e supere heroicamente as dificuldades!  Olhando para o futuro, direi que quase não houve dificuldades. <br><br>  Sob o corte - uma história sobre como eu resolvi as tarefas usuais do programador React Native usando as ferramentas Flutter, além da impressão geral da tecnologia. <br><br><img src="https://habrastorage.org/webt/hx/cx/hs/hxcxhsjx7ycplrsm2nhgrq0k8xu.png"><br><a name="habracut"></a><br>  Pensando em quais recursos do Flutter eu gostaria de "tocar", decidi que no meu aplicativo deveria ser: <br><br><ul><li>  pedidos para a API remota; </li><li>  transições entre telas; </li><li>  Animações de transição </li><li>  gerente de estado - redux ou algo semelhante. </li></ul><br>  Como não sei como fazer back-end, decidi procurar uma API aberta de terceiros.  Como resultado, decidi por esse recurso - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cursos CBR em XML e JSON, API</a> .  Bem, aqui finalmente decidi sobre a funcionalidade do aplicativo: haverá duas telas; na principal, há uma lista de moedas na taxa CBR; quando você clica em um item da lista, abrimos uma tela com informações detalhadas. <br><br><h4>  Preparação </h4><br>  Como o comando <code>flutter create</code> ainda não sabe como criar um projeto para Windows / Linux (atualmente apenas o Mac é suportado, use o sinalizador <code>--macos</code> ), você deve usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este</a> repositório, onde há um exemplo preparado.  Clonamos o repositório, pegamos a pasta de <code>example</code> partir daí, se necessário, renomeie-o e continuamos trabalhando nele. <br><br>  Como o suporte a plataformas de desktop ainda está em desenvolvimento, você ainda precisa executar várias manipulações.  Para acessar os recursos em desenvolvimento, execute no terminal: <br><br><pre> <code class="bash hljs">flutter channel master flutter upgrade</code> </pre> <br>  Além disso, você precisa informar ao Flutter que ele pode usar sua plataforma: <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-linux-desktop</code> </pre> <br>  ou <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-macos-desktop</code> </pre> <br>  ou <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-windows-desktop</code> </pre> <br>  Se tudo correu bem, executando o comando <code>flutter doctor</code> você verá uma saída semelhante: <br><br><img src="https://habrastorage.org/webt/g0/up/m0/g0upm0iqiijcj7yrwkrm6h-lwvy.png"><br><br>  Então, o cenário está pronto, o público no salão - podemos começar. <br><br><h4>  Layout </h4><br>  A primeira coisa que chama a sua atenção após o React Native é a falta de uma linguagem de marcação especial no JSX.  O Flutter obriga a escrever a marcação e a lógica comercial no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dart</a> .  No começo, isso é chato: a aparência não tem nada a ver, o código parece complicado e até mesmo esses colchetes estão no final do componente! <br><br>  Por exemplo, como: <br><br><img src="https://habrastorage.org/webt/ar/qm/iu/arqmiuoau_llzvwuutjszehkbbw.png"><br><br>  E este não é o limite!  Vale a pena remover um no lugar errado e um passatempo agradável (não) é garantido para você. <br><br>  Além disso, devido às peculiaridades dos componentes de estilo no Flutter, para componentes grandes, o recuo da borda esquerda do editor aumenta muito rapidamente e, com ele, o número de colchetes fechados. <br><br>  Esse recurso é que, nos estilos Flutter, são os mesmos componentes (para ser mais preciso - widgets). <br><br>  Se no React Native organizar três botões em uma linha dentro da <code>View</code> para distribuir uniformemente o espaço do contêiner, basta especificar <code>flexDirection: 'row'</code> para a <code>View</code> em estilos e adicionar <code>flex: 1</code> para os botões nos estilos, então o Flutter possui um componente separado <code>Row</code> para organizar elementos em uma linha e uma separada para "expansibilidade" de um elemento em todo o espaço disponível: <code>Expanded</code> . <br><br>  Como resultado, em vez de <br><br><pre> <code class="javascript hljs">&lt;View style={{<span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>:<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-attr"><span class="hljs-attr">flexDirection</span></span>: <span class="hljs-string"><span class="hljs-string">'row'</span></span>}}&gt; &lt;Button title='A' style={{flex:1}}&gt; &lt;Button title='B' style={{flex:1}}&gt; &lt;Button title='C' style={{flex:1}}&gt; &lt;/View&gt;</code> </pre><br>  nós temos que escrever assim: <br><br><pre> <code class="java hljs">Container( height: <span class="hljs-number"><span class="hljs-number">100</span></span>, width: <span class="hljs-number"><span class="hljs-number">300</span></span>, child: Row( children: &lt;Widget&gt;[ Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'A'</span></span>), ), ), Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'B'</span></span>), ), ), Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'C'</span></span>), ), ), ], ), )</code> </pre> <br>  Mais detalhado, não é? <br><br>  Ou, digamos, você deseja adicionar um quadro com bordas arredondadas neste contêiner.  No React Native, simplesmente adicionamos aos estilos: <br><br><pre> <code class="javascript hljs">borderRadius: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">borderWidth</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">borderColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#ccc'</span></span></code> </pre> <br>  No Flutter, temos que adicionar algo assim aos argumentos do contêiner: <br><br><pre> <code class="java hljs">decoration: BoxDecoration( borderRadius: BorderRadius.all(Radius.circular(<span class="hljs-number"><span class="hljs-number">5</span></span>)), border: Border.all(width: <span class="hljs-number"><span class="hljs-number">1</span></span>, color: Color(<span class="hljs-number"><span class="hljs-number">0xffcccccc</span></span>)) ),</code> </pre> <br>  Em geral, a princípio, minha marcação se transformou em enormes folhas de código, nas quais o diabo quebraria sua perna.  No entanto, nem tudo é tão ruim. <br><br>  Primeiro, é claro que os componentes grandes devem ser divididos - colocados em widgets separados ou pelo menos nos métodos da sua classe de widgets. <br><br>  Em segundo lugar, o plug-in Flutter no VS Code ajuda muito - na figura acima, os comentários entre colchetes são assinados pelo próprio plug-in (e não podem ser excluídos), o que ajuda a não ficar confuso entre colchetes.  Além disso, ferramentas de formatação automática - depois de meia hora, você se acostuma a pressionar periodicamente <code>Ctrl+Shift+I</code> para formatar o código. <br><br>  Além disso, a sintaxe do idioma Dart na segunda edição se tornou muito mais agradável, então no final do dia eu já gostei de usá-lo.  Incomum?  Sim  Mas não desagradável. <br><br><h4>  Solicitações de API </h4><br>  No React Native, para obter dados de alguma API, geralmente usamos o método <code>fetch</code> , que retorna o <code>Promise</code> nós. <br><br>  Em Flutter, a situação é semelhante.  Depois de examinar os exemplos na documentação, adicionei o pacote http ao <code>pubspec.yaml</code> (um análogo do <code>package.json</code> do mundo JS) e escrevi algo como isto: <br><br><pre> <code class="java hljs">Future&lt;http.Response&gt; getAnything() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> http.get(URL); }</code> </pre> <br>  O objeto <code>Future</code> tem um significado muito semelhante ao Promise, então tudo é bem transparente aqui.  Bem, para serializar / desserializar objetos json, você pode usar o conceito de classes de modelo com métodos especiais de <code>fromJSON</code> / <code>toJSON</code> .  Você pode ler mais sobre isso na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documentação</a> . <br><br><h4>  Transição entre telas </h4><br>  Apesar de eu estar criando um aplicativo de desktop, do ponto de vista do Flutter, não há diferença em qual plataforma ele está girando.  Bem, isto é, no meu caso, é assim, em geral - eu não sei.  De fato, a janela do sistema na qual o aplicativo de vibração é iniciada é a mesma tela de um smartphone. <br><br>  A transição entre telas é bastante trivial: criamos uma classe de widget de tela e usamos a classe <code>Navigator</code> padrão. <br><br>  No caso mais simples, pode ser algo como isto: <br><br><pre> <code class="java hljs">RaisedButton( child: Text(<span class="hljs-string"><span class="hljs-string">'Go to Detail'</span></span>), onPressed: () { Navigator.of(context).push&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt;(MaterialPageRoute(builder: (context) =&gt; DetailScreen())); }, )</code> </pre> <br>  Se o seu aplicativo tiver várias telas, é mais razoável primeiro preparar um dicionário de rotas e depois usar o método <code>pushNamed</code> .  Um pequeno exemplo da documentação: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NavigationApp</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatelessWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// This widget is the root of your application. @override Widget build(BuildContext context) { return MaterialApp( ... routes: &lt;String, WidgetBuilder&gt;{ '/a': (BuildContext context) =&gt; usualNavscreen(), '/b': (BuildContext context) =&gt; drawerNavscreen(), } ... ); } } // AnyWidget ... onPressed: () { Navigator.of(context).pushNamed('/a'); }, ...</span></span></code> </pre><br>  Além disso, você pode preparar uma animação especial para alternar entre telas e escrever algo como isto: <br><br><pre> <code class="java hljs">Navigator.of(context).push&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt;(ScaleRoute(page: DetailScreen()));</code> </pre> <br>  Aqui <code>ScaleRoute</code> é uma classe especial para criar animações de transição.  Bons exemplos de tais animações podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br><h4>  Gerenciamento de estado </h4><br>  Acontece que precisamos ter acesso a alguns dados de qualquer parte do nosso aplicativo.  No React Native, o <code>redux</code> frequentemente usado (se não com maior frequência) para esses fins. <br><br>  Para o Flutter, existe um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">repositório</a> que mostra exemplos de uso de várias arquiteturas de aplicativos - existem Redux, MVC e MVU, e até aqueles sobre os quais eu nunca ouvi falar antes. <br><br>  Depois de remexer um pouco nesses exemplos, decidi parar no <code>Provider</code> . <br><br>  Em geral, a ideia é bastante simples: criamos uma classe especial que <code>ChangeNotifier</code> classe <code>ChangeNotifier</code> , na qual armazenaremos nossos dados, os atualizaremos usando os métodos dessa classe e os buscaremos a partir daí, se necessário.  Veja a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documentação</a> do pacote para mais detalhes. <br><br>  Para fazer isso, adicione o pacote do <code>provider</code> ao <code>pubspec.yaml</code> e prepare a classe Provider.  No meu caso, fica assim: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/material.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:rates_app/models/rate.dart'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RateProvider</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChangeNotifier</span></span></span><span class="hljs-class"> </span></span>{ Rate currentrate; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCurrentRate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Rate rate)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentrate = rate; notifyListeners(); } }</code> </pre> <br>  Aqui <code>Rate</code> é minha classe de modelo de moeda (com <code>name</code> campos, <code>code</code> , <code>value</code> etc.), <code>currentrate</code> é o campo no qual a moeda selecionada será armazenada e <code>setCurrentRate</code> é o método pelo qual o valor da <code>currentrate</code> é <code>currentrate</code> . <br><br>  Para anexar nosso provedor ao aplicativo, alteramos o código da classe do aplicativo: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">Widget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuildContext context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ChangeNotifierProvider( builder: (context) =&gt; RateProvider(), <span class="hljs-comment"><span class="hljs-comment">//   child: MaterialApp( ... ), home: HomeScreen(), ), ); }</span></span></code> </pre> <br>  É isso, agora, se queremos salvar a moeda selecionada, escrevemos algo assim: <br><br><pre> <code class="java hljs">Provider.of&lt;RateProvider&gt;(context).setCurrentRate(rate);</code> </pre> <br>  E se queremos obter o valor armazenado, então isto: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rate = Provider.of&lt;RateProvider&gt;(context).currentrate;</code> </pre> <br>  Tudo é bastante transparente e sem clichês (ao contrário do Redux).  Obviamente, talvez para aplicações mais complexas tudo saia não tão bem, mas para aqueles como o meu exemplo, vinhos puros. <br><br><h4>  Criar aplicativo </h4><br>  Em teoria, o comando <code>flutter build &lt;platform&gt;</code> é usado para criar o aplicativo.  Na prática, quando executei o comando <code>flutter build linux</code> , recebi esta mensagem: <br><br><img src="https://habrastorage.org/webt/cy/ai/px/cyaipxfgk9xrmgncqc9mylbz6j0.png"><br><br>  "Não doeu", pensei, fiquei horrorizado com o peso da pasta de <code>build</code> - 287,5 MB - e, devido à simplicidade da minha alma, excluí esta pasta para sempre.  Como se viu - em vão. <br><br>  Após excluir o diretório de <code>build</code> , o projeto parou de iniciar.  Como não consegui restaurá-lo, copiei-o do exemplo original.  Não ajudou - o colecionador xingou os arquivos ausentes. <br><br>  Após realizar uma pequena pesquisa, verificou-se que nessa pasta existe um arquivo <code>snapshot_blob.bin.d</code> , que aparentemente contém caminhos para todos os arquivos usados ​​no projeto.  Eu adicionei os caminhos ausentes e funcionou. <br><br>  Portanto, no momento, o Flutter não sabe como preparar versões de lançamento para a área de trabalho.  Enfim, para Linux. <br><br>  Em geral, se você fechar os olhos para esse sinal de menos, o aplicativo ficou do jeito que eu queria e parecia <br><br><div class="spoiler">  <b class="spoiler_title">tão</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/79/e6/zz/79e6zzdw9kggfwkiyelfsmrokt0.gif"><br></div></div><br><h4>  Bônus </h4><br>  Passamos para o bônus prometido. <br><br>  Mesmo na fase de escrever o aplicativo, eu tinha o desejo de verificar o quão difícil seria portá-lo para outras plataformas.  Vamos começar com o telefone celular. <br><br>  Certamente existe um caminho menos bárbaro, mas decidi que o caminho mais curto é direto.  Portanto, simplesmente criei um novo projeto Flutter, transferi o arquivo <code>pubspec.yaml</code> , os <code>assets</code> , <code>fonts</code> e diretórios <code>lib</code> para ele e adicionei a linha ao <code>AndroidManifest.xml</code> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.INTERNET"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  A aplicação começou com um meio chute e eu consegui isso <br><br><div class="spoiler">  <b class="spoiler_title">quadro</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/3m/8p/r4/3m8pr4rwdjllpixpsjdla574kl8.jpeg"><br></div></div><br>  No começo, eu tive que mexer com a web.  Como não sabia criar um projeto da web, usei as instruções da Internet, que por algum motivo não funcionaram.  Eu já queria cuspir, mas me deparei com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este</a> manual. <br><br>  Como resultado, tudo acabou sendo o mais simples possível - tudo o que era necessário era ativar o suporte para aplicativos da web.  Aperte do manual: <br><br><pre> <code class="bash hljs">flutter channel master flutter upgrade flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-web <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> &lt;into project directory&gt; flutter create . flutter run -d chrome</code> </pre> <br>  Depois transferi os arquivos necessários para esse projeto da mesma maneira bárbara e recebi <br><br><div class="spoiler">  <b class="spoiler_title">resultado</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ac/nt/gw/acntgwqqzvghgus9ll6thtbanbe.png"><br></div></div><br><h4>  Impressões gerais </h4><br>  No começo, trabalhar com Flutter era incomum, tentei constantemente usar as abordagens usuais do React Native, e isso interferiu.  Além disso, alguma redundância do código do dardo era um pouco irritante. <br><br>  Depois que peguei minha mão (e cones) um pouco, comecei a ver as vantagens do Flutter sobre o React Native.  Vou listar alguns. <br><br>  <b>Idioma</b> .  O dardo é uma linguagem completamente compreensível e agradável, com forte digitação estática.  Após o JavaScript, foi como uma lufada de ar fresco.  Parei de ter medo de que meu código quebrasse em tempo de execução e foi uma sensação agradável.  Alguém pode dizer que há Flow e TypeScript, mas não é isso - em nossos projetos, usamos os dois, e algo sempre quebrava em algum lugar.  Quando escrevo no React Native, não consigo deixar de sentir que meu código está em adereços de palitos de fósforo que podem quebrar a qualquer momento.  Com Flutter, esqueci esse sentimento e, se o preço é redundância de código, estou pronto para pagá-lo. <br><br>  <b>Plataforma</b> .  No React Native, você usa componentes nativos e isso geralmente é bom.  Mas, por causa disso, às vezes você precisa escrever um código específico da plataforma, bem como capturar bugs específicos para cada plataforma.  Pode ser incrivelmente cansativo.  Com o Flutter, você pode esquecer esses problemas como um pesadelo (embora possa ser que em aplicativos grandes as coisas não sejam tão suaves). <br><br>  <b>O meio ambiente</b> .  Com o ambiente no React Native, tudo é triste.  Os plugins vscode caem constantemente, o depurador pode consumir 16 GB de operação e 70 GB de swap, travando firmemente o sistema (por experiência pessoal) e o cenário de correção de erros mais comum: "remova node_modules, instale pacotes novamente e tente reiniciar várias vezes".  Isso geralmente ajuda, mas bljad!  Não é assim que deve ser, não é assim. <br><br>  Além disso, você precisará executar o AndroidStudio e o Xcode periodicamente, porque alguns são colocados dessa maneira (para ser justo, com o lançamento do RN 0.60, isso ficou melhor). <br><br>  Nesse contexto, o plug-in oficial do Flutter para vscode parece muito bom.  As dicas de código permitem que você se familiarize com a plataforma sem consultar a documentação, a formatação automática resolve o problema com o estilo de codificação, o depurador normal, etc. <br>  Em geral, parece uma ferramenta mais madura. <br><br>  <b>Plataforma cruzada</b> .  O React Native professa o princípio “Aprenda uma vez, escreva em qualquer lugar” - depois de aprender, você pode escrever para diferentes plataformas.  É verdade que em cada plataforma você encontrará problemas específicos.  Mas talvez isso seja apenas uma conseqüência da imaturidade do React Native - no momento, a versão estável mais recente é 0,61.  Talvez com o lançamento da versão 1.0, a maioria desses problemas desapareça. <br><br>  A abordagem Flutter é mais parecida com Escrever uma vez, compilar em qualquer lugar.  E mesmo que a área de trabalho não esteja pronta para produção no momento, a web também está em alfa, mas tudo é necessário.  E a capacidade de ter uma única base de código para todas as plataformas é um argumento forte. <br><br>  É claro que o Flutter também não apresenta falhas, mas um pouco de experiência em usá-lo não me permite identificá-las.  Portanto, se você quiser uma avaliação mais objetiva, fique à vontade para descontar o efeito da novidade. <br><br>  Em geral, deve-se notar que Flutter deixou principalmente sentimentos positivos, embora ele tenha espaço para crescer.  E no próximo projeto, eu estaria mais disposto a começar, e não no React Native. <br><br>  O código fonte do projeto pode ser encontrado no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> . <br><br>  PS Aproveito esta oportunidade para felicitar todos os envolvidos no dia do professor do passado. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt470251/">https://habr.com/ru/post/pt470251/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt470235/index.html">Entrevista com Dmitry Simonov, criador do canal CTORECORDS: “A principal qualidade do techdir é o hábito de vencer”</a></li>
<li><a href="../pt470237/index.html">Literatura de fim de semana: leitura fácil para técnicos</a></li>
<li><a href="../pt470239/index.html">ERP não desenvolvido na produção: em terapia intensiva ou necrotério?</a></li>
<li><a href="../pt470241/index.html">Histórico de startups: como desenvolver uma ideia passo a passo, entrar em um mercado inexistente e alcançar expansão internacional</a></li>
<li><a href="../pt470247/index.html">RESHI.RU - um robô resolve e explica problemas de texto escolar em matemática</a></li>
<li><a href="../pt470255/index.html">Otimização do portfólio de títulos usando ALGLIB</a></li>
<li><a href="../pt470257/index.html">Manto em torno do ImmutableList em Java</a></li>
<li><a href="../pt470259/index.html">Aimybox na pesquisa: a estrutura para criar assistentes de voz precisa de um assistente para iOS</a></li>
<li><a href="../pt470265/index.html">Folha de dicas da abreviação de C ++ e muito mais. Parte 1: C ++</a></li>
<li><a href="../pt470267/index.html">Monitoramento de temperatura certificado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>