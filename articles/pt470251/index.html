<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê≥ üìã üïñ Como fiz um aplicativo de desktop no Flutter (+ b√¥nus) ü§∏üèº üë©üèΩ‚Äçüè´ ü§∞üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recentemente, soube-me que a pr√≥xima vers√£o do Flutter (1.9) foi lan√ßada , o que promete v√°rios benef√≠cios, incluindo suporte antecipado para aplicati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como fiz um aplicativo de desktop no Flutter (+ b√¥nus)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470251/"> Recentemente, soube-me que a pr√≥xima <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vers√£o do Flutter (1.9) foi lan√ßada</a> , o que promete v√°rios benef√≠cios, incluindo suporte antecipado para aplicativos da web. <br><br>  No trabalho, estou desenvolvendo aplicativos m√≥veis no React Native, mas olho para o Flutter com curiosidade.  Para quem n√£o conhece: agora, no Flutter, voc√™ pode criar aplicativos para Android e iOS, o suporte a aplicativos da Web est√° sendo preparado para lan√ßamento e tamb√©m h√° planos para oferecer suporte a computadores. <br><br>  Tal √© "um anel para governar tudo". <br><br>  Depois de passar alguns dias pensando em que tipo de aplicativo voc√™ pode tentar fazer, decidi escolher uma tarefa com um asterisco - do que precisamos dessas faixas desgastadas?  Balance na √°rea de trabalho e supere heroicamente as dificuldades!  Olhando para o futuro, direi que quase n√£o houve dificuldades. <br><br>  Sob o corte - uma hist√≥ria sobre como eu resolvi as tarefas usuais do programador React Native usando as ferramentas Flutter, al√©m da impress√£o geral da tecnologia. <br><br><img src="https://habrastorage.org/webt/hx/cx/hs/hxcxhsjx7ycplrsm2nhgrq0k8xu.png"><br><a name="habracut"></a><br>  Pensando em quais recursos do Flutter eu gostaria de "tocar", decidi que no meu aplicativo deveria ser: <br><br><ul><li>  pedidos para a API remota; </li><li>  transi√ß√µes entre telas; </li><li>  Anima√ß√µes de transi√ß√£o </li><li>  gerente de estado - redux ou algo semelhante. </li></ul><br>  Como n√£o sei como fazer back-end, decidi procurar uma API aberta de terceiros.  Como resultado, decidi por esse recurso - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cursos CBR em XML e JSON, API</a> .  Bem, aqui finalmente decidi sobre a funcionalidade do aplicativo: haver√° duas telas; na principal, h√° uma lista de moedas na taxa CBR; quando voc√™ clica em um item da lista, abrimos uma tela com informa√ß√µes detalhadas. <br><br><h4>  Prepara√ß√£o </h4><br>  Como o comando <code>flutter create</code> ainda n√£o sabe como criar um projeto para Windows / Linux (atualmente apenas o Mac √© suportado, use o sinalizador <code>--macos</code> ), voc√™ deve usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este</a> reposit√≥rio, onde h√° um exemplo preparado.  Clonamos o reposit√≥rio, pegamos a pasta de <code>example</code> partir da√≠, se necess√°rio, renomeie-o e continuamos trabalhando nele. <br><br>  Como o suporte a plataformas de desktop ainda est√° em desenvolvimento, voc√™ ainda precisa executar v√°rias manipula√ß√µes.  Para acessar os recursos em desenvolvimento, execute no terminal: <br><br><pre> <code class="bash hljs">flutter channel master flutter upgrade</code> </pre> <br>  Al√©m disso, voc√™ precisa informar ao Flutter que ele pode usar sua plataforma: <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-linux-desktop</code> </pre> <br>  ou <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-macos-desktop</code> </pre> <br>  ou <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-windows-desktop</code> </pre> <br>  Se tudo correu bem, executando o comando <code>flutter doctor</code> voc√™ ver√° uma sa√≠da semelhante: <br><br><img src="https://habrastorage.org/webt/g0/up/m0/g0upm0iqiijcj7yrwkrm6h-lwvy.png"><br><br>  Ent√£o, o cen√°rio est√° pronto, o p√∫blico no sal√£o - podemos come√ßar. <br><br><h4>  Layout </h4><br>  A primeira coisa que chama a sua aten√ß√£o ap√≥s o React Native √© a falta de uma linguagem de marca√ß√£o especial no JSX.  O Flutter obriga a escrever a marca√ß√£o e a l√≥gica comercial no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dart</a> .  No come√ßo, isso √© chato: a apar√™ncia n√£o tem nada a ver, o c√≥digo parece complicado e at√© mesmo esses colchetes est√£o no final do componente! <br><br>  Por exemplo, como: <br><br><img src="https://habrastorage.org/webt/ar/qm/iu/arqmiuoau_llzvwuutjszehkbbw.png"><br><br>  E este n√£o √© o limite!  Vale a pena remover um no lugar errado e um passatempo agrad√°vel (n√£o) √© garantido para voc√™. <br><br>  Al√©m disso, devido √†s peculiaridades dos componentes de estilo no Flutter, para componentes grandes, o recuo da borda esquerda do editor aumenta muito rapidamente e, com ele, o n√∫mero de colchetes fechados. <br><br>  Esse recurso √© que, nos estilos Flutter, s√£o os mesmos componentes (para ser mais preciso - widgets). <br><br>  Se no React Native organizar tr√™s bot√µes em uma linha dentro da <code>View</code> para distribuir uniformemente o espa√ßo do cont√™iner, basta especificar <code>flexDirection: 'row'</code> para a <code>View</code> em estilos e adicionar <code>flex: 1</code> para os bot√µes nos estilos, ent√£o o Flutter possui um componente separado <code>Row</code> para organizar elementos em uma linha e uma separada para "expansibilidade" de um elemento em todo o espa√ßo dispon√≠vel: <code>Expanded</code> . <br><br>  Como resultado, em vez de <br><br><pre> <code class="javascript hljs">&lt;View style={{<span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>:<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-attr"><span class="hljs-attr">flexDirection</span></span>: <span class="hljs-string"><span class="hljs-string">'row'</span></span>}}&gt; &lt;Button title='A' style={{flex:1}}&gt; &lt;Button title='B' style={{flex:1}}&gt; &lt;Button title='C' style={{flex:1}}&gt; &lt;/View&gt;</code> </pre><br>  n√≥s temos que escrever assim: <br><br><pre> <code class="java hljs">Container( height: <span class="hljs-number"><span class="hljs-number">100</span></span>, width: <span class="hljs-number"><span class="hljs-number">300</span></span>, child: Row( children: &lt;Widget&gt;[ Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'A'</span></span>), ), ), Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'B'</span></span>), ), ), Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'C'</span></span>), ), ), ], ), )</code> </pre> <br>  Mais detalhado, n√£o √©? <br><br>  Ou, digamos, voc√™ deseja adicionar um quadro com bordas arredondadas neste cont√™iner.  No React Native, simplesmente adicionamos aos estilos: <br><br><pre> <code class="javascript hljs">borderRadius: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">borderWidth</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">borderColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#ccc'</span></span></code> </pre> <br>  No Flutter, temos que adicionar algo assim aos argumentos do cont√™iner: <br><br><pre> <code class="java hljs">decoration: BoxDecoration( borderRadius: BorderRadius.all(Radius.circular(<span class="hljs-number"><span class="hljs-number">5</span></span>)), border: Border.all(width: <span class="hljs-number"><span class="hljs-number">1</span></span>, color: Color(<span class="hljs-number"><span class="hljs-number">0xffcccccc</span></span>)) ),</code> </pre> <br>  Em geral, a princ√≠pio, minha marca√ß√£o se transformou em enormes folhas de c√≥digo, nas quais o diabo quebraria sua perna.  No entanto, nem tudo √© t√£o ruim. <br><br>  Primeiro, √© claro que os componentes grandes devem ser divididos - colocados em widgets separados ou pelo menos nos m√©todos da sua classe de widgets. <br><br>  Em segundo lugar, o plug-in Flutter no VS Code ajuda muito - na figura acima, os coment√°rios entre colchetes s√£o assinados pelo pr√≥prio plug-in (e n√£o podem ser exclu√≠dos), o que ajuda a n√£o ficar confuso entre colchetes.  Al√©m disso, ferramentas de formata√ß√£o autom√°tica - depois de meia hora, voc√™ se acostuma a pressionar periodicamente <code>Ctrl+Shift+I</code> para formatar o c√≥digo. <br><br>  Al√©m disso, a sintaxe do idioma Dart na segunda edi√ß√£o se tornou muito mais agrad√°vel, ent√£o no final do dia eu j√° gostei de us√°-lo.  Incomum?  Sim  Mas n√£o desagrad√°vel. <br><br><h4>  Solicita√ß√µes de API </h4><br>  No React Native, para obter dados de alguma API, geralmente usamos o m√©todo <code>fetch</code> , que retorna o <code>Promise</code> n√≥s. <br><br>  Em Flutter, a situa√ß√£o √© semelhante.  Depois de examinar os exemplos na documenta√ß√£o, adicionei o pacote http ao <code>pubspec.yaml</code> (um an√°logo do <code>package.json</code> do mundo JS) e escrevi algo como isto: <br><br><pre> <code class="java hljs">Future&lt;http.Response&gt; getAnything() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> http.get(URL); }</code> </pre> <br>  O objeto <code>Future</code> tem um significado muito semelhante ao Promise, ent√£o tudo √© bem transparente aqui.  Bem, para serializar / desserializar objetos json, voc√™ pode usar o conceito de classes de modelo com m√©todos especiais de <code>fromJSON</code> / <code>toJSON</code> .  Voc√™ pode ler mais sobre isso na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o</a> . <br><br><h4>  Transi√ß√£o entre telas </h4><br>  Apesar de eu estar criando um aplicativo de desktop, do ponto de vista do Flutter, n√£o h√° diferen√ßa em qual plataforma ele est√° girando.  Bem, isto √©, no meu caso, √© assim, em geral - eu n√£o sei.  De fato, a janela do sistema na qual o aplicativo de vibra√ß√£o √© iniciada √© a mesma tela de um smartphone. <br><br>  A transi√ß√£o entre telas √© bastante trivial: criamos uma classe de widget de tela e usamos a classe <code>Navigator</code> padr√£o. <br><br>  No caso mais simples, pode ser algo como isto: <br><br><pre> <code class="java hljs">RaisedButton( child: Text(<span class="hljs-string"><span class="hljs-string">'Go to Detail'</span></span>), onPressed: () { Navigator.of(context).push&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt;(MaterialPageRoute(builder: (context) =&gt; DetailScreen())); }, )</code> </pre> <br>  Se o seu aplicativo tiver v√°rias telas, √© mais razo√°vel primeiro preparar um dicion√°rio de rotas e depois usar o m√©todo <code>pushNamed</code> .  Um pequeno exemplo da documenta√ß√£o: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NavigationApp</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatelessWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// This widget is the root of your application. @override Widget build(BuildContext context) { return MaterialApp( ... routes: &lt;String, WidgetBuilder&gt;{ '/a': (BuildContext context) =&gt; usualNavscreen(), '/b': (BuildContext context) =&gt; drawerNavscreen(), } ... ); } } // AnyWidget ... onPressed: () { Navigator.of(context).pushNamed('/a'); }, ...</span></span></code> </pre><br>  Al√©m disso, voc√™ pode preparar uma anima√ß√£o especial para alternar entre telas e escrever algo como isto: <br><br><pre> <code class="java hljs">Navigator.of(context).push&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt;(ScaleRoute(page: DetailScreen()));</code> </pre> <br>  Aqui <code>ScaleRoute</code> √© uma classe especial para criar anima√ß√µes de transi√ß√£o.  Bons exemplos de tais anima√ß√µes podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br><h4>  Gerenciamento de estado </h4><br>  Acontece que precisamos ter acesso a alguns dados de qualquer parte do nosso aplicativo.  No React Native, o <code>redux</code> frequentemente usado (se n√£o com maior frequ√™ncia) para esses fins. <br><br>  Para o Flutter, existe um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reposit√≥rio</a> que mostra exemplos de uso de v√°rias arquiteturas de aplicativos - existem Redux, MVC e MVU, e at√© aqueles sobre os quais eu nunca ouvi falar antes. <br><br>  Depois de remexer um pouco nesses exemplos, decidi parar no <code>Provider</code> . <br><br>  Em geral, a ideia √© bastante simples: criamos uma classe especial que <code>ChangeNotifier</code> classe <code>ChangeNotifier</code> , na qual armazenaremos nossos dados, os atualizaremos usando os m√©todos dessa classe e os buscaremos a partir da√≠, se necess√°rio.  Veja a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o</a> do pacote para mais detalhes. <br><br>  Para fazer isso, adicione o pacote do <code>provider</code> ao <code>pubspec.yaml</code> e prepare a classe Provider.  No meu caso, fica assim: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/material.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:rates_app/models/rate.dart'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RateProvider</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChangeNotifier</span></span></span><span class="hljs-class"> </span></span>{ Rate currentrate; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCurrentRate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Rate rate)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentrate = rate; notifyListeners(); } }</code> </pre> <br>  Aqui <code>Rate</code> √© minha classe de modelo de moeda (com <code>name</code> campos, <code>code</code> , <code>value</code> etc.), <code>currentrate</code> √© o campo no qual a moeda selecionada ser√° armazenada e <code>setCurrentRate</code> √© o m√©todo pelo qual o valor da <code>currentrate</code> √© <code>currentrate</code> . <br><br>  Para anexar nosso provedor ao aplicativo, alteramos o c√≥digo da classe do aplicativo: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">Widget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuildContext context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ChangeNotifierProvider( builder: (context) =&gt; RateProvider(), <span class="hljs-comment"><span class="hljs-comment">//   child: MaterialApp( ... ), home: HomeScreen(), ), ); }</span></span></code> </pre> <br>  √â isso, agora, se queremos salvar a moeda selecionada, escrevemos algo assim: <br><br><pre> <code class="java hljs">Provider.of&lt;RateProvider&gt;(context).setCurrentRate(rate);</code> </pre> <br>  E se queremos obter o valor armazenado, ent√£o isto: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rate = Provider.of&lt;RateProvider&gt;(context).currentrate;</code> </pre> <br>  Tudo √© bastante transparente e sem clich√™s (ao contr√°rio do Redux).  Obviamente, talvez para aplica√ß√µes mais complexas tudo saia n√£o t√£o bem, mas para aqueles como o meu exemplo, vinhos puros. <br><br><h4>  Criar aplicativo </h4><br>  Em teoria, o comando <code>flutter build &lt;platform&gt;</code> √© usado para criar o aplicativo.  Na pr√°tica, quando executei o comando <code>flutter build linux</code> , recebi esta mensagem: <br><br><img src="https://habrastorage.org/webt/cy/ai/px/cyaipxfgk9xrmgncqc9mylbz6j0.png"><br><br>  "N√£o doeu", pensei, fiquei horrorizado com o peso da pasta de <code>build</code> - 287,5 MB - e, devido √† simplicidade da minha alma, exclu√≠ esta pasta para sempre.  Como se viu - em v√£o. <br><br>  Ap√≥s excluir o diret√≥rio de <code>build</code> , o projeto parou de iniciar.  Como n√£o consegui restaur√°-lo, copiei-o do exemplo original.  N√£o ajudou - o colecionador xingou os arquivos ausentes. <br><br>  Ap√≥s realizar uma pequena pesquisa, verificou-se que nessa pasta existe um arquivo <code>snapshot_blob.bin.d</code> , que aparentemente cont√©m caminhos para todos os arquivos usados ‚Äã‚Äãno projeto.  Eu adicionei os caminhos ausentes e funcionou. <br><br>  Portanto, no momento, o Flutter n√£o sabe como preparar vers√µes de lan√ßamento para a √°rea de trabalho.  Enfim, para Linux. <br><br>  Em geral, se voc√™ fechar os olhos para esse sinal de menos, o aplicativo ficou do jeito que eu queria e parecia <br><br><div class="spoiler">  <b class="spoiler_title">t√£o</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/79/e6/zz/79e6zzdw9kggfwkiyelfsmrokt0.gif"><br></div></div><br><h4>  B√¥nus </h4><br>  Passamos para o b√¥nus prometido. <br><br>  Mesmo na fase de escrever o aplicativo, eu tinha o desejo de verificar o qu√£o dif√≠cil seria port√°-lo para outras plataformas.  Vamos come√ßar com o telefone celular. <br><br>  Certamente existe um caminho menos b√°rbaro, mas decidi que o caminho mais curto √© direto.  Portanto, simplesmente criei um novo projeto Flutter, transferi o arquivo <code>pubspec.yaml</code> , os <code>assets</code> , <code>fonts</code> e diret√≥rios <code>lib</code> para ele e adicionei a linha ao <code>AndroidManifest.xml</code> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.INTERNET"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  A aplica√ß√£o come√ßou com um meio chute e eu consegui isso <br><br><div class="spoiler">  <b class="spoiler_title">quadro</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/3m/8p/r4/3m8pr4rwdjllpixpsjdla574kl8.jpeg"><br></div></div><br>  No come√ßo, eu tive que mexer com a web.  Como n√£o sabia criar um projeto da web, usei as instru√ß√µes da Internet, que por algum motivo n√£o funcionaram.  Eu j√° queria cuspir, mas me deparei com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este</a> manual. <br><br>  Como resultado, tudo acabou sendo o mais simples poss√≠vel - tudo o que era necess√°rio era ativar o suporte para aplicativos da web.  Aperte do manual: <br><br><pre> <code class="bash hljs">flutter channel master flutter upgrade flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-web <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> &lt;into project directory&gt; flutter create . flutter run -d chrome</code> </pre> <br>  Depois transferi os arquivos necess√°rios para esse projeto da mesma maneira b√°rbara e recebi <br><br><div class="spoiler">  <b class="spoiler_title">resultado</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ac/nt/gw/acntgwqqzvghgus9ll6thtbanbe.png"><br></div></div><br><h4>  Impress√µes gerais </h4><br>  No come√ßo, trabalhar com Flutter era incomum, tentei constantemente usar as abordagens usuais do React Native, e isso interferiu.  Al√©m disso, alguma redund√¢ncia do c√≥digo do dardo era um pouco irritante. <br><br>  Depois que peguei minha m√£o (e cones) um pouco, comecei a ver as vantagens do Flutter sobre o React Native.  Vou listar alguns. <br><br>  <b>Idioma</b> .  O dardo √© uma linguagem completamente compreens√≠vel e agrad√°vel, com forte digita√ß√£o est√°tica.  Ap√≥s o JavaScript, foi como uma lufada de ar fresco.  Parei de ter medo de que meu c√≥digo quebrasse em tempo de execu√ß√£o e foi uma sensa√ß√£o agrad√°vel.  Algu√©m pode dizer que h√° Flow e TypeScript, mas n√£o √© isso - em nossos projetos, usamos os dois, e algo sempre quebrava em algum lugar.  Quando escrevo no React Native, n√£o consigo deixar de sentir que meu c√≥digo est√° em adere√ßos de palitos de f√≥sforo que podem quebrar a qualquer momento.  Com Flutter, esqueci esse sentimento e, se o pre√ßo √© redund√¢ncia de c√≥digo, estou pronto para pag√°-lo. <br><br>  <b>Plataforma</b> .  No React Native, voc√™ usa componentes nativos e isso geralmente √© bom.  Mas, por causa disso, √†s vezes voc√™ precisa escrever um c√≥digo espec√≠fico da plataforma, bem como capturar bugs espec√≠ficos para cada plataforma.  Pode ser incrivelmente cansativo.  Com o Flutter, voc√™ pode esquecer esses problemas como um pesadelo (embora possa ser que em aplicativos grandes as coisas n√£o sejam t√£o suaves). <br><br>  <b>O meio ambiente</b> .  Com o ambiente no React Native, tudo √© triste.  Os plugins vscode caem constantemente, o depurador pode consumir 16 GB de opera√ß√£o e 70 GB de swap, travando firmemente o sistema (por experi√™ncia pessoal) e o cen√°rio de corre√ß√£o de erros mais comum: "remova node_modules, instale pacotes novamente e tente reiniciar v√°rias vezes".  Isso geralmente ajuda, mas bljad!  N√£o √© assim que deve ser, n√£o √© assim. <br><br>  Al√©m disso, voc√™ precisar√° executar o AndroidStudio e o Xcode periodicamente, porque alguns s√£o colocados dessa maneira (para ser justo, com o lan√ßamento do RN 0.60, isso ficou melhor). <br><br>  Nesse contexto, o plug-in oficial do Flutter para vscode parece muito bom.  As dicas de c√≥digo permitem que voc√™ se familiarize com a plataforma sem consultar a documenta√ß√£o, a formata√ß√£o autom√°tica resolve o problema com o estilo de codifica√ß√£o, o depurador normal, etc. <br>  Em geral, parece uma ferramenta mais madura. <br><br>  <b>Plataforma cruzada</b> .  O React Native professa o princ√≠pio ‚ÄúAprenda uma vez, escreva em qualquer lugar‚Äù - depois de aprender, voc√™ pode escrever para diferentes plataformas.  √â verdade que em cada plataforma voc√™ encontrar√° problemas espec√≠ficos.  Mas talvez isso seja apenas uma conseq√º√™ncia da imaturidade do React Native - no momento, a vers√£o est√°vel mais recente √© 0,61.  Talvez com o lan√ßamento da vers√£o 1.0, a maioria desses problemas desapare√ßa. <br><br>  A abordagem Flutter √© mais parecida com Escrever uma vez, compilar em qualquer lugar.  E mesmo que a √°rea de trabalho n√£o esteja pronta para produ√ß√£o no momento, a web tamb√©m est√° em alfa, mas tudo √© necess√°rio.  E a capacidade de ter uma √∫nica base de c√≥digo para todas as plataformas √© um argumento forte. <br><br>  √â claro que o Flutter tamb√©m n√£o apresenta falhas, mas um pouco de experi√™ncia em us√°-lo n√£o me permite identific√°-las.  Portanto, se voc√™ quiser uma avalia√ß√£o mais objetiva, fique √† vontade para descontar o efeito da novidade. <br><br>  Em geral, deve-se notar que Flutter deixou principalmente sentimentos positivos, embora ele tenha espa√ßo para crescer.  E no pr√≥ximo projeto, eu estaria mais disposto a come√ßar, e n√£o no React Native. <br><br>  O c√≥digo fonte do projeto pode ser encontrado no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> . <br><br>  PS Aproveito esta oportunidade para felicitar todos os envolvidos no dia do professor do passado. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt470251/">https://habr.com/ru/post/pt470251/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt470235/index.html">Entrevista com Dmitry Simonov, criador do canal CTORECORDS: ‚ÄúA principal qualidade do techdir √© o h√°bito de vencer‚Äù</a></li>
<li><a href="../pt470237/index.html">Literatura de fim de semana: leitura f√°cil para t√©cnicos</a></li>
<li><a href="../pt470239/index.html">ERP n√£o desenvolvido na produ√ß√£o: em terapia intensiva ou necrot√©rio?</a></li>
<li><a href="../pt470241/index.html">Hist√≥rico de startups: como desenvolver uma ideia passo a passo, entrar em um mercado inexistente e alcan√ßar expans√£o internacional</a></li>
<li><a href="../pt470247/index.html">RESHI.RU - um rob√¥ resolve e explica problemas de texto escolar em matem√°tica</a></li>
<li><a href="../pt470255/index.html">Otimiza√ß√£o do portf√≥lio de t√≠tulos usando ALGLIB</a></li>
<li><a href="../pt470257/index.html">Manto em torno do ImmutableList em Java</a></li>
<li><a href="../pt470259/index.html">Aimybox na pesquisa: a estrutura para criar assistentes de voz precisa de um assistente para iOS</a></li>
<li><a href="../pt470265/index.html">Folha de dicas da abrevia√ß√£o de C ++ e muito mais. Parte 1: C ++</a></li>
<li><a href="../pt470267/index.html">Monitoramento de temperatura certificado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>