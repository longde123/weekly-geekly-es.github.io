<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèòÔ∏è üë©üèº‚Äçüè´ üìÅ PlantUML - Tout ce dont les analystes commerciaux ont besoin pour cr√©er des graphiques dans la documentation du logiciel üîº üö¨ üöπ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√©sentation 


 Je suis analyste de syst√®mes et mon travail consiste √† concevoir des syst√®mes d'information automatis√©s. Mais non, c'est pour √©crire ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PlantUML - Tout ce dont les analystes commerciaux ont besoin pour cr√©er des graphiques dans la documentation du logiciel</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416077/"><img src="https://habrastorage.org/webt/nz/gb/ud/nzgbudu_22o0w9-ls4ylmkvp1f0.png"><br><h2 id="vvedenie">  Pr√©sentation </h2><br><p>  Je suis analyste de syst√®mes et mon travail consiste √† concevoir des syst√®mes d'information automatis√©s.  Mais non, c'est pour √©crire et √©crire des documents.  La troisi√®me fois, je ne r√©p√©terai pas le mot ¬´√©crire¬ª - apr√®s tout, pas ¬´l'Iliade¬ª.  Mais la forme ennuyeuse de quelque chose fait que la documentation du projet est √©troitement li√©e au po√®me grec ancien, surtout quand il s'agit de travailler avec le client de l'√âtat. </p><br><p>  Les graphiques sont une gorg√©e de cr√©ativit√© dans cette mer de texte.  Les graphiques seront discut√©s dans cet article.  Plus pr√©cis√©ment - √† propos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PlantUML</a> - de mon point de vue, l'outil le plus ad√©quat pour les cr√©er en ce moment. </p><a name="habracut"></a><br><p>  Je suis s√ªr que beaucoup ont entendu parler de PlantUML, au moins, sur GitHub, il a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus de mille √©toiles</a> .  La signification de cet outil est extr√™mement simple, il vous permet uniquement de sp√©cifier des diagrammes (pour la plupart en notation UML) sous forme de texte d√©crivant les √©l√©ments et les relations entre eux.  Une vue graphique est cr√©√©e automatiquement.  Voici un exemple de graphique d'activit√©. </p><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">start</span></span> :   ; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (?) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> () :  ; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (?) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> () <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> () :  ; endif :  ////; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> () stop endif stop</code> </pre> <br><img src="https://habrastorage.org/webt/3c/hl/qx/3chlqxczkrvds4uohev8c5etxqa.png"><br><p>  Malgr√© la popularit√©, il y a tr√®s peu d'articles sur Habr√© qui parlent de l'application pratique de cet outil.  Il me semble que PlantUML ne m√©rite pas un tel manque d'attention. </p><br><p>  Au d√©but, je vais vous expliquer pourquoi je l'ai choisi comme outil principal de mod√©lisation visuelle, et √† la fin, je donnerai un certain nombre de recommandations que j'aimerais vraiment moi-m√™me entendre lorsque j'ai commenc√© √† utiliser cet outil. </p><br><h2 id="pochemu-plantuml">  Pourquoi PlantUML </h2><br><p>  De mon point de vue, lors de la cr√©ation de diagrammes, il est logique de se concentrer sur les crit√®res suivants: (1) le diagramme devrait √™tre moins ou moins petit, (2) le diagramme devrait utiliser une notation plus ou moins standard, et (3) le diagramme devrait √™tre moins ou moins pratique du point de vue de la gestion de la documentation du projet . </p><br><p>  Dans les trois cas, le mot ¬´moins¬ª a √©t√© utilis√©, car tous ces crit√®res dans des situations sp√©cifiques peuvent √™tre viol√©s sans pr√©judice de l'affaire.  Il existe de nombreux grands diagrammes cr√©√©s en notation self-made et mis √† la perfection (la m√™me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">carte de m√©tro</a> ).  Une autre question est que la cr√©ation de tels diagrammes est des projets qui ont d√©pens√© des ressources s√©rieuses.  Loin de toujours (lire, jamais) de telles ressources sont allou√©es √† la cr√©ation de syst√®mes d'information automatis√©s.  Le client a besoin d'un syst√®me parfait, pas d'un sch√©ma de syst√®me parfait. </p><br><p>  N√©anmoins, pour moi, ces crit√®res sont le point de d√©part √† partir duquel vous commencez √† √©laborer un diagramme.  Ensuite ... comment √ßa se passe. </p><br><p>  Pendant tr√®s longtemps, j'ai consid√©r√© l'utilisation de Microsoft Visio comme une section en or pour moi et j'ai dessin√© des diagrammes l√†-bas, essayant d'√™tre raisonnablement proche d'UML.  Dans ce cas, un ensemble standard de composants a √©t√© utilis√©, car il donne plus de libert√© qu'un gabarit sp√©cialis√© pour UML.  De plus, certains diagrammes √† afficher sur le projecteur ont √©t√© dessin√©s dans Microsoft PowerPoint. </p><br><p>  Oui, vous ne pouvez pas g√©rer de tels graphiques.  Si le nom d'une entit√© a chang√©, ouvrez chaque diagramme et modifiez-le.  Mais cela se r√©v√®le presque magnifiquement.  Et il y a une certaine flexibilit√© dans la formulation des pens√©es. </p><br><p>  J'ai √©galement essay√© des outils de mod√©lisation m√©tier sp√©cialis√©s: Rational Rose, Aris, Enterpise Architect (Sparx Systems), surtout Rational Rose.  Le probl√®me est que le r√©sultat final de mon travail est des documents.  Et dans ce sens, si quelque chose change s√©rieusement dans les exigences, vous devez toujours parcourir manuellement tout le projet et r√©ins√©rer les diagrammes aux bons endroits du texte.  Penser quelque chose, peut-√™tre automatiser dans cette partie me semblait trop compliqu√© et ne valait pas la peine. </p><br><p>  Avec l'av√®nement de PlantUML, la situation a radicalement chang√©. </p><br><ol><li><p>  Une fois les diagrammes cr√©√©s sous forme de texte, cela signifie que dans n'importe quel √©diteur de texte (j'aime Atom et Notepad ++), vous pouvez trouver le texte requis dans un ensemble de fichiers et m√™me le remplacer.  La refactorisation de projet est assez pratique.  En outre, le format texte facilite l'organisation du travail en groupe et le suivi des modifications dans le syst√®me de contr√¥le de version. </p><br></li><li><p>  Dans PlantUML, la cr√©ation de diagrammes est plus rapide que dans n'importe quel √©diteur visuel (du moins pour moi).  Il existe d'autres opinions √† ce sujet, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">il est</a> dit que la cr√©ation d'un diagramme dans PlantUML est plus longue que, disons, dans Enterpise Architect (Sparx Systems).  Je pense que c'est plus une question de go√ªt et d'habitude. </p><br><p>  J'ai m√™me eu une exp√©rience assez r√©ussie lorsque PlantUML a √©t√© utilis√© √† la place d'une carte (il n'y en avait pas √† proximit√©) et avec des gens tr√®s √©loign√©s des technologies de l'information. </p><br></li><li><p>  PlantUML est suffisamment flexible pour utiliser la notation UML.  Prenant en charge tous ses √©l√©ments de base, il offre √† l'utilisateur de nombreuses possibilit√©s pour leur utilisation gratuite dans le diagramme.  Par exemple, il est tr√®s pratique de prendre en charge l'utilisation du balisage wiki dans le contenu des √©l√©ments. </p><br><p>  De plus, les d√©veloppeurs de PlantUML, apparemment, ne voient rien de mal √† casser la notation.  Et c'est un grand avantage de cet outil.  En fin de compte, le client n'a pas besoin de savoir si UML est ou non UML - il doit comprendre la signification du diagramme.  Tout ce qui conduit √† une am√©lioration de la perception du sens est bon. </p><br><p>  N√©anmoins, PlantUML est UML, c'est-√†-dire  la notation g√©n√©ralement accept√©e, standard, et donc pour la documentation, en particulier dans les projets gouvernementaux, est tr√®s appropri√©e. </p><br></li><li><p>  PlantUML ne vous permet pas de cr√©er de grands graphiques.  Il distribue les √©l√©ments par lui-m√™me et, naturellement, avec un grand nombre d'√©l√©ments, le r√©sultat commence √† √™tre douteux.  Mais ce n'est pas tout √† fait une limitation.  Habituellement, lorsque PlantUML commence √† produire un r√©sultat insuffisant, vous vous rendez compte que non PlantUML est mauvais, mais le diagramme est mauvais, et il vaut mieux le s√©parer ou r√©duire le nombre de d√©tails non pertinents. </p><br></li><li><p>  Les diagrammes PlantUML peuvent √™tre g√©n√©r√©s automatiquement.  Un exemple d'une telle utilisation est donn√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Nous utilisons PlantUML pour g√©n√©rer automatiquement un sch√©ma de base de donn√©es.  La fonction d'une telle g√©n√©ration est int√©gr√©e dans l'outil de gestion de la structure de base de donn√©es que nous utilisons - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2bass</a> .  Ainsi, lors de l'assemblage de la documentation, le diagramme de classes avec la structure de la base de donn√©es est toujours √† jour.  La figure suivante montre une partie de la description de la structure de la base de donn√©es et un graphique g√©n√©r√© automatiquement. </p><br><img src="https://habrastorage.org/webt/al/ho/0u/alho0u6p0i4uk6-kbwjjo-5a-t0.png"><br></li></ol><br><h2 id="sovety-po-ispolzovaniyu-plantuml">  Conseils PlantUML </h2><br><p>  Il me semble que beaucoup n'utilisent pas PlantUML, car ils rencontrent certaines difficult√©s au stade initial, qu'ils consid√®rent fondamentalement insurmontables.  Beaucoup ont peur de l'utilisation du texte, car tout le monde est habitu√© aux √©diteurs graphiques.  Cette partie de l'article contient des recommandations qui, je l'esp√®re, vous permettront de commencer rapidement √† utiliser PlantUML dans des missions de combat. </p><br><h3 id="gde-sozdavat-diagrammy">  O√π cr√©er des graphiques? </h3><br><p>  Tout d'abord, je voudrais mentionner <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le serveur Web PlantUML</a> , une partie du projet PlantUML o√π vous pouvez cr√©er des diagrammes en ligne et les partager avec des coll√®gues.  C'est une fonctionnalit√© tr√®s pratique, mais, bien s√ªr, pas lors de la cr√©ation de diagrammes pour la documentation du projet. </p><br><p>  PlantUML est souvent utilis√© dans les moteurs wiki.  Ici, l'√©dition s'effectue de mani√®re standard: le texte est √©crit, enregistr√© et sur la page, nous obtenons une image.  Mais n√©anmoins, dans la plupart des cas, il est commode que le r√©sultat soit imm√©diatement affich√© sur le diagramme: par exemple, la sp√©cification du diagramme est √©crite dans la fen√™tre de gauche, et son apparence est affich√©e dans la fen√™tre de droite.  Le texte fini peut d√©j√† √™tre ins√©r√© dans le wiki. </p><br><p>  Le site Web de PlantUML compte de nombreux √©diteurs.  Je soup√ßonne que parmi eux, plus de la moiti√© ne conviennent pas au travail.  Surtout, j'aime cr√©er des diagrammes PlantUML √† l'aide du plug-in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PlantUML Preview</a> dans l'√©diteur Atom.  En fait, il existe plusieurs plugins de ce type.  J'ai aim√© PlantUML Preview car il montre non seulement le r√©sultat, mais cr√©e imm√©diatement (ou au moment de l'enregistrement - en fonction des param√®tres) un fichier graphique dont le nom correspond au fichier avec les sp√©cifications du diagramme. </p><br><img src="https://habrastorage.org/webt/tx/uz/qj/txuzqjjh7auobrxlq6d-gyiu2kk.png"><br><br>  C'est-√†-dire  Chaque diagramme correspond toujours √† deux fichiers, un fichier texte (avec une description textuelle du diagramme) et l'autre graphique (une image avec un diagramme). <br><p>  Depuis que nous faisons toute la documentation avec l'aide d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Asciidoctor depuis</a> longtemps (c'est incroyable de voir comment refuser Microsoft Word peut le rendre plus facile, mais c'est le sujet d'un article s√©par√©), nous ins√©rons des images via les liens.  Pour changer l'image avec cette technologie, ouvrez simplement la description du texte, changez-la et enregistrez.  Vous n'avez pas besoin d'effectuer des op√©rations d'exportation ou de copie via le presse-papiers. </p><br><p>  Veuillez noter que le plug-in PlantUML Preview dans ses param√®tres n√©cessite de sp√©cifier l'emplacement du fichier planuml.jar, et PlantUML lui-m√™me ne fonctionnera pas si <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GraphViz n'est</a> pas install√©, les deux applications peuvent √™tre t√©l√©charg√©es √† partir des sites correspondants.  Dans les derni√®res versions de PlantUML, Graphviz est progressivement supprim√©, donc dans un avenir proche, ce produit deviendra plus autonome.  Cela simplifiera son utilisation dans les syst√®mes d'assemblage automatique de la documentation du programme. </p><br><h3 id="podgotovka-diagramm-dlya-pechati">  Pr√©paration des graphiques pour l'impression </h3><br><p>  Pour une impression de haute qualit√© sur une imprimante laser, vous devez sp√©cifier le param√®tre <em>skinparam dpi 300</em> .  La r√©solution de 300 dpi fournit une image de haute qualit√© pour l'impression sur une imprimante laser.  Sinon, les images sont cr√©√©es avec une r√©solution d'√©cran et semblent tram√©es.  PlantUML a √©galement la possibilit√© d'utiliser svg (format vectoriel).  Mais ce format est pris en charge beaucoup moins que png, et il y a beaucoup plus de probl√®mes avec lui.  J'ai utilis√© svg s'il √©tait n√©cessaire de rappeler un peu l'image avec un √©diteur de vecteur (par exemple, en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Inkscape</a> ).  Mais ceci, bien s√ªr, est un cas d'utilisation extr√™mement rare pour PlantUML. </p><br><p>  Pour supprimer les ombres, qui g√¢chent g√©n√©ralement l'apparence imprim√©e, le param√®tre <em>faux d'ombrage skinparam</em> est utilis√©. </p><br><p>  De plus, pour imprimer un graphique sur une imprimante noir et blanc, il est souhaitable qu'il ne comporte pas de demi-teintes.  Un sch√©ma de couleurs utilisant le marron et le jaune n'est g√©n√©ralement pas adapt√© √† l'impression.  Heureusement, PlantUML vous permet de sp√©cifier les couleurs utilis√©es.  Les options suivantes, par exemple, affichent un diagramme de composants dans une palette en noir et blanc.  Il existe un param√®tre sp√©cial pour la g√©n√©ration de diagramme monochrome ( <em>skinparam monochrome true</em> ), mais il supprime uniquement la couleur, les demi-teintes restent. </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">skinparam</span></span> component { <span class="hljs-attribute"><span class="hljs-attribute">borderColor</span></span> black backgroundColor white ArrowColor black }</code> </pre> <br><p>  Une liste de la plupart des param√®tres est donn√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Si vous souhaitez √©tudier tous les param√®tres, vous pouvez utiliser la commande <em>java -jar plantuml.jar -language</em> . </p><br><h3 id="otnositelnoe-raspolozhenie-elementov">  Disposition relative des √©l√©ments </h3><br><ol><li><p>  Le param√®tre de <em>direction de gauche √† droite</em> entra√Æne le dessin des √©l√©ments du graphique de gauche √† droite.  Pas tr√®s √©vident, mais, par exemple, pour un diagramme de composants, cela signifie que les composants seront assembl√©s sur le c√¥t√© gauche et les interfaces sur la droite. </p><br><pre> <code class="hljs pgsql">component " 1" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c1 component " 2" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c2 interface " 1" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i1 c1 <span class="hljs-comment"><span class="hljs-comment">--() i1 c2 --( i1</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/ck/co/kd/ckcokd-rojc0znagkfhcsuvcnsc.png"><br></li><li><p>  Regroupement avec des √©l√©ments de niveau sup√©rieur. </p><br><p>  Dans la figure suivante, PlantUML a r√©parti les composants de sorte qu'il y ait moins d'intersections de lignes.  Cet ordre de composants peut √™tre ind√©sirable si nous voulons que les composants soient affich√©s dans l'ordre. </p><br><pre> <code class="hljs swift">component <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c1 component <span class="hljs-string"><span class="hljs-string">" 2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c2 component <span class="hljs-string"><span class="hljs-string">" 3"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c3 interface <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i1 c1 --() i1 c2 --( i1 interface <span class="hljs-string"><span class="hljs-string">" 2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i2 c1 --() i2 c3 --( i2</code> </pre> <br><img src="https://habrastorage.org/webt/qs/y-/5u/qsy-5uck-nhs6z-ztfpnqwebbdy.png"><br><p>  Si nous regroupons les deuxi√®me et troisi√®me composants, nous parviendrons √† ce que les composants soient dispos√©s dans l'ordre. </p><br><pre> <code class="hljs swift">component <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c1 component <span class="hljs-string"><span class="hljs-string">" 1"</span></span> { component <span class="hljs-string"><span class="hljs-string">" 2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c2 component <span class="hljs-string"><span class="hljs-string">" 3"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c3 } interface <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i1 c1 --() i1 c2 --( i1 interface <span class="hljs-string"><span class="hljs-string">" 2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i2 c1 --() i2 c3 --( i2</code> </pre> <br><img src="https://habrastorage.org/webt/jl/kf/pi/jlkfpi3kpkcq3cu--iet_6cthb4.png"><br></li><li><p>  L'ordre des composants.  Une approche assez controvers√©e, mais √ßa marche.  Dans l'exemple suivant, le composant 2 s'affiche en premier, comme  dans la sp√©cification, il est r√©pertori√© en premier. </p><br><pre> <code class="hljs pgsql">component " 2" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c2 component " 1" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c1 interface " 1" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i1 c1 <span class="hljs-comment"><span class="hljs-comment">--() i1 c2 --( i1</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/f0/wg/en/f0wgenwj52gpvtlga1kzwhrzqwa.png"><br></li></ol><br><p>  PlantUML a √©galement la capacit√© d'indiquer les directions des fl√®ches.  Par exemple, pour indiquer que la fl√®che va du composant 1 (c1) √† l'interface 1 (i1) de gauche √† droite, vous devez sp√©cifier la lettre ¬´r¬ª dans la sp√©cification de la fl√®che: <em>c1 -r- () i1</em> .  L'exemple suivant indique clairement que la fl√®che du composant 1 √† l'interface 1 va de gauche √† droite et du composant deux √† la m√™me interface de droite √† gauche. </p><br><pre> <code class="hljs swift">component <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c1 component <span class="hljs-string"><span class="hljs-string">" 2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c2 interface <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i1 c1 -r-() i1 c2 -l-( i1</code> </pre> <br><img src="https://habrastorage.org/webt/3t/wt/m8/3twtm802viavo35lqhqsk69ah1o.png"><br><p>  Je pense que c'est une opportunit√© n√©faste.  Cela confond la sp√©cification du diagramme et l'interpr√©tation de PlantUML de la direction peut √™tre assez exotique.  De plus, lorsque vous sp√©cifiez le param√®tre de direction de gauche √† droite, la lettre ¬´r¬ª commence √† signifier de haut en bas (en raison du d√©placement dans le sens horaire), ce qui confond compl√®tement le sch√©ma. </p><br><h3 id="nadpisi-v-elementah-diagrammy">  √âl√©ments d'√©tiquette </h3><br><h4 id="mnogostrochnyy-tekst-i-wiki-razmetka">  Texte multiligne et balisage wiki </h4><br><p>  PlantUML fournit de bons outils pour formater le texte en √©l√©ments. </p><br><p>  Lors de la g√©n√©ration d'un √©l√©ment de graphique, PlantUML est bas√© sur la taille du texte.  C'est-√†-dire  non pas le texte s'√©coule en fonction de la taille de l'√©l√©ment, mais la taille de l'√©l√©ment s'adapte au texte. </p><br><p>  La fa√ßon la plus simple de cr√©er un texte volumineux consiste √† utiliser le caract√®re \ n.  Dans ce cas, vous pouvez √©galement utiliser des caract√®res de formatage de texte (gras, italique, etc.) </p><br><pre> <code class="hljs tex">component "** 1** <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>       <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span> //****// <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n*</span></span></span></span> //// 1 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n*</span></span></span></span> // 2//" as c1</code> </pre> <br><img src="https://habrastorage.org/webt/pe/mq/8k/pemq8kvqnapxskgnor-0xvxouf0.png"><br><p>  Parfois, il n'y a pas d'autres options.  Mais dans la plupart des cas, la syntaxe est prise en charge qui vous permet de sp√©cifier du texte sur plusieurs lignes.  Par exemple, dans l'exemple pr√©c√©dent, vous pouvez utiliser cette syntaxe. </p><br><pre> <code class="hljs ruby">component c1 [ ** <span class="hljs-number"><span class="hljs-number">1</span></span>** ====       ../<span class="hljs-regexp"><span class="hljs-regexp">/****/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.. * /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 1 * /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 2/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ ] note left      .... ** 1** ====       ../</span></span><span class="hljs-regexp"><span class="hljs-regexp">/****/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.. * /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 1 * /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 2/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ end note</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/dp/cn/_g/dpcn_gtv35rzjj4gcjkvi0xtths.png"><br><p>  Comme nous pouvons le voir, l'utilisation de cette syntaxe permet d'ajouter des lignes de division.  Notez qu'une note est ajout√©e ici qui affiche le m√™me texte que le composant.  Dans le m√™me temps, dans la note, la liste est affich√©e sous forme de liste, et dans le composant, sous forme de texte via le symbole ¬´*¬ª.  Malheureusement, les listes et les tableaux ne fonctionnent pas dans les composants.  Bien qu'ils, par exemple, fonctionnent dans des √©l√©ments repr√©sentant l'activit√© (dans le diagramme d'activit√©). </p><br><h4 id="ispolzovanie-ikonok">  Utiliser des ic√¥nes </h4><br><p>  PlantUML prend en charge plusieurs fa√ßons d'utiliser les ic√¥nes.  Tous ont certaines limites. </p><br><p>  Le plus populaire, il me semble, est devenu la technologie d'utilisation des soi-disant sprites.  Un sprite est un bitmap d√©fini √† l'aide de texte.  Le plus grand avantage de cette technologie est que PlantUML vous permet de cr√©er des biblioth√®ques de sprites externes.  Il existe plusieurs biblioth√®ques de ce type.  Ce que j'aime le plus, c'est la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">biblioth√®que PlantUML Icon-Font Sprites</a> , car  il contient des images graphiques de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Font Awesome</a> . </p><br><p>  Notez que les sprites dans PlantUML sont des bitmaps, c'est-√†-dire  ils ont des limites √† l'√©chelle.  Dans cette biblioth√®que particuli√®re, la r√©solution des ic√¥nes est de 48 x 48 pixels.  Lors de l'utilisation d'une telle image pour l'impression, il n'est pas souhaitable de la mettre √† l'√©chelle √† une taille sup√©rieure √† 5 millim√®tres (ce qui correspond √† peu pr√®s √† une r√©solution de 250 dpi).  Sur de nombreuses ressources Internet qui d√©crivent l'utilisation des sprites, cela n'est pas pris en compte et les exemples montrent des √©l√©ments de diagramme avec de grandes ic√¥nes.  √Ä l'√©cran, ces diagrammes sont superbes, mais lorsqu'ils sont imprim√©s, ils semblent tram√©s. </p><br><p>  La taille de l'ic√¥ne de 4 √† 5 millim√®tres est pratique √† utiliser √† l'int√©rieur des signatures.  Par exemple, dans la figure suivante, √† l'aide des ic√¥nes, les r√¥les d'utilisateur sont affich√©s dont les membres transf√®rent le processus d'un √©tat √† un autre. </p><br><pre> <code class="hljs tex">'       !define ICONURL https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/v2.0.0 !includeurl ICONURL/common.puml !includeurl ICONURL/font-awesome-5/user_cog.puml !includeurl ICONURL/font-awesome-5/user_check.puml !define _CS scale=0.4 !define _user_cog &lt;<span class="hljs-formula"><span class="hljs-formula">$user_cog{_CS}&gt; !define _user_check &lt;$</span></span>user_check{_CS}&gt; ' legend ..** **.. _user_cog ‚Äî  _user_check ‚Äî  endlegend '   state " " as prepare_doc [*] --&gt; prepare_doc state "  " as check_doc prepare_doc --&gt; check_doc : _user_cog <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>  check_doc --&gt; prepare_doc : _user_check <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>  state " " as ready_doc check_doc --&gt; ready_doc: _user_check <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>   <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>&lt;U+00AB&gt;&lt;U+00BB&gt;</code> </pre> <br><img src="https://habrastorage.org/webt/3c/or/o8/3coro8gvu8_7grt9gpxywdff1fq.png"><br><p>  Certaines ic√¥nes sont int√©gr√©es directement dans PlantUML, mais je pr√©f√®re utiliser des biblioth√®ques externes.  En particulier, les ic√¥nes de cet exemple sont contenues dans la biblioth√®que Awesome v5, et au moment de la r√©daction de l'article actuel (version 1.2018.08), seule la biblioth√®que Awesome v4 est int√©gr√©e √† PlantUML. </p><br><h4 id="ispolzovanie-kavychek">  Utiliser des guillemets </h4><br><p>  Cette question apparemment simple s'est av√©r√©e presque bloquante pour moi d'utiliser PlantUML.  L'absence de citations semble peu professionnelle et dr√¥le. </p><br><p>  PlantUML prend en charge de nombreuses fa√ßons d'utiliser les guillemets.  Mais √† la suite des recherches, je n'ai trouv√© qu'un seul qui fonctionne toujours, bon vieux rebut: pour ouvrir les guillemets russes - &lt;U + 00AB&gt;, pour fermer les guillemets - &lt;U + 00BB&gt;, pour les guillemets universels - &lt;U + 0022&gt;. </p><br><h3 id="kak-ne-zaputatsya-v-diagramme">  Comment ne pas se perdre dans le diagramme </h3><br><p>  La syntaxe dans le diagramme d'activit√© est si pratique qu'il est difficile de se confondre car  cela ressemble plus √† une description d'un algorithme qu'√† une description d'un diagramme.  Mais ici, dans d'autres diagrammes: √©tats, composants, d√©ploiement, cas d'utilisation, classes et autres, il est assez facile de se confondre. </p><br><p>  Deux r√®gles simples m'aident √† ne pas me confondre. </p><br><ol><li><p>  Saisissez tous les √©l√©ments √† l'aide de mots cl√©s (n'utilisez pas de syntaxe simplifi√©e).  Si l'√©l√©ment le permet, d√©finissez-lui un alias. </p><br></li><li><p>  Indiquez la relation imm√©diatement apr√®s l'√©l√©ment (bien s√ªr, si l'√©l√©ment associ√© est d√©j√† pr√©sent sur le diagramme).  Le fait est qu'un √©l√©ment est toujours facile √† trouver dans le texte.  Une connexion ne peut √™tre trouv√©e que par alias.  Si vous utilisez cette r√®gle, la connexion peut √©galement √™tre trouv√©e rapidement dans le texte. </p><br></li></ol><br><h2 id="zaklyuchenie">  Conclusion </h2><br><ol><li><p>  PlantUML n'est pas un jouet.  Il s'agit d'un outil universel de haute qualit√© avec lequel vous pouvez r√©soudre presque tous les probl√®mes li√©s √† la description des processus m√©tier et des caract√©ristiques architecturales des syst√®mes con√ßus. </p><br></li><li><p>  PlantUML a une barri√®re psychologique √† l'entr√©e: nous sommes trop habitu√©s aux √©diteurs visuels et l'utilisation de texte semble √™tre un pas en arri√®re.  Mais si, gr√¢ce √† ce recul, il s'av√®re augmenter l'efficacit√© de leur travail, pourquoi ne pas le faire? </p><br></li><li><p>  PlantUML a des trous dans son impl√©mentation: certaines fonctions ne fonctionnent que pour une partie des diagrammes ou des primitives graphiques.  Cependant, dans la pratique, ces restrictions peuvent toujours √™tre contourn√©es.  PlantUML est un produit mature et stable sur lequel vous pouvez compter pleinement dans votre travail, sans avoir peur qu'il ruine le graphique ou d√©forme la police ou ne jette un autre probl√®me qui entra√Ænera une nuit blanche avant de passer √† l'√©tape suivante du projet. </p><br></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr416077/">https://habr.com/ru/post/fr416077/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr416067/index.html">Pr√©sentation de la vuln√©rabilit√© de Mikrotik Winbox. Ou un gros fichier</a></li>
<li><a href="../fr416069/index.html">Migration de donn√©es ElasticSearch sans perte</a></li>
<li><a href="../fr416071/index.html">R√©seaux de neurones, principes fondamentaux de fonctionnement, diversit√© et topologie</a></li>
<li><a href="../fr416073/index.html">Un robot de trading de crypto-monnaie simple</a></li>
<li><a href="../fr416075/index.html">Le FSB veut introduire la responsabilit√© de l'utilisation cach√©e des enregistreurs vocaux et des cam√©ras dans les smartphones [et pas seulement]</a></li>
<li><a href="../fr416079/index.html">Corona Native pour Android - utilisation de code Java personnalis√© dans un jeu √©crit en Corona</a></li>
<li><a href="../fr416081/index.html">Quelque chose ne va toujours pas avec le retour √† Habr</a></li>
<li><a href="../fr416083/index.html">Mes r√®gles d'efficacit√©: travailler avec des t√¢ches, des projets, des livres et des notes</a></li>
<li><a href="../fr416087/index.html">Collecte des statistiques du proxy MTProto</a></li>
<li><a href="../fr416089/index.html">Comment nous avons entretenu une alimentation sans coupure dynamique diesel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>