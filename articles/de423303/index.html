<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßòüèæ ü§∞üèª üñêüèª KI, praktischer Kurs. Emotionsbasierte Musiktransformation üêì üë®‚Äçüíº üíâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dies ist ein weiterer Artikel in einer Reihe von Schulungsartikeln f√ºr Entwickler auf dem Gebiet der k√ºnstlichen Intelligenz. In fr√ºheren Artikeln hab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>KI, praktischer Kurs. Emotionsbasierte Musiktransformation</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intel/blog/423303/"><img src="https://habrastorage.org/webt/uw/8j/jx/uw8jjx68eugeafuymvummauetrg.jpeg"><br><br>  Dies ist ein weiterer Artikel in einer Reihe von Schulungsartikeln f√ºr Entwickler auf dem Gebiet der k√ºnstlichen Intelligenz.  In fr√ºheren Artikeln haben wir die Sammlung und Aufbereitung von Daten mit Bildern untersucht. In diesem Artikel werden wir die Diskussion √ºber die Sammlung und Untersuchung von Musikdaten fortsetzen. <br><br>  Der Zweck dieses Projekts ist: <br><br><ul><li>  Erstellen Sie eine Anwendung, die eine Reihe von Bildern als Eingabe akzeptiert. </li><li>  Hervorheben der emotionalen Farbgebung von Bildern. </li><li>  Empfangen der Ausgabe eines Musikst√ºcks, das die entsprechende Emotion widerspiegelt. </li></ul><br><a name="habracut"></a><br>  In diesem Projekt wird Musik generiert, die mit Hilfe von Emotionen moduliert wird, ein Algorithmus (Musikalische Transformation basierend auf Emotionen), der eine √Ñnderung der Grundmelodie entsprechend einer bestimmten Emotion und die anschlie√üende Harmonisierung und Vervollst√§ndigung der Melodie mithilfe des Deep-Learning-Modells durchf√ºhrt.  Um diese Aufgabe abzuschlie√üen, sind die folgenden Musikdatens√§tze erforderlich: <br><ul><li>  Ein Datensatz zum Erlernen des Melodienvervollst√§ndigungsalgorithmus (Bach-Ch√∂re). </li><li>  Eine Reihe beliebter Musikst√ºcke, die als Vorlagen f√ºr die Modulation von Emotionen dienen. </li></ul><br><h2>  <font color="#0071c5">Sammlung und Untersuchung eines Musikdatensatzes</font> </h2><br><h3>  <font color="#0071c5">Bach Chorales - Music21 Projekt</font> </h3><br>  Music21 ist ein Python-basiertes Toolkit f√ºr die Musikwissenschaft am Computer.  Es enth√§lt eine vollst√§ndige Sammlung von Bachs Ch√∂ren als Teil seiner gesammelten Werke.  Daher ist die Datenerfassung sehr einfach - Sie m√ºssen nur das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">music21-</a> Paket installieren (Handb√ºcher sind f√ºr macOS *, Windows * und Linux * verf√ºgbar). <br>  Nach der Installation k√∂nnen Sie mit dem folgenden Code auf die Bach-Ch√∂re zugreifen: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> music21 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> corpus <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> score <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> corpus.chorales.Iterator(numberingSystem=<span class="hljs-string"><span class="hljs-string">'bwv'</span></span>, returnType=<span class="hljs-string"><span class="hljs-string">'stream'</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-comment"><span class="hljs-comment"># do stuff with scores here</span></span></code> </pre> <br>  <i>Iteration √ºber alle Bach-Ch√∂re</i> <br><br>  Alternativ k√∂nnen Sie den folgenden Code verwenden: Er gibt eine Liste der Dateinamen f√ºr alle Bach-Ch√∂re zur√ºck, die mit der Parsing-Funktion weiterverarbeitet werden k√∂nnen: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> music21 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> corpus chorales = corpus.getBachChorales() score = corpus.parse(chorales[<span class="hljs-number"><span class="hljs-number">0</span></span>]) <span class="hljs-comment"><span class="hljs-comment"># do stuff with score</span></span></code> </pre> <br>  <i>Eine Liste aller Bach-Ch√∂re abrufen</i> <br><br><h3>  <font color="#0071c5">Datenexploration</font> </h3><br>  Nach Abschluss der Datenerfassung (in diesem Fall nach dem Zugriff darauf) besteht der n√§chste Schritt darin, die Anzeichen dieser Daten zu √ºberpr√ºfen und zu untersuchen. <br><br>  Der folgende Code zeigt die Textdarstellung einer Musikdatei an: <br><br> <code>&gt;&gt;&gt; from music21 import corpus <br> &gt;&gt;&gt; chorales = corpus.getBachChorales() <br> &gt;&gt;&gt; score = corpus.parse(chorales[0]) <br> &gt;&gt;&gt; score.show('text') <br> <br> {0.0} &lt;music21.text.TextBox "BWV 1.6 W..."&gt; <br> {0.0} &lt;music21.text.TextBox "Harmonized..."&gt; <br> {0.0} &lt;music21.text.TextBox "PDF 2004 ..."&gt; <br> {0.0} &lt;music21.metadata.Metadata object at 0x117b78f60&gt; <br> {0.0} &lt;music21.stream.Part Horn 2&gt; <br> {0.0} &lt;music21.instrument.Instrument P1: Horn 2: Instrument 7&gt; <br> {0.0} &lt;music21.stream.Measure 0 offset=0.0&gt; <br> {0.0} &lt;music21.layout.PageLayout&gt; <br> {0.0} &lt;music21.clef.TrebleClef&gt; <br> {0.0} &lt;music21.key.Key of F major&gt; <br> {0.0} &lt;music21.meter.TimeSignature 4/4&gt; <br> {0.0} &lt;music21.note.Note F&gt; <br> {1.0} &lt;music21.stream.Measure 1 offset=1.0&gt; <br> {0.0} &lt;music21.note.Note G&gt; <br> {0.5} &lt;music21.note.Note C&gt; <br> {1.0} &lt;music21.note.Note F&gt; <br> {1.5} &lt;music21.note.Note F&gt; <br> {2.0} &lt;music21.note.Note A&gt; <br> {2.5} &lt;music21.note.Note F&gt; <br> {3.0} &lt;music21.note.Note A&gt; <br> {3.5} &lt;music21.note.Note C&gt; <br> {5.0} &lt;music21.stream.Measure 2 offset=5.0&gt; <br> {0.0} &lt;music21.note.Note F&gt; <br> {0.25} &lt;music21.note.Note B-&gt; <br> {0.5} &lt;music21.note.Note A&gt; <br> {0.75} &lt;music21.note.Note G&gt; <br> {1.0} &lt;music21.note.Note F&gt; <br> {1.5} &lt;music21.note.Note G&gt; <br> {2.0} &lt;music21.note.Note A&gt; <br> {3.0} &lt;music21.note.Note A&gt; <br> {9.0} &lt;music21.stream.Measure 3 offset=9.0&gt; <br> {0.0} &lt;music21.note.Note F&gt; <br> {0.5} &lt;music21.note.Note G&gt; <br> . <br> . <br> . <br> <br> &gt;&gt;&gt; print(score) <br> &lt;music21.stream.Score 0x10bf4d828&gt;</code> <br>  <i>Textdarstellung des Chors</i> <br><br>  Oben sehen Sie die Textdarstellung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Chors</a> als Objekt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">music21.stream</a> .Score.  Es ist interessant zu erfahren, wie music21 Musik im Code darstellt, aber es ist nicht sehr n√ºtzlich, um wichtige Datenattribute zu untersuchen.  Daher ben√∂tigen wir eine Software, die die Punktzahl anzeigen kann. <br><br>  Wie bereits im Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einrichten des Modells und der Hyperparameter zum Erkennen von Emotionen in Bildern erw√§hnt</a> , wird die Partitur in music21 in MusicXML * -Dateien (mit den Erweiterungen .xml oder .mxl) gespeichert.  Um diese Dateien in Notenschrift anzuzeigen, wird die kostenlose Anwendung Finale NotePad * 2 verwendet (Testversion des professionellen Pakets Finale * f√ºr die Arbeit mit Notenschrift).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Finale NotePad ist</a> f√ºr Mac und Windows verf√ºgbar.  F√ºhren Sie nach dem Herunterladen von Finale Notepad den folgenden Code aus, um music21 f√ºr die Verwendung mit Finale Notepad zu konfigurieren: <br><br> <code>&gt;&gt;&gt; import music21 <br> &gt;&gt;&gt; music21.configure.run()</code> <br> <br>  Jetzt k√∂nnen wir den obigen Code ausf√ºhren, aber das Fragment <i>score.show ()</i> anstelle von <i>score.show ('text') verwenden</i> .  In diesem Fall wird die MusicXML-Datei in der Finale-Anwendung ge√∂ffnet, die ungef√§hr so ‚Äã‚Äãaussieht: <br><br><img src="https://habrastorage.org/webt/qb/q1/gd/qbq1gd78vomvj4dtzilgrjyim8e.jpeg"><br>  <i>Bachs erste Seite in Notenschrift</i> <br><br>  Dieses Format bietet eine klarere visuelle Darstellung f√ºr Ch√∂re.  Bei der Pr√ºfung mehrerer Ch√∂re stellen wir sicher, dass die Daten unseren Erwartungen entsprechen: Dies sind kurze Musikst√ºcke mit mindestens vier Stimmen (Sopran, Bratsche, Tenor und Bass), die durch Bauernh√∂fe in separate Phrasen unterteilt werden. <br><br>  In der Regel werden bestimmte deskriptive Statistiken im Rahmen des Datenstudienverfahrens berechnet.  In diesem Fall k√∂nnen wir bestimmen, wie oft jeder Schl√ºssel in den gesammelten Werken erscheint.  Das folgende Beispiel zeigt einen Code, mit dem Sie die Nutzungsbewertung jedes Schl√ºssels in einem Datensatz berechnen und visualisieren k√∂nnen. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> music21 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt chorales = corpus.getBachChorales() dict = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> chorale <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> chorales: score = corpus.parse(chorale) key = score.analyze(<span class="hljs-string"><span class="hljs-string">'key'</span></span>).tonicPitchNameWithCase dict[key] = dict[key] + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dict.keys() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> ind = [i <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(dict))] fig, ax = plt.subplots() ax.bar(ind, dict.values()) ax.set_title(<span class="hljs-string"><span class="hljs-string">'Frequency of Each Key'</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">'Frequency'</span></span>) plt.xticks(ind, dict.keys(), rotation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>) plt.show()</code> </pre> <br><img src="https://habrastorage.org/webt/ng/98/7f/ng987fslbsim1uozhklangge9f4.jpeg"><br>  <i>H√§ufigkeit der Verwendung jedes Schl√ºssels in gesammelten Werken.</i>  <i>Kleinere Tasten werden durch Kleinbuchstaben und Haupttasten durch Kleinbuchstaben dargestellt.</i>  <i>Wohnungen sind mit einem "-" gekennzeichnet</i> <br><br>  Nachfolgend finden Sie einige Statistiken zu den gesammelten Werken. <br><br><img src="https://habrastorage.org/webt/lo/gy/9l/logy9ll6qwagckyiptkpbpyypt0.jpeg"><br>  <i>Die Verteilung der verwendeten Schl√ºssel in einer Reihe von Kompositionen</i> <br><br><img src="https://habrastorage.org/webt/i4/28/hj/i428hj1q-r_sqqmbz0cjxtn5mi0.png"><br>  <i>Position der Schuldverschreibungen, berechnet als Versatz vom Beginn der Kennzahl in Viertelnoten</i> <br><br>  Beschreibende Statistiken, die f√ºr die Berechnung von Interesse sind, variieren f√ºr jedes Projekt.  In den meisten F√§llen k√∂nnen Sie jedoch herausfinden, mit welcher Art von Daten Sie arbeiten, und sogar bestimmte Aktionen w√§hrend der Datenvorverarbeitung verwalten.  Diese Statistiken k√∂nnen auch als Ausgangspunkt f√ºr die Pr√ºfung der Ergebnisse der Datenvorverarbeitung dienen. <br><br><h2>  <font color="#0071c5">Musikalische Transformation - Theoretische Information</font> </h2><br>  Es gibt zwei Hauptausdruckstr√§ger in der Musik - Tonh√∂he und Rhythmus.  Wir verwenden diese Ausdrucksmedien als Parameter, um unsere Melodie in der gew√§hlten Stimmung neu zu schreiben. <br><br>  In der Musiktheorie ist das Verh√§ltnis der H√∂hen zwischen den Noten impliziert, wenn es um die Tonh√∂he einer Melodie geht.  Ein Musiknotensystem, das auf einer Folge von Kl√§ngen einer bestimmten Tonh√∂he basiert, wird als Skala bezeichnet.  Die Intervalle oder das Ma√ü der Breite jedes Schritts der Sequenz k√∂nnen sich voneinander unterscheiden.  Ein solcher Unterschied oder seine Abwesenheit schafft eine Beziehung zwischen T√∂nen und melodischen Tendenzen, in denen stabile Kombinationen und Gravitationen einen Ausdruck der Stimmung erzeugen.  In der westlichen Musiktradition wird bei einer einfachen diatonischen Tonleiter die Position der Note relativ zur ersten Note der Tonleiter als <i>Stufe der Tonleiter bezeichnet</i> (I-II-III-IV-V-VI-VII).  In √úbereinstimmung mit stabilen Kombinationen und Gravitationen liefert die Skala der Skala einen Musikton, der seine Funktion im System erf√ºllt.  Dies macht die Vorstellung einer Skalenstufe sehr n√ºtzlich, um ein einfaches melodisches Muster zu analysieren und es mit der M√∂glichkeit zu codieren, unterschiedliche Werte zuzuweisen. <br><br>  Auf der ersten Ebene m√ºssen wir die Skalen ausw√§hlen, die aus k√ºnstlerischer Sicht geeignet sind, um eine bestimmte Stimmung zu erzeugen.  Wenn wir also die Stimmung der Melodie √§ndern m√ºssen, sollten wir ihre Funktionsstruktur anhand des beschriebenen Begriffs der Skala untersuchen und dann der vorhandenen Vorlage aus den Schritten der Skala neue Werte zuweisen.  Wie die Karte enth√§lt auch diese Vorlage Informationen zu den Richtungen und Perioden in der Melodie. <br><br>  F√ºr jede spezifische Stimmung verwenden wir einige zus√§tzliche Parameter, um unsere neuen Melodien ausdrucksvoller, harmonischer und ausdrucksvoller zu machen. <br><br>  Rhythmus ist eine M√∂glichkeit, Kl√§nge rechtzeitig zu organisieren.  Es enth√§lt Informationen wie: die Reihenfolge des Auftretens von T√∂nen in der Melodie, ihre relative L√§nge, Pausen zwischen ihnen und verschiedene Akzente.  Somit werden Zeitr√§ume geschaffen, um die musikalische Gr√∂√üe zu strukturieren.  Wenn wir das urspr√ºngliche melodische Muster beibehalten m√ºssen, sollten wir seine rhythmische Struktur beibehalten.  Um dieses Ziel zu erreichen, m√ºssen nur einige Rhythmusparameter ge√§ndert werden - die L√§nge der Noten und Pausen - und dies sollte aus k√ºnstlerischer Sicht ausreichen.  Um unsere modifizierte Melodie ausdrucksvoller zu machen, k√∂nnen wir einige zus√§tzliche Methoden anwenden, um ihre Stimmung zu betonen. <br><br>  Zum Beispiel kann ANGST mit einer Moll-Taste und einem energischeren Rhythmus ausgedr√ºckt werden.  Die Vorlage f√ºr unsere urspr√ºngliche Skala lautet wie folgt: VV-VI-VI-VII VV-VI-V-II-I VVV (√úbergang eine Oktave h√∂her) -III-I-VII-VI IV-IV-III-I-II-I . <br><br><img src="https://habrastorage.org/webt/fz/dk/jn/fzdkjn1h4l3zc5mizwbhrtnkkxe.png"><br>  <i>Quellvorlage</i> <br><br>  Die Originalmelodie ist in einer Dur-Tonart geschrieben, die sich von einer Moll-Tonart in drei Noten unterscheidet - in einer Dur-Tonart der Stufen III, VI und VII sind Dur (ein Halbton oben) und in einer Moll-Tonart - Moll (ein Halbton unten).  Wenn wir also die verwendete Tonalit√§t √§ndern m√ºssen, m√ºssen wir nur die h√∂heren Schritte durch die niedrigeren ersetzen (oder umgekehrt).  Um jedoch einen noch deutlicheren Effekt der Angst zu erzeugen, ist es notwendig, das VII-Stadium eines gro√üen (erh√∂hten) zu verlassen - dies erh√∂ht die Instabilit√§t dieses Tons und betont unsere Skala auf besondere Weise. <br><br>  Um den Rhythmus energetischer zu gestalten, k√∂nnen wir eine Synkope oder eine synkopische Unterbrechung der regul√§ren Rhythmusbewegung hinzuf√ºgen, indem wir die Position einiger Noten √§ndern.  In diesem Fall werden wir einige √§hnliche Noten einen Schlag vorw√§rts bewegen. <br><br><img src="https://habrastorage.org/webt/k9/ca/lf/k9calfijffankvpiqrhjdwxpklq.png"><br>  <i>Bekehrungsangst</i> <br><br>  Traurigkeit kann auch mit einer einfachen Moll-Tonart ausgedr√ºckt werden, aber ihr Rhythmus sollte ruhig sein.  Also ersetzen wir die Hauptschritte durch Nebenschritte, einschlie√ülich des VII-Schritts.  Um den Rhythmus ruhiger zu machen, m√ºssen Sie die Pausen ausf√ºllen, indem Sie die L√§nge der Noten vor ihnen erh√∂hen. <br><br><img src="https://habrastorage.org/webt/op/k4/hq/opk4hqsvdmkqmrij8ky26au6gda.png"><br>  <i>Konvertierung SAD</i> <br><br>  Um Segen auszudr√ºcken, sollten wir entscheidende und strenge Intonationen vermeiden - dies wird das Prinzip der entsprechenden Transformation sein.  Wie Sie sehen k√∂nnen, haben die Schritte der Skala entsprechend den Unterschieden in der Reihenfolge der verwendeten T√∂ne unterschiedliche Bedeutungen und den Abstand vom ersten (I) Schritt.  Somit entsteht ihre Bedeutung im Gesamtbild.  Daher ist die Bewegung von der IV-Stufe zur I-Stufe aufgrund ihrer Funktion sehr einfach.  Die Intonation beim √úbergang von der V-Stufe zur I-Stufe klingt ebenfalls sehr einfach.  Wir werden diese beiden Intonationen vermeiden, um einen Eindruck von Raum und Unsicherheit zu erzeugen. <br><br>  Daher werden wir in jedem Element der Vorlage, in dem Stufe I Stufe V oder Stufe IV Stufe IV folgt, und auch in umgekehrter Reihenfolge dieser Schritte eine dieser Noten (oder beide Noten) durch die ihnen am n√§chsten liegenden Schritte ersetzen.  Sie k√∂nnen den Rhythmus √§hnlich wie bei GRUSH √§ndern, indem Sie einfach das Tempo verringern. <br><br><img src="https://habrastorage.org/webt/ke/uv/be/keuvbebvzgcssrx7xlwrnx2igds.png"><br>  <i>BLESS umwandeln</i> <br><br>  ENTSCHEIDUNG ist mit kraftvoller Bewegung verbunden. Der einfachste Weg, dies zu zeigen, besteht darin, den Rhythmus auf √§hnliche Weise wie f√ºr den ANXIETY-Effekt zu √§ndern.  Es ist auch notwendig, die Dauer aller Noten mit Ausnahme jeder letzten Note jeder Periode, VV-VI-VI-VII, VV-VI-V-II-I, zu verk√ºrzen. <br><br><img src="https://habrastorage.org/webt/o8/si/ro/o8siroxq5a254hfedjcj1iue5ey.png"><br>  <i>Transformation ENTSCHEIDUNG</i> <br><br>  Die Haupttaste an sich klingt positiv und freudig. Um jedoch GL√úCK / FREUDE hervorzuheben und auszudr√ºcken, verwenden wir die Haupt-Pentatonik.  Es besteht aus denselben Schritten, mit Ausnahme von zwei davon - dem vierten und siebten, I-II-III-V-VI. <br><br>  Daher ersetzen wir diese beiden Schritte jedes Mal, wenn wir sie in unserer Vorlage finden, durch die Schritte, die ihnen am n√§chsten liegen.  Um die Einfachheit unserer Tonalit√§t hervorzuheben, verwenden wir ein absteigendes melodisches Fragment, das aus f√ºnf oder mehr Noten besteht, als schrittweise Demonstration unserer Skala. <br><br><img src="https://habrastorage.org/webt/0b/wv/vh/0bwvvhdmhjiml19y-0c2ovf6yn4.png"><br>  <i>FREUDE konvertieren</i> <br><br>  Ruhe / Gelassenheit kann nicht nur durch √Ñndern der Tonalit√§t ausgedr√ºckt werden, sondern erfordert auch die Transformation der melodischen Bewegung.  Dazu m√ºssen Sie die Quellvorlage analysieren und √§hnliche Segmente darin ausw√§hlen.  Die erste Note jedes Segments bestimmt den harmonischen Kontext der gesamten Phrase, daher sind diese Noten f√ºr uns von gr√∂√ütem Wert: <b>V</b> - <b>V</b> - VI-VI-VII-VII <b>V-</b> V-VI-V-II-I <b>V-</b> VV-III-I-VII-VI IV-IV-III-I-II-I. <br><br>  F√ºr das erste Segment sollten nur die folgenden Schritte verwendet werden: IV-VI-VII;  f√ºr das zweite: V-VII-II-I;  f√ºr den dritten: VI-VII-III-II;  f√ºr den vierten: VII-IV-I-VII. <br><br>  Diese m√∂glichen Schritte sind eigentlich eine andere Art von Musikstruktur, Akkorde.  Wir k√∂nnen sie jedoch weiterhin als System zum Konvertieren von Melodien verwenden.  Die Schritte der Skala k√∂nnen durch die Schritte ersetzt werden, die ihnen aus den angegebenen Akkordmustern am n√§chsten liegen.  Wenn das gesamte Segment mit einem Ton beginnt, der niedriger als das Original ist, m√ºssen alle darin enthaltenen Schritte durch die unteren Schritte ersetzt werden, die in der angegebenen Vorlage verf√ºgbar sind.  Um einen Verz√∂gerungseffekt zu erzielen, ist es auch erforderlich, die Dauer jeder Note in Achtelnoten zu unterteilen und die Geschwindigkeit dieser neuen Achtelnoten schrittweise zu verringern. <br><br><img src="https://habrastorage.org/webt/05/ia/jp/05iajpxyhk1ft08pz74zrk4hfgq.png"><br>  <i>Conversion Tranquility / Tranquility</i> <br><br>  Um GRATITUDE hervorzuheben, muss die stilistische Darstellung im Rhythmus verwendet werden, um den Arpeggio-Effekt zu erzielen: Wir kehren zur ersten Note am Ende jedes Segments (Phrase) zur√ºck.  Es ist notwendig, die Dauer jeder letzten Note in einem Segment zu halbieren und die erste Note dieses Segments dort zu platzieren. <br><br><img src="https://habrastorage.org/webt/8z/wu/4e/8zwu4ezo9nzzcbuubagzeintiha.png"><br>  <i>Conversion GRATITUDE</i> <br><br><h2>  <font color="#0071c5">Praktischer Teil</font> </h2><br><h3>  <font color="#0071c5">Python- und music21-Toolkit</font> </h3><br>  Das Transformationsskript wurde mit der Python-Sprache und dem music21-Toolkit implementiert. <br><br>  Music21 ist eine sehr vielseitige und hochrangige Klasse zum Bearbeiten von Musikkonzepten wie Noten, Gr√∂√üe, Akkord, Tonalit√§t usw. Sie erm√∂glicht es, Operationen direkt im Themenbereich auszuf√ºhren, im Gegensatz zu Manipulationen auf niedriger Ebene mit Rohdaten aus einer Datei Digital Music Instrument Interface (MIDI).  Die direkte Arbeit mit MIDI-Dateien in music21 ist jedoch nicht immer bequem, insbesondere wenn es um die Visualisierung der Partitur geht.  Zur Visualisierung und Implementierung des Algorithmus besteht daher eine bequemere M√∂glichkeit darin, die Quell-MIDI-Dateien in das musicXML-Format zu konvertieren.  Dar√ºber hinaus ist das musicXML-Format das Eingabeformat f√ºr BachBot, das den n√§chsten Schritt in unserer Verarbeitungssequenz darstellt. <br>  Die Konvertierung kann mit Musescore erfolgen: <br>  So erhalten Sie die Ausgabe der musicXML-Datei: <br><br> <code>musescore input.mid -o output.xml</code> <br>  So erhalten Sie die Ausgabe einer MIDI-Datei: <br><br> <code>musescore input.mid -o output.mid</code> <br> <br><h3>  <font color="#0071c5">Jupyter</font> </h3><br>  Das music21 Toolkit ist gut in die Jupyter App integriert.  Dar√ºber hinaus k√∂nnen Sie durch die Integration in Musescore die Partitur direkt im Jupyter-Notizbuchdokument anzeigen und die Ergebnisse w√§hrend der Entwicklung und des Experimentierens √ºber den integrierten Player anh√∂ren. <br><br><img src="https://habrastorage.org/webt/yc/zh/ta/yczhtaio9hcodjurkoqwxjtzuvk.png"><br>  <i>Jupyter-Notizbuchdokument mit Code, Punktzahl und Spieler</i> <br><br>  Die Funktion Score Show ist besonders n√ºtzlich f√ºr die Teamarbeit eines Programmierers und eines Musiktheoretikers.  Die Kombination aus Jupyters interaktivem Charakter, musikspezifischem Bereich21 und der Einfachheit von Python macht diesen Workflow f√ºr diese Art der interdisziplin√§ren Forschung besonders vielversprechend. <br><br><h3>  <font color="#0071c5">Implementierung</font> </h3><br>  Das Transformationsskript wurde als Python-Modul implementiert, sodass ein direkter Aufruf m√∂glich ist: <br><br> <code>python3 emotransform.py --emotion JOY input.mid</code> <br>  Oder Sie k√∂nnen es √ºber ein externes Skript (oder Jupyter) aufrufen: <br><br> <code>from emotransform import transform transform('input.mid','JOY')</code> <br>  In beiden F√§llen ist das Ergebnis der Arbeit eine Datei, die mit Hilfe einer bestimmten Emotion moduliert wird. <br><br>  Die Transformationen, die mit √Ñnderungen der Musikschritte verbunden sind - ANGST, TRAURIGKEIT, SEGNUNG und FREUDE - basieren auf der Verwendung der Funktion music21.Note.transpose in Kombination mit einer Analyse der aktuellen und erforderlichen Position der Musikschritte.  Hier verwenden wir das Modul music21.scale und seine Funktionen, um aus jedem Tonikum die erforderliche Skala zu erstellen.  Um das Tonikum einer bestimmten Melodie zu erhalten, k√∂nnen Sie <i>die Analysefunktion ('key')</i> des music21.Stream7-Moduls verwenden. <br><br>  F√ºr phrasenbasierte Konvertierungen - ENTSCHEIDUNG, DANKBARKEIT, Ruhe / Beschaulichkeit - sind zus√§tzliche Untersuchungen erforderlich.  Diese Studie wird es uns erm√∂glichen, den Anfang und das Ende von Musikphrasen genau zu erkennen. <br><br><h2>  <font color="#0071c5">Fazit</font> </h2><br>  In diesem Artikel haben wir die Hauptidee vorgestellt, die der musikalischen Transformation auf der Grundlage von Emotionen zugrunde liegt - das √Ñndern der Position einer einzelnen Note in der Tonleiter relativ zum Tonikum (musikalischer Schritt), dem Tempo des St√ºcks sowie der musikalischen Phrase.  Diese Idee wurde als Skript in Python implementiert.  Die Umsetzung theoretischer Ideen in der realen Welt ist jedoch nicht immer einfach. Daher stie√üen wir auf einige Schwierigkeiten und identifizierten m√∂gliche Richtungen f√ºr die zuk√ºnftige Forschung.  Diese Studie befasst sich haupts√§chlich mit der Erkennung musikalischer Phrasen und ihrer Transformationen.  Die richtige Wahl der Instrumente (Musik21) und die Forschung auf dem Gebiet der Musikinformation sind Schl√ºsselfaktoren f√ºr die L√∂sung solcher Probleme. <br><br>  Die auf Emotionen basierende musikalische Transformation stellt die erste Stufe unserer Sequenz der Verarbeitung von Musikdaten dar. Die n√§chste Stufe ist die √úbermittlung der konvertierten und vorbereiteten Melodie an den Eingang von BachBot. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de423303/">https://habr.com/ru/post/de423303/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de423291/index.html">Die Russen stellten einen Rekord auf: 110 Raubkopien pro Person</a></li>
<li><a href="../de423293/index.html">Wie man sich nicht mit einer Zustandsmaschine ins Bein schie√üt</a></li>
<li><a href="../de423295/index.html">N√ºtzlichste Konferenz f√ºr mobile Entwicklung</a></li>
<li><a href="../de423297/index.html">Vom Android-Entwickler zu DevOps</a></li>
<li><a href="../de423299/index.html">Anwendungskoordinator in iOS-Apps</a></li>
<li><a href="../de423305/index.html">Leistung ruinieren</a></li>
<li><a href="../de423307/index.html">GitHub-Pull-Anforderungen in Visual Studio-Code</a></li>
<li><a href="../de423309/index.html">DBMS-Transaktionen</a></li>
<li><a href="../de423311/index.html">Partnerschaft Naviaddress und ACTUM</a></li>
<li><a href="../de423313/index.html">Ber√ºhren Sie das I2C. Machen Sie einen einfachen Logikanalysator</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>