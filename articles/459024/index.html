<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤸 💕 🎀 Cómo atravesamos el Gran Cortafuegos chino (parte 3) 🏂🏿 ⛹️ 🆔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola 
 Cualquier buena historia termina. Y nuestra historia sobre cómo se nos ocurrió una solución al rápido paso del Firewall chino no es una excepci...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cómo atravesamos el Gran Cortafuegos chino (parte 3)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/semrush/blog/459024/"><p>  Hola <br>  Cualquier buena historia termina.  Y nuestra historia sobre cómo se nos ocurrió una solución al rápido paso del Firewall chino no es una excepción.  Por lo tanto, me apresuro a compartir con ustedes la última <strong>parte final</strong> sobre este tema. </p><br><p>  En la parte anterior, hablamos sobre muchos bancos de pruebas inventados por nosotros y qué resultados dieron.  ¡Y nos decidimos por el hecho de que sería bueno agregar un <strong>CDN!</strong>  <s>para viscosidad</s> en nuestro circuito. </p><br><p>  Te diré cómo probamos Alibaba Cloud CDN, Tencent Cloud CDN y Akamai, y con qué terminé.  Y, por supuesto, para resumir. </p><br><img src="https://habrastorage.org/webt/8n/xq/ur/8nxqurgug_z7ij3eqorfl5hdm0y.png"><a name="habracut"></a><br><h2 id="alibaba-cloud-cdn">  Alibaba Cloud CDN </h2><br><p>  Estamos alojados en Alibaba Cloud, usamos IPSEC y CEN de ellos.  Sería lógico probar sus soluciones primero. </p><br><p>  Alibaba Cloud tiene dos tipos de productos que pueden ser adecuados para nosotros: <strong>CDN</strong> y <strong>DCDN</strong> .  La primera opción es un CDN clásico para un dominio específico (subdominio).  La segunda opción es <em>Dynamic Route para CDN</em> (lo llamo Dynamic CDN), se puede activar en modo de sitio completo (para dominios comodín), también almacena en caché las estadísticas y acelera el contenido dinámico en sí mismo, es decir, la dinámica de la página también se cargará rápidamente proveedor de red.  Esto es importante para nosotros, porque básicamente nuestro sitio es dinámico, utiliza muchos subdominios y es más conveniente configurar CDN una vez para la "estrella" - * .semrushchina.cn. </p><br><p>  Ya vimos este producto en las primeras etapas de nuestro proyecto chino, pero aún no funcionó, y los desarrolladores prometieron que el producto estaría disponible para todos los clientes muy pronto.  Y se hizo. </p><br><p>  En DCDN, puedes: </p><br><ul><li>  configurar la terminación SSL con su certificado, </li><li>  habilitar la aceleración de contenido dinámico, </li><li>  configurar flexiblemente el almacenamiento en caché de archivos estáticos, </li><li>  hacer purga de caché, </li><li>  tirar tomas web, </li><li>  habilite la compresión e incluso el embellecedor HTML. </li></ul><br><p>  En general, todo es como adultos y grandes proveedores de CDN. </p><br><p>  Después de que se indique Origen (el lugar donde irán los servidores <em>periféricos de</em> CDN), queda por crear un CNAME para el asterisco, que se <em>vincula</em> a <em>all.semrushchina.cn.w.kunluncan.com</em> (este CNAME se obtuvo en la consola Alibaba Cloud) y CDN funcionará </p><br><p>  Según los resultados de la prueba, este CDN nos ayudó mucho.  Las estadísticas se dan a continuación. </p><br><div class="scrollable-table"><table><thead><tr><th>  Solución </th><th>  Tiempo de actividad </th><th>  Mediana </th><th>  75 percentil </th><th>  Percentil 95 </th></tr></thead><tbody><tr><td>  Flama de nube </td><td>  86,6 </td><td>  18s </td><td>  30s </td><td>  60s </td></tr><tr><td>  IPsec </td><td>  99,79 </td><td>  18s </td><td>  21s </td><td>  30s </td></tr><tr><td>  Cen </td><td>  99,75 </td><td>  16s </td><td>  21s </td><td>  27s </td></tr><tr><td>  CEN / IPsec + GLB </td><td>  99,79 </td><td>  13s </td><td>  16s </td><td>  25s </td></tr><tr><td>  <strong>Ali CDN + CEN / IPsec + GLB</strong> </td><td>  <strong>99,75</strong> </td><td>  <strong>10s</strong> </td><td>  <strong>12.8s</strong> </td><td>  <strong>17.3s</strong> </td></tr></tbody></table></div><br><p>  Estos son muy buenos resultados, especialmente si los comparamos con las cifras al principio.  Pero sabíamos que la prueba del navegador de la versión estadounidense de nuestro sitio www.semrush.com estaba funcionando en los EE. UU. En promedio durante 8.3 segundos (un valor muy aproximado).  Hay mucho por lo que luchar.  Además, había proveedores de CDN que estaban interesados ​​en las pruebas. </p><br><p> Así que nos trasladamos sin problemas a otro gigante en el mercado chino: <strong>Tencent</strong> . </p><br><h2 id="tencent-cloud">  Nube tencent </h2><br><p>  Tencent solo está desarrollando su nube, esto es evidente en una pequeña cantidad de productos.  En el curso de su uso, queríamos probar no solo su CDN, sino también la infraestructura de red en su conjunto: </p><br><ul><li>  ¿Tienen algo similar al CEN? </li><li>  ¿Cómo funciona IPSEC para ellos?  ¿Es rápido, qué es el tiempo de actividad? </li><li>  ¿Tienen alguna difusión? </li></ul><br><img src="https://habrastorage.org/webt/jf/ci/aa/jfciaauffli76osi1qyzel6vepq.jpeg"><br><p>  Analizaremos estas preguntas por separado. </p><br><h4 id="analog-cen">  CEN analógico </h4><br><p>  Tencent tiene un producto de <strong>red de conexión en la nube</strong> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CCN</a> ) que le permite interconectar VPC de diferentes regiones, incluidas las regiones dentro y fuera de China.  El producto ahora se encuentra en la versión beta interna y debe crear un ticket con una solicitud para conectarse.  Gracias al soporte, aprendimos que las cuentas globales (no sobre ciudadanos chinos y entidades legales) no pueden participar en el programa de pruebas beta y generalmente conectan la región dentro de China con la región exterior.  1-0 a favor de Ali Cloud </p><br><h4 id="ipsec">  IPSEC </h4><br><p>  La región más meridional de Tencent es <em>Guangzhou</em> .  Construimos un túnel y lo conectamos con la región de Hong Kong en el PCG (entonces esta región ya estaba disponible).  También levantaron el segundo túnel a Ali Cloud desde Shenzhen a Hong Kong al mismo tiempo.  Resultó que a través de la red de latencia Tencent, Hong Kong es generalmente mejor (10 ms) que de Shenzhen a Hong Kong a Ali (120 ms, ¿qué?).  Pero esto no aceleró el trabajo del sitio, destinado a trabajar a través de Tencent y este túnel, lo que en sí mismo fue un hecho sorprendente y una vez más demostró lo siguiente: latencia: para China esto no es un indicador al que realmente deba prestar atención al desarrollar una solución para pasar a los chinos cortafuegos </p><br><h4 id="anycast-internet-acceleration">  Aceleración de Internet Anycast </h4><br><p>  Otro producto que le permite trabajar a través de cualquier IP de difusión es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AIA</a> .  Pero también es inaccesible para las cuentas globales, por lo que no lo contaré, pero saber que tal producto existe puede ser útil. </p><br><p>  Pero la prueba de CDN mostró resultados bastante interesantes.  La CDN de Tencent no se puede habilitar en un sitio completo, solo en dominios específicos.  Tenemos dominios y comenzamos el tráfico en ellos: </p><br><img src="https://habrastorage.org/webt/4f/hv/ca/4fhvcabi1rmeqmircvjjlv1dhpa.png"><br><p>  Resultó que este CDN tiene la siguiente función: <strong>Optimización del tráfico transfronterizo</strong> .  Esta característica debería reducir los costos cuando el tráfico fluye a través del firewall chino.  Como <em>origen</em> , se especificó la dirección IP de Google GLB (GLB anycast).  Por eso queríamos simplificar la arquitectura del proyecto. </p><br><p>  Los resultados fueron muy buenos, a nivel de Ali Cloud CDN, y en algunos lugares incluso mejores.  Esto es sorprendente, porque si las pruebas tienen éxito, puede abandonar una parte importante de la infraestructura, túneles, CEN, máquinas virtuales, etc. </p><br><p>  No estuvimos contentos por mucho tiempo, porque el problema fue revelado: las pruebas en Catchpoint falsificaron para el proveedor de Internet China Mobile.  Desde cualquier lugar, obtuvimos un tiempo de espera a través de la CDN de Tencent.  La correspondencia con el soporte técnico no condujo a nada.  Aproximadamente un día tratamos de resolver este problema, pero no surgió nada. </p><br><p>  Estaba en China en ese momento, pero no pude encontrar Wi-Fi público en la red de este proveedor para verificar el problema personalmente.  De lo contrario, todo parecía rápido y bueno. <br>  Sin embargo, debido al hecho de que China Mobile es uno de los tres operadores más grandes, nos vimos obligados a devolver el tráfico a Ali CDN. <br>  Pero en general, esta fue una solución bastante interesante, que merece más pruebas y solución de problemas de este problema. </p><br><h2 id="akamai">  Akamai </h2><br><p>  El último proveedor de CDN que probamos es <strong>Akamai</strong> .  Este es un gran proveedor que tiene su propia red en China.  Por supuesto, no pudimos superarlo. </p><br><img src="https://habrastorage.org/webt/vj/pd/am/vjpdamb4wn9kdn_1vlvepokaeb4.png"><br><p>  Desde el principio, acordamos con Akamai un período de prueba para que podamos cambiar el dominio y ver cómo funcionará en su red.  Describiré el resultado de todas las pruebas en forma de "Lo que me gustó" y "Lo que no me gustó", así como los resultados de la prueba. </p><br><p>  <strong>¿Qué te gustó?</strong> </p><br><ul><li>  Los muchachos de Akamai ayudaron mucho en todos los asuntos y nos acompañaron en todas las etapas de las pruebas.  Constantemente tratando de mejorar algo de su lado.  Dieron buenos consejos técnicos. </li><li>  Akamai funciona entre un 10 y un 15% más lento que nuestra solución a través de Ali Cloud CDN.  Es impresionante que en Origin hayamos especificado la dirección IP GLB para Akamai, es decir, el tráfico no pasó por nuestra solución (potencialmente puede abandonar parte de la infraestructura).  Pero aún así, los resultados de la prueba mostraron que esta solución es peor que nuestra versión actual (resultados comparativos a continuación). </li><li>  Probado tanto Origin GLB como Origin en China.  Ambas opciones son casi iguales. </li><li>  Hay una <em>ruta segura</em> (optimización de enrutamiento automático).  Puede alojar el objeto de prueba en Origin, y el servidor Akamai Edge intentará recogerlo (GET normal).  Para estas consultas, se miden la velocidad y otras métricas, sobre la base de las cuales la red de Akamai optimiza las rutas para que el tráfico vaya más rápido a nuestro sitio y se puede ver que la inclusión de esta característica realmente tuvo un gran efecto en la velocidad del sitio. </li><li>  La versión de la configuración en la interfaz web es genial.  Puede hacer Comparar para las versiones, ver diff.  Ver versiones anteriores. </li><li>  Puede implementar la nueva versión primero solo en la red de Akamai Staging: la misma red que la producción, solo que de esta manera no afecta a los usuarios reales.  Para esta prueba, debe falsificar registros DNS en la máquina local. </li><li>  Velocidad de descarga muy rápida a través de su red de grandes estadísticas y, aparentemente, de cualquier otro archivo.  Un archivo del caché "en frío" se toma varias veces más rápido que el mismo archivo del caché "frío" Ali CDN.  Desde el caché "activo", la velocidad ya es más o menos igual. </li></ul><br><p>  <strong>Prueba Ali CDN:</strong> </p><br><pre><code class="bash hljs">root@shenzhen1:~<span class="hljs-comment"><span class="hljs-comment"># curl -o /dev/null -w@curl_time https://en.semrushchina.cn/my_reports/build/scripts/simpleInit.js?v=1551879212 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 5757k 0 5757k 0 0 513k 0 --:--:-- 0:00:11 --:--:-- 526k time_namelookup: 0.004286 time_connect: 0.030107 time_appconnect: 0.117525 time_pretransfer: 0.117606 time_redirect: 0.000000 time_starttransfer: 0.840348 ---------- time_total: 11.208119 ---------- size_download: 5895467 Bytes speed_download: 525999.000B/s</span></span></code> </pre> <br><p>  <strong>Prueba de Akamai:</strong> </p><br><pre> <code class="bash hljs">root@shenzhen1:~<span class="hljs-comment"><span class="hljs-comment"># curl -o /dev/null -w@curl_time https://www.semrushchina.cn/my_reports/build/scripts/simpleInit.js?v=1551879212 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 5757k 0 5757k 0 0 1824k 0 --:--:-- 0:00:03 --:--:-- 1825k time_namelookup: 0.509005 time_connect: 0.528261 time_appconnect: 0.577235 time_pretransfer: 0.577324 time_redirect: 0.000000 time_starttransfer: 1.327013 ---------- time_total: 3.154850 ---------- size_download: 5895467 Bytes speed_download: 1868699.000B/s</span></span></code> </pre> <br><p>  Notamos que la situación del ejemplo anterior depende de varios factores.  En el momento de escribir esto, realicé la prueba nuevamente.  Los resultados para ambas plataformas fueron aproximadamente los mismos.  Esto nos dice que Internet en China, incluso para grandes operadores y proveedores de la nube, se comporta de manera diferente de vez en cuando. </p><br><p>  Agregaré una gran ventaja a Akamai al párrafo anterior: si Ali muestra tales destellos de alto rendimiento y muy bajo (esto se aplica a Ali CDN, Ali CEN y Ali IPSEC), entonces en Akamai cada vez, no importa cómo pruebe su red, todo Funciona de manera estable. <br>  Akamai realmente tiene mucha cobertura en China y trabaja a través de muchos proveedores. </p><br><p>  <strong>Lo que no le gustó:</strong> </p><br><ul><li>  No me gusta la interfaz web y el esquema de trabajo, estos son cero.  Pero básicamente te acostumbras (probablemente). </li><li>  Los resultados de las pruebas son peores que nuestro sitio. </li><li>  Hay más errores durante las pruebas que en nuestro sitio (tiempo de actividad a continuación). </li><li>  No hay servidores DNS en China.  Desde aquí hay muchos errores en las pruebas debido al tiempo de espera de resolución de DNS. </li><li>  No proporcione sus rangos de IP -&gt; no hay forma de registrar el <em>set_real_ip_from</em> correcto en nuestros servidores. </li></ul><br><p>  Métricas (~ 3626 ejecuciones; todas las métricas excepto Tiempo de actividad en ms; estadísticas durante un período de tiempo): </p><br><div class="scrollable-table"><table><thead><tr><th>  Proveedor de CDN </th><th>  Mediana </th><th>  75% </th><th>  95% </th><th>  Respuesta </th><th>  Respuesta a la página web </th><th>  Tiempo de actividad </th><th>  DNS </th><th>  Conectar </th><th>  Espera </th><th>  Carga </th><th>  SSL </th></tr></thead><tbody><tr><td>  Ali CDN </td><td>  9195 </td><td>  10749 </td><td>  17489 </td><td>  1,715 </td><td>  10,745 </td><td>  99,531 </td><td>  57 </td><td>  17 </td><td>  927 </td><td>  479 </td><td>  200 </td></tr><tr><td>  Akamai </td><td>  9783 </td><td>  11887 </td><td>  19888 </td><td>  2,352 </td><td>  11,550 </td><td>  98,980 </td><td>  424 </td><td>  91 91 </td><td>  1408 </td><td>  381 </td><td>  50 </td></tr></tbody></table></div><br><p>  Distribución percentil (en ms): </p><br><div class="scrollable-table"><table><thead><tr><th>  Percentil </th><th>  Akamai </th><th>  Ali CDN </th></tr></thead><tbody><tr><td>  10 </td><td>  7,092 </td><td>  6,942 </td></tr><tr><td>  20 </td><td>  7.775 </td><td>  7,583 </td></tr><tr><td>  30 </td><td>  8.446 </td><td>  8.092 </td></tr><tr><td>  40 </td><td>  9,146 </td><td>  8,596 </td></tr><tr><td>  50 </td><td>  9,783 </td><td>  9.195 </td></tr><tr><td>  60 60 </td><td>  10,497 </td><td>  9,770 </td></tr><tr><td>  70 </td><td>  11,371 </td><td>  10,383 </td></tr><tr><td>  80 </td><td>  12,670 </td><td>  11,255 </td></tr><tr><td>  90 </td><td>  15,882 </td><td>  13,165 </td></tr><tr><td>  100 </td><td>  91,592 </td><td>  91,596 </td></tr></tbody></table></div><br><p>  La conclusión es esta: la opción con Akamai es viable, pero no ofrece los mismos indicadores de estabilidad y velocidad que nuestra propia solución, junto con Ali CDN. </p><br><h2 id="malenkie-zametki">  Notas pequeñas </h2><br><p>  Algunos puntos no se incluyeron en la historia, pero también me gustaría escribir sobre ellos. </p><br><h3 id="pekin--tokio-i-gonkong">  Beijing + Tokio y Hong Kong </h3><br><p>  Como dije anteriormente, probamos el túnel IPSEC a Hong Kong (HK).  Pero también probamos CEN antes de HK.  Cuesta un poco más barato, y fue interesante cómo funcionará entre ciudades con una distancia de ~ 100 km.  Resultó ser interesante que la latencia entre estas ciudades es 100ms mayor que en nuestra versión original (para Taiwán).  La velocidad, la estabilidad también fue mejor para Taiwán.  Como resultado, dejamos HK como una región IPSEC de respaldo. </p><br><p>  Además, intentamos generar una instalación de este tipo: </p><br><ul><li>  terminación de clientes en Beijing, </li><li>  IPSEC y CEN a Tokio, </li><li>  en Ali, el CDN figuraba como el servidor de origen en Beijing. </li></ul><br><p>  Este esquema no era tan estable, aunque en términos de velocidad en general no era inferior a nuestra solución.  En cuanto al túnel, vi caídas periódicas incluso para CEN, que se suponía que era estable.  Por lo tanto, volvimos al antiguo esquema y desmantelamos esta puesta en escena. </p><br><p>  A continuación se muestran las estadísticas sobre la latencia entre diferentes regiones en diferentes canales.  Quizás alguien esté interesado en ello. </p><br><p>  <em>IPsec</em> <br>  Ali cn-beijing &lt;--&gt; PCG asia-noreste1 - 193ms <br>  Ali cn-shenzhen &lt;--&gt; GCP asia-east2 - 91ms <br>  Ali cn-shenzhen &lt;--&gt; GCP us-east4 - 200ms </p><br><p>  <em>Cen</em> <br>  Ali cn-beijing &lt;---&gt; Ali ap-noreste-1 - 54ms (!) <br>  Ali cn-shenzhen &lt;---&gt; Ali cn-hongkong - 6ms (!) <br>  Ali cn-shenzhen &lt;---&gt; Ali us-east1 - 216ms </p><br><h3 id="obschaya-informaciya-pro-internet-v-kitae">  Información general sobre Internet en China </h3><br><p>  Como una adición a los problemas con Internet, descritos al principio, en la primera parte del artículo. </p><br><ul><li>  Internet en China es bastante rápido por dentro. <br><ul><li>  La conclusión se hace sobre la base de probar redes públicas de Wi-Fi en varios lugares donde estas redes son utilizadas por una gran cantidad de personas. </li><li>  Las velocidades de descarga y carga a los servidores dentro de China fueron de alrededor de 20 Mbps y 5-10 Mbps, respectivamente. </li><li>  La velocidad de los servidores fuera de China es miserable, menos de 1 Mbps. </li></ul></li><li>  Internet en China no es muy estable. <br><ul><li>  A veces, los sitios pueden abrirse rápidamente, a veces lentamente (a la misma hora del día en días diferentes), siempre que la configuración no cambie.  Observamos esto con el ejemplo de semrushchina.cn.  Esto se puede atribuir a Ali CDN, que también funciona de esta manera y que, según la hora del día, la posición de las estrellas, etc. </li></ul></li><li>  Internet móvil está casi en todas partes 4G o 4G +.  Capturas en el metro, ascensores, en resumen, en todas partes. </li><li>  El hecho de que los usuarios chinos solo confíen en dominios en la zona .cn es un mito.  Aprendimos esto directamente de los usuarios. <br><ul><li>  Puede ver cómo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://baidu.cn</a> redirige a www.baidu.com (también en China continental). </li></ul></li><li>  Muchos recursos están realmente bloqueados.  Primitivo: google.com, Facebook, Twitter.  Pero muchos recursos de Google funcionan (por supuesto, no todas las redes Wi-Fi y VPN se usan al mismo tiempo (también en el lado del enrutador, eso es seguro). </li><li>  Muchos dominios "técnicos" de corporaciones bloqueadas también funcionan.  Esto significa que no siempre debe cortar imprudentemente todos los recursos de Google y otros recursos aparentemente bloqueados.  Debe buscar una lista de dominios prohibidos. </li><li>  Solo tienen tres proveedores principales de Internet: China Unicom, China Telecom, China Mobile.  Incluso hay otros más pequeños, pero su cuota de mercado es insignificante. </li></ul><br><h3 id="bonus-itogovaya-shema-resheniya">  Bonificación: esquema de decisión final </h3><br><img src="https://habrastorage.org/webt/jr/qe/uq/jrqeuqrsssdnjbnkp43rqjm29ro.png"><br><h2 id="itog">  Resumen </h2><br><p>  Ha pasado un año desde el inicio del proyecto.  Comenzamos diciendo que nuestro sitio, en principio, se negaba a trabajar normalmente desde China, pero simplemente el RETOCIMIENTO tardó 5.5 segundos. </p><br><p>  Luego, con dichos indicadores en la primera decisión (Cloudflare): </p><br><div class="scrollable-table"><table><thead><tr><th>  Solución </th><th>  Tiempo de actividad </th><th>  Mediana </th><th>  75 percentil </th><th>  Percentil 95 </th></tr></thead><tbody><tr><td>  Flama de nube </td><td>  86,6 </td><td>  18s </td><td>  30s </td><td>  60s </td></tr></tbody></table></div><br><p>  Como resultado, llegamos a los siguientes resultados (estadísticas del último mes): </p><br><div class="scrollable-table"><table><thead><tr><th>  Solución </th><th>  Tiempo de actividad </th><th>  Mediana </th><th>  75 percentil </th><th>  Percentil 95 </th></tr></thead><tbody><tr><td>  Ali CDN + CEN / IPsec + GLB </td><td>  99,86 </td><td>  8.8s </td><td>  9.5s </td><td>  13.7s </td></tr></tbody></table></div><br><p>  Como puede ver, el tiempo de actividad en 100% aún no se ha logrado, pero se nos ocurrirá algo y luego le informaremos sobre los resultados en un nuevo artículo :) </p><br><p>  Al que ha leído las tres partes hasta el final: respeto.  Espero que estén tan interesados ​​como yo cuando hice esto. </p><br><h3 id="ps-predyduschie-chasti">  PD Piezas anteriores </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/459024/">https://habr.com/ru/post/459024/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459012/index.html">Crear una aplicación para Bitrix24 desde cero</a></li>
<li><a href="../459014/index.html">Salir de tu zona de confort: de nodejs a dlang</a></li>
<li><a href="../459018/index.html">Tácticas de rol de escritorio</a></li>
<li><a href="../459020/index.html">Por qué DFSR no replica algunos archivos y cómo lidiar con ellos</a></li>
<li><a href="../459022/index.html">Comunicación de video ojo a ojo: intenta resolver el problema de la falta de contacto visual</a></li>
<li><a href="../459028/index.html">Asignación de memoria estática en microcontroladores.</a></li>
<li><a href="../459030/index.html">Un vistazo a la caja negra: un nuevo sistema del MIT mostrará cómo funcionan los algoritmos de aprendizaje automático</a></li>
<li><a href="../459034/index.html">Algunos consejos simples pero útiles para trabajar con getters en Vuex</a></li>
<li><a href="../459038/index.html">La guía de voz de la cámara se ha vuelto más accesible: la solución universal de seguimiento de voz SmartCam A12</a></li>
<li><a href="../459046/index.html">Cómo implementar independientemente (Prueba de existencia) en 2 pasos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>