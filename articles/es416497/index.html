<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>游녴 游뗺 游볳 Un ejemplo de c치lculo de la reacci칩n de la se침al utilizando la transformada de Fourier en MATLAB 游놈游 游땵 游뱜游</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Al resolver los problemas de transmisi칩n de datos a trav칠s de l칤neas representadas por caracter칤sticas de frecuencia, se aplican transformadas de Four...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Un ejemplo de c치lculo de la reacci칩n de la se침al utilizando la transformada de Fourier en MATLAB</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416497/">  Al resolver los problemas de transmisi칩n de datos a trav칠s de l칤neas representadas por caracter칤sticas de frecuencia, se aplican transformadas de Fourier: la transferencia de se침ales del dominio del tiempo al dominio de la frecuencia y viceversa.  El entorno MATLAB tiene un conjunto completo de funciones para resolver tales problemas.  En este trabajo, se analiza un ejemplo de c치lculo en MATLAB de la reacci칩n de una se침al transmitida a trav칠s de una l칤nea cuya caracter칤stica se mide a frecuencias que no coinciden con la frecuencia de transferencia de datos.  Espero que este ejemplo facilite la comprensi칩n de las caracter칤sticas de la tecnolog칤a de conversi칩n de se침al en el entorno MATLAB. <br><br><h3>  Condici칩n de la tarea </h3><br>  Es necesario determinar el cambio en la forma de la se침al digital binaria que pasa a trav칠s del filtro y la l칤nea de se침al.  La se침al se establece por la amplitud y la velocidad de transmisi칩n.  El filtro de segundo orden, normalizado a la frecuencia de transferencia de datos, se establece mediante constantes de tiempo.  La funci칩n de transferencia de la l칤nea de se침al est치 representada por la respuesta de frecuencia medida en forma compleja. <br><br>  El entorno utilizado para calcular y mostrar datos es MATLAB R2015a. <br>  Las siguientes relaciones publicadas en el sitio web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.StatEye.org</a> para la versi칩n del m칠todo GUI StatEye 3.0 [1, 2, 3] se tomaron como un ejemplo de los datos iniciales. <br><br>  Velocidad de datos bps = 10.3125 Gbit / s.  Las constantes de tiempo del filtro de segundo orden normalizado son las mismas; su rec칤proco es  de la frecuencia de transmisi칩n de datos.  La l칤nea de se침al est치 representada por una respuesta de frecuencia.  La caracter칤stica se midi칩 en el canal f = 0.006495: 0.0012475: 20 GHz.  El n칰mero especificado de puntos de muestreo de la transformada de Fourier: puntos = 2 ^ 13. <br><a name="habracut"></a><br>  La Figura 1 muestra los resultados de transferencia de datos, secuencia y procesamiento de datos discutidos en este documento.  La transici칩n del dominio del tiempo al dominio de la frecuencia y viceversa se realiza utilizando el algoritmo de Transformaci칩n r치pida de Fourier (FFT). <br><img src="https://habrastorage.org/webt/ex/c8/fw/exc8fwf3_bfcnnczjnoo_qdj43q.png" alt="imagen"><br>  <i>Figura 1. Canal de datos.</i>  <i>Se침al de entrada iSignal.Tx, se침al de salida del filtro iSignal.Filter_out, l칤nea de se침al de salida iSignal.Rx.</i>  <i>Las caracter칤sticas que se muestran en el diagrama se analizan a continuaci칩n.</i> <br><br><h3>  Secuencia de c치lculo </h3><br>  En este trabajo, los c치lculos principales se realizan en el dominio de la frecuencia.  Para esto, la se침al original del dominio del tiempo se transfiri칩 al dominio de la frecuencia utilizando la transformada de Fourier, al multiplicar las caracter칤sticas espectrales de la se침al, el filtro y la l칤nea de se침al, se encontr칩 la se침al de salida de la ruta, que se transfiere del dominio de la frecuencia al dominio del tiempo por la transformada inversa de Fourier. <br><br>  La velocidad de transferencia de datos es dos veces mayor que la frecuencia a la que se transmiten los datos.  La frecuencia m치xima de la l칤nea de se침al medida m치x. (Canal f) = 20 GHz.  A esta frecuencia, los datos pueden transmitirse a una velocidad de 40 Gbit / s (como 2 * m치x. (Canal f)). <br><br>  La velocidad m치xima de transferencia de datos, que no excede la velocidad m치xima de transmisi칩n en la l칤nea de se침al de 40 Gbit / sy una velocidad de transmisi칩n m칰ltiple de bps = 10.3125 Gbit / s, es fmax = 30.9375 Gbit / s, la multiplicidad N = 3 (N = fmax / bps).  Adem치s, fmax se usa como la frecuencia l칤mite para calcular la respuesta de la se침al usando la transformada de Fourier. <br><br><h3>  Traducci칩n de la se침al de entrada al dominio de frecuencia </h3><br>  Discreci칩n de tiempo para construir la se침al de entrada (bit de datos) en el dominio de tiempo Ts = 1 / fmax;  Ts = 3.232e-11 s.  Normalizada con respecto a la duraci칩n de la se침al, la escala de tiempo consta de 2 ^ 13 puntos (puntos), la escala incluye la siguiente matriz de puntos tiempo = bps / Ts. * (1: puntos).  Una se침al 칰nica discreta a una velocidad de transmisi칩n de bps = 10.3125 Gbit / sy la cuantificaci칩n con un per칤odo Ts = 1 / fmax consta de tres puntos en el rango de 10 a 11 unidades de tiempo normalizado.  Se puede construir una se침al de amplitud de unidad en cualquier otro lugar de la l칤nea de tiempo, pero es mejor retroceder desde los bordes para ver completamente el fondo y el proceso de transici칩n de la se침al de salida.  En la Figura 2 se muestra una se침al de pulso (bit de datos) construida con los siguientes comandos de MATLAB. <br><br><pre><code class="matlab hljs">iSignal.Tx(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">size</span></span>(time,<span class="hljs-number"><span class="hljs-number">2</span></span>)) = <span class="hljs-number"><span class="hljs-number">0</span></span>; t0 = <span class="hljs-built_in"><span class="hljs-built_in">max</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">find</span></span>(time&lt;=<span class="hljs-number"><span class="hljs-number">10</span></span>)); t1 = <span class="hljs-built_in"><span class="hljs-built_in">max</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">find</span></span>(time&lt;<span class="hljs-number"><span class="hljs-number">11</span></span>)); iSignal.Tx(t0:t1) = <span class="hljs-number"><span class="hljs-number">1.0</span></span>;</code> </pre> <br><img src="https://habrastorage.org/webt/qf/df/ec/qfdfec6aehsjzwgjgenqazdh82y.png" alt="imagen"><br>  <i>Figura 2. Se침al de pulso de entrada iSignal.Tx, bit de datos.</i> <br><br>  La traducci칩n de la se침al iSignal.Tx al dominio de frecuencia se realiza mediante las siguientes funciones FFT. <br><br><pre> <code class="matlab hljs">iSignal.shiftedPSD = fft(iSignal.Tx); iSignal.PSD = fftshift(iSignal.shiftedPSD);</code> </pre> <br>  La funci칩n de transformaci칩n de Fourier fft construye un espectro sim칠trico de la se침al en las regiones de frecuencias positivas y negativas, cuya frecuencia m치xima est치 en el centro del espectro (ver Figura 3).  La funci칩n fftshift restaura el espectro desplazando hacia el centro la frecuencia cero de la se침al como se muestra en la Figura 4. <br><br>  La resoluci칩n de la frecuencia del espectro es fs = fmax / puntos;  Las frecuencias del espectro var칤an de -fmax / 2 a fmax / 2-fs y son iguales a f = -fmax / 2: fs: fmax / 2-fs; <br><br><img src="https://habrastorage.org/webt/ho/8s/sb/ho8ssbopxofj9awqb5rudr9i4ks.png" alt="imagen"><br>  <i>Figura 3. Respuesta de amplitud del espectro desplazado de la se침al iSignal.Tx obtenida utilizando la FFT.</i> <br><br><img src="https://habrastorage.org/webt/gr/hn/lc/grhnlcgd4yp6lhei-wwiqw_ui0c.png" alt="imagen"><br>  <i>Figura 4. Respuesta de amplitud del espectro reconstruido de la se침al iSignal.Tx que se muestra en la Figura 3. Se presentan 2 ^ 13 muestras.</i>  <i>El recuento promedio en 4097 corresponde a la frecuencia cero.</i>  <i>Las frecuencias negativas se encuentran en el lado izquierdo (de 1 a 4096 puntos), y la regi칩n de frecuencias positivas en el lado derecho (de 4098 a 8192 puntos).</i> <br><br><h3>  Funci칩n de transferencia del filtro de paso bajo normalizado </h3><br>  En este ejemplo, la funci칩n de transferencia del filtro de segundo orden tiene la forma <br><br><img src="https://habrastorage.org/webt/bz/ov/pt/bzovptea80xq-lyjjgayndllj98.png" alt="imagen"><br>  donde T1 y T2 son constantes de tiempo de filtro.  Las frecuencias 1 / T1 son iguales y 1 / T2 se establecen en relaci칩n con la frecuencia a la que se transmiten los datos: 1 / T1 = 1 / T2 = 0.75 * bps (bps = 10.3125 Gbit / s). <br><br>  Ancho de banda de filtro normalizado <br><br><pre> <code class="matlab hljs">f_nrm =fmax/bps/points.*(-points/<span class="hljs-number"><span class="hljs-number">2</span></span>:points/<span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>).</code> </pre> <br>  Operador <br><br><pre> <code class="matlab hljs">s = f_nrm .* <span class="hljs-built_in"><span class="hljs-built_in">j</span></span>;</code> </pre> <br>  La caracter칤stica de amplitud-fase del filtro normalizado para frecuencias positivas y negativas normalizadas con respecto a la frecuencia de transmisi칩n de se침al se muestra en la Figura 5. La caracter칤stica de frecuencia de amplitud logar칤tmica del filtro se muestra en la Figura 6. <br><br><img src="https://habrastorage.org/webt/ct/32/rj/ct32rjkglsoalv2s9lq9sdc41xy.png" alt="imagen"><br>  <i>Figura 5. La caracter칤stica de fase de amplitud de un filtro normalizado.</i> <br><br><img src="https://habrastorage.org/webt/fa/zp/x5/fazpx5t-iptrisubkndxs-aizes.png" alt="imagen"><br>  <i>Figura 6. Respuesta de frecuencia de fase de amplitud logar칤tmica de un filtro normalizado.</i>  <i>La l칤nea discontinua azul muestra la posici칩n de la frecuencia del filtro con un valor de 0,75 de la frecuencia a la que se transmiten los datos.</i>  <i>A esta frecuencia (1 / T1 = 1 / T2), el coeficiente de transmisi칩n del filtro de segundo orden es -6 decibelios.</i>  <i>La l칤nea roja discontinua indica la frecuencia de la unidad a la que se transmiten los datos.</i> <br><br><h3>  Traducci칩n de los resultados de medici칩n de la l칤nea de se침al al tipo de funci칩n de transferencia </h3><br>  La caracter칤stica de fase de amplitud medida de la l칤nea de se침al incluye 1599 muestras en la banda de hasta 20 GHz con un paso fijo de 12.475 MHz.  Contiene los siguientes valores de frecuencia: channel.f = 0.006495: 0.0012475: 20 GHz.  Inicialmente, la l칤nea de se침al estaba representada por una caracter칤stica de cuatro terminales.  Esta caracter칤stica se ha transformado y se utiliza en el ejemplo como una funci칩n compleja unidimensional. <br><br>  Las frecuencias caracter칤sticas de la l칤nea de se침al obtenidas como resultado de la medici칩n no coinciden con las frecuencias del espectro de se침al de entrada que son m칰ltiplos de la frecuencia de transmisi칩n de datos.  Adem치s, el espectro de la l칤nea de se침al contiene solo frecuencias positivas y no contiene frecuencias en la regi칩n cero.  El espectro de la se침al de entrada contiene frecuencias positivas, cero y negativas. <br>  Para convertir las caracter칤sticas de la l칤nea de se침al en una funci칩n de transferencia, una caracter칤stica cuyas frecuencias coinciden con las frecuencias del espectro de la se침al de entrada, se siguen los siguientes pasos. <br><br>  1. El c치lculo de la amplitud de las caracter칤sticas de la l칤nea a frecuencia cero mediante su extrapolaci칩n.  Para esto, a partir de diez puntos de la caracter칤stica de amplitud m치s cercana a la frecuencia cero, se encuentran los coeficientes de un polinomio lineal que se aproximan a la caracter칤stica de amplitud: <br><br><pre> <code class="matlab hljs">[a] = polyfit(channel.f(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>), channel.<span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>), <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br>  El segundo coeficiente polin칩mico encontrado es igual a la amplitud de la caracter칤stica a frecuencia cero: <br><br><pre> <code class="matlab hljs">channel.dc = a(<span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  2. La respuesta de fase a frecuencia cero se toma igual a cero. <br><br><pre> <code class="matlab hljs">channel.dcPhase = <span class="hljs-number"><span class="hljs-number">0.00</span></span>;</code> </pre> <br>  3. El rec치lculo de las caracter칤sticas de amplitud channel.abs y phase channel.phase de la l칤nea de se침al con valores a frecuencia cero se realiza en la frecuencia del espectro de se침al de entrada (f = -fmax / 2: fmax / points: fmax / 2-fmax / points) con extrapolaci칩n de las caracter칤sticas a 치rea de frecuencias cero y negativas: <br><br><pre> <code class="matlab hljs">ichannel.<span class="hljs-built_in"><span class="hljs-built_in">abs</span></span> = interp1([<span class="hljs-number"><span class="hljs-number">0</span></span> channel.f], [channel.dc channel.<span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>], <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(f), <span class="hljs-string"><span class="hljs-string">'linear'</span></span>, <span class="hljs-string"><span class="hljs-string">'extrap'</span></span>); ichannel.phase = interp1([<span class="hljs-number"><span class="hljs-number">0</span></span> channel.f], [channel.dcPhase <span class="hljs-built_in"><span class="hljs-built_in">unwrap</span></span>(channel.phase)], <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(f), <span class="hljs-string"><span class="hljs-string">'linear'</span></span>, <span class="hljs-string"><span class="hljs-string">'extrap'</span></span>); ichannel.s = ichannel.<span class="hljs-built_in"><span class="hljs-built_in">abs</span></span> .* <span class="hljs-built_in"><span class="hljs-built_in">exp</span></span>(+<span class="hljs-built_in"><span class="hljs-built_in">j</span></span>.*ichannel.phase); ichannel.tf = <span class="hljs-built_in"><span class="hljs-built_in">real</span></span>(ichannel.s) + <span class="hljs-built_in"><span class="hljs-built_in">j</span></span>*<span class="hljs-built_in"><span class="hljs-built_in">imag</span></span>(ichannel.s) .* <span class="hljs-built_in"><span class="hljs-built_in">sign</span></span>(f);</code> </pre> <br>  La funci칩n de transferencia obtenida: la respuesta de frecuencia de fase de amplitud del canal en la regi칩n de baja frecuencia se muestra en la Figura 7. Las caracter칤sticas de frecuencia de amplitud de la l칤nea de se침al medida y la funci칩n de transferencia calculada en los rangos de frecuencia completos se muestran en la Figura 8. Las mismas caracter칤sticas en el espacio de fase se muestran en la Figura 9. <br><br><img src="https://habrastorage.org/webt/u0/wm/sl/u0wmslmlvtgejybmkwlmg-qwxcg.png" alt="imagen"><br>  <i>Figura 7. La funci칩n de transferencia de la l칤nea de se침al en la regi칩n de baja frecuencia.</i>  <i>Los puntos rojos y azules indican caracter칤sticas discretas de amplitud y fase, respectivamente.</i>  <i>La respuesta de amplitud se muestra en decibelios, la fase en radianes.</i>  <i>La l칤nea rosa marca la frecuencia m치s baja de la caracter칤stica medida de la l칤nea de se침al.</i>  <i>El coeficiente de transmisi칩n a frecuencia cero es 0.992.</i> <br><br><img src="https://habrastorage.org/webt/4o/q5/yd/4oq5ydmnjdijeopyumfiir0nlia.png" alt="imagen"><br>  <i>Figura 8. Respuesta de frecuencia de la l칤nea de se침al.</i>  <i>Los puntos azules indican los datos complejos de la l칤nea medida.</i>  <i>La dependencia sim칠trica calculada de la ganancia de l칤nea de se침al en las frecuencias del espectro de se침al de entrada se resalta en rojo.</i>  <i>En la regi칩n de frecuencia cero, esta caracter칤stica se muestra en la Figura 7.</i> <br><br><img src="https://habrastorage.org/webt/nx/zp/xo/nxzpxosf_rti2d2-zdny6p-qbrw.png" alt="imagen"><br>  <i>Figura 9. Caracter칤sticas de frecuencia de fase de amplitud de la l칤nea de datos medidos y su espectro normalizado.</i> <br><br><h3>  C치lculo de respuesta de se침al </h3><br>  La respuesta (respuesta al efecto de entrada) en el dominio de la frecuencia se obtiene multiplicando el espectro de la se침al por el producto de las funciones de transferencia de los elementos que relacionan la reacci칩n con la se침al de entrada.  En nuestro caso, la se침al pasa a trav칠s del filtro y la l칤nea de se침al. <br>  La transformaci칩n inversa de Fourier ifft se usa para transferir la se침al del dominio de frecuencia al dominio del tiempo. <br><br>  La salida del filtro en el dominio de tiempo iSignal.Filter_out se calcula como <br><br><pre> <code class="matlab hljs">TransFunction.PSD = iSignal.PSD .* Filter.PSD_Tx; TransFunction.shiftedPSD = ifftshift(TransFunction.PSD); iSignal.Filter_out = <span class="hljs-built_in"><span class="hljs-built_in">real</span></span>(ifft(TransFunction.shiftedPSD));</code> </pre> <br>  La se침al de salida de la l칤nea iSignal.Rx es igual al producto del espectro de la se침al de entrada y las funciones de transferencia del filtro y la l칤nea de se침al con la transferencia posterior de la se침al recibida del dominio de frecuencia al dominio del tiempo. <br><br><pre> <code class="matlab hljs">TransFunction.PSD = TransFunction.PSD .* ichannel.tf; TransFunction.shiftedPSD = ifftshift(TransFunction.PSD); iSignal.Rx = <span class="hljs-built_in"><span class="hljs-built_in">real</span></span>(ifft(TransFunction.shiftedPSD));</code> </pre> <br>  La respuesta del filtro al pulso ideal de entrada y la respuesta del canal se muestran en la Figura 10. <br><br><img src="https://habrastorage.org/webt/ta/fh/0b/tafh0btf_ayq9wcxrowembxxbdk.png" alt="imagen"><br>  <i>Figura 10. Salida de filtro (gr치fico rojo) y salida de l칤nea de datos (gr치fico verde).</i>  <i>Se침al de entrada del filtro: en la Figura 2 se muestra un pulso 칰nico. La entrada de la l칤nea de se침al es la se침al de salida del filtro.</i> <br><br><h3>  Solicitud  C칩digo m usado MATLAB </h3><br><div class="spoiler">  <b class="spoiler_title">Listado</b> <div class="spoiler_text"><pre> <code class="matlab hljs">clear all <span class="hljs-comment"><span class="hljs-comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% % Ini data %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% bps = 1.03125e+10; FilterParam = [0.75 0.75]; points = 2^13; load('channel'); N = floor(max(channel.f)*2/bps); fmax = N*bps; %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% % Signal %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% % normalise all the scales for the bit rate time = bps/fmax .* (1:points); iSignal.Tx(1:size(time,2)) = 0; t0 = max(find(time&lt;=10)); t1 = max(find(time&lt;11)); iSignal.Tx(t0:t1) = 1.0; figure plot(time(1:t1+10), iSignal.Tx(1:t1+10),'b'); hold on plot(time(1:t1+10), iSignal.Tx(1:t1+10),'xb'); grid on xlabel('Normalised Time, tick Ts = 1/fmax'); ylabel('Normalised Amplitude'); title(['Pulse, data bit']); iSignal.shiftedPSD = fft(iSignal.Tx); figure plot(abs(iSignal.shiftedPSD),'c'); grid on xlabel('points, num'); ylabel('Amplitude'); title(['abs(fft(iSignal.Tx))']); iSignal.PSD = fftshift(iSignal.shiftedPSD); figure plot(abs(iSignal.PSD),'r'); grid on xlabel('points, num'); ylabel('Amplitude'); title(['abs(fftshift(fft(iSignal.Tx)))']); %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% % Filter %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% f_nrm =fmax/bps/points.*(-points/2:points/2-1); s = f_nrm .* j; Filter_PSD = 1 ./(1 + s/FilterParam(1)) ./ (1 + s/FilterParam(2)); figure [AX,H1,H2] = plotyy (f_nrm, abs(Filter_PSD), f_nrm, phase(Filter_PSD)); hold(AX(1)); hold(AX(2)); set(H1,'LineWidth',2); grid(AX(2),'on'); xlabel('Normalised Frequency (Hz)'); set(get(AX(1),'Ylabel'),'String','Gain'); set(get(AX(2),'Ylabel'),'String','Phase, rad'); title(['Twopole filter [' sprintf(' %3.2f ', FilterParam) '] normalised to baud rate frequency']); figure plot_handles_Filter = plot(f_nrm(points/2 + 1:points), 20*log10(abs(Filter_PSD(points/2 + 1:points))), 'r', 'linewidth', 2); hold on stem_handles_br = stem(1, 20*log10(abs(Filter_PSD(max(find(f_nrm &lt; 1))))), '-.ro'); hold on stem_handles_c = stem(FilterParam, [20*log10(abs(Filter_PSD(max(find(f_nrm &lt; FilterParam(1)))))) 20*log10(abs(Filter_PSD(max(find(f_nrm &lt; FilterParam(2))))))], '-.bo'); grid legend_handles = [plot_handles_Filter, stem_handles_br(1), stem_handles_c(1)]; legend(legend_handles, 'transfer function', 'filter attenuation at normalised baud rate', 'filter attenuation at normalised cutoff frequency', 3); xlabel('Normalised Frequency (Hz)'); ylabel('Magnitude (dB)'); title(['Twopole filter [' sprintf(' %3.2f ', FilterParam) '] normalised to baud rate frequency']); %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% % Channel %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% % create negative frequencies, convert data to complex value, taking care about negative frequency channel.abs = abs(channel.s); channel.phase = angle(channel.s); %channel.s = channel.abs .* exp(+j.*channel.phase); [a] = polyfit(channel.f(1:10), channel.abs(1:10), 1); channel.dc = a(2); channel.dcPhase = 0.00; fs = fmax/points; % frequency step f = -fmax/2:fs:fmax/2-fs; % frequency matrix % create new data structure with linearly interpolated data ichannel.abs = interp1([0 channel.f], [channel.dc channel.abs], abs(f), 'linear', 'extrap'); ichannel.phase = interp1([0 channel.f], [channel.dcPhase unwrap(channel.phase)], abs(f), 'linear', 'extrap'); % correct for negative frequencies ichannel.s = ichannel.abs .* exp(+j.*ichannel.phase); ichannel.tf = real(ichannel.s) + j*imag(ichannel.s) .* sign(f); figure disp_points = 2*round(channel.f(1)/fs); stem_handles_br = stem(channel.f(1), angle(ichannel.tf(max(find(f &lt; channel.f(1))))), '-.mo'); hold on plot_abs = plot(f(points/2-disp_points:points/2+disp_points), 20*log10(abs(ichannel.tf(points/2-disp_points:points/2+disp_points))), '.r', 'linewidth', 3); hold on plot_phase = plot(f(points/2-disp_points:points/2+disp_points), angle(ichannel.tf(points/2-disp_points:points/2+disp_points)), '.b', 'linewidth', 3); grid legend_handles = [plot_abs, plot_phase, stem_handles_br(1)]; legend(legend_handles, 'absolute value (dB)', 'phase (rad)', 'min data freq', 3); xlabel('Relative Frequency (Hz)'); ylabel('Magnitude'); title(sprintf('dc extrapolation. dc trans function=%4.3f, dc phase=%4.3f rad', abs(ichannel.tf(points/2+1)), angle(ichannel.tf(points/2+1)))); figure plot(channel.f, 20*log10(channel.abs), '.r', 'linewidth', 3); hold on plot(f, 20*log10(ichannel.abs), 'g'); grid on legend('Measured Data', 'Interpolated Data', 3); xlabel('Frequency (Hz)'); ylabel('Magnitude (dB)'); title(['Chnnel interpolated Data : ']); figure plot3(channel.f, real(channel.s), imag(channel.s),'r'); hold on plot3(f, real(ichannel.tf), imag(ichannel.tf),'g'); grid on legend('Measured Data', 'Interpolated Data'); xlabel('Frequency in Hz'); ylabel('Re(fwd transfer)'); zlabel('Im(fwd transfer)'); title(['Chnnel interpolated Data : ']); %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% % Response %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% % filter Output TransFunction.PSD = iSignal.PSD .* Filter_PSD; TransFunction.shiftedPSD = ifftshift(TransFunction.PSD); iSignal.Filter_out = real(ifft(TransFunction.shiftedPSD)); % pass through channel TransFunction.PSD = TransFunction.PSD .* ichannel.tf; TransFunction.shiftedPSD = ifftshift(TransFunction.PSD); iSignal.Rx = real(ifft(TransFunction.shiftedPSD)); figure plot(time, iSignal.Filter_out,'r'); hold on [max_Tx, time_maxTx] = max(iSignal.Filter_out); [min_Tx, time_minTx] = min(iSignal.Filter_out); [max_Rx, time_maxRx] = max(iSignal.Rx); dtime_p5= round((time_maxRx - time_maxTx)*time(1) -1); plot(time - dtime_p5, iSignal.Rx,'g'); hold on plot(time, iSignal.Filter_out,'rx'); axis([(time_maxTx*time(1) - 3) (time_maxTx*time(1) + 5) (min_Tx-0.15) (max_Tx+0.1)]) grid on legend('Filter out','Rx', 2); xlabel('Normalised Time'); ylabel('Normalised Amplitude'); title(sprintf('Transmit pulse (Tx) max= %4.3f; Response (Rx) max (h0)= %4.3f', max(iSignal.Filter_out), max(iSignal.Rx)));</span></span></code> </pre><br></div></div><br><h3>  Lista bibliogr치fica </h3><br>  1. IEEE802.3ap.  Resultados de la simulaci칩n NRZ de 10.3125 Gbps utilizando "StatEye" y "Modelo de se침al a interferencia" en componentes de canal en cascada.  Shannon Sawyer y Charles Moore / Agilent Technologies.  24 de enero de 2005 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.ieee802.org/3/ap/public/jan05/sawyer_01_0105.pdf</a> <br><br>  2. Qu칠 es StatEye.  IEEE 803.3ap Task Force.  16 de septiembre de 2004 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.ieee802.org/3/ap/public/signal_adhoc/ghiasi_01_0904.pdf</a> <br><br>  3. Acuerdo de Stat Eye / IBM.  Steve Anderson  Xilinx, Inc.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.ieee802.org/3/ap/public/nov04/anderson_01_1104.pdf</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es416497/">https://habr.com/ru/post/es416497/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es416487/index.html">Radio Astron cumple 7 a침os</a></li>
<li><a href="../es416489/index.html">Vida extraterrestre: sobre la correcci칩n de la ecuaci칩n de Drake y el gran filtro</a></li>
<li><a href="../es416491/index.html">Activiti - Motor de procesos comerciales</a></li>
<li><a href="../es416493/index.html">Inicie SIIG MiniSys S286</a></li>
<li><a href="../es416495/index.html">SamsPcbGuide Parte 6: Trazar l칤neas de se침al. Modelos de p칠rdida y diafon칤a</a></li>
<li><a href="../es416501/index.html">Escr칤beme un servidor GraphQL en C #</a></li>
<li><a href="../es416505/index.html">Escribimos una m치quina virtual de pila en Rust'e</a></li>
<li><a href="../es416511/index.html">Los errores m치s comunes en su c칩digo React que usted (posiblemente) comete</a></li>
<li><a href="../es416513/index.html">El resumen de materiales interesantes para el desarrollador m칩vil # 260 (2 de julio - 8 de julio)</a></li>
<li><a href="../es416515/index.html">Valoraci칩n de art칤culos para agregar a favoritos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>