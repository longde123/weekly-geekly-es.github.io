<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§òüèº üï∫üèø üö∂üèø Otimiza√ß√£o do portf√≥lio de t√≠tulos usando ALGLIB üë¥üèΩ üôçüèº üè¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O artigo discutir√° a experi√™ncia de desenvolver um programa para criar um portf√≥lio de t√≠tulos eficaz em termos de minimizar sua dura√ß√£o . Talvez eu n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Otimiza√ß√£o do portf√≥lio de t√≠tulos usando ALGLIB</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470255/">  O artigo discutir√° a experi√™ncia de desenvolver um programa para criar um portf√≥lio de t√≠tulos eficaz em termos de minimizar sua <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dura√ß√£o</a> .  Talvez eu n√£o seja original e para todos que investem em t√≠tulos, as quest√µes de determina√ß√£o dos pesos √≥timos j√° foram resolvidas h√° muito tempo, mas ainda assim, espero que a abordagem descrita e o c√≥digo do programa fornecido sejam √∫teis para algu√©m. <br><br>  O artigo, devido √† presen√ßa de uma pequena quantidade de matem√°tica, pode parecer complicado para algu√©m.  Mas se voc√™ j√° decidiu come√ßar a investir, precisa estar preparado para o fato de que a matem√°tica √© frequentemente encontrada na realidade financeira e √© ainda mais complicada. <br><br>  O c√≥digo fonte do programa e um exemplo de portf√≥lio para otimiza√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">est√£o dispon√≠veis</a> no GitHub. <br><br>  <b>ATUALIZA√á√ÉO:</b> Conforme prometido, criou um servi√ßo da web simples que disponibiliza o programa a todos sem copiar ou compilar c√≥digo. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o link</a> <br>  Instru√ß√µes de uso no mesmo local. <br>  Se algo n√£o funcionar ou voc√™ precisar corrigir algo - escreva nos coment√°rios. <br><br>  Portanto, temos a tarefa de formar um portf√≥lio eficaz de t√≠tulos. <br><a name="habracut"></a><br><h1>  Parte 1. Determina√ß√£o da dura√ß√£o do portf√≥lio </h1><br>  Do ponto de vista da minimiza√ß√£o de riscos n√£o sist√™micos (para os quais a carteira √© diversificada), a escolha dos t√≠tulos foi realizada considerando os par√¢metros de uma determinada emiss√£o, emissor (se n√£o limitado a <abbr title="Obriga√ß√µes de empr√©stimo federais">OFZ</abbr> ), comportamento do papel etc.  (as abordagens para essa an√°lise s√£o bastante individuais para cada investidor e n√£o s√£o consideradas neste artigo). <br><br>  Depois de selecionar v√°rios t√≠tulos prefer√≠veis ao investimento, surge uma pergunta natural: quantos t√≠tulos de cada emiss√£o voc√™ precisa comprar?  Essa √© a tarefa de otimizar o portf√≥lio para que os riscos do portf√≥lio sejam m√≠nimos. <br><br>  √â natural considerar a dura√ß√£o como um par√¢metro otimizado.  Assim, a tarefa √© determinar o peso dos t√≠tulos na carteira, de modo que a dura√ß√£o da carteira seja m√≠nima para algum rendimento fixo da carteira.  Aqui voc√™ precisa fazer algumas reservas: <br><br><ol><li>  A dura√ß√£o da carteira de t√≠tulos √© determinada por seus valores mobili√°rios constituintes.  Essas dura√ß√µes s√£o conhecidas (elas s√£o de dom√≠nio p√∫blico).  A dura√ß√£o da carteira n√£o √© igual √† dura√ß√£o m√°xima dos t√≠tulos inclu√≠dos nela (existe uma fal√°cia).  A rela√ß√£o entre as dura√ß√µes dos t√≠tulos individuais e a dura√ß√£o de toda a carteira n√£o √© linear, ou seja,  n√£o √© igual √† dura√ß√£o m√©dia ponderada de seus t√≠tulos constituintes (para verificar isso, basta considerar a f√≥rmula de dura√ß√£o (veja (1) abaixo) e tentar calcular a dura√ß√£o m√©dia ponderada de um portf√≥lio condicional que consiste, por exemplo, em dois pap√©is. Substituindo a f√≥rmula de dura√ß√£o em tal express√£o de cada artigo, na sa√≠da, obtemos n√£o uma f√≥rmula para a dura√ß√£o do portf√≥lio, mas uma esp√©cie de "absurdo", com duas taxas de desconto e fluxos de caixa inconsistentes como pesos). </li><li>  Diferentemente da dura√ß√£o, o retorno do portf√≥lio depende dos retornos dos instrumentos inclu√≠dos linearmente.  I.e.  colocando dinheiro em v√°rios instrumentos com renda fixa, obteremos um retorno diretamente proporcional ao volume de investimentos em cada instrumento (e isso funciona para uma taxa complexa, e n√£o apenas para uma simples).  Verifique se isso √© ainda mais f√°cil. </li><li>  O rendimento at√© o vencimento ( <abbr title="Rendimento at√© o vencimento">YTM</abbr> ) √© usado como taxa de rendimento dos t√≠tulos.  Geralmente √© usado para calcular a dura√ß√£o.  No entanto, o rendimento at√© o vencimento de toda a carteira aqui √© bastante arbitr√°rio, pois  a maturidade de todos os t√≠tulos √© diferente.  Ao formar um portf√≥lio, esse recurso deve ser levado em considera√ß√£o no sentido de que o portf√≥lio deve ser revisto, n√£o menos do que as ferramentas de sua composi√ß√£o, saem de circula√ß√£o. </li></ol><br>  Portanto, a primeira tarefa √© o c√°lculo correto da dura√ß√£o do pr√≥prio portf√≥lio.  A maneira imediata de fazer isso √©: <i>determinar todos os pagamentos da carteira, calcular o rendimento at√© o vencimento, descontar os pagamentos, multiplicar os valores recebidos pelos termos desses pagamentos e somar.</i>  <i>Para fazer isso, voc√™ precisa combinar os calend√°rios de pagamento de todos os instrumentos em um calend√°rio de pagamento √∫nico para todo o portf√≥lio, compor uma express√£o para calcular o rendimento at√© o vencimento, calcul√°-lo, descont√°-lo para cada pagamento, multiplicar pela data de vencimento, adicionar ...</i>  Em geral, um pesadelo.  Fazer isso mesmo em dois trabalhos √© uma tarefa muito trabalhosa, sem mencionar o rec√°lculo regular do portf√≥lio no futuro.  Desta forma, n√£o nos conv√©m. <br><br>  Portanto, √© necess√°rio procurar uma oportunidade para determinar a dura√ß√£o do portf√≥lio de uma maneira diferente e mais r√°pida.  Uma op√ß√£o aceit√°vel seria aquela que permita determinar a dura√ß√£o do portf√≥lio por dura√ß√µes conhecidas do instrumento.  Estudos da f√≥rmula de dura√ß√£o mostraram que existe esse caminho e aqui eu gostaria de descrev√™-lo em detalhes (se algu√©m n√£o estiver interessado nos detalhes matem√°ticos dos c√°lculos, voc√™ pode pular com seguran√ßa alguns par√°grafos com as f√≥rmulas e seguir diretamente para o exemplo). <br><br>  A dura√ß√£o de um instrumento de d√≠vida √© definida da seguinte forma: <br><p><math> </math> $$ display $$ \ begin {equa√ß√£o} D = \ frac {\ sum_ {i} PV_i \ cdot t_i} {\ sum_ {i} PV_i} ~~~~~~~~~~~~~ (1) \ final {equa√ß√£o} $$ display $$ </p>  onde: <br><ul><li>  <i>t</i> √© o momento do i-√©simo pagamento; </li><li><math> </math> $ inline $ \ begin {equa√ß√£o} PV_i = \ frac {CF_i} {(1 + r) ^ {t_i}} \ end {equa√ß√£o} $ inline $   - i-√©simo pagamento descontado; </li><li>  <i>CF <sub>i</sub></i> - i-√©simo pagamento; </li><li>  <i>r</i> √© a taxa de desconto. </li></ul><br>  Introduzimos o coeficiente de desconto <i>k = (1 + r)</i> e consideramos o valor dos pagamentos descontados <i>P</i> em fun√ß√£o de <i>k</i> : <br><p><math> </math> $$ display $$ \ begin {equa√ß√£o} P (k) = \ sum_ {i} PV_i = \ sum_ {i} {\ frac {CF_i} {k ^ {t_i}}} ~~~~~~~~~~ ~~~~ (2) \ end {equa√ß√£o} $$ display $$ </p>  Diferenciando <i>P em</i> rela√ß√£o a <i>k,</i> obtemos <br><p><math> </math> exibi√ß√£o $$ $$ \ begin {equa√ß√£o} P '(k) = - \ sum_ {i} {t_i \ frac {CF_i} {k ^ {t_i + 1}}} = - \ frac {1} {k} \ sum_ {i} {t_i \ frac {CF_i} {k ^ {t_i}}} ~~~~~~~~~~~~~ (3) \ end {equa√ß√£o} $$ display $$ </p>  Dado este √∫ltimo, a express√£o para a dura√ß√£o do v√≠nculo assume a forma <br><p><math> </math> $$ display $$ \ begin {equa√ß√£o} D = -k \ frac {P '(k)} {P (k)} ~~~~~~~~~~~~~~ (4) \ end {equa√ß√£o} $$ display $$ </p>  Ao mesmo tempo, lembramos que, como uma taxa de desconto <i>r,</i> no caso de um t√≠tulo, √© utilizado o yield to maturity (YTM). <br><br>  A express√£o obtida √© v√°lida para um t√≠tulo, mas estamos interessados ‚Äã‚Äãem um <u>portf√≥lio de</u> t√≠tulos.  Vamos passar a determinar a dura√ß√£o do portf√≥lio. <br><br>  Introduzimos a seguinte nota√ß√£o: <br><br><ul><li>  <i>P <sub>i</sub></i> √© o pre√ßo do i-√©simo t√≠tulo; </li><li>  <i>z <sub>i</sub></i> - o n√∫mero de t√≠tulos do i-√©simo t√≠tulo na carteira; </li><li>  <i>k <sub>i</sub></i> - coeficiente de desconto do i-√©simo t√≠tulo na carteira; </li><li><math> </math> $ inline $ \ begin {equa√ß√£o} P_p = \ sum_ {i} {z_iP_i} \ end {equation} $ inline $   - pre√ßo do portf√≥lio; </li><li><math> </math> $ inline $ \ begin {equa√ß√£o} w_i = \ frac {z_iP_i} {\ sum_ {i} z_iP_i} = \ frac {z_iP_i} {P_p} \ end {equa√ß√£o} $ inline $   - o peso do i-√©simo t√≠tulo na carteira;  requisito √≥bvio <math> </math> $ inline $ \ begin {equa√ß√£o} \ sum_ {i} w_i = 1 \ end {equation} $ inline $   ; </li><li><math> </math> $ inline $ \ begin {equa√ß√£o} k_p = \ sum_ {i} w_ik_i \ end {equation} $ inline $   - coeficiente de desconto do portf√≥lio; </li></ul><br>  Devido √† linearidade da diferencia√ß√£o, o seguinte √© verdadeiro: <br><p><math> </math> $$ display $$ \ begin {equa√ß√£o} P'_p (k) = \ esquerda (\ sum_ {i} z_iP_i (k) \ right) '= \ sum_ {i} z_iP'_i (k) ~~~~~ ~~~~~~~~~ (5) \ end {equa√ß√£o} $$ display $$ </p>  Assim, considerando (4) e (5), a dura√ß√£o da carteira pode ser expressa como <br><p><math> </math> $$ display $$ \ begin {equa√ß√£o} D_p = -k_p \ frac {P'_p} {P_p} = - \ sum_ {i} w_ik_i \ left (\ frac {\ sum_ {j} z_jP'_j} {\ sum_ {j} z_jP_j} \ right) ~~~~~~~~~~~~~~ (6) \ end {equa√ß√£o} $$ display $$ </p>  De (4) segue inequivocamente <math> </math> $ inline $ \ begin {equa√ß√£o} P'_j = - \ frac {D_jP_j} {k_j} \ end {equa√ß√£o} $ inline $   . <br>  Substituindo essa express√£o em (6), chegamos √† seguinte f√≥rmula para a dura√ß√£o do portf√≥lio: <br><p><math> </math> exibi√ß√£o $$ $$ \ begin {equa√ß√£o} D_p = \ sum_ {i} w_ik_i \ left (\ frac {\ sum_ {j} \ frac {D_j} {k_j} z_jP_j} {\ sum_ {j} z_jP_j} \ right) = \ left (\ sum_ {i} w_ik_i \ right) \ left (\ sum_ {j} w_j \ frac {D_j} {k_j} \ right) ~~~~~~~~~~~~~ (7) \ final {equa√ß√£o} $$ display $$ </p>  Nas condi√ß√µes em que a dura√ß√£o e o rendimento at√© o vencimento de cada instrumento s√£o conhecidos (e lembramos que estamos nessas condi√ß√µes), a express√£o (7) √© a f√≥rmula desejada para determinar a dura√ß√£o de uma carteira com base na dura√ß√£o de seus t√≠tulos.  Parece apenas complicado na apar√™ncia, mas na verdade j√° est√° pronto para uso pr√°tico com a ajuda das fun√ß√µes mais simples do MS Excel, o que faremos agora com um exemplo. <br><br><h4>  <u>Exemplo</u> </h4><br>  Para calcular a dura√ß√£o do portf√≥lio de acordo com a f√≥rmula (7), precisamos de dados de entrada que incluam o conjunto real de t√≠tulos inclu√≠dos no portf√≥lio, suas dura√ß√µes e o rendimento at√© o vencimento.  Como mencionado acima, essas informa√ß√µes est√£o dispon√≠veis ao p√∫blico, por exemplo, no site rusbonds.ru na se√ß√£o de an√°lise de t√≠tulos.  Os dados de origem podem ser baixados no formato Excel. <br><br>  Como exemplo, considere uma carteira de valores mobili√°rios composta por 9 t√≠tulos.  A tabela de dados original baixada de rusbonds tem o seguinte formato. <br><br><img src="https://habrastorage.org/webt/86/ad/yr/86adyrfz2ksbzkjv1ldx3qqphjk.png"><br><br>  Duas colunas de interesse para n√≥s com dura√ß√£o (coluna E) e rendimento at√© o vencimento (coluna L = YTM) s√£o destacadas em vermelho. <br><br>  Definimos pesos w para t√≠tulos nesse portf√≥lio (at√© agora de maneira arbitr√°ria, mas para que sua soma seja igual √† unidade) e calculamos <i>k = (1 + YTM / 100)</i> e <i>D / k</i> = ("coluna E" / k).  A tabela convertida (sem colunas extras) ser√° semelhante a <br><br><img src="https://habrastorage.org/webt/6e/c4/aw/6ec4awiggvfztk-k1p-zgrb3gfq.png" width="75%"><br><br>  Em seguida, calculamos o produto <math> </math> $ inline $ \ begin {equa√ß√£o} w_j \ frac {D_j} {k_j} \ end {equation} $ inline $   e <math> </math> $ inline $ \ begin {equa√ß√£o} w_ik_i \ end {equa√ß√£o} $ inline $   e some-os e multiplique os valores resultantes por um pelo outro.  O resultado dessa multiplica√ß√£o ser√° a dura√ß√£o desejada para uma determinada distribui√ß√£o de pesos. <br><br><img src="https://habrastorage.org/webt/qb/yy/as/qbyyasgqfvxylwicpohhbfuewe4.png"><br><br>  Portanto, a dura√ß√£o desejada do portf√≥lio √© de 466,44 dias.  √â importante observar que, neste caso espec√≠fico, a dura√ß√£o calculada pela f√≥rmula (7) √© muito ligeiramente diferente da dura√ß√£o m√©dia ponderada calculada com os mesmos pesos (desvio &lt;0,5 dias).  No entanto, essa diferen√ßa aumenta com o aumento da dispers√£o dos pesos.  Tamb√©m aumentar√° com o aumento da propaga√ß√£o das dura√ß√µes do papel. <br><br>  Depois de obtermos a f√≥rmula para calcular a dura√ß√£o da carteira, o pr√≥ximo passo √© determinar o peso dos t√≠tulos para que, em um determinado rendimento, a dura√ß√£o estimada da carteira seja m√≠nima.  Passamos para a pr√≥xima parte - otimiza√ß√£o de portf√≥lio. <br><br><h1>  Parte 2. Otimiza√ß√£o do portf√≥lio de t√≠tulos </h1><br>  A express√£o (7) √© uma forma quadr√°tica, com a matriz <br><p><math> </math> exibi√ß√£o $$ $$ \ begin {equa√ß√£o} A = \ esquerda \ {k_i \ frac {D_j} {k_j} \ right \} = \ begin {pmatrix} D_1 e \ ldots &amp; k_1 \ frac {D_n} {k_n} \ \ \ vdots &amp; D_j &amp; \ vdots \\ k_n \ frac {D_1} {k_1} &amp; \ ldots &amp; D_n \ end {pmatrix} \ end {equa√ß√£o} $$ display $$ </p>  Por conseguinte, em forma de matriz, a express√£o para a dura√ß√£o do portf√≥lio (7) pode ser escrita da seguinte forma: <br><p><math> </math> $$ display $$ \ begin {equa√ß√£o} D_p = w ^ TAw ~~~~~~~~~~~~~ (8) \ end {equa√ß√£o} $$ display $$ </p>  onde <i><b>w</b></i> √© o vetor da coluna dos pesos das obriga√ß√µes no portf√≥lio.  Como mencionado acima, a soma dos elementos do vetor w deve ser igual √† unidade.  Por outro lado, a express√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-633"><span class="MJXp-msubsup" id="MJXp-Span-634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-636" style="vertical-align: -0.4em;">p</span></span><span class="MJXp-mo" id="MJXp-Span-637" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-638">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-640">u</span><span class="MJXp-msubsup" id="MJXp-Span-641"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-643" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">i</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-645"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-647" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-648"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-649" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-650" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> k_p = \ sum_ {i} w_i k_i </script>  (que, em ess√™ncia, √© um produto escalar simples <i>( <b>w</b> , <b>k</b> )</i> , em que <i><b>k</b></i> √© o vetor dos coeficientes de desconto de t√≠tulos) deve ser igual √† taxa de desconto alvo do portf√≥lio e, portanto, o retorno do portf√≥lio alvo deve ser definido. <br><br>  Assim, a tarefa de otimizar uma carteira de t√≠tulos √© minimizar a fun√ß√£o quadr√°tica (8) com restri√ß√µes lineares. <br><br>  O m√©todo cl√°ssico de encontrar o extremo condicional de uma fun√ß√£o de v√°rias vari√°veis ‚Äã‚Äã√© o m√©todo multiplicador de Lagrange.  No entanto, esse m√©todo n√£o √© aplic√°vel aqui, apenas porque a matriz <i>A √©</i> degenerada por constru√ß√£o (mas n√£o apenas por causa disso; omitimos os detalhes da an√°lise da aplicabilidade do m√©todo Lagrange aqui para n√£o sobrecarregar o artigo com conte√∫do matem√°tico excessivo). <br><br>  A incapacidade de aplicar um m√©todo anal√≠tico f√°cil e acess√≠vel leva √† necessidade de usar m√©todos num√©ricos.  O problema de otimizar uma fun√ß√£o quadr√°tica √© bem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conhecido</a> e possui v√°rios algoritmos eficientes desenvolvidos h√° muito tempo implementados em bibliotecas p√∫blicas. <br><br>  Para resolver esse problema espec√≠fico, foram utilizadas a biblioteca ALGLIB e os algoritmos de otimiza√ß√£o quadr√°tica implementados nela, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">QP-Solvers</a> , inclu√≠dos no pacote minqp. <br><br>  O problema de otimiza√ß√£o quadr√°tica em geral √© o seguinte: <br><br>  √â necess√°rio encontrar um vetor n-dimensional <i><b>w</b></i> minimizando a fun√ß√£o <br><p><math> </math> $$ display $$ \ begin {equa√ß√£o} F = \ frac {1} {2} w ^ T Qw + b ^ T w ~~~~~~~~~~~~~~ (9) \ end {equa√ß√£o} $$ display $$ </p>  Com determinadas restri√ß√µes <br>  1) <i>l ‚â§ w ‚â§ u</i> ; <br>  2) <i>Cw * d</i> ; <br>  onde <i><b>w, l, u, d, b</b></i> s√£o vetores de valor real n-dimensionais, <i>Q</i> √© a matriz sim√©trica da parte quadr√°tica e o sinal * significa qualquer uma das rela√ß√µes ‚â• = ‚â§. <br>  Como pode ser visto em (8), a parte linear <i>b <sup>T</sup> w</i> em nossa fun√ß√£o objetivo √© igual a zero.  No entanto, a matriz <i>A</i> n√£o <i>√©</i> sim√©trica, o que, no entanto, n√£o impede de traz√™-la para uma forma sim√©trica sem alterar a pr√≥pria fun√ß√£o.  Para fazer isso, basta colocar em vez de <i>A a</i> express√£o <math> </math> $ inline $ \ begin {equa√ß√£o} \ frac {A ^ T + A} {2} \ end {equation} $ inline $   Como a f√≥rmula (9) inclui o coeficiente <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-691"><span class="MJXp-mtext" id="MJXp-Span-692">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-696">c</span><span class="MJXp-mrow" id="MJXp-Span-697"><span class="MJXp-mn" id="MJXp-Span-698">1</span></span><span class="MJXp-mrow" id="MJXp-Span-699"><span class="MJXp-mn" id="MJXp-Span-700">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> \ frac {1} {2} </script>  ent√£o n√≥s como <i>Q</i> podemos aceitar <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-701"><span class="MJXp-msubsup" id="MJXp-Span-702"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703" style="margin-right: 0.05em;">A</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-704" style="vertical-align: 0.5em;">T</span></span><span class="MJXp-mo" id="MJXp-Span-705" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-706">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> A ^ T + A </script>  . <br><br>  As coordenadas dos vetores <i><b>l</b></i> e <i><b>u</b></i> especificam os limites do vetor desejado e ficam no intervalo [-1,1].  Como n√£o assumimos vendas a descoberto de t√≠tulos, as coordenadas dos vetores em nosso caso n√£o s√£o inferiores a 0. No programa de exemplo abaixo, por simplicidade, o vetor <i><b>l √©</b></i> assumido como zero e os coeficientes do vetor <i><b>u s√£o</b></i> <i>0,3</i> .  No entanto, nada nos impede de melhorar o programa e tornar os vetores de restri√ß√£o mais personaliz√°veis. <br><br>  A matriz <i>C,</i> no nosso caso, consistir√° em duas linhas: 1) coeficientes de desconto, que, quando multiplicados escalarmente por pesos (o mesmo ( <i><b>w</b> , <b>k</b></i> )), devem fornecer a taxa alvo de retorno do portf√≥lio;  2) uma cadeia composta por unidades.  √â necess√°rio definir limites <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-707"><span class="MJXp-mtext" id="MJXp-Span-708">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-710">u</span><span class="MJXp-msubsup" id="MJXp-Span-711"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-712" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-713" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-714">i</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-715"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-717" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-718" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-719">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> \ sum_ {i} w_i = 1 </script>  . <br><br>  Assim, a express√£o <i>Cw * d</i> para a nossa tarefa ter√° a seguinte apar√™ncia: <br><p><math> </math> $$ display $$ \ begin {equa√ß√£o} \ left \ {\ begin {array} {ccc} ({\ bf w, k}) = k_p \\ \ sum_ {i} w_i = 1 \\ \ end {array} \ right.  ~~~~~~~~~~~~~ (10) \ end {equa√ß√£o} $$ display $$ </p><br>  Agora, passamos √† implementa√ß√£o de software da busca pelo portf√≥lio ideal.  A base do otimizador quadr√°tico em ALGLIB √© o objeto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-720"><span class="MJXp-mtext" id="MJXp-Span-721">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723">t</span><span class="MJXp-mtext" id="MJXp-Span-724">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-726">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-727">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-728">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-729">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-730">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-731">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-733">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-734">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-735">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-738">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-739">e</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> \ tt \ small minqpstate </script><br><br><pre><code class="cpp hljs">alglib::minqpstate state;</code> </pre> <br>  Para inicializar o otimizador, esse objeto √© passado para a fun√ß√£o minqpcreate junto com o par√¢metro de dimens√£o da tarefa n <br><br><pre> <code class="cpp hljs">alglib::minqpcreate(n, state);</code> </pre> <br>  O pr√≥ximo ponto mais importante √© a escolha do algoritmo de otimiza√ß√£o (solver).  A biblioteca ALGLIB para otimiza√ß√£o quadr√°tica oferece tr√™s solucionadores: <br><br><ul><li>  <b>O QP-BLEIC</b> √© o algoritmo mais universal projetado para resolver problemas com um n√∫mero n√£o muito grande (at√© 50 de acordo com as recomenda√ß√µes da documenta√ß√£o) de restri√ß√µes lineares (no formato <i>Cw * d</i> ).  Ao mesmo tempo, pode ser eficaz em tarefas de grande dimens√£o (como afirma a documenta√ß√£o - at√© n = 10000). </li><li>  <b>O QuickQP</b> √© um algoritmo muito eficiente, especialmente quando uma fun√ß√£o convexa √© otimizada.  No entanto, infelizmente, ele n√£o pode trabalhar com restri√ß√µes lineares - apenas com condi√ß√µes de contorno (da forma <i>l‚â§w‚â§u</i> ). </li><li>  <b>AUL denso</b> - otimizado para o caso de dimens√µes muito grandes e um grande n√∫mero de restri√ß√µes.  Mas, de acordo com a documenta√ß√£o, tarefas de pequena dimens√£o e o n√∫mero de restri√ß√µes ser√£o resolvidas com mais efici√™ncia usando outros algoritmos. </li></ul><br>  Dadas as caracter√≠sticas acima, √© √≥bvio que o solucionador QP-BLEIC √© mais adequado para a nossa tarefa. <br><br>  Para instruir o otimizador a usar esse algoritmo, voc√™ deve chamar a fun√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-740"><span class="MJXp-mtext" id="MJXp-Span-741">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-742">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-743">t</span><span class="MJXp-mtext" id="MJXp-Span-744">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-746">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-747">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-750">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-752">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-753">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-754">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-755">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-756">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-757">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-758">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-759">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-760">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-761">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-762">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-763">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-764">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-765">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-766">c</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> \ tt \ small minqpsetalgobleic </script>  .  O pr√≥prio objeto e os crit√©rios de parada s√£o passados ‚Äã‚Äãpara esta fun√ß√£o, sobre a qual n√£o iremos nos aprofundar mais detalhadamente: o programa considerado aqui usa os valores padr√£o.  A chamada de fun√ß√£o √© a seguinte: <br><br><pre> <code class="cpp hljs">alglib::minqpsetalgobleic(state, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br>  Inicializa√ß√£o adicional do solucionador inclui: <br><br><ul><li>  A transfer√™ncia da matriz da parte quadr√°tica <i>Q</i> - <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-767"><span class="MJXp-mtext" id="MJXp-Span-768">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-769">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-770">t</span><span class="MJXp-mtext" id="MJXp-Span-771">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-772">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-773">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-774">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-775">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-776">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-777">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-778">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-779">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-780">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-781">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782">b</span><span class="MJXp-mo" id="MJXp-Span-783" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-784">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-785">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-786">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-787">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-788">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-790">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-791">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-792">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-793">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-794">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-795">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-796">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-797">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-799">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-800">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-801">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-802">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-803">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-804">m</span><span class="MJXp-mo" id="MJXp-Span-805" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-806">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-807">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-808">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-809">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-810">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-811">o</span><span class="MJXp-mo" id="MJXp-Span-812" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-813">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-814">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-815">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816">a</span><span class="MJXp-mo" id="MJXp-Span-817" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-818" style="margin-left: 0em; margin-right: 0.222em;">;</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> \ tt \ small alglib :: minqpsetquadraticterm (estado, qpma); </script></li><li>  A transmiss√£o do vetor da parte linear (no nosso caso, o vetor zero) - <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-819"><span class="MJXp-mtext" id="MJXp-Span-820">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-821">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-822">t</span><span class="MJXp-mtext" id="MJXp-Span-823">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-824">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-825">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-826">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-827">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-829">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-830">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-831">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-834">b</span><span class="MJXp-mo" id="MJXp-Span-835" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-838">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-839">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-841">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-842">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-846">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-847">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-848">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-849">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-850">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-851">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-852">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-853">m</span><span class="MJXp-mo" id="MJXp-Span-854" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-855">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-856">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-857">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-858">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-859">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-860">o</span><span class="MJXp-mo" id="MJXp-Span-861" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-862">b</span><span class="MJXp-mo" id="MJXp-Span-863" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-864" style="margin-left: 0em; margin-right: 0.222em;">;</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> \ tt \ small alglib :: minqpsetlinearterm (estado, b); </script></li><li>  A transfer√™ncia dos vetores de condi√ß√£o de contorno <i>l</i> e <i>u</i> - <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-865"><span class="MJXp-mtext" id="MJXp-Span-866">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-867">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-868">t</span><span class="MJXp-mtext" id="MJXp-Span-869">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-870">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-871">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-872">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-874">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-875">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-877">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-878">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-879">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-880">b</span><span class="MJXp-mo" id="MJXp-Span-881" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-882">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-883">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-884">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-885">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-886">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-887">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-888">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-889">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-890">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-891">c</span><span class="MJXp-mo" id="MJXp-Span-892" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-893">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-896">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-897">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-898">o</span><span class="MJXp-mo" id="MJXp-Span-899" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-900">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-901">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-902">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-903">l</span><span class="MJXp-mo" id="MJXp-Span-904" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-905">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-906">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-907">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908">u</span><span class="MJXp-mo" id="MJXp-Span-909" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-910" style="margin-left: 0em; margin-right: 0.222em;">;</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> \ tt \ small alglib :: minqpsetbc (estado, bndl, bndu); </script></li><li>  Transmiss√£o linear - <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-911"><span class="MJXp-mtext" id="MJXp-Span-912">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-914">t</span><span class="MJXp-mtext" id="MJXp-Span-915">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-916">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-917">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-919">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-920">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-922">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-924">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-925">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-926">b</span><span class="MJXp-mo" id="MJXp-Span-927" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-928">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-929">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-930">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-931">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-932">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-933">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-936">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-937">c</span><span class="MJXp-mo" id="MJXp-Span-938" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-939">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-940">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-941">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-942">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-943">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-944">o</span><span class="MJXp-mo" id="MJXp-Span-945" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-946">c</span><span class="MJXp-mo" id="MJXp-Span-947" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-948">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-949">t</span><span class="MJXp-mo" id="MJXp-Span-950" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-951" style="margin-left: 0em; margin-right: 0.222em;">;</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> \ tt \ small alglib :: minqpsetlc (estado, c, ct); </script></li><li>  Definindo a escala de coordenadas do espa√ßo vetorial <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-952"><span class="MJXp-mtext" id="MJXp-Span-953">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-954">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-955">t</span><span class="MJXp-mtext" id="MJXp-Span-956">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-957">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-958">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-959">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-960">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-962">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-963">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-964">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-965">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-966">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-967">b</span><span class="MJXp-mo" id="MJXp-Span-968" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-969">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-970">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-971">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-972">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-973">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-974">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-975">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-976">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-977">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-978">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-979">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-980">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981">e</span><span class="MJXp-mo" id="MJXp-Span-982" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-983">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-984">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-985">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-986">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-987">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988">o</span><span class="MJXp-mo" id="MJXp-Span-989" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-990">s</span><span class="MJXp-mo" id="MJXp-Span-991" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-992" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-993" style="margin-left: 0em; margin-right: 0.222em;">;</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> \ tt \ small alglib :: minqpsetscale (estado (s)); </script></li></ul><br>  Vamos nos concentrar em cada item: <br>  Para especificar vetores e matrizes, a biblioteca ALGLIB usa objetos de tipos especiais (inteiro e valor real): <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-994"><span class="MJXp-mtext" id="MJXp-Span-995">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-996">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997">t</span><span class="MJXp-mtext" id="MJXp-Span-998">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1000">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1001">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1002">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1003">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1004">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1005">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1006">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1007">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1008">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1009">b</span><span class="MJXp-mo" id="MJXp-Span-1010" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1011">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1012">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1013">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1014">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1015">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1016">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1017">r</span><span class="MJXp-msubsup" id="MJXp-Span-1018"><span class="MJXp-mtext" id="MJXp-Span-1019" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1020" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1021">d</span><span class="MJXp-msubsup" id="MJXp-Span-1022"><span class="MJXp-mtext" id="MJXp-Span-1023" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1024" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1025">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1026">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1027">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1028">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> \ tt \ small alglib :: integer \ _1d \ _array </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1029"><span class="MJXp-mtext" id="MJXp-Span-1030">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1031">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1032">t</span><span class="MJXp-mtext" id="MJXp-Span-1033">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1034">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1035">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1036">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1037">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1038">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1039">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1040">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1041">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1042">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1043">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1044">b</span><span class="MJXp-mo" id="MJXp-Span-1045" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1046">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1047">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1048">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1049">l</span><span class="MJXp-msubsup" id="MJXp-Span-1050"><span class="MJXp-mtext" id="MJXp-Span-1051" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1052" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1053">d</span><span class="MJXp-msubsup" id="MJXp-Span-1054"><span class="MJXp-mtext" id="MJXp-Span-1055" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1056" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1057">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1058">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1059">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1060">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> \ tt \ small alglib :: real \ _1d \ _array </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1061"><span class="MJXp-mtext" id="MJXp-Span-1062">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064">t</span><span class="MJXp-mtext" id="MJXp-Span-1065">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1066">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1067">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1068">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1069">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1070">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1071">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1072">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1073">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1074">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1075">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1076">b</span><span class="MJXp-mo" id="MJXp-Span-1077" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1078">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1079">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1080">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1081">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1082">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1083">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1084">r</span><span class="MJXp-msubsup" id="MJXp-Span-1085"><span class="MJXp-mtext" id="MJXp-Span-1086" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1087" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1088">d</span><span class="MJXp-msubsup" id="MJXp-Span-1089"><span class="MJXp-mtext" id="MJXp-Span-1090" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1091" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1092">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1093">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1094">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1095">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> \ tt \ small alglib :: integer \ _2d \ _array </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1096"><span class="MJXp-mtext" id="MJXp-Span-1097">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1098">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1099">t</span><span class="MJXp-mtext" id="MJXp-Span-1100">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1101">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1102">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1103">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1104">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1105">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1107">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1108">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1109">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1110">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1111">b</span><span class="MJXp-mo" id="MJXp-Span-1112" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1113">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1114">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1115">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1116">l</span><span class="MJXp-msubsup" id="MJXp-Span-1117"><span class="MJXp-mtext" id="MJXp-Span-1118" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1119" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120">d</span><span class="MJXp-msubsup" id="MJXp-Span-1121"><span class="MJXp-mtext" id="MJXp-Span-1122" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1123" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1124">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1125">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1126">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1127">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> \ tt \ small alglib :: real \ _2d \ _array </script>  .  Para preparar a matriz, precisamos de um tipo <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1128"><span class="MJXp-mtext" id="MJXp-Span-1129">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1130">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1131">t</span><span class="MJXp-mtext" id="MJXp-Span-1132">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1133">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1134">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1135">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1136">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1137">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1138">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1139">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1140">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1141">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1142">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1143">l</span><span class="MJXp-msubsup" id="MJXp-Span-1144"><span class="MJXp-mtext" id="MJXp-Span-1145" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1146" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1147">d</span><span class="MJXp-msubsup" id="MJXp-Span-1148"><span class="MJXp-mtext" id="MJXp-Span-1149" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1150" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1151">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1152">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1153">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1154">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> \ tt \ pequeno real \ _2d \ _array </script>  .  No programa, primeiro crie uma matriz <i>A</i> ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1155"><span class="MJXp-mtext" id="MJXp-Span-1156">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1157">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1158">t</span><span class="MJXp-mtext" id="MJXp-Span-1159">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1160">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1161">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1162">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1163">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1164">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1165">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1166">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1167">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1168">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1169">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1170">b</span><span class="MJXp-mo" id="MJXp-Span-1171" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1172">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1173">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1174">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1175">l</span><span class="MJXp-msubsup" id="MJXp-Span-1176"><span class="MJXp-mtext" id="MJXp-Span-1177" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1178" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1179">d</span><span class="MJXp-msubsup" id="MJXp-Span-1180"><span class="MJXp-mtext" id="MJXp-Span-1181" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1182" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1183">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1184">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1185">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1186">y</span><span class="MJXp-mtext" id="MJXp-Span-1187">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1188">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1189">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1190">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1191">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> \ tt \ small alglib :: real \ _2d \ _array ~ qpma </script>  ) e, de acordo com a f√≥rmula <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1193">Q</span><span class="MJXp-mo" id="MJXp-Span-1194" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1195"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1196" style="margin-right: 0.05em;">A</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1197" style="vertical-align: 0.5em;">T</span></span><span class="MJXp-mo" id="MJXp-Span-1198" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1199">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> Q = A ^ T + A </script>  da√≠ constru√≠mos a matriz <i>Q</i> ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1200"><span class="MJXp-mtext" id="MJXp-Span-1201">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1202">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1203">t</span><span class="MJXp-mtext" id="MJXp-Span-1204">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1205">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1206">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1207">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1208">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1209">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1210">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1211">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1212">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1213">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1214">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1215">b</span><span class="MJXp-mo" id="MJXp-Span-1216" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1217">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1218">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1219">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1220">l</span><span class="MJXp-msubsup" id="MJXp-Span-1221"><span class="MJXp-mtext" id="MJXp-Span-1222" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1223" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1224">d</span><span class="MJXp-msubsup" id="MJXp-Span-1225"><span class="MJXp-mtext" id="MJXp-Span-1226" style="margin-right: 0.05em;">&nbsp;</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1227" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1228">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1229">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1230">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1231">y</span><span class="MJXp-mtext" id="MJXp-Span-1232">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1233">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1234">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1235">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1236">q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> \ tt \ small alglib :: real \ _2d \ _array ~ qpmq </script>  )  Definir dimens√µes da matriz no ALGLIB √© uma fun√ß√£o separada <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1237"><span class="MJXp-mtext" id="MJXp-Span-1238">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1239">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1240">t</span><span class="MJXp-mtext" id="MJXp-Span-1241">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1242">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1243">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1244">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1245">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1246">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1247">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1248">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1249">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1250">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1251">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1252">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1253">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1254">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1255">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1256">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1257">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1258">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1259">o</span><span class="MJXp-mo" id="MJXp-Span-1260" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1261">n</span><span class="MJXp-mo" id="MJXp-Span-1262" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1263">m</span><span class="MJXp-mo" id="MJXp-Span-1264" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> \ tt \ comprimento pequeno (n, m) </script>  . <br><br>  Para construir as matrizes, precisamos do vetor dos coeficientes de desconto ( <i>k <sub>i</sub></i> ) e da rela√ß√£o da dura√ß√£o com esses coeficientes ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1265"><span class="MJXp-mtext" id="MJXp-Span-1266">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1267">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1268">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1269">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1270">c</span><span class="MJXp-mrow" id="MJXp-Span-1271"><span class="MJXp-msubsup" id="MJXp-Span-1272"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1273" style="margin-right: 0.05em;">D</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1274" style="vertical-align: -0.4em;">j</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1275"><span class="MJXp-msubsup" id="MJXp-Span-1276"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1277" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1278" style="vertical-align: -0.4em;">j</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> \ frac {D_j} {k_j} </script>  ): <br><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt; disfactor; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt; durperytm;</code> </pre><br>  O trecho de c√≥digo que implementa a constru√ß√£o de matrizes √© mostrado na listagem a seguir: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> n = durations.size(); alglib::real_2d_array qpma; qpma.setlength(n,n); <span class="hljs-comment"><span class="hljs-comment">// matrix nxn alglib::real_2d_array qpmq; qpmq.setlength(n,n); // matrix nxn for(size_t j=0; j &lt; n; j++) { for (size_t i = 0; i &lt; n; i++) qpma(i,j) = durperytm[j]*disfactor[i]; //i,j   } for(size_t j=0; j &lt; n; j++) { for (size_t i = 0; i &lt; n; i++) qpmq(i,j) = qpma(i,j) + qpma(j,i); }</span></span></code> </pre><br>  O vetor da parte linear, como j√° indicado, √© zero no nosso caso, portanto, tudo √© simples com ele: <br><br><pre> <code class="cpp hljs">alglib::real_1d_array b; b.setlength(n); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; i++) b[i] = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre><br>  As condi√ß√µes de contorno do vetor s√£o transmitidas por uma fun√ß√£o.  Para resolver esse problema, s√£o aplicadas condi√ß√µes de contorno muito simples: o peso de cada papel n√£o deve ser menor que zero (n√£o permitimos posi√ß√µes negativas) e n√£o deve exceder 30%.  Se desejado, as restri√ß√µes podem ser complicadas.  Experimentos com o programa mostraram que mesmo uma simples altera√ß√£o nesse intervalo pode afetar bastante os resultados.  Assim, um aumento no limite inferior e / ou uma diminui√ß√£o no superior leva a uma maior diversifica√ß√£o da carteira final, pois durante a otimiza√ß√£o, um solucionador pode excluir alguns t√≠tulos do vetor resultante (atribuir-lhes um peso de 0%) como n√£o adequado.  Se voc√™ definir o limite inferior da balan√ßa, digamos, em 5%, todos os pap√©is ter√£o a garantia de inclus√£o no portf√≥lio.  No entanto, a dura√ß√£o calculada nessas configura√ß√µes ser√°, obviamente, maior do que no caso em que o otimizador pode excluir papel. <br><br>  Portanto, as condi√ß√µes de contorno s√£o definidas por dois vetores e transferidas para o solucionador: <br><br><pre> <code class="cpp hljs">alglib::real_1d_array bndl; bndl.setlength(n); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; i++) bndl[i] = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// low boundary alglib::real_1d_array bndu; bndu.setlength(n); for (size_t i = 0; i &lt; n; i++) bndu[i] = 0.3;// high boundary alglib::minqpsetbc(state, bndl, bndu);</span></span></code> </pre><br>  Em seguida, o otimizador precisa passar pelas restri√ß√µes lineares especificadas pelo sistema (10).  Em ALGLIB, isso √© feito usando a fun√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1279"><span class="MJXp-mtext" id="MJXp-Span-1280">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1281">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1282">t</span><span class="MJXp-mtext" id="MJXp-Span-1283">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1284">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1285">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1286">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1287">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1288">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1289">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1290">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1291">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1292">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1293">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1294">b</span><span class="MJXp-mo" id="MJXp-Span-1295" style="margin-left: 0.111em; margin-right: 0.167em;">::</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1296">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1298">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1299">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1300">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1301">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1302">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1303">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1304">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1305">c</span><span class="MJXp-mo" id="MJXp-Span-1306" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1307">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1308">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1309">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1310">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1311">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1312">o</span><span class="MJXp-mo" id="MJXp-Span-1313" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1314">c</span><span class="MJXp-mo" id="MJXp-Span-1315" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1316">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1317">t</span><span class="MJXp-mo" id="MJXp-Span-1318" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> \ tt \ small alglib :: minqpsetlc (estado, c, ct) </script>  , em que c √© a matriz que combina os lados esquerdo e direito do sistema (10), isto √©,  ver matriz <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1319"><span class="MJXp-mo" id="MJXp-Span-1320" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1321">C</span><span class="MJXp-mtext" id="MJXp-Span-1322">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-1323">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1324">d</span><span class="MJXp-mo" id="MJXp-Span-1325" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> (C ~~ d) </script>  , e ct √© o vetor de rela√ß√µes (ou seja, correspond√™ncias da forma ‚â•, = ou ‚â§).  No nosso caso, ct = (0,0), que corresponde √† raz√£o '=' para ambas as linhas do sistema (10). <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; i++) { c(<span class="hljs-number"><span class="hljs-number">0</span></span>,i) = disfactor[i]; <span class="hljs-comment"><span class="hljs-comment">//   -    c(1,i) = 1; //   ‚Äì  ‚Äì    } c(0,n) = target_rate; //   ( ) ‚Äì    c(1,n) = 1; //   ( ) ‚Äì  ,   alglib::integer_1d_array ct = "[0,0]"; //   alglib::minqpsetlc(state, c, ct);</span></span></code> </pre><br>  A documenta√ß√£o da biblioteca ALGLIB recomenda altamente definir a escala de vari√°veis ‚Äã‚Äãantes de iniciar o otimizador.  Isso √© especialmente importante se as vari√°veis ‚Äã‚Äãforem medidas em unidades, cuja mudan√ßa difere por ordens de magnitude (por exemplo, ao procurar uma solu√ß√£o, as toneladas podem ser alteradas em cent√©simos ou mil√©simos e metros em unidades; o problema pode ser resolvido no espa√ßo de toneladas-metro), que afeta os crit√©rios de abandono.  H√°, no entanto, uma reserva de que, com a mesma escala de vari√°veis, n√£o √© necess√°rio definir a escala.  No programa em considera√ß√£o, ainda realizamos a tarefa de escala por uma quest√£o de maior rigor da abordagem, principalmente porque √© muito simples de fazer. <br><br><pre> <code class="cpp hljs">alglib::real_1d_array s; s.setlength(n); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; i++) s[i] = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     alglib::minqpsetscale(state, s);</span></span></code> </pre><br>  Em seguida, definimos o otimizador como um ponto de partida.  Em geral, esta etapa tamb√©m √© opcional e o programa lida com √™xito com a tarefa sem um ponto de partida claramente definido.  Da mesma forma, por raz√µes de rigor, estabelecemos o ponto de partida.  N√£o seremos inteligentes: o ponto de partida ser√° o mesmo peso para todos os t√≠tulos. <br><br><pre> <code class="cpp hljs">alglib::real_1d_array x0; x0.setlength(n); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> sp = <span class="hljs-number"><span class="hljs-number">1</span></span>/n; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; i++) x0[i] = sp; alglib::minqpsetstartingpoint(state, x0);</code> </pre><br>  Resta determinar a vari√°vel na qual o otimizador retornar√° a solu√ß√£o encontrada e a vari√°vel de status.  Ent√£o voc√™ pode executar a otimiza√ß√£o e processar o resultado <br><br><pre> <code class="cpp hljs">alglib::real_1d_array x; <span class="hljs-comment"><span class="hljs-comment">//   alglib::minqpreport rep; //  alglib::minqpoptimize(state); //   alglib::minqpresults(state, x, rep); //      alglib::ae_int_t tt = rep.terminationtype; if (tt&gt;=0) //       { std::cout &lt;&lt; "   :" &lt;&lt; '\n'; for(size_t i = 0; i &lt; n; i++) //       { std::cout &lt;&lt; (i+1) &lt;&lt; ".\t" &lt;&lt; bonds[i].bondname &lt;&lt; ":\t\t\t " &lt;&lt; (x(i)*100) &lt;&lt; "\%" &lt;&lt; std::endl; } for (size_t i = 0; i &lt; n; i++) { for (size_t j = 0; j &lt; n; j++) { qpmq(i,j) /= 2; } } }</span></span></code> </pre><br>  Especialmente, o tempo de execu√ß√£o do programa n√£o foi medido nas experi√™ncias, mas tudo funciona muito rapidamente.  Ao mesmo tempo, √© claro que √© improv√°vel que um investidor privado otimize uma carteira com mais de 10 a 15 t√≠tulos. <br><br>  Tamb√©m √© importante observar o seguinte.  O otimizador retorna com precis√£o o vetor de pesos.  Para obter a dura√ß√£o calculada, voc√™ deve usar diretamente a f√≥rmula (8).  O programa pode fazer isso.  Para esse fim, duas fun√ß√µes de vetores e matrizes multiplicadores foram especialmente adicionadas.  N√≥s n√£o vamos dar aqui.  Aqueles que desejam se encontrar com facilidade nos c√≥digos-fonte publicados. <br><br>  Isso √© tudo.  Um investimento eficaz em instrumentos de d√≠vida para todos. <br><br>  <b>PS:</b> Entendendo que escolher o c√≥digo de outra pessoa n√£o √© a ocupa√ß√£o mais atraente e, para muitas pessoas que desejam investir, n√£o √© de todo especializado, tentarei mudar esse programa um pouco mais tarde para um servi√ßo web simples que todos possam usar, independentemente do conhecimento de matem√°tica. e programa√ß√£o. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt470255/">https://habr.com/ru/post/pt470255/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt470237/index.html">Literatura de fim de semana: leitura f√°cil para t√©cnicos</a></li>
<li><a href="../pt470239/index.html">ERP n√£o desenvolvido na produ√ß√£o: em terapia intensiva ou necrot√©rio?</a></li>
<li><a href="../pt470241/index.html">Hist√≥rico de startups: como desenvolver uma ideia passo a passo, entrar em um mercado inexistente e alcan√ßar expans√£o internacional</a></li>
<li><a href="../pt470247/index.html">RESHI.RU - um rob√¥ resolve e explica problemas de texto escolar em matem√°tica</a></li>
<li><a href="../pt470251/index.html">Como fiz um aplicativo de desktop no Flutter (+ b√¥nus)</a></li>
<li><a href="../pt470257/index.html">Manto em torno do ImmutableList em Java</a></li>
<li><a href="../pt470259/index.html">Aimybox na pesquisa: a estrutura para criar assistentes de voz precisa de um assistente para iOS</a></li>
<li><a href="../pt470265/index.html">Folha de dicas da abrevia√ß√£o de C ++ e muito mais. Parte 1: C ++</a></li>
<li><a href="../pt470267/index.html">Monitoramento de temperatura certificado</a></li>
<li><a href="../pt470269/index.html">ReactOS 0.4.12: Âçé‰∏∫ Ôºå ‰Ω† ËÆ§‰∏∫ Ëøô‰∏™ ÊÄé‰πà Ê†∑Ôºü</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>