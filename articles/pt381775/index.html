<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêô üõ°Ô∏è üåΩ Criando um rob√¥ de competi√ß√£o Roborace üîÉ üë¢ üë©üèΩ‚Äçü§ù‚Äçüë®üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Espec√≠ficos do Roborace
 
 
 Roborace √© uma competi√ß√£o em que carros rob√≥ticos competem em uma pista de ringue especial. Voc√™ pode tra√ßar uma analogia...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Criando um rob√¥ de competi√ß√£o Roborace</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/381775/"><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espec√≠ficos do Roborace</font></font></h4><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/353/e6a/7b1/353e6a7b1bc9f8a1b52f3f6e54954e90.jpg" alt="imagem"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Roborace</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© uma competi√ß√£o em que carros rob√≥ticos competem em uma pista de ringue especial. </font><font style="vertical-align: inherit;">Voc√™ pode tra√ßar uma analogia entre Roborace e as corridas de F√≥rmula 1, com exce√ß√£o de dois pontos.</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em primeiro lugar, em vez de carros de corrida em grande escala, est√£o envolvidos modelos de carros menores e designs originais com restri√ß√µes gerais e de peso (WxD m√°ximo = 25x50 cm e peso at√© 3 kg).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em segundo lugar, em vez de pilotos, o carro √© controlado por um computador de bordo, que analisa as leituras de v√°rios sensores e orienta o carro na pista, seleciona a velocidade do movimento, evita colis√µes com obst√°culos e rivais. </font><font style="vertical-align: inherit;">Na verdade, o "comportamento" do carro na pista √© determinado pelo programa de controle do computador de bordo.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Roborace √© realizado sob a forma de um campeonato composto por etapas, organizadas em v√°rias cidades da Bielorr√∫ssia e no exterior. </font><font style="vertical-align: inherit;">Constru√ß√µes de n√≠vel b√°sico (por exemplo, baseadas em um construtor do tipo LEGO) e dispositivos rob√≥ticos complexos participam do campeonato. </font><font style="vertical-align: inherit;">Os regulamentos da concorr√™ncia s√£o formados de forma a abranger a maior variedade poss√≠vel de caracter√≠sticas e capacidades das estruturas rob√≥ticas.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 1 - Pista para rob√¥s de corrida: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/5f6/ca2/a3f/5f6ca2a3f418fe297de09192d23b89f0.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
considere a pista mostrada na Figura 1, ao longo da qual o rob√¥ se mover√°. </font><font style="vertical-align: inherit;">Elementos obrigat√≥rios s√£o linhas e paredes pretas. </font><font style="vertical-align: inherit;">Com base nisso, voc√™ pode criar uma estrat√©gia para mover o rob√¥ ao longo da pista: por exemplo, equipe o rob√¥ com sensores de linha preta e use as linhas de pista para navega√ß√£o ou instale tel√©metros para detectar obst√°culos e se mover ao longo das paredes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este artigo apresenta um dos rob√¥s que desenvolvi para o Roborace de acordo com a segunda estrat√©gia (movimento baseado nas leituras dos tel√©metros).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etapas de cria√ß√£o de um rob√¥</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A cria√ß√£o de um rob√¥ para o Roborace come√ßa com a escolha do chassi. Agora as lojas oferecem uma grande variedade de plataformas de lagartas e rodas. Eu recomendo focar no design cl√°ssico quando as rodas traseiras s√£o acionadas por um motor el√©trico e as rodas dianteiras s√£o acionadas por um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servoconversor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A Figura 2 mostra um rob√¥ para o Roborace, constru√≠do de acordo com um esquema semelhante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 2 - Rob√¥:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/4ea/091/513/4ea09151306071d293f21be256d9900e.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tive a sorte de comprar uma modelo em um clube local de modeladores de r√°dio por pouco dinheiro (os leitores podem tentar fazer o mesmo em sua regi√£o: eles geralmente t√™m muitos modelos desatualizados). Como o modelo adquirido n√£o tinha um motor de tra√ß√£o, um motor de 12 volts adquirido foi instalado nele. Voc√™ tamb√©m pode usar um brinquedo comum: eles geralmente s√£o bastante tenazes e voc√™ s√≥ precisa modificar a dire√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como no meu caso o servo j√° estava instalado, n√£o houve problemas com ele.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O pr√≥ximo passo √© a escolha do painel de controle. Existem muitas op√ß√µes. Eu escolhi o Arduino como a op√ß√£o mais f√°cil. O mesmo pode ser recomendado ao leitor, especialmente com falta de experi√™ncia. Com base em minha experi√™ncia bastante extensa, para esses rob√¥s os microcontroladores de 8 bits usuais s√£o suficientes. Portanto, se voc√™ n√£o planeja usar uma c√¢mera para rastrear os movimentos do rob√¥, n√£o a complique com um processador mais poderoso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O servoconversor pode ser conectado diretamente ao Arduino - por exemplo, atrav√©s da blindagem do sensor mostrada na Figura 3. Tamb√©m √© conveniente conectar sensores a ele. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 3 - blindagem do sensor v4:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/10c/a43/683/10ca43683582b8bafff31e722c4c174c.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O motor n√£o pode ser conectado diretamente ao Arduino. Voc√™ precisa usar um driver de motor especial. Agora existem muitos dispon√≠veis e h√° instru√ß√µes para conex√£o. Usei o Motor Driver desenvolvido em nosso laborat√≥rio (Fig. 4). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 4 - driver do motor: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/0f0/554/b45/0f0554b45bb8d790fc2c47a48ce2de33.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nas competi√ß√µes de rob√¥s, voc√™ deve prestar muita aten√ß√£o √†s baterias. Eu uso baterias de pol√≠mero de l√≠tio. Eles se provaram muito bem. Um dos hacks que eu uso no meu rob√¥ diz respeito a um conversor de voltagem. O conversor nativo do Arduino n√£o √© muito bom, por isso √© bom usar um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.google.com/url%3Fq%3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regulador Step-Down</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para economizar energia da bateria </font><font style="vertical-align: inherit;">. Obviamente, voc√™ pode usar um conversor linear convencional.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A parte mais importante do rob√¥ s√£o os sensores - o que fornece informa√ß√µes sobre o mundo, sobre obst√°culos e sobre outros rob√¥s. Na categoria de pre√ßo m√©dio, podemos escolher entre sensores ultrass√¥nicos e infravermelhos. No meu rob√¥, uso sensores infravermelhos GP2Y0A02YK0F. N√£o gosto de sensores ultrass√¥nicos devido ao fato de que um sensor pode ser barulhento com outro. Por exemplo, eu tive tais situa√ß√µes: o sensor direito enviou um sinal e o esquerdo o recebeu. Ainda estou trabalhando no posicionamento e gerenciamento adequados dos sensores ultrass√¥nicos. A esperan√ßa de seu lan√ßamento √© constantemente alimentada pelo pre√ßo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O modelo de rob√¥ apresentado aqui possui tr√™s sensores infravermelhos. Os sensores podem ser vistos na Figura 2. Eles s√£o instalados profundamente na carca√ßa por dois motivos:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reduzir a zona morta do sensor, que neste modelo √© de 20 cm;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O corpo do rob√¥ protege os sensores contra danos mec√¢nicos durante colis√µes com outros rob√¥s.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os sensores laterais s√£o instalados em um √¢ngulo de 45 graus. </font><font style="vertical-align: inherit;">Bem, se o design do rob√¥ permitir o ajuste do √¢ngulo de sua instala√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O esquema geral do rob√¥ pode ser visto na Figura 5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figura 5 - O esquema geral do rob√¥:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/1ee/f76/ba0/1eef76ba091be5e327bbee66eecb21cd.jpg" alt="imagem"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programa√ß√£o de rob√¥s</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como o rob√¥ usa o Arduino, a programa√ß√£o √© realizada usando o IDE do Arduino. </font><font style="vertical-align: inherit;">O programa do rob√¥ √© um loop fechado, que consiste nos seguintes blocos:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filtragem de leituras de sensores;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo do √¢ngulo e velocidade do rob√¥;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transfer√™ncia de sinais de controle para mecanismos.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta estrutura, n√£o h√° bloqueio para o recebimento de informa√ß√µes dos sensores. Como os sensores retornam um sinal anal√≥gico, o Arduino IDE possui uma fun√ß√£o analogWrite (). Esta fun√ß√£o funciona muito bem se a velocidade da medi√ß√£o n√£o for importante. Por√©m, como o rob√¥ foi projetado para a competi√ß√£o, foi decidido interromper o processamento dos sensores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas as placas Arduino constru√≠das no microcontrolador ATmega t√™m a capacidade de realizar medi√ß√µes ADC no modo autom√°tico. Voc√™ precisa configurar este modo uma vez e, em seguida, usar os valores obtidos. Como resultado, o controlador verifica constantemente os sensores, sem perder tempo da CPU. A filtragem das leituras dos sensores √© realizada por um filtro mediano com uma janela de tr√™s elementos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para percorrer a rodovia, o seguinte algoritmo foi desenvolvido. </font><font style="vertical-align: inherit;">O rob√¥ compara as dist√¢ncias √†s paredes direita e esquerda e, de acordo com isso, gira as rodas na dire√ß√£o desejada. </font><font style="vertical-align: inherit;">Se n√£o houver obst√°culos na frente do rob√¥, a velocidade aumenta, mas o √¢ngulo de rota√ß√£o m√°ximo poss√≠vel das rodas tamb√©m diminui. </font><font style="vertical-align: inherit;">Isso √© necess√°rio para que o rob√¥ viaje mais diretamente em se√ß√µes retas. </font><font style="vertical-align: inherit;">Quando um obst√°culo √© detectado, o √¢ngulo de rota√ß√£o das rodas aumenta e o rob√¥ diminui a velocidade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, existem problemas n√£o resolvidos. </font><font style="vertical-align: inherit;">Por exemplo, o rob√¥ n√£o conhece a curvatura da curva, ent√£o diminui a velocidade antes de cada curva. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode visualizar o c√≥digo do projeto no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt381775/">https://habr.com/ru/post/pt381775/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt381761/index.html">Mancala - hora de jogar pedras</a></li>
<li><a href="../pt381763/index.html">Jovem cientista de Krasnodar enfrenta 11 anos de regime estrito</a></li>
<li><a href="../pt381765/index.html">Ergonomia de terceira gera√ß√£o - Logitech MX Master Review</a></li>
<li><a href="../pt381771/index.html">Dispositivo para prevenir o sono nas costas e controlar a postura do "Positioner" UPSNS-KO</a></li>
<li><a href="../pt381773/index.html">O site da pol√≠cia de tr√¢nsito continua encantando</a></li>
<li><a href="../pt381777/index.html">O criador do filme Citizenfour: A Verdade de Snowden, recebeu um Oscar, foi detido 50 vezes em aeroportos americanos</a></li>
<li><a href="../pt381779/index.html">Nas colis√µes de gal√°xias, as grandes conquistam as menores</a></li>
<li><a href="../pt381781/index.html">Vis√£o geral da c√¢mera de a√ß√£o AMK5000s e seus v√¥os e quedas nos UAVs</a></li>
<li><a href="../pt381783/index.html">Sete dicas ruins para um guia de helic√≥ptero iniciante</a></li>
<li><a href="../pt381785/index.html">Urnas de Nova York se transformar√£o em pontos de acesso WiFi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>