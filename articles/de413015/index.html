<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõåüèø üåú üïì Wie wir in Kinos analysiert werden ... und nicht nur ü§∞ ü•® üê©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Computer Vision wird zunehmend in unser Leben integriert. Gleichzeitig bemerken wir nicht einmal all diese Beobachtungen von uns. Heute sprechen wir √º...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir in Kinos analysiert werden ... und nicht nur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/413015/">  Computer Vision wird zunehmend in unser Leben integriert.  Gleichzeitig bemerken wir nicht einmal all diese Beobachtungen von uns.  Heute sprechen wir √ºber ein System, mit dem die Emotionen der Besucher auf Konferenzen, im Bildungsprozess, in Kinos und vielem mehr analysiert werden k√∂nnen.  √úbrigens werden wir den Code zeigen und √ºber praktische F√§lle sprechen.  Schau unter die Katze! <br><br><img src="https://habrastorage.org/webt/cp/l5/__/cpl5__dlawmskon1umbrzryvuza.jpeg"><a name="habracut"></a><br><br>  <i>Ich gebe dem Autor das Wort.</i> <br><br>  M√∂chten Sie das Publikum in der Halle, im Klassenzimmer, im B√ºro immer pers√∂nlich kennenlernen und verwalten?  Die Frage ist √ºberhaupt nicht unt√§tig.  Es geht um ein Offline-Publikum.  Um die Gesch√§ftsleistung zu verbessern, ist es von entscheidender Bedeutung, Informationen √ºber das Verhalten Ihres Kunden, seine Reaktionen und W√ºnsche zu haben.  Wie sammle ich diese Statistiken? <br><br>  Mit einem Online-Publikum ist alles einfacher.  Wenn sich das Unternehmen im Internet befindet, wird das Marketing erheblich vereinfacht und das Sammeln von Daten im Profil Ihrer Kunden sowie das unbegrenzte ‚ÄûAufholen‚Äú von Daten f√ºr eine unbegrenzte Zeit ist ganz einfach.  Viele Werkzeuge - nehmen und verwenden, die Kosten steigen. <br><br>  Im Offline-Modus gelten dieselben Methoden wie vor 50 Jahren: Frageb√∂gen, Frageb√∂gen, externe Beobachter mit einem Notizbuch usw.  Die Qualit√§t dieser Ans√§tze ist schlecht.  Zuverl√§ssigkeit ist zweifelhaft.  √úber Bequemlichkeit k√∂nnen Sie im Allgemeinen schweigen. <br><br>  In diesem Artikel m√∂chten wir √ºber die neue CVizi-L√∂sung sprechen, die interessante und einzigartige Statistiken sammelt und dabei hilft, Informationen √ºber Ihre Kunden / Besucher mithilfe von Computer Vision zu analysieren. <br><br><h2>  Videoanalyse und Kinos </h2><br>  Urspr√ºnglich wurde das Produkt als Tool zum Z√§hlen von Kinobesuchern und zum Vergleichen ihrer Anzahl mit Tickets entwickelt, die zur disziplinarischen Kontrolle des Servicepersonals und zur Verhinderung von Verst√∂√üen gekauft wurden.  Aber wie sie sagen, kommt der Appetit mit dem Essen. <br><br>  Die entwickelte Technologie erm√∂glichte die Erweiterung der Funktionen der L√∂sung.  Es wurde m√∂glich, die Alters- und Geschlechtsmerkmale der Kinobesucher sowie den emotionalen Hintergrund jeder Person w√§hrend der Sitzung zu bestimmen. <br><br>  Die Informationen werden umgehend aktualisiert, und der Benutzer muss lediglich in Ihr pers√∂nliches Konto gehen und Statistiken zur interessierenden Sitzung oder einen Analysebericht √ºber die Zielgruppe anzeigen. <br><br><img src="https://habrastorage.org/webt/eh/iy/il/ehiyiluyhatopbmgnufkwfk9saw.png"><br><br>  Zum Beispiel er√∂ffnen wir eine Sitzung mit dem Film ‚ÄûIce‚Äú und sehen auf dem Realogramm der Halle die offensichtliche Dominanz weiblicher Zuschauer (im Prinzip vorhersehbar).  Und dann schauen wir uns die Emotionen an, die die Menschen erlebt haben (jeder kann sie sehen). <br><br><img src="https://habrastorage.org/webt/5t/yo/de/5tyodebh7pkehz3lc1mv2d1ofso.png"><br><br><img src="https://habrastorage.org/webt/8o/wp/fv/8owpfvt5z5dtbhupzvhv5_1je9g.png"><br><br>  Dies waren Daten f√ºr eine bestimmte Sitzung.  Schauen wir uns nun die gleichen Daten im Allgemeinen f√ºr die gesamte Leihdauer des Films (in einem Kino) an und erhalten Sie ein relevanteres Bild. <br><br><img src="https://habrastorage.org/webt/ou/ht/nw/ouhtnwjoxfousovpgyipn5b4ace.png"><br><br>  In Bezug auf die Besucherzahlen gibt es eine klare Dominanz der weiblichen Zuschauer im Alter von 25 bis 34 Jahren.  M√§nner sind 2,5-3 mal weniger.  Das hei√üt,  Werbung in einem neuen SUV in einem Anzeigenblock ist nicht so intelligent wie das Einsetzen einer neuen Wimperntusche.  Obwohl dies ein strittiger Punkt ist.  In jedem Fall k√∂nnen Sie dem Werbetreibenden nach nur wenigen Tagen Mietdauer die Zielgruppe sicher und sogar quantitativ garantieren. <br><br>  Aus Sicht des emotionalen Hintergrunds wird das Bild vor allem f√ºr Distributoren und Distributoren von Interesse sein.  Wem gef√§llt der Film und wen nervt er?  Soll ich eine Fortsetzung drehen?  Glauben Sie Bewertungen von Bots oder erhalten Sie zuverl√§ssige Statistiken?  In diesem Fall (der Film "Ice") ist der Film ziemlich hell in Emotionen.  Die Summe der positiven und negativen Emotionen betr√§gt 18,5 von 100 Papageien. Der Rest ist neutral.  Dies ist ein ziemlich guter Indikator.  Zum Vergleich: Der emotionale Hintergrund in anderen Filmen ist m√∂glicherweise nicht so rosig (im Durchschnitt in einem Krankenhaus f√ºr alle Altersgruppen und Geschlechter). <br><br><img src="https://habrastorage.org/webt/yd/80/bm/yd80bmjtbkwhzvemeeflo33h3aa.png"><br><br>  Zum Beispiel hat die Pazifikgrenze mit einer vergleichbaren Anzahl von Zuschauern im selben Zeitraum zweimal weniger positive Emotionen.  Und der Film ‚ÄûHallo, Oksana Sokolova‚Äú ist eine solche Entdeckung f√ºr Frauen ‚Äû50+‚Äú. <br><br><img src="https://habrastorage.org/webt/jp/c7/mk/jpc7mksi2r_vkw8klj_irnnmuqc.png"><br><br>  All dies sind einige Beispiele f√ºr Analysen, die in Filmnetzwerken verwendet werden k√∂nnen.  Sie hatten diese Informationen einfach nicht, und nur wenige Menschen wissen, dass sie √ºberhaupt erh√§ltlich sind, und noch mehr f√ºr ihren eigenen Gebrauch. <br><br>  F√ºr Filmnetzwerke er√∂ffnen sich gro√üe M√∂glichkeiten f√ºr eine eingehendere Analyse des Geschehens in der Halle entsprechend der Zusammensetzung des Publikums und ihrer Reaktion auf Filme an verschiedenen Orten. <br><br>  <b>Sie k√∂nnen sofort Folgendes hervorheben</b> : <br><br><ol><li>  Die M√∂glichkeit, jede Marketinghypothese zu testen, besteht darin, Echtzeit-Feedback zu erhalten und Zielgruppen√§nderungen und die Auswirkungen von Marketingaktivit√§ten objektiv zu bewerten. </li><li>  Die M√∂glichkeit, Werbetreibenden genaue Informationen √ºber die Zielgruppe bereitzustellen, die die Anzeige angesehen hat.  Dar√ºber hinaus ist es dem Werbetreibenden m√∂glich, die Anzeige von Anzeigen durch bestimmte Zielgruppen zu gew√§hrleisten. </li><li>  Die M√∂glichkeit, auf dem Markt einzigartige Marketingangebote (Rabatte) f√ºr Besucher eines bestimmten Alters und Geschlechts zu erstellen, ohne das bestehende Arbeitsschema zu brechen und die aktuellen Finanzindikatoren nicht zu reduzieren. </li></ol><br>  Diese und viele andere M√∂glichkeiten, die sich aufgrund dieser Entscheidung ergeben haben, k√∂nnen den Markt f√ºr Kinonetzwerke ver√§ndern, den Umsatz steigern und die Effizienz sowohl einzelner Kinos als auch des gesamten Netzwerks verbessern. <br><br>  In Anbetracht der Tatsache, dass die L√∂sung ‚Äûeinfach‚Äú ist (keine Server, kein Streaming ins Internet), die Microsoft Azure-Cloud aktiv nutzt und erschwingliche Preise f√ºr den Markt bietet (in Form von regelm√§√üigen Abonnements des Dienstes), implementieren Kinonetzwerke in Russland und im Ausland sie aktiv. <br><br>  Dar√ºber hinaus spiegelt sich die geschaffene Technologie in anderen L√∂sungen in parallelen Bereichen wider. <br><br><h2>  Videoanalysen und Ereignisse </h2><br>  Veranstaltungen, Veranstaltungen, Foren, Gipfeltreffen, Konferenzen, Symposien ... Was wissen die Organisatoren √ºber das neue Publikum?  X Personen haben sich registriert, Y ist gekommen, Z hat die Frageb√∂gen ausgef√ºllt. Das ist fast alles. <br><br>  Fragen sind ein separater Schmerz: "Also, ich kenne diesen Kameraden gut, ich werde ihm 5 Punkte geben, obwohl der Bericht langweilig war."  Wir f√ºhren dazu, dass die Zuverl√§ssigkeit der Frageb√∂gen gering ist. <br>  Um die Effektivit√§t der Konferenz zu verstehen, ist lediglich ein Feedback der Teilnehmer an den Veranstalter und die Sponsoren erforderlich. <br><br>  Der Service zur Analyse des Publikums in Kinos √ºbertr√§gt sich perfekt auf den Konferenzort.  CVizi testete diesen Fall auch, indem er zwei Experimente durchf√ºhrte: in der Matrex-Halle in Skolkovo auf einer der Konferenzen und in der Digital October-Halle w√§hrend des russischen Finales des studentischen Technologieprojektwettbewerbs Imagine Cup 2018. <br><br><h4>  Experiment 1. Matrex Hall in Skolkovo </h4><br>  In Matrex wurde die Kamera nicht wie in einem Kino √ºber dem Bildschirm installiert, sondern auf einem Teleskopst√§nder hinter den Lautsprechern.  Somit stellte sich heraus, dass die L√∂sung mobil war.  Es ist nur wenige Stunden vor dem Start erforderlich, eine Kamera zu installieren, ein Planogramm der Halle zu erstellen und einen Zeitplan f√ºr die Lautsprecher einzugeben.  Dann macht das System alles selbst. <br><br><img width="300" src="https://habrastorage.org/webt/hg/9e/xb/hg9exbr_lyhzqmtuhv42ava6sq8.png"><br><br><img src="https://habrastorage.org/webt/9r/tx/n9/9rtxn9br1inyzrwbbx5317dljv8.png"><br><br>  Jetzt kann der Veranstalter Daten zur Qualit√§t der Berichte anhand der Anzahl der Teilnehmer in der Halle und ihrer Emotionen bei jeder Sitzung / jedem Bericht sammeln.  Und das n√§chste Mal k√∂nnen Sie eine Veranstaltung anhand objektiver Fakten planen.  Es gibt Berichte, nach denen die Teilnehmer einfach den Raum verlassen und der n√§chste Redner mit denen zusammenarbeitet, die geblieben sind oder keine Zeit hatten zu gehen.  Dies ist falsch, und eine solche Prognose k√∂nnte den Effekt einfach dramatisch √§ndern, indem die Berichte neu angeordnet werden. <br><br><h4>  Experiment 2. Russisches Finale Imagine Cup </h4><br>  Hier war das Ziel etwas anders, aber der Ansatz ist der gleiche.  Eine der Nominierungen des Wettbewerbs ist der Publikumspreis.  Es sind die Zuschauer, die in der Halle sitzen, nicht die Online-Zuschauer.  Zum ersten Mal beim Imagine Cup wurde der Publikumspreis an ein Team vergeben, das von k√ºnstlicher Intelligenz ausgew√§hlt wurde.  Das Team gewann, auf dessen Leistung das Publikum am positivsten reagierte, w√§hrend die Jungs auf der B√ºhne standen.  Hierzu wurden bereits zwei Kameras eingesetzt, von denen jede kontinuierlich ihren eigenen Bereich der Halle kontrollierte und die emotionalen Eigenschaften jedes Betrachters sammelte. <br><br>  In diesem Fall k√∂nnten die Kameras an einem Lichtmast √ºber der B√ºhne aufgeh√§ngt werden, was ihre garantierte Stabilit√§t und Unbeweglichkeit gew√§hrleistet.  Und wir waren erneut davon √ºberzeugt, dass 4G Internet ausreicht, damit der Dienst funktioniert.  Das System erwies sich als so autonom wie m√∂glich.  Von den Veranstaltern wurden nur 220 V ben√∂tigt. Das ist wirklich wichtig, weil  Bei Veranstaltungen dieser Gr√∂√üenordnung sind Kommunikationskan√§le immer ein Engpass, und die Qualit√§t des Dienstes h√§ngt direkt von der Stabilit√§t des Internetkanals ab. <br><br>  Infolgedessen wurde der Preis des Publikums an das Team vergeben, das die maximale Anzahl positiver Emotionen f√ºr seine Leistung erzielt hat - Last Day Development von NNSU im.  Lobachevsky. <br><br><img src="https://habrastorage.org/webt/0j/on/o5/0jono53dh_99qoc6mbnajn2kor8.jpeg"><br><br><h2>  Videoanalyse und Lernen </h2><br>  Der Bildungsbereich in Bezug auf die Automatisierung seiner Prozesse liegt immer noch weit hinter den √ºbrigen Branchen zur√ºck.  Beispielsweise wird an vielen Universit√§ten immer noch die Anwesenheitskontrolle in Form eines externen Controllers mit einer Zeitschrift praktiziert: Eine Person kam herein, z√§hlte Studenten bei Vorlesungen, gab eine Nummer in die Zeitschrift ein (welche Frage?) Und fuhr fort. <br><br>  Die Technologie der Analyse des Publikums mit Computer-Vision-Methoden passt perfekt zum Bildungsbereich und er√∂ffnet ein gro√ües Feld f√ºr Experimente und Analysen.  M√∂gliche zu l√∂sende Aufgaben: <br><br><ol><li>  √úberwachung der Klassenteilnahme </li><li>  Studentenausweis </li><li>  Bewertung der Unterrichtsqualit√§t </li><li>  Identifizierung negativer Emotionen des Sch√ºlers und Annahme vorbeugender Ma√ünahmen. </li><li>  Bewertung der Beteiligung eines Sch√ºlers oder eines Sch√ºlers an der Schule. </li></ol><br>  Die richtige Planung des Bildungsprozesses, einschlie√ülich des Stundenplans, der Auswahl der Dozenten - dies ist die Grundlage f√ºr den Erfolg der Ausbildung.  Wenn wir jedoch in den Wirtschaftsbereich wechseln, sind dies die Bildungskosten im Kontext jedes Sch√ºlers. <br><br><h2>  Videoanalyse in anderen Branchen </h2><br>  Die CVizi-Technologie ist nicht auf die vorgestellten L√∂sungen beschr√§nkt, es gibt L√∂sungen f√ºr den Einzelhandel und die Produktion. <br><br>  Eine interessante L√∂sung besteht beispielsweise darin, Informationen √ºber die externe und interne Konvertierung des Gesch√§fts zu erhalten.  Mit diesen beiden Indikatoren k√∂nnen Sie einen Offline-Verkaufstrichter erstellen: <br><br><ul><li>  Wie viele Leute gehen in die N√§he Ihres Gesch√§fts? </li><li>  Wie viele Leute haben es betreten; </li><li>  Wie viele Leute sind an die Kasse gekommen? </li></ul><br>  Hier ist ein Beispiel f√ºr eine externe Konvertierung f√ºr ein typisches Gesch√§ft in einem Einkaufszentrum in Moskau: <br><br><img src="https://habrastorage.org/webt/1m/1m/ki/1m1mki5kknrymdyqcye2yh_nzpy.png"><br><br>  Mit diesen Indikatoren kann ein Unternehmen effektiver Geld f√ºr die Kundengewinnung, das Testen von Marketinghypothesen und die Servicequalit√§t ausgeben. <br><br><h2>  Wie funktioniert es </h2><br>  Jetzt m√∂chte ich ein wenig √ºber Technologie sprechen.  Warum sagen wir, dass die L√∂sung ‚Äûeinfach‚Äú ist?  Alles dreht sich um Architektur.  Es ist immer eine Belastung f√ºr jeden Kunden, eine teure L√∂sung und zus√§tzlich eine Flotte von Ger√§ten in Form verschiedener Server, Registrare und anderer Dinge zu kaufen.  Und dann alles einzurichten, sich zu paaren und zu begleiten.  Wenn dem Kunden eine Box in Form eines Mikrocomputers von der Gr√∂√üe eines Mobiltelefons angeboten wird, kann jeder, der mit der Technik zumindest ein wenig vertraut ist, sie in seinem lokalen Netzwerk installieren und eine IP-Videokamera aufh√§ngen.  Die Analogie zum WLAN-Router zu Hause bietet sich an - ich habe ihn an eine Steckdose angeschlossen, das Internet verbunden und die einfachsten Einstellungen vorgenommen.  Das ist alles.  Es wird kein Kundendienst ben√∂tigt.  Alles ist sehr einfach unabh√§ngig zu erledigen. <br><br><img src="https://habrastorage.org/webt/4e/ag/ek/4eagekwank1r6sxuxyjdfrmyz5i.png"><br><br>  Im pers√∂nlichen Konto sieht der Benutzer dann das gesamte System und kann Daten sowohl in Form von Berichten als auch in Form von Statistikprotokollen empfangen und diese Daten mithilfe der API in sein Unternehmens-IT-System √ºbernehmen. <br><br>  Somit muss der Benutzer nicht √ºber die Infrastruktur nachdenken und sich darum k√ºmmern.  Das Anschlie√üen von S-Box-Computerger√§ten ist sehr einfach.  Es ist auch einfach, die L√∂sung auf andere Punkte zu replizieren: H√§ngen Sie die Kameras auf, schlie√üen Sie die erforderliche Anzahl an S-Box an und sehen Sie das Objekt auf dem Portal sofort in Ihrem Konto. <br><br>  Unter dem Portal und dem pers√∂nlichen Konto befindet sich ein ganzes System von Analysen, Datenbankspeichern, Ger√§te√ºberwachung und Benachrichtigung, das in Azure-Clouds bereitgestellt wird.  Das System ist flexibel und alle erforderlichen Rechenressourcen werden dem Benutzer automatisch zugewiesen.  Daher werden dem Benutzer die gesamten Kopfschmerzen an der Ausr√ºstung und ihrer Unterst√ºtzung entzogen.  Er kauft nur einen Videoanalysedienst.  Sehr bequem. <br><br><h4>  Welche Kameras k√∂nnen f√ºr die Videoanalyse des Publikums verwendet werden? </h4><br>  Angesichts der Tatsache, dass Sie am Ende das Gesicht des Betrachters in akzeptabler Qualit√§t erhalten m√ºssen, sollte die Kamera zum einen √ºber eine gute Optik und einen guten Zoom verf√ºgen und zum anderen √ºber PTZ gesteuert werden. <br>  Wir haben mehr als ein Dutzend Kameras verschiedener Marken getestet.  Wir werden keine bestimmten Kameramodelle nennen, aber die Eigenschaften k√∂nnen ge√§u√üert werden. <br><br>  F√ºr Hallen mit bis zu 150-200 Personen reicht eine 20x Kamera mit einer 2MP Matrix.  F√ºr Hallen mit mehr als 200 Personen ist es besser, Kameras ab 25x zu verwenden.  Sie sind sicherlich teurer, aber das ist der richtige Weg.  Nat√ºrlich k√∂nnen Sie auch mit der Gr√∂√üe der Matrix herumspielen, aber Sie m√ºssen verstehen, dass die Matrix im IR-Spektrum Rauschen erzeugt und der optische Zoom immer dem digitalen vorzuziehen ist. <br><br><h4>  Erkennungsgenauigkeit </h4><br>  Je n√§her wir uns auf dem Gesicht positionieren, desto klarer wird es.  Alles scheint klar zu sein und das Kind versteht.  Wenn bei der Geschlechtserkennung jedoch alles in Ordnung ist, kann die Genauigkeit der Altersbestimmung unabh√§ngig von der N√§he der Kamera leicht ¬± 5 Jahre oder sogar mehr betragen.  Dabei geht es nicht um die Qualit√§t von Algorithmen und neuronalen Netzen, sondern darum, dass jeder Erwachsene versucht, so viel auszusehen, wie er in sein Aussehen investiert hat. <br><br>  Daher gibt die Kamera das Alter an, in dem eine Person schaut oder versucht zu schauen.  Das hei√üt,  biologisches Alter und Alter laut Foto - dies k√∂nnen zwei gro√üe Unterschiede sein.  Schlie√ülich kann sich jeder von uns an F√§lle erinnern, in denen er sich in der Alterseinstufung des Gespr√§chspartners geirrt hat.  Gleichzeitig ist das menschliche Gehirn ein sehr leistungsf√§higes und gut trainiertes neuronales Netzwerk. <br><br><h4>  Azure und seine Dienste </h4><br>  Das Herzst√ºck all dessen ist der kognitive Dienst der Microsoft Face API.  Dies ist ein sehr praktischer Dienst, auf den von nahezu jeder g√§ngigen Entwicklungsumgebung aus auf die API zugegriffen werden kann.  Wir nutzen die meisten unserer Dienste mit Python - dies ist auf der Cloud-Seite. <br><br>  <b>Die allgemeine Reihenfolge sieht folgenderma√üen aus:</b> <br><br>  1) S-Box √ºbertr√§gt Bilder in die Cloud <br><br>  2) Der Cloud-Dienst sammelt sie, sortiert sie und f√ºttert sie in Cognitive Services zur Gesichtserkennung.  Verwenden Sie Python, um gesammelte Bilder in die Cloud hochzuladen: <br><br><pre><code class="python">def upload_file(file_path, upload_file_type):
    """ Uploading file """
    ...
    if authData == '' or authData == 'undefined':
        ...
        try:
            r = requests.post(param_web_service_url_auth, headers={'authentication': base64string})
            if r.status_code == 200:
                authData = json.loads(r.text)['token']
                result = upload_file(file_path, upload_file_type)
                return result
            logging.error("Upload_file(%s) - UNEXPECTED AUTH RESULT CODE %d", file_path, r.status_code)
        except Exception as e:
            logging.error('Upload_file(%s) error', file_path)
            logging.exception('Upload exception ' + str(e))
        return False
    try:
        base_name = os.path.basename(file_path)
        txt_part, file_extension = os.path.splitext(base_name)
        files = {'file': open(file_path, 'rb')}
        ...
        if upload_file_type == 1:  # for upload full view
            ...
            payload = {'camid': cam_id, 'dt': dt, 'mac': mac}
            z = requests.post(uploaddatalinkhall, headers={'authentication': authData}, files=files, data=payload)
            if z.status_code == 200:
                return True
            logging.debug('post result -&gt; %d', int(repr(z.status_code)))
        if upload_file_type == 0:
            ...
            payload = {'camid': cam_id, 'dt': dt, 'json_str': json_str, 'mac': mac}
            ...
            z = requests.post(param_web_service_url, headers={'authentication': authData}, files=files, data=payload)
            myfile.close()
            if z.status_code == 200:
                ...
                if len(debug_path) &gt; 0:
                    # move
                    fnn = debug_path + os.sep + json_file
                    shutil.move(upload_folder + os.sep + json_file, fnn)
                else:
                    # delete
                    os.remove(upload_folder + os.sep + json_file)
                return True
            result = "UNEXPECTED STATUS CODE " + repr(z.status_code)
            logging.error('upload_file(%s) - ERROR. Res=%s, text: %s',
                          json_file, result, z.text)
        ...
    except Exception, e:
        ...
        logging.exception('Upload exception: ' + str(e))
    return False</code></pre><br>
3)   Python<br>
<br>
 CF.face.detect    ,    ,  MS Face detection Cognitive Service API,   :<br>
<br>
<pre><code class="python">def faceapi_face_detect(url):
    ‚Ä¶
    # API call
    image_url = url
    need_face_id = False
    need_landmarks = False
    attributes = 'age,gender,smile,facialHair,headPose,glasses,emotion,hair,makeup,accessory,occlusion,blur,exposure,noise'
    watcher = elapser_mod.Elapser()
    try:
        api_res = CF.face.detect(image_url, need_face_id, need_landmarks, attributes)
        # callback(url, need_face_id, need_landmarks, attributes, e.elapsed(), api_res)
        text = 'CF.face.detect image_url {}, need_face_id {}, need_landmarks {}, attributes {}, completed in {} s.'. \
            format(image_url, need_face_id, need_landmarks, attributes, watcher.elapsed())
        printlog(text)
        text2 = 'Detected {} faces.'.format(len(api_res))
        printlog(text2)
        text3 = '{}'.format(api_res)
        printlog(text3)
    except CF.CognitiveFaceException as exp:
        text = '[Error] CF.face.detect image_url {}, need_face_id {}, need_landmarks {}, attributes {}, failed in {} s.'. \
            format(image_url, need_face_id, need_landmarks, attributes, watcher.elapsed())
        printlog(text)
        text2 = 'Code: {}, Message: {}'.format(exp.code, exp.msg)
        printlog(text2)
        message = exp.msg
    ‚Ä¶
    return api_res, message</code></pre><br>
   .   ()      .        .      ,   .        .  ‚Äì    .<br>
<br>
      ? !    .       API.  ‚Äì   ,   ,    . ,      ()        ..,  ¬´¬ª .     .      .<br>
<br>
       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>.<br>
<br>
<h2> </h2><br>
<img src="https://habrastorage.org/webt/f5/pd/9e/f5pd9ee3cgdreresbvq3nrwcqmk.jpeg" align="left" width="120"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a> ‚Äî     CVizi. : 'aosipov @ cvizi.com'.     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FB </a>           .</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de413015/">https://habr.com/ru/post/de413015/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de413005/index.html">Blockchain - ein Heilmittel gegen die Hauptkrankheiten der modernen Bildung</a></li>
<li><a href="../de413007/index.html">Seltsame Synthese bei der Arbeit mit FPGA</a></li>
<li><a href="../de413009/index.html">Python-Umgebungsverwaltung mit Pipenv</a></li>
<li><a href="../de413011/index.html">Keller des Todes</a></li>
<li><a href="../de413013/index.html">Der Wunsch nach Transparenz</a></li>
<li><a href="../de413017/index.html">Ein kleiner Hinweis zum Platzhalter Verschl√ºsseln wir Zertifikate</a></li>
<li><a href="../de413019/index.html">Leben ein Jahr nach der Einf√ºhrung von Robotern: Gleichheit wird nicht verlangt</a></li>
<li><a href="../de413021/index.html">Nachtsichtger√§t basierend auf dem W√§rmebildmodul Flir Lepton 3</a></li>
<li><a href="../de413023/index.html">‚ÄûGut vergessenes Alt‚Äú: Elektrofahrr√§der - von den ersten Modellen bis zu den M√∂glichkeiten von heute</a></li>
<li><a href="../de413025/index.html">Auf Dornen und Sternen auf dem Weg zur Optimierung von Entwicklungsprozessen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>