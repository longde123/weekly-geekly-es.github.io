<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>↖️ 🙎🏿 🎥 So sichern Sie C. 🙆🏽 🍣 🎅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die C-Sprache ist sehr leistungsfähig und wird häufig verwendet - insbesondere im Linux-Kernel -, ist aber auch sehr gefährlich. Ein Linux-Kernel-Entw...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So sichern Sie C.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422623/"><img src="https://habrastorage.org/getpro/habr/post_images/da1/f3b/361/da1f3b36126dc31803d8e17f60e4e0eb.jpg"><br><br>  <i>Die C-Sprache ist sehr leistungsfähig und wird häufig verwendet - insbesondere im Linux-Kernel -, ist aber auch sehr gefährlich.</i>  <i>Ein Linux-Kernel-Entwickler beschrieb den Umgang mit C-Sicherheitslücken.</i> <br><br>  Sie können fast alles in C tun, aber das bedeutet nicht, dass es getan werden muss.  C-Code ist sehr schnell, wird aber ohne Sicherheitsgurte getragen.  Selbst wenn Sie ein Experte sind, wie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">meisten Linux-Kernel-Entwickler</a> , sind Killerfehler immer noch möglich. <br><br>  Zusätzlich zu Fallstricken wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zeiger-Aliasen</a> weist C grundlegende unkorrigierte Fehler auf, die auf ihre Opfer warten.  Dies sind die Sicherheitslücken, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Case Cook</a> , Google Linux-Kernel-Sicherheitsingenieur, auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Linux-Sicherheitskonferenz</a> in Vancouver behoben hat. <br><a name="habracut"></a><br>  „C ist eine Art Assembler.  Es ist fast Maschinencode “, sagte Cook und bezog sich auf ein Publikum von mehreren hundert Kollegen, die die Geschwindigkeit der Anwendungen auf C verstehen und schätzen. Die schlechte Nachricht ist jedoch, dass„ C mit gefährlichem Gepäck, vage Verhaltensweisen und anderen Schwächen einhergeht, die dazu führen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sicherheitslücken</a> und anfällige Infrastruktur. “ <br><br>  Wenn Sie C in Ihren Projekten verwenden, sollten Sie auf Sicherheitsprobleme achten. <br><br><h1>  Linux-Kernelschutz </h1><br>  Im Laufe der Zeit entdeckten Cook und Kollegen zahlreiche Probleme mit nativem C. Um sie anzugehen, wurde das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kernel-Selbstschutzprojekt</a> gestartet.  Er arbeitet langsam und stetig daran, den Linux-Kernel vor Angriffen zu schützen und den problematischen Code von dort zu entfernen. <br><br>  Dies ist kompliziert, sagt Cook, weil "der Kernel Dinge tun muss, die für eine bestimmte Architektur sehr spezifisch sind, um Speicherverwaltung, Interrupt-Behandlung, Sheduling usw.".  Eine große Menge an Code bezieht sich auf bestimmte Aufgaben, die sorgfältig geprüft werden müssen.  Beispiel: "C verfügt nicht über eine API zum Festlegen von Seitentabellen oder zum Wechseln in den 64-Bit-Modus", sagte er. <br><br>  Bei einer solchen Auslastung und bei schwachen Standardbibliotheken in C gibt es zu viel vages Verhalten.  Cook zitierte - und stimmte zu - Raf Leviens Blog-Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Mit undefiniertem Verhalten ist alles möglich".</a> <br><br>  Cook gab konkrete Beispiele: „Was ist der Inhalt der„ nicht initialisierten “Variablen?  Das ist alles, was mir vorher in Erinnerung geblieben ist!  Es gibt keine Typen in ungültigen Zeigern, aber können typisierte Funktionen über sie aufgerufen werden?  Natürlich!  Die Montage ist alle gleich: Sie können jede Adresse kontaktieren!  Warum hat <code>memcpy()</code> nicht das Argument 'maximale Ziellänge'?  Es spielt keine Rolle, tun Sie einfach, was Sie sagen.  Alle Speicherbereiche sind gleich! “ <br><br><h1>  Warnungen ignorieren ... aber nicht immer </h1><br>  Einige dieser Funktionen sind relativ einfach zu handhaben.  Cook kommentierte: „Linus [Torvalds] mag die Idee, immer lokale Variablen zu initialisieren.  Also mach es einfach. “ <br><br>  Aber mit einer Reservierung.  Wenn Sie eine lokale Variable in switch initialisieren, erhalten Sie eine Warnung: "Die Anweisung wird niemals ausgeführt <code>[-Wswitch-unreachable]</code> ", da der Compiler den Code verarbeitet.  Diese Warnung kann ignoriert werden. <br><br>  Es können jedoch nicht alle Warnungen ignoriert werden.  "Arrays mit variabler Länge sind immer schlecht", sagte Cook.  Weitere Probleme sind Stapelerschöpfung, Zeilenüberlauf und Verstöße gegen den Seitenschutz.  Darüber hinaus machte Cook auf die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Langsamkeit von VLA aufmerksam</a> .  Durch das Entfernen aller VLAs aus dem Kernel wurde die Leistung um 13% erhöht.  Die Verbesserung von Geschwindigkeit und Sicherheit ist ein doppelter Vorteil. <br><br>  Obwohl die VLAs fast aus dem Kernel entfernt wurden, blieben sie in einem Code.  Glücklicherweise sind VLAs mit dem Compiler- <code>-Wvla</code> leicht zu finden. <br><br>  Ein weiteres Problem ist in der Semantik von C verborgen. Wenn im Schalter eine Unterbrechung fehlt, was meinte der Programmierer dann?  Das Überspringen einer Unterbrechung kann unter verschiedenen Bedingungen zur Codeausführung führen.  Dies ist ein bekanntes Problem. <br><br>  Wenn Sie im vorhandenen Code nach break / switch-Anweisungen suchen, können Sie mit <code>-Wimplicit-fallthrough</code> eine neue switch-Anweisung hinzufügen.  Dies ist eigentlich ein Kommentar, aber moderne Compiler analysieren ihn.  Sie können <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">das Fehlen einer Unterbrechung</a> auch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">explizit mit einem "Fallthrough" -Kommentar markieren</a> . <br><br>  Cook stellte auch einen Leistungseinbruch fest, als er die Grenzen für die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zuweisung des Plattenspeichers</a> überprüfte.  Wenn Sie beispielsweise <code>strcpy()-family</code> überprüfen, wird die Leistung um 2% reduziert.  Alternativen wie <code>strncpy()</code> ihre eigenen Probleme.  Es stellt sich heraus, dass Strncpy nicht immer mit einem Nullzeichen endet.  Cook sprach das Publikum traurig an: "Wo kann ich die besten APIs bekommen?" <br><br>  Während einer Fragerunde fragte ein Linux-Entwickler: "Kann ich alte, schlechte APIs loswerden?"  Cook antwortete, dass Linux das Konzept der Legacy-APIs für einige Zeit unterstütze.  Trotzdem lehnte Torvalds diese Idee ab und argumentierte, dass eine veraltete API vollständig weggeworfen werden sollte.  Das ewige Löschen der API sei jedoch "politisch gefährlich", fügte Cook hinzu.  Also, während wir stecken bleiben. <br><br><h1>  Langfristige Lösung des Problems?  Mehr Entwickler verstehen Sicherheitsprobleme </h1><br>  Cook sieht eine lange und schwierige Reise vor.  Die Idee, einen Linux C-Dialekt zu erstellen, schien einst attraktiv, wird es aber nicht.  Das eigentliche Problem mit dem gefährlichen Code ist, dass "die Leute den Code nicht bereinigen wollen - nicht nur schlechten Code, sondern auch C selbst", sagte er.  Wie bei allen Open Source-Projekten „brauchen wir engagiertere Entwickler, Prüfer, Tester und Backport-Spezialisten.“ <br><br><h1>  Gefährliches C: Unterricht </h1><br><ul><li>  C ist eine ausgereifte und leistungsstarke Sprache, die jedoch technische Schwierigkeiten und Sicherheitsprobleme verursacht. </li><li>  Linux-Entwickler achten besonders auf die Sicherung von C (ohne die Leistung zu verlieren), da der größte Teil des Betriebssystems darauf geschrieben ist. </li><li>  Der Linux Linux-Kernel-Sicherheitsingenieur identifizierte bestimmte Sprachschwachstellen und erklärte, wie diese vermieden werden können. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de422623/">https://habr.com/ru/post/de422623/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de422609/index.html">Sprachbarriere und NLP. Warum verstehen uns Chatbots nicht?</a></li>
<li><a href="../de422611/index.html">Standard Error Handler in RxJava2 oder warum RxJava Anwendungsabstürze verursacht, selbst wenn onError implementiert ist</a></li>
<li><a href="../de422613/index.html">PowerPool Cybergroup hat die Zero-Day-Sicherheitsanfälligkeit in Advanced Local Procedure Call gemeistert</a></li>
<li><a href="../de422615/index.html">Die ganze Wahrheit über RTOS. Artikel 9. Scheduler: Implementierung</a></li>
<li><a href="../de422617/index.html">Die ganze Wahrheit über RTOS. Artikel 8. Nucleus SE: Internes Design und Bereitstellung</a></li>
<li><a href="../de422625/index.html">Wir haben mit Troy Miles gesprochen - dem Programmierer von "Neuromancer"</a></li>
<li><a href="../de422627/index.html">MongoDB und IT-Arbeitsmarktforschung</a></li>
<li><a href="../de422629/index.html">Hör auf, die Holzfäller zu füttern! Gib mehr Modifikatoren! Lazy Static Final Fields. Entwurf einer Feature-Skizze</a></li>
<li><a href="../de422631/index.html">QIWI-Terminals. So holen Sie das Beste aus einfachen Technologien heraus</a></li>
<li><a href="../de422633/index.html">Wie wir die Überwachung der Arbeit der Mitarbeiter des Tankstellennetzes des Bundes automatisiert haben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>