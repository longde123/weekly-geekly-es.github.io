<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÜ üëî üî∫ Apakah mungkin menggunakan Tibero alih-alih Oracle. Dan apakah itu perlu üé∑ ü§≥üèº üÜî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada artikel ini, saya akan memberi tahu Anda betapa saya serius memikirkan alternatif untuk Oracle. Tapi bagaimana dengan Postgre, katamu? Ya, tapi a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apakah mungkin menggunakan Tibero alih-alih Oracle. Dan apakah itu perlu</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413147/">  Pada artikel ini, saya akan memberi tahu Anda betapa saya serius memikirkan alternatif untuk Oracle.  Tapi bagaimana dengan Postgre, katamu?  Ya, tapi ada nuansa.  Pertama kita akan berurusan dengan pertanyaan "Mengapa Oracle?" <br>  Logika bisnis dalam database kami.  Dalam buku Oracle untuk para profesional, Tom Kite menulis <br><blockquote>  Saat mengembangkan aplikasi basis data, saya menggunakan mantra yang sangat sederhana: <br><br>  jika memungkinkan, lakukan dengan satu pernyataan SQL; <br>  jika ini tidak dapat dilakukan dengan pernyataan SQL tunggal, lakukan dalam PL / SQL; <br>  jika ini tidak dapat dilakukan dalam PL / SQL, coba gunakan prosedur tersimpan Java; <br>  jika ini tidak dapat dilakukan di Jawa, lakukan sebagai prosedur eksternal dalam C; <br>  jika ini tidak dapat diimplementasikan sebagai prosedur eksternal dalam C, Anda harus serius memikirkan mengapa ini dilakukan sama sekali ... </blockquote>  dan dalam desain sistem, saya mengikuti aturan ini.  Jenis objek dalam Oracle sangat menyenangkan, dengan bantuannya, logika bisnis yang kompleks indah dan mudah diimplementasikan sesuai dengan semua kanon OOP. <br><br>  Oracle itu mahal.  Membeli dan tidak menggunakan semua yang ada di dalamnya akan menjadi kesalahan. <br>  Namun, selalu ada faktor tim dan kompetensi.  Jika tim Anda telah mengembangkan segalanya di Oracle selama sepuluh tahun, melepaskan Postgre bisa sangat menyakitkan. <br><br>  Oracle itu mahal.  Begitu mahal sehingga Anda dapat menulisnya beberapa kali, dan tidak memikirkan perlunya Oracle dalam proyek baru akan menjadi kesalahan. <br><br>  Beberapa kali saya menemukan publikasi tentang produk Tibero Korea, yang konon dibuat untuk menggantikan Oracle.  Dan sekarang mereka memiliki daya tarik kemurahan hati yang belum pernah terjadi sebelumnya - Lisensi standar didistribusikan untuk pengembang hampir gratis, untuk satu dolar untuk soket.  Jadi, kami mengerti: apa yang dapat ditawarkan orang Korea saat ini.  Bagaimanapun, dengan mobil, mereka sudah (hampir) berhasil! <br><a name="habracut"></a><br><h3>  Deskripsi percobaan </h3><br>  Perwakilan TMaxSoft mengatakan bahwa Tibero hampir 100% kompatibel dengan Oracle, dan ada utilitas untuk migrasi basis data.  Saya memutuskan untuk mengambil basis produk saya, dengan logika bisnis di Oracle, menggunakan semua pesona OOP di PL \ SQL, dan mentransfernya ke Tibero.  Dalam publikasi ini, kami tidak mempertimbangkan migrasi data itu sendiri, itu kurang menarik, dan saya belum mencoba migrasi penuh. <br><br>  Tugasnya adalah ini: <br><br>  1. Tabel transfer. <br>  2. Transfer indeks, kunci, dll. <br>  3. Transfer paket dan pemicu. <br>  4. Transfer jenis objek. <br><br>  Tapi pertama-tama, mari kita berurusan dengan alat. <br><br><h3>  Alat-alatnya </h3><br>  Google tahu sedikit tentang Tibero.  Kami mengunduh database itu sendiri dalam bentuk mesin virtual di mana semuanya telah digunakan.  Hanya ada dua alat: utilitas untuk memigrasi T-UP, dan IDE untuk DBA dan pengembang tbAdmin.  Semuanya dilakukan di Jawa, berjalan di mana saja, secara teori. <br><br>  T-UP terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/oi/gn/_a/oign_ablqrxbbwtiutwczw6adi0.jpeg"><br>  <i>Jendela utama: koneksi basis data.</i> <br><br><img src="https://habrastorage.org/webt/yz/3f/cx/yz3fcxrlhslegdkikvd_9iv5qx4.jpeg"><br>  <i>Jika Anda mengklik Opsi, Anda dapat mengonfigurasi sesuatu.</i> <br><br><img src="https://habrastorage.org/webt/vt/rb/9a/vtrb9a6od2ep0tjh_mhczcd9zv8.jpeg"><br>  <i>Yang paling penting, Anda dapat memilih jenis objek yang akan dimigrasi.</i> <br><br>  Tidak ada instruksi, bantuan, tip yang dapat ditemukan. <br>  Itu membuat kesan utilitas buatan sendiri.  Kadang-kadang dia terbang dengan eksekusi, tetapi pada dasarnya dia bekerja sesuai kebutuhan. <br><br>  Alat kedua adalah Tibero Admin IDE.  Itu dapat diunduh dari situs web TMaxSoft jika Anda mendaftar terlebih dahulu.  Anda juga bisa mendapatkan lisensi demo di sana. <br><br><img src="https://habrastorage.org/webt/7n/fh/py/7nfhpypymbdibdgxbntldsa0jrm.jpeg"><br>  <i>Tibero Admin terlihat seperti IDE lama yang khas</i> <br><br>  Saya sudah terbiasa dengan alat Pengembang PL / SQL yang sangat baik dari Allround Automations.  Di Tibero Admin, lupakan permintaan kontekstual, tidak ada yang akan muncul di layar Anda setelah mengklik "titik", itu tidak akan menambahkan nama tabel dan objek kepada Anda.  Cukup ketik kode, Anda pemrogram.  Bantuan, dokumentasi?  Tidak.  Ada dokumentasi tentang DBMS di situs web pabrikan, sangat menarik ... tanpa pencarian.  Tidak ada dokumentasi yang ditemukan untuk IDE.  Namun, tidak ada yang rumit.  Ada masalah dengan otorisasi - ternyata pengguna harus diberikan hak DBA untuk masuk ke tbAdmin.  Dan menarik dengan port <b>, 8630 adalah untuk SYS, untuk yang lain 8629</b> . <br><br>  Bug IDE.  Dari waktu ke waktu, ketika Anda mencari di suatu tempat, <i>indeks</i> pesan di <i>luar batas</i> terbang <i>keluar</i> , pesan seperti <b>java.lang.Exception: komitmen berhasil</b> sangat menakutkan.  Hal ini diperlukan untuk mempertimbangkan berbagai jenis jendela SQL dan PSM: Pada yang pertama, Anda tidak mungkin untuk mengkompilasi kode program, di yang kedua, Anda tidak akan menjalankan permintaan.  Setelah Pengembang PL / SQL - kemiripan yang menyedihkan dari tangan kiri ... <br><br>  Mulai ke percobaan. <br><br><h3>  Migrasi Tabel </h3><br>  Kami memilih skema di T-UP, klik Migrasi, pertama pilih "tabel" di opsi dan proses transfer dimulai.  Saya mengalami dua masalah. <br><br>  TABLESPACES.  Saya memutuskan untuk mentransfernya ke tabel, tetapi Tibero tampaknya telah mencoba untuk memesan ruang sebanyak mungkin untuk mereka seperti yang mereka habiskan di basis data sumber.  Dan ini banyak, dan dia tidak bisa.  Saya membuat ruang tabel secara manual, dan kemudian semuanya berjalan dengan baik. <br><br>  Selain tabel dengan nilai tanggal DEFAULT ketik '31 .12.2019 '.  Dalam pengaturan Oracle, kami telah mendaftarkan format ini, karena Tibero sangat membantu <pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">session</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> nls_date_format=<span class="hljs-string"><span class="hljs-string">'DD.MM.YYYY'</span></span>;</code> </pre>  tetapi tidak ada tempat bagi T-UP untuk melakukannya.  Kolega dari TMaxSoft menyarankan pengaturan variabel TB_NLS_DATE_FORMAT = "DD.MM.YYYY", tetapi itu tidak membantu saya secara pribadi.  Mungkin saya melakukan sesuatu yang salah.  Saya harus membuat tabel dengan parameter seperti itu secara manual, tidak banyak. <br><br>  Hasil dari langkah pertama: memindahkan struktur tabel dari Oracle ke Tibero berfungsi dengan baik. <br><br><h3>  Kunci dan indeks. </h3><br>  Kami memilih kotak centang INDEX, CONSTRAINT di T-UP, dan meneruskan. Masalah muncul dengan PERIKSA karena situasi yang sama dengan tanggal.  Secara umum, indeks, kunci utama, cek - telah dibuat.  Tapi saya tidak dapat menemukan kunci asing di database yang baru dibuat.  Dan migrasi konstanta berakhir pada log T-UP dengan pesan <b><i>"Migration Failed: java.lang.NullPointerException".</i></b>  Kebetulan?  Saya kira tidak ... <br><br><h3>  Paket dan pemicu. </h3><br>  Dalam pemicu saya tidak ada yang rumit, mereka diciptakan dengan sempurna.  Benar, saya tidak memeriksa cara kerjanya, ini akan menjadi cerita yang terpisah. <br><br>  Mari kita bicara tentang prosedur dan fungsi yang mengimplementasikan bagian dari logika.  Di sini, sayangnya, tidak semuanya berjalan dengan sempurna. <br><br>  Sederhana: di <s>pasukan</s> Tibero tidak ada kata <b>BARU</b> .  O: = Konstruksi BARU t_my_type () tidak akan dikompilasi.  Di Oracle, itu benar, tidak wajib, tetapi saya selalu menulis untuk beberapa alasan.  Saya harus menghapus. <br><br>  Peran DBA memungkinkan SQL Window untuk mengakses semua tabel.  Namun, ketika menyusun paket atau prosedur dalam skema dengan peran seperti itu, saat menggunakan tabel dan objek skema lain, Anda perlu memberikan hibah yang sesuai ke objek.  Keajaiban peran DBA tidak membantu di sini. <br><br>  Dari yang spesifik.  Saya mendapat FORALL yang aneh di basis data saya, yang, bagaimanapun, berfungsi. <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--     PROCEDURE save_tar_test AS TYPE number_table IS TABLE OF NUMBER INDEX BY BINARY_INTEGER; TYPE date_table IS TABLE OF DATE INDEX BY BINARY_INTEGER; TYPE varchar50_table IS TABLE OF VARCHAR2(50) INDEX BY BINARY_INTEGER; TYPE char1_table IS TABLE OF CHAR(1) INDEX BY BINARY_INTEGER; TYPE t_tar_det_out_upd_rec_test IS RECORD ( --   cmr_tar_det_id number_table, in_stamp date_table, err_code_id number_table ); tdou_rec t_tar_det_out_upd_rec_test; BEGIN --   ,  tdou_rec  :      Oracle FORALL j IN 1 .. tdou_rec.cmr_tar_det_id.COUNT UPDATE cmr_tar_det dd SET err_code_id = tdou_rec.err_code_id(j) WHERE dd.cmr_tar_det_id = tdou_rec.cmr_tar_det_id(j) AND in_stamp = tdou_rec.in_stamp(j); END;</span></span></code> </pre><br>  Tibero mengatakan <i>‚Äúpernyataan dml harus memiliki parameter bulk-in untuk semua tutup‚Äù</i> .  Dan saya mengerti jauh di lubuk hati, tetapi kode ini harus diulang dalam siklus reguler. <br><br>  Situasi dengan tabel yang berisi objek lebih buruk. <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> S1.TYPE_PAY_HIST <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OBJECT</span></span> ( pay_status_id <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>), stamp <span class="hljs-built_in"><span class="hljs-built_in">DATE</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> S1.TABLE_PAY_HIST <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">VARRAY</span></span>(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">OF</span></span> type_pay_hist; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> S2.RECEIPT ( receipt_id <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>(<span class="hljs-number"><span class="hljs-number">8</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, pay_sum <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>(<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, receipt_hist S1.TABLE_PAY_HIST ); FUNCTION receipt_status_change(p_cmr_receipt_id NUMBER, p_new_status NUMBER) RETURN NUMBER AS l_receipt_hist s1.table_pay_hist; l_type_pay_hist s1.type_pay_hist; l_status NUMBER; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> receipt_hist <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> l_receipt_hist <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> receipt p <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> p.receipt_id = p_cmr_receipt_id <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span>; EXCEPTION WHEN NO_DATA_FOUND THEN RETURN c_err_not_find_status; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>; ... <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>;</code> </pre><br>  Kami memiliki kesalahan kompilasi, ketik mistmatch. <br><br>  Orang-orang dari TMaxSoft mengusulkan versi kode ini: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> .... <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> l_receipt_hist table_pay_hist; l_type_pay_hist type_pay_hist; l_status NUMBER; cmr_receipt_row cmr_receipt%rowtype; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> cmr_receipt_row <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> cmr_receipt p <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> p.cmr_receipt_id = p_cmr_receipt_id <span class="hljs-keyword"><span class="hljs-keyword">FOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TYPE_PAY_HIST(r.pay_status_id,r.stamp) <span class="hljs-keyword"><span class="hljs-keyword">bulk</span></span> <span class="hljs-keyword"><span class="hljs-keyword">collect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> l_receipt_hist <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> cmr_receipt p,<span class="hljs-keyword"><span class="hljs-keyword">table</span></span>(p.receipt_hist) r <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> p.cmr_receipt_id = p_cmr_receipt_id; EXCEPTION WHEN NO_DATA_FOUND THEN dbms_output.put_line('NO_DATA_FOUND'); RETURN null;<span class="hljs-comment"><span class="hljs-comment">--c_err_not_find_status; END; ... END;</span></span></code> </pre><br>  Bekerja mungkin berhasil.  Tetapi tidak begitu nyaman, dan Anda harus mengulang kodenya. <br><br>  Sisanya dikompilasi secara normal, kecuali untuk hal-hal tertentu seperti SDO_GEOM.  Dan omong-omong, Tibero memiliki analog.  Tangannya belum mencapai ruang kerjanya. <br><br><h3>  Jenis </h3><br>  Dalam salah satu proyek, kami menggunakan kekuatan OOP oleh Oracle hollow. <br>  Pertanyaan paling menarik bagi Tibero adalah tentang ini. <br><br>  Kami membuat jenis tertentu, yang merupakan dasar untuk satu set jenis lainnya. <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> t_tar_object <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OBJECT</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>(<span class="hljs-number"><span class="hljs-number">12</span></span>), smth <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>(<span class="hljs-number"><span class="hljs-number">12</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CONSTRUCTOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> t_tar_object <span class="hljs-keyword"><span class="hljs-keyword">RETURN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">RESULT</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">MEMBER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> target(param <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">RETURN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">MEMBER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> inside(o t_tar_object) <span class="hljs-keyword"><span class="hljs-keyword">RETURN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">MEMBER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">clone</span></span> <span class="hljs-keyword"><span class="hljs-keyword">RETURN</span></span> t_tar_object ) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FINAL</span></span>; <span class="hljs-comment"><span class="hljs-comment">--  CREATE OR REPLACE TYPE BODY t_tar_object AS CONSTRUCTOR FUNCTION t_tar_object RETURN SELF AS RESULT AS BEGIN RETURN; END; MEMBER FUNCTION target(param IN NUMBER DEFAULT NULL) RETURN NUMBER AS BEGIN RETURN id; END; MEMBER FUNCTION clone RETURN t_tar_object AS BEGIN RETURN NULL ; END; END;</span></span></code> </pre><br>  Dan sekarang kami mencoba untuk membuat ahli waris yang layak untuknya. <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> t_tar_service <span class="hljs-keyword"><span class="hljs-keyword">UNDER</span></span> t_tar_object ( is_virtual <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">CONSTRUCTOR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> t_tar_service (p_serv_obj t_tar_object, p_main_id <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>, p_pack_id <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">RETURN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SELF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">RESULT</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">OVERRIDING</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MEMBER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> target(param <span class="hljs-keyword"><span class="hljs-keyword">IN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">RETURN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">NUMBER</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">OVERRIDING</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MEMBER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">clone</span></span> <span class="hljs-keyword"><span class="hljs-keyword">RETURN</span></span> t_tar_object ) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FINAL</span></span>;</code> </pre><br>  Compiler akan menolak untuk mengesampingkan fungsi target.  Namun, tidak ada pertanyaan tentang fungsi klon.  Ternyata Tibero tidak suka OVERRIDING ketika metode memiliki parameter.  Oke, hapus kata OVERRIDING.  Tapi ini mengkhawatirkan, dan kami menulis skrip uji.  Sejauh ini dengan tipe induknya. <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> o1 t_tar_object; i1 number := 100; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> o1 := t_tar_object; o1.id := 1; i1 := o1.target; <span class="hljs-comment"><span class="hljs-comment">-- dbms_output.put_line (i1)   . --      ,  ,     i1   -- if i1 &gt; 0 then dbms_output.put_line ('big'); end if; if i1 &lt; 0 then dbms_output.put_line ('small'); end if; if i1 = 0 then dbms_output.put_line ('zero'); end if; if i1 is null then dbms_output.put_line ('null'); end if; end;</span></span></code> </pre> <br>  Tampaknya kita tidak meninggalkan pilihan untuk program ini, tidak peduli apa nilai yang diambil variabel i1, sesuatu akan muncul di output.  Tapi ... tidak ada yang muncul! <br><br><img src="https://habrastorage.org/webt/tx/bf/he/txbfhe1mekorl0o6ormecblpbj8.jpeg"><br>  <i>Saya langsung ingat film yang bagus</i> <br><br>  Keanehan ini tidak berakhir di sini.  Membuat percobaan lebih buruk <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> o1 t_tar_object; i1 number := 100; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> o1 := t_tar_object; o1.id := 1; i1 := o1.target; <span class="hljs-comment"><span class="hljs-comment">--  ,      -    i1 := 2; if i1 &gt; 0 then dbms_output.put_line ('big'); end if; if i1 &lt; 0 then dbms_output.put_line ('small'); end if; if i1 = 0 then dbms_output.put_line ('zero'); end if; if i1 is null then dbms_output.put_line ('null'); end if; end;</span></span></code> </pre> <br>  Bahkan fakta bahwa setelah semua manipulasi dengan metode objek, kita secara kaku mengatur nilai variabel, tidak mengubah apa pun - output kosong. <br><br>  Kendalikan eksperimen, uji diri Anda sendiri untuk kegilaan: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> o1 t_tar_object; i1 number ; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> o1 := t_tar_object; o1.id := 1; <span class="hljs-comment"><span class="hljs-comment">--i1 := o1.target;    i1 := 2; if i1 &gt; 0 then dbms_output.put_line ('big'); end if; if i1 &lt; 0 then dbms_output.put_line ('small'); end if; if i1 = 0 then dbms_output.put_line ('zero'); end if; if i1 is null then dbms_output.put_line ('null'); end if; end;</span></span></code> </pre><br>  "Besar" yang dihargai muncul di output.  Menyeramkan, bukan?  Menggunakan poke ilmiah, orang-orang dari TMaxSoft menemukan bahwa jika Anda menghapus nuansa "TIDAK FINAL" dari spesifikasi t_tar_object, maka objek akan berperilaku tepat.  Tapi mengapa kita membutuhkan ... tanpa ahli waris. <br><br>  Tidak ada gunanya membicarakan lebih lanjut tentang OOP di Tibero.  Seperti, pada kenyataannya, OOP di Tibero.  Setelah itu, pertanyaan lain muncul: dan kode prosedur dan fungsi yang dikompilasi - apakah itu berfungsi dengan benar?  Saya belum tahu.  Sejumlah besar kode telah berimigrasi dan dikompilasi.  Untuk proyek yang tidak mengandung jenis latihan di atas, ini adalah keberhasilan yang pasti.  Tetapi menguji eksekusi kode yang benar adalah tugas yang serius.  Dan jujur ‚Äã‚Äãsaja, saya tidak berharap bertemu dengannya.  Saya tidak akan siap untuk mengatakan apakah saya akan memiliki proyek pada DBMS ini.  Tetapi jika itu terjadi, maka pengembangan akan dilakukan pada Oracle, menggunakan alat yang mudah dan normal, dan dengan migrasi reguler ke Tibero.  Menulis kode dalam IDE tanpa petunjuk kontekstual dan dengan kesalahan periodik dari antarmuka itu sendiri adalah kesenangan di bawah rata-rata. <br><br><h3>  Kesimpulan </h3><br>  Apakah Tibero memiliki masa depan dalam kondisi saat ini?  Tidak yakin  Lagi pula, jika Anda melihat biaya lisensi tidak termasuk megascale, maka satu soket Standar berharga sekitar 800.000. Yang lebih murah daripada Oracle, tetapi tidak kadang-kadang.  Dan seperti yang saya yakini dari pengalaman saya sendiri, sejauh ini bahkan tidak dekat Oracle. <br><br>  Apakah masuk akal untuk menggunakan Tibero yang hampir gratis yang ditawarkan sekarang?  Mungkin ya.  Mereka mengatakan bahwa ketika membayar biaya dukungan teknis (99.000 rubel per tahun untuk soket), diizinkan untuk menggunakan pangkalan ini dalam proyek komersial.  Jika Anda memiliki tim oracleis yang tersedia, dan Anda perlu membuat dan menempatkan sesuatu yang tidak terlalu rumit di server Anda, tetapi lebih murah dan lebih cepat - opsi yang menarik.  Anda masih dapat memainkan kartu sanksi, memberi tahu pelanggan yang bermasalah bahwa Korea bukan Amerika Serikat. <br><br>  Haruskah saya menerjemahkan proyek yang ada dari Oracle ke Tibero?  Tidak mungkin.  Tidak ada alasan untuk mencari petualangan seperti itu.  Lebih mudah untuk memberikan dukungan teknis Oracle dan tidak membayar apa pun kepada siapa pun. <br><br>  Dan jika Anda perlu membuat contoh baru dari proyek lama yang berjalan di Oracle?  Dan sebagai hasilnya, beli lisensi baru?  Pikirkan di sini.  Ada kemungkinan bahwa pangkalan Anda akan bermigrasi dan bekerja secara kualitatif.  Tetapi segera pikirkan tentang mendukung dua area dalam proyek, atau menerjemahkan semuanya ke Tibero.  Kami mempertimbangkan biaya tenaga kerja, risiko, dan manfaat dari lisensi yang lebih murah.  Bandingkan, putuskan. <br><br>  Mungkin dalam versi Tibero berikutnya semuanya akan berbeda.  Itu hanya perlu untuk menyelesaikan jenis, membuat IDE normal, mungkin mengubah kebijakan harga.  Dan jika DBMS sama dengan mobil, maka setelah 5 tahun orang Korea dapat menduduki pangsa pasar yang signifikan dan menggantikan hegemon.  Kami akan melihat. <br><br><h3>  PS </h3><br>  Nilai tambah yang serius ketika memilih DBMS untuk proyek baru dapat berupa dukungan teknis TMaxSoft.  Saya bahkan tidak membeli lisensi untuk satu dolar, dan orang-orang itu menjawab saya dengan sangat cepat, jelas tertarik.  Mereka membantu dengan kedua pertanyaan bodoh dan yang dijelaskan di sini.  Umpan baliknya sangat bagus. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id413147/">https://habr.com/ru/post/id413147/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id413137/index.html">Klasifikasi sejumlah besar data pada Apache Spark menggunakan model pembelajaran mesin sewenang-wenang</a></li>
<li><a href="../id413139/index.html">Mobil listrik: revolusi akan datang</a></li>
<li><a href="../id413141/index.html">Klasifikasi sejumlah besar data pada Apache Spark menggunakan model pembelajaran mesin sewenang-wenang</a></li>
<li><a href="../id413143/index.html">Bobby Urban Lite: New Urban Backpack XD Design</a></li>
<li><a href="../id413145/index.html">Analis membantu bisnis menghasilkan uang</a></li>
<li><a href="../id413149/index.html">Gudang data terdistribusi dalam konsep Danau Data: mulai dari mana</a></li>
<li><a href="../id413151/index.html">NSA mengusulkan standar enkripsi untuk perangkat IoT, tetapi ISO menolaknya</a></li>
<li><a href="../id413155/index.html">Panduan Gaya Shell Google (dalam bahasa Rusia)</a></li>
<li><a href="../id413157/index.html">Tentang menyimpan kata sandi dalam basis data</a></li>
<li><a href="../id413159/index.html">UI gelap atau terang? Kiat untuk memilih skema warna untuk antarmuka Anda</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>