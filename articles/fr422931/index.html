<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç© üêü üë©üèΩ‚Äçüîß Nous regardons les outils de surveillance des applications distribu√©es üí™ üëèüèª üëÜüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lorsque l'application √©tait monolithique et soudain, une fois qu'elle a √©t√© distribu√©e, une autre inconnue est ajout√©e √† la formule de calcul de dispo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous regardons les outils de surveillance des applications distribu√©es</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422931/"><img src="https://habrastorage.org/webt/kg/o8/sq/kgo8sqzokzq8gm0vbiyjokoqdyy.png"><br><br>  Lorsque l'application √©tait monolithique et soudain, une fois qu'elle a √©t√© distribu√©e, une autre inconnue est ajout√©e √† la formule de calcul de disponibilit√© - le r√©seau.  En raison de probl√®mes d'appels entre les composants, les applications tombent souvent et commencent √† se branler.  Et d√©couvrir les raisons du travail instable d'une application distribu√©e est une autre t√¢che.  Un g√¢chis suppl√©mentaire dans la structure de l'application est fait par les kubernetes conditionnels, qui, √† sa discr√©tion, peuvent distribuer arbitrairement des pods conditionnels en fonction de n≈ìuds conditionnels.  J'√©cris ¬´conditionnel¬ª, car √† la place de kubernetes il peut y avoir Swarm et Openshift, et d'autres et d'autres. <br><br>  Je veux dire, sans visualisation normale, d√©terminer o√π est la temp√©rature peut √™tre tr√®s difficile.  Sous la coupe, mon id√©e des capacit√©s potentielles des outils qui peuvent dessiner une carte d'application et mettre en √©vidence les endroits pour appliquer un plantain, ainsi qu'une liste de ces outils avec des captures d'√©cran. <br><a name="habracut"></a><br>  Commen√ßons par d√©terminer ce qu'il est souhaitable de voir sur la carte des applications, puis nous examinerons les approches de surveillance, puis nous passerons √† des fournisseurs sp√©cifiques. <br><br><h1>  Ce que je veux voir sur la carte d'application </h1><br>  <b>La premi√®re</b> chose qui me vient √† l'esprit est la possibilit√© de regrouper les n≈ìuds d'application selon certains crit√®res.  Par exemple, je dis que dans ce groupe, j'ai un frontend, et dans ce backend ou ici, j'ai des instances du service Payments, et ici Shipping.  Eh bien, et ainsi de suite.  Et les personnes responsables de telle ou telle partie voient imm√©diatement le tableau complet de ce qui se passe dans leur zone de responsabilit√©. <br><br>  <b>La seconde</b> consiste √† pr√©senter l'application par niveaux avec la possibilit√© de voir, par exemple, en termes d'infrastructure, de service, d'instances de service, etc.  Comme dans le premier cas, cela aide √† identifier la couche probl√©matique. <br><br>  <b>Troisi√®mement</b> , les sorties et les entr√©es de ces n≈ìuds, y compris les connexions entre eux.  Sur ces cha√Ænes, j'aimerais voir les signaux d'or que Google d√©crit dans Site 6 Reliability Engineering du chapitre 6 de Monitoring Distributed Systems.  J'ai d√©j√† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">publi√© une</a> traduction de ce chapitre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur un blog sur le Medium</a> .  Et les signaux sont les suivants: latence, trafic (d√©bit), erreurs (taux d'erreur) et saturation (saturation). <br><br>  Peut-√™tre que je n'ai pas pris en compte quelque chose.  Veuillez consulter les commentaires si vous pensez que d'autres √©l√©ments importants manquent. <br><br><h1>  Quelles sont les diff√©rentes approches de suivi </h1><br>  Je ne sais pas comment on peut l'appeler, donc j'appellerai les approches agent et surveillance sans agent.  Maintenant, je vais expliquer hu de hu. <br><br><h3>  Surveillance des agents </h3><br>  La surveillance des agents signifie la n√©cessit√© d'impl√©menter des agents de surveillance sp√©ciaux dans une application contr√¥l√©e.  Les agents incorporent l'ID de trace dans les en-t√™tes de paquets. <br><br>  Ce type comprend les solutions de surveillance APM et toutes celles qui sont int√©gr√©es en injectant des SDK dans le code d'application. <br><br>  Avantages: aide √† trouver la cause premi√®re du probl√®me, les en-t√™tes peuvent suivre avec pr√©cision le chemin des transactions. <br><br>  Inconv√©nients: frais g√©n√©raux possibles dus √† une modification de l'algorithme d'application, l'incapacit√© √† int√©grer dans les applications h√©rit√©es, la prise en charge d'un ensemble limit√© de langages de programmation <br><br><h3>  Surveillance sans agent </h3><br>  Surveillance sans modification de l'application.  Ce type inclut les journaux, le suivi au niveau du syst√®me d'exploitation et la surveillance du trafic r√©seau. <br><br>  Avantages: la surveillance de la couverture de divers cadres et langages de programmation peut fonctionner l√† o√π l'injection d'ID de trace n'est pas possible, il n'y a pas de surcharge sur une application contr√¥l√©e. <br><br>  Inconv√©nients: sans identifiant de trace, il peut √™tre difficile de restaurer le contexte d'une transaction commerciale, l'impossibilit√© d'√©couter le trafic si l'encapsulation SSL est configur√©e et qu'il n'y a pas de cl√©s, <br><br><h1>  Ce que les vendeurs proposent </h1><br>  Vendorov a √©t√© d√©mont√© sur la base d'agent / sans agent, vous pouvez demander d'autres caract√©ristiques dans les commentaires ou dans un message personnel.  La plus grande exp√©rience que j'ai eue avec Instana, Appdynamics et New Relic, si vous voulez regarder, je peux vous aider avec des licences de d√©monstration pour une p√©riode d√©passant 14 jours (comme ils le proposent sur leurs sites par d√©faut). <br><br><h3>  Surveillance des agents </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Instana</b></a> est un outil de surveillance des syst√®mes distribu√©s.  Une caract√©ristique cl√© est un agent unique pour toutes les technologies prises en charge et la collecte de m√©triques une fois par seconde. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/18e/179/0d5/18e1790d5a3efed80b5264aa86a444c3.png" alt="image"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Appdynamics</b></a> est une solution bien connue pour la surveillance APM.  Capable de cr√©er une carte d'application bas√©e sur les appels entre les composants d'application.  La surveillance de l'agent est requise pour surveiller les appels. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a69/a63/7a9/a69a637a9b1a657e69355f0e50610191.png" alt="image"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>New Relic</b></a> est un concurrent direct d'Appdynamics.  La principale diff√©rence est que seule la surveillance √† partir du cloud est possible (les agents sont √©galement install√©s sur les serveurs cibles).  Construit une carte des applications bas√©e sur les appels. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2c9/baf/a30/2c9bafa3074150ba4bf7f032e5902ab2.png" alt="image"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Dynatrace</b></a> est un outil de surveillance APM.  Il prend en charge la surveillance de divers langages de programmation et peut fonctionner √† la fois √† partir du cloud et sur site. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/680/a65/579/680a65579e0160a98fe530660a8282eb.png" alt="image"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>AWS X-Ray</b></a> - Surveillez les applications h√©berg√©es sur AWS.  Prend en charge la visualisation de la carte d'application, n√©cessite l'installation de son propre SDK. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cd9/90b/b1d/cd990bb1d87c3f02c0e37872279a5ff0.jpg" alt="image"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>OpenTracing</b></a> est une API pour l'instrumentation des applications distribu√©es.  De nombreuses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">solutions commerciales et non commerciales</a> sont bas√©es sur cette API. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Jaeger</b></a> est un outil de trading open source gratuit.  Construit sur la base d'OpenTracing. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e6d/85e/2d7/e6d85e2d7737d94e89ac603b2badffa3.png" alt="image"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Datadog APM</b></a> est un outil commercial de surveillance des applications distribu√©es.  Il fonctionne sur la base de l'OpenTracing mentionn√©. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/314/e4f/ac3/314e4fac35b8fb26479c7d50e093423b.png" alt="image"><br><br><h3>  Surveillance sans agent </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>OpenZipkin</b></a> est un outil gratuit pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>suivre les</b></a> applications distribu√©es.  Une caract√©ristique de son travail est la collecte de donn√©es sur les appels √† l'aide des biblioth√®ques d'instrumentation et l'envoi ult√©rieur de ces donn√©es au collecteur OpenZipkin. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1fb/925/d8a/1fb925d8ab258148fa86217e3df5e657.png" alt="image"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Linkerd</b></a> est un outil gratuit pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>suivre</b></a> les appels dans l'application.  C'est un module compl√©mentaire pour OpenZipkin, il est install√© sur l'infrastructure kubernetes en tant que conteneur de sidecar. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b6/c75/d97/3b6c75d97ce853cab93898478feb8547.png" alt="image"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Envoy</b></a> est un outil gratuit.  Il fonctionne comme un proxy auquel les donn√©es d'appel sont envoy√©es entre les composants de l'application.  Il n'y a pas d'interface Web propre, les donn√©es peuvent √™tre re√ßues via des requ√™tes HTTP GET ou envoy√©es √† statsd. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Netsil</b></a> est un outil de surveillance des applications distribu√©es bas√© sur l'√©coute du trafic.  Cela fonctionne quelle que soit la langue dans laquelle la demande est √©crite. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f24/1c0/d9e/f241c0d9e43a8c3e62f06f8f7f07cd36.png" alt="image"><br><br>  Dites qui a utilis√© quoi et quelle impression a √©t√© laiss√©e. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr422931/">https://habr.com/ru/post/fr422931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr422919/index.html">SIP √† v√©lo et conversation t√©l√©phonique dans le cloud</a></li>
<li><a href="../fr422921/index.html">De Kotlin √† Goblin: comment s'est pass√© TechTrain</a></li>
<li><a href="../fr422923/index.html">Comment marquer la journ√©e du programmeur sans d√©corer le ficus de bureau avec des z√©ros et des uns</a></li>
<li><a href="../fr422925/index.html">Entretien avec le pr√©sident de la conf√©rence RubyRussia Godfrey Chan</a></li>
<li><a href="../fr422929/index.html">Yandex Mail [√©tait] indisponible pendant environ une heure √† 12 h 16, heure de Moscou</a></li>
<li><a href="../fr422935/index.html">2GIS est √† port√©e de main. Comment nous avons ajout√© une carte √† l'Apple Watch</a></li>
<li><a href="../fr422937/index.html">Mise en cache disque des arbres de calcul paresseux</a></li>
<li><a href="../fr422939/index.html">Le livre "Kali Linux des d√©veloppeurs"</a></li>
<li><a href="../fr422941/index.html">¬´Trois dans un bateau, la pauvret√© et les chiens¬ª, ou comment l'antiplagiat cherche la paraphrase</a></li>
<li><a href="../fr422943/index.html">Un peu sur l'exploitation mini√®re industrielle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>