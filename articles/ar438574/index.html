<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ผ ๐ ุฃุณุงุณูุงุช ุชุทุจูู ุฑูุฑูุฉ ุงูุชุทุจูู: ุงููุงููููุง ุ ูููุฐุฌ ุงููุทุงู ุ BLOC ๐ ๐คฒ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(ุงูููุงู ุงูุฃุตูู ุงูููุดูุฑ ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ุนูู ูุชูุณุท ) 


 ูููุฑ Flutter ุฅุทุงุฑูุง ุญุฏูุซูุง ุณุฑูุน ุงูุงุณุชุฌุงุจุฉ ุ ููุฌููุนุฉ ูุจูุฑุฉ ูู ุงูุฃุฏูุงุช ูุงูุฃุฏูุงุช. ูููู ูุณูุก ุงูุญุธ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฃุณุงุณูุงุช ุชุทุจูู ุฑูุฑูุฉ ุงูุชุทุจูู: ุงููุงููููุง ุ ูููุฐุฌ ุงููุทุงู ุ BLOC</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438574/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/2j/2p/yu/2j2pyudr-kde4fqeczqoic_9lpq.png"></p><br><p style=";text-align:right;direction:rtl">  (ุงูููุงู ุงูุฃุตูู ุงูููุดูุฑ ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชูุณุท</a> ) </p><br><p style=";text-align:right;direction:rtl">  ูููุฑ Flutter ุฅุทุงุฑูุง ุญุฏูุซูุง ุณุฑูุน ุงูุงุณุชุฌุงุจุฉ ุ ููุฌููุนุฉ ูุจูุฑุฉ ูู ุงูุฃุฏูุงุช ูุงูุฃุฏูุงุช.  ูููู ูุณูุก ุงูุญุธ ุ ูุฅู ุงููุซุงุฆู ููุณุช ุจูุซุงุจุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏููู ูููููู ุงูููุตู ุจู ูุชุทุจูู Android</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุง ููุฌุฏ ูููู ูุซุงูู ูุนุงููู ูููู ุฃู ููุงุฆู ุฃู ูุชุทูุจุงุช ูููู ุชุตูุฑูุง ููููุฉ ุชูููุฉ ุ ูููู ุฏุนูุง ูุนุชุฑู ุจุฃู ูุนุธู ุชุทุจููุงุช ุงููุงุชู ุงููุญููู ุงูุชู ูุนูู ุนูููุง ูุฏููุง ุงููุธุงุฆู ุงูุชุงููุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุทูุจ ูุชูุฒูู ุงูุจูุงูุงุช. </li><li style=";text-align:right;direction:rtl">  ุชุญููู ูุฅุนุฏุงุฏ ุงูุจูุงูุงุช ูููุณุชุฎุฏู. </li><li style=";text-align:right;direction:rtl">  ูุชุงุจุฉ ููุฑุงุกุฉ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุจูุงูุงุช ุฃู ูุธุงู ูููุงุช. </li></ol><br><p style=";text-align:right;direction:rtl"> ูู ุถูุก ูู ูุฐุง ุ ููุชู ุจุฅูุดุงุก ุชุทุจูู ุชุฌุฑูุจู ูุญู ุงููุดููุฉ ููุณูุง ุจุงุณุชุฎุฏุงู ุทุฑู ูุฎุชููุฉ ููุนูุงุฑุฉ. <a name="habracut"></a></p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุจุฏุงูุฉ ุ ูุชู ุนุฑุถ ุดุงุดุฉ ูููุณุชุฎุฏู ุจูุง ุฒุฑ "ุชุญููู ุจูุงูุงุช ุงููุณุชุฎุฏู" ุงูููุฌูุฏ ูู ุงููุณุท.  ุนูุฏูุง ูููุฑ ุงููุณุชุฎุฏู ุนูู ุงูุฒุฑ ุ ูุญุฏุซ ุชุญููู ุจูุงูุงุช ุบูุฑ ูุชุฒุงูู ุ ููุชู ุงุณุชุจุฏุงู ุงูุฒุฑ ุจูุคุดุฑ ุชุญููู.  ุนูุฏ ุงูุชูุงู ุชูุฒูู ุงูุจูุงูุงุช ุ ูุชู ุงุณุชุจุฏุงู ูุคุดุฑ ุงูุชูุฒูู ุจุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุฏุนููุง ูุจุฏุฃ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/c5/by/8g/c5by8gjmz_oov-ukuy4_dwo4njs.gif"></p><br><h2 id="dannye" style=";text-align:right;direction:rtl">  ุงูุจูุงูุงุช </h2><br><p style=";text-align:right;direction:rtl"> ูุชุจุณูุท ุงููููุฉ ุ ููุช ุจุฅูุดุงุก ูุฆุฉ <code>Repository</code> ุ ูุงูุชู ุชุญุชูู ุนูู ุฃุณููุจ <code>getUser()</code> .  ุชุญุงูู ูุฐู ุงูุทุฑููุฉ ุงูุชุญููู ุบูุฑ ุงููุชุฒุงูู ููุจูุงูุงุช ูู ุงูุดุจูุฉ ูุชููู ุจุฅุฑุฌุงุน <code>Future&lt;User&gt;</code> . </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ุชูู ูุนุชุงุฏูุง ุนูู ุงูุนููุฏ ุงููุณุชูุจููุฉ ูุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูู Dart ุ ููููููุง ูุฑุงุกุฉ ุงููุฒูุฏ ุนููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ููุฑุงุกุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุซุงุฆู ูุฆุฉ Future</a> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class Repository { Future&lt;User&gt; getUser() async { await Future.delayed(Duration(seconds: 2)); return User(name: 'John', surname: 'Smith'); } }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class User { User({ @required this.name, @required this.surname, }); final String name; final String surname; }</code> </pre> <br><h2 id="vanilla" style=";text-align:right;direction:rtl">  ุงููุงููููุง </h2><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูุทูุฑ ุงูุชุทุจูู ุ ููุง ููุนู ุงููุทูุฑ ุฅุฐุง ูุฑุฃ ูุซุงุฆู Flutter ุนูู ุงููููุน ุงูุฑุณูู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุญ ุดุงุดุฉ <code>VanillaScreen</code> ุจุงุณุชุฎุฏุงู <code>Navigator</code> </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Navigator.push( context, MaterialPageRoute( builder: (context) =&gt; VanillaScreen(_repository), ), );</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุญุงูุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูููู ุฃู ุชุชุบูุฑ ุนุฏุฉ ูุฑุงุช ุฎูุงู ุฏูุฑุฉ ุญูุงุชูุง ุ ููุญู ุจุญุงุฌุฉ ุฅูู ุฃู ูุฑุซ ูู <code>StatefulWidget</code> .  ูุชุทุจูู ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฎุงุต ุจู ุ ุชุญุชุงุฌ ุฃูุถูุง ุฅูู ูุฆุฉ <code>State</code> .  ููุซู <code>bool _isLoading</code> ู <code>User _user</code> ูู ูุฆุฉ <code>_VanillaScreenState</code> ุญุงูุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู.  ุชุชู ุชููุฆุฉ ููุง ุงูุญูููู ูุจู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>build(BuildContext context)</code> ูุฃูู ูุฑุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class VanillaScreen extends StatefulWidget { VanillaScreen(this._repository); final Repository _repository; @override State&lt;StatefulWidget&gt; createState() =&gt; _VanillaScreenState(); } class _VanillaScreenState extends State&lt;VanillaScreen&gt; { bool _isLoading = false; User _user; @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: const Text('Vanilla'), ), body: SafeArea( child: _isLoading ? _buildLoading() : _buildBody(), ), ); } Widget _buildBody() { if (_user != null) { return _buildContent(); } else { return _buildInit(); } } Widget _buildInit() { return Center( child: RaisedButton( child: const Text('Load user data'), onPressed: () { setState(() { _isLoading = true; }); widget._repository.getUser().then((user) { setState(() { _user = user; _isLoading = false; }); }); }, ), ); } Widget _buildContent() { return Center( child: Text('Hello ${_user.name} ${_user.surname}'), ); } Widget _buildLoading() { return const Center( child: CircularProgressIndicator(), ); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฅูุดุงุก ูุงุฆู ุญุงูุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุ ูุชู ุงุณุชุฏุนุงุก ุฃุณููุจ ุงูุจููุฉ <code>build(BuildContext context)</code> ูุฅูุดุงุก ูุงุฌูุฉ ุงููุณุชุฎุฏู.  ูุชู ุงุชุฎุงุฐ ุฌููุน ุงููุฑุงุฑุงุช ุงููุชุนููุฉ ุจุฃู ุนูุตุฑ ูุงุฌูุฉ ูุณุชุฎุฏู ุนูู ุงูุดุงุดุฉ ูุจุงุดุฑุฉู ูู ุฑูุฒ ุฅุนูุงู ูุงุฌูุฉ ุงููุณุชุฎุฏู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">body: SafeArea( child: _isLoading ? _buildLoading() : _buildBody(), )</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุนุฑุถ ูุคุดุฑ ุงูุชูุฏู ุ ุนูุฏูุง ูููู ุงููุณุชุฎุฏู ุจุงูููุฑ ููู ุงูุฒุฑ "ุชุญููู ุชูุงุตูู ุงููุณุชุฎุฏู" ุ ูุฅููุง ูููู ุจูุง ููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">setState(() { _isLoading = true; });</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงููุซุงุฆู (ุงูุชุฑุฌูุฉ): </p><br><blockquote style=";text-align:right;direction:rtl">  ุชููู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ setState () ุจุฅุนูุงู ุงูุฅุทุงุฑ ุงูุฐู ุชู ุชุบููุฑ ุงูุญุงูุฉ ุงูุฏุงุฎููุฉ ููุฐุง ุงููุงุฆู ููู ุ ููุฏ ูุคุซุฑ ุนูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูู ุงูุดุฌุฑุฉ ุงููุฑุนูุฉ.  ูุฐุง ูู ุงูุณุจุจ ูู ุฃู ุงูุฅุทุงุฑ ูุณุชุฏุนู ุฃุณููุจ ุงูุฅูุดุงุก ุนูู ูุงุฆู ุงูุญุงูุฉ ูุฐุง. </blockquote><p style=";text-align:right;direction:rtl">  ูุฐุง ูุนูู ุฃูู ุจุนุฏ ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>setState()</code> ุ ุณูููู ุงูุฅุทุงุฑ ุจุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>build(BuildContext context)</code> ูุฑุฉ ุฃุฎุฑู ุ ููุง ุณูุนูุฏ <strong>ุฅูุดุงุก ุดุฌุฑุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุงููุงูู</strong> .  ูุธุฑูุง ูุฃู ูููุฉ ุงูุญูู <code>_isLoading</code> ุชุบูุฑุช ุฅูู <code>true</code> ุ ูุจุฏูุงู ูู ุงูุฃุณููุจ <code>_buildLoading()</code> ุณูุชู ุงุณุชุฏุนุงุก ุทุฑููุฉ <code>_buildLoading()</code> ุ ูุณูุชู ุนุฑุถ ูุคุดุฑ ุงูุชูุฏู ุนูู ุงูุดุงุดุฉ. <br>  ุจุงูุถุจุท ููุณ ุงูุดูุก ุณูุญุฏุซ ุนูุฏูุง ูุญุตู ุนูู ุฑุฏ ูู <code>getUser()</code> ุงูุทุฑููุฉ <br>  <code>setState()</code> ูุชุนููู ููู ุฌุฏูุฏุฉ ุฅูู ุญููู <code>_user</code> ู <code>_user</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">widget._repository.getUser().then((user) { setState(() { _user = user; _isLoading = false; }); });</code> </pre> <br><h3 id="plyusy" style=";text-align:right;direction:rtl">  ุงูุงูุฌุงุจูุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนุชุจุฉ ุฏุฎูู ููุฎูุถุฉ. </li><li style=";text-align:right;direction:rtl">  ูุง ููุชุจุงุช ุทุฑู ุซุงูุซ ุงููุทููุจุฉ. </li></ol><br><h3 id="minusy" style=";text-align:right;direction:rtl">  ุณูุจูุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุชุบูุฑ ุญุงูุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุ ูุชู ุฅุนุงุฏุฉ ุฅูุดุงุก ุดุฌุฑุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุงููุงูู ูู ูู ูุฑุฉ. </li><li style=";text-align:right;direction:rtl">  ููุชูู ูุจุฏุฃ ุงููุณุคูููุฉ ุงููุญูุฏุฉ.  ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุณุคูู ููุณ ููุท ุนู ุฅูุดุงุก ูุงุฌูุฉ ุงููุณุชุฎุฏู ุ ูููู ุฃูุถูุง ุนู ุชุญููู ุงูุจูุงูุงุช ูููุทู ุงูุฃุนูุงู ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ. </li><li style=";text-align:right;direction:rtl">  ูุชู ุงุชุฎุงุฐ ุงููุฑุงุฑุงุช ุงููุชุนููุฉ ุจููููุฉ ุนุฑุถ ุงูุญุงูุฉ ุงูุญุงููุฉ ูุจุงุดุฑุฉ ูู ุฑูุฒ ูุงุฌูุฉ ุงููุณุชุฎุฏู.  ุฅุฐุง ุฃุตุจุญุช ุงูุญุงูุฉ ุฃูุซุฑ ุชุนููุฏูุง ุ ูุณูู ุชูู ูุงุจููุฉ ูุฑุงุกุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฅูู ุญุฏ ูุจูุฑ. </li></ol><br><h2 id="scoped-model" style=";text-align:right;direction:rtl">  ูููุฐุฌ ุงููุทุงู </h2><br><p style=";text-align:right;direction:rtl">  Scoped Model ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุจุฉ ุชุงุจุนุฉ ูุฌูุฉ ุฎุงุฑุฌูุฉ</a> .  ุฅููู ููู ูุตูู ุงููุทูุฑูู: </p><br><blockquote style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ูู ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ุงูุชู ุชุณูุญ ูู ุจููู ูููุฐุฌ ุงูุจูุงูุงุช ูุนูุตุฑ ุงูุณูู ุฅูู ุฌููุน ุฃุญูุงุฏู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุนูุฏูุง ุชุชุบูุฑ ุจูุงูุงุช ุงููููุฐุฌ ุ ุณูุชู ุฅุนุงุฏุฉ ุฅูุดุงุก ุฌููุน ุงูุฃุญูุงุฏ ุงูุชู ุชุณุชุฎุฏู ุงููููุฐุฌ.  ุฃุฎุฐุช ูุฐู ุงูููุชุจุฉ ูู ุงูุฃุตู ูู ุฑูุฒ ูุดุฑูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Fuchsia</a> . </blockquote><p style=";text-align:right;direction:rtl">  ุฏุนูุง ููุดุฆ ููุณ ุงูุดุงุดุฉ ููุง ูู ุงููุซุงู ุงูุณุงุจู ุ ูููู ุจุงุณุชุฎุฏุงู ูููุฐุฌ ุงููุทุงู.  ุฃููุงู ุ ูุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ููุชุจุฉ Scoped Model ุฅูู ุงููุดุฑูุน.  ุฃุถู ุชุจุนูุฉ <code>scoped_model</code> ุฅูู ููู <code>scoped_model</code> ูู ูุณู <code>dependencies</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">scoped_model: ^1.0.1</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ููุฏ <code>UserModelScreen</code> ูููุงุฑูุชู ุจุงููุซุงู ุงูุณุงุจู ุ ุงูุฐู ูู ูุณุชุฎุฏู ููู Scoped Model.  ูุฌุนู ูููุฐุฌูุง ูู ูุชูุงูู ุฃุญูุงุฏ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุ ูุญุชุงุฌ ุฅูู ุงูุชูุงู ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุงูุทุฑุงุฒ ูู <code>ScopedModel</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class UserModelScreen extends StatefulWidget { UserModelScreen(this._repository); final Repository _repository; @override State&lt;StatefulWidget&gt; createState() =&gt; _UserModelScreenState(); } class _UserModelScreenState extends State&lt;UserModelScreen&gt; { UserModel _userModel; @override void initState() { _userModel = UserModel(widget._repository); super.initState(); } @override Widget build(BuildContext context) { return ScopedModel( model: _userModel, child: Scaffold( appBar: AppBar( title: const Text('Scoped model'), ), body: SafeArea( child: ScopedModelDescendant&lt;UserModel&gt;( builder: (context, child, model) { if (model.isLoading) { return _buildLoading(); } else { if (model.user != null) { return _buildContent(model); } else { return _buildInit(model); } } }, ), ), ), ); } Widget _buildInit(UserModel userModel) { return Center( child: RaisedButton( child: const Text('Load user data'), onPressed: () { userModel.loadUserData(); }, ), ); } Widget _buildContent(UserModel userModel) { return Center( child: Text('Hello ${userModel.user.name} ${userModel.user.surname}'), ); } Widget _buildLoading() { return const Center( child: CircularProgressIndicator(), ); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงููุซุงู ุงูุณุงุจู ุ ูู ูู ูุฑุฉ ุชุชุบูุฑ ูููุง ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุ ุชูุช ุฅุนุงุฏุฉ ุฅูุดุงุก ุดุฌุฑุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุงููุงูู.  ูููู ูู ูุญุชุงุฌ ุญููุง ุฅูู ุฅุนุงุฏุฉ ุฅูุดุงุก ุดุฌุฑุฉ ุงููุทุนุฉ ุจุงููุงูู (ููุก ุงูุดุงุดุฉ)ุ  ุนูู ุณุจูู ุงููุซุงู ุ ูุง ูุชุบูุฑ AppBar ุนูู ุงูุฅุทูุงู ุ ููุง ููุฌุฏ ุฃู ูุงุฆุฏุฉ ูู ุฅุนุงุฏุฉ ุฅูุดุงุฆู.  ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ูุฌุจ ุนููู ุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุฃุฏูุงุช ุงููุตุบูุฑุฉ ููุท ุงูุชู ูุฌุจ ุฃู ุชุชุบูุฑ ููููุง ูุชุบููุฑ ุงูุญุงูุฉ.  ููููู ุฃู ูุณุงุนุฏูุง ูููุฐุฌ ุงููุทุงู ูู ุญู ูุฐู ุงููุดููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฎุฏุงู ุนูุตุฑ ูุงุฌูุฉ <code>ScopedModelDescendant&lt;UserModel&gt;</code> ููุนุซูุฑ ุนูู <code>UserModel</code> ูู ุดุฌุฑุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู.  ุณูุชู ุฅุนุงุฏุฉ ุฅูุดุงุฆู ุชููุงุฆููุง ูู ูู ูุฑุฉ ูุฎุทุฑ ูููุง <code>UserModel</code> ุญุฏูุซ ุชุบููุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุชุญุณูู ุขุฎุฑ ูู ุฃู <code>UserModelScreen</code> ูู ูุนุฏ ูุณุคููุงู ุนู ุฅุฏุงุฑุฉ ุงูุฏููุฉ ูููุทู ุงูุนูู ูุชุญููู ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููููู ูุธุฑุฉ ุนูู ุงูููุฏ ุงูุฎุงุต ุจูุฆุฉ <code>UserModel</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class UserModel extends Model { UserModel(this._repository); final Repository _repository; bool _isLoading = false; User _user; User get user =&gt; _user; bool get isLoading =&gt; _isLoading; void loadUserData() { _isLoading = true; notifyListeners(); _repository.getUser().then((user) { _user = user; _isLoading = false; notifyListeners(); }); } static UserModel of(BuildContext context) =&gt; ScopedModel.of&lt;UserModel&gt;(context); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>UserModel</code> ูุญุชูู ุงูุขู ููุฏูุฑ ุงูุฏููุฉ.  ูุฅุนูุงู ุงููุณุชูุนูู (ูุฅุนุงุฏุฉ ุฅูุดุงุก ุฃุญูุงุฏูู) ุจุญุฏูุซ ุชุบููุฑ ุ ูุฌุจ ุนููู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>notifyListeners()</code> . </p><br><h3 id="plyusy-1" style=";text-align:right;direction:rtl">  ุงูุงูุฌุงุจูุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฏุงุฑุฉ ุงูุฏููุฉ ูููุทู ุงูุฃุนูุงู ูุชุญููู ุงูุจูุงูุงุช ูููุตูุฉ ุนู ุฑูุฒ ูุงุฌูุฉ ุงููุณุชุฎุฏู. </li><li style=";text-align:right;direction:rtl">  ุนุชุจุฉ ุฏุฎูู ููุฎูุถุฉ. </li></ol><br><h3 id="minusy-1" style=";text-align:right;direction:rtl">  ุณูุจูุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุจุนูุฉ ููุชุจุฉ ุงูุทุฑู ุงูุซุงูุซ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุฃุตุจุญ ุงููููุฐุฌ ูุนูุฏูุง ุจุฏุฑุฌุฉ ูุงููุฉ ุ ูุณูููู ูู ุงูุตุนุจ ุชุชุจุน ูุชู ูููู ูู ุงูุถุฑูุฑู ุญููุง ุงุณุชุฏุนุงุก ุทุฑููุฉ <code>notifyListeners()</code> ูุชุฌูุจ ุงูุงุณุชุฌูุงู ุบูุฑ ุงูุถุฑูุฑู. </li></ol><br><h2 id="bloc" style=";text-align:right;direction:rtl">  BLOC </h2><br><p style=";text-align:right;direction:rtl">  BLoC ( <strong>B</strong> usiness Logic <strong>C</strong> omponents) ูู ููุท ููุตู ุจู ูู ูุจู ุงููุทูุฑูู ูู Google.  ูุชู ุงุณุชุฎุฏุงู ุงูุชุฏููุงุช ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ ูุงูุฅุจูุงุบ ุนู ุชุบููุฑ ุงูุญุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  <strong>ููุทูุฑู Android:</strong> ููููู ุฃู ุชุชุฎูู ุฃู <code>Bloc</code> ูู <code>StreamController</code> ุ ูุฃู <code>StreamController</code> ูู <code>LiveData</code> .  ูุฐุง ุณูุฌุนู ุงูููุฏ ุงูุชุงูู ุณูู ุงูููู ุ ูุฃูู ุนูู ุฏุฑุงูุฉ ุจุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class UserBloc { UserBloc(this._repository); final Repository _repository; final _userStreamController = StreamController&lt;UserState&gt;(); Stream&lt;UserState&gt; get user =&gt; _userStreamController.stream; void loadUserData() { _userStreamController.sink.add(UserState._userLoading()); _repository.getUser().then((user) { _userStreamController.sink.add(UserState._userData(user)); }); } void dispose() { _userStreamController.close(); } } class UserState { UserState(); factory UserState._userData(User user) = UserDataState; factory UserState._userLoading() = UserLoadingState; } class UserInitState extends UserState {} class UserLoadingState extends UserState {} class UserDataState extends UserState { UserDataState(this.user); final User user; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุธูุฑ ุงูุฑูุฒ ุฃูู ูู ุชุนุฏ ููุงู ุญุงุฌุฉ ุฅูู ุงุณุชุฏุนุงุก ุทุฑู ุฅุถุงููุฉ ููุฅุจูุงุบ ุนู ุชุบููุฑุงุช ุงูุญุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุฃูุดุฃุช 3 ูุฆุงุช ูุชูุซูู ุงูุญุงูุงุช ุงููุญุชููุฉ: </p><br><p style=";text-align:right;direction:rtl">  <code>UserInitState</code> ููุญุงูุฉ ุนูุฏูุง ููุชุญ ุงููุณุชุฎุฏู ุดุงุดุฉ ูุน ุฒุฑ ูู ุงููุณุท. </p><br><p style=";text-align:right;direction:rtl">  <code>UserLoadingState</code> ููุญุงูุฉ ุนูุฏูุง ูุชู ุนุฑุถ ูุคุดุฑ ุงูุชุญููู ุฃุซูุงุก ุชุญููู ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  <code>UserDataState</code> ููุญุงูุฉ ุนูุฏูุง ูุชู ุจุงููุนู ุชุญููู ุงูุจูุงูุงุช ูุนุฑุถูุง ุนูู ุงูุดุงุดุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุชูุญ ููุง ุชูุฑูุฑ ุงูุญุงูุฉ ุจูุฐู ุงูุทุฑููุฉ ุงูุชุฎูุต ุชูุงููุง ูู ุงูููุทู ูู ุฑูุฒ ูุงุฌูุฉ ุงููุณุชุฎุฏู.  ูู ูุซุงู Scoped Model ุ ูุง ุฒููุง ูุชุญูู ููุง ุฅุฐุง ูุงูุช ูููุฉ ุญูู <code>_isLoading</code> <code>true</code> ุฃู <code>false</code> ูุชุญุฏูุฏ ุงูุฃุฏุงุฉ ุงูุชู ูุฌุจ ุฅูุดุงุคูุง.  ูู ุญุงูุฉ BLoC ุ ูููู ุจุชูุฑูุฑ ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ ุฅูู ุงูุฏูู ุ ูุงููููุฉ ุงููุญูุฏุฉ <code>UserBlocScreen</code> ูุงุฌูุฉ ูุณุชุฎุฏู <code>UserBlocScreen</code> ุฅูุดุงุก ูุงุฌูุฉ ูุณุชุฎุฏู ููุญุงูุฉ ุงูุญุงููุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class UserBlocScreen extends StatefulWidget { UserBlocScreen(this._repository); final Repository _repository; @override State&lt;StatefulWidget&gt; createState() =&gt; _UserBlocScreenState(); } class _UserBlocScreenState extends State&lt;UserBlocScreen&gt; { UserBloc _userBloc; @override void initState() { _userBloc = UserBloc(widget._repository); super.initState(); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: const Text('Bloc'), ), body: SafeArea( child: StreamBuilder&lt;UserState&gt;( stream: _userBloc.user, initialData: UserInitState(), builder: (context, snapshot) { if (snapshot.data is UserInitState) { return _buildInit(); } if (snapshot.data is UserDataState) { UserDataState state = snapshot.data; return _buildContent(state.user); } if (snapshot.data is UserLoadingState) { return _buildLoading(); } }, ), ), ); } Widget _buildInit() { return Center( child: RaisedButton( child: const Text('Load user data'), onPressed: () { _userBloc.loadUserData(); }, ), ); } Widget _buildContent(User user) { return Center( child: Text('Hello ${user.name} ${user.surname}'), ); } Widget _buildLoading() { return const Center( child: CircularProgressIndicator(), ); } @override void dispose() { _userBloc.dispose(); super.dispose(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅู ุฑูุฒ ุนูุตุฑ ูุงุฌูุฉ ูุณุชุฎุฏู <code>UserBlocScreen</code> ุฃุจุณุท ููุง ูุงู ุนููู ูู ุงูุฃูุซูุฉ ุงูุณุงุจูุฉ.  ูู ุฃุฌู ุงูุงุณุชูุงุน ุฅูู ุงูุชุบููุฑุงุช ุงูุฏููุฉ ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชู</a> ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">StreamBuilder</a> .  <code>StreamBuilder</code> ุนุจุงุฑุฉ ุนู <code>StatefulWidget</code> ูููู ุจุฅูุดุงุก ููุณู ููููุง ูููููุฉ ุงูุฃุฎูุฑุฉ (ููุทุฉ) ููุชูุงุฑ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Stream</a> ). </p><br><h3 id="plyusy-2" style=";text-align:right;direction:rtl">  ุงูุงูุฌุงุจูุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ููุชุจุงุช ุทุฑู ุซุงูุซ ุงููุทููุจุฉ. </li><li style=";text-align:right;direction:rtl">  ููุทู ุงูุฃุนูุงู ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ ูุชุญููู ุงูุจูุงูุงุช ูููุตูุงู ุนู ุฑูุฒ ูุงุฌูุฉ ุงููุณุชุฎุฏู. </li><li style=";text-align:right;direction:rtl">  ุฑุฏ ุงููุนู  ููุณุช ููุงู ุญุงุฌุฉ ูุงุณุชุฏุนุงุก ุทุฑู ุฅุถุงููุฉ ุ ููุง ูู ุงููุซุงู ูุน <code>notifyListeners()</code> Model <code>notifyListeners()</code> . </li></ol><br><h3 id="minusy-2" style=";text-align:right;direction:rtl">  ุณูุจูุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนุชุจุฉ ุงูุฏุฎูู ุฃุนูู ููููุงู.  ุจุญุงุฌุฉ ุฅูู ุชุฌุฑุจุฉ ูุน ุชูุงุฑุงุช ุฃู rxdart. </li></ol><br><h2 id="linki" style=";text-align:right;direction:rtl">  ุงูุฑูุงุจุท </h2><br><p style=";text-align:right;direction:rtl">  ููููู ูุฑุงุกุฉ ุงูููุฏ ุงููุงูู ุนู ุทุฑูู ุชูุฒููู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูุฏุน ุฌูุซุจ ุงูุฎุงุต ุจู</a> . </p><br><p style=";text-align:right;direction:rtl">  ุงูููุงูุฉ ุงูุฃุตููุฉ ูุดุฑุช ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชูุณุท</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar438574/">https://habr.com/ru/post/ar438574/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar438560/index.html">ูุชุงุจุฉ XGBoost ูู ุงูุตูุฑ - ุงูุฌุฒุก 1: ุงูุฃุดุฌุงุฑ ุงููุฑุงุฑ</a></li>
<li><a href="../ar438562/index.html">ูุชุงุจุฉ XGBoost ูู ููุทุฉ ุงูุตูุฑ - ุงูุฌุฒุก 2: ุฒูุงุฏุฉ ุงูุชุฏุฑุฌ</a></li>
<li><a href="../ar438566/index.html">ุญุงูุธุฉ ุขุจู ุณุชุฑููุฌ A12X ุงูุฏูููุฉ</a></li>
<li><a href="../ar438568/index.html">ุญูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงููููููุฉ: ููู ุชููู ุงูุจูุฏุงู ุงููุฎุชููุฉ ุจุชุทููุฑ ูุฐู ุงูุชูููููุฌูุง</a></li>
<li><a href="../ar438570/index.html">ูุฑูุฒ CS ูุนุงู 2018 ุนุดูุฉ ุฑุฃุณ ุงูุณูุฉ ุงูุฌุฏูุฏุฉ</a></li>
<li><a href="../ar438576/index.html">ุงููุตุฏุฑ ุงูููุชูุญ ุงูุดุนุจู - ุงูุฌุฒุก ุงูุซุงูุซ: 5 ุฃุฏูุงุช ูููุทูุฑูู</a></li>
<li><a href="../ar438578/index.html">ููู ุชู ุงูุชุญุงูู ุนูู ุนููุงู ุชูููููุฌูุง ุงููุนูููุงุช ุงูุนููุงูุฉ ููุตูุช ูููุฑุฉ ุงูุซุงููุฉ</a></li>
<li><a href="../ar438580/index.html">ูููุงุช ุงููุฑูุฑ ุงูุชู ุชู ุฅูุดุงุคูุง ุชููุงุฆููุง ูู iOS 12</a></li>
<li><a href="../ar438582/index.html">AntiRating 2018</a></li>
<li><a href="../ar438584/index.html">ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูููุทูุฑ ุงูุฎููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>