<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚ÄçüöÄ üòÖ üõå Notes du fournisseur IoT. Cas: nous cr√©ons un r√©seau LoRa pour un distributeur de carburant √† Tcheliabinsk ‚èèÔ∏è üî∫ üëãüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour chers amoureux de l'Internet des objets. 


 Je poursuivrai la s√©rie d'articles sur notre r√©seau LoRaWAN. Aujourd'hui, je vais vous parler d'u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Notes du fournisseur IoT. Cas: nous cr√©ons un r√©seau LoRa pour un distributeur de carburant √† Tcheliabinsk</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423781/"><p>  Bonjour chers amoureux de l'Internet des objets. </p><br><p>  Je poursuivrai la s√©rie d'articles sur notre r√©seau LoRaWAN.  Aujourd'hui, je vais vous parler d'un cas r√©el.  Il s'agit d'un projet pour le plus grand complexe commercial et de divertissement de Tcheliabinsk.  Je partagerai avec vous les chiffres et les d√©cisions sur le projet. </p><br><p>  √Ä la fin de l'article, je vais vous expliquer pourquoi nous avons choisi le protocole de transfert LoRa, et non zigbee.  Peut-√™tre que quelqu'un va contester cela.  La discussion sera d'autant plus int√©ressante. </p><br><img src="https://habrastorage.org/webt/5u/mv/lt/5umvlto9omtdtgy5ajb-nax2wmu.jpeg"><br><a name="habracut"></a><br><br><p>  <strong>Qu'avons-nous:</strong> </p><br><p>  Demande du complexe de divertissement, qui est situ√© dans le centre commercial "Rodnik". </p><br><p>  Introduction: le complexe a plusieurs points avec leurs propres compteurs √©lectriques sur chacun.  Il est n√©cessaire de mettre en place un syst√®me de collecte des relev√©s des compteurs et de les transmettre via api au client. </p><br><p>  Quelles sont les difficult√©s √©videntes pour nous avec cette formulation du probl√®me? </p><br><p>  1 - Aucune exp√©rience avec le distributeur de carburant.  Ce n'est pas exactement de la complexit√©, mais plut√¥t une caract√©ristique de ce projet pour nous.  Important. </p><br><p>  2 - Le client a besoin d'un transfert de donn√©es via l'API, en contournant notre interface. </p><br><p>  Dans des articles pr√©c√©dents, j'ai d√©j√† dit que nous √©tions confus et avons d√©velopp√© notre interface pratique o√π nous transf√©rons les donn√©es.  C'est le format habituel pour nous: nous mettons en place le projet, t√©l√©chargeons les donn√©es sur l'interface et y donnons acc√®s.  Dans ce cas, le client avait besoin d'un transfert permanent d'informations de son c√¥t√©.  La t√¢che est simple, mais non standard.  Par cons√©quent, je me r√©f√®re aux difficult√©s - caract√©ristiques. </p><br><br><p>  3 - Revues n√©gatives de coll√®gues.  Selon eux, travailler avec les distributeurs de carburant est un vrai casse-t√™te. </p><br><p>  4 - Le caract√®re unique du projet, il n'y a pas d'exemple √† suivre. </p><br><p>  Tous les distributeurs de carburant sont uniques.  Chacun a sa propre disposition des espaces int√©rieurs, diff√©rents mat√©riaux pour les fa√ßades et les ¬´coins sombres¬ª.  Il n'y a pas de mod√®le et de copie unique.  Tout doit √™tre fait √† partir de z√©ro. </p><br><p>  <strong>Qu'est-ce que:</strong> </p><br><p>  Commenc√© par la couverture radio. </p><br><p>  TRC Rodnik est un grand centre commercial √† Tcheliabinsk.  L'√©chelle transf√®re la photo au d√©but de l'article. </p><br><p>  L'environnement est un parc avec une voie ferr√©e, une for√™t, des terrains vagues, une rivi√®re et un carrefour √† plusieurs voies. </p><br><p>  Pour des raisons administratives, il est impossible de placer une station de base √† l'int√©rieur du complexe.  Le point d'installation le plus proche est √† un kilom√®tre du complexe lui-m√™me.  De plus, l'√©quipement est d√©j√† l√†.  Il n'est pas n√©cessaire d'installer une nouvelle station de base. <br>  Entre le complexe et la station de base - visibilit√© directe. </p><br><p>  <strong>Caract√©ristiques du b√¢timent:</strong> </p><br><p>  La soci√©t√© de radiodiffusion "Rodnik" est une construction monolithique.  La fa√ßade est repr√©sent√©e par un parking √† deux niveaux.  Il est cl√¥tur√© du b√¢timent par un mur en b√©ton et de puissantes portes.  L'atrium est recouvert d'un √©norme ¬´chapeau¬ª de verre et de b√©ton.  Du client, nous n'avons pas re√ßu d'informations sur les caract√©ristiques du verre et le mat√©riau des portes.  Le complexe est √©galement √©quip√© de portes de chargement sur le c√¥t√© et √† l'arri√®re.  Il y a des fen√™tres, mais elles sont peu nombreuses. </p><br><br>  <i>Fa√ßade:</i> <br><br><img src="https://habrastorage.org/webt/lq/2p/cn/lq2pcney6h5byk5ux_cvt6uyukk.jpeg"><br><br>  <i>Windows:</i> <br><br><img src="https://habrastorage.org/webt/sx/n2/ym/sxn2ymek-l42yn8be8anw_cjysq.jpeg"><br><br>  <i>Portes √† l'int√©rieur du complexe:</i> <br><br><img src="https://habrastorage.org/webt/9m/1e/6j/9m1e6j1u_htbdcofz0cmqoqz3ky.jpeg"><br><br>  <i>Plus de portes:</i> <br><br><img src="https://habrastorage.org/webt/wv/uz/yq/wvuzyqpgjfk4kp00p6_ad3lhbjw.jpeg"><br><br><p>  L'√©quipement du client √©tait dans le local technique. </p><br><p>  Il s'av√®re que l'onde radio dont vous avez besoin pour parcourir un kilom√®tre en ligne droite, puis sinueuse, mais de larges couloirs du complexe pour atteindre le client. </p><br><p>  Est-ce possible? <br>  La pratique l'a montr√© compl√®tement. </p><br><p>  <strong>Examen:</strong> </p><br><p>  Pour le travail, nous avons utilis√© le module radio habituel SI-11. <br>  L'ing√©nieur marche et l'active p√©riodiquement.  Ensuite, les valeurs de force du signal (RSSI) et de signal sur bruit (SNR) du serveur sont relev√©es et une estimation est effectu√©e. <br>  Vega dispose d'un appareil sp√©cialis√© TS-1 (testeur de r√©seau). <br><br><img src="https://habrastorage.org/webt/se/yt/_j/seyt_jdlinu-weln9suhbw4qlom.jpeg"><br><br>  Nous ne nous sommes pas fait d'amis.  L'appareil ne voit pas le r√©seau o√π il se trouve, allong√© sur des niveaux.  Peut-√™tre, alors que c'est le seul produit Vega qui ne nous convenait pas. </p><br><p>  Le premier examen a pris une journ√©e, nous n'avons pas trouv√© de "coins sombres".  La communication √©tait stable dans tout l'espace disponible. </p><br><p>  Pour la plupart des chambres, le SI-11 √©tait suffisant. <br>  Pour 1 comptoir - 1 heure de travail d'une √©quipe de 2 personnes, avec installation et configuration.  Je ne peux pas indiquer le nombre exact de compteurs connect√©s (secret commercial), mais ils sont nombreux.  Nous avons √©t√© surpris de la quantit√©.  Le score est de dizaines. </p><br><p>  Au d√©but, nos modules radio ont √©t√© activ√©s √† SF = 12 (comme le pr√©voit la logique).  Nous avons observ√© avec grand int√©r√™t leurs param√®tres de qualit√©, pensant que la connexion serait √† la limite.  Mais non, les colis sont rest√©s stables et sans pertes.  RSSI atteint par endroits -100 dBm. </p><br><p>  Lorsque l'ADR s'est allum√©, certains modules radio ont abaiss√© le SF de 12 √† 10-11.  Les conditions radio permettaient cela.  Les param√®tres de communication √† SF = 10 sont maintenus √† RSSI = -110 dBm, le SNR fluctue autour de z√©ro. </p><br><p>  <strong>√Ä propos des "coins sombres":</strong> </p><br><p>  Pas sans eux. <br>  √Ä un endroit, le SI-11 ne voulait obstin√©ment pas entrer en contact.  Puis impliqu√© SI-21. </p><br><br><img src="https://habrastorage.org/webt/ra/yx/xa/rayxxadjj5vryddzx6avnymtp98.jpeg"><br><br><p>  Il s'agit du m√™me SI-11, uniquement avec une antenne externe.  Une chose tr√®s pratique, une antenne plate avec du ruban adh√©sif double face est fournie.  En utilisant la m√©thode de s√©lection, ils ont trouv√© le meilleur emplacement pour l'antenne et l'ont simplement coll√©e au mur ... √áa marche! </p><br><p>  Moins - param√®tres de communication sur le point.  Mais c'est le seul capteur avec cette situation.  Nous supposons que pour ces conditions, nous pouvons nous le permettre. </p><br><p>  <strong>Et ensuite?</strong> </p><br><p>  Nous avons lanc√© les colis. </p><br><p>  Honn√™tement, j'ai √©t√© agr√©ablement surpris par les r√©sultats.  Selon les critiques de mes coll√®gues, j'ai entendu qu'√† l'int√©rieur du centre commercial, le projet ne fonctionnerait pas sans une station de base int√©rieure, mais nous avons r√©ussi.  C'est sympa. </p><br><p>  <strong>Quelques mots sur l'API</strong> </p><br><p>  La demande du client sur l'API a √©t√© r√©solue simplement.  Le client re√ßoit les donn√©es du serveur via une socket Web.  Ce qu'il fait ensuite avec eux n'est pas notre esprit d'entreprise. <br>  Le serveur vous permet de configurer le syst√®me de sorte que le client ne voie que les informations de ses capteurs. </p><br><p>  Notre interface est, bien s√ªr, une chose universelle, mais les besoins des clients peuvent √™tre sp√©cifiques.  Par cons√©quent, nous sommes pr√™ts √† leur transf√©rer des donn√©es brutes. </p><br><p>  <strong>Nous tirons des conclusions.</strong> <strong><br></strong>  <strong>Tous les distributeurs de carburant sont-ils sur notre √©paule?</strong> </p><br><p>  Notre pilote est construit sur Vega, mais √† l'avenir, nous pr√©voyons d'introduire des appareils d'autres fabricants.  Un autre plus dans l'ouverture de la norme LoRaWAN. </p><br><p>  La premi√®re √©tape a √©t√© r√©ussie.  Mais le travail avec d'autres distributeurs de carburant a montr√© qu'il ne vaut pas la peine de se d√©tendre. </p><br><p>  Les principaux probl√®mes, √† mon avis: </p><br><p>  1) Chaque distributeur de carburant est unique.  Certains peuvent avoir un parking souterrain traversant avec de bonnes passerelles vers les magasins et l'atrium.  Avec un tel simple.  D'autres sont de vrais sacs en pierre avec de minuscules verres et de l'√©quipement au sous-sol.  C'est d√©j√† un d√©sastre. </p><br><p>  2) Les grands distributeurs de carburant occupent souvent une zone importante, ont d'immenses parkings et des √©changeurs de transport autour d'eux.  Bien s√ªr, un tel colosse est difficile √† localiser dans le centre-ville, ils sont donc construits sur des friches, des territoires d'anciennes usines et d'autres endroits impropres √† l'installation d'une station de base. </p><br><p>  Dans de tels cas, la bonne d√©cision est de placer la station de base int√©rieure dans le complexe lui-m√™me.  Cependant, dans notre travail, nous sommes guid√©s non seulement par la n√©cessit√© technique, mais aussi par des consid√©rations administratives.  Ce dernier introduit des difficult√©s importantes. </p><br><br><p>  <strong>Et le zigbee ne nous convenait pas</strong> <br>  <strong>C'est arriv√© parce que:</strong> </p><br><br><p>  1) Nous n'avons pas pu construire de r√©seau maill√© dans ce centre commercial.  Il n'a pas √©t√© possible de r√©partir uniform√©ment les capteurs le long du p√©rim√®tre du complexe.  Les modules radio √©taient situ√©s dans des endroits √©loign√©s.  Entre eux, le verre et le b√©ton.  Un r√©seau maill√© dans une telle situation ne se d√©velopperait gu√®re. </p><br><p>  2) Dans le centre commercial lui-m√™me, notre r√©seau ne l'est pas.  Le contact avec la station de base la plus proche ne fonctionnera pas en raison de son √©loignement du b√¢timent. </p><br><p>  3) Nous voulions tout faire aussi simple que possible et au moindre co√ªt.  Par cons√©quent, nous avons choisi LoRa.  Elle est all√©e parfaitement. </p><br><br><p>  C‚Äôest tout.  J'ai racont√© comment nous avions r√©alis√© un vrai projet pour la Broadcasting Company.  Il a d√©crit les difficult√©s, les t√¢ches et notre exp√©rience pour les r√©soudre.  Il a expliqu√© pourquoi ils avaient d√©cid√© de travailler sur le protocole LoRa. <br>  Il sera int√©ressant d'entendre l'opinion sur cette affaire de la part d'experts et de ceux qui sont sur le sujet de l'Internet des objets. </p><br><br>  Archives d'articles ant√©rieurs: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 1</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Introduction</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Couverture</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dispositifs de mesure du zoo</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Propri√©t√©</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Activation et s√©curit√© dans LoraWAN</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">LoRaWAN et RS-485</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">n ¬∞ 7.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Appareils et surench√®res</a> ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un peu sur les fr√©quences</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423781/">https://habr.com/ru/post/fr423781/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423769/index.html">Connexion d'OpenSSL √† Mono</a></li>
<li><a href="../fr423771/index.html">Encore une fois, l'analyseur PVS-Studio s'est av√©r√© √™tre plus attentif qu'une personne</a></li>
<li><a href="../fr423775/index.html">Je voulais un beau morceau de fer. Il s'est av√©r√©</a></li>
<li><a href="../fr423777/index.html">Projet Keystone: environnement s√©curis√© pour l'ex√©cution d'applications bas√©es sur RISC-V</a></li>
<li><a href="../fr423779/index.html">Sauvegarde cloud √† cloud: de quoi s'agit-il et pourquoi est-il n√©cessaire</a></li>
<li><a href="../fr423783/index.html">Splunk: l'apprentissage automatique au niveau sup√©rieur</a></li>
<li><a href="../fr423785/index.html">Cr√©ez une batterie de serveurs pr√™te pour le r√©seau pour Kubernetes √† l'aide de LTSP</a></li>
<li><a href="../fr423787/index.html">TEST Labs 2018. Mitap en ligne pour les testeurs. 28-29 septembre</a></li>
<li><a href="../fr423791/index.html">Nous fabriquons un configurateur 3D sans programmation ni mise en page. Deuxi√®me partie</a></li>
<li><a href="../fr423793/index.html">"Nous avons pris cette d√©cision, bon sang, √† temps!" - 10 questions au programmeur, num√©ro 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>