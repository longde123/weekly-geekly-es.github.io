<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🚀 😅 🛌 Notes du fournisseur IoT. Cas: nous créons un réseau LoRa pour un distributeur de carburant à Tcheliabinsk ⏏️ 🔺 👋🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour chers amoureux de l'Internet des objets. 


 Je poursuivrai la série d'articles sur notre réseau LoRaWAN. Aujourd'hui, je vais vous parler d'u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Notes du fournisseur IoT. Cas: nous créons un réseau LoRa pour un distributeur de carburant à Tcheliabinsk</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423781/"><p>  Bonjour chers amoureux de l'Internet des objets. </p><br><p>  Je poursuivrai la série d'articles sur notre réseau LoRaWAN.  Aujourd'hui, je vais vous parler d'un cas réel.  Il s'agit d'un projet pour le plus grand complexe commercial et de divertissement de Tcheliabinsk.  Je partagerai avec vous les chiffres et les décisions sur le projet. </p><br><p>  À la fin de l'article, je vais vous expliquer pourquoi nous avons choisi le protocole de transfert LoRa, et non zigbee.  Peut-être que quelqu'un va contester cela.  La discussion sera d'autant plus intéressante. </p><br><img src="https://habrastorage.org/webt/5u/mv/lt/5umvlto9omtdtgy5ajb-nax2wmu.jpeg"><br><a name="habracut"></a><br><br><p>  <strong>Qu'avons-nous:</strong> </p><br><p>  Demande du complexe de divertissement, qui est situé dans le centre commercial "Rodnik". </p><br><p>  Introduction: le complexe a plusieurs points avec leurs propres compteurs électriques sur chacun.  Il est nécessaire de mettre en place un système de collecte des relevés des compteurs et de les transmettre via api au client. </p><br><p>  Quelles sont les difficultés évidentes pour nous avec cette formulation du problème? </p><br><p>  1 - Aucune expérience avec le distributeur de carburant.  Ce n'est pas exactement de la complexité, mais plutôt une caractéristique de ce projet pour nous.  Important. </p><br><p>  2 - Le client a besoin d'un transfert de données via l'API, en contournant notre interface. </p><br><p>  Dans des articles précédents, j'ai déjà dit que nous étions confus et avons développé notre interface pratique où nous transférons les données.  C'est le format habituel pour nous: nous mettons en place le projet, téléchargeons les données sur l'interface et y donnons accès.  Dans ce cas, le client avait besoin d'un transfert permanent d'informations de son côté.  La tâche est simple, mais non standard.  Par conséquent, je me réfère aux difficultés - caractéristiques. </p><br><br><p>  3 - Revues négatives de collègues.  Selon eux, travailler avec les distributeurs de carburant est un vrai casse-tête. </p><br><p>  4 - Le caractère unique du projet, il n'y a pas d'exemple à suivre. </p><br><p>  Tous les distributeurs de carburant sont uniques.  Chacun a sa propre disposition des espaces intérieurs, différents matériaux pour les façades et les «coins sombres».  Il n'y a pas de modèle et de copie unique.  Tout doit être fait à partir de zéro. </p><br><p>  <strong>Qu'est-ce que:</strong> </p><br><p>  Commencé par la couverture radio. </p><br><p>  TRC Rodnik est un grand centre commercial à Tcheliabinsk.  L'échelle transfère la photo au début de l'article. </p><br><p>  L'environnement est un parc avec une voie ferrée, une forêt, des terrains vagues, une rivière et un carrefour à plusieurs voies. </p><br><p>  Pour des raisons administratives, il est impossible de placer une station de base à l'intérieur du complexe.  Le point d'installation le plus proche est à un kilomètre du complexe lui-même.  De plus, l'équipement est déjà là.  Il n'est pas nécessaire d'installer une nouvelle station de base. <br>  Entre le complexe et la station de base - visibilité directe. </p><br><p>  <strong>Caractéristiques du bâtiment:</strong> </p><br><p>  La société de radiodiffusion "Rodnik" est une construction monolithique.  La façade est représentée par un parking à deux niveaux.  Il est clôturé du bâtiment par un mur en béton et de puissantes portes.  L'atrium est recouvert d'un énorme «chapeau» de verre et de béton.  Du client, nous n'avons pas reçu d'informations sur les caractéristiques du verre et le matériau des portes.  Le complexe est également équipé de portes de chargement sur le côté et à l'arrière.  Il y a des fenêtres, mais elles sont peu nombreuses. </p><br><br>  <i>Façade:</i> <br><br><img src="https://habrastorage.org/webt/lq/2p/cn/lq2pcney6h5byk5ux_cvt6uyukk.jpeg"><br><br>  <i>Windows:</i> <br><br><img src="https://habrastorage.org/webt/sx/n2/ym/sxn2ymek-l42yn8be8anw_cjysq.jpeg"><br><br>  <i>Portes à l'intérieur du complexe:</i> <br><br><img src="https://habrastorage.org/webt/9m/1e/6j/9m1e6j1u_htbdcofz0cmqoqz3ky.jpeg"><br><br>  <i>Plus de portes:</i> <br><br><img src="https://habrastorage.org/webt/wv/uz/yq/wvuzyqpgjfk4kp00p6_ad3lhbjw.jpeg"><br><br><p>  L'équipement du client était dans le local technique. </p><br><p>  Il s'avère que l'onde radio dont vous avez besoin pour parcourir un kilomètre en ligne droite, puis sinueuse, mais de larges couloirs du complexe pour atteindre le client. </p><br><p>  Est-ce possible? <br>  La pratique l'a montré complètement. </p><br><p>  <strong>Examen:</strong> </p><br><p>  Pour le travail, nous avons utilisé le module radio habituel SI-11. <br>  L'ingénieur marche et l'active périodiquement.  Ensuite, les valeurs de force du signal (RSSI) et de signal sur bruit (SNR) du serveur sont relevées et une estimation est effectuée. <br>  Vega dispose d'un appareil spécialisé TS-1 (testeur de réseau). <br><br><img src="https://habrastorage.org/webt/se/yt/_j/seyt_jdlinu-weln9suhbw4qlom.jpeg"><br><br>  Nous ne nous sommes pas fait d'amis.  L'appareil ne voit pas le réseau où il se trouve, allongé sur des niveaux.  Peut-être, alors que c'est le seul produit Vega qui ne nous convenait pas. </p><br><p>  Le premier examen a pris une journée, nous n'avons pas trouvé de "coins sombres".  La communication était stable dans tout l'espace disponible. </p><br><p>  Pour la plupart des chambres, le SI-11 était suffisant. <br>  Pour 1 comptoir - 1 heure de travail d'une équipe de 2 personnes, avec installation et configuration.  Je ne peux pas indiquer le nombre exact de compteurs connectés (secret commercial), mais ils sont nombreux.  Nous avons été surpris de la quantité.  Le score est de dizaines. </p><br><p>  Au début, nos modules radio ont été activés à SF = 12 (comme le prévoit la logique).  Nous avons observé avec grand intérêt leurs paramètres de qualité, pensant que la connexion serait à la limite.  Mais non, les colis sont restés stables et sans pertes.  RSSI atteint par endroits -100 dBm. </p><br><p>  Lorsque l'ADR s'est allumé, certains modules radio ont abaissé le SF de 12 à 10-11.  Les conditions radio permettaient cela.  Les paramètres de communication à SF = 10 sont maintenus à RSSI = -110 dBm, le SNR fluctue autour de zéro. </p><br><p>  <strong>À propos des "coins sombres":</strong> </p><br><p>  Pas sans eux. <br>  À un endroit, le SI-11 ne voulait obstinément pas entrer en contact.  Puis impliqué SI-21. </p><br><br><img src="https://habrastorage.org/webt/ra/yx/xa/rayxxadjj5vryddzx6avnymtp98.jpeg"><br><br><p>  Il s'agit du même SI-11, uniquement avec une antenne externe.  Une chose très pratique, une antenne plate avec du ruban adhésif double face est fournie.  En utilisant la méthode de sélection, ils ont trouvé le meilleur emplacement pour l'antenne et l'ont simplement collée au mur ... Ça marche! </p><br><p>  Moins - paramètres de communication sur le point.  Mais c'est le seul capteur avec cette situation.  Nous supposons que pour ces conditions, nous pouvons nous le permettre. </p><br><p>  <strong>Et ensuite?</strong> </p><br><p>  Nous avons lancé les colis. </p><br><p>  Honnêtement, j'ai été agréablement surpris par les résultats.  Selon les critiques de mes collègues, j'ai entendu qu'à l'intérieur du centre commercial, le projet ne fonctionnerait pas sans une station de base intérieure, mais nous avons réussi.  C'est sympa. </p><br><p>  <strong>Quelques mots sur l'API</strong> </p><br><p>  La demande du client sur l'API a été résolue simplement.  Le client reçoit les données du serveur via une socket Web.  Ce qu'il fait ensuite avec eux n'est pas notre esprit d'entreprise. <br>  Le serveur vous permet de configurer le système de sorte que le client ne voie que les informations de ses capteurs. </p><br><p>  Notre interface est, bien sûr, une chose universelle, mais les besoins des clients peuvent être spécifiques.  Par conséquent, nous sommes prêts à leur transférer des données brutes. </p><br><p>  <strong>Nous tirons des conclusions.</strong> <strong><br></strong>  <strong>Tous les distributeurs de carburant sont-ils sur notre épaule?</strong> </p><br><p>  Notre pilote est construit sur Vega, mais à l'avenir, nous prévoyons d'introduire des appareils d'autres fabricants.  Un autre plus dans l'ouverture de la norme LoRaWAN. </p><br><p>  La première étape a été réussie.  Mais le travail avec d'autres distributeurs de carburant a montré qu'il ne vaut pas la peine de se détendre. </p><br><p>  Les principaux problèmes, à mon avis: </p><br><p>  1) Chaque distributeur de carburant est unique.  Certains peuvent avoir un parking souterrain traversant avec de bonnes passerelles vers les magasins et l'atrium.  Avec un tel simple.  D'autres sont de vrais sacs en pierre avec de minuscules verres et de l'équipement au sous-sol.  C'est déjà un désastre. </p><br><p>  2) Les grands distributeurs de carburant occupent souvent une zone importante, ont d'immenses parkings et des échangeurs de transport autour d'eux.  Bien sûr, un tel colosse est difficile à localiser dans le centre-ville, ils sont donc construits sur des friches, des territoires d'anciennes usines et d'autres endroits impropres à l'installation d'une station de base. </p><br><p>  Dans de tels cas, la bonne décision est de placer la station de base intérieure dans le complexe lui-même.  Cependant, dans notre travail, nous sommes guidés non seulement par la nécessité technique, mais aussi par des considérations administratives.  Ce dernier introduit des difficultés importantes. </p><br><br><p>  <strong>Et le zigbee ne nous convenait pas</strong> <br>  <strong>C'est arrivé parce que:</strong> </p><br><br><p>  1) Nous n'avons pas pu construire de réseau maillé dans ce centre commercial.  Il n'a pas été possible de répartir uniformément les capteurs le long du périmètre du complexe.  Les modules radio étaient situés dans des endroits éloignés.  Entre eux, le verre et le béton.  Un réseau maillé dans une telle situation ne se développerait guère. </p><br><p>  2) Dans le centre commercial lui-même, notre réseau ne l'est pas.  Le contact avec la station de base la plus proche ne fonctionnera pas en raison de son éloignement du bâtiment. </p><br><p>  3) Nous voulions tout faire aussi simple que possible et au moindre coût.  Par conséquent, nous avons choisi LoRa.  Elle est allée parfaitement. </p><br><br><p>  C’est tout.  J'ai raconté comment nous avions réalisé un vrai projet pour la Broadcasting Company.  Il a décrit les difficultés, les tâches et notre expérience pour les résoudre.  Il a expliqué pourquoi ils avaient décidé de travailler sur le protocole LoRa. <br>  Il sera intéressant d'entendre l'opinion sur cette affaire de la part d'experts et de ceux qui sont sur le sujet de l'Internet des objets. </p><br><br>  Archives d'articles antérieurs: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 1</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Introduction</a> → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Couverture</a> → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dispositifs de mesure du zoo</a> → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Propriété</a> → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Activation et sécurité dans LoraWAN</a> → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">LoRaWAN et RS-485</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">n ° 7.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Appareils et surenchères</a> → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="># 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un peu sur les fréquences</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423781/">https://habr.com/ru/post/fr423781/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423769/index.html">Connexion d'OpenSSL à Mono</a></li>
<li><a href="../fr423771/index.html">Encore une fois, l'analyseur PVS-Studio s'est avéré être plus attentif qu'une personne</a></li>
<li><a href="../fr423775/index.html">Je voulais un beau morceau de fer. Il s'est avéré</a></li>
<li><a href="../fr423777/index.html">Projet Keystone: environnement sécurisé pour l'exécution d'applications basées sur RISC-V</a></li>
<li><a href="../fr423779/index.html">Sauvegarde cloud à cloud: de quoi s'agit-il et pourquoi est-il nécessaire</a></li>
<li><a href="../fr423783/index.html">Splunk: l'apprentissage automatique au niveau supérieur</a></li>
<li><a href="../fr423785/index.html">Créez une batterie de serveurs prête pour le réseau pour Kubernetes à l'aide de LTSP</a></li>
<li><a href="../fr423787/index.html">TEST Labs 2018. Mitap en ligne pour les testeurs. 28-29 septembre</a></li>
<li><a href="../fr423791/index.html">Nous fabriquons un configurateur 3D sans programmation ni mise en page. Deuxième partie</a></li>
<li><a href="../fr423793/index.html">"Nous avons pris cette décision, bon sang, à temps!" - 10 questions au programmeur, numéro 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>