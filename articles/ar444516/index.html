<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐ฝโ๐คโ๐จ๐ป ๐ฅ ๐ Wolfenstein 3D: ุชุชุจุน ุงูุฃุดุนุฉ ุจุงุณุชุฎุฏุงู WebGL1 ๐ฌ ๐จ๐ฝโ๐ง ๐ง๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุจุนุฏ ุธููุฑ ุจุทุงูุงุช ุฑุณููุงุช Nvidia RTX ูู ุงูุตูู ุงููุงุถู ุ ุงุณุชุนุงุฏ ุชุชุจุน ุงูุดุนุงุน ุดุนุจูุชู ุงูุณุงุจูุฉ. ุฎูุงู ุงูุฃุดูุฑ ุงูููููุฉ ุงููุงุถูุฉ ุ ุชูุช ุชุนุจุฆุฉ ุฎูุงุตุชู ุนูู Twitter ุจุฏูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wolfenstein 3D: ุชุชุจุน ุงูุฃุดุนุฉ ุจุงุณุชุฎุฏุงู WebGL1</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444516/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/885/df3/33c/885df333c0da45fcbb909c01c5da9648.png" alt="ุตูุฑุฉ"></div><br>  ุจุนุฏ ุธููุฑ ุจุทุงูุงุช ุฑุณููุงุช Nvidia RTX ูู ุงูุตูู ุงููุงุถู ุ ุงุณุชุนุงุฏ ุชุชุจุน ุงูุดุนุงุน ุดุนุจูุชู ุงูุณุงุจูุฉ.  ุฎูุงู ุงูุฃุดูุฑ ุงูููููุฉ ุงููุงุถูุฉ ุ ุชูุช ุชุนุจุฆุฉ ุฎูุงุตุชู ุนูู Twitter ุจุฏูู ูุง ููุงุฆู ูู ููุงุฑูุงุช ุงูุฑุณููุงุช ูุน ุชูููู RTX ูุชุนุทููู. <br><br>  ุจุนุฏ ุงูุฅุนุฌุงุจ ุจุงููุซูุฑ ูู ุงูุตูุฑ ุงูุฌูููุฉ ุ ุฃุฑุฏุช ุฃู ุฃุญุงูู ุงูุฌูุน ุจูู ุงูุนุงุฑุถ ุงูุฃูุงูู ุงูููุงุณููู ูุฌูุงุฒ ุชุชุจุน ุงูุดุนุงุน ููุญุฏู. <br><br>  ุชุนุงูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ูุชูุงุฒูุฉ ุฑูุถ ุชุทูุฑุงุช ุงูุขุฎุฑูู</a> ุ ูููุชูุฌุฉ ูุฐูู ุ ููุชู ุจุฅูุดุงุก ูุญุฑู ุนุฑุถ ูุฌูู ุฎุงุต ุจู ูุณุชูุฏ ุฅูู WebGL1.  ููููู ุงููุนุจ ุจุงุณุชุฎุฏุงู ูุณุชูู ุงูุนุฑุถ ุงูุชุฌุฑูุจู ูู Wolfenstein 3D ูุน ุงููุฌุงูุงุช (ุงูุชู ุงุณุชุฎุฏูุชูุง ุจุณุจุจ ุชุชุจุน ุงูุฃุดุนุฉ) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ุงููููุฐุฌ </h3><br>  ููุฏ ุจุฏุฃุช ูุฐุง ุงููุดุฑูุน ูู ุฎูุงู ุฅูุดุงุก ูููุฐุฌ ุฃููู ุ ูู ูุญุงููุฉ ูุฅุนุงุฏุฉ ุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅุถุงุกุฉ ุงูุนุงูููุฉ ุจุงุณุชุฎุฏุงู ุชุชุจุน ุงูุฃุดุนุฉ ูู Metro Exodus</a> . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/262/61a/447/26261a447cd19758715a3cbde356eeb7.png"></div><br>  <i>ุฃูู ูููุฐุฌ ุฃููู ูุฅุธูุงุฑ ุงูุฅุถุงุกุฉ ุงูุนุงูููุฉ ุงูููุชุดุฑุฉ (Diffuse GI)</i> <br><br>  ูุนุชูุฏ ุงููููุฐุฌ ุงูุฃููู ุนูู ุนุงุฑุถ ููุฃูุงู ุ ููุง ูุฌุนู ููุฏุณุฉ ุงููุดูุฏ ุจุฃููููุง.  ูุง ูุนูู ุงูุชุธููู ุงููุณุชุฎุฏู ูู ุชูููุท ุงูุดูู ุงูููุฏุณู ุนูู ุญุณุงุจ ุงูุฅุถุงุกุฉ ุงููุจุงุดุฑุฉ ูุญุณุจ ุ ุจู ููุจุนุซ ุฃูุถูุง ูู ุงูุฃุดุนุฉ ุงูุนุดูุงุฆูุฉ ูู ุณุทุญ ุงูููุฏุณุฉ ุงูููุฏูุฉ ููุชุฑุงูู ุจุงุณุชุฎุฏุงู ุงูุนูุงุณ ุงูุถูุก ุบูุฑ ุงููุจุงุดุฑ ูุชุชุจุน ุงูุฃุดุนุฉ ุงููุงุฌู ุนู ุงูุฃุณุทุญ ุบูุฑ ุงููุงูุนุฉ (Diffuse GI). <br><br>  ูู ุงูุตูุฑุฉ ุฃุนูุงู ุ ููููู ุฑุคูุฉ ููููุฉ ุฅุถุงุกุฉ ุฌููุน ุงููุฌุงูุงุช ุจุดูู ุตุญูุญ ููุท ุนู ุทุฑูู ุงูุฅุถุงุกุฉ ุบูุฑ ุงููุจุงุดุฑุฉ (ุชูุนูุณ ุฃุดุนุฉ ุงูุถูุก ูู ุงูุฌุฏุงุฑ ุฎูู ุงููุงููุฑุง).  ูุชู ุชุบุทูุฉ ูุตุฏุฑ ุงูุถูุก ููุณู ุจูุงุณุทุฉ ุฌุฏุงุฑ ุจูู ุนูู ุงูุฌุงูุจ ุงูุฃูุณุฑ ูู ุงูุตูุฑุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ููููุดุชุงูู 3D </h3><br>  ูุณุชุฎุฏู ุงููููุฐุฌ ุงูุฃููู ูุดูุฏ ุจุณูุท ููุบุงูุฉ.  ูุฏููุง ูุตุฏุฑ ุถูุก ูุงุญุฏ ููุท ููุชู ุชูุฏูู ุนุฏุฏ ูููู ูู ุงููุฌุงูุงุช ูุงูููุนุจุงุช.  ุจูุถู ูุฐุง ุ ุฑูุฒ ุชุชุจุน ุงูุดุนุงุน ูู ุงูุชุธููู ุจุณูุท ููุบุงูุฉ.  ูุง ุชุฒุงู ุฏูุฑุฉ ูุญุต ุงูููุฉ ุงูุบุงุดูุฉ ุงูุชู ูุชู ูููุง ุงุฎุชุจุงุฑ ุงูุญุฒูุฉ ููุชูุงุทุน ูุน ุฌููุน ุงูููุนุจุงุช ูุงููุฌุงูุงุช ุงูููุฌูุฏุฉ ูู ุงููุดูุฏ ุณุฑูุนุฉ ุจุฏุฑุฌุฉ ูุงููุฉ ุญุชู ูุชููู ุงูุจุฑูุงูุฌ ูู ุชูููุฐูุง ูู ุงูููุช ุงููุนูู. <br><br>  ุจุนุฏ ุฅูุดุงุก ูุฐุง ุงููููุฐุฌ ุงูุฃููู ุ ุฃุฑุฏุช ุฃู ุฃูุนู ุดูุฆูุง ุฃูุซุฑ ุชุนููุฏูุง ุนู ุทุฑูู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุฃุดูุงู ุงูููุฏุณูุฉ ูุงููุซูุฑ ูู ูุตุงุฏุฑ ุงูุฅุถุงุกุฉ ุฅูู ุงููุดูุฏ. <br><br>  ุงููุดููุฉ ูู ุจูุฆุฉ ุฃูุซุฑ ุชุนููุฏูุง ูู ุฃููู ูุง ุฒูุช ุจุญุงุฌุฉ ุฅูู ุฃู ุฃุชููู ูู ุชุชุจุน ุงูุฃุดุนุฉ ูู ุงููุดูุฏ ูู ุงูููุช ุงููุนูู.  ุนุงุฏุฉ ุ ุณูุชู ุงุณุชุฎุฏุงู ุจููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุณูุณู ุงููุฑูู ููุณุชูู ุงูุตูุช ุงููุญูุท</a> (BVH) ูุชุณุฑูุน ุนูููุฉ ุชุชุจุน ุงูุดุนุงุน ุ ููู ูุฑุงุฑู ูุฅูุดุงุก ูุฐุง ุงููุดุฑูุน ุนูู WebGL1 ูู ูุณูุญ ุจุฐูู: ูู ุงููุณุชุญูู ุชุญููู ุจูุงูุงุช 16 ุจุช ุฅูู ูุณูุฌ ูู WebGL1 ููุง ูููู ุงุณุชุฎุฏุงู ุงูุนูููุงุช ุงูุซูุงุฆูุฉ ูู ุชุธููู.  ูุฐุง ูุนูุฏ ุงูุญุณุงุจ ุงูุฃููู ูุชุทุจูู BVH ูู ุชุธููู WebGL1. <br><br>  ูุฐุง ูู ุงูุณุจุจ ูู ุฃููู ูุฑุฑุช ุงุณุชุฎุฏุงู ุงููุณุชูู ุงูุชุฌุฑูุจู Wolfenstein 3D ููุฐุง ุงูุบุฑุถ.  ูู ุนุงู 2013 ุ ููุช ุจุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุธููู WebGL</a> ูุงุญุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฌุฒุฃ</a> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Shadertoy</a> ูุง ูุคุฏู ููุท ุฅูู ุชูุฏูู ูุณุชููุงุช ุชุดุจู Wolfenstein ุ ูููู ุฃูุถูุง ูู ุงููุงุญูุฉ ุงูุฅุฌุฑุงุฆูุฉ ูุฎูู ุฌููุน ุงูููุงู ุงูุถุฑูุฑู.  ูู ุชุฌุฑุจุชู ูู ุงูุนูู ุนูู ูุฐุง ุงูุชุธููู ุ ููุช ุฃุนูู ุฃู ุชุตููู ูุณุชูู ุดุจูุฉ Wolfenstein ูููู ุงุณุชุฎุฏุงูู ุฃูุถูุง ููููู ุชุณุฑูุน ุณุฑูุน ูุณูู ุ ูุฃู ุชุชุจุน ุงูุฃุดุนุฉ ุนูู ูุฐุง ุงููููู ุณูููู ุณุฑูุนูุง ุฌุฏูุง. <br><br>  ูุชู ุนุฑุถ ููุทุฉ ุดุงุดุฉ ุงูุนุฑุถ ุงูุชูุถูุญู ุฃุฏูุงู ุ ููู ูุถุน ููุก ุงูุดุงุดุฉ ุ ููููู ุชุดุบูููุง ููุง: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://reindernijhoff.net/wolfrt</a> . <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/eu/gl/fp/euglfpjgl9503fy-_hjdwmr5hdi.png"></div><br><h3 style=";text-align:right;direction:rtl">  ูุตู ูุตูุฑ </h3><br>  ูุณุชุฎุฏู ุงูุนุฑุถ ุงูุชูุถูุญู ูุญุฑู ุชูุฏูู ูุฌูู.  ูุชูุฏูู ูู ุงููุถูุนุงุช ูู ุงูุฅุทุงุฑ ุ ูุฅูู ูุณุชุฎุฏู ุงูุชูููุท ุงูุชูููุฏู ุ ุซู ูุฌูุน ุงููุชูุฌุฉ ูุน ุงูุธูุงู ุ ููุดุฑ GI ุ ูุงูุงูุนูุงุณุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ ุชุชุจุน ุงูุดุนุงุน. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8f7/fd8/bb9/8f7fd8bb9324905edf5200fedb28bb7a.png"></div><br>  <i>ุดุจุญ</i> <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/524/5b5/6ba/5245b56ba3a1feb02a9401857d625514.png"></div><br>  <i>ููุชุดุฑ gi</i> <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/885/df3/33c/885df333c0da45fcbb909c01c5da9648.png"></div><br>  <i>ุชุฃููุงุช</i> <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุฏูู ุงุณุชุจุงููุฉ </h3><br>  ูููู ุชุฑููุฒ ุจุทุงูุงุช Wolfenstein ุจุงููุงูู ูู ุดุจูุฉ ุซูุงุฆูุฉ ุงูุฃุจุนุงุฏ 64 ร 64.  ุชุณุชูุฏ ุงูุฎุฑูุทุฉ ุงููุณุชุฎุฏูุฉ ูู ุงูุนุฑุถ ุงูุชูุถูุญู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุณุชูู ุงูุฃูู ูู ุงูุญููุฉ 1 ูู</a> Wolfenstein 3D. <br><br>  ุนูุฏ ุจุฏุก ุงูุชุดุบูู ุ ูุชู ุฅูุดุงุก ูู ุงูุฃุดูุงู ุงูููุฏุณูุฉ ุงููุงุฒูุฉ ูุชูุฑูุฑ ุงูุนุฑุถ ุงูุงุณุชุจุงูู.  ูุชู ุฅูุดุงุก ุดุจูุฉ ูู ุงูุฌุฏุฑุงู ูู ุจูุงูุงุช ุงูุฎุฑูุทุฉ.  ููุง ุฃูู ููุดุฆ ุทุงุฆุฑุงุช ุฃุฑุถูุฉ ูุณูู ุ ูุดุจูุงุช ูููุตูุฉ ููุฃููุงุฑ ุ ูุงูุฃุจูุงุจ ุ ูุงููุฌุงูุงุช ุงูุนุดูุงุฆูุฉ. <br><br>  ูุชู ุชุฌููุน ุฌููุน ุงูููุงุฏ ุงููุณุชุฎุฏูุฉ ููุฌุฏุฑุงู ูุงูุฃุจูุงุจ ูู ุฃุทูุณ ูุณูุฌ ูุงุญุฏ ุ ุจุญูุซ ูููู ุฑุณู ุฌููุน ุงูุฌุฏุฑุงู ูู ููุงููุฉ ูุงุญุฏุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุธูุงู ูุงูุฅุถุงุกุฉ </h4><br>  ูุชู ุงุญุชุณุงุจ ุงูุฅุถุงุกุฉ ุงููุจุงุดุฑุฉ ูู ุงูุชุธููู ุงููุณุชุฎุฏู ูุชูุฑูุฑ ุงูุชูุฏูู ุงูุฃูุงูู.  ูููู ุฅุถุงุกุฉ ูู ุฌุฒุก (ุจุญุฏ ุฃูุตู) ุจุฃุฑุจุนุฉ ูุตุงุฏุฑ ูุฎุชููุฉ.  ููุนุฑูุฉ ุงููุตุงุฏุฑ ุงูุชู ูููู ุฃู ุชุคุซุฑ ุนูู ุงูุฌุฒุก ุงูููุฌูุฏ ูู ุงูุชุธููู ุ ุนูุฏ ุจุฏุก ุงูุนุฑุถ ุงูุชูุถูุญู ุ ูุชู ุงุญุชุณุงุจ ูุณูุฌ ุงูุจุญุซ ูุณุจููุง.  ูุจูุบ ุญุฌู ูุณูุฌ ุงูุจุญุซ ูุฐุง 64 ร 128 ููุดูุฑ ููุงูุน ุฃูุฑุจ ุฃุฑุจุนุฉ ูุตุงุฏุฑ ุฅุถุงุกุฉ ููู ููุถุน ูู ุดุจูุฉ ุงูุฎุฑูุทุฉ. <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs">varying vec3 vWorldPos; varying vec3 vNormal; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ vec3 ro = vWorldPos; vec3 normal = normalize(vNormal); vec3 light = vec3(<span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;LIGHTS_ENCODED_IN_MAP; i++) { light += sampleLight(i, ro, normal); }</code> </pre> <br>  ููุญุตูู ุนูู ุธูุงู ูุงุนูุฉ ููู ุฌุฒุก ููุตุฏุฑ ููุถูุก ุ ูุชู ุฃุฎุฐ ุนููุงุช ูู ููุถุน ุนุดูุงุฆู ูู ูุตุฏุฑ ุงูุถูุก.  ุจุงุณุชุฎุฏุงู ุฑูุฒ ุชุชุจุน ุงูุดุนุงุน ูู ุงูุชุธููู (ุงูุธุฑ ูุณู ุชุชุจุน ุงูุดุนุงุน ุฃุฏูุงู) ุ ูุชู ุฅุฑุณุงู ุดุนุงุน ุงูุธู ุฅูู ููุทุฉ ุฃุฎุฐ ุงูุนููุงุช ูุชุญุฏูุฏ ูุฏู ุฑุคูุฉ ูุตุฏุฑ ุงูุถูุก. <br><br>  ุจุนุฏ ุฅุถุงูุฉ ุงูุงูุนูุงุณุงุช (ุงููุณุงุนุฏุฉ) (ุงูุธุฑ ูุณู ุงูุงูุนูุงุณ ุฃุฏูุงู) ุ ุชุชู ุฅุถุงูุฉ GI ุงูููุชุดุฑ ุฅูู ุงูููู ุงููุญุณูุจ ููุฌุฒุก ุนู ุทุฑูู ุฅุฌุฑุงุก ุจุญุซ ูู Diffuse GI Render Target (ุงูุธุฑ ุฃุฏูุงู). <br><br><h3 style=";text-align:right;direction:rtl">  ุชุชุจุน ุฑุงู </h3><br>  ุนูู ุงูุฑุบู ูู ุฃู ุดูุฑุฉ ุชุชุจุน ุดุนุงุน ุงููููุฐุฌ ุงูุฃููู ูู GI ุงูููุชุดุฑ ุชู ุฏูุฌูุง ูุน ุชุธููู ููุงุฆู ุ ููุฏ ูุฑุฑุช ูู ุงูุนุฑุถ ุงูุชูุถูุญู ูุตููุง. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/58b/8fd/3ab/58b8fd3abd38a86da42e1454df7109de.png"></div><br>  ููุฏ ููุช ุจูุตููู ุนู ุทุฑูู ุชูุฏูู ุนุฑุถ ุซุงูู ูุฌููุน ุงูุฃุดูุงู ุงูููุฏุณูุฉ ุฅูู ูุฏู ุชุฌุณูุฏ ูููุตู (Diffuse GI Render Target) ุจุงุณุชุฎุฏุงู ุชุธููู ุขุฎุฑ ููุจุนุซ ููู ุฃุดุนุฉ ุนุดูุงุฆูุฉ ููุท ูุฌูุน GI ููุชุดุฑ (ุฑุงุฌุน ูุณู "ูุดุฑ GI" ุฃุฏูุงู).  ุชุชู ุฅุถุงูุฉ ุงูุฅุถุงุกุฉ ุงููุฌูุนุฉ ูู ูุฏู ุงูุชุฌุณูุฏ ูุฐุง ุฅูู ุงูุฅุถุงุกุฉ ุงููุจุงุดุฑุฉ ุงููุญุณูุจุฉ ูู ููุทุน ุงูุชูุฏูู ุงูุฃูุงูู. <br><br>  ุจูุตู ุงูุชูุฑูุฑุงุช ุงูุงุณุชุจุงููุฉ ู GI ุงูููุชุดุฑุฉ ุ ูููููุง ุฃู ูุตุฏุฑ ุฃูู ูู ุญุฒูุฉ GI ููุชุดุฑุฉ ููู ุจูุณู ุดุงุดุฉ.  ูููู ุงูููุงู ุจุฐูู ุนู ุทุฑูู ุชูููู ูููุงุณ ุงููุฎุฒู ุงููุคูุช (ุนู ุทุฑูู ุชุญุฑูู ุดุฑูุท ุงูุชูุฑูุฑ ูู ุงูุฎูุงุฑุงุช ุงูููุฌูุฏุฉ ูู ุงูุฒุงููุฉ ุงููููู ุงูุนููุง ูู ุงูุดุงุดุฉ). <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู Buffer Scale ูู 0.5 ุ ูุณูุชู ุฅุตุฏุงุฑ ุดุนุงุน ูุงุญุฏ ููุท ููู ุฃุฑุจุนุฉ ุจูุณูุงุช ููุดุงุดุฉ.  ููุฐุง ูููุฑ ุฒูุงุฏุฉ ูุจูุฑุฉ ูู ุงูุฅูุชุงุฌูุฉ.  ุจุงุณุชุฎุฏุงู ููุณ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูู ุงูุฒุงููุฉ ุงููููู ุงูุนููุง ูู ุงูุดุงุดุฉ ุ ููููู ุฃูุถูุง ุชุบููุฑ ุนุฏุฏ ุงูุนููุงุช ููู ุจูุณู ูู ูุฏู ุงูุชุฌุณูุฏ (SPP) ูุนุฏุฏ ุงูุนูุงุณุงุช ุงูุญุฒูุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ุชูุจุนุซ ูููุง ุดุนุงุน </h4><br>  ูู ุฃุฌู ุฃู ุชููู ูุงุฏุฑุฉ ุนูู ุงูุจุนุงุซ ุฃุดุนุฉ ุฅูู ููุงู ุงูุญุงุฏุซ ุ ูุฌุจ ุฃู ูููู ูุฌููุน ููุฏุณุฉ ุงููุณุชูู ุดูู ุจุชูุณูู ูููู ุฃู ูุณุชุฎุฏูู ุฑุงุณู ุงูุฃุดุนุฉ ูู ุงูุชุธููู.  ุทุจูุฉ ููููุดุชุงูู ุชุฑููุฒ ุดุจูุฉ 64 ร 64 ุ ูุฐูู ููู ุงูุณูู ุจูุง ููู ุงูููุงูุฉ ูุชุดููุฑ ุฌููุน ุงูุจูุงูุงุช ูู ูุณูุฌ 64 ร 64 ูุงุญุฏ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุงูููุงุฉ ุงูุญูุฑุงุก ูููู ุงููููุณ ุ ูุชู ุชุดููุฑ ุฌููุน ุงููุงุฆูุงุช ุงูููุฌูุฏุฉ ูู ุงูุฎููุฉ ุงูููุงุจูุฉ <em>x ู y ูู</em> ุดุจูุฉ ุงูุฎุฑูุทุฉ.  ุฅุฐุง ูุงูุช ูููุฉ ุงูููุงุฉ ุงูุญูุฑุงุก ุชุณุงูู ุตูุฑูุง ุ ููุง ุชูุฌุฏ ูุงุฆูุงุช ูู ุงูุฎููุฉ ุ ูุฅูุง ุ ูุณูุชู ุดุบููุง ุจูุงุณุทุฉ ุฌุฏุงุฑ (ููู ูู 1 ุฅูู 64) ุฃู ุจุงุจ ุฃู ูุตุฏุฑ ุถูุก ุฃู ูุฑุฉ ุชุญุชุงุฌ ุฅูู ุงูุชุญูู ูู ุงูุชูุงุทุน. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุงููุฌุงู ูุดุบู ุฎููุฉ ุดุจูุฉ ูุณุชูู ุ ูุณูุชู ุงุณุชุฎุฏุงู ููุงุฉ ุฎุถุฑุงุก ูุฒุฑูุงุก ูุฃููุง ูุชุดููุฑ ูุตู ุงููุทุฑ ูุงูุฅุญุฏุงุซูุงุช ุงููุณุจูุฉ <em>x</em> ู <em>y</em> ูู ุงููุฑุฉ ุฏุงุฎู ุฎููุฉ ุงูุดุจูุฉ. </li></ul><br>  ุชูุจุนุซ ุงูุฃุดุนุฉ ูู ูุดูุฏ ูู ุฎูุงู ุงุฌุชูุงุฒ ูุณูุฌ ุจุงุณุชุฎุฏุงู ุงูููุฏ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">worldHit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n vec3 ro,in vec3 rd,in </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> t_min, in </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> t_max, inout vec3 recPos, inout vec3 recNormal, inout vec3 recColor)</span></span></span><span class="hljs-function"> </span></span>{ vec3 pos = <span class="hljs-built_in"><span class="hljs-built_in">floor</span></span>(ro); vec3 ri = <span class="hljs-number"><span class="hljs-number">1.0</span></span>/rd; vec3 rs = sign(rd); vec3 dis = (pos-ro + <span class="hljs-number"><span class="hljs-number">0.5</span></span> + rs*<span class="hljs-number"><span class="hljs-number">0.5</span></span>) * ri; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;MAXSTEPS; i++ ) { vec3 mm = step(dis.xyz, dis.zyx); dis += mm * rs * ri; pos += mm * rs; vec4 mapType = texture2D(_MapTexture, pos.xz * (<span class="hljs-number"><span class="hljs-number">1.</span></span> / <span class="hljs-number"><span class="hljs-number">64.</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isWall(mapType)) { ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br>  ูููู ุงูุนุซูุฑ ุนูู ุฑูุฒ ูุดุงุจู ููุจุญุซ ุนู ุงูููููุฏูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดุงุฏุฑ Wolfenstein</a> ุนูู Shadertoy. <br><br>  ุจุนุฏ ุญุณุงุจ ููุทุฉ ุงูุชูุงุทุน ุจุงุณุชุฎุฏุงู ุงูุฌุฏุงุฑ ุฃู ุงูุจุงุจ (ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุฎุชุจุงุฑ ุงูุชูุงุทุน ุจุงุณุชุฎุฏุงู ูุชูุงุฒู ุงูุฃุถูุงุน</a> ) ุ ูุฅู ุงูุจุญุซ ูู ุฃุทูุณ ุงููุณูุฌ ููุณู ุงูุฐู ุชู ุงุณุชุฎุฏุงูู ูุชูุฑูุฑ ุงูุชุฌุณูุฏ ุงูุงุณุชุจุงูู ูุนุทููุง ููุงุท ุชูุงุทุน ุฃูุจูุฏู.  ุชุญุชูู ุงููุฌุงูุงุช ุนูู ููู ูุชู ุชุญุฏูุฏู ูู ุงููุงุญูุฉ ุงูุฅุฌุฑุงุฆูุฉ ุงุณุชูุงุฏูุง ุฅูู ุฅุญุฏุงุซูุงุช <em>x ุ y</em> ูู ุงูุดุจูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุธููุฉ ุชุฏุฑุฌ ุงูููู</a> . <br><br>  ุงูุฃุจูุงุจ ูู ุฃูุซุฑ ุชุนููุฏุง ููููุง ูุฃููุง ุชุชุญุฑู.  ูู ุฃุฌู ุฃู ูููู ุชูุซูู ุงููุดูุฏ ูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ (ุงููุณุชุฎุฏู ูุชูุฏูู ุงูุดุจูุงุช ูู ุชูุฑูุฑ ุงูุชูุฏูู ุงูุฃูุงูู) ูู ููุณ ุชูุซูู ุงููุดูุฏ ูู ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช (ุงููุณุชุฎุฏูุฉ ูู ุชุชุจุน ุงูุฃุดุนุฉ) ุ ุชุชุญุฑู ุฌููุน ุงูุฃุจูุงุจ ุชููุงุฆููุง ูุจุดูู ุญุงุณู ุ ุงุณุชูุงุฏูุง ุฅูู ุงููุณุงูุฉ ูู ุงููุงููุฑุง ุฅูู ุงูุจุงุจ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/3d7/ded/058/3d7ded058d2f62fcf298c9b68b568a69.png"></div><br><br><h4 style=";text-align:right;direction:rtl">  ููุชุดุฑ gi </h4><br>  ูุชู ุงุญุชุณุงุจ ุงูุฅุถุงุกุฉ ุงูุนุงูููุฉ ุงููุชูุงุซุฑุฉ (ูุดุฑ GI) ุนู ุทุฑูู ุฅุตุฏุงุฑ ุฃุดุนุฉ ูู ุงูุชุธููู ุ ูุงูุฐู ูุณุชุฎุฏู ูุฑุณู ุฌููุน ุงูุฃุดูุงู ุงูููุฏุณูุฉ ูู Diffuse GI Render Target.  ูุนุชูุฏ ุงุชุฌุงู ูุฐู ุงูุฃุดุนุฉ ุนูู ุงููุถุน ุงูุทุจูุนู ููุณุทุญ ุ ููุชู ุชุญุฏูุฏ ุฐูู ุนู ุทุฑูู ุฃุฎุฐ ุนููุงุช ูู ูุตู ุงููุฑุฉ ุงููุฎุฑุฌ ูู ุฌูุจ ุงูุชูุงู. <br><br>  ุนูุฏ ูุฌูุฏ ุงุชุฌุงู ุงูุญุฒูุฉ <em>rd</em> ูููุทุฉ ุงูุจุฏุก <em>ro</em> ุ ูููู ุญุณุงุจ ุงูุฅุถุงุกุฉ ุงูููุนูุณุฉ ุจุงุณุชุฎุฏุงู ุงูุฏูุฑุฉ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">vec3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getBounceCol</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(in vec3 ro, in vec3 rd, in vec3 col)</span></span></span><span class="hljs-function"> </span></span>{ vec3 emitted = vec3(<span class="hljs-number"><span class="hljs-number">0</span></span>); vec3 recPos, recNormal, recColor; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;MAX_RECURSION; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (worldHit(ro, rd, <span class="hljs-number"><span class="hljs-number">0.001</span></span>, <span class="hljs-number"><span class="hljs-number">20.</span></span>, recPos, recNormal, recColor)) { <span class="hljs-comment"><span class="hljs-comment">// if (isLightHit) { // direct light sampling code // return vec3(0); // } col *= recColor; for (int i=0; i&lt;2; i++) { emitted += col * sampleLight(i, recPos, recNormal); } } else { return emitted; } rd = cosWeightedRandomHemisphereDirection(recNormal); ro = recPos; } return emitted; }</span></span></code> </pre> <br>  ูุชูููู ุงูุถูุถุงุก ุ ุชุชู ุฅุถุงูุฉ ุนููุงุช ุงูุถูุก ุงููุจุงุดุฑุฉ ุฅูู ุงูุญููุฉ.  ูุดุจู ูุฐุง ุงูุฃุณููุจ ุงููุณุชุฎุฏู ูู ุชุธููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Cornell Box</a> ุงูุฎุงุต ุจู ุนูู Shadertoy. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุนูุงุณ </h4><br>  ุจูุถู ุงููุฏุฑุฉ ุนูู ุชุชุจุน ุงููุดูุฏ ุจุงูุฃุดุนุฉ ูู ุงูุชุธููู ุ ูู ุงูุณูู ุฌุฏูุง ุฅุถุงูุฉ ุงูุนูุงุณุงุช.  ูู ุงูุนุฑุถ ุงูุชูุถูุญู ุงูุฎุงุต ุจู ุ ุชุชู ุฅุถุงูุฉ ุงูุงูุนูุงุณุงุช ุนู ุทุฑูู ุงุณุชุฏุนุงุก ููุณ ุงูุฃุณููุจ <em>getBounceCol</em> ุงูููุถุญ ุฃุนูุงู ุจุงุณุชุฎุฏุงู ุงูุญุฒูุฉ ุงูููุนูุณุฉ ูู ุงููุงููุฑุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> REFLECTION col = mix(col, getReflectionCol(ro, reflect(normalize(vWorldPos - _CamPos), normal), albedo), .15); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre> <br>  ุชุชู ุฅุถุงูุฉ ุงูุนูุงุณุงุช ูู ุชูุฑูุฑ ุงูุชูุฏูู ุงูุฃูุงูู ุ ูุฐูู ุ ุณูู ุชูุจุนุซ ุดุนุงุน ุงูุนูุงุณ ูุงุญุฏ ุฏุงุฆููุง ุดุนุงุน ุงูุนูุงุณ ูุงุญุฏ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a88/e84/d6a/a88e84d6a2d0209234d6edaf02fcc441.png"></div><br><h3 style=";text-align:right;direction:rtl">  ุงูุฒูุงูู ูููุงูุญุฉ ุงูุชุนุฑุฌ </h3><br>  ูุธุฑูุง ูุฃู ููุง ูู ุงูุธูุงู ุงููุงุนูุฉ ูู ุชูุฑูุฑ ุงูุนุฑุถ ุงูุงุณุชุจุงูู ูุชูุฑูุจ GI ุงูููุชุดุฑ ูุณุชุฎุฏูุงู ุนููุฉ ูุงุญุฏุฉ ููู ุจูุณู ุชูุฑูุจูุง ุ ุชููู ุงููุชูุฌุฉ ุงูููุงุฆูุฉ ุตุงุฎุจุฉ ููุบุงูุฉ.  ูุชูููู ููุฏุงุฑ ุงูุถูุถุงุก ุ ุชู ุงุณุชุฎุฏุงู ุงูุชุนุชูู ุงูุฒูุงูู (TAA) ุงุณุชูุงุฏูุง ุฅูู TAA ุงูุฎุงุต ุจู Playdead: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Anti-Aliasing Reprojection Reprojection in INSIDE</a> . <br><br><h4 style=";text-align:right;direction:rtl">  ุฅุนุงุฏุฉ ุงูุฅุณูุงุท </h4><br>  ุงูููุฑุฉ ูุฑุงุก TAA ุจุณูุทุฉ ููุบุงูุฉ: ุชููู TAA ุจุญุณุงุจ ุจูุณู ูุงุญุฏ ููู ุฅุทุงุฑ ุ ุซู ุชููู ุจุชูููู ููููุง ุจุงูุจูุณู ุงููุชุฑุงุจุท ูู ุงูุฅุทุงุฑ ุงูุณุงุจู. <br><br>  ููุนุฑูุฉ ููุงู ูุฌูุฏ ุงูุจููุณู ุงูุญุงูู ูู ุงูุฅุทุงุฑ ุงูุณุงุจู ุ ุชุชู ุฅุนุงุฏุฉ ุนุฑุถ ููุถุน ุงูุฌุฒุก ุจุงุณุชุฎุฏุงู ูุตูููุฉ ุนุฑุถ ูููุฐุฌ ุงูุฅุณูุงุท ููุฅุทุงุฑ ุงูุณุงุจู. <br><br><h4 style=";text-align:right;direction:rtl">  ุฅุณูุงุท ุงูุนููุงุช ูุงูุญุฏ ูู ุงูุฃุญูุงุก </h4><br>  ูู ุจุนุถ ุงูุญุงูุงุช ุ ุชููู ุงูุนููุฉ ุงููุญููุธุฉ ูู ุงููุงุถู ุบูุฑ ุตุงูุญุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏูุง ุชุชุญุฑู ุงููุงููุฑุง ุจุทุฑููุฉ ุชู ูููุง ุฅุบูุงู ุฌุฒุก ูู ุงูุฅุทุงุฑ ุงูุญุงูู ูู ุงูุฅุทุงุฑ ุงูุณุงุจู ุจูุงุณุทุฉ ููุฏุณุฉ.  ูุชุฌุงูู ูุฐู ุงูุนููุงุช ุบูุฑ ุงูุตุงูุญุฉ ุ ูุชู ุงุณุชุฎุฏุงู ุชูููุฏ ุงูุญู.  ููุฏ ุงุฎุชุฑุช ุฃุจุณุท ุฃููุงุน ุงููููุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">vec3 history = texture2D(_History, uvOld ).rgb; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x = <span class="hljs-number"><span class="hljs-number">-1.</span></span>; x &lt;= <span class="hljs-number"><span class="hljs-number">1.</span></span>; x+=<span class="hljs-number"><span class="hljs-number">1.</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y = <span class="hljs-number"><span class="hljs-number">-1.</span></span>; y &lt;= <span class="hljs-number"><span class="hljs-number">1.</span></span>; y+=<span class="hljs-number"><span class="hljs-number">1.</span></span>) { vec3 n = texture2D(_New, vUV + vec2(x,y) / _Resolution).rgb; mx = max(n, mx); mn = min(n, mn); } } vec3 history_clamped = clamp(history, mn, mx);</code> </pre> <br>  ุญุงููุช ุฃูุถูุง ุงุณุชุฎุฏุงู ุทุฑููุฉ ุงูุชูููุฏ ุงุณุชูุงุฏูุง ุฅูู ูุชูุงุฒู ุงูุฃุถูุงุน ุงููุญูุท ุ ููููู ูู ุฃุฑู ูุฑููุง ูุจูุฑูุง ูุน ุญูู.  ุฑุจูุง ุญุฏุซ ูุฐุง ูุฃูู ูู ุงููุดูุฏ ูู ุงูุนุฑุถ ุงูุชูุถูุญู ุ ููุงู ุงูุนุฏูุฏ ูู ุงูุฃููุงู ุงูุฏุงููุฉ ุงููุชูุงุซูุฉ ูุชูุฑูุจุงู ูุง ุชูุฌุฏ ูุงุฆูุงุช ูุชุญุฑูุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุชุฒุงุฒุงุช ุงููุงููุฑุง </h4><br>  ููุญุตูู ุนูู ุตูู ุ ุชุชุฃุฑุฌุญ ุงููุงููุฑุง ูู ูู ุฅุทุงุฑ ุจุณุจุจ ุงุณุชุฎุฏุงู ุงูุชุญูู ุดุจู ุงูุนุดูุงุฆู (pseudo).  ูุชู ุชูููุฐ ุฐูู ุนู ุทุฑูู ุชุบููุฑ ูุตูููุฉ ุงูุฅุณูุงุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._projectionMatrix[<span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">0</span></span>] += (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getHaltonSequence(frame % <span class="hljs-number"><span class="hljs-number">51</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) - <span class="hljs-number"><span class="hljs-number">.5</span></span>) / renderWidth; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._projectionMatrix[<span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>] += (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getHaltonSequence(frame % <span class="hljs-number"><span class="hljs-number">41</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) - <span class="hljs-number"><span class="hljs-number">.5</span></span>) / renderHeight;</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุงูุถูุถุงุก </h3><br>  ุงูุถุฌูุฌ ูู ุฃุณุงุณ ุงูุฎูุงุฑุฒููุงุช ุงููุณุชุฎุฏูุฉ ูุญุณุงุจ GI ุงูููุชุดุฑ ูุงูุธูุงู ุงููุงุนูุฉ.  ูุคุซุฑ ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุถูุถุงุก ุงูุฌูุฏุฉ</a> ุจุดูู ูุจูุฑ ุนูู ุฌูุฏุฉ ุงูุตูุฑุฉ ุ ูู ุญูู ุฃู ุงูุถูุถุงุก ุงูุณูุฆุฉ ุชุฎูู ุขุซุงุฑูุง ุฃู ุชุจุทุฆ ุชูุงุฑุจ ุงูุตูุฑุฉ. <br><br>  ุฃุฎุดู ุฃู ุงูุถูุถุงุก ุงูุจูุถุงุก ุงููุณุชุฎุฏูุฉ ูู ูุฐุง ุงูุนุฑุถ ููุณุช ุฌูุฏุฉ ุฌุฏูุง. <br><br>  ูุนุฏ ุงุณุชุฎุฏุงู ุงูุถูุถุงุก ุงูุฌูุฏุฉ ุฃูู ุฌุงูุจ ูู ุชุญุณูู ุฌูุฏุฉ ุงูุตูุฑุฉ ูู ูุฐุง ุงูุนุฑุถ ุงูุชูุถูุญู.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุถูุถุงุก ุงูุฒุฑูุงุก</a> . <br><br>  ููุฏ ุฃุฌุฑูุช ุชุฌุงุฑุจ ุนูู ุงูุถูุถุงุก ุงุณุชูุงุฏูุง ุฅูู ุงููุณุจุฉ ุงูุฐูุจูุฉ ุ ููููุง ูู ุชูุฌุญ.  ุญุชู ุงูุขู ุ ูุชู ุงุณุชุฎุฏุงู " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุด ูุงุด" ุจุฏูู ุงุณู</a> ุฏุงูู ููุณูููุฒ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">vec2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hash2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ vec3 p3 = fract(vec3(g_seed += <span class="hljs-number"><span class="hljs-number">0.1</span></span>) * HASHSCALE3); p3 += dot(p3, p3.yzx + <span class="hljs-number"><span class="hljs-number">19.19</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fract((p3.xx+p3.yz)*p3.zy); }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/a81/338/42a/a8133842a43266dad1b4e9ee50c59228.png"></div><br><h3 style=";text-align:right;direction:rtl">  ุงูุญุฏ ูู ุงูุถูุถุงุก </h3><br>  ุญุชู ูุน ุชูููู TAA ุ ูุง ูุฒุงู ุงูุนุฑุถ ุงูุชูุถูุญู ูุนุฑุถ ุงููุซูุฑ ูู ุงูุถูุถุงุก.  ูู ุงูุตุนุจ ุจุดูู ุฎุงุต ุชูุฏูู ุงูุณูู ุ ูุฃูู ูุถุงุก ููุท ุนู ุทุฑูู ุงูุฅุถุงุกุฉ ุบูุฑ ุงููุจุงุดุฑุฉ.  ูุง ูุจุณุท ุงููููู ุฃู ุงูุณูู ุนุจุงุฑุฉ ุนู ุณุทุญ ูุณุชูู ูุจูุฑ ุ ููููุก ุจููู ุตูุจ: ุฅุฐุง ูุงู ูุฏูู ุชูุงุตูู ูุณูุฌูุฉ ุฃู ููุฏุณูุฉ ุ ูุฅู ุงูุถูุถุงุก ุชุตุจุญ ุฃูู ูุถูุญูุง. <br><br>  ูู ุฃูู ุฃุฑุบุจ ูู ูุถุงุก ุงููุซูุฑ ูู ุงูููุช ูู ูุฐุง ุงูุฌุฒุก ูู ุงูุนุฑุถ ุงูุชูุถูุญู ุ ูุฐุง ุญุงููุช ุชุทุจูู ูุฑุดุญ ูุงุญุฏ ููุท ููุญุฏ ูู ุงูุถูุถุงุก: Median3x3 ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Morgan McGuire ู Kyle Witson</a> .  ูุณูุก ุงูุญุธ ุ ูุง ูุนูู ูุฐุง ุงูููุชุฑ ุฌูุฏูุง ูุน ุฑุณููุงุช "ูู ุงูุจููุณู" ูุฃูุณุฌุฉ ุงูุญุงุฆุท: ููู ูุฒูู ุฌููุน ุงูุชูุงุตูู ูู ุงููุณุงูุฉ ููุฏูุฑ ุญูู ุฒูุงูุง ุจูุณู ุงูุฌุฏุฑุงู ุงููุฑูุจุฉ. <br><br>  ูู ุชุฌุฑุจุฉ ุฃุฎุฑู ุ ููุช ุจุชุทุจูู ููุณ ุงููุฑุดุญ ุนูู Diffuse GI Render Target.  ุนูู ุงูุฑุบู ูู ุฃูู ูุงู ุจุชูููู ุงูุถูุถุงุก ุจุดูู ุทููู ุ ููู ููุณ ุงูููุช ุชูุฑูุจูุง ุฏูู ุชุบููุฑ ุชูุงุตูู ููุงู ุงูุฌุฏุงุฑ ุ ููุฏ ูุฑุฑุช ุฃู ูุฐุง ุงูุชุญุณู ูุง ูุณุชุญู ูููู ุซุงููุฉ ุฅุถุงููุฉ ุชู ุฅููุงููุง. <br><br><h3 style=";text-align:right;direction:rtl">  ุนุฑุถ </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููููู ุฃู ุชูุนุจ ุงูุชุฌุฑูุจู ููุง</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar444516/">https://habr.com/ru/post/ar444516/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar444502/index.html">ูู ุชุดููุฑ ุงููู ููุซูู ุญูุงุ</a></li>
<li><a href="../ar444504/index.html">ุจุงุณุชุฎุฏุงู ุฏููู ุงูุญุฒูุฉ ุงููุญููุฉ ูู ุจูุซูู ุงูุขู</a></li>
<li><a href="../ar444508/index.html">ููู ุตูุนูุง PHP 7 ุถุนู ุณุฑุนุฉ PHP 5. ุงูุฌุฒุก 1: ุชุญุณูู ููุงูู ุงูุจูุงูุงุช</a></li>
<li><a href="../ar444512/index.html">ุฅูุดุงุก ุชุทุจูู ุฑุณูููุฉ ูุญู ูุดููุฉ ูุณุงุฑ ุงูุญุตุงู</a></li>
<li><a href="../ar444514/index.html">ูุฏูุฉ ุนุจุฑ ุงูุฅูุชุฑูุช "ุงูุฃูู ูู ุชุนูู ุงูุขูุฉ: ุงููุดููุงุช ุงูุทุจูุนูุฉ ููุฐูุงุก ุงูุงุตุทูุงุนู"</a></li>
<li><a href="../ar444518/index.html">ูุญู ูุธุฑูุฉ ุฃุณุงุณูุฉ ูููุนู</a></li>
<li><a href="../ar444520/index.html">2. ุชุญูู ููุทุฉ ุงูุจุฏุก R80.20. ููุฏุณุฉ ุงูุญููู</a></li>
<li><a href="../ar444522/index.html">ูุชู ุฅูุบุงุก ููุงูุฉ ุงูุนุงูู</a></li>
<li><a href="../ar444524/index.html">Lambdas: ูู C ++ 11 ุฅูู C ++ 20. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar444526/index.html">DOTS Stack: C ++ & C #</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>