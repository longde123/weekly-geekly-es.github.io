<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚹 🚾 🛸 ¿Se debe almacenar la longitud de la matriz en una variable local en C #? 👨🏿‍🏭 💃🏾 🐩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Me doy cuenta de que la gente suele usar la construcción de esta manera: 



var length = array.Length; for (int i = 0; i < length; i++) { //do smth }...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¿Se debe almacenar la longitud de la matriz en una variable local en C #?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454582/">  Me doy cuenta de que la gente suele usar la construcción de esta manera: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> length = array.Length; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {    <span class="hljs-comment"><span class="hljs-comment">//do smth }</span></span></code> </pre> <br>  Piensan que tener una llamada al Array.Length en cada iteración hará que CLR tome más tiempo para ejecutar el código.  Para evitarlo, almacenan el valor de longitud en una variable local. <br>  Averigüemos (¡de una vez por todas!) Si esto es algo viable o usar una variable temporal es una pérdida de tiempo. <br><a name="habracut"></a><br>  Para comenzar, examinemos estos métodos de C #: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithoutVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.Length; i++) {       sum += array[i];   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {       sum += array[i];   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; }</code> </pre> <br>  Así es como se ve procesado por el compilador JIT (para .NET Framework 4.7.2 bajo LegacyJIT-x86): <br><div class="scrollable-table"><table><tbody><tr><td>  Sin variable () <br>  <font color="#666666">; int suma = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#46aa03">edi</font> <br>  <font color="#666666">; int i = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; int [] localRefToArray = this.array;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int arrayLength = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (arrayLength == 0) devuelve suma;</font> <br>  <font color="#00007f">prueba</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#46aa03">ecx</font> <br>  salida <font color="#00007f">jle</font> <br>  <font color="#666666">; int arrayLength2 = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (i&gt; = arrayLength2)</font> <br>  <font color="#666666">;</font>  <font color="#666666">lanzar nuevo IndexOutOfRangeException ();</font> <br>  <font color="#00007f">bucle</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  <font color="#00007f">jae</font> 056e2d31 <br>  <font color="#666666">; suma + = localRefToArray [i];</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">esi</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">; i ++;</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; if (i &lt;arrayLength) goto loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">jg</font> <font color="#00007f">loop</font> <br>  <font color="#666666">; suma de retorno;</font> <br>  salida <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">edi</font> </td><td>  WithVariable () <br>  <font color="#666666">; int suma = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; int [] localRefToArray = this.array;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int arrayLength = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int i = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">; if (arrayLength == 0) devuelve suma;</font> <br>  <font color="#00007f">prueba</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  salida <font color="#00007f">jle</font> <br>  <font color="#666666">; int arrayLength2 = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (i&gt; = arrayLength2)</font> <br>  <font color="#666666">;</font>  <font color="#666666">lanzar nuevo IndexOutOfRangeException ();</font> <br>  <font color="#00007f">bucle</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">ecx</font> <br>  <font color="#00007f">jae</font> 05902d31 <br>  <font color="#666666">; suma + = localRefToArray [i];</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">eax</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">; i ++;</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">; if (i &lt;arrayLength) goto loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">eax</font> <font color="#46aa03">edi</font> <br>  <font color="#00007f">bucle</font> <font color="#00007f">jl</font> <br>  <font color="#666666">; suma de retorno;</font> <br>  salida <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> </td></tr></tbody></table></div><br><div class="spoiler">  <b class="spoiler_title">Comparación en Meld:</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/gc/4s/mi/gc4smi2gsptfuyqiuwyizrv2q80.png"><br></div></div><br>  Es trivial notar que tienen exactamente el mismo número de instrucciones de ensamblador: 15. Incluso la lógica de estas instrucciones es casi la misma.  Hay una ligera diferencia en el orden de inicialización de las variables y las comparaciones sobre si el ciclo debe continuar.  Podemos notar que en ambos casos la longitud de la matriz se registra dos veces antes del ciclo: <br><br><ul><li>  Para verificar 0 (arrayLength) <br></li><li>  En la variable temporal para verificar la condición del ciclo (arrayLength2). <br></li></ul><br>  Resulta que ambos métodos se compilarán exactamente en el mismo código, pero el primero se escribe más rápido, a pesar de que no hay ningún beneficio en términos de tiempo de ejecución. <br>  El código de ensamblador anterior me llevó a algunas reflexiones y decidí revisar un par de métodos más: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithoutVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; array.Length; i++) {       sum += array[i] + array.Length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WithVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; length; i++) {       sum += array[i] + length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; }</code> </pre> <br>  Ahora el elemento actual y la longitud de la matriz se suman, pero en el primer caso la longitud de la matriz se solicita cada vez, y en el segundo caso se guarda una vez en una variable local.  Veamos el código de ensamblador de estos métodos: <br><div class="scrollable-table"><table><tbody><tr><td>  Sin variable () <br>  <font color="#00007f">int</font> suma = <font color="#ff0000">0</font> <font color="#666666">;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#46aa03">edi</font> <br>  <font color="#00007f">int</font> i = <font color="#ff0000">0</font> <font color="#666666">;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">int</font> <font color="#009900">[</font> <font color="#009900">]</font> localRefToArray = esto <font color="#339933">.</font>  matriz <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#00007f">int</font> arrayLength = localRefToArray <font color="#339933">.</font>  Longitud <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  if <font color="#009900">(</font> arrayLength == <font color="#ff0000">0</font> <font color="#009900">)</font> devuelve suma <font color="#666666">;</font> <br>  <font color="#00007f">prueba</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  salida <font color="#00007f">jle</font> <br>  <font color="#00007f">int</font> arrayLength2 = localRefToArray <font color="#339933">.</font>  Longitud <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  if <font color="#009900">(</font> i&gt; = arrayLength2 <font color="#009900">)</font> <br>  lanzar nuevo IndexOutOfRangeException <font color="#009900">(</font> <font color="#009900">)</font> <font color="#666666">;</font> <br>  <font color="#00007f">bucle</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">esi</font> <font color="#46aa03">ecx</font> <br>  <font color="#00007f">jae</font> 05562d39 <br>  <font color="#00007f">int</font> t = matriz <font color="#009900">[</font> i <font color="#009900">]</font> <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">esi</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  t <font color="#339933">+</font> = suma <font color="#666666">;</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">edi</font> <br>  t <font color="#339933">+</font> = arrayLength <font color="#666666">;</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  suma = t <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  i <font color="#339933">++</font> <font color="#666666">;</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">esi</font> <br>  if <font color="#009900">(</font> i &lt;arrayLength <font color="#009900">)</font> goto <font color="#00007f">loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">jg</font> <font color="#00007f">loop</font> <br>  suma de retorno <font color="#666666">;</font> <br>  salida <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">edi</font> <br></td><td>  WithVariable () <br>  <font color="#00007f">int</font> suma = <font color="#ff0000">0</font> <font color="#666666">;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#00007f">int</font> <font color="#009900">[</font> <font color="#009900">]</font> localRefToArray = esto <font color="#339933">.</font>  matriz <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#00007f">int</font> arrayLength = localRefToArray <font color="#339933">.</font>  Longitud <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#00007f">int</font> i = <font color="#ff0000">0</font> <font color="#666666">;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#46aa03">ecx</font> <br>  if <font color="#009900">(</font> arrayLength == <font color="#ff0000">0</font> <font color="#009900">)</font> <font color="#009900">(</font> suma de retorno <font color="#666666">;)</font> <br>  <font color="#00007f">prueba</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  salida <font color="#00007f">jle</font> <br>  <font color="#00007f">int</font> arrayLength2 = localRefToArray <font color="#339933">.</font>  Longitud <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  if <font color="#009900">(</font> i&gt; = arrayLength2 <font color="#009900">)</font> <br>  lanzar nuevo IndexOutOfRangeException <font color="#009900">(</font> <font color="#009900">)</font> <font color="#666666">;</font> <br>  <font color="#00007f">bucle</font> <font color="#339933">:</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx</font> <font color="#46aa03">edi</font> <br>  <font color="#00007f">jae</font> 04b12d39 <br>  <font color="#00007f">int</font> t = matriz <font color="#009900">[</font> i <font color="#009900">]</font> <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">ecx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  t <font color="#339933">+</font> = suma <font color="#666666">;</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  t <font color="#339933">+</font> = arrayLength <font color="#666666">;</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  suma = t <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  i <font color="#339933">++</font> <font color="#666666">;</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">ecx</font> <br>  if <font color="#009900">(</font> i &lt;arrayLength <font color="#009900">)</font> goto <font color="#00007f">loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  <font color="#00007f">bucle</font> <font color="#00007f">jl</font> <br>  suma de retorno <font color="#666666">;</font> <br>  salida <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br></td></tr></tbody></table></div><br><div class="spoiler">  <b class="spoiler_title">Comparación en Meld:</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/co/8z/ix/co8zixjrk_p7fexmgmyhs1xfqqa.png"><br></div></div><br>  Una vez más, el número de instrucciones es el mismo, así como (casi) las instrucciones mismas.  La única diferencia es el orden de inicialización de las variables y la condición de verificación para la continuación del ciclo.  Puede observar que en el cálculo de la suma, solo se tiene en cuenta la primera longitud de la matriz.  Es obvio que esto: <br><blockquote>  <font color="#00007f">int</font> arrayLength2 = localRefToArray <font color="#339933">.</font>  Longitud <font color="#666666">;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  if <font color="#009900">(</font> i&gt; = arrayLength2 <font color="#009900">)</font> arroja un nuevo IndexOutOfRangeException <font color="#009900">(</font> <font color="#009900">)</font> <font color="#666666">;</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">ecx</font> <font color="#46aa03">edi</font> <br>  <font color="#00007f">jae</font> 04b12d39 </blockquote><br>  en los cuatro métodos hay una comprobación de límites de matriz en línea y se ejecuta para cada elemento de la matriz. <br><br>  Ya podemos llegar a la primera conclusión: usar una variable adicional para intentar acelerar el ciclo es una pérdida de tiempo, ya que el compilador lo hará por usted de todos modos.  La única razón para almacenar una matriz de longitud en una variable es hacer que el código sea más legible. <br><br>  <i>Para cada uno</i> es otra situación completamente.  Considere los siguientes tres métodos: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithoutLength</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {       sum += i;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithLengthWithoutLocalVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {       sum += i + array.Length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ForEachWithLengthWithLocalVariable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> sum = <span class="hljs-number"><span class="hljs-number">0</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = array.Length;   <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> array) {       sum += i + length;   }   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum; }</code> </pre> <br>  Y aquí está el código después de JIT: <br><br><div class="spoiler">  <b class="spoiler_title">ForEachWithoutLength ()</b> <div class="spoiler_text">  <font color="#666666">; int suma = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; int [] localRefToArray = this.array;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int i = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#46aa03">edx</font> <br>  <font color="#666666">; int arrayLength = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (arrayLength == 0) va a salir;</font> <br>  <font color="#00007f">prueba</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  salida <font color="#00007f">jle</font> <br>  <font color="#666666">; int t = matriz [i];</font> <br>  <font color="#00007f">bucle</font> <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#46aa03">edx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">; suma + = i;</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">; i ++;</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">edx</font> <br>  <font color="#666666">; if (i &lt;arrayLength) goto loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">edi</font> <font color="#46aa03">edx</font> <br>  <font color="#00007f">jg</font> <font color="#00007f">loop</font> <br>  <font color="#666666">; suma de retorno;</font> <br>  salida <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> </div></div><br><div class="spoiler">  <b class="spoiler_title">ForEachWithLengthWithoutLocalVariable ()</b> <div class="spoiler_text">  <font color="#666666">; int suma = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; int [] localRefToArray = this.array;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int i = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#46aa03">edx</font> <br>  <font color="#666666">; int arrayLength = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (arrayLength == 0) va a salir</font> <br>  <font color="#00007f">prueba</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  salida <font color="#00007f">jle</font> <br>  <font color="#666666">; int t = matriz [i];</font> <br>  <font color="#00007f">bucle</font> <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#46aa03">edx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">; suma + = i;</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">; sum + = localRefToArray.Length;</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; i ++;</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">edx</font> <br>  <font color="#666666">; if (i &lt;arrayLength) goto loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">edi</font> <font color="#46aa03">edx</font> <br>  <font color="#00007f">jg</font> <font color="#00007f">loop</font> <br>  <font color="#666666">; suma de retorno;</font> <br>  salida <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> </div></div><br><div class="spoiler">  <b class="spoiler_title">ForEachWithLengthWithLocalVariable ()</b> <div class="spoiler_text">  <font color="#666666">; int suma = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> <br>  <font color="#666666">; int [] localRefToArray = this.array;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">ecx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int longitud = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">ebx</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; int i = 0;</font> <br>  <font color="#00007f">xor</font> <font color="#46aa03">ecx</font> <font color="#339933">,</font> <font color="#46aa03">ecx</font> <br>  <font color="#666666">; int arrayLength = localRefToArray.Length;</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">edi</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#ff0000">4</font> <font color="#009900">]</font> <br>  <font color="#666666">; if (arrayLength == 0) va a salir;</font> <br>  <font color="#00007f">prueba</font> <font color="#46aa03">edi</font> <font color="#46aa03">edi</font> <br>  salida <font color="#00007f">jle</font> <br>  <font color="#666666">; int t = matriz [i];</font> <br>  <font color="#00007f">bucle</font> <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#0000ff">dword</font> ptr <font color="#009900">[</font> <font color="#46aa03">edx</font> <font color="#339933">+</font> <font color="#46aa03">ecx</font> <font color="#339933">*</font> <font color="#ff0000">4</font> <font color="#339933">+</font> <font color="#ff0000">8</font> <font color="#009900">]</font> <br>  <font color="#666666">; suma + = i;</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">eax</font> <br>  <font color="#666666">; suma + = longitud;</font> <br>  <font color="#00007f">agregar</font> <font color="#46aa03">esi</font> <font color="#339933">,</font> <font color="#46aa03">ebx</font> <br>  <font color="#666666">; i ++;</font> <br>  <font color="#00007f">inc</font> <font color="#46aa03">ecx</font> <br>  <font color="#666666">; if (i &lt;arrayLength) goto loop</font> <br>  <font color="#00007f">cmp</font> <font color="#46aa03">edi</font> <font color="#46aa03">ecx</font> <br>  <font color="#00007f">jg</font> <font color="#00007f">loop</font> <br>  <font color="#666666">; suma de retorno;</font> <br>  salida <font color="#339933">:</font> <br>  <font color="#00007f">mov</font> <font color="#46aa03">eax</font> <font color="#339933">,</font> <font color="#46aa03">esi</font> </div></div><br>  Lo primero que viene a la mente es que requiere menos instrucciones de ensamblador que el ciclo <i>for</i> (por ejemplo, para la suma simple de elementos, tomó 12 instrucciones en <i>foreach</i> , pero 15 en <i>for</i> ). <br><div class="spoiler">  <b class="spoiler_title">Comparación</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/mw/ga/qy/mwgaqykzztnhwmztdcg4ns5thwa.png"><br></div></div><br>  En general, estos son los resultados de los parámetros comparativos de <i>foreach</i> para matrices de 1 millón de elementos: <br><pre> <code class="cs hljs">sum+=array[i];</code> </pre><div class="scrollable-table"><table><tbody><tr><td>  Método <br></td><td>  ItemsCount <br></td><td>  Media <br></td><td>  Error <br></td><td>  Stddev <br></td><td>  Mediana <br></td><td>  Ratio <br></td><td>  RatioSD <br></td></tr><tr><td>  Foreach <br></td><td>  1,000,000 <br></td><td>  1.401 ms <br></td><td>  0.2691 ms <br></td><td>  0,7935 ms <br></td><td>  1.694 ms <br></td><td>  1.00 <br></td><td>  0.00 <br></td></tr><tr><td>  Para <br></td><td>  1,000,000 <br></td><td>  1.586 ms <br></td><td>  0,3204 ms <br></td><td>  0,9447 ms <br></td><td>  1.740 ms <br></td><td>  1,23 <br></td><td>  0,65 <br></td></tr></tbody></table></div>  Y para <br><pre> <code class="cs hljs">sum+=array[i] + array.Length;</code> </pre><div class="scrollable-table"><table><tbody><tr><td>  Método <br></td><td>  ItemsCount <br></td><td>  Media <br></td><td>  Error <br></td><td>  Stddev <br></td><td>  Mediana <br></td><td>  Ratio <br></td><td>  RatioSD <br></td></tr><tr><td>  Foreach <br></td><td>  1,000,000 <br></td><td>  1.703 ms <br></td><td>  0,3010 ms <br></td><td>  0,8874 ms <br></td><td>  1.726 ms <br></td><td>  1.00 <br></td><td>  0.00 <br></td></tr><tr><td>  Para <br></td><td>  1,000,000 <br></td><td>  1.715 ms <br></td><td>  0,2859 ms <br></td><td>  0,8430 ms <br></td><td>  1.956 ms <br></td><td>  1.13 <br></td><td>  0,56 <br></td></tr></tbody></table></div><br>  <i>ForEach</i> recorre la matriz mucho más rápido que <i>para</i> .  Por qué  Para averiguarlo, necesitamos comparar el código después de JIT: <br><br><div class="spoiler">  <b class="spoiler_title">Comparación de las tres opciones foreach</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ae/wx/5s/aewx5szyufp55plv9zsq2wznplq.png"><br></div></div><br>  Veamos ForEachWithoutLength.  La longitud de la matriz se solicita solo una vez y no hay comprobaciones para los límites de la matriz.  Eso sucede porque el ciclo ForEach primero restringe el cambio de la colección dentro del ciclo, y el segundo nunca saldrá de la colección.  Debido a eso, JIT puede permitirse eliminar los límites de la matriz de cheques. <br><br>  Ahora echemos un vistazo a ForEachWithLengthWIthoutLocalVariable.  Solo hay una parte extraña, donde suma + = longitud no sucede con la variable de longitud local previamente guardada, sino con una nueva que la aplicación solicita de la memoria cada vez.  Eso significa que habrá N + 1 solicitudes de memoria para la longitud de la matriz, donde N es una longitud de la matriz. <br><br>  Y ahora llegamos a ForEachWithLengthWithLocalVariable.  El código allí es exactamente el mismo que en el ejemplo anterior, excepto el manejo de la longitud de la matriz.  Una vez más, el compilador generó una variable variable localLongitud que se usa para verificar si la matriz está vacía, pero el compilador aún honestamente guardó nuestra longitud variable local indicada, y eso es lo que se usa en la suma dentro del ciclo.  Resulta que este método solicita la longitud de la matriz de la memoria solo dos veces.  La diferencia es muy difícil de notar en el mundo real. <br><br>  En todos los casos, el código del ensamblador resultó tan simple porque los métodos en sí mismos son simples.  Si los métodos tuvieran más parámetros, tendría que funcionar con la pila, las variables podrían tener almacenes fuera de los registros, habría habido más comprobaciones, pero la lógica principal seguiría siendo la misma: introducir una variable local para la longitud de la matriz es solo útil para hacer código más legible.  También resultó que <i>Foreach a</i> menudo recorre la matriz más rápido que <i>For</i> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454582/">https://habr.com/ru/post/454582/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454568/index.html">Mozilla calificó la distribución de paquetes web firmada digitalmente de Google como "mala"</a></li>
<li><a href="../454570/index.html">Recreando un viejo juego de DOS en C ++ 17</a></li>
<li><a href="../454574/index.html">Aprendizaje automático en microfinanzas: construyendo un modelo de puntuación para clientes con un historial de crédito vacío</a></li>
<li><a href="../454576/index.html">Los autores de GandCrab dejan de funcionar: afirman haber robado lo suficiente</a></li>
<li><a href="../454578/index.html">Cómo conectar la galería PhotoSwipe en la vista web de Android</a></li>
<li><a href="../454584/index.html">Escuela de desarrollo de interfaz: análisis de tareas para Minsk y un nuevo conjunto en Moscú</a></li>
<li><a href="../454586/index.html">Resolver crucigramas japoneses con P̶y̶t̶h̶o̶̶n̶ Rust y WebAssembly</a></li>
<li><a href="../454588/index.html">Gazprom Neft te invita a visitar: GPN Data Science Meetup</a></li>
<li><a href="../454590/index.html">Zimbra Collaboration Suite y control móvil con ABQ</a></li>
<li><a href="../454592/index.html">WAF a través de los ojos de los hackers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>