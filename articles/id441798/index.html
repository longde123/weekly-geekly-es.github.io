<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘‘ ğŸ’¤ ğŸš“ Menulis aplikasi Android di assembler âšœï¸ ğŸ¤¶ğŸ» ğŸ‘‹ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kisah ini adalah tentang pendekatan non-standar untuk pengembangan aplikasi Android. Satu hal untuk menginstal Android Studio dan menulis "Halo, Dunia...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menulis aplikasi Android di assembler</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skillbox/blog/441798/"><img src="https://habrastorage.org/getpro/habr/post_images/6c7/141/a4b/6c7141a4b2db319c5f4dcbd6f432bc81.jpg" alt="gambar"><br><br>  Kisah ini adalah tentang pendekatan non-standar untuk pengembangan aplikasi Android.  Satu hal untuk menginstal Android Studio dan menulis "Halo, Dunia" di Jawa atau Kotlin.  Tetapi saya akan menunjukkan bagaimana tugas yang sama dapat dilakukan secara berbeda. <br><a name="habracut"></a><br><blockquote>  <b>Kami mengingatkan Anda:</b> <i>untuk semua pembaca "Habr" - diskon 10.000 rubel saat mendaftar untuk kursus Skillbox apa pun menggunakan kode promo "Habr".</i> <br><br>  <b>Skillbox merekomendasikan:</b> Kursus pendidikan online <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Pengembang Java Profesi"</a> . <br><br></blockquote><h3>  Bagaimana cara kerja ponsel cerdas saya dengan OS Android? </h3><br>  Pertama, sedikit latar belakang.  Suatu malam seorang teman bernama Ariella memanggil saya.  Dia bertanya kepada saya: "Dengar, bagaimana cara kerja smartphone saya?  Apa yang ada di dalamnya?  Bagaimana energi listrik dan satuan dan nol biasa membuat semuanya berfungsi? " <br><br>  Teman saya bukan pemula dalam pengembangan, dia menciptakan beberapa proyek di Arduino, yang terdiri dari perangkat lunak dan perangkat keras.  Mungkin itu sebabnya dia ingin tahu lebih banyak.  Saya berhasil menjawab dengan bantuan pengetahuan yang diperoleh di salah satu kursus ilmu komputer yang diambil di universitas. <br><br>  Kemudian kami bekerja bersama selama beberapa minggu, karena Ariella ingin mengetahui bagaimana batu bata teknologi elektronik bekerja, yaitu elemen semikonduktor, termasuk transistor.  Selanjutnya, kami pergi ke tingkat yang lebih tinggi: Saya menunjukkan kepadanya cara membuat gerbang logika, misalnya, NAND (logis DAN) ditambah NOR (logis OR) menggunakan kombinasi transistor tertentu. <br><br>  Kami menyelidiki unsur-unsur logis dari berbagai jenis, menggabungkannya untuk melakukan perhitungan (misalnya, menambahkan dua angka biner) dan sel memori (pemicu).  Ketika semuanya menjadi jelas, mereka mulai mengembangkan prosesor sederhana (imajiner), di mana ada dua register tujuan umum dan dua instruksi sederhana (menambahkan register ini).  Kami bahkan menulis sebuah program sederhana yang mengalikan dua angka ini. <br><br>  Omong-omong, jika Anda tertarik pada topik ini, maka baca instruksi untuk membuat komputer 8-bit dari awal.  Ini menjelaskan hampir semuanya, dari dasar-dasarnya.  Saya berharap saya membacanya lebih awal! <br><br><h3>  Halo Android! </h3><br>  Setelah menyelesaikan semua tahapan penelitian, saya merasa bahwa Ariella memiliki pengetahuan yang cukup untuk memahami cara kerja prosesor smartphone.  Ponsel cerdasnya adalah Galaxy S6 Edge, yang basisnya adalah arsitektur ARM (seperti, pada sebagian besar ponsel cerdas).  Kami memutuskan untuk menulis aplikasi "Hello, World" untuk Android, tetapi dalam bahasa assembly. <br><br><pre><code class="plaintext hljs">.text .globl _start _start: mov %r0, $1 // file descriptor number 1 (stdout) ldr %r1, =message mov %r2, $message_len mov %r7, $4 // syscall 4 (write) swi $0 mov %r0, $0 // exit status 0 (ok) mov %r7, $1 // syscall 1 (exit) swi $0 .data message: .ascii "Hello, World\n" message_len = . - message</code> </pre> <br>  Jika Anda belum pernah menemukan kode assembler sebelumnya, blok ini mungkin membuat Anda takut.  Tapi tidak apa-apa, mari kita parsing kode bersama. <br><br>  Jadi, program kami terdiri dari dua bagian.  Yang pertama adalah teks dengan instruksi kode mesin, dan yang kedua adalah variabel, baris, dan informasi lainnya (dimulai dengan baris 15).  Bagian .text biasanya hanya-baca, dan .data juga dapat ditulis. <br><br>  Pada baris 2, kita mendefinisikan fungsi global yang disebut _start.  Ini adalah titik masuk ke aplikasi.  OS mulai menjalankan kode dari titik ini.  Definisi fungsi dinyatakan pada baris 4. <br><br>  Selain itu, fungsinya melakukan dua hal lagi.  Di baris 5â€“9, pesan ditampilkan di layar, di baris 11â€“13, program berakhir.  Bahkan jika Anda menghapus baris 11â€“13, program akan mengeluarkan baris â€œHello, Worldâ€ dan keluar.  Namun, hasilnya tidak akan benar, karena program akan berakhir dengan kesalahan.  Tanpa baris 11-13, aplikasi akan mencoba menjalankan instruksi yang tidak valid. <br><br>  Pencetakan ditampilkan menggunakan fungsi sistem "Panggilan sistem" dari sistem operasi.  Dalam aplikasi, kita memanggil fungsi write ().  Kami menunjukkannya ketika kami memuat nilai 4 ke dalam register prosesor dengan nama r7 (baris 8).  Selanjutnya, swi $ = 0 instruksi (baris 9) dieksekusi, di mana ada transisi langsung ke kernel Linux, yang merupakan dasar dari Android. <br><br>  Adapun parameter untuk panggilan sistem, mereka dikirim melalui register lain.  Sebagai contoh, r0 menunjukkan jumlah deskriptor file yang perlu kita cetak.  Kami menempatkan nilai 1 di sana (baris 5), menunjukkan output standar (stdout), yaitu, output ke layar. <br><br>  r1 menunjukkan alamat memori dari data yang ingin kita tulis, jadi kita hanya memuat alamat string "Hello, World" (baris 6) ke dalam area ini, dan register r2 menunjukkan berapa banyak byte yang ingin kita tulis.  Dalam program kami, diset ke message_len (baris 7), dihitung pada baris 18 menggunakan sintaks khusus: simbol titik menunjukkan alamat memori saat ini.  Karena alasan ini.  - pesan menunjukkan alamat memori saat ini dikurangi alamat pesan.  Yah, karena kita mendeklarasikan message_len segera setelah pesan, semua ini dihitung sebagai panjang pesan. <br><br>  Jika Anda menulis kode untuk baris 5â€“9 menggunakan C, Anda mendapatkan yang berikut: <br><br><pre> <code class="cs hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> message "Hello, World\n" write(1, message, strlen(message));</span></span></code> </pre> <br>  Mematikan program sedikit lebih mudah.  Untuk melakukan ini, kita cukup mendaftarkan kode keluar di register r0 (baris 11), setelah itu kita menambahkan nilai 1, yang merupakan nomor dari panggilan fungsi sistem keluar (), ke r7 (baris 12), lalu panggil kernel lagi (baris 13). <br><br>  Daftar lengkap panggilan sistem Android dan nomornya dapat ditemukan dalam <a href="">kode</a> sumber <a href="">sistem operasi</a> .  Ada juga implementasi dari <a href="">write ()</a> dan <a href="">exit ()</a> yang memanggil fungsi sistem yang sesuai. <br><br><h3>  Menyatukan program </h3><br>  Untuk mengkompilasi proyek kami, Anda memerlukan Android NDK (Native Development Kit).  Ini berisi sekumpulan kompiler dan alat bantu bangun untuk platform ARM.  Anda dapat mengunduhnya dari situs resmi, menginstalnya, misalnya, melalui Android Studio. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b0f/ad0/963/b0fad09631cb9904cc9288563b294db1.png"><br><br>  Setelah NDK diinstal, kita perlu file arm-linux-androideabi-as, ini assembler untuk ARM.  Jika Anda mengunduh melalui Android Studio, maka cari di folder Android SDK.  Biasanya lokasinya <br><br>  <i>ndk-bundle \ toolchains \ arm-linux-androideabi-4.9 \ prebuilt \ windows-x86_64 \ bin.</i> <br><br>  Setelah assembler ditemukan, simpan apa yang tertulis dalam file bernama hello.s, dan kemudian jalankan perintah berikut untuk mengubahnya menjadi kode mesin: <br><br>  <i>arm-linux-androideabi-as -o hello.o hello.s</i> <br><br>  Operasi ini membuat file objek ELF yang disebut hello.o.  Untuk mengonversinya menjadi file biner yang dapat berfungsi pada perangkat Anda, hubungi tautan: <br><br>  <i>arm-linux-androideabi-ld -o hello hello.o</i> <br><br>  Sekarang kami memiliki file halo yang berisi program yang siap digunakan. <br><br><h3>  Luncurkan aplikasi di perangkat Anda </h3><br>  Aplikasi Android biasanya didistribusikan dalam format .apk.  Ini adalah jenis khusus dari file terkompresi yang mencakup kelas Java (ya, Anda dapat menulis dengan C / C ++, tetapi Java harus menjadi titik masuk). <br><br>  Untuk menghindari masalah saat memulai aplikasi, adb digunakan dalam contoh, yang memungkinkan kami untuk menyalinnya ke folder sementara perangkat Android kami.  Setelah itu, kami meluncurkan adb shell untuk meluncurkan aplikasi dan mengevaluasi hasilnya: <br><br>  <i>adb push hello / data / local / tmp / hello</i> <i><br></i>  <i>adb shell chmod + x / data / lokal / tmp / halo</i> <br><br>  Dan akhirnya, jalankan aplikasi: <br><br>  <i>adb shell / data / local / tmp / hello</i> <br><br><h3>  Apa yang kamu tulis </h3><br>  Sekarang Anda memiliki lingkungan kerja yang mirip dengan yang dimiliki Ariella.  Dia menghabiskan beberapa hari mempelajari assembler ARM, kemudian datang dengan proyek sederhana - ini adalah game Sven Boom (variasi Fizz Buzz yang berasal dari Israel).  Pemain menghitung secara bergantian dan setiap kali angka dibagi 7 atau berisi angka 7, mereka harus mengatakan "booming" (karena itulah nama permainan). <br><br>  Perlu dicatat bahwa program game bukanlah tugas yang mudah.  Ariella menulis seluruh metode yang menampilkan angka, satu digit pada satu waktu.  Karena dia menulis semuanya dalam assembler tanpa memanggil fungsi standar perpustakaan C, butuh beberapa hari untuk menyelesaikannya. <br><br>  Program Ariella pertama untuk Adnroid tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  By the way, beberapa pengidentifikasi kode dalam aplikasi sebenarnya kata-kata Ibrani (misalnya, _sifra_ahrona). <br><br>  Menulis aplikasi Android dalam assembler adalah cara yang baik untuk mengenal arsitektur ARM dengan lebih baik, dan juga untuk lebih memahami dapur bagian dalam gadget yang Anda gunakan setiap hari.  Saya sarankan Anda melakukan ini dengan cermat dan mencoba membuat aplikasi assembler kecil untuk perangkat Anda.  Ini bisa berupa permainan sederhana atau yang lainnya. <br><br><blockquote>  <b>Skillbox merekomendasikan:</b> <br><br><ul><li>  Kursus praktis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"PRO Pengembang Seluler"</a> . </li><li>  Kursus online <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Pengembang C # dari awal</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"</a> </li><li>  Kursus praktis dua tahun <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Saya adalah pengembang web PRO</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"</a> </li></ul></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id441798/">https://habr.com/ru/post/id441798/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id441784/index.html">Pandangan seorang ahli biologi tentang teori mutasi penuaan</a></li>
<li><a href="../id441788/index.html">Cara kerja sistem pengawasan video Ivideon: ikhtisar akun pribadi pengguna</a></li>
<li><a href="../id441790/index.html">Pembuatan komponen yang efisien dengan sistem gaya</a></li>
<li><a href="../id441794/index.html">10 Hal Tentang SEO Teknis yang Perlu Diketahui Setiap Pemilik Situs WordPress</a></li>
<li><a href="../id441796/index.html">Tiga poin pertumbuhan konversi, atau cara meningkatkan keamanan dan meningkatkan penjualan di situs</a></li>
<li><a href="../id441800/index.html">Percakapan di C ++: WP 21, Boost, Konferensi</a></li>
<li><a href="../id441802/index.html">Kerangka hukum untuk biometrik</a></li>
<li><a href="../id441804/index.html">Di mana mengajar anak-anak pemrograman?</a></li>
<li><a href="../id441806/index.html">VPN tanpa VPN atau cerita tentang penggunaan SSH yang tidak konvensional</a></li>
<li><a href="../id441808/index.html">Kami mengundang Anda pada tanggal 6 Maret ke ElixirLangMoscow Meetup # 9</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>