<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👃 🖖🏽 🤾🏿 Timer - Start 👂🏾 👼🏼 ⛅️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Alles begann mit ihm. Dies war mein erster Kauf bei Aliexpress für die erste Automatisierung des Landes - ich wollte die automatische Bewässerung im G...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Timer - Start</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422435/"><img src="https://habrastorage.org/webt/yz/s9/r3/yzs9r3pd5_c6uacf0cvy0wbl9r8.jpeg" align="left">  Alles begann mit ihm.  Dies war mein erster Kauf bei Aliexpress für die erste Automatisierung des Landes - ich wollte die automatische Bewässerung im Gewächshaus durchführen.  Der Timer kam in einer zerknitterten Schachtel mit einer rissigen Schutzkappe, funktionierte aber.  Er hat die ganze Sommersaison über Gurken gegossen. Er wurde entfernt und für den Winter an einem warmen und trockenen Ort versteckt.  Aber in der nächsten Saison wartete ich auf eine unangenehme Überraschung - der Timer begann zu hängen, reagierte nicht mehr auf die Steuertasten und öffnete das Wasser.  Zuerst habe ich mit billigen Batterien gesündigt und sie durch Duracell ersetzt.  Ich dachte, das Problem sei Strom und Einschaltströme.  Es hat nicht geholfen.  Dann nahm ich einen Lötkolben heraus und löte alles, was ich konnte, hinein und fügte sogar einige fehlende Kondensatoren hinzu.  Aber er hing hartnäckig weiter.  Leider ist das Produkt nicht sehr wartbar - da ich einen Mikrokreislauf-Tropfen mit offenem Kreislauf verwendet habe und anscheinend etwas genau unter der Verbindung mit dem Mikrokreislauf nicht montiert war.  Irgendwie war die Saison mit einem so zappelnden Timer vorbei und ich begann zu überlegen, durch was ich ihn ersetzen sollte. <br><a name="habracut"></a><br>  Meine ersten Gedanken waren, ein Arduino Mini-Modul, ein Uhrmodul, eine Anzeige zu nehmen und alles irgendwie in den Fall eines kaputten Timers zu schieben und seinen nativen Motor und Kugelhahn zu verwenden.  Aber irgendwie ging es nicht wirklich dorthin, es würde deutlich mehr verbrauchen als die ursprüngliche Füllung (was bedeutet, dass Sie die Batterien im Gehäuse vergessen können) und es war langweilig und nicht skalierbar - ich wollte nicht nur das Gewächshaus, sondern nur einen kaputten Timer gießen. <br><br>  Und dann stieß ich bei Ali auf einen normalen motorisierten Kugelhahn.  Hier ist so ein gutaussehender Mann: <br><br><img src="https://habrastorage.org/webt/zu/md/c5/zumdc50whupl9mloczorxcmo6sg.jpeg"><br><br>  Ja, es kostete anständiges Geld, aber es war nicht beängstigend, es an eine Sommerwasserversorgung anzuschließen und es eine Woche lang unbeaufsichtigt zu lassen.  Es ist im Allgemeinen ziemlich solide, wenn auch mit einem Kunststoffgetriebe - jetzt funktionieren ein paar solcher Wasserhähne an meiner Hauptwasserversorgung, wo der Druck 5 atm beträgt. <br><br>  Die Idee war einfach.  In der Schublade des Tisches wartete ein Taschentuch mit dem WLAN-Modul ESP8266.  Es wurde beschlossen, die Energieeinsparung zugunsten einer Gebrauchtwagenbatterie aufzugeben, die nach Berechnungen für mindestens einen Monat Batterielebensdauer ausreichen sollte. Um den Moment der Batterieentladung nicht zu verpassen, stellte die Schaltung einen Teiler bereit, über den der eingebaute ESP8266 ADC kontinuierlich die Versorgungsspannung maß .  Das DS3231-Modul mit einer Batterie sollte als Uhr im Stromkreis dienen, und ein Taschentuch pro m / s MP1584EN sollte die Spannung von 12 V auf 3,3 V gesenkt haben. <br><br>  Hier ist ein Prototyp-Blockdiagramm: <br><br><img src="https://habrastorage.org/webt/qr/23/j6/qr23j6rhqqseg_haa2kevuaglqc.png"><br><div class="spoiler">  <b class="spoiler_title">Und hier ist ein Foto von seiner Umsetzung</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ux/80/-p/ux80-pghlpqxovrie-igtxbpuee.jpeg"><br><br>  <i>bereits eine etwas zerlegte Implementierung - das DC-DC-Modul ging in den Kran, das Uhrmodul auf der Rückseite des Steckbretts</i> <br></div></div><br>  Die Steuerung des Kranmotors erfolgte hier einfach - welche Transistoren in der Schublade des Tisches gefunden wurden, wurden installiert.  In der Realität kann ein Motor beispielsweise über m / s ULN2003 gesteuert werden, indem mehrere Kanäle parallel entweder mit Feldeffekttransistoren mit logischer Steuerung oder allgemein über ein Relaismodul mit Optoisolation eingeschaltet werden.  Es muss nur berücksichtigt werden, dass der Motor mit einem Betriebsstrom von etwa 70 mA einen Einschaltstrom (und einen Strom zum Zeitpunkt der Rotationsblockierung) in der Größenordnung von 300 bis 350 mA aufweist. <br><br>  Eine kurze Skizze würde in Arduino mit einer einfachen Weboberfläche geschrieben: <br><br><img src="https://habrastorage.org/webt/vq/1u/rc/vq1urcw-ttzsjbbvcm7nbcxcuky.jpeg"><br><br>  Und der Prototyp stand im Testdienst.  Ich habe die Weboberfläche des Krans über den Router weitergeleitet und das Gerät war ständig online verfügbar. <br><br>  Und die Gedanken liefen weiter.  Ein Prototyp ist gut, aber ich möchte mehrere dieser Wasserhähne, und alles auf Steckbrett zu machen, ist keine Option.  Der Kran wurde geöffnet.  Und es wurde klar, dass unter einer versiegelten Abdeckung viel Platz ist und es sogar Befestigungsstellen gibt: <br><br><img src="https://habrastorage.org/webt/rt/tc/3f/rttc3f_0uzhnlpjql2vp4ds-nvm.jpeg"><br><br>  In diesem Wasserhahn, der im Prototyp verwendet wurde, befand sich unter der Abdeckung eine kleine Leiterplatte mit einem Relais, die die Steuerlogik bereitstellte.  Und auf dem Foto ist ein Kran mit dem Index CR05 zu sehen.  In diesen Abgriffen befindet sich keine Logik oder Leiterplatte.  Die Motorsteuerkabel und die Endschalterkabel werden einfach zurückgezogen.  Und Sie müssen solche Krane steuern, indem Sie die Polarität der Spannung am Motor ändern.  Gleichzeitig ist es sehr ratsam, die Schließ- / Öffnungsendmomente an den Endpunkten des TC zu steuern. Wir erinnern uns, dass der Strom zu diesen Zeitpunkten bereits 300-350 mA beträgt. <br><br>  Das Blockdiagramm begann sich wie folgt abzuzeichnen: <br><br><img src="https://habrastorage.org/webt/ae/a1/uv/aea1uvc0g09wxdkdyxoioq8t8z8.png"><br><br>  Jetzt nehmen wir den Bremssattel, ein Blatt Papier in den Händen, und beginnen mit den Messungen, zeichnen den Umriss der Leiterplatte und versuchen, die Komponenten darauf zu platzieren.  Eine große CR2032-Batterie wurde aufgegeben und eine kleine CR1220 (oder 1225) wurde verwendet.  Für eine sehr lange Zeit wurde ein H-Brücken-Chip ausgewählt, um den Motor zu steuern.  Die Auswahl scheint groß zu sein, aber viele dieser Mikroschaltungen können entweder nicht mit einer Versorgungsspannung von 12 V arbeiten, oder sie verwenden Bipolartransistoren mit einem sehr großen Spannungsabfall, oder der Fall ist nicht erfolgreich.  Der TB6612-Chip fiel mir zunächst lange nicht auf, und dann schien er für das Löten sehr redundant und unpraktisch zu sein.  Aber am Ende habe ich mich auf sie konzentriert - es ist erschwinglich und günstig für Ali.  Die dortige H-Brücke ist auf Feldeffekttransistoren aufgebaut und kann bei Spannungen bis 15 Volt betrieben werden.  Das DC-DC-Wandlermodul (MP1584DE) wurde vom Modul verlassen - es stellte sich heraus, dass es im Detail einfach billiger war und leicht zu löten war.  Aus Gründen der Zuverlässigkeit besteht die Hauptsache darin, den darin enthaltenen Abstimmwiderstand durch einen konstanten zu ersetzen (27 kOhm - dies ergibt eine Ausgangsspannung von 3,4 V). Die Mikroschaltung der Uhr könnte in einem kompakteren Gehäuse verwendet werden, aber es gab eine Einschränkung: Ich wollte alle Komponenten für Ali bestellen, und es bestand die Gefahr, dass ich sie bekam gefälschte oder defekte Schaltkreise.  Daher war in der Anfangsphase geplant, alle Mikroschaltungen als Teil der fertigen Module zu kaufen und auf die entwickelte Platine zu löten.  Und in den Modulen war die Uhr nur im SO16-Fall.  Tatsächlich stellte sich heraus, dass nur eine Uhren-Mikroschaltung defekt oder eine falsche Fälschung war - ihre Quarzfrequenz betrug 32727 bei 32768 kHz. <br><br>  Nach all den Vorbereitungsarbeiten nehmen wir KiKad, googeln ein bisschen auf der Suche nach fehlenden Sitzen, zeichnen einige Komponenten selbst und beginnen, das Board zu züchten: <br><br><img src="https://habrastorage.org/webt/vj/zf/cy/vjzfcyt6qukg3sj5mev5xhkzcem.jpeg"><br><br>  Wir überprüfen dies, indem wir im Maßstab 1: 1 drucken.  Wir bringen Teile und Module an und bereiten, wenn alle übereinstimmen, Gerber-Dateien für die Produktion vor und senden sie an EasyEda.  Nach 3 Wochen bekommen wir 10 süße Taschentücher und sammeln sie. <br><br><img src="https://habrastorage.org/webt/ui/jn/hs/uijnhsbq8zqklcjm1n-pjhpax-c.jpeg"><br>  <i>Es sind noch 5 auf dem Foto, der Rest funktioniert</i> <br><br><img src="https://habrastorage.org/webt/dn/8c/nx/dn8cnx12fhixuzkxywboqkqfmou.jpeg"><br>  <i>Modulbaugruppe</i> <br><br>  Die Löcher für die Befestigungselemente stimmten natürlich nicht ein wenig überein, einige der Sitze fielen nicht so aus, wie sie wollten, aber im Allgemeinen funktionierte das Produkt nach Montage und Firmware sofort.  Hermetische Kraftschwänze wurden bei Ali gekauft, durch eine Standard-Druckdichtung im Gebäude geführt, und der WiFi-Kran-Timer erhielt sein Werks-Look: <br><br><img src="https://habrastorage.org/webt/kz/rn/zy/kzrnzyqalg_t_jsrrrjegdvc98q.jpeg"><br><br>  Hier sind ein paar Kräne im Kampfeinsatz im Land: <br><br><div class="spoiler">  <b class="spoiler_title">an der Post</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/da/sx/ds/dasxds16utudu8su6efnv46dixy.jpeg"><br></div></div><br>  Aber dann ging der Gedanke wieder weiter.  Ich wollte mehr Automatisierung im Land, und das Modul erwies sich als recht kompakt und universell.  Über die H-Brücke können Sie ganz einfach ein herkömmliches Relais steuern.  Für die DIY-Automatisierung nehmen viele Sonoff, aber es stellt sich heraus, dass ich es selbst nicht schlechter machen kann. <br><br>  Und hier beginnt die Umwandlung eines einfachen Wi-Fi- <b>Abgriffs</b> in den Codenamen <b>SHAPEsp</b> - kurz für <b>Esp</b> 8266-basierte <b>S</b> mart Home <b>A</b> utomation <b>P</b> latform.  Wie geplant sollte dies ein kostengünstiges Universalmodul für die Hausautomation werden.  Und all dies sollte zuverlässig sein und nach der Montage in einem erschwinglichen Koffer wie ein fertiges Produkt aussehen. <br><br>  Überraschenderweise stellte sich heraus, dass im chinesischen Fall mit Aliexpress auf 2DIN das Gerät in Ordnung ist, der Körper im Körper, der beliebte AC / DC 220V / 12V HiLink-Wandler (naja oder sein Klon), das Relais und der Stromanschluss und natürlich mein leicht umgebautes Modul mit ESP8266, Uhr und H-Brücke. <br><br><div class="spoiler">  <b class="spoiler_title">Mach es einmal</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/bp/wm/xk/bpwmxkb9rxu-mxso9_fbiz9wc4q.jpeg"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Mach zwei</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ok/jd/d-/okjdd-orz-ecgzujbub-j-p2hzc.jpeg"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Mach drei</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/_i/ip/jm/_iipjmuknwsvpqelavmsrxrj3t0.jpeg"><br>  <i>Das Modul kann sowohl im Krankörper als auch im DIN-Rackgehäuse eingebaut werden</i> <br></div></div><br>  Und wir bekommen: <br><br><img src="https://habrastorage.org/webt/ht/2x/ui/ht2xuiatsx_ckjmyit2ihczozh4.jpeg"><br><br>  Die Form des Moduls wurde leicht geändert.  Ich habe Randverbinder hinzugefügt, damit es im 2DIN-Paket aufrecht stehen kann.  Ich habe am oberen Ende der Platine Anzeige-LEDs angebracht, die im Licht eines Kunststoffgehäuses sichtbar sind.  Nun, ich habe die Medienplatine für das Relais und die Stromquelle ausgebreitet.  Um es billiger zu machen, wurde dies alles mit einem Board in die Produktion geschickt: <br><br><img src="https://habrastorage.org/webt/un/5j/z2/un5jz2k4nzvoo1g4bhkhdyik7bq.jpeg"><br><br>  Ich habe zwei solcher Prototypen zusammengebaut und sie in die Hütte gestellt, um die Aufnahme von Konvektoren für Winterankünfte zu kontrollieren: <br><br><div class="spoiler">  <b class="spoiler_title">In einem anderen Beitrag</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/2t/yo/po/2tyopox-lcaqrqdd6yb3j8fqb3i.jpeg"><br>  <i>Eines der Module in der Schalttafel neben zwei Schützen, die Konvektoren enthalten</i> <br></div></div><br>  Aber dann beschloss er, es noch weiter zu verbessern und universeller zu machen.  Für eine zuverlässigere und bequemere Firmware habe ich das Firmware-Schema von NodeMcu auf dem Modul platziert.  Er leitete alle möglichen Stifte ab und fügte Kontaktflächen hinzu, um verschiedene Sensoren bequem anschließen zu können.  Alle Randstifte werden in Schritten von 2,54 mm platziert, damit das Modul in das Steckbrett eingesetzt werden kann.  Natürlich habe ich den Anschluss des Thermometers ds1820, des kombinierten BME280-Sensors und des Feuchtigkeitssensors am Komparator getestet.  Es stellte sich heraus, dass Sie neben einem einfachen Timer mit Relais oder Kran problemlos eine Wetterstation oder beispielsweise ein Aquastop-System bauen können.  Nun, alle möglichen anderen Benachrichtigungs- und Kontrollsysteme ... <br><br>  Mitgenommen, zeichnete ein Modell seines Moduls für Fritzing.  So können Sie die verschiedenen Anwendungsoptionen virtuell bewerten und drehen: <br><br><img src="https://habrastorage.org/webt/ob/rs/qm/obrsqm8tbnl6mknximfdzp7ossc.png"><br><br>  Ein Link zum GitHub-Modell befindet sich am Ende des Artikels. <br><br>  Nun beginnt der schwierigste Teil - die Softwareunterstützung für das Modul.  Anfangs habe ich alles mit meiner ziemlich einfachen Arduino-Skizze getestet und getestet.  Einfaches HTML, ein bisschen Java-Skript, verschiedene einfache Möglichkeiten zur Datenübertragung, nur die Funktionalität eines Timers und einige Sensoren, die ich brauche.  Aber ziemlich schnell wurde klar, dass es nicht so einfach sein würde, alles und jedes in der modernen Welt des IoT und des intelligenten Hausbaus zu beherrschen.  Und auch nur Faulheit (hier ist ein lächelnder Smiley).  Und manchmal möchte ich das Rad nicht neu erfinden. <br><br>  Aus diesem Grund wurde entschieden, zu prüfen, welche vorgefertigten Firmware-Programme Sie zur Unterstützung Ihres Moduls hinzufügen können.  Als Ausgangspunkt wurden alternative Firmwares für Sonoff-Produkte verwendet: Sonoff-Tasmota, ESPurna, ESPEasy.  Die Suche kann vergleichende Bewertungen dieser Firmware finden. <br><br>  Zum Beispiel: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://lobradov.github.io/FOSS-Firmware-comparison-overview/</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://lobradov.github.io/FOSS-Firmware-comparison-developers/</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a> <br>  In Wirklichkeit habe ich den Quellcode in den Repositories dieser Firmware irgendwie mit meinem Auge durchgearbeitet. Mir wurde klar, dass der einfachste Weg für mich darin besteht, mein Modul zur ESPurna-Firmware hinzuzufügen.  Der Firmware-Code war recht vernünftig strukturiert und übernahm zunächst das Hinzufügen neuer Module und Funktionen.  In der Firmware befand sich die Timer-Funktionalität, die ich brauchte, der eigenständige Sheduler.  Darüber hinaus kann sofort gesagt werden, indem ich einfach meine Konfiguration mit einem einfachen Relais in der Datei hardware.h beschreibe. Ich habe eine funktionierende Version der Firmware des WiFi-Relais erhalten. <br><br>  Mein Modul hatte jedoch eine umfangreichere und komplexere Funktionalität.  Und es wurde beschlossen, zur Firmware beizutragen.  Einerseits ist es ganz einfach - wir schreiben Funktionen und führen eine Pull-Anfrage durch, aber in Wirklichkeit ist es ein langweiliger und langer Prozess mit nicht immer einem positiven oder schnellen Ergebnis.  Dies sind die Kosten dafür, dass die vorgeschlagene Funktionalität im Großen und Ganzen nur von mir und meinem unbekannten Board benötigt wird. <br><br>  Ich begann mit der Unterstützung der Uhr.  In der ESPurna-Firmware funktionierte alles über NTP und die Zeitbibliothek für Arduino. Historisch gesehen müssen Sie die Uhrzeit kennen, aber Sonoff-Produkte verfügen nicht über eine autonome Uhr und es wird davon ausgegangen, dass sie immer über einen Internetzugang verfügen.  Um die RTC-Uhr zu unterstützen, habe ich ein einfaches Modul geschrieben, das auf Wunsch die Zeitanbieterfunktion von reinem NTP auf NTP + RTC ersetzte.  Das Prinzip war einfach: Wenn keine NTP-Synchronisation verfügbar ist, versuchen wir, die Zeit von der lokalen RTC-Uhr abzulesen.  Wenn der Zugriff auf NTP-Server angezeigt wird, stellen wir die Synchronisierung wieder her und synchronisieren bei Bedarf die lokale Uhr.  Also ging die Uhr auf meinem Modul in Arbeit.  Die Pull-Anfrage wurde ziemlich schnell angenommen, ging aber an eine separate espurna-rtc-Filiale. <br><br>  Das nächste war eine triviale Pull-Anfrage.  Da ich die Versorgungsspannung zum DC-DC-Wandler messe, um die Batterieentladung zu verfolgen, musste ich nicht die Versorgungsspannung des ESP8266-Moduls überwachen, sondern einige benutzerdefinierte.  Was ich als Pull-Anfrage "Unterstützung für benutzerdefinierte VCC-Überwachung hinzufügen" entworfen habe.  Aber diese Bitte hing irgendwie in der Luft ... und der Wunsch, etwas beizutragen, ließ irgendwie nach. <br><br>  Darüber hinaus wurde deutlich, dass das Hinzufügen Ihres Moduls zur Liste der unterstützten fertigen Geräte nicht so einfach ist - es sind viele verschiedene Konfigurationen möglich.  Daher wurde beschlossen, einfach die Firmware-Gabel zu entwickeln.  Und wenn möglich und um die Synchronisation aufrechtzuerhalten, stellen Sie Pull-Anfragen oder bieten Sie Cherry-Pick im Haupt-Firmware-Repository an. <br><br>  Nach einer solchen Entscheidung wurde alles einfacher.  In der Firmware wurde das Relaissteuerungssystem teilweise neu geschrieben.  Der H-Brücken-Steuermodus wurde hinzugefügt und es wurde bequemer, benutzerdefinierte Relais-Betriebsmodi hinzuzufügen. <br><br>  Weitere Untersuchungen des Firmware-Codes haben gezeigt, dass es nicht möglich ist, ihn umzugestalten.  Die Art des Schreibens und Verwendens von Ressourcen an einigen Stellen ist für einen Mikrocontroller sehr grausam (obwohl es sich um ein ziemlich intelligentes 32-Bit-System handelt).  Zum Beispiel hat das System zum Ausgeben von Debugging-Nachrichten den Stapel mit großer Geschwindigkeit verschlungen, aber gleichzeitig wurde das Blockieren blockiert, um nicht das gesamte System zu löschen, als die Stapelgröße weniger als 10 KB betrug.  Ich habe den Code in meinem Thread ein wenig umgeschrieben, sodass jetzt alle Debugging-Meldungen und Eingabeaufforderungen in der Konsole vollständig angezeigt werden. <br><br>  Nun, im Moment wurde der Firmware ein Berechnungssubsystem hinzugefügt <br>  Sonnenaufgänge / Sonnenuntergänge und ein virtueller SunriseSensor, sodass Sie aus dem SHAPEsp-Modul ein einfaches astronomisches Relais erstellen können.  Es wird notwendig sein, Mut zu fassen und sich für das Hauptlager zu engagieren.  Ich denke, dass dies eine nützliche Funktionalität ist. <br><br>  Hier ist eine Geschichte über die Umwandlung von DIY-Ideen von einem Prototyp zu einem fast fertigen Produkt.  Vielleicht ein gefragtes Produkt.  Das Erstaunlichste ist, dass ich noch keine Smart-Home-Systeme ausprobiert habe - alle Module arbeiten für mich völlig autonom voneinander und sind einfach über Webschnittstellen im Internet zugänglich.  Und einmal gekauft, liegt die OrangePi-PC-Karte in einer Schublade und wartet in den Startlöchern darauf, ein Smart-Home-Controller zu werden. <br><br>  Liste der Links: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fritzing Modell und wie ich zusammenkomme Ich denke, dass es in Kikad ein Schaltungs- und Modullayout geben wird</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einfache Test-Firmware für das Modul</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ESPurna-Firmware-Gabel mit Modulunterstützung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Das Haupt-Firmware-Repository von ESPurna</a> <br></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de422435/">https://habr.com/ru/post/de422435/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de422425/index.html">Ein Überblick über Nachbearbeitungsmethoden für FDM 3D-gedruckte Modelle</a></li>
<li><a href="../de422427/index.html">Dagaz: Aus dem Nebel</a></li>
<li><a href="../de422429/index.html">Wir beschleunigen den Prozess der Entwicklung komplexer Projekte. Ohne Chaos und Nerven</a></li>
<li><a href="../de422431/index.html">Japanische Feen zeigen Master-Slave-Trigger in neuem Manga auf digitaler Elektronik</a></li>
<li><a href="../de422433/index.html">Sonnenkollektoren und Asphaltstraßen. Symbiose der Technologie</a></li>
<li><a href="../de422437/index.html">User Experience-Spiele sowie Website- und Anwendungsgeschwindigkeit</a></li>
<li><a href="../de422439/index.html">Der Kampf mit Yandex: Wie ich mehr als ein Jahr damit verbracht habe, die Seite an die Spitze zu bringen</a></li>
<li><a href="../de422441/index.html">Es wurde eine Formel für einen schmerzlosen Übergang zu .Net Core gefunden</a></li>
<li><a href="../de422443/index.html">Corona SDK Präziser Timer</a></li>
<li><a href="../de422445/index.html">BottomAppBar-Implementierung. Teil 3: Verhalten für Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>