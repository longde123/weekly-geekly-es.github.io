<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöº üèØ ‚öúÔ∏è Audio √ºber Bluetooth: Detaillierteste Informationen zu Profilen, Codecs und Ger√§ten üåæ üÖæÔ∏è ü§∞üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieser Artikel ist auch auf Russisch verf√ºgbar / Dieser Artikel ist auch auf Russisch verf√ºgbar 

 Der Massenmarkt f√ºr Smartphones ohne 3,5-mm-Audiobu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Audio √ºber Bluetooth: Detaillierteste Informationen zu Profilen, Codecs und Ger√§ten</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456182/"><img src="https://imgs.xkcd.com/comics/standards.png" alt="XKCD-Comic. Wie sich Standards vermehren. LAGE: Es gibt 14 konkurrierende Standards. Geek: 14 ?! L√§cherlich! Wir m√ºssen einen universellen Standard entwickeln, der alle Anwendungsf√§lle abdeckt. Geeks Freundin: Ja! BALD: Situation: Es gibt 15 konkurrierende Standards."><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dieser Artikel ist auch auf Russisch verf√ºgbar / Dieser Artikel ist auch auf Russisch verf√ºgbar</a> <br><br>  Der Massenmarkt f√ºr Smartphones ohne 3,5-mm-Audiobuchse hat die Kopfh√∂rerindustrie ver√§ndert. Drahtlose Bluetooth-Kopfh√∂rer sind f√ºr viele Benutzer die Hauptmethode, um Musik zu h√∂ren und im Headset-Modus zu kommunizieren. <br>  Hersteller von Bluetooth-Ger√§ten legen selten detaillierte Produktspezifikationen offen, und Bluetooth-Audioartikel im Internet sind widerspr√ºchlich und manchmal falsch.  Sie erz√§hlen nicht √ºber alle Funktionen und ver√∂ffentlichen h√§ufig dieselben falschen Informationen. <br>  Lassen Sie uns versuchen, das Protokoll, die Funktionen von Bluetooth-Stacks, Kopfh√∂rern und Lautsprechern, Bluetooth-Codecs f√ºr Musik und Sprache zu verstehen, herauszufinden, was die Qualit√§t des √ºbertragenen Audios und die Verz√∂gerung beeinflusst, und zu lernen, wie Informationen √ºber unterst√ºtzte Codecs und andere Codecs erfasst und dekodiert werden Ger√§tefunktionen. <br><br>  <b>TL; DR</b> : <br><br><ul><li>  Der SBC-Codec ist in Ordnung </li><li>  Kopfh√∂rer verf√ºgen √ºber einen eigenen Codec-Equalizer und eine eigene Nachbearbeitungskonfiguration </li><li>  aptX ist nicht so gut wie in der Werbung angegeben </li><li>  LDAC ist ein Marketing-Flaum </li><li>  Die Sprachqualit√§t ist immer noch niedrig </li><li>  Browser k√∂nnen Audio-Encoder ausf√ºhren, die mit emscripten aus C zu WebAssembly kompiliert wurden, und sie werden nicht einmal verz√∂gern. </li></ul><br><a name="habracut"></a><br><br><br><br><h1>  Musik √ºber Bluetooth </h1>  Die Funktionskomponenten von Bluetooth werden durch Profile definiert - dokumentierte Merkmale, die in Spezifikationen formalisiert sind.  Bluetooth-Musik wird √ºber ein hochwertiges Audio-A2DP-√úbertragungsprofil √ºbertragen.  Der A2DP-Standard wurde 2003 verabschiedet und hat sich seitdem nicht drastisch ge√§ndert. <br>  Das Profil standardisiert einen obligatorischen Codec - SBC, einen Codec mit geringer Rechenkomplexit√§t, der speziell f√ºr Bluetooth erstellt wurde, und drei zus√§tzliche Codecs.  Sie k√∂nnen auch herstellerspezifische Codecs Ihrer eigenen Implementierung verwenden, die nicht in A2DP enthalten sind. <br><br>  Ab Juni 2019 leben wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im XKCD-Comic</a> mit 14 A2DP-Codecs: <br><br><ul><li>  <b>SBC</b> ‚Üê in A2DP enthalten, wird von allen Ger√§ten unterst√ºtzt </li><li>  <b>MPEG-1/2-Schicht 1/2/3</b> ‚Üê in A2DP enthalten: weithin bekanntes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MP3</a> , das im digitalen TV- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MP2 √ºblich ist</a> , und veraltetes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MP1</a> </li><li>  <b>MPEG-2/4 AAC</b> ‚Üê in A2DP enthalten </li><li>  <b>ATRAC</b> ‚Üê Sonys alter Codec, der in A2DP enthalten ist </li><li>  <b>LDAC</b> ‚Üê Sonys neuer Codec </li><li>  <b>aptX</b> ‚Üê Codec von 1988 </li><li>  <b>aptX HD</b> ‚Üê wie aptX, jedoch mit unterschiedlichem Codierungsprofil </li><li>  <b>aptX Low Latency</b> ‚Üê <s>v√∂llig anderer Codec, keine Software-Implementierung</s> aptX mit niedrigerem Puffer </li><li>  <b>aptX Adaptive</b> ‚Üê ein weiterer Qualcomm-Codec </li><li>  <b>FastStream</b> ‚Üê Pseudocodec, bidirektionale SBC-Modifikation </li><li>  <b>HWA LHDC</b> ‚Üê Der neue Codec von Huawei </li><li>  <b>Samsung HD</b> ‚Üê wird von 2 Ger√§ten unterst√ºtzt </li><li>  <b>Samsung Scalable</b> ‚Üê wird von 2 Ger√§ten unterst√ºtzt </li><li>  <b>Samsung UHQ-BT</b> ‚Üê wird von 3 Ger√§ten unterst√ºtzt </li></ul><br><br>  Sie fragen sich vielleicht, warum wir √ºberhaupt einen Codec ben√∂tigen, wenn Bluetooth √ºber <abbr title="Verbesserte Datenrate">EDR</abbr> verf√ºgt, mit dem Sie Daten mit 2 oder 3 Mbit / s √ºbertragen k√∂nnen, w√§hrend unkomprimiertes zweikanaliges 16-Bit-PCM nur 1,4 Mbit / s ben√∂tigt? <br><br><h1>  Bluetooth-Daten√ºbertragung </h1>  In Bluetooth gibt es zwei Arten der Daten√ºbertragung: ACL (Asynchronous Connection Less) f√ºr die asynchrone √úbertragung ohne Verbindungsaufbau und SCO (Synchronous Connection Oriented) f√ºr die synchrone √úbertragung mit Verbindungsaufbau. <br>  Die Daten√ºbertragung verwendet ein Zeitteilungsschema und √§ndert den Frequenzkanal f√ºr jedes √ºbertragene Datenpaket (Frequenzsprung / Zeitduplex, FH / TDD).  Die Zeit ist in Intervalle von 625 Mikrosekunden unterteilt, die als Slots bezeichnet werden.  Eines der Ger√§te sendet in gerader Anzahl von Steckpl√§tzen, das andere in ungerader Anzahl.  Ein √ºbertragenes Paket kann je nach Datengr√∂√üe und √úbertragungsmodus 1, 3 oder 5 Steckpl√§tze belegen.  Wenn das Paket gro√ü genug ist und mehr als ein Slot-√úbertragungsmodus verwendet wird, werden die Daten bis zum Ende der √úbertragung in geraden und ungeraden Slots ausgef√ºhrt.  In einer Sekunde k√∂nnen Sie bis zu 1600 Pakete empfangen und senden, wenn jedes von ihnen 1 Steckplatz belegt und beide Ger√§te kontinuierlich Daten senden und empfangen. <br><br>  √úbertragungsraten von 2 oder 3 Mbit / s f√ºr EDR in Ank√ºndigungen und auf der Bluetooth-Website sind die maximale √úbertragungsrate von Kanaldaten aller Daten insgesamt (einschlie√ülich der technischen Header aller Protokolle f√ºr Daten, in die gekapselt werden soll) in zwei Richtungen gleichzeitig.  Die tats√§chliche Daten√ºbertragungsrate variiert stark. <br><br>  Das asynchrone Verfahren wird f√ºr das Musik-Streaming verwendet, wobei fast immer Pakete vom Typ 2-DH5 und 3-DH5 verwendet werden, die die maximale Datenmenge im EDR-Modus von 2 Mbit / s bzw. 3 Mbit / s √ºbertragen und 5 Zeitteilungsschlitze belegen. <br><br>  Schematische Darstellung der √úbertragung unter Verwendung von 5 Steckpl√§tzen durch ein Ger√§t und 1 Steckplatz durch ein anderes (DH5 / DH1): <br><img src="https://habrastorage.org/webt/ym/iz/rj/ymizrjjo_3mwd8eo_p--wooe5om.png" alt="5 √úbertragungsschlitze, von denen jeder f√ºr 625 Mikrosekunden √ºbertragen wird, und ein Empfangsschlitz, ebenfalls 625 Mikrosekunden. Insgesamt 3,75 Millisekunden."><br><br>  Aufgrund des Time-Sharing-Prinzips m√ºssen wir nach dem Senden eines Pakets auf einen Zeitschlitz von 625 Mikrosekunden warten, wenn das zweite Ger√§t nichts an uns sendet oder ein kleines Paket sendet, und mehr Zeit, wenn das zweite Ger√§t die √úbertragung in gro√üen Paketen durchf√ºhrt.  Wenn mehr als ein Ger√§t an das Telefon angeschlossen ist (z. B. Kopfh√∂rer, Smartwatch und ein Fitnessarmband), wird die √úbertragungszeit zwischen allen geteilt. <br><br>  A2DP-Audio-Streaming erfordert die Kapselung in einem speziellen Transportprotokoll L2CAP und AVDTP, die 16 Bytes von der maximal m√∂glichen Menge an Audio-Nutzdaten im Paket abziehen. <br><div class="scrollable-table"><table><tbody><tr><th>  Pakettyp </th><th>  Steckplatzbetrag </th><th>  Maximale Bytes pro Paket </th><th>  Maximale A2DP-Nutzlastbytes </th><th>  Maximale A2DP-Nutzdatenbitrate </th></tr><tr><td>  2-dh3 </td><td>  3 </td><td>  367 </td><td>  351 </td><td>  936 Kb / s </td></tr><tr><td>  3-dh3 </td><td>  3 </td><td>  552 </td><td>  536 </td><td>  1429 kb / s </td></tr><tr><td>  2-DH5 </td><td>  5 </td><td>  679 </td><td>  663 </td><td>  1414 kb / s </td></tr><tr><td>  3-dh5 </td><td>  5 </td><td>  1021 </td><td>  1005 </td><td>  2143 kb / s </td></tr></tbody></table></div>  1414 und 1429 kbps reichen einfach nicht aus, um unkomprimiertes Audio unter realen Bedingungen mit einem verrauschten 2,4-GHz-Band und gelegentlichen Servicedaten zu √ºbertragen.  EDR 3 Mbit / s stellen hohe Anforderungen an Sendeleistung und Signal / Rausch-Verh√§ltnis. Selbst im 3-DH5-Modus ist keine komfortable PCM-√úbertragung m√∂glich, da es immer zu kurzfristigen Unterbrechungen kommt und alles nur in einer Entfernung von mehr oder weniger zuverl√§ssig funktioniert ein paar Meter. <br>  In der Praxis ist es nicht trivial, selbst einen Audiostream mit 990 kb / s (LDAC 990 kb / s) zuverl√§ssig zu √ºbertragen. <br><br>  Kommen wir zur√ºck zu den Codecs. <br><br><h2>  Sbc </h2>  Dieser Codec ist f√ºr alle Ger√§te obligatorisch, die den A2DP-Standard unterst√ºtzen.  Der beste und der schlechteste Codec gleichzeitig. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Abtastrate </th><th>  Bittiefe </th><th>  Bitrate </th><th>  Codierungsunterst√ºtzung </th><th>  Dekodierungsunterst√ºtzung </th></tr><tr><td>  16, 32, 44,1, 48 kHz </td><td>  16 Bit </td><td>  10-1500 kb / s </td><td>  Alle Ger√§te </td><td>  Alle Ger√§te </td></tr></tbody></table></div><br><br>  SBC ist ein einfacher und rechnerisch schneller Codec mit einem primitiven psychoakustischen Modell (mit einfacher auditorischer Maskierung) unter Verwendung der adaptiven Pulscodemodulation (APCM). <br>  In der A2DP-Spezifikation wird die Verwendung von zwei Profilen empfohlen: Mittlere Qualit√§t und Hohe Qualit√§t. <br><img src="https://hsto.org/webt/4b/ry/lo/4brylotdopfu9mh3whbmrmmmy0k.png" alt="Tabelle mit Profilen mittlerer und hoher Qualit√§t. Die angegebenen Werte sind Bitpool, Frame-L√§nge und Bitrate. F√ºr 44,1 kHz Joint Stereo. Mittlere Qualit√§t: Bitpool = 35, Rahmenl√§nge = 83, Bitrate = 229. Hohe Qualit√§t: Bitpool = 53, Rahmenl√§nge = 119, Bitrate = 328."><br><br>  Der Codec verf√ºgt √ºber viele Einstellungen, mit denen Sie die algorithmische Verz√∂gerung, die Anzahl der Abtastwerte im Block und den Bitzuweisungsalgorithmus steuern k√∂nnen. Fast immer werden jedoch die in der Spezifikation verwendeten Parameter √ºberall verwendet: <abbr title="Die Codierungsmethode von Stereo als gemeinsamer Teil des Signals und der Unterschied zwischen den Kan√§len spart Platz">Joint Stereo</abbr> , 8 Frequenzb√§nder, 16 Bl√∂cke im Audio Frame, <abbr title="Leise Schallmaskierung, wenn laute Ger√§usche vorhanden sind, unter Ber√ºcksichtigung der nichtlinearen Natur des menschlichen Geh√∂rs">Loudness-</abbr> Bitzuweisungsmethode. <br>  SBC kann den Bitpool-Parameter dynamisch anpassen, was sich direkt auf die Bitrate auswirkt.  Wenn das Radio verstopft ist, Pakete verloren gehen oder Ger√§te weit entfernt sind, kann die Audioquelle den Bitpool reduzieren, um Audiounterbrechungen zu vermeiden, bis die Verbindung wieder stabil ist. <br><br>  Die Hersteller der meisten Kopfh√∂rer setzen den Maximalwert des Bitpool-Parameters auf 53, wodurch die Bitrate bei Verwendung des empfohlenen Profils auf 328 Kilobit pro Sekunde begrenzt wird. <br>  Selbst wenn der Kopfh√∂rerhersteller den maximalen Bitpool-Wert √ºber 53 festgelegt hat (was beispielsweise f√ºr Beats Solo¬≥, JBL Everest Elite 750NC, Apple AirPods und auch f√ºr einige Empf√§nger und Autokopfger√§te gilt), lassen die meisten Betriebssysteme die Verwendung nicht zu h√∂here Bitraten aufgrund interner Grenzwerte in Bluetooth-Stacks. <br>  Dar√ºber hinaus legen einige Hersteller f√ºr einige Ger√§te einen niedrigen maximalen Bitpoolwert fest.  In Bluedio T entspricht dies beispielsweise 39, in Samsung Gear IconX 37, was zu einer schlechten Klangqualit√§t f√ºhrt. <br><br>  Die k√ºnstlichen Einschr√§nkungen wurden in Bluetooth-Stacks eingef√ºhrt, wahrscheinlich aufgrund einer unzureichenden Anzahl von Zertifizierungstests und der Inkompatibilit√§t einiger Ger√§te mit gro√üen Bitpool-Werten oder atypischen Profilen, selbst wenn sie diese unterst√ºtzen.  F√ºr die Entwickler war es einfacher, die Optionen auf bekannte Werte eines empfohlenen Profils zu beschr√§nken, als eine Datenbank mit inkompatiblen Ger√§ten zu erstellen.  Jetzt tun sie dies jedoch f√ºr andere falsch funktionierende Funktionen. <br><br>  SBC ordnet dynamisch Quantisierungsbits f√ºr Frequenzb√§nder zu, die von unten nach oben mit unterschiedlichen Gewichten wirken.  Wenn die gesamte Bitrate f√ºr niedrige und mittlere Frequenzen verwendet wurde, werden die oberen Frequenzen abgeschnitten (durch Stille ersetzt). <br><br>  Beispiel f√ºr SBC 328 kbps.  Original-Audio befindet sich oben, SBC-codiertes Audio befindet sich unten.  Die Spuren werden zum Vergleich geschaltet.  Der Audiostream in der Videodatei wird mit dem verlustfreien FLAC-Codec komprimiert.  Die Verwendung von FLAC im mp4-Container ist nicht offiziell standardisiert. Aus diesem Grund wird das Audio m√∂glicherweise nicht in Ihrem Browser abgespielt (sollte in den neuesten Versionen von Desktop Chrome und Firefox funktionieren).  Wenn Sie keinen Ton haben, k√∂nnen Sie die Datei herunterladen und in einem beliebigen Videoplayer √∂ffnen. <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Ihr Browser unterst√ºtzt kein HTML5-Video. <source src="https://files.catbox.moe/8yrssu.mp4" type="video/mp4"></video></div></div></div>  <i><font color="#666666">ZZ Top - Scharf gekleideter Mann</font></i> <br><br>  Der Moment des Umschaltens ist im Spektrogramm sichtbar: SBC schneidet regelm√§√üig leise T√∂ne √ºber 17,5 kHz und weist f√ºr ein Band √ºber 20 kHz √ºberhaupt keine Bits zu.  Das Spektrogramm ist anklickbar (1,7 MB). <br> <a href=""><img src="https://habrastorage.org/webt/-n/0l/rq/-n0lrqlg47cvwkdux2tn2swevsw.jpeg" alt="Bild"></a> <br><br>  Ich kann den Unterschied zwischen dem Original und dem SBC auf diesem Track nicht h√∂ren. <br><br>  Nehmen wir etwas Neueres und simulieren die Audioqualit√§t von Samsung Gear IconX-Kopfh√∂rern mit Bitpool 37 (oben ist der urspr√ºngliche Stream, unten ist SBC 239 kbps, FLAC wird f√ºr Audio verwendet). <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Ihr Browser unterst√ºtzt kein HTML5-Video. <source src="https://files.catbox.moe/r561g5.mp4" type="video/mp4"></video></div></div></div>  <i><font color="#666666">Mindless Self Indulgence - Zeuge</font></i> <br><br>  Ich h√∂re Knistern, einen kleineren Stereoeffekt und ein unangenehmes "Klappern" des Gesangs bei hohen Frequenzen. <br><br>  Zusammenfassend ist SBC ein sehr flexibler Codec: Er kann f√ºr geringe Latenz konfiguriert werden, bietet eine hervorragende Audioqualit√§t bei hohen Bitraten (452+ kb / s) und ist f√ºr die meisten Benutzer mit hoher Standardqualit√§t (328 kb / s) recht gut. .  Es gibt jedoch einige Gr√ºnde, warum der Codec f√ºr seine niedrige Klangqualit√§t ber√ºchtigt ist: Der A2DP-Standard definiert keine festen Profile (er gibt nur Empfehlungen), Bluetooth-Stack-Entwickler setzen k√ºnstliche Grenzen f√ºr Bitpool, die Parameter des √ºbertragenen Audios werden nicht angezeigt In der Benutzeroberfl√§che k√∂nnen Kopfh√∂rerhersteller ihre Einstellungen frei vornehmen und niemals den Bitpool-Wert in den technischen Eigenschaften des Produkts angeben. <br>  Der Bitpool-Parameter wirkt sich nur innerhalb eines Profils direkt auf die Bitrate aus.  Der gleiche Bitpoolwert von 53 kann sowohl die 328-kbit / s-Bitrate mit dem empfohlenen High-Quality-Profil als auch 1212-kbit / s im <abbr title="Kanalcodierungsmodus, bei dem der gesamte Bitpool f√ºr jeden Kanal separat verwendet wird, wodurch die Bitrate effektiv verdoppelt wird">Zweikanalmodus</abbr> und in 4 Frequenzb√§ndern erzeugen, weshalb die Autoren des Betriebssystems neben dem Bitpool auch Grenzwerte f√ºr die Bitrate festlegen.  Ich gehe davon aus, dass die Situation aufgrund des Fehlers im A2DP-Standard entstanden ist: Es war notwendig, die Bitrate auszuhandeln, nicht den Bitpool. <br><br>  Tabelle der SBC-Funktionen, die in verschiedenen Betriebssystemen unterst√ºtzt werden: <br><div class="scrollable-table"><table><tbody><tr><th>  Betriebssystem </th><th>  Abtastrate </th><th>  Maximales Bitpool-Limit </th><th>  Maximale Bitratengrenze </th><th>  Typische Bitrate </th><th>  Dynamische Bitpool-Unterst√ºtzung </th></tr><tr><td>  <b>Windows 10</b> </td><td>  44,1 kHz </td><td>  53 </td><td>  512 kb / s </td><td>  328 kb / s </td><td>  ‚úì * </td></tr><tr><td>  <b>Linux (BlueZ + PulseAudio)</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  64 (f√ºr eingehende Verbindungen), 53 (f√ºr ausgehende Verbindungen) </td><td>  Keine Begrenzung </td><td>  328 kb / s </td><td>  ‚úì * </td></tr><tr><td>  <b>macOS High Sierra</b> </td><td>  44,1 kHz </td><td>  64, 53 standardm√§√üig *** </td><td>  Unbekannt </td><td>  328 kb / s </td><td>  ‚úó </td></tr><tr><td>  <b>Android 4.4-9</b> </td><td>  44,1 / 48 kHz ** </td><td>  53 </td><td>  328 kb / s </td><td>  328 kb / s </td><td>  ‚úó </td></tr><tr><td>  <b>Android 4.1-4.3.1</b> </td><td>  44,1, 48 kHz ** </td><td>  53 </td><td>  229 kb / s </td><td>  229 kb / s </td><td>  ‚úó </td></tr><tr><td>  <b>Blackberry OS 10</b> </td><td>  48 kHz </td><td>  53 </td><td>  Keine Begrenzung </td><td>  328 kb / s </td><td>  ‚úó </td></tr></tbody></table></div>  <i><font color="#666666"><b>* Der</b> Bitpool nimmt ab, steigt jedoch bei unterschiedlichen √úbertragungsbedingungen nicht automatisch an.</font></i>  <i><font color="#666666">Um den Bitpool wiederherzustellen, m√ºssen Sie die Wiedergabe stoppen, einige Sekunden warten und den Ton neu starten.</font></i> <i><font color="#666666"><br></font></i>  <i><font color="#666666"><b>**</b> Der Standardwert h√§ngt von den Stapeleinstellungen ab, die beim Kompilieren der Firmware angegeben wurden.</font></i>  <i><font color="#666666">In Android 8 / 8.1 betr√§gt die Frequenz je nach den Einstellungen beim Kompilieren nur 44,1 kHz oder 48 kHz. Andere Versionen unterst√ºtzen gleichzeitig 44,1 kHz und 48 kHz.</font></i> <i><font color="#666666"><br></font></i>  <i><font color="#666666"><b>*** Der</b> Bitpoolwert kann mit der Bluetooth Explorer-Software angepasst werden.</font></i> <br><br><h2>  aptX und aptX HD </h2>  aptX ist ein einfacher und rechnerisch schneller Codec ohne Psychoakustik, der die adaptive differentielle Pulscodemodulation ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ADPCM</a> ) verwendet.  Es erschien um 1988 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Patentanmeldedatum</a> ist Februar 1988).  Vor Bluetooth wurde es haupts√§chlich f√ºr professionelle drahtlose Audioger√§te verwendet.  Derzeit im Besitz von Qualcomm, sind Lizenz- und Lizenzgeb√ºhren erforderlich.  Ab 2014: 6.000 USD einmalige Zahlung und 1 USD pro Ger√§t f√ºr Chargen von bis zu 10.000 Ger√§ten ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quelle</a> , Seite 16). <br><br>  Der Codec hat nur einen Parameter - die Abtastrate.  Obwohl es auch eine Konfigurationsoption f√ºr Kanalnummer / Modus gibt, unterst√ºtzen alle mir bekannten Ger√§te nur Stereo (Modelle ab 70). <br><br><div class="scrollable-table"><table><tbody><tr><th>  Codec </th><th>  Abtastrate </th><th>  Bittiefe </th><th>  Bitrate </th><th>  Codierungsunterst√ºtzung </th><th>  Dekodierungsunterst√ºtzung </th></tr><tr><td>  <b>aptX</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  16 Bit </td><td>  128/256/352/384 kb / s (abh√§ngig von der Abtastrate) </td><td>  Windows 10 (Desktop und Mobile), MacOS, Android 4.4 + / 7 *, Blackberry OS 10 </td><td>  Gro√üe Auswahl an Ger√§ten (in Hardware) </td></tr></tbody></table></div>  <i><font color="#666666"><b>* F√ºr</b> Versionen bis 7 muss der Bluetooth-Stack ge√§ndert werden.</font></i>  <i><font color="#666666">Der Codec wird nur unterst√ºtzt, wenn der Hersteller des Android-Ger√§ts die Codec-Nutzung von Qualcomm lizenziert hat (wenn das Betriebssystem Codierungsbibliotheken enth√§lt).</font></i> <br><br>  aptX teilt Audio in 4 Frequenzb√§nder auf und quantisiert sie kontinuierlich mit der gleichen Anzahl von Bits: 8 Bit f√ºr 0-5,5 kHz, 4 Bit f√ºr 5,5-11 kHz, 2 Bit f√ºr 11-16,5 kHz, 2 Bit f√ºr 16,5-22 kHz ( Werte f√ºr 44,1 kHz Abtastrate). <br><br>  Beispiel f√ºr aptX-Audio (oben - Original-Audio, unten - aptX-codiertes Audio, nur Spektrogramme der linken Kan√§le, Ton in FLAC): <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Ihr Browser unterst√ºtzt kein HTML5-Video. <source src="https://files.catbox.moe/06eohy.mp4" type="video/mp4"></video></div></div></div><br>  Die oberen Frequenzen sind etwas r√∂ter, aber der Unterschied ist nicht h√∂rbar. <br><br>  Aufgrund der festen Verteilung der Quantisierungsbits kann der Codec die Bits nicht auf Frequenzen √ºbertragen, die sie am dringendsten ben√∂tigen.  Im Gegensatz zu SBC ‚Äûschneidet‚Äú aptX die Frequenzen nicht ab, sondern f√ºgt ihnen Quantisierungsrauschen hinzu, wodurch der Dynamikbereich des Audios verringert wird. <br><br>  Wir sollten nicht davon ausgehen, dass die Verwendung von beispielsweise 2 Bits f√ºr ein Band den Dynamikbereich auf 12 dB reduziert: Mit ADPCM k√∂nnen bis zu 96 dB Dynamikbereich verwendet werden, selbst mit 2 Quantisierungsbits, jedoch nur mit einem bestimmten Signaltyp . <br>  ADPCM speichert die Differenz zwischen dem aktuellen und dem n√§chsten Wert in numerischer Darstellung, anstatt den absoluten Wert wie in PCM zu verwenden.  Dies reduziert die Anforderungen an die Anzahl der Bits, die zum Speichern derselben (ohne Verlust) oder nahezu derselben (mit relativ kleinem Rundungsfehler) Informationen erforderlich sind.  Um Rundungsfehler zu reduzieren, werden Faktortabellen angewendet. <br>  Bei der Erstellung des Codecs berechneten die Autoren ADPCM-Koeffizienten f√ºr eine Reihe von Musik-Audiodateien.  Je n√§her das Audiosignal an dem Musiksatz liegt, auf dem die Tabellen aufgebaut sind, desto weniger Quantisierungsfehler (Rauschen) werden von aptX erzeugt. <br><br>  Aus diesem Grund f√ºhren synthetische Tests immer zu schlechteren Ergebnissen als Musik.  Ich habe ein spezielles synthetisches Beispiel gemacht, bei dem aptX eine schlechte Leistung erbringt - eine 12,4-kHz-Sinuswelle (oberes Originalsignal, unteres aptX. Sound in FLAC. Ohrvergewaltigung, Lautst√§rke verringern!): <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Ihr Browser unterst√ºtzt kein HTML5-Video. <source src="https://files.catbox.moe/kterhd.mp4" type="video/mp4"></video></div></div></div><br>  Spektraldiagramm: <br><img src="https://habrastorage.org/webt/i1/p9/gr/i1p9grptgcwou7hf7f21yydddxa.png" alt="Spektraldiagramm, maximaler Ger√§uschpegel - -55 dB"><br><br>  Ger√§usche sind deutlich zu h√∂ren. <br><br>  Wenn Sie jedoch eine Sinuswelle mit einer kleineren Amplitude erzeugen, damit diese leiser ist, wird das Rauschen auch leiser, was auf einen gro√üen Dynamikbereich hinweist: <br><img src="https://habrastorage.org/webt/qe/ti/km/qetikmcmqkiusrwtxdftmlvn_ii.png" alt="Spektraldiagramm, maximaler Ger√§uschpegel - -75 dB"><br><br>  Um den Unterschied zwischen einem Original-Musiktitel und einem komprimierten zu h√∂ren, k√∂nnen Sie eines der Signale invertieren und den jeweiligen Kan√§len Titel hinzuf√ºgen.  Dieser Ansatz ist im Allgemeinen falsch und w√ºrde bei komplexeren Codecs keine korrekten Ergebnisse liefern. F√ºr Codecs der ADPCM-Klasse ist die Verwendung dieser Methode jedoch sinnvoll. <br>  <a href="">Der Unterschied zwischen Original- und aptX-codiertem Audio</a> <br>  Die quadratische mittlere Differenz der Signale liegt bei -37,4 dB, was f√ºr solche komprimierte Musik nicht viel ist. <br><br><h3>  aptX HD </h3>  aptX HD ist kein eigenst√§ndiger Codec, sondern ein verbessertes aptX-Codierungsprofil.  Die √Ñnderungen wirken sich auf die Anzahl der f√ºr die Frequenzbandcodierung zugewiesenen Bits aus: 10 Bit f√ºr 0-5,5 kHz, 6 Bit f√ºr 5,5-11 kHz, 4 Bit f√ºr 11-16,5 kHz, 4 Bit f√ºr 16,5-22 kHz (Werte f√ºr 44,1 kHz) . <br><br><div class="scrollable-table"><table><tbody><tr><th>  Codec </th><th>  Abtastrate </th><th>  Bittiefe </th><th>  Bitrate </th><th>  Codierungsunterst√ºtzung </th><th>  Dekodierungsunterst√ºtzung </th></tr><tr><td>  <b>aptX HD</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  24 Bit </td><td>  192/384/529/576 kb / s (abh√§ngig von der Abtastrate) </td><td>  Android 8 + * </td><td>  Einige Audioger√§te (in Hardware) </td></tr></tbody></table></div>  <i><font color="#666666"><b>* F√ºr</b> Versionen bis 7 muss der Bluetooth-Stack ge√§ndert werden.</font></i>  <i><font color="#666666">Der Codec wird nur unterst√ºtzt, wenn der Hersteller des Android-Ger√§ts die Codec-Nutzung von Qualcomm lizenziert hat (wenn das Betriebssystem Codierungsbibliotheken enth√§lt).</font></i> <br><br>  Dieser Codec ist weniger verbreitet als aptX: Er erfordert anscheinend eine separate Lizenzierung von Qualcomm und separate Lizenzgeb√ºhren. <br><br>  Wiederholen wir das Beispiel mit einer 12,4-kHz-Sinuswelle: <br><img src="https://habrastorage.org/webt/zj/be/u6/zjbeu69hd_pqm-valjq895lcoei.png" alt="Spektraldiagramm, maximaler Ger√§uschpegel - -72 dB"><br><br>  Viel besser als mit aptX, aber immer noch laut. <br><br><br><h2>  aptX Geringe Latenz </h2>  Die Version von aptX mit niedriger Latenz ist kein eigenst√§ndiger Codec.  Es unterscheidet sich nur in den Latenz- und Puffereinstellungen, die auf der Seite der Audioeinheit angewendet werden.  Abgesehen davon ist das ein √ºbliches aptX. <br>  Es wurde f√ºr die interaktive Audio√ºbertragung mit geringer Latenz (Filme, Spiele) entwickelt, bei der die Tonverz√∂gerung nicht programmgesteuert angepasst werden kann.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">F√ºr Intel Bluetooth-Chips ist eine Implementierung</a> der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dell-Treibersoftware verf√ºgbar</a> .  Es wird auch von Sendern, Empf√§ngern, Kopfh√∂rern und Lautsprechern unterst√ºtzt, jedoch nicht von Smartphones. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Abtastrate </th><th>  Bitrate </th><th>  Codierungsunterst√ºtzung </th><th>  Dekodierungsunterst√ºtzung </th></tr><tr><td>  44,1 kHz </td><td>  352 kb / s </td><td>  Windows mit Dell-Treiber und einigen Sendern (in Hardware) </td><td>  Einige Audioger√§te (in Hardware) </td></tr></tbody></table></div><br><br><h2>  Aac </h2>  AAC oder Advanced Audio Coding ist ein rechnerisch ausgefeilter Codec mit einem komplexen psychoakustischen Modell.  Es wird h√§ufig f√ºr Audio im Internet verwendet, dem zweitbeliebtesten Codec nach MP3.  Lizenz- und Lizenzgeb√ºhren erforderlich: Einmalige Zahlung in H√∂he von 15.000 USD (oder 1000 USD f√ºr Unternehmen mit weniger als 15 Mitarbeitern) + 0,98 USD f√ºr die ersten 500.000 Ger√§te ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quelle</a> ). <br>  Der Codec ist innerhalb der MPEG-2- und MPEG-4-Spezifikationen standardisiert und geh√∂rt trotz h√§ufiger Irrglauben nicht zu Apple. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Abtastrate </th><th>  Bitrate </th><th>  Codierungsunterst√ºtzung </th><th>  Dekodierungsunterst√ºtzung </th></tr><tr><td>  8 - 96 kHz </td><td>  8 - 576 kb / s (f√ºr Stereo), 256 - 320 kb / s (typisch f√ºr Bluetooth) </td><td>  macOS, Android 7 + *, iOS </td><td>  Gro√üe Auswahl an Ger√§ten (in Hardware) </td></tr></tbody></table></div>  <i><font color="#666666"><b>*</b> Nur f√ºr Ger√§te, deren Hersteller Lizenzgeb√ºhren gezahlt haben</font></i> <br><br>  iOS und macOS enthalten den bisher besten verf√ºgbaren Apple AAC-Encoder, der die h√∂chstm√∂gliche Audioqualit√§t erzeugt.  Android verwendet den zweitbesten Fraunhofer FDK AAC-Encoder, kann aber auch verschiedene in die Plattform eingebettete Hardware-Encoder (SoC) mit unbekannter Codierungsqualit√§t verwenden.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Laut k√ºrzlich auf der SoundGuys-Website ver√∂ffentlichten Tests</a> ist die Qualit√§t der AAC-Codierung auf verschiedenen Android-Handys sehr unterschiedlich: <br> <a href=""><img src="https://www.soundguys.com/wp-content/uploads/2018/10/aac-enhanced-view-fr-1200x788.jpg" alt="Darstellung des AAC-Codierungsspektrums verschiedener mobiler Ger√§te. Das Huawei P20 Pro hat einen starken R√ºckgang im Bereich von 14 kHz, im LG V30 - im Bereich von 16 kHz, im Samsung Note 8 - 17 kHz, im Apple iPhone 7 - 19 kHz."></a> <br><br>  Die meisten drahtlosen Audioger√§te haben eine maximale Bitrate von 320 kbit / s f√ºr AAC, einige unterst√ºtzen nur 256 kbit / s.  Andere Bitraten sind √§u√üerst selten. <br>  AAC bietet eine hervorragende Qualit√§t bei Bitraten von 320 und 256 kb / s, ist jedoch anf√§llig f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Generationsverluste</a> bei bereits komprimierten Inhalten. Es ist jedoch schwierig, Unterschiede zwischen dem Original und AAC 256 kb / s unter iOS zu erkennen, selbst bei mehreren aufeinanderfolgenden Codierungen.  Bei MP3 320 kbps, die in AAC 256 kbps codiert sind, kann der Verlust vernachl√§ssigt werden. <br>  Wie bei jedem anderen Bluetooth-Codec wird jede Musik zuerst dekodiert und dann mit einem Codec codiert.  Wenn Sie Musik im AAC-Format h√∂ren, wird sie zuerst vom Betriebssystem dekodiert und dann zur √úbertragung √ºber Bluetooth erneut in AAC codiert.  Dies ist erforderlich, um mehrere Audiostreams wie Musik und Benachrichtigungen √ºber neue Nachrichten zu mischen.  iOS ist keine Ausnahme.  Es gibt viele Aussagen, dass iOS keine Musik im AAC-Format f√ºr die √úbertragung √ºber Bluetooth transkodiert, was falsch ist. <br><br>  AAC hat viele Erweiterungen der Standardcodierungsmethode.  Eine davon - Scalable To Lossless (SLS) - ist f√ºr Bluetooth standardisiert und erm√∂glicht die √úbertragung verlustfreier Audiodaten.  Leider konnte auf vorhandenen Ger√§ten keine SLS-Unterst√ºtzung gefunden werden.  Eine Erweiterung zur Reduzierung der √úbertragungsverz√∂gerung AAC-LD (Low Delay) ist f√ºr Bluetooth nicht standardisiert. <br><br><br><h2>  MP1 / 2/3 </h2>  MPEG-1/2 Part 3-Codecs bestehen aus bekannten und weit verbreiteten MP3-Dateien, der weniger verbreiteten MP2-Datei (haupts√§chlich in digitalem Fernsehen und Radio verwendet) und der v√∂llig unbekannten MP1-Datei. <br><br>  Die alten MP1- und MP2-Codecs werden √ºberhaupt nicht unterst√ºtzt. Ich konnte keine Kopfh√∂rer oder Bluetooth-Stacks finden, die sie codieren oder decodieren w√ºrden. <br>  Die MP3-Dekodierung wird von einigen Kopfh√∂rern unterst√ºtzt, die Kodierung wird jedoch auf keinem modernen Betriebssystemstapel unterst√ºtzt.  Es scheint, dass der BlueSoleil-Stack eines Drittanbieters f√ºr Windows MP3 codieren kann, wenn Sie die Konfigurationsdatei manuell bearbeiten. Bei meiner Installation f√ºhrt dies jedoch zu BSoD unter Windows 10. Das Ergebnis: Sie k√∂nnen keinen Codec f√ºr Bluetooth-Audio verwenden. <br>  Zuvor, in den Jahren 2006-2008, bevor der A2DP-Standard in Ger√§ten weit verbreitet war, h√∂rten die Menschen MP3-Musik auf dem Nokia BH-501-Headset √ºber das MSI BluePlayer-Programm, das auf Symbian und Windows Mobile verf√ºgbar war.  Zu dieser Zeit erm√∂glichte die Betriebssystemarchitektur von Smartphones den Zugriff auf viele Funktionen auf niedriger Ebene. Es war sogar m√∂glich, Bluetooth-Stacks von Drittanbietern unter Windows Mobile zu installieren. <br><br>  Das neueste Patent des MP3-Codecs ist abgelaufen. F√ºr die Verwendung des Codecs sind seit dem 23. April 2017 keine Lizenzgeb√ºhren erforderlich. <br><br><blockquote>  Wenn das in den oben genannten Referenzen erw√§hnte am l√§ngsten laufende Patent als Ma√ünahme herangezogen wird, wurde die MP3-Technologie in den USA am 16. April 2017 patentfrei, als das von Technicolor gehaltene und verwaltete US-Patent 6,009,399 auslief. </blockquote>  <i><font color="#666666">Quelle: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.iis.fraunhofer.de/de/ff/amm/prod/audiocodec/audiocodecs/mp3.html</a></font></i> <br><br><div class="scrollable-table"><table><tbody><tr><th>  Abtastrate </th><th>  Bitrate </th><th>  Codierungsunterst√ºtzung </th><th>  Dekodierungsunterst√ºtzung </th></tr><tr><td>  16 - 48 kHz </td><td>  8 - 320 kb / s </td><td>  Nirgendwo unterst√ºtzt </td><td>  Einige Audioger√§te (in Hardware) </td></tr></tbody></table></div><br><br><h2>  LDAC </h2>  Neuer und aktiv beworbener ‚ÄûHi-Res‚Äú -Codec von Sony, der Abtastraten von bis zu 96 kHz und 24-Bit-Tiefe mit einer Bitrate von bis zu 990 kbps unterst√ºtzt.  Es wird als audiophiler Codec als Ersatz f√ºr vorhandene Bluetooth-Codecs beworben.  Es verf√ºgt √ºber eine adaptive Bitratenfunktion, die die Bitrate in Abh√§ngigkeit von den Funk√ºbertragungsbedingungen abstimmt. <br><br>  Der LDAC-Encoder ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">libldac</a> ) ist in der Standard-Android-Distribution enthalten. Die Codierung wird auf jedem Android-Smartphone ab OS Version 8 unterst√ºtzt. Software-Decoder sind nicht frei verf√ºgbar und die Codec-Spezifikation ist jedoch auf den ersten Blick nicht f√ºr die breite √ñffentlichkeit verf√ºgbar Beim Encoder √§hneln die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Interna dem</a> in PlayStation 4 und Vita verwendeten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ATRAC9-</a> Codec von Sony: Beide arbeiten im Frequenzbereich, verwenden eine modifizierte diskrete Cosinustransformation (MDCT) und Huffman-Komprimierung. <br>  LDAC teilt Audio in 12 oder 16 Frequenzb√§nder auf: 12 wird f√ºr 44,1 und 48 kHz, 16 f√ºr 88,2 und 96 kHz verwendet. <br><br>  LDAC wird fast ausschlie√ülich von Sony-Kopfh√∂rern unterst√ºtzt.  LDAC-Decodierung wird manchmal bei Kopfh√∂rern und DACs anderer Hersteller gefunden, aber sehr selten. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Abtastrate </th><th>  Bitrate </th><th>  Codierungsunterst√ºtzung </th><th>  Dekodierungsunterst√ºtzung </th></tr><tr><td>  44,1 - 96 kHz </td><td>  303/606/909 kb / s (f√ºr 44,1 und 88,2 kHz), 330/660/990 kb / s (f√ºr 48 und 96 kHz) </td><td>  Android 8+ </td><td>  Einige Sony-Kopfh√∂rer und ausgew√§hlte Ger√§te anderer Hersteller (in Hardware) </td></tr></tbody></table></div><br><br>  LDAC-Marketing f√ºr ‚ÄûHi-Res-Codec‚Äú beeintr√§chtigt seine technischen Eigenschaften: Es ist nicht ratsam, die Bitrate f√ºr die Codierung und √úbertragung von Frequenzen aufzuwenden, die f√ºr das menschliche Ohr nicht h√∂rbar sind, und eine h√∂here Bittiefe, wenn es immer noch nicht m√∂glich ist, Audio in CD-Qualit√§t verlustfrei zu komprimieren.  Gl√ºcklicherweise verf√ºgt der Codec √ºber zwei Betriebsarten: CD-Audio√ºbertragung und Hi-Res-Audio√ºbertragung.  Im ersten Fall werden nur 44,1 kHz / 16 Bit √ºber Funk √ºbertragen. <br><br>  Da der LDAC-Software-Decoder nicht frei verf√ºgbar ist, ist es nicht m√∂glich, den Codec ohne zus√§tzliche Ger√§te zu testen, die LDAC decodieren.  Laut den Ergebnissen des LDAC-Tests auf dem DAC mit seiner Unterst√ºtzung, den SoundGuys.com-Ingenieure √ºber den digitalen Ausgang angeschlossen und den Ausgangston der Testsignale aufgezeichnet haben, liefert der LDAC 660 und 990 kbit / s im CD-Qualit√§tsmodus ein Signal -zu-Rausch-Verh√§ltnis etwas besser als das von aptX HD.  Das ist ein gutes Ergebnis. <br><br> <a href=""><img src="https://www.soundguys.com/wp-content/uploads/2018/10/LDAC-990-CD-Noise-Floor.jpg" alt="LDAC CD 990 kbit / s Rauschprofil"></a> <br>  <i><font color="#666666">Quelle: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.soundguys.com/ldac-ultimate-bluetooth-guide-20026</a></font></i> <br><br>  LDAC unterst√ºtzt auch dynamische Bitraten au√üerhalb der etablierten Profile - von 138 kbps bis 990 kbps, aber soweit ich das beurteilen kann, verwendet Android nur standardisierte Profile mit 303/606/909 und 330/660/990 kbps. <br><br><h2>  Andere Codecs </h2>  Andere A2DP-Codecs sind nicht weit verbreitet.  Ihre Unterst√ºtzung fehlt entweder fast vollst√§ndig oder ist nur bei bestimmten Modellen von Kopfh√∂rern und Smartphones verf√ºgbar. <br>  Der A2DP-standardisierte ATRAC-Codec wurde selbst von Sony noch nie als Bluetooth-Codec verwendet.  Samsung HD-, Samsung Scalable- und Samsung UHQ-BT-Codecs unterst√ºtzen nur sehr begrenzt Sende- und Empfangsger√§te.  HWA LHDC ist zu neu und unterst√ºtzt nur drei (?) Ger√§te. <br><br><br><h1>  Codec-Unterst√ºtzung f√ºr Audioger√§te </h1>  Nicht alle Hersteller ver√∂ffentlichen genaue Informationen zu Codecs, die in bestimmten drahtlosen Kopfh√∂rern, Lautsprechern, Empf√§ngern oder Sendern unterst√ºtzt werden.  Manchmal kommt es vor, dass bestimmte Codecs nur f√ºr das Senden, nicht aber f√ºr den Empfang unterst√ºtzt werden (relevant f√ºr kombinierte Sender-Empf√§nger), obwohl der Hersteller einfach "Unterst√ºtzung" ohne Hinweise deklariert (ich gehe davon aus, dass die getrennte Lizenzierung von Encodern und Decodern schuld ist). .  In den billigsten Ger√§ten finden Sie niemals die deklarierte Unterst√ºtzung f√ºr aptX. <br><br>  Leider werden unterst√ºtzte Codecs auf den meisten Betriebssystemschnittstellen nirgendwo angezeigt.  Informationen zum aktuell verwendeten Codec sind nur in Android ab Version 8 und macOS vorhanden.  Selbst in diesen Betriebssystemen werden jedoch nur die Codecs angezeigt, die sowohl vom Telefon / Computer als auch von den Kopfh√∂rern unterst√ºtzt werden. <br><br>  Wie finde ich heraus, welche Codecs das Ger√§t unterst√ºtzt?  Durch die Erfassung und Analyse des Verkehrsdumps mit A2DP-Verhandlungsoptionen! <br>  Dies kann unter Linux, MacOS und Android erfolgen.  Unter Linux k√∂nnen Sie Wireshark oder hcidump verwenden, unter macOS kann Bluetooth Explorer verwendet werden, und unter Android k√∂nnen Sie die in den Entwicklertools verf√ºgbare Bluetooth HCI-Speicherauszugsfunktion verwenden.  Sie erhalten einen Speicherauszug im btsnoop-Format, der im Wireshark Analyzer ge√∂ffnet werden kann. <br>  <b>HINWEIS</b> : Sie m√ºssen eine Verbindung vom Smartphone / Computer zum Kopfh√∂rer herstellen, um den korrekten Speicherauszug zu erfassen, und nicht umgekehrt (egal wie albern das klingt)!  Kopfh√∂rer k√∂nnen auch eine Verbindung zum Smartphone oder PC herstellen. In diesem Fall fordern sie eine Liste der Codecs vom Telefon an und geben keine eigenen Codecs an.  Um sicherzustellen, dass Sie einen korrekten Speicherauszug erfassen, entkoppeln Sie zuerst das Ger√§t und koppeln Sie dann w√§hrend der Aufzeichnung des Speicherauszugs das Telefon mit den Kopfh√∂rern. <br><br>  Verwenden Sie den folgenden Anzeigefilter, um irrelevanten Datenverkehr auszublenden: <br><pre><code class="plaintext hljs">btavdtp.signal_id</code> </pre> <br><br>  Als Ergebnis sollten Sie etwas √Ñhnliches sehen: <br> <a href=""><img src="https://habrastorage.org/webt/fv/ku/xs/fvkuxsqcdwtxznupploqmldv9qm.png" alt="Wireshark mit einem geladenen Dump und einem Filter zur Anzeige des A2DP-Befehls GetCapabilities"></a> <br><br>  Durch Klicken auf den Befehl GetCapabilities erhalten Sie detaillierte Informationen zum Codec. <br> <a href=""><img src="https://habrastorage.org/webt/7s/9a/xa/7s9axaeztya_dr2irptfi68ejxs.png" alt="Eigenschaften eines der ausgew√§hlten Elemente. Die Codec-ID ist sichtbar."></a> <br><br>  Wireshark kennt nicht alle Codec-Kennungen, daher m√ºssen einige der Codecs manuell entschl√ºsselt werden, abh√§ngig von der folgenden Tabelle mit Kennungen: <br><pre> <code class="plaintext hljs">Mandatory: 0x00 - SBC Optional: 0x01 - MPEG-1,2 (aka MP3) 0x02 - MPEG-2,4 (aka AAC) 0x04 - ATRAC Vendor specific: 0xFF 0x004F 0x01 - aptX 0xFF 0x00D7 0x24 - aptX HD 0xFF 0x000A 0x02 - aptX Low Latency 0xFF 0x00D7 0x02 - aptX Low Latency 0xFF 0x000A 0x01 - FastStream 0xFF 0x012D 0xAA - LDAC 0xFF 0x0075 0x0102 - Samsung HD 0xFF 0x0075 0x0103 - Samsung Scalable Codec 0xFF 0x053A 0x484C - Savitech LHDC 0xFF 0x000A 0x0104 - The CSR True Wireless Stereo v3 Codec ID for AAC 0xFF 0x000A 0x0105 - The CSR True Wireless Stereo v3 Codec ID for MP3 0xFF 0x000A 0x0106 - The CSR True Wireless Stereo v3 Codec ID for aptX</code> </pre> <br>  Mithilfe des folgenden Filters k√∂nnen Sie herausfinden, ob Ihr Ger√§t EDR 3 Mbit / s unterst√ºtzt: <br><pre> <code class="plaintext hljs">bthci_evt.code==0x0b</code> </pre> <br><img src="https://habrastorage.org/webt/jj/qy/ph/jjqyphb07cjqmqgrqirhqmueula.png" alt="Bild"><br><br>  Um die Dumps nicht manuell zu analysieren, habe ich einen Dienst erstellt, der alles automatisch analysiert: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">btcodecs.valdikss.org.ru</a> <br><br>  Die einfache, aber n√ºtzliche Windows <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bluetooth Tweaker-</a> Software zeigt neben anderen Funktionen auch unterst√ºtzte und derzeit verwendete Codecs an. <br>  Linux-Benutzer k√∂nnen auch das Dienstprogramm avinfo aus dem BlueZ-Paket verwenden. <br><br><br><h1>  Codec-Vergleich.  Welcher Codec ist besser? </h1>  Jeder Codec hat seine Vor- und Nachteile. <br>  aptX und aptX HD verwenden fest codierte Profile, die nicht ge√§ndert werden k√∂nnen, ohne den Encoder und Decoder zu √§ndern.  Weder das Smartphone noch der Kopfh√∂rerhersteller k√∂nnen die Bitrate oder die Codierungsfaktoren von aptX √§ndern.  Qualcomm, der Eigent√ºmer des Codecs, verteilt den Referenzcodierer als Bibliothek an die Lizenznehmer.  Diese Fakten sind die St√§rke von aptX - Sie wissen im Voraus, welche Klangqualit√§t Sie erhalten, ohne zu st√∂ren. <br><br>  SBC hat im Gegensatz dazu viele einstellbare Parameter, eine dynamische Bitrate (der Encoder kann den Bitpool-Parameter reduzieren, wenn das Radio √ºberlastet ist) und keine fest codierten Profile, sondern nur die empfohlenen "mittlere Qualit√§t" und "hohe Qualit√§t". Diese wurden 2003 in die A2DP-Spezifikation aufgenommen. ‚ÄûHohe Qualit√§t‚Äú ist nach modernen Ma√üst√§ben nicht mehr so ‚Äã‚Äãhoch, und die meisten Bluetooth-Stacks erlauben keine Verwendung von Parametern, die besser sind als im Profil ‚Äûhohe Qualit√§t‚Äú, obwohl es keine technischen gibt Einschr√§nkungen daf√ºr. <br>  Bluetooth SIG bietet keinen SBC-Referenzcodierer in Form einer Bibliothek, und die Hersteller implementieren ihn selbst. <br>  Dies sind die Schw√§chen von SBC - es ist nie im Voraus klar, welche Klangqualit√§t von einem bestimmten Ger√§t zu erwarten ist.  SBC kann sowohl eine niedrige als auch eine sehr hohe Klangqualit√§t erzeugen. Letztere ist jedoch nicht erreichbar, ohne die k√ºnstlichen Einschr√§nkungen von Bluetooth-Stacks zu deaktivieren oder zu umgehen. <br><br>  Die Situation mit AAC ist nicht eindeutig: Einerseits sollte der Codec theoretisch eine Qualit√§t liefern, die nicht vom Original zu unterscheiden ist, aber die Praxis wird nach den Tests des SoundGuys-Labors auf verschiedenen Android-Ger√§ten nicht best√§tigt.  Der Fehler liegt h√∂chstwahrscheinlich bei Hardware-Audio-Encodern geringer Qualit√§t, die in verschiedene Telefonchips√§tze eingebettet sind.  Es ist sinnvoll, AAC nur auf Apple-Ger√§ten zu verwenden.  Mit Android sollten Sie sich besser an aptX / HD und LDAC halten. <br><br>  Ger√§te, die alternative Codecs unterst√ºtzen, sind normalerweise von h√∂herer Qualit√§t, einfach weil es nicht sinnvoll ist, Lizenzgeb√ºhren f√ºr sehr billige Ger√§te von geringer Qualit√§t zu zahlen, um diese Codecs zu verwenden.  Nach meinen Tests klingt SBC auf hochwertiger Hardware sehr gut. <br><br>  Ich habe einen Webdienst erstellt, der Audio in Echtzeit direkt in Ihrem Browser in SBC, aptX und aptX HD codiert.  Sie k√∂nnen damit diese Audio-Codecs testen, ohne Audio √ºber Bluetooth, √ºber kabelgebundene Kopfh√∂rer, Lautsprecher und Ihre Lieblingsmusik zu √ºbertragen, und die Codierungsparameter direkt w√§hrend der Audiowiedergabe √§ndern: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">btcodecs.valdikss.org.ru/sbc-encoder</a> <br>  Der Dienst verwendet SBC-Codierungsbibliotheken aus dem BlueZ-Projekt und libopenaptx aus ffmpeg, die von C √ºber emscripten in WebAssembly und JavaScript kompiliert wurden, zur Ausf√ºhrung in einem Browser.  Wer h√§tte von einer solchen Zukunft tr√§umen k√∂nnen! <br><br>  So sieht es aus: <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Ihr Browser unterst√ºtzt kein HTML5-Video. <source src="https://files.catbox.moe/9e9q8f.mp4" type="video/mp4"></video></div></div></div><br>  Beachten Sie, wie sich der Ger√§uschpegel nach 20 kHz f√ºr verschiedene Codecs √§ndert.  In der urspr√ºnglichen MP3-Datei sind keine Frequenzen √ºber 20 kHz vorhanden. <br><br>  Versuchen Sie, die Codecs zu wechseln, und pr√ºfen Sie, ob Sie den Unterschied zwischen dem Original, SBC 53 Joint Stereo (dem Standard- und dem am h√§ufigsten verwendeten Profil) und aptX / aptX HD h√∂ren k√∂nnen. <br><br><br><h2>  Aber ich kann den Unterschied zwischen Codecs <i>in einem Kopfh√∂rer h√∂ren</i> ! </h2>  Personen, die beim Testen √ºber einen Webdienst den Unterschied zwischen Codecs nicht h√∂ren, geben an, ihn beim H√∂ren von Musik mit Bluetooth-Kopfh√∂rern zu h√∂ren.  Leider ist das kein Scherz oder Placebo-Effekt: Der Unterschied ist wirklich h√∂rbar, wird aber nicht durch Unterschiede <i>in den Codecs verursacht</i> . <br><br>  Die √ºberwiegende Mehrheit der Bluetooth-Audio-Chips√§tze, die beim Empfang von drahtlosen Ger√§ten verwendet werden, ist mit einem digitalen Signalprozessor (DSP) ausgestattet, der einen Equalizer, einen <abbr title="Kompressor + Expander = Compander. Wird zur Verbesserung des Signal-Rausch-Verh√§ltnisses verwendet.">Compander</abbr> , einen Stereo-Extender und andere Funktionen zur Verbesserung (oder √Ñnderung) des Klangs implementiert.  Hersteller von Bluetooth-Hardware k√∂nnen den DSP <i>f√ºr jeden Codec separat</i> konfigurieren. Wenn Sie zwischen Codecs wechseln, hat der H√∂rer das Gef√ºhl, dass er den Unterschied in der Leistung von Codecs h√∂ren kann, wenn er in Wirklichkeit unterschiedliche DSP-Einstellungen h√∂rt. <br><br> <a href=""><img src="https://habrastorage.org/webt/0j/75/rv/0j75rvrbutguojyxx9yu0s-uang.png" alt="Im Bild: DECODER - Parametrischer Equalizer - Stereoverbesserung - Compander - Post-Mastering - Ausgangsverst√§rkung"></a> <br>  <i><font color="#666666">Kalimba DSP-Audioverarbeitungspipeline in CSR / Qualcomm-SoCs</font></i> <br><br><img src="https://habrastorage.org/webt/1h/_n/dd/1h_nddksnmupgey54su2xzblmgm.png" alt="Im Bild: Kontrollk√§stchen aktivieren verschiedene DSP-Funktionen f√ºr jeden Codec separat."><br>  <i><font color="#666666">Aktivierung verschiedener DSP-Funktionen f√ºr jeden Codec und separate Ausgabe</font></i> <br><br>  Einige Ger√§te des Premium-Segments sind mit einer Software ausgestattet, mit der Sie die DSP-Parameter anpassen k√∂nnen. Die meisten billigeren Kopfh√∂rer verf√ºgen jedoch nicht √ºber diese Funktion, und Benutzer k√∂nnen die Nachbearbeitung von Sound nicht mit Standardwerkzeugen deaktivieren. <br><br><br><h2>  Funktionsmerkmale der Ger√§te </h2>  Die aktuelle Version des A2DP-Standards verf√ºgt √ºber eine <b>absolute Lautst√§rkeregelungsfunktion</b> , mit der die Ausgangsverst√§rkung mit speziellen Befehlen mithilfe des AVRCP-Protokolls gesteuert werden kann, anstatt die Lautst√§rke des Audiostreams selbst programmgesteuert zu reduzieren.  Wenn Sie die Lautst√§rke am Kopfh√∂rer √§ndern und die √Ñnderung nicht mit der Lautst√§rke am Telefon synchronisiert ist, bedeutet dies, dass Ihre Kopfh√∂rer oder Ihr Telefon diese Funktion nicht unterst√ºtzen.  In diesem Fall ist es sinnvoll, Musik immer mit maximaler Lautst√§rke auf dem Telefon zu h√∂ren und die tats√§chliche Lautst√§rke mit den Kopfh√∂rertasten anzupassen. Das Signal-Rausch-Verh√§ltnis ist besser und die Audioqualit√§t <i>sollte</i> h√∂her sein. <br>  In Wirklichkeit gibt es traurige Situationen.  Mit RealForce OverDrive verwenden D1-Kopfh√∂rer einen starken Kompander f√ºr SBC, und eine Erh√∂hung der Lautst√§rke f√ºhrt zu einer Erh√∂hung der Lautst√§rke leiser Ger√§usche, und die Lautst√§rke lauter Ger√§usche √§ndert sich nicht (Signalkomprimierung erfolgt).  Aus diesem Grund muss die Lautst√§rke am Computer auf etwa die H√§lfte eingestellt werden. In diesem Fall tritt praktisch kein Komprimierungseffekt auf. <br>  Nach meinen Beobachtungen unterst√ºtzen alle Kopfh√∂rer mit zus√§tzlichen Codecs die absolute Lautst√§rkeregelung, was wahrscheinlich eine der Anforderungen f√ºr die Codec-Zertifizierung ist. <br><br>  Einige Kopfh√∂rer unterst√ºtzen <b>das gleichzeitige Anschlie√üen zweier Ger√§te</b> .  So k√∂nnen Sie beispielsweise Musik von einem Computer h√∂ren und Anrufe von einem Telefon empfangen.  Beachten Sie jedoch, dass alternative Codecs in diesem Modus deaktiviert sind und nur SBC verwendet wird. <br><br>  Mit der <b>AVDTP 1.3 Delay Reporting-</b> Funktion k√∂nnen Kopfh√∂rer eine Verz√∂gerung an ein sendendes Ger√§t melden, das den Ton tats√§chlich <b>wiedergibt</b> .  Dies hilft dabei, die Synchronisation von Audio mit Video w√§hrend der Wiedergabe von Videodateien anzupassen: Wenn eine √úberlastung des Radios auftritt, bleibt das Audio nicht hinter dem Video zur√ºck, im Gegenteil, das Video wird vom Videoplayer verlangsamt, bis Audio und Video vorhanden sind wieder synchronisiert. <br>  Die Funktion wird von vielen Kopfh√∂rern, Android 9+ und Linux mit PulseAudio 12.0+ unterst√ºtzt.  Die Unterst√ºtzung in anderen Betriebssystemen ist mir nicht bekannt. <br><br><br><h1>  Duplex-Kommunikation √ºber Bluetooth.  Sprach√ºbertragung. </h1>  Synchronous Connection Oriented (SCO) und seine erweiterte Version Enhanced Synchronous Connection Oriented (eSCO) sind die Modi f√ºr die Bluetooth-Sprach√ºbertragung.  In diesem Modus k√∂nnen Sie Ton und Sprache streng nacheinander mit einer symmetrischen Sende- und Empfangsgeschwindigkeit senden, ohne auf die Best√§tigung des Sendens und erneuten Sendens von Paketen warten zu m√ºssen.  Dies verringert die Gesamtverz√∂gerung bei der √úbertragung von Audio √ºber den Funkkanal, f√ºhrt jedoch zu ernsthaften Einschr√§nkungen bei der pro Zeiteinheit √ºbertragenen Datenmenge und beeintr√§chtigt die Audioqualit√§t nachteilig. <br>  Wenn dieser Modus verwendet wird, werden sowohl die Stimme vom Mikrofon als auch das Audio mit der gleichen Qualit√§t an die Kopfh√∂rer √ºbertragen. <br>  Die √úbertragung der Daten selbst wird durch das HSP-Profil standardisiert, das auch zus√§tzliche Funktionen wie die Bedienung der Lautst√§rkeregler, das Abheben des Mobilteils und das Auflegen beschreibt. <br>  Leider ist die Qualit√§t der Sprach√ºbertragung √ºber Bluetooth ab 2019 immer noch schlecht, und es ist nicht klar, warum Bluetooth SIG nichts dagegen unternimmt. <br><br><h5>  CVSD </h5>  Der grundlegende Sprach√ºbertragungscodec <abbr title="Delta-Modulation mit stufenloser Steigung">CVSD</abbr> wurde 2002 standardisiert und wird von allen bidirektionalen Bluetooth-Ger√§ten unterst√ºtzt.  Es bietet Audio√ºbertragung mit einer Abtastfrequenz von 8 kHz, was der Qualit√§t herk√∂mmlicher kabelgebundener Telefonie entspricht. <br><br>  <a href="">Ein Beispiel f√ºr die Aufnahme in diesem Codec</a> . <br><br><h5>  mSBC </h5>  Zus√§tzlicher mSBC-Codec wurde 2009 standardisiert, und 2010 gab es Chips, die ihn bereits f√ºr die Sprach√ºbertragung verwendeten.  mSBC wird von verschiedenen Ger√§ten weitgehend unterst√ºtzt. <br>  Dies ist kein eigenst√§ndiger Codec, sondern der √ºbliche SBC aus dem A2DP-Standard mit einem festen Codierungsprofil: 16 kHz, Mono, Bitpool 26. <br><br>  <a href="">Ein Beispiel f√ºr die Aufnahme in diesem Codec</a> . <br><br>  Nicht brillant, aber viel besser als CVSD, obwohl es immer noch unangenehm ist, es f√ºr die Kommunikation √ºber das Internet zu verwenden, insbesondere wenn Sie Kopfh√∂rer f√ºr die Kommunikation im Spiel verwenden - der Sound des Spiels wird auch mit einer Abtastfrequenz von 16 kHz √ºbertragen . <br><br><h6>  Faststream </h6>  CSR hat beschlossen, die Idee der Wiederverwendung von SBC weiterzuentwickeln.  Um die Einschr√§nkungen des SCO-Protokolls zu umgehen und h√∂here Bitraten zu verwenden, ging CSR in die andere Richtung - sie haben dem A2DP-Standard f√ºr Einweg-Audio√ºbertragung Unterst√ºtzung f√ºr Zwei-Wege-SBC-Audio hinzugef√ºgt und ihn als ‚ÄûFastStream‚Äú bezeichnet. <br><br>  FastStream √ºbertr√§gt 44,1- oder 48-kHz-Stereoton an Lautsprecher mit einer Bitrate von 212 kbps.  16 kHz mit einer Bitrate von 72 kbps (etwas besser als die von mSBC) werden zum √úbertragen von Audio von einem Mikrofon verwendet.  Solche Parameter eignen sich viel besser f√ºr die Kommunikation in Online-Spielen - der Klang des Spiels und der Teamkollegen wird von hoher Qualit√§t sein. <br><br>  <a href="">Ein Beispiel f√ºr die Aufnahme in diesem Codec</a> (+ <a href="">Audio vom Mikrofon, wie in mSBC</a> ). <br><br>  Das Unternehmen hat einen interessanten Hack entwickelt, der jedoch aufgrund des Widerspruchs zum A2DP-Standard nur von einigen Sendern des Unternehmens unterst√ºtzt wird (die als USB-Audiokarte und nicht als Bluetooth-Ger√§t funktionieren), aber nicht empfangen wurde Unterst√ºtzung im Bluetooth-Stack.  Die Anzahl der Kopfh√∂rer mit FastStream-Unterst√ºtzung ist jedoch nicht so gering. <br><br>  Derzeit ist die FastStream-Unterst√ºtzung nur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in Form eines Patches f√ºr Linux PulseAudio</a> von Pali Roh√°r verf√ºgbar, der nicht im Hauptprogrammzweig enthalten ist. <br><br><h5>  aptX Geringe Latenz </h5>  Sehr zur √úberraschung unterst√ºtzt aptX Low Latency auch bidirektionales Audio und implementiert das gleiche Prinzip wie FastStream. <br>  Es gibt keine M√∂glichkeit, diese Funktion des Codecs irgendwo zu verwenden - es gibt keine Unterst√ºtzung f√ºr die Dekodierung mit geringer Latenz in einem Betriebssystem und in einem mir bekannten Bluetooth-Stack. <br><br><br><h1>  Bluetooth 5, Classic und Low Energy </h1>  Die Spezifikationen und Versionen von Bluetooth sind sehr verwirrend, da zwei inkompatible Standards unter einer Marke vorhanden sind, die beide h√§ufig f√ºr unterschiedliche Zwecke verwendet werden. <br><br>  Es gibt zwei verschiedene, inkompatible Bluetooth-Protokolle: Bluetooth Classic und Bluetooth Low Energy (LE, auch als Bluetooth Smart bekannt).  Es gibt auch ein drittes Protokoll, Bluetooth High Speed, das jedoch nicht √ºblich ist und nicht in Haushaltsger√§ten verwendet wird. <br><br>  Beginnend mit Bluetooth 4.0 konzentrierten sich die √Ñnderungen in den Spezifikationen haupts√§chlich auf Bluetooth Low Energy, w√§hrend die Classic-Version nur geringf√ºgige Verbesserungen erhielt. <br><br>  Liste der √Ñnderungen zwischen Bluetooth 4.2 und Bluetooth 5: <br><blockquote>  9 √ÑNDERUNGEN VON v4.2 AUF 5.0 <br><br>  9.1 NEUE FUNKTIONEN <br><br>  In Bluetooth Core Specification 5.0 Release werden mehrere neue Funktionen eingef√ºhrt.  Die Hauptverbesserungsbereiche sind: <br>  ‚Ä¢ Slot Availability Mask (SAM) <br>  ‚Ä¢ 2 Msym / s PHY f√ºr LE <br>  ‚Ä¢ LE Long Range <br>  ‚Ä¢ Nicht verbindbare Werbung mit hohem Arbeitszyklus <br>  ‚Ä¢ LE-Werbeerweiterungen <br>  ‚Ä¢ LE-Kanalauswahlalgorithmus Nr. 2 <br>  9.1.1 In CSA5 hinzugef√ºgte Funktionen - In Version 5.0 integriert <br>  ‚Ä¢ H√∂here Ausgangsleistung </blockquote>  <i><font color="#666666">Quelle: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.bluetooth.org/docman/handlers/DownloadDoc.ashx?doc_id=421043</a> (Seite 291)</font></i> <br><br>  Nur eine √Ñnderung betraf die Classic-Version innerhalb der Spezifikation von Bluetooth 5: Unterst√ºtzung der SAM-Technologie (Slot Availability Mask) zur Verbesserung der Funkfreigabe.  Alle anderen √Ñnderungen wirken sich nur auf Bluetooth LE aus (dies gilt auch f√ºr die h√∂here Ausgangsleistung). <br><br>  <b>Alle</b> Audioger√§te verwenden nur Bluetooth Classic.  Kopfh√∂rer und Lautsprecher k√∂nnen nicht √ºber Bluetooth Low Energy verbunden werden.  Es gibt keinen Standard f√ºr die √úbertragung von Audio mit LE.  Der A2DP-Standard, der zur √úbertragung von Audio in hoher Qualit√§t verwendet wird, funktioniert nur √ºber Bluetooth Classic, und es gibt kein √Ñquivalent in LE. <br><br>  Zusammenfassend l√§sst sich sagen, dass der Kauf von Audioger√§ten mit Bluetooth 5 nur aufgrund der neuen Version des Protokolls bedeutungslos ist.  Bluetooth 4.0 / 4.1 / 4.2 im Rahmen der Audio√ºbertragung funktioniert genauso. <br>  Wenn in der Ank√ºndigung des neuen Kopfh√∂rers ein doppelter Radius und ein geringerer Stromverbrauch dank Bluetooth 5 erw√§hnt werden, sollten Sie wissen, dass sie sich entweder nicht verstehen oder Sie irref√ºhren.  Kein Wunder, dass selbst die Hersteller von Bluetooth-Chips den Unterschied zwischen beiden Standards verwechseln. Einige Bluetooth 5-Chips unterst√ºtzen die f√ºnfte Version nur f√ºr LE und verwenden 4.2 f√ºr Classic. <br><br><h1>  Latenz der Audio√ºbertragung </h1>  Das Ausma√ü der Latenz (Verz√∂gerung) im Audio h√§ngt von vielen Faktoren ab: der Gr√∂√üe des Puffers in der Audiobibliothek, im Bluetooth-Stack und im Wiedergabeger√§t selbst, der algorithmischen Verz√∂gerung des Codecs. <br><br>  Die Verz√∂gerung einfacher Codecs wie SBC, aptX und aptX HD ist mit etwa 3 bis 6 ms recht gering, was vernachl√§ssigt werden kann. Komplexe Codecs wie AAC und LDAC k√∂nnen jedoch zu einer sp√ºrbaren Verz√∂gerung f√ºhren.  Die algorithmische Verz√∂gerung AAC f√ºr 44,1 kHz betr√§gt 60 ms.  LDAC - ca. 30 ms (durch grobe Analyse des Quellcodes. Ich kann mich irren, aber nicht viel.) <br><br>  Die Gesamtverz√∂gerung h√§ngt stark vom Wiedergabeger√§t, seinem Chipsatz und seinem Puffer ab.  W√§hrend der Tests habe ich auf verschiedenen Ger√§ten (mit dem SBC-Codec) einen Spread von 150 bis 250 ms erhalten.  Wenn wir davon ausgehen, dass Ger√§te mit Unterst√ºtzung f√ºr zus√§tzliche Codecs aptX, AAC und LDAC Komponenten mit besserer Qualit√§t und einer kleinen Puffergr√∂√üe verwenden, erhalten wir die folgenden typischen Latenzwerte: <br><br>  SBC: 150-250 ms <br>  aptX: 130-180 ms <br>  AAC: 190-240 ms <br>  LDAC: 160-210 ms <br><br>  Ich m√∂chte Sie daran erinnern: aptX Low Latency wird in Betriebssystemen nicht unterst√ºtzt, weshalb eine geringere Verz√∂gerung nur mit einem Sender + Empf√§nger oder Sender + Kopfh√∂rer / Lautsprecher-Paket erzielt werden kann und alle Ger√§te diesen Codec unterst√ºtzen m√ºssen. <br><br><br><h1>  Die Probleme mit Zertifizierungen, Logos und Ger√§ten </h1>  Wie kann man ein hochwertiges Audioger√§t von billigem Kunsthandwerk unterscheiden?  Durch das Aussehen an erster Stelle! <br><br>  G√ºnstige chinesische Kopfh√∂rer, Lautsprecher und Empf√§nger haben: <br><ol><li>  Kein "Bluetooth" -Wort auf der Box und dem Ger√§t, meistens ersetzt durch "Wireless" und "BT" </li><li>  Kein Bluetooth-Logo <img src="https://habrastorage.org/webt/qt/oi/0w/qtoi0wu5qzqnx7xzmgmqjdoijjk.png" alt="Bluetooth-Logo" height="32" width="32">  auf Box oder Ger√§t </li><li>  Keine blau blinkende LED </li></ol><br>  Das Fehlen dieser Elemente weist darauf hin, dass das Ger√§t nicht zertifiziert wurde, was bedeutet, dass es m√∂glicherweise problematisch oder von schlechter Qualit√§t ist.  Beispielsweise sind Bluedio-Kopfh√∂rer nicht √ºber Bluetooth zertifiziert und entsprechen nicht vollst√§ndig der A2DP-Spezifikation.  Sie h√§tten den Zertifizierungsprozess nicht bestanden. <br><br>  Schauen wir uns einige Ger√§te und Boxen an: <br> <a href=""><img src="https://habrastorage.org/webt/e4/qa/rr/e4qarrce8fcjv8wwu46aiyib3oa.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/ba/06/vb/ba06vbcolhpvuie2xlbgnvsycd0.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/mw/1b/t1/mw1bt1hp0cz11xuilzyz0a70dca.jpeg"></a> <br><br>  Dies sind alles nicht zertifizierte Ger√§te.  Die Anweisungen k√∂nnen das Logo und den Namen "Bluetooth" enthalten, aber am wichtigsten ist, dass diese Elemente auf dem Ger√§t oder der Box selbst vorhanden sein sollten. <br><br>  Wenn auf Ihren Kopfh√∂rern oder Lautsprechern "Ze Bluetooth Bluetooth ist erfolgreich verbunden" steht, sagt dies auch nichts √ºber die Qualit√§t aus: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/TOFbsbGpIWk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><br><h1>  Fazit </h1>  Kann Bluetooth kabelgebundene Kopfh√∂rer und Headsets vollst√§ndig ersetzen?  Wahrscheinlich, aber auf Kosten einer minderwertigen Sprache, einer erh√∂hten Latenz bei der Ton√ºbertragung, die in Spielen √§rgerlich sein kann, und einer Vielzahl von propriet√§ren Codecs, f√ºr die Lizenzgeb√ºhren erforderlich sind und die Endkosten f√ºr Smartphones und Kopfh√∂rer steigen. <br><br>  Die Vermarktung alternativer Codecs ist sehr stark: aptX und LDAC werden als lang erwarteter Ersatz f√ºr den ‚Äûveralteten und schlechten‚Äú SBC vorgestellt, der bei weitem nicht so schlecht ist, wie allgemein angenommen wird. <br><br>  Wie sich herausstellte, k√∂nnen die k√ºnstlichen Einschr√§nkungen von Bluetooth-Stacks auf SBC umgangen werden, sodass der SBC mit aptX HD auf Augenh√∂he ist.  Ich habe die Initiative ergriffen und einen Patch f√ºr die LineageOS-Firmware erstellt: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√Ñndern des Bluetooth-Stacks, um den Klang von Kopfh√∂rern ohne AAC-, aptX- und LDAC-Codecs zu verbessern</a> <br><br>  Weitere Informationen zu Codecs finden Sie auf den Websites von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SoundGuys</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SoundExpert</a> . <br><br>  <b>Bonus:</b> <a href="">SBC-Referenzcodierer, A2DP-Bitstream-Informationen und Testdateien</a> .  Diese Datei wurde zuvor √∂ffentlich auf der Bluetooth-Website ver√∂ffentlicht, ist jetzt jedoch nur f√ºr diejenigen verf√ºgbar, die Bluetooth SIG beigetreten sind. <br><br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de456182/">https://habr.com/ru/post/de456182/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de456170/index.html">So erstellen Sie eine Finanzanwendung: 5 APIs, die dem Entwickler helfen</a></li>
<li><a href="../de456172/index.html">Teil 2: RocketChip: RAM verbinden</a></li>
<li><a href="../de456174/index.html">Wie man als Student einen Hackathon organisiert 101. Teil Zwei</a></li>
<li><a href="../de456178/index.html">Android-Themen und -Stile ohne Magie. Und wie man sie mit SwitchCompat kocht</a></li>
<li><a href="../de456180/index.html">Wie habe ich meine erste Sicherheitsl√ºcke gefunden?</a></li>
<li><a href="../de456184/index.html">Software Defined Radio - wie funktioniert es? Teil 8</a></li>
<li><a href="../de456188/index.html">Token, Token aktualisieren und einen asynchronen Wrapper f√ºr eine REST-Anforderung erstellen</a></li>
<li><a href="../de456192/index.html">Von Monolithen zu Microservices: die Erfahrung von M.Video-Eldorado und MegaFon</a></li>
<li><a href="../de456194/index.html">Go Datenstrukturen Spickzettel</a></li>
<li><a href="../de456196/index.html">Grundlegende Missverst√§ndnisse √ºber SCRUM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>