<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè£ üë®‚Äçüé® ‚ö™Ô∏è Comment nous effectuons les tests de r√©gression de la paie dans SAP HCM üíè üå≥ üëßüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le moteur de paie de SAP HCM est un outil fiable et en m√™me temps flexible. Cet outil vous permet de prendre en compte les √©ventuelles exigences de la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment nous effectuons les tests de r√©gression de la paie dans SAP HCM</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/474770/">  Le moteur de paie de SAP HCM est un outil fiable et en m√™me temps flexible.  Cet outil vous permet de prendre en compte les √©ventuelles exigences de la l√©gislation et des r√©glementations locales en mati√®re de r√©mun√©ration des salari√©s.  Cependant, le revers de la m√©daille d'une telle polyvalence est la complexit√© et la forte sensibilit√© aux changements de param√®tres. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/c0/on/sg/c0onsgt9om9oa8z2-kbcbpsqumw.png"></div><a name="habracut"></a><br>  Par exemple, la figure ci-dessus montre une vue de la d√©finition d'une rubrique de salaire.  Un param√®tre ou une case √† cocher mal r√©gl√© entra√Ænera un calcul incorrect. <br><br>  De plus, le prix d'une erreur peut √™tre tr√®s √©lev√© tant en termes mon√©taires qu'en termes de r√©putation. <br><br>  Il convient √©galement de noter que l'erreur peut ne pas se produire imm√©diatement, mais seulement quelques mois apr√®s le calcul.  Dans ce cas, il peut √™tre n√©cessaire de recalculer les salaires sur plusieurs mois ou de cr√©er un sch√©ma de calcul correctif sp√©cial.  Ces deux sc√©narios sont extr√™mement chronophages et risqu√©s, ils ne peuvent donc √™tre consid√©r√©s qu'en dernier recours. <br><br>  D'o√π ces erreurs peuvent-elles provenir?  La fonctionnalit√© RH √©volue constamment, les exigences l√©gislatives et les exigences commerciales √©voluent.  Pour r√©pondre √† ces exigences, vous devez r√©guli√®rement apporter des modifications √† vos param√®tres SAP HCM.  Dans notre entreprise, toutes les modifications sont mises en ≈ìuvre dans les versions mensuelles.  Les mises √† jour standard de SAP sortent √©galement environ une fois par mois et sont install√©es avec la version. <br><br>  Les mises √† jour du fournisseur sont des packages contenant des notes avec des modifications de programmes et de param√®tres.  La figure montre la composition du Service Pack SAPK-60866INEAHRCRU, contenant quatre notes de paie pour la Russie. <br><br><img src="https://habrastorage.org/webt/wf/5x/jg/wf5xjgoy339lwyvpjb6piqiriii.png"><br><br>  L'installation de vos propres produits de d√©veloppement \ param√®tres et service packs standard peut modifier les param√®tres actuels et entra√Æner un fonctionnement incorrect du syst√®me. <br><br><h3>  Test de r√©gression </h3><br>  Comment puis-je confirmer que la fonctionnalit√© existante n'a pas √©t√© affect√©e par les mises √† jour SAP standard et mes propres nouveaux d√©veloppements / param√®tres? <br><br>  Vous pouvez bien s√ªr analyser tous les changements, toutes les notes standard.  Cr√©ez des exemples pour eux et effectuez des tests fonctionnels. <br><br>  Mais ici, il faut garder √† l'esprit que le nombre de notes peut √™tre des dizaines et qu'elles peuvent affecter la fonctionnalit√© qui l'accompagne.  Et si nous ajoutons √† cela la taille de notre entreprise (plus de 270 000 employ√©s sont calcul√©s dans SAP HR), le nombre de cas possibles d√©passera un montant raisonnable. <br><br>  Pour r√©soudre ce probl√®me, les employ√©s de notre d√©partement ¬´Business Applications SAP HR Management¬ª ont d√©velopp√© un m√©canisme de test de r√©gression des salaires. <br>  L'essence de ce m√©canisme est assez simple.  Tout d'abord, une norme est cr√©√©e - en calculant les salaires sur le syst√®me d'origine. <br><br>  Ensuite, des mises √† jour sont install√©es sur le syst√®me et un nouveau calcul de paie est effectu√©.  Les r√©sultats sont enregistr√©s en tant que donn√©es de version. <br><br>  Et √† la derni√®re √©tape, la norme est r√©concili√©e avec les donn√©es de version. <br>  Les tests ont lieu sur l'ensemble du volume des effectifs. <br>  Parlons maintenant de cela plus en d√©tail. <br><br>  Notre SAP HCM a un paysage classique √† 3 syst√®mes.  Un syst√®me de d√©veloppement (appelons-le HRD), un syst√®me de test (HRT) et un syst√®me productif (HRP).  Toutes les am√©liorations sont n√©cessairement test√©es en HRT, tandis que les caract√©ristiques techniques du syst√®me de test sont proches des caract√©ristiques du productif. <br><br>  Les tests de r√©gression sont divis√©s en √©tapes: <br><br><ul><li>  Pr√©paration du syst√®me HRT </li><li>  Pr√©paration des donn√©es de test </li><li>  Suppression de la norme </li><li>  Release release </li><li>  Rapprochement des r√©sultats </li></ul><br><h4>  Phase de pr√©paration du syst√®me de test HRT </h4><br>  √Ä ce stade, les sp√©cialistes de la base pr√©parent le syst√®me HRT.  HRT est restaur√© √† partir d'une sauvegarde d'un syst√®me productif √† une date sp√©cifique.  C'est-√†-dire  les donn√©es dans HRP et HRT deviennent les m√™mes. <br><br><h4>  Phase de pr√©paration des donn√©es de test </h4><br>  Malgr√© le fait que les donn√©es entre les syst√®mes de production et de test sont align√©es, les tests de paie doivent √™tre effectu√©s sur une p√©riode non encore calcul√©e.  Pour ce faire, pr√©parez les donn√©es de test: <br><br><ul><li>  G√©n√©ration d'horodatage </li></ul><br>  Puisque nous voulons calculer une nouvelle p√©riode, nous devons g√©n√©rer des horodatages pour les employ√©s qui sont enregistr√©s positivement.  Pour ce faire, √† l'aide du programme d√©velopp√©, des horodatages d'arriv√©e / de d√©part dans IT2011 sont g√©n√©r√©s √† partir de l'horaire de l'employ√© dans IT0007. <br><br><img src="https://habrastorage.org/webt/5z/-m/bw/5z-mbwnqewotvn2z0o7btebelri.png"><br><br><ul><li>  Maintenance des donn√©es IT0027 Partage des co√ªts </li></ul><br>  Pour les employ√©s qui sont enregistr√©s positivement, le partage des co√ªts 0027IT est rempli en copiant les donn√©es d'IT1018 √† l'aide d'un programme sp√©cialement con√ßu. <br><br><ul><li>  Gestion des donn√©es pour le calcul de l'acompte </li></ul><br>  Les donn√©es de test sont enti√®rement pr√©par√©es sur les effectifs affect√©s √† chaque unit√© de calcul.  Pour ce faire, remplissez IT267 Paiements hors cycle √† l'aide de la transaction HRUU0267. <br><br>  Pour calculer les vacances, les primes, les licenciements et divers types de cong√©s de maladie, des donn√©es de test sont cr√©√©es pour environ 20 employ√©s. <br><br>  Une fois toutes les donn√©es de test d√©marr√©es, la sauvegarde du syst√®me HRT est effectu√©e. <br><br><h4>  √âtape de suppression de la norme </h4><br>  Cette phase comprend: <br><br><ul><li>  √âvaluation du temps </li></ul><br>  Pour cela, une variante est cr√©√©e dans la transaction d'√©valuation du temps pt60, qui est ensuite utilis√©e dans le programme RPCS0000.  Le programme standard RPCS0000 est utilis√© pour ex√©cuter des √©valuations de temps en parall√®le par des groupes de groupes de personnel.  L'utilisation de RPCS0000 peut r√©duire consid√©rablement le temps d'√©valuation du temps. <br><br><img src="https://habrastorage.org/webt/xn/9q/ta/xn9qtavvl2droxpzjtudti9qgzo.png"><br><br><ul><li>  Enregistrement de la r√©f√©rence pour les r√©sultats de l'√©valuation du temps </li></ul><br>  Apr√®s avoir termin√© l'√©valuation du temps, il est n√©cessaire de sauvegarder le r√©sultat.  Pour ce faire, un programme sp√©cial a √©t√© cr√©√© qui stocke les r√©sultats de l'√©valuation (tableaux ZES et ZL) dans des fichiers texte: <br><br><img src="https://habrastorage.org/webt/jb/me/kr/jbmekrhqosu4qlbrlwt2fyef0cm.png"><br><br>  Un fragment du fichier standard d'√©valuation du temps cr√©√©: <br><br><img src="https://habrastorage.org/webt/7u/i2/e9/7ui2e9zzpztebhfzwvkzilwiztk.png"><br><br><ul><li>  Effectuer la paie (paiements r√©guliers et inter-r√®glements) </li></ul><br>  Les calculs sont effectu√©s par des moyens standard (programme HRCUCLACM et transaction PUST) sur l'ensemble du volume des effectifs. <br><br><ul><li>  Enregistrement des r√©sultats de calcul pour un rapprochement ult√©rieur </li></ul><br>  Pour ce faire, dans le rapport standard sur les rubriques PC00_M99_CWTR, nous sauvegardons l'option de visualisation du calcul n√©cessaire (r√©gulier ou inter-r√®glements).  Pour sauvegarder les donn√©es de calcul dans le syst√®me de d√©veloppement HRD, un programme utilisateur a √©t√© d√©velopp√©.  L'un des param√®tres d'entr√©e de ce programme est la version g√©n√©r√©e du rapport PC00_M99_CWTR: <br><br><img src="https://habrastorage.org/webt/sq/kf/as/sqkfasgh1zkdjo9eycdbb0wnioy.png"><br><br>  Apr√®s avoir √©labor√© ce programme dans le syst√®me de d√©veloppement HRD, les r√©sultats de r√©f√©rence du calcul de la paie seront enregistr√©s: <br><br><img src="https://habrastorage.org/webt/rm/1m/9m/rm1m9m0lzvcqs4hiot-goz9xoh4.png"><br><br><ul><li>  Publication </li></ul><br>  Dans le syst√®me de test HRT, une ex√©cution productive des √©critures vers le syst√®me financier de test est effectu√©e.  Apr√®s cela, √† l'aide d'un programme sp√©cialement con√ßu, les donn√©es de publication sont t√©l√©charg√©es dans le syst√®me de d√©veloppement de HRD comme r√©f√©rence pour une r√©conciliation future. <br><br><img src="https://habrastorage.org/webt/ly/wm/gn/lywmgnsdsxqcjij6vbpofzqecjc.png"><br><br>  Une fois ce programme termin√©, les r√©sultats de r√©f√©rence des affectations au syst√®me financier seront sauvegard√©s dans le syst√®me de d√©veloppement du DRH: <br><br><img src="https://habrastorage.org/webt/rr/la/ke/rrlakerjyhndywewkfioat8lzv8.png"><br><br><ul><li>  Formation de registres de transfert </li></ul><br>  Apr√®s avoir calcul√© le salaire, nous formons un registre de transfert.  En utilisant le programme utilisateur d√©velopp√©, ces registres sont √©galement stock√©s dans des fichiers texte comme r√©f√©rence. <br><br><img src="https://habrastorage.org/webt/bp/t6/dd/bpt6ddu8nigqa0vmolmd5bcrgue.png"><br><br>  Un fragment du fichier standard du registre des transferts de salaires: <br><br><img src="https://habrastorage.org/webt/uu/cn/_l/uucn_lpfuiz1mwp1u101acct5i4.png"><br><br><ul><li>  D√©claration fiscale </li></ul><br>  Les rapports fiscaux 6-NDFL et 2-NDFL sont g√©n√©r√©s √† l'aide des rapports standard RPCPAYRU_6NDFL et HRULNDFL, respectivement.  Pour les besoins de test, ils ont √©t√© √©tendus avec une logique pour stocker les r√©sultats dans des tableaux transparents.  Une fois la d√©claration fiscale g√©n√©r√©e dans un environnement de test, ces r√©sultats sont transf√©r√©s au syst√®me de d√©veloppement √† l'aide d'un programme utilisateur. <br><br><img src="https://habrastorage.org/webt/rc/ot/gr/rcotgr4lzj-jk9pnudc57copn40.png"><br><br>  Norme de donn√©es fiscales re√ßues: <br><br><img src="https://habrastorage.org/webt/nw/go/gq/nwgogqazzfq5akv025rays4_nbm.png"><br><br><h4>  Phase de publication </h4><br>  Une fois la norme supprim√©e, il est n√©cessaire de restaurer le syst√®me de test √† partir de la sauvegarde effectu√©e apr√®s l'√©tape de pr√©paration des donn√©es de test.  C'est-√†-dire  nous obtenons un syst√®me avec des donn√©es de test finies, mais sans calculs.  Toutes les mises √† jour sont install√©es sur ce syst√®me - d√©veloppements propri√©taires et service packs standard de SAP.  Apr√®s cela, les calculs de paie r√©guliers et inter-r√®glements, les √©critures et autres actions sont effectu√©s de mani√®re similaire aux actions au stade de la suppression de la norme. <br><br><h4>  √âtape de r√©conciliation </h4><br>  Apr√®s avoir supprim√© la norme et publi√©, le tour de l'√©tape de r√©conciliation arrive.  A ce stade <br>  nous comparons les donn√©es re√ßues avant d'installer les mises √† jour avec les donn√©es du syst√®me mis √† jour.  Et sur la base de l'analyse des √©carts, nous tirons des conclusions sur la pr√©sence d'erreurs dans les mises √† jour install√©es. <br><br><ul><li>  Rapprochement des r√©sultats de l'√©valuation du temps </li></ul><br>  Pour ce faire, nous lan√ßons le programme d'automatisation de la v√©rification des r√©sultats de calcul en mode "Comparaison standard et release".  En tant que param√®tre, nous indiquons le r√©pertoire dans lequel le fichier standard d'√©valuation du temps a √©t√© enregistr√©. <br><br><img src="https://habrastorage.org/webt/se/p0/lt/sep0lt04p7igob2-fxugf_1dpas.png"><br><br>  S'il existe une diff√©rence entre les donn√©es standard et de version, ce rapport l'affichera. <br><br><img src="https://habrastorage.org/webt/qb/zx/fy/qbzxfynypuauwem7z0wttbz386c.png"><br><br><ul><li>  Affichage du rapprochement </li></ul><br>  La publication des donn√©es de la version et de la r√©f√©rence est d√©j√† dans le syst√®me de d√©veloppement.  Pour la v√©rification, un rapport utilisateur est utilis√©, dans lequel nous indiquons les dates de sortie et la norme en tant que param√®tres: <br><br><img src="https://habrastorage.org/webt/ri/om/kh/riomkhx5betrvurxy04-oqfjvla.png"><br><br>  S'il existe une diff√©rence entre les donn√©es standard et de version, ce rapport l'affichera. <br><br><img src="https://habrastorage.org/webt/dv/to/wm/dvtowmgce5h0qc1dffa3kf6mxwe.png"><br><br><ul><li>  Rapprochement des d√©clarations fiscales </li></ul><br>  Les donn√©es avec les r√©sultats de la g√©n√©ration de rapports de 2-NDFL et 6-NDFL au stade de la suppression de l'√©talon et de la lib√©ration ont √©t√© transf√©r√©es au syst√®me de d√©veloppement HRD.  Un rapport utilisateur est utilis√© pour v√©rifier les donn√©es.  O√π les param√®tres d'entr√©e sont les dates de suppression de la version standard \ et l'utilisateur sous lequel ces suppressions ont eu lieu: <br><br><img src="https://habrastorage.org/webt/p2/4o/ev/p24oevfz0cnlj27juvzy6gczgbo.png"><br><br>  S'il y a des diff√©rences dans les donn√©es, elles sont affich√©es. <br><br><img src="https://habrastorage.org/webt/p8/fz/tl/p8fztloafhwrlgfanya96zsi9eq.png"><br><br><ul><li>  Rapprochement de la paie </li></ul><br>  Les donn√©es obtenues lors du calcul r√©gulier des salaires, avec divers inter-r√®glements dans le syst√®me de test au stade de l'√©laboration de la norme et de la version, ont √©t√© transf√©r√©es au syst√®me de d√©veloppement.  Maintenant, dans le syst√®me de d√©veloppement, il y a une v√©rification des donn√©es sur la norme et la version √† l'aide du programme utilisateur d√©velopp√©: <br><br><img src="https://habrastorage.org/webt/mi/kf/v7/mikfv7lxs5tk1lvc99bao4fr84k.png"><br><br>  Toutes les divergences re√ßues sont disponibles dans le rapport. <br><br><img src="https://habrastorage.org/webt/bf/bp/mk/bfbpmkrx2zwdmytsslfeefhvnuw.png"><br><br><ul><li>  Rapprochement des registres pour le transfert </li></ul><br>  Au stade de la publication de la version, des fichiers texte contenant des donn√©es de registre pour la liste ont √©t√© g√©n√©r√©s.  Nous comparons ces donn√©es de r√©f√©rence avec les registres de listage cr√©√©s apr√®s l'installation des mises √† jour. <br><br><img src="https://habrastorage.org/webt/ug/w9/on/ugw9onqpixpcoxvdodxg2ft9qo4.png"><br><br>  En cas de divergences, elles sont affich√©es dans le rapport. <br><br><img src="https://habrastorage.org/webt/pb/wx/x9/pbwxx92tha-y0nucxl9iuuiq1so.png"><br><br>  Toutes les divergences obtenues sont analys√©es par des sp√©cialistes du service d'assistance SAP HCM.  Si la raison de la divergence est des erreurs dans les param√®tres / conceptions, elles sont corrig√©es et test√©es lors de la prochaine it√©ration.  C'est-√†-dire  le syst√®me de test est √† nouveau restaur√© √† partir de la sauvegarde effectu√©e apr√®s l'√©tablissement des donn√©es de test, installez les mises √† jour avec des corrections de bogues et r√©p√©tez les √©tapes de suppression de la version et de la r√©conciliation. <br><br>  Cette approche permet de tester de tr√®s haute qualit√© un processus aussi critique que la paie et est utilis√©e non seulement lors du test des versions / mises √† jour mensuelles, mais √©galement dans les activit√©s de projet.  Ainsi, cette ann√©e seulement, il a √©t√© appliqu√© avec succ√®s sur deux grands projets - la r√©organisation des entit√©s juridiques et la mise √† jour du syst√®me SAP HCM au niveau d'am√©lioration 8. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr474770/">https://habr.com/ru/post/fr474770/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr474754/index.html">S√©curit√© PHP: o√π et comment stocker les mots de passe. Partie 1</a></li>
<li><a href="../fr474756/index.html">VMworld Europe 2019: annonces cl√©s et d√©ballage du l√©gendaire sac √† dos</a></li>
<li><a href="../fr474760/index.html">Nous fixons ngx-translate dans une application angulaire. Proc√©dure pratique</a></li>
<li><a href="../fr474762/index.html">S√©minaire: Solutions informatiques hybrides pour les entreprises. 14 novembre, Moscou</a></li>
<li><a href="../fr474768/index.html">Diffusion ouverte du Main Hall HighLoad ++ 2019</a></li>
<li><a href="../fr474772/index.html">Une startup qui a utilis√© l'IA pour d√©velopper un rem√®de en 21 jours</a></li>
<li><a href="../fr474776/index.html">Th√©orie g√©n√©rale et arch√©ologie de la virtualisation x86</a></li>
<li><a href="../fr474782/index.html">Pr√©sentation de la technologie de synth√®se vocale</a></li>
<li><a href="../fr474784/index.html">Arcade Stick Story</a></li>
<li><a href="../fr474788/index.html">Organisation d'itin√©raires √† Laravel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>