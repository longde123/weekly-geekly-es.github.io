<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèà üêõ üåÇ Formation Cisco 200-125 CCNA v3.0. Jour 47. D√©pannage OSPF üéã üî± „äôÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, nous allons poursuivre le sujet de la le√ßon pr√©c√©dente sur le protocole OSPF, qui est consacr√© √† la section 2.4 du sujet ICND2, et envisa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Formation Cisco 200-125 CCNA v3.0. Jour 47. D√©pannage OSPF</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466675/"> Aujourd'hui, nous allons poursuivre le sujet de la le√ßon pr√©c√©dente sur le protocole OSPF, qui est consacr√© √† la section 2.4 du sujet ICND2, et envisager l'√©limination des probl√®mes typiques de mise en ≈ìuvre de ce protocole.  Revenons √† l'exemple de Packet Tracer, avec lequel nous avons termin√© la derni√®re vid√©o.  Tout d'abord, je vais corriger la d√©signation du r√©seau entre les routeurs R1 et R5, il devrait y avoir une valeur diff√©rente ici - 10.1.1.0/24. <br><br><img src="https://habrastorage.org/webt/ch/r4/py/chr4pycliucnj36e164e4ndlpze.jpeg"><br><br>  Vous pouvez t√©l√©charger cet exemple √† partir du lien fourni dans le didacticiel vid√©o Jour 46, et si vous ne l'avez pas encore fait, vous pouvez le t√©l√©charger maintenant en tant que t√¢che de d√©pannage OSPF. <br>  La t√¢che est la suivante: PC0 doit envoyer une requ√™te ping √† PC1 et PC2, et les ordinateurs PC1 et PC2 doivent √™tre capables de s'ex√©cuter l'un l'autre. <a name="habracut"></a><br><br>  V√©rifions si le ping PC0 passe √† 192.168.3.10, je pense que cela ne devrait pas se produire.  En effet, nous avons re√ßu une r√©ponse de l'adresse 192.168.5.1 du routeur R5 que l'h√¥te de destination n'est pas disponible.  Un tel message signifie dans la plupart des cas que le routeur ne conna√Æt tout simplement pas l'itin√©raire requis, c'est-√†-dire que dans sa table de routage, il n'y a aucune information sur le r√©seau 192.168.3.0/24. <br><br>  V√©rifiez cela en utilisant la commande show ip route dans la console des param√®tres R5.  Comme vous pouvez le voir, il n'y a aucun enregistrement sur le r√©seau 192.168.3.0/24.  Le routeur utilisant le protocole OSPF, il "conna√Æt" les r√©seaux 1.1.1.1/32, 2.2.2.2/32, les quatri√®me et cinqui√®me r√©seaux auxquels il est directement connect√©.  Il est √©galement connect√© √† un r√©seau 10.1.1.0/24.  Peut-√™tre que ce routeur ne sait rien du r√©seau 3, car il n'est pas annonc√©. <br><br><img src="https://habrastorage.org/webt/pe/6s/-e/pe6s-e5jnfmoc6mkqu2kq0dqofw.jpeg"><br><br>  Entrons dans les param√®tres de R3 et entrez la commande show run |, o√π pipe - une ligne droite est utilis√©e pour entrer de tels filtres: begin affiche les lignes de configuration, √† partir de la ligne dans laquelle l'expression r√©guli√®re se produit - elle est entr√©e apr√®s le filtre, include montre les lignes qui contiennent les expressions r√©guli√®res sp√©cifi√©es et exclude afficheront toutes les lignes sauf celles qui ont une expression r√©guli√®re. <br><br>  Par exemple, je vais entrer le show run |  commencer le routeur, pour aller √† la section o√π commence la mention du mot routeur - c'est le routeur ospf 1. <br><br><img src="https://habrastorage.org/webt/y4/cq/xo/y4cqxogvdvipiywlpqkwtd5l2dq.jpeg"><br><br>  On voit que pour le routeur R3 le r√©seau "vert" 192.168.1.0 et le propre r√©seau du routeur 4.4.4.4 sont annonc√©s, cependant le r√©seau "marron" n'est pas repr√©sent√© dans cette liste.  C'est la raison pour laquelle le routeur R5 ne peut pas le trouver.  Pour r√©soudre ce probl√®me, nous allons passer en mode de param√®tres globaux R3 et entrer successivement les commandes du routeur ospf 1 et du r√©seau 192.168.3.0 0.0.0.255 zone 0. Apr√®s cela, le SPF doit √™tre recompt√©, et si vous entrez √† nouveau la commande show ip route dans les param√®tres R3, vous pouvez voir que maintenant le r√©seau 192.168.3.0/24 apparaissait dans la table de routage.  V√©rifiez ping, mais le r√©seau n'est toujours pas disponible.  Voyons comment se d√©place le trafic du routeur R3. <br><br>  Il passe par le routeur R1, entre dans le r√©seau "vert" et se bloque quelque part l√†-bas.  V√©rifions √† nouveau le routeur R3 avec la commande show ip route.  Il conna√Æt le r√©seau "brun" 192.168.3.0/24 et le r√©seau "vert" 192.168.1.0/24, mais ne conna√Æt rien du r√©seau "rose" 192.168.5.0/24.  Nous allons dans les param√®tres du routeur R5 et entrez la commande show run |  commencer le routeur. <br><br><img src="https://habrastorage.org/webt/qv/fa/11/qvfa11rckxpf8mbmp9lxkxzb_ta.jpeg"><br><br>  Nous voyons que ce routeur n'a pas annonc√© le r√©seau 192.168.5.0/24.  Par cons√©quent, nous allons dans les param√®tres de configuration globaux de R5 et entrons les commandes router ospf 1 et network 192.168.5.0 0.0.0.255 area 0. <br><br>  Je veux souligner un point important - ici, nous sp√©cifions le masque inverse, mais si vous entrez juste un masque de sous-r√©seau de 255.255.255.0, le syst√®me l'acceptera.  Cela est d√ª au fait qu'OSPF convertira toujours le masque direct √† l'oppos√© - cela peut √™tre vu si vous ex√©cutez √† nouveau la commande show run.  Comme vous pouvez le voir, 255.255.255.0 est devenu 0.0.0.255. <br><br><img src="https://habrastorage.org/webt/cl/ta/4h/clta4hrzhgdtm8w22xtldyq6bv8.jpeg"><br><br>  Cependant, il est pr√©f√©rable de vous habituer √† ne pas utiliser le masque de sous-r√©seau dans ce cas, mais √† saisir imm√©diatement le masque g√©n√©rique, car Cisco ne donne pas d'indications sur ce qui se passe.  Donc, si √† l'examen vous utilisez le masque de sous-r√©seau global au lieu du masque inverse, cela sera consid√©r√© comme une erreur. <br><br>  Nous avons donc introduit un nouveau r√©seau dans les param√®tres R5, et maintenant il est √©galement disponible pour le routeur R3 - une entr√©e est apparue dans sa table de routage que le r√©seau 192.168.5.0/24 est accessible via le p√©riph√©rique avec l'adresse IP 192.168.1.1.  Ping passe, et maintenant tout fonctionne comme il se doit. <br><br>  Maintenant, faisons de m√™me avec le r√©seau ¬´jaune¬ª 192.168.2.0/24.  Comme vous pouvez le voir, nous ne pouvons pas envoyer de ping de PC0 √† PC2 avec l'adresse IP 192.168.2.10.  Cela s'est produit parce que le r√©seau 192.168.2.0/24 n'est pas dans la table de routage du routeur R5. <br><br>  Nous allons dans la console CLI du routeur R2 et entrons la commande show ip route.  Nous pouvons conclure que d√®s que ping PC0 via R5 re√ßoit R2, il est rejet√© car R2 ne conna√Æt pas le r√©seau "jaune".  Par cons√©quent, nous revenons aux param√®tres R2, utilisez le show run |  commencer le routeur et nous voyons que le r√©seau 192.168.2.0/24 n'est pas annonc√©.  Par cons√©quent, j'entre les param√®tres de configuration globale de ce routeur et saisis la commande 192.168.2.0 0.0.0.255 zone 0, apr√®s quoi je v√©rifie √† nouveau le ping PC0 - PC2.  Comme vous pouvez le voir, maintenant tout a fonctionn√©. <br><br>  Revenons maintenant √† la prochaine partie de notre t√¢che - fournir ping PC1-PC2.  Allons √† la ligne de commande PC1 et ping 192.168.2.10 - le ping est r√©ussi. <br><br>  C'est une t√¢che tr√®s simple, mais elle vous aidera √† acqu√©rir des comp√©tences pratiques de configuration OSPF.  Si vous n'avez pas t√©l√©charg√© cet exemple de travaux de laboratoire pour la le√ßon ¬´Jour 46¬ª, vous pouvez le faire en allant dans la section Boutique de notre site Web en utilisant le lien sous cette vid√©o. <br><br><img src="https://habrastorage.org/webt/h9/2g/yp/h92gypsi-sh-boc5iuhmuceqdoa.jpeg"><br><br>  Nous allons maintenant passer √† la r√©solution du deuxi√®me probl√®me, dont vous voyez la topologie √† l'√©cran.  Vous pouvez √©galement t√©l√©charger cette configuration ¬´Jour 47¬ª pour Packet Tracer √† partir du lien sous cette vid√©o. <br><br><img src="https://habrastorage.org/webt/h5/wa/zb/h5wazbmf38akblmt-gsgb-t4ajc.jpeg"><br><br>  Dans ce laboratoire, nous devons configurer OSPF en utilisant plusieurs techniques que je vais vous expliquer.  Apr√®s cela, nous aurons un autre laboratoire pour d√©panner. <br><br>  Dans cet exemple de r√©seau, j'ai d√©j√† effectu√© les r√©glages initiaux en attribuant des adresses IP aux appareils.  La partie sup√©rieure gauche du r√©seau bleu du si√®ge social de l'entreprise est d√©sign√©e 192.168.1.0/27 et est repr√©sent√©e par les ordinateurs PC0, PC1, le commutateur SW0 et le routeur R1.  L'interface du routeur auquel ce r√©seau est connect√© a une adresse IP de 192.168.1.1, les ordinateurs ont respectivement les adresses 192.168.1.2 et 192.168.1.3. <br><br><img src="https://habrastorage.org/webt/th/7w/es/th7wesyku-gkps6fevzp6qhxg5a.jpeg"><br><br>  Le segment inf√©rieur avec l'ordinateur PC4, le commutateur SW3 et le routeur R1 appartient au r√©seau 192.168.1.32/27.  Gardez √† l'esprit que tous les r√©seaux ont la d√©signation / 27.  Le routeur 1 est connect√© √† PC4, donc l'adresse IP de l'interface correspondante du routeur est 192.168.1.33 et l'adresse IP du quatri√®me ordinateur est 192.168.1.34. <br><br><img src="https://habrastorage.org/webt/x_/7v/hu/x_7vhutzhvpeunl-egqmrdn4dfu.jpeg"><br><br>  Le ¬´r√©seau rose¬ª de la succursale n ¬∞ 1 de la soci√©t√© est d√©sign√© respectivement 192.168.1.64/27, l'adresse IP du routeur R2 sera 192.168.1.65 et celle de PC2 sera 192.168.1.66.  Le r√©seau "jaune" de la succursale n ¬∞ 2 de la soci√©t√© est d√©sign√© 192.168.1.96/27, respectivement, l'adresse IP du routeur R3 sera 192.168.1.97 et l'ordinateur PC3 sera 192.168.1.98. <br><br>  L'interface du routeur R1 auquel le routeur R2 est connect√© a une adresse IP de 10.1.12.1.  Maintenant, je vais ajouter les d√©signations des r√©seaux entre les routeurs, pour que vous compreniez. <br><br><img src="https://habrastorage.org/webt/j2/sx/8v/j2sx8vvnh99kv9jirfzrjrovpdk.jpeg"><br><br>  Nous ne consid√©rons pas l'adresse IP de l'interface du routeur auquel Internet est connect√©, car elle est fournie par le fournisseur et n'a pas besoin d'√™tre configur√©e, mais pour travailler dans Packet Tracer, nous supposons qu'il s'agit du 10.1.14.1.  Dans notre cas, Internet est un cluster de deux appareils - le fournisseur de routeur ISP et le serveur Google, entre lesquels se trouve un r√©seau 4.4.4.4/8 avec une adresse de passerelle 4.4.4.1. <br><br><img src="https://habrastorage.org/webt/-i/bo/_-/-ibo_-ofp3jx8wkxyjhhtbh1i_s.jpeg"><br><br>  L'interface du routeur ISP auquel R1 est connect√© a l'adresse 10.1.14.2.  Vous pouvez ignorer cette partie du r√©seau et le protocole utilis√© ici, nous supposerons que l'Internet ¬´sait¬ª comment atteindre le routeur R1. <br><br>  J'ai √©galement configur√© PAT pour le routeur R1, donc tout le trafic du r√©seau bleu envoy√© vers Internet sera fourni avec l'adresse IP 10.1.14.1.  Si vous oubliez ce qu'est le PAT, regardez la vid√©o o√π nous avons regard√© le NAT ¬´surcharg√©¬ª, ou la traduction d'adresse r√©seau. <br>  C‚Äôest tout ce que j‚Äôai pr√©configur√©, la configuration OSPF n‚Äôa pas fonctionn√©.  Voyons s'il est possible d'envoyer une requ√™te ping √† PC2 depuis PC0.  Il ne r√©ussira probablement pas, mais je vais essayer quand m√™me.  Comme vous pouvez le voir, le ping n'a pas r√©ussi, le syst√®me a √©mis un message indiquant que l'h√¥te de destination n'est pas accessible.  Cela signifie que le routeur ne conna√Æt pas l'itin√©raire vers l'adresse IP ping√©e. <br><br><img src="https://habrastorage.org/webt/zb/jw/vj/zbjwvjiapp-h_zdwn9pxyyj4nzq.jpeg"><br><br>  Cela peut √™tre v√©rifi√© en acc√©dant √† la console CLI de R1 et en tapant la commande show ip route.  Nous voyons que le r√©seau 192.168.1.64/27 n'est pas disponible, car il n'est pas dans la table de routage. <br><br><img src="https://habrastorage.org/webt/eq/qm/yn/eqqmynvjustvmtvdxrlbeinawn4.jpeg"><br><br>  Configurons OSPF sur ce routeur.  Nous passons en mode de configuration globale avec la commande config t (erminal) et saisissons les commandes router ospf 1 et network 10.1.12.0 0.0.0.3.  Comment avons-nous obtenu un tel masque invers√©? <br><br>  Je m'excuse pour l'erreur, nous n'avons pas le r√©seau / 255, j'avais en t√™te le masque de sous-r√©seau, alors maintenant je vais corriger la d√©signation du r√©seau entre R1 et R2 - cela ne devrait pas √™tre 10.1.12.0/255, mais juste l'adresse IP du r√©seau 10.1.12.0 et le masque de sous-r√©seau 255.255.255.252.  Maintenant, il est clair pourquoi le masque invers√© ressemble √† 0.0.0.3. <br><br><img src="https://habrastorage.org/webt/x2/sd/dj/x2sddjnqlslaas-wzgfcb4rmnkq.jpeg"><br><br>  A la fin de la commande, je tape zone 0 car nous avons une seule zone principale.  Maintenant, entre les routeurs R1 et R2, la communication OSPF est √©tablie. <br><br>  Une configuration similaire doit √™tre effectu√©e pour √©tablir la communication avec le routeur R3, donc j'entre la deuxi√®me commande - r√©seau 10.1.13.0 0.0.0.3 zone 0. La communication OSPF est maintenant configur√©e pour les deux routes: R1-R2 et R1-R3. <br><br>  Ensuite, vous devez configurer l'itin√©raire R1-SW0.  Pour ce faire, j'entre la commande network 192.168.1.0 0.0.0.31 zone 0. Pour communiquer avec le commutateur SW3, je peux utiliser la commande network 192.168.1.32 analogue ou agir diff√©remment.  Si vous regardez les adresses de ces r√©seaux, vous verrez qu'il s'agit d'une continuation d'un bloc d'adresses IP.  Si vous oubliez comment les sous-r√©seaux sont form√©s, je vous conseille de revoir le tutoriel vid√©o ¬´Jour 3¬ª une fois de plus.  Dans ce cas, je peux utiliser le supernet, c'est-√†-dire qu'au lieu de la commande network 192.168.1.0 0.0.0.31 area 0, utilisez la commande network 192.168.1.0 0.0.0.63 area 0, augmentant la valeur du dernier octet du masque inverse.  Cela permettra √† OSPF d'√™tre appliqu√© aux deux sous-r√©seaux - R1-SW0 et R1-SW3 avec une seule commande pour un supernet. <br><br>  Passons aux param√®tres du routeur R2 et faisons de m√™me, en entrant s√©quentiellement les commandes config t, router ospf 1, network 192.168.1.64 0.0.0.31 area 0 et network 10.1.12.0 0.0.0.3 area 0. <br>  Ensuite, passons aux param√®tres R3 et faisons de m√™me, en utilisant la s√©quence de commandes config t, router ospf 1, network 192.168.1.96 0.0.0.31 area 0 et network 10.1.13.0 0.0.0.3 area 0. <br>  Vous pouvez voir que l'√©tat du quartier est pass√© de Loading √† Full, les tables de routage ont √©t√© mises √† jour et les p√©riph√©riques sont pr√™ts √† fonctionner √† l'aide du protocole OSPF.  V√©rifions cela avec la commande show ip ospf voisins - comme vous pouvez le voir, le voisinage avec le routeur R1 est √©tabli.  Passons maintenant √† ce routeur et v√©rifions ce qui s'est pass√©.  Le routeur R1 a √©tabli le voisinage avec deux routeurs, R2 et R3. <br><br>  Essayons de faire un ping sur PC2 √† partir de PC0 - le ping de l'adresse IP 192.168.1.66 a r√©ussi.  Nous ex√©cutons √©galement une commande ping sur l'ordinateur PC3 au 192.168.1.98 sans aucun probl√®me. <br><br>  J'ai dit plus t√¥t que le serveur Internet de Google avait l'adresse 4.4.4.4.  Apr√®s avoir essay√© de le cingler √† partir de PC0, nous obtenons un message indiquant que l'h√¥te de destination n'est pas disponible.  Cela signifie que le routeur R1 dans sa table de routage n'a aucune information sur la fa√ßon d'atteindre cette adresse. <br><br><img src="https://habrastorage.org/webt/kb/xh/yy/kbxhyyak6dfcbzs1-z_p3u_u898.jpeg"><br><br>  Par cons√©quent, ce routeur rejettera tous les paquets envoy√©s √† Internet.  Cela est d√ª au fait que nous n'avons pas configur√© la passerelle Gateway of last Resort.  Pour r√©soudre ce probl√®me, je configure la route standard et saisis la commande ip route 0.0.0.0 0.0.0.0 s√©rie 0/2/0.  Cela signifie que les paquets adress√©s √† Internet √† des adresses qui ne figurent pas dans la table de routage seront envoy√©s le long de cette route via l'interface s√©rie du routeur 0/2/0 auquel le r√©seau externe est connect√©.  Vous ne pouvez pas faire attention au message du syst√®me que cette connexion n'est pas une connexion point √† point, ce n'est pas le cas, juste selon les r√®gles, je devrais sp√©cifier une adresse IP au lieu d'une interface.  Mais dans notre cas, cela n'a pas d'importance, tout fonctionnera de cette fa√ßon.  Comme vous pouvez le voir, apr√®s avoir termin√© cette configuration, PC0 envoie une requ√™te ping au serveur en 4.4.4.4. <br><br>  Le trafic va au routeur et il d√©cide comme ceci: "dans ma table de routage il n'y a pas d'adresse de destination sp√©cifi√©e ici, donc je dois diriger ce trafic directement vers Internet".  Nous avons v√©rifi√© le trafic PC0 et nous allons maintenant d√©couvrir comment se d√©roule le trafic PC2.  Comme vous pouvez le voir, le ping 4.4.4.4 √©choue - l'h√¥te de destination n'est pas disponible.  Cela signifie qu'il n'y a pas d'entr√©e correspondante dans la table de routage R2.  Si vous utilisez la commande show ip route, vous pouvez v√©rifier qu'il n'y a aucune mention de 4.4.4.4 dans le tableau.  Nous avons configur√© manuellement le routeur R1 pour interagir avec Internet, mais pour R2, nous n'avons pas effectu√© une configuration similaire. <br><br>  Il existe 2 fa√ßons de r√©soudre ce probl√®me.  La premi√®re consiste √† entrer dans les param√®tres du routeur et √† faire de m√™me que pour R1.  Dans ce cas, nous n'avons que deux routeurs, et la configuration manuelle de l'itin√©raire statique ne causera pas beaucoup de d√©sagr√©ments, mais votre bureau peut avoir des centaines de tels appareils.  M√™me si vous configurez le routage statique, les choses peuvent changer demain et la route statique cr√©√©e ne fonctionnera pas.  Par cons√©quent, vous devez utiliser des param√®tres dynamiques.  C'est pourquoi un protocole de routage dynamique tel que OSPF est utilis√©. <br><br>  La configuration du routage dynamique est la suivante.  En mode de configuration globale R1, la commande route ospf 1 est entr√©e, apr√®s quoi des invites apparaissent en mode sous-commande.  Il existe une commande telle que default-information.  Il est utilis√© pour contr√¥ler la pr√©sentation des informations par d√©faut. <br><br><img src="https://habrastorage.org/webt/im/77/jw/im77jwp4jcdouoql0p_psp_xwic.jpeg"><br><br>  Nous entrons la commande show ip route et voyons un message syst√®me indiquant que la derni√®re passerelle de file d'attente que nous avons configur√©e statiquement est 0.0.0.0 pour le r√©seau 0.0.0.0.  Au bas de la table de routage, nous voyons S *.  Un ast√©risque signifie qu'il s'agit du candidat par d√©faut et que S est une route statique.  Ainsi, 0.0.0.0/0 via le port 0/2/0 est la route statique par d√©faut.  Si nous avons un tel itin√©raire, nous pouvons entrer la commande default-information?, Apr√®s quoi le syst√®me affichera un message du formulaire originate Distribuer un itin√©raire par d√©faut. <br><br><img src="https://habrastorage.org/webt/rh/6y/jf/rh6yjfgecdcl2lzmbcrfldrsz88.jpeg"><br><br>  Vous pouvez ensuite utiliser la commande origin-information par d√©faut, c'est-√†-dire utiliser cette route par d√©faut pour tous les p√©riph√©riques r√©seau OSPF.  Si vous tapez √† nouveau la commande show ip route, vous pouvez voir que nous avons maintenant la passerelle vers la derni√®re file d'attente 10.1.12.1 pour le r√©seau 0.0.0.0. <br><br><img src="https://habrastorage.org/webt/ba/g9/o6/bag9o6bujg3dvxwidaaurg1skkm.jpeg"><br><br>  Cela signifie que tous les appareils du r√©seau peuvent d√©sormais envoyer leur trafic vers Internet via le routeur R1.  Comme vous pouvez le voir, je n'ai effectu√© aucun r√©glage manuel, OSPF a tout fait pour moi.  √Ä la fin de la table de routage se trouve la ligne O * E2 - la lettre "O" signifie OSPF, "ast√©risque" est le param√®tre par d√©faut, E2 est l'OSPF externe du deuxi√®me type.  Si vous acc√©dez aux param√®tres du routeur R3, vous pouvez voir que la passerelle de la derni√®re file d'attente 10.1.13.1 y est √©galement install√©e et que tous les autres param√®tres sont automatiquement d√©finis. <br><br><img src="https://habrastorage.org/webt/u3/gz/pb/u3gzpbgxra9c5guoxuexxmrbyj0.jpeg"><br><br>  Si vous ex√©cutez maintenant la commande 4.4.4.4 depuis PC2, tout fonctionnera.  Pensez-vous que le routeur R2 peut envoyer une requ√™te ping √† cette adresse? <br><br>  Bien s√ªr que non, et cela est d√ª √† l'utilisation de PAT.  Nous avons une liste d'acc√®s √† la liste d'acc√®s qui autorise uniquement le trafic 192.168.0.0 0.0.255.255.  Cela signifie que tout trafic provenant d'appareils situ√©s sur le r√©seau 192.168 suivra le PAT et l'adresse IP 10.1.14.1. <br><br><img src="https://habrastorage.org/webt/7a/pe/ax/7apeaxe6u61rr9s4jmcjbuae148.jpeg"><br><br>  Si vous lancez la commande ping du routeur R2, quelle adresse IP fera office de source de demande?  Ce sera probablement l'adresse 10.1.12.2, car l'adresse IP du routeur R2 n'est pas dans la liste d'acc√®s NAT.  Le ping de cette adresse atteindra le routeur du FAI, il le transmettra au destinataire 4.4.4.4, et le serveur Google enverra une r√©ponse √† la m√™me adresse √† partir de laquelle il a re√ßu la demande, c'est-√†-dire 10.1.12.2.  Cependant, la table de routage du routeur ISP ne contient aucune information sur 10.1.12.2, car il s'agit d'une adresse IP priv√©e situ√©e sur le r√©seau interne.  Il ne conna√Æt que l'adresse 10.1.14.0, car il est connect√© directement √† l'appareil avec cette adresse.  Voici comment fonctionne PAT - cette adresse est associ√©e √† tous les appareils du r√©seau, et si 10.1.14.0 est sp√©cifi√©, alors tout fonctionnera, mais si vous utilisez une adresse IP diff√©rente, la communication deviendra impossible.  Pour r√©soudre ce probl√®me, vous devez entrer dans les param√®tres R1 et ajouter la liste d'acc√®s √† l'adresse 10.1.12.0.  Je veux vous montrer encore une chose et pour cela j'entre la commande show ip route dans les param√®tres R2. <br><br><img src="https://habrastorage.org/webt/9y/g_/hc/9yg_hcx6c-gvia5kp3mf7xhlftm.jpeg"><br><br>  Veuillez noter que 2 routes - 192.168.1.0/27 et 192.168.1.32/27 - ont exactement les m√™mes param√®tres.  Autrement dit, malgr√© le fait que nous ayons utilis√© un super-r√©seau en additionnant deux sous-r√©seaux, chacun d'eux est mis √† jour dans la table de routage.  Imaginez que dans votre zone bleue, pas 2, mais une centaine de r√©seaux.  Dans ce cas, tous les appareils ex√©cuteront l'algorithme SPF dans la m√™me zone, et 100 entr√©es appara√Ætront dans la table de routage, occupant beaucoup d'espace malgr√© le fait qu'elles d√©crivent presque le m√™me itin√©raire.  Cependant, en tant qu'administrateur r√©seau, vous devriez souhaiter que le routeur fasse le moins de travail inutile possible. <br><br>  Les informations sont mises √† jour car, contrairement au RIP, OSPF n'utilise pas la synth√®se automatique des itin√©raires, cr√©ant toujours des itin√©raires individuels pour chaque p√©riph√©rique r√©seau.  Une fa√ßon de r√©soudre ce probl√®me est le multizonage.  Au cours des trois derni√®res le√ßons, nous avons pens√© que tous les appareils sont situ√©s dans une zone de r√©seau f√©d√©rateur z√©ro.  Cependant, si nous cr√©ons plusieurs zones, le routeur R1 devient un p√©riph√©rique de bordure, d'un c√¥t√© duquel il y a z√©ro, et de l'autre - toutes les autres zones du r√©seau.  L'utilisation du routeur Edge ABR vous permet de r√©sumer les itin√©raires.  Dans ce cas, le routeur fronti√®re enverra une route r√©capitulative √† tous les routeurs participant au processus OSPF.  Dans la vid√©o suivante, nous verrons la cr√©ation de plusieurs zones de routage OSPF, pour l'instant je donne juste la raison pour laquelle il est conseill√© de le faire. <br><br>  La deuxi√®me raison est la suivante.  J'entre la commande show ip ospf dans les param√®tres du routeur R2, et dans la description des param√®tres apparue, vous voyez la mention de l'algorithme SPF. <br><br><img src="https://habrastorage.org/webt/-7/4i/wv/-74iwvc5x1ovqvrs6ygbm0glffc.jpeg"><br><br>  Toute modification de la base de donn√©es de routes LSDB signifie que la topologie du r√©seau a chang√©.  Dans ce cas, l'algorithme SPF recalcule tous les itin√©raires disponibles pour vous assurer que chacun des itin√©raires s√©lectionn√©s est le meilleur.  Vous pouvez utiliser l'analogie avec la nouvelle autoroute, ce qui rend inutile l'utilisation des anciennes routes.  Ainsi, √† chaque changement de LSDB, OSPF ex√©cute un algorithme qui recompte les routes et remplit √† nouveau la table de routage. <br><br>     ,   SPF   5 .        ,     .   ,   SW0   SW3.    R1    . <br><br><img src="https://habrastorage.org/webt/1k/vi/jg/1kvijguvm-16rzd6trkh0xmu5qm.jpeg"><br><br>      ,         192.168.1.0/27.   R1    LSA     ,         ,     R2. ,   . <br><br>      R2    show ip route.   ,  SPF-   6 .   ,           .  ,          ,      .   SPF-.     LSDB  ,       .       100  200 ,      ,    . <br><br>     ,   SW0   R1.  , SPF-         7. <br><br>              ,       .      ,    .     2 :  ¬´¬ª   ¬´¬ª,   ABR ‚Äì     0   1,      ,     .  R2     ,      0,        R1.  ,       , SPF-  R2   . <br>  2  ,         OSPF.     ,    . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/NcgyEplA85I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?  Soutenez-nous en passant une commande ou en le recommandant √† vos amis, une <b>r√©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entr√©e de gamme que nous avons invent√©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la v√©rit√© sur VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbit / s 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV √† partir de 199 $</a> aux Pays-Bas!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - √† partir de 99 $!</b></b>  En savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fa√ßon de construire une infrastructure</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466675/">https://habr.com/ru/post/fr466675/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466665/index.html">D√©bordement CSS et perte de donn√©es</a></li>
<li><a href="../fr466667/index.html">Le condens√© de mati√®res fra√Æches du monde du front-end de la derni√®re semaine n ¬∞ 379 (2 - 8 septembre 2019)</a></li>
<li><a href="../fr466669/index.html">Tesla d√©veloppe des batteries capables de parcourir 1,6 million de kilom√®tres sans remplacement</a></li>
<li><a href="../fr466671/index.html">PHP Digest n ¬∞ 164 (27 ao√ªt - 9 septembre 2019)</a></li>
<li><a href="../fr466673/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 46. V√©rification des performances OSPF</a></li>
<li><a href="../fr466677/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 48. Multizone OSPF</a></li>
<li><a href="../fr466679/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 49. Introduction √† l'EIGRP</a></li>
<li><a href="../fr466681/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 50. Configuration de l'EIGRP</a></li>
<li><a href="../fr466683/index.html">√âv√©nements num√©riques √† Moscou du 9 au 15 septembre</a></li>
<li><a href="../fr466685/index.html">Voir l'argent</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>