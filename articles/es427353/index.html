<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôéüèø ü•ã ‚úàÔ∏è Show de drones: c√≥mo coordinamos un enjambre de helic√≥pteros bailando üë®‚Äçüë¶‚Äçüë¶ üè´ üë•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Los hoteles y parques de atracciones necesitan espect√°culos de drones. Los artistas y los fuegos artificiales son buenos, pero no suficientes. Necesit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Show de drones: c√≥mo coordinamos un enjambre de helic√≥pteros bailando</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/croc/blog/427353/"><img src="https://habrastorage.org/webt/hb/ki/xb/hbkixbhtdlt1swl7mzg6qwvzi0w.jpeg"><br><br>  Los hoteles y parques de atracciones necesitan espect√°culos de drones.  Los artistas y los fuegos artificiales son buenos, pero no suficientes.  Necesitas encontrar algo brillante para los invitados.  Un espect√°culo de drones es solo eso.  Participamos en el proyecto de organizar espect√°culos regulares de drones para un parque de atracciones extranjero. <br><br>  Y ahora sabemos c√≥mo hacer los mismos espect√°culos en Rusia. <br><br>  Cuando se trata de un enjambre de 300 o 1,000 veh√≠culos en la flota, la precisi√≥n de posicionamiento (es decir, la ubicaci√≥n de cada dron individual en relaci√≥n con el suelo y entre s√≠) no juega un papel especial.  Esta es una masa apresurada, donde las part√≠culas est√°n a una distancia de varios metros entre s√≠.  Masa muy cara.  M√°s o menos el medidor no importa aqu√≠: lo toman por el hecho de que el espectador est√° lejos y por el hecho de que realmente hay muchos drones.  Incluso si se caen un par de piezas, est√° bien.  Pero los hoteles y parques, organizadores de eventos no a gran escala, por ejemplo, necesitan drones en la cantidad de 20 a 90 piezas, y aqu√≠ el posicionamiento es cr√≠tico. <br><br>  En este caso, solo puede tomar precisi√≥n y sincronismo.  Resolvimos este problema. <br><a name="habracut"></a><br><h3>  Por qu√© y c√≥mo fue todo </h3><br>  CROC tiene una divisi√≥n de rob√≥tica.  Surgi√≥ en 2012 y se dedica a varias cosas interesantes, pero su direcci√≥n principal es el control de UAV.  Estamos cortando nuestros propios softinks para controlar drones y resolver tareas no est√°ndar.  Los participantes en la competencia de 2013 pueden conocer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este c√≥digo</a> en el github, que desarrollamos y usamos para controlar el dron en la competencia de drones voladores.  En ese momento, est√°bamos resolviendo una nueva tarea para el mercado: hacer que el dron se congelara en el lugar correcto, evitando cuidadosamente las esquinas y los obst√°culos.  Hoy esto parece rid√≠culo. <br><br>  Adem√°s, estamos realizando proyectos de gesti√≥n de UAV basados ‚Äã‚Äãen el software del proveedor, incluido el software SPH Engineering.  Tienen una estaci√≥n terrestre de software UgCS y un centro de comando completo para gran dronoflot.  UgCS puede controlar un gran grupo de veh√≠culos no tripulados, lo que lo distingue de las estaciones de control de tierra convencionales.  Por administraci√≥n nos referimos a planificar una ruta de vuelo, por ejemplo, para operaciones de rescate o volar alrededor de un per√≠metro de seguridad, enviar comandos remotos y monitorear el estado de los veh√≠culos.  De hecho, para espect√°culos de drones, se necesitan aproximadamente las mismas funciones que en el centro de comando.  Y ahora, sobre la base de la plataforma UgCS, apareci√≥ el software Drone Dance Controller altamente especializado, pero esto no fue inmediato. <br><br><h3>  Y como fue </h3><br>  <b>Suave</b>  La primera versi√≥n, que mi compa√±ero y yo probamos en poco tiempo, us√≥ la funcionalidad est√°ndar de la mayor√≠a de los drones civiles, es decir, volar a lo largo de una ruta determinada.  Una ruta es un conjunto de coordenadas entre las cuales un dron se mueve en l√≠nea recta a una velocidad dada, haciendo algo √∫til a lo largo del camino.  Para la mayor√≠a de las tareas resueltas por drones, tal planificaci√≥n de vuelo es m√°s que suficiente.  Pero al menos no hay sincronizaci√≥n de tiempo, es decir, es dif√≠cil hacer que el dron est√© en un punto dado en el momento correcto, lo cual es cr√≠tico para un vuelo grupal.  Sin embargo, la primera versi√≥n es la primera versi√≥n, para construirla r√°pidamente y comenzar a volar.  Dibujamos rutas de la manera est√°ndar (en UgCS, por supuesto), cargamos en drones y avanzamos. <br><br><img src="https://habrastorage.org/webt/ml/nt/d4/mlntd4ahitavl7gjqo3tom6zv2o.jpeg"><br><br>  La sincronizaci√≥n de vuelo se realiz√≥, como se esperaba, en la frente.  En las rutas de los drones, se identificaron puntos donde el avi√≥n no tripulado se detuvo y esper√≥ una orden desde tierra para continuar el vuelo.  Los llamamos puntos de sincronizaci√≥n.  El operador en tierra ten√≠a que asegurarse de que todos los drones llegaran a los puntos de sincronizaci√≥n y enviarles el comando "Continuar" para continuar el vuelo. <br><br>  <b>Hierro</b>  La primera versi√≥n usaba solo rutas de tipo est√°ndar y, como resultado, permit√≠a el uso de drones de diferentes fabricantes.  Pero inmediatamente decidimos arreglar la plataforma objetivo y realizar todas las pruebas en ella. <br><br>  No hab√≠a drones listos para el show en ese momento.  No est√°n en el momento de escribir, pero hay esperanza de que aparezcan pronto.  Mientras tanto, debes recogerlo t√∫ mismo.  Los ensamblamos sobre la base de un marco de 450 mm, y elegimos el Pixhawk de c√≥digo abierto como piloto autom√°tico, por un lado, para desatar nuestras manos, tanto en hardware como en firmware.  Y, por otro lado, para que los usuarios puedan comprar f√°cilmente todos los componentes necesarios y ensamblar el producto adecuado por su cuenta.  Pero en general, solo el piloto autom√°tico est√° estrictamente arreglado.  Otros elementos estructurales son opcionales. <br><br>  Y un punto importante: inmediatamente comenzamos a centrarnos en la tecnolog√≠a GPS RTK.  Le permite lograr una precisi√≥n de posicionamiento en cent√≠metros con respecto a la estaci√≥n base terrestre (precisi√≥n de GPS convencional de m√°s de 3 metros). <br><br>  S√≠, GPS RTK complica todo, ya que requiere la disponibilidad de receptores con soporte GPS RTK a bordo de cada dispositivo, al que debe enviar constantemente datos desde una estaci√≥n terrestre.  Pero no hab√≠a nada que hacer: entendimos que nosotros y nuestros clientes no llegar√≠amos de inmediato a grandes flotas.  Con cientos y miles de drones en el aire, puedes dibujar hermosas figuras volum√©tricas a gran escala en las que la posici√≥n de cada dron no es muy cr√≠tica para el ojo.  ¬øY qu√© se puede dibujar con docenas de drones?  Lo m√°s probable es que se trate de peque√±as figuras geom√©tricas simples y sus transformaciones, para lo cual la precisi√≥n del vuelo es absolutamente cr√≠tica.  En t√©rminos generales, los drones deber√≠an poder alinearse en l√≠nea recta, agradables a la vista y sin defectos. <br><br>  Adem√°s, los drones en Atlanta llevan LEDs RGB.  Su trabajo puede incorporarse a la misi√≥n o pueden controlarse desde el suelo, pero al mismo tiempo, debe tenerse en cuenta la carga adicional en el canal de radio.  Sin embargo, en lugar de LED, el dron puede transportar piezas pirot√©cnicas, aunque, por supuesto, debes tener mucho cuidado con ellas. <br><br>  Aqu√≠ hay un ejemplo de uno de los primeros vuelos en la primera versi√≥n de hardware y software (y solo con pirotecnia).  Las l√≠neas normales tambi√©n son claramente visibles (bueno, ok, ok. Todav√≠a hab√≠a algo en lo que trabajar) y sincronizaci√≥n manual.  Es decir, aproximadamente 40-50 veces durante el espect√°culo, el operador hizo clic en "Vamos m√°s all√°", y luego el siguiente equipo fue enviado a los drones a todos. <br><br>  Pero algo sucedi√≥ ya volando. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/G5Ra4vBVyL8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Por lo tanto, el cliente vol√≥ fuera de la temporada de espect√°culos diarios. <br><br><h3>  Como funciona ahora </h3><br>  En la pr√°ctica, se esperaba que la primera versi√≥n no fuera la soluci√≥n m√°s exitosa.  En primer lugar, la presencia de sincronizaci√≥n manual constante es malvada.  Es posible que el comando Continuar no llegue al dron debido, por ejemplo, a comunicaciones de radio deficientes.  En este caso, todos se ir√°n volando, y √©l, el pobre, permanecer√°.  En segundo lugar, es imposible crear rutas complejas, lo que impide la creaci√≥n de pinturas animadas, solo son posibles las escenas est√°ticas. <br><br>  Ahora todo se ha vuelto m√°s f√°cil: hace aproximadamente medio a√±o, el vendedor lanz√≥ una versi√≥n especial del software: Drone Dance Controller, por ejemplo.  Aqu√≠ conjur√≥ un poco sobre el piloto autom√°tico y le ense√±√≥ a volar de manera aut√≥noma a lo largo de trayectorias arbitrarias con una clara referencia al tiempo GPS.  Las trayectorias se pueden preparar en un editor 3D o usando scripts.  El operador ahora debe hacer clic en el bot√≥n "Inicio" y dejar de fumar.  La salida puede ser algo como esto: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/LlzcwvD3VtQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  O esto: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SUL4SGHtkQw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Pero, antes de estropear los pulmones, el equipo necesita completar la etapa crucial de preparaci√≥n para el espect√°culo. <br>  Entonces, antes que nada, es necesario preparar la flota: aseg√∫rese de que todos los drones est√©n en un estado letal, est√©n configurados correctamente y que no se les haya ca√≠do nada durante el transporte. <br><br>  Paralelamente a esto, el espect√°culo en s√≠ debe estar preparado.  Comenzamos con la animaci√≥n que se puede hacer en un editor 3D, por ejemplo, en Blender: <br><br><img src="https://habrastorage.org/webt/h-/4a/ea/h-4aeaoaolo7sq_irnxscgqr8ru.png"><br><br>  A continuaci√≥n, convertimos las trayectorias de la animaci√≥n a un formato que sea comprensible para el piloto autom√°tico.  Y, antes de partir para volar al campo, verificamos cuidadosamente los simuladores con una evaluaci√≥n del resultado.  La simulaci√≥n nos da la oportunidad de colocar drones virtuales en las coordenadas necesarias y trabajar con ellos en nuestro software como con dispositivos reales.  Puede evaluar su vuelo en tiempo real, as√≠ como procesar sus movimientos y visualizar el resultado en alg√∫n tipo de escena 3D. <br><br>  En video: un ejemplo de visualizaci√≥n desde diferentes puntos de vista. <br><br>  Punto de vista: Visor <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SmjWVEa7rew" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Punto de vista: plataforma de lanzamiento <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/swGcBAO5Duw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Punto de vista 1 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/QyGKieB9H8k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Punto de vista 2 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/R5CIPX7GIR8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Despu√©s de eso, vamos al campo para realizar pruebas.  Implementamos la infraestructura (estaci√≥n terrestre, comunicaciones), organizamos drones.  Verificamos que se transportaron bien y que todos los drones se conectan a nuestra estaci√≥n.  Adem√°s, el software determina autom√°ticamente qu√© dron en qu√© ruta debe volar.  Establecemos la hora de inicio y hacia adelante. <br><br>  Y luego, y el espect√°culo en s√≠. <br><br>  Por supuesto, sobre "dejar de fumar", fue una broma.  Porque directamente durante el vuelo, el operador y los observadores deben monitorear el estado actual de la flota y, si es necesario, tomar una decisi√≥n sobre el aterrizaje de emergencia de drones fallidos (en todos los sentidos). <br><br>  Por supuesto, hay una serie de limitaciones. <br><br>  Clima: no volamos bajo la lluvia y la nieve (por ahora), y no nos gustan los vientos superiores a 5 m / s.  Est√° claro que el dron volar√° a 10 m / s, pero la precisi√≥n de mantener la posici√≥n puede no ser muy buena. <br><br>  El aire debe ser relativamente libre a las frecuencias utilizadas para comunicarse con drones. <br><br>  Seguridad: los espectadores deben moverse a cierta distancia del lugar del espect√°culo, porque los drones, en general, pueden caerse. <br><br>  Todo esto debe tenerse en cuenta al planificar. <br><br><h3>  Total </h3><br>  Puede recoger un enjambre de drones, comprar el software UgCS, obtener recomendaciones de nosotros y comenzar a volar.  Si ya tienes una cierta competencia en la cr√≠a de drones, entonces todo ni siquiera ser√° muy dif√≠cil.  Conozco a los muchachos que criaron la prueba de baile para 20 drones 24 horas despu√©s de adquirir una licencia y recomendaciones para implementar software (aunque ya ten√≠an una flota).  Si no hay competencia, pero desea hacer tales espect√°culos, entonces nuestros ingenieros pueden implementar dicho proyecto, capacitar a sus especialistas en todo y continuar apoy√°ndolo.  Si solo necesita volar de un espect√°culo de una sola vez, tambi√©n escriba, lo discutiremos. <br><br><h3>  Referencias </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Software UgCS.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sobre la competencia de drones (resultados)</a> </li><li>  Mi correo es ALevandovskiy@croc.ru </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es427353/">https://habr.com/ru/post/es427353/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es427343/index.html">VK Mobile Challenge 2018</a></li>
<li><a href="../es427345/index.html">Problemas de la escritura moderna de textos matem√°ticos.</a></li>
<li><a href="../es427347/index.html">Migraci√≥n a Google Cloud Platform (Google Cloud Platform - GCP)</a></li>
<li><a href="../es427349/index.html">Programador para la nueva familia tinyAVR basada en el convertidor chino CH340 barato</a></li>
<li><a href="../es427351/index.html">Semana de la seguridad 40: Vulnerabilidades en CMS Drupal y m√°s</a></li>
<li><a href="../es427355/index.html">Compilaci√≥n de CJM, habilidades clave de director de arte y comprensi√≥n del usuario</a></li>
<li><a href="../es427357/index.html">Escribiendo sombreadores en Unity. GrabPass, PerRendererData</a></li>
<li><a href="../es427359/index.html">C√≥mo ECS, C # Job System y SRP cambian la arquitectura</a></li>
<li><a href="../es427361/index.html">Caracter√≠sticas del filtrado de ventanas en FPGA</a></li>
<li><a href="../es427363/index.html">Implementaci√≥n de LoRaWAN en una empresa agr√≠cola. Todo sobre construcci√≥n, lanzamiento y soluciones.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>