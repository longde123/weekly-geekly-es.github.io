<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“¡ ğŸ“– ğŸ¥› Samba DCä½œä¸ºWindows 2012R2 ADåŸŸä¸­çš„ç¬¬äºŒä¸ªæ§åˆ¶å™¨ä»¥åŠWindowså’ŒLinuxä¸Šå®¢æˆ·ç«¯çš„æ¼«æ¸¸æ–‡ä»¶å¤¹ ğŸ¥ƒ ğŸ•¸ï¸ ğŸ”</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘é©¬ä¸Šå°±æ„è¯†åˆ°è‡ªå·±åœ¨è¿›å£å•†å“ä¸­çš„åœ°ä½ã€‚ åªæœ‰å½“æ–°çš„PCä¾›åº”å¼€å§‹ç¨³å®šåœ°ä»ä¸Šçº§ç»„ç»‡ï¼ˆå¸¦æœ‰Alt Linuxå‘è¡Œç‰ˆï¼‰è¿æŠµæ—¶ï¼Œæˆ‘æ‰æ€€ç–‘æœ‰äº›ä¸å¯¹åŠ²ã€‚ 

 ä½†æ˜¯ï¼Œåœ¨æ¥å—ä¸å¯é¿å…çš„é˜¶æ®µçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‚ä¸è¿›æ¥ï¼Œç”šè‡³å¼€å§‹ç•¥å¾®äº«å—è¿™ä¸€è¿‡ç¨‹ã€‚ åœ¨æŸä¸ªæ—¶å€™ï¼Œæˆ‘è®¤ä¸ºï¼Œä»¥è¿™æ ·çš„é€Ÿåº¦ï¼Œè¿Ÿæ—©æˆ‘å°†ä¸å¾—ä¸æ”¾å¼ƒç»„ç»‡Microsoftç›®å½•...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Samba DCä½œä¸ºWindows 2012R2 ADåŸŸä¸­çš„ç¬¬äºŒä¸ªæ§åˆ¶å™¨ä»¥åŠWindowså’ŒLinuxä¸Šå®¢æˆ·ç«¯çš„æ¼«æ¸¸æ–‡ä»¶å¤¹</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450572/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/q7/qz/gi/q7qzgibifknfegmdk3ffls-fik0.jpeg" alt="å›¾ç‰‡"></div><br> æˆ‘é©¬ä¸Šå°±æ„è¯†åˆ°è‡ªå·±åœ¨è¿›å£å•†å“ä¸­çš„åœ°ä½ã€‚ åªæœ‰å½“æ–°çš„PCä¾›åº”å¼€å§‹ç¨³å®šåœ°ä»ä¸Šçº§ç»„ç»‡ï¼ˆå¸¦æœ‰Alt Linuxå‘è¡Œç‰ˆï¼‰è¿æŠµæ—¶ï¼Œæˆ‘æ‰æ€€ç–‘æœ‰äº›ä¸å¯¹åŠ²ã€‚ <br><br> ä½†æ˜¯ï¼Œåœ¨æ¥å—ä¸å¯é¿å…çš„é˜¶æ®µçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‚ä¸è¿›æ¥ï¼Œç”šè‡³å¼€å§‹ç•¥å¾®äº«å—è¿™ä¸€è¿‡ç¨‹ã€‚ åœ¨æŸä¸ªæ—¶å€™ï¼Œæˆ‘è®¤ä¸ºï¼Œä»¥è¿™æ ·çš„é€Ÿåº¦ï¼Œè¿Ÿæ—©æˆ‘å°†ä¸å¾—ä¸æ”¾å¼ƒç»„ç»‡Microsoftç›®å½•æœåŠ¡çš„å†³å®šï¼Œè€Œæœç€æ›´å…·å¼‚å›½æƒ…è°ƒçš„æ–¹å‘å‘å±•ã€‚ å› æ­¤ï¼Œä¸ºäº†æå‰ä¸ºä¸å¯é¿å…çš„æƒ…å†µåšå‡†å¤‡ï¼Œå¹¶åœ¨å¯èƒ½çš„æƒ…å†µä¸‹æ•æ‰æ›´å¤šçš„é™·é˜±ï¼Œå†³å®šéƒ¨ç½²ä¸€ä¸ªæµ‹è¯•å°ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š <br><br><ul><li>  DC1-Windows Server 2012R2 </li><li>  DC2-Alt Server 8.2 </li><li> æ–‡ä»¶æœåŠ¡å™¨-Windows Server 2012R2 </li><li>  PC1-Windows 7 </li><li>  PC2-Alt Workstation 8.2 </li></ul><a name="habracut"></a><br><h4> å±•ä½çš„ä»»åŠ¡ï¼š </h4><br><ol><li>éƒ¨ç½²åŸºäºw2k12r2çš„åŸŸã€‚ åˆ›å»ºä¸€ç»„æœ€å°‘çš„ç»„ç­–ç•¥ï¼ˆç±»ä¼¼äºåœ¨å·¥ä½œåŸºç¡€ç»“æ„ä¸­ä½¿ç”¨çš„ç»„ç­–ç•¥ï¼‰ï¼ŒåŒ…æ‹¬ç”¨äºä¼ è¾“ç”¨æˆ·å·¥ä½œæ–‡ä»¶å¤¹ï¼ˆä¸‹è½½/æ–‡æ¡£/æ¡Œé¢ï¼‰çš„ç­–ç•¥ã€‚ æœ€åï¼Œæˆ‘å¸Œæœ›å½“ç”¨æˆ·å°†å·¥ä½œåœºæ‰€ä»Windowsæ›´æ”¹ä¸ºLinuxæ—¶ï¼ˆåä¹‹äº¦ç„¶ï¼‰ï¼Œä»–å¯ä»¥è½»æ¾è®¿é—®å…¶å·¥ä½œæ–‡æ¡£ã€‚ </li><li> ç”±ç¬¬äºŒä¸ªæ§åˆ¶å™¨è¾“å…¥Samba DCã€‚ æ£€æŸ¥ç›®å½•æœåŠ¡å’ŒDNSå¤åˆ¶ </li><li> ä½¿ç”¨æ¼«æ¸¸æ–‡ä»¶å¤¹é…ç½®Linuxå®¢æˆ·ç«¯ </li></ol><br><h4> å®ç°æ–¹å¼ï¼š </h4><br><ol><li>  <b>å®‰è£…å¹¶è¾“å…¥æ–°çš„æ§åˆ¶å™¨</b> <br><br> é€šè¿‡å®‰è£…MS Windows 2012R2ï¼Œä¸€åˆ‡å˜å¾—ç®€å•ä¸”ä¸å¤ªæ¸…æ™°ã€‚ åœ¨äº’è”ç½‘ä¸Šï¼Œæœ‰ä¸€ä¸ª1001æ‰‹å†Œï¼Œç”¨äºåŒæ—¶ä½¿ç”¨GUIå’ŒPowershellåœ¨Windowsä¸Šéƒ¨ç½²åŸŸï¼Œå› æ­¤ä¸å†èµ˜è¿°ï¼Œæˆ‘åªä¿ç•™ä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é“¾æ¥</a> ã€‚ å¥½å¥‡è€…å’Œæƒ³è¦åˆ·æ–°è®°å¿†çš„äººçš„æ–‡æ¡£ã€‚ <br><br> ä½†æ˜¯ï¼Œæœ¬æ®µæœ‰ä¸€ä¸ªé‡è¦çš„è§‚ç‚¹ã€‚ è¿„ä»Šä¸ºæ­¢ï¼ŒSambaæ— æ³•ä½¿ç”¨2008R2ä»¥ä¸Šçš„ç›®å½•æ–¹æ¡ˆã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">æ‰°æµæ¿æ–¹å‘</b> <div class="spoiler_text"> ç›¸åï¼Œæ­¤æ”¯æŒçš„å¼€å‘äººå‘˜è¢«å®£å¸ƒä¸ºè¯•éªŒæ€§çš„ã€‚ ä½†æ˜¯å®é™…ä¸Šï¼Œå°è¯•ä½¿ç”¨æ–¹æ¡ˆ69å°†sambaä½œä¸ºç¬¬äºŒä¸ªDCè¾“å…¥åˆ°ç°æœ‰WindowsåŸŸä¸­ä¼šé‡åˆ°ä»¥ä¸‹é”™è¯¯ <br><blockquote>  DsAddEntryå¤±è´¥ï¼ŒçŠ¶æ€ä¸ºWERR_ACCESS_DENIEDä¿¡æ¯ï¼ˆ8567ï¼Œâ€œ WERR_DS_INCOMPATIBLE_VERSIONâ€ï¼‰ </blockquote><br></div></div><br> é—®é¢˜åœ¨äºï¼ŒWindows 2012å’Œ2012R2ä½¿ç”¨WMIå·¥å…·æ¥å¤„ç†åŸŸå’Œæ—ï¼Œä»…åœ¨Sambaç‰ˆæœ¬4.11ä¸­å®£å¸ƒäº†å¯¹å®ƒçš„ç¨³å®šæ”¯æŒï¼Œè¯¥ç‰ˆæœ¬å°†äºä»Šå¹´å¹´åº•å‘å¸ƒã€‚ <br> å› æ­¤ï¼Œå°†sambaå¼•å…¥éƒ¨ç½²åœ¨2012R2æœåŠ¡å™¨ä¸Šçš„ADåŸŸçš„å”¯ä¸€é€‰æ‹©æ˜¯å°†æ–¹æ¡ˆä»69é™ä½åˆ°47ã€‚å½“ç„¶ï¼Œåœ¨æ²¡æœ‰å……åˆ†ç†ç”±çš„æƒ…å†µä¸‹ï¼Œè¿™å¯¹äºå·¥ä½œçš„åŸºç¡€ç»“æ„æ¥è¯´ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é‡Œæœ‰ä¸€ä¸ªæµ‹è¯•å¹³å°ï¼Œæ‰€ä»¥ä¸ºä»€ä¹ˆå…¶å®ä¸æ˜¯ã€‚ <br><br> æˆ‘ä»¬æ”¾ç½®äº†Alt Server 8.2ã€‚ åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼Œé€‰æ‹©é…ç½®æ–‡ä»¶â€œ Samba-DCæœåŠ¡å™¨ï¼ˆADæ§åˆ¶å™¨ï¼‰â€ã€‚ åœ¨éƒ¨ç½²çš„æœåŠ¡å™¨ä¸Šï¼Œæˆ‘ä»¬è¿›è¡Œäº†å®Œæ•´çš„ç³»ç»Ÿæ›´æ–°ï¼Œå¹¶å®‰è£…äº†task-samba-dcè½¯ä»¶åŒ…ï¼Œå®ƒå°†æå–æ‚¨æ‰€éœ€çš„ä¸€åˆ‡ <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt-get install task-samba-dc</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">å¦‚æœtask-samba-dcçªç„¶è¿åäº†æ–‡æ¡£çš„ä¿è¯ï¼Œåˆ™Altaæ‹’ç»å®‰è£…æ‰€æœ‰å¿…è¦çš„å·¥å…·ã€‚</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt-get install python-module-samba-DC samba-DC-common samba-DC-winbind-clients samba-DC-winbind samba-DC-common-libs libpytalloc-devel</span></span></code> </pre> <br></div></div><br> æ¥ä¸‹æ¥ï¼Œç»§ç»­é…ç½®Kerberoså¹¶æ¥æ”¶ç¥¨è¯ã€‚ æ‰“å¼€krb5.confæ–‡ä»¶ï¼Œè½¬åˆ°[libdefaults]éƒ¨åˆ†ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºä»¥ä¸‹æ ¼å¼ï¼š <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># vim /etc/krb5.conf</span></span></code> </pre> <br><pre> <code class="bash hljs"> dns_lookup_kdc = <span class="hljs-literal"><span class="hljs-literal">true</span></span> dns_lookup_realm = <span class="hljs-literal"><span class="hljs-literal">true</span></span> default_realm = TEST.LOCAL</code> </pre> <br> ç´¢å–é—¨ç¥¨ <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># kinit administrator Password for administrator@TEST.LOCAL:</span></span></code> </pre> <br> æ£€æŸ¥æ”¶åˆ°çš„Kerberosç¥¨è¯çš„åˆ—è¡¨ <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># klist Ticket cache: KEYRING:persistent:0:0 Default principal: administrator@TEST.LOCAL Valid starting Expires Service principal 16.05.2019 11:51:38 16.05.2019 21:51:38 krbtgt/TEST.LOCAL@TEST.LOCAL renew until 23.05.2019 11:51:35</span></span></code> </pre> <br> ç°åœ¨åˆ é™¤æˆ–é‡å‘½åç°æœ‰çš„sambaé…ç½®ã€‚ <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># mv smb.conf smb.conf.bak1</span></span></code> </pre> <br> æœ€åï¼Œæˆ‘ä»¬å°†ç¬¬äºŒä¸ªæ§åˆ¶å™¨è¾“å…¥ADåŸŸï¼š <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># samba-tool domain join test.local DC -U"TEST\administrator"</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">æˆåŠŸè¾“å…¥åå°†æ˜¾ç¤ºä»¥ä¸‹æ—¥å¿—</b> <div class="spoiler_text"><pre> <code class="bash hljs">Finding a writeable DC <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> domain <span class="hljs-string"><span class="hljs-string">'test.local'</span></span> Found DC DC1.TEST.LOCAL Password <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> [TEST\administrator]: Reconnecting to naming master e31d7da6-8f56-4420-8473-80f2b3a31338._msdcs.TEST. LOCAL DNS name of new naming master is DC1.TEST.LOCAL workgroup is TEST realm is TEST.LOCAL Adding CN=DC2,OU=Domain Controllers,DC=TEST,DC=LOCAL Adding CN=DC2,CN=Servers,CN=Default-First-Site-Name,CN=Sites,CN=Configuration,DC =TEST,DC=LOCAL Adding CN=NTDS Settings,CN=DC2,CN=Servers,CN=Default-First-Site-Name,CN=Sites,CN =Configuration,DC=TEST,DC=LOCAL Adding SPNs to CN=DC2,OU=Domain Controllers,DC=TEST,DC=LOCAL Setting account password <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> DC2$ Enabling account Calling bare provision Looking up IPv4 addresses Looking up IPv6 addresses No IPv6 address will be assigned Setting up share.ldb Setting up secrets.ldb Setting up the registry Setting up the privileges database Setting up idmap db Setting up SAM db Setting up sam.ldb partitions and settings Setting up sam.ldb rootDSE Pre-loading the Samba 4 and AD schema A Kerberos configuration suitable <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Samba AD has been generated at /var/lib/sa mba/private/krb5.conf Provision OK <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> domain DN DC=TEST,DC=LOCAL Starting replication Schema-DN[CN=Schema,CN=Configuration,DC=TEST,DC=LOCAL] objects[402/1426] linked _values[0/0] Schema-DN[CN=Schema,CN=Configuration,DC=TEST,DC=LOCAL] objects[804/1426] linked _values[0/0] Schema-DN[CN=Schema,CN=Configuration,DC=TEST,DC=LOCAL] objects[1206/1426] linke d_values[0/0] Schema-DN[CN=Schema,CN=Configuration,DC=TEST,DC=LOCAL] objects[1608/1426] linke d_values[0/0] Schema-DN[CN=Schema,CN=Configuration,DC=TEST,DC=LOCAL] objects[1743/1426] linke d_values[0/0] Analyze and apply schema objects Partition[CN=Configuration,DC=TEST,DC=LOCAL] objects[402/2240] linked_values[0/ 24] Partition[CN=Configuration,DC=TEST,DC=LOCAL] objects[804/2240] linked_values[0/ 24] Partition[CN=Configuration,DC=TEST,DC=LOCAL] objects[1206/2240] linked_values[0 /24] Partition[CN=Configuration,DC=TEST,DC=LOCAL] objects[1608/2240] linked_values[0 /24] Partition[CN=Configuration,DC=TEST,DC=LOCAL] objects[1772/2240] linked_values[2 4/24] Replicating critical objects from the base DN of the domain Partition[DC=TEST,DC=LOCAL] objects[109/110] linked_values[26/29] Partition[DC=TEST,DC=LOCAL] objects[394/5008] linked_values[29/29] Done with always replicated NC (base, config, schema) Replicating DC=DomainDnsZones,DC=TEST,DC=LOCAL Partition[DC=DomainDnsZones,DC=TEST,DC=LOCAL] objects[42/42] linked_values[0/0] Replicating DC=ForestDnsZones,DC=TEST,DC=LOCAL Partition[DC=ForestDnsZones,DC=TEST,DC=LOCAL] objects[20/20] linked_values[0/0] Exop on[CN=RID Manager$,CN=System,DC=TEST,DC=LOCAL] objects[3] linked_values[0] Committing SAM database Adding 1 remote DNS records <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> DC2.TEST.LOCAL Adding DNS A record DC2.TEST.LOCAL <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> IPv4 IP: 192.168.90.201 Adding DNS CNAME record 6ff1df40-cbb5-41f0-b7b3-53a27dde8edf._msdcs.TEST.LOCAL <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> DC2.TEST.LOCAL All other DNS records (like _ldap SRV records) will be created samba_dnsupdate on first startup Replicating new DNS records <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> DC=DomainDnsZones,DC=TEST,DC=LOCAL Partition[DC=DomainDnsZones,DC=TEST,DC=LOCAL] objects[1/42] linked_values[0/0] Replicating new DNS records <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> DC=ForestDnsZones,DC=TEST,DC=LOCAL Partition[DC=ForestDnsZones,DC=TEST,DC=LOCAL] objects[1/20] linked_values[0/0] Sending DsReplicaUpdateRefs <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> all the replicated partitions Setting isSynchronized and dsServiceName Setting up secrets database Joined domain TEST (SID S-1-5-21-3959064270-1572045903-2556826204) as a DC</code> </pre> <br></div></div><br> æœ‰å…³TEST.LOCALåŸŸä¸­æ–°DCçš„è®°å½•åº”å‡ºç°åœ¨ADUCç®¡ç†å•å…ƒä¸­ï¼Œè€Œå¯¹åº”äºDC2çš„æ–°Aè®°å½•åº”å‡ºç°åœ¨DNSç®¡ç†å™¨ä¸­ã€‚ </li><li>  <b>æ§åˆ¶å™¨ä¹‹é—´çš„å¤åˆ¶</b> <br><br> é¦–å…ˆï¼Œè¯·æŸ¥çœ‹ç›®å½•å¤åˆ¶æœåŠ¡ï¼ˆDRSï¼‰ <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># samba-tool drs showrepl</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">è¾“å‡ºä¸­çš„æ‰€æœ‰å¤åˆ¶å°è¯•éƒ½å¿…é¡»æˆåŠŸã€‚</b>  <b class="spoiler_title">åœ¨KCCå¯¹è±¡åˆ—è¡¨ä¸­ï¼Œè¾“å…¥å15åˆ†é’Ÿå†…ï¼ŒWindowsä¸Šçš„DC1åº”è¯¥ä¼šå‡ºç°</b> <div class="spoiler_text"><pre> <code class="bash hljs">Default-First-Site-Name\DC2 DSA Options: 0x00000001 DSA object GUID: 0e9f5bce-ff59-401e-bdbd-fc69df3fc6bf DSA invocationId: 017997b5-d718-41d7-a3f3-e57ab5151b5c ==== INBOUND NEIGHBORS ==== DC=ForestDnsZones,DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> Default-First-Site-Name\DC1 via RPC DSA object GUID: 60fb339d-efa3-4585-a42d-04974e6601b7 Last attempt @ Mon May 27 12:56:31 2019 MSK was successful 0 consecutive failure(s). Last success @ Mon May 27 12:56:31 2019 MSK DC=DomainDnsZones,DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> Default-First-Site-Name\DC1 via RPC DSA object GUID: 60fb339d-efa3-4585-a42d-04974e6601b7 Last attempt @ Mon May 27 12:56:32 2019 MSK was successful 0 consecutive failure(s). Last success @ Mon May 27 12:56:32 2019 MSK CN=Schema,CN=Configuration,DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> Default-First-Site-Name\DC1 via RPC DSA object GUID: 60fb339d-efa3-4585-a42d-04974e6601b7 Last attempt @ Mon May 27 12:56:32 2019 MSK was successful 0 consecutive failure(s). Last success @ Mon May 27 12:56:32 2019 MSK DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> Default-First-Site-Name\DC1 via RPC DSA object GUID: 60fb339d-efa3-4585-a42d-04974e6601b7 Last attempt @ Mon May 27 12:56:32 2019 MSK was successful 0 consecutive failure(s). Last success @ Mon May 27 12:56:32 2019 MSK CN=Configuration,DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> Default-First-Site-Name\DC1 via RPC DSA object GUID: 60fb339d-efa3-4585-a42d-04974e6601b7 Last attempt @ Mon May 27 12:56:33 2019 MSK was successful 0 consecutive failure(s). Last success @ Mon May 27 12:56:33 2019 MSK ==== OUTBOUND NEIGHBORS ==== DC=ForestDnsZones,DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> Default-First-Site-Name\DC1 via RPC DSA object GUID: 60fb339d-efa3-4585-a42d-04974e6601b7 Last attempt @ Thu May 23 16:40:03 2019 MSK was successful 0 consecutive failure(s). Last success @ Thu May 23 16:40:03 2019 MSK DC=DomainDnsZones,DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> Default-First-Site-Name\DC1 via RPC DSA object GUID: 60fb339d-efa3-4585-a42d-04974e6601b7 Last attempt @ Thu May 23 16:40:03 2019 MSK was successful 0 consecutive failure(s). Last success @ Thu May 23 16:40:03 2019 MSK CN=Schema,CN=Configuration,DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> Default-First-Site-Name\DC1 via RPC DSA object GUID: 60fb339d-efa3-4585-a42d-04974e6601b7 Last attempt @ Thu May 23 16:40:08 2019 MSK was successful 0 consecutive failure(s). Last success @ Thu May 23 16:40:08 2019 MSK DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> Default-First-Site-Name\DC1 via RPC DSA object GUID: 60fb339d-efa3-4585-a42d-04974e6601b7 Last attempt @ Thu May 23 16:40:08 2019 MSK was successful 0 consecutive failure(s). Last success @ Thu May 23 16:40:08 2019 MSK CN=Configuration,DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> Default-First-Site-Name\DC1 via RPC DSA object GUID: 60fb339d-efa3-4585-a42d-04974e6601b7 Last attempt @ Mon May 27 12:12:17 2019 MSK was successful 0 consecutive failure(s). Last success @ Mon May 27 12:12:17 2019 MSK ==== KCC CONNECTION OBJECTS ==== Connection -- Connection name: 6d2652b3-e723-4af7-a19f-1ee48915753c Enabled : TRUE Server DNS name : DC1.test.local Server DN name : CN=NTDS Settings,CN=DC1,CN=Servers,CN=Default-First-Site-Name,CN=Sites,CN=Configuration,DC=<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>,DC=<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> TransportType: RPC options: 0x00000001 Warning: No NC replicated <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Connection!</code> </pre> <br></div></div><br> è­¦å‘Š<i>â€œæ²¡æœ‰ä¸ºè¿æ¥å¤åˆ¶ä»»ä½•NCï¼â€</i> å¯ä»¥å®‰å…¨åœ°å¿½ç•¥ã€‚ ç”±äºä»¥ä¸‹äº‹å®è€Œå‡ºç°ï¼šæ³¨å†Œæ–°çš„DCæ—¶ï¼Œsambaé”™è¯¯åœ°è®¾ç½®äº†ä¸€äº›å¤åˆ¶æ ‡å¿—ã€‚ <br><br> æ£€æŸ¥LDAPå¤åˆ¶ä¹Ÿæ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚ <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># samba-tool ldapcmp ldap://dc1.test.local ldap://dc2.test.local -Uadministrator</span></span></code> </pre> <br> ä¸Šé¢çš„å‘½ä»¤å°†æ¯”è¾ƒDC1å’ŒDC2ä¸Šæ•´ä¸ªç›®å½•å¯¹è±¡çš„å±æ€§å€¼ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">æˆåŠŸçš„å¤åˆ¶ç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="bash hljs">* Comparing [DOMAIN] context... * Objects to be compared: 249 * Result <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> [DOMAIN]: SUCCESS * Comparing [CONFIGURATION] context... * Objects to be compared: 1750 * Result <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> [CONFIGURATION]: SUCCESS * Comparing [SCHEMA] context... * Objects to be compared: 1739 * Result <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> [SCHEMA]: SUCCESS * Comparing [DNSDOMAIN] context... * Objects to be compared: 42 * Result <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> [DNSDOMAIN]: SUCCESS * Comparing [DNSFOREST] context... * Objects to be compared: 20 * Result <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> [DNSFOREST]: SUCCESS</code> </pre> </div></div><br> åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸åŒæ§åˆ¶å™¨ä¸Šå¯¹è±¡çš„å±æ€§å¯èƒ½ä¸åŒï¼Œå¹¶ä¸”å‘½ä»¤çš„è¾“å‡ºå°†ä½¿æ‚¨çŸ¥é“å®ƒã€‚ ä½†æ˜¯ï¼Œå¹¶éåœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½è¡¨æ˜å­˜åœ¨å¤åˆ¶é—®é¢˜ã€‚ <br><br> ä¸‹ä¸€æ­¥æ˜¯æ‰‹åŠ¨é…ç½®SysVolç›®å½•çš„ç¨³å®šå¤åˆ¶ã€‚ <br> äº‹å®æ˜¯sambaå°šä¸æ”¯æŒDFS-Rï¼Œå› ä¸ºå®ƒä¸æ”¯æŒæ—©æœŸçš„FRSã€‚ å› æ­¤ï¼Œå¯¹äºDC Sambaå’ŒWindowsä¹‹é—´çš„å¤åˆ¶ï¼Œå½“ä»Šå”¯ä¸€å¯è¡Œçš„è§£â€‹â€‹å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Windows Server 2003 Resource Kit Toolsä¸­</a>çš„<i>Robocopy</i>å®ç”¨ç¨‹åºè¿›è¡Œå•å‘å¤åˆ¶ã€‚ <br><br> ä¸ºäº†é¿å…å…¼å®¹æ€§é—®é¢˜ï¼ŒSambaå¼€å‘äººå‘˜å»ºè®®å…ˆå°†å®ç”¨å·¥å…·åŒ…å®‰è£…åœ¨å¸¸è§„å·¥ä½œç«™ä¸Šï¼Œç„¶åå°†Robocopyå¤åˆ¶åˆ°æ–‡ä»¶å¤¹â€œ Cï¼š\ Program Filesï¼ˆx86ï¼‰\ Windows Resource Kits \ Tools \â€ä¸­çš„æ§åˆ¶å™¨ä¸­ã€‚ <br><br> å®‰è£…åï¼Œåœ¨Windowsæ§åˆ¶å™¨ä¸Šçš„ä»»åŠ¡è®¡åˆ’ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å‚æ•°åˆ›å»ºè¦å¤åˆ¶çš„ä»»åŠ¡ï¼š <br><br>  -ä¸ºæ‰€æœ‰ç”¨æˆ·æ‰§è¡Œ <br>  -è§¦å‘æ¯å¤©æ‰§è¡Œä¸€æ¬¡ï¼Œæ¯5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ <br>  -åœ¨æ“ä½œä¸­ï¼Œæˆ‘ä»¬æŒ‡å®šäº†robocopyå®ç”¨ç¨‹åºçš„è·¯å¾„ï¼Œæˆ‘ä»¬å°†å…¶æŒ‡å®šä¸ºå‚æ•°ï¼š <br><br><pre> <code class="xml hljs">\\DC1\SYSVOL\test.local\ \\DC2\SYSVOL\test.local\ /mir /sec</code> </pre> <br> åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œè¯·å°†SysVolç›®å½•çš„å†…å®¹ä»DC1å¤åˆ¶åˆ°DC2ã€‚ <br></li><li>  <b>ä½¿ç”¨pam_mounté…ç½®çš„å¯ç§»æ¤ç”¨æˆ·æ–‡ä»¶å¤¹</b> <br><br> ä»ç»éªŒä¸Šè®²ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸¤ä¸ªå¯è¡Œçš„æ–¹æ³•æ¥è§£å†³æ­¤é—®é¢˜ã€‚ <br><br><ol><li> å°†é…ç½®æ–‡ä»¶æ–‡ä»¶å¤¹ä»ç½‘ç»œå®Œå…¨å®‰è£…åˆ°/ homeéƒ¨åˆ† <br><br> ä¸€ä¸ªç®€å•çš„é€‰æ‹©ã€‚ å¦‚æœä¸¤ä¸ªæ“ä½œç³»ç»Ÿä¸Šçš„æ–‡ä»¶å¤¹åç§°â€œæˆ‘çš„æ–‡æ¡£â€ï¼Œâ€œä¸‹è½½â€å’Œâ€œæ¡Œé¢â€ç›¸åŒï¼Œåˆ™æ•ˆæœå¾ˆå¥½ã€‚ å¯ä»¥ç†è§£ï¼ŒLinux PCå·²ç»è¿›å…¥åŸŸï¼Œå¹¶ä¸”ç”¨æˆ·ä½¿ç”¨sssdä½œä¸ºèº«ä»½éªŒè¯å’Œæˆæƒæœºåˆ¶ä»¥å…¶åŸŸå¸æˆ·ç™»å½•ã€‚ <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># vim /etc/security/pam_mount.conf.xml</span></span></code> </pre> <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">volume</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">uid</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100000000-2000000000"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fstype</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cifs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">server</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dfs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Profile_Users/%(USER)"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mountpoint</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"~"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">options</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sec=krb5,cruid=%(USERUID),nounix,uid=%(USERUID),gid=%(USERGID),file_mode=0664,dir_mode=0775"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br> å…¶ä¸­ï¼š <br><br><ul><li>  <b>uid =â€œ 100000000-2000000000â€</b> -ä»SSSDåˆ†é…ç»™åŸŸç”¨æˆ·çš„UIDèŒƒå›´ </li><li>  <b>server =â€œ dfsâ€</b> -æ–‡ä»¶æœåŠ¡å™¨åç§° </li><li>  <b>path =â€œ Profile_Users /ï¼…ï¼ˆUSERï¼‰â€</b> -æ‰˜ç®¡äº†ç”¨æˆ·é…ç½®æ–‡ä»¶çš„æ–‡ä»¶æœåŠ¡å™¨ä¸Šçš„èµ„æº </li><li>  <b>mountpoint =â€œã€œâ€</b> -æŒ‚è½½åˆ°ç”¨æˆ·ä¸»æ–‡ä»¶å¤¹çš„è·¯å¾„ </li></ul><br> ç”¨æˆ·çš„ç™»å½•åä»¥æ˜¾ç¤ºç®¡ç†å™¨ä¸­è¾“å…¥çš„å½¢å¼ä¼ é€’åˆ°pam_mountç”¨æ¥è¿æ¥æˆ‘ä»¬çš„ç½‘ç»œèµ„æºçš„å®å˜é‡â€œï¼…ï¼ˆUSERï¼‰â€ã€‚ å› æ­¤ï¼Œè¾“å…¥DMç™»å½•åè€Œä¸æ˜¾ç¤ºåŸŸåå¾ˆé‡è¦ã€‚ <br><br> åœ¨sssd.confä¸­ï¼Œå¯ä»¥é€šè¿‡æ³¨é‡Šæˆ–å°†Falseå€¼è®¾ç½®ä¸º<b>use_fully_qualified_names</b>é€‰é¡¹æ¥è§£å†³æ­¤é—®é¢˜ï¼Œè¯¥é€‰é¡¹å°†ä¸ºç”¨æˆ·å’Œç»„å¯ç”¨å…¨åæ¨¡å¼ï¼ˆåŒ…æ‹¬åŸŸï¼‰ã€‚ <br></li><li> ç¬¬äºŒç§æ–¹æ³•ä¸é‚£ä¹ˆç›´æ¥å’Œç¬¨æ‹™ï¼Œè€Œæˆ‘è®¤ä¸ºæ›´æ–¹ä¾¿å’Œé¦–é€‰ã€‚ ä¸pam_mounté…ç½®ä¸­ä»…ç¬¬ä¸€ä¸ªçš„åŒºåˆ« <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># vim /etc/security/pam_mount.conf.xml</span></span></code> </pre> <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">volume</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">uid</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100000000-2000200000"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fstype</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cifs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">server</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dfs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Profile_Users/%(USER)/ "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mountpoint</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"~/ "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">options</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sec=krb5,cruid=%(USERUID),nounix,uid=%(USERUID),gid=%(USERGID),file_mode=0664,dir_mode=0775"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">volume</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">uid</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100000000-2000200000"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fstype</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cifs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">server</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dfs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Profile_Users/%(USER)/Downloads"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mountpoint</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"~/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">options</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sec=krb5,cruid=%(USERUID),nounix,uid=%(USERUID),gid=%(USERGID),file_mode=0664,dir_mode=0775"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">volume</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">uid</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100000000-2000200000"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">fstype</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cifs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">server</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dfs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Profile_Users/%(USER)/ "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mountpoint</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"~/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">options</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sec=krb5,cruid=%(USERUID),nounix,uid=%(USERUID),gid=%(USERGID),file_mode=0664,dir_mode=0775"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br> ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªéœ€å°†æ¯ä¸ªæ–‡ä»¶å¤¹åˆ†åˆ«æŒ‚è½½åœ¨ç›¸åº”ç›®å½•ä¸­ </li></ol></li></ol><br>  <b>ç»“è®º</b> <br><br> åœ¨ä¸€ä¸ªæµ‹è¯•å¹³å°ä¸Šè¿›è¡Œäº†åŠä¸ªæœˆçš„å·¥ä½œï¼Œè¿™ç»„æ§åˆ¶å™¨æˆåŠŸåœ°å¹¸å…äºä¸¤ä¸ªæ§åˆ¶å™¨äº¤æ›¿çš„é•¿æœŸå’ŒçŸ­æœŸå…³é—­ï¼Œå¯¹å®¢æˆ·ç«¯å‡ ä¹æ²¡æœ‰å½±å“ï¼ˆä¸€æ—¦Windows7ä¸Šçš„å®¢æˆ·ç«¯å¤±å»ä¿¡ä»»ï¼‰ã€‚ <br><br> æ€»çš„æ¥è¯´ï¼Œå³ä½¿æˆ‘åœ¨æ–‡ç« ä¸­å’Œåœ¨å¹•åéƒ½å¿…é¡»é¢å¯¹æ‰€æœ‰ç»†å¾®å·®åˆ«ï¼Œä½¿ç”¨è¯¥äº§å“ä¹Ÿç»™æˆ‘ç•™ä¸‹äº†ä»¤äººæ„‰å¿«çš„å°è±¡ã€‚ <br><br> æœ‰é™·é˜±ï¼Œæœ‰å¾ˆå¤šé™·é˜±ï¼Œåœ¨ä½¿ç”¨sambaçš„è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»å¤§é‡æ•è·å®ƒä»¬ã€‚ ä½†æ˜¯ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ²¡æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆå¯è®©æ‚¨ä½¿ç”¨ç›®å½•æœåŠ¡è€Œä¸ä½¿ç”¨Windowsæ¥ç»„ç»‡æ··åˆç¯å¢ƒã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN450572/">https://habr.com/ru/post/zh-CN450572/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN450554/index.html">æ‰“ç ´è®¾è®¡æ¨¡å¼-PHPä¸­çš„Singleton</a></li>
<li><a href="../zh-CN450556/index.html">é˜€é—¨æŒ‡æ•°-å®¡æŸ¥æ–°çš„VRè£…ç½®</a></li>
<li><a href="../zh-CN450564/index.html">é—ªå…‰ä¸è´«ç©·ï¼šæ•°å­—é©å‘½å¦‚ä½•ä½¿éŸ³ä¹å®¶æ›´è´«ç©·</a></li>
<li><a href="../zh-CN450566/index.html">å†…å­˜ä¸è¶³å¹¶åœ¨Android Studioä¸­ä½¿ç”¨çŸ¢é‡å›¾åƒ</a></li>
<li><a href="../zh-CN450568/index.html">æ¯ç§æ¯’è¯éƒ½æœ‰å…¶è‡ªå·±çš„è§£æ¯’å‰‚ã€‚ å¦‚ä½•ä¿å­˜æˆ–è‡³å°‘å°è¯•ï¼ˆæ›´æ–°ï¼šå…³äºå®¶åº­ä¸­æ¯’çš„è§£æ¯’å‰‚ï¼‰</a></li>
<li><a href="../zh-CN450574/index.html">åˆ›å»ºä¸€ä¸ªå¤šäºº.ioç½‘ç»œæ¸¸æˆ</a></li>
<li><a href="../zh-CN450576/index.html">MessengeråŒ¿åçš„æ–°è§„åˆ™</a></li>
<li><a href="../zh-CN450578/index.html">å¹¿æ’­ä¸­å¬åˆ°äº†ä»€ä¹ˆï¼Ÿ æˆ‘ä»¬æ¥æ”¶å¹¶è§£ç æœ€æœ‰è¶£çš„ä¿¡å·ã€‚ ç¬¬2éƒ¨åˆ†ï¼Œç”šé«˜é¢‘</a></li>
<li><a href="../zh-CN450582/index.html">PIMåŸåˆ™</a></li>
<li><a href="../zh-CN450586/index.html">Fish Redux-ç”¨äºFlutterçš„æ–°Reduxåº“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>