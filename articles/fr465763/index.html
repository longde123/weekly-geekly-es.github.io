<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐻 ⚗️ 🧜🏼 Présentation Présentation de l'application 🛌🏾 🤛🏾 🚕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, je m'appelle Dmitry Karlovsky et je parle parfois lors de conférences, réunions, et aussi, récemment, j'entre moi-même dans l'équipe des orga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Présentation Présentation de l'application</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465763/"><p> Bonjour, je m'appelle Dmitry Karlovsky et je parle parfois lors de conférences, réunions, et aussi, récemment, j'entre moi-même dans l'équipe des organisateurs de l'un d'entre eux - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PiterJS</a> .  Récemment, nous avons célébré un anniversaire - 40 réunions ont eu lieu.  Mais au lieu de se détendre et de recevoir des félicitations, nous nous sommes fatigués et nous avons préparé les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapports des organisateurs</a> . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/905/330/66e/90533066ea4d2324748c0aa91e6a62d8.png" alt="Test de la commande vocale"></p><br><p>  Mais cela ne nous suffit pas, nous avons donc décidé de célébrer un grand anniversaire en organisant une conférence sur les rives de la Neva <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PiterJSConf</a> , qui se tiendra ce samedi 7 septembre 2019. Dépêchez-vous de vous inscrire, alors qu'il y a encore des sièges vides, car la participation à celle-ci vous sera totalement gratuite. </p><br><p>  Nous faisons tout cela non pas pour de l'argent, mais pour la grande idée que la connaissance devrait être gratuite.  Par conséquent, tout ce que nous faisons est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">disponible en Open Source</a> .  Nous sommes heureux de partager nos meilleures pratiques, connaissances et expériences avec les autres.  Et nous demandons instamment la coopération des organisateurs d'autres villes pour créer une plate-forme ouverte pour l'organisation régulière de réunions technologiques.  Rejoignez-nous en tant <a href="">qu'organisateur</a> , <a href="">partenaire</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">conférencier</a> , <a href="">bénévole</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mécène</a> ou simplement auditeur. </p><br><p> En attendant, je vous propose une histoire sur l'application Web de présentation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$hyoo_slides</code></a> que j'utilise pour toutes mes présentations.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'enregistrement vidéo est disponible sur YouTube</a> , mais tout n'est pas là.  Vous pouvez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lire cette histoire sous forme d'article</a> ou l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ouvrir dans l'interface de l'application elle-même</a> .  Ensuite, je vais vous dire combien cela peut faire et comment cela fonctionne. </p><a name="habracut"></a><br><h1 id="interfeys-slushatelya">  Interface d'écoute </h1><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://slides.hyoo.ru/&amp;usg=ALkJrhhcV1hsJPW0KWlGY6C1zl29OVYyBA#slides=">Présentation d'écoute</a> </p><br><p>  Voici l'interface que le public voit lors de la représentation.  Il n'y a rien de superflu là-dedans. </p><br><p>  Le nom et le numéro de la diapositive sont affichés en haut.  Les auditeurs peuvent avoir des questions.  Et en enregistrant rapidement ce numéro, ils pourront le nommer après le discours et ainsi sauver le public d'une attente fastidieuse, lorsque l'orateur trouvera une diapositive sur laquelle la question est posée. </p><br><p>  Ci-dessous, vous pouvez faire attention à la barre de progression, montrant aux derniers auditeurs combien ils ont manqué.  Et pour tout le monde - combien reste-t-il à la fin.  Il est calculé non pas par le nombre de diapositives, mais par le volume du discours narré. </p><br><h1 id="smotri-kak-ya-mogu">  Regardez comment je peux </h1><br><p>  L'idée de base est de laisser l'orateur se concentrer sur le contenu et ne pas se soucier de la conception.  Le rapport n'a pas besoin du tout de beautés spéciales et d'animations spectaculaires.  Sinon, le design attirera l'attention sur lui-même.  Et le contenu court le risque de voler au-delà des oreilles. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ab1/623/eea/ab1623eea20657db95cc8878da51ca36.png" alt="Parce que je suis Batman!"></p><br><p>  Mais le design doit néanmoins être soigné pour ne pas gâcher l'impression du reportage.  Par conséquent, la conception de l'application est simple, pas entraînante et, surtout, conforme aux recommandations des comités de programme. </p><br><h1 id="interfeys-dokladchika">  Interface haut-parleur </h1><br><p>  L'interface de l'orateur est divisée en deux parties. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://slides.hyoo.ru/&amp;usg=ALkJrhhcV1hsJPW0KWlGY6C1zl29OVYyBA#slides=">Présentation du présentateur</a> </p><br><p>  À gauche, ce que les auditeurs voient.  Et à droite se trouvent les notes de l'orateur.  Ils vous aideront à vous souvenir d'une pensée perdue, sans vous détourner du public et sans les forcer pendant une longue ... euh ... c'est ... une pause. </p><br><h1 id="glavnoe---kontent">  L'essentiel est le contenu </h1><br><p>  Par conséquent, dans notre cas, le contenu est écrit sous forme d'article au format <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MarkDown</a> et présenté sur certaines pages GitHub.  Et l'application Web s'occupe du reste. </p><br><pre> <code class="plaintext hljs">#       #      </code> </pre> <br><p>  Après le discours, la transcription textuelle du rapport est souvent présentée sous la forme d'un article sur certains <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Habré</a> .  Ils peuvent le faire pendant un mois, deux, six mois.  La tâche est une traduction ingrate de la parole en texte.  Mais, étant donné que la source des diapositives est déjà au format Markdown et contient les commentaires du conférencier, elles peuvent être immédiatement publiées sous cette forme. </p><br><h1 id="stili-teksta">  Styles de texte </h1><br><p>  Le texte brut est affiché uniquement pour le présentateur.  Et toutes sortes d'images, de listes, de tableaux, de citations, etc. sont visibles par tous. </p><br><pre> <code class="plaintext hljs">- ** - ** ** - ~~~~ - ``````</code> </pre> <br><ul><li>  <em>Accent</em> </li><li>  <strong>Accent fort</strong> </li><li><del>  Effacer </del></li><li> <code></code> </li> </ul><br><p>  Bien sûr, divers outils de formatage en ligne sont disponibles. </p><br><h1 id="ishodnye-kody">  Code source </h1><br><p>  Les blocs de code source, bien sûr, sont également pris en charge et sont peints dans toutes les couleurs de l'arc-en-ciel.  Comme vous l'aimez. </p><br><pre> <code class="plaintext hljs">```javascript const hello = ()=&gt; &lt;body&gt; Hello, "world"! &lt;/body&gt; ```</code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hello = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">=&gt;</span></span> &lt;body&gt; Hello, <span class="hljs-string"><span class="hljs-string">"world"</span></span>! <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br><h1 id="tablicy">  Des tables </h1><br><p>  La comparaison de diverses choses vous aidera dans les tableaux.  Par exemple, voyons pourquoi <code>$hyoo_slides</code> meilleur que ses concurrents les plus proches - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">shwr.me</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">google slides</a> </p><br><pre> <code class="plaintext hljs">| | shwr.me | google slides | slides.hyoo.ru | |--------------------------|---------|---------------|----------------| |   MarkDown | - | - | + | |   | - | + | + | |   | - | - | + | |  | - | + | + |</code> </pre> <br><div class="scrollable-table"><table><thead><tr><th></th><th>  shwr.me </th><th>  diapositives google </th><th>  slides.hyoo.ru </th></tr></thead><tbody><tr><td>  Source dans MarkDown </td><td>  - </td><td>  - </td><td>  + </td></tr><tr><td>  Mode double panneau </td><td>  - </td><td>  + </td><td>  + </td></tr><tr><td>  Interrupteur coulissant automatique </td><td>  - </td><td>  - </td><td>  + </td></tr><tr><td>  Hors ligne </td><td>  - </td><td>  + </td><td>  + </td></tr></tbody></table></div><br><p>  Comme vous pouvez le voir, <code>$hyoo_slides</code> bat les concurrents sur tous les fronts.  À l'exception de ceux qui ne sont pas inclus dans le tableau, bien sûr. </p><br><p>  Eh bien lano, les tables sont ennuyeuses. </p><br><h1 id="kartinki">  Les photos </h1><br><p>  Tenez le chat. </p><br><pre> <code class="plaintext hljs">![](https://github.com/nin-jin/slides/raw/master/slides/cat.gif)</code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/d1a/b47/b98/d1ab47b983f9a9573ba4973d107d7a24.gif" alt="Clavarder"></p><br><p>  Notez que l'arrière-plan des diapositives est légèrement gris.  Par conséquent, il est préférable de préparer les images non pas sur un fond blanc, mais avec transparence afin qu'il n'y ait pas de rectangle blanc désagréable autour des images.  Cette opération est effectuée de manière à ce que les zones blanches soient contrastées et ne fusionnent pas avec l'arrière-plan. </p><br><h1 id="video">  Vidéo </h1><br><p>  Vous pouvez publier des vidéos, des pages Web et tout autre contenu externe en utilisant la même syntaxe MarkDown que pour l'insertion d'images. </p><br><pre> <code class="plaintext hljs">![ ](https://www.youtube.com/embed/exfBX2pb7AQ?autoplay=1)</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Public cible</a> </p><br><p>  Par exemple, j'ai inséré une vidéo illustrant que les interfaces modernes sont si simples et pratiques que même un singe peut les gérer. </p><br><h1 id="klaviaturnaya-navigaciya">  Navigation au clavier </h1><br><p>  Vous pouvez changer de diapos avec des flèches sur le clavier.  Mais pour ne pas être attaché à l'ordinateur portable, mais pour marcher librement autour de la scène, vous aurez besoin d'une rallonge radio pour votre doigt.  C'est un clicker. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/509/7cc/7bf/5097cc7bfd785e54f987c8494d50b5a6.png" alt="Flèches"></p><br><p>  Mais que faire si le clicker est cassé? </p><br><h1 id="kodovye-frazy">  Phrases de code </h1><br><p>  Vous pensez probablement que dans la pièce, j'ai quelque part un Cosaque mal géré qui change de diapositives à ma place?  Mais ce n'est pas le cas. </p><br><ul><li>  <strong>De plus,</strong> s'il vous plaît. </li><li>  <strong>De retour</strong> , s'il vous plaît. </li><li>  <strong>Diapositive numéro</strong> 5, soyez gentil. </li><li>  <strong>Au début</strong> , s'il vous plaît. </li><li>  <strong>À la fin</strong> , s'il vous plaît. </li><li>  <strong>Trouvez le</strong> "chat", soyez gentil. </li><li>  <strong>Répétez</strong> , s'il vous plaît. </li><li>  <strong>Tais-toi</strong> , sois gentil. </li><li>  Veuillez <strong>continuer</strong> . </li><li>  <strong>Éteignez la lumière</strong> , s'il vous plaît. </li></ul><br><p>  Répétez, s'il vous plaît.  <em>Une voix d'en haut répète la dernière phrase.</em> </p><br><p>  Oui, les diapositives peuvent contrôler complètement la voix, laissant vos mains libres pour les gestes.  Il utilise une API Web standard pour la reconnaissance et la synthèse vocales. </p><br><p>  Mais répéter ces phrases de code dix fois de suite est ennuyeux, donc <code>$hyoo_slides</code> peut analyser les notes du locuteur et lorsque vous dites le dernier mot, changez automatiquement de diapositive. </p><br><h1 id="zhesty-palcem">  Gestes des doigts </h1><br><p>  D'accord, compliquant la situation.  Quelqu'un après avoir écouté votre discours, a décidé de voir vos diapositives depuis la tablette tout en rentrant chez vous dans le métro. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/922/977/327/9229773270adb93e6193952f4216558d.png" alt="Gestes"></p><br><p>  Il n'y a pas de clavier.  Les trains sont bruyants.  Ici, les gestes des doigts ordinaires viennent à la rescousse. </p><br><h1 id="offlayn">  Hors ligne </h1><br><p>  Mais ensuite il appelle dans le tunnel et sa connexion disparaît. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/338/9cc/9e1/3389cc9e145f29988bf8f2f8d29d6333.png" alt="Pas de réseau"></p><br><p>  Cela n'a pas d'importance, nous avons une application Web progressive Web2.0 HTML5 avec toutes les fonctionnalités même lorsqu'il n'y a pas Internet. </p><br><h1 id="pechat-v-pdf">  Impression PDF </h1><br><p>  Mais ici, les organisateurs viennent vers vous et vous disent: "Nous voulons un PDF." </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/6fa/22b/1ff/6fa22b1ff38afc8d6e6cdce90ee17f1a.png" alt="Mentions légales"></p><br><p>  Quel pdf?  Nous avons ici l'application Web progressive multimédia interactive Web2.0 HTML5.  Cependant, ils vous expliquent que la candidature est aujourd'hui et demain elle n'est plus là.  Et s'il y en a, il veut de l'argent.  Et si vous ne le souhaitez pas, les diapositives peuvent déjà être modifiées au-delà de la reconnaissance.  Et le PDF est tranquillement dans l'archive avec exactement le contenu qui correspond à la vidéo enregistrée pendant la performance. </p><br><p>  Eh bien, peu importe, appuyez sur <code>Ctrl+P</code> , sélectionnez "Imprimer au format PDF" et obtenez ce dont vous avez besoin.  Cela se fait simplement - l'événement <code>onbeforeprint</code> est <code>onbeforeprint</code> et, lorsqu'il se produit, au lieu de simplement la diapositive actuelle, toutes les diapositives sont rendues.  Et après <code>onafterprint</code> , toutes sauf la version actuelle, les diapositives sont supprimées. </p><br><p>  Sur ce point, les listes de fonctionnalités sont désormais terminées. </p><br><h1 id="kak-sozdat-prezentaciyu">  Comment créer une présentation </h1><br><p>  Essayer <code>$hyoo_slides</code> est facile.  Vous aurez besoin de <code>readme.md</code> avec votre contenu et vos images.  Également à proximité, vous devrez copier-coller <code>index.html</code> , qui redirige vers l'application Web et y ouvre votre présentation.  Et aussi offline.js pour un support hors ligne. </p><br><ul><li> <code>readme.md</code> </li> <li>  photos </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>index.html</code></a> </li> <li> <a href=""><code>offline.js</code></a> </li> <li>  hébergement statique </li></ul><br><p>  Gardez à l'esprit que ce <code>index.html</code> donnera à l'application tous les fichiers accessibles depuis le domaine où vous avez placé le tout.  GitHub Pages est une option très pratique et sûre.  Je l'utilise moi-même. </p><br><h1 id="drugie-prilozheniya">  Autres applications </h1><br><p>  Si vous avez aimé cette application, vous pouvez jeter un œil à d'autres applications intéressantes implémentées sur le framework $ mol.  Ils sont si légers que même quelques dizaines n'ont pas peur de les charger tous en même temps sur une seule glissière. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Galerie d'applications</a> </p><br><p>  Mais à leur sujet en quelque sorte plus tard ... </p><br><h1 id="primery-prezentaciy">  Exemples de présentation </h1><br><p>  Vous pouvez en savoir plus sur le framework lors d'une présentation séparée.  Vous pouvez approfondir une présentation sur le PPR.  Et vous pouvez lever le rideau de l'avenir dans une présentation sur la quantification des calculs. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">$ mol - le meilleur remède contre les hémorroïdes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Programmation réactive aux objets</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mécanique quantique des calculs</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">slides.hyoo.ru</a> </li></ul><br><p>  Ils utilisent tous $ hyoo_slides pour afficher.  J'espère que bientôt il y aura plus de telles présentations. </p><br><h1 id="struktura-prilozheniya">  Structure d'application </h1><br><p>  Et maintenant, ouvrons un peu le capot et voyons comment l'application est organisée, et comment faire notre similaire en une seule soirée. </p><br><pre> <code class="plaintext hljs">$hyoo_slides_page $mol_view sub / &lt;= Listener &lt;= Speaker</code> </pre> <br><pre> <code class="plaintext hljs">export class $hyoo_slides_page extends $mol_view { sub() { return [ this.Listener() , this.Speaker() , ] } }</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici une</a> description de haut niveau d'un seul écran dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">view.tree</a> et du code TypeScript équivalent.  Ici, nous déclarons le composant <code>$hyoo_slides_page</code> , qui étend le composant de base <code>$mol_view</code> .  Ce composant a une <code>sub</code> propriété.  Tout ce qui renvoie cette propriété sera rendu à l'intérieur du composant.  Par conséquent, nous le redéfinissons, en passant comme valeur un tableau de deux éléments: <code>Listener</code> - un composant pour la sortie d'une diapositive aux écouteurs et <code>Speaker</code> - un composant d'un panneau de haut-parleur supplémentaire. </p><br><h1 id="pereklyuchenie-raskladki-stranicy">  Changer la mise en page </h1><br><p>  En plus de la description de la structure, nous pouvons également appliquer une logique de programme qui permet de calculer dynamiquement toutes les propriétés. </p><br><pre> <code class="plaintext hljs">sub() { const role = this.role() return [ this.Listener() , ... ( role === 'speaker' ) ? [ this.Speaker() ] : [] , ] }</code> </pre> <br><p>  Ici, la logique est simple: nous affichons toujours des diapositives pour les auditeurs, mais le panneau des haut-parleurs n'est affiché que si le rôle actuel est <code>speaker</code> - <code>speaker</code> .  Si le rôle change, la présentation de l'application changera également en raison de la magie de la programmation réactive aux objets. </p><br><h1 id="routing">  Acheminement </h1><br><p>  Nous prendrons le rôle du paramètre d'adresse, via l'API réactive spéciale <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_state_arg</code></a> . </p><br><pre> <code class="plaintext hljs">role() : 'speaker' | 'listener' { return $mol_state_arg.value( 'role' ) || 'speaker' }</code> </pre> <br><p>  Pour une raison quelconque, l'adresse a changé - le rôle en sera extrait automatiquement et transmis à cette méthode. </p><br><h1 id="struktura-interfeysa-slushatelya">  Structure d'interface d'écoute </h1><br><p>  Décrivons l'interface d'écoute. </p><br><pre> <code class="plaintext hljs">Listener $mol_page title &lt;= title tools / &lt;= Slide_switcher body / &lt;= Listener_content &lt;= Progress</code> </pre> <br><p>  Il utilise le composant standard <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_page</code></a> qui dessine une page typique avec un en-tête et un corps.  Dans l'en-tête, il y a une zone où le nom de la page est affiché.  Grâce à la propriété <code>title</code> , vous pouvez spécifier ce qui doit y être affiché.  Ce que nous avons fait en associant sa propriété <code>title</code> à notre propriété du même nom.  Maintenant, en changeant notre propriété, nous avons un contrôle total sur ce qui sera affiché sur la page en tant que titre. </p><br><p>  À droite dans l'en-tête, il y a une zone de sortie pour des outils supplémentaires - <code>tools</code> .  Dans ce document, nous <code>Slides_switcher</code> - un composant pour afficher le numéro de diapositive et basculer entre les diapositives adjacentes. </p><br><p>  Et enfin, en tant que <code>body</code> page en <code>body</code> nous affichons le contenu de la diapositive et de la barre de progression. </p><br><h1 id="struktura-pereklyuchatelya-stranic">  Structure du commutateur de page </h1><br><p>  Comment implémenter <code>Slide_switcher</code> ?  Utilisez simplement le composant standard <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_paginator</code></a> . </p><br><pre> <code class="plaintext hljs">Slide_switcher $mol_paginator value?val &lt;=&gt; slide?val</code> </pre> <br><p>  Tout ce qu'il a, c'est une <code>value</code> propriété mutable, que nous associons bilatéralement à notre propriété contenant le numéro de la diapositive en cours.  Aucune importation, rappel, événement et autre corbeille.  Ces deux lignes sont tout ce qui est nécessaire pour qu'un commutateur de page de travail apparaisse sur votre page. </p><br><h1 id="struktura-soderzhimogo-slayda">  Structure du contenu des diapositives </h1><br><p>  Pour afficher le contenu de la diapositive, nous utilisons à nouveau le composant standard <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_text</code></a> . </p><br><pre> <code class="plaintext hljs">Listener_content $mol_text uri_base &lt;= uri_base text &lt;= listener_content</code> </pre> <br><p>  Il prend le <code>markdown</code> et le rend.  Étant donné que les liens dans ce texte seront relatifs au fichier source et non à notre application, nous transmettons le lien à la propriété uri_base, pour laquelle tous les chemins seront résolus. </p><br><h1 id="struktura-indikatora-progressa">  Structure des indicateurs de progrès </h1><br><p>  Comme vous l'avez probablement déjà deviné, il existe également un composant standard pour afficher la progression - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_portion</code></a> . </p><br><pre> <code class="plaintext hljs">Progress $mol_portion portion &lt;= progress</code> </pre> <br><pre> <code class="plaintext hljs">portion: [ 0 .. 1 ]</code> </pre> <br><p>  Nous lui donnons un nombre de 0 à 1 et obtenons un indicateur rempli pour cette part. </p><br><h1 id="struktura-interfeysa-dokladchika">  Structure d'interface de haut-parleur </h1><br><p>  Nous avons quelque chose de plus intéressant dans l'interface du haut-parleur.  Les outils affichés dans l'en-tête ne sont en aucun cas attachés à la page en cours - ils sont communs à l'ensemble de l'application.  Par conséquent, au lieu de les coder en dur ici, nous <code>speaker_tools</code> uniquement le slot <code>speaker_tools</code> travers lequel nous transférerons la liste des composants de l'extérieur. </p><br><pre> <code class="plaintext hljs">Speaker $mol_page head &lt;= speaker_tools /$mol_view body / &lt;= Speaker_content</code> </pre> <br><h1 id="struktura-prilozheniya-1">  Structure d'application </h1><br><p>  <code>$hyoo_slides</code> maintenant d'un niveau et créez un composant d'application <code>$hyoo_slides</code> qui utilise le composant de page. </p><br><pre> <code class="plaintext hljs">$hyoo_slides $mol_view Page!index $hyoo_slides_page - ... plugins / &lt;= Nav &lt;= Touch &lt;= Speech_next - ...</code> </pre> <br><p>  Tout composant <code>$mol_view</code> possède une propriété de <code>plugins</code> par laquelle une logique supplémentaire peut lui être connectée.  Les plugins plugins vivent sur le même noeud DOM que le composant lui-même.  Le composant les initie lors de son rendu.  Et quand environ cesse d'être rendu - les plugins sont détruits automatiquement. </p><br><p>  Nous avons également annoncé la propriété <code>Page</code> , qui pour chaque index renvoie une instance distincte du composant <code>$hyoo_slides_page</code> nous avons développé précédemment. </p><br><h1 id="nastroyka-stranicy-izvne">  Configuration de page externe </h1><br><pre> <code class="plaintext hljs">Page!index $hyoo_slides_page role &lt;= role slide?val &lt;=&gt; page_slide!index?val speaker_tools / &lt;= Speech_toggle &lt;= Speech_text &lt;= Open_listener</code> </pre> <br><p>  Nous transmettons la propriété de <code>role</code> au sous-composant tel quel.  La propriété <code>slide</code> du composant page est connectée par communication bidirectionnelle avec la propriété <code>page_slide</code> de l'application.  Notez que <code>page_slide</code> accepte non seulement la nouvelle valeur facultative, mais aussi l'index de page.  Cela vous permet de renvoyer un numéro pour chaque page.  Enfin, dans le slot <code>speaker_tools</code> nous avons annoncé précédemment, nous avons mis trois composants pour aider à gérer les diapositives. </p><br><h1 id="struktura-pereklyuchatelya-golosovogo-upravleniya">  Structure du commutateur de commande vocale </h1><br><p>  Nous implémentons <code>Speech_toggle</code> via le composant standard <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_check_icon</code></a> , qui dessine une icône.  Lorsque vous cliquez dessus, il bascule le drapeau <code>checked</code> .  Et l'état actuel est affiché en changeant la couleur de l'icône. </p><br><pre> <code class="plaintext hljs">Speech_toggle $mol_check_icon Icon &lt;= Speech_toggle_icon $mol_icon_microphone checked?flag &lt;=&gt; speech_enabled?flag</code> </pre> <br><p>  Nous avons pris l'icône du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_icon</code></a> , où sur 4000 icônes faites dans le style de conception de matériel ascétique, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">il est facile de trouver la</a> bonne. </p><br><h1 id="struktura-knopki-otkrytiya-vedomogo-okna">  Structure du bouton d'ouverture de la fenêtre esclave </h1><br><p>  Ici, tout est simple.  Ce bouton sera le lien <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_link</code></a> .  Elle peut définir la propriété <code>uri</code> avec une adresse, ou elle peut faire quelque chose de plus astucieux et simplement corriger l'adresse actuelle, en remplaçant certains paramètres via <code>arg</code> . </p><br><pre> <code class="plaintext hljs">Listener_open $mol_link target \_blank arg * role \listener slide null sub / &lt;= Listener_open_icon $mol_icon_external</code> </pre> <br><p>  Ici, nous avons effacé le numéro de diapositive de l'adresse afin que la fenêtre esclave le prenne dans la mémoire locale, et non dans l'adresse.  Cela garantira que les fenêtres se synchronisent les unes avec les autres.  Ils ont également indiqué que le rôle devrait être un «auditeur».  À l'intérieur du lien, nous mettons une icône à la place du texte. </p><br><h1 id="plaginy">  Plugins </h1><br><p>  Les plugins peuvent étendre considérablement les capacités du composant.  Nous les utiliserons au maximum. </p><br><pre> <code class="plaintext hljs">plugins / &lt;= Nav &lt;= Touch &lt;= Speech_next &lt;= Speech_prev &lt;= Speech_start &lt;= Speech_end - ...</code> </pre> <br><p>  Tous les plugins que nous utilisons peuvent être divisés en 3 catégories: navigation clavier, contrôle gestuel et contrôle vocal. </p><br><h1 id="klaviaturnaya-navigaciya-1">  Navigation au clavier </h1><br><p>  Grâce à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_nav</code></a> il est facile d'implémenter la navigation au clavier verticalement et horizontalement.  Tout ce qui est nécessaire est de fournir au plug-in une liste de clés par lesquelles il basculera et une communication bidirectionnelle à la valeur actuelle. </p><br><pre> <code class="plaintext hljs">Nav $mol_nav keys_y &lt;= slide_keys keys_x &lt;= slide_keys current_y?val &lt;=&gt; slide?val current_x?val &lt;=&gt; slide?val</code> </pre> <br><pre> <code class="javascript hljs">slide_keys: [ <span class="hljs-number"><span class="hljs-number">0</span></span> , <span class="hljs-number"><span class="hljs-number">1</span></span> , <span class="hljs-number"><span class="hljs-number">2</span></span> , <span class="hljs-number"><span class="hljs-number">3</span></span> , ... , <span class="hljs-number"><span class="hljs-number">30</span></span> ] ^ slide</code> </pre> <br><h1 id="zhesty-palcem-1">  Gestes des doigts </h1><br><p>  Pour le suivi des doigts, il existe un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_touch</code></a> .  Avec lui, vous pouvez zoomer, faire un panoramique et glisser.  C'est la dernière opportunité qui nous intéresse maintenant. </p><br><pre> <code class="plaintext hljs">Touch $mol_touch swipe_to_left?event &lt;=&gt; go_next?event swipe_to_right?event &lt;=&gt; go_prev?event</code> </pre> <br><pre> <code class="plaintext hljs">go_next( event? : Event ) { this.slide( this.slide() + 1 ) }</code> </pre> <br><p>  Il existe deux types de balayage.  Par exemple, balayez vers la gauche ou la droite depuis n'importe quelle partie de l'écran et balayez en raison du bord droit ou gauche de l'écran vers le centre.  Dans le code présenté, nous avons suspendu nos gestionnaires sur le premier type de balayage. </p><br><h1 id="golosovoe-upravlenie">  Commande vocale </h1><br><p>  Pour le contrôle vocal, utilisez le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>$mol_speech</code></a> .  Il est nécessaire de créer une instance du plugin pour chaque version de l'action. </p><br><pre> <code class="plaintext hljs">Sing $mol_speech event_catch?val &lt;=&gt; sing?val patterns / \sing( \S+?)* \( \S+?)*</code> </pre> <br><p>  Le plugin accepte un gestionnaire d'actions et un ensemble de modèles, lors de la détection de ceux-ci, un événement sera déclenché.  Vous pouvez utiliser des crochets de capture dans les modèles pour obtenir les mots correspondant à leur contenu dans le gestionnaire. </p><br><h1 id="avtomaticheskoe-pereklyuchenie-slaydov">  Interrupteur coulissant automatique </h1><br><p>  Par défaut, <code>$mol_speech</code> nécessite une gestion polie.  Par exemple, vous ne devriez pas dire «chanter», mais «chanter, s'il vous plaît».  Vous pouvez remplacer la propriété du <code>suffix</code> pour modifier ou supprimer complètement ce mot de code. </p><br><pre> <code class="plaintext hljs">Speech_next_auto $mol_speech event_catch?val &lt;=&gt; go_next?val suffix \ patterns &lt;= speech_next_auto_patterns</code> </pre> <br><p>  Par exemple, pour implémenter la commutation automatique des diapositives, nous n'avons pas besoin de mots magiques.  Mais nous allons générer un ensemble de modèles de manière dynamique, basé sur l'analyse du contenu du texte du locuteur. </p><br><h1 id="zapusk-prilozheniya">  Lancement de l'application </h1><br><p>  Ayant un composant d'application, vous pouvez l'instancier manuellement comme n'importe quelle classe ordinaire.  Mais nous utiliserons le lancement automatique via l'attribut spécial <code>mol_view_root</code> . </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mol_view_root</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$hyoo_slides"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"web.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Le nom d'attribut est le nom du composant.  Le rendu de cette manière, bien sûr, peut être absolument n'importe quel composant. </p><br><h1 id="offlayn-1">  Hors ligne </h1><br><p>  Pour ajouter un support hors ligne, incluez simplement le module <code>mol/offline/install</code> dans le bundle. </p><br><pre> <code class="plaintext hljs">include \/mol/offline/install</code> </pre> <br><p>  Il déclenche automatiquement un ServiceWorker, qui met en cache toutes les demandes.  Et si le réseau n'est pas disponible, il renvoie les données du cache.  Ce n'est pas l'implémentation la plus cool, mais pour les cas simples où vous ne voulez pas vous embêter, cela suffira. </p><br><h1 id="rezhim-pechati">  Mode d'impression </h1><br><p>  Plus tôt, j'ai dit que lors de l'impression, vous devez rendre toutes les pages, mais il n'est pas nécessaire de surveiller manuellement <code>onbeforeprint</code> et après <code>onafterprint</code> , car nous avons une programmation entièrement réactive, nous utiliserons donc l'état réactif <code>$mol_print</code> , qui nous donne un indicateur réactif auquel nous pouvons lier le rendu. </p><br><pre> <code class="plaintext hljs">sub() { if( !this.$.$mol_print.active() ) { return [ this.Page( this.slide() ) ] } return $mol_range2( index =&gt; this.Page( index ) , ()=&gt; this.slide_keys().length , ) }</code> </pre> <br><p>  Ici, nous ne renvoyons qu'une seule page si le drapeau <code>active</code> n'est pas levé.  Sinon, nous retournons un tableau paresseux qui calcule sa longueur et ses éléments selon les formules données. </p><br><h1 id="epilog">  Épilogue </h1><br><p>  En conséquence, nous avons obtenu une application Web moderne avec un tas de fonctionnalités et un poids de seulement 35 Ko.  Ajoutez un manifeste et il y aura une application Web progressive à part entière.  Bien sûr, de nombreux détails n'ont pas été pris en compte.  Vous pouvez les voir dans le code sur le github.  Pour toutes les questions, écrivez des télégrammes dans le chat. </p><br><blockquote>  Ces diapositives sont dans l'application: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">slides.hyoo.ru</a> <br>  Sources d'application: <a href="">hyoo-ru / slides.hyoo.ru</a> <br>  Exemples de présentation: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nin-jin / slides</a> <br>  Chat télégramme: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">@mam_mol</a> </blockquote><p>  Je serai heureux si vous essayez de faire votre présentation avec <code>$hyoo_slides</code> .  Et je serai très heureux si vous aidez à le rendre encore meilleur qu'aujourd'hui.  Merci de votre attention! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr465763/">https://habr.com/ru/post/fr465763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr465751/index.html">Jeu d'histoires</a></li>
<li><a href="../fr465753/index.html">Comparaison de comparateurs pour synchroniser les schémas et les données de base de données de MS SQL Server</a></li>
<li><a href="../fr465755/index.html">Sommaire des actualités sur l'apprentissage automatique et l'intelligence artificielle</a></li>
<li><a href="../fr465759/index.html">Le modèle mathématique révèle les secrets de la vision</a></li>
<li><a href="../fr465761/index.html">Le lissage de mouvement tue le cinéma</a></li>
<li><a href="../fr465765/index.html">Le condensé de matériaux intéressants pour le développeur mobile # 313 (26 août - 1er septembre)</a></li>
<li><a href="../fr465767/index.html">Expérience personnelle et conclusions après avoir changé de profession de concepteur à programmeur</a></li>
<li><a href="../fr465773/index.html">Mise à jour d'un ordinateur portable avec Windows 10 1903 - de la brique à la perte de toutes les données. Pourquoi une mise à jour peut-elle être plus qu'un utilisateur?</a></li>
<li><a href="../fr465775/index.html">Serveur LTSP basé sur CentOS7</a></li>
<li><a href="../fr465779/index.html">Provisionnement automatique Yealink T19 + Carnet d'adresses dynamique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>