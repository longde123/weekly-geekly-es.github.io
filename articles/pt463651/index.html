<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí™üèª üöô üéÉ Matem√°tica discreta para WMS: algoritmo para comprimir mercadorias nas c√©lulas (parte 2) üèåÔ∏è üöî ü§πüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No artigo, descreveremos como desenvolvemos um algoritmo para a compress√£o ideal dos bens restantes nas c√©lulas. Diremos a voc√™ como escolher as metah...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Matem√°tica discreta para WMS: algoritmo para comprimir mercadorias nas c√©lulas (parte 2)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463651/"><img src="https://habrastorage.org/webt/pk/sw/xk/pkswxkfx_bl-w83edqla_aaq9vq.jpeg"><br><br>  No artigo, descreveremos como desenvolvemos um algoritmo para a compress√£o ideal dos bens restantes nas c√©lulas.  Diremos a voc√™ como escolher as metaheur√≠sticas necess√°rias do ambiente do zool√≥gico de estrutura: pesquisa de tabus, algoritmo gen√©tico, col√¥nia de formigas etc. <br><br>  Conduziremos um experimento computacional para analisar o tempo de opera√ß√£o e a precis√£o do algoritmo.  Resumimos e resumimos a valiosa experi√™ncia adquirida na solu√ß√£o desse problema de otimiza√ß√£o e implementa√ß√£o de "tecnologias inteligentes" nos processos de neg√≥cios do cliente. <br><br>  O artigo ser√° √∫til para quem implementa tecnologias inteligentes, trabalha no setor de log√≠stica de armaz√©m ou produ√ß√£o, bem como para programadores interessados ‚Äã‚Äãem aplica√ß√µes matem√°ticas em otimiza√ß√£o de neg√≥cios e processos na empresa. <br><br><a name="habracut"></a><h4>  Parte introdut√≥ria </h4><br>  Esta publica√ß√£o continua a s√©rie de artigos em que compartilhamos nossa experi√™ncia bem-sucedida na implementa√ß√£o de algoritmos de otimiza√ß√£o em processos de armaz√©m.  Publica√ß√µes anteriores: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">algoritmo de agrupamento de remessas em estoque.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um algoritmo para comprimir bens residuais nas c√©lulas (parte 1).</a> </li></ul><br>  Como ler um artigo.  Se voc√™ ler os artigos anteriores, poder√° prosseguir imediatamente para o cap√≠tulo "Desenvolvimento de um algoritmo para resolver o problema"; caso contr√°rio, a descri√ß√£o do problema a ser resolvido no spoiler est√° abaixo. <br><br><div class="spoiler">  <b class="spoiler_title">Descri√ß√£o do problema a ser resolvido no armaz√©m do cliente</b> <div class="spoiler_text"><h4>  Gargalo do processo </h4><br>  Em 2018, desenvolvemos um projeto para introduzir um sistema <i>WMS</i> no armaz√©m da empresa LD Trading House em Chelyabinsk.  Introduziu o produto ‚Äú1C-Logistics: Warehouse Management 3‚Äù para 20 trabalhos: operadores <i>WMS</i> , lojistas, motoristas de empilhadeiras.  O armaz√©m tem uma m√©dia de cerca de 4 mil m2, o n√∫mero de c√©lulas √© de 5000 e o n√∫mero de SKU 4500. As v√°lvulas de esfera de nossa pr√≥pria produ√ß√£o, de diferentes tamanhos, de 1 kg a 400 kg, s√£o armazenadas no armaz√©m.  Os estoques no armaz√©m s√£o armazenados no contexto de lotes devido √† necessidade de selecionar mercadorias de acordo com o FIFO e as especifica√ß√µes "em linha" da coloca√ß√£o do produto (explica√ß√£o abaixo). <br><br>  Ao projetar esquemas de automa√ß√£o para processos de armaz√©m, fomos confrontados com o problema existente de armazenamento n√£o ideal de estoques.  O empilhamento e o armazenamento de guindastes t√™m, como j√° dissemos, detalhes espec√≠ficos da "linha".  Ou seja, os produtos na c√©lula s√£o empilhados em fileiras uma em cima da outra, e a capacidade de colocar uma pe√ßa em uma pe√ßa geralmente est√° ausente (elas simplesmente caem e o peso n√£o √© pequeno).  Por esse motivo, verifica-se que apenas uma nomenclatura de um lote pode estar em uma unidade de armazenamento de pe√ßa √∫nica; caso contr√°rio, a nomenclatura antiga n√£o pode ser retirada de uma nova sem "cavar" a c√©lula inteira. <br><br>  Os produtos chegam diariamente ao armaz√©m e cada chegada √© um lote separado.  No total, como resultado de 1 m√™s de opera√ß√£o do armaz√©m, s√£o criados 30 lotes separados, apesar de cada um ser armazenado em uma c√©lula separada.  As mercadorias geralmente s√£o selecionadas n√£o em paletes inteiras, mas em pe√ßas e, como resultado, na √°rea de sele√ß√£o de pe√ßas, em muitas c√©lulas a seguinte imagem √© observada: em uma c√©lula com um volume superior a 1 m3, existem v√°rias pe√ßas de guindastes que ocupam menos de 5 a 10% do volume de c√©lulas (ver Fig. 1 ) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hx/qf/bx/hxqfbxlkzhrwql3k0hmcz9l2cem.jpeg"></div><br>  <i>Fig 1. Foto de v√°rias pe√ßas em uma c√©lula</i> <br><br>  Em face do uso sub√≥timo da capacidade de armazenamento.  Para imaginar a escala do desastre, posso citar n√∫meros: em m√©dia, existem entre 100 e 300 c√©lulas dessas c√©lulas, com um restante escasso em diferentes per√≠odos da opera√ß√£o do armaz√©m.  Como o armaz√©m √© relativamente pequeno, nas esta√ß√µes de carregamento do armaz√©m, esse fator se torna um ‚Äúpesco√ßo estreito‚Äù e inibe enormemente os processos de aceita√ß√£o e envio do armaz√©m. <br><br><h4>  Id√©ia de resolver um problema </h4><br>  A id√©ia surgiu: levar os lotes de res√≠duos com as datas mais pr√≥ximas a um √∫nico lote e colocar esses saldos com um lote unificado de maneira compacta em uma c√©lula ou em v√°rias, se n√£o houver espa√ßo suficiente em uma para acomodar o n√∫mero total de saldos.  Um exemplo dessa "compress√£o" √© mostrado na Figura 2. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/c-/cx/0g/c-cx0gs5mwn14uwupmefgmytzto.jpeg"></div><br>  <i>Fig. 2.</i>  <i>Esquema de compress√£o celular</i> <br><br>  Isso permite reduzir significativamente o espa√ßo ocupado no dep√≥sito, que ser√° usado para as mercadorias rec√©m-colocadas.  Na situa√ß√£o de sobrecarga das capacidades do armaz√©m, tal medida √© extremamente necess√°ria; caso contr√°rio, pode n√£o haver espa√ßo livre suficiente para a coloca√ß√£o de novas mercadorias, o que levar√° a uma rolha nos processos de coloca√ß√£o e reabastecimento do armaz√©m e, como resultado, uma rolha para aceita√ß√£o e envio.  Anteriormente, antes da implementa√ß√£o do sistema WMS, essa opera√ß√£o era realizada manualmente, o que n√£o era eficaz, uma vez que o processo de encontrar res√≠duos adequados nas c√©lulas era bastante longo.  Agora, com a introdu√ß√£o dos sistemas WMS, eles decidiram automatizar o processo, acelerar e torn√°-lo inteligente. <br><br>  O processo de solu√ß√£o desse problema √© dividido em 2 etapas: <br><br><ul><li>  na primeira etapa, encontramos grupos de partes que est√£o em data pr√≥xima a serem compactados (este √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeiro artigo</a> para esta tarefa de dedica√ß√£o); </li><li>  no segundo est√°gio, para cada grupo de lotes, calculamos a coloca√ß√£o mais compacta dos res√≠duos do produto nas c√©lulas. </li></ul><br>  No artigo atual, finalizamos com uma descri√ß√£o do segundo est√°gio do processo da solu√ß√£o e consideramos diretamente o pr√≥prio algoritmo de otimiza√ß√£o. </div></div><br><h4>  Desenvolvimento de um algoritmo para resolver o problema </h4><br>  Antes de prosseguir com uma descri√ß√£o direta do algoritmo de otimiza√ß√£o, √© necess√°rio mencionar os principais crit√©rios para o desenvolvimento desse algoritmo, que foram definidos como parte do projeto de implementa√ß√£o de um sistema <i>WMS</i> . <br><br><ul><li>  Primeiro, o algoritmo deve ser <b>f√°cil de entender</b> .  Esse √© um requisito natural, pois sup√µe-se que o algoritmo seja suportado e desenvolvido pelo servi√ßo de TI do cliente no futuro, o que geralmente est√° longe de sutilezas e sabedoria matem√°ticas. </li><li>  Em segundo lugar, o algoritmo deve ser <b>r√°pido</b> .  Quase todas as mercadorias do armaz√©m est√£o envolvidas no procedimento de compress√£o (cerca de 3.000 itens) e para cada produto √© necess√°rio resolver um problema de dimens√£o de aproximadamente 10x100. </li><li>  Em terceiro lugar, o algoritmo deve calcular solu√ß√µes <b>pr√≥ximas do ideal</b> . </li><li>  Quarto, o tempo para projetar, implementar, depurar, analisar e testar interno o algoritmo √© relativamente pequeno.  Este √© um requisito essencial, uma vez que <b>o or√ßamento do projeto</b> , inclusive para esta tarefa, <b>era limitado</b> . </li></ul><br>  Vale dizer que, at√© o momento, os matem√°ticos desenvolveram muitos algoritmos eficazes para resolver o problema do problema de localiza√ß√£o de instala√ß√µes capacitadas de fonte √∫nica.  Considere as principais variedades dos algoritmos dispon√≠veis. <br><br>  Alguns dos algoritmos mais eficientes s√£o baseados na abordagem do chamado relaxamento de Lagrange.  Como regra, esses algoritmos s√£o bastante complexos e dif√≠ceis de entender para uma pessoa que n√£o est√° imersa nos meandros da otimiza√ß√£o discreta.  A ‚Äúcaixa preta‚Äù com algoritmos complexos, mas eficazes, de relaxamento de Lagrange do cliente n√£o se adequava. <br><br>  Existem metaheur√≠sticas bastante eficazes (o que s√£o metaheur√≠sticas lidas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> , o que s√£o heur√≠sticas lidas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ), por exemplo, algoritmos gen√©ticos, algoritmos de recozimento simulado, algoritmos de col√¥nia de formigas, algoritmos de busca Tabu e outros (uma vis√£o geral dessas metaheur√≠sticas em russo pode ser encontrada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ).  Mas esses algoritmos j√° satisfizeram o cliente, pois: <br><br><ul><li>  Capaz de calcular solu√ß√µes para problemas muito pr√≥ximos do ideal. </li><li>  Simples o suficiente para entender, dar suporte, depurar e refinar. </li><li>  Eles podem calcular rapidamente uma solu√ß√£o para um problema. </li></ul><br>  Decidiu-se usar metaheur√≠sticas.  Agora faltava escolher uma ‚Äúestrutura‚Äù entre o grande ‚Äúzool√≥gico‚Äù das metaheur√≠sticas famosas para resolver o problema de localiza√ß√£o de instala√ß√µes capacitadas de fonte √∫nica.  Ap√≥s analisar v√°rios artigos que analisaram a efic√°cia de v√°rias metaheur√≠sticas, nossa escolha recaiu sobre o algoritmo GRASP, pois, em compara√ß√£o com outras metaheur√≠sticas, mostrou bons resultados na precis√£o das solu√ß√µes calculadas para o problema, foi um dos mais r√°pidos e, o mais importante, teve o mais simples. e l√≥gica transparente. <br><br>  <b>O esquema do algoritmo GRASP</b> em rela√ß√£o √† tarefa Problema de localiza√ß√£o de instala√ß√µes capacitadas de fonte √∫nica √© descrito em detalhes neste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> .  O esquema geral do algoritmo √© o seguinte. <br><br><ul><li>  <b>Etapa 1.</b> Gere alguma solu√ß√£o vi√°vel para o problema por um algoritmo aleat√≥rio ganancioso. </li><li>  <b>Est√°gio 2.</b> Melhore a solu√ß√£o resultante no est√°gio 1 usando o algoritmo de pesquisa local em v√°rios bairros. </li><li>  Se a condi√ß√£o de parada for atendida, conclua o algoritmo; caso contr√°rio, v√° para a etapa 1. A solu√ß√£o com o menor custo total entre todas as solu√ß√µes encontradas ser√° o resultado do algoritmo. </li></ul><br>  A condi√ß√£o para interromper o algoritmo pode ser uma restri√ß√£o simples no n√∫mero de itera√ß√µes ou uma restri√ß√£o no n√∫mero de itera√ß√µes sem nenhuma melhoria na solu√ß√£o. <br><br><div class="spoiler">  <b class="spoiler_title">O c√≥digo do algoritmo geral</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">computeProblemSolution</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aCellsData, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aMatDist, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cellsNumb, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aMatSolution, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aMatAssignmentSolution)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       //  int     .      WMS   3  ( .,    10 ),         // aMatSolutionIteration -    : // [i][0]  , [i][1]     , [i][2]             // [i][3]        int **aMatSolutionIteration = new int*[cellsNumb]; for (int count = 0; count &lt; cellsNumb; count++) aMatSolutionIteration[count] = new int[4]; // aMatAssignmentSolutionIteration -     . [i][j] = 1 -  j   i, 0    int **aMatAssignmentSolutionIteration = new int*[cellsNumb]; for (int count = 0; count &lt; cellsNumb; count++) aMatAssignmentSolutionIteration[count] = new int[cellsNumb]; const int maxIteration = 10; int iter = 0, recordCosts = 1000000; //    ,      int totalDemand = 0; for (int i = 0; i &lt; cellsNumb; i++) totalDemand += aCellsData[i][1]; while (iter &lt; maxIteration) { //     setValueIn2Array(aMatAssignmentSolutionIteration, cellsNumb, cellsNumb, 0); //    setClearSolutionArray(aMatSolutionIteration, cellsNumb, 4); //      int *aFreeContainersFitnessFunction = new int[cellsNumb]; //   ,       findGreedyRandomSolution(aCellsData, aMatDist, cellsNumb, aMatSolutionIteration, aMatAssignmentSolutionIteration, aFreeContainersFitnessFunction, false); //         improveSolutionLocalSearch(aCellsData, aMatDist, cellsNumb, aMatSolutionIteration, aMatAssignmentSolutionIteration, totalDemand); //     (      ) bool feasible = isSolutionFeasible(aMatSolutionIteration, aCellsData, cellsNumb); //    ,    if (feasible == false) { getFeasibleSolution(aCellsData, aMatDist, cellsNumb, aMatSolutionIteration, aMatAssignmentSolutionIteration); } //        ,  ,          int totalCostsIteration = getSolutionTotalCosts(aMatSolutionIteration, cellsNumb); if (totalCostsIteration &lt; recordCosts) { recordCosts = totalCostsIteration; copy2Array(aMatSolution, aMatSolutionIteration, cellsNumb, 3); } iter++; } delete2Array(aMatSolutionIteration, cellsNumb); delete2Array(aMatAssignmentSolutionIteration, cellsNumb); return recordCosts; }</span></span></code> </pre> </div></div><br>  Vamos considerar em mais detalhes a opera√ß√£o do <b>algoritmo aleat√≥rio ganancioso</b> no est√°gio 1. Acredita-se que no in√≠cio nem um √∫nico cont√™iner de c√©lula seja selecionado. <br><br><ul><li>  <b>Etapa 1.</b> Para cada c√©lula do cont√™iner n√£o selecionada no momento, o valor √© calculado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-msubsup" id="MJXp-Span-2"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.036em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: 0.05em;"><span class="MJXp-mrow" id="MJXp-Span-6"><span class="MJXp-msup" id="MJXp-Span-7"><span class="MJXp-mi" id="MJXp-Span-8" style="margin-right: 0.05em;"></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-9" style="vertical-align: 0.4em;">‚Ä≤</span></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -1.07em;"><span class="MJXp-mrow" id="MJXp-Span-4"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">i</span></span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.531ex" height="3.142ex" viewBox="0 -935.7 1089.8 1352.7" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-46" x="0" y="0"></use><g transform="translate(781,344)"><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMAIN-2032" x="0" y="513"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-69" x="910" y="-430"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> F_ {i} ^ {'} </script>  f√≥rmula de custo <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-10"><span class="MJXp-msubsup" id="MJXp-Span-11"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.036em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: 0.05em;"><span class="MJXp-mrow" id="MJXp-Span-15"><span class="MJXp-msup" id="MJXp-Span-16"><span class="MJXp-mi" id="MJXp-Span-17" style="margin-right: 0.05em;"></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-18" style="vertical-align: 0.4em;">‚Ä≤</span></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -1.07em;"><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">i</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-20">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">c</span><span class="MJXp-mrow" id="MJXp-Span-25"><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-28" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">i</span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-30"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">N</span></span><span class="MJXp-mo" id="MJXp-Span-32" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.779ex" height="3.142ex" viewBox="0 -935.7 6793.7 1352.7" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-46" x="0" y="0"></use><g transform="translate(781,344)"><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMAIN-2032" x="0" y="513"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-69" x="910" y="-430"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMAIN-3D" x="1367" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-66" x="2673" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-72" x="3224" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-61" x="3675" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-63" x="4205" y="0"></use><g transform="translate(4638,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-69" x="910" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-4E" x="5626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMAIN-2C" x="6515" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> F_ {i} ^ {'} = \ frac {F_ {i}} {N}, </script></p>  onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-33"><span class="MJXp-msubsup" id="MJXp-Span-34"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35" style="margin-right: 0.05em;">F</span><span class="MJXp-script-box" style="height: 2.036em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: 0.05em;"><span class="MJXp-mrow" id="MJXp-Span-38"><span class="MJXp-msup" id="MJXp-Span-39"><span class="MJXp-mi" id="MJXp-Span-40" style="margin-right: 0.05em;"></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-41" style="vertical-align: 0.4em;">‚Ä≤</span></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -1.07em;"><span class="MJXp-mrow" id="MJXp-Span-36"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">i</span></span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.531ex" height="3.142ex" viewBox="0 -935.7 1089.8 1352.7" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-46" x="0" y="0"></use><g transform="translate(781,344)"><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMAIN-2032" x="0" y="513"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-69" x="910" y="-430"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> F_ {i} ^ {'} </script>  - o valor do custo de escolha de um cont√™iner <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-42"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-69" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> i </script>  e custos totais para a movimenta√ß√£o de mercadorias de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-44"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-4E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> N </script>  c√©lulas que ainda n√£o est√£o conectadas a nenhum cont√™iner no cont√™iner <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-46"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/463651/&amp;usg=ALkJrhgZDPi3mgLdU5Yk7O_tbDkQ1piDHw#MJMATHI-69" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> i </script>  .  Tais <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-48"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> N </script>  as c√©lulas s√£o selecionadas para que o volume total de mercadorias nelas n√£o exceda a capacidade do cont√™iner <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-50"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> i </script>  .  As c√©lulas doadoras s√£o selecionadas seq√ºencialmente para mover-se para um cont√™iner de cont√™iner <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-52"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> i </script>  a fim de aumentar o custo de mover a quantidade de mercadorias para o recipiente <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-54"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> i </script>  .  A sele√ß√£o de c√©lulas √© realizada at√© que a capacidade do cont√™iner seja excedida. </li><li>  <b>Etapa 2.</b> Conjunto formado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-56"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> R </script>  cont√™ineres com valor de fun√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-58"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">F</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> F </script>  n√£o excedendo o valor limite <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-60"><span class="MJXp-mtext" id="MJXp-Span-61">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">n</span><span class="MJXp-mo" id="MJXp-Span-65" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">F</span><span class="MJXp-mo" id="MJXp-Span-67" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-68">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">t</span><span class="MJXp-mo" id="MJXp-Span-73" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-74">1</span><span class="MJXp-mo" id="MJXp-Span-75" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">a</span><span class="MJXp-mo" id="MJXp-Span-77" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> \ min (F) \ cdot (1 + a) </script>  onde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-78"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> a </script>  no nosso caso, √© 0,2. </li><li>  <b>Etapa 3.</b> Aleatoriamente do conjunto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> R </script>  container est√° selecionado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-82"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> i </script>  . <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-84"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> N </script>  c√©lulas que foram selecionadas anteriormente no cont√™iner <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-86"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> i </script>  na etapa 1, eles s√£o finalmente atribu√≠dos a esse cont√™iner e n√£o participam mais dos c√°lculos do algoritmo ganancioso. </li><li>  <b>Etapa 4.</b> Se todas as c√©lulas doadoras forem atribu√≠das a cont√™ineres, o algoritmo ganancioso interromper√° o trabalho, caso contr√°rio, retornar√° √† etapa 1. </li></ul><br>  O algoritmo aleat√≥rio em cada itera√ß√£o tenta construir a solu√ß√£o de forma que haja um equil√≠brio entre a qualidade das solu√ß√µes que ele constr√≥i, bem como sua diversidade.  Esses dois requisitos para a tomada de decis√µes s√£o as principais condi√ß√µes para a opera√ß√£o bem-sucedida do algoritmo, pois: <br><br><ul><li>  se as solu√ß√µes forem de baixa qualidade, a melhoria subsequente no est√°gio 2 n√£o produzir√° resultados significativos, pois, mesmo melhorando a solu√ß√£o ruim, muitas vezes acabaremos com as mesmas solu√ß√µes de baixa qualidade; </li><li>  Se todas as solu√ß√µes forem boas, mas iguais, os procedimentos de pesquisa local convergir√£o para a mesma solu√ß√£o, n√£o √© de forma alguma um fato ideal.  Esse efeito √© chamado de atingir um m√≠nimo local e sempre deve ser evitado. </li></ul><br><div class="spoiler">  <b class="spoiler_title">C√≥digo de algoritmo aleat√≥rio ganancioso</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findGreedyRandomSolution</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aCellsData, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aMatDist, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cellsNumb, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aMatSolutionIteration, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aMatAssignmentSolutionIteration, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *aFreeContainersFitnessFunction, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> isOldSolution)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     int numCellsInSolution = 0; if (isOldSolution) { //     ,   aFreeContainersFitnessFunction //  numCellsInSolution ,       for (int i = 0; i &lt; cellsNumb; i++) { for (int j = 0; j &lt; cellsNumb; j++) { if (aMatAssignmentSolutionIteration[i][j] == 1) numCellsInSolution++; } } } //  ,        aFreeContainersFitnessFunction,     // [i][j] = 1,   j    i, 0  int **aFreeContainersAssigntCells = new int*[cellsNumb]; for (int count = 0; count &lt; cellsNumb; count++) aFreeContainersAssigntCells[count] = new int[cellsNumb]; while (numCellsInSolution != cellsNumb) { setValueIn2Array(aFreeContainersAssigntCells, cellsNumb, cellsNumb, 0); //    //               setFreeContainersFitnessFunction(aCellsData, aMatDist, cellsNumb, aFreeContainersFitnessFunction, aFreeContainersAssigntCells); //   ,    //       ,          int selectedRandomContainer = selectGoodRandomContainer(aFreeContainersFitnessFunction, cellsNumb); //          aMatSolutionIteration[selectedRandomContainer][0] = selectedRandomContainer; aMatSolutionIteration[selectedRandomContainer][1] = 0; aMatSolutionIteration[selectedRandomContainer][2] = aCellsData[selectedRandomContainer][2]; for (int j = 0; j &lt; cellsNumb; j++) { if (aFreeContainersAssigntCells[selectedRandomContainer][j] == 1) { aMatAssignmentSolutionIteration[selectedRandomContainer][j] = 1; aMatSolutionIteration[selectedRandomContainer][1] += aCellsData[j][1]; aMatSolutionIteration[selectedRandomContainer][2] += aMatDist[selectedRandomContainer][j]; aMatSolutionIteration[selectedRandomContainer][3] = 0; aFreeContainersFitnessFunction[j] = 10000; numCellsInSolution++; } } } delete2Array(aFreeContainersAssigntCells, cellsNumb); delete[] aFreeContainersFitnessFunction; } void setFreeContainersFitnessFunction(int **aCellsData, int **aMatDist, int cellsNumb, int *aFreeContainersFitnessFunction, int **aFreeContainersAssigntCells) { //  ,        i // [0][k] -      , [1][k] -   int **aCurrentDist = new int*[2]; for (int count = 0; count &lt; 2; count++) aCurrentDist[count] = new int[cellsNumb]; for (int i = 0; i &lt; cellsNumb; i++) { // 10000 -      ,        if (aFreeContainersFitnessFunction[i] &gt;= 10000) continue; //       int containerCurrentVolume = aCellsData[i][1]; //      int containerCosts = aCellsData[i][2]; //  -,    i int amountAssignedCell = 0; setCurrentDist(aMatDist, cellsNumb, aCurrentDist, i); for (int j = 0; j &lt; cellsNumb; j++) { int currentCell = aCurrentDist[1][j]; if (currentCell == i) continue; if (aFreeContainersFitnessFunction[currentCell] &gt;= 10000) continue; if (aCellsData[i][0] &lt; containerCurrentVolume + aCellsData[currentCell][1]) continue; aFreeContainersAssigntCells[i][currentCell] = 1; containerCosts += aCurrentDist[0][j]; containerCurrentVolume += aCellsData[currentCell][1]; amountAssignedCell++; } //           (     ) if (aCellsData[i][1] &gt; 0) { aFreeContainersAssigntCells[i][i] = 1; amountAssignedCell++; } //       1 (     ),       //           1. //          .      ,     //     (   )            . //         (     ),        //   ,             . if (amountAssignedCell &gt; 1) amountAssignedCell *= 10; if (amountAssignedCell &gt; 0) aFreeContainersFitnessFunction[i] = containerCosts / amountAssignedCell; else aFreeContainersFitnessFunction[i] = 10000; } delete2Array(aCurrentDist, 2); } int selectGoodRandomContainer(int *aFreeContainersFitnessFunction, int cellsNumb) { int minFit = 10000; for (int i = 0; i &lt; cellsNumb; i++) { if (minFit &gt; aFreeContainersFitnessFunction[i]) minFit = aFreeContainersFitnessFunction[i]; } int threshold = minFit * (1.2); // 20 %      //       int *aFreeContainersThresholdFitnessFunction = new int[cellsNumb]; int containerNumber = 0; for (int i = 0; i &lt; cellsNumb; i++) { if (threshold &gt;= aFreeContainersFitnessFunction[i] &amp;&amp; aFreeContainersFitnessFunction[i] &lt; 10000) { aFreeContainersThresholdFitnessFunction[containerNumber] = i; containerNumber++; } } int randomNumber = rand() % containerNumber; int randomContainer = aFreeContainersThresholdFitnessFunction[randomNumber]; delete[] aFreeContainersThresholdFitnessFunction; return randomContainer; }</span></span></code> </pre> </div></div><br>  Depois que a solu√ß√£o "inicial" √© constru√≠da no est√°gio 1, o algoritmo prossegue para o est√°gio 2, onde √© realizada a melhoria de uma solu√ß√£o encontrada, onde a melhoria significa naturalmente reduzir o custo total.  A l√≥gica do <b>algoritmo de pesquisa local</b> na etapa 2 √© a seguinte. <br><br><ul><li>  <b>Etapa 1.</b> Para a solu√ß√£o atual <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-88"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> S </script>  todas as solu√ß√µes "vizinhas" s√£o constru√≠das de acordo com algum tipo de vizinhan√ßa <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-90"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">N</span><span class="MJXp-mn" id="MJXp-Span-92">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> N1 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-93"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">N</span><span class="MJXp-mn" id="MJXp-Span-95">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> N2 </script>  , ..., <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-96"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">N</span><span class="MJXp-mn" id="MJXp-Span-98">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> N5 </script>  e para cada solu√ß√£o "vizinha", √© calculado o valor dos custos totais. </li><li>  <b>Etapa 2.</b> Se entre as solu√ß√µes vizinhas houver uma solu√ß√£o melhor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-99"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">S</span><span class="MJXp-mn" id="MJXp-Span-101">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> S1 </script>  que a solu√ß√£o original <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-102"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> S </script>  ent√£o <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-104"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> S </script>  assumiu igual <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-106"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">S</span><span class="MJXp-mn" id="MJXp-Span-108">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> S1 </script>  e o algoritmo prossegue para a etapa 1. Caso contr√°rio, se entre as solu√ß√µes vizinhas n√£o houvesse solu√ß√£o melhor que a original, a visualiza√ß√£o da vizinhan√ßa muda para uma nova n√£o considerada anteriormente e o algoritmo prossegue para a etapa 1. Se todas as visualiza√ß√µes dispon√≠veis da vizinhan√ßa forem consideradas, mas falharam Para encontrar uma solu√ß√£o melhor que a original, o algoritmo termina seu trabalho. </li></ul><br>  As vistas dos arredores s√£o selecionadas seq√ºencialmente na seguinte pilha: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-109"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">N</span><span class="MJXp-mn" id="MJXp-Span-111">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> N1 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-112"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">N</span><span class="MJXp-mn" id="MJXp-Span-114">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> N2 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-115"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">N</span><span class="MJXp-mn" id="MJXp-Span-117">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> N3 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-118"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">N</span><span class="MJXp-mn" id="MJXp-Span-120">4</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> N4 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-121"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">N</span><span class="MJXp-mn" id="MJXp-Span-123">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> N5 </script>  .  As vistas da √°rea circundante s√£o divididas em 2 tipos: o primeiro tipo (bairro <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-124"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">N</span><span class="MJXp-mn" id="MJXp-Span-126">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> N1 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-127"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">N</span><span class="MJXp-mn" id="MJXp-Span-129">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> N2 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-130"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">N</span><span class="MJXp-mn" id="MJXp-Span-132">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> N3 </script>  ), onde muitos cont√™ineres n√£o mudam, mas apenas as op√ß√µes para anexar c√©lulas doadoras mudam;  segundo tipo (bairro <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-133"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">N</span><span class="MJXp-mn" id="MJXp-Span-135">4</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> N4 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-136"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">N</span><span class="MJXp-mn" id="MJXp-Span-138">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> N5 </script>  ), onde n√£o apenas as op√ß√µes para anexar c√©lulas aos cont√™ineres s√£o alteradas, mas tamb√©m os diversos cont√™ineres. <br><br>  N√≥s denotamos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-139"><span class="MJXp-mrow" id="MJXp-Span-140"><span class="MJXp-mo" id="MJXp-Span-141" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">J</span><span class="MJXp-mrow" id="MJXp-Span-143"><span class="MJXp-mo" id="MJXp-Span-144" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> | J | </script>  - o n√∫mero de elementos no conjunto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-145"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">J</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> J </script>  .  As figuras abaixo representam op√ß√µes para <b>bairros do primeiro tipo</b> . <br><br><img src="https://habrastorage.org/webt/cz/je/zc/czjezclnxomxtpya4venw2kc1ke.jpeg"><br>  <i>Fig.</i>  <i>7. Bairro</i> <math> </math><i><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-147"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">N</span><span class="MJXp-mn" id="MJXp-Span-149">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> N1 </script></i> <br><br>  Bairro <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-150"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">N</span><span class="MJXp-mn" id="MJXp-Span-152">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> N1 </script>  (ou vizinhan√ßa do <b>turno</b> ): cont√©m todas as op√ß√µes para solucionar o problema diferente do original, alterando o anexo de apenas uma c√©lula doadora no cont√™iner.  Tamanho do bairro n√£o mais <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-153"><span class="MJXp-mrow" id="MJXp-Span-154"><span class="MJXp-mo" id="MJXp-Span-155" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">J</span><span class="MJXp-mrow" id="MJXp-Span-157"><span class="MJXp-mo" id="MJXp-Span-158" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> | J | </script>  op√ß√µes <br><br><img src="https://habrastorage.org/webt/wd/kd/qt/wdkdqtp5up59kdivwqopwsanijq.jpeg"><br>  <i>Fig.</i>  <i>8. Bairro</i> <math> </math><i><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-159"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">N</span><span class="MJXp-mn" id="MJXp-Span-161">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> N2 </script></i> <br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo do algoritmo de busca local no bairro N1</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findBestSolutionInNeighborhoodN1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aCellsData, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aMatDist, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> cellsNumb, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aMatSolutionIteration, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> **aMatAssignmentSolutionIteration, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> totalDemand, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> stayFeasible)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//        int recordDeltaCosts, recordCell, recordNewContainer, recordNewCosts, recordNewPenalty, recordOldContainer, recordOldCosts, recordOldPenalty; do { recordDeltaCosts = 10000; int totalContainersCapacity = 0; for (int i = 0; i &lt; cellsNumb; i++) if (aMatSolutionIteration[i][1] &gt; 0) totalContainersCapacity += aCellsData[i][0]; //   - for (int j = 0; j &lt; cellsNumb; j++) { //   ,     j int currentContainer; for (int i = 0; i &lt; cellsNumb; i++) { if (aMatAssignmentSolutionIteration[i][j] == 1) { currentContainer = i; break; } } //   ,     j (  ) int numbAssignedCells = 0; if (aMatSolutionIteration[j][0] &gt;= 0) { for (int i = 0; i &lt; cellsNumb; i++) { if (aMatAssignmentSolutionIteration[j][i] == 1) { numbAssignedCells = i; } } } else { numbAssignedCells = 0; } //    j        ,     j,       //     ""           ,     if (j == currentContainer &amp;&amp; numbAssignedCells &gt; 1) { continue; } //         int currentTotalContainersCapacity = totalContainersCapacity - aCellsData[currentContainer][0]; //  ,   ,        j    int currentCosts = aMatDist[currentContainer][j]; //        j         ,      if (aMatSolutionIteration[currentContainer][1] - aCellsData[j][1] == 0) currentCosts += aCellsData[currentContainer][2]; //        j        ,      int currentPenelty = getPenaltyValueForSingleCell(aCellsData, aMatSolutionIteration, currentContainer, j, 0); currentCosts += currentPenelty; for (int i = 0; i &lt; cellsNumb; i++) { if (i == currentContainer) continue; if (stayFeasible) { if (max(0, aMatSolutionIteration[i][1]) + aCellsData[j][1] &gt; aCellsData[i][0]) continue; } else { if (currentTotalContainersCapacity + aCellsData[i][0] &lt; totalDemand) continue; } //     int newCosts = aMatDist[i][j]; //      if (aMatSolutionIteration[i][0] == -1) newCosts += aCellsData[i][2]; //        int newPenalty = getPenaltyValueForSingleCell(aCellsData, aMatSolutionIteration, i, j, 1); newCosts += newPenalty; int deltaCosts = newCosts - currentCosts; if (deltaCosts &lt; 0 &amp;&amp; deltaCosts &lt; recordDeltaCosts) { recordDeltaCosts = deltaCosts; recordCell = j; recordNewContainer = i; recordNewCosts = newCosts; recordNewPenalty = newPenalty; recordOldContainer = currentContainer; recordOldCosts = currentCosts; recordOldPenalty = currentPenelty; } } } //   ,       if (recordDeltaCosts &lt; 0) { //             aMatSolutionIteration[recordOldContainer][1] -= aCellsData[recordCell][1]; aMatSolutionIteration[recordOldContainer][2] -= recordOldCosts; if (aMatSolutionIteration[recordOldContainer][1] == 0) aMatSolutionIteration[recordOldContainer][0] = -1; aMatSolutionIteration[recordOldContainer][3] -= recordOldPenalty; aMatAssignmentSolutionIteration[recordOldContainer][recordCell] = 0; //             aMatSolutionIteration[recordNewContainer][1] += aCellsData[recordCell][1]; aMatSolutionIteration[recordNewContainer][2] += recordNewCosts; if (aMatSolutionIteration[recordNewContainer][0] == -1) aMatSolutionIteration[recordNewContainer][0] = recordNewContainer; aMatSolutionIteration[recordNewContainer][3] += recordNewPenalty; aMatAssignmentSolutionIteration[recordNewContainer][recordCell] = 1; //checkCorrectnessSolution(aCellsData, aMatDist, aMatAssignmentSolutionIteration, aMatSolutionIteration, cellsNumb); } } while (recordDeltaCosts &lt; 0); }</span></span></code> </pre> </div></div><br>  Bairro <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-162"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">N</span><span class="MJXp-mn" id="MJXp-Span-164">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> N2 </script>  (ou vizinhan√ßa de <b>troca</b> ): cont√©m todas as op√ß√µes para solucionar o problema que diferem do original pela troca m√∫tua de anexos aos cont√™ineres por um par de c√©lulas doadoras.  Tamanho do bairro n√£o mais <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-165"><span class="MJXp-mrow" id="MJXp-Span-166"><span class="MJXp-mo" id="MJXp-Span-167" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">J</span><span class="MJXp-msubsup" id="MJXp-Span-169"><span class="MJXp-mrow" id="MJXp-Span-170" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-172" style="vertical-align: 0.5em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> | J | ^ 2 </script>  op√ß√µes <br><br><img src="https://habrastorage.org/webt/jg/gz/sf/jggzsff9yfubrbmgn5f79z_nd18.jpeg"><br>  <i>Fig.</i>  <i>9. Bairro</i> <math> </math><i><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-173"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">N</span><span class="MJXp-mn" id="MJXp-Span-175">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> N3 </script></i> <br><br>  Bairro <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-176"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">N</span><span class="MJXp-mn" id="MJXp-Span-178">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> N3 </script>  : cont√©m todas as op√ß√µes para resolver o problema, que diferem do original pela substitui√ß√£o m√∫tua do anexo de todas as c√©lulas por um par de recipientes.  Tamanho do bairro n√£o mais <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-179"><span class="MJXp-mrow" id="MJXp-Span-180"><span class="MJXp-mo" id="MJXp-Span-181" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">I</span><span class="MJXp-mrow" id="MJXp-Span-183"><span class="MJXp-mo" id="MJXp-Span-184" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> | I | </script>  op√ß√µes <br><br>  <b>O segundo tipo de bairros √©</b> considerado como um mecanismo de "diversifica√ß√£o" de decis√µes, quando j√° √© imposs√≠vel obter melhorias pesquisando os bairros "pr√≥ximos" do primeiro tipo. <br><br><img src="https://habrastorage.org/webt/qu/d4/uv/qud4uvctwiev2bmimavak7mp43m.jpeg"><br>  <i>Fig.</i>  <i>10. Bairro</i> <math> </math><i><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-185"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">N</span><span class="MJXp-mn" id="MJXp-Span-187">4</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48"> N4 </script></i> <br><br>  Bairro <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-188"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">N</span><span class="MJXp-mn" id="MJXp-Span-190">4</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> N4 </script>  : cont√©m todas as op√ß√µes para solucionar o problema diferente do original, removendo uma c√©lula do cont√™iner da solu√ß√£o.  As c√©lulas doadoras que foram anexadas a um cont√™iner que foi removido da solu√ß√£o s√£o conectadas a outros cont√™ineres para minimizar a quantidade de custos de transporte e a penalidade por exceder a capacidade do cont√™iner.  Tamanho do bairro n√£o mais <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-191"><span class="MJXp-mrow" id="MJXp-Span-192"><span class="MJXp-mo" id="MJXp-Span-193" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">I</span><span class="MJXp-mrow" id="MJXp-Span-195"><span class="MJXp-mo" id="MJXp-Span-196" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> | I | </script>  op√ß√µes <br><br><img src="https://habrastorage.org/webt/4r/vr/rz/4rvrrzul-b_nsdsehtj1goxvsau.jpeg"><br>  <i>Fig.</i>  <i>11. Bairro</i> <math> </math><i><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-197"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">N</span><span class="MJXp-mn" id="MJXp-Span-199">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> N5 </script></i> <br><br>  Bairro <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-200"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">N</span><span class="MJXp-mn" id="MJXp-Span-202">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> N5 </script>  : cont√©m todas as op√ß√µes para resolver o problema diferente do original, desconectando c√©lulas de um cont√™iner e anexando essas c√©lulas a outro cont√™iner vazio para um par de cont√™ineres arbitr√°rio.  Tamanho do bairro n√£o mais <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-203"><span class="MJXp-mrow" id="MJXp-Span-204"><span class="MJXp-mo" id="MJXp-Span-205" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">I</span><span class="MJXp-msubsup" id="MJXp-Span-207"><span class="MJXp-mrow" id="MJXp-Span-208" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-209" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-210" style="vertical-align: 0.5em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> | I | ^ 2 </script>  op√ß√µes <br><br>  Os autores do artigo afirmam que, com base nos resultados de experimentos computacionais, a melhor op√ß√£o √© procurar primeiro bairros "pr√≥ximos" do primeiro tipo e depois procurar bairros "distantes". <br><br>  Observe que os autores do artigo recomendam fazer uma pesquisa nas proximidades, sem levar em conta as restri√ß√µes de capacidade de cada cont√™iner.  Em vez disso, se a capacidade do cont√™iner for excedida, adicione ao custo total da solu√ß√£o uma quantidade positiva de ‚Äúfino‚Äù, o que prejudicar√° a atratividade de tal solu√ß√£o em compara√ß√£o com outras solu√ß√µes.  A √∫nica restri√ß√£o √© colocada no volume total de cont√™ineres, ou seja, o volume total de mercadorias transportadas das c√©lulas doadoras n√£o deve exceder a capacidade total dos cont√™ineres.  Essa remo√ß√£o das restri√ß√µes √© feita porque, se as restri√ß√µes forem levadas em considera√ß√£o, geralmente a vizinhan√ßa n√£o conter√° uma √∫nica solu√ß√£o aceit√°vel e o algoritmo de busca local concluir√° seu trabalho imediatamente ap√≥s o in√≠cio, sem fazer nenhuma melhoria.  A Figura 12 mostra um exemplo de opera√ß√£o de pesquisa local sem levar em conta restri√ß√µes na capacidade de cada cont√™iner. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fa/yo/pg/fayopguk6rdqukl6pscagxus3bi.jpeg"></div><br>  <i>Fig.</i>  <i>12. O trabalho de busca local sem levar em conta restri√ß√µes √† capacidade de cada cont√™iner</i> <br><br>  Nesta figura, sup√µe-se que os res√≠duos vermelho e verde de algumas c√©lulas doadoras n√£o sejam ben√©ficos para se mover para qualquer outro recipiente, exceto o segundo.  Isso significa que √© imposs√≠vel melhorar ainda mais a solu√ß√£o, uma vez que qualquer outra solu√ß√£o vi√°vel para o problema, onde as restri√ß√µes de capacidade s√£o respeitadas, ser√° pior que a original em termos de custos de transporte.  Como voc√™ pode ver, o algoritmo para 2 itera√ß√µes cria uma solu√ß√£o vi√°vel muito melhor do que o original, apesar do fato de a primeira itera√ß√£o criar uma solu√ß√£o inv√°lida com excesso de capacidade. <br><br>  Observe que essa abordagem de introdu√ß√£o de uma ‚Äúpenalidade‚Äù pela inadmissibilidade de uma solu√ß√£o √© bastante comum na otimiza√ß√£o discreta e √© frequentemente usada em algoritmos como algoritmos gen√©ticos, busca de tabus etc. <br><br>  Ap√≥s a conclus√£o do algoritmo de pesquisa local, se a solu√ß√£o encontrada ainda for inaceit√°vel, ou seja, os limites de capacidade do cont√™iner foram excedidos em algum lugar, devemos levar a solu√ß√£o encontrada para uma forma aceit√°vel, onde todas as restri√ß√µes √† capacidade do cont√™iner sejam respeitadas.  O algoritmo para resolver a inadmissibilidade da solu√ß√£o √© o seguinte. <br><br><ul><li>  <b>Etapa 1.</b> Fa√ßa uma pesquisa local nos bairros de <b>troca</b> e <b>troca</b> .  Nesse caso, a transi√ß√£o √© realizada apenas nas decis√µes que reduzem com precis√£o o valor da ‚Äúmulta‚Äù.  Se a redu√ß√£o da penalidade n√£o for poss√≠vel, √© escolhida uma solu√ß√£o com custos totais mais baixos.  Se n√£o for poss√≠vel melhorar ainda mais a pesquisa local, v√° para a etapa 2; caso contr√°rio, se a solu√ß√£o resultante for v√°lida, conclua o algoritmo. </li><li>  <b>Etapa 2.</b> Se a solu√ß√£o ainda for inaceit√°vel, em cada cont√™iner onde houver excesso de capacidade, as c√©lulas doadoras ser√£o destacadas em ordem crescente de volume de mercadorias at√© que a restri√ß√£o de capacidade seja atendida.  Para essas c√©lulas desanexadas, todas as etapas do algoritmo, come√ßando pela primeira, s√£o repetidas, apesar de os muitos cont√™ineres selecionados dispon√≠veis e o m√©todo de anexar as c√©lulas restantes a eles serem fixos e n√£o poderem ser alterados.  Observe que essa etapa 2, como mostra o experimento computacional, deve ser executada muito raramente. </li></ul><br><h4>  Experimento computacional e an√°lise da efici√™ncia de algoritmos </h4><br>  O algoritmo GRASP foi implementado do zero em <i>C ++</i> , pois n√£o encontramos o c√≥digo-fonte para o algoritmo descrito no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> .  O c√≥digo do programa foi compilado usando g ++ com a op√ß√£o de otimiza√ß√£o -O2. <br><br>  O c√≥digo do projeto do Visual Studio est√° dispon√≠vel no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> .  A √∫nica coisa que o cliente pediu foi remover alguns dos procedimentos de pesquisa local mais complexos por motivos de propriedade intelectual, segredos comerciais etc. <br><br>  No <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> que descreve o algoritmo GRASP, foi declarada sua alta efici√™ncia, onde por efici√™ncia significa que ele calcula de maneira est√°vel solu√ß√µes muito pr√≥ximas da ideal e que funciona rapidamente.  Para verificar a real efic√°cia de um algoritmo GRASP, realizamos nosso pr√≥prio experimento computacional.  Os dados de entrada do problema foram gerados por n√≥s aleatoriamente com uma distribui√ß√£o uniforme.  As solu√ß√µes calculadas pelo algoritmo foram comparadas com as solu√ß√µes √≥timas, calculadas pelo algoritmo exato proposto no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> .  Fontes desse algoritmo exato est√£o dispon√≠veis gratuitamente no GitHub por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">refer√™ncia</a> .  A dimens√£o da tarefa, por exemplo, 10x100 significa que temos 10 c√©lulas doadoras e 100 c√©lulas cont√™ineres. <br><br>  Os c√°lculos foram realizados em um computador pessoal com as seguintes caracter√≠sticas: CPU 2,50 GHz, Intel Core i5-3210M, 8 GB de RAM, sistema operacional Windows 10 (x64). <br><div class="scrollable-table"><table><tbody><tr><th>   </th><th>  <br>  <br>  </th><th>   <br>   GRASP </th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tempo m√©dio de execu√ß√£o </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritmo </font><font style="vertical-align: inherit;">exato</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O erro m√©dio do </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritmo GRASP,%</font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 5x50 </font></font></td><td>  50. </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,08 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1,22 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,2 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10x50 </font></font></td><td>  50. </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,14 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3,75 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,4 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10x100 </font></font></td><td>  50. </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0,55 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 15,81 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1.4 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10x200 </font></font></td><td>  25 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2,21 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 82,73 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1.8 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 20x100 </font></font></td><td>  25 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1.06 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 264,15 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2,3 </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 20x200 </font></font></td><td>  25 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 4,21 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 797,39 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2.7 </font></font></td></tr></tbody></table></div> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabela 3. Compara√ß√£o do tempo de opera√ß√£o do algoritmo GRASP e o algoritmo exato</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como pode ser visto na tabela 3, o algoritmo GRASP realmente calcula solu√ß√µes pr√≥ximas √†s √≥timas e, com um aumento na dimens√£o do problema, a qualidade das solu√ß√µes do algoritmo se deteriora levemente. </font><font style="vertical-align: inherit;">Tamb√©m √© visto pelos resultados do experimento que o algoritmo GRASP √© bastante r√°pido, por exemplo, resolve um problema de dimens√£o de 10x100 em m√©dia em 0,5 segundos. </font><font style="vertical-align: inherit;">Vale ressaltar, no final, que os resultados de nosso experimento computacional s√£o consistentes com os resultados do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Executando o algoritmo na produ√ß√£o </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois que o algoritmo foi desenvolvido, depurado e testado em um experimento computacional, chegou a hora de coloc√°-lo em opera√ß√£o. </font><font style="vertical-align: inherit;">O algoritmo foi implementado em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e foi colocado em uma DLL conectada ao aplicativo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como um componente externo do tipo Nativo. </font><font style="vertical-align: inherit;">Leia </font><font style="vertical-align: inherit;">sobre os componentes externos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e como desenvolv√™-los e conect√°-los adequadamente ao aplicativo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C </font></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No programa "1C: Gerenciamento de armaz√©m 3", foi desenvolvido um formul√°rio de processamento no qual o usu√°rio pode iniciar o procedimento de compress√£o de res√≠duos com os par√¢metros de que precisa. </font><font style="vertical-align: inherit;">Uma captura de tela do formul√°rio √© mostrada abaixo. </font></font><br><br><img src="https://habrastorage.org/webt/6z/tx/1t/6ztx1tuxo69y0fwnbjavsfozpug.jpeg"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 13. </font><font style="vertical-align: inherit;">A forma do procedimento para "compress√£o" de saldos no Ap√™ndice 1C: Gerenciamento de armaz√©m 3</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O usu√°rio pode selecionar os par√¢metros de compacta√ß√£o para res√≠duos no formato </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modo de compacta√ß√£o: com agrupamento de lotes (consulte o primeiro artigo) e sem ele. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O armaz√©m nas c√©lulas do qual √© necess√°rio realizar a compacta√ß√£o. </font><font style="vertical-align: inherit;">Em uma sala, pode haver v√°rios armaz√©ns para diferentes organiza√ß√µes. </font><font style="vertical-align: inherit;">Tal situa√ß√£o estava com o nosso cliente.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Al√©m disso, o usu√°rio pode ajustar interativamente a quantidade de mercadorias transferidas da c√©lula doadora para o cont√™iner e excluir o item da lista para compacta√ß√£o, se por algum motivo ele desejar que n√£o participe do procedimento de compacta√ß√£o. </font></font></li></ul><br><h4>  Conclus√£o </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No final do artigo, quero resumir a experi√™ncia adquirida como resultado da introdu√ß√£o de um algoritmo de otimiza√ß√£o. </font></font><br><br><ul><li>      <b>  </b>     .        :  ,  ,     .               <b>- </b> : <br><ol><li> <b></b> ,        ; </li><li> <b>  </b>      . </li></ol></li><li> <b>   </b>      (          ), ,     .    ¬´¬ª,      -       .    ,      ,       . , ,      ,   - ,  . </li><li>        ,       (   ),  <b>    </b>   .   ,      ,            .    ,       .            .          ,     . </li><li>         : <br><ol><li>      . </li><li>        . </li><li>        .      ,  . </li><li>       .   ,     .          ,  ,            ,  ,    . </li><li> ,     .           (    )          .               ,      . </li><li>       . </li></ol></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E, eu acho, a coisa mais importante. O processo de otimiza√ß√£o na empresa geralmente deve seguir ap√≥s a conclus√£o do processo de informatiza√ß√£o. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A otimiza√ß√£o sem informatiza√ß√£o preliminar √© de pouca utilidade</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pois n√£o h√° onde obter dados e n√£o h√° onde gravar os dados da solu√ß√£o do algoritmo. Penso que a maioria das m√©dias e grandes empresas dom√©sticas fecharam as necessidades b√°sicas de automa√ß√£o e informatiza√ß√£o e est√£o prontas para mais otimiza√ß√£o de processos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, praticamos ap√≥s a implementa√ß√£o do sistema de informa√ß√£o, seja ERP, WMS, TMS, etc. fa√ßa pequeno extra. projetos para otimizar os processos identificados durante a implementa√ß√£o do sistema de informa√ß√µes como problem√°ticos e importantes para o cliente. Eu acho que essa √© uma pr√°tica promissora que ganhar√° for√ßa nos pr√≥ximos anos.</font></font><br><br> <i>  <br>  ,   , <br>   , . </i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt463651/">https://habr.com/ru/post/pt463651/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt463631/index.html">Di√°logos sobre letras</a></li>
<li><a href="../pt463637/index.html">Testando sua infraestrutura como c√≥digo com Pulumi. Parte 2</a></li>
<li><a href="../pt463639/index.html">Well Apple BLEee</a></li>
<li><a href="../pt463647/index.html">V√≠deos e relat√≥rios com o SmartMail Meetup: Frontend</a></li>
<li><a href="../pt463649/index.html">Nota anal√≠tica. Revis√£o da ordem do Minist√©rio da Energia da Federa√ß√£o da R√∫ssia de 6 de novembro de 2018 N 1015</a></li>
<li><a href="../pt463653/index.html">Limita√ß√µes dos jogos de 16 bits e sua recrea√ß√£o no Unity</a></li>
<li><a href="../pt463655/index.html">O nascimento de um projeto ou como escrever seu pr√≥prio CMS</a></li>
<li><a href="../pt463657/index.html">Chatbots √© uma merda</a></li>
<li><a href="../pt463663/index.html">10 livros para entender a estrutura do mercado de a√ß√µes, investimento na bolsa de valores e negocia√ß√£o automatizada</a></li>
<li><a href="../pt463665/index.html">1,1 bilh√£o de viagens de t√°xi: cluster ClickHouse de 108 n√∫cleos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>