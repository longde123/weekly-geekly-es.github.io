<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฒ ๐๏ธ ๐ฏ ูุฎุชุจุฑ: ุชูููู LVM ุ ุบุงุฑุฉ ุนูู ููููุณ ๐ ๐๐ฝ ๐ฉ๐ผโ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงุณุชุทุฑุงุฏุง ุตุบูุฑุง: ูุฐุง ูู ุงุตุทูุงุนู. 


 ูููู ุฅุฌุฑุงุก ุจุนุถ ุงูููุงู ุงูููุถุญุฉ ููุง ุจุณูููุฉ ุฃูุจุฑ ุ ูููู ูุธุฑูุง ูุฃู ูููุฉ l / r ูู ุงูุชุนุฑู ุนูู ูุธููุฉ raid ุ lvm ุ ูุฅู ุจุนุถ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุฎุชุจุฑ: ุชูููู LVM ุ ุบุงุฑุฉ ุนูู ููููุณ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450896/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงุณุชุทุฑุงุฏุง ุตุบูุฑุง: ูุฐุง ูู ุงุตุทูุงุนู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฅุฌุฑุงุก ุจุนุถ ุงูููุงู ุงูููุถุญุฉ ููุง ุจุณูููุฉ ุฃูุจุฑ ุ ูููู ูุธุฑูุง ูุฃู ูููุฉ l / r ูู ุงูุชุนุฑู ุนูู ูุธููุฉ raid ุ lvm ุ ูุฅู ุจุนุถ ุงูุนูููุงุช ูุนูุฏุฉ ุจุดูู ูุตุทูุน. </p><br><h2 id="trebovaniya-k-instrumentam-dlya-vypolneniya-lr" style=";text-align:right;direction:rtl">  ูุชุทูุจุงุช ุงูุฃุฏูุงุช ุงููุงุฒูุฉ ูุชูููุฐ l \ r: </h2><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃุฏูุงุช ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ ูุซู Virtualbox </li><li style=";text-align:right;direction:rtl">  ุตูุฑุฉ ุชุซุจูุช Linux ูุซู <a href="">Debian9</a> </li><li style=";text-align:right;direction:rtl">  ุชููุฑ ุงูุฅูุชุฑูุช ูุชูุฒูู ุนุฏุฉ ุญุฒู </li><li style=";text-align:right;direction:rtl">  ุงูุงุชุตุงู ุนุจุฑ ssh ุจุฌูุงุฒ VM ุงููุซุจุช (ุงุฎุชูุงุฑู) </li></ul><br><h2 id="vnimanie" style=";text-align:right;direction:rtl">  ุชูุจูู </h2><br><p style=";text-align:right;direction:rtl">  ูุฑุชุจุท ูุฐุง ุงูุนูู ุงููุฎุชุจุฑู ุจูุณุฃูุฉ ุญุณุงุณุฉ ูุซู ุฃูุงู ุงูุจูุงูุงุช - ููุฐุง ูุฌุงู ูุณูุญ ูู ุจููุฏุงู ุฌููุน ุจูุงูุงุชู ุจุณุจุจ ุฃุตุบุฑ ุฎุทุฃ - ุญุฑู ุฃู ุฑูู ุฅุถุงูู ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุจูุง ุฃูู ุชููู ุจุนูู ูุฎุจุฑู ุ ูุฃูุช ูุณุช ูู ุฎุทุฑ ุ ุฅูุง ุฅุฐุง ูุงู ุนููู ุงูุจุฏุก ูู ุงูููุงู ุจุฐูู ูุฑุฉ ุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุญูุงุฉ ุงููุงูุนูุฉ ุ ูู ุดูุก ุฃูุซุฑ ุฎุทูุฑุฉ ุ ูุฐุง ูุฌุจ ุนููู ุฅุฏุฎุงู ุฃุณูุงุก ุงูุฃูุฑุงุต ุจุนูุงูุฉ ูุงุฆูุฉ ุ ูููู ูุง ุชููู ุจู ุจุงูุถุจุท ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุญุงูู ูุฃู ุงูุฃูุฑุงุต ุงูุชู ุชุนูู ูุนูุง. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ุงูููุทุฉ ุงููููุฉ ุงูุซุงููุฉ ูู ุชุณููุฉ ุงูุฃูุฑุงุต ูุงูุฃูุณุงู: ุงุนุชูุงุฏูุง ุนูู ุงููููู ุ ูุฏ ุชุฎุชูู ุฃุฑูุงู ุงูุฃูุฑุงุต ุนู ุชูู ุงูููู ุงููุงุฑุฏุฉ ูู ุงูุฃูุงูุฑ ูู ุงููุฎุชุจุฑ. <br>  ูุฐูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุจุฅุฒุงูุฉ ูุญุฑู ุงูุฃูุฑุงุต sda ูู ุงูุตููู ุ ุซู ููุช ุจุฅุถุงูุฉ ูุญุฑู ุฃูุฑุงุต ุฌุฏูุฏ ุ ูุณูุชู ุนุฑุถ ูุญุฑู ุงูุฃูุฑุงุต ุงูุฌุฏูุฏ ุนูู ุงููุธุงู ุจุงุณู sda.  ุฅุฐุง ููุช ุจุฅุนุงุฏุฉ ุงูุชุดุบูู ูุจู ุฅุถุงูุฉ ูุฑุต ุฌุฏูุฏ ุ ูุณูุชู ุชุณููุฉ ุงููุฑุต ุงูุฌุฏูุฏ ุจุงุณู sdb ุ ูุณูุชู ุชุณููุฉ ุงููุฑุต ุงููุฏูู ุจู sda </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชู ุนูู ุงููุฎุชุจุฑ ุชุญุช ุงูุฎุงุฑู (ุงูุฌุฐุฑ) ูุฃู ูุนุธู ุงูุฃูุงูุฑ ุชุชุทูุจ ุงูุชูุงุฒุงุช ูุฑุชูุนุฉ ูููุณ ูู ุงูููุทูู ุฑูุน ุงูุงูุชูุงุฒุงุช ุจุงุณุชูุฑุงุฑ ูู ุฎูุงู sudo. </p><br><h2 id="materialy-dlya-izucheniya" style=";text-align:right;direction:rtl">  ููุงุฏ ุงูุฏุฑุงุณุฉ </h2><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  RAID </li><li style=";text-align:right;direction:rtl">  LVM </li><li style=";text-align:right;direction:rtl">  ุชุณููุฉ ุงููุฑุต ููููุณ </li><li style=";text-align:right;direction:rtl">  ูุง ูู ุงููุณู </li><li style=";text-align:right;direction:rtl">  ูุง ูู ุฌุฏูู ุงูุชูุณูู ูุฃูู ูุชู ุชุฎุฒููู </li><li style=";text-align:right;direction:rtl">  ูุง ูู ุงููุฑูุฉ </li></ul><br><h2 id="ispolzuemye-utility" style=";text-align:right;direction:rtl">  ุงููุฑุงูู ุงููุณุชุฎุฏูุฉ </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนุฑุถ ูุนูููุงุช ุงููุฑุต: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  lsblk -o NAME ุ SIZE ุ FSTYPE ุ TYPE ุ MUNTPOINT </li><li style=";text-align:right;direction:rtl">  fdisk -l </li></ul></li><li style=";text-align:right;direction:rtl">  ุนุฑุถ ุงููุนูููุงุช ูุงูุนูู ูุน LVM <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุต ู </li><li style=";text-align:right;direction:rtl">  pvextend </li><li style=";text-align:right;direction:rtl">  pvcreate </li><li style=";text-align:right;direction:rtl">  pvresize </li><li style=";text-align:right;direction:rtl">  VGS </li><li style=";text-align:right;direction:rtl">  vgreduce </li><li style=";text-align:right;direction:rtl">  ููุณ </li><li style=";text-align:right;direction:rtl">  lvextend </li></ul></li><li style=";text-align:right;direction:rtl">  ุนุฑุถ ุงููุนูููุงุช ูุงูุนูู ูุน RAID: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุท / ุจุฑูู / ูุฏุณุชุงุช </li><li style=";text-align:right;direction:rtl">  mdadm </li></ul></li><li style=";text-align:right;direction:rtl">  ููุงุท ุฌุจู: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฌุจู </li><li style=";text-align:right;direction:rtl">  umount </li><li style=";text-align:right;direction:rtl">  ุงููุท / ุงูุฎ / ูุณุชุงุจ </li><li style=";text-align:right;direction:rtl">  ุงููุท / ุงูุฎ / ูุชุนุจ </li></ul></li><li style=";text-align:right;direction:rtl">  ุฅุนุงุฏุฉ ุชูุณูู ุงููุฑุต: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  fdisk / dev / XXX </li></ul></li><li style=";text-align:right;direction:rtl">  ูุณุฎ ุงูุฃูุณุงู: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  dd if = / dev / xxx of = / dev / yyy </li></ul></li><li style=";text-align:right;direction:rtl">  ุงูุนูู ูุน ุฌุฏูู ุงููุณู: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  partx </li><li style=";text-align:right;direction:rtl">  sfdisk </li><li style=";text-align:right;direction:rtl">  mkfs.ext4 </li></ul></li><li style=";text-align:right;direction:rtl">  ุงูุนูู ูุน ูุญูู ุงูุฅููุงุน: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  grub-install / dev / XXX </li><li style=";text-align:right;direction:rtl">  ุงูุชุญุฏูุซ ููุด </li></ul></li><li style=";text-align:right;direction:rtl">  ูุชูุฑูุงุช <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  lsof </li><li style=";text-align:right;direction:rtl">  ุนุฑุถุฉ </li><li style=";text-align:right;direction:rtl">  ุฑุณููู </li></ul></li></ol><br><h2 id="laboratornaya-rabota-sostoit-iz-3-h-chastey" style=";text-align:right;direction:rtl">  ูุชููู ุงููุฎุชุจุฑ ูู 3 ุฃุฌุฒุงุก: </h2><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูููู ูุธุงู ุตุญู ุจุงุณุชุฎุฏุงู LVM ุ ุบุงุฑุฉ. </li><li style=";text-align:right;direction:rtl">  ูุถุงูุงุฉ ูุดู ุฃุญุฏ ูุญุฑูุงุช ุงูุฃูุฑุงุต. </li><li style=";text-align:right;direction:rtl">  ุงุณุชุจุฏุงู ุงูุฃูุฑุงุต ุนูู ุงูุทุงูุฑ ุ ูุน ุฅุถุงูุฉ ุฃูุฑุงุต ุฌุฏูุฏุฉ ูููู ุงููุณู. </li></ul><br><h2 id="zadanie-1-ustanovka-os-i-nastroyka-lvm-raid" style=";text-align:right;direction:rtl">  ุงููููุฉ 1 (ุชุซุจูุช ูุธุงู ุงูุชุดุบูู ูุชูููู LVM ุ RAID) </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ุฌูุงุฒ ุธุงูุฑู ุฌุฏูุฏ ุจุงูููุฒุงุช ุงูุชุงููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  1 ุบูุบุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู </li><li style=";text-align:right;direction:rtl">  1 ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ </li><li style=";text-align:right;direction:rtl">  ูุฑุตุงู ุตูุจุงู (ูู ุจุชุณููุฉููุง ssd1 ู ssd2 ููู ุจุชุนููู ุญุฌู ูุชุณุงูู ูุชุญูู ูู ูุฑุจุนุงุช ุงููุจุงุฏูุฉ ุงูุณุงุฎูุฉ ู ssd) </li><li style=";text-align:right;direction:rtl">  ูุญุฏุฉ ุชุญูู SATA ููููุฉ ุนูู 4 ููุงูุฐ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/18f/6f5/be6/18f6f5be6afbc13138abc3dfe960813b.png" alt="ุญุฏุฏ ุฃูุฑุงุต SSD"></li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงุจุฏุฃ ูู ุชุซุจูุช Linux ูุงูุชูู ุฅูู ุงุฎุชูุงุฑ ูุญุฑูุงุช ุงูุฃูุฑุงุต ุงูุซุงุจุชุฉ ุจูุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุทุฑููุฉ ุงูุชูุณูู: ุฏููู ุ ูุจุนุฏ ุฐูู ุณุชุฑู ุงูุตูุฑุฉ ุงูุชุงููุฉ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/77a/eb5/3a1/77aeb53a1de2bc7b91d1396dc9b4148e.png" alt="ุฃูุฑุงุต ุงูุชูุณูู"></li><li style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ ูุณู ูููุตู ุถูู / boot: ุญุฏุฏ ุงููุฑุต ุงูุฃูู ููู ุจุฅูุดุงุก ุฌุฏูู ูุณู ุฌุฏูุฏ ุนููู: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุญุฌู ุงููุณู: 512M </li><li style=";text-align:right;direction:rtl">  ููุทุฉ ุฌุจู: / ุงูุชูููุฏ </li></ul></li><li style=";text-align:right;direction:rtl">  ูุฑุฑ ุงูุฅุนุฏุงุฏ ูููุฑุต ุงูุซุงูู ุ ูููู ุจูุง ุฃูู ูุง ููููู ุงูุชุญููู / ุงูุชูููุฏ ูุฑุชูู ูู ููุณ ุงูููุช ุ ูุญุฏุฏ ููุทุฉ ุงูุชุญููู: ูุง ุดูุก ุ ูุฃุฎูุฑุงู ุงุญุตู ุนูู ูุง ููู (ุตูุฑุฉ ูุน ุฏุนุงูุฉ ุ ุฃุนูุฏู ุงููุณู): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3db/2f0/e48/3db2f0e48423f182016bde06c39dfb8d.png" alt="ุฃูุฑุงุต ุงูุชูุณูู"></li><li style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ RAID: </li><li style=";text-align:right;direction:rtl">  ุญุฏุฏ ุงููุณุงุญุฉ ุงูุญุฑุฉ ุนูู ุงููุฑุต ุงูุฃูู ููู ุจุชูููู ูุญุฏุฉ ุงูุชุฎุฒูู ุงููุนููุฉ ูู RAID ูููุน ุงููุณู. </li><li style=";text-align:right;direction:rtl">  ุญุฏุฏ "ุชู ุฅุนุฏุงุฏ ุงููุณู" </li><li style=";text-align:right;direction:rtl">  ูุฑุฑ ููุณ ุงูุฅุนุฏุงุฏ ุจุงูุถุจุท ูููุฑุต ุงูุซุงูู ุ ููุง ุฃุฏู ุฅูู ูุง ููู: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/93f/37c/ec3/93f37cec319d628a3267f94d138145e7.png" alt="ุฃูุฑุงุต ุงูุชูุณูู"></li><li style=";text-align:right;direction:rtl">  ุญุฏุฏ "ุชูููู ุจุฑูุงูุฌ RAID" <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุฌูุงุฒ MD </li><li style=";text-align:right;direction:rtl">  ููุน ุฌูุงุฒ RAID ููุจุฑูุงูุฌ: ุญุฏุฏ ูุตูููุฉ ุฐุงุช ูุณุฎ ูุชุทุงุจูุฉ </li><li style=";text-align:right;direction:rtl">  ุงูุฃุฌูุฒุฉ ุงููุดุทุฉ ูุตููู RAID XXXX: ุญุฏุฏ ููุง ูุญุฑูู ุงูุฃูุฑุงุต </li><li style=";text-align:right;direction:rtl">  ูุทุน ุงูุบูุงุฑ: ุงุชุฑู ุตูุฑูุง ูุฅุนุฏุงุฏ ุงูุชุฑุงุถู </li><li style=";text-align:right;direction:rtl">  ุงูุฃุฌูุฒุฉ ุงููุดุทุฉ ูุตููู RAID XX: ุญุฏุฏ ุงูุฃูุณุงู ุงูุชู ููุช ุจุฅูุดุงุฆูุง ุชุญุช ุงูุบุงุฑุฉ </li><li style=";text-align:right;direction:rtl">  ููุงูุฉ </li></ul></li><li style=";text-align:right;direction:rtl">  ูู ุงูููุงูุฉ ุ ูุฌุจ ุฃู ุชุญุตู ุนูู ูุฐู ุงูุตูุฑุฉ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7a7/9b0/3f5/7a79b03f556925d1fd53ccc4ca77b494.png" alt="ุฃูุฑุงุต ุงูุชูุณูู"></li><li style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ LVM: ุญุฏุฏ "ุชูููู ุฅุฏุงุฑุฉ ุงูุชุฎุฒูู ุงูููุทูู" </li><li style=";text-align:right;direction:rtl">  ุงูุญูุงุธ ุนูู ุชุฎุทูุท ุงููุณู ุงูุญุงูู ูุชูููู LVM: ูุนู </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุฌููุนุฉ ูุญุฏุฉ ุงูุชุฎุฒูู </li><li style=";text-align:right;direction:rtl">  ุงุณู ูุฌููุนุฉ ุงููุฌูุฏ: ุงููุธุงู </li><li style=";text-align:right;direction:rtl">  ุงูุฃุฌูุฒุฉ ุงูุฎุงุตุฉ ุจูุฌููุนุฉ ูุญุฏุงุช ุงูุชุฎุฒูู ุงูุฌุฏูุฏุฉ: ุงุฎุชุฑ RAID ุงูุฐู ุชู ุฅูุดุงุคู </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุญุฌู ููุทูู <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณู ูุญุฏุฉ ุงูุชุฎุฒูู ุงูููุทููุฉ: ุงูุฌุฐุฑ </li><li style=";text-align:right;direction:rtl">  ุญุฌู ูุญุฏุฉ ุงูุชุฎุฒูู ุงูููุทููุฉ: 2 \ 5 ูู ุญุฌู ุงููุฑุต ุงูุฎุงุต ุจู </li></ul></li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุญุฌู ููุทูู <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณู ูุญุฏุฉ ุงูุชุฎุฒูู ุงูููุทููุฉ: var </li><li style=";text-align:right;direction:rtl">  ุญุฌู ูุญุฏุฉ ุงูุชุฎุฒูู ุงูููุทููุฉ: 2 \ 5 ูู ุญุฌู ุงููุฑุต ุงูุฎุงุต ุจู </li></ul></li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุญุฌู ููุทูู <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณู ูุญุฏุฉ ุงูุชุฎุฒูู ุงูููุทููุฉ: ุณุฌู </li><li style=";text-align:right;direction:rtl">  ุญุฌู ูุญุฏุฉ ุงูุชุฎุฒูู ุงูููุทููุฉ: 1 \ 5 ูู ุญุฌู ุงููุฑุต ุงูุฎุงุต ุจู </li></ul></li><li style=";text-align:right;direction:rtl">  ุนูุฏ ุงุฎุชูุงุฑ ุชูุงุตูู ุชูููู ุงูุนุฑุถ ุ ูุฌุจ ุฃู ุชุญุตู ุนูู ุงูุตูุฑุฉ ุงูุชุงููุฉ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0b8/8dd/11f/0b88dd11f9372dbf8e53a6727fc69b27.png" alt="ุฃูุฑุงุต ุงูุชูุณูู"></li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุงูุชูุงุก ูู ุชูููู LVM ุ ุณุชุฑู ูุง ููู: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/72b/9d4/00d/72b9d400d9b83392c759b7aeb3e9d573.png" alt="ุฃูุฑุงุต ุงูุชูุณูู"></li><li style=";text-align:right;direction:rtl">  ุงูุชูุณูู: ุจุฏูุฑู ุ ุญุฏุฏ ูู ูุญุฏุฉ ุชุฎุฒูู ุชู ุฅูุดุงุคูุง ูู LVM ููุณููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุฌุฐุฑ ูุซู ูุฐุง: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ูู: ext4 </li><li style=";text-align:right;direction:rtl">  ููุทุฉ ุงูุชุฑููุจ: / </li></ul></li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชููู ูุชูุฌุฉ ุชูููุฒ ุงููุณู ุงูุฌุฐุฑ ููุง ููู: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/225/61e/0be/22561e0be2cd905e0948a63ae3460461.png" alt="ุฃูุฑุงุต ุงูุชูุณูู"></li><li style=";text-align:right;direction:rtl">  ูุฑุฑ ุนูููุฉ ุงูุชุฑููุฒ ูู var ูุณุฌู ูู ุฎูุงู ุชุญุฏูุฏ ููุงุท ุงูุชุญููู ุงูููุงุณุจุฉ (/ var ู / var / log ุฅุฏุฎุงู ูุฏูููุง) ุ ูุงูุญุตูู ุนูู ุงููุชูุฌุฉ ุงูุชุงููุฉ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5da/58c/756/5da58c756fd8d205a93ebfd49acc396f.png" alt="ุฃูุฑุงุต ุงูุชูุณูู"></li><li style=";text-align:right;direction:rtl">  ุงุฎุชุฑ "ุฅููุงุก ุงูุชูุณูู" </li><li style=";text-align:right;direction:rtl">  ุณููุทุฑุญ ุนููู ุจุนุถ ุงูุฃุณุฆูุฉ ุญูู ุญูููุฉ ุฃูู ูุง ูุฒุงู ูุฏูู ูุณู ุบูุฑ ูุซุจุช ููุง ูุชู ุชูููู ุงููุจุงุฏูุฉ.  ูุฌุจ ุงูุฅุฌุงุจุฉ ุนูู ููุง ุงูุณุคุงููู ุจุงูููู. </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุจุฏู ุงููุชูุฌุฉ ุงูููุงุฆูุฉ ููุง ููู: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/117/381/a61/117381a61b766df3c89d2646baa2b33d.png" alt="ุฃูุฑุงุต ุงูุชูุณูู"></li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุฅููุงุก ุชุซุจูุช ูุธุงู ุงูุชุดุบูู ุนู ุทุฑูู ุชุซุจูุช grub ุนูู ุงูุฌูุงุฒ ุงูุฃูู (sda) ููู ุจุชุดุบูู ุงููุธุงู. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุณุฎ ูุญุชููุงุช ูุณู / boot ูู ูุญุฑู ุงูุฃูุฑุงุต sda (ssd1) ุฅูู ูุญุฑู ุงูุฃูุฑุงุต sdb (ssd2) </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">dd if=/dev/sda1 of=/dev/sdb1</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุซุจูุช ุงููุฑูุฉ ุนูู ุงูุฌูุงุฒ ุงูุซุงูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุนุฑุถ ูุญุฑูุงุช ุงูุฃูุฑุงุต ูู ุงููุธุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">fdisk -l lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li><li style=";text-align:right;direction:rtl">  ูู ุจุฅุฏุฑุงุฌ ูุงูุฉ ุงูุฃูุฑุงุต ุงูุชู ุฃุตุฏุฑูุง ุงูุฃูุฑ ุงูุณุงุจู ูู ููุตู ููุน ุงููุฑุต ุงูุฐู ูู ุนููู. </li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุญุฏุฏ ูููุน ูุญุฑู ุงูุฃูุฑุงุต ุงูุฐู ูู ูุชู ุชุซุจูุช ุงููุฑูุฉ ุนููู ูุฃููู ูุฐุง ุงูุชุซุจูุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">grub-install /dev/sdb</code> </pre> <br></li><li style=";text-align:right;direction:rtl">  ุนุฑุถ ุงูุบุงุฑุฉ ุงูุญุงููุฉ ูุน ุงููุท / ุจุฑูู / mdstat ูุงูุชุจ ูุง ุฑุฃูุชู. </li><li style=";text-align:right;direction:rtl">  ุงูุธุฑ ุฅูู ูุฎุฑุฌุงุช ุงูุฃูุงูุฑ: pvs ุ vgs ุ lvs ุ ูู ุจุชุฑููุจ ูุงูุชุจ ูุง ุฑุฃูุชู ุจุงูุถุจุท. </li></ul><br></li></ol><br><p style=";text-align:right;direction:rtl">  ุตู ุจูููุงุชู ูุง ููุช ุจู ูุงููุชูุฌุฉ ุงูุชู ุญุตูุช ุนูููุง ููุชูุฌุฉ ูููููุฉ ุงูููุชููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุงูุชูุงุก ูู ูุฐู ุงููููุฉ ุ ููุตู ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูููุฌูุฏ ุจุงุณุชุฎุฏุงู ุงูุฌูุงุฒ ุงูุธุงูุฑู ุฃู ุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฑุจุน ูุชุดุฑุฏ</a> . </p><br><p style=";text-align:right;direction:rtl">  ุงููุชูุฌุฉ: ุฌูุงุฒ ุงูุชุฑุงุถู ูุน ุฃูุฑุงุต ssd1 ุ ssd2. </p><br><h2 id="zadanie-2-emulyaciya-otkaza-odnogo-iz-diskov" style=";text-align:right;direction:rtl">  ุงููููุฉ 2 (ูุญุงูุงุฉ ูุดู ุฃุญุฏ ูุญุฑูุงุช ุงูุฃูุฑุงุต) </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุญุฏุฏุช ูุฑุจุน ุงุฎุชูุงุฑ ุงูุชุจุฏูู ุงูุณุฑูุน ุ ูููููู ุญุฐู ุงูุฃูุฑุงุต ุฃุซูุงุก ุงูุทูุฑุงู: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุญุฐู ูุญุฑู ุงูุฃูุฑุงุต ssd1 ูู ุฎุตุงุฆุต ุงูุฌูุงุฒ. </li><li style=";text-align:right;direction:rtl">  ุงุจุญุซ ุนู ุงูุฏููู ุญูุซ ูุชู ุชุฎุฒูู ูููุงุช ุงูุฌูุงุฒ ุงูุธุงูุฑู ูุญุฐู ssd1.vmdk. </li></ul></li><li style=";text-align:right;direction:rtl">  ุชุฃูุฏ ูู ุฃู ุฌูุงุฒู ุงูุธุงูุฑู ูุง ูุฒุงู ููุฏ ุงูุชุดุบูู. </li><li style=";text-align:right;direction:rtl">  ุฃุนุฏ ุชุดุบูู ุงูุฌูุงุฒ ุงูุธุงูุฑู ูุชุฃูุฏ ูู ุฃูู ูุง ูุฒุงู ูุนูู </li><li style=";text-align:right;direction:rtl">  ุชุญูู ูู ุญุงูุฉ ูุฌููุนุฉ RAID: <code>cat /proc/mdstat</code> </li><li style=";text-align:right;direction:rtl">  ุฃุถู ูุฑุตูุง ุฌุฏูุฏูุง ุจููุณ ุงูุญุฌู ูู ูุงุฌูุฉ VM ููู ุจุชุณููุฉ ssd3. </li><li style=";text-align:right;direction:rtl">  ุฃุฏุงุก ุงูุนูููุงุช: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุธุฑ ุฅูู ุงููุฑุต ุงูุฌุฏูุฏ ุงูุฐู ูุฃุชู ุฅูู ุงููุธุงู ุจุงุณุชุฎุฏุงู <code>fdisk -l</code> </li><li style=";text-align:right;direction:rtl">  ุงูุณุฎ ุฌุฏูู ุงููุณู ูู ุงููุฑุต ุงููุฏูู ุฅูู ุงูุฌุฏูุฏ: <code>sfdisk -d /dev/XXXX | sfdisk /dev/YYY</code> <code>sfdisk -d /dev/XXXX | sfdisk /dev/YYY</code> </li><li style=";text-align:right;direction:rtl">  ุนุฑุถ ุงููุชูุฌุฉ ูุน <code>fdisk -l</code> </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ูุฑุต ุฌุฏูุฏ ุฅูู ูุฌููุนุฉ ุงูุบุงุฑุฉ: <code>mdadm --manage /dev/md0 --add /dev/YYY</code> </li><li style=";text-align:right;direction:rtl">  ุงูุธุฑ ุงููุชูุฌุฉ: <code>cat /proc/mdstat</code> .  ูุฌุจ ุฃู ุชุฑู ุฃู ุงูุชุฒุงูู ูุฏ ุจุฏุฃ. </li></ul></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฃูุช ุงูุขู ุจุญุงุฌุฉ ุฅูู ูุฒุงููุฉ ุงูุฃูุณุงู ุงูุชู ูุง ุชุดูู ุฌุฒุกูุง ูู RAID.  ููููุงู ุจุฐูู ุ ุณูู ูุณุชุฎุฏู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ dd ุ ุจุงููุณุฎ ูู ุงููุฑุต "ุงููุจุงุดุฑ" ุฅูู ุงููุฑุต ุงูุฌุฏูุฏ ุงูุฐู ููุช ุจุชุซุจูุชู ูุคุฎุฑูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">dd if=/dev/XXX of=/dev/YYY</code> </pre> <br></li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุชูุงู ุงููุฒุงููุฉ ุ ูู ุจุชุซุจูุช grub ุนูู ุงููุฑุต ุงูุฌุฏูุฏ. </li><li style=";text-align:right;direction:rtl">  ุฃุนุฏ ุชุดุบูู VM ููุชุฃูุฏ ูู ุฃู ูู ุดูุก ูุนูู. </li></ol><br><p style=";text-align:right;direction:rtl">  ุตู ุจูููุงุชู ูุง ููุช ุจู ูุงููุชูุฌุฉ ุงูุชู ุญุตูุช ุนูููุง ููุชูุฌุฉ ูููููุฉ ุงูููุชููุฉ. </p><br><p style=";text-align:right;direction:rtl">  <strong>ุงููุชูุฌุฉ:</strong> ุฅุฒุงูุฉ ูุญุฑู ุงูุฃูุฑุงุต ssd1 ุ ุญูุธ ูุญุฑู ุงูุฃูุฑุงุต ssd2 ุ ุฅุถุงูุฉ ูุญุฑู ุงูุฃูุฑุงุต ssd3. </p><br><h2 id="zadanie-3-dobavlenie-novyh-diskov-i-perenos-razdela" style=";text-align:right;direction:rtl">  ุงููููุฉ 3 (ุฅุถุงูุฉ ุฃูุฑุงุต ุฌุฏูุฏุฉ ูุชูุณูู) </h2><br><p style=";text-align:right;direction:rtl">  ูุฐู ูู ุงููููุฉ ุงูุฃูุซุฑ ุตุนูุจุฉ ูุถุฎุงูุฉ ูู ุฌููุน ุงูููุฏูุฉ.  ุชุญูู ุจุนูุงูุฉ ููุง ุชูุนูู ูุจุฃู ุงูุฃูุฑุงุต ูุงูุฃูุณุงู.  ููุตู ุจุฃุฎุฐ ูุณุฎุฉ ูุจู ุชูููุฐูุง.  ูุฐู ุงููููุฉ ุ ุจุบุถ ุงููุธุฑ ุนู ุงููููุฉ ุฑูู 2 ุ ูููู ุชูููุฐูุง ุจุนุฏ ุงููููุฉ ุฑูู 1 ุ ุงููุนุฏูุฉ ูุฃุณูุงุก ุงูุฃูุฑุงุต. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุคุฏู ุงูุฌุฒุก ุงูุซุงูู ูู ูููุฉ ูุฐุง ุงููุฎุชุจุฑ ุฅูู ููุณ ุงูุญุงูุฉ ุชูุงููุง ููุง ูุงู ุจุนุฏ ุฅููุงู ุงูุฌุฒุก ุงูุฃูู. </p><br><p style=";text-align:right;direction:rtl">  ูุชุณููู ุงูุนูู ุ ุฃูุตู ุจุนุฏู ุญุฐู ุงูุฃูุฑุงุต ูุนูููุง ูู ุงูุฌูุงุฒ ุงููุถูู ุ ูููู ููุท ูุทุน ุงูุงุชุตุงู ุจูุง ูู ุฎุตุงุฆุต ุงูุฌูุงุฒ.  ูู ูุฌูุฉ ูุธุฑ ูุธุงู ุงูุชุดุบูู ูู ุฌูุงุฒ VM ุ ุณูุจุฏู ูุฐุง ูู ููุณู ุชูุงููุง ุ ูููู ูู ูุฐู ุงูุญุงูุฉ ููููู ุชูุตูู ูุญุฑู ุงูุฃูุฑุงุต ูุฑุฉ ุฃุฎุฑู ูููุงุตูุฉ ุงูุนูู ุนู ุทุฑูู ุงุณุชุนุงุฏุฉ ุจุถุน ููุงุท ูู ุญุงู ูุงุฌูุชู ุฃู ูุดุงูู.  ุนูู ุณุจูู ุงููุซุงู ุ ุฑุจูุง ุชููู ูุฏ ููุช ุจุงูุฃุฏุงุก ุจุดูู ุบูุฑ ุตุญูุญ ุฃู ูุณูุช ูุณุฎ ูุณู / boot ุฅูู ูุฑุต ุฌุฏูุฏ.  ูุง ูููููู ุฃู ุฃูุตุญู ููุท ุจุงูุชุญูู ุนุฏุฉ ูุฑุงุช ูู ุงูุฃูุฑุงุต ูุงูุฃูุณุงู ุงูุชู ุชุนูู ุจูุง ุ ูุงูุฃูุถู ูู ุฐูู ุ ูุชุงุจุฉ ูุฑุงุณูุงุช ุงูุฃูุฑุงุต ูุงูุฃูุณุงู ูุฑูู ุงููุฑุต "ุงููุนูู" ุนูู ูุทุนุฉ ูู ุงููุฑู.  ูุฑุณู ุงูุฃูุฑ <code>lsblk</code> ุดุฌุฑุฉ ุฌูููุฉ ููููููุฉ ุ <code>lsblk</code> ูุฏุฑ ุงููุณุชุทุงุน ูุชุญููู ูุง ููุช ุจู ููุง ูุฌุจ ุงูููุงู ุจู. </p><br><p style=";text-align:right;direction:rtl">  ุฅูู ุงููุตุฉ ... </p><br><p style=";text-align:right;direction:rtl">  ุชุฎูู ุฃู ุงูุฎุงุฏู ุงูุฎุงุต ุจู ูุนูู ููุชุฑุฉ ุทูููุฉ ุนูู ุฃูุฑุงุต ssd 2 ุ ุนูุฏูุง ูุฌุฃุฉ ... </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุญุงูุงุฉ ูุดู ูุฑุต ssd2 ุนู ุทุฑูู ุฅุฒุงูุฉ ุงููุฑุต ูู ุฎุตุงุฆุต VM ูุฅุนุงุฏุฉ ุงูุชุดุบูู. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุนุฑุถ ุงูุญุงูุฉ ุงูุญุงููุฉ ููุฃูุฑุงุต ู RAID: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat /proc/mdstat fdisk -l lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฃูุช ูุญุธูุธ - ุณูุญุช ุงูุณูุทุงุช ุจุดุฑุงุก ุนุฏุฉ ุฃูุฑุงุต ุฌุฏูุฏุฉ: </p><br><p style=";text-align:right;direction:rtl">  2 ูุญุฏุงุช ุชุฎุฒูู SATA ูุจูุฑุฉ ูููููุฉ ุงูุชู ุทุงู ุงูุชุธุงุฑูุง ููู ููู ูุณู ุงูุณุฌู ุฅูู ูุฑุต ูููุตู.  2 SSDs ููุญู ูุญู ุงููุชููู ุ ููุฐูู ููุญู ูุญู ูุง ูุฒุงู ูุนูู. </p><br><p style=";text-align:right;direction:rtl">  ุถุน ูู ุงุนุชุจุงุฑู ุฃู ุณูุฉ ุงูุฎุงุฏู ุชุฏุนู ุชุซุจูุช 4 ูุญุฑูุงุช ุฃูุฑุงุต ููุท.  ูู ููุณ ุงูููุช ุ ูุฐูู ูุง ููููู ุฅุถุงูุฉ ุฌููุน ุงูุฃูุฑุงุต ูุฑุฉ ูุงุญุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุญุฌู ุงููุฑุต ุงูุตูุจ ูุงุฎุชูุงุฑ 2 ูุฑุงุช ุฃูุซุฑ ูู SSD. <br>  ุญุฌู SSD ุงุฎุชูุงุฑ 1.25 ุฃุถุนุงู ุญุฌู SSD ุงูุณุงุจู. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฃุถู ูุญุฑู ุฃูุฑุงุต ssd ุฌุฏูุฏูุง ุ ููู ุจุชุณููุชู ุจุงุณู ssd4 ุ ูุจุนุฏ ุฅุถุงูุฉ ุชุญูู ูุง ุญุฏุซ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">fdisk -l lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูุฌุจ ุฃู ุชูุชู ุจุณูุงูุฉ ุจูุงูุงุช ุงููุฑุต ุงููุฏูู.  ูุฐู ุงููุฑุฉ ุณูููู ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู LVM: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุชุญุชุงุฌ ุฅูู ูุณุฎ ุฌุฏูู ุงููููุงุช ูู ุงููุฑุต ุงููุฏูู ุฅูู ุงูุฌุฏูุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sfdisk -d /dev/XXX | sfdisk /dev/YYY</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุณุชุจุฏู ุงูุฃูุฑุงุต ุงูุตุญูุญุฉ ุจุฏูุงู ูู x ู y ูุงูุชุดู ูุง ููุนูู ูุฐุง ุงูุฃูุฑ. </p><br></li><li style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู lsblk -o NAME ู SIZE ู FSTYPE ู TYPE ู MOUNTPOINT ููุงุฑู ูุงุชุฌูุง ูุน ุงูููุงููุฉ ุงูุณุงุจูุฉ.  ูุง ุงูุฐู ุชุบูุฑุ </li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุงูุฃูุฑ dd ููุณุฎ ุจูุงูุงุช / boot ุฅูู ุงููุฑุต ุงูุฌุฏูุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">dd if=/dev/XXX of=/dev/YYY</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุธู / boot ูุซุจุชูุง ุนูู ูุญุฑู ุงูุฃูุฑุงุต ุงููุฏูู ุ ููุฌุจ ุชุซุจูุชู ุนูู ูุญุฑู ุฃูุฑุงุต ูุจุงุดุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mount | grep boot <span class="hljs-comment"><span class="hljs-comment">#     lsblk #           ,     umount /boot #  /boot mount -a #      /etc/fstab. #      /dev/sda,        </span></span></code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุชุซุจูุช ุฃุฏุงุฉ ุชุญููู ุงูุชุดุบูู ุนูู ูุญุฑู ุงูุฃูุฑุงุต ssd ุงูุฌุฏูุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">grub-install /dev/YYY</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงุฐุง ููุนู ูุฐู ุงูุนูููุฉุ </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ูุฌููุนุฉ ุบุงุฑุฉ ุฌุฏูุฏุฉ ูุน ุชุถููู ูุญุฑู ุฃูุฑุงุต ssd ุฌุฏูุฏ ูุงุญุฏ ููุท: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mdadm --create --verbose /dev/md63 --level=1 --raid-devices=1 /dev/YYY</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุนูู ุงูุฃูุฑ ุฃุนูุงู ุฏูู ุชุญุฏูุฏ ููุชุงุญ ุฎุงุต ุ ุงูุฑุฃ ุงูุชุนูููุงุช ูุฃุถู ูุฐุง ุงูููุชุงุญ ุฅูู ุงูุฃูุฑ. </p><br></li><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุงูุฃูุฑ cat / proc / mdstat ููุชุญูู ูู ูุชูุฌุฉ ุงูุนูููุฉ.  ูุง ุงูุฐู ุชุบูุฑุ </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู lsblk -o NAME ู SIZE ู FSTYPE ู TYPE ู MOUNTPOINT ููุงุฑู ูุงุชุฌูุง ูุน ุงูููุงููุฉ ุงูุณุงุจูุฉ.  ูุง ุงูุฐู ุชุบูุฑุ </li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ูุชูููู LVM </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ุงูุฃูุฑ pvs ูุนุฑุถ ูุนูููุงุช ุญูู ูุญุฏุงุช ุงูุชุฎุฒูู ุงููุนููุฉ ุงูุญุงููุฉ. </li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ูุญุฏุฉ ุชุฎุฒูู ูุนููุฉ ุฌุฏูุฏุฉ ูู ุฎูุงู ุชุถููู ุตููู RAID ุงูุฐู ุชู ุฅูุดุงุคู ูุณุจููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">pvcreate /dev/md63</code> </pre> <br></li><li style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู lsblk -o NAME ู SIZE ู FSTYPE ู TYPE ู MOUNTPOINT ููุงุฑู ูุงุชุฌูุง ูุน ุงูููุงููุฉ ุงูุณุงุจูุฉ.  ูุง ุงูุฐู ุชุบูุฑุ </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ุงูุฃูุฑ pvs ูุฑุฉ ุฃุฎุฑู.  ูุง ุงูุฐู ุชุบูุฑุ </li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุฒูุงุฏุฉ ุญุฌู ูุธุงู Volume Group ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">vgextend system /dev/md63</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ุงูุฃูุงูุฑ ูุงูุชุจ ูุง ุฑุฃูุชู ููุง ุงูุฐู ุชุบูุฑ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">vgdisplay system -v pvs vgs lvs -a -o+devices</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ุงููุฑุต ุงููุนูู LV var ุ ุณุฌู ุ ุงูุฌุฐุฑ ุงูุขูุ </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงููู ุงูุจูุงูุงุช ูู ูุญุฑู ุงูุฃูุฑุงุต ุงููุฏูู ุฅูู ูุญุฑู ุงูุฃูุฑุงุต ุงูุฌุฏูุฏ ุนู ุทุฑูู ุงุณุชุจุฏุงู ุฃุณูุงุก ุงูุฃุฌูุฒุฉ ุงูุตุญูุญุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">pvmove -i 10 -n /dev/system/root /dev/md0 /dev/md63</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฑุฑ ุงูุนูููุฉ ูุฌููุน ุงูุญุฌู ุงูููุทูู. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ุงูุฃูุงูุฑ ูุงูุชุจ ูุง ุฑุฃูุชู ููุง ุงูุฐู ุชุบูุฑ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">vgdisplay system -v pvs vgs lvs -a -o+devices lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุบููุฑ VG ูุฏููุง ุนู ุทุฑูู ุฅุฒุงูุฉ ุงูุบุงุฑุฉ ุงููุฏููุฉ ููู.  ุงุณุชุจุฏุงู ุงุณู ุงูุบุงุฑุฉ ุงูุตุญูุญ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">vgreduce system /dev/md0</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ุงูุฃูุงูุฑ ูุงูุชุจ ูุง ุฑุฃูุชู ููุง ุงูุฐู ุชุบูุฑ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT pvs vgs</code> </pre> <br></li><li style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุฌูุงู ุงูุตูุฑุฉ ุ ูู ุจุฅุนุงุฏุฉ ุชุญููู / ุชุดุบูู ูุญุฑู ุงูุฃูุฑุงุต ssd ุงูุซุงูู (ssd4) ูุชุดุบูู lsblk.  ูุชูุฌุฉ ูุฐูู ุ ูุง ูุฌุจ ุชุญููู ุฃู ุดูุก ุนูู ุงููุฑุต ssd3.  ุชุญูู ุจุนูุงูุฉ ูู ุฃู ูุณู / boot ููุณ ูุงุฑุบูุง!  <code>ls /boot</code> ูุฌุจ ุฃู ุชุธูุฑ ุงูุนุฏูุฏ ูู ุงููููุงุช ูุงููุฌูุฏุงุช.  ุงูุญุต ูุง ุชู ุชุฎุฒููู ูู ูุฐุง ุงููุณู ูุงูุชุจ ุงูููู / ุงูุฏููู ุงููุณุคูู ุนู ูุงุฐุง. </li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฃุฒู ูุฑุต ssd3 ูุฃุถู ssd5 ุ hdd1 ุ hdd2 ููููุง ูููุนุงุฑู ุงูุชูููุฏูุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ุ ูุญุตู ูู ุงูููุงูุฉ ุนูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  SSD4 - ุฃูู SSD ุฌุฏูุฏุฉ </li><li style=";text-align:right;direction:rtl">  SSD5 - ุงูุซุงููุฉ SSD ุฌุฏูุฏุฉ </li><li style=";text-align:right;direction:rtl">  ุงูุฃูุฑุงุต ุงูุตูุจุฉ - ุฃูู ุงูุฃูุฑุงุต ุงูุตูุจุฉ ุงูุฌุฏูุฏุฉ </li><li style=";text-align:right;direction:rtl">  ุงูุฃูุฑุงุต ุงูุตูุจุฉ - ุงูุซุงููุฉ ุงูุฃูุฑุงุต ุงูุตูุจุฉ ุงูุฌุฏูุฏุฉ </li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุญูู ููุง ุญุฏุซ ุจุนุฏ ุฅุถุงูุฉ ุงูุฃูุฑุงุต: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">fdisk -l lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฏุนููุง ุงุณุชุนุงุฏุฉ ูุฌููุนุฉ ุงูุบุงุฑุฉ ุงูุฑุฆูุณูุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงูุณุฎ ุฌุฏูู ุงููุณู ุ ูุงุณุชุจุฏู ุงูุฃูุฑุงุต ุงูุตุญูุญุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sfdisk -d /dev/XXX | sfdisk /dev/YYY</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุฑุฌู ููุงุญุธุฉ ุฃูู ุนูุฏูุง ูููุง ุจูุณุฎ ุฌุฏูู ุงูุฃูุณุงู ูู ุงููุฑุต ุงููุฏูู ุ ุงุชุถุญ ุฃู ุงูุญุฌู ุงูุฌุฏูุฏ ูุง ูุณุชุฎุฏู ูุณุงุญุฉ ุงููุฑุต ุงูุซุงุจุช ุจุฃููููุง.  ูุฐูู ุ ุณูุญุชุงุฌ ูุฑูุจูุง ุฅูู ุชุบููุฑ ุญุฌู ูุฐุง ุงููุณู ูุชูุณูุน ุงูุบุงุฑุฉ.  ุงูุธุฑ ูููุณู ุนู ุทุฑูู ุฅุฏุฎุงู ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงูุณุฎ ูุณู ุงูุชูููุฏ / boot ูู ssd4 ุฅูู ssd5: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">dd if=/dev/XXX of=/dev/YYY</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุซุจูุช ุงููุฑูุฉ ุนูู ุงููุฑุต ุงูุฌุฏูุฏ (SSD5). </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุบููุฑ ุญุฌู ุงููุณู ุงูุซุงูู ูู ูุญุฑู SSD5. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ููุนูู ูุน ุชุฎุทูุท ุงููุฑุต: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">fdisk /dev/XXX</code> </pre> <br></li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ d ูุญุฐู ุงููุณู ุงูููุฌูุฏ (ุญุฏุฏ 2). </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ n ูุฅูุดุงุก ูุณู ุฌุฏูุฏ. </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ p ููุฅุดุงุฑุฉ ุฅูู ููุน ุงููุณู ุงูุฃุณุงุณู. </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ 2 ุจุญูุซ ูููู ูููุณู ุงูุฌุฏูุฏ ุฑูู ุซุงูู. </li><li style=";text-align:right;direction:rtl">  ุงููุทุงุน ุงูุฃูู: ุงุถุบุท ุนูู Enter ููุจูู ุญุฌู ุจุฏุก ุงููุณู ุงููุญุณูุจ ุชููุงุฆููุง. </li><li style=";text-align:right;direction:rtl">  ุงููุทุงุน ุงูุฃุฎูุฑ: ุงุถุบุท ุนูู ููุชุงุญ ุงูุฅุฏุฎุงู ููุจูู ุญุฌู ูุณู ุงูููุงูุฉ ุงููุญุณูุจ ุชููุงุฆููุง. </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ l ูุชุฑู ูุงุฆูุฉ ุจุฌููุน ุฃููุงุน ุงูุฃูุณุงู ุงูููููุฉ ูุงุจุญุซ ุนู Linux raid auto ููู. </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ t ูุชุบููุฑ ููุน ุงููุณู ุงูุฐู ุชู ุฅูุดุงุคู (2) ูุฃุฏุฎู ุงูุฑูู ุงูููุฌูุฏ ูู ุงูุฎุทูุฉ ุงูุณุงุจูุฉ. </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ w ููุชุงุจุฉ ุงูุชุบููุฑ ุฅูู ุงููุฑุต. </li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฃุนุฏ ูุฑุงุกุฉ ุฌุฏูู ุงููุณู ูุชุญูู ูู ุงููุชูุฌุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">partx -u /dev/XXX lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ูุฑุต ุฌุฏูุฏ ุฅูู ูุฌููุนุฉ ุงูุบุงุฑุฉ ุงูุญุงููุฉ (ูุง ุชูุณ ุฃู ุชุญู ูุญู ุงูุฃูุฑุงุต ุงูุตุญูุญุฉ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mdadm --manage /dev/md63 --add /dev/sda2</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุญู ูุฒูุฏ ุนุฏุฏ ุงูุฃูุฑุงุต ูู ูุฌููุนุชูุง ุฅูู ูุทุนุชูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mdadm --grow /dev/md63 --raid-devices=2</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงูุธุฑ ุฅูู ุงููุชูุฌุฉ: ูุฏููุง ุตูููุงู ูุฑูุฒุงู ุ ููู ููุง ุงููุณููู ุงููุฏุฑุฌูู ูู ูุฐู ุงููุฌููุนุฉ ูููุง ุฃุญุฌุงู ูุฎุชููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br></li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฒูุงุฏุฉ ุญุฌู ุงููุณู ุนูู ุงููุฑุต ssd4 </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุชุดุบูู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ููุนูู ูุน ุชุฎุทูุท ุงููุฑุต: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">fdisk /dev/XXX</code> </pre> <br></li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ d ูุญุฐู ุงููุณู ุงูููุฌูุฏ (ุญุฏุฏ 2). </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ n ูุฅูุดุงุก ูุณู ุฌุฏูุฏ. </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ p ููุฅุดุงุฑุฉ ุฅูู ููุน ุงููุณู ุงูุฃุณุงุณู. </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ 2 ุจุญูุซ ูููู ูููุณู ุงูุฌุฏูุฏ ุฑูู ุซุงูู. </li><li style=";text-align:right;direction:rtl">  ุงููุทุงุน ุงูุฃูู: ุงุถุบุท ุนูู Enter ููุจูู ุญุฌู ุจุฏุก ุงููุณู ุงููุญุณูุจ ุชููุงุฆููุง. </li><li style=";text-align:right;direction:rtl">  ุงููุทุงุน ุงูุฃุฎูุฑ: ุงุถุบุท ุนูู ููุชุงุญ ุงูุฅุฏุฎุงู ููุจูู ุญุฌู ูุณู ุงูููุงูุฉ ุงููุญุณูุจ ุชููุงุฆููุง. </li><li style=";text-align:right;direction:rtl">  ูู ููุงูุฉ ุงูุชุฑููุฒ ุ ุญุฏุฏ "ูุง" ูุชุฑู ุงูุชูููุน ุงูุฐู ููุชูู ุงููุณู ุฅูู ุงูุตููู. </li><li style=";text-align:right;direction:rtl">  ุฃุฏุฎู ุงูููุชุงุญ w ููุชุงุจุฉ ุงูุชุบููุฑ ุฅูู ุงููุฑุต. </li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูููู ุจุฅุนุงุฏุฉ ูุฑุงุกุฉ ุฌุฏูู ุงููุณู ูุงูุชุญูู ูู ุงููุชูุฌุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">partx -u /dev/XXX lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฑุฌู ููุงุญุธุฉ ุฃูู ุงูุขู sda2 ุ ุฃูุณุงู sdc2 ุฃูุจุฑ ูู ุญุฌู ุฌูุงุฒ ุงูุบุงุฑุฉ. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงููุฑุญูุฉ ุ ูููู ุงูุขู ุชูุณูุน ุญุฌู ุงูุบุงุฑุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mdadm --grow /dev/md63 --size=max lsblk -o NAME,SIZE,FSTYPE,TYPE,MOUNTPOINT <span class="hljs-comment"><span class="hljs-comment"># check result</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุตูุญ lsblk ูุงูุชุจ ูุง ุงูุฐู ุชุบูุฑ. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ุนูู ุงูุฑุบู ูู ุฃููุง ุบูุฑูุง ุญุฌู ุงูุบุงุฑุฉ ุ ูุฅู ุฃุญุฌุงู ุฌุฐุฑ vg ุ var ุ ุณุฌู ุฃููุณูู ูู ูุชุบูุฑ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงูุธุฑ ุฅูู ุญุฌู ุงูููุฑูุถูุฆูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pvs</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชูุฏูุฏ ุญุฌู PV ูุฏููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pvresize /dev/md63</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงูุธุฑ ุฅูู ุญุฌู ุงูููุฑูุถูุฆูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pvs</code> </pre> <br></li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ููุงู ุธูุฑุช ุญุฏูุซุง VG var ุ ุงูุฌุฐุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">lvs <span class="hljs-comment"><span class="hljs-comment">#     lvextend -l +50%FREE /dev/system/root lvextend -l +100%FREE /dev/system/var lvs #   </span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงููุฑุญูุฉ ุ ุฃูููุช ุชุฑุญูู ุงูุตููู ุงูุฑุฆูุณู ุฅูู ุฃูุฑุงุต ุฌุฏูุฏุฉ.  ุงูุนูู ูุน SSD1 ุ ุงูุงูุชูุงุก ูู SSD2. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูููุชูุง ุงูุชุงููุฉ ูู ููู / var / log ุฅูู ูุญุฑูุงุช ุฃูุฑุงุต ุฌุฏูุฏุฉ ุ ูุฐูู ุณูููู ุจุฅูุดุงุก ูุฌููุนุฉ ุฌุฏูุฏุฉ ู lvm ุนูู ูุญุฑูุงุช ุงูุฃูุฑุงุต ุงูุตูุจุฉ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุฑู ูุง ูู ุฃุณูุงุก ูุญุฑูุงุช ุงูุฃูุฑุงุต ุงูุตูุจุฉ ุงูุฌุฏูุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">fdisk -l</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุฌููุนุฉ ุบุงุฑุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mdadm --create /dev/md127 --level=1 --raid-devices=2 /dev/sdc /dev/sdd</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฅูุดุงุก PV ุฌุฏูุฏ ูู ุงูุบุงุฑุฉ ูู ุงูุฃูุฑุงุต ุงููุจูุฑุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pvcreate data /dev/md127</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ูุฐุง PV ุ ูู ุจุฅูุดุงุก ูุฌููุนุฉ ุชุณูู ุงูุจูุงูุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">vgcreate data /dev/md127</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ูุญุฏุฉ ุชุฎุฒูู ููุทููุฉ ุจุญุฌู ูู ุงููุณุงุญุฉ ุงูุญุฑุฉ ูุงุทูู ุนูููุง ุงุณู val_log: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">lvcreate -l 100%FREE -n var_log data <span class="hljs-comment"><span class="hljs-comment"># lvs #  </span></span></code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชูุณูู ุงููุณู ุงูุฐู ุชู ุฅูุดุงุคู ูู ูุธุงู ext4: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mkfs.ext4 /dev/mapper/data-var_log</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุฑู ุงููุชูุฌุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">lsblk</code> </pre> <br></li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ููู ุจูุงูุงุช ุงูุณุฌู ูู ุงููุณู ุงููุฏูู ุฅูู ุงูุฌุฏูุฏ </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุณูููู ุจุชุฎุฒูู ูุคูุช ุณุฌู ุฌุฏูุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mount /dev/mapper/data-var_log /mnt</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุฒุงููุฉ ุงูุฃูุณุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">apt install rsync rsync -avzr /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/ /mnt/</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุนุฑู ุนูู ุงูุนูููุงุช ุงูุชู ุชุนูู ูุน / var / log ุงูุขู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">apt install lsof lsof | grep <span class="hljs-string"><span class="hljs-string">'/var/log'</span></span></code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูููู ูุฐู ุงูุนูููุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">systemctl stop rsyslog.service syslog.socket</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุณูููู ุจุฅุฌุฑุงุก ุงููุฒุงููุฉ ุงูููุงุฆูุฉ ููุฃูุณุงู (ูู ุงูุจูุงูุงุช ุงูุชู ูููู ุฃู ุชุชุบูุฑ ููุฐ ุขุฎุฑ ูุฒุงููุฉ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">rsync -avzr /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/ /mnt/</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุจุฏูู ุงูููุงุทุน: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">umount /mnt umount /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> mount /dev/mapper/data-var_log /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span></code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุญูู ูุง ุญุฏุซ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">lsblk</code> </pre> <br></li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุญุฑูุฑ / ุงูุฎ / ูุณุชุงุจ </p><br><p style=";text-align:right;direction:rtl">  fstab - ููู ูุชู ููู ูุชุงุจุฉ ุงูููุงุนุฏ ููููุง ููุฃุฌุฒุงุก ุงูุชู ุณูุชู ุชุญููููุง ุนูุฏ ุงูุชูููุฏ.  ุชุชูุซู ูููุชูุง ูู ุงูุนุซูุฑ ุนูู ุงูุณุทุฑ ุงูุฐู ูุชู ููู ุชุซุจูุช / var / log ูุฅุตูุงุญ ุฌูุงุฒ <code>system-log</code> ุนูู <code>data-var_log</code> . </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงูุดูุก ุงูุฃูุซุฑ ุฃูููุฉ ูู ูุฐู ุงููุฑุญูุฉ ูู ุชุฐูุฑ ุชุบููุฑ ุฌุฏูู ุงููุณู (ext4 ุ ุนูู ุณุจูู ุงููุซุงู).  ูุฃูู ุจุบุถ ุงููุธุฑ ุนู ููููุฉ ุชุบููุฑ ุฌููุน ุฃููุงุน ุงูุบุงุฑุฉ ุ lvm - ุญุชู ูุชู ุฅุดุนุงุฑ FS ุนูู ุงููุณู ุฃู ุญุฌู ุงููุณู ูุฏ ุชุบูุฑ ุงูุขู ุ ููู ูุชููู ูู ุงุณุชุฎุฏุงู ุงููุณุงุญุฉ ุงูุฌุฏูุฏุฉ.  ุงุณุชุฎุฏู ุงูุฃูุฑ <code>resize2fs</code> ูุชุบููุฑ FS. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงููุชุฑ ุงูููุงุฆู </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฏุนููุง ุงุนุงุฏุฉ ุงูุชุดุบูู.  ุฅุฐุง ููุช ุจูู ุดูุก ุจุดูู ุตุญูุญ ุ ูุณุชุฌุฏ ููุณู ูุฑุฉ ุฃุฎุฑู ูู ูุธุงู ุงูุชุดุบูู ูุฏูู (ูุฐุง ุถุฑูุฑู ููุชุฃูุฏ ูู ุฃู ูู ุดูุก ูุนูู. ูุฐู ุงูุฎุทูุฉ ููุณ ููุง ูุนูู ุณูู ุงูุงุฎุชุจุงุฑ ุงูุฐุงุชู) </li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุฃูุฏ ูู ุฃู ูู ูุง ุฃุฑุฏูุง ุงูููุงู ุจู ุชู ุจุงููุนู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pvs lvs vgs lsblk cat /proc/mdstat</code> </pre> <br></li></ul><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  [ุงุฎุชูุงุฑู] ุงุชุจุน ุงูุฎุทูุงุช </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃุนุฏ ุงูุชุดุบูู ุจุงูุถุบุท ุนูู ุงูููุชุงุญ F12 ููุฅุดุงุฑุฉ ุฅูู ุฃูุฑุงุต ูุฎุชููุฉ ุนูุฏ ุงูุชุดุบูู ุ ูุฐูู ููุชุฃูุฏ ูู ุฃูู ููููู ุงูุชูููุฏ ูู ุฃู ูู ุฃูุฑุงุต ssd ุ ุญุชู ูุง ูุฎุงู ูู ูุดู ุฃุญุฏูุง. </li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุฏูู ุงูุขู ุณุฌู LV ุบูุฑ ุงูุถุฑูุฑู ูู ูุธุงู VG.  ูู ุจุชูุฒูุน ูุฐู ุงููุณุงุญุฉ ุจูู ุงูุฌุฐุฑ ุฃู var ุ ูููู ุจุฏูุงู ูู ุงุณุชุฎุฏุงู ุงูุชุฑููุจ ุงููุฌุงูู ุจูุณุจุฉ 100ูช ุ ุญุฏุฏ ุงูุญุฌู ุจูุฏูู ุจุงุณุชุฎุฏุงู ููุชุงุญ ุงูุชุจุฏูู -L: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">-L 500M</code> </pre> <br></li><li style=";text-align:right;direction:rtl">  ูู ุจุฅุตูุงุญ ุงููุดููุฉ ูู ุฎูุงู ุญูููุฉ ุฃู / boot ููุฌูุฏ ุนูู ูุณููู ุฏูู ุงูุชุฒุงูู ุ ููุณุช ุจุญุงุฌุฉ ุฅูู ุงูููุงู ุจุฐูู ุจุงูุทุฑููุฉ ุงูุตุญูุญุฉ ุ ูููุง ุชุชู ุฅุถุงูุชู ููุซุงู.  ูุง ุชูุณู ูุณุฎ ูุญุชููุงุช / ุงูุชูููุฏ ูู ููุงู ูุง. </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุบุงุฑุฉ ุฌุฏูุฏุฉ ูุชุดูู sda1 ุ sda2 ููู. </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุถููู ูุฐู ุงูุฃูุณุงู ูู ุงูุบุงุฑุฉ ุงูุญุงููุฉ ูุงุณุชุนุงุฏุฉ / ุฅููุงุน ุบุงุฑุฉ ุฃุณุงุณูุง ุ ูููู ุฏูู ุชุฑููุจูุง ุจุนุฏ ุงูุขู. </li></ul><br></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar450896/">https://habr.com/ru/post/ar450896/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar450886/index.html">ุงูุฎูููุฉ: ููู ุชุนูู ุณูุงุฑุงุช ุงูููุฏุฑูุฌูู ููุชู ุชุธูุฑ ุนูู ุงูุทุฑู</a></li>
<li><a href="../ar450888/index.html">ุณูููุช: ุบุฑุจุงู ุฅุฑุงุชูุณุชููุณ</a></li>
<li><a href="../ar450890/index.html">ุฃุฎุจุงุฑ Google I / O 2019: Pixel 3a ู Android Q ู Kotlin ูุงููุฒูุฏ</a></li>
<li><a href="../ar450892/index.html">ูู ุณุฑุนุฉ ุงูุชุฎุฒูู ููุงุณุจุฉ ููุบูุฑุ ุงุณุฃู ููุฉ ุงููุฑุงูุจุฉ ุงูุฏูููุฉ</a></li>
<li><a href="../ar450894/index.html">ุญูู ุงูููุงุฆูุงุช ูุฃุตุบุฑูุง</a></li>
<li><a href="../ar450898/index.html">ุชุทููุฑ ูุงุฌูุฉ ุนูู ุดุงุดุงุช ูุชุนุฏุฏุฉ. ุฎุทูุฉ ูุงุณุชุฎุฏุงู ููุธูุฉ ุงูุนูู ุงูุฏูููุฉ</a></li>
<li><a href="../ar450902/index.html">ุชุฑูุฏ ุงูููุธููู ุงููุฎูุตูู - ุงุจุฏุฃ ุจููุณู</a></li>
<li><a href="../ar450904/index.html">ุงูุฅุฌุฑุงุกุงุช ุงูุนูููุฉ ููุดุฑ ุชุทุจูู ASP.NET Core ูู Heroku</a></li>
<li><a href="../ar450906/index.html">ููููุฉ ุงูุจุฏุก ูู ุงูุนูุด ูุงูุฎุณ ุงููุชุฒุงูุฏ</a></li>
<li><a href="../ar450908/index.html">ุงููุงุฆูุฉ ุงูุณูุฏุงุก ูุดุจูุงุช ุงููุฌูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>