<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ญ ๐ ุฎูุฒูุฑ ุงูุฑุญูุฉ ุ ุฃู ุชุญุณูู ูุชุฑุฌููู Bytecode ๐ฉ๐ฝโโ๏ธ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""ุจุบุถ ุงููุธุฑ ุนู ูุฏู ุตุนูุจุฉ ุงููุญุงููุฉ ุ ูุง ููููู ุฃู ุชุฌุนู ุญุตุงู ุงูุณุจุงู ูู ุฎูุฒูุฑ. ููุน ุฐูู ุ ููููู ุตูุน ุฎูุฒูุฑ ุฃุณุฑุน" (ุงูุชุนููู ูู ุดูุฑุฉ ุงููุตุฏุฑ ูู Emax) 

 ูุนูู ุงูุฌ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฎูุฒูุฑ ุงูุฑุญูุฉ ุ ุฃู ุชุญุณูู ูุชุฑุฌููู Bytecode</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/428878/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/bg/lp/cz/bglpczwnjg-u0usatiwfxggd-zi.jpeg"></p><br><blockquote style=";text-align:right;direction:rtl">  "ุจุบุถ ุงููุธุฑ ุนู ูุฏู ุตุนูุจุฉ ุงููุญุงููุฉ ุ ูุง ููููู ุฃู ุชุฌุนู ุญุตุงู ุงูุณุจุงู ูู ุฎูุฒูุฑ. ููุน ุฐูู ุ ููููู ุตูุน ุฎูุฒูุฑ ุฃุณุฑุน" (ุงูุชุนููู ูู ุดูุฑุฉ ุงููุตุฏุฑ ูู Emax) </blockquote><p style=";text-align:right;direction:rtl">  ูุนูู ุงูุฌููุน ุญูููุฉ ุฃู ุงูุฎูุงุฒูุฑ ูุง ุชุทูุฑ.  ููุง ุฃู ุงูุฑุฃู ุงูุดุงุฆุน ุจููุณ ุงููุฏุฑ ูู ุงูุฑุฃู ุงููุงุฆู ุจุฃู ูุชุฑุฌูู ุงูุจุงูุช ููุฏ ูุฃุณููุจ ูุชูููุฐ ูุบุงุช ุนุงููุฉ ุงููุณุชูู ูุง ูููู ุชุณุฑูุนูู ุฏูู ุงุณุชุฎุฏุงู ุงูุชุฌููุน ุงูุฏููุงูููู ุงูุฐู ูุณุชุบุฑู ููุชูุง ุทูููุงู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฌุฒุก ุงูุซุงูู ูู ุณูุณูุฉ ูู ุงูููุงูุงุช ุญูู ููุณุฑู ุงูุจุงูุช ููุฏ ุ ุจุงุณุชุฎุฏุงู ูุซุงู ุขูุฉ ุงูุชุฑุงุถูุฉ ุตุบูุฑุฉ ููุฏุณุฉ ูู FDA (Pig Virtual Machine) ุ ุณุฃุญุงูู ุฅุธูุงุฑ ุฃูู ูู ูุชู ููุฏุงู ูู ุดูุก ููุฎูุงุฒูุฑ ุงููุฌุชูุฏ ุฐุงุช ุงูุทููุญุงุช ูุฃูู ูู ุงููููู ุงูุชุณุฑูุน ูู ุฅุทุงุฑ (ูู ุงูุบุงูุจ) ุงูููุงุณู C ุนูู ูุคูุงุก ุงููุชุฑุฌููู ุนูู ุงูุฃูู ูุฑุฉ ููุตู. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก ุงูุฃูู ุ ุชูููุฏู</a> <br>  ุงูุฌุฒุก ุงูุซุงูู ุ ุงูุชุญุณูู (ุงูุญุงูู) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก ุงูุซุงูุซ ุงูุชุทุจููู</a> </p><br><h1 id="porosenokvm" style=";text-align:right;direction:rtl">  ุฎูุฒูุฑ ุตุบูุฑ </h1><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุชุนุฑู. </p><br><p style=";text-align:right;direction:rtl">  <a href="">Piglet</a> VM ูู ุขูุฉ ุนุงุฏูุฉ ููุฏุณุฉ ุชุนุชูุฏ ุนูู <a href="">ูุซุงู</a> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก ุงูุฃูู ูู</a> ุณูุณูุฉ ูู ุงูููุงูุงุช.  ุฎูุฒูุฑูุง ูุนุฑู ููุน ุจูุงูุงุช ูุงุญุฏ ููุท - ูููุฉ ุขูุฉ 64 ุจุช ุ ููุชู ุฅุฌุฑุงุก ุฌููุน ุงูุญุณุงุจุงุช (ุนุฏุฏ ุตุญูุญ) ุนูู ุงูููุฏุณ ุจุนูู ุฃูุตู ูุตู ุฅูู 256 ูููุฉ ุขูุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุงูููุฏุณ ุ ูุฅู ูุฐุง ุงูุฎูุฒูุฑ ุงูุตุบูุฑ ูุฏูู ุฐุงูุฑุฉ ุนุงููุฉ ุชุจูุบ 65.536 ูููุฉ ุขูุฉ.  ูููู ูุถุน ูุชูุฌุฉ ุชูููุฐ ุงูุจุฑูุงูุฌ - ูููุฉ ุขูุฉ ูุงุญุฏุฉ - ูู ุณุฌู ุงููุชุงุฆุฌ ุ ุฃู ุจุจุณุงุทุฉ ุงูุฅุฎุฑุงุฌ ุฅูู ุงูุฅุฎุฑุงุฌ ุงูููุงุณู (stdout). </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุฎุฒูู ุงูุญุงูุฉ ุงููุงููุฉ ูู ุขูุฉ Piglet VM ูู ุจููุฉ ูุงุญุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-comment"><span class="hljs-comment">/* Current instruction pointer */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *ip; <span class="hljs-comment"><span class="hljs-comment">/* Fixed-size stack */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> <span class="hljs-built_in"><span class="hljs-built_in">stack</span></span>[STACK_MAX]; <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> *stack_top; <span class="hljs-comment"><span class="hljs-comment">/* Operational memory */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> memory[MEMORY_SIZE]; <span class="hljs-comment"><span class="hljs-comment">/* A single register containing the result */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> result; } vm;</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชูุญ ููุง ูุง ุณุจู ุฃู ูุนุฒู ูุฐุง ุงูุฌูุงุฒ ุฅูู ุฃุฌูุฒุฉ ุงูุชุฑุงุถูุฉ ููุฎูุถุฉ ุงููุณุชูู ุ ููููุง ุชูุฑูุจูุง ุชูุน ุนูู ุนุงุชู ุตูุงูุฉ ุฏูุฑุฉ ุงูุจุฑูุงูุฌ ุงูุฑุฆูุณูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">interpret_result </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vm_interpret</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint8_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *bytecode)</span></span></span><span class="hljs-function"> </span></span>{ vm_reset(bytecode); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (;;) { <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> instruction = NEXT_OP(); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (instruction) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_PUSHI: { <span class="hljs-comment"><span class="hljs-comment">/* get the argument, push it onto stack */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> arg = NEXT_ARG(); PUSH(arg); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_ADD: { <span class="hljs-comment"><span class="hljs-comment">/* Pop 2 values, add 'em, push the result back to the stack */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> arg_right = POP(); *TOS_PTR() += arg_right; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/* * ... * Lots of other instruction handlers here * ... */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_DONE: { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SUCCESS; } <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ERROR_UNKNOWN_OPCODE; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ERROR_END_OF_STREAM; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุถุญ ุงูููุฏ ุฃูู ุจุงููุณุจุฉ ููู ููุฏ ุชุดุบูู ุ ูุฌุจ ุนูู ุงูุฎูุฒูุฑ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณุชุฑุฌุงุน ููุฏ ุงูุชุดุบูู ูู ุชุฏูู ุงูุชุนูููุงุช. </li><li style=";text-align:right;direction:rtl">  ุชุฃูุฏ ูู ุฃู ููุฏ ุงูุชุดุบูู ูู ุงููุทุงู ุงูุตุญูุญ ูููู ููุฏ ุงูุชุดุบูู (ุชุชู ุฅุถุงูุฉ ูุฐุง ุงูููุทู ุจูุงุณุทุฉ ุงููุชุฑุฌู C ุนูุฏ ุฅูุดุงุก ุฑูุฒ ุงูุชุจุฏูู). </li><li style=";text-align:right;direction:rtl">  ุงุฐูุจ ุฅูู ุชุนูููุงุช ุงูุฌุณู. </li><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฑุฌ ูุณูุทุงุช ุงูุชุนูููุงุช ูู ุงูููุฏุณ ุฃู ูู ุดูุฑุฉ ูุณูุทุฉ ุงูุชุนูููุงุช ุงูููุฌูุฏุฉ ูุจุงุดุฑุฉ ูู ุงูุฑูุฒ ุงูุจุงูุช. </li><li style=";text-align:right;direction:rtl">  ูู ุจุฅุฌุฑุงุก ุนูููุฉ. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ููุงู ูุชูุฌุฉ ููุญุณุงุจ ุ ุถุนูุง ุนูู ุงูููุฏุณ. </li><li style=";text-align:right;direction:rtl">  ุงููู ุงููุคุดุฑ ูู ุงูุชุนูููุงุช ุงูุญุงููุฉ ุฅูู ุงูุชุงููุฉ. </li></ol><br><p style=";text-align:right;direction:rtl">  ุงูุญูููุฉ ููุง ูู ุงูููุฑุฉ ุงูุฎุงูุณุฉ ููุท ุ ูุงูุจุงูู ูู ุญูู: ูู ุงูุชุนูููุงุช ุฃู ุงุณุชุฑุฌุงุน ุงูุชุนูููุงุช ูู ุงูููุฏุณ (ุงูููุฑุฉ 4) ุ ูุงูุชุญูู ูู ูููุฉ ููุฏ ุงูุชุดุบูู (ุงูููุฑุฉ 2) ุ ูุงูุนูุฏุฉ ุจุดูู ูุชูุฑุฑ ุฅูู ุจุฏุงูุฉ ุงูุญููุฉ ุงูุฑุฆูุณูุฉ ูุงูุงูุชูุงู ุงูุดุฑุทู ุงููุงุญู ุงูุฐู ูุตุนุจ ุงูุชูุจุค ุจู (ุงูููุฑุฉ 3). </p><br><p style=";text-align:right;direction:rtl">  ุจุงุฎุชุตุงุฑ ุ ุชุฌุงูุฒ ุงูุฎูุฒูุฑ ุจูุถูุญ ูุคุดุฑ ูุชูุฉ ุงูุฌุณู ุงูููุตู ุจู ุ ูุฅุฐุง ุฃุฑุฏูุง ุฌุนูู ูู ุงูุดูู ุ ูุณูุชุนูู ุนูููุง ุงูุชุนุงูู ูุน ูู ูุฐู ุงูุชุฌุงูุฒุงุช. </p><br><h1 id="svinskiy-yazyk-assemblera-i-resheto-eratosfena" style=";text-align:right;direction:rtl">  ูุบุฉ ุชุฌููุน ุงูุฎูุงุฒูุฑ ูููุฎู ุฅุฑุงุชูุณุชููุณ </h1><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุฏุนูุง ููุฑุฑ ููุงุนุฏ ุงููุนุจุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฅู ูุชุงุจุฉ ุจุฑุงูุฌ ูุขูุฉ ุงูุชุฑุงุถูุฉ ูุจุงุดุฑุฉ ูู ูุบุฉ C ููุฑุฉ ุณูุฆุฉ ุ ููู ุฅูุดุงุก ูุบุฉ ุจุฑูุฌุฉ ููุช ุทููู ุ ูุฐูู ูุฑุฑูุง ุฃู ููุชุตุฑ ุนูู ูุบุฉ ุชุฌููุน ุฃุตุจุน. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ุงูุจุฑูุงูุฌ ุงูุฐู ูุญุณุจ ูุฌููุน ุงูุฃุฑูุงู ูู 1 ุฅูู 65536 ูู ูุฐุง ุงููุฌูุน ุดูุฆูุง ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># sum numbers from 1 to 65535 # init the current sum and the index PUSHI 1 PUSHI 1 # stack s=1, i=1 STOREI 0 # stack: s=1 # routine: increment the counter, add it to the current sum incrementandadd: # check if index is too big LOADI 0 # stack: s, i ADDI 1 # stack: s, i+1 DUP # stack: s, i+1, i+1 GREATER_OR_EQUALI 65535 # stack: s, i+1, 1 or 0 JUMP_IF_TRUE done # stack: s, i+1 DUP # stack: s, i+1, i+1 STOREI 0 # stack: s, i+1 ADD # stack: s+i+1 JUMP incrementandadd done: DISCARD PRINT DONE</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุณ Python ุ ุจุงูุทุจุน ุ ูููู ููุงู ูู ูุง ุชุญุชุงุฌู ูุณุนุงุฏุฉ ุงูุฎูุฒูุฑ: ุงูุชุนูููุงุช ูุงูุนูุงูุงุช ูุงูููุฒุงุช ุงูุดุฑุทูุฉ ูุบูุฑ ุงููุดุฑูุทุฉ ููู ุ ูุงูุชุฐููุฑ ุจุงูุชุนูููุงุช ุ ูุงููุฏุฑุฉ ุนูู ุชุญุฏูุฏ ุงูุญุฌุฌ ุงููุจุงุดุฑุฉ ููุชุนูููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูุงููุฉ ูุน ุขูุฉ "Piglet VM" ูุชู ุชุฌููุนูุง ูุชูููููุง ุ ููู ุดุฌุงุนุฉ ูู ุงูุฑูุญ ููุฏููุง ุงููุซูุฑ ูู ููุช ุงููุฑุงุบ ุ ูููู ูููุฑุงุก ุงูุงุฎุชุจุงุฑ ุจุดูู ูุณุชูู ูู ุงููุนุฑูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุชุฑุงูู ุงูุฃุฑูุงู ุจุณุฑุนุฉ ูุจูุฑุฉ ุ ูุฐูู ูุงุฎุชุจุงุฑ ุงูุฃุฏุงุก ุ ูุชุจุช ุจุฑูุงูุฌูุง ุขุฎุฑ - ุชูููุฐ ุณุงุฐุฌ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุตูุงุฉ ุฅุฑุงุชูุณุชููุณ</a> . </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูุนูู ุงูุฎูุฒูุฑ ุงูุตุบูุฑ ุจุณุฑุนุฉ ูุจูุฑุฉ ุนูู ุฃู ุญุงู (ุชุนูููุงุชู ูุฑูุจุฉ ูู ุชุนูููุงุช ุงูุขูุฉ) ุ ูุฐูู ุ ููุญุตูู ุนูู ูุชุงุฆุฌ ูุงุถุญุฉ ุ ุณุฃูุนู ูู ููุงุณ ููุงุฆุฉ ุจุฏุก ูู ุงูุจุฑูุงูุฌ. </p><br><p style=";text-align:right;direction:rtl">  ูุนูู ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ุฎูุฒูุฑูุง ุบูุฑ ุงููุญุณู ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">&gt; ./pigletvm runtimes test/sieve-unoptimized.bin 100 &gt; /dev/null PROFILE: switch code finished took 545ms</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุตู ุซุงููุฉ!  ุงูููุงุฑูุฉ ุจุงูุชุฃููุฏ ุบูุฑ ูุฒููุฉ ุ ูููู ููุณ ุฎูุงุฑุฒููุฉ Python ุชุฌุนู ูุงุฆุฉ ุชุดุบูู ุฃุจุทุฃ ููููุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">&gt; python test/sieve.py &gt; /dev/null 4.66692185402</code> </pre> <br><p style=";text-align:right;direction:rtl">  4.5 ุซุงููุฉ ุ ุฃู ุฃุจุทุฃ ุชุณุน ูุฑุงุช.  ูุฌุจ ุฃู ูุดูุฏ ุจุงูุฎูุฒูุฑ ุงูุตุบูุฑ - ูุฏูู ุงููุฏุฑุฉ!  ุญุณููุง ุ ุฏุนูุง ุงูุขู ูุฑู ูุง ุฅุฐุง ูุงู ุฎูุฒูุฑูุง ูุณุชุทูุน ุถุฎ ุงูุตุญุงูุฉ. <br><img src="https://habrastorage.org/webt/ce/eq/ni/ceeqnik6-41cuvd3rwvkkuquoes.jpeg"></p><br><h1 id="uprazhnenie-pervoe-staticheskie-superinstrukcii" style=";text-align:right;direction:rtl">  ุงูุชูุฑูู ุงูุฃูู: ุชุนูููุงุช ูุงุฆูุฉ ุซุงุจุชุฉ </h1><br><p style=";text-align:right;direction:rtl">  ุงููุงุนุฏุฉ ุงูุฃููู ููุฑูุฒ ุงูุณุฑูุน ูู ุนุฏู ุงูููุงู ุจุงููุซูุฑ ูู ุงูุนูู.  ุงููุงุนุฏุฉ ุงูุซุงููุฉ ููุฑูุฒ ุงูุณุฑูุน ูู ุนุฏู ุงูููุงู ุจุงููุซูุฑ ูู ุงูุนูู.  ูุง ููุน ุงูุนูู ุงูุฅุถุงูู ุงูุฐู ุชููู ุจู Piglet VMุ </p><br><p style=";text-align:right;direction:rtl">  ุงูููุงุญุธุฉ ุงูุฃููู: ูุธูุฑ ุงูุชูููุท ุจุฑูุงูุฌูุง ุฃู ููุงู ุณูุณูุฉ ูู ุงูุชุนูููุงุช ุฃูุซุฑ ุดููุนูุง ูู ุบูุฑูุง.  ูู ูุนุฐุจ ุฎูุฒูุฑูุง ูุซูุฑูุง ูููุชุตุฑ ุนูู ุจุถุน ุชุนูููุงุช ููุท: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  LOADI 0ุ ADD - ุถุน ุฑูููุง ุนูู ุงูููุฏุณ ูู ุงูุฐุงูุฑุฉ ุนูู ุงูุนููุงู 0 ูุฃุถูู ุฅูู ุงูุฑูู ุงูููุฌูุฏ ูู ุงูุฌุฒุก ุงูุนููู ูู ุงูููุฏุณ. </li><li style=";text-align:right;direction:rtl">  PUSHI 65536 ุ GREATER_OR_EQUAL - ุถุน ุฑูููุง ุนูู ุงูููุฏุณ ููุงุฑูู ูุน ุงูุฑูู ุงูุฐู ูุงู ููุฌูุฏูุง ูู ูุจู ูู ุงูุฌุฒุก ุงูุนููู ูู ุงูููุฏุณ ุ ูุน ุฅุนุงุฏุฉ ูุชูุฌุฉ ุงูููุงุฑูุฉ (0 ุฃู 1) ุฅูู ุงูููุฏุณ. </li><li style=";text-align:right;direction:rtl">  PUSHI 1 ุ ADD - ุถุน ุฑูููุง ุนูู ุงูููุฏุณ ุ ูุฃุถูู ุฅูู ุงูุฑูู ุงูุฐู ูุงู ููุฌูุฏูุง ูู ูุจู ูู ุงูุฌุฒุก ุงูุนููู ูู ุงูููุฏุณ ุ ูุฃุนุฏ ูุชูุฌุฉ ุงูุฅุถุงูุฉ ุฅูู ุงูููุฏุณ. </li></ol><br><p style=";text-align:right;direction:rtl">  ููุงู ุฃูุซุฑ ูู 20 ุชุนูููุงุช ุจูููู ูู ุฌูุงุฒ Piglet VM ุ ููุชู ุงุณุชุฎุฏุงู ุจุงูุช ูุงูู ููุชุฑููุฒ - 256 ูููุฉ.  ุชูุฏูู ุชุนูููุงุช ุฌุฏูุฏุฉ ููุณุช ูุดููุฉ.  ูุงุฐุง ุณููุนู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (;;) { <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> instruction = NEXT_OP(); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (instruction) { <span class="hljs-comment"><span class="hljs-comment">/* * Other instructions here * */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_LOADADDI: { <span class="hljs-comment"><span class="hljs-comment">/* get immediate argument as an memory address , add it to value from the address to the top * of the stack */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> addr = NEXT_ARG(); <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> val = vm.memory[addr]; *TOS_PTR() += val; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_GREATER_OR_EQUALI:{ <span class="hljs-comment"><span class="hljs-comment">/* get the immediate argument, compare it with the value from the address to the top of the stack */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> arg_right = NEXT_ARG(); *TOS_PTR() = PEEK() &gt;= arg_right; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> OP_ADDI: { <span class="hljs-comment"><span class="hljs-comment">/* Add immediate value to the top of the stack */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> arg_right = NEXT_ARG(); *TOS_PTR() += arg_right; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/* * Other instructions here * */</span></span> }</code> </pre><br><p style=";text-align:right;direction:rtl">  ูุง ุดูุก ูุนูุฏ.  ุฏุนููุง ูุฑู ูุง ุฌุงุก ูููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">&gt; ./pigletvm runtimes test/sieve.bin 100 &gt; /dev/null PROFILE: switch code finished took 410ms</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุงู!  ุงูุฑูุฒ ูุฎุตุต ูุซูุงุซ ุชุนูููุงุช ุฌุฏูุฏุฉ ููุท ุ ููุฏ ูุฒูุง ุจูุงุฆุฉ ููุตู ูููู ุซุงููุฉ! </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุญููู ุงูููุงุณุจ ููุง ูุธุฑูุง ูุญูููุฉ ุฃู ุฃุตุจุนูุง ูุง ูููู ุจุญุฑูุงุช ุบูุฑ ุถุฑูุฑูุฉ ุนูุฏ ุชูููุฐ ูุซู ูุฐู ุงูุชุนูููุงุช: ูุง ููุน ุฎูุท ุงูุชูููุฐ ูู ุงูุญููุฉ ุงูุฑุฆูุณูุฉ ุ ููุง ูุชู ูู ุชุฑููุฒ ุฃู ุดูุก ุ ููุง ุชูุฑ ุญุฌุฌ ุงูุชุนูููุงุช ูู ุฎูุงู ุงูููุฏุณ ูุฑุฉ ุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ููุฐุง ูุง ูุณูู ุชุนูููุงุช ูุงุฆูุฉ ุซุงุจุชุฉ ุ ุญูุซ ูุชู ุชุนุฑูู ุชุนูููุงุช ุฅุถุงููุฉ ุจุดูู ุซุงุจุช ุ ุฃู ุจูุงุณุทุฉ ูุจุฑูุฌ ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ ูู ูุฑุญูุฉ ุงูุชุทููุฑ.  ูุฐู ุชูููุฉ ุจุณูุทุฉ ููุนุงูุฉ ุชุณุชุฎุฏููุง ุฌููุน ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ููุบุงุช ุงูุจุฑูุฌุฉ ุจุดูู ุฃู ุจุขุฎุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุชุชูุซู ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ูู ุงูุชุนูููุงุช ุงููุงุฆูุฉ ุงูุซุงุจุชุฉ ูู ุฃูู ุจุฏูู ุจุฑูุงูุฌ ูุนูู ุ ูู ุงููุณุชุญูู ุชุญุฏูุฏ ุงูุชุนูููุงุช ุงูุชู ูุฌุจ ุฏูุฌูุง.  ุชุณุชุฎุฏู ุงูุจุฑุงูุฌ ุงููุฎุชููุฉ ุชุณูุณูุงุช ูุฎุชููุฉ ูู ุงูุชุนูููุงุช ุ ูููููู ูุนุฑูุฉ ูุฐู ุงูุชุณูุณูุงุช ููุท ูู ูุฑุญูุฉ ุชุดุบูู ุฑูุฒ ูุนูู. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ุชููู ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุงูุชุฌููุน ุงูุฏููุงูููู ููุชุนูููุงุช ุงููุงุฆูุฉ ูู ุณูุงู ุจุฑูุงูุฌ ูุนูู ุ ุฃู ุงูุชุฑููุจุงุช ุงููุงุฆูุฉ ุงูุฏููุงููููุฉ (ูู ุงูุชุณุนูููุงุช ูุฃูุงุฆู ุงูุฃูููุฉ ุงูุซุงููุฉ ุ ูุนุจุช ูุฐู ุงูุชูููุฉ ุฏูุฑ ุชุฌููุน JIT ุงูุจุฏุงุฆู). </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุณุชุญูู ุฅูุดุงุก ุชุนูููุงุช ุนูู ุงูุทุงูุฑ ูู ุฅุทุงุฑ C ุงูุนุงุฏู ุ ููุง ูุนุชุจุฑ ุฎูุฒูุฑูุง ูุฐุง ุญููุง ููุงูุณุฉ ุตุงุฏูุฉ.  ูุญุณู ุงูุญุธ ุ ูุฏู ุชูุงุฑูู ุฃูุถู ูู. </p><br><h1 id="uprazhnenie-vtoroe-proverka-intervala-znacheniy-opkodov" style=";text-align:right;direction:rtl">  ุงูุชูุฑูู ุงูุซุงูู: ุงูุชุญูู ูู ูุทุงู ููู ููุฏ ุงูุชุดุบูู </h1><br><p style=";text-align:right;direction:rtl">  ุจุงุชุจุงุน ููุงุนุฏ ุงูุดูุฑุฉ ุงูุณุฑูุนุฉ ุ ูุณุฃู ุฃููุณูุง ูุฑุฉ ุฃุฎุฑู ุงูุณุคุงู ุงูุฃุจุฏู: ูุง ุงูุฐู ูุง ููููู ูุนููุ </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุนุฑููุง ุนูู ุฌูุงุฒ ุฌูุงุฒ Piglet VM ุ ุฃุฏุฑุฌุช ุฌููุน ุงูุฅุฌุฑุงุกุงุช ุงูุชู ูููู ุจูุง ุงูุฌูุงุฒ ุงูุธุงูุฑู ููู ุฑูุฒ ุชุดุบูู.  ูุงูููุทุฉ 2 (ุงูุชุญูู ูู ูููุฉ ููุฏ ุงูุชุดุบูู ูุชูุงุณุจ ุงููุทุงู ุงูุตุญูุญ ูููู ุงูุชุจุฏูู) ูู ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุฑูุจุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ููููุฉ ููุงู ูุฌูุณ ุงูุชุนุงูู ุงูุฎููุฌู ุจุชุฌููุน ุจููุฉ ุงูุชุจุฏูู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุฅูุดุงุก ุฌุฏูู ุงูุชูุงูู ุ ุฃู ุฌุฏูู ูุนุฑุถ ูููุฉ ููุฏ ุงูุชุดุบูู ุฅูู ุนููุงู ุงูููุฏ ุงูุฐู ูููุฐ ูุต ุงูุชุนูููุงุช. </li><li style=";text-align:right;direction:rtl">  ูุชู ุฅุฏุฑุงุฌ ุฑูุฒ ูุชุญูู ููุง ุฅุฐุง ูุงู ุฑูุฒ ุงูุชุดุบูู ุงููุณุชูู ููุน ุถูู ูุทุงู ุฌููุน ููู ุงูุชุจุฏูู ุงูููููุฉ ููุฑุณูู ุฅูู ุงูุชุณููุฉ ุงูุงูุชุฑุงุถูุฉ ุฅุฐุง ูู ููู ููุงู ูุนุงูุฌ ูุฑูุฒ ุงูุชุดุบูู. </li><li style=";text-align:right;direction:rtl">  ูุชู ุฅุฏุฑุงุฌ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุชูุชูู ุฅูู ุงููุนุงูุฌ. </li></ol><br><p style=";text-align:right;direction:rtl">  ูููู ููุงุฐุง ุงูุชุญูู ูู ูุงุตู ุงูููู ููู ุชุนูููุฉุ  ูุญู ูุนุชูุฏ ุฃู ููุฏ ุงูุชุดุบูู ุฅูุง ุตุญูุญ - ูููู ุงูุชูููุฐ ุจูุงุณุทุฉ ุชุนูููุงุช OP_DONE ุ ุฃู ุบูุฑ ุตุญูุญ - ูุชุฌุงูุฒ ุฑูุฒ ุงูุจุงูุช.  ูุชู ุชูููุฒ ุฐูู ุฏูู opcodes ุจุตูุฑ ุ ูุงูุตูุฑ ูู ููุฏ op ุงูุฎุงุต ูุชุนูููุงุช OP_ABORT ุ ูุงูุฐู ูููู ุชูููุฐ ุงูุฑูุฒ ุงููุฑุนู ูุน ูุฌูุฏ ุฎุทุฃ. </p><br><p style=";text-align:right;direction:rtl">  ุงุชุถุญ ุฃู ูุฐุง ุงูุงุฎุชูุงุฑ ุบูุฑ ูุทููุจ ุนูู ุงูุฅุทูุงู!  ููุฌุจ ุฃู ูุชููู ุงูุฎูุฒูุฑ ุงูุตุบูุฑ ูู ููู ูุฐู ุงูููุฑุฉ ุฅูู ุงููุชุฑุฌู.  ุฏุนูุง ูุญุงูู ุฅุตูุงุญ ุงูููุชุงุญ ุงูุฑุฆูุณู ููููุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> instruction = NEXT_OP(); <span class="hljs-comment"><span class="hljs-comment">/* Let the compiler know that opcodes are always between 0 and 31 */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (instruction &amp; <span class="hljs-number"><span class="hljs-number">0x1f</span></span>) { <span class="hljs-comment"><span class="hljs-comment">/* All the instructions here */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">26</span></span> ... <span class="hljs-number"><span class="hljs-number">0x1f</span></span>: { <span class="hljs-comment"><span class="hljs-comment">/*Handle the remaining 5 non-existing opcodes*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ERROR_UNKNOWN_OPCODE; } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุน ุงูุนูู ุจุฃู ูุฏููุง 26 ุชุนูููุงุช ููุท ุ ูุฅููุง ููุฑุถ ููุงุน ุจุช (ุงููููุฉ ุงูุซูุงููุฉ 0x1f ูู 0b11111 ุซูุงุฆูุฉ ุชุบุทู ูุทุงู ุงูููู ูู 0 ุฅูู 31) ุนูู ููุฏ ุงูุชุดุบูู ูุฅุถุงูุฉ ูุนุงูุฌุงุช ุฅูู ุงูููู ุบูุฑ ุงููุณุชุฎุฏูุฉ ูู ุงููุทุงู ูู 26 ุฅูู 31. </p><br><p style=";text-align:right;direction:rtl">  ุชุนูููุงุช ุจุช ูู ุจุนุถ ูู ุฃุฑุฎุต ูู ุจููุฉ x86 ุ ููู ุจุงูุชุฃููุฏ ุฃุฑุฎุต ูู ุงููุฑูุน ุงูุดุฑุทูุฉ ุงูุฅุดูุงููุฉ ูุซู ุงููุฑุน ุงูุฐู ูุณุชุฎุฏู ุงูุชุญูู ุงููุงุตู.  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ูุฌุจ ุฃู ูููุฒ ุจุนุฏุฉ ุฏูุฑุงุช ุนูู ูู ุชุนูููุงุช ูุงุจูุฉ ููุชูููุฐ ุฅุฐุง ูุงู ุงููุชุฑุฌู ูููู ุชูููุญูุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูููุงุณุจุฉ ุ ุทุฑููุฉ ุชุญุฏูุฏ ูุทุงู ุงูููู ูู ุงูุญุงูุฉ ููุณุช ููุงุณูุฉ C ุ ูููู ุงูุชุฏุงุฏ GCC.  ูููู ูุฃุบุฑุงุถูุง ุ ูุนุฏ ูุฐุง ุงูุฑูุฒ ููุงุณุจูุง ุ ุฎุงุตุฉ ุฃูู ููุณ ูู ุงูุตุนุจ ุฅุนุงุฏุฉ ุชุดูููู ูู ุนุฏุฉ ูุนุงูุฌุงุช ููู ูู ุงูููู ุบูุฑ ุงูุถุฑูุฑูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุญู ูุญุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">&gt; ./pigletvm runtimes test/sieve.bin 100 &gt; /dev/null PROFILE: switch code finished took 437ms PROFILE: switch code (no range check) finished took 383ms</code> </pre> <br><p style=";text-align:right;direction:rtl">  50 ูููู ุซุงููุฉ ุฃุฎุฑู!  ุฎูุฒูุฑ ุตุบูุฑ ุ ููุฃูู ุณูุนุช ููุณู ูู ูุชููู! .. </p><br><h1 id="uprazhnenie-trete-trassy" style=";text-align:right;direction:rtl">  ุงูุชูุฑูู ุงูุซุงูุซ: ุงูููุฑุงุช </h1><br><p style=";text-align:right;direction:rtl">  ูุง ูู ุงูุชูุงุฑูู ุงูุฃุฎุฑู ุงูุชู ูููู ุฃู ุชุณุงุนุฏ ุฎูุฒูุฑูุง ุงูุตุบูุฑุ  ุฃูุจุฑ ุชูููุฑ ููููุช ุจูุถู ุงูุชุนูููุงุช ุงููุงุฆูุฉ.  ููู ุชููู ูู ุนุฏุฏ ุงููุฎุงุฑุฌ ููุฏูุฑุฉ ุงูุฑุฆูุณูุฉ ูุชุณูุญ ูู ุจุงูุชุฎูุต ูู ุงูุชูุงููู ุงูุนุงูุฉ ุงูููุงุจูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูููุชุงุญ ุงููุฑูุฒู ูู ููุทุฉ ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ูุฃู ูุนุงูุฌ ูุน ุชูููุฐ ุงุณุชุซูุงุฆู ููุชุนูููุงุช.  ููุฏ ุชุนูู ุงูููุจุฆูู ุจุงููุฑุน ุงูุญุฏูุซ ุงูุชูุจุค ุญุชู ุจูุฐู ุงูุชุญููุงุช ุบูุฑ ุงููุจุงุดุฑุฉ ุงููุนูุฏุฉ ุจุดูู ุฌูุฏ ุ ูููู ููุงุท ุงููุฑุน "ุงูุชูุทูุฎ" ุนูู ุทูู ุงูููุฏ ูููู ุฃู ุชุณุงุนุฏ ุงููุนุงูุฌ ุนูู ุงูุชุญูู ุจุณุฑุนุฉ ูู ุงูุชุนูููุงุช ุฅูู ุงูุชุนูููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูุดููุฉ ุฃุฎุฑู ูู ูุฑุงุกุฉ ุจุงูุช ุจุงูุช ุจุงูุช opcodes ุงูุชุนูููุงุช ูุงูุญุฌุฌ ุงููุจุงุดุฑุฉ ูู bytecode.  ุชุนูู ุงูุขูุงุช ุงููุงุฏูุฉ ุจูููุฉ ุขูุฉ 64 ุจุช ููุง ุชุญุจูุง ุญููุง ุนูุฏูุง ุชุนูู ุงูุดูุฑุฉ ุจููู ุฃูู. </p><br><p style=";text-align:right;direction:rtl">  ุบุงูุจูุง ูุง ุชุนูู ุจุฑุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุชู ุงูุฃุณุงุณูุฉ</a> ุ ุฃู ุชุณูุณู ุงูุชุนูููุงุช ุจุฏูู ูุฑูุน ูููุตูุงุช ุจุฏุงุฎููุง.  ุชุจุฏุฃ ุงููุชูุฉ ุงูุฃุณุงุณูุฉ ุฅูุง ูู ุจุฏุงูุฉ ุงูุจุฑูุงูุฌ ุฃู ูู ุงูููุตู ุ ูุชูุชูู ุจููุงูุฉ ุงูุจุฑูุงูุฌ ุฃู ุงูุชูุฑุน ุงูุดุฑุทู ุฃู ุงูุงูุชูุงู ุงููุจุงุดุฑ ุฅูู ุงูููุตู ุงูุฐู ูุจุฏุฃ ุงููุชูุฉ ุงูุฃุณุงุณูุฉ ุงูุชุงููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุงูุนุฏูุฏ ูู ุงููุฒุงูุง ููุนูู ูุน ุงููุญุฏุงุช ุงูุฃุณุงุณูุฉ ุ ูููู ุฎูุฒูุฑูุง ููุชู ุจููุฒุชู ุงูุฑุฆูุณูุฉ: ูุชู ุชูููุฐ ุงูุชุนูููุงุช ุฏุงุฎู ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ ุจุงูุชุชุงุจุน.  ุณูููู ูู ุงูุฑุงุฆุน ุนุฒู ูุฐู ุงููุชู ุงูุฃุณุงุณูุฉ ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ูุงุชุจุงุน ุงูุชุนูููุงุช ุงูููุฌูุฏุฉ ุจูุง ุฏูู ุฅุถุงุนุฉ ุงูููุช ูู ุงูุฏุฎูู ุฅูู ุงูุญููุฉ ุงูุฑุฆูุณูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุญุงูุชูุง ุ ููููู ุญุชู ุชูุณูุน ุชุนุฑูู ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ ุฅูู ุงููุณุงุฑ.  ุณูุชุถูู ุงููุณุงุฑ ูู ุญูุซ ุขูุฉ Piglet VM ุฌููุน ุงููุชู ุงูุฃุณุงุณูุฉ ุงููุชุตูุฉ ุจุดูู ุชุณูุณูู (ุฃู ุจุงุณุชุฎุฏุงู ุงูููุฒุงุช ุบูุฑ ุงููุดุฑูุทุฉ). </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุชูููุฐ ุงููุชุณูุณู ููุชุนูููุงุช ุ ุณูููู ูู ุงูุฌูุฏ ูู ุดูุฑุฉ ุงูุญุฌุฌ ุงููุจุงุดุฑุฉ ููุชุนูููุงุช ููุฏููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏู ูู ุดูุก ูุฎูููุง ุฌุฏูุง ููุดุจู ุชุฌููุนูุง ุฏููุงูููููุง ุ ูุฑุฑูุง ุนุฏู ุงุณุชุฎุฏุงูู.  ุญุชู ุฃู ุงูุฎูุฒูุฑ ุดู ูู ููุชู ููููุงู ุ ูููู ูู ุงููุงุญูุฉ ุงูุนูููุฉ ูู ููู ุงูุฃูุฑ ุณูุฆูุง ููุบุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูููุฑ ุฃููุงู ูู ููู ููููู ุชุฎูู ุงูุชุนูููุงุช ุงููุถููุฉ ูู ุงููุณุงุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">scode</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> arg; trace_op_handler *handler; };</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง arg ูู ุงููุณูุทุฉ ุงูุชู ุชู ูู ุชุดููุฑูุง ูุณุจููุง ููุฅุฑุดุงุฏุงุช ุ ูุงููุนุงูุฌ ูู ูุคุดุฑ ููุฏุงูุฉ ุงูุชู ุชููุฐ ููุทู ุงูุชุนูููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ุชุจุฏู ุทุฑููุฉ ุนุฑุถ ูู ุฃุซุฑ ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> scode trace[MAX_TRACE_LEN];</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃู ุฃู ุงูุชุชุจุน ุนุจุงุฑุฉ ุนู ุณูุณูุฉ ูู ุฑููุฒ s ุฐุงุช ุงูุทูู ุงููุญุฏูุฏ.  ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุชุชุจุน ููุณูุง ุฏุงุฎู ุงูุฌูุงุฒ ุงูุธุงูุฑู ุชุจุฏู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">trace trace_cache[MAX_CODE_LEN];</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐู ูุฌุฑุฏ ูุฌููุนุฉ ูู ุงูุขุซุงุฑ ุฐุงุช ุทูู ูุง ูุชุฌุงูุฒ ุงูุทูู ุงููุญุชูู ูุฑูุฒ ุจุงูุช.  ุงูุญู ูุณูู ุ ูู ุฃุฌู ุชูููุฑ ุงูุฐุงูุฑุฉ ุ ูู ุงูููุทูู ุงุณุชุฎุฏุงู ุฌุฏูู ุชุฌุฒุฆุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุจุฏุงูุฉ ุงููุชุฑุฌู ุ ุณูููู ุงููุนุงูุฌ ุงูุฃูู ููู ุฃุซุฑ ุจุชุฌููุน ููุณู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> trace_i = <span class="hljs-number"><span class="hljs-number">0</span></span>; trace_i &lt; MAX_CODE_LEN; trace_i++ ) vm_trace.trace_cache[trace_i][<span class="hljs-number"><span class="hljs-number">0</span></span>].handler = trace_compile_handler;</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุจุฏู ุญููุฉ ุงููุชุฑุฌู ุงูุฑุฆูุณูุฉ ุงูุขู ููุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(vm_trace.is_running) { scode *code = &amp;vm_trace.trace_cache[vm_trace.pc][<span class="hljs-number"><span class="hljs-number">0</span></span>]; code-&gt;handler(code); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุนุฏ ูุชุฑุฌู ุงูุชุชุจุน ุฃูุซุฑ ุชุนููุฏูุง ููููุงู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุจูุงุก ุชุชุจุน ุจุฏุกูุง ูู ุงูุชุนูููุงุช ุงูุญุงููุฉ ุ ูุฅูู ูููู ุจูุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trace_compile_handler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(scode *trace_head)</span></span></span><span class="hljs-function"> </span></span>{ scode *trace_tail = trace_head; <span class="hljs-comment"><span class="hljs-comment">/* * Trace building here */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* now, run the chain that has a trace_compile_handler replaced with proper instruction handler * function pointer */</span></span> trace_head-&gt;handler(trace_head); }</code> </pre><br><p style=";text-align:right;direction:rtl">  ูุนุงูุฌ ุงูุชุนูููุงุช ุงูุนุงุฏู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">op_add_handler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(scode *code)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> arg_right = POP(); *TOS_PTR() += arg_right; <span class="hljs-comment"><span class="hljs-comment">/* * Call the next trace handler * */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* scodes are located in an array so we can use pointer arithmetic to get the next handler */</span></span> code++; code-&gt;handler(code); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุงููุนุงูุฌ ุงูุฐู ูุง ูููู ุจุฅุฌุฑุงุก ุฃู ููุงููุงุช ูู ููุงูุฉ ุงููุธููุฉ ุจุฅููุงุก ูู ุฃุซุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">op_done_handler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(scode *code)</span></span></span><span class="hljs-function"> </span></span>{ (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>) code; vm_trace.is_running = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; vm_trace.error = SUCCESS; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุ ุจุงูุทุจุน ุ ุฃูุซุฑ ุชุนููุฏูุง ูู ุฅุถุงูุฉ ุชุนูููุงุช ูุงุฆูุฉ ุ ููู ุฏุนูุง ูุฑู ูุง ุฅุฐุง ูุงู ุฐูู ุฃุนุทุงูุง ุฃู ุดูุก: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">&gt; ./pigletvm runtimes test/sieve.bin 100 &gt; /dev/null PROFILE: switch code finished took 427ms PROFILE: switch code (no range check) finished took 395ms PROFILE: trace code finished took 367ms</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฑุญู ุ 30 ูููู ุซุงููุฉ ุฃุฎุฑู! </p><br><p style=";text-align:right;direction:rtl">  ููู ุฐููุ  ุจุฏูุงู ูู ุงูุชููู ุจุจุณุงุทุฉ ุนุจุฑ ุงูุชุณููุงุช ุ ูููู ุจุนูู ุณูุงุณู ููุงููุงุช ููุนุงูุฌุงุช ุงูุชุนูููุงุช ุ ูููุถู ุจุนุถ ุงูููุช ูู ุงูููุงููุงุช ูุชูุฑูุฑ ุงูุญุฌุฌ ุ ููู ุฃุตุจุนูุง ูุง ูุฒุงู ูุนูู ุนูู ุงููุณุงุฑุงุช ุจุดูู ุฃุณุฑุน ูู ุงูููุชุงุญ ุงูุจุณูุท ูุน ุชุณููุงุชู. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุญููู ูุฐุง ุงูููุงุณุจ ูู ุฃุฏุงุก ุงููุณุงุฑ ุจุณุจุจ ุซูุงุซุฉ ุนูุงูู: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุงูุณูู ุชููุน ุงููุฑูุน ุงูููุชุดุฑุฉ ูู ุฃูุงูู ูุฎุชููุฉ ูู ุงููุฏููุฉ. </li><li style=";text-align:right;direction:rtl">  ูุชู ุฏุงุฆููุง ุชุฑููุฒ ุญุฌุฌ ุงููุนุงูุฌุงุช ูุณุจููุง ูู ูููุฉ ุขููุฉ ูุงููุฉ ุ ููุชู ุฐูู ูุฑุฉ ูุงุญุฏุฉ ููุท - ุฃุซูุงุก ุชุฌููุน ุงูุชุชุจุน. </li><li style=";text-align:right;direction:rtl">  ูููู ุงููุชุฑุฌู ุจุชุญููู ุณูุงุณู ุงููุธุงุฆู ุฅูู ููุงููุฉ ูุงุญุฏุฉ ุฅูู ูุธููุฉ ุงููุนุงูุฌ ุงูุฃูู ุ ููู ุฃูุฑ ูููู ุจุณุจุจ ุชุญุณูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงููุฉ ุงูุฎูููุฉ</a> . </li></ol><br><p style=";text-align:right;direction:rtl">  ูุจู ุชูุฎูุต ูุชุงุฆุฌ ุชุฏุฑูุจูุง ุ ูุฑุฑุช ุฃูุง ูุงูุฎูุฒูุฑ ุงูุตุบูุฑ ุชุฌุฑุจุฉ ุชูููุฉ ูุฏููุฉ ุฃุฎุฑู ูุชูุณูุฑ ุงูุจุฑุงูุฌ - ุฑูุฒ ูุฎูุท. </p><br><h1 id="uprazhnenie-chetvertoe-shityy-kod" style=";text-align:right;direction:rtl">  ุงูุชูุฑูู ุงูุฑุงุจุน: ููุฏ "ูุฎูุท" </h1><br><p style=";text-align:right;direction:rtl">  ุณูุน ุฃู ุฎูุฒูุฑ ููุชู ุจุชุงุฑูุฎ ุงููุชุฑุฌููู ุงูุดูุฑูู ุฑูุฒูุง ูุชุฑุงุจุทูุง.  ููุงู ุงูุนุฏูุฏ ูู ุงูุฎูุงุฑุงุช ููุฐู ุงูุชูููุฉ ุ ูููู ุฌููุนูุง ุชุฎุชุตุฑ ุจุฏูุงู ูู ุงููุฑูุฑ ุนุจุฑ ูุฌููุนุฉ ูู ุฑููุฒ opcodes ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅุดุงุฑุงุช ุฅูู ุงููุธุงุฆู ุฃู ุงูุชุณููุงุช ุ ูุชุงุจุนุชูุง ูุจุงุดุฑุฉ ุฏูู ุฑูุฒ op opmediate ูุชูุณุท. </p><br><p style=";text-align:right;direction:rtl">  ูุธุงุฆู ุงูุงุชุตุงู ูู ุนูู ูููู ููุง ูุนูู ูู ูุฐู ุงูุฃูุงู ุ  ูุนุธู ุงูุฅุตุฏุงุฑุงุช ุงูุฃุฎุฑู ูู ููุฏ ุงูุฎูุงุทุฉ ุบูุฑ ูุงุจูุฉ ููุชุญููู ูู ุฅุทุงุฑ ุงููุนูุงุฑ C. ุญุชู ุงูุชูููุฉ ุ ุงูุชู ุณุชุชู ููุงูุดุชูุง ุฃุฏูุงู ุ ุชุณุชุฎุฏู ุงูุงูุชุฏุงุฏุงุช ูุงุณุนุฉ ุงููุทุงู ุ ุบูุฑ ุงูููุงุณูุฉ - C ุฅูู ุงูุชุณููุงุช. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฅุตุฏุงุฑ ุฑูุฒ ูุฎูุท (ุงูุฑูุฒ ุงููููุฒ ููุบุฉ ุงูุฅูุฌููุฒูุฉ) ุงูุฐู ุงุฎุชุฑุชู ูุชุญููู ุฃูุฏุงู ุงูุฎูุฒูุฑ ุงูุฎุงุตุฉ ุจูุง ุ ูููู ุจุญูุธ ุงูุฑูุฒ ุงููุฑุนู ุ ูููู ูุจู ุจุฏุก ุงูุชูุณูุฑ ุ ูููู ุจุฅูุดุงุก ุฌุฏูู ูุนุฑุถ ุดูุฑุงุช ุงูุชุนูููุงุช ุฅูู ุนููุงู ุชุณููุงุช ูุนุงูุฌ ุงูุชุนูููุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> *labels[] = { [OP_PUSHI] = &amp;&amp;op_pushi, [OP_LOADI] = &amp;&amp;op_loadi, [OP_LOADADDI] = &amp;&amp;op_loadaddi, [OP_STORE] = &amp;&amp;op_store, [OP_STOREI] = &amp;&amp;op_storei, [OP_LOAD] = &amp;&amp;op_load, [OP_DUP] = &amp;&amp;op_dup, [OP_DISCARD] = &amp;&amp;op_discard, [OP_ADD] = &amp;&amp;op_add, [OP_ADDI] = &amp;&amp;op_addi, [OP_SUB] = &amp;&amp;op_sub, [OP_DIV] = &amp;&amp;op_div, [OP_MUL] = &amp;&amp;op_mul, [OP_JUMP] = &amp;&amp;op_jump, [OP_JUMP_IF_TRUE] = &amp;&amp;op_jump_if_true, [OP_JUMP_IF_FALSE] = &amp;&amp;op_jump_if_false, [OP_EQUAL] = &amp;&amp;op_equal, [OP_LESS] = &amp;&amp;op_less, [OP_LESS_OR_EQUAL] = &amp;&amp;op_less_or_equal, [OP_GREATER] = &amp;&amp;op_greater, [OP_GREATER_OR_EQUAL] = &amp;&amp;op_greater_or_equal, [OP_GREATER_OR_EQUALI] = &amp;&amp;op_greater_or_equali, [OP_POP_RES] = &amp;&amp;op_pop_res, [OP_DONE] = &amp;&amp;op_done, [OP_PRINT] = &amp;&amp;op_print, [OP_ABORT] = &amp;&amp;op_abort, };</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุชุจู ููุฑููุฒ &amp; - ููุฐู ูุคุดุฑุงุช ุนูู ุงูุชุณููุงุช ูุน ูุตูุต ุงูุชุนูููุงุช ุ ุงูุงูุชุฏุงุฏ ุบูุฑ ุงูููุงุณู ูุฏูู ูุฌูุณ ุงูุชุนุงูู ุงูุฎููุฌู. </p><br><p style=";text-align:right;direction:rtl">  ูุจุฏุก ุชูููุฐ ุงูุฑูุฒ ุ ูุง ุนููู ุณูู ุงูููุฑ ุนูู ุงููุคุดุฑ ุงูููุงุจู ูุฑูุฒ ุงูุชุดุบูู ุงูุฃูู ููุจุฑูุงูุฌ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> *labels[NEXT_OP()];</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ุฏูุฑุฉ ููุง ููู ุชููู ููุงู ุ ููู ูู ุงูุชุนูููุงุช ููุณูุง ุชููุฒ ุฅูู ุงููุนุงูุฌ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">op_pushi: { <span class="hljs-comment"><span class="hljs-comment">/* get the argument, push it onto stack */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> arg = NEXT_ARG(); PUSH(arg); <span class="hljs-comment"><span class="hljs-comment">/* jump to the next instruction*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> *labels[NEXT_OP()]; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅู ุนุฏู ูุฌูุฏ ููุชุงุญ "ููุชุดุฑ" ููุงุท ุงููุฑุน ุนูู ุทูู ููุฆุงุช ุงูุชุนูููุงุช ุ ูุงูุชู ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ูุฌุจ ุฃู ุชุณุงุนุฏ ุงููุฑุน ุนูู ุงูุชูุจุค ูู ุญุงูุฉ ุงูุชูููุฐ ุบูุฑ ุงูุนุงุฏู ููุชุนูููุงุช.  ูุจุฏู ุงูุฃูุฑ ููุง ูู ูููุง ุจุจูุงุก ุงูููุชุงุญ ูุจุงุดุฑุฉู ูู ุงูุชุนูููุงุช ููููุง ุจุชุดููู ุฌุฏูู ุงูุชูุงู ูุฏูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุฐู ูู ุงูุชูููุฉ ุจุฃููููุง.  ููุฏ ุฃุญุจุจุช ุงูุฎูุฒูุฑ ุงูุตุบูุฑ ูุจุณุงุทุชู.  ุฏุนููุง ูุฑู ูุง ูุญุฏุซ ูู ุงูููุงุฑุณุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">&gt; ./pigletvm runtimes test/sieve.bin 100 &gt; /dev/null PROFILE: switch code finished took 443ms PROFILE: switch code (no range check) finished took 389ms PROFILE: threaded code finished took 477ms PROFILE: trace code finished took 364ms</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูููุง!  ูุฐุง ูู ุฃุจุทุฃ ุชูููุงุชูุง!  ูุงุฐุง ุญุฏุซุ  ุฏุนููุง ูุฌุฑู ููุณ ุงูุงุฎุชุจุงุฑุงุช ุ ุจุฅููุงู ุฌููุน ุงูุชุญุณููุงุช ูู ุฏูู ูุฌูุณ ุงูุชุนุงูู ุงูุฎููุฌู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">&gt; ./pigletvm runtimes test/sieve.bin 100 &gt; /dev/null PROFILE: switch code finished took 969ms PROFILE: switch code (no range check) finished took 940ms PROFILE: threaded code finished took 824ms PROFILE: trace code finished took 1169ms</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุ ูุนูู ุฑูุฒ ูุฎูุท ุจุดูู ุฃูุถู. </p><br><p style=";text-align:right;direction:rtl">  ุชูุนุจ ุซูุงุซุฉ ุนูุงูู ุฏูุฑูุง ููุง: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุญูู ุงูุจุฑูุฌู ุงูุฃูุซู ุณูู ูุจูู ุฌุฏูู ุชุญููู ููุณ ุฃุณูุฃ ูู ููุญุฉ ุงูููุตูุงุช ุงููุฏููุฉ. </li><li style=";text-align:right;direction:rtl">  ูุชุฎูุต ุงููุชุฑุฌููู ุงูุญุฏูุซูู ุจุดูู ููุญูุธ ูู ููุงููุงุช ุงููุธุงุฆู ุงูุฅุถุงููุฉ. </li><li style=";text-align:right;direction:rtl">  ุจุฏุกูุง ูู ุฌูู Haswell ูู ูุนุงูุฌุงุช Intel ุ ุชุนูู ูุชูุจุฆู ุงููุฑูุน ุงูุชูุจุค ุจุฏูุฉ ุจุงูุชุญููุงุช ุนุจุฑ ููุทุฉ ูุฑุน ูุงุญุฏุฉ. </li></ol><br><p style=";text-align:right;direction:rtl">  ููููุง ููุฐุงูุฑุฉ ุงููุฏููุฉ ุ ูุง ุชุฒุงู ูุฐู ุงูุชูููุฉ ูุณุชุฎุฏูุฉ ูู ุฑูุฒ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุชุฑุฌู Python VM ุ ูููู ุ ุจุตุฑุงุญุฉ ุ ูุฐู ุงูุฃูุงู ุฃุตุจุญุช ุจุงููุนู ูุฏููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ุฃุฎูุฑุง ููุฎุต ููููู ุงููุฌุงุญุงุช ุงูุชู ุญูููุง ุฎูุฒูุฑูุง. </p><br><h1 id="razbor-porosyachih-poletov" style=";text-align:right;direction:rtl">  ุงุณุชุฎูุงุต ุงููุนูููุงุช </h1><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/co/vy/6k/covy6k28ts8__ozuzuswtqpcora.jpeg"><br>  ูุณุช ูุชุฃูุฏูุง ููุง ูููู ุชุณููุชู ุฑุญูุฉ ุ ูููู ุฏุนูุง ููุงุฌููุง ุ ููุฏ ูุทุนูุง ุฃุตุจุนูุง ุจุนูุฏูุง ูู 550 ูููู ุซุงููุฉ ููุฆุงุช ุงูุฌุฑู ุนูู "ุงูููุฎู" ุฅูู 370 ูููู ุซุงููุฉ ุฃุฎูุฑุฉ.  ุงุณุชุฎุฏููุง ุชูููุงุช ูุฎุชููุฉ: ุชุนูููุงุช ูุงุฆูุฉ ุ ูุงูุชุฎูุต ูู ูุญุต ูุชุฑุงุช ุงูููู ุ ูุงููููุงูููุง ุงููุนูุฏุฉ ููุขุซุงุฑ ุ ูุฃุฎูุฑูุง ุ ุญุชู ููุฏ ูุฎูุท.  ูู ุงูููุช ููุณู ุ ุจุดูู ุนุงู ุ ุชุตุฑููุง ูู ุฅุทุงุฑ ุงูุฃุดูุงุก ุงููููุฐุฉ ูู ุฌููุน ุงููุชุฑุฌููู ุงููุดููุฑูู ูู C. ูุนุชุจุฑ ุงูุชุณุงุฑุน ูุฑุฉ ููุตู ุ ููุง ูุจุฏู ูู ุ ูุชูุฌุฉ ุฌูุฏุฉ ุ ููุณุชุญู ุงูุฎูุฒูุฑ ุงูุตุบูุฑ ุฌุฒุกูุง ุฅุถุงูููุง ูู ุงููุฎุงูุฉ ูู ุงูุญูุถ ุงูุตุบูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุฃุญุฏ ุงูุดุฑูุท ุงูุถูููุฉ ุงูุชู ูุถุนูุงูุง ูุฃููุณูุง ูุน ุงูุฎูุฒูุฑ ูู ุงูุญูุงุธ ุนูู ุจููุฉ ุงูููุฏุณ ูุขูุฉ Piglet VM.  ูููู ุงูุงูุชูุงู ุฅูู ุชุณุฌูู ุงูุจููุฉ ุ ููุงุนุฏุฉ ุนุงูุฉ ุ ูู ุนุฏุฏ ุงูุชุนูููุงุช ุงููุงุฒูุฉ ูููุทู ุงูุจุฑุงูุฌ ุ ูุจุงูุชุงูู ุ ูููู ุฃู ูุณุงุนุฏ ูู ุงูุชุฎูุต ูู ุงููุฎุงุฑุฌ ุบูุฑ ุงูุถุฑูุฑูุฉ ููุฏูุฑ ุงูุชุนูููุงุช.  ุฃุนุชูุฏ ุฃูู ูููู ูุทุน 10-20ูช ุฃุฎุฑู ูู ุงูููุช ุนูู ูุฐุง. </p><br><p style=";text-align:right;direction:rtl">  ุดุฑุทูุง ุงูุฑุฆูุณู - ุนุฏู ูุฌูุฏ ุชุฌููุน ุฏููุงูููู - ููุณ ุฃูุถูุง ูุงููููุง ููุทุจูุนุฉ.  ุฅู ุถุฎ ุงูุฎูุฒูุฑ ุจุงูุณุชูุฑููุฏุงุช ุนูู ุดูู ุชุฌููุน JIT ุฃูุฑ ุณูู ููุบุงูุฉ ูุฐู ุงูุฃูุงู: ูู ููุชุจุงุช ูุซู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GNU Lightning</a> ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">LibJIT ุ</a> ุชู ุจุงููุนู ุชูููุฐ ุฌููุน ุงูุฃุนูุงู ุงููุฐุฑุฉ.  ููู ููุช ุงูุชุทููุฑ ูุงูููุฏุงุฑ ุงูุฅุฌูุงูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุญุชู ุจุงุณุชุฎุฏุงู ุงูููุชุจุงุช ูููู ุจุดูู ูุงุฆู. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุจุงูุทุจุน ุญูู ุฃุฎุฑู ูู ูุตู ุฅูููุง ุฎูุฒูุฑูุง ุงูุตุบูุฑ ุฅูู ุงูุญุงูุฑ.    ,     โ       - โ    - .         ,       . </p><br><p style=";text-align:right;direction:rtl"> <strong>PS</strong>    ,  ,   ,   ,   ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://www.instagram.com/vovazomb/</a> ),   . </p><br><p style=";text-align:right;direction:rtl"> <strong>PPS</strong>       ,     .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">true-grue</a> -           โ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PigletC</a> .     ! </p><br><p style=";text-align:right;direction:rtl"> <strong>PPPS</strong>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">iliazeus</a>    :      .            ;             .      <a href=""></a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar428878/">https://habr.com/ru/post/ar428878/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar428866/index.html">7 ูุจุงุฏุฆ ุชุตููู ุ ุงุชุฌุงูุงุช ุฅูู ุงุชุฌุงูุงุช ุงูุชุตููู ุ ูุญูุธุฉ ูุตูู UX ุ ...</a></li>
<li><a href="../ar428868/index.html">JARs ูุชุนุฏุฏุฉ ุงูุฅุตุฏุงุฑุงุช - ุณูุฆุฉ ุฃู ุฌูุฏุฉุ</a></li>
<li><a href="../ar428870/index.html">Mrr: Total FRP for React</a></li>
<li><a href="../ar428872/index.html">ูุตุฉ ุนูู ูุงุญุฏุฉ ู 20 ุนูููุฉ (ุบูุฑ ูุงุจูุฉ ูููุฑุงุกุฉ) ุฃู ุฃุฑุงุฏ ุฃู ูููู ุทูุงุฑูุง ุ ูููู ูู ููุณูุญ ูู ุจุฏุฎูู ุงูุณูุงุก</a></li>
<li><a href="../ar428876/index.html">ููุณ ููุงู ุนูุฏุฉ ุฅูู ุงููุฑุงุก: ุชุฌุฑุจุฉ ุดุฎุตูุฉ ุงุฎุชุจุงุฑ</a></li>
<li><a href="../ar428880/index.html">ุทุฑู ุงููุตุงุฏูุฉ ุงูุฌุฏูุฏุฉ - ุชูุฏูุฏ ููุฎุตูุตูุฉุ</a></li>
<li><a href="../ar428882/index.html">Bland: ูููู ุจุชุญููู ุงูููุงู</a></li>
<li><a href="../ar428888/index.html">qml: ุงูููุฉ ูุงูุจุณุงุทุฉ</a></li>
<li><a href="../ar428890/index.html">ุงูุญูููุฉ ุงููุงููุฉ ุนู RTOS. ุงููุงุฏุฉ ุฑูู 18. ูุฌููุนุงุช ุนูุงูุงุช ุงูุฃุญุฏุงุซ: ุฎุฏูุงุช ุงููุณุงุนุฏุฉ ูููุงูู ุงูุจูุงูุงุช</a></li>
<li><a href="../ar428892/index.html">ููููุฉ ุฅูุดุงุก ูุนุจุฉ AI: ุฏููู ูููุจุชุฏุฆูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>