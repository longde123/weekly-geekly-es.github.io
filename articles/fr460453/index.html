<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüè´ üíÄ ü•â Imprimante intelligente. Am√©lioration d'Octoprint üë®‚Äçüë®‚Äçüë¶ üêß ü§ë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lors du d√©veloppement d'un projet ouvert pour l'imprimante Z-Bolt √† 4 extrudeuses, nous avons √©t√© confront√©s au probl√®me du choix d'un √©cran pour cont...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Imprimante intelligente. Am√©lioration d'Octoprint</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460453/"> Lors du d√©veloppement d'un projet ouvert pour l'imprimante Z-Bolt √† 4 extrudeuses, nous avons √©t√© confront√©s au probl√®me du choix d'un √©cran pour contr√¥ler l'imprimante.  Parmi les √©crans disponibles, seule la solution Duet Wifi peut contr√¥ler plus de 2 extrudeuses.  La solution, pour le moins, n'est pas budg√©taire et l'interface n'est pas pour tout le monde.  Nous avons donc d√©cid√© de chercher une alternative avec pr√©f√©rence et courtisanes.  Cette histoire parle de lui ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7_/sw/2y/7_sw2yntvfmulg1gpfxuxmozkkw.png" alt="image"></div><a name="habracut"></a><br>  Sur Internet, il existe de nombreuses informations sur l'utilisation d'Octoprint.  Il y a un peu plus de six mois, nous sommes devenus utilisateurs de cette solution, en appr√©ciant imm√©diatement ses avantages.  Il est tr√®s difficile de surestimer la capacit√© de contr√¥ler l'imprimante via un internaute.  Octoprint a beaucoup de plugins, et surtout pour nous - Octoprint est tr√®s bien contr√¥l√© avec un nombre d'extrudeuses sup√©rieur √† 2. Mais il restait √† r√©soudre un probl√®me de plus. <br><br>  De nombreux amateurs d'Octoprint affirment avec confiance qu'ils n'ont plus besoin d'un √©cran du mot ¬´compl√®tement¬ª, que c'est une partie absolument superflue de l'imprimante qui ne fait que les d√©ranger. <br><br>  Cependant, je suis convaincu qu'il existe une autre partie des utilisateurs d'OctoPrint.  Chacun a ses propres habitudes et exigences pour l'utilisation quotidienne d'une imprimante 3D, et il existe des op√©rations plus pratiques √† r√©aliser, avec un √©cran: <br><br><ul><li>  Remplacement du filament </li><li>  √âtalonnage au niveau de la table </li><li>  Lancer l'impression d'un fichier pr√©c√©demment imprim√© </li><li>  Activer le pr√©chauffage de l'imprimante </li><li>  Possibilit√© de voir l'√©tat de l'impression </li><li>  ... </li></ul><br>  Maintenant, l'√©cran par d√©faut des imprimantes Z-Bolt est le MKS TFT.  Vous pouvez mettre TFT24, TFT32 ou TFT35.  Ce sont de bons √©crans, mais ils ne peuvent pas s'int√©grer √† Octoprint.  Si Octoprint a commenc√© √† imprimer, l'√©cran n'en saura rien.  Ils utilisent diff√©rents r√©f√©rentiels de fichiers, etc.  Et les √©crans MKS TFT ne veulent pas fonctionner avec des imprimantes 3D √† 3 t√™tes ou plus. <br><br>  Mon objectif √©tait de trouver / fabriquer / configurer un √©cran pour Octoprint, capable de contr√¥ler plus de 2 extrudeuses. <br><br>  Googler un peu, je suis tomb√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un plugin TouchUI</a> . <br><br><img src="https://habrastorage.org/webt/nv/xy/km/nvxykmxddlaote4dyr_2y5buxzi.png"><br><br>  La premi√®re impression √©tait: la voici - une solution !!! <br><br>  J'ai imm√©diatement install√© le plugin et ouvert Octoprint depuis le t√©l√©phone.  L'interface TouchUI est stupide: /.  Parfois les boutons √©taient press√©s normalement, parfois ils ralentissaient, et parfois ils n'√©taient pas press√©s du tout la premi√®re fois.  √Ä partir d'un √©cran connect√©, TouchUI s'est comport√© aussi mal que sur un t√©l√©phone. <br><br>  En parall√®le, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une autre solution a</a> √©t√© trouv√©e. <br><br><img src="https://habrastorage.org/webt/ts/hs/bj/tshsbju0jb-yc_bhwhrdqwckcr8.png"><br><br>  La description √©tait encourageante, contrairement √† TouchUI, il s'agit d'une application ind√©pendante qui fonctionne sans navigateur, ce qui signifie qu'elle n√©cessite beaucoup moins de ressources informatiques. <br><br>  L'installation et la configuration n'ont pas caus√© de probl√®mes.  L'interface a vraiment fonctionn√© beaucoup plus pr√©visible et r√©active. <br><br><img src="https://habrastorage.org/webt/ul/74/hm/ul74hma5vmolt27mkxjemypegly.jpeg"><br><br>  Mais ici, tout ne s'est pas bien pass√©.  L'application s'est arr√™t√©e r√©guli√®rement au d√©marrage de l'impression.  Sur github, il y avait un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">probl√®me pour cette erreur</a> , cr√©√©e il y a pr√®s d'un an et activement discut√©e, mais pas ferm√©e. <br><br>  Le principal probl√®me s'est av√©r√© que l'auteur de la demande, apparemment, s'est d√©sint√©ress√© de lui et ne se d√©veloppe actuellement plus. <br><br>  Puisque, √† mon avis, la demande est assez bien √©crite et a du potentiel, il a √©t√© d√©cid√© de faire un ¬´hard-fork¬ª et de reprendre le projet √† fond. <br><br>  Voici ce que nous avons obtenu: <br><br><ul><li>  Les √©crans optimaux pour le projet sont s√©lectionn√©s </li><li>  Fabriqu√© un ¬´hard-fork¬ª par Octoprint-TFT </li><li>  Perspectives r√©vis√©es sur l'architecture mat√©rielle et logicielle de l'imprimante </li><li>  Cr√©√© son propre th√®me pour l'interface Octoprint </li></ul><br>  Mais tout d'abord ... <br><br><h2>  S√©lections d'√©cran </h2><br>  Nous avons commenc√© avec l'√©cran TFT 3.5 qui, pour le dire en douceur, n'a pas r√©sist√© aux critiques.  Aucun angle de vue, l'image est fan√©e.  Par cons√©quent, il a √©t√© d√©cid√© de choisir une meilleure solution. <br><br>  Les principaux crit√®res √©taient: <br><br><ul><li>  Matrice IPS </li><li>  taille 4-5 pouces </li><li>  √©cran capacitif (facultatif) </li><li>  prix raisonnable </li></ul><br>  En cons√©quence, nous avons opt√© pour deux options: <br><br>  <b>1. L'option est plus simple.</b>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√âcran tactile r√©sistif IPS 4 ''</a> <br><br><img src="https://habrastorage.org/webt/z1/a9/mt/z1a9mtjght1zjnhicro9kxr-r5u.png"><br><br>  <b>2. L'option est plus riche.</b>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√âcran tactile capacitif IPS de 4,3 pouces</a> <br><img src="https://habrastorage.org/webt/g_/9v/w8/g_9vw8lo2wcf7yaqvbrhdzklhqg.png"><br><br>  Les deux √©crans ont une r√©solution de 800x400.  Les deux ont une excellente image, une reproduction des couleurs et un angle de vision.  Leur principale diff√©rence est l'√©cran tactile capacitif.  On s'y habitue (comme tout bon) tr√®s rapidement et on l'utilise bien plus que r√©sistif.  Cependant, un √©cran avec un √©cran tactile r√©sistif est √©galement tout √† fait viable. <br><br><h2>  C'est Hard-Fork, b√©b√©! </h2><br><img src="https://habrastorage.org/webt/7z/vu/bu/7zvubucla5slvvru1y4twjg8u3u.jpeg"><br><br>  L'application a √©t√© s√©rieusement modifi√©e.  Et a presque cess√© de ressembler √† ses parents.  Par cons√©quent (et aussi parce que le cr√©ateur d'Octoprint-TFT a officiellement gel√© le d√©veloppement de son id√©e originale), il a √©t√© d√©cid√© de faire un hard-fork et de nommer le nouveau projet Octoscreen. <br><br><ul><li>  Tout d'abord, le probl√®me de gel d'√©cran subi par Octoprint-TFT a √©t√© compl√®tement √©limin√©. </li><li>  - La conception et la mise en page ont sensiblement chang√©: <br><br><img src="https://habrastorage.org/webt/bn/xi/t9/bnxit9g6bg9q159i9be0bjr7tuc.png"></li><li>  L'√©cran a appris √† comprendre l'√©tat de l'imprimante (veille / impression): <br><br><img src="https://habrastorage.org/webt/2t/e2/ak/2te2akaxbfvwn24mibfcpmqmncu.png"></li><li>  Ajout de la fonction de pr√©chauffage / arr√™t rapide du chauffage en appuyant sur l'ic√¥ne de l'extrudeuse ou de la table, tandis que l'√©cran met en √©vidence l'√©tat: <br><br><img src="https://habrastorage.org/webt/76/ve/fi/76vefiden4g_zfzjvqcjlnjwfto.png"></li><li>  √âcran d'√©talonnage de table manuel ajout√©: <br><br><img src="https://habrastorage.org/webt/a6/ju/9z/a6ju9zxji49wqlb8egb8okzhymg.png"></li><li>  L'√©l√©ment ¬´Menu¬ª s'affiche sur un √©cran s√©par√©: <br><br><img src="https://habrastorage.org/webt/-g/ku/ic/-gkuicaqwncsdwhatapnmqoevm8.png"></li><li>  Ajout de la fonction de contr√¥le WiFi: <br><br><img src="https://habrastorage.org/webt/gc/_v/jc/gc_vjck9hnu7-ovt7xpgw0y1mj0.png"></li><li>  L'application elle-m√™me prend d√©sormais en charge jusqu'√† 4 extrudeuses, c'est pourquoi elle a √©t√© cr√©√©e: <br><br><img src="https://habrastorage.org/webt/tt/yf/am/ttyfammo6_gtvdtbnxis9f9dr3c.png"></li></ul><br>  Vous pouvez t√©l√©charger l'application et trouver de br√®ves instructions d'installation sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">notre GitHub</a> . <br><br>  Il y a aussi une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">instruction d√©taill√©e pour l'√©cran 3.5</a> , pour laquelle un merci sp√©cial √† notre coll√®gue Denis (@ negativ72rus). <br><br><h2>  R√©visez vos points de vue sur le micrologiciel de l'imprimante ou les changements de chaussures lors de vos d√©placements </h2><br><img src="https://habrastorage.org/webt/et/tj/ze/ettjzezztdvncbw2ov2c9l0py2q.png"><br><br>  Au d√©part, nous avions pr√©vu d'utiliser Marlin dans notre imprimante multi-extrudeuse, mais finalement, le choix s'est port√© sur Klipper.  Il y a plusieurs raisons: <br><br>  1. L'une des principales raisons pour nous, en tant que d√©veloppeurs, est sa flexibilit√©.  Marlin et son code de ¬´p√¢tes¬ª font du processus d'am√©lioration de celui-ci, et plus encore de leur soutien ult√©rieur, un v√©ritable d√©fi. <br><br>  Klipper √† cet √©gard est l'exact oppos√© de Marlin.  Tout d'abord, toute la configuration de Klipper est retir√©e du code du programme.  Le code lui-m√™me est bien structur√©.  Mais surtout, Klipper offre une modularit√© !!!  Vous pouvez ajouter votre logique au micrologiciel sans modifier son c≈ìur et simplifier ainsi consid√©rablement la prise en charge de votre code. <br><br>  2. Toute la configuration du firmware peut √™tre effectu√©e directement via l'interface Web OctoPrint.  Et en m√™me temps, les param√®tres sont beaucoup plus puissants que ceux de Marlin ou Smootheiware. <br><br>  3. Comment puis-je ne pas dire sur les bits que tout le monde a chass√©s r√©cemment)).  L'architecture Klipper elle-m√™me suppose que la charge de calcul incombe au Raspberry PI.  La fonction de la carte de commande MKS Gen L (dans le cas des imprimantes Z-Bolt) reste dans la transmission des signaux vers / depuis la p√©riph√©rie (moteurs, capteurs, r√©chauffeurs, commandes). <br><br>  Mais le Raspberry Pi 3 mod√®le B + est √©quip√© d'une puce Broadcom BCM2837B0 A53 1,4 GHz √† 64 bits. <br><br>  Essentiellement Octoprint + Klipper fonctionnant sur le Raspberry Pi + le m√™me MKS Gen L - <br>  un ordre de grandeur plus fonctionnel et progressif que Marlin fonctionnant sur une puce 32 bits. <br><br>  Les fichiers de configuration pour les imprimantes Klipper pour Z-Bolt peuvent √©galement √™tre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">trouv√©s ici</a> . <br><br><h2>  Un petit bonus au final! </h2><br>  Nous avons √©galement cr√©√© notre propre th√®me pour l'interface Octoprint: <br><br><img src="https://habrastorage.org/webt/ul/ab/7y/ulab7ylxsog55kjtqjbbqtixprq.png"><br><br>  Le chapeau peut √™tre configur√© avec le s√©lecteur de couleurs natives dans la section Apparence: <br><br><img src="https://habrastorage.org/webt/yp/bn/qg/ypbnqg7glksmku-buyzlc6g8uhc.png"><br><br>  Les instructions sur la fa√ßon d'installer le th√®me peuvent √™tre trouv√©es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur notre GitHub</a> . <br><br>  √âcrivez dans les commentaires les fonctionnalit√©s d'√©cran que vous trouvez les plus utiles et n√©cessaires √† ajouter. <br><br>  <b>Tous les bons, positifs et bons √©l√©ments en surplomb!</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr460453/">https://habr.com/ru/post/fr460453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr460439/index.html">Langage de programmation P4</a></li>
<li><a href="../fr460441/index.html">Gleb Nitzman: ¬´J'ai trouv√© la toute fin d'une √©poque o√π les gens n'avaient pas encore chass√© l'or contenu dans les √©l√©ments radio¬ª</a></li>
<li><a href="../fr460443/index.html">Concepteurs vs d√©veloppeurs: sur l'histoire de la cr√©ation de l'application ¬´Ma ville intelligente¬ª</a></li>
<li><a href="../fr460445/index.html">Cours magistral "Fondamentaux du traitement num√©rique du signal"</a></li>
<li><a href="../fr460451/index.html">L'homme a fait sa troisi√®me oreille pour que le monde entier l'utilise - pour l'art</a></li>
<li><a href="../fr460457/index.html">Centrale solaire DIY 200 m2</a></li>
<li><a href="../fr460459/index.html">Fichier de configuration htaccess</a></li>
<li><a href="../fr460461/index.html">Simulation d'attaques cibl√©es comme √©valuation de la s√©curit√©. Red Teaming Cyber ‚Äã‚ÄãInstructions</a></li>
<li><a href="../fr460463/index.html">Qu'est-il arriv√© √† GALILEO - GNSS Programmer Version</a></li>
<li><a href="../fr460465/index.html">Ombres num√©riques - Aide avec comp√©tence √† r√©duire les risques num√©riques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>