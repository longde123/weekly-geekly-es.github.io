<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♠️ 👤 🧣 كيفية إنشاء برامج ويندوز في اردوينو 🏂 🦕 🌟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ذات مرة كانت لدي فكرة مجنونة لإحضار 500 مؤشر ليزر في مكان واحد . قضيت الكثير من الوقت وفعلت ذلك. اتضح مذهل وغير مجدية ، لكني أحببته. قبل ستة أشهر ، جا...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>كيفية إنشاء برامج ويندوز في اردوينو</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472958/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/h0/18/5r/h0185rgz8yxisaplqy5xszepqz4.jpeg"><br><br>  ذات مرة كانت لدي فكرة مجنونة لإحضار <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">500</a> مؤشر <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ليزر في مكان واحد</a> .  قضيت الكثير من الوقت وفعلت ذلك.  اتضح مذهل وغير مجدية ، لكني أحببته.  قبل ستة أشهر ، جاءت فكرة أخرى مجنونة لي.  هذه المرة ليست مذهلة على الإطلاق ، ولكن أكثر فائدة بكثير.  كما قضيت الكثير من الوقت في ذلك.  وفي هذه المقالة أقدم نسخة تجريبية من فكرتي الثانية المجنونة. <br><a name="habracut"></a><br>  اتصلت بمشروع Nanonyam (Nanonyam) وحتى توصلت إلى شعار له (لقد رسمت لمدة 5 دقائق). <br><br><img src="https://habrastorage.org/webt/yv/nl/qq/yvnlqqsmhoywclwxrllblttqlg0.png"><br><br>  بالنسبة لأولئك الذين يفكرون في Arduino ، يمكننا القول أن Nanonyam هو درع اردوينو افتراضي لإدارة Windows. <br><br>  بمعنى آخر ، Nanonyam عبارة عن آلة افتراضية تستخدم برنامجًا ثابتًا لوحدة تحكم AVR مثل الرمز الثانوي (يوصى ATMEGA2560).  يوجد داخل هذا الجهاز الظاهري محاكي AVR kernel ، ولكن بدلاً من الأجهزة الطرفية الموجودة في عناوين SRAM من 0x0060 إلى 0x01FF ، هناك واجهة خاصة للوظائف الافتراضية (بما في ذلك وظائف Windows API).  وهنا من المهم للغاية أن نفهم على الفور: يجب ألا يكون لرمز Nanonyam أي وصول إلى نطاق الذاكرة المحدد ، حتى لا تتصل بطريق الخطأ ، على سبيل المثال ، وظيفة حذف الملفات أو تهيئة القرص.  ما تبقى من نطاق الذاكرة SRAM من 0x0200 إلى 0xFFFF (هذا هو أكثر من في متحكم حقيقي) متاح للمستخدم لأي غرض من الأغراض.  لاحظ على الفور أن هناك حماية خاصة ضد بدء تشغيل البرامج الثابتة لمراقب متحكم حقيقي (أو برنامج ثابت من بنية مختلفة): قبل تنشيط الوظائف "الخطيرة" ، تحتاج إلى استدعاء وظيفة افتراضية خاصة صعبة.  هناك بعض ميزات الأمان الأخرى. <br><br>  لإنشاء برامج لـ Nanonyam ، تحتاج إلى استخدام مكتبات خاصة تنفذ جميع الوظائف الافتراضية المتاحة حاليًا.  يمكنك تنزيل الجهاز الظاهري Nanonyam ومكتباته من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">هنا</a> .  وهنا <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الصفحة لوصف الوظائف الافتراضية</a> .  ونعم ، موقعي بدائي للغاية وغير ملائم للأجهزة المحمولة. <br><br>  <b>نانونام مجاني للاستخدام المنزلي والتجاري.</b>  <b>نانونام على أساس "كما هي".</b>  <b>شفرة المصدر غير متوفرة.</b> <br><br>  في الوقت الحالي ، يكون البرنامج في مرحلة الاختبار.  تم تنفيذ حوالي 200 وظيفة افتراضية تتيح لك إنشاء برامج بسيطة لنظام Windows. <br>  من الواضح أن إنشاء شيء معقد في مثل هذا الجهاز الظاهري لن يعمل ، لأن ذاكرة الكود هي 256 كيلو بايت فقط.  يمكن تخزين البيانات في ملفات منفصلة ، ويتم تنفيذ مخزن مؤقت للجزء الرسومي خارجيًا.  جميع الوظائف مبسطة ومتكيفة مع بنية 8 بت. <br><br>  ما الذي يمكن عمله في نانونام؟  خطرت لي العديد من المهام. <br><br><h4 style=";text-align:right;direction:rtl">  تطوير كتل البرنامج </h4><br>  ما إن كنت بحاجة لتطوير قائمة معقدة لعرض رسومات 128 × 64 نقطة.  لا أريد حقًا تنزيل البرامج الثابتة باستمرار إلى متحكم حقيقي لمعرفة كيف تبدو البكسل.  لذلك ولدت فكرة Nanonyam.  في الشكل أدناه ، الصورة من شاشة OLED الحقيقية لأحد العناصر الموجودة في نفس القائمة.  الآن يمكنني العمل بها دون جهاز حقيقي. <br><br><img src="https://habrastorage.org/webt/e3/-d/he/e3-dhe9tty9m3qpt1ysa1d9_qxq.jpeg"><br><br>  Nanonyam (في فكرتها النهائية) هي أداة جيدة للعمل على كتل البرمجيات لأجهزة التحكم الدقيقة ، حيث توجد وظائف للعمل مع الرسومات (يمكنك محاكاة العروض والمؤشرات) ، مع الملفات (يمكنك إنشاء سجلات ، قراءة بيانات الاختبار) ، مع لوحة مفاتيح (يمكنك قراءة ما يصل إلى 10 أزرار في نفس الوقت) ، مع منافذ COM (هنا عنصر منفصل). <br><br><h4 style=";text-align:right;direction:rtl">  إنشاء برامج سريعة </h4><br>  على سبيل المثال ، تحتاج إلى معالجة 100،500 ملف نصي بسرعة.  يجب فتح الجميع وتغييره قليلاً وفقًا لبعض الخوارزميات البسيطة ، المحفوظة والمغلقة.  إذا كنت سيد بايثون ، فأهنئكم ، لديك كل شيء.  ولكن إذا كنت عامل اردوينو متأصل (وهناك الكثير منهم) ، فإن Nanonyam سوف يساعدك في حل هذه المشكلة.  هذا هو بالضبط هدفي الثاني في Nanonyam: لإضافة العديد من الوظائف المفيدة مثل معالجة النصوص أو إنشاء لقطات شاشة أو محاكاة ضربات المفاتيح في النظام (هذا ، بالمناسبة ، موجود بالفعل) ، بالإضافة إلى العديد من الوظائف الأخرى لحل المهام الروتينية. <br><br><h4 style=";text-align:right;direction:rtl">  اختبار الغدد من خلال منفذ COM </h4><br>  يمكن أن يعمل Nanonyam كمحطة تعمل وفقًا للخوارزمية.  يمكنك رسم قائمة صغيرة للتحكم في الجهاز وعرض البيانات المستلمة من المنفذ.  يمكنك حفظ وقراءة البيانات من الملفات لتحليلها.  أداة مريحة لتصحيح الأخطاء ومعايرة الغدد ، وكذلك لإنشاء لوحات تحكم بسيطة للأجهزة الافتراضية.  للطلاب والعلماء الشباب ، يمكن أن يكون هذا المشروع مفيدًا للغاية. <br><br><h4 style=";text-align:right;direction:rtl">  تدريب البرمجة </h4><br>  ومع ذلك ، كما هو الحال مع مشروع Arduino بأكمله ، فإن الأداة الرئيسية لـ Nanonyam هي تبسيط وظائفها وواجهة التشغيل ومحمل الإقلاع.  لذلك ، ينبغي أن يكون هذا المشروع ذا أهمية للمبرمجين المبتدئين وأولئك الذين راضون عن مستوى اردوينو.  بالمناسبة ، أنا نفسي لم أدرس حتى الآن اردوينو بالتفصيل ، لأنني كنت دائمًا تستخدم WinAVR أو AVR Studio ، لكنني بدأت مع المجمّع.  لذلك ، سيكون البرنامج عينة أدناه خاطئ بعض الشيء ، ولكن العمل تماما. <br><br><h4 style=";text-align:right;direction:rtl">  مرحبا يا هبر! </h4><br>  حان الوقت للتعرف على بعض ميزات Nanonyam وكتابة برنامج بسيط.  سوف نكتب باللغة Arduino ، لكن ليس بالطريقة المعتادة ، ولكن بالطريقة التي يمكنني الآن (لقد قلت بالفعل أنني لم أتعامل مع هذه البيئة بشكل جيد للغاية).  أولاً ، قم بإنشاء رسم جديد وحدد لوحة Mega2560. <br><br><img src="https://habrastorage.org/webt/p8/oo/fd/p8oofdpzzycecncztkxkxtza7ku.jpeg"><br><br>  احفظ الرسم إلى ملف <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">وانسخ مكتبة Nanonyam القريبة</a> .  سيكون من الصحيح تضمين رؤوس المكتبات ، لكنني لا أعرف كيفية كتابة مجموعة من الملفات الفردية في Arduino ، لذلك فقط قم بتشغيل المكتبات مباشرة (وكلها مرة واحدة): <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">#include &lt;stdio.h&gt; #include "Nanonyam\nN_System_lib.c" #include "Nanonyam\nN_Keyboard_lib.c" #include "Nanonyam\nN_File_lib.c" #include "Nanonyam\nN_Math_lib.c" #include "Nanonyam\nN_Text_lib.c" #include "Nanonyam\nN_Graphics_lib.c" #include "Nanonyam\nN_RS232_lib.c"</code> </pre> <br>  سيكون من الأصح إنشاء وحدة خاصة "Nanonyam for Arduino" ، والتي يمكن تثبيتها مباشرة من Arduino.  بمجرد أن أتعامل مع هذا ، سأفعل ذلك ، لكن الآن سأظهر فقط جوهر العمل مع جهاز افتراضي.  نكتب الرمز التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">//       void setup() { sys_Nanonyam();//    g_SetScreenSize(400,200);//   400200  sys_WindowSetText("Example");//  g_ConfigExternalFont(0,60,1,0,0,0,"Arial");//  Windows    0 g_SetExternalFont(0);//   0    g_SetBackRGB(0,0,255);//   g_SetTextRGB(255,255,0);//   g_ClearAll();//  (  ) g_DrawTextCenterX(0,400,70,"Hello, Habr!");//  g_Update();//     } //    void loop() { sys_Delay(100);//    }</code> </pre> <br>  <a href="">يمكن تنزيل</a> رسم تخطيطي لهذا البرنامج <a href="">هنا</a> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ابحث عن</a> وصف مفصل للوظائف <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">على الموقع</a> .  آمل أن تكون التعليقات في هذا الرمز كافية لفهم هذه النقطة.  هنا ، تلعب وظيفة <b>sys_Nanonyam ()</b> دور "كلمة المرور" للجهاز الظاهري ، مما يزيل القيود المفروضة على الوظائف الافتراضية.  بدون هذه الوظيفة ، سيتم إغلاق البرنامج بعد 3 ثوانٍ من التشغيل. <br><br>  انقر على زر "التحقق" ويجب ألا تكون هناك أخطاء. <br><br><img src="https://habrastorage.org/webt/oe/yj/ui/oeyjui5vz5oxhuss5oanfav0_me.jpeg"><br><br>  أنت الآن بحاجة إلى الحصول على الملف الثنائي (البرامج الثابتة).  حدد القائمة " <i>رسم &gt;&gt; تصدير ملف ثنائي (CTRL + ALT + S)</i> ". <br><br><img src="https://habrastorage.org/webt/11/ny/wi/11nywi0-b49tetx7vnwrjkd3fvu.jpeg"><br><br>  في هذه الحالة ، سيتم نسخ ملفين HEX إلى المجلد مع الرسم.  <b>نحن نأخذ الملف فقط بدون البادئة "with_bootloader.mega".</b> <br><br>  هناك عدة طرق لتحديد ملف HEX لجهاز Nanonyam الظاهري ، وكلها موصوفة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">في هذه الصفحة</a> .  أقترح إنشاء ملف <i>Nanonyam.path</i> إلى جانب ملف <i>Nanonyam.exe</i> ، بحيث تكتب المسار الكامل إلى ملف HEX الخاص بنا.  ثم يمكنك تشغيل <i>Nanonyam.exe</i> .  نحصل على نافذة مع نقشنا. <br><br><img src="https://habrastorage.org/webt/xn/6z/m5/xn6zm55x-pcyccyim_vfljxl40w.jpeg"><br><br>  وبالمثل ، يمكنك إنشاء برامج في بيئات أخرى ، على سبيل المثال ، في AVR Studio أو WinAVR. <br><br>  هذا هو المكان الذي ننهي التعارف مع Nanonyam.  يجب أن تكون الفكرة الأساسية واضحة.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المزيد من الأمثلة على الموقع</a> .  إذا كان هناك عدد كاف من الأشخاص الذين يرغبون في استخدام هذا المشروع ، فسأقدم المزيد من الأمثلة وسأواصل "ملء" مكتبات الوظائف الافتراضية.  يتم قبول الأفكار الملموسة لتطوير المشروع والتقارير حول الأعطال والأخطاء والأخطاء.  يُنصح بإرسالها إلى جهات الاتصال <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المدرجة على الموقع</a> .  مناقشة موضع ترحيب في التعليقات. <br><br>  شكرا لكم جميعا على اهتمامكم والبرمجة الجيدة! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar472958/">https://habr.com/ru/post/ar472958/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar472936/index.html">عملية TA505: تجميع شبكة البنية التحتية. الجزء 3</a></li>
<li><a href="../ar472944/index.html">البيانات كخدمة: ما هي ، الصعوبات التقنية وكيفية الالتفاف عليها باستخدام الوكلاء المقيمين</a></li>
<li><a href="../ar472946/index.html">المطور الجيد هو الحكيم ، وليس رائعا</a></li>
<li><a href="../ar472954/index.html">Gantt الرسم البياني مقابل مجلس Kanban</a></li>
<li><a href="../ar472956/index.html">تاريخ بناء روبوت كاتربيلر</a></li>
<li><a href="../ar472960/index.html">أفضل سعر عدسة / جودة سوني</a></li>
<li><a href="../ar472962/index.html">نشر الفيديو: التجارب كشكل من أشكال التصور العلمي</a></li>
<li><a href="../ar472964/index.html">الموقف: المزيد والمزيد من الشركات مفتوحة المصدر تقوم بتغيير التراخيص - نناقش آراء الخبراء</a></li>
<li><a href="../ar472966/index.html">كيف يبدو أرشيف الرمز البريدي وما الذي يمكننا فعله به. الجزء 2 - واصف البيانات وضغطها</a></li>
<li><a href="../ar472970/index.html">نقد بروتوكول Telegram والمناهج التنظيمية. الجزء 1 ، التقنية: تجربة كتابة عميل من الصفر - TL ، MT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>