<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸŒš ğŸ§¤ ğŸ•·ï¸ ShIoTiny dan dunia: sensor analog atau ADC untuk yang terkecil ğŸ‘¢ ğŸ… ğŸ’†ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Poin-poin penting atau tentang artikel ini 


 Kelanjutan dari serangkaian artikel tentang ShIoTiny - pengontrol yang dapat diprogram secara visual be...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ShIoTiny dan dunia: sensor analog atau ADC untuk yang terkecil</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466443/"><p><img src="https://habrastorage.org/webt/fr/no/k7/frnok7ogh51ujstrunvuo69naww.jpeg" alt="gambar"></p><br><h3 id="osnovnye-tezisy-ili-o-chem-eta-statya">  Poin-poin penting atau tentang artikel ini </h3><br><p>  Kelanjutan dari serangkaian artikel tentang <strong>ShIoTiny</strong> - pengontrol yang dapat diprogram secara visual berdasarkan chip <strong>ESP8266</strong> .  Fitur utama dari pengontrol ini adalah kemampuan untuk memprogramnya dengan menggambar program di browser. </p><br><p>  Artikel ini menjelaskan teori singkat konversi analog-ke-digital dan aplikasi praktis dari kontroler <strong>ShIoTiny</strong> ADC. </p><br><p>  <strong>Artikel sebelumnya dalam seri.</strong> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ShIoTiny: otomatisasi kecil, Internet, atau "enam bulan sebelum liburan"</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ShIoTiny: node, tautan, dan acara atau fitur program menggambar</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ShIoTiny: ventilasi kamar basah (contoh proyek)</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ShIoTiny dan dunia sekitarnya: menghubungkan sensor ke input biner, pantulan kontak, dan masalah lainnya</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Situs proyek</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Firmware biner, sirkuit pengontrol, dan dokumentasi di sini</a> </p><a name="habracut"></a><br><h3 id="vstuplenie-ili-vmesto-sereznoy-teorii">  Pengantar atau bukannya teori serius </h3><br><p>  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> sebelumnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">,</a> kami memeriksa koneksi jenis sensor utama dengan output biner ke input biner dari pengontrol <strong>ShIoTiny</strong> . </p><br><p>  Tetapi, seperti yang diketahui oleh kebanyakan orang, juga anak sekolah dan siswa, sebagian besar informasi tentang dunia sekitarnya adalah jumlah analog dari berbagai sifat fisik: kekuatan cahaya dan suara, kecepatan, tekanan udara, tingkat cairan, dan sebagainya. </p><br><p>  Hampir semua mikroprosesor dan mikrokontroler modern hanya mampu memproses nilai diskrit dalam representasi biner. </p><br><p>  Bagi mereka yang belum tahu bagaimana nilai analog berbeda dari yang diskrit, saya akan menulis penjelasan singkat.  Siapa pun yang sudah tahu segalanya bisa melewati mereka.  Saya akan segera melakukan pemesanan - analogi dan penyederhanaan ada tempatnya.  Ini bukan disertasi, melainkan penjelasan singkat di jari. </p><br><h3 id="analogovye-i-diskretnye-velichiny-professoram-akademikam-i-vunderkindam-mozhno-ne-chitat">  Jumlah analog dan diskrit (Anda tidak dapat membaca untuk profesor, akademisi, dan Geeks) </h3><br><p>  Semua orang belajar matematika di sekolah.  Oleh karena itu, kita beralih ke sana dan menggambar analogi antara jumlah dan angka analog dan diskrit. </p><br><p>  Dari sudut pandang matematika, kuantitas <strong>analog</strong> adalah bilangan <strong>real</strong> , didefinisikan pada titik mana pun pada segmen tertentu dari garis bilangan. </p><br><p>  Nilai <strong>diskrit</strong> dari sudut pandang matematika adalah <strong>bilangan bulat</strong> .  Dan itu didefinisikan hanya pada titik-titik tertentu dari segmen tertentu dari garis bilangan. </p><br><p>  Gambar di bawah ini secara skematis menunjukkan lokasi angka-angka analog dan diskrit pada garis angka. </p><br><p><img src="https://habrastorage.org/webt/_f/py/tm/_fpytmw_jsgmgxgr-1saubap86m.png" alt="gambar"></p><br><p>  Misalnya, perhatikan segmen dari garis bilangan dari <strong>-4</strong> hingga <strong>3</strong> .  Seperti yang Anda lihat, jumlah <strong>diskrit yang</strong> ditunjukkan oleh titik-titik <strong>merah</strong> - bilangan bulat di atasnya hanya 8 buah.  <strong>Nilai analog yang</strong> ditunjukkan oleh garis <strong>hijau</strong> pada gambar tidak terbatas. </p><br><p>  Misalnya, kami memiliki kuantitas <strong>X</strong> tertentu, yang memiliki rentang nilai dari <strong>0</strong> hingga <strong>127</strong> .  Jika kami menyatakan kuantitas ini sebagai <strong>analog</strong> , maka secara teoritis kami dapat mewakilinya dengan akurasi apa pun - misalnya, <strong>12.123455454980</strong> atau <strong>126.00000000007</strong> atau secara umum dengan sejuta tempat desimal. </p><br><p>  Tetapi begitu mikrokontroler memasuki bisnis dan nilai <strong>X</strong> memperoleh representasi <strong>diskrit</strong> , maka tidak ada pembicaraan tentang â€œakurasi tak terbatasâ€ bahkan secara teoritis.  Akurasi dibatasi oleh jumlah digit biner, yang kami tetapkan untuk representasi kuantitas <strong>X.</strong> </p><br><p>  Sebagai contoh, kami mengambil <strong>7</strong> bit.  Dalam hal ini, kita dapat merepresentasikan nilai <strong>X</strong> dengan akurasi satu.  Artinya, dimungkinkan untuk menentukan <strong>X = 1</strong> atau <strong>X = 112</strong> .  Tetapi <strong>X = 112.5</strong> tidak dapat diindikasikan - tidak ada kedalaman bit yang cukup.  Jika kita mengambil untuk representasi dengan nilai <strong>X yang sama</strong> bukan <strong>7</strong> , tetapi <strong>10</strong> digit, maka keakuratan representasi tidak akan menjadi satu, tetapi <strong>0,125</strong> .  Dan dalam formulir ini, Anda dapat membayangkan <strong>X = 95.125</strong> atau <strong>X = 112.5</strong> .  Tetapi lebih tepatnya, misalnya, dalam bentuk <strong>X = 112.13</strong> - nilai ini belum dapat direpresentasikan. </p><br><p>  Jika Anda bingung dengan fakta bahwa saya menulis nilai fraksional dan pada saat yang sama saya berbicara tentang mereka sebagai bilangan bulat, maka ingatlah bahwa "titik diskrit" dapat ditempatkan pada garis angka bukan dalam satuan, tetapi misalnya dalam <strong>0,5</strong> atau <strong>0,125</strong> unit.  Tetapi karena mereka, nilai akhir akan tetap pada segmen mana pun.  Dan semua sifat dari kuantitas yang terpisah dipertahankan. </p><br><p>  <strong>Perbedaan utama</strong> antara nilai <strong>diskrit</strong> dan nilai <strong>analog</strong> adalah bahwa pada setiap segmen terbatas dari garis bilangan akan ada jumlah terbatas nilai diskrit (integer) dan jumlah tak terbatas nilai analog (nyata).  Dengan demikian, kita memperoleh bahwa representasi kuantitas yang diskrit selalu memiliki akurasi yang terbatas. </p><br><p>  Sebagai hasil dari semua hal di atas, kita mendapatkan <strong>kesimpulan yang</strong> sepele.  Sebagian besar kuantitas dunia nyata yang terukur adalah <strong>analog</strong> .  Mikrokontroler hanya bekerja dengan <strong>representasi</strong> numerik <strong>diskrit</strong> dari jumlah.  Oleh karena itu, sebelum memproses nilai analog apa pun menggunakan mikrokontroler, nilai ini harus dinyatakan sebagai nilai diskrit.  Ya, dan dalam bentuk biner. </p><br><p>  <strong><em>Konversi semacam itu dari analog ke digital disebut konversi analog-ke-digital</em></strong> . </p><br><h3 id="analogo-cifrovoy-preobrazovatel">  Konverter analog ke digital </h3><br><p>  Perangkat untuk mengubah sinyal analog ke digital disebut <strong>ADC</strong> ( <strong>analog-to-digital converter</strong> ). </p><br><p>  Biasanya, perangkat tersebut memiliki satu atau lebih input analog, yang mana sinyal analog dan output digital dengan kedalaman bit diberikan (biasanya dari 8 hingga 16 bit). </p><br><p>  Mikrokontroler modern, termasuk <strong>ESP8266</strong> kami, memiliki unit ADC <strong>bawaan</strong> . </p><br><p>  Apa karakteristik yang dilakukan ADC pada umumnya dan <strong>ESP8266</strong> pada khususnya? </p><br><p>  Karakteristik <strong>pertama</strong> adalah jenis input analog apa yang dikonversi ADC menjadi kode digital keluaran.  Paling sering, nilai ini adalah tegangan pada input analog ADC.  Jadi itu akan menjadi kasus kita.  Namun secara alami, ada ADC dengan input saat ini. </p><br><p>  Karakteristik <strong>kedua</strong> ADC, yang diperlukan dalam praktiknya, adalah rentang nilai dari nilai input ADC.  Dalam kasus kami, ini adalah nilai tegangan minimum dan maksimum pada input ADC.  Nilai-nilai ini akan menjadi <strong>0V</strong> dan <strong>1V,</strong> masing-masing.  Kisaran input <strong>1V</strong> tampak kecil, tetapi voltase besar selalu dapat dibagi dan dikurangi, dan voltase kecil dapat diperkuat. </p><br><p>  <strong>Karakteristik ketiga</strong> dan mungkin yang paling penting dari ADC adalah kapasitasnya.  Nilai ini menentukan keakuratan transformasi atau (dengan analogi kami) - seberapa sering titik "diskrit" ditempatkan pada garis bilangan "nyata".  Dalam kasus kami, ADC memiliki resolusi <strong>10</strong> .  Apa artinya ini?  Dan ini berarti bahwa kode digital keluaran diwakili oleh 10 digit biner dan memiliki nilai 1024 - dari 0 hingga 1023. <br>  Sebenarnya, perlu diingat bahwa keakuratan konversi tidak hanya bergantung pada kedalaman bit, tetapi juga pada sejumlah parameter lain, misalnya, linearitas ADC.  Tetapi banyak yang telah ditulis tentang hal ini oleh paman yang sangat pintar dalam buku yang sangat pintar, jadi dalam artikel ini saya akan meninggalkan pembaca tanpa detail. </p><br><p>  Selain itu, <strong>ESP8266 ADC</strong> dapat mendeteksi kelebihan, yaitu situasi di mana tegangan lebih besar dari <strong>1V</strong> diterapkan pada input. </p><br><p>  Jika Anda mengambil buku referensi pintar tentang ADC dan mencari di sana, maka akan ada puluhan karakteristik lainnya.  Semuanya penting dan penting, tetapi kita tidak akan melangkah sejauh ini.  <strong>Sebagai contoh</strong> , kami <em>tidak akan menyentuh parameter waktu ADC</em> , karena kami percaya bahwa dalam kasus kami nilai yang diukur berubah agak lambat dan ADC mengubahnya menjadi representasi digital â€œsecara instanâ€. </p><br><p>  Untuk <strong>meringkas hasil</strong> awal. <br>  Pengontrol <strong>ShIoTiny</strong> memiliki ADC yang dibangun ke dalam <strong>ESP8266</strong> . </p><br><p>  Tegangan dalam rentang dari <strong>0</strong> hingga <strong>1V</strong> diterapkan pada input dari <strong>ADC ESP8266</strong> . </p><br><p>  Pada output dari <strong>ESP8266 ADC,</strong> kita mendapatkan angka yang sebanding dengan tegangan input dalam kisaran dari <strong>0</strong> hingga <strong>1023</strong> .  Tegangan <strong>0V</strong> sesuai dengan kode <strong>0</strong> pada output ADC, tegangan <strong>1V</strong> sesuai dengan kode <strong>1023</strong> pada output ADC. </p><br><p>  Membaca data dari ADC di <strong>ShIoTiny</strong> dilakukan dengan kecepatan sekitar <strong>10 kali per detik</strong> . </p><br><p>  Input perangkat keras ADC dilindungi terhadap tegangan lebih, mirip dengan bagaimana input biner <strong>Input1,2,3 dilindungi</strong> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lihat di sini</a> ). </p><br><p>  Itu untuk <strong>perangkat keras ShIoTiny ADC</strong> . </p><br><p>  Sekarang mari kita <strong>berurusan dengan</strong> simpul <strong>ADC1</strong> , yang memproses data dari perangkat keras <strong>ESP8266</strong> . </p><br><h3 id="programmnye-navoroty-ili-uzel-adc1">  Lonceng atau peluit perangkat lunak ADC1 </h3><br><p>  Dalam diagram program di editor <strong>ElDraw</strong> , <strong>rakitan</strong> konverter analog-ke-digital disebut <strong>ADC1</strong> . </p><br><img src="https://habrastorage.org/webt/bt/wn/ub/btwnub4pibvpje98rsdylqdvizs.png"><br><p>  Seperti yang telah disebutkan, simpul <strong>ADC1</strong> menerima data dari perangkat keras <strong>ESP8266 ADC</strong> sekitar <strong>10 kali per detik</strong> .  Tetapi node yang ditentukan tidak tenang dalam hal ini, tetapi mulai memproses data ini dan bahkan menganalisisnya sedikit. </p><br><p>  <strong>Pertama</strong> , diperiksa - apakah ada overflow ADC?  Artinya - bukankah input ADC lebih dari <strong>1V</strong> ?  Jika situasi seperti itu terdeteksi, maka output dari simpul <strong>ADC1</strong> diatur ke <strong>NAN</strong> ( <strong>bukan angka</strong> ). </p><br><p>  <strong>Kedua</strong> , jika tidak ada luapan, nilai output ADC <strong>0..1023</strong> dikonversi ke nilai tegangan pada input ADC <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>n</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.116ex" height="1.817ex" viewBox="0 -520.7 1341.4 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-75" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6E" x="345" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>n</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-1"> u_ {in} </script>  - angka floating point dalam kisaran <strong>0..1</strong> . </p><br><p>  <strong>Ketiga</strong> , nilai yang dikonversi <strong>0..1 ini</strong> dihitung ulang sesuai dengan rumus <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>X</mi><mo>=</mo><mi>k</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msub><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><mi>b</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.014ex" height="2.419ex" viewBox="0 -780.1 7755.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-58" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-3D" x="1130" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6B" x="2186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-63" x="2958" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-64" x="3391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6F" x="3915" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-74" x="4400" y="0"></use><g transform="translate(4762,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-75" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6E" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-2B" x="6325" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-62" x="7326" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>X</mi><mo>=</mo><mi>k</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><msub><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><mi>b</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> X = k \ cdot u_ {in} + b </script>  dimana <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>n</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.116ex" height="1.817ex" viewBox="0 -520.7 1341.4 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-75" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6E" x="345" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>n</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-3"> u_ {in} </script>  - tegangan pada input ADC (dari <strong>0</strong> ke <strong>1V</strong> );  <strong>k</strong> adalah rentang (rentang <strong>ADC</strong> ) dan <strong>b</strong> adalah offset ( <strong>offset ADC</strong> ).  Dan akhirnya, nilai <strong>X yang diperoleh</strong> diatur ke output dari simpul <strong>ADC1</strong> . </p><br><p>  Dan akhirnya <strong>di urutan kelima</strong> .  Jika nilai <strong>X</strong> telah berubah dengan persentase yang ditentukan (dari <strong>1</strong> hingga <strong>100%</strong> ), maka unit ADC menghasilkan peristiwa, menyebabkan konversi nilai dari node yang terhubung dengannya.  Ini pada dasarnya adalah parameter <strong>sensitivitas</strong> <strong>ADC</strong> ( <strong>perubahan ADC, kisaran%</strong> ).  Lagi pula, biasanya tidak ada alasan untuk bereaksi "terhadap setiap bersin", yaitu, untuk sedikit perubahan pada bit-bit rendah ADC - mereka sering "membuat suara".  Oleh karena itu, parameter sensitivitas sangat penting secara praktis. </p><br><p>  Pertanyaan yang sah muncul - bagaimana kita mengkonfigurasi pengaturan ini?  Klik dengan mouse Anda pada simpul <strong>ADC1</strong> dalam diagram dan di sana Anda akan melihat jendela pengaturan. </p><br><p>  Di dalamnya Anda dapat mengatur semua yang Anda butuhkan.  Untuk kasus kami, itu akan menjadi jendela seperti itu, seperti pada gambar. </p><br><p><img src="https://habrastorage.org/webt/cn/so/ub/cnsoubc9q_rhu-2p6hlffcd_1ig.png" alt="gambar"></p><br><p>  Di jendela ini, Anda dapat mengatur semua parameter yang disebutkan di atas - rentang, offset, dan sensitivitas ADC. </p><br><p>  Jika Anda tidak menentukan apa pun, maka kisarannya adalah 1. Offsetnya adalah nol.  Dan sensitivitasnya 1%. </p><br><p>  Artinya, secara default, sebenarnya, output dari simpul <strong>ADC1</strong> akan menjadi nilai tegangan analog yang dipasok ke input ADC. </p><br><p>  Seperti yang Anda lihat, simpul <strong>ADC1</strong> cukup kompleks.  Mengapa semua ini dilakukan? <del>  Ya untuk Anda, pengguna terkasih! </del>  Hanya bercanda, tentu saja, sebagai egois jahat, saya mempertimbangkan pengalaman sebelumnya dan mencoba membuat hidup saya lebih mudah. </p><br><p>  Kami, sebagai insinyur sederhana, ingin agar nilai-nilai yang disajikan tidak dalam "parrot", tetapi dalam nilai-nilai normal dan dapat dipahami - volt, ampere, kilogram atau meter. </p><br><p>  Banyak sensor memberikan nilai "dalam beo", berharap bahwa mikrokontroler yang pintar akan menghitung ulang mereka ke nilai yang diinginkan. </p><br><p>  Untuk tujuan ini, konversi nilai ADC yang diukur dengan fungsi yang diberikan diperkenalkan. </p><br><p>  Tapi, seperti biasa, lebih baik melihat sekali daripada mendengar sepuluh kali.  Lebih baik mencoba sekali daripada melihat sepuluh kali ... Tapi bukan itu intinya. <br>  Oleh karena itu, saya akan memberikan beberapa contoh yang tidak rumit: sistem kontrol catu daya dan sistem pengukuran suhu berdasarkan sensor dengan output arus <strong>4-20mA</strong> . </p><br><h3 id="kontrol-pitayuschey-seti">  Pemantauan sumber listrik </h3><br><p>  Mengukur tegangan adalah tugas yang umum.  Sebagai contoh, kami ingin mengukur tegangan listrik <strong>~ 220V</strong> .  Jika pasokan listrik kami buruk, tugasnya sangat nyata.  Kami tidak membutuhkan perubahan yang sangat, sangat akurat.  Sudah cukup bahwa ketika tegangan 15% di atas norma, <strong>Relay1</strong> dipicu pada <strong>ShIoTiny</strong> , dan ketika tegangan berkurang 15% dari norma, <strong>Relay2 dipicu</strong> . </p><br><p>  Tentu saja, kita tidak bisa <strong>memasukkan</strong> input <strong>ADC1</strong> dari kontroler <strong>ShIoTIny</strong> ke soket.  Apa yang harus dilakukan  Pertama, tegangan harus dikurangi ke tingkat yang dapat diterima - <strong>0..1V</strong> .  Dan, kedua, itu harus diperbaiki: ADC kami tidak dapat mengukur tegangan bolak-balik. </p><br><p>  Tegangan dalam jaringan dapat berada di bawah norma dan di atas norma.  Untuk kesederhanaan, kita <strong>asumsikan</strong> bahwa <strong>220V</strong> tegangan utama akan sesuai dengan <strong>0,5V dari</strong> tegangan pada input ADC. </p><br><p>  Selanjutnya, kita mencari transformator step-down yang pada <strong>~ 220V dari</strong> tegangan input akan memberi kita, katakan <strong>~ 3V dari</strong> tegangan output dan merakit sirkuit seperti pada gambar di bawah ini. </p><br><br><p>  Di sini <strong>kejutan</strong> dapat menunggu orang-orang bodoh dalam elektronik.  Pada keluaran penyearah, bukan tegangan DC <strong>3V</strong> tiba-tiba muncul, tetapi beberapa plus <strong>4V</strong> !  Bahkan, semuanya dijelaskan dengan sederhana.  Ketika kita mengukur tegangan bolak-balik, voltmeter menunjukkan kepada kita nilai tegangan <strong>aktual</strong> .  Dan ketika kita memperbaiki tegangan ini, maka pada keluaran rectifier kita mendapatkan nilai <strong>puncak</strong> tegangan, yang untuk sinyal sinusoidal adalah sekitar <strong>1,41</strong> , dan tepatnya <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.791ex" height="2.298ex" viewBox="0 -728.2 2493.5 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-71" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-72" x="1180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-74" x="1631" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-32" x="1993" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mn>2</mn></math></span></span><script type="math/tex" id="MathJax-Element-4"> \ sqrt 2 </script>  kali lebih banyak dari yang sekarang.  Oleh karena itu <strong>4.23V</strong> "dimengerti" pada output dari penyearah. </p><br><p>  Dan akhirnya, kita perlu menghitung pembagi tegangan, yaitu resistansi <strong>R1</strong> dan <strong>R2</strong> .  Kita perlu mendapatkan output dari pembagi <strong>0,5V</strong> dengan tegangan pada inputnya <strong>4,23V</strong> .  Jadi tegangan <strong>terkoreksi 4.23V</strong> harus dibagi <strong>8,46</strong> kali.  Untuk melakukan ini, atur resistor <strong>R2 = 100 Ohm</strong> , dan resistor <strong>R1 = 746 Ohm</strong> .  Tapi ini ideal.  Sebenarnya, resistor dengan resistansi <strong>746 ohm</strong> tidak ada.  Ya, dan transformer tidak terlalu akurat.  Karena itu, jika ada yang berani mencoba solusi ini, saya <strong>sangat menyarankan Anda</strong> untuk meletakkan resistor <strong>R1 = 760 Ohm</strong> , dan ambil trimmer resistor <strong>R2</strong> , dengan hambatan <strong>180 Ohm</strong> atau <strong>220 Ohm</strong> .  Kemudian Anda dapat, dipersenjatai dengan voltmeter, menyesuaikan <strong>R2</strong> sehingga pada <strong>~ 220V</strong> tegangan pada gulungan primer transformator, pada output pembagi (atau, yang sama, pada input <strong>ADC1</strong> ) adalah <strong>=</strong> <strong>0,5V</strong> . </p><br><p>  Kami mengukur tegangan tidak hanya seperti itu, tetapi untuk melakukan sesuatu dengan melebihi atau menurunkannya dari norma.  Misalnya, nyalakan daya cadangan agar beberapa perangkat tidak hangus dan tidak mati. </p><br><p>  Oleh karena itu, kita akan menggambar skema program yang paling sederhana, yang, ketika tegangannya <strong>15% di</strong> atas normal, menyebabkan relai <strong>Relay1 bekerja</strong> , dan ketika voltase berkurang <strong>15%</strong> dari norma, relai <strong>Relay2 berfungsi</strong> .  Selain itu, tegangan lebih atau undervoltage harus dipertahankan pada jaringan selama <strong>minimal 1 menit</strong> untuk memicu relai.  Ini akan mencegah alarm palsu selama puncak tegangan pendek yang sering terjadi pada jaringan.  Program skema yang mengimplementasikan ide kami ditunjukkan pada gambar. </p><br><p><img src="https://habrastorage.org/webt/vq/t0/bo/vqt0bo1gbldkrrwflef9j6e8ada.png" alt="gambar"></p><br><p>  Agar sirkuit ini berfungsi, perlu untuk mengatur koefisien k (rentang) sama dengan <strong>440</strong> dalam pengaturan parameter ADC, seperti yang ditunjukkan pada gambar. </p><br><p><img src="https://habrastorage.org/webt/3a/iw/x8/3aiwx8bupssyh3wkvimax7bxnfe.png" alt="gambar"></p><br><p>  Dengan koefisien <strong>440</strong> dan tegangan tegangan pada input ADC <strong>0.5V,</strong> output dari simpul <strong>ADC1</strong> akan menjadi <strong>220</strong> .  Itu adalah tegangan listrik yang sebenarnya! </p><br><p>  Ini sangat nyaman, karena memungkinkan Anda untuk mengatur konstanta segera dalam volt: <strong>220V + 15%</strong> adalah <strong>253V</strong> dan <strong>220V-15%</strong> adalah <strong>187V</strong> .  Jika perlu, nilai-nilai ini dapat dengan mudah diubah tanpa membuang waktu untuk menghitung dan menerjemahkan voltase menjadi "parrot". </p><br><h3 id="datchik-temperatury-4-20ma">  Sensor suhu 4-20mA </h3><br><p>  Sensor yang memiliki keluaran arus 4-20mA sangat umum di industri.  Dalam kehidupan sehari-hari Anda tidak akan sering bertemu mereka.  Namun demikian, seseorang memilikinya dan seseorang ini ingin menyesuaikannya dengan penyebabnya. </p><br><p>  ADC memungkinkan penggunaan sensor semacam itu bersama dengan pengontrol <strong>ShIoTiny</strong> . </p><br><p>  Mengapa output sensor saat ini dan tepatnya <strong>4-20mA</strong> ?  Saya akan jelaskan. </p><br><p>  Output saat ini bekerja dengan baik pada garis panjang.  Katakan satu kilometer.  Mereka tidak peduli dengan hambatan kabel: arusnya sama di sepanjang kabel, terlepas dari hambatan konduktor. </p><br><p>  Nilai awal saat ini dari <strong>4mA</strong> , dan bukan hanya kurangnya arus, membuatnya mudah untuk mendeteksi putus kawat.  Jika sensornya utuh dan kabelnya tidak putus, maka selalu ada arus.  Setidaknya <strong>4mA</strong> .  Dan jika kawat <strong>putus,</strong> tidak ada arus ( <strong>0mA</strong> ). </p><br><p>  Misalkan kita memiliki sensor suhu dengan output arus <strong>4-20mA</strong> dan kisaran suhu yang diukur dari <strong>-40C</strong> hingga <strong>+ 125C</strong> .  Kami ingin menghubungkannya dengan <strong>ShIoTin</strong> .  Hal pertama yang perlu kita lakukan adalah mengubah arus menjadi tegangan.  Cara yang ideal untuk konversi semacam itu adalah resistor konvensional. </p><br><p>  Karena tegangan maksimum pada input ADC adalah <strong>1V</strong> , dan arus maksimum dalam saluran adalah <strong>20mA</strong> , mudah untuk menghitung bahwa resistor yang mengubah <strong>20mA</strong> ke <strong>1V</strong> akan memiliki resistansi <strong>50 Ohm</strong> .  ( <em>Tidak tahu hukum Ohm - tetap di rumah!</em> ). </p><br><p>  Kami akan menghubungkan sensor kami seperti yang ditunjukkan pada gambar. </p><br><p><img src="https://habrastorage.org/webt/7a/fq/og/7afqogxbvlo_0tb4ytycdnaynqm.png" alt="gambar"></p><br><p>  Sensor adalah generator arus yang sebanding dengan suhu yang diukur.  Dengan resistansi <strong>50 ohm yang</strong> terhubung secara paralel dengan input <strong>ADC1</strong> , nilai tegangan berikut akan berada di input ADC, tergantung pada arus yang dihasilkan dalam rangkaian sensor: </p><br><ul><li>  saat ini <strong>kurang dari 4mA</strong> , tegangan pada input ADC kurang dari <strong>0,2V</strong> - putus baris; </li><li>  arus dari <strong>4mA ke 20mA</strong> , tegangan dari <strong>0,2V ke 1V</strong> - sensor berfungsi; </li><li>  arus <strong>lebih besar dari 20mA</strong> , tegangan input <strong>lebih besar dari 1V</strong> - sensor rusak.  Dengan korsleting pada sensor, resistor 50 Ohm dapat terbakar jika daya kurang dari 2W. </li></ul><br><p>  Misalkan kita ingin mengukur suhu dan menerbitkannya dengan <strong>MQTT</strong> .  Selain itu, kami akan mempublikasikan status sensor (sirkuit terbuka, sirkuit pendek atau semuanya dalam urutan). </p><br><p>  Hal pertama yang perlu kita lakukan adalah menghitung ulang nilai dari "beo" ke derajat.  Mengetahui bahwa suhu <strong>-40</strong> Â° <strong>C</strong> sesuai dengan arus <strong>4 mA</strong> dan tegangan pada input ADC <strong>0,2 V</strong> , dan suhu <strong>+125 Â° C</strong> sesuai dengan arus <strong>20 mA</strong> dan tegangan pada input ADC <strong>1</strong> <strong>V</strong> , kita memperoleh koefisien: <strong>k = 206.25</strong> dan <strong>b = -81.25</strong> .  Masukkan koefisien ini di jendela pengaturan ADC, seperti yang ditunjukkan pada gambar. </p><br><p><img src="https://habrastorage.org/webt/pn/bn/ss/pnbnsso2veaouphppgibtzqx8do.png" alt="gambar"></p><br><p>  Siapa yang ingin memverifikasi kebenaran perhitungan <strong>k</strong> dan <strong>b sendiri</strong> - putuskan sendiri sistem persamaan: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow><mn>0.2</mn><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>k</mi><mo>+</mo><mi>b</mi><mo>=</mo><mo>&amp;#x2212;</mo><mn>40</mn><mspace linebreak=&quot;newline&quot; /><mn>1</mn><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>k</mi><mo>+</mo><mi>b</mi><mo>=</mo><mn>125</mn><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="5.31ex" viewBox="0 -780.1 33095.6 2286.5" role="img" focusable="false" style="vertical-align: -3.499ex; max-width: 638px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(9766,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-65" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-67" x="1146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-69" x="1626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6E" x="1972" y="0"></use><g transform="translate(2572,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-61" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-73" x="963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-65" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-73" x="1899" y="0"></use></g><g transform="translate(4941,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-32" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-63" x="6470" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-64" x="6904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6F" x="7427" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-74" x="7913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6B" x="8274" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-2B" x="9018" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-62" x="10018" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-3D" x="10726" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-2212" x="11782" y="0"></use><g transform="translate(12561,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-30" x="500" y="0"></use></g></g><g transform="translate(10661,-1332)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-63" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-64" x="1184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6F" x="1707" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-74" x="2193" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6B" x="2554" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-2B" x="3298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-62" x="4298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-3D" x="5006" y="0"></use><g transform="translate(6062,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMAIN-35" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-65" x="7813" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-6E" x="8280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-64" x="8881" y="0"></use><g transform="translate(9404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-61" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-73" x="963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-65" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/466443/&amp;usg=ALkJrhi5zqMa9xJfdM0mCSwObu8uQlAZSQ#MJMATHI-73" x="1899" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow><mn>0.2</mn><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>k</mi><mo>+</mo><mi>b</mi><mo>=</mo><mo>âˆ’</mo><mn>40</mn><mspace linebreak="newline"></mspace><mn>1</mn><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>k</mi><mo>+</mo><mi>b</mi><mo>=</mo><mn>125</mn><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> \ begin {cases} 0.2 \ cdot k + b = -40 \\ 1 \ cdot k + b = 125 \ end {cases} </script></p><br><p>  Nah, skema program tidak akan rumit sama sekali dan ditunjukkan pada gambar di bawah ini. </p><br><p><img src="https://habrastorage.org/webt/nn/yg/u9/nnygu9gstcce-b58llm-k5fyxns.png" alt="gambar"></p><br><p>  Jika semuanya baik-baik saja dan sensor suhu <strong>4-20mA berfungsi</strong> , suhunya dipublikasikan pada server <strong>MQTT</strong> dengan nama <strong>/ t_sens</strong> .  Gejala juga dipublikasikan dengan nama <strong>/ sens_short</strong> dan <strong>/ sens_break</strong> .  Jika semuanya baik-baik saja, maka tanda-tanda kecelakaan adalah nol. </p><br><p>  Jika saluran <strong>putus</strong> , maka suhunya akan kurang dari <strong>-40C</strong> .  Dalam hal ini, parameter <strong>/ sens_break</strong> pada broker <strong>MQTT</strong> akan diterbitkan sebagai satu unit. </p><br><p>  Jika ada hubungan pendek di saluran, maka suhunya akan lebih dari <strong>+ 125C</strong> .            <strong>1</strong>         <strong>NAN</strong> ( <strong>-</strong> ).     <strong>/sens_short</strong>  <strong>MQTT</strong>     . </p><br><p>        <strong>Relay3</strong> ,  , ,   . </p><br><p>    Â«Â» ,   , ,  200      . </p><br><h3 id="zaklyuchenie">  Kesimpulan </h3><br><p>      <strong>ShIoTiny</strong>  ,      .      ,  . </p><br><p>  ,  -    Â«Â»  ,  - , -   . </p><br><p>   â€”     .      . </p><br><p>           : <strong>shiotiny@yandex.ru</strong> . </p><br><h3 id="ssylki">  Referensi </h3><br><p>        ,   ,     . </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">       <br></a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">- </a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">   .      </a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">       <br></a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  :   4-20  â€“    </a> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">   ESPPOWER     ANDROID</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id466443/">https://habr.com/ru/post/id466443/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id466433/index.html">Pelatihan Cisco 200-125 CCNA v3.0. Hari 41. DHCP Mengintai dan Nondefault NLAN VLAN</a></li>
<li><a href="../id466435/index.html">Pelatihan Cisco 200-125 CCNA v3.0. Hari 42. Routing Antar-VLAN dan SVI</a></li>
<li><a href="../id466437/index.html">Pelatihan Cisco 200-125 CCNA v3.0. Hari 43. Protokol Routing Distance Vector dan Link State</a></li>
<li><a href="../id466439/index.html">Periksa diri Anda: berapa banyak pertanyaan yang dapat Anda jawab ChGK?</a></li>
<li><a href="../id466441/index.html">Kode kereta python: 10 kesalahan paling umum yang dilakukan pengembang</a></li>
<li><a href="../id466445/index.html">Serangan antara trust di antara domain</a></li>
<li><a href="../id466447/index.html">Untuk apa kita membangun CDN?</a></li>
<li><a href="../id466449/index.html">Pelatihan Cisco 200-125 CCNA v3.0. Hari 44. Pengantar OSPF</a></li>
<li><a href="../id466451/index.html">Baca_Anda tidak bisa_menghapus</a></li>
<li><a href="../id466453/index.html">Pelatihan Cisco 200-125 CCNA v3.0. Hari 45. Mengkonfigurasi OSPF</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>