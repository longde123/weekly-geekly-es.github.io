<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏾‍🤝‍🧑🏾 🌖 😩 Adaptasi proyek MR untuk HoloLens 🤲🏿 😲 👴🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jadi seri artikel kami tentang Windows Mixed Reality hampir berakhir. Di dalamnya, kami mengembangkan dari awal aplikasi dengan realitas campuran pada...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Adaptasi proyek MR untuk HoloLens</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/418665/">  Jadi seri artikel kami tentang Windows Mixed Reality hampir berakhir.  Di dalamnya, kami mengembangkan dari awal aplikasi dengan realitas campuran pada Unity dalam format praktikum (pekerjaan laboratorium).  Hari ini adalah akord terakhir di mana kita akan berbicara tentang topik yang sangat menarik - Hololens dan adaptasi proyek ke perangkat ini.  Bergabunglah sekarang! <br><br><img src="https://habrastorage.org/webt/7l/qn/el/7lqnelncue7h3vwfqqxkqerm4u8.jpeg"><a name="habracut"></a><br><br><blockquote>  Seluruh panduan akan terdiri dari 5 bagian.  Itu akan diisi ulang setiap minggu.  Di bawah ini Anda dapat pergi ke bagian yang Anda butuhkan. <br><br>  <b>Bagian 1:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ekspor aplikasi UWP untuk Windows Mixed Reality from Unity</a> ; <br>  <b>Bagian 2:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mengatur lingkungan (VR)</a> ; <br>  <b>Bagian 3:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengendali</a> ; <br>  <b>Bagian 4:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Suara Spasial</a> ; <br>  <b>Bagian 5:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HoloLens dan Grafik</a> . </blockquote><br><h2>  Hololen </h2><br>  Sejauh ini, aplikasi kami hanya berfungsi dengan headset imersif.  Namun, dengan hanya membuat beberapa perubahan pada aplikasi, kami dapat mengimplementasikan dukungan untuk seluruh spektrum perangkat Mixed Reality (termasuk HoloLens) di dalamnya. <br><br>  Karena kami menggunakan Mixed Reality Toolkit untuk mengontrol kamera, mengimplementasikan interaksi dan menambahkan tombol, kami hanya perlu membuat beberapa perubahan pada proyek. <br><br><h4>  Menyembunyikan ruang virtual </h4><br>  Kita perlu menulis skrip yang akan menentukan pada perangkat mana aplikasi kita berjalan - pada headset imersif atau pada perangkat HoloLens.  Jika aplikasi ini berjalan pada perangkat HoloLens, kita harus menyembunyikan ruang virtual sehingga pengguna dapat berinteraksi dengan lingkungan nyata.  Untuk melakukan ini, pertama-tama kita tambahkan elemen Tag ke prefab RoomPrefab, dan kemudian kita akan mengakses tag ini dalam skrip kita. <br><br>  1. Pilih prefab RoomPrefab di panel Hierarchy. <br><br>  2. Dalam daftar tarik Tag di panel Inspektur, pilih Tambah Tag .... <br><br><img src="https://habrastorage.org/webt/qk/48/-o/qk48-otwilnhukhdowcvhdavqii.png"><br><br>  3. Klik tanda + untuk membuat tag baru, dan beri tag ini nama HMDUOnly. <br><br><img src="https://habrastorage.org/webt/r7/yx/11/r7yx11_dfmnofazlnqssj3rgiog.png"><br><br>  4. Sekarang klik lagi prefab RoomPrefab di panel Hierarchy dan pilih tag HMDUOnly dari menu drop-down Tag di panel Inspektur. <br><br>  Anda dapat memilih objek game dalam skrip dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">berbagai cara</a> .  Kita dapat menambahkan tag ke objek apa pun yang perlu kita sembunyikan (jika kita memiliki beberapa objek), lalu sembunyikan masing-masing secara berurutan.  Memanggil metode FindGameObjectsWithTag bukan cara yang paling optimal, tetapi cukup cocok untuk kita. <br><br>  5. Dari menu Unity atas, pilih GameObject -&gt; Create Empty. <br><br>  6. Pada panel Hierarchy, ubah nama GameObject kosong yang ditambahkan ke GameManager. <br><br>  7. Pada panel Inspektur, klik Add Component -&gt; New Script dan beri skrip ini nama GameManager, pilih C tajam sebagai bahasa pemrograman.  Klik Buat dan Tambah untuk membuat skrip. <br><br>  8. Untuk membuka skrip GameManager, klik dua kali pada panel Inspektur atau panel Aset. <br><br>  9. Ganti kode skrip GameManager dengan kode di bawah ini.  Tes ini perlu dilakukan hanya sekali, pada saat peluncuran aplikasi.  Kami akan menjalankannya di dalam fungsi Mulai (), dan menghapus fungsi Pembaruan (). <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-comment"><span class="hljs-comment">// We need the UnityEngine.XR.WSA namespace to access Holographic Settings which contain // functions which effect the performance and presentation of Holograms on Windows // Holographic platforms. using UnityEngine.XR.WSA; public class GameManager : MonoBehaviour { void Start () { // Check if the MR headset display is transparent (not opaque). if(!HolographicSettings.IsDisplayOpaque){ // If that is the case, then we need to hide the virtual living room GameObject[] HMDUOnlyObjects = GameObject.FindGameObjectsWithTag("HMDUOnly"); for (int i = 0; i &lt; HMDUOnlyObjects.Length; i++){ // Set active to false disables the object. HMDUOnlyObjects[i].SetActive(false); } } } }</span></span></code> </pre> <br>  Akhirnya, untuk memastikan bahwa aplikasi bekerja dengan benar pada perangkat HoloLens, kita perlu membuat latar belakang kamera menjadi hitam. <br><br>  10. Pada panel Hierarchy, pilih objek MixedRealityCameraParent-&gt; MixedRealityCamera.  Gulir ke bawah panel Inspektur dan pilih hitam sebagai nilai untuk Manajer Kamera Realitas Campuran -&gt; Pengaturan Tampilan Transparan -&gt; Parameter Warna Latar Belakang (Manajer Kamera Realitas Campuran -&gt; Pengaturan Tampilan Transparan -&gt; Warna Latar Belakang). <br><br><img src="https://habrastorage.org/webt/n0/gh/qc/n0ghqcj63thf4zmn62uld9iu6pc.png"><br><br><h4>  Menambahkan pemetaan spasial </h4><br>  Hampir semuanya siap!  Sekarang kita perlu mengaktifkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pemetaan spasial</a> .  Teknologi pencitraan ruang memberikan tampilan detail dari permukaan fisik di lingkungan HoloLens, yang memungkinkan pengembang untuk membuat aplikasi realitas campuran yang mengesankan dengan kemungkinannya.  Dalam kasus kami, pemetaan spasial akan memungkinkan pengguna untuk menempatkan speaker dengan cara alami, sehingga tidak dikaburkan oleh permukaan fisik. <br><br>  Pertama, mari pastikan bahwa kontrol dari objek Bounding Box (bounding box) yang bertanggung jawab untuk bergerak dan berputar tidak disembunyikan. <br><br>  1. Temukan prefab AppBarCustom di folder Asset -&gt; Prefabs di panel Project. <br><br>  2. Tetapkan nilai 0 untuk properti Hover Offset Y Scale (Hover Offset Scale). <br><br><img src="https://habrastorage.org/webt/bv/tg/u8/bvtgu8gsj2xo8sg7n_ltnynmkgy.png"><br><br>  Sekarang mari kita tambahkan komponen pemetaan spasial ke TKP. <br><br>  3. Temukan prefab Pemetaan Spasial di folder Aset -&gt; HoloTookit -&gt; Pemetaan Spasial -&gt; Prefab (Sumber Daya -&gt; HoloTookit -&gt; Pemetaan Spasial -&gt; Rak Pabrikan). <br><br>  4. Seret ke panel Hierarchy dari adegan kami. <br><br><img src="https://habrastorage.org/webt/pu/gp/k3/pugpk3-irjbq5_tmpvbex8pcthg.png"><br><br><h4>  Gerakan HoloLens </h4><br>  Sampai sekarang, semua jenis interaksi dalam aplikasi kami dilakukan menggunakan pengontrol gerak.  Jika aplikasi akan berjalan pada perangkat HoloLens (atau emulatornya), kita perlu menggunakan cara lain untuk memindahkan speaker dan beralih ke sana dalam kode program.  Metode BoundingBox juga dapat digunakan kembali untuk HoloLens, tetapi kami ingin mengoptimalkan interaksi dengan membuat beberapa perubahan. <br><br>  1. Pilih cetakan Speaker di panel Proyek. <br><br>  2. Klik Tambah Komponen -&gt; Ketuk Ke Tempat.  Ini adalah skrip untuk HoloLens dari MR Toolkit yang memungkinkan pengguna menyentuh objek atau hologram dan dengan mudah memindahkannya di luar angkasa. <br><br>  3. Nonaktifkan sehingga tidak memulai secara default.  Untuk menonaktifkan skrip, cukup hapus centang pada kotak di sebelah namanya di panel Inspektur.  Komponen ini juga akan menambahkan skrip Interpolator ke prefab Speaker. <br><br><img src="https://habrastorage.org/webt/fu/od/db/fuoddb8y3g7lu_bmbd86dugvcrk.png"><br><br>  4. Tambahkan skrip ke prefab Pembicara dengan memilih Add Component -&gt; New Script, dan beri nama skrip ini SpeakerMovement. <br><br>  5. Edit skrip - klik dua kali dan ganti kode skrip dengan kode di bawah ini. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.XR.WSA; <span class="hljs-comment"><span class="hljs-comment">// namespace for the TwoHandManipulatable script using HoloToolkit.Unity.InputModule.Utilities.Interactions; // namespace for the TapToPlace script using HoloToolkit.Unity.SpatialMapping; public class SpeakerMovement : MonoBehaviour { void Start () { if(!HolographicSettings.IsDisplayOpaque){ GetComponent&lt;TwoHandManipulatable&gt;().enabled = false; GetComponent&lt;TapToPlace&gt;().enabled = true; } } }</span></span></code> </pre> <br>  Dengan menentukan namespace untuk skenario yang digunakan, kami akan menggunakan tes yang sama yang digunakan dalam skrip GameManager untuk menyembunyikan ruangan.  Kali ini, ketika perangkat HoloLens terdeteksi, tes akan mematikan satu skrip dan menghidupkan yang lain.  Karena kami mengubah cetakan Speaker, perubahan ini akan memengaruhi semua speaker di layar.  Jika Anda mengubah salah satu contoh cetakan Speaker, klik Terapkan di sudut kanan atas panel Inspektur untuk memperbarui cetakan ini. <br><br>  Selesai!  Sekarang Anda dapat membangun aplikasi dan menjalankannya di headset imersif atau perangkat Hololens, dan kemudian menempatkan speaker di mana saja di ruangan, putar dan kontrol. <br><br><h2>  Grafik (opsional) </h2><br>  Mari kita lihat bagaimana kita dapat meningkatkan aspek visual dari aplikasi kita, karena bahkan perbaikan kecil dapat secara signifikan mengubah persepsinya.  Jika Anda ingin mempelajari cara membuat aplikasi lebih menarik tanpa banyak kesulitan, Anda dapat menggunakan instruksi di bawah ini. <br><br><h4>  Menambahkan skybox khusus </h4><br>  1. Di menu atas, pilih Window -&gt; Lighting -&gt; Settings (Window -&gt; Lighting -&gt; Settings). <br><br>  2. Tarik Skyymorning.mat skybox dari folder Aset -&gt; Tekstur ke properti Skybox Material. <br><br><h4>  Pemrosesan pos </h4><br>  Catatan  Tindakan berikut dapat dilakukan untuk kamera apa pun di tempat kejadian, tetapi tidak dapat dilihat di editor. <br><br>  1. Pilih elemen MixedRealityCameraParent -&gt; MixedRealityCamera di panel Hierarchy of the scene. <br><br>  2. Klik Tambah Komponen -&gt; Perilaku Pemrosesan Pasca. <br><br>  3. Temukan elemen CustomProfile.asset di folder Aset -&gt; PostProcessing dan seret ke properti Profil dari skrip Perilaku Pemrosesan Post. <br><br>  Bereksperimenlah dengan profil postprocessing sebanyak yang Anda butuhkan, tetapi ingat bahwa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">postprocessing menghabiskan sumber daya</a> . <br><br>  Selamat!  Anda menyelesaikan latihan ini. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Asli</a> <br>  Penulis: Eric Ahlstrom, cbarkerms, Madison Hight </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id418665/">https://habr.com/ru/post/id418665/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id418655/index.html">Windows Mixed Reality: Panduan Pengembang (Bagian 1)</a></li>
<li><a href="../id418657/index.html">Realitas Campuran yang Terjangkau: Cara Membuat Ruang Virtual</a></li>
<li><a href="../id418659/index.html">Temukan pemrograman kuantum dengan Quantum Katas</a></li>
<li><a href="../id418661/index.html">Perkembangan realitas campuran: apakah Anda menempatkan speaker di ruang tamu virtual?</a></li>
<li><a href="../id418663/index.html">Bagaimana suara dibuat untuk realitas lain</a></li>
<li><a href="../id418667/index.html">Benchmarking HDFS 3 dengan HDFS 2</a></li>
<li><a href="../id418669/index.html">Security Week 28: NetSpectre, menyerang saluran pihak ketiga melalui jaringan</a></li>
<li><a href="../id418673/index.html">Mengapa pasar ERP tumbuh: statistik dan tren</a></li>
<li><a href="../id418675/index.html">Bagaimana saya pergi ke Droidcon Berlin</a></li>
<li><a href="../id418677/index.html">Seluruh kebenaran tentang RTOS. Artikel # 6. Layanan RTOS lainnya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>