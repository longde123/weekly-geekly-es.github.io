<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê§ üì¥ ü§ù Lancez LAMP et des centaines d'autres applications Web en quelques clics üíî üï∏Ô∏è üìâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans un article pr√©c√©dent, j'ai expliqu√© comment SSHeller vous aide √† d√©ployer rapidement et facilement un serveur OpenVPN. Dans la version 1.1.0 , un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lancez LAMP et des centaines d'autres applications Web en quelques clics</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413743/"><p><img src="https://habrastorage.org/webt/vx/xh/39/vxxh39-lwmwiigfavxtp1gpijcy.jpeg" alt="image" align="left">  Dans un article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pr√©c√©dent,</a> j'ai expliqu√© comment SSHeller vous aide √† d√©ployer rapidement et facilement un serveur OpenVPN.  Dans la version <strong>1.1.0</strong> , un autre plugin a √©t√© ajout√© - <strong>Docker</strong> . <br>  Je tiens √† vous avertir imm√©diatement que si vos mains sont aiguis√©es sous la console, et que contr√¥ler Docker via la ligne de commande semble pratique et intuitif, vous n'avez pas besoin de lire plus loin, vous n'avez pas besoin d'√©crire quoi que ce soit dans les commentaires, je sais d√©j√† que vous n'avez pas besoin de SSHeller. </p><br><p>  <strong>Et qui en a besoin?</strong>  Tout d'abord, les d√©veloppeurs d'applications Web, ainsi que tous ceux qui ont besoin de mettre √† niveau rapidement et facilement une sorte de service, que ce soit un site Web, un blog ou un service de partage de fichiers impromptu. </p><br><h1 id="kak-eto-rabotaet">  Comment √ßa marche </h1><br><p> Nous avons besoin d'un serveur avec presque toutes les distributions Linux modernes.  Mais, contrairement √† OpenVPN, pour Docker, je recommanderais <code>Debian 9</code> ou <code>Ubuntu 18.04</code> .  Avec <code>Fedora</code> et <code>Centos</code> choses sont un peu pires, car vous devez installer plus de packages, configurer l'ex√©cution automatique en plus et travailler avec le stockage est un peu diff√©rent. </p><br><p>  La chose la plus importante est qu'il devrait s'agir d'une machine physique ou virtuelle, mais pas d'un conteneur (LXC, OpenVZ ne fonctionnera pas).  Et vous avez besoin d'un acc√®s SSH.  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">derni√®re publication,</a> il y a une description d√©taill√©e de la fa√ßon d'enregistrer et de d√©marrer le serveur dans DigitalOcean, et √† la fin - une instruction l√©g√®rement moins d√©taill√©e pour Linode.  Ces deux services offrent des machines simples pour 5 $ / mois et des bonus lors de l'inscription par lien de parrainage.  Pour commencer, ce sera tout √† fait suffisant. </p><br><p>  Une fois que nous avons l'IP, le nom d'utilisateur et le mot de passe du serveur, vous pouvez installer SSHeller.  Vous pouvez le t√©l√©charger √† partir des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">versions sur GitHub</a> , il existe des versions pour macOS, Windows et Linux.  Apr√®s le d√©marrage, ajoutez notre serveur, connectez-vous √† celui-ci et acc√©dez au plug-in <strong>Docker</strong> . </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/webt/vt/_n/zd/vt_nzd3_3-0x7pfb-ogoxhzaya0.png"></p><br><p>  Si <strong>Docker</strong> n'est pas d√©j√† install√© sur le serveur, vous pouvez le faire en cliquant sur le bouton <code>Install</code> . <br>  En moins d'une minute, l'installation est termin√©e, un rapport s'ouvre que vous pouvez <del>  pas </del>  lire et fermer, et dans la fen√™tre principale, il y aura une liste de conteneurs, volumes et la forme de lancement d'un nouveau conteneur. </p><br><p><img src="https://habrastorage.org/webt/ub/yc/gr/ubycgrxynpo-elqkqu_z2gimbcs.png"></p><br><h1 id="osnovnye-funkcii">  Fonctions principales </h1><br><h2 id="zapusk-konteynera">  Lancement de conteneurs </h2><br><p>  Tout en bas de l'espace de travail se trouve le bloc de lancement du nouveau conteneur.  Il affiche: </p><br><ul><li>  volume s√©lectionn√© dans la liste ci-dessus qui sera connect√© au conteneur, s'il le prend en charge </li><li>  le mot de passe qui sera d√©fini pour l'application dans le conteneur, encore une fois, s'il le prend en charge </li><li>  s√©lection d'image de conteneur </li><li>  et s√©lection de balises d'image </li></ul><br><p>  Vous pouvez choisir n'importe quelle image Docker officielle et quelques autres.  Leur liste est d√©finie dans le fichier <a href="">https://github.com/delfer/ssheller/blob/master/plugins/docker-profiles.json</a> et au moment de la publication, elle est: </p><br><ul><li>  <strong>jwilder / nginx-proxy</strong> - Nginx configur√© automatiquement pour acc√©der aux conteneurs via un nom de domaine, pas un port </li><li>  <strong>panubo / vsftpd</strong> - serveur FTP </li><li>  <strong>coderaiser / cloudcmd</strong> - <strong>Interface</strong> WEB pour acc√©der aux fichiers </li><li>  <strong>webdevops / php-apache-dev</strong> - construire des modules Apache + PHP + pour le d√©veloppement (affiche les erreurs) </li><li>  <strong>webdevops / php-apache</strong> - construire des modules Apache + PHP + pour "vendre" (n'affiche pas les erreurs) </li><li>  <strong>webdevops / php-nginx-dev</strong> - construire des modules Nginx + PHP + pour le d√©veloppement (affiche les erreurs) </li><li>  <strong>webdevops / php-nginx</strong> - construire des modules Nginx + PHP + pour "vendre" (n'affiche pas les erreurs) </li></ul><br><p>  La plupart des conteneurs ignoreront le contenu du champ <strong>Mot de passe</strong> , √† l'exception de ceux r√©pertori√©s dans <a href="">docker-profiles.json</a> (section <strong>param√®tres</strong> ): </p><br><ul><li>  <strong>panubo / vsftpd</strong> - mot de passe pour la connexion FTP en tant <strong>qu'administrateur</strong> </li><li>  <strong>coderaiser / cloudcmd</strong> - mot de passe pour la connexion en tant <strong>qu'administrateur</strong> </li><li>  <strong>mysql</strong> / <strong>mariadb</strong> / <strong>postgres</strong> / <strong>influxdb</strong> - mot de passe pour se connecter √† la <strong>base de</strong> donn√©es <strong>db en</strong> tant <strong>qu'administrateur</strong> </li><li>  <strong>rabbitmq</strong> / <strong>couchdb</strong> / <strong>orientdb</strong> - mot de passe pour se connecter en tant <strong>qu'administrateur</strong> </li></ul><br><p>  Caract√©ristiques importantes: </p><br><ul><li>  Les balises sont charg√©es automatiquement apr√®s avoir s√©lectionn√© une image.  Recherche disponible </li><li>  Le conteneur sera disponible sur le port indiqu√© par son auteur.  Si le port est occup√©, le premier port libre sera s√©lectionn√©. </li><li>  Le conteneur sera disponible sur le &lt;nom du conteneur&gt;. &lt;Domaine du serveur&gt; s'il existe des entr√©es correspondantes dans le DNS </li><li>  Les volumes seront cr√©√©s pour le conteneur s'ils ont √©t√© sp√©cifi√©s par l'auteur de l'image ou s'ils sont sp√©cifi√©s dans <a href="">docker-profiles.json</a> ( <strong>volumes de</strong> section) </li></ul><br><p>  Conseils utiles: </p><br><ul><li>  <strong>jwilder / nginx-proxy</strong> doit √™tre d√©marr√© en premier pour qu'il <strong>occupe le</strong> port 80 </li><li>  <strong>panubo / vsftpd</strong> doit √™tre ex√©cut√© en dernier, car lorsqu'il d√©marre, il modifie les autorisations du dossier afin d'y avoir un acc√®s complet </li><li>  il est presque toujours pr√©f√©rable d'utiliser une image avec la balise <code>alpine</code> ou la <code>latest-alpine</code> - elles fonctionnent exactement comme les normales, mais se chargent beaucoup plus rapidement en raison d'un poids moindre </li><li>  si vous avez besoin de <strong>MySQL</strong> - utilisez mieux <strong>MariaDB</strong> , sauf si, bien s√ªr, vous n'√™tes certainement pas s√ªr que <strong>MariaDB</strong> ne vous convient pas </li><li>  si vous ex√©cutez quelque chose avec <strong>PHP</strong> , alors vous n'avez probablement pas besoin de <code>fpm</code> , mais vous avez besoin d' <code>apache</code> </li></ul><br><p>  <strong>Information additionnelle</strong> <br>  <em>Apr√®s avoir cliqu√© sur le bouton <code>RUN</code> , d√®s que le conteneur est lanc√©, une fen√™tre de rapport appara√Æt, dans laquelle la <code>docker run</code> termin√©e sera indiqu√©e.</em>  <em>Elle dira beaucoup de choses int√©ressantes sur la fa√ßon dont tout est r√©ellement organis√©.</em> </p><br><h2 id="dostup-cherez-domennoe-imya">  Acc√®s aux noms de domaine </h2><br><p>  Si vous ex√©cutez plusieurs conteneurs avec une interface Web, par exemple, Wordpress et NextCloud, et que vous souhaitez y acc√©der non pas en sp√©cifiant une adresse IP et un port, mais par un nom de domaine, vous devez remplir deux conditions simples: </p><br><ol><li>  <strong>Soyez le</strong> premier √† ex√©cuter <strong>jwilder / nginx-proxy</strong> </li><li>  Avoir un enregistrement DNS g√©n√©rique </li></ol><br><p><img src="https://habrastorage.org/webt/cw/lb/pt/cwlbpti4bl4fh5ft_0yjirq0lzq.png"></p><br><p>  C'est-√†-dire  si, par exemple, vous disposez du domaine example.com, vous devez lui ajouter un enregistrement <code>*</code> type <code>A</code> et sp√©cifier l'IP du serveur.  Dans ce cas, le conteneur de <strong>travail en</strong> cours d' <strong>ex√©cution</strong> sera disponible sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://wordpress.example.com</a> </p><br><p>  Et s'il n'y a pas de domaine - pas de probl√®me, vous pouvez utiliser le service <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nip.io</a> - vous n'avez pas besoin d'enregistrer ou d'ajouter des entr√©es.  Si, par exemple, votre serveur a l'IP <strong>172.104.129.183</strong> et que <strong>jwilder / nginx-proxy</strong> et <strong>nextcloud s'ex√©cutent dessus</strong> , ce dernier sera disponible sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://nextcloud.172.104.129.183.nip.io</a> </p><br><h2 id="zapusk-dvuh-konteynerov-s-odnim-tomom">  Ex√©cution de deux conteneurs avec un volume </h2><br><p>  Il arrive souvent, par exemple, qu'un conteneur publie des fichiers ( <strong>nginx</strong> ) et que le second t√©l√©charge ( <strong>panubo / vsftpd</strong> ).  Ou le second est n√©cessaire pour afficher / t√©l√©charger le contenu du premier. </p><br><p>  Par exemple, <strong>Jenkins</strong> apr√®s le d√©marrage demande le mot de passe enregistr√© dans le fichier. </p><br><p><img src="https://habrastorage.org/webt/n6/-t/wx/n6-twxfpt2julveymoefi0tmlnw.png"></p><br><ol><li>  Lancez <strong>Jenkins</strong> </li><li>  <code>jenkins_var_jenkins_home</code> son volume <code>jenkins_var_jenkins_home</code> </li><li>  Sp√©cifiez un mot de passe pour l'acc√®s </li><li>  Lancer <strong>coderaiser / cloudcmd</strong> </li><li>  Ouverte <a href=""></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http: // coderaiser-cloudcmd</a> . &lt;domaine&gt;, entrez le nom d'utilisateur et le mot de passe administrateur √† l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©tape</a> 3 </li><li>  Nous regardons le mot de passe de Jenkins </li></ol><br><p><img src="https://habrastorage.org/webt/ob/3t/jh/ob3tjhmducp1x7g7fkdhioeoeqa.png"></p><br><p><img src="https://habrastorage.org/webt/3j/gh/tm/3jghtmbxdv9nkwa8gisasqnsslk.png"></p><br><h2 id="vzaimodeystvie-mezhdu-konteynerami">  Interactions avec les conteneurs </h2><br><p>  En outre, vous devrez peut-√™tre vous connecter √† un autre √† partir d'un conteneur.  Par exemple, <strong>wordpress</strong> lors de l'installation vous demandera de sp√©cifier les param√®tres de connexion √† la base de donn√©es: adresse du serveur ( <em>h√¥te</em> ) et port. </p><br><p>  <strong><code>localhost</code> ne fonctionnera pas pour l'interaction entre les conteneurs.</strong> </p><br><p>  En g√©n√©ral, vous devez sp√©cifier l'adresse <strong>IP</strong> externe du serveur et le port affich√© <br>  avant la fl√®che ( <code>-&gt;</code> ) dans la liste des conteneurs.  Par souci de simplicit√©, la possibilit√© a √©t√© ajout√©e √† la place de l'adresse <strong>IP</strong> du serveur de sp√©cifier uniquement le mot <code>host</code> . </p><br><p>  <em>En plus de MySQL, PostgreSQL, MongoDB, Redis, memcached, Tomcat, InfluxDB, CouchDB, etc. peuvent √™tre utiles.</em> </p><br><h1 id="primery-ispolzovaniya">  Exemples d'utilisation </h1><br><h2 id="fayloobmennik">  Partage de fichiers </h2><br><ol><li>  Run <strong>nginx: alpine</strong> </li><li>  Entrez le mot de passe administrateur pour l'interface Web </li><li>  S√©lectionnez le volume <code>nginx_usr_share_nginx_html</code> </li><li>  Lancer <strong>coderaiser / cloudcmd: latest-alpine</strong> </li></ol><br><p>  Vous pouvez maintenant acc√©der √† <a href="">http: // &lt;adresse du serveur&gt;: 8000</a> pour t√©l√©charger des fichiers avec autorisation, et des liens directs seront disponibles via <a href="">http: // &lt;adresse du serveur&gt;</a> .  Il vous suffit de sp√©cifier le chemin d'acc√®s complet au fichier. </p><br><h2 id="wordpress">  Wordpress </h2><br><ol><li>  Nous inventons et saisissons un mot de passe pour la base de donn√©es </li><li>  Mariadb <strong>lance</strong> </li><li>  Ex√©cutez <strong>WordPress: Apache</strong> </li><li>  Nous allons √† l'adresse <a href="">http: // &lt;adresse du serveur&gt;</a> , d√©marrons l'installation et sp√©cifions les param√®tres de connexion au SGBD: <br><ul><li>  Nom de la base de donn√©es: <code>db</code> </li><li>  Nom d'utilisateur: <code>admin</code> </li><li>  Mot de passe - celui entr√© au paragraphe 1 </li><li>  Serveur de base de donn√©es: <code>host</code> </li><li>  Pr√©fixe de table - Tout </li></ul></li></ol><br><h2 id="lamp">  Lampe </h2><br><ol><li>  Nous inventons et saisissons un mot de passe pour la base de donn√©es </li><li>  Mariadb <strong>lance</strong> </li><li>  Ex√©cutez <strong>webdevops / php-apache-dev: alpine</strong> </li><li>  S√©lectionnez le volume <code>webdevops-php-apache-dev_app</code> </li><li>  Nous inventons et saisissons le mot de passe du serveur FTP </li><li>  Ex√©cutez <strong>panubo / vsftpd</strong> </li></ol><br><p>  Vous pouvez maintenant t√©l√©charger des fichiers <code>.php</code> vers <a href="">ftp: // &lt;adresse du serveur&gt;</a> et les ex√©cuter en allant √† l'adresse <a href="">http: // &lt;adresse du serveur&gt;</a> </p><br><h1 id="ps">  PS </h1><br><p>  Tous les conteneurs ne sont pas disponibles dans l'application, et certains des conteneurs disponibles ne fonctionnent pas sans param√®tres suppl√©mentaires - modifiez le <a href="">fichier</a> sur GitHub et envoyez vos demandes d'extraction.  Si vous ne savez pas comment - ouvrez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Issue</a> .  Cela vous aidera √† d√©velopper le projet. </p><br><p>  Le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fichier README contient d'</a> autres moyens de soutenir le projet, ainsi que de nombreuses informations utiles. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr413743/">https://habr.com/ru/post/fr413743/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr413729/index.html">Comment et pourquoi nous avons √©crit notre ECS</a></li>
<li><a href="../fr413731/index.html">√âtude du march√© du travail BA / SA</a></li>
<li><a href="../fr413733/index.html">Mikrosh, Krista, Apogee, Lviv - les premiers ordinateurs sovi√©tiques √† emporter</a></li>
<li><a href="../fr413739/index.html">Comment nous avons scann√© tout Internet et ce que nous avons appris</a></li>
<li><a href="../fr413741/index.html">Qu'est-ce que c'√©tait et comment: impressions de l'√©quipe WWDC Redmadrobot</a></li>
<li><a href="../fr413745/index.html">Un syst√®me d'alimentation sans fil a √©t√© d√©velopp√© pour tous les appareils √©lectroniques du corps humain √† la fois</a></li>
<li><a href="../fr413747/index.html">Passer par NULL</a></li>
<li><a href="../fr413749/index.html">Arbre B + dans un vrai projet</a></li>
<li><a href="../fr413751/index.html">Ruslan Cheremin et Maxim Gramin - travailler avec l'environnement sur jug.msk.ru</a></li>
<li><a href="../fr413753/index.html">Eye in the Sky: drone de patrouille avec reconnaissance de la violence dans les foules et les lieux publics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>