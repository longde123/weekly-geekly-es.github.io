<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐉 👩🏽‍🌾 👩🏽‍🌾 Unterwasser-Ultraschall-Entfernungsmesser-Modul 🚈 🕌 💅🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieses Gerät entstand bei der Arbeit an einem Projekt für einen Tauchcomputer, der in seiner Zusammensetzung einen Sonar-Entfernungsmesser mit schmale...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unterwasser-Ultraschall-Entfernungsmesser-Modul</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440222/"><img src="https://habrastorage.org/webt/29/i7/5o/29i75ogx2epaydtsdfrnhleybto.jpeg" alt="Bild"><br><br>  Dieses Gerät entstand bei der Arbeit an einem Projekt für einen Tauchcomputer, der in seiner Zusammensetzung einen Sonar-Entfernungsmesser mit schmalem Strahl haben sollte.  Entweder haben wir schlecht gesucht oder es war tatsächlich nichts für die Parameter geeignetes auf dem Markt verfügbar, aber am Ende haben wir uns entschlossen, unseren Entfernungsmesser für einen Tauchcomputer zu erfinden, anstatt ein fertiges Modul zu erwerben.  Darüber hinaus schien der Prozess der Integration in ein kompaktes Computergehäuse einfacher zu sein, wenn der Emitter und die elektronische Schaltung entsprechend dem freien Raum innerhalb des Gehäuses getrennt wurden. <br><br>  Während der Tauchcomputer in den Flügeln wartet, kam uns der Gedanke: Was ist, wenn der Entfernungsmesser in ein separates Projekt unterteilt ist?  Da wir Schwierigkeiten hatten, das richtige Modul für den Unterwasser-Entfernungsmesser zu finden, hatte wahrscheinlich jemand anderes ähnliche Suchschwierigkeiten. <br><a name="habracut"></a><br>  Die anfänglichen Anforderungen an das Modul wurden wie folgt ermittelt: <br><br><ul><li>  einfache digitale Schnittstelle.  Idealerweise ein UART mit Textbefehlen / Antworten. </li><li>  Versorgungsspannung - 5 Volt </li><li>  so kompaktes wasserdichtes Gehäuse wie möglich </li></ul><br>  Um die Erzählung nicht zu verzögern, gebe ich sofort das erste Arbeitsschema mit einigen Erklärungen im Text. <br><br><img src="https://habrastorage.org/webt/no/_c/z6/no_cz6hih-2rcbeqvjmhgdvbqp8.png" alt="Bild"><br><br>  Wie Sie sehen können, handelt es sich bei dem Schema um eine klassische Version, die bedingt in drei Hauptblöcke unterteilt ist: <br><br><ul><li>  Manager </li><li>  Senden </li><li>  Host </li></ul><br>  Der STM32F302K8U6 MK wurde als Steuerelement als gute Kombination aus Preis, Leistung und Abmessungen ausgewählt.  Der Verantwortungsbereich dieser Einheit besteht darin, ein Signal für die sendende Einheit zu erzeugen, das Signal von der empfangenden Einheit zu digitalisieren und zu verarbeiten und Benutzeranwendungen den Zugriff auf die Konfiguration des Systems und der Messdaten in einem für sie geeigneten Format zu ermöglichen. <br><br>  Die Sendeeinheit enthält: einen Gate-Treiber, Leistungsschalter, einen Matching-Step-Up-Transformator und eine antiparallele Anordnung von Dioden.  Das letzte Element ist in solchen Schemata im Allgemeinen nicht erforderlich, spielt jedoch in unserem Fall eine wichtige Rolle beim "Trennen" des Transformators in der Empfangsstufe, wenn der Wert der effektiven Spannung am piezoelektrischen Element niedriger als die Öffnungsspannung der Dioden ist, wodurch die Eingangsstufe des Verstärkers des empfangenen Signals isoliert wird Transformator. <br><br>  Die Empfangseinheit stellt höchste Anforderungen an die Qualität der Leistung, von deren Arbeit fast alles abhängt.  Einerseits muss es im Stadium der Abtastimpulserzeugung Hunderte von Volt am Eingang verdauen.  Andererseits soll eine Signalverstärkung mit einer Amplitude in der Größenordnung von Mikrovolt mit einem akzeptablen Signal-Rausch-Verhältnis und bis zu dem Grad der zuverlässigen Erfassung und Erfassung auf dem ADC bereitgestellt werden.  Zwei Komponenten sind für die Fähigkeit verantwortlich, bei Hunderten von Volt am Eingang sicher und einwandfrei zu bleiben: ein Hochspannungskondensator C2, bei dem ein Wechselstrom begrenzt ist, und eine antiparallele Diodenanordnung, die die Spannung auf akzeptable Werte begrenzt.  Es ist anzumerken, dass diese Schaltung ihre Aufgabe nur in einem gepulsten Modus mit einer Dauer in der Größenordnung von zehn Mikrosekunden ausführen kann. <br><br>  Drei Kaskaden aktiver Bandpassfilter sind für die Signalverstärkung verantwortlich, von denen die letzten beiden Schmalbandfilter zweiter Ordnung sind, die eine gute Frequenzselektivität bieten.  Auf Kosten einer guten Frequenzselektivität ist jedoch ein strengerer Ansatz für die Auswahl von Fehlern für Frequenzeinstellungskomponenten erforderlich, da sonst die Stabilität der Parameter von Instanz zu Instanz nicht gewährleistet wird.  Innerhalb des Budgets des Geräts betrugen die Fehler für unsere Aufgabe 0,1% für Widerstände und 0,5% für Kondensatoren.  Weiter gemäß dem Schema: ein Amplitudendetektor und ein passives Tiefpassfilter, um den Restträger zu unterdrücken, der durch den Detektor geleitet wird. <br><br>  Was den akustischen Teil des Geräts betrifft, der im Schaltplan nicht sichtbar ist, ist hier das Grundelement die piezoelektrische Scheibe DZHGK.757681.008-172 mit einem Durchmesser von 12,9 mm, einer Dicke von 3,1 mm und einer Resonanzfrequenz von 640 kHz.  Dieses Element ist sowohl der Sender des Sondenimpulses als auch der Empfänger des reflektierten Signals.  Von der Seite der aquatischen Umwelt wird es durch ein Viertelwellen-Anpassungselement (Polyurethanharz) isoliert.  Zusammen mit der analogen Schaltung trägt das Design des Senders / Empfängers wesentlich zur Qualität des gesamten Geräts bei.  Die Schallgeschwindigkeit in Kunststoff, der als passendes / isolierendes Element im Emitter verwendet wird, beträgt 2400 m / s.  Dies ergab, dass die Dicke des passenden Elements 0,9 mm beträgt. <br><br><img src="https://habrastorage.org/webt/50/y4/xe/50y4xewief8hd4a9tyivcriljr8.jpeg" alt="Bild"><br><br>  Es gab einige Fehler im Prototyp der Leiterplatte, aber durch die Montage haben wir dafür gesorgt, dass dieses Gerät im minimal akzeptablen Modus funktioniert.  Dies war ausreichend, um die Eigenschaften des Strahlungsmusters zu entfernen. <br><br><img src="https://habrastorage.org/webt/vg/cu/al/vgcualze9mwlozu2rg7jpontis8.jpeg" alt="Bild"><br><br>  Als Bench für die Richtungsmessung haben wir uns nichts Besseres vorgestellt als die Verwendung eines mit Wasser gefüllten Kunststofftrogs, in dem unser Entfernungsmesser-Modul als Sender installiert ist. In kurzer Entfernung davon ist ein Empfänger ein piezoelektrisches Element, das mit einem Oszilloskop verbunden ist.  Das Entfernungsmesser-Modul kann von 0 nach 180 ° von links nach rechts gedreht werden. Zu diesem Zeitpunkt nehmen wir ein Oszillogramm vom Empfänger und bestimmen die Amplitude des empfangenen Signals in Abhängigkeit vom Drehwinkel des Emitters. <br><br><img src="https://habrastorage.org/webt/ew/8b/ua/ew8buazp3savmo9gkoroiamd-ag.jpeg"><br><br><img src="https://habrastorage.org/webt/hx/au/n0/hxaun0kn2etjldezgsbhqgwes9w.jpeg"><br><br>  Unten sehen Sie eine grafische Darstellung des endgültigen Strahlungsmusters. <br><br><img src="https://habrastorage.org/webt/3f/oa/u7/3foau7aju2lntu9tnt0eo0attyg.jpeg"><br><br>  Weitere Messungen wurden in einem spontanen Pool durchgeführt - einem mit Wasser gefüllten Kunststoffrohr bis zu einer Höhe von 1 Meter.  Übrigens konnten drei Reflexionen am Boden und an der Wasseroberfläche festgestellt werden, bevor das Signal vollständig verschwand. <br><br>  Da wir uns (in der ersten Phase) für die Verwendung der UART-Schnittstelle mit einfachen Textbefehlen entschieden haben, war es nicht schwierig, ein Bündel des Entfernungsmessermoduls mit der GUI auf einem Computer zu implementieren, auf dem Processing ausgeführt wird. <br><br>  Auf dem Foto - ein Versuch, den Boden eines lokalen Reservoirs mit einem Boot mit einem Entfernungsmesser-Modul und einem Funksender zu scannen, um Daten vom Modul an einen Laptop zu empfangen.  Leider denken Sie in Momenten aufregender Tests eines Stücks Eisen am wenigsten an die Qualität der Prozessfotos. <br><br><img src="https://habrastorage.org/webt/2v/oi/ap/2voiapwbjxa0_4x_u4vrlazc-sg.jpeg"><br><br><img src="https://habrastorage.org/webt/ql/_2/me/ql_2meuodp47hc_q3-z0c_wnn0s.jpeg"><br><br>  Mit der Smartphone-Anwendung Bluetooth Electronics und dem USB-&gt; UART-Konverter können Sie eine mobilere Version des Testaufbaus implementieren. <br><br><img src="https://habrastorage.org/webt/k9/oy/gf/k9oygfmxy1cua1enu-uv2pex45k.jpeg"><br><br><img src="https://habrastorage.org/webt/q8/ec/vc/q8ecvcfxtqjh-9w7vj-nyzzv-0c.jpeg"><br><br>  Wir arbeiten derzeit am nächsten Prototyp des Entfernungsmessermoduls, da es wirklich etwas zu verbessern gibt. <br><br>  Realisieren Sie beispielsweise eine allmähliche Verstärkung des Eingangssignals, damit die Reflexion von nahe gelegenen Objekten nicht überrollt und die Verstärkung von entfernten Objekten maximal ist.  Wenden Sie möglicherweise eine billigere Elementbasis an.  Erwägen Sie die Möglichkeit, den Innenraum mit einer Art Verbindung oder Silikonöl zu füllen, um den hohen Druck abzudichten und ihm standzuhalten. <br><br>  Wir sehen uns in der nächsten Ausgabe! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de440222/">https://habr.com/ru/post/de440222/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de440210/index.html">Maschinensynästhetischer Ansatz zur Erkennung von Netzwerk-DDoS-Angriffen. Teil 1</a></li>
<li><a href="../de440214/index.html">Spring und JDK 8: Verwenden Sie immer noch @Param und Name / Wert in Spring MVC-Anmerkungen? Dann ist der Artikel für Sie</a></li>
<li><a href="../de440216/index.html">Wie ich Zabbix beigebracht habe, meinen Knoten im Auge zu behalten und Probleme zu melden</a></li>
<li><a href="../de440218/index.html">DoS-Angriff, der nicht abgeschlossen werden kann: Die Beschaffung hat eine eigene Atmosphäre</a></li>
<li><a href="../de440220/index.html">Das Impostor-Syndrom ist nicht nur schädlich, sondern auch vorteilhaft</a></li>
<li><a href="../de440226/index.html">AudioKit und Audiosynthese unter iOS / OSX</a></li>
<li><a href="../de440230/index.html">Die Staatsduma hat die Diskussion über die Gesetzesvorlage über Nachrichtenaggregatoren verschoben</a></li>
<li><a href="../de440232/index.html">Rechnung über die Runet "Nachhaltige Arbeit" - was tun vor der zweiten Lesung?</a></li>
<li><a href="../de440234/index.html">Julia und der Schwarm von Partikeln</a></li>
<li><a href="../de440236/index.html">Karriere Steroide. Grundlegender Algorithmus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>