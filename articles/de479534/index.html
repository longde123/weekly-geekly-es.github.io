<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🤝‍👨🏻 👩🏽‍🏭 🥢 Kubernetes 1.17 - wie Sie ein Upgrade durchführen und nicht das gesamte Fehlerbudget ausgeben ☢️ 👩🏽‍🎤 🤚🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Am 9. Dezember wurde die nächste Version von Kubernetes veröffentlicht - 1.17. Sein Motto ist "Stabilität", viele Features erhielten den Status von GA...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kubernetes 1.17 - wie Sie ein Upgrade durchführen und nicht das gesamte Fehlerbudget ausgeben</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/479534/"><img src="https://habrastorage.org/webt/uu/ua/3-/uuua3-nqrao9wpxzikf0qv5c5_q.png" alt="Bild"><br><br>  Am 9. Dezember wurde die nächste Version von Kubernetes veröffentlicht - 1.17.  Sein Motto ist "Stabilität", viele Features erhielten den Status von GA, einige veraltete Features wurden entfernt ... <br><br>  Und wie immer erfordert unser bevorzugter Abschnitt Action Required in <a href="">CHANGELOG-1.17.md</a> Aufmerksamkeit. <br><br>  Lass uns mit deinen Händen arbeiten ... <br><a name="habracut"></a><br><h3>  Warnung Lagerung! </h3><br>  Das direkte Aktualisieren von kubelet in Version 1.17 wird nicht unterstützt, da sich der Pfad zum Blockieren von Volumes geändert hat.  Bevor Sie den Knoten aktualisieren, müssen Sie alle Pods mit dem Befehl <code>kubectl drain</code> aus dem Knoten <code>kubectl drain</code> . <br><br><h4>  Fahnen und Tore ... </h4><br>  Changelog schreibt normalerweise, dass ein Flag oder ein Feature-Gate entfernt oder hinzugefügt wurde, aber aus irgendeinem Grund schreiben sie niemals eine Anwendung, die diese Änderung aufweist ...: <br><br><ul><li>  Das Flag <code>--include-uninitialized</code> für <code>kubectl</code> . </li><li>  Die <code>GCERegionalPersistentDisk</code> Funktionen für die Gates <code>GCERegionalPersistentDisk</code> , <code>EnableAggregatedDiscoveryTimeout</code> und <code>PersistentLocalVolumes</code> jetzt immer verwendet und können nicht deaktiviert werden.  Diese Optionen werden von den möglichen <code>api-server</code> und <code>controller-manager</code> Schlüsseln entfernt. </li><li>  Das Netzwerk der IP-Adressen für Dienste wird standardmäßig nicht mehr zugewiesen.  Sie müssen es mit dem <code>--service-cluster-ip-range</code> angeben, wenn Sie die Server-API und den Controller-Manager starten. </li></ul><br><h4>  kubeadm </h4><br><ul><li>  Kubeadm hat gelernt, wie die automatische Erneuerung von Zertifikaten für kubelet auf allen Knoten des Clusters konfiguriert wird, einschließlich des ersten Assistenten, in dem der Befehl <code>kubeadm init</code> .  Ein Nebeneffekt war die Anforderung, eine Datei mit der Anfangskonfiguration kubelet <code>bootstrap-kubelet.conf</code> anstelle von <code>kubelet.conf</code> während <code>kubeadm init</code> . <br></li><li>  Wenn Sie der API Autorisierungsmodi hinzufügen, ersetzt der kubeadm-Server nicht mehr die Knoten- <code>Node, RBAC</code> Modi im Manifest der Pod-Statik, sodass Sie die Konfiguration vollständig ändern können. </li></ul><br><h4>  RBAC </h4><br>  Das integrierte Cluster- <code>system:csi-external-provisioner</code> und das <code>system:csi-external-attacher</code> . <br><br><h4>  Veraltet ... </h4><br>  Einige Funktionen sind veraltet, werden jedoch weiterhin unterstützt.  Vor allem aber möchte ich den Umstieg auf ContainerStorageInterface erwähnen.  Administratoren, die ihre eigenen (nicht verwalteten) Cluster in AWS und GCE bereitgestellt haben, sollten vorhaben, den CSI-Treiber anstelle der in Kubernetes integrierten Treiber für die Arbeit mit persistenten Volumes zu verwenden.  Das CSIMigration-Verfahren sollte ihnen dabei helfen - wir warten darauf, dass die schrittweise Anleitung angezeigt wird.  Es ist an der Zeit, dass Administratoren, die andere Anbieter verwenden, dauerhafte Laufwerke zum Durchsuchen und Lesen der Dokumentation anschließen: In Version 1.21 werden alle integrierten Treiber endgültig entfernt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de479534/">https://habr.com/ru/post/de479534/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de479516/index.html">Was ist Entropie in Software und wie verwaltet man sie?</a></li>
<li><a href="../de479518/index.html">Kommunikation in einem entfernten Team ist unsere Erfahrung</a></li>
<li><a href="../de479522/index.html">Herausgeber Peter. Winterschlussverkauf</a></li>
<li><a href="../de479524/index.html">Service for Active Restore oder die Geschichte eines Industrieprojekts in Innopolis</a></li>
<li><a href="../de479530/index.html">Ultraschallkoordinatensystem 2.0</a></li>
<li><a href="../de479536/index.html">Lastausgleich in Zimbra Open-Source Edition mit HAProxy</a></li>
<li><a href="../de479538/index.html">Technologie führt die Menschheit in den Niedergang. Es ist Zeit, etwas zu ändern</a></li>
<li><a href="../de479540/index.html">Verwenden von passwordstore.org - Passwort-Manager im KISS-Stil</a></li>
<li><a href="../de479542/index.html">Wie schreibe ich meinen eigenen Übersetzer?</a></li>
<li><a href="../de479548/index.html">Der Weg vom Praktikum zum Auftritt bei HighLoad 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>