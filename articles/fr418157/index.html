<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëàüèΩ üî® üò† Le livre "Objets √©l√©gants. √âdition Java ¬ª üë©üèª‚Äçüíº ‚ò∫Ô∏è üèÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut, habrozhiteli! Ce livre r√©vise s√©rieusement l'essence et les principes de la programmation orient√©e objet (POO) et peut √™tre m√©taphoriquement ap...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le livre "Objets √©l√©gants. √âdition Java ¬ª</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/418157/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/w_/ty/kk/w_tykkzjrz7fxozztm-4tp4asci.jpeg" align="left" alt="image"></a>  Salut, habrozhiteli!  Ce livre r√©vise s√©rieusement l'essence et les principes de la programmation orient√©e objet (POO) et peut √™tre m√©taphoriquement appel√© ¬´POO Lobachevsky¬ª.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Egor Bugaenko</a> , d√©veloppeur avec 20 ans d'exp√©rience, analyse de mani√®re critique les dogmes de la POO et propose de regarder ce paradigme d'une mani√®re compl√®tement nouvelle.  Ainsi, il stigmatise les m√©thodes statiques, les getters, les setters, les m√©thodes mutables, croyant que c'est mal.  Pour un programmeur d√©butant, ce volume peut devenir un √©claircissement ou un choc, et pour un programmeur exp√©riment√©, c'est une lecture obligatoire. <br><br><h3>  Extrait ¬´N'utilisez pas de m√©thodes statiques¬ª </h3><br>  Ah, les m√©thodes statiques ... Un de mes sujets pr√©f√©r√©s.  Il m'a fallu plusieurs ann√©es pour r√©aliser l'importance de ce probl√®me.  Maintenant, je regrette tout le temps que j'ai pass√© √† √©crire des logiciels proc√©duraux plut√¥t que des objets.  J'√©tais aveugle, mais maintenant j'ai vu.  Les m√©thodes statiques sont tout aussi importantes sinon m√™me un probl√®me plus important dans la POO que d'avoir une constante NULL.  Les m√©thodes statiques, en principe, n'auraient pas d√ª √™tre en Java et dans d'autres langages orient√©s objet, mais, h√©las, elles existent.  Nous ne devrions pas conna√Ætre des choses telles que le mot-cl√© statique en Java, mais, h√©las, sont forc√©s .. Je ne sais pas qui les a amen√©s √† Java, mais ils sont du mal absolu .. Les m√©thodes statiques, pas les auteurs de cette fonctionnalit√©.  Je l'esp√®re. <br><a name="habracut"></a><br>  Voyons quelles sont les m√©thodes statiques et pourquoi nous les cr√©ons toujours.  Disons que j'ai besoin de la fonctionnalit√© de chargement d'une page Web via des requ√™tes HTTP.  Je cr√©e une telle ¬´classe¬ª: <br><br><pre><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">WebPage</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">String uri</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  HTTP- //     UTF8- } }</span></span></code> </pre> <br>  Il est tr√®s pratique de l'utiliser: <br><br><pre> <code class="hljs pgsql">String html = WebPage.<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>("http://www.java.com");</code> </pre> <br>  La m√©thode read () appartient √† la classe de m√©thodes √† laquelle je m'oppose.  Je sugg√®re d'utiliser un objet √† la place (j'ai √©galement chang√© le nom de la m√©thode conform√©ment aux recommandations de la section 2.4): <br><br><pre> <code class="hljs java"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebPage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String uri; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">content</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  HTTP- //     UTF8- } }</span></span></code> </pre> <br>  Voici comment l'utiliser: <br><br><pre> <code class="hljs vbscript"><span class="hljs-built_in"><span class="hljs-built_in">String</span></span> html = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebPage(<span class="hljs-string"><span class="hljs-string">"http://www.java.com"</span></span>) .content();</code> </pre> <br>  Vous pouvez dire qu'il n'y a pas beaucoup de diff√©rence entre eux.  Les m√©thodes statiques fonctionnent encore plus rapidement, car nous n'avons pas besoin de cr√©er un nouvel objet chaque fois que nous devons t√©l√©charger une page Web.  Appelez simplement la m√©thode statique, elle fera le travail, vous obtiendrez le r√©sultat et vous continuerez √† travailler. Il n'est pas n√©cessaire de jouer avec les objets et le garbage collector.  De plus, nous pouvons regrouper plusieurs m√©thodes statiques dans une classe utilitaire et la nommer, par exemple, WebUtils. <br><br>  Ces m√©thodes vous aideront √† charger des pages Web, √† obtenir des informations statistiques, √† d√©terminer le temps de r√©ponse, etc. Elles comporteront de nombreuses m√©thodes et leur utilisation est simple et intuitive.  De plus, la fa√ßon d'appliquer des m√©thodes statiques est √©galement intuitive.  Tout le monde comprend comment ils fonctionnent.  √âcrivez simplement WebPage.read (), et - vous l'avez devin√©!  - la page sera lue.  Nous avons donn√© des instructions √† l'ordinateur, et il l'ex√©cute. Simple et clair, non?  Et non! <br><br>  Les m√©thodes statiques dans n'importe quel contexte sont un indicateur indubitable d'un mauvais programmeur qui n'a aucune id√©e de la POO.  Il n'y a aucune justification pour appliquer des m√©thodes statiques dans n'importe quelle situation.  Prendre soin de la performance ne compte pas.  Les m√©thodes statiques sont une moquerie d'un paradigme orient√© objet.  Ils existent en Java, Ruby, C ++, PHP et d'autres langages.  Malheureusement  Nous ne pouvons pas les jeter, nous ne pouvons pas r√©√©crire toutes les biblioth√®ques open source pleines de m√©thodes statiques, mais nous pouvons arr√™ter de les utiliser dans notre code. <br><br>  Nous devons cesser d'utiliser des m√©thodes statiques. <br><br>  Maintenant, regardons-les de plusieurs positions diff√©rentes et discutons de leurs lacunes pratiques.  Je peux vous les g√©n√©raliser √† l'avance: les m√©thodes statiques d√©gradent la maintenabilit√© du logiciel.  Cela ne devrait pas vous surprendre.  Tout se r√©sume √† la maintenabilit√©. <br><br><h3>  Objective versus Computer Thinking </h3><br>  Initialement, j'ai appel√© cette sous-section Objective versus Procedural Thinking, mais plus tard je l'ai renomm√©e.  ¬´Pens√©e proc√©durale¬ª signifie presque la m√™me chose, mais l'expression ¬´penser comme un ordinateur¬ª d√©crit mieux le probl√®me. Nous avons h√©rit√© de cette fa√ßon de penser des premiers langages de programmation tels que Assembly, C, COBOL, Basic, Pascal et bien d'autres.  La base du paradigme est que l'ordinateur fonctionne pour nous, et nous lui disons quoi faire, en lui donnant des instructions explicites, par exemple: <br><br><pre> <code class="hljs cmake"> CMP AX, BX JNAE <span class="hljs-keyword"><span class="hljs-keyword">greater</span></span> MOV CX, BX RET <span class="hljs-keyword"><span class="hljs-keyword">greater</span></span>: MOV CX, AX RET</code> </pre> <br>  Il s'agit d'une ¬´routine¬ª d'assembleur pour le processeur Intel 8086. Elle trouve et renvoie le plus grand des deux nombres.  Nous les mettons respectivement dans les registres AX et BX, et le r√©sultat tombe dans le registre CX.  Voici exactement le m√™me code C: <br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">max</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &gt; b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b; }</code> </pre> <br>  "Qu'est-ce qui ne va pas avec √ßa?"  - demandez-vous.  Rien .. Tout va bien avec ce code - il fonctionne comme il se doit. C'est ainsi que tous les ordinateurs fonctionnent.  Ils s'attendent √† ce que nous leur donnions des instructions √† suivre les uns apr√®s les autres. Pendant de nombreuses ann√©es, nous avons √©crit des programmes de cette fa√ßon.  L'avantage de cette approche est que nous restons proches du processeur, dirigeant son mouvement ult√©rieur.  Nous sommes aux commandes et l'ordinateur suit nos instructions.  Nous indiquons √† l'ordinateur comment trouver le plus grand des deux nombres.  Nous prenons des d√©cisions, il les suit.  Le flux d'ex√©cution est toujours coh√©rent, du d√©but du script √† sa fin. <br><br>  Ce type de pens√©e lin√©aire est appel√© ¬´penser comme un ordinateur¬ª.  L'ordinateur √† un moment donn√© commence √† ex√©cuter des instructions et √† un moment donn√© le termine.  Lors de l'√©criture de code en C, nous sommes oblig√©s de penser de cette fa√ßon.  Les op√©rateurs s√©par√©s par des points-virgules vont de haut en bas.  Ce style est h√©rit√© de l'assembleur. <br>  Bien que les langages d'un niveau plus √©lev√© que l'assembleur aient des proc√©dures, des sous-programmes et d'autres m√©canismes d'abstraction, ils n'√©liminent pas une fa√ßon de penser coh√©rente. Le programme continue de fonctionner de haut en bas.  Il n'y a rien de mal √† une telle approche lors de l'√©criture de petits programmes, mais √† plus grande √©chelle, il est difficile de penser comme √ßa. <br><br>  Jetez un ≈ìil au m√™me code √©crit dans le langage de programmation fonctionnel Lisp: <br><br><pre> <code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">defun</span></span> max (<span class="hljs-name"><span class="hljs-name">ab</span></span>) (<span class="hljs-name"><span class="hljs-name">if</span></span> (<span class="hljs-name"><span class="hljs-name">&gt;</span></span> ab) ab))</code> </pre> <br>  Pouvez-vous dire o√π commence et se termine l'ex√©cution de ce code?  Non.  Nous ne savons pas comment le processeur obtiendra le r√©sultat, ni comment la fonction if fonctionnera.  Nous sommes tr√®s √©loign√©s du processeur.  Nous pensons comme une fonction, pas comme un ordinateur.  Lorsque nous avons besoin d'une nouvelle chose, nous la d√©finissons: <br><br><pre> <code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">def</span></span> x (<span class="hljs-name"><span class="hljs-name">max</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span>))</code> </pre> <br>  Nous d√©finissons, ne donnons pas d'instructions au processeur.  Avec cette ligne, nous lions x √† (max 5 9).  Nous ne demandons pas √† l'ordinateur de calculer le plus grand des deux nombres.  Nous disons simplement que x est le plus grand des deux nombres.  Nous ne contr√¥lons pas comment et quand il sera calcul√©.  Notez que cela est important: x est le plus grand des nombres.  La relation ¬´est¬ª (¬´√™tre¬ª, ¬´√™tre¬ª) est la diff√©rence entre un paradigme de programmation fonctionnel, logique et orient√© objet d'un paradigme proc√©dural. <br><br>  Avec un √©tat d'esprit informatique, nous sommes √† la barre et contr√¥lons le flux d'instructions.  Avec une fa√ßon de penser orient√©e objet, nous d√©terminons simplement qui est qui et nous les laissons interagir quand ils en ont besoin.  Voici √† quoi devrait ressembler le calcul du plus grand des deux nombres dans la POO: <br><br><pre> <code class="hljs java"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Max</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Number a; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Number b; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Max</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Number left, Number right)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a = left; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b = right; } }</code> </pre> <br>  Et donc je vais l'utiliser: <br><br><pre> <code class="hljs pgsql">Number x = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Max(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>);</code> </pre> <br>  √âcoutez, je ne calcule pas le plus grand des deux nombres.  Je d√©termine que x est le plus grand des deux nombres.  Peu m'importe ce qui se trouve √† l'int√©rieur de l'objet de la classe Max et comment exactement il impl√©mente l'interface num√©rique.  Je ne donne pas d'instructions au processeur concernant ce calcul.  J'instancie juste l'objet.  C'est tr√®s similaire √† def en Lisp .. En ce sens, la POO est tr√®s similaire √† la programmation fonctionnelle. <br><br>  En revanche, les m√©thodes statiques en POO sont les m√™mes que les sous-routines en C ou assembleur.  Ils ne sont pas li√©s √† la POO et nous obligent √† √©crire du code proc√©dural dans une syntaxe orient√©e objet.  Voici le code Java: <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">int</span></span> x = Math.max(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>);</code> </pre> <br>  C'est compl√®tement faux et ne doit pas √™tre utilis√© dans une conception orient√©e objet r√©elle. <br><br><h3>  Style d√©claratif versus imp√©ratif </h3><br>  La programmation imp√©rative ¬´d√©crit les calculs en termes d'op√©rateurs qui changent l'√©tat d'un programme¬ª. La programmation d√©clarative, quant √† elle, ¬´exprime la logique du calcul sans d√©crire le flux de son ex√©cution¬ª (je cite Wikipedia).  En fait, nous en avons parl√© au cours de plusieurs pages pr√©c√©dentes.  La programmation imp√©rative est similaire √† ce que font les ordinateurs - ex√©cution s√©quentielle d'instructions.  La programmation d√©clarative est plus proche de la fa√ßon naturelle de penser dans laquelle nous avons des entit√©s et des relations entre elles.  De toute √©vidence, la programmation d√©clarative est une approche plus puissante, mais une approche imp√©rative est plus compr√©hensible pour les programmeurs proc√©duraux.  Pourquoi l'approche d√©clarative est-elle plus puissante?  Ne changez pas, et apr√®s quelques pages, nous arrivons au point. <br><br>  Qu'est-ce que tout cela a √† voir avec les m√©thodes statiques?  Peu importe qu'il s'agisse d'une m√©thode ou d'un objet statique, nous devons encore √©crire if (a&gt; b) quelque part, non?  Oui, exactement.  La m√©thode statique et l'objet ne sont qu'un wrapper sur l'instruction if, qui effectue la t√¢che de comparaison de a avec b.  La diff√©rence r√©side dans la fa√ßon dont cette fonctionnalit√© est utilis√©e par d'autres classes, objets et m√©thodes.  Et c'est une diff√©rence significative.  Consid√©rez-le avec un exemple. <br>  Disons que j'ai un intervalle limit√© √† deux entiers, et un entier qui devrait tomber dedans. Je dois m'assurer qu'il l'est.  Voici ce que je dois faire si la m√©thode max () est statique: <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">between</span></span>(<span class="hljs-type"><span class="hljs-type">int</span></span> l, <span class="hljs-type"><span class="hljs-type">int</span></span> r, <span class="hljs-type"><span class="hljs-type">int</span></span> x) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Math.min(Math.max(l, x), r); }</code> </pre> <br>  Nous devons cr√©er une autre m√©thode statique, entre (), qui utilise les deux m√©thodes statiques disponibles, Math.min () et Math.max ().  Il n'y a qu'une seule fa√ßon de le faire - une approche imp√©rative, car la valeur est calcul√©e imm√©diatement.  Lorsque je fais un appel, j'obtiens imm√©diatement le r√©sultat: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = Math.between(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  9</span></span></code> </pre> <br>  J'obtiens le num√©ro 9 juste apr√®s avoir appel√© entre ().  Une fois l'appel effectu√©, mon processeur commencera imm√©diatement √† travailler sur ce calcul.  Il s'agit d'une approche imp√©rative.  Et √† quoi ressemble l'approche d√©clarative? <br><br>  Ici, jetez un oeil: <br><br><pre> <code class="hljs java"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Between</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Number num; Between(Number left, Number right, Number x) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.num = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Min(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Max(left, x), right); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.num.intValue(); } }</code> </pre> <br>  Voici comment je vais l'utiliser: <br><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">Number</span></span> y = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Between(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   !</span></span></code> </pre> <br>  Sentez-vous la diff√©rence?  Elle est extr√™mement importante.  Ce style sera d√©claratif, car je ne dis pas au processeur que les calculs doivent √™tre effectu√©s imm√©diatement.  Je viens de d√©terminer ce que c'√©tait et de laisser √† l'utilisateur le soin de d√©cider quand (et s'il √©tait n√©cessaire) de calculer la variable y √† l'aide de la m√©thode intValue ().  Peut-√™tre qu'il ne sera jamais calcul√© et mon processeur ne saura jamais quel est le nombre 9. Tout ce que j'ai fait, c'est d√©clarer ce que c'est.  Je viens d'annoncer.  Je n'ai pas encore donn√© de travail au processeur.  Comme indiqu√© dans la d√©finition, exprim√© la logique sans d√©crire le processus. <br><br>  J'entends d√©j√†: ¬´D'accord, je vous comprends.  Il existe deux approches - d√©clarative et proc√©durale, mais pourquoi la premi√®re est-elle meilleure que la seconde? ¬ª  J'ai mentionn√© plus t√¥t qu'il est √©vident que l'approche d√©clarative est plus puissante, mais n'a pas expliqu√© pourquoi.  Maintenant que nous avons examin√© les deux approches avec des exemples, nous allons discuter des avantages d'une approche d√©clarative. <br><br>  Premi√®rement, c'est plus rapide.  √Ä premi√®re vue, cela peut sembler plus lent.  Mais si vous regardez de plus pr√®s, il deviendra clair qu'en fait, c'est plus rapide, car l'optimisation des performances est enti√®rement entre nos mains.  En effet, il faudra plus de temps pour cr√©er une instance de la classe Between que d'appeler la m√©thode static between (), au moins dans la plupart des langages de programmation disponibles au moment de la r√©daction de ce livre. J'esp√®re vraiment que nous aurons un langage dans un futur proche dans lequel l'instanciation d'un objet sera aussi rapide que l'appel d'une m√©thode.  Mais nous ne sommes pas encore venus √† lui.  C'est pourquoi l'approche d√©clarative est plus lente ... lorsque le chemin d'ex√©cution est simple et direct. <br><br>  Si nous parlons d'un simple appel √† une m√©thode statique, alors ce sera certainement plus rapide que de cr√©er une instance d'un objet et d'appeler ses m√©thodes.  Mais si nous avons de nombreuses m√©thodes statiques, elles seront appel√©es s√©quentiellement lors de la r√©solution du probl√®me, et pas seulement pour travailler sur les r√©sultats dont nous avons vraiment besoin.  Que diriez-vous de ceci: <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> doIt() { <span class="hljs-type"><span class="hljs-type">int</span></span> x = Math.<span class="hljs-keyword"><span class="hljs-keyword">between</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-comment"><span class="hljs-comment">/*  ? */</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println("x=" + x); } }</code> </pre> <br>  Dans cet exemple, nous calculons x, que nous ayons besoin de sa valeur ou non. Le processeur trouvera la valeur 9 dans les deux cas. La m√©thode suivante utilisant l'approche d√©clarative fonctionnera-t-elle aussi vite que la pr√©c√©dente? <br><br><pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> doIt() { <span class="hljs-type"><span class="hljs-type">Integer</span></span> x = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Between</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-comment"><span class="hljs-comment">/*  ? */</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println("x=" + x); } }</code> </pre> <br>  Je pense que le code d√©claratif sera plus rapide.  C'est mieux optimis√©.  Et il ne dit pas au processeur quoi faire. Au contraire, il permet au processeur de d√©cider quand et o√π le r√©sultat est vraiment n√©cessaire - les calculs sont effectu√©s √† la demande. <br><br>  L'essentiel est que l'approche d√©clarative est plus rapide car elle est optimale.  C'est le premier argument en faveur d'une approche d√©clarative par rapport √† l'imp√©ratif de la programmation orient√©e objet.  Le style imp√©ratif n'a d√©finitivement pas sa place dans la POO, et la premi√®re raison en est l'optimisation des performances. Il ne faut pas dire que plus vous contr√¥lez l'optimisation du code, plus il est suivi.  Au lieu de laisser l'optimisation du processus de calcul au compilateur, √† la machine virtuelle ou au processeur, nous le faisons nous-m√™mes. <br><br>  Le deuxi√®me argument est le polymorphisme.  En termes simples, le polymorphisme est la capacit√© de briser les d√©pendances entre les blocs de code.  Supposons que je veuille changer l'algorithme pour d√©terminer si un nombre tombe dans un certain intervalle.  C'est assez primitif en soi, mais je veux le changer.  Je ne veux pas utiliser les classes Max et Min.  Et je veux qu'il effectue une comparaison en utilisant les instructions if-then-else .. Voici comment proc√©der de mani√®re d√©clarative: <br><br><pre> <code class="hljs axapta"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Between</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Number num; Between(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> left, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> right, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Min(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Max(left, x), right)); } Between(Number number) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.num = number; } }</code> </pre> <br>  Il s'agit de la m√™me classe Between que dans l'exemple pr√©c√©dent, mais avec un constructeur suppl√©mentaire.  Maintenant, je peux l'utiliser avec un autre algorithme: <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">Integer</span></span> x = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Between</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> IntegerWithMyOwnAlgorithm(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>) );</code> </pre> <br>  Ce n'est probablement pas le meilleur exemple, car la classe Between est tr√®s primitive, mais j'esp√®re que vous comprenez ce que je veux dire.  La classe Between est tr√®s facile √† s√©parer des classes Max et Min, car ce sont des classes.  Dans la programmation orient√©e objet, un objet est un citoyen √† part enti√®re, mais pas la m√©thode statique.  Nous pouvons passer l'objet comme argument au constructeur, mais nous ne pouvons pas faire de m√™me avec la m√©thode statique.  Dans la POO, les objets sont associ√©s √† des objets, communiquent avec des objets et √©changent des donn√©es avec eux.  Pour d√©tacher compl√®tement un objet des autres objets, nous devons nous assurer qu'il n'utilise le nouvel op√©rateur dans aucune de ses m√©thodes (voir section 3.6), ainsi que dans le constructeur principal. <br><br>  Permettez-moi de r√©p√©ter: pour d√©tacher compl√®tement un objet des autres objets, il vous suffit de vous assurer que le nouvel op√©rateur n'est utilis√© dans aucune de ses m√©thodes, y compris le constructeur principal. <br><br>  Pouvez-vous faire le m√™me d√©couplage et refactoring avec un extrait de code imp√©ratif? <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">int</span></span> y = Math.<span class="hljs-keyword"><span class="hljs-keyword">between</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>);</code> </pre> <br>  Non, tu ne peux pas.  La m√©thode statique entre () utilise deux m√©thodes statiques, min () et max (), et vous ne pouvez rien faire avant de l'avoir compl√®tement r√©√©crite.  Et comment pouvez-vous le r√©√©crire?  Passer le quatri√®me param√®tre √† la nouvelle m√©thode statique? <br><br>  √Ä quel point sera-t-il laid?  Je pense vraiment. <br><br>  Voici mon deuxi√®me argument en faveur d'un style de programmation d√©claratif - il r√©duit la coh√©sion des objets et le rend tr√®s √©l√©gant. Sans oublier le fait que moins de coh√©sion signifie plus de maintenabilit√©. <br><br>  Le troisi√®me argument en faveur de la sup√©riorit√© de l'approche d√©clarative sur l'imp√©ratif - l'approche d√©clarative parle des r√©sultats, alors que l'imp√©ratif explique la seule fa√ßon de les obtenir.  La seconde approche est beaucoup moins intuitive que la premi√®re.  Je dois d'abord ¬´ex√©cuter¬ª le code dans ma t√™te pour comprendre quel r√©sultat attendre.  Voici une approche imp√©rative: <br><br><pre> <code class="hljs pgsql">Collection&lt;<span class="hljs-type"><span class="hljs-type">Integer</span></span>&gt; evens = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> LinkedList&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> number : numbers) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (number % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { evens.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(number); } }</code> </pre> <br>  Pour comprendre ce que fait ce code, je dois le parcourir, visualiser ce cycle. En fait, je dois faire ce que fait le processeur - parcourir tout le tableau des nombres et mettre les nombres pairs dans la nouvelle liste.  Voici le m√™me algorithme, √©crit dans un style d√©claratif: <br><br><pre> <code class="hljs pgsql">Collection&lt;<span class="hljs-type"><span class="hljs-type">Integer</span></span>&gt; evens = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Filtered( numbers, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Predicate&lt;<span class="hljs-type"><span class="hljs-type">Integer</span></span>&gt;() { @Override <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">boolean</span></span> suitable(<span class="hljs-type"><span class="hljs-type">Integer</span></span> number) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> number % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>; } } );</code> </pre> <br>  Ce morceau de code est beaucoup plus proche de la langue anglaise que le pr√©c√©dent.  Il se lit comme suit: "evens est une collection filtr√©e qui inclut uniquement les √©l√©ments qui sont pairs."  Je ne sais pas exactement comment la classe Filtered cr√©e une collection - utilise-t-elle une instruction for ou autre chose.  Tout ce que j'ai besoin de savoir en lisant ce code, c'est que la collection a √©t√© filtr√©e.  Les d√©tails de l'impl√©mentation sont masqu√©s et le comportement est exprim√©. <br><br>  Je me rends compte que pour certains lecteurs de ce livre, il √©tait plus facile de percevoir le premier fragment. Il est un peu plus court et tr√®s similaire √† ce que vous voyez quotidiennement dans le code que vous traitez.  Je vous assure que c'est une question d'habitude.  C'est un sentiment trompeur.  Commencez √† penser en termes d'objets et de leur comportement, plut√¥t qu'en termes d'algorithmes et leur ex√©cution, et vous obtiendrez une v√©ritable perception.  Le style d√©claratif se rapporte directement aux objets et √† leur comportement, et l'imp√©ratif - aux algorithmes et √† leur ex√©cution. <br><br>  Si vous trouvez ce code moche, essayez Groovy, par exemple: <br><br><pre> <code class="hljs scala"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evens</span></span></span><span class="hljs-function"> </span></span>= <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Filtered</span></span>( numbers, { <span class="hljs-type"><span class="hljs-type">Integer</span></span> number -&gt; number % <span class="hljs-number"><span class="hljs-number">2</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span> } );</code> </pre> <br>  Le quatri√®me argument est l'int√©grit√© du code.  Jetez un autre coup d'≈ìil aux deux extraits pr√©c√©dents.  Veuillez noter que dans le deuxi√®me fragment, nous d√©clarons evens comme un seul op√©rateur - evens = Filtered (...).  Cela signifie que toutes les lignes de code responsables du calcul de cette collection sont c√¥te √† c√¥te et ne peuvent pas √™tre s√©par√©es par erreur.  Au contraire, dans le premier fragment, il n'y a pas de ¬´collage¬ª √©vident des lignes.  Vous pouvez facilement modifier leur ordre par erreur et l'algorithme se cassera. <br><br>  Dans un morceau de code aussi simple, c'est un petit probl√®me, car l'algorithme est √©vident.  Mais si le fragment du code imp√©ratif est plus grand - disons, 50 lignes, il peut √™tre difficile de comprendre quelles lignes de code sont li√©es les unes aux autres .. Nous avons discut√© un peu plus t√¥t du probl√®me de la concat√©nation temporelle - lors de la discussion des objets immuables .. Le style de programmation d√©clarative aide √©galement √† √©liminer cette concat√©nation , gr√¢ce √† laquelle la maintenabilit√© est am√©lior√©e. <br><br>  Il y a probablement encore des arguments, mais j'ai cit√© le plus important, de mon point de vue, de ceux li√©s √† la POO.  J'esp√®re avoir pu vous convaincre que le style d√©claratif est ce dont vous avez besoin.  Certains d'entre vous peuvent dire: ¬´Oui, je comprends ce que vous voulez dire.  Je combinerai les approches d√©claratives et imp√©ratives, le cas √©ch√©ant.  J'utiliserai des objets l√† o√π cela a du sens et des m√©thodes statiques quand je devrai faire rapidement quelque chose de simple, comme calculer le plus grand des deux nombres. ".." Non, tu te trompes! "  - Je vais te r√©pondre.  Vous ne devez pas les combiner. N'utilisez jamais un style imp√©ratif.  Ce n'est pas un dogme. Cela a une explication tr√®s pragmatique. <br><br>  Le style imp√©ratif ne peut pas √™tre combin√© avec un caract√®re d√©claratif purement technique.      ,   ‚Äî      . <br><br> ,       ‚Äî max()  min().     ,     .      ,  ,    ..         ‚Äî   Between,     between().     ? , ,   ,   ,  .       .    ,        Between.  ,      - ,        . <br><br>      - :      ,       ‚Äî     .      . <br><br> ¬´    ! ‚Äî  . ‚Äî   ?¬ª    ‚Ä¶   ,     .   - ,     - (     ). ,    ,   ‚Äî .    ,     ..           ,         .    ,    , ‚Äî  ,   ,     ,       .  ,   Apache Commons    FileUtils.readLines(),       .        : <br><br><pre> <code class="hljs java"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FileLines</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Iterable</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> File file; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Iterator&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Arrays.asList( FileUtils.readLines(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.file) ).iterator(); } }</code> </pre> <br> ,       ,      : <br><br><pre> <code class="hljs lisp">Iterable&lt;String&gt; lines = new FileLines(<span class="hljs-name"><span class="hljs-name">f</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>        FileLines,        .     .    ,          ,     ‚Äî  FileLines.    ,       . <br><br><h3> - </h3><br>   -      ,     ,      (    -)..  ,  java.lang.Math ‚Äî   -.      Java, Ruby ,  ,      .     ?       .   1.1           ,   ‚Äî   . -   , : <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Math { private Math() { //   } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">int</span></span> max(<span class="hljs-type"><span class="hljs-type">int</span></span> a, <span class="hljs-type"><span class="hljs-type">int</span></span> b) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &lt; b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } }</code> </pre> <br>    ,   -,    ,   ,     .   , ,   ,     . <br><br> - ‚Äî      - . - ‚Äî        ‚Äî    .   ,    ,      . - ‚Äî    ..    . <br><br><h3>  ¬´¬ª </h3><br>  ¬´¬ª ‚Äî  ,   ,     . ,       ,          .     : <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Math</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Math INSTANCE = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Math(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Math</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Math </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInstance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Math.INSTANCE; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">max</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &lt; b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } }</code> </pre> <br>     .     Math,   INSTANCE..      ,   getInstance().   ,       .      INSTANCE ‚Äî  getInstance(). <br><br> ¬´¬ª    ,      .    ,     .      ,   .  , , ,      ,     -,      .     - Math,    ,     : <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Math</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Math</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">max</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a &lt; b) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } }</code> </pre> <br>      max(): <br><br><pre> <code class="hljs swift"><span class="hljs-type"><span class="hljs-type">Math</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">max</span></span>(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>); <span class="hljs-comment"><span class="hljs-comment">// - Math.getInstance().max(5, 9); // </span></span></code> </pre> <br>   ? ,     ,     .    ,         -?         Java-. ,      : ¬´   ¬ª.  Par exemple: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">User</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> User INSTANCE = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> User(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">User</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> User </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInstance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> User.INSTANCE; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">String txt</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = txt; } }</code> </pre> <br>    ,           .     ¬´,     ¬ª.       -,    , -  . .. ,           -: ¬´  ¬ª..    .      ..  -,    ,     : <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">User</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">User</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> User.name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">String txt</span></span></span><span class="hljs-function">)</span></span> { User.name = txt; } }</code> </pre> <br>  -  ,         . ,    ?     ?      ,   ‚Äî  ,   ,  - ‚Äî    ,   .  ,    ,       setInstance()   getInstance().   ,     . ,     : <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Math</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.getInstance</span></span>()<span class="hljs-selector-class"><span class="hljs-selector-class">.max</span></span>(5, 9);</code> </pre> <br>      Math.  ,  Math ‚Äî ,    .       ,         Math ,     .         ,    .    ,  , ,       -,     .  ,   ,   Math.max()     -.    ?   : <br><br><pre> <code class="hljs cmake"><span class="hljs-keyword"><span class="hljs-keyword">Math</span></span> <span class="hljs-keyword"><span class="hljs-keyword">math</span></span> = new FakeMath(); <span class="hljs-keyword"><span class="hljs-keyword">Math</span></span>.setInstance(<span class="hljs-keyword"><span class="hljs-keyword">math</span></span>);</code> </pre> <br>  ¬´¬ª      ,    .   :    -  ,     .  -   ‚Äî     . - ‚Äî     ‚Äî    . <br><br> ,   ?   -,     ,   .  Pourquoi? ,      ‚Äî  ,  ,  ..       .      .    ,        : <br><br><pre> <code class="hljs mel">#include &lt;stdio&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> line = <span class="hljs-number"><span class="hljs-number">0</span></span>; void echo(char* <span class="hljs-keyword"><span class="hljs-keyword">text</span></span>) { printf(<span class="hljs-string"><span class="hljs-string">"[%d] %s\n"</span></span>, ++line, <span class="hljs-keyword"><span class="hljs-keyword">text</span></span>); }</code> </pre> <br>      echo(),    line.    line          *.-..   .   Java  ,         .  Java,    Ruby     --,   .  Pourquoi?         .    .      .   . ,         .   ,      ,    GOTO. <br><br> ,       , -      Java,     ¬´¬ª..      - ,      .      . <br>    .   . <br><br> ¬´  ? ‚Äî  . ‚Äî   ,           ,    ?¬ª ,   ,      ,        .    -  .    ? ! <br><br>      ,     . <br><br> ,      ,         ..   .  .     ,    .   ,     :    ,    ,     . . , ,      ,       .      ,   ‚Äî  ,      2.1. <br><br>     .     . <br><br><h3>   </h3><br>     :            ,        ()? ,    ,     ,      .. ,    ?      Lisp, Clojure  Haskell  Java  C++? <br><br>  ,       : <br><br><pre> <code class="hljs java"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Max</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Number</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> b; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Max</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> left, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> right)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a = left; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b = right; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a &gt; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b ? <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.b; } }</code> </pre> <br>      : <br><br><pre> <code class="hljs pgsql">Number x = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Max(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>);</code> </pre> <br>        Lisp ,      : <br><br><pre> <code class="hljs lisp">(<span class="hljs-name"><span class="hljs-name">defn</span></span> max (<span class="hljs-name"><span class="hljs-name">ab</span></span>) (<span class="hljs-name"><span class="hljs-name">if</span></span> (<span class="hljs-name"><span class="hljs-name">&gt;</span></span> ab) ab))</code> </pre> <br> ,    ?   Lisp  . <br><br>       ,     ,    ‚Äî  .   -   ,      -  -,   .   ,  -  Java,     ,  Java  ,     -.  ‚Äî  ,   .    . <br><br>  ,   -        .  -,    Java,   (   ) ,    .    . <br><br><h3>   </h3><br> ,    .   ‚Äî  -   .    ‚Äî   - , ‚Äî   ,       ,  : <br><br><pre> <code class="hljs lisp">names = new Sorted( <span class="hljs-name"><span class="hljs-name">new</span></span> Unique( <span class="hljs-name"><span class="hljs-name">new</span></span> Capitalized( <span class="hljs-name"><span class="hljs-name">new</span></span> Replaced( <span class="hljs-name"><span class="hljs-name">new</span></span> FileNames( <span class="hljs-name"><span class="hljs-name">new</span></span> Directory( <span class="hljs-string"><span class="hljs-string">"/var/users/*.xml"</span></span> ) ), <span class="hljs-string"><span class="hljs-string">"([^.]+)\\.xml"</span></span>, <span class="hljs-string"><span class="hljs-string">"$1"</span></span> ) ) ) )<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>  ,    ,     -.   ,     3.2.    ,     names,        ,     ,    .   ,    ,      ,   .    . <br><br>          ? ,  ,    ,       . <br><br>  ,     .  Directory, FileNames, Replaced, Capitalized, Unique  Sorted ‚Äî ,        .      .       . <br><br>      ,      (   ).  , Unique ‚Äî  Iterable,     .  FileNames ‚Äî    ,    . <br>      -       .       ,     ..  -    app.run(),      .          if, for, switch  while.   ,    . <br><br>  if   Java      ,   .       Java ,      If?     : <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">float</span></span> rate; <span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (client.age() &gt; <span class="hljs-number"><span class="hljs-number">65</span></span>){ <span class="hljs-attribute"><span class="hljs-attribute">rate</span></span> = <span class="hljs-number"><span class="hljs-number">2</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>; } <span class="hljs-section"><span class="hljs-section">else</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">rate</span></span> = <span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br>     - : <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">float</span></span> rate = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">If</span></span>( client.age() &gt; <span class="hljs-number"><span class="hljs-number">65</span></span>, <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.0</span></span> );</code> </pre> <br>    ? <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">float</span></span> rate = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">If</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Greater(client.age(), <span class="hljs-number"><span class="hljs-number">65</span></span>), <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.0</span></span> );</code> </pre> <br>  ,  : <br><br><pre> <code class="hljs lisp">float rate = new If( <span class="hljs-name"><span class="hljs-name">new</span></span> GreaterThan( <span class="hljs-name"><span class="hljs-name">new</span></span> AgeOf(<span class="hljs-name"><span class="hljs-name">client</span></span>), <span class="hljs-number"><span class="hljs-number">65</span></span> ), <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.0</span></span> )<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>    -   .     ‚Äî  ,   rate. <br><br>    ,      ,      .   if, for, switch  while.    If, For, Switch  While.  ? <br><br>       ,      .    .            .   ,    .. ,            . <br>   ,  -  ‚Äî       . <br><br>       ?  ,   :        .     ,        .             .     .      ,    ‚Äî  . <br><br>  :           static ‚Äî      ,     ,  . <br><br>  ¬ªPlus d'informations sur le livre sont disponibles sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le site Web de l'√©diteur</a> <br><br>    20%   ‚Äî <b>Java</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418157/">https://habr.com/ru/post/fr418157/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418145/index.html">Le premier proc√®s contre Roskomnadzor d'une entreprise qui a souffert lorsque Telegram a √©t√© bloqu√©</a></li>
<li><a href="../fr418147/index.html">Silence of Ruby Executions: Transactional Rails / PostgreSQL Thriller</a></li>
<li><a href="../fr418149/index.html">Phishing avec balise de titre</a></li>
<li><a href="../fr418153/index.html">Vid√©o Meetup Kolesa Android: √† propos de MVVM, des antipatterns et du d√©veloppement modulaire</a></li>
<li><a href="../fr418155/index.html">Diode LED Diode Zener</a></li>
<li><a href="../fr418159/index.html">O√π aller chez le designer: prestigieux prix de la Russie, de l'Europe de l'Est et des pays de la CEI</a></li>
<li><a href="../fr418161/index.html">√Ä Stanford, des batteries de streaming √† temp√©rature ambiante ont √©t√© d√©velopp√©es</a></li>
<li><a href="../fr418163/index.html">Tests de production: Netflix Chaos Automation Platform</a></li>
<li><a href="../fr418165/index.html">Quasar, Sobaken et Vermin: r√©v√©ler les d√©tails de la campagne de cyberespionnage en cours</a></li>
<li><a href="../fr418167/index.html">ScadaPy: ajouter le protocole IEC 60870-5-104</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>