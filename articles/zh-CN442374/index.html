<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧖🏽 👶🏻 👨🏾‍🔧 基于DSP的升压转换器的开发：工作原理，计算，原型设计 👈🏼 📐 🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我已经写了一篇有关降压拓扑的类似文章 ，也就是有关降压转换器的文章，今天的故事将是关于如何构建一个不是在模拟PWM控制器上而是在DSP / MK上进行控制的升压（电压）转换器的故事。 该布局将基于我的“ 开发套件 ”，板载STM32F334R8T6和一个隔离式半桥驱动器进行编译。 



 引言 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>基于DSP的升压转换器的开发：工作原理，计算，原型设计</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442374/"> 我已经写了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">一篇有关降压拓扑</a>的类似<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文章</a> ，也就是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有关降压</a>转换器的文章，今天的故事将是关于如何构建一个不是在模拟PWM控制器上而是在DSP / MK上进行控制的升压（电压）转换器的故事。 该布局将基于我的“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">开发套件</a> ”，板载STM32F334R8T6和一个隔离式半桥驱动器进行编译。 <br><br><img src="https://habrastorage.org/webt/ck/vz/8z/ckvz8zcf3po3urc9tcukbmgm_kc.jpeg"><br><a name="habracut"></a><br><h2> 引言 </h2><br> 首先，我想指出一个重要的点-尽管文章说控制是使用微控制器进行的，但这并不意味着功率部分的计算与带模拟PWM控制器的转换器的计算会有所不同。 也就是说，在计算任何升压对流器的功率单位时，可以安全地应用本文中的计算过程。 <br><br> 在现实世界中，使用标准模拟PWM控制器无法解决许多任务。 我最喜欢的示例是带有MPPT算法的电压转换器。 一旦我们的任务超出了“标准”的范围，并且出现了一些附加的控制算法或工作逻辑，就会出现一种情况，其中使用DSP简化了问题的解决方案，同时降低了解决方案的成本，最重要的是允许从原则上解决问题。 <br><br> 值得一提的是您将在哪里完成拓扑提升的任务。 例如，当您必须从1节锂离子电池获得5V电压时，拓扑本身已经为许多人所熟知，例如，您使用了低功率dc / dc升压转换器。 这种低功率转换器通常用于数字电子，物联网，自动化，自供电设备和其他任务。 <br><br> 第二个并不是完全显而易见，而是极其重要的应用-PFC或功率因数校正器。 大多数PFC是最常见的升压转换器，它根据特殊算法工作，但最终它将整流并将输入电压从85 ... 265VAC升高到+ 400VDC。 将来，我们将另外以该示例为例。 <br><br> 另一个常见的选择是功能强大的dc / dc升压转换器，例如，带有MPPT的太阳能电池板的网络逆变器，这是最昂贵和最受追捧的，主要用于功率为5至1500 kW的发电厂。 这种转换器分为两级，第一级是多相直流/直流升压（谷歌交错），通常在输入端接收200 ... 600VDC的恒定电压，并将其增加到稳定的800VDC。 另外，普通的dc / ac逆变器产生交流电压。 这种转换器是基于DSP构建的，其结构图如下： <br><br><img src="https://habrastorage.org/webt/bv/dh/ox/bvdhoxjyy1zegijhrnt77fawegw.png"><br><br> 我希望您理解为什么这种拓扑结构对电力电子开发人员来说很重要，以及为什么重要的是学习如何开发基于DSP / MK的控制的升压转换器。 现在有了明确的动机，我们可以继续进行拓扑研究。 <br><br><h2> 第1章-升压转换器工作原理 </h2><br> 升压/升压转换器在原理上与降压/降压转换器相同，因为 在这两种情况下，都有两个工作阶段。 在第一阶段，能量在电感器中积累，而负载由输出电容器供电。 在第二阶段，能量从电感器转移到负载，同时对输出电容器充电，这将在电感器“充电”时向负载提供能量。 当然，为了使升压转换器完全相同，需要更改电路，让我们看一下升压转换器的电路图： <br><br><img src="https://habrastorage.org/webt/8m/lp/wj/8mlpwj-k3mmgmifaev4andmkyl4.png"><br><br> 乍一看，在您看来拓扑似乎不像buck，但如果仔细观察，就会发现它们是双胞胎。 然后，您将更清楚地看到这一点，但是现在，让我们分析升压转换器的各个阶段。 <br><br><ul><li>  <b>阶段积累电荷。</b> 在转换器开启的那一刻，输出电容C2处于电势V <sub>in以下</sub> ，因为 电流流过电感器L1和二极管VD1。 控制设备（PWM控制器或DSP）开始生成PWM信号，并将其馈送到晶体管VT1的栅极。 当晶体管VT1断开时，事实证明电路闭合，电感L1连接到电源并开始积累能量。 流过VD1的电流不流动，因为 阴极电位高于阳极电位（GND电位，约0V）（约V <sub>in</sub> ）。 <br><br><img src="https://habrastorage.org/webt/cs/x7/gr/csx7grhnwpfkk0ihi8obbltvaju.png"><br></li><li>  <b>电感放电阶段。</b> 现在，PWM信号将其值从1更改为0，并且晶体管VT1闭合。 此时，电感器L1试图通过增加电势来保持电流值。 在电感的输入端，电势仍为V <sub>in</sub> ，因此电势在“节流VT1阳极VD1”点处增大。 当这时的电位大于阴极VD1的电位时，电流开始流经VD1到负载，并同时对输出电容C2充电。 在此阶段，电路也闭合，但不通过VT1，而是通过路径“ L1-VD1-C2-load”闭合： <br><br><img src="https://habrastorage.org/webt/pd/us/6q/pdus6qkbgutx0st1awt5c4jdbt8.png"><br></li></ul><br> 此外，这些阶段简单地交替并且转换器工作。 对于那些一无所知的人，我将解释电压如何升高。 在VT1关闭时，节气门开始放电，在“放电”时，其上的电压趋于无穷大。 是的，这在理想的系统中，但是在现实生活中，电压将受到负载电阻的限制，负载电阻与电感器和二极管串联连接，并且，如果有控制，还需要反馈。 <br><br> 能量存储阶段仍需补充。 在接通时，输出电容器C2中实际上没有存储能量，但是在放电的第一阶段之后，它就被充电并且其电位等于V <sub>out</sub> ，这意味着在能量存储的后续阶段中，此电容C2将为负载提供能量，结果，负载将不会中断。获得能量。 由此得出结论，C2必须具有这样一种容量，即所存储的能量足以在晶体管打开期间（t <sub>on</sub> ）为负载提供功率。 按照上述说明，从第二阶段重复开始，电荷累积阶段如下所示： <br><br><img src="https://habrastorage.org/webt/h6/ti/oa/h6tioat79sqyfhtj2tnupa_3qgg.png"><br><br> 如您所见，获得了两个闭合回路。  “红色”电路通过VT1闭合，节气门已充电，“绿色”电路通过负载闭合。 由于二极管VD1的存在，在这种情况下不会发生过程/能量的“混合”，因为 在任何时候，阴极VD1上的电势都将高于阳极上的电势。 <br><br> 现在，让我们找出电压发生了什么，输出电压与转换器输入电压之间的关系。 就像降压转换器一样，我们的升压对输入的输出电压具有线性依赖性，并且传输系数等于占空比： <br><br><img src="https://habrastorage.org/webt/fw/zy/9s/fwzy9spl6ukhuny8aurcgfrj1go.png"><br><br> 如您所见，这种关系简单明了，因此您可以通过更改PWM信号的占空比来简单地调节输出电压。 根据调节公式，算法还如下： <br><br><ul><li> 为了<b>增加</b>输出电压-必须<b>增加</b>占空比； </li><li> 为了<b>降低</b>输出电压-有必要<b>降低</b>占空比。 </li></ul><br> 现在我们了解了升压转换器的工作原理以及控制输出电压的逻辑。 为了巩固知识，我们将在示波器上分析几个实验，并在实践中查看这些依赖关系。 <br><br> 让我们以一个稳定的10V电压源（例如实验室电源）为例，并向VT1晶体管施加PWM信号，该VT1晶体管的占空比将在实验过程中改变。 示波器探头连接到电路中的以下点： <br><br><img src="https://habrastorage.org/webt/mj/9w/u3/mj9wu37afylkkv-h8j_igydmpf8.png"><br><br><ul><li>  <b>经验1。</b> 输入电压（V <sub>in</sub> ）为12V，PWM信号的占空比为0.75： <br><br><img src="https://habrastorage.org/webt/ww/ag/k1/wwagk1oaumnhj7c8drp8wdfkutm.png"><br></li><li>  <b>2号经验</b> 输入电压（V <sub>in</sub> ）为12V，PWM信号占空比为0.5： <br><br><img src="https://habrastorage.org/webt/tb/yl/xy/tbylxyivsjbekqv2lx3eqs9v5gy.png"><br></li><li>  <b>经验三。</b> 输入电压（V <sub>in</sub> ）为12V，PWM信号的占空比为0.25： <br><br><img src="https://habrastorage.org/webt/qf/rl/2h/qfrl2hddtwgdgqzyclb-czgjmyy.png"><br></li></ul><br> 现在我们已经在实践中看到输出电压线性地取决于占空比，因此我们可以构建一个控制系统（CS），该系统将使用ADC监视输出电压，并根据测量值降低或增加其输出（占空比）。 <br><br><h2> 第2章-升压转换器的设计局限性 </h2><br> 如您所知，理想的拓扑不存在，否则将不会有太多的拓扑，每个人都只会使用它，例如，全桥。 在这种情况下，升压转换器还具有许多功能，这些功能限制了此拓扑的使用： <br><br><ul><li>  <b>输出电压不应超过输入电压的3倍至4倍。</b> <br> 专家们一定会在这里跑来跑去，并告诉他们他们如何使用IN-12手表中的MC34063将升压电阻的电压从+ 5V增加多达+ 180V！ 这当然很棒，但是让我们估计这种情况的占空比，要将电压从5V提高到180V，您需要使转换器以约<b>0.972</b> （！）的系数工作。 我认为没有必要说这是一个坏主意，因为在高频下，开关晶体管的瞬变会具有相当的持续时间，甚至可能更长。 <br><br> 同样，在这种占空比下，事实证明晶体管几乎总是处于开路状态，这意味着电流流过该晶体管，并且我们获得了最大可能的静态损耗值，因此效率很低。 <br><br> 这实际上导致了什么……在低功率下（与mc34063相同），可以保证运行不稳定，可靠性低，电流纹波低，效率低以及功率元件发热增加。 高功率-大范围。 <br><br> 例如，注意PFC，它们都以最大1：4的比例工作，即相同的通用输入85 ... 265VAC或带有90 ... 310VAC的稳压器。 例如，您可以考虑使用MPPT的网络逆变器，其中，当输出为800V时，将200 ... 600VDC馈入输入，即比率为1：4；否则，比率为1：4。 </li><li>  <b>晶体管上的电压。</b> 此限制与关于上述比率的论点密切相关，这就是为什么...晶体管VT1必须具有等于最小输出电压的漏极-源极电压，并且在实际设备中，其纹波的裕度也至少应为20％。 高压开关的沟道电阻大，电压比大，输入电流将非常大，这会导致晶体管损耗大； </li><li>  <b>二极管电压。</b> 如果仔细看一下转换器电路，就会很清楚地看到，等于输出电压的电压被施加到VD1二极管上，也就是说，如果您有400V输出，那么二极管也必须承受400V。 <br><br> 在这方面，此拓扑有一个有趣的优点，因为 由于二极管是高压的，因此二极管中流过的电流要比流过晶体管的电流低几倍，因此在许多解决方案中，使用肖特基二极管或SiC二极管将比使用同步拓扑（晶体管上的半桥）降低损耗。 这适用于输出为200V或更高的解决方案，并且拓扑的同步版本仅在大约100V的电压下才有意义。 </li><li>  <b>电容器电压。</b> 似乎很明显，但为防万一，我要澄清-输出电容器必须承受等于输出的电压，在许多应用了升压的任务中，该电压可以为400、800甚至1500VDC。 </li></ul><br> 从以上所述，我认为很明显，当有必要将电压最多增加3到4倍并且同时不需要电隔离时，使用升压转换器是合理的，在其他情况下，已经有必要朝推挽或全桥拓扑方向看。 升压转换器的功率原则上没有上限，基于此拓扑结构的PFC为数十千瓦，太阳能发电站的逆变器为每兆瓦。 <br><br><h2> 第3章-转换器功率部分的计算 </h2><br> 现在是时候为原型组装计算主要的动力元件了。 作为电源，我将使用具有12V输出的实验室电源，因为 如果有人想重复，但没有LBP，那么您可以在12V 5A上使用通常的中文平均阱。 如今，36V的白炽灯和60瓦的功率将成为视觉负载。 我专门选择了源和负载，以便可以在任何村庄中组装布局，同时价格便宜并且可以承受1：3的比例。 总计，我们有以下输入数据： <br><br><ul><li> 输入电压： <b>12V</b> </li><li> 输出电压： <b>36 V</b> </li><li> 额定功率： <b>60w</b> </li><li> 转换频率： <b>100 kHz</b> </li></ul><br><h4> 节气门的计算与制造 </h4><br> 我将从最有趣和最重要的地方开始，因为 开发人员通常会遇到功率电感计算问题。 我马上注意到，我将计算<b>连续电流模式</b> （CCM）的电感值。 <br><br> 首先，让我们找到转换器将工作的占空比的最大值。 该值将由PWM控制器以最小输入电压设置。 例如，我计划使用稳定的电源为转换器供电，然后<b>V <sub>min</sub> = V <sub>nom</sub></b> 。 例如，如果选择铅酸电池，则电压范围为10.2 ... 14.2V，在这种情况下，您需要将值10.2V用于计算，因为 它将达到最大占空比。  <b>对于最小值，我将采用等于12V的值</b> 。 计算公式本身很简单，如下所示： <br><br><img src="https://habrastorage.org/webt/gt/da/wf/gtdawfj7jp1a7nxmat2e_ddx2nq.png"><br><br> 现在我们需要计算电感器中的纹波电流。 读过我关于降压转换器的文章的人可能会记得我们自己选择此值，通常将其设置为20％到50％，我取的范围是30％，现在我们可以找到当前值： <br><br><img src="https://habrastorage.org/webt/7n/nt/4p/7nnt4pxmsadr8ee70wj-r08nsbk.png"><br><br> 现在我们计算出电感的最小值，将其保持在连续电流模式下将需要该值： <br><br><img src="https://habrastorage.org/webt/kj/4l/pn/kj4lpnql8iz0hyjxfk9tzsxalyu.png"><br><br> 对于节气门的制造，我将使用透气性为60的Kool Mu材料制成的R26 / 14/11节气门（R为环，数字为尺寸），您可以在此处下载其文档并在此处购买<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-Lepkos</a> 。 <br><br><img src="https://habrastorage.org/webt/cx/sh/cm/cxshcmc2l_cbtbmrjsjc_1omlho.jpeg"><br><br> 现在让我们找出要获得最小电感量需要转动多少圈： <br><br><img src="https://habrastorage.org/webt/c7/om/kk/c7omkkdu-x9_kv7cqlolqqqejpw.png"><br><br> 这是转换器将在最小输入电压为12V的情况下保持连续电流模式的最小匝数。 为了提高可靠性，让我们多转几圈， <s>这样我们就可以</s>再多缠绕3圈，即<b>29圈</b> 。 让我们找出经过这么多匝后最终得到的电感： <br><br><img src="https://habrastorage.org/webt/nl/ry/1d/nlry1drtaiuw8wblzxvomc0w0r8.png"><br><br> 我们得到了一个新的（最终）电感值和匝数，让我们检查是否已经超过了该磁芯的感应极限： <br><br><img src="https://habrastorage.org/webt/gg/6h/pq/gg6hpq523rsadvmoqjzlyqov9i0.png"><br><br> 磁芯由Kool Mu材料制成，其感应极限为0.5T。 如您所见，使用该核心可获得五倍的利润。  <s>N-可靠性！</s> 由此我们可以得出一个间接结论，即在100 kHz的频率下，大约300瓦的功率可以通过该磁芯泵入。 <br><br> 现在，我们来确定绕组线。 我的仓库中有很多我最喜欢的直径为0.6 mm的线，对应于一根0.283 mm <sup>2的</sup>芯线的横截面。 铁芯中的平均电流分别约为5A，如果将其包裹在一个铁芯中，我们得到的电流密度为5A / 0.283 mm <sup>2</sup> = <i>17.66 A / mm <sup>2</sup></i> ，这有点大，并且电感器会过热。 绕组的地方很多，铁芯很大，因此我将其绕成<b>2根铁芯</b> ，这将使电流密度降低2倍，达到<b>8.83 A / mm <sup>2的值</sup></b> 。 这将使您在+20 <sup>o</sup> C内相对于环境过热。 <br><br> 确定了电感器的所有参数：尺寸R26 / 14/11，材料Kool Mu，匝数29，直径为0.6 mm的绕组线以及2芯绕组。 让我们开始缠绕： <br><br><img src="https://habrastorage.org/webt/a5/-7/iv/a5-7ivzjye-fovi_csl7yk8usaq.jpeg"><br><br> 缠绕，固定绕组的末端，录音带记录整个绕组-完成。 仍然需要测量电感的电感的实际值： <br><br><img src="https://habrastorage.org/webt/m0/51/qg/m051qgvdttg6vegcfhkn9sfrqcq.jpeg"><br><br> 得到了所需的值！ 现在，您可以安全地进行输出容量的计算了。 逻辑原理很简单-输出容量越大，纹波越小。 没错，值得一提的是，如果您将电容值比计算出的电容值大几个数量级，则时间常数将太大，控制系统（SU）将无法正常工作，因此，我们计算出电容器（C2）的最小电容值： <br><br><img src="https://habrastorage.org/webt/dg/fw/8m/dgfw8mpubqkkrjyktsjs8nyw-3g.png"><br><br> 在200 kHz以内的频率上，仍在放置廉价的电解质，我通常将此最小值乘以2 ... 3并设置该值。 在当前任务中，我使用调试电源模块，并且已经安装了电解质，电解质在升压拓扑中起输出电容的作用，我将在下一章中详细讨论。 <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电解质的总容量为3000μF，在此任务中很多，因为 </font><font style="vertical-align: inherit;">该板设计用于更高的功率。</font><font style="vertical-align: inherit;">具有如此大的输出电容，反馈并不是甜蜜的，但是对于实验来说，它会。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于晶体管，尚需流利地说。</font><font style="vertical-align: inherit;">关于晶体管！</font><font style="vertical-align: inherit;">我使用半桥模块，因此实现了同步升压转换器。</font><font style="vertical-align: inherit;">这些模块配备了IPP083N10N5AKSA1晶体管，其漏极-源极电压为100V，几乎提供了三倍的电压，因此可以完成任务-我们通过晶体管VT1，二极管VD1被类似的晶体管代替，因此我们也通过。</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 第4章-驱动控制代码 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于我将在另一篇文章中讨论控制算法，因此今天，转换器将由与文章中使用的讨论buck拓扑的程序相同的程序控制，您可以</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读</font><font style="vertical-align: inherit;">。在代码章节中，您可以详细了解HRPWM和ADC的初始化以及它们的同步。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码的更改仅发生在一个位置，即发生在具有ADC的中断处理程序中-更改了截止阈值，因为我使用了不同的分压器。好吧，我更正了这种情况，以便没有过多的过冲：</font></font><br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ADC1_2_IRQHandler</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ ADC2-&gt;ISR |= ADC_ISR_EOC; adcResult = ADC2-&gt;DR; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (adcResult &gt;= <span class="hljs-number"><span class="hljs-number">3400</span></span>) { dutyControl = dutyControl - <span class="hljs-number"><span class="hljs-number">10</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { dutyControl = dutyControl + <span class="hljs-number"><span class="hljs-number">10</span></span>; } SetDutyTimerA(dutyControl); }</code> </pre> <br> 您将在本文结尾找到作为存档的TrueSTUDIO的源项目。 现在已经分解了转换器的工作原理，已经计算了所有组件，有了控制程序，您可以开始组装布局并测试其可操作性和结果的正确性。 <br><br><h2> 第5章-组装布局并测试转换器的操作 </h2><br> 我们进入最有趣，最丰富多彩的阶段，即布局的组装和性能验证。 在本文的开头，我提到了降压和升压拓扑之间的关系，现在让我们对其进行分析，因为 在半桥模块上，这一点非常清楚。 首先，让我们看一下降压转换器电路： <br><br><img src="https://habrastorage.org/webt/b1/s7/ab/b1s7abpezg5tbhf55raodsnlojs.png"><br><br> 绿色框突出显示了安装在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">半桥电源模块</a>上的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">组件</a> ，您可以在此处看到C1充当输入电容，电容器C2充当输出。 现在让我们画一个升压转换器电路： <br><br><img src="https://habrastorage.org/webt/ym/l3/kv/yml3kv4-9do0mmn3lmjcay89dq4.png"><br><br> 谁在注意并注意到发生了什么变化？ 是的，原则上没有任何变化，奇怪的是，唯一的区别是输入和输出的位置已更改。 如您所见，拓扑本身是相同的，并且由此产生了另一个有趣的属性-如果应用了同步拓扑，则该转换器可以用作双向转换器！ <br><br> 一个例子？ 容易！ 想象一下带有USB和锂离子电池的便携式设备。 连接USB后，转换器将以降压模式工作并为电池充电，一旦断开USB电缆的连接，转换器便进入升压模式，并将其从5V提升至5V，从而为设备供电。 好酷！ 在许多类似的任务中，此功能很有用。 <br><br> 我按照第二种方案组装了布局，其中电容器C1只是输出电容，也就是说，它已经安装好了，足以在我们制作的模块和输入电容上加上扼流圈。 在输入电容C2的作用下，我使用了4700μF25V的一对电解电容器，最后得到了功率单元的以下模型： <br><br><img src="https://habrastorage.org/webt/nv/cu/uh/nvcuuhkvutb9xxzs9gtenjpjk6m.jpeg"><br><br> 现在，我们将控制模块和电源连接到电源部分，在本例中为实验室电源： <br><br><img src="https://habrastorage.org/webt/0d/tn/mj/0dtnmjyjclef4h_97empgvf9au4.jpeg"><br><br> 现在我们将固件填充到微控制器中，由实验室技术人员供电，在45,000中设置填充因子30,000，根据我们的公式将输入电压提高3倍：V <sub>out</sub> = 12V /（1-0.66）= 12 / 0.33 = 36， 36B。 之后，我们看到灯亮着： <br><br><img src="https://habrastorage.org/webt/ck/vz/8z/ckvz8zcf3po3urc9tcukbmgm_kc.jpeg"><br><br> 现在，我们将示波器连接到相同的点，并看到以下结果： <br><br><img src="https://habrastorage.org/webt/rw/ur/hr/rwurhrcwcrib1ouyud7u-b-tbj4.png"><br><br> 如您所见，该设备正常工作：电压实际上增加了3倍，输入功耗约为60瓦（ <b>是的，我知道灯泡需要36V“变化”</b> ），灯泡本身消耗的电流为1.61A。为清楚起见，我将播放一段简短的视频： <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dBlJLapveds" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 仍然需要找出在这些条件下转换器会发热多少。 我建议将过热降到最低，因为 一切均已正确计算，并且组件的边缘留有余量，因此他将换能器放置在温度约为+ 10 <sup>o</sup> C的环境中，以增强温度场的对比度。 <br><br>  <u>测试的方法很简单，包括三个阶段：</u> <br><br><ul><li> 我将转换器放置在温度为+10 <sup>o</sup> C的环境中，并等待其冷却并在一般背景下在热像仪中变得几乎无法分辨； </li><li> 我打开转换器，让它工作5分钟，然后测量转换器的总体外观，并分别测量电源组件； </li><li> 我将转换器再工作1个小时，然后再次测量，看看组件的温度已经升高了多少。 </li></ul><br> 经过该实验后，将有可能得出关于在连续运行模式下运行转换器的可能性的近似结论，并了解器件相对于环境温度的过热情况，这将有可能预测器件在较高环境温度下的行为。 因此，让我们开始吧： <br><br><ul><li>  1号测量-传感器放置在温度约为+ 10 <sup>o</sup> C的环境中： <br><br><img src="https://habrastorage.org/webt/va/rp/un/varpunaiee-asiltohzocpchbpi.png"><br><br> 可以看出，这些板几乎与环境完全融合在一起，这意味着您可以打开电源并开始评估已经在额定负载下的转换器温度。 <br></li><li> 测量2-转换器在100％额定负载下运行5分钟，环境温度约为+10 <sup>o</sup> C： <br><br><img src="https://habrastorage.org/webt/as/6s/kf/as6skfsi2gukesgvdecdouk8uuo.png"><br><br> 运行5分钟后，图片变得更加鲜明，并且清楚地显示了转换器本身和主要的加热组件。 对于温度为+29 o的晶体管驱动器，过热的记录保持器变成了隔离的dc / dc，但是那里没有什么奇怪的，因为 过热温度标称值为+20 ... 30 o，在文档中有所反映。 第二个地方是一个扼流圈，其温度为+28 ... 29 o，这是很好的，因为 通常，扼流圈的工作情况可以很好地达到+80 ... 100 o.散热器的温度为+20 ... 21 o，而晶体管的温度只是更高，甚至更低，因为 实际上，任何热像仪都不是世界上最精确的设备。 <br></li><li>  3号测量-转换器在100％额定负载下运行1小时，环境温度约为+ 10 <sup>o</sup> C： <br><br><img src="https://habrastorage.org/webt/gm/ti/v9/gmtiv9bnozogonfwc0twjgilpnw.png"><br><br> 运行一个小时后，温度升高并稳定下来，我尝试在3个小时后进行测量，但是结果没有改变，或者说是在测量误差水平上改变了，因此我没有添加此阶段。 同时，让我们看一下转换器在标称模式下<s>达到巡航速度</s>后的温度。 <br><br> 散热器的温度上升了+4 <sup>o</sup> C，晶体管与之“融合”，因为 一切都变热了，热流均匀分布。 隔离的dc / dc上的温度上升了+9 o，甚至达到了过热程度，甚至达到了几度。 节气门温度升高+3 <sup>oC</sup> 。 <br></li></ul><br> 让我们总结一下...晶体管的温度是正常的，这意味着损耗很惨，电源模块本身正常工作，没有直通电流，晶体管的安装没有问题，顺便说一下，它们位于一滴MX-4导热膏中的陶瓷基板上，您不需要添加很多膏-会更糟。 <br><br> 电感器的温度也是正常的，这意味着电感值已正确计算，并且还适当地使用了铁芯尺寸<s>，裕度为5倍:)）</s> ，也就是说，它不会饱和并且绕组不会因电流密度的电流值而过热。 <br><br><div class="spoiler">  <b class="spoiler_title">奖金好奇</b> <div class="spoiler_text"> 将灯泡放在热像仪中:)） <br><br><img src="https://habrastorage.org/webt/14/bp/0c/14bp0c7_dq6wkozr_a9-aby73pc.png"><br></div></div><br><h2> 结论 </h2><br> 今天，我研究了转换器的下一种拓扑结构，希望该材料对于开发传统的和由DSP控制的升压转换器都将对您有用。 下次我打算讨论全桥或全桥的同等流行且也许是最有用的拓扑时，我将讨论变压器的计算及其制造方法。 <br><br> 在支持创建本文的材料方面，传统上，我要感谢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PCBway</a>公司，该公司为我的电路板和模板为我创建布局提供了便利。 <br><br><img src="https://habrastorage.org/webt/5n/sz/_3/5nsz_35l_pc85vd_lgj92wk0puu.jpeg"><br><br> 最重要的是，电源模块，控制板的源代码和代码本身照常提供给所有人。 到目前为止，仅以存档的形式，如何获得使用权，您最终需要在github上建立一个存储库。 <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Altium Designer电源模块源代码设计和PDF文档</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Altium Designer中控制模块的源项目以及PDF中的文档</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">TrueSTUDIO中的STM32F334R8T6项目</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN442374/">https://habr.com/ru/post/zh-CN442374/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN442362/index.html">作为我生命中的第三次，我第一次看到一个热成像仪并把它握在手中</a></li>
<li><a href="../zh-CN442364/index.html">Snom M300 Base DECT站和M215套件概述</a></li>
<li><a href="../zh-CN442366/index.html">游戏声音伴奏的功能和任务是什么</a></li>
<li><a href="../zh-CN442370/index.html">从“ node_modules”文件夹中延迟加载功能模块</a></li>
<li><a href="../zh-CN442372/index.html">在语言环境中进行可靠的编程。 第2部分-挑战者</a></li>
<li><a href="../zh-CN442376/index.html">零售地块密度</a></li>
<li><a href="../zh-CN442378/index.html">在Booking com界面中单击一下可能会破坏假期或为什么工作评分系统很重要</a></li>
<li><a href="../zh-CN442380/index.html">排序混乱</a></li>
<li><a href="../zh-CN442384/index.html">扩展标准音频系统的功能</a></li>
<li><a href="../zh-CN442386/index.html">Thymeleaf：方言布局+ Spring Boot 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>