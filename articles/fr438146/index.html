<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙇🏻 🧒 🏴‍☠️ Nous mettons les lignes dans les paramètres du modèle 👠 🚣🏽 🏤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le C ++ moderne nous a apporté un tas de fonctionnalités qui faisaient cruellement défaut dans le langage. Afin d'obtenir en quelque sorte un effet si...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous mettons les lignes dans les paramètres du modèle</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438146/"> Le C ++ moderne nous a apporté un tas de fonctionnalités qui faisaient cruellement défaut dans le langage.  Afin d'obtenir en quelque sorte un effet similaire, de superbes béquilles ont été inventées pendant longtemps, principalement composées de très grands couvre-pieds de motifs et de macros (souvent également autogènes).  Mais maintenant, de temps en temps, un besoin se fait sentir d'opportunités qui ne sont pas encore dans la langue.  Et nous recommençons à réinventer des conceptions complexes à partir de modèles et de macros, à les générer et à obtenir le comportement dont nous avons besoin.  C'est juste une telle histoire. <br><br>  Au cours du dernier semestre, j'ai eu deux fois besoin de valeurs pouvant être utilisées dans les paramètres du modèle.  Dans le même temps, je voulais avoir des noms lisibles par l'homme pour ces valeurs et exclure la nécessité de déclarer ces noms à l'avance.  Les tâches spécifiques que j'ai résolues étaient un problème distinct, peut-être plus tard j'écrirai des articles séparés à leur sujet, quelque part dans le hub de «programmation anormale».  Je vais maintenant parler de l'approche par laquelle j'ai résolu ce problème. <br><a name="habracut"></a><br>  Ainsi, en ce qui concerne les paramètres du modèle, nous pouvons utiliser soit le type soit la valeur de constante statique.  Pour la plupart des tâches, c'est plus que suffisant.  Nous voulons utiliser des identificateurs lisibles par l'homme dans les paramètres - nous déclarons la structure, l'énumération ou la constante et les utilisons.  Les problèmes commencent lorsque nous ne pouvons pas déterminer cet identifiant à l'avance et que nous voulons le faire sur place. <br><br>  Il serait possible de déclarer une structure ou une classe directement dans le paramètre de modèle.  Cela fonctionnera même si le modèle ne fait rien avec ce paramètre qui nécessite une description complète de la structure.  De plus, nous ne pouvons pas contrôler l'espace de noms dans lequel une telle structure est déclarée.  Et les substitutions de modèles d'apparence complètement identique se transformeront en un code complètement différent si ces lignes se trouvent dans des classes ou des espaces de noms voisins. <br><br>  Vous devez utiliser des littéraux, et de tous les littéraux en C ++, seuls un littéral de caractère et un littéral de chaîne peuvent être appelés lisibles.  Mais un littéral de caractères est limité à quatre caractères (lors de l'utilisation de char32_t), et un littéral de chaîne est un tableau de caractères et sa valeur ne peut pas être transmise aux paramètres du modèle. <br><br>  Il se révèle une sorte de cercle vicieux.  Vous devez soit déclarer quelque chose à l'avance, soit utiliser des identifiants gênants.  Essayons d’obtenir la langue à laquelle elle n’est pas adaptée.  Et si vous implémentiez une macro qui rendrait quelque chose approprié pour une utilisation dans les arguments de modèle à partir d'un littéral de chaîne? <br><br><h4>  Faisons la structure de la chaîne </h4><br>  Commençons par créer la base de la chaîne.  En C ++ 11, des arguments de modèle variadic sont apparus. <br>  Nous déclarons une structure qui contient des caractères de chaîne dans les arguments: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>... Chars&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">{</span></span>};</code> </pre> <br>  <a href="">github</a> <br><br>  Ça marche.  Nous pouvons même utiliser immédiatement ces lignes comme ceci: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> {</span></span>}; Foo&lt;String&lt;<span class="hljs-string"><span class="hljs-string">'B'</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'r'</span></span>&gt;&gt; foo;</code> </pre><br><h4>  Faites maintenant glisser cette ligne dans le runtime </h4><br>  Super.  Il ne serait pas mauvais de pouvoir obtenir la valeur de cette chaîne lors de l'exécution.  Soit une structure de modèle supplémentaire qui extraira les arguments d'une telle chaîne et en fera une constante: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Get</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>... Chars&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Get</span></span></span><span class="hljs-class">&lt;String&lt;Chars...&gt;&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constexpr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> value[] = { Chars... }; };</code> </pre><br>  Cela fonctionne également.  Puisque nos lignes ne contiennent pas '\ 0' à la fin, vous devez soigneusement travailler avec cette constante (il est préférable, à mon avis, de créer immédiatement une chaîne_vue en utilisant la constante et la taille de celle-ci dans les arguments du constructeur).  On pourrait simplement ajouter «\ 0» à la fin du tableau, mais ce n'est pas nécessaire pour mes tâches. <br><br><h4>  Vérifiez que nous pouvons manipuler de telles chaînes </h4><br>  D'accord, que pouvez-vous faire d'autre avec de telles cordes?  Par exemple, concaténer: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">A</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">B</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Concatenate</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>... Chars, <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>... ExtraChars...&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Concatenate</span></span></span><span class="hljs-class">&lt;String&lt;Chars...&gt;, String&lt;ExtraChars...&gt;&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> type = String&lt;Chars..., ExtraChars...&gt;; };</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github</a> <br><br>  En principe, vous pouvez faire plus ou moins n'importe quelle opération (je ne l'ai pas essayé, car je n'en ai pas besoin, mais je ne peux qu'imaginer comment vous pouvez rechercher une sous-chaîne ou même remplacer une sous-chaîne). <br>  Nous avons maintenant la question principale, comment extraire des caractères d'un littéral de chaîne au moment de la compilation et les mettre dans les arguments du modèle. <br><br><h4>  <s>Dessinez le hibou et</s> écrivez une macro. </h4><br>  Commençons par un moyen de mettre les caractères dans les arguments du modèle un par un: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">char</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">c</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PushBackCharacter</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>... Chars, <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> c&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PushBackCharacter</span></span></span><span class="hljs-class">&lt;String&lt;Chars...&gt;, c&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> type = String&lt;Chars..., c&gt;; }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>... Chars&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PushBackCharacter</span></span></span><span class="hljs-class">&lt;String&lt;Chars...&gt;, '\0'&gt; {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> type = String&lt;Chars...&gt;; };</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github</a> <br><br>  J'utilise une spécialisation distincte pour le caractère '\ 0', afin de ne pas l'ajouter à la chaîne utilisée.  En outre, cela simplifie quelque peu les autres parties de la macro. <br><br>  La bonne nouvelle est qu'un littéral de chaîne peut être un paramètre de la fonction constexpr.  Nous allons écrire une fonction qui retournera un caractère par index dans une chaîne ou '\ 0' si la chaîne est plus courte que l'index (ici la spécialisation PushBackCharacter pour le caractère '\ 0' est très pratique). <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> N&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CharAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> (&amp;s)[N], </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">size_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> i &lt; N ? s[i] : <span class="hljs-string"><span class="hljs-string">'\0'</span></span>; }</code> </pre><br>  Fondamentalement, nous pouvons déjà écrire quelque chose comme ça: <br><br><pre> <code class="cpp hljs">PushBackCharacter&lt; PushBackCharacter&lt; PushBackCharacter&lt; PushBackCharacter&lt; String&lt;&gt;, CharAt(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) &gt;::type, CharAt(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) &gt;::type, CharAt(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) &gt;::type, CharAt(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) &gt;::type</code> </pre><br>  Nous avons mis un tel footcloth, mais plus authentique (nous pouvons écrire des scripts pour générer du code) à l'intérieur de notre macro, et c'est tout! <br><br>  Il y a une nuance.  Si le nombre de caractères dans la ligne est supérieur aux niveaux d'imbrication dans la macro, la ligne sera simplement coupée et nous ne le remarquerons même pas.  Le désordre. <br><br>  Faisons une structure de plus, qui ne convertit en aucun cas la chaîne qui y parvient, mais fait static_assert pour que sa longueur ne dépasse pas une constante: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _NUMBER_TO_STR(n) #n #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> NUMBER_TO_STR(n) _NUMBER_TO_STR(n) template </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;class String, size_t size&gt; struct LiteralSizeLimiter { using type = String; static_assert(size &lt;= MAX_META_STRING_LITERAL_SIZE, "at most " NUMBER_TO_STR(MAX_META_STRING_LITERAL_SIZE) " characters allowed for constexpr string literal"); }; #undef NUMBER_TO_STR #undef _NUMBER_TO_STR</span></span></span></span></code> </pre><br>  Eh bien, la macro ressemblera à ceci: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAX_META_STRING_LITERAL_SIZE 256 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> STR(literal) \ ::LiteralSizeLimiter</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt; \ ::PushBackCharacter&lt; \ ... \ ::PushBackCharacter&lt; \ ::String&lt;&gt; \ , ::CharAt(literal, 0)&gt;::type \ ... \ , ::CharAt(literal, 255)&gt;::type \ , sizeof(literal) - 1&gt;::type</span></span></span></span></code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github</a> <br><br><h4>  Il s'est avéré </h4><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">S</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">std</span></span></span><span class="hljs-class">:</span></span>:<span class="hljs-function"><span class="hljs-function">string_view </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::string_view(Get&lt;S&gt;::value, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(Get&lt;S&gt;::value)); } <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; GetContent&lt;STR(<span class="hljs-string"><span class="hljs-string">"Hello Habr!"</span></span>)&gt;() &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;</code> </pre><br>  L'implémentation que j'ai obtenue se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">trouve sur le github</a> . <br><br>  Il serait très intéressant pour moi d'entendre parler des applications possibles de ce mécanisme, différentes de celles que j'ai imaginées. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr438146/">https://habr.com/ru/post/fr438146/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr438134/index.html">Installation de systèmes de vidéosurveillance: belles et malheureuses histoires avec des caméras</a></li>
<li><a href="../fr438136/index.html">Consentement au traitement des données RGPD: analyse détaillée</a></li>
<li><a href="../fr438138/index.html">Anatomie du faucon</a></li>
<li><a href="../fr438142/index.html">Industrie automobile moderne. Voitures électriques - perturbation</a></li>
<li><a href="../fr438144/index.html">Comment nous avons accéléré le travail avec les paramètres de configuration du système frontal</a></li>
<li><a href="../fr438148/index.html">Google doit diviser</a></li>
<li><a href="../fr438150/index.html">Comment fabriquer un lot de baskets uniques en Chine</a></li>
<li><a href="../fr438152/index.html">«Je peux vous parler de la douleur que chaque développeur iOS a dans le cul» - 10 questions à un développeur, épisode 2</a></li>
<li><a href="../fr438158/index.html">Les courtiers de données américains vendent des données de localisation sans le consentement de l'utilisateur - leur travail sera réglementé</a></li>
<li><a href="../fr438162/index.html">Le tuple d'une personne en bonne santé</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>