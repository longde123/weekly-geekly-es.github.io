<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🔧 🚠 🕌 Drei häufige Sicherheitsfehler, über die jeder Reaktionsentwickler Bescheid wissen sollte 🔤 👿 🐟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Autorin des Artikels, dessen Übersetzung wir heute veröffentlichen, sagt, dass React ihre Lieblingsbibliothek für die Erstellung interaktiver Schn...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Drei häufige Sicherheitsfehler, über die jeder Reaktionsentwickler Bescheid wissen sollte</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/467255/">  Die Autorin des Artikels, dessen Übersetzung wir heute veröffentlichen, sagt, dass React ihre Lieblingsbibliothek für die Erstellung interaktiver Schnittstellen ist.  React ist sowohl einfach zu bedienen als auch ziemlich gut geschützt.  Dies bedeutet jedoch nicht, dass React-Anwendungen vollständig unverwundbar sind.  Es ist sehr leicht, in ungerechtfertigte Ruhe zu geraten, nachdem Sie entschieden haben, dass Sie sich keine Sorgen über XSS-Angriffe machen können, da das Projekt React verwendet. <br><br>  Sicherheitslücken in React treten am häufigsten auf, wenn ein Entwickler glaubt, die Schutzmechanismen dieser Bibliothek zu verwenden, obwohl sich herausstellt, dass dies nicht der Fall ist.  Daher ist es wichtig, die Funktionen von React richtig zu bewerten und zu wissen, welche Aufgaben ein Programmierer selbst lösen muss. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/vf/z6/rm/vfz6rmkdzpvv0rrzq6__0rozngw.jpeg"></a> <br><br>  Heute werden wir über typische React-Schwachstellen sprechen, wie man sie während einer Codeüberprüfung findet und wie man sich gegen sie verteidigt. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Erstes (sehr kurzes) Cross-Site-Scripting-Beispiel</font> </h2><br>  Cross Site Scripting (XSS) ist eine Client-Sicherheitsanfälligkeit, die zu schwerwiegenden Problemen führen kann.  XSS-Angriffe treten auf, wenn ein Angreifer eine Website austricksen und dazu zwingen kann, beliebigen JavaScript-Code in den Browsern seiner Benutzer auszuführen. <br><br>  Der reflektierte XSS-Angriff wird über einen Link ausgeführt, der Textinformationen enthält, die vom Browser in Form von Code verarbeitet werden.  Dies ist beispielsweise ein Formularfeld, in das auf der Clientseite ein spezieller Anforderungstext eingegeben wird. <br><br>  Ein gespeicherter XSS-Angriff ist eine Situation, in der ein Angreifer Zugriff auf den Server hat und wenn der auf dem Server ausgeführte Code generiert, was auf die Webseite des Clients gelangt.  Typische Vektoren solcher Angriffe sind das Hochladen von Kommentaren und Bildern auf Server. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Samy</a> Wurm hat die Sicherheitsanfälligkeit in MySSpace XSS ausgenutzt.  Es war eines der am schnellsten verbreiteten Viren aller Zeiten. <br><br>  Anfällige Websites können ihre Benutzer dem Diebstahl von Passwörtern oder persönlichen Daten aussetzen.  Und dies ist die übliche Art, andere Schwachstellen auszunutzen.  Schädliche Skripte werden am häufigsten verwendet, um Spam zu senden und Benutzer auf betrügerische Websites umzuleiten.  Dies kann den Ruf und die SEO-Leistung einer erfolgreich angegriffenen Website beeinträchtigen. <br><br><h2>  <font color="#3AC1EF">Sicherheitsanfälligkeit Nr. 1: Kontrolle über den Anfangszustand der Seite, der beim Rendern des Servers verwendet wird</font> </h2><br>  Wenn wir den Anfangszustand einer Seite bilden, erstellen wir manchmal, was gefährlich ist, ein Dokument basierend auf einer JSON-Zeichenfolge.  Diese Sicherheitsanfälligkeit im Code sieht ungefähr so ​​aus: <br><br><pre><code class="javascript hljs">&lt;script&gt;<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.__STATE__ = ${<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify({ data })}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/script&gt;</span></span></code> </pre> <br>  Dies ist gefährlich, da die <code>JSON.stringify()</code> -Methode, ohne an etwas zu „denken“, alle ihr bereitgestellten Daten in Zeichenfolgenform konvertiert (sofern es sich um gültige JSON-Daten handelt) wird auf der Seite angezeigt.  Wenn <code>{ data }</code> Felder enthält, die ein nicht vertrauenswürdiger Benutzer bearbeiten kann, z. B. einen Benutzernamen oder Benutzerinformationen, kann Folgendes in solche Felder eingebettet werden: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">username</span></span>: <span class="hljs-string"><span class="hljs-string">"pwned"</span></span>, <span class="hljs-attr"><span class="hljs-attr">bio</span></span>: <span class="hljs-string"><span class="hljs-string">"&lt;/script&gt;&lt;script&gt;alert('XSS Vulnerability!')&lt;/script&gt;"</span></span> }</code> </pre> <br>  Dieses Muster wird häufig beim serverseitigen Rendern von React-Anwendungen verwendet, die Redux verwenden.  Er war in der offiziellen Redux-Dokumentation vertreten, weshalb viele Tutorials und Beispielanwendungsvorlagen, die auf GitHub zu finden sind, diese weiterhin verwenden. <br><br>  Glaubst du nicht?  Dann überzeugen Sie sich selbst.  Durchsuchen Sie Google nach dem Text "Reagieren Sie auf einer serverseitigen Rendering-Beispiel-App" und versuchen Sie diesen Angriff auf eines der Suchergebnisse auf der ersten Seite. <br><br><h3>  <font color="#3AC1EF">▍ Identifizierung der Sicherheitsanfälligkeit während der Codeüberprüfung</font> </h3><br>  Suchen Sie nach Aufrufen der <code>JSON.stringify()</code> -Methode, die Variablen akzeptieren, die möglicherweise nicht vertrauenswürdige Daten im <code>script</code> Tag enthalten.  Hier ist ein Beispiel, das früher in der Redux-Dokumentation enthalten war: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">renderFullPage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">html, preloadedState</span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`        &lt;!doctype html&gt;        &lt;html&gt;            &lt;head&gt;                &lt;title&gt;Redux Universal Example&lt;/title&gt;            &lt;/head&gt;            &lt;body&gt;                &lt;div id="root"&gt;</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${html}</span></span></span><span class="hljs-string">&lt;/div&gt;                &lt;script&gt;                    window.__PRELOADED_STATE__ = </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">JSON</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.stringify(preloadedState)}</span></span></span><span class="hljs-string">                &lt;/script&gt;                &lt;script src="/static/bundle.js"&gt;&lt;/script&gt;            &lt;/body&gt;        &lt;/html&gt;        `</span></span> }</code> </pre> <br>  Und hier ist ein Teil des Codes aus der Beispielanwendung auf GitHub: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">htmlTemplate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> reactDom, reduxState, helmetData </span></span></span><span class="hljs-function">) </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`    &lt;!DOCTYPE html&gt;    &lt;html&gt;    &lt;head&gt;        &lt;meta charset="utf-8"&gt;        </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ helmetData.title.toString( ) }</span></span></span><span class="hljs-string">        </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ helmetData.meta.toString( ) }</span></span></span><span class="hljs-string">        &lt;title&gt;React SSR&lt;/title&gt;        &lt;link rel="stylesheet" type="text/css" href="./styles.css" /&gt;    &lt;/head&gt;       &lt;body&gt;        &lt;div id="app"&gt;</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ reactDom }</span></span></span><span class="hljs-string">&lt;/div&gt;        &lt;script&gt;            window.REDUX_DATA = </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ </span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">JSON</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.stringify( reduxState ) }</span></span></span><span class="hljs-string">        &lt;/script&gt;        &lt;script src="./app.bundle.js"&gt;&lt;/script&gt;    &lt;/body&gt;    &lt;/html&gt;    `</span></span>;   }</code> </pre> <br>  Manchmal ist es etwas schwieriger, diese Sicherheitsanfälligkeit zu finden.  Der folgende Code wird sich ebenfalls als unsicher herausstellen - wenn das korrekte <code>context.data</code> von <code>context.data</code> nicht ausgeführt wird: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> RenderedApp = htmlData.replace(<span class="hljs-string"><span class="hljs-string">'{{SSR}}'</span></span>, markup)    .replace(<span class="hljs-string"><span class="hljs-string">'&lt;meta-head/&gt;'</span></span>, headMarkup)    .replace(<span class="hljs-string"><span class="hljs-string">'{{data}}'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">ArrayBuffer</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(context.data)).toString(<span class="hljs-string"><span class="hljs-string">'base64'</span></span>))</code> </pre> <br>  Achten Sie beim serverseitigen Rendern darauf, was genau gerendert wird.  Wenn das, was der Benutzer eingibt, nicht ordnungsgemäß abgeschirmt und im DOM angezeigt wird, kann dies gefährlich sein. <br><br><h3>  <font color="#3AC1EF">▍ Schutz</font> </h3><br>  Eine der Optionen zum Schutz vor dieser Sicherheitsanfälligkeit ist die Verwendung des <code>serialize-javascript</code> PMM-Moduls, das den JSON-Ausgang abschirmt.  Wenn Sie das Server-Rendering in einer Umgebung ausführen, die nicht von Node.js stammt, müssen Sie das für Ihre Sprache geeignete Paket auswählen. <br><br>  Hier ist der Befehl zum Installieren des Moduls: <br><br><pre> <code class="javascript hljs">$ npm install --save serialize-javascript</code> </pre> <br>  Danach müssen Sie es in eine Datei importieren und zuvor anfälligen Code für <code>window</code> folgt neu schreiben: <br><br><pre> <code class="javascript hljs">&lt;script&gt;<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.__STATE__ = ${ serialize( data, { <span class="hljs-attr"><span class="hljs-attr">isJSON</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } ) }&lt;<span class="hljs-regexp"><span class="hljs-regexp">/script&gt;</span></span></code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist ein</a> großartiger Artikel zu diesem Thema. <br><br><h2>  <font color="#3AC1EF">Sicherheitslücke №2: heimtückische Links</font> </h2><br>  Das <code>&lt;a&gt;</code> -Tag kann das <code>href</code> Attribut haben, das einen Link zu einer anderen Seite der Site, zu einer anderen Site oder zu einer Stelle auf der aktuellen Seite enthält.  Links können Skripte enthalten, die ungefähr so ​​aussehen: <code>javascript: stuff()</code> .  Wenn Sie diese HTML-Funktion nicht kennen, probieren Sie sie jetzt aus, indem Sie den folgenden Code in die Browserzeile kopieren: <br><br><pre> <code class="javascript hljs">data:text/html, &lt;a href=<span class="hljs-string"><span class="hljs-string">"javascript: alert('hello from javascript!')"</span></span> &gt;click me&lt;<span class="hljs-regexp"><span class="hljs-regexp">/a&gt;</span></span></code> </pre> <br>  Für Webentwickler bedeutet dies, dass der Angreifer diesen Daten schädlichen Code hinzufügen kann, der mit <code>javascript:</code> beginnt, wenn der Inhalt von Links auf der Grundlage der vom Benutzer eingegebenen Daten festgelegt wird.  Wenn der Benutzer dann auf einen fehlerhaften Link klickt, wird im Browser ein Angreiferskript gestartet. <br><br>  Diese Sicherheitsanfälligkeit ist definitiv nicht nur für React charakteristisch, sondern auch eines der Probleme, auf die React-Entwickler häufig stoßen, wenn sie erwarten, dass der entsprechende Wert automatisch korrekt maskiert wird.  Es sollte beachtet werden, dass dieses Problem in einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zukünftigen</a> Version von React weniger akut sein wird. <br><br><h3>  <font color="#3AC1EF">▍ Identifizierung der Sicherheitsanfälligkeit während der Codeüberprüfung</font> </h3><br>  Können Projektbenutzer Links zu Seiten hinzufügen, auf die andere Benutzer klicken können?  Wenn ja, fügen Sie der Seite einen „Link“ wie folgt hinzu: <br><br><pre> <code class="javascript hljs">javascript: alert(<span class="hljs-string"><span class="hljs-string">"You are vulnerable to XSS!"</span></span>)</code> </pre> <br>  Wenn das entsprechende Meldungsfeld durch Klicken auf den Link angezeigt wird, bedeutet dies, dass das Projekt für XSS-Angriffe anfällig ist.  Versuchen Sie dies überall dort, wo Sie Links hinzufügen können.  Es ist wahrscheinlich, dass nicht alle diese Orte anfällig sind. <br><br><h3>  <font color="#3AC1EF">▍ Schutz</font> </h3><br>  Der Schutz vor dieser Sicherheitsanfälligkeit eignet sich nicht nur für React-Projekte.  Was genau getan werden muss, hängt von der Anwendung ab.  Darüber hinaus müssen Sie möglicherweise Korrekturen am Server vornehmen. <br><br>  Sie könnten denken, dass es zur Lösung des Problems ausreicht, das Präfix <code>javascript:</code> aus den Daten zu entfernen.  Dies ist ein Beispiel für die Verwendung der Blacklist-Strategie, die beim <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bereinigen von Daten</a> nicht als erfolgreich angesehen werden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kann</a> .  Hacker haben geniale Möglichkeiten, solche Filter zu umgehen. Stellen Sie daher anstelle einer solchen Verschiebung (oder zusätzlich dazu) sicher, dass die Links ein Protokoll auf der Whitelist verwenden (z. B. <code>http:</code> und HTML-Entitäten maskieren.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist ein</a> ausführlicher Artikel zu diesem Thema über die Abschirmung von Eigenschaften, die ein Angreifer kontrollieren kann. <br><br>  Eine weitere Strategie, die dem Projekt eine zusätzliche Schutzstufe hinzufügen kann, besteht darin, den Mechanismus zum Öffnen benutzerdefinierter Links in neuen Browser-Registerkarten zu verwenden.  Ich würde jedoch nicht empfehlen, diese Strategie als einzige "Verteidigungslinie" des Projekts zu verwenden.  Öffnen von <code>javascript:</code> Links in einer neuen Registerkarte sind ein Beispiel für das nicht standardmäßige Verhalten von Seitenelementen.  Die meisten Browser führen das Skript in einem leeren Tab aus, ohne den Benutzer zu verletzen. Dies ist jedoch nicht garantiert, und Sie können dies wahrscheinlich umgehen, was vom Browser abhängt. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erwägen</a> Sie die Verwendung der speziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">UserLink-</a> Komponente, die dazu führt, dass das anfällige <code>&lt;a&gt;</code> -Tag in Zukunft weniger wahrscheinlich auf die Seiten Ihres Projekts gelangt.  Darüber hinaus lohnt es sich, dem Projekt einige Tests und Flusenregeln hinzuzufügen, um potenziell gefährlichen Code zu identifizieren und zu verhindern, dass er in Produktion geht. <br><br>  Links sind nicht die einzigen Entitäten, die auf diese Weise verwendet werden können.  Sie sind jedoch das wahrscheinlichste Angriffsziel in React-Anwendungen.  Jedes Element kann für diesen Angriff anfällig sein, wenn der Angreifer seinen <code>URI</code> Wert steuern kann.  Eine andere Möglichkeit, diesen Angriff auszuführen, ist beispielsweise ein Ansichtsdesign.  Eine vollständige Liste der Attribute, die URIs enthalten können, finden Sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieser</a> Liste unter Verwendung des Schlüsselworts <code>%URI</code> Verwendung der Browsersuche ( <code>Ctrl+F</code> ). <br><br><h2>  <font color="#3AC1EF">Sicherheitslücke # 3: Missverständnis der Bedeutung der Konstruktion gefährlichSetInnerHtml</font> </h2><br>  Ich bin React sehr dankbar, dass die Sicherheitswarnung direkt im Methodennamen enthalten ist.  Dies ist der Name <code>dangerouslySetInnerHTML</code> .  Trotz dieser Warnung sind wir immer noch häufig mit der Tatsache konfrontiert, dass Entwickler Risiken eingehen, indem sie unsichere Vorgänge ausführen.  Gleiches gilt für <code>eval()</code> . <br><br>  Betrachten Sie das folgende Beispiel, das ich auf der Website auf der ersten Seite der Google-Suchergebnisse gefunden habe: <br><br><pre> <code class="javascript hljs">&lt;script dangerouslySetInnerHTML={{ <span class="hljs-attr"><span class="hljs-attr">__html</span></span>: <span class="hljs-string"><span class="hljs-string">`window.__PRELOADED_STATE__ = </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">JSON</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.stringify(initialState)}</span></span></span><span class="hljs-string">;`</span></span>}}&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  Dies ist ein Beispiel für die Sicherheitsanfälligkeit Nr. 1, aber mit einer Funktion, die sofort darauf aufmerksam machen sollte, dass hier etwas nicht stimmt.  Wo ich dies fand, wurde versucht zu erklären: "Wir verwenden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gefährlich SetInnerHTML</a> als Methode zum Bereinigen von Daten und zum Verhindern von XSS-Angriffen."  Nun, nein!  Das ist nicht richtig.  Tu das nicht.  Weitere Informationen zu <code>dangerouslySetInnerHTML</code> SetInnerHTML finden Sie in der React-Dokumentation. <br><br>  Ein weiteres Beispiel dafür, dass dies tatsächlich die ganze Zeit passiert, ist die Art und Weise, wie Mitglieder desselben Teams entdeckten, dass sie eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sicherheitsanfälligkeit hatten,</a> als sie der Seite Markierung mit <code>dangerouslySetInnerHTML</code> SetInnerHTML Markup hinzufügten.  Um sich in Zukunft davor zu schützen, begannen sie, eine spezielle Flusenregel anzuwenden. <br><br><h3>  <font color="#3AC1EF">▍ Identifizierung der Sicherheitsanfälligkeit während der Codeüberprüfung</font> </h3><br>  Bevor Sie Pull-Anforderungen senden oder Zusammenführungsvorgänge ausführen, ist es hilfreich, den Code nach <code>dangerouslySetInnerHTML</code> <code>console.log</code> und <code>eval</code> Zeichenfolgen zu durchsuchen (auf diese Weise suche ich auch nach <code>console.log</code> Befehlen) oder die entsprechende Linter-Regel zu verwenden. <br><br><h3>  <font color="#3AC1EF">▍ Schutz</font> </h3><br>  Stellen Sie sicher, dass in allen Fällen, in denen die <code>dangerouslySetInnerHTML</code> verwendet wird, nur Daten auf die Seite geladen werden, denen Sie vertrauen können.  Woher wissen Sie, ob Daten vertrauenswürdig sind?  Wenn etwas nicht von Ihnen kommt, kann es eine Bedrohung sein.  Dies umfasst Daten, die von externen APIs heruntergeladen wurden, und Daten, die mit Markdown-Tools ausgegeben werden. <br><br><h2>  <font color="#3AC1EF">Hinweis zum Spoofing von Komponenten</font> </h2><br>  Im Jahr 2015 hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jemand herausgefunden,</a> dass Sie Komponenten fälschen können, indem Sie JSON an diejenigen Komponenten übergeben, die Text erwarten.  Ich konnte nur einen Fall einer Komponenten-Spoofing-Nachricht und eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lange Diskussion finden,</a> die durch diese Nachricht verursacht wurde.  Die Diskussion konzentrierte sich darauf, was React für die Verhinderung von XSS-Angriffen verantwortlich ist.  Infolgedessen haben die React-Entwickler einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fix veröffentlicht</a> , der anscheinend dazu beigetragen hat, diese Sicherheitsanfälligkeit zu beheben. <br><br>  Ich habe beschlossen, keine Geschichte über diese Sicherheitsanfälligkeit in den Artikel aufzunehmen, aber dieses Thema könnte für weitere Forschungen von Interesse sein. <br><br><h2>  <font color="#3AC1EF">SSR Hinweis</font> </h2><br>  Die Sicherheitsanfälligkeit beim Rendern von Servern ist so weit verbreitet, dass sie in der Redux-Dokumentation vorhanden war und sich daher auf viele andere Materialien verteilte.  Dieses Problem wurde 2016 behoben.  Aber auch heute, nach drei Jahren, unterrichten Anfängerführer, die über das Internet verstreut sind, immer noch, was Sie nicht unterrichten sollten. <br><br>  Übrigens, hier sind Ihre Hausaufgaben: Finden Sie ein Beispiel für dieses Problem auf GitHub und senden Sie eine Pull-Anfrage, um es zu beheben.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist ein Beispiel</a> . <br><br>  Gemeinsam können wir diese Schwachstelle ein für alle Mal beseitigen! <br><br>  <b>Liebe Leser!</b>  Sind Sie auf Angriffe auf Ihre React-Projekte gestoßen? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/it/t5/3p/itt53pns2iucwylb3bwn1fmmtnu.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de467255/">https://habr.com/ru/post/de467255/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de467245/index.html">Dmitry Matskevich, Dbrain: über Unternehmertum als geistige Behinderung, KI und emotionale Sicherheit</a></li>
<li><a href="../de467247/index.html">Eine Geschichte über V8, React und einen Leistungsabfall. Teil 1</a></li>
<li><a href="../de467249/index.html">Eine Geschichte über V8, React und einen Leistungsabfall. Teil 2</a></li>
<li><a href="../de467251/index.html">Geiseln COBOL und Math. Teil 1</a></li>
<li><a href="../de467253/index.html">Geiseln COBOL und Math. Teil 2</a></li>
<li><a href="../de467257/index.html">Lagern Sie nicht alle Eier gleichzeitig in einem Korb</a></li>
<li><a href="../de467259/index.html">DPI (SSL Inspection) widerspricht der Bedeutung von Kryptografie, wird jedoch von Unternehmen implementiert</a></li>
<li><a href="../de467261/index.html">Richtiges Einfädeln in Qt</a></li>
<li><a href="../de467263/index.html">Wir verdienen mit Solarenergie oder passivem Einkommen 25% pro Jahr, praktische Erfahrung. Teil 2</a></li>
<li><a href="../de467269/index.html">Modelle in der Informationssicherheit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>