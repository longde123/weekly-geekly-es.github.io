<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§± üö£üèº ü§ûüèæ Ajuste de los par√°metros del kernel de Linux para optimizar PostgreSQL ‚ÑπÔ∏è üë®üèº‚ÄçüöÄ üç£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El rendimiento √≥ptimo de PostgreSQL depende de los par√°metros del sistema operativo definidos correctamente. Los par√°metros del kernel del sistema ope...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ajuste de los par√°metros del kernel de Linux para optimizar PostgreSQL</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458860/"><img width="30%" align="left" src="https://habrastorage.org/webt/dy/qf/mh/dyqfmhq5wntmbisfsdahfiwc_-y.jpeg">  El rendimiento √≥ptimo de PostgreSQL depende de los par√°metros del sistema operativo definidos correctamente.  Los par√°metros del kernel del sistema operativo mal ajustados pueden degradar el rendimiento del servidor de la base de datos.  Por lo tanto, es imprescindible que estos par√°metros se configuren de acuerdo con el servidor de la base de datos y su carga de trabajo.  En esta publicaci√≥n, analizaremos algunos par√°metros importantes del kernel de Linux que pueden afectar el rendimiento del servidor de la base de datos y c√≥mo ajustarlos. <br><br><h2>  SHMMAX / SHMALL </h2><br>  <b>SHMMAX</b> es un par√°metro del n√∫cleo utilizado para determinar el tama√±o m√°ximo de un √∫nico segmento de memoria compartida que un proceso de Linux puede asignar.  Antes de la versi√≥n 9.2, PostgreSQL usaba el Sistema V (SysV), que requiere la configuraci√≥n SHMMAX.  Despu√©s de 9.2, PostgreSQL cambi√≥ a la memoria compartida POSIX.  Entonces, ahora se requieren menos bytes de memoria compartida del Sistema V. <br><br>  Antes de la versi√≥n 9.3, SHMMAX era el par√°metro de kernel m√°s importante.  El valor SHMMAX se especifica en bytes. <br><a name="habracut"></a><br>  Del mismo modo, <b>SHMALL</b> es otro par√°metro del n√∫cleo utilizado para determinar <br>  p√°ginas de memoria compartida en todo el sistema.  Use el comando <i>ipcs</i> para ver los valores actuales de SHMMAX, SHMALL o SHMMIN. <br><br>  <sup><b>Detalles de SHM * - Linux</b></sup> <br><br><pre><code class="bash hljs">$ ipcs -lm ------ Shared Memory Limits -------- max number of segments = 4096 max seg size (kbytes) = 1073741824 max total shared memory (kbytes) = 17179869184 min seg size (bytes) = 1</code> </pre> <br>  <sup><b>Detalles de SHM * - MacOS X</b></sup> <br><br><pre> <code class="bash hljs">$ ipcs -M IPC status from as of Thu Aug 16 22:20:35 PKT 2018 shminfo: shmmax: 16777216 (max shared memory segment size) shmmin: 1 (min shared memory segment size) shmmni: 32 (max number of shared memory identifiers) shmseg: 8 (max shared memory segments per process) shmall: 1024 (max amount of shared memory <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pages)</code> </pre><br>  PostgreSQL usa <b>System V IPC</b> para asignar memoria compartida.  Este par√°metro es uno de los par√°metros del n√∫cleo m√°s importantes.  Cada vez que recibe los siguientes mensajes de error, significa que tiene una versi√≥n anterior de PostgreSQL y un valor SHMMAX muy bajo.  Se espera que los usuarios ajusten y aumenten el valor de acuerdo con la memoria compartida que van a usar. <br><br><h3>  Posibles errores de configuraci√≥n incorrecta </h3><br>  Si SHMMAX no est√° configurado correctamente, puede recibir un error al intentar inicializar un cl√∫ster PostgreSQL utilizando el comando <i>initdb</i> . <br><br>  <sup><b>fallo initdb</b></sup> <br> <code>DETAIL: Failed system call was shmget(key=1, size=2072576, 03600). <br> <br> HINT: This error usually means that PostgreSQL's request for a shared memory segment exceeded your kernel's SHMMAX parameter. <br> You can either reduce the request size or reconfigure the kernel with larger SHMMAX. To reduce the request size (currently 2072576 bytes), <br> reduce PostgreSQL's shared memory usage, perhaps by reducing shared_buffers or max_connections. <br> <br> If the request size is already small, it's possible that it is less than your kernel's SHMMIN parameter, <br> in which case raising the request size or reconfiguring SHMMIN is called for. <br> <br> The PostgreSQL documentation contains more information about shared memory configuration. child process exited with exit code 1</code> <br> <br>  Del mismo modo, puede recibir un error al iniciar el servidor PostgreSQL utilizando el comando <i>pg_ctl</i> . <br><br>  <sup><b>falla pg_ctl</b></sup> <br> <code>DETAIL: Failed system call was shmget(key=5432001, size=14385152, 03600). <br> <br> HINT: This error usually means that PostgreSQL's request for a shared memory segment exceeded your kernel's SHMMAX parameter. <br> <br> You can either reduce the request size or reconfigure the kernel with larger SHMMAX.; To reduce the request size (currently 14385152 bytes), reduce PostgreSQL's shared memory usage, perhaps by reducing shared_buffers or max_connections. <br> <br> If the request size is already small, it's possible that it is less than your kernel's SHMMIN parameter, <br> in which case raising the request size or reconfiguring SHMMIN is called for. <br> <br> The PostgreSQL documentation contains more information about shared memory configuration.</code> <br> <br><h3>  Comprender las diferencias en las definiciones </h3><br>  La definici√≥n de los par√°metros SHMMAX / SHMALL es ligeramente diferente en Linux y MacOS X: <br><br><ul><li>  Linux: kernel.shmmax, kernel.shmall </li><li>  MacOS X: kern.sysv.shmmax, kern.sysv.shmall </li></ul><br>  El comando <i>sysctl</i> se puede usar para cambiar temporalmente un valor.  Para establecer valores constantes, agregue una entrada en <i>/etc/sysctl.conf</i> .  Los detalles se dan a continuaci√≥n. <br><br>  <sup><b>Cambiar la configuraci√≥n del kernel en MacOS X</b></sup> <br><br><pre> <code class="plaintext hljs"># Get the value of SHMMAX sudo sysctl kern.sysv.shmmax kern.sysv.shmmax: 4096 # Get the value of SHMALL sudo sysctl kern.sysv.shmall kern.sysv.shmall: 4096 # Set the value of SHMMAX sudo sysctl -w kern.sysv.shmmax=16777216 kern.sysv.shmmax: 4096 -&gt; 16777216 # Set the value of SHMALL sudo sysctl -w kern.sysv.shmall=16777216 kern.sysv.shmall: 4096 -&gt; 16777216</code> </pre> <br>  <sup><b>Cambiar los par√°metros del kernel de Linux</b></sup> <br><br><pre> <code class="plaintext hljs"># Get the value of SHMMAX sudo sysctl kernel.shmmax kernel.shmmax: 4096 # Get the value of SHMALL sudo sysctl kernel.shmall kernel.shmall: 4096 # Set the value of SHMMAX sudo sysctl -w kernel.shmmax=16777216 kernel.shmmax: 4096 -&gt; 16777216 # Set the value of SHMALL sudo sysctl -w kernel.shmall=16777216 kernel.shmall: 4096 -&gt; 16777216</code> </pre> <br>  <sub><b>Recuerde</b> : para hacer cambios permanentes, agregue estos valores a <font color="blue">/etc/sysctl.conf</font></sub> <br><br><h2>  P√°ginas grandes (p√°ginas enormes) </h2><br>  El valor predeterminado de Linux es p√°ginas 4K, BSD usa <i>p√°ginas Super</i> y Windows usa <i>p√°ginas grandes</i> .  Una p√°gina es una porci√≥n de RAM asignada a un proceso.  Un proceso puede tener varias p√°ginas, seg√∫n los requisitos de memoria.  Cuanta m√°s memoria necesita un proceso, m√°s p√°ginas se le ha asignado.  El sistema operativo admite una tabla de asignaci√≥n de p√°ginas para procesos.  Cuanto m√°s peque√±o es el tama√±o de la p√°gina, m√°s grande es la tabla, m√°s se tarda en encontrar una p√°gina en esta tabla de p√°ginas.  Por lo tanto, las p√°ginas grandes le permiten usar una gran cantidad de memoria con una sobrecarga reducida;  menos visitas a la p√°gina, menos errores de p√°gina, operaciones de lectura / escritura m√°s r√°pidas a trav√©s de grandes memorias intermedias  El resultado es un rendimiento mejorado. <br><br>  PostgreSQL solo admite p√°ginas grandes en Linux.  De manera predeterminada, Linux usa 4 KB de p√°ginas de memoria, por lo que si tiene demasiadas operaciones de memoria, debe instalar p√°ginas m√°s grandes.  Hay una ganancia de rendimiento cuando se usan p√°ginas grandes de 2 MB y hasta 1 GB.  El tama√±o de p√°gina grande se puede establecer en el momento del arranque.  Puede verificar f√°cilmente los par√°metros de la p√°gina grande y su uso en su computadora Linux usando el comando <i>cat / proc / meminfo |</i>  <i>grep -i enorme</i> . <br><br>  <sup><b>Obtenci√≥n de informaci√≥n sobre p√°ginas grandes (solo Linux)</b></sup> <br><br><pre> <code class="bash hljs">Note: This is only <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Linux, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> other OS this operation is ignored$ cat /proc/meminfo | grep -i huge AnonHugePages:        0 kB ShmemHugePages:       0 kB HugePages_Total:      0 HugePages_Free:       0 HugePages_Rsvd:       0 HugePages_Surp:       0 Hugepagesize:      2048 kB</code> </pre> <br>  En este ejemplo, aunque el tama√±o de p√°gina grande se establece en 2048 (2 MB), el n√∫mero total de p√°ginas grandes es 0. Esto significa que las p√°ginas grandes est√°n deshabilitadas. <br><br><h3>  Script para determinar el n√∫mero de p√°ginas grandes </h3><br>  Este script simple devuelve el n√∫mero requerido de p√°ginas grandes.  Ejecute el script en su servidor Linux mientras se ejecuta PostgreSQL.  Verifique que el directorio de datos PostgreSQL est√© configurado para la variable de entorno <i>$ PGDATA</i> . <br><br>  <sup><b>Obtener el n√∫mero de p√°ginas grandes requeridas</b></sup> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash pid=`head -1 $PGDATA/postmaster.pid` echo "Pid:           $pid" peak=`grep ^VmPeak /proc/$pid/status | awk '{ print $2 }'` echo "VmPeak:          $peak kB" hps=`grep ^Hugepagesize /proc/meminfo | awk '{ print $2 }'` echo "Hugepagesize:  $hps kB" hp=$((peak/hps)) echo Set Huge Pages:    $hp</span></span></code> </pre> <br>  El resultado del script es el siguiente: <br><br>  <sup><b>Salida de script</b></sup> <br><br><pre> <code class="bash hljs">Pid:           12737 VmPeak:        180932 kB Hugepagesize:  2048 kB Set Huge Pages: 88</code> </pre> <br>  El valor recomendado para p√°ginas grandes es 88, por lo que debe establecerlo en 88. <br><br>  <sup><b>Instalar p√°ginas grandes</b></sup> <br><br><pre> <code class="bash hljs">sysctl -w vm.nr_hugepages=88</code> </pre> <br>  Verifique las p√°ginas grandes ahora, ver√° que las p√°ginas grandes no se usan (HugePages_Free = HugePages_Total). <br><br>  <sup><b>Informaci√≥n sobre p√°ginas grandes nuevamente (solo Linux)</b></sup> <br><br><pre> <code class="bash hljs">$ cat /proc/meminfo | grep -i huge AnonHugePages:        0 kB ShmemHugePages:       0 kB HugePages_Total:     88 HugePages_Free:      88 HugePages_Rsvd:       0 HugePages_Surp:       0 Hugepagesize:      2048 kB</code> </pre> <br>  Ahora configure huge_pages "on" en $ PGDATA / postgresql.conf y reinicie el servidor. <br><br>  <sup><b>Y nuevamente, informaci√≥n sobre p√°ginas grandes (solo Linux)</b></sup> <br><br><pre> <code class="bash hljs">$ cat /proc/meminfo | grep -i huge AnonHugePages:        0 kB ShmemHugePages:       0 kB HugePages_Total:     88 HugePages_Free:      81 HugePages_Rsvd:       64 HugePages_Surp:       0 Hugepagesize:      2048 kB</code> </pre> <br>  Ahora puede ver que se utilizan muy pocas p√°ginas grandes.  Ahora intentemos agregar algunos datos a la base de datos. <br><br>  <sup><b>Algunas operaciones de bases de datos para reciclar p√°ginas grandes</b></sup> <br><br><pre> <code class="sql hljs">postgres=<span class="hljs-comment"><span class="hljs-comment"># CREATE TABLE foo(a INTEGER); CREATE TABLE postgres=# INSERT INTO foo VALUES(generate_Series(1,10000000)); INSERT 0 10000000</span></span></code> </pre> <br>  Veamos si usamos p√°ginas m√°s grandes ahora que antes. <br><br>  <sup><b>Una vez m√°s informaci√≥n en p√°ginas grandes (solo Linux)</b></sup> <br><br><pre> <code class="bash hljs">$ cat /proc/meminfo | grep -i huge AnonHugePages:        0 kB ShmemHugePages:       0 kB HugePages_Total:     88 HugePages_Free:      18 HugePages_Rsvd:       1 HugePages_Surp:       0 Hugepagesize:      2048 kB</code> </pre> <br>  Ahora puede ver que la mayor√≠a de las p√°ginas grandes est√°n en uso. <br><br>  <sub>Nota: el valor aproximado para HugePages utilizado aqu√≠ es muy bajo, lo que no es un valor normal para una m√°quina en un entorno alimentario.</sub>  <sub>Eval√∫e el n√∫mero requerido de p√°ginas para su sistema y config√∫relas en funci√≥n de la carga y los recursos.</sub> <br><br><h3>  vm.swappiness </h3><br>  <b>vm.swappiness</b> es otro par√°metro del n√∫cleo que puede afectar el rendimiento de la base de datos.  Este par√°metro se usa para controlar el comportamiento de intercambio (intercambio de p√°ginas hacia y desde la memoria) en Linux.  El valor var√≠a de 0 a 100. Determina cu√°nta memoria se descargar√° o descargar√°.  Cero significa deshabilitar el intercambio, y 100 significa intercambio agresivo. <br><br>  Puede obtener un buen rendimiento estableciendo valores m√°s bajos. <br><br>  Establecer el valor en 0 en los n√∫cleos m√°s nuevos puede hacer que OOM Killer (proceso de limpieza de memoria de Linux) mate el proceso.  Por lo tanto, puede establecer de forma segura el valor en 1 si desea minimizar el intercambio.  El valor predeterminado en Linux es 60. Un valor m√°s alto hace que la MMU (unidad de administraci√≥n de memoria) use m√°s espacio de paginaci√≥n que la RAM, mientras que un valor m√°s bajo guarda m√°s datos / c√≥digo en la memoria. <br><br>  Un valor m√°s bajo es una buena apuesta para mejorar el rendimiento en PostgreSQL. <br><br><h3>  vm.overcommit_memory / vm.overcommit_ratio </h3><br>  Las aplicaciones reciben memoria y la liberan cuando ya no la necesitan.  Pero en algunos casos, la aplicaci√≥n obtiene demasiada memoria y no la libera.  Esto puede causar un asesino OOM.  Estos son los valores posibles para el par√°metro <b>vm.overcommit_memory</b> con una descripci√≥n para cada uno: <br><br><ol><li>  Sobrecompromiso heur√≠stico (predeterminado);  heur√≠stica basada en el n√∫cleo </li><li>  Permitir sobrecompromiso de todos modos </li><li>  No exagere, no exceda la relaci√≥n de sobrecompromiso. </li></ol><br>  <i>Enlace: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://www.kernel.org/doc/Documentation/vm/overcommit-accounting</a></i> <br><br>  <b>vm.overcommit_ratio</b> : porcentaje de RAM disponible para sobrecarga.  Un valor del 50% en un sistema con 2 GB de RAM puede asignar hasta 3 GB de RAM. <br><br>  Un valor de 2 para vm.overcommit_memory proporciona un mejor rendimiento para PostgreSQL.  Este valor maximiza el uso de RAM por el proceso del servidor sin ning√∫n riesgo significativo de ser asesinado por el proceso asesino OOM.  La aplicaci√≥n podr√° reiniciarse, pero solo dentro del gasto excesivo, lo que reduce el riesgo de que el asesino de OOM mate el proceso.  Por lo tanto, un valor de 2 ofrece un mejor rendimiento que el valor predeterminado de 0. Sin embargo, la confiabilidad se puede mejorar asegurando que la memoria fuera del rango aceptable no se sobrecargue.  Esto elimina el riesgo de que el proceso sea asesinado por el asesino de OOM. <br><br>  En sistemas sin paginaci√≥n, puede ocurrir un problema con vm.overcommit_memory igual a 2. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://www.postgresql.org/docs/current/static/kernel-resources.html#LINUX-MEMORY-OVERCOMMIT</a> <br><br><h3>  vm.dirty_background_ratio / vm.dirty_background_bytes </h3><br>  <b>vm.dirty_background_ratio</b> es el porcentaje de memoria llena de p√°ginas sucias que deben escribirse en el disco.  Restablecer a disco en segundo plano.  El valor de este par√°metro var√≠a de 0 a 100;  sin embargo, un valor por debajo de 5 puede ser ineficiente y algunos n√∫cleos no lo admiten.  10 es el valor predeterminado en la mayor√≠a de los sistemas Linux.  Puede mejorar el rendimiento de las operaciones de grabaci√≥n intensiva a una velocidad menor, lo que significa que Linux volcar√° las p√°ginas sucias en segundo plano. <br><br>  <b>Debe</b> establecer el valor de <b>vm.dirty_background_bytes</b> seg√∫n la velocidad de su disco. <br><br>  No hay valores "buenos" para estos dos par√°metros, ya que ambos dependen del hardware.  Sin embargo, establecer vm.dirty_background_ratio en 5 y vm.dirty_background_bytes al 25% de la velocidad del disco aumentar√° el rendimiento a ~ 25% en la mayor√≠a de los casos. <br><br><h3>  vm.dirty_ratio / dirty_bytes </h3><br>  Esto es lo mismo que <b>vm.dirty_background_ratio / dirty_background_bytes</b> , excepto que el restablecimiento se realiza en una sesi√≥n de trabajo, bloqueando la aplicaci√≥n.  Por lo tanto, vm.dirty_ratio deber√≠a ser superior a <b>vm.dirty_background_ratio</b> .  Esto garantiza que los procesos en segundo plano comenzar√°n antes para evitar el bloqueo de la aplicaci√≥n tanto como sea posible.  Puede ajustar la diferencia entre estas dos relaciones seg√∫n la carga de E / S del disco. <br><br><h2>  Resumen </h2><br>  Puede configurar otros par√°metros para aumentar la productividad, pero las mejoras ser√°n m√≠nimas y no obtendr√° muchos beneficios.  Debemos recordar que no todos los par√°metros se aplican a todos los tipos de aplicaciones.  Algunas aplicaciones funcionan mejor cuando configuramos algunos ajustes, y otras no.  Debe encontrar el equilibrio adecuado entre las configuraciones de estos par√°metros para la carga de trabajo esperada y el tipo de aplicaci√≥n, y tambi√©n al configurar, debe tener en cuenta el comportamiento del sistema operativo.  Configurar los par√°metros del kernel no es tan f√°cil como ajustar los par√°metros de la base de datos: es m√°s dif√≠cil dar sus recomendaciones aqu√≠. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/458860/">https://habr.com/ru/post/458860/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458846/index.html">C√≥mo desarrollar otro juego de plataformas con Unity. Otro tutorial</a></li>
<li><a href="../458848/index.html">Lanzamiento de Rust 1.36.0: Rasgo futuro, estabilizaci√≥n de asignaci√≥n y Quiz√°sUninit <T></a></li>
<li><a href="../458850/index.html">Aprende ingl√©s de forma econ√≥mica y eficiente. Parte 2</a></li>
<li><a href="../458854/index.html">MotionLayout: las animaciones son mejores, menos c√≥digo</a></li>
<li><a href="../458856/index.html">Bater√≠as AAA baratas y caras</a></li>
<li><a href="../458864/index.html">Concurso de desarrolladores de bots para TamTam</a></li>
<li><a href="../458866/index.html">C√≥mo funciona el equipo equilibrador en World of Tanks Blitz</a></li>
<li><a href="../458868/index.html">Ruido en big data. An√°lisis de entrop√≠a</a></li>
<li><a href="../458870/index.html">Problemas inform√°ticos m√°s populares a los que nos enfrentamos todos los d√≠as</a></li>
<li><a href="../458874/index.html">Lista de verificaci√≥n de ASO: optimizaci√≥n de texto</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>