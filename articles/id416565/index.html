<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧝🏼 🚈 🧘 Amazon Lumberyard: tangisan jiwa ✨ 🚶🏿 🚶🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Game adalah salah satu produk perangkat lunak paling populer. Ini adalah industri besar di mana mesin game baru - Amazon Lumberyard. Proyek ini masih ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Amazon Lumberyard: tangisan jiwa</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/416565/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/94c/9b7/4f0/94c9b74f00eae5bc8d344548dd744585.png"></div><br>  Game adalah salah satu produk perangkat lunak paling populer.  Ini adalah industri besar di mana mesin game baru - Amazon Lumberyard.  Proyek ini masih dalam status beta dan memiliki waktu untuk memperbaiki kesalahan dan meningkatkan kualitas kode.  Para pengembang mesin memiliki banyak pekerjaan yang harus dilakukan dalam waktu dekat untuk tidak mengecewakan jutaan gamer dan pengembang game. <br><a name="habracut"></a><br><h2>  Pendahuluan </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Amazon Lumberyard</a> adalah mesin permainan lintas-platform AAA gratis yang dikembangkan oleh Amazon dan didasarkan pada arsitektur mesin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CryEngine</a> , yang dilisensikan oleh Crytek pada 2015.  Ngomong-ngomong, analisis CryEngine sudah dilakukan dua kali oleh saya pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Agustus 2016</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">April 2017</a> .  Pada saat yang sama, saya harus perhatikan bahwa setelah satu tahun, kodenya semakin memburuk.  Dan tempo hari, saya memutuskan untuk melihat apa yang dilakukan Amazon berdasarkan mesin game ini.  Mereka bekerja sangat baik di lingkungan.  Dokumentasi untuk pengembang dan perangkat lunak untuk menyebarkan lingkungan kerja dibuat sangat keren dan pada tingkat tinggi.  Tetapi masalahnya lagi dengan kode!  Saya berharap bahwa Amazon memiliki lebih banyak sumber daya untuk bekerja dengan proyek ini, dan mereka masih memperhatikan kualitas kode.  Dengan ulasan ini, saya berharap dapat menarik perhatian pengembang terhadap kualitas kode dan mendorong pendekatan baru dalam pengembangan mesin game ini.  Keadaan kode saat ini sangat memprihatinkan sehingga saya mengubah judul artikel beberapa kali dan menggambar ulang gambar judul saat saya melihat laporan dengan hasil analisis.  Versi pertama dari gambar itu kurang emosional: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e6d/fa3/c02/e6dfa3c02fad5fb4eadd6ca01cd68b62.png"></div><br><br>  Kami menganalisis sumber Amazon Lumberyard dari versi terbaru yang tersedia 1.14.0.1.  Kode sumber diambil dari repositori di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Github</a> .  Salah satu game pertama di mesin Lumberyard adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Star Citizen</a> .  Pemain potensial yang menunggunya, saya juga mengundang Anda untuk melihat apa yang saat ini "di bawah tenda" dari permainan. <br><br><h2>  Integrasi dengan PVS-Studio </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PVS-Studio</a> digunakan sebagai penganalisa kode statis.  Ini tersedia untuk Windows, Linux, dan macOS.  Yaitu  untuk analisis proyek lintas platform bahkan ada sesuatu yang bisa dipilih untuk pekerjaan yang lebih nyaman.  Selain C dan C ++, analisis proyek dalam bahasa C # didukung.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Rencana Jawa</a> .  Sebagian besar kode di dunia ditulis dalam bahasa yang terdaftar (bukan tanpa kesalahan, tentu saja), jadi cobalah alat analisa PVS-Studio pada proyek Anda, Anda akan belajar banyak hal menarik ;-). <br><br>  Sebagai sistem perakitan Lumberyard, WAF digunakan, yang juga di CryEngine.  Alat analisis tidak memiliki cara khusus untuk berintegrasi dengan sistem perakitan ini.  Saya memutuskan untuk bekerja dengan sebuah proyek di Windows dan memilih metode ini untuk memulai analisis: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sistem pemantauan kompilasi</a> .  File proyek untuk Visual Studio dibuat secara otomatis.  Ini dapat digunakan untuk membangun proyek dan melihat laporan penganalisa. <br><br>  Daftar perintah untuk analisis terlihat seperti ini: <br><br><pre><code class="cpp hljs">cd /path/to/lumberyard/dev lmbr_waf.bat ... CLMonitor.exe monitor MSBuild.exe ... LumberyardSDK_vs15.sln ... CLMonitor.exe analyze --<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> /path/to/report.plog</code> </pre> <br>  Laporan, seperti yang saya katakan, dapat dilihat di Visual Studio. <br><br><h2>  Tentang Igor dan Qualcomm </h2><br>  Amazon Lumberyard memposisikan dirinya sebagai mesin permainan lintas platform.  Mempromosikan proyek kepada massa dengan fitur seperti itu mudah, tetapi mempertahankannya sangat sulit.  Salah satu peringatan dari PVS-Studio dikeluarkan pada sebuah fragmen kode di mana programmer Igor bertarung dengan kompiler Qualcomm.  Mungkin dia memecahkan masalahnya, tetapi meninggalkan kode yang sangat mencurigakan.  Saya memutuskan untuk menggambarnya dengan sebuah gambar. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V523</a> Pernyataan 'lalu' sama dengan pernyataan 'lain'.  toglsloperand.c 700 <br><br><p><img src="https://habrastorage.org/getpro/habr/post_images/933/cc0/610/933cc0610c9968b8c0d1455ffcd4f245.png"></p><br>  Di sini kode yang sama dijalankan, terlepas dari kondisi yang dihitung.  Terhadap latar belakang komentar yang tersisa, keputusan seperti itu terlihat mencurigakan. <br><br>  Secara umum, proyek ini bukan satu-satunya tempat di mana kondisi perlu disederhanakan untuk kejelasan, atau untuk memperbaiki kesalahan nyata.  Berikut adalah daftar tempat-tempat tersebut: <br><br><ul><li>  V523 Pernyataan 'lalu' sama dengan pernyataan 'lain'.  livingentity.cpp 1385 </li><li>  V523 Pernyataan 'lalu' sama dengan pernyataan 'lain'.  tometalinstruction.c 4201 </li><li>  V523 Pernyataan 'lalu' sama dengan pernyataan 'lain'.  scripttable.cpp 905 </li><li>  V523 Pernyataan 'lalu' sama dengan pernyataan 'lain'.  budgetingsystem.cpp 701 </li><li>  V523 Pernyataan 'lalu' sama dengan pernyataan 'lain'.  editorframeworkapplication.cpp 562 </li><li>  V523 Pernyataan 'lalu' sama dengan pernyataan 'lain'.  particleitem.cpp 130 </li><li>  V523 Pernyataan 'lalu' sama dengan pernyataan 'lain'.  trackviewnodes.cpp 1223 </li><li>  V523 Pernyataan 'lalu' sama dengan pernyataan 'lain'.  propertyoarchive.cpp 447 </li></ul><br><h2>  Python ++ </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/000/30b/8bd/00030b8bd5aa006af7df8c98db5ef66f.png"></div><br><br>  Penganalisa menemukan kode yang sangat lucu: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V709</a> CWE-682 Perbandingan mencurigakan ditemukan: 'a == b == c'.  Ingat bahwa 'a == b == c' tidak sama dengan 'a == b &amp;&amp; b == c'.  toglslinstruction.c 564 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CallBinaryOp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> src1SwizCount = GetNumSwizzleElements(....); <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> src0SwizCount = GetNumSwizzleElements(....); <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> dstSwizCount = GetNumSwizzleElements(....); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (src1SwizCount == src0SwizCount == dstSwizCount) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { .... } .... }</span></span></code> </pre> <br>  Di C ++, kode seperti itu, sayangnya, berhasil dikompilasi, tetapi tidak dieksekusi sama sekali seperti yang terlihat.  Ekspresi dalam C ++ dievaluasi dalam urutan prioritas, mengeksekusi kasta implisit, jika perlu. <br><br>  Cek semacam itu akan benar, misalnya, dalam bahasa Python.  Tetapi dalam situasi ini, pengembang "menembak dirinya sendiri di kaki." <br><br>  3 tembakan kontrol lainnya: <br><br><ul><li>  V709 CWE-682 Perbandingan mencurigakan ditemukan: 'a == b == c'.  Ingat bahwa 'a == b == c' tidak sama dengan 'a == b &amp;&amp; b == c'.  toglslinstruction.c 654 </li><li>  V709 CWE-682 Perbandingan mencurigakan ditemukan: 'a == b == c'.  Ingat bahwa 'a == b == c' tidak sama dengan 'a == b &amp;&amp; b == c'.  toglslinstruction.c 469 </li><li>  V709 CWE-682 Perbandingan mencurigakan ditemukan: 'a == b == c'.  Ingat bahwa 'a == b == c' tidak sama dengan 'a == b &amp;&amp; b == c'.  tometalinstruction.c 539 </li></ul><br><h2>  Yang pertama dan salah satu diagnostik terbaik </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9e9/03c/f55/9e903cf5512521593ce3a8f226105025.png"></div><br><br>  Ini akan menjadi tentang peringatan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V501</a> - diagnostik tujuan umum pertama di PVS-Studio.  Kesalahan yang ditemukan oleh diagnostik ini saja sudah cukup untuk menulis artikel.  Dan proyek Amazon Lumberyard menunjukkan ini dengan sangat baik. <br><br>  Sayangnya, membosankan untuk melihat kesalahan dari jenis yang sama untuk waktu yang lama, jadi di bagian ini saya hanya akan mengomentari beberapa fragmen kode, dan sisa peringatan akan terdaftar. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V501</a> Ada sub-ekspresi identik ke kiri dan ke kanan '||'  operator: hotX &lt;0 ||  hotX &lt;0 editorutils.cpp 166 <br><br><pre> <code class="cpp hljs">QCursor CMFCUtils::LoadCursor(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!pm.isNull() &amp;&amp; (hotX &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> || hotX &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)) { <span class="hljs-function"><span class="hljs-function">QFile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(path)</span></span></span></span>; f.open(QFile::ReadOnly); <span class="hljs-function"><span class="hljs-function">QDataStream </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stream</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(&amp;f)</span></span></span></span>; stream.setByteOrder(QDataStream::LittleEndian); f.read(<span class="hljs-number"><span class="hljs-number">10</span></span>); quint16 x; stream &gt;&gt; x; hotX = x; stream &gt;&gt; x; hotY = x; } .... }</code> </pre> <br>  Kondisi ini tidak memiliki variabel <b><i>Y</i></b> <i>panas</i> <b><i>.</i></b>  Kesalahan ketik klasik. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V501</a> Ada sub-ekspresi identik 'sp.m_pTexture == m_pTexture' di sebelah kiri dan di sebelah kanan operator '&amp;&amp;'.  shadercomponents.h 487 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V501</a> Ada sub-ekspresi identik 'sp.m_eCGTextureType == m_eCGTextureType' di kiri dan di kanan operator '&amp;&amp;'.  shadercomponents.h 487 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> != (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> SCGTexture&amp; sp) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sp.m_RegisterOffset == m_RegisterOffset &amp;&amp; sp.m_Name == m_Name &amp;&amp; sp.m_pTexture == m_pTexture &amp;&amp; <span class="hljs-comment"><span class="hljs-comment">// &lt;= 1 sp.m_RegisterCount == m_RegisterCount &amp;&amp; sp.m_eCGTextureType == m_eCGTextureType &amp;&amp; // &lt;= 2 sp.m_BindingSlot == m_BindingSlot &amp;&amp; sp.m_Flags == m_Flags &amp;&amp; sp.m_pAnimInfo == m_pAnimInfo &amp;&amp; sp.m_pTexture == m_pTexture &amp;&amp; // &lt;= 1 sp.m_eCGTextureType == m_eCGTextureType &amp;&amp; // &lt;= 2 sp.m_bSRGBLookup == m_bSRGBLookup &amp;&amp; sp.m_bGlobal == m_bGlobal) { return false; } return true; }</span></span></code> </pre> <br>  Dua copy paste ditemukan dalam fragmen ini sekaligus.  Untuk lebih jelasnya, saya melukis panah. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V501</a> Ada sub-ekspresi identik ke kiri dan ke kanan operator '==': pSrc.GetLen () == pSrc.GetLen () fbxpropertytypes.h 978 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FbxTypeCopy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FbxBlob&amp; pDst, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> FbxString&amp; pSrc)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> lCastable = pSrc.GetLen() == pSrc.GetLen(); FBX_ASSERT( lCastable ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( lCastable ) pDst.Assign(pSrc.Buffer(), (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)pSrc.GetLen()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> lCastable; }</code> </pre> <br>  Di sini saya ingin menyapa para pengembang dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AUTODESK</a> .  Kesalahan ini dari perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">FBX SDK</a> mereka.  Variabel yang membingungkan <i>pSrc</i> dan <i>pDst</i> .  Saya pikir, selain Lumberyard, ada juga banyak pengguna lain yang proyeknya bergantung pada kode dengan kesalahan ini. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V501</a> Ada sub-ekspresi yang identik di sebelah kiri dan di kanan operator '&amp;&amp;': pTS-&gt; pRT_ALD_1 &amp;&amp; pTS-&gt; pRT_ALD_1 d3d_svo.cpp 857 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CSvoRenderer::ConeTracePass(SSvoTargetsSet* pTS) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pTS-&gt;pRT_ALD_1 &amp;&amp; pTS-&gt;pRT_ALD_1) { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nPrevWidth = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { .... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { pTS-&gt;pRT_ALD_1-&gt;Apply(<span class="hljs-number"><span class="hljs-number">10</span></span>, m_nTexStateLinear); pTS-&gt;pRT_RGB_1-&gt;Apply(<span class="hljs-number"><span class="hljs-number">11</span></span>, m_nTexStateLinear); } } .... }</code> </pre> <br>  Kembali ke kode Lumberyard.  Dalam kondisi tersebut, pointer <i>pTS-&gt; pRT_ALD_1 yang sama dicentang</i> .  Salah satunya seharusnya <i>pTS-&gt; pRT_RGB_1</i> .  Mungkin bahkan setelah penjelasan itu tidak segera mungkin untuk melihat perbedaannya, tetapi ada satu: perbedaannya adalah pada substring pendek <i>ALD</i> dan <i>RGB</i> .  Jika Anda diberi tahu bahwa Tinjauan Kode manual sudah cukup, maka perlihatkan contoh ini. <br><br>  Dan jika contoh ini tidak cukup, maka ada 5 yang lebih mirip. <br><ul><li>  V501 Ada sub-ekspresi identik ke kiri dan ke kanan '||'  operator :! pTS-&gt; pRT_ALD_0 ||! pTS-&gt; pRT_ALD_0 d3d_svo.cpp 1041 </li><li>  V501 Ada sub-ekspresi yang identik ke kiri dan ke kanan operator '&amp;&amp;': m_pRT_AIR_MIN &amp;&amp; m_pRT_AIR_MIN d3d_svo.cpp 1808 </li><li>  V501 Ada sub-ekspresi identik ke kiri dan ke kanan operator '&amp;&amp;': m_pRT_AIR_MAX &amp;&amp; m_pRT_AIR_MAX d3d_svo.cpp 1819 </li><li>  V501 Ada sub-ekspresi identik ke kiri dan ke kanan operator '&amp;&amp;': m_pRT_AIR_SHAD &amp;&amp; m_pRT_AIR_SHAD d3d_svo.cpp 1830 </li><li>  V501 Ada sub-ekspresi yang identik ke kiri dan ke kanan operator '&amp;&amp;': s_pPropertiesPanel &amp;&amp; s_pPropertiesPanel entitasobject.cpp 1700 </li></ul><br>  Dan seperti yang saya janjikan, berikut adalah daftar peringatan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V501 yang</a> tersisa tanpa contoh kode: <div class="spoiler">  <b class="spoiler_title">Buka daftar</b> <div class="spoiler_text"><ul><li>  V501 Ada sub-ekspresi identik 'MaxX &lt;0' di kiri dan di kanan '||'  operator.  czbufferculler.h 128 </li><li>  V501 Ada sub-ekspresi identik 'm_joints [op [1]]. Batas [1] [i]' ke kiri dan ke kanan operator '-'.  articulatedentity.cpp 795 </li><li>  V501 Ada sub-ekspresi identik 'm_joints [i] .limits [1] [j]' ke kiri dan ke kanan operator '-'.  articulatedentity.cpp 2044 </li><li>  V501 Ada sub-ekspresi identik 'irect [0] .x + 1 - irect [1] .x &gt;&gt; 31' ke kiri dan ke kanan '|'  operator.  trimesh.cpp 4029 </li><li>  V501 Ada sub-ekspresi identik 'b-&gt; mlen &lt;= 0' ke kiri dan ke kanan '||'  operator.  bstrlib.c 1779 </li><li>  V501 Ada sub-ekspresi identik 'b-&gt; mlen &lt;= 0' ke kiri dan ke kanan '||'  operator.  bstrlib.c 1827 </li><li>  V501 Ada sub-ekspresi identik 'b-&gt; mlen &lt;= 0' ke kiri dan ke kanan '||'  operator.  bstrlib.c 1865 </li><li>  V501 Ada sub-ekspresi identik 'b-&gt; mlen &lt;= 0' ke kiri dan ke kanan '||'  operator.  bstrlib.c 1779 </li><li>  V501 Ada sub-ekspresi identik 'b-&gt; mlen &lt;= 0' ke kiri dan ke kanan '||'  operator.  bstrlib.c 1827 </li><li>  V501 Ada sub-ekspresi identik 'b-&gt; mlen &lt;= 0' ke kiri dan ke kanan '||'  operator.  bstrlib.c 1865 </li><li>  V501 Ada sub-ekspresi identik ke kiri dan ke kanan operator '-': dd - dd finalizingspline.h 669 </li><li>  V501 Ada sub-ekspresi identik 'pVerts [2] - pVerts [3]' di sebelah kiri dan di sebelah kanan operator '^'.  roadrendernode.cpp 307 </li><li>  V501 Ada sub-ekspresi identik '! PGroup-&gt; GetStatObj ()' di sebelah kiri dan di sebelah kanan '||'  operator.  terrain_node.cpp 594 </li><li>  V501 Ada sub-ekspresi identik ke kiri dan ke kanan '||'  operator: val == 0 ||  val == - 0 xmlcpb_attrwriter.cpp 367 </li><li>  V501 Ada sub-ekspresi identik 'geom_colltype_solid' ke kiri dan ke kanan '|'  operator.  attachmentmanager.cpp 1058 </li><li>  V501 Ada sub-ekspresi identik '(TriMiddle - RMWPosition)' di kiri dan di kanan '' '  operator.  modelmesh.cpp 174 </li><li>  V501 Ada sub-ekspresi identik '(sasaran - pAbsPose [b3] .t)' di kiri dan di kanan '' '  operator.  posemodifierhelper.cpp 115 </li><li>  V501 Ada sub-ekspresi identik '(sasaran - pAbsPose [b4] .t)' di kiri dan di kanan '' '  operator.  posemodifierhelper.cpp 242 </li><li>  V501 Ada sub-ekspresi identik '(m_eTFSrc == eTF_BC6UH)' di kiri dan di kanan '||'  operator.  texturestreaming.cpp 983 </li><li>  V501 Ada sub-ekspresi identik ke kiri dan ke kanan operator '-': q2.vz - q2.vz azentitynode.cpp 102 </li><li>  V501 Ada sub-ekspresi identik ke kiri dan ke kanan operator '-': q2.vz - q2.vz entitasnode.cpp 107 </li><li>  V501 Ada sub-ekspresi identik 'm_listRect.contains (event-&gt; pos ())' ke kiri dan ke kanan '||'  operator.  aidebuggerview.cpp 463 </li><li>  V501 Ada sub-ekspresi yang identik ke kiri dan ke kanan operator '&amp;&amp;': pObj-&gt; GetParent () &amp;&amp; pObj-&gt; GetParent () designerpanel.cpp 253 </li></ul></div></div><br><h2>  Tentang posisi kamera dalam game </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/564/587/079/5645870792e812044ad7bd3df6fdd2f0.png"></div><br><br>  Ada diagnostik tercepat kedua di PVS-Studio - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V502</a> .  Diagnosis ini lebih tua dari beberapa bahasa pemrograman baru, di mana kesalahan seperti itu tidak bisa lagi dibuat.  Dan untuk C ++, kesalahan ini akan relevan, mungkin selalu. <br><br>  Mari kita mulai dengan contoh sederhana kecil. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V502</a> Mungkin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">operator</a> '?:' Bekerja dengan cara yang berbeda dari yang diharapkan.  Operator '?:' Memiliki prioritas lebih rendah daripada operator '+'.  zipencryptor.cpp 217 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> ZipEncryptor::ParseKey(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> pos = i * <span class="hljs-number"><span class="hljs-number">2</span></span> + (v1 == <span class="hljs-number"><span class="hljs-number">0xff</span></span>) ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">2</span></span>; RCLogError(<span class="hljs-string"><span class="hljs-string">"...."</span></span>, pos); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; .... }</code> </pre> <br>  Operasi penambahan memiliki prioritas yang lebih tinggi daripada operator ternary.  Oleh karena itu, ungkapan ini memiliki logika penghitungan yang sama sekali berbeda dari yang diasumsikan oleh penulis. <br><br>  Anda dapat memperbaiki kesalahan dengan cara ini: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> pos = i * <span class="hljs-number"><span class="hljs-number">2</span></span> + (v1 == <span class="hljs-number"><span class="hljs-number">0xff</span></span> ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V502</a> Mungkin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">operator</a> '?:' Bekerja dengan cara yang berbeda dari yang diharapkan.  Operator '?:' Memiliki prioritas lebih rendah daripada operator '-'.  3dengine.cpp 1898 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> C3DEngine::GetDistanceToSectorWithWater() { .... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (bCameraInTerrainBounds &amp;&amp; (m_pTerrain &amp;&amp; m_pTerrain-&gt;GetDistanceToSectorWithWater() &gt; <span class="hljs-number"><span class="hljs-number">0.1f</span></span>)) ? m_pTerrain-&gt;GetDistanceToSectorWithWater() : max(camPostion.z - OceanToggle::IsActive() ? OceanRequest::GetOceanLevel() : GetWaterLevel(), <span class="hljs-number"><span class="hljs-number">0.1f</span></span>); }</code> </pre> <br>  Dan berikut ini adalah contoh kode tempat mereka bekerja dengan posisi kamera.  Contoh sulit untuk dilihat dengan mata dan ada kesalahan di dalamnya.  Untuk publikasi, pemformatan kode telah diubah, tetapi dalam file sumber kode ini bahkan lebih tidak dapat dibaca. <br><br>  Ada kesalahan dalam substring ini: <br><br><pre> <code class="cpp hljs">camPostion.z - OceanToggle::IsActive() ? .... : ....</code> </pre> <br>  Jika kamera di game Anda tiba-tiba mulai berperilaku tidak tepat, maka Anda harus tahu bahwa pengembang menyimpannya dalam analisis kode statis: D. <br><br>  Contoh lain dengan peringatan serupa: <br><br><ul><li>  V502 Mungkin operator '?:' Bekerja dengan cara yang berbeda dari yang diharapkan.  Operator '?:' Memiliki prioritas lebih rendah daripada operator '-'.  scriptbind_ai.cpp 5203 </li><li>  V502 Mungkin operator '?:' Bekerja dengan cara yang berbeda dari yang diharapkan.  Operator '?:' Memiliki prioritas lebih rendah daripada operator '+'.  qcolumnwidget.cpp 136 </li><li>  V502 Mungkin operator '?:' Bekerja dengan cara yang berbeda dari yang diharapkan.  Operator '?:' Memiliki prioritas lebih rendah daripada operator '&amp;&amp;'.  shapetool.h 98 </li></ul><br><h2>  CryEngine Legacy </h2><br>  Amazon Lumberyard didasarkan pada kode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CryEngine</a> .  Dan bukan pada versi terbaiknya.  Saya membuat kesimpulan seperti itu dengan melihat laporan penganalisa.  Beberapa bug yang ditemukan telah diperbaiki di CryEngine versi terbaru untuk dua ulasan kode saya, tetapi masih ada dalam kode Lumberyard.  Selain itu, selama setahun terakhir, alat analisis telah meningkat secara signifikan dan dimungkinkan untuk menemukan kesalahan tambahan yang sekarang ada di dua mesin game.  Tetapi dengan Lumberyard situasinya lebih buruk.  Amazon pada dasarnya mewarisi semua hutang teknis CryEngine.  Tapi tugas teknisnya sendiri, tentu saja, muncul di masing-masing perusahaan sendiri :). <br><br>  Di bagian ini, saya akan memberi Anda beberapa kesalahan yang diperbaiki di CryEngine versi terbaru, dan sekarang hanya tinggal masalah proyek Lumberyard. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V519 Variabel</a> 'BlendFactor [2]' diberikan nilai dua kali berturut-turut.  Mungkin ini sebuah kesalahan.  Periksa baris: 1283, 1284. ccrydxgldevicecontext.cpp 1284 <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/659/fb5/4bb/659fb54bb651df9abf4568dec3b76bf4.png"></div><br><br>  Kira-kira emosi semacam itu akan dialami oleh pengembang Lumberyard ketika mereka mengetahui bahwa kesalahan ini hanya ada pada mereka. <br><br>  Omong-omong, ada dua lagi: <br><br><ul><li>  V519 Variabel 'm_auBlendFactor [2]' diberi nilai dua kali berturut-turut.  Mungkin ini sebuah kesalahan.  Periksa baris: 919, 920. ccrydxgldevicecontext.cpp 920 </li><li>  V519 Variabel 'm_auBlendFactor [2]' diberi nilai dua kali berturut-turut.  Mungkin ini sebuah kesalahan.  Periksa baris: 926, 927. ccrydxgldevicecontext.cpp 927 </li></ul><br>  Ada kesalahan seperti itu: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V546</a> Anggota kelas diinisialisasi dengan sendirinya: 'eConfigMax (eConfigMax.VeryHigh)'.  particleparams.h 1837 <br><br><pre> <code class="cpp hljs">ParticleParams() : .... fSphericalApproximation(<span class="hljs-number"><span class="hljs-number">1.f</span></span>), fVolumeThickness(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>), fSoundFXParam(<span class="hljs-number"><span class="hljs-number">1.f</span></span>), eConfigMax(eConfigMax.VeryHigh), <span class="hljs-comment"><span class="hljs-comment">// &lt;= fFadeAtViewCosAngle(0.f) {}</span></span></code> </pre> <br>  Di CryEngine kelas ini umumnya ditulis ulang, tetapi di sini kesalahan inisialisasi tetap ada. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V521</a> Ekspresi seperti itu menggunakan operator ',' berbahaya.  Pastikan ungkapan '! Pedang [iWord] .empty (), iWord ++' benar.  tacticalpointsystem.cpp 3376 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> CTacticalPointSystem::Parse(....) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-function"><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-built_in">string</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sInput</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sSpec)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> MAXWORDS = <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> sWords[MAXWORDS]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> iC = <span class="hljs-number"><span class="hljs-number">0</span></span>, iWord = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (; iWord &lt; MAXWORDS; !sWords[iWord].empty(), iWord++) { sWords[iWord] = sInput.Tokenize(<span class="hljs-string"><span class="hljs-string">"_"</span></span>, iC); } .... }</code> </pre> <br>  Siklus yang mencurigakan yang telah ditulis ulang CryEngine juga. <br><br><h2>  Kesalahan hidup lebih lama dari yang Anda pikirkan </h2><br>  Pengguna yang mulai menggunakan PVS-Studio untuk pertama kalinya memiliki situasi yang hampir sama: mereka menemukan kesalahan, mengetahui bahwa itu ditambahkan beberapa bulan yang lalu dan senang menyadari bahwa mereka secara ajaib menghindari manifestasi masalah di antara pengguna mereka.  Banyak klien kami datang ke penggunaan biasa PVS-Studio tepat setelah cerita seperti itu. <br><br>  Terkadang, untuk memulai proses kontrol kualitas kode, perusahaan harus mengunjungi situasi seperti itu beberapa kali.  Berikut adalah contoh tentang CryEngine dan Lumberyard: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V557</a> CWE-119 Overray array dimungkinkan.  Indeks 'id' menunjuk di luar batas array.  gameobjectsystem.cpp 113 <br><br><pre> <code class="cpp hljs">uint32 CGameObjectSystem::GetExtensionSerializationPriority(....) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (id &gt; m_extensionInfo.size()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0xffffffff</span></span>; <span class="hljs-comment"><span class="hljs-comment">// minimum possible priority } else { return m_extensionInfo[id].serializationPriority; } }</span></span></code> </pre> <br>  Seperti yang Anda ketahui, Amazon Lumberyard bukan didasarkan pada CryEngine versi terbaru.  Namun demikian, dengan bantuan analisa PVS-Studio, adalah mungkin untuk menemukan kesalahan yang ada sekarang di dua mesin game.  Itu perlu untuk memeriksa indeks menggunakan operator '&gt; =' ... <br><br>  Kesalahan pengindeksan serius.  Apalagi ada <b>enam</b> tempat seperti itu <b>!</b>  Ini adalah contoh lain: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V557</a> CWE-119 Overray array dimungkinkan.  Indeks 'indeks' menunjuk di luar batas array.  73iciceseesegroup.cpp 73 <br><br><pre> <code class="cpp hljs">CVehicleSeat* CVehicleSeatGroup::GetSeatByIndex(<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> index) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (index &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; index &lt;= m_seats.size()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> m_seats[index]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; }</code> </pre> <br>  Seseorang membuat kesalahan dengan tipe yang sama, dan mereka tidak diperbaiki hanya karena mereka tidak pernah dimasukkan dalam ulasan bug CryEngine. <br><br>  Peringatan yang tersisa: <br><br><ul><li>  V557 CWE-119 Overray array dimungkinkan.  Indeks 'id' menunjuk di luar batas array.  gameobjectsystem.cpp 195 </li><li>  V557 CWE-119 Overray array dimungkinkan.  Indeks 'id' menunjuk di luar batas array.  gameobjectsystem.cpp 290 </li><li>  V557 CWE-119 Overray array dimungkinkan.  Indeks 'stateId' menunjuk di luar batas array.  vehicleanimation.cpp 311 </li><li>  V557 CWE-119 Overray array dimungkinkan.  Indeks 'stateId' menunjuk di luar batas array.  vehicleanimation.cpp 354 </li></ul><br>  Keberadaan panjang kesalahan dalam kode hanya dapat dijelaskan oleh tingkat pengujian proyek yang sesuai.  Diyakini bahwa analisis statis hanya menemukan kesalahan dalam kode yang tidak digunakan.  Jadi tidak demikian.  Pengembang lupa bahwa sebagian besar pengguna secara diam-diam menderita bug yang tidak terlihat dalam program, dan manifestasi dari bug yang sangat jarang ini sering berdampak buruk pada pekerjaan seluruh perusahaan, reputasi dan penjualannya, jika ada. <br><br><h2>  Berbagai Pemrograman Copy-Paste </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7b/18c/0d2/b7b18c0d2641836736a2bde2d19ba5ba.png"></div><br><br>  Ketika Anda mencapai bagian artikel ini, Anda mungkin memperhatikan bahwa pemrograman Copy-Paste adalah penyebab banyak masalah.  Dalam PVS-Studio, pencarian kesalahan tersebut diimplementasikan dalam berbagai diagnostik.  Bagian ini akan memberikan contoh copy-paste yang ditemukan dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V561</a> . <br><br>  Berikut adalah contoh kode mencurigakan saat mendeklarasikan variabel dengan nama yang sama dalam cakupan yang tumpang tindih. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V561</a> CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'pLibrary' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: entityobject.cpp, baris 4703. entitasobject.cpp 4706 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CEntityObject::OnMenuConvertToPrefab() { .... IDataBaseLibrary* pLibrary = GetIEditor()-&gt;Get....; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pLibrary == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { IDataBaseLibrary* pLibrary = GetIEditor()-&gt;Get....; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pLibrary == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { QString sError = tr(....); CryMessageBox(....); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } .... }</code> </pre> <br>  Pointer pLibrary tidak menimpa seperti yang diharapkan.  Inisialisasi pointer ini sepenuhnya disalin di bawah kondisi bersama dengan deklarasi tipe. <br><br>  Saya akan mencantumkan semua tempat serupa: <br><br><ul><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'eType' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: toglsloperand.c, baris 838. toglsloperand.c 1224 </li><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'eType' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: toglsloperand.c, baris 838. toglsloperand.c 1305 </li><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'rSkelPose' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: attachmentmanager.cpp, baris 409. attachmentmanager.cpp 458 </li><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'nThreadID' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: d3dmeshbaker.cpp, line 797. d3dmeshbaker.cpp 867 </li><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'directoryNameList' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: assetimportermanager.cpp, line 720. assetimportermanager.cpp 728 </li><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'pNode' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: breakpointsctrl.cpp, line 340. breakpointsctrl.cpp 349 </li><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'pLibrary' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: prefabobject.cpp, line 1443. prefabobject.cpp 1446 </li><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'pLibrary' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: prefabobject.cpp, line 1470. prefabobject.cpp 1473 </li><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'cmdLine' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: fileutil.cpp, line 110. fileutil.cpp 130 </li><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'sfunctionArgs' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: attributeitemlogiccallbacks.cpp, baris 291. attributeitemlogiccallbacks.cpp 303 </li><li>  V561 CWE-563 Mungkin lebih baik untuk memberikan nilai pada variabel 'curveName' daripada mendeklarasikannya lagi.  Deklarasi sebelumnya: qgradientselectorwidget.cpp, line 475. qgradientselectorwidget.cpp 488 </li></ul><br>  Daftar panjang ... beberapa tempat yang terdaftar bahkan merupakan salinan lengkap dari contoh yang dijelaskan. <br><br><h2>  Inisialisasi nilai eigen </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54a/3e3/bff/54a3e3bff4ffeeeb75087c52d644eaa6.png"></div><br><br>  Dalam kode mesin game, banyak tempat ditemukan di mana variabel ditugaskan untuk dirinya sendiri.  Di suatu tempat kode ini ditinggalkan untuk debugging, di suatu tempat kode dirancang dengan indah (itu juga sering menjadi sumber kesalahan), jadi saya akan memberikan Anda satu bagian dari kode yang paling mencurigakan bagi saya. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V570</a> Variabel 'behaviourParams.ignoreOnVehicleDestroyed' ditugaskan untuk dirinya sendiri.  komponen kendaraan.cpp 168 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> CVehicleComponent::Init(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!damageBehaviorTable.getAttr(....) { behaviorParams.ignoreOnVehicleDestroyed = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { behaviorParams.ignoreOnVehicleDestroyed = <span class="hljs-comment"><span class="hljs-comment">// &lt;= behaviorParams.ignoreOnVehicleDestroyed; // &lt;= } .... }</span></span></code> </pre> <br>  Dalam tampilan saat ini, cabang <i>lain</i> tidak diperlukan sama sekali.  Tapi mungkin bagian kode ini mengandung kesalahan: mereka ingin menetapkan nilai yang berlawanan ke variabel: <br><br><pre> <code class="cpp hljs">bValue = !bValue</code> </pre> <br>  Tetapi lebih baik bagi pengembang untuk membiasakan diri dengan hasil diagnosis ini. <br><br><h2>  Penanganan Masalah </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/4fe/a30/cef4fea30182004f3debd9467c1e8d16.png"></div><br><br>  Bagian ini akan memberikan banyak contoh ketika terjadi kesalahan selama penanganan kesalahan. <br><br>  <b>Contoh 1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V606</a> Token tanpa pemilik 'nullptr'.  dx12rootsignature.cpp 599 <br><br><pre> <code class="cpp hljs">RootSignature* RootSignatureCache::AcquireRootSignature(....) { .... RootSignature* result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RootSignature(m_pDevice); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!result-&gt;Init(params)) { DX12_ERROR(<span class="hljs-string"><span class="hljs-string">"Could not create root signature!"</span></span>); <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; } m_RootSignatureMap[hash] = result; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } }</code> </pre> <br>  Lupa menulis <i>return nullptr;</i>  .  Sekarang, nilai variabel <i>hasil yang</i> tidak valid akan digunakan di tempat lain dalam kode. <br><br>  Kode yang sama persis disalin ke satu tempat lagi: <br><br><ul><li>  V606 Token tanpa pemilik 'nullptr'.  dx12rootsignature.cpp 621 </li></ul><br>  <b>Contoh 2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V606</a> Token tanpa pemilik 'salah'.  fillspacetool.cpp 191 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> FillSpaceTool::FillHoleBasedOnSelectedElements() { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validEdgeList.size() == <span class="hljs-number"><span class="hljs-number">2</span></span>) { .... } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validEdgeList.empty()) { .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>, iVertexSize(....); i &lt; iVertexSize; ++i) { validEdgeList.push_back(....); } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validEdgeList.empty()) <span class="hljs-comment"><span class="hljs-comment">// &lt;= { false; // &lt;= fail } std::vector&lt;BrushEdge3D&gt; linkedEdgeList; std::set&lt;int&gt; usedEdgeSet; linkedEdgeList.push_back(validEdgeList[0]); // &lt;= fail .... }</span></span></code> </pre> <br>  Contoh yang sangat menarik dari kesalahan dengan <i>pernyataan pengembalian yang</i> hilang.  Sekarang situasi mengakses wadah kosong ke indeks dimungkinkan. <br><br>  <b>Contoh 3</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V564</a> CWE-480 Operator '&amp;' diterapkan pada nilai tipe bool.  Anda mungkin lupa menyertakan tanda kurung atau bermaksud menggunakan operator '&amp;&amp;'.  toglslinstruction.c 2914 <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetDataTypes</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-comment"><span class="hljs-comment">// Check assumption that both the values which MOVC might pick // have the same basic data type. if(!psContext-&gt;flags &amp; HLSLCC_FLAG_AVOID_TEMP_REGISTER_ALIASING) { ASSERT(GetOperandDataType(psContext, &amp;psInst-&gt;asOperands[2]) == GetOperandDataType(psContext, &amp;psInst-&gt;asOperands[3])); } .... }</span></span></code> </pre> <br>  Tidak diperiksa benar keberadaan bit di flag.  Operator negasi berlaku untuk nilai flag, bukan keseluruhan ekspresi.  Tulis dengan benar seperti ini: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!(psContext-&gt;flags &amp; ....))</code> </pre> <br>  Lebih banyak peringatan serupa: <br><br><ul><li>  V564 CWE-480 The '|'  operator diterapkan pada nilai tipe bool.  Anda mungkin lupa menyertakan tanda kurung atau bermaksud menggunakan '||'  operator.  d3dhwshader.cpp 1832 </li><li>  V564 CWE-480 Operator '&amp;' diterapkan pada nilai tipe bool.  Anda mungkin lupa menyertakan tanda kurung atau bermaksud menggunakan operator '&amp;&amp;'.  trackviewdialog.cpp 2112 </li><li>  V564 CWE-480 The '|'  operator diterapkan pada nilai tipe bool.  Anda mungkin lupa menyertakan tanda kurung atau bermaksud menggunakan '||'  operator.  imagecompiler.cpp 1039 </li></ul><br>  <b>Contoh 4</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V596</a> CWE-390 Objek telah dibuat tetapi tidak digunakan.  Kata kunci 'throw' dapat hilang: throw runtime_error (FOO);  prefabobject.cpp 1491 <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt; PyGetPrefabLibrarys() { CPrefabManager* pPrefabManager = GetIEditor()-&gt;GetPrefabMa....; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!pPrefabManager) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::runtime_error(<span class="hljs-string"><span class="hljs-string">"Invalid Prefab Manager."</span></span>); } .... }</code> </pre> <br>  Kesalahan melempar pengecualian.  Itu perlu untuk menulis seperti ini: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::runtime_error(<span class="hljs-string"><span class="hljs-string">"Invalid Prefab Manager."</span></span>);</code> </pre> <br>  Seluruh daftar kesalahan tersebut: <br><br><ul><li>  V596 CWE-390 Objek telah dibuat tetapi tidak digunakan.  Kata kunci 'throw' dapat hilang: throw runtime_error (FOO);  prefabobject.cpp 1515 </li><li>  V596 CWE-390 Objek telah dibuat tetapi tidak digunakan.  Kata kunci 'throw' dapat hilang: throw runtime_error (FOO);  prefabobject.cpp 1521 </li><li>  V596 CWE-390 Objek telah dibuat tetapi tidak digunakan.  Kata kunci 'throw' dapat hilang: throw runtime_error (FOO);  prefabobject.cpp 1543 </li><li>  V596 CWE-390 Objek telah dibuat tetapi tidak digunakan.  Kata kunci 'throw' dapat hilang: throw runtime_error (FOO);  prefabobject.cpp 1549 </li><li>  V596 CWE-390 Objek telah dibuat tetapi tidak digunakan.  Kata kunci 'throw' dapat hilang: throw runtime_error (FOO);  prefabobject.cpp 1603 </li><li>  V596 CWE-390 Objek telah dibuat tetapi tidak digunakan.  Kata kunci 'throw' dapat hilang: throw runtime_error (FOO);  prefabobject.cpp 1619 </li><li>  V596 CWE-390 Objek telah dibuat tetapi tidak digunakan.  Kata kunci 'throw' dapat hilang: throw runtime_error (FOO);  prefabobject.cpp 1644 </li></ul><br><br><h2>  Beberapa masalah saat bekerja dengan memori </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/521/55f/307/52155f307f3824842c324aa99902796e.png"></div><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V549</a> CWE-688 Argumen pertama dari fungsi 'memcmp' sama dengan argumen kedua.  meshutils.h 894 <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VertexLess</span></span></span><span class="hljs-class"> {</span></span> .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m.m_links[a].links.size() != m.m_links[b].links.size()) { res = (m.m_links[a].links.size() &lt; m.m_links[b].links.size()) ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : +<span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { res = <span class="hljs-built_in"><span class="hljs-built_in">memcmp</span></span>(&amp;m.m_links[a].links[<span class="hljs-number"><span class="hljs-number">0</span></span>], &amp;m.m_links[a].links[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(m.m_links[a].links[<span class="hljs-number"><span class="hljs-number">0</span></span>]) * m.m_links[a].links.size()); } .... } .... };</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kondisi membandingkan ukuran dua vektor. </font><font style="vertical-align: inherit;">Jika mereka sama, maka di cabang yang </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lain</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nilai </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">nilai elemen pertama vektor dibandingkan menggunakan fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memcmp ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tetapi argumen pertama dan kedua untuk fungsi ini sama! </font><font style="vertical-align: inherit;">Akses ke elemen array agak rumit. </font><font style="vertical-align: inherit;">Ada indeks </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Kemungkinan besar, kesalahan ketik ada di dalamnya. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V611</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-762 Memori dialokasikan menggunakan operator 'T baru] tetapi dirilis menggunakan operator' hapus '. </font><font style="vertical-align: inherit;">Pertimbangkan untuk memeriksa kode ini. </font><font style="vertical-align: inherit;">Mungkin lebih baik menggunakan 'delete [] data;'. </font><font style="vertical-align: inherit;">vectorn.h 102</font></font><br><br><pre> <code class="cpp hljs">~vectorn_tpl() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(flags &amp; mtx_foreign_data)) { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>[] data; } } vectorn_tpl&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>=(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> vectorn_tpl&lt;ftype&gt;&amp; src) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (src.len != len &amp;&amp; !(flags &amp; mtx_foreign_data)) { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> data; <span class="hljs-comment"><span class="hljs-comment">// &lt;= data = new ftype[src.len]; } .... }</span></span></code> </pre> <br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memori</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> penunjuk </font><i><font style="vertical-align: inherit;">data sedang</font></i><font style="vertical-align: inherit;"> dibebaskan dengan pernyataan yang tidak valid. </font><font style="vertical-align: inherit;">Operator </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delete []</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> harus digunakan di </font><i><font style="vertical-align: inherit;">mana-mana</font></i><font style="vertical-align: inherit;"> .</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kode tidak dapat dijangkau </font></font></h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V779</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-561 Kode yang tidak dapat dideteksi terdeteksi. </font><font style="vertical-align: inherit;">Mungkin saja ada kesalahan. </font><font style="vertical-align: inherit;">fbxskinimporter.cpp 67</font></font><br><br><pre> <code class="cpp hljs">Events::ProcessingResult FbxSkinImporter::ImportSkin(....) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (BuildSceneMeshFromFbxMesh(....) { context.m_createdData.push_back(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(createdData)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Events::ProcessingResult::Success; <span class="hljs-comment"><span class="hljs-comment">// &lt;= } else { return Events::ProcessingResult::Failure; // &lt;= } context.m_createdData.push_back(); // &lt;= fail return Events::ProcessingResult::Success; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semua cabang pernyataan bersyarat berakhir dengan keluar dari fungsi. </font><font style="vertical-align: inherit;">Namun, beberapa kode tidak dieksekusi. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V779</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-561 Kode yang tidak dapat dideteksi terdeteksi. </font><font style="vertical-align: inherit;">Mungkin saja ada kesalahan. </font><font style="vertical-align: inherit;">dockablelibrarytreeview.cpp 153</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> DockableLibraryTreeView::Init(IDataBaseLibrary* lib) { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m_treeView &amp;&amp; m_titleBar &amp;&amp; m_defaultView) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (m_treeView-&gt;topLevelItemCount() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { ShowTreeView(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ShowDefaultView(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-comment"><span class="hljs-comment">// &lt;= } else { return false; // &lt;= } emit SignalFocused(this); // &lt;= fail }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mudah untuk menemukan kesalahan pada kode ini. </font><font style="vertical-align: inherit;">Tetapi jika Anda menulis kode untuk waktu yang lama, maka perhatian turun tajam dan kesalahan seperti itu mudah jatuh ke dalam proyek. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V622</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CWE-478 Pertimbangkan untuk memeriksa pernyataan 'sakelar'. </font><font style="vertical-align: inherit;">Mungkin saja operator 'case' pertama hilang. </font><font style="vertical-align: inherit;">datum.cpp 872</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">AZ_INLINE </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsDataGreaterEqual</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (type.GetType()) { AZ_Error(<span class="hljs-string"><span class="hljs-string">"ScriptCanvas"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"...."</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Data::eType::Number: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> IsDataGreaterEqual&lt;Data::NumberType&gt;(lhs, rhs); .... <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Data::eType::AABB: AZ_Error(<span class="hljs-string"><span class="hljs-string">"ScriptCanvas"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"...."</span></span>, Data::Traits&lt;Data::AABBType&gt;::GetName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Data::eType::OBB: AZ_Error(<span class="hljs-string"><span class="hljs-string">"ScriptCanvas"</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"...."</span></span>, Data::Traits&lt;Data::OBBType&gt;::GetName()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; .... }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">switch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berisi kode di luar </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">case / statement default</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , maka </font><i><font style="vertical-align: inherit;">switch</font></i><font style="vertical-align: inherit;"> tidak pernah dieksekusi.</font></font><br><br><h2>  Kesimpulan </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel ini mencakup </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">95</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peringatan penganalisa, 25 di antaranya dengan contoh kode. Berapa banyak bahan dari seluruh laporan analisa? Saya dengan cepat menggulir hanya </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sepertiga dari peringatan tingkat tinggi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ada juga Medium dan Low, sekelompok diagnosa untuk mencari optimasi, dan peluang analisa yang belum dimanfaatkan lainnya - ini adalah ratusan kesalahan yang lebih jelas dan ribuan peringatan yang belum dijelajahi.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan kemudian pembaca perlu bertanya pada dirinya sendiri pertanyaan: "Apakah mungkin dengan pendekatan ini untuk proyek untuk merilis mesin gim yang bagus?". Tidak ada kontrol kualitas kode. Kode CryEngine dengan kesalahan lama diambil sebagai dasar, kesalahan baru ditambahkan. CryEngine sendiri diselesaikan hanya setelah peninjauan kode selanjutnya. Amazon memiliki setiap kesempatan dengan sumber dayanya untuk bekerja ke arah kualitas kode dan merilis mesin game paling keren! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jangan terlalu kesal. Di antara klien PVS-Studio ada lebih dari tiga puluh perusahaan lain yang terlibat dalam permainan. Anda dapat berkenalan dengan mereka dan produk mereka di halaman " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " situs web kami </font><font style="vertical-align: inherit;">dengan memilih filter "Pengembangan Game". Jadi kita secara bertahap meningkatkan dunia. Mungkin kita bisa meningkatkan Amazon Lumberyard :).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seorang rekan baru-baru ini menulis sebuah artikel tentang topik kualitas perangkat lunak permainan, saya sarankan Anda tertarik untuk membaca: " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analisis statis dalam industri video game: 10 kesalahan perangkat lunak teratas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan untuk mengunduh penganalisa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , bagaimana Anda dapat melakukannya tanpa itu ;-)</font></font><br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/ts/z9/km/tsz9kmyjtteajhd4x1au60rsrvq.png" align="left"></a> </p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda ingin berbagi artikel ini dengan audiens yang berbahasa Inggris, silakan gunakan tautan ke terjemahan: Svyatoslav Razmyslov. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon Lumberyard: A Scream of Anguish</font></font></a> <br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sudahkah Anda membaca artikel dan memiliki pertanyaan?</font></font></b> <div class="spoiler_text">          .      : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">      PVS-Studio,  2015</a> . ,   . </div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id416565/">https://habr.com/ru/post/id416565/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id416551/index.html">Teori kebahagiaan. Hukum kulit semangka dan normalitas kelainan</a></li>
<li><a href="../id416553/index.html">Bagaimana pendekatan untuk pengembangan terminal untuk perdagangan di bursa berubah: 4 tren 2018</a></li>
<li><a href="../id416555/index.html">Umpan berita: mengapa kita melakukan kesalahan ini?</a></li>
<li><a href="../id416557/index.html">GitLab 11.0: DevOps Otomatis dan Manajemen Lisensi Dirilis</a></li>
<li><a href="../id416561/index.html">Printer hidup, printer hidup, printer akan hidup! Perawatan Canon MG7140</a></li>
<li><a href="../id416569/index.html">Seperti Prius, tetapi hanya di Linux: memikirkan kantor hybrid</a></li>
<li><a href="../id416573/index.html">Mengirim e-mail dari alamat apa pun</a></li>
<li><a href="../id416575/index.html">Analisis Gangguan Superkonduktivitas dari Magnet Hadir Besar Collider di CERN</a></li>
<li><a href="../id416577/index.html">Digest MBLT DEV - segar untuk pengembang iOS</a></li>
<li><a href="../id416579/index.html">Kami mengontrol LED menggunakan Web Bluetooth API dan Arduino</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>