<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí• üóìÔ∏è üë®üèø‚Äçü§ù‚Äçüë®üèª ORM: pourquoi cette t√¢che n'a pas de solution, mais pour y faire face, n√©anmoins, quelque chose doit √™tre üéÖüèº üë©‚Äçüè≠ ‚ÜñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les technologies de l'information modernes √©tonnent par leur puissance, elles sont d√©pass√©es par les opportunit√©s qui s'ouvrent, elles sont d√©courag√©e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ORM: pourquoi cette t√¢che n'a pas de solution, mais pour y faire face, n√©anmoins, quelque chose doit √™tre</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458286/"><img src="https://habrastorage.org/webt/ih/bm/-r/ihbm-rqpvgk6lhwhg43njjt3i3c.jpeg"><br><br>  Les technologies de l'information modernes √©tonnent par leur puissance, elles sont d√©pass√©es par les opportunit√©s qui s'ouvrent, elles sont d√©courag√©es par la perfection technique qui leur est inh√©rente, mais il y a un point ridicule sur lequel l'informatique se casse les dents encore et encore.  Afficher les donn√©es utilisateur de la base de donn√©es, obtenir des informations de sa part, les replacer dans la base de donn√©es, afficher le r√©sultat.  Champs de saisie, boutons, coches, inscriptions - il semblerait qu'ils puissent √™tre tellement prohibitifs d'exiger des constructions d√©routantes comme des cadres au-dessus des moteurs de mod√®les au-dessus des cadres au-dessus des transpilateurs?  Et pourquoi, malgr√© tous les efforts √©normes, nous avons le fait que les exemples de jouets dans le tutoriel, bien s√ªr, sont fabriqu√©s facilement et agr√©ablement, mais d√®s que la bo√Æte √† outils rencontre les vrais probl√®mes de la vie r√©elle ... comment dire plus doucement ... avec une complexit√© croissante des t√¢ches √† r√©soudre, il y a une forte non-lin√©arit√© d'augmentation difficult√©s de mise en ≈ìuvre.  Eh bien, il s'agirait de quelque chose de vraiment d√©routant au niveau de la physique th√©orique ou de la technologie spatiale, car il n'y en a pas de toute fa√ßon - des boutons et des coches.  Pourquoi cette absurdit√© continue-t-elle d'empoisonner la vie des citoyens et des collectifs de travail pendant des d√©cennies? <br><br>  Les raisons, probablement, comme toujours, sont nombreuses.  Ils m√©ritent probablement tous d'√™tre pris en consid√©ration d'une mani√®re ou d'une autre, mais ici et maintenant, nous parlerons de la t√¢che ORM (Object-Relational Mapping), qui se trouve toujours derri√®re certains de ces ¬´boutons et coches¬ª sous une forme ou une autre. <br><a name="habracut"></a><br><h4>  Que savons-nous de l'ORM </h4><br><ol><li>  Stocker des donn√©es dans des tables relationnelles ne veut pas dire que c'est une question tr√®s simple, mais en g√©n√©ral, l'id√©e et les modalit√©s de son application sont assez claires et bien √©tudi√©es. </li><li>  Avec la programmation d'objets, tout n'est pas si bon (il y a plusieurs approches concurrentes), mais en g√©n√©ral, avec la mise en ≈ìuvre et l'application des technologies, tout est aussi plus ou moins clair. </li><li>  √Ä la fois cela et un autre - sur les donn√©es, leur stockage et leur traitement.  C'est en fait √† peu pr√®s la m√™me chose. </li><li>  Il nous semble logique qu'il devrait y avoir un pont simple, compr√©hensible, pratique, pr√©visible et universel entre les deux mondes. </li><li>  Et chaque fois que nous trouvons ce pont facilement, mais le malheur, sa simplicit√©, sa compr√©hensibilit√©, sa commodit√©, sa pr√©visibilit√© et son universalit√© ne fonctionnent pas au-del√† de simples exemples tir√©s de tutoriels. </li><li>  Tout le monde souffre: les d√©veloppeurs, qui doivent faire beaucoup de travail extr√™mement ennuyeux, et les utilisateurs qui doivent se battre avec des logiciels maladroits, et l'entreprise, dont la r√©alisation des besoins s'av√®re soudainement insupportablement longue et co√ªteuse, et l'industrie dans son ensemble. </li><li>  J'ai vu de nombreux ORM diff√©rents, mais je n'en ai pas vu de bons.  Autrement dit, celui qui, au-del√† des simples exemples, ne se transforme pas en fardeau et en lit procrust√©en. </li></ol><br><h4>  Pourquoi tout est-il si bizarre </h4><br>  La base id√©ologique de la th√©orie et de la pratique des bases de donn√©es relationnelles est le calcul des pr√©dicats, c'est-√†-dire une branche des math√©matiques.  Quant √† la POO, une base id√©ologique similaire y fait d√©faut.  On peut essayer de formuler l'id√©e de base de la POO comme ceci: puisque le monde est constitu√© d'objets, il serait commode de le mod√©liser, ce monde, en cr√©ant des objets √† l'int√©rieur d'un syst√®me logiciel.  En ce sens, deux erreurs √† la fois.  Premi√®rement, le monde lui-m√™me ne consiste pas et n'a jamais √©t√© constitu√© d'objets.  Deuxi√®mement, je suis d√©sol√©, mais pourquoi le programme doit-il simuler le monde?  Autrement dit, nous avons une d√©claration conceptuellement incorrecte, parfaitement compl√©t√©e par une d√©claration d√©nu√©e de sens du probl√®me. <br><br>  Tout ORM est une tentative d'√©tirer clairement la correspondance unifi√©e entre, en fait, la branche des math√©matiques et un ensemble vague de pratiques diverses, bas√©es sur des consid√©rations de commodit√©, des approches historiquement √©tablies, et aussi souvent sur des l√©gendes, des opinions des autorit√©s et simplement des id√©es fausses.  In vitro, il peut √™tre fait pour fonctionner, mais in vivo, il est vou√© √† para√Ætre path√©tique et √† apporter plus de chagrin que de joie. <br><br><h4>  Sur l'in√©vitabilit√© de l'orientation des objets </h4><br>  N√©anmoins, la n√©cessit√© de l'orientation objet de notre logiciel est notre r√©alit√© in√©vitable.  Cette in√©vitabilit√© est bas√©e principalement sur le fait que fonctionner avec des objets est l'essence et le fondement de l'une de nos activit√©s.  Le monde lui-m√™me ne se compose pas d'objets, mais pour comprendre quelque chose dans ce monde et faire quelque chose avec ce monde, nous d√©clarons nous-m√™mes ses parties en tant qu'objets, les appelons des noms, essayons de comprendre leur comportement, appliquons √† lui s'efforce d'obtenir les r√©sultats souhait√©s.  C'est notre fa√ßon de fonctionner, il est impossible de la quitter et ce n'est pas n√©cessaire.  Tout est objet, non pas parce qu'il l'est vraiment, mais parce que nous ne pouvons pas faire autrement.  Ce qui ne peut en aucun cas √™tre un objet se situe compl√®tement en dehors des limites de notre capacit√© √† comprendre et ne peut pas faire l'objet de nos efforts. <br><br>  M√™me si le programme est √©crit sans utiliser de techniques OOP, il contient in√©vitablement des objets (au sens large du terme), en manipulant ce que le d√©veloppeur r√©sout son probl√®me - variables, types de donn√©es, op√©rateurs, algorithmes, constructions syntaxiques, fonctions, modules.  Du point de vue de l'utilisateur, le programme dispose √©galement d'un ensemble d'objets avec lesquels il interagit - boutons, √©tiquettes, champs de saisie, pages, sites et l'ensemble du syst√®me. <br><br><h4>  Ce que nous stockons dans nos bases de donn√©es </h4><br>  Comme mentionn√© ci-dessus, les bases de donn√©es relationnelles sont bas√©es sur le calcul des pr√©dicats.  Un pr√©dicat est un fait formul√© et, dans notre cas, stock√© sur un support.  Juste au cas o√π, je note que la base de donn√©es relationnelle n'est pas seulement et pas tellement sur les relations entre les tables par des cl√©s √©trang√®res.  Dans la terminologie appropri√©e, les relations sont ce que nous appelons simplement des tables.  Autrement dit, m√™me si votre base de donn√©es n'a qu'une seule table avec deux colonnes (par exemple, le nom et le num√©ro de t√©l√©phone), vous disposez d√©j√† d'une base de donn√©es relationnelle qui √©tablit la relation entre deux ensembles, dans ce cas, des ensembles de noms et de num√©ros de t√©l√©phone.  <i>Une base de donn√©es relationnelle ne stocke pas d'objets, elle stocke des faits.</i>  Les faits stock√©s, bien s√ªr, ont un objet (¬´de quoi s'agit-il?¬ª), Et lorsque nous essayons d'apprendre au syst√®me √† r√©pondre √† cette question, nous avons des entit√©s, c'est-√†-dire des objets auxquels des faits sont associ√©s.  Si vous travaillez correctement, la structure de notre base est n√©e d'une s√©rie de r√©ponses √† la question ¬´quel genre de faits avons-nous l'intention de garder?¬ª, Et ce n'est qu'√† l'√©tape suivante que nous obtenons quelque chose qui ressemble √† des objets qui donnent des faits √† l'objectivit√©.  Vous pouvez, bien s√ªr, concevoir ¬´√† partir d'objets¬ª, mais je ne recommanderais pas de le faire, sauf dans les travaux de laboratoire sur des sujets qui ne sont pas directement li√©s √† la conception de bases de donn√©es.  Le danger de lourdes erreurs architecturales est trop grand.  De plus, c'est au moins g√™nant. <br><br>  <b>Une petite digression sur les bases de donn√©es d'objets.</b>  Une pens√©e tr√®s simple: si nous sommes fatigu√©s des probl√®mes d'ORM, alors peut-√™tre devrions-nous faire quelque chose avec la partie qui est "R"?  Que notre base de donn√©es ne soit pas un monstre relationnel difficile et exigeant, mais quelque chose de jeune √† la mode sp√©cialement con√ßu pour stocker des objets.  Une sorte de base NoSQL sch√©matique, par exemple.  Mais au final, il s'av√®re soudain que les ORM de type NoSQL sont encore plus maladroits et contre nature que les bons vieux SQL.  Quoi qu'il en soit, nous pouvons avoir et utiliser avec plaisir un SGBD sans circuit, mais il n'y a pas de donn√©es sans circuit dans la nature.  Il n'y a rien de plus impuissant, irresponsable et immoral que l'ORM pour les bases de donn√©es sans circuit. <br><br><h4>  Bon ORM </h4><br>  Un bon ORM est l'ORM manquant.  Eh bien, s√©rieusement.  Regardez l'un de vos syst√®mes ORM et essayez honn√™tement de r√©pondre √† votre question: quels sont les avantages de ce monstre?  Quelle est la raison de son utilisation, sauf pour les promesses de bonheur non tenues et les pr√©jug√©s discr√©dit√©s √† plusieurs reprises?  Bien s√ªr, il y a des choses utiles, mais quelles sont-elles dans le contexte des d√©formations architecturales introduites et des probl√®mes de performance qui surgissent constamment √† l'improviste? <br><br>  En r√®gle g√©n√©rale, l'API de base de donn√©es ¬´bas niveau¬ª est simple, pratique, compl√®te et coh√©rente.  Habituellement, suffisamment de doigts pour r√©pertorier toutes les fonctionnalit√©s.  Les apprendre n'est pas une nouvelle divine quelle t√¢che. <br><br>  Je vais essayer d'esquisser un ensemble de principes architecturaux qui vous permettent de mapper des objets √† une base de donn√©es sans utiliser ORM: <br><br><ol><li>  <i>Nous stockons les faits, op√©rons sur des objets.</i>  N'oubliez pas que la base de donn√©es stocke des faits et que les mod√®les d'objets impliqu√©s dans le traitement des donn√©es sont des projections d'ensembles de faits de diff√©rents points de vue.  Par exemple, pour l'exemple donn√© avec les noms et les num√©ros de t√©l√©phone, nous pouvons avoir la classe Abonent, pour laquelle plusieurs num√©ros peuvent √™tre stock√©s, et aussi la classe PhoneNumber, pour laquelle plusieurs abonn√©s peuvent √™tre d√©finis (n'oubliez pas qu'en plus des num√©ros de mobile personnels, nous avons o√π il y a encore des t√©l√©phones d'appartement et de bureau).  Et la table dans la base de donn√©es est juste celle qui d√©finit la relation plusieurs-√†-plusieurs entre plusieurs noms et num√©ros de t√©l√©phone.  Juste deux projections diff√©rentes.  Cette approche, soit dit en passant, √©volue normalement vers des cas beaucoup plus complexes, vous permettant d'avoir des classes utiles dans le syst√®me comme, par exemple, "les ventes moyennes pour une p√©riode donn√©e selon une combinaison donn√©e de crit√®res". </li><li>  <i>Les faits sont projet√©s dans des objets et vice versa via une API orient√©e probl√®me.</i>  Sans appliquer une solution qui se veut universelle.  Si vous ne savez toujours pas comment composer des API pratiques, d√©couvrez comment.  Et surtout, apprenez-vous √† les documenter imm√©diatement. </li><li>  <i>Commandez avant tout.</i>  Si vous utilisez la version classique d'un SGBD avec un sch√©ma de donn√©es rigide, ce sch√©ma en lui-m√™me met de l'ordre dans le travail avec les donn√©es.  La structure suppl√©mentaire cod√©e par la structure des objets est simplement redondante.  Si vous utilisez un SGBD sans sch√©ma, vous devrez bien s√ªr faire quelques efforts pour vous assurer que votre base de donn√©es ne se transforme pas en une montagne d'ordures car les diff√©rents d√©veloppeurs ont des id√©es diff√©rentes sur ce qui est stock√©. </li><li>  <i>Ind√©pendance du SGBD (si n√©cessaire).</i>  Si la propri√©t√© d'ORM la plus int√©ressante pour vous est l'ind√©pendance du SGBD, utilisez des outils sp√©ciaux tels que ODBC, JDBC, ADO, ou si cela n'est pas possible, cr√©ez votre propre niveau d'abstraction.  Ce n'est pas aussi difficile que cela puisse para√Ætre au premier abord.  Vous n'avez pas besoin de support pour absolument toutes les capacit√©s de absolument tous les SGBD pour votre t√¢che, non? </li><li>  <i>N'oubliez pas les aspects suppl√©mentaires de l'utilisation des donn√©es.</i>  Tels que, par exemple, le partage de l'acc√®s aux donn√©es (qui peuvent √™tre arbitrairement complexes), la surveillance, la r√©plication, etc.  Mais ici, j'ai de bonnes nouvelles pour vous: parce que dans votre ORM pr√©f√©r√©, l'ajout.  l'aspect est toujours mis en ≈ìuvre selon le principe ¬´vous ne plairez pas √† tout le monde, mangez ce que vous donnez¬ª, le rejet d'un service douteux avec lequel vous devez faire plus que coop√©rer s'av√©rera finalement √™tre une d√©cision strat√©giquement correcte. </li></ol><br><h4>  Total </h4><br>  L'ORM est un sujet tr√®s sensible pour notre industrie.  √Ä une √©poque o√π l'intelligence artificielle du cloud laboure la blockchain quantique, la grande majorit√© de la main-d'≈ìuvre est occup√©e √† visser la logique m√©tier et une interface utilisateur aux bases de donn√©es.  Des millions de lignes de code terrible, clou√©es avec des microscopes, la douleur et le d√©sespoir accompagnent partout ce processus cr√©atif.  L'une des racines de cette triste situation est l'id√©e fausse extr√™mement persistante qu'un ORM universel est en principe possible.  Mais c'est impossible, et il y a une raison fondamentale √† cela, qui ne peut √™tre √©limin√©e.  La prise de conscience de ce fait est la premi√®re √©tape vers la sortie de ce cauchemar.  Il existe un moyen de sortir, il existe des alternatives, mais vous devez d'abord vous rendre compte, ressentir et apprendre √† garder le focus de l'attention. <br><br>  PS Je m'excuse sinc√®rement aupr√®s des fr√®res de la profession qui ont investi beaucoup de temps et d'efforts dans la cr√©ation de nombreux meilleurs universels dans le monde de l'ORM.  Je suis vraiment d√©sol√©e. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr458286/">https://habr.com/ru/post/fr458286/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr458272/index.html">√áa alors! pour les voyageurs - l'histoire d'un projet de maison</a></li>
<li><a href="../fr458276/index.html">La premi√®re simulation de l'Univers bas√©e sur l'IA a √©t√© d√©velopp√©e. Un r√©seau de neurones fait si bien son travail que c'est m√™me bizarre</a></li>
<li><a href="../fr458278/index.html">Comment les pirates utilisent Microsoft Excel contre lui-m√™me</a></li>
<li><a href="../fr458280/index.html">Un autre pas vers la fin de la loi de Moore</a></li>
<li><a href="../fr458282/index.html">Avant Netscape: les navigateurs Web oubli√©s du d√©but des ann√©es 1990</a></li>
<li><a href="../fr458288/index.html">Anton Belichkov: ¬´La fa√ßon la plus simple de comprendre la puissance d'OpenStreetMap est de commencer √† √©diter la carte vous-m√™me¬ª</a></li>
<li><a href="../fr458290/index.html">Ordinateur biosynth√©tique √† double c≈ìur dans une cellule vivante</a></li>
<li><a href="../fr458292/index.html">PHP Digest n ¬∞ 159 (17 juin - 1er juillet 2019)</a></li>
<li><a href="../fr458298/index.html">Fabriqu√© un grand demi-engrenage sur des panneaux solaires pour 250 000 roubles (2 parties)</a></li>
<li><a href="../fr458300/index.html">Evolution de l'outil le plus populaire de chaque d√©veloppeur (dans Visual Studio)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>