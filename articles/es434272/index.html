<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßõüèΩ üñêÔ∏è üë©üèº‚Äçü§ù‚Äçüë®üèª RoadRunner: PHP no est√° hecho para morir, o Golang al rescate ‚ö∞Ô∏è üàÅ üöç</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! En Badoo estamos trabajando activamente en el rendimiento de PHP , ya que tenemos un sistema bastante grande en este lenguaje y la cuesti√≥n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RoadRunner: PHP no est√° hecho para morir, o Golang al rescate</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/434272/"><img src="https://habrastorage.org/webt/iw/kn/au/iwknauolmahz8ueoadgkp3mp0zs.jpeg"><br><br>  Hola Habr!  En Badoo estamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">trabajando</a> activamente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el rendimiento de PHP</a> , ya que tenemos un sistema bastante grande en este lenguaje y la cuesti√≥n del rendimiento es una cuesti√≥n de ahorrar dinero.  Hace m√°s de diez a√±os, creamos para este PHP-FPM, que primero fue un conjunto de parches para PHP, y luego entr√≥ en la entrega oficial. <br><br>  En los √∫ltimos a√±os, PHP ha avanzado mucho: el recolector de basura ha mejorado, el nivel de estabilidad ha mejorado: hoy en PHP puede escribir demonios y scripts de larga duraci√≥n sin ning√∫n problema especial.  Esto permiti√≥ a Spiral Scout ir m√°s all√°: RoadRunner, a diferencia de PHP-FPM, no borra la memoria entre solicitudes, lo que proporciona una ganancia de rendimiento adicional (aunque este enfoque complica el proceso de desarrollo).  Ahora estamos experimentando con esta herramienta, pero a√∫n no tenemos resultados que puedan compartirse.  Esperarlos fue m√°s divertido, <b>publicamos la traducci√≥n del anuncio del RoadRunner de Spiral Scout.</b> <br><br>  El enfoque del art√≠culo es cercano a nosotros: al resolver nuestros problemas, tambi√©n usamos a menudo un mont√≥n de PHP y Go, obteniendo ventajas de ambos lenguajes y no abandonamos uno en favor del otro. <br><br>  ¬°A disfrutar! <br><a name="habracut"></a><br><hr><br>  En los √∫ltimos diez a√±os, hemos creado aplicaciones para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">compa√±√≠as de Fortune 500</a> y para negocios con una audiencia de no m√°s de 500 usuarios.  Todo este tiempo, nuestros ingenieros desarrollaron el back-end principalmente en PHP.  Pero hace dos a√±os, algo influy√≥ enormemente no solo en el rendimiento de nuestros productos, sino tambi√©n en su escalabilidad: presentamos Golang (Go) en nuestra pila de tecnolog√≠a. <br><br>  Casi de inmediato, descubrimos que Go nos permite crear aplicaciones m√°s grandes con un rendimiento hasta 40 veces mayor.  Con √©l, pudimos expandir productos existentes escritos en PHP, mejor√°ndolos a trav√©s de una combinaci√≥n de las ventajas de ambos lenguajes. <br><br>  Le diremos c√≥mo la combinaci√≥n Go y PHP ayuda a resolver problemas de desarrollo reales y c√≥mo se ha convertido para nosotros en una herramienta que puede aliviar parte de los problemas asociados con el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">modelo "moribundo" de PHP</a> . <br><br><h3>  Su entorno de desarrollo PHP diario </h3><br>  Antes de hablar sobre c√≥mo Go puede animar el modelo "moribundo" de PHP, veamos su entorno de desarrollo PHP est√°ndar. <br><br>  En la mayor√≠a de los casos, inicia la aplicaci√≥n utilizando una combinaci√≥n del servidor web nginx y el servidor PHP-FPM.  El primero sirve archivos est√°ticos y redirige solicitudes espec√≠ficas a PHP-FPM, y el propio PHP-FPM ejecuta el c√≥digo PHP.  Quiz√°s est√© utilizando un paquete menos popular de Apache y mod_php.  Pero aunque funciona un poco diferente, los principios son los mismos. <br><br>  Considere c√≥mo PHP-FPM ejecuta el c√≥digo de la aplicaci√≥n.  Cuando llega una solicitud, PHP-FPM inicializa un proceso PHP secundario y pasa los detalles de la solicitud como parte de su estado (_GET, _POST, _SERVER, etc.). <br><br>  El estado no puede cambiar durante la ejecuci√≥n del script PHP, por lo que puede obtener un nuevo conjunto de datos de entrada de una sola manera: borrando la memoria del proceso e inicializ√°ndolo nuevamente. <br><br>  Este modelo de ejecuci√≥n tiene muchas ventajas.  No necesita preocuparse demasiado por el consumo de memoria, todos los procesos est√°n completamente aislados, y si uno de ellos muere, se recrear√° autom√°ticamente y esto no afectar√° a los otros procesos.  Pero este enfoque tambi√©n tiene inconvenientes que aparecen al intentar escalar la aplicaci√≥n. <br><br><h3>  Desventajas e ineficiencias de un entorno PHP normal </h3><br>  Si est√° involucrado en el desarrollo profesional en PHP, entonces sabe d√≥nde comenzar un nuevo proyecto, con la elecci√≥n de un marco.  Es una biblioteca para inyecci√≥n de dependencias, ORM, traducciones y plantillas.  Y, por supuesto, todas las entradas del usuario se pueden colocar convenientemente en un objeto (Symfony / HttpFoundation o PSR-7).  Los marcos son geniales! <br><br>  Pero todo tiene un precio.  En cualquier marco de trabajo de nivel empresarial, para procesar una solicitud de usuario simple o acceder a la base de datos, deber√° descargar al menos docenas de archivos, crear numerosas clases y analizar varias configuraciones.  Pero la peor parte es que despu√©s de completar cada tarea, deber√° restablecer todo y comenzar de nuevo: todo el c√≥digo que acaba de iniciar se vuelve in√∫til, con lo que ya no procesar√° otra solicitud.  Cu√©ntale a cualquier programador que escriba en cualquier otro idioma al respecto y ver√°s desconcierto en su rostro. <br><br>  Durante a√±os, los ingenieros de PHP han estado buscando formas de resolver este problema, utilizando m√©todos bien pensados ‚Äã‚Äãde carga diferida, microframes, bibliotecas optimizadas, cach√©, etc. Pero al final, a√∫n tiene que restablecer toda la aplicaci√≥n y comenzar una y otra vez.  <i>(Nota del traductor: este problema se resolver√° parcialmente con la llegada de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">precarga</a> en PHP 7.4)</i> <i><br><br></i> <h3>  <i>¬øPuede PHP usar Go para sobrevivir a m√°s de una solicitud?</i> </h3> <i><br></i>  Puede escribir scripts PHP que durar√°n m√°s de unos pocos minutos (hasta horas o d√≠as): por ejemplo, tareas cron, analizadores CSV, interruptores de cola.  Todos funcionan de acuerdo con un escenario: extraen la tarea, la completan, esperan la siguiente.  El c√≥digo est√° constantemente en la memoria, ahorrando preciosos milisegundos, ya que se requieren muchos pasos adicionales para descargar el marco y la aplicaci√≥n. <br><br>  Pero desarrollar scripts de larga duraci√≥n no es tan simple.  Cualquier error mata por completo el proceso, el diagn√≥stico de p√©rdidas de memoria es irritante y ya no es posible la depuraci√≥n con F5. <br><br>  La situaci√≥n mejor√≥ con el lanzamiento de PHP 7: apareci√≥ un recolector de basura confiable, se hizo m√°s f√°cil manejar los errores y las extensiones del n√∫cleo ahora est√°n protegidas contra fugas.  Es cierto que los ingenieros a√∫n necesitan manejar con cuidado la memoria y recordar los problemas de estado en el c√≥digo (¬øhay alg√∫n idioma en el que pueda ignorar estas cosas?).  Y, sin embargo, en PHP 7, hay menos sorpresas. <br><br>  ¬øEs posible tomar un modelo para trabajar con scripts PHP de larga duraci√≥n, adaptarlo para tareas m√°s triviales como procesar solicitudes HTTP y as√≠ eliminar la necesidad de descargar todo desde cero con cada solicitud? <br><br>  Para resolver este problema, primero fue necesario implementar una aplicaci√≥n de servidor capaz de aceptar solicitudes HTTP y redirigirlas una por una al trabajador PHP, sin matarlo cada vez. <br><br>  Sab√≠amos que pod√≠amos escribir un servidor web en PHP puro (PHP-PM) o usando la extensi√≥n C (Swoole).  Y aunque cada m√©todo tiene sus propias ventajas, ambas opciones no nos conven√≠an: quer√≠a algo m√°s.  No solo se necesitaba un servidor web: esper√°bamos obtener una soluci√≥n que pudiera salvarnos de los problemas asociados con un "inicio dif√≠cil" en PHP, que al mismo tiempo puede adaptarse y expandirse f√°cilmente para aplicaciones espec√≠ficas.  Es decir, necesit√°bamos un servidor de aplicaciones. <br><br>  ¬øPuede ayudar con esto?  Sab√≠amos que pod√≠a, porque este lenguaje compila aplicaciones en archivos binarios √∫nicos;  es multiplataforma;  utiliza su propio modelo de concurrencia muy elegante y una biblioteca para trabajar con HTTP;  y finalmente, miles de bibliotecas de c√≥digo abierto e integraciones estar√°n disponibles para nosotros. <br><br><h3>  Dificultades para combinar dos lenguajes de programaci√≥n. </h3><br>  En primer lugar, fue necesario determinar c√≥mo se comunicar√°n dos o m√°s aplicaciones entre s√≠. <br><br>  Por ejemplo, con la ayuda de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">excelente biblioteca de</a> Alex Palaestras, fue posible implementar el intercambio de memoria mediante los procesos PHP y Go (similar a mod_php en Apache).  Pero esta biblioteca tiene caracter√≠sticas que limitan su uso para resolver nuestro problema. <br><br>  Decidimos usar un enfoque diferente y m√°s com√∫n: crear interacci√≥n entre procesos a trav√©s de sockets / tuber√≠as.  Este enfoque en las √∫ltimas d√©cadas ha demostrado ser confiable y ha sido optimizado a nivel de sistema operativo. <br><br>  Para empezar, creamos un protocolo binario simple para intercambiar datos entre procesos y manejar errores de transmisi√≥n.  En su forma m√°s simple, un protocolo de este tipo es similar a la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cadena</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">red</a> con <a href="">un encabezado de paquete de tama√±o fijo</a> (en nuestro caso, 17 bytes), que contiene informaci√≥n sobre el tipo de paquete, su tama√±o y una m√°scara binaria para verificar la integridad de los datos. <br><br>  En el lado de PHP, utilizamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la funci√≥n de paquete</a> , y en el lado de Go, la biblioteca de <a href="">codificaci√≥n / binaria</a> . <br><br>  Un protocolo no fue suficiente para nosotros, y agregamos la capacidad de llamar a <a href="">net / rpc Go-services directamente desde PHP</a> .  M√°s tarde, nos ayud√≥ mucho en el desarrollo, ya que pudimos integrar f√°cilmente las bibliotecas Go en aplicaciones PHP.  El resultado de este trabajo se puede ver, por ejemplo, en nuestro otro producto de c√≥digo abierto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Goridge</a> . <br><br><h3>  Distribuci√≥n de tareas entre varios trabajadores PHP </h3><br>  Despu√©s de implementar el mecanismo de interacci√≥n, comenzamos a pensar en c√≥mo transferir mejor las tareas a los procesos de PHP.  Cuando llega una tarea, el servidor de aplicaciones debe elegir un trabajador libre para completarla.  Si el trabajador / proceso finaliz√≥ con un error o "muri√≥", lo eliminamos y creamos uno nuevo a cambio.  Y si el trabajador / proceso funcion√≥ con √©xito, lo devolvemos al grupo de trabajadores disponibles para completar las tareas. <br><br><img src="https://habrastorage.org/webt/we/eo/5_/weeo5_2hl44jkd6xgtqt33gzbza.png"><br><br>  Utilizamos un <a href="">canal protegido</a> para almacenar el grupo de trabajadores activos; para eliminar del grupo a los trabajadores inesperadamente "muertos", agregamos un mecanismo para rastrear errores y el estado de los trabajadores. <br><br>  Como resultado, obtuvimos un servidor PHP en funcionamiento capaz de procesar cualquier solicitud presentada en forma binaria. <br><br>  Para que nuestra aplicaci√≥n comenzara a funcionar como servidor web, tuve que elegir un est√°ndar PHP confiable para presentar cualquier solicitud HTTP entrante.  En nuestro caso, simplemente <a href="https://github.com/spiral/roadrunner/blob/master/service/">convertimos la</a> solicitud net / http de Go al formato <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PSR-7</a> para que sea compatible con la mayor√≠a de los frameworks PHP disponibles en la actualidad. <br><br>  Dado que PSR-7 se considera inmutable (alguien dir√° que t√©cnicamente no lo es), los desarrolladores tienen que escribir aplicaciones que, en principio, no manejan la solicitud como una entidad global.  Esto va bien con el concepto de procesos PHP de larga duraci√≥n.  Nuestra implementaci√≥n final, que a√∫n no ha recibido un nombre, se ve√≠a as√≠: <br><br><img src="https://habrastorage.org/webt/xa/px/ak/xapxakkcbhrws7c2-p83lqgkmhk.png"><br><br><h3>  Presentaci√≥n de RoadRunner: un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">servidor de aplicaciones PHP de alto rendimiento</a> </h3><br>  Nuestra primera tarea de prueba fue un back-end API, que peri√≥dicamente causaba r√°fagas de solicitudes impredecibles (mucho m√°s a menudo de lo habitual).  Aunque en la mayor√≠a de los casos hab√≠a suficientes funciones nginx, encontramos regularmente un error 502, porque no pod√≠amos equilibrar el sistema lo suficientemente r√°pido para el aumento esperado de la carga. <br><br>  Para reemplazar esta soluci√≥n, a principios de 2018, implementamos nuestro primer servidor de aplicaciones PHP / Go.  ¬°Y de inmediato obtuvo un efecto incre√≠ble!  No solo nos deshicimos por completo del error 502, sino que tambi√©n pudimos reducir la cantidad de servidores en dos tercios, ahorrando una tonelada de dinero y pastillas para dolores de cabeza para ingenieros y gerentes de producto. <br><br>  A mediados de a√±o, mejoramos nuestra soluci√≥n, la publicamos en GitHub bajo la licencia MIT y la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">llamamos RoadRunner</a> , enfatizando su incre√≠ble velocidad y eficiencia. <br><br><h3>  C√≥mo RoadRunner puede mejorar su pila de desarrollo </h3><br>  El uso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RoadRunner</a> nos permiti√≥ usar Middleware net / http en el lado Go para llevar a cabo la verificaci√≥n JWT antes de que la solicitud llegue a PHP, as√≠ como para procesar WebSockets y estados globales agregados en Prometheus. <br><br>  Gracias al RPC incorporado, puede abrir la API de cualquier biblioteca Go para PHP sin escribir envoltorios de extensi√≥n.  M√°s importante a√∫n, RoadRunner puede implementar nuevos servidores que no sean HTTP.  Los ejemplos incluyen la ejecuci√≥n de controladores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AWS Lambda</a> en PHP, la creaci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">solucionadores de</a> colas robustos e incluso la adici√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gRPC</a> a nuestras aplicaciones. <br><br>  Con la ayuda de las comunidades PHP y Go, aumentamos la estabilidad de la soluci√≥n, en algunas pruebas aumentamos el rendimiento de la aplicaci√≥n hasta 40 veces, mejoramos las herramientas de depuraci√≥n, implementamos la integraci√≥n con el marco de Symfony y agregamos soporte para HTTPS, HTTP / 2, complementos y PSR-17. <br><br><h3>  Conclusi√≥n </h3><br>  Algunos todav√≠a est√°n cautivados por la noci√≥n obsoleta de PHP como un lenguaje lento y engorroso, adecuado solo para escribir complementos para WordPress.  Estas personas incluso pueden decir que PHP tiene esa limitaci√≥n: cuando la aplicaci√≥n se vuelve lo suficientemente grande, debe elegir un lenguaje m√°s "maduro" y reescribir la base de c√≥digo que se ha acumulado durante muchos a√±os. <br><br>  Me gustar√≠a responder a todo esto: piense de nuevo.  Creemos que solo usted mismo establece restricciones para PHP.  Puede pasar toda su vida cambiando de un idioma a otro, tratando de encontrar la combinaci√≥n perfecta con sus necesidades, o puede comenzar a percibir los idiomas como herramientas.  Los defectos aparentes de un lenguaje como PHP pueden ser las razones de su √©xito.  Y si lo combina con otro idioma como Go, crear√° productos mucho m√°s potentes que si estuviera limitado a usar un solo idioma. <br><br>  Despu√©s de trabajar con un mont√≥n de Go y PHP, podemos decir que los amamos.  No planeamos sacrificar uno en favor del otro; por el contrario, buscaremos formas de obtener a√∫n m√°s beneficios de esta doble pila. <br><br>  <i>UPD: Bienvenido al creador de RoadRunner y coautor del art√≠culo original - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Lachezis</a></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es434272/">https://habr.com/ru/post/es434272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es434260/index.html">Microsoft celebra un concurso de Agente de IA en Minecraft</a></li>
<li><a href="../es434262/index.html">Escribir y compilar un √°lbum para Linux (Ubuntu 16.04, Ardor, Hydrogen, Kontakt)</a></li>
<li><a href="../es434264/index.html">Intel ‚ùÑ 2018. Resultados del a√±o</a></li>
<li><a href="../es434266/index.html">Notas del proveedor de IoT: deje que haya luz o el historial del primer pedido de estado por LoRa</a></li>
<li><a href="../es434268/index.html">TOP 3 innovadores de herramientas de prueba de seguridad de software m√≥vil</a></li>
<li><a href="../es434274/index.html">Paralelos se convierten en parte de Corel?</a></li>
<li><a href="../es434276/index.html">Slack se disculpa por el bloqueo err√≥neo de la cuenta</a></li>
<li><a href="../es434278/index.html">El matem√°tico aficionado descubri√≥ la cobertura universal m√°s peque√±a</a></li>
<li><a href="../es434280/index.html">C√≥mo la tecnolog√≠a de reconocimiento facial ayuda a la polic√≠a</a></li>
<li><a href="../es434282/index.html">Bitfury Crystal: c√≥mo funciona y d√≥nde se utiliza nuestra herramienta para rastrear transacciones criptogr√°ficas sospechosas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>