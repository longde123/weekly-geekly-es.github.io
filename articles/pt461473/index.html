<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ üëò üÜé Algoritmos de depura√ß√£o em gr√°ficos - agora com imagens üßëüèª üíÄ üÉè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imagine uma situa√ß√£o t√≠pica no primeiro ano: voc√™ leu sobre o algoritmo Dinits , implementou-o, mas n√£o funcionou e n√£o sabe o porqu√™. A solu√ß√£o padr√£...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Algoritmos de depura√ß√£o em gr√°ficos - agora com imagens</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hsespb/blog/461473/">  Imagine uma situa√ß√£o t√≠pica no primeiro ano: voc√™ leu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sobre o algoritmo Dinits</a> , implementou-o, mas n√£o funcionou e n√£o sabe o porqu√™.  A solu√ß√£o padr√£o √© iniciar a depura√ß√£o em etapas, sempre desenhando o estado atual do gr√°fico em um peda√ßo de papel, mas isso √© extremamente inconveniente.  Tentei corrigir a situa√ß√£o como parte de um projeto de semestre em Engenharia de Software e, em um post, vou contar como acabei com um plug-in para o Visual Studio.  Voc√™ pode fazer o download <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> , o c√≥digo fonte e a documenta√ß√£o podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Aqui est√° uma captura de tela do gr√°fico obtido para o algoritmo Dinits. <br><br><img src="https://habrastorage.org/webt/mq/m_/bg/mqm_bgawuvqn8v0wwqb9-jgm4cm.png"><a name="habracut"></a><br><br><h2>  Sobre mim </h2><br>  Meu nome √© Olga, me formei no terceiro ano da dire√ß√£o "Matem√°tica Aplicada e Ci√™ncia da Computa√ß√£o" no HSE de S√£o Petersburgo com um diploma em Engenharia de Software.  Antes de entrar na universidade, eu n√£o estava envolvido em programa√ß√£o. <br><br><h2>  Pesquisa: requisitos </h2><br>  No nosso corpo docente, trabalha no trabalho de pesquisa semestral.  Geralmente isso acontece assim: no in√≠cio do semestre, ocorre uma apresenta√ß√£o de trabalhos de pesquisa - representantes de diferentes empresas oferecem v√°rios projetos.  Em seguida, os alunos escolhem seus projetos favoritos, os supervisores escolhem seus alunos favoritos e assim por diante.  No final, todo aluno encontra um projeto para si mesmo. <br><br>  Mas h√° outra maneira: voc√™ pode encontrar de forma independente um supervisor e um projeto e, em seguida, convencer o curador de que esse projeto pode realmente ser um P&amp;D completo.  Para fazer isso, prove que: <br><br><ol><li>  Voc√™ vai fazer algo novo.  Obviamente, o projeto pode ter an√°logos, mas sua op√ß√£o deve ter algumas vantagens sobre eles. <br></li><li>  A tarefa deve ser bastante dif√≠cil, ou seja, o trabalho que deve haver por um semestre e n√£o por um dia.  Ao mesmo tempo, √© necess√°rio que o projeto seja realmente realizado em um semestre. <br></li><li>  Seu projeto deve ser √∫til para o mundo.  Ou seja, quando perguntado por que isso √© necess√°rio, voc√™ n√£o deve responder: "Bem, eu preciso fazer algum tipo de pesquisa". <br></li></ol><br>  Eu escolhi o segundo caminho.  A primeira coisa a fazer depois que concordei com o supervisor foi encontrar o t√≥pico do projeto.  A lista de id√©ias inclu√≠a: verificador de estilo de c√≥digo para Lua, um depurador que permite calcular express√µes em partes e uma ferramenta para olimp√≠adas / treinamento em programa√ß√£o, que permite visualizar o que est√° acontecendo no c√≥digo.  Ou seja, um visualizador para estruturas de dados arbitr√°rias combinadas com um depurador.  Por exemplo, uma pessoa escreve uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√°rvore cartesiana</a> e, no processo, v√©rtices, arestas, o v√©rtice atual e assim por diante s√£o desenhados.  No final, decidi me debru√ßar sobre essa op√ß√£o. <br><br><h2>  Plano de trabalho do projeto </h2><br>  Meu trabalho no projeto consistiu nas seguintes etapas: <br><br><ol><li>  <b>O estudo da √°rea de estudo foi</b> necess√°rio para entender se esse problema j√° havia sido resolvido (o t√≥pico do projeto teria que ser alterado), quais s√£o seus an√°logos, quais s√£o suas vantagens e desvantagens, que eu poderia levar em considera√ß√£o no meu trabalho. <br></li><li>  <b>Definir a funcionalidade espec√≠fica</b> que a ferramenta criada possuir√°.  O tema do projeto foi declarado de maneira bastante abstrata, e isso foi necess√°rio para garantir que a tarefa seja bastante complicada, mas, ao mesmo tempo, pode ser conclu√≠da em um semestre. <br></li><li>  <b>A cria√ß√£o de uma interface do usu√°rio prot√≥tipo foi</b> necess√°ria para demonstrar como a ferramenta criada pode ser usada.  Acrescentou ainda mais especificidade do que um conjunto de recursos descritos por palavras. <br></li><li>  <b>Escolha de depend√™ncias</b> - voc√™ precisa entender como tudo ser√° organizado do ponto de vista do desenvolvedor e decidir sobre as ferramentas que ser√£o usadas no processo de escrever c√≥digo. <br></li><li>  <b>Criando um prot√≥tipo (prova de conceito)</b> , ou seja, um exemplo m√≠nimo no qual a maioria seria codificada.  Com este exemplo, eu tive que lidar com todas as ferramentas que iria usar e tamb√©m aprender como resolver todas as dificuldades que surgiram ao longo do caminho, para que a vers√£o final j√° estivesse escrita "limpa". <br></li><li>  <b>Trabalhe na parte de conte√∫do</b> , ou seja, no desenvolvimento e implementa√ß√£o da l√≥gica da ferramenta. <br></li><li>  <b>A prote√ß√£o do projeto √©</b> necess√°ria para poder falar rapidamente sobre o trabalho realizado e dar a oportunidade de avali√°-lo a todos, mesmo √†s pessoas que n√£o remexem no assunto.  √â um treinamento antes da formatura.  Ao mesmo tempo, um projeto bem elaborado n√£o garante que o relat√≥rio seja bom, pois exige outras habilidades, por exemplo, a capacidade de falar com o p√∫blico. <br></li></ol><br>  Sempre realizei planejamento com meu supervisor.  Tamb√©m sempre t√≠nhamos ideias e discut√≠amos todas as id√©ias que surgiram ao longo do caminho.  Al√©m disso, o supervisor me deu conselhos sobre o c√≥digo e ajudou no gerenciamento do tempo.  Sobre todos os problemas t√©cnicos (bugs incompreens√≠veis etc.) tamb√©m sempre relatei, mas na maioria das vezes consegui resolv√™-los pessoalmente. <br><br><h2>  Pesquisa de assunto </h2><br>  Para come√ßar, nossa lideran√ßa deveria estar convencida de que esse t√≥pico merece ser meu trabalho de pesquisa.  E para come√ßar do primeiro ponto: a busca por an√°logos. <br><br>  Como se viu, existem muitos an√°logos.  Mas a maioria deles foi projetada para visualiza√ß√£o da mem√≥ria.  Ou seja, eles teriam feito um √≥timo trabalho com a visualiza√ß√£o da √°rvore cartesiana, mas n√£o conseguem entender que a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pilha na matriz</a> n√£o deve ser desenhada como uma matriz, mas como uma √°rvore.  Entre esses an√°logos estavam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gdbgui</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Data Display Debugger</a> , um plug-in para o Eclipse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jGRASP</a> e um plug-in para o Visual Studio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Data Structures Visualizer</a> .  O √∫ltimo tamb√©m foi criado para os problemas de programa√ß√£o das olimp√≠adas, mas conseguiu visualizar apenas estruturas de dados nos ponteiros. <br><br>  Havia mais algumas ferramentas: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Algojammer</a> para python (e quer√≠amos vantagens, como a linguagem mais popular entre as olimp√≠adas) e a ferramenta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lens</a> , desenvolvida em 1994.  O √∫ltimo, a julgar pela descri√ß√£o, fez quase o necess√°rio, mas, infelizmente, foi criado no Sun OS 4.1.3 (um sistema operacional de 1992).  Portanto, apesar da disponibilidade de c√≥digos-fonte, foi decidido n√£o perder tempo com essa arqueologia d√∫bia. <br><br>  Ent√£o, depois de algumas pesquisas, verificou-se que Tula, que faria exatamente o que quer√≠amos, e ao mesmo tempo trabalhava em m√°quinas modernas, ainda n√£o est√° na natureza. <br><br><h2>  Defini√ß√£o de funcionalidade </h2><br>  O segundo passo foi provar que esta tarefa √© bastante complicada, mas fact√≠vel.  Para isso, foi necess√°rio propor algo mais espec√≠fico do que "quero uma imagem bonita e que tudo fique claro imediatamente". <br><br>  Neste projeto, decidimos nos concentrar apenas na visualiza√ß√£o de gr√°ficos: existem muitos algoritmos em gr√°ficos que podem ser implementados de maneiras diferentes e, mesmo que restritos, a tarefa ainda permanece n√£o trivial. <br><br>  Tamb√©m √© mais ou menos √≥bvio que a ferramenta deve, de alguma forma, ser integrada ao depurador.  Precisamos ser capazes de visualizar os valores de vari√°veis ‚Äã‚Äãe express√µes e desenhar uma imagem final desses valores. <br><br>  Depois disso, foi necess√°rio criar uma determinada linguagem que nos permitisse construir um gr√°fico de acordo com o estado atual do programa da maneira que desejamos.  Al√©m do pr√≥prio gr√°fico, era necess√°rio fornecer a capacidade de alterar a cor dos v√©rtices e arestas, adicionar r√≥tulos arbitr√°rios a eles e alterar outras propriedades.  Nesse sentido, a primeira ideia foi: <br><br><ol><li>  Determine o que temos v√©rtices, por exemplo, n√∫meros de 0 a n. <br></li><li>  Determine a presen√ßa de uma aresta entre os v√©rtices usando a condi√ß√£o booleana.  Nesse caso, as arestas s√£o de tipos diferentes e cada tipo tem seu pr√≥prio conjunto de propriedades. <br></li><li>  Al√©m disso, podemos definir propriedades de v√©rtices, como cores, tamb√©m usando a condi√ß√£o booleana. <br></li><li>  Siga as etapas com o depurador: todas as express√µes s√£o calculadas, todas as condi√ß√µes s√£o verificadas e, dependendo disso, um gr√°fico √© desenhado. <br></li></ol><br><h2>  Prototipagem da interface do usu√°rio </h2><br>  Eu desenhei o prot√≥tipo da interface do usu√°rio no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NinjaMock</a> .  Isso foi necess√°rio para entender melhor a apar√™ncia da interface do ponto de vista do usu√°rio e quais a√ß√µes ele precisar√° executar.  Se houvesse problemas com o prot√≥tipo, entender√≠amos que existem algumas inconsist√™ncias l√≥gicas, e essa ideia deve ser descartada.  Por fidelidade, peguei alguns algoritmos.  A figura abaixo mostra exemplos de como imaginei as configura√ß√µes de visualiza√ß√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DFS</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o algoritmo de Floyd</a> . <br><br><img src="https://habrastorage.org/webt/_c/kw/q9/_ckwq9qv_z5-4_wayyxxb0m8sro.png"><br><br>  <i>Como eu imaginei configura√ß√µes para o DFS.</i>  <i>O gr√°fico √© armazenado como uma lista de adjac√™ncia; portanto, a aresta entre os v√©rtices <code>g[i].find() != g[i].end()</code> √© determinada pela condi√ß√£o <code>g[i].find() != g[i].end()</code> (de fato, para n√£o duplicar as arestas, √© necess√°rio verificar se <code>i &lt;= j</code> )</i>  <i>O caminho DFS √© mostrado separadamente: <code>p[j] == i</code> .</i>  <i>Essas arestas ser√£o orientadas.</i> <i><br><br><img src="https://habrastorage.org/webt/1n/rv/28/1nrv283bilq1cslyq9urbrymgzm.png"><br><br></i>  <i>Eu assumi que, para o algoritmo de Floyd, seria necess√°rio desenhar em preto as bordas reais armazenadas na matriz <code>c</code> cinza - os caminhos mais curtos encontrados neste est√°gio, armazenados na matriz <code>d</code> .</i>  <i>Para cada borda e caminho mais curto, seu peso √© gravado.</i> <br><br><h2>  Sele√ß√£o de Depend√™ncias </h2><br>  Para o pr√≥ximo passo, foi necess√°rio entender como fazer tudo isso.  Antes de tudo, era necess√°ria a integra√ß√£o com um depurador.  A primeira coisa que vem √† mente quando a palavra "depurador" √© gdb, mas voc√™ precisa criar toda a interface gr√°fica do zero, o que √© realmente dif√≠cil para um aluno fazer em um semestre.  A segunda id√©ia √≥bvia √© criar um plugin para algum ambiente de desenvolvimento existente.  Como op√ß√µes, considerei o QTCreator, o CLion e o Visual Studio. <br><br>  A op√ß√£o CLion foi descartada quase imediatamente, porque, em primeiro lugar, fechou o c√≥digo-fonte e, em segundo lugar, tudo est√° muito ruim com a documenta√ß√£o (e ningu√©m precisa de dificuldades adicionais).  O QTCreator, diferentemente do Visual Studio, √© multiplataforma e de c√≥digo aberto e, portanto, no in√≠cio, decidimos nos concentrar nele. <br><br>  No entanto, o QTCreator est√° pouco adaptado para extens√£o usando plugins.  O primeiro passo na cria√ß√£o de um plugin para o QTCreator √© construir a partir do c√≥digo-fonte.  Levei uma semana e meia.  No final, enviei dois relat√≥rios de erros ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ali</a> ) sobre o processo de montagem.  Sim, esse foi o esfor√ßo para criar o QTCreator apenas para descobrir que o depurador no QTCreator n√£o possui uma API p√∫blica.  Voltei para outra op√ß√£o, o Visual Studio. <br><br>  E essa foi a decis√£o certa: o Visual Studio possui n√£o apenas uma √≥tima API, mas tamb√©m uma excelente documenta√ß√£o para ela.  A <code>_debugger.GetExpression(...).Value</code> express√£o <code>_debugger.GetExpression(...).Value</code> simplificada chamando <code>_debugger.GetExpression(...).Value</code> .  O Visual Studio tamb√©m fornece a capacidade de iterar sobre os quadros e avaliar a express√£o no contexto de qualquer um deles.  Para fazer isso, altere a propriedade <code>CurrentStackFrame</code> para a necess√°ria.  Voc√™ tamb√©m pode acompanhar as atualiza√ß√µes do concurso do depurador para redesenhar a imagem ao alterar. <br><br>  Obviamente, n√£o era de se supor que eu estivesse envolvido na visualiza√ß√£o de gr√°ficos do zero - existem muitas bibliotecas especiais para isso.  O mais famoso deles √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Graphviz</a> , e planejamos us√°-lo primeiro.  Mas, para um plug-in do Visual Studio, seria mais l√≥gico usar a biblioteca para C #, j√° que eu iria escrever nele.  Pesquisei um pouco no Google e encontrei a biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MSAGL</a> : tinha todas as funcionalidades necess√°rias e tinha uma interface simples e intuitiva. <br><br><h2>  Prova de conceito </h2><br>  Agora, com um mecanismo para calcular express√µes arbitr√°rias, por um lado, e uma biblioteca para visualizar gr√°ficos, por outro, era necess√°rio fazer um prot√≥tipo.  O primeiro prot√≥tipo foi feito para o DFS, depois o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">algoritmo</a> Dinits, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o algoritmo Kuhn</a> , a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">busca por componentes duplamente conectados</a> , a √°rvore cartesiana e o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SNM</a> foram tomados como exemplos.  Peguei minhas implementa√ß√µes antigas desses algoritmos do primeiro ao segundo ano, criei um novo plug-in, desenhei um gr√°fico correspondente a essa tarefa (todos os nomes de vari√°veis ‚Äã‚Äãforam codificados permanentemente).  Aqui est√° um exemplo de um gr√°fico que obtive para o algoritmo Kuhn: <br><br><img src="https://habrastorage.org/webt/dr/bz/c1/drbzc1kb3yf0d2vkesimolwhhda.png"><br>  <i>Neste gr√°fico, as arestas correspondentes atuais s√£o mostradas em roxo, o v√©rtice dfs atual √© mostrado em vermelho, os v√©rtices visitados s√£o cinza, as arestas de uma cadeia alternada que n√£o s√£o correspondentes s√£o mostradas em vermelho.</i> <br><br>  Eu considerei permitido modificar ligeiramente o c√≥digo do algoritmo para facilitar a visualiza√ß√£o.  Por exemplo, no caso da √°rvore cartesiana, descobriu-se que √© mais f√°cil adicionar todos os n√≥s criados a um vetor do que ignorar a √°rvore dentro do plug-in. <br><br>  Uma descoberta desagrad√°vel foi que o depurador no Visual Studio n√£o oferece suporte a m√©todos e fun√ß√µes de chamada do STL.  Isso significava que n√£o era poss√≠vel verificar a presen√ßa de um elemento no cont√™iner usando <code>std::find</code> , como originalmente assumido.  Esse problema pode ser resolvido criando uma fun√ß√£o definida pelo usu√°rio ou duplicando a propriedade "o elemento est√° contido no cont√™iner" em uma matriz booleana. <br><br>  Nos meus plugins de avalia√ß√£o, aconteceu algo como o seguinte (se o gr√°fico foi armazenado como uma lista de adjac√™ncias): <br><br><ol><li>  Primeiro, vem o loop <code>for</code> de <code>0</code> a <code>_debugger.GetExpression("n").Value</code> , que adicionou todos os v√©rtices ao gr√°fico, cada um com seu pr√≥prio n√∫mero. <br></li><li>  Existem dois aninhados <code>for</code> <code>_debugger.GetExpression($"g[{i}].size()").Value</code> , o primeiro para <code>i</code> - de <code>0</code> a <code>n</code> , o segundo para <code>j</code> - de <code>0</code> a <code>_debugger.GetExpression($"g[{i}].size()").Value</code> e a borda <code>{i, _debugger.GetExpression($"g[{i}][{j}]").Value}</code> . <br></li><li>  Se necess√°rio, algumas informa√ß√µes adicionais foram adicionadas aos r√≥tulos dos v√©rtices e arestas.  Por exemplo, o valor da matriz <code>d</code> , respons√°vel pela dist√¢ncia ao v√©rtice selecionado. <br></li><li>  Se o algoritmo foi baseado em dfs, um loop percorreu todos os quadros e todos os v√©rtices na pilha ( <code>stackFrame.FunctionName.Equals("dfs") &amp;&amp; stackFrame.Arguments.Item(1) == v</code> ) foram destacados em cinza. <br></li><li>  Ent√£o, para cada <code>i</code> de <code>0</code> a <code>n</code> , denotando o n√∫mero dos v√©rtices, algumas condi√ß√µes foram verificadas e, se satisfeitas, algumas propriedades foram alteradas no v√©rtice, geralmente na cor. <br></li></ol><br>  Naquele momento, escrevi o c√≥digo "conforme necess√°rio", sem tentar criar um esquema geral para todos os algoritmos, ou escrever o c√≥digo pelo menos de alguma maneira bonita.  A cria√ß√£o de cada novo plug-in come√ßou com a copiar e colar do anterior. <br><br><h2>  Configura√ß√£o de gr√°fico </h2><br>  Ap√≥s a pesquisa, foi necess√°rio elaborar um esquema geral que pudesse ser aplicado a todos os algoritmos.  A primeira coisa que foi introduzida foram os √≠ndices dos v√©rtices e arestas.  Cada √≠ndice possui um nome exclusivo e o intervalo termina, calculado usando <code>_debugger.GetExpression</code> .  Para acessar o valor do √≠ndice, use seu nome entre __ (ou seja, __x__).  Express√µes com locais para substituir valores de √≠ndice, bem como o nome da fun√ß√£o atual (__CURRENT_FUNCTION__) e os valores de seus argumentos (__ARG1__, __ARG2__, ...), s√£o chamados de modelos. <br><br>  Os √≠ndices s√£o substitu√≠dos por cada v√©rtice ou aresta e depois s√£o calculados no depurador.  Os modelos foram usados ‚Äã‚Äãpara filtrar alguns valores de √≠ndice (se o gr√°fico for armazenado como a matriz de adjac√™ncia <code>c</code> , os √≠ndices ser√£o aeb de 0 a n, e o modelo para valida√ß√£o ser√° <code>c[__a__][__b__]</code> ).  Os limites do intervalo de √≠ndices tamb√©m s√£o modelos, pois podem conter √≠ndices anteriores. <br><br>  Um gr√°fico pode ter diferentes tipos de v√©rtices e arestas.  Por exemplo, no caso de procurar a correspond√™ncia m√°xima em um gr√°fico bipartido, cada fra√ß√£o pode ser indexada separadamente.  Portanto, o conceito de fam√≠lia foi introduzido para v√©rtices e arestas.  Para cada fam√≠lia, a indexa√ß√£o e todas as propriedades s√£o determinadas independentemente.  Nesse caso, as arestas podem conectar v√©rtices de fam√≠lias diferentes. <br><br>  Voc√™ pode atribuir propriedades espec√≠ficas a uma fam√≠lia de v√©rtices ou arestas que ser√£o aplicadas seletivamente aos elementos da fam√≠lia.  A propriedade √© aplicada se a condi√ß√£o for atendida.  A condi√ß√£o consiste em um modelo que √© avaliado como <code>true</code> ou <code>false</code> e em uma express√£o regular para o nome da fun√ß√£o.  A condi√ß√£o √© verificada apenas para a arma√ß√£o de vidro atual ou para todas as arma√ß√µes de vidro (e, em seguida, √© considerada cumprida se for atendida por pelo menos uma). <br><br>  Propriedades s√£o muito diversas.  Para v√©rtices: etiqueta, cor do preenchimento, cor da borda, largura da borda, forma, estilo da borda (por exemplo, linha pontilhada).  Para arestas: etiqueta, cor, largura, estilo, orienta√ß√£o (voc√™ pode especificar duas setas - do come√ßo ao fim ou vice-versa; nesse caso, pode haver duas setas ao mesmo tempo). <br><br>  √â importante que cada vez que o gr√°fico seja desenhado do zero, e o estado anterior n√£o seja levado em considera√ß√£o de forma alguma.  Isso pode ser um problema se o gr√°fico mudar dinamicamente durante o algoritmo - os v√©rtices e as arestas podem mudar drasticamente sua posi√ß√£o e, ent√£o, √© dif√≠cil entender o que est√° acontecendo. <br><br>  Uma descri√ß√£o detalhada da configura√ß√£o do gr√°fico pode ser encontrada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br><h2>  Interface do usu√°rio </h2><br>  Com a interface, decidi n√£o me incomodar muito.  A janela principal com as configura√ß√µes ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ToolWindow</a> ) cont√©m √°rea de texto para a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">configura√ß√£o</a> serializada em JSON e uma lista de fam√≠lias de v√©rtices e arestas.  Cada fam√≠lia possui sua pr√≥pria janela com configura√ß√µes e cada propriedade da fam√≠lia possui mais uma janela (tr√™s n√≠veis de aninhamento s√£o obtidos).  O pr√≥prio gr√°fico √© desenhado em uma janela separada.  N√£o funcionou para coloc√°-lo no ToolWindow, ent√£o enviei um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">relat√≥rio de bug</a> aos desenvolvedores do MSAGL, mas eles responderam que esse n√£o era o caso de uso de destino.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Outro relat√≥rio de bug</a> foi enviado ao Visual Studio, pois as caixas de texto √†s vezes pendiam nas janelas de configura√ß√µes adicionais. <br><br><img src="https://habrastorage.org/webt/n2/jo/-b/n2jo-buqxeq40a03zs0wochfrl0.png"><br><br><h2>  Plugin </h2><br>  Para configurar o gr√°fico, o plug-in possui uma interface com o usu√°rio e a capacidade de (des) serializar a configura√ß√£o no JSON.  O esquema geral de intera√ß√£o de todos os componentes √© o seguinte: <br><br><img src="https://habrastorage.org/webt/yv/kz/rx/yvkzrx4fglqdelkutvbdqzgqlj0.png"><br><br>  Azul mostra os componentes que existiam originalmente, cinza - que eu criei.  Quando o Visual Studio √© iniciado, a extens√£o √© inicializada (aqui o componente principal √© designado como Principal).  O usu√°rio tem a oportunidade de especificar a configura√ß√£o por meio da interface.  Cada vez que o contexto do depurador √© alterado, o componente principal √© notificado.  Se a configura√ß√£o for definida e o programa que estiver sendo depurado for executado, o GraphRenderer ser√° iniciado.  Ele recebe uma entrada de configura√ß√£o e, com a ajuda de um depurador, cria um gr√°fico, que √© exibido em uma janela especial. <br><br><h2>  Exemplos </h2><br>  Como resultado, criei uma ferramenta que permite visualizar algoritmos de gr√°ficos e requer pequenas altera√ß√µes no c√≥digo.  Foi testado em oito tarefas diferentes.  Aqui est√£o algumas fotos resultantes: <br><br><img src="https://habrastorage.org/webt/a1/lw/z6/a1lwz6jlyloms0dfmzddoxx9gxk.png"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Algoritmo Ford-Bellman</a> : o v√©rtice para o qual contamos os caminhos mais curtos √© indicado por uma casa, a menor dist√¢ncia atual encontrada para os v√©rtices √© d, vermelho indica a aresta ao longo da qual o relaxamento passa.</i> <br><br><img src="https://habrastorage.org/webt/5k/5h/rk/5k5hrko_liqr2kgbctgdeznbc44.gif"><br>  <i>Anima√ß√£o com DFS - o v√©rtice atual √© mostrado em vermelho, os v√©rtices da pilha s√£o cinza e os outros v√©rtices visitados s√£o verdes.</i>  <i>Costelas de framboesa indicam a dire√ß√£o do desvio.</i> <br><br>  Mais algoritmos de amostra est√£o dispon√≠veis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui.</a> <br><br><h2>  Prote√ß√£o NIR </h2><br>  Para proteger o trabalho de pesquisa, os alunos s√£o obrigados em sete minutos a contar sobre seu trabalho por um semestre.  Ao mesmo tempo, independentemente de o t√≥pico ter sido proposto como parte da apresenta√ß√£o dos trabalhos de pesquisa ou de o aluno ter encontrado por conta pr√≥pria, voc√™ precisa responder para justificar por que o t√≥pico do projeto se enquadra nos requisitos descritos no in√≠cio.  Normalmente, um relat√≥rio √© estruturado da seguinte forma: primeiro h√° motiva√ß√£o, depois uma revis√£o de an√°logos, √© dito sobre por que eles n√£o nos conv√™m, depois s√£o estabelecidas metas e objetivos, e ent√£o cada uma das tarefas √© descrita como foi resolvida.  No final, h√° um slide com os resultados, que mais uma vez afirma que o objetivo foi alcan√ßado e que todas as tarefas foram resolvidas. <br><br>  Como j√° havia decidido sobre a motiva√ß√£o e a revis√£o dos an√°logos no est√°gio inicial, eu s√≥ precisava coletar todas as informa√ß√µes e compact√°-las em sete minutos.  No final, consegui, a defesa correu bem, recebi a pontua√ß√£o m√°xima para pesquisa. <br><br><h2>  Refer√™ncias </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Reposit√≥rio do GitHub</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Visual studio marketplace</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Publicar no Codeforces</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt461473/">https://habr.com/ru/post/pt461473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt461463/index.html">Processos de neg√≥cios em empresas: especula√ß√£o e realidade. Ilumine a luz com R</a></li>
<li><a href="../pt461465/index.html">Guia de Medi√ß√£o</a></li>
<li><a href="../pt461467/index.html">Um exemplo de cria√ß√£o de aplicativos Makefile for Go</a></li>
<li><a href="../pt461469/index.html">Como √© ouvir c√≥digo a 1000 palavras por minuto</a></li>
<li><a href="../pt461471/index.html">Ferramentas para trabalhar com multithreading e assincronia - Parte 2</a></li>
<li><a href="../pt461475/index.html">AMA com Habr.1011</a></li>
<li><a href="../pt461483/index.html">Balanceamento de carga Openstack</a></li>
<li><a href="../pt461487/index.html">Tarefas Mini CTF</a></li>
<li><a href="../pt461493/index.html">O Django 3.0 ser√° ass√≠ncrono</a></li>
<li><a href="../pt461497/index.html">Renderiza√ß√£o de texto moderno no Linux: parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>