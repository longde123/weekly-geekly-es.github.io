<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¼â€ğŸ³ ğŸ¤´ğŸ¾ ğŸ¥¢ é€šè¿‡DMABUFé‡æ–°åŠ è½½OpenGLESv2çº¹ç† ğŸ¾ ğŸ¤±ğŸ» ğŸš™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³è°ˆè°ˆé€šè¿‡DMABUFæ›´æ–°OpenGLESçº¹ç†æœ‰å¤šä¹ˆå®¹æ˜“ã€‚ æˆ‘çœ‹ç€å“ˆå‹ƒï¼ˆHabrï¼‰ï¼Œä»¤æˆ‘æƒŠè®¶çš„æ˜¯ï¼Œæ²¡æœ‰æ‰¾åˆ°å…³äºè¯¥ä¸»é¢˜çš„ä¸€ç¯‡æ–‡ç« ã€‚ åœ¨å“ˆå‹ƒé—®ç­”ä¸­ï¼ŒQï¼†Aä¹Ÿæ²¡æœ‰æ‰¾åˆ°ä»»ä½•ä¸œè¥¿ã€‚ è¿™å¯¹æˆ‘æ¥è¯´æœ‰ç‚¹å¥‡æ€ªã€‚ è¯¥æŠ€æœ¯å‡ºç°åœ¨å¾ˆæ—©ä»¥å‰ï¼Œå°½ç®¡ç½‘ç»œä¸Šç¡®å®æ²¡æœ‰å¤ªå¤šæœ‰å…³è¯¥æŠ€æœ¯çš„ä¿¡æ¯ï¼Œä½†æ‰€æœ‰è¿™äº›æŠ€æœ¯éƒ½æ˜¯æ¨¡ç³Šä¸”çŸ›ç›¾çš„ã€‚...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>é€šè¿‡DMABUFé‡æ–°åŠ è½½OpenGLESv2çº¹ç†</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481540/"><iframe width="560" height="315" src="https://www.youtube.com/embed/Cz2cywrC1ls" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³è°ˆè°ˆé€šè¿‡DMABUFæ›´æ–°OpenGLESçº¹ç†æœ‰å¤šä¹ˆå®¹æ˜“ã€‚ æˆ‘çœ‹ç€å“ˆå‹ƒï¼ˆHabrï¼‰ï¼Œä»¤æˆ‘æƒŠè®¶çš„æ˜¯ï¼Œæ²¡æœ‰æ‰¾åˆ°å…³äºè¯¥ä¸»é¢˜çš„ä¸€ç¯‡æ–‡ç« ã€‚ åœ¨å“ˆå‹ƒé—®ç­”ä¸­ï¼ŒQï¼†Aä¹Ÿæ²¡æœ‰æ‰¾åˆ°ä»»ä½•ä¸œè¥¿ã€‚ è¿™å¯¹æˆ‘æ¥è¯´æœ‰ç‚¹å¥‡æ€ªã€‚ è¯¥æŠ€æœ¯å‡ºç°åœ¨å¾ˆæ—©ä»¥å‰ï¼Œå°½ç®¡ç½‘ç»œä¸Šç¡®å®æ²¡æœ‰å¤ªå¤šæœ‰å…³è¯¥æŠ€æœ¯çš„ä¿¡æ¯ï¼Œä½†æ‰€æœ‰è¿™äº›æŠ€æœ¯éƒ½æ˜¯æ¨¡ç³Šä¸”çŸ›ç›¾çš„ã€‚ <br><br> åœ¨åƒä¸Šé¢çš„æ¼”ç¤ºä¸­é‚£æ ·ç¼–å†™è¿™æ ·çš„è§†é¢‘æ’­æ”¾å™¨ä¹‹å‰ï¼Œæˆ‘ä»ä¸åŒçš„æ¥æºé€æ­¥æ”¶é›†äº†æ‰€æœ‰è¿™äº›ä¿¡æ¯ã€‚ åœ¨è¿™é‡Œï¼Œåœ¨ä¸€ä¸ªæ¼”ç¤ºä¸­ï¼Œæˆ‘åŸºäºgstreameråº“çš„è‡ªåˆ¶è§†é¢‘æ’­æ”¾å™¨åœ¨æ¸²æŸ“ä¹‹å‰æ¯æ¬¡éƒ½å°†è§†é¢‘å¸§åŠ è½½åˆ°OpenGLESv2çº¹ç†ä¸­ã€‚ ç”±Raspberry Pi4é©±åŠ¨ã€‚ åªéœ€å°†å¸§å¤åˆ¶åˆ°ä¸“é—¨åˆ†é…çš„å†…å­˜ä¸­ï¼Œç„¶åDMAå°†å…¶ä¼ è¾“åˆ°GPUå†…å­˜å’Œçº¹ç†ä¸­ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘å°†å‘Šè¯‰æ‚¨æˆ‘æ˜¯å¦‚ä½•åšåˆ°çš„ã€‚ <br><a name="habracut"></a><br> é€šå¸¸ï¼Œä½¿ç”¨OpenGLESv2çš„ç¨‹åºå‘˜ä»…åˆ›å»ºä¸€æ¬¡çº¹ç†ï¼Œç„¶åå°†å…¶æ¸²æŸ“åˆ°åœºæ™¯å¯¹è±¡å³å¯ã€‚ å‘ç”Ÿè¿™ç§æƒ…å†µæ˜¯å› ä¸ºè§’è‰²çš„æœè£…å¾ˆå°‘æ›´æ”¹ï¼Œæœ‰æ—¶ä½¿ç”¨glTexSubImage2Dï¼ˆï¼‰é‡æ–°åŠ è½½çº¹ç†å¹¶ä¸å›°éš¾ã€‚ ä½†æ˜¯ï¼ŒçœŸæ­£çš„é—®é¢˜å§‹äºçº¹ç†æ˜¯åŠ¨æ€çš„ï¼Œå½“æ‚¨éœ€è¦åœ¨æ¸²æŸ“æœŸé—´å‡ ä¹æ¯å¸§æ›´æ–°å®ƒæ—¶ã€‚  glTexSubImage2Dï¼ˆï¼‰å‡½æ•°éå¸¸æ…¢ã€‚ å¥½å§ï¼Œé€Ÿåº¦æœ‰å¤šæ…¢-å½“ç„¶ï¼Œè¿™å®Œå…¨å–å†³äºè®¡ç®—æœºå’Œå›¾å½¢å¡ã€‚ æˆ‘æƒ³æ‰¾åˆ°ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå³ä½¿åœ¨åƒRaspberryè¿™æ ·çš„å¼±å•æ¿å¡ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚ <br><br> è®¸å¤šç°ä»£è®¡ç®—æœºï¼ˆåŒ…æ‹¬SoCå•æ¿è®¡ç®—æœºï¼‰çš„ä½“ç³»ç»“æ„éƒ½ä½¿å¾—å¤„ç†å™¨å†…å­˜ä¸GPUå†…å­˜åˆ†ç¦»ã€‚ é€šå¸¸ï¼Œç”¨æˆ·ç¨‹åºæ— æ³•ç›´æ¥è®¿é—®GPUå†…å­˜ï¼Œå› æ­¤æ‚¨éœ€è¦ä½¿ç”¨å„ç§APâ€‹â€‹Iå‡½æ•°ï¼Œä¾‹å¦‚ç›¸åŒçš„glTexSubImage2Dï¼ˆï¼‰ã€‚ æ­¤å¤–ï¼Œæˆ‘åœ¨æŸå¤„è¯»åˆ°ï¼Œçº¹ç†çš„å†…éƒ¨è¡¨ç¤ºå½¢å¼å¯èƒ½ä¸ä¼ ç»Ÿçš„å›¾ç‰‡è¡¨ç¤ºå½¢å¼ï¼ˆåƒç´ åºåˆ—ï¼‰æœ‰æ‰€ä¸åŒã€‚ æˆ‘ä¸çŸ¥é“è¿™æ˜¯çœŸçš„ã€‚ å¯èƒ½å§ <br><br> é‚£ä¹ˆDMABUFæŠ€æœ¯ç»™æˆ‘å¸¦æ¥äº†ä»€ä¹ˆï¼Ÿ å†…å­˜æ˜¯ä¸“é—¨åˆ†é…çš„ï¼Œä»»ä½•çº¿ç¨‹çš„è¿›ç¨‹éƒ½å¯ä»¥éšæ—¶åœ¨å…¶ä¸­å†™å…¥åƒç´ ã€‚  DMAæœ¬èº«ä¼šå°†æ‰€æœ‰æ›´æ”¹è½¬ç§»åˆ°GPUå†…å­˜ä¸­çš„çº¹ç†ã€‚ é‚£ä¸æ˜¯å¾ˆæ¼‚äº®å—ï¼Ÿ <br><br> æˆ‘å¿…é¡»é©¬ä¸Šè¯´å‡ºæˆ‘å¯¹PBO-åƒç´ ç¼“å†²åŒºå¯¹è±¡çš„äº†è§£ï¼Œé€šå¸¸æ˜¯åœ¨PBOçš„å¸®åŠ©ä¸‹å®Œæˆäº†åŠ¨æ€çº¹ç†æ›´æ–°ï¼Œä¼¼ä¹ä¹Ÿåœ¨é‚£é‡Œä½¿ç”¨äº†DMAï¼Œä½†æ˜¯PBOä»…å‡ºç°åœ¨OpenGLESv3ä¸­ï¼Œè€Œä¸æ˜¯å‡ºç°åœ¨æ‰€æœ‰å®ç°ä¸­ã€‚ æ‰€ä»¥ä¸ï¼Œaï¼Œè¿™ä¸æ˜¯æˆ‘çš„æ–¹å¼ã€‚ <br><br>  Raspberryç¨‹åºå‘˜å’Œæ¸¸æˆå¼€å‘äººå‘˜ç”šè‡³Androidç¨‹åºå‘˜éƒ½å¯èƒ½å¯¹æœ¬æ–‡æ„Ÿå…´è¶£ï¼Œå› ä¸ºåœ¨é‚£é‡Œä¹Ÿä½¿ç”¨äº†OpenGLESï¼Œè€Œä¸”æˆ‘æ•¢è‚¯å®šï¼Œé‚£é‡Œä¹Ÿæœ‰è¿™ç§DMABUFæŠ€æœ¯ï¼ˆè‡³å°‘æˆ‘æ•¢è‚¯å®šï¼Œæ‚¨å¯ä»¥åœ¨Androidä¸Šä½¿ç”¨å®ƒï¼‰ NDKï¼‰ã€‚ <br><br> æˆ‘å°†åœ¨Raspberry Pi4ä¸Šä½¿ç”¨DMABUFç¼–å†™ç¨‹åºã€‚ è¯¥ç¨‹åºè¿˜åº”è¯¥ï¼ˆå¹¶ä¸”å°†ä¼šï¼‰åœ¨æ™®é€šçš„Intel x86 / x86_64è®¡ç®—æœºä¸Šè¿è¡Œï¼Œâ€‹â€‹ä¾‹å¦‚åœ¨ubuntuä¸‹ã€‚ <br><br> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å‡è®¾æ‚¨å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨OpenGLESv2 APIå¯¹å›¾å½¢è¿›è¡Œç¼–ç¨‹ã€‚ è™½ç„¶ï¼Œè¿™äº›æŒ‘æˆ˜ä¸ä¼šå¾ˆå¤šã€‚ é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šæ‹¥æœ‰ioctlé­”æœ¯ã€‚ <br><br> å› æ­¤ï¼Œé¦–å…ˆè¦åšçš„æ˜¯ç¡®ä¿å¹³å°ä¸Šå¯ç”¨çš„APIå¿…é¡»æ”¯æŒDMABUFã€‚ ä¸ºæ­¤ï¼Œè¯·æ£€æŸ¥EGLæ‰©å±•åˆ—è¡¨ï¼š <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* EglExtString = (<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>*)eglQueryString( esContext-&gt;eglDisplay, EGL_EXTENSIONS ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( <span class="hljs-built_in"><span class="hljs-built_in">strstr</span></span>( EglExtString, <span class="hljs-string"><span class="hljs-string">"EGL_EXT_image_dma_buf_import"</span></span>) ) { <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"DMA_BUF feature must be supported!!!\n"</span></span>; }</code> </pre> <br> å› æ­¤ï¼Œæˆ‘ä»¬å°†ç«‹å³äº†è§£æ˜¯å¦æœ‰ä½¿ç”¨DMABUFçš„å¸Œæœ›ï¼Œæˆ–è€…æ²¡æœ‰å¸Œæœ›ã€‚ ä¾‹å¦‚ï¼Œåœ¨Raspberry Pi3å’Œä»¥å‰çš„æ‰€æœ‰æ¿ä¸Šï¼Œéƒ½æ²¡æœ‰å¸Œæœ›ã€‚ é€šå¸¸ï¼Œé€šè¿‡å¸¦æœ‰BRCMèƒ¸é’ˆçš„ç‰¹æ®Šåº“ï¼Œç”šè‡³åœ¨æŸç§ç¨‹åº¦ä¸Šç”šè‡³å‰¥ç¦»äº†OpenGLESv2ã€‚ ç°åœ¨åœ¨Raspberry Pi4ä¸Šæœ‰ä¸€ä¸ªçœŸæ­£çš„OpenGLESï¼Œæ‰©å±•åä¸ºEGL_EXT_image_dma_buf_importæ˜¯hoorayã€‚ <br><br> æˆ‘ä¼šç«‹å³è®°ä¸‹å•æ¿Pi4ä¸Šçš„æ“ä½œç³»ç»Ÿï¼Œå¦åˆ™å¯èƒ½è¿˜ä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š <br><br><pre> <code class="plaintext hljs">pi@raspberrypi:~ $ lsb_release -a No LSB modules are available. Distributor ID: Raspbian Description: Raspbian GNU/Linux 10 (buster) Release: 10 Codename: buster pi@raspberrypi:~ $ uname -a Linux raspberrypi 4.19.75-v7l+ #1270 SMP Tue Sep 24 18:51:41 BST 2019 armv7l GNU/Linux</code> </pre><br> æˆ‘è¿˜æ³¨æ„åˆ°EGL_EXT_image_dma_buf_importæ‰©å±•æ˜¯åœ¨Orange Pi PCï¼ˆMali-400ï¼‰/ PC2ï¼ˆMali-450ï¼‰ä¸Šä½¿ç”¨çš„ï¼Œé™¤éæ‚¨å½“ç„¶å¯ä»¥åœ¨è¿™äº›æ¿ä¸Šè¿è¡ŒMali GPUï¼ˆåœ¨å®˜æ–¹ç¨‹åºé›†ä¸­æ²¡æœ‰ï¼Œæˆ‘å°†å…¶å®‰è£…åœ¨Armbianä¸Šï¼Œè€Œä¸”æˆ‘è‡ªå·±åšäº†ï¼‰å†…æ ¸é©±åŠ¨ç¨‹åºé›†ï¼‰ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒDMABUFå‡ ä¹æ— å¤„ä¸åœ¨ã€‚ åªéœ€å–ç”¨å³å¯ã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦æ‰“å¼€æ–‡ä»¶/ dev / dri / card0æˆ–/ dev / dri / card1-å…¶ä¸­ä¹‹ä¸€ï¼Œå®ƒå–å†³äºå¹³å°ï¼Œå¹¶ä¸”æƒ…å†µæœ‰æ‰€ä¸åŒï¼Œæ‚¨éœ€è¦æŸ¥æ‰¾æ”¯æŒDRM_CAP_DUMB_BUFFERçš„æ–‡ä»¶ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OpenDrm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> fd = open(<span class="hljs-string"><span class="hljs-string">"/dev/dri/card0"</span></span>, O_RDWR | O_CLOEXEC); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( fd &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> ) { <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"cannot open /dev/dri/card0\n"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> hasDumb = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( drmGetCap(fd, DRM_CAP_DUMB_BUFFER, &amp;hasDumb) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> ) { close( fd ); <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"/dev/dri/card0 has no support for DUMB_BUFFER\n"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//maybe Raspberry Pi4 or other platform fd = open("/dev/dri/card1", O_RDWR | O_CLOEXEC); if( fd &lt; 0 ) { cout &lt;&lt; "cannot open /dev/dri/card1\n"; return -1; } hasDumb = 0; if( drmGetCap(fd, DRM_CAP_DUMB_BUFFER, &amp;hasDumb) &lt; 0 ) { close( fd ); cout &lt;&lt; "/dev/dri/card1 has no support for DUMB_BUFFER\n"; return -1; } } if( !hasDumb ) { close( fd ); cout &lt;&lt; "no support for DUMB_BUFFER\n"; return -1; } //Get DRM authorization drm_magic_t magic; if( drmGetMagic(fd, &amp;magic) ) { cout &lt;&lt; "no DRM magic\n"; close( fd ); return -1; } Window root = DefaultRootWindow( x_display ); if( !DRI2Authenticate( x_display, root, magic ) ) { close( fd ); cout &lt;&lt; "Failed DRI2Authenticate\n"; return -1; } cout &lt;&lt; "DRM fd "&lt;&lt; fd &lt;&lt;"\n"; return fd; }</span></span></code> </pre><br> é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œè¿™å¯¹æˆ‘æ¥è¯´æ˜¯è«åå…¶å¦™çš„å¾®å¦™ä¹‹å¤„ã€‚ æŸäº›å¹³å°æ²¡æœ‰æä¾›DRI2Authenticateï¼ˆï¼‰å‡½æ•°çš„åº“ã€‚ ä¾‹å¦‚ï¼Œå¯¹äºOrange Pi PCè€Œè¨€ï¼Œå®ƒå¹¶ä¸æ˜¯å¤„äºæœ€ä½³çŠ¶æ€ï¼Œè€Œæ˜¯32ä½ç‰ˆæœ¬ã€‚ è¿™ä¸€åˆ‡éƒ½å¾ˆå¥‡æ€ªã€‚ ä½†æ˜¯æˆ‘åœ¨GITHUBä¸Šæ‰¾åˆ°äº†ä¸€ä¸ªè¿™æ ·çš„å­˜å‚¨åº“ï¼š <a href="https://github.com/robclark/libdri2">github.com/robclark/libdri2ï¼Œ</a>å®ƒå¯ä»¥è¢«è·å–ï¼Œç»„è£…å’Œå®‰è£…ï¼Œç„¶åä¸€åˆ‡æ­£å¸¸ã€‚ å¥‡æ€ªçš„æ˜¯ï¼Œåœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šçš„Ubuntu 18ï¼ˆ64ä½ï¼‰ä¸­æ²¡æœ‰é—®é¢˜ã€‚ <br><br> å¦‚æœå¯ä»¥æ‰¾åˆ°å¹¶æ‰“å¼€/ dev / dri / cardXï¼Œåˆ™å¯ä»¥ç»§ç»­ã€‚ æ‚¨éœ€è¦è®¿é—®KHRï¼ˆKhronosï¼‰çš„ä¸‰ä¸ªéå¸¸å¿…è¦çš„åŠŸèƒ½ï¼š <br><br><pre> <code class="cpp hljs">PFNEGLCREATEIMAGEKHRPROC funcEglCreateImageKHR = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; PFNEGLDESTROYIMAGEKHRPROC funcEglDestroyImageKHR = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; PFNGLEGLIMAGETARGETTEXTURE2DOESPROC funcGlEGLImageTargetTexture2DOES = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; ... funcEglCreateImageKHR = (PFNEGLCREATEIMAGEKHRPROC) eglGetProcAddress(<span class="hljs-string"><span class="hljs-string">"eglCreateImageKHR"</span></span>); funcEglDestroyImageKHR = (PFNEGLDESTROYIMAGEKHRPROC) eglGetProcAddress(<span class="hljs-string"><span class="hljs-string">"eglDestroyImageKHR"</span></span>); funcGlEGLImageTargetTexture2DOES = (PFNGLEGLIMAGETARGETTEXTURE2DOESPROC)eglGetProcAddress(<span class="hljs-string"><span class="hljs-string">"glEGLImageTargetTexture2DOES"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( funcEglCreateImageKHR &amp;&amp; funcEglDestroyImageKHR &amp;&amp; funcGlEGLImageTargetTexture2DOES ) { <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"DMA_BUF feature supported!!!\n"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { CloseDrm(); }</code> </pre><br> ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä¸ºDMABUFåˆ›å»ºå­˜å‚¨åŒºçš„å‡½æ•°ã€‚ è¯¥å‡½æ•°å°†å‚æ•°ç”¨ä½œä½å›¾çš„å®½åº¦ï¼Œé«˜åº¦ï¼Œä»¥åŠå°†è¿”å›DmaFdæ–‡ä»¶æè¿°ç¬¦å¤„ç†ç¨‹åºçš„æŒ‡é’ˆå’ŒæŒ‡å‘å¹³é¢ä½å›¾å†…å­˜çš„æŒ‡é’ˆã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">nt </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateDmaBuf</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Width, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Height, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">* DmaFd, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">** Plane )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> dmaFd = *DmaFd = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>* pplane = *Plane = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Create dumb buffer drm_mode_create_dumb buffer = { 0 }; buffer.width = Width; buffer.height = Height; buffer.handle = 0; buffer.bpp = 32; //Bits per pixel buffer.flags = 0; int ret = drmIoctl( DriCardFd, DRM_IOCTL_MODE_CREATE_DUMB, &amp;buffer); cout &lt;&lt; "DRM_IOCTL_MODE_CREATE_DUMB " &lt;&lt; buffer.handle &lt;&lt; " " &lt;&lt; ret &lt;&lt; "\n"; if (ret &lt; 0) { cout &lt;&lt; "Error cannot DRM_IOCTL_MODE_CREATE_DUMB\n"; return -1; } // Get the dmabuf for the buffer drm_prime_handle prime; memset(&amp;prime, 0, sizeof prime); prime.handle = buffer.handle; prime.flags = /*DRM_CLOEXEC |*/ DRM_RDWR; ret = drmIoctl( DriCardFd, DRM_IOCTL_PRIME_HANDLE_TO_FD, &amp;prime); if (ret &lt; 0) { cout &lt;&lt; "Error cannot DRM_IOCTL_PRIME_HANDLE_TO_FD " &lt;&lt; errno &lt;&lt; " " &lt;&lt; ret &lt;&lt;"\n"; return -1; } dmaFd = prime.fd; // Map the buffer to userspace int Bpp = 32; pplane = mmap(NULL, Width*Height*Bpp/8, PROT_READ | PROT_WRITE, MAP_SHARED, dmaFd, 0); if( pplane == MAP_FAILED ) { cout &lt;&lt; "Error cannot mmap\n"; return -1; } //return valid values *DmaFd = dmaFd; *Plane = pplane; cout &lt;&lt; "DMABUF created "&lt;&lt; dmaFd &lt;&lt; " " &lt;&lt; (void*)Plane &lt;&lt;"\n"; return 0; }</span></span></code> </pre><br> ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªä¸DmaFdå¤„ç†ç¨‹åºå…³è”çš„EGLå›¾åƒï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateDmaBufferImage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( ESContext* esContext, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Width, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Height, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">* DmaFd, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">** Plane, EGLImageKHR* Image )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> dmaFd = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>* planePtr = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Bpp = <span class="hljs-number"><span class="hljs-number">32</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ret0 = CreateDmaBuf( Width, Height, &amp;dmaFd, &amp;planePtr ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( ret0&lt;<span class="hljs-number"><span class="hljs-number">0</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>; EGLint img_attrs[] = { EGL_WIDTH, Width, EGL_HEIGHT, Height, EGL_LINUX_DRM_FOURCC_EXT, DRM_FORMAT_ABGR8888, EGL_DMA_BUF_PLANE0_FD_EXT, dmaFd, EGL_DMA_BUF_PLANE0_OFFSET_EXT, <span class="hljs-number"><span class="hljs-number">0</span></span>, EGL_DMA_BUF_PLANE0_PITCH_EXT, Width * Bpp / <span class="hljs-number"><span class="hljs-number">8</span></span>, EGL_NONE }; EGLImageKHR image = funcEglCreateImageKHR( esContext-&gt;eglDisplay, EGL_NO_CONTEXT, EGL_LINUX_DMA_BUF_EXT, <span class="hljs-number"><span class="hljs-number">0</span></span>, &amp;img_attrs[<span class="hljs-number"><span class="hljs-number">0</span></span>] ); *Plane = planePtr; *DmaFd = dmaFd; *Image = image; <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"DMA_BUF pointer "</span></span> &lt;&lt; (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>*)planePtr &lt;&lt; <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"DMA_BUF fd "</span></span> &lt;&lt; (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)dmaFd &lt;&lt; <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"EGLImageKHR "</span></span> &lt;&lt; image &lt;&lt; <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br> æœ€åï¼Œæˆ‘ä»¬çš„è€ƒéªŒå‡ ä¹ç»“æŸäº†ï¼Œæˆ‘ä»¬å¿…é¡»å°†EGLå›¾åƒå’ŒOpenGLESv2å›¾åƒé“¾æ¥èµ·æ¥ã€‚ è¯¥å‡½æ•°è¿”å›æŒ‡å‘è¿›ç¨‹åœ°å€ç©ºé—´ä¸­çš„å†…å­˜çš„æŒ‡é’ˆã€‚ åœ¨é‚£é‡Œï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°ä»ä»»ä½•å¤„ç†å™¨çº¿ç¨‹è¿›è¡Œå†™å…¥ï¼Œå¹¶ä¸”éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ‰€æœ‰æ›´æ”¹éƒ½ä¼šé€šè¿‡DMABUFè‡ªåŠ¨æ˜¾ç¤ºåœ¨GPUçº¹ç†ä¸­ã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateVideoTexture</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( ESContext* esContext, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Width, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Height )</span></span></span><span class="hljs-function"> </span></span>{ CreateDmaBufferImage( esContext, Width, Height, &amp;esContext-&gt;DmaFd, &amp;esContext-&gt;Plane, &amp;esContext-&gt;ImageKHR ); GLuint texId; glGenTextures ( <span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;texId ); glBindTexture ( GL_TEXTURE_2D, texId ); glTexParameteri ( GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR ); glTexParameteri ( GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR ); glTexParameteri ( GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE ); glTexParameteri ( GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE ); funcGlEGLImageTargetTexture2DOES(GL_TEXTURE_2D, esContext-&gt;ImageKHR ); checkGlError( __LINE__ ); UserData *userData = (UserData*)esContext-&gt;userData; userData-&gt;textureV = texId; userData-&gt;textureV_ready = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> esContext-&gt;Plane; }</code> </pre><br>  GlEGLImageTargetTexture2DOESï¼ˆ..ï¼‰å‡½æ•°ä»…æ‰§è¡Œæ­¤ç»‘å®šã€‚ å®ƒä½¿ç”¨å¸¸è§„çº¹ç†idåˆ›å»ºglGenTexturesï¼ˆ..ï¼‰ï¼Œå¹¶å°†å…¶ä¸å…ˆå‰åˆ›å»ºçš„esContext-&gt; ImageKHR EGLå›¾åƒç›¸å…³è”ã€‚ ä¹‹åï¼Œå¯ä»¥åœ¨å¸¸è§„ç€è‰²å™¨ä¸­ä½¿ç”¨çº¹ç†userData-&gt; textureVã€‚ æŒ‡é’ˆesContext-&gt; Planeæ˜¯æŒ‡å‘å†…å­˜ä¸­éœ€è¦å†™å…¥ä»¥æ›´æ–°çº¹ç†çš„åŒºåŸŸçš„æŒ‡é’ˆã€‚ <br><br> è¿™æ˜¯ä¸€ä¸ªå¤åˆ¶è§†é¢‘å¸§çš„ä»£ç æ®µï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">GstFlowReturn </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_new_sample</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( GstAppSink *pAppsink, gpointer pParam )</span></span></span><span class="hljs-function"> </span></span>{ GstFlowReturn ret = GST_FLOW_OK; GstSample *Sample = gst_app_sink_pull_sample(pAppsink); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( Sample ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( VideoWidth==<span class="hljs-number"><span class="hljs-number">0</span></span> || VideoHeight==<span class="hljs-number"><span class="hljs-number">0</span></span> ) { GstCaps* caps = gst_sample_get_caps( Sample ); GstStructure* structure = gst_caps_get_structure (caps, <span class="hljs-number"><span class="hljs-number">0</span></span>); gst_structure_get_int (structure, <span class="hljs-string"><span class="hljs-string">"width"</span></span>, &amp;VideoWidth); gst_structure_get_int (structure, <span class="hljs-string"><span class="hljs-string">"height"</span></span>, &amp;VideoHeight); <span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Stream Resolution "</span></span> &lt;&lt; VideoWidth &lt;&lt; <span class="hljs-string"><span class="hljs-string">" "</span></span> &lt;&lt; VideoHeight &lt;&lt; <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; } GstBuffer *Buffer = gst_sample_get_buffer( Sample ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( Buffer ) { GstMapInfo MapInfo; <span class="hljs-built_in"><span class="hljs-built_in">memset</span></span>(&amp;MapInfo, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(MapInfo)); gboolean Mapped = gst_buffer_map( Buffer, &amp;MapInfo, GST_MAP_READ ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( Mapped ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( dmabuf_ptr ) <span class="hljs-built_in"><span class="hljs-built_in">memcpy</span></span>( dmabuf_ptr, MapInfo.data, MapInfo.size ); gst_buffer_unmap( Buffer, &amp;MapInfo); frame_ready = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; update_cv.notify_one(); } } gst_sample_unref( Sample ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ret; }</code> </pre><br> æ¯å½“å‡ºç°æ–°çš„è§†é¢‘å¸§æ—¶ï¼Œgstreameræœ¬èº«éƒ½ä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚ æˆ‘ä»¬ä½¿ç”¨gst_app_sink_pull_sampleï¼ˆï¼‰æ£€ç´¢å®ƒã€‚ è¯¥å‡½æ•°å…·æœ‰memcpyï¼ˆï¼‰ï¼Œå®ƒå°†å¸§å¤åˆ¶åˆ°DMABUFå†…å­˜ä¸­ã€‚ ç„¶åè®¾ç½®frame_readyæ ‡å¿—ï¼Œå¹¶é€šè¿‡std :: condition_variable update_cv.notify_oneï¼ˆï¼‰å”¤é†’å‘ˆç°çš„æµã€‚ <br><br> é‚£å¯èƒ½å°±æ˜¯å…¨éƒ¨... <br><br> è™½ç„¶æ²¡æœ‰ï¼Œæˆ‘åœ¨æ’’è°ã€‚ ä»ç„¶å­˜åœ¨åŒæ­¥é—®é¢˜ã€‚ <br><br> é¦–å…ˆæ˜¯å¤„ç†å™¨å†™å…¥å†…å­˜ï¼Œä½†æ˜¯è¿™äº›è®°å½•å¯èƒ½æœ€ç»ˆå­˜å‚¨åœ¨å¤„ç†å™¨çš„ç¼“å­˜ä¸­ï¼Œå¹¶ä¿å­˜åœ¨é‚£é‡Œï¼Œæ‚¨éœ€è¦åœ¨è®°å½•åè¿›è¡Œç¼“å­˜ç¼“å­˜ã€‚ ç¬¬äºŒä¸ª-ç¡®åˆ‡åœ°çŸ¥é“DMAä½•æ—¶å·²ç®—å‡ºå¹¶å¼€å§‹æ¸²æŸ“å°±å¯ä»¥äº†ã€‚ è€å®è¯´ï¼Œå¦‚æœæˆ‘ä»ç„¶æƒ³åƒç¬¬ä¸€ä¸ªï¼Œé‚£ä¹ˆç¬¬äºŒä¸ª-ä¸ã€‚ å¦‚æœæ‚¨æœ‰æƒ³æ³•ï¼Œè¯·åœ¨è¯„è®ºä¸­å†™ã€‚ <br><br> è¿˜æœ‰ä¸€ä»¶äº‹ã€‚ æˆ‘æ­£åœ¨ä½¿ç”¨æ’­æ”¾è§†é¢‘æ–‡ä»¶çš„gstreamerã€‚ æˆ‘åœ¨ç®¡é“ä¸­æ·»åŠ äº†ä¸€ä¸ªé€šç”¨çš„appinkï¼Œç”¨äºæ¥æ”¶è§†é¢‘å¸§ã€‚ æˆ‘ä»è§†é¢‘å¸§ä¸­è·å–åƒç´ ï¼Œç„¶åå°†å®ƒä»¬ç®€å•åœ°å°†memcpyï¼ˆï¼‰å¤åˆ¶åˆ°DMABUFå­˜å‚¨åŒºã€‚ å‘ˆç°åœ¨å•ç‹¬çš„çº¿ç¨‹mainï¼ˆï¼‰ä¸­ã€‚ ä½†æˆ‘æƒ³æ‘†è„±è¿™ä¸ªå‰¯æœ¬ã€‚ æ¯ä¸ªå‰¯æœ¬éƒ½æ˜¯é‚ªæ¶çš„ã€‚ ç”šè‡³æœ‰ä¸€ä¸ªæœ¯è¯­â€œé›¶å¤åˆ¶â€ã€‚ ä»æ–‡æ¡£æ¥çœ‹ï¼Œä¼¼ä¹gstreameræœ¬èº«å¯ä»¥ç«‹å³åœ¨DMABUFä¸­æ¸²æŸ“å¸§ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘è¿˜æ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªçœŸå®çš„ä¾‹å­ã€‚ æˆ‘æŸ¥çœ‹äº†gstreamerçš„æ¥æº-å…³äºå®ƒçš„å†…å®¹ï¼Œä½†æ˜¯å¦‚ä½•ç¡®åˆ‡åœ°ä½¿ç”¨å®ƒå°šä¸æ¸…æ¥šã€‚ å¦‚æœæ‚¨çŸ¥é“å¦‚ä½•åœ¨OpenGLESv2çº¹ç†ä¸­ä½¿ç”¨gstreameråˆ¶ä½œçœŸæ­£çš„é›¶æ‹·è´å¸§ï¼Œè¯·ç¼–å†™ã€‚ <br><br> ä¹Ÿè®¸æœ€åä¸€ç‚¹ï¼šåœ¨æˆ‘çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä½¿ç”¨32ä½ä½å›¾ï¼Œè¿™å¯¹æˆ‘è€Œè¨€ä¸æ˜¯å¾ˆå¥½ã€‚ ä»gstreamerä¸­è·å–YUVä¼šæ›´åˆç†ï¼Œç„¶åè§†é¢‘å¸§çš„å¤§å°è¦å°å¾—å¤šï¼Œä½†æ˜¯é€»è¾‘å¾ˆå¤æ‚-æˆ‘å¿…é¡»åˆ†åˆ«å¯¹ä¸‰ä¸ªçº¹ç†Yï¼ŒUï¼ŒVè¿›è¡Œ3ä¸ªDMABUFã€‚å—¯ï¼Œç€è‰²å™¨ä¹Ÿå¾ˆå¤æ‚ï¼Œæ‚¨éœ€è¦å°†YUVè½¬æ¢ä¸ºARGBåœ¨ç€è‰²å™¨ä¸­ã€‚ <br><br> æ‚¨å¯ä»¥<a href="https://github.com/random-prj/video-cube">åœ¨githubä¸Š</a>æŸ¥çœ‹æ•´ä¸ªé¡¹ç›®ã€‚ ä½†æ˜¯ï¼Œæˆ‘é¢„å…ˆå‘å¹²å‡€å’Œæ­£ç¡®çš„ä»£ç /æ ·å¼çš„çˆ±å¥½è€…è‡´æ­‰ã€‚ æˆ‘æ‰¿è®¤è¿™æ˜¯åœ¨GoogleçŸ¿å±±ç²˜è´´çš„å¸®åŠ©ä¸‹ç²—å¿ƒç¼–å†™çš„ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN481540/">https://habr.com/ru/post/zh-CN481540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN481530/index.html">Nevangerï¼šæé€Ÿ</a></li>
<li><a href="../zh-CN481532/index.html">å†…å­˜å–è¯ï¼Œæ©¡çš®é¸­å’ŒGPOå¯†ç ã€‚ ç”¨r0ot-miè§£å†³é—®é¢˜ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN481534/index.html">æ˜¯Delphiå¿«æ­»äº†-é”™è¯¯</a></li>
<li><a href="../zh-CN481536/index.html">åŸŸåç³»ç»Ÿçš„å†å²ï¼šâ€œæˆ˜äº‰â€åè®®</a></li>
<li><a href="../zh-CN481538/index.html">20 SEOç¥è¯å°†åœ¨2020å¹´æ¶ˆå¤±</a></li>
<li><a href="../zh-CN481542/index.html">éªŒè¯æ•°å­—ç”µè·¯ã€‚ å¤ä¹ </a></li>
<li><a href="../zh-CN481544/index.html">ä½¿ç”¨å·ç§¯ç¥ç»ç½‘ç»œç©Lifeï¼ˆåœ¨Kerasä¸Šï¼‰</a></li>
<li><a href="../zh-CN481546/index.html">å¾®å¤„ç†å™¨å’Œä¸ªäººè®¡ç®—æœºçš„å†å²ï¼š1947å¹´è‡³1974å¹´</a></li>
<li><a href="../zh-CN481548/index.html">JavaScriptä¸­çš„Symbol.iterator</a></li>
<li><a href="../zh-CN481550/index.html">Inmarsatï¼šåœ¨å®¶ä¸­æ¥æ”¶å’Œè§£ç å«æ˜Ÿä¿¡å·</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>