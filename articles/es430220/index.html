<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñ•Ô∏è üéπ ‚òéÔ∏è C√≥mo convertir un hub usb "centenario" en un dispositivo inteligente administrado y ahorrar $ 300 üõÄüèΩ ‚ò¢Ô∏è üç¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="De alguna manera, necesitaba un concentrador durante mucho tiempo, preferiblemente con una gran cantidad de puertos y con una forma bastante convenien...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo convertir un hub usb "centenario" en un dispositivo inteligente administrado y ahorrar $ 300</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430220/"><p>  De alguna manera, necesitaba un concentrador durante mucho tiempo, preferiblemente con una gran cantidad de puertos y con una forma bastante conveniente, adecuada para incrustar en lugar de una unidad de disquete en la bah√≠a de 3.5 ''.  Un vistazo r√°pido al mercado de pulgas arroj√≥ el modelo D-link DUB-H7, e incluso en la combinaci√≥n de "2 por el precio de 1".  La inspecci√≥n externa no dio nada especial, el concentrador como un concentrador se hizo bien, la principal "impresora" USB AM-BM en la parte posterior y una fuente de alimentaci√≥n de 3 A.  Como siempre, lo primero que resolv√≠ fue alegrarme por un peque√±o n√∫mero de lugares vac√≠os en lugar de elementos, junto con una soldadura de alta calidad y calmados.  Es cierto, por si acaso, fui a Internet para ver qu√© tipo de centro era y si hab√≠a alg√∫n proyecto interesante con su participaci√≥n.  No hubo proyectos, las opiniones de los usuarios 50/50, en general, no din√°micas.  El centro durante 5-7 a√±os funcion√≥ bastante bien y realiz√≥ su tarea, luego se traslad√≥ sin problemas a la caja de basura electr√≥nica y posiblemente habr√≠a desaparecido como resultado junto con adaptadores desconocidos, adaptadores, etc. Pero ocurri√≥ un evento en mi vida que me hizo rebuscar en bolsas con basura vieja, encontrar este, como result√≥, un enlace D √∫nico, y sacudir el polvo para extraerlo a la luz de Dios.  Si est√°s interesado en saber por qu√©, entonces bienvenido a cortar. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/3a7/fdf/977/3a7fdf977a4d085c2fcb08c4491a000f.gif" alt="parpadeo parpadeo"><a name="habracut"></a><br><h4>  Introducci√≥n o llanto sobre los codiciosos fabricantes de hubs usb </h4><br><p>  Con el advenimiento de enrutadores SoC peque√±os y convenientes (como el tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sobre "acondicionamiento", un clon del popular mini enrutador chino Hame A15, que tambi√©n es "A5-V11 sin marca"</a> ) y la introducci√≥n generalizada de openwrt para administrar dispositivos host (en la gran mayor√≠a) casos, estos son dispositivos conectados a trav√©s de USB), la tarea de controlar la potencia de todo tipo de m√≥dems, lectores de tarjetas, convertidores usb-rs232, etc. se convierte en una tarea muy urgente. La necesidad de controlar el puerto cuando se trabaja con GSM-mo es m√°s com√∫n  Emami (para reiniciar, por ejemplo).  En principio, la gente ya ha tomado suficientes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">decisiones</a> .  Para estos fines, desde el uso de pines GPIO gratuitos en el enrutador, hasta rel√©s listos para usar.  Existen soluciones de terceros fabricantes.  Este es, por ejemplo, un concentrador USB programable para 4 puertos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Acroname</a> , que es rico en software y hardware, pero cuesta alrededor de $ 300. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5cb/cdd/540/5cbcdd5404d816d47e2a6917b9639f98.jpg" alt="imagen"></div><br><p>  Hay una opci√≥n m√°s barata, un hub <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">intercambiable</a> inteligente con el bonito nombre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Yupkit YKUSH</a> por solo 35 ‚Ç¨: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f0d/7f4/44d/f0d7f444dbf40fd96967cd8a4900d783.png" alt="imagen"></div><br><p>  Los m√°s econ√≥micos pueden usar un grupo de concentradores usb m√°s baratos, un rel√© de 5V normalmente cerrado y cualquiera de los Arduino-k para desconectar la alimentaci√≥n del puerto usb si es necesario.  El costo de tal soluci√≥n es &lt;$ 10, excluyendo el tiempo dedicado a soldar y programar Arduino. </p><br><p>  Parecer√≠a un callej√≥n sin salida.  O caro y hermoso, o simplemente simple y <s>mocoso</s> .  Pero result√≥ que hay una tercera opci√≥n.  Adem√°s, la soluci√≥n es antigua, como la <a href="https://web.archive.org/web/20120207112406/" rel="nofollow">especificaci√≥n USB 2.0</a> para los concentradores en los que se describe. </p><br><div class="spoiler">  <b class="spoiler_title">Extractos de las especificaciones relacionadas con la administraci√≥n de energ√≠a USB</b> <div class="spoiler_text"><p>  Los concentradores autoalimentados pueden tener interruptores de alimentaci√≥n que controlan la entrega de energ√≠a hacia los puertos orientados aguas abajo, pero no es necesario.  Los concentradores alimentados por bus deben tener interruptores de alimentaci√≥n.  Un concentrador con interruptores de alimentaci√≥n puede cambiar la alimentaci√≥n a todos los puertos como grupo / pandilla, a cada puerto individualmente, o tener un n√∫mero arbitrario de pandillas de uno o m√°s puertos.  Un concentrador indica si admite o no la conmutaci√≥n de alimentaci√≥n mediante la configuraci√≥n del campo Modo de conmutaci√≥n de alimentaci√≥n l√≥gica en wHubCharacteristics.  Si un concentrador admite la conmutaci√≥n de alimentaci√≥n por puerto, la alimentaci√≥n a un puerto se activa cuando se recibe una solicitud SetPortFeature (PORT_POWER) para el puerto.  La alimentaci√≥n del puerto se apaga cuando el puerto se encuentra en los estados Apagado o No configurado.  Si un concentrador admite la conmutaci√≥n de alimentaci√≥n agrupada, la alimentaci√≥n a todos los puertos de una pandilla se activa cuando cualquier puerto de una pandilla recibe una solicitud SetPortFeature (PORT_POWER).  El poder de una pandilla no est√° apagado a menos que todos los puertos de una pandilla est√©n en estado Apagado o No configurado. <br>  ... <br>  Aunque no se requiere un concentrador autoalimentado para implementar la conmutaci√≥n de alimentaci√≥n, el concentrador debe admitir el estado Apagado para todos los puertos.  Adem√°s, el concentrador debe implementar la m√°scara PortPwrCtrlMask (todos los bits configurados en 1B) aunque el concentrador no tenga interruptores de alimentaci√≥n que puedan controlarse mediante el software del sistema USB. </p></div></div><br><p>  Traduciendo al ruso, resulta que el est√°ndar USB ya define la capacidad de controlar la alimentaci√≥n del puerto utilizando el llamado  <b>Conmutaci√≥n de alimentaci√≥n por puerto (PPPS)</b> , pero encontrar un dispositivo que admita esta funci√≥n no solo es dif√≠cil, sino muy dif√≠cil.  Para implementar el PPPS funcional, se necesitan componentes adicionales (transistores de efecto de campo y cableado), que no se instalan en los concentradores para ahorrar dinero. </p><br><p>  Reaccionando sensiblemente a las demandas del mercado, algunos fabricantes indican la funci√≥n PPPS en las especificaciones de los hubs, pero en realidad esto no va m√°s all√° de la inscripci√≥n en la caja.  Y, b√°sicamente, es dif√≠cil encontrar fallas, porque muchos chips dentro de los concentradores admiten esta funci√≥n, pero es imposible implementarla sin interruptores adicionales (transistores) (la mayor√≠a de las veces los puertos USB est√°n directamente conectados a la l√≠nea + 5V). </p><br><p>  Incluso desmont√© especialmente varios hubs USB peque√±os que planeaba usar junto con el enrutador A5-V11.  Dentro estaban: el chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">GL850G</a> y el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">muy</a> querido por los chinos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">FE1.1s</a> .  Naturalmente, solo se encontraron en el interior los mismos controladores con un m√≠nimo de detalles.  Debido al tama√±o en miniatura de la placa, es dif√≠cil colocar un transistor y partes que se hayan unido incluso con una instalaci√≥n con bisagras.  Tuve que calmarme.  Aunque, dependiendo del chip, si en la hoja de datos hay una menci√≥n de <i>detecci√≥n de sobrecorriente y control de potencia individual o agrupado</i> , entonces es posible llevar a cabo una operaci√≥n inteligente de dicho dispositivo de acuerdo con el m√©todo descrito en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">art√≠culo</a> .  Un amigo us√≥ una combinaci√≥n de un transistor y un conjunto de resistencias para habilitar la funci√≥n PPPS en su concentrador. </p><br><div class="spoiler">  <b class="spoiler_title">Esquema de alteraci√≥n y apariencia del dispositivo.</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/0b1/202/831/0b1202831fd6a456a90f8ab01c9ed48e.jpg" alt="imagen"><br><img src="https://habrastorage.org/getpro/habr/post_images/a5d/e65/b11/a5de65b1118b764b9fda1d32a1fb47f9.jpg" alt="imagen"></div></div><br><p>  Adem√°s, al leer la documentaci√≥n, se da cuenta del hecho de que no hay no y s√≠, hay una menci√≥n de que el modo de control de puerto puede implementarse agregando algunos AIC1526-0 o MIC2026 (interruptor de distribuci√≥n de energ√≠a de doble canal) al circuito. </p><br><div class="spoiler">  <b class="spoiler_title">Los esquemas de las hojas de datos no permitir√°n mentir</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/vn/vy/ar/vnvyarpe24tec4a6skp0irp8grk.jpeg"><br><img src="https://habrastorage.org/webt/wc/s5/yd/wcs5ydopgtt5n8xwwovr1vbdld8.jpeg"></div></div><br><h4>  Parte de lo principal o ir al grano </h4><br><p>  Abrumado por pensamientos sombr√≠os sobre la compra de concentradores chinos con una funcionalidad desconocida ("un cerdo en un empuj√≥n") y la imposibilidad de verificarlos preliminarmente, sin querer encontr√© un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">art√≠culo</a> sobre la configuraci√≥n de openwrt para controlar la potencia de un concentrador USB, adem√°s, el mismo, abandonado y olvidado <b>D-Link DUB-H7</b> en un estuche gris. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/b9/3o/hv/b93ohvaf-wfvgk0hy2qltlxldlk.jpeg"></div><br><p>  Despu√©s de estudiar el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">material,</a> qued√≥ claro que a bordo del concentrador, adem√°s del controlador Philips ISP1521BE bastante avanzado, hay un mont√≥n de esos mismos <i>interruptores de distribuci√≥n de energ√≠a de doble canal</i> AIC1528-0 para una conmutaci√≥n de potencia completa.  Aunque a juzgar por la hoja de datos, un chip con un kit de cuerpo m√≠nimo puede controlar la potencia de los puertos descendentes (y tambi√©n hay muchas cosas que no se implementaron all√≠, por ejemplo, indicando la actividad del puerto ascendente utilizando la tecnolog√≠a GoodLink, o un host USB 1.1 para admitir correctamente una mezcla de 2.0 y 1.1 en puertos aguas abajo, etc. etc.). </p><br><p>  Por cierto, para aquellos que deciden repetir el camino que he recorrido, debo decir de inmediato que las versiones modernas del D-Link DUB-H7 (en un estuche negro brillante) ya no son tan √∫tiles como las antiguas grises. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/o8/ll/uc/o8llucurzvykxpwzgd9d9shxh88.jpeg"></div><br><p>  Seg√∫n la informaci√≥n de wikidevi.com ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">3</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">4</a> ), hay varias revisiones de este concentrador, con un conjunto diferente de componentes a bordo y, en consecuencia, con una funcionalidad diferente (A1 / A5 - ISP1521BE de 7 puertos, B1-2xGL854G de 4 puertos, C1 - 2xGL850Z de 4 puertos). </p><br><p>  Tambi√©n se llama la atenci√≥n sobre el D-Link DUB-H7 porque, adem√°s de su buena funcionalidad, tambi√©n es la opci√≥n m√°s asequible (tanto en t√©rminos de precio como de prevalencia) en nuestra √°rea.  De los modelos que podr√≠an mencionarse en el camino con "Conmutaci√≥n de alimentaci√≥n por puerto", tambi√©n podemos observar, por ejemplo, lo siguiente: </p><br><ul><li>  Linksys USB2HUB4 USB 2.0 hub. </li><li>  D-Link DFB-H7 Combo Hub </li><li>  Elecom U2H-G4S </li><li>  Sanwa Supply USB-HUB14GPH </li><li>  Targus Inc.  PAUH212 </li><li>  Hawking Technology UH214 </li></ul><br><p>  No tuve la oportunidad de buscar los dispositivos mencionados, porque una vez tuve suerte con la versi√≥n de la revisi√≥n A5.  La verdad es que ahora, si tuviera que comprar un hub de este tipo, tratar√≠a de encontrar la revisi√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">B1</a> , porque adem√°s de controlar la potencia de los puertos, el chip en el que est√° construido (GL854G) tiene dentro algo como <b>Multi Transaction Translator</b> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bn/cc/bu/bnccbuuo1tpqxp7bq7eob8lloq0.jpeg"></div><br><h4>  La importancia de tener un traductor de transacciones m√∫ltiples (MTT) en un concentrador USB </h4><br><p>  Una peque√±a digresi√≥n para explicar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">qu√© es</a> este Traductor de transacciones m√∫ltiples (MTT) y por qu√© es tan importante y necesario.  Un transmisor de transacciones (TT) es un componente importante de cualquier concentrador de alta velocidad que proporciona comunicaci√≥n entre los puertos ascendentes y descendentes de un concentrador, especialmente cuando estos puertos operan a diferentes velocidades de datos.  De hecho, TT separa los dispositivos de baja y media velocidad de los de alta velocidad (puramente USB 2.0, por ejemplo) y es responsable de trabajar a velocidades de USB 1.1. </p><br><p>  El transmisor de operaci√≥n puede ser de dos tipos: individual (ing. Single Transaction Translator, STT) o m√∫ltiple (ing. Multiple Transaction Translator, MTT).  En el caso de STT, se usa un transmisor para todos los puertos, y en el caso de MTT, cada puerto tiene su propio transmisor.  Est√° claro que la primera opci√≥n es m√°s barata y simple, de d√≥nde proviene la principal desventaja de esta opci√≥n: si varios puertos USB 1.1 est√°n conectados al concentrador, todos funcionar√°n a trav√©s de un solo cuello de botella.  Creo que puedes imaginar lo que suceder√° con la velocidad del intercambio. </p><br><img src="https://habrastorage.org/webt/g7/ei/ba/g7eibabozthfur42lw3je15r_tk.jpeg"><br><p>  En t√©rminos simples, los concentradores STT tienen un l√≠mite en la cantidad de dispositivos que se pueden usar simult√°neamente.  De lo contrario, est√° plagado de p√©rdida de paquetes debido a conflictos en la planificaci√≥n de la transferencia de datos, la sobrecarga del concentrador (especialmente en el caso de dispositivos que intercambian datos activamente, como tarjetas de sonido), etc.  Por lo tanto, es mejor elegir un concentrador para enfocarse inmediatamente en dispositivos con MTT y no buscar la causa de la inestabilidad en el trabajo.  Si ya tiene un concentrador, y desafortunadamente result√≥ ser con STT, solo tiene que verificar cuidadosamente los est√°ndares de los dispositivos conectados al concentrador y, si es posible, reducir la cantidad de USB 1.1 conectado a uno. </p><br><p>  Desafortunadamente, la gran mayor√≠a de los centros de bajo costo construidos en chips de presupuesto (fe1.1s, GL850G e ISP1521BE de mi centro A5) tienen STT a bordo, m√°s caros y avanzados (GL852G, GL854G (revisi√≥n B1 del D-link DUB-H7 en discusi√≥n), GL3520, VL812, VL813, SMSC USB2514) est√°n ejecutando MTT. </p><br><p>  Puede verificar el tipo de transmisor de operaci√≥n leyendo la hoja de datos en el chip (pero a menudo los chinos no pueden o no quieren decir la marca del chip), o conectando el concentrador a la computadora * nix y ejecutando el comando lsusb -v y encontrando una informaci√≥n de servicio relacionada con el concentrador en estudio (por nombre)  La l√≠nea <b>DeviceProtocol</b> indicar√° <i>TT simple</i> o <i>TT m√∫ltiple</i> .  Est√° claro que comprar solo es mejor con Multi :) </p><br><div class="spoiler">  <b class="spoiler_title">Descripci√≥n de las caracter√≠sticas del hub emitidas por el equipo de lsusb</b> <div class="spoiler_text"><p>  Bus 001 Dispositivo 005: ID 2001: f103 D-Link Corp.  Hub USB 2.0 DUB-H7 de 7 puertos <br>  No se pudo abrir el dispositivo, falta informaci√≥n <br>  Descriptor de dispositivo: <br>  bLongitud 18 <br>  bDescriptorType 1 <br>  bcdUSB 2.00 <br>  bDeviceClass 9 Hub <br>  bDeviceSubClass 0 sin usar <br>  bDeviceProtocol 1 Single TT <br>  bMaxPacketSize0 64 <br>  idVendor 0x2001 D-Link Corp. <br>  idProduct 0xf103 DUB-H7 Hub USB 2.0 de 7 puertos <br>  bcdDevice 1.00 <br>  iManufacturer 0 <br>  iProduct 0 <br>  iSerial 0 <br>  bNumConfigurations 1 <br>  Descriptor de configuraci√≥n: <br>  bLongitud 9 <br>  bDescriptorType 2 <br>  wTotalLength 25 <br>  bNumInterfaces 1 <br>  bConfigurationValue 1 <br>  iConfiguration 0 <br>  bmAttributes 0xe0 <br>  Autoalimentado <br>  Despertador remoto <br>  MaxPower 0mA <br>  Descriptor de interfaz: <br>  bLongitud 9 <br>  bDescriptorType 4 <br>  bInterfaceNumber 0 <br>  bAlternateSetting 0 <br>  bNumEndpoints 1 <br>  bInterfaceClass 9 Hub <br>  bInterfaceSubClass 0 sin usar <br>  bInterfaceProtocol 0 Hub de velocidad completa (o ra√≠z) <br>  iInterface 0 <br>  Descriptor de punto final: <br>  bLongitud 7 <br>  bDescriptorType 5 <br>  bEndpointAddress 0x81 EP 1 IN <br>  bmAttributes 3 <br>  Tipo de transferencia de interrupci√≥n <br>  Tipo de sincronizaci√≥n ninguno <br>  Datos de tipo de uso <br>  wMaxPacketSize 0x0001 1x 1 bytes <br>  bIntervalo 12 </p></div></div><br><p>  Cuando ejecuta el <i>comando lsusb -v -t</i> , puede ver una estructura bastante jer√°rquica de los dispositivos usb conectados. </p><br><img src="https://habrastorage.org/webt/qq/yv/7h/qqyv7hfnj27vnwtux7eebnwadia.jpeg"><br><p>  En lugar de lsusb, puede usar la utilidad <i>hwinfo</i> con el <i>modificador --usb</i> (es aconsejable preinstalarlo a trav√©s de <i>sudo apt-get install hwinfo</i> ).  Luego, la salida de informaci√≥n sobre los dispositivos usb se ver√° un poco diferente: </p><br><div class="spoiler">  <b class="spoiler_title">Informaci√≥n emitida por hwinfo</b> <div class="spoiler_text"><p>  lab @ lab-G: ~ $ hwinfo --usb <br>  23: USB 00.0: Hub 10a00 <br>  [Creado en usb.122] <br>  ID √∫nica: zFuK.sOcBcpBDhs4 <br>  ID principal: k4bc.9T1GDCLyFd9 <br>  ID de SysFS: /devices/pci0000:00/0000:00:1d.7/usb1/1-8/1-8:1.0 <br>  SysFS BusID: 1-8: 1.0 <br>  Clase de hardware: hub <br>  Modelo: "concentrador USB 2.0 D-Link DUB-H7 de 7 puertos" <br>  Conexi√≥n en caliente: USB <br>  Vendedor: usb 0x2001 "D-Link" <br>  Dispositivo: usb 0xf103 "concentrador USB 2.0 DUB-H7 de 7 puertos" <br>  Revisi√≥n: "1.00" <br>  Conductor: "hub" <br>  M√≥dulos de controlador: "usbcore" <br>  Velocidad: 480 Mbps <br>  Alias ‚Äã‚Äãdel m√≥dulo: "usb: v2001pF103d0100dc09dsc00dp01ic09isc00ip00in00" <br>  Estado de configuraci√≥n: cfg = nuevo, disponible = s√≠, necesidad = no, activo = desconocido <br>  Adjunto a: # 21 (Hub) </p></div></div><br><p>  En general, descubrimos brevemente las caracter√≠sticas de los dispositivos de baja velocidad y ahora es el momento de pasar a la parte de software. </p><br><h4>  Administrar la alimentaci√≥n del puerto USB </h4><br><p>  Dir√© de inmediato que no pude encontrar una manera de implementar la funcionalidad PPPS en un entorno Windows (al menos por inactividad).  El m√°ximo es habilitar / deshabilitar el dispositivo usando la utilidad <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">devcon</a></i> .  Me alegrar√° si uno de los lectores corrige y complementa.  Mientras tanto, todos los procedimientos se llevan a cabo en el ejemplo de Ubuntu (en el caso de openwrt, el algoritmo es similar, aunque en el √∫ltimo tronco ya deber√≠a estar incluido en la "distribuci√≥n"). </p><br><p>  Por lo tanto, la posibilidad de <i>conmutaci√≥n de alimentaci√≥n por puerto (PPPS)</i> o "conmutaci√≥n de alimentaci√≥n de puerto" se implementa en concentradores <u>con soporte de hardware para</u> esta funci√≥n utilizando el programa <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">hub-ctrl</a></b> o su <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">uhubctrl</a></b> descendiente.  Los considerar√© a su vez. </p><br><h4>  Hub-ctrl </h4><br><p>  El programa fue escrito por el ingeniero japon√©s de <s>lucha</s> por la <s>independencia</s> <b>Niibe Yutaka</b> en 2006.  Pero ahora funciona sin problemas.  Para la instalaci√≥n, necesitamos cualquier biblioteca * nix y <i>libusb-dev</i> .  Para Ubuntu 16.04 LTS, el algoritmo es el siguiente: </p><br><blockquote><pre>  Instalar agregar.  paquetes: sudo apt-get update &amp;&amp; sudo apt-get install libusb-dev git gcc
 Fuente de descarga: git clone https://github.com/codazoda/hub-ctrl.c
 Compilado con gcc: cd hub-ctrl.c &amp;&amp; gcc -o hub-ctrl hub-ctrl.c -lusb </pre></blockquote><p>  Si la direcci√≥n no est√° disponible, puede descargar manualmente las fuentes <a href="" rel="nofollow">desde aqu√≠</a> o <a href="" rel="nofollow">desde aqu√≠</a> y compilarlas con el comando descrito anteriormente. </p><br><p>  El programa tiene una sintaxis de l√≠nea de comandos bastante simple que se ajusta a la siguiente descripci√≥n: </p><br><p>  ./ <b>hub-ctrl</b> [{-h HUBNUM |  -b BUSNUM -d DEVNUM}] \ [-P PUERTO] [{-p [VALOR] |  -l [VALOR]}] <br>  donde HUBNUM: n√∫mero de concentrador, n√∫mero de bus BUSNUM, n√∫mero de dispositivo DEVNUM, n√∫mero de puerto PORT </p><br><p>  Para descubrir estos par√°metros, simplemente ejecute el comando <i>lsusb</i> : </p><br><img src="https://habrastorage.org/webt/pp/ob/tz/ppobtz0tg81cjzgnvla8ej1vw5s.jpeg"><br><p>  Por cierto, el programa hub-ctrl puede actuar como una especie de "sonda" del hub usb por el hecho de que tiene la capacidad de administrar la potencia del puerto.  Es suficiente ejecutarlo con el modificador -v.  Obtenemos una lista de concentradores compatibles disponibles en el sistema (l√≠nea INFO) y el estado del puerto (en mi caso, todos los puertos est√°n desactivados). </p><br><blockquote>  lab @ lab-G: ~ / hub $ sudo ./hub-ctrl -v <br>  Hub # 0 a las 001: 006 <br>  INFORMACI√ìN: conmutaci√≥n de potencia individual. <br>  ADVERTENCIA: los indicadores de puerto NO son compatibles. <br>  Estado del puerto del concentrador: <br>  Puerto 1: 0000.0000 <br>  Puerto 2: 0000.0000 <br>  Puerto 3: 0000.0000 <br>  Puerto 4: 0000.0000 <br>  Puerto 5: 0000.0000 <br>  Puerto 6: 0000.0000 <br>  Puerto 7: 0000.0000 </blockquote><p>  Y as√≠ es como se ver√° la configuraci√≥n cuando todos los puertos est√©n encendidos: </p><br><blockquote>  lab @ lab-G: ~ / hub $ sudo ./hub-ctrl -v <br>  Hub # 0 a las 001: 006 <br>  INFORMACI√ìN: conmutaci√≥n de potencia individual. <br>  ADVERTENCIA: los indicadores de puerto NO son compatibles. <br>  Estado del puerto del concentrador: <br>  Puerto 1: potencia 0000.0100 <br>  Puerto 2: potencia 0000.0100 <br>  Puerto 3: potencia 0000.0100 <br>  Puerto 4: potencia 0000.0100 <br>  Puerto 5: potencia 0000.0100 <br>  Puerto 6: potencia 0000.0100 <br>  Puerto 7: potencia 0000.0100 </blockquote><p>  Para habilitar cualquiera de los puertos, necesita ejecutar el <i>comando sudo ./hub-ctrl -h 0 -P 1 -p 1</i> , donde -h indica qu√© concentrador estamos usando (el 0 en mi caso), -P dice qu√© puerto (1- th puerto en mi caso), y -p indica el estado (0-off, 1-on). </p><br><img src="https://habrastorage.org/webt/ko/4r/wl/ko4rwlpq2_uxinhoukzh-xltvfc.jpeg"><br><p>  Para obtener la configuraci√≥n como en la imagen de arriba, fue necesario ejecutar los siguientes comandos secuencialmente (para puertos inicialmente deshabilitados): </p><br><p>  sudo ./hub-ctrl -h 0 -P 2 -p 1 <br>  sudo ./hub-ctrl -h 0 -P 4 -p 1 <br>  sudo ./hub-ctrl -h 0 -P 6 -p 1 </p><br><p>  En consecuencia, no es dif√≠cil escribir un script que haga que los LED parpadeen por diversi√≥n en la secuencia deseada.  Ejemplos de tales cosas ya existen y funcionan con √©xito: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">C√≥digo Morse</a> en un hub USB, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">guirnaldas de Navidad</a> , etc.  etc.  Para m√≠, desde las capacidades de hub-ctrl, la funci√≥n de conmutaci√≥n c√≠clica no fue suficiente para realizar mis fantas√≠as moment√°neas de iluminaci√≥n (para no perder el tiempo escribiendo un gui√≥n, etc.).  Este defecto molesto se elimina en el sucesor - uhubctl. </p><br><h4>  UHUBCTL </h4><br><p>  El programa uhubctl es un an√°logo hub-ctrl optimizado y tiene algunas diferencias est√©ticas (y, por supuesto, admite m√°s dispositivos). </p><br><div class="spoiler">  <b class="spoiler_title">Con el trabajo uhubctl:</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/pn/qg/dw/pnqgdwes-bvg0n35yepl4pjjsp0.jpeg"></div></div><br><p>  Te√≥ricamente, la utilidad se puede compilar para ejecutarse en un entorno Windows, pero ... Pero por ahora, interact√∫a con las utilidades a trav√©s del controlador winusb.sys, que no puede acceder al concentrador directamente.  El programa tambi√©n afirma ser compatible con USB 3.0 (los concentradores USB 3.0 que admiten conmutaci√≥n de alimentaci√≥n por puerto, por cierto, son mucho m√°s que los concentradores USB 2.0 con una funcionalidad similar).  Cuando se trabaja con un concentrador USB 3.0 conectado a un puerto ascendente USB 3.0, el programa lo define como dos concentradores virtuales independientes: USB 2.0 y USB 3.0, y los dispositivos USB se conectar√°n a uno de ellos dependiendo de sus capacidades y velocidad de conexi√≥n .  En consecuencia, para administrar dichos dispositivos, el programa habilita / deshabilita el encendido de los centros virtuales de forma predeterminada (puede cambiar la utilidad al modo manual agregando el interruptor -e al comando de inicio). </p><br><p>  <u>Importante: el</u> sistema de direccionamiento para puertos USB puede causar cierta confusi√≥n (es similar para hub-ctrl y uhubctl).  Cuando funciona, utiliza el mismo m√©todo de direccionamiento similar al del kernel de Linux: bx.yz, donde b es el n√∫mero de bus USB, y x, y, z son los n√∫meros de puerto de la cadena de host, comenzando desde el concentrador USB ra√≠z de este bus.  Si hay m√°s de un concentrador USB administrado, puede determinar las opciones correctas ejecutando uhubctl con la opci√≥n -l (ubicaci√≥n).  Observo que este direccionamiento es semi-estable: no cambiar√° si desconecta y vuelve a conectar los dispositivos USB al mismo puerto f√≠sico. </p><br><p>  El algoritmo de compilaci√≥n del programa es similar al algoritmo para hub-ctrl.    ,      libusb-1.0 ( 1.0.12  )   <i>sudo apt-get install libusb-1.0-0-dev</i> ,      <i>make</i> . </p><br><p>     </p><br><p> uhubctl -a off -p 2 </p><br><p>     (-a off,  -a 0)   2 (-p 2).   off/on/cycle ( 0/1/2).  <i>cycle</i>  ,    (  -d)    .  Es decir        . </p><br><h4>     ,   </h4><br><p>     ,  ""     D-Link - .    (PPPS)        ,    USB.  ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"> </a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">-</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">GSM-</a> (   ): </p><br><img src="https://habrastorage.org/getpro/habr/post_images/d29/99a/e9b/d2999ae9b1938357484853650973e9b0.png" alt="imagen"><br><p> ,       D-link DUB-H7,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"></a> ,       (    hub-ctrl). </p><br><div class="spoiler"> <b class="spoiler_title">   , ...</b> <div class="spoiler_text"><p> "‚Ä¶    Dlink DUB H-7 ,  hub-ctrl -p 0      1.47V.        " "   ,   /dev/ttyUSBx      .     .            ." </p></div></div><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las utilidades descritas en el art√≠culo (lsusb, hwinfo, hub-ctrl) pueden ser una excelente ayuda al elegir el pr√≥ximo concentrador USB, especialmente si no hay acceso para ver el dispositivo interno. </font><font style="vertical-align: inherit;">En un habr, las ideas y expectativas de los usuarios de los centros usb ideales ya se describieron ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Los algoritmos descritos para verificar los centros existentes, en mi opini√≥n, complementar√°n y diluir√°n perfectamente los enfoques descritos por los autores. </font><font style="vertical-align: inherit;">Y as√≠, despu√©s de eso, el h√©roe de mi art√≠culo (D-link DUB-H7 ver. A5) en mi opini√≥n se ve muy bien desde el punto de vista de las soluciones de circuitos. </font><font style="vertical-align: inherit;">Tal vez, me estoy inclinando ante el sim :)</font></font></p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/s3/5l/vm/s35lvmfuuc9jd67i9gvfk5s67n0.jpeg"></div><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PD En</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> busca de una pregunta para los miembros de la comunidad Habr, quienes de repente por casualidad estaban mintiendo casi igual que mi D-link DUB-H7 en un estuche gris.</font></font><p></p><br><img src="https://habrastorage.org/webt/_j/jb/pk/_jjbpk6wn6mj9ftl9m2i8wscjgo.jpeg"><br><p>        (   -   )?    RP1...RP2 (     0- c). </p><br><p> <u></u> :   -     EEPROM 24C02,     : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/67/_w/zm/67_wzmql8dpwcrzyjeybmwvvxaa.jpeg"></div><br><p>  <u>Importante!</u>  Todas las actualizaciones y notas provisionales a partir de las cuales los art√≠culos habr se forman sin problemas ahora se pueden ver en mi canal de telegramas <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">lab66</a></b> .  Suscr√≠bete para no esperar el pr√≥ximo art√≠culo, sino para estar inmediatamente informado sobre toda la investigaci√≥n :) </p><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><ol><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">http://simple-is-beauty.blogspot.com/2017/12/usb-port-control.html</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://askubuntu.com/questions/149242/is-it-possible-to-power-up-ports-on-a-usb-hub-from-ubuntu</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">http://www.ibuyopenwrt.com/index.php/15-yun-compatible/hardware-yun/36-usb-hub-per-port-power-switching-2</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://www.joeldare.com/wiki/usb_powered_animated_christmas_lights</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://michaelbluejay.com/batteries/dc-christmas-lights.html</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://forum.archive.openwrt.org/viewtopic.php?id=49012</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">http://atotto.hatenadiary.jp/entry/linux-sugoi-usb-hub-power-ctrl</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://hant.helplib.com/GitHub/article_111870</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://www.quaxio.com/hub_ctrl/</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://forum.ixbt.com/topic.cgi?id=13:40305-4</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">http://www.cypress.com/file/124006/download</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://github.com/mvp/uhubctl</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://github.com/crazystick/py-hub-ctrl</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">http://atc-ip.ru/info/29/1.html</a> </li></ol></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430220/">https://habr.com/ru/post/es430220/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430208/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 18: "Navegaci√≥n privada en Internet", parte 3</a></li>
<li><a href="../es430210/index.html">Pon a prueba mi paciencia por Check Point Security Academy</a></li>
<li><a href="../es430212/index.html">OpenSceneGraph: conceptos b√°sicos de la geometr√≠a de la escena</a></li>
<li><a href="../es430216/index.html">Seg√∫n tengo entendido, como muchos dulces, o la clasificaci√≥n de los productos por cheque en la solicitud</a></li>
<li><a href="../es430218/index.html">Optimizaci√≥n de energ√≠a STM32: una gu√≠a pr√°ctica</a></li>
<li><a href="../es430222/index.html">Ingeniero Senior en busca de trabajo. C√≥mo pas√© por 20 entrevistas con RRHH y lo que pienso al respecto</a></li>
<li><a href="../es430224/index.html">Trastorno esquizot√≠pico: una mirada al interior</a></li>
<li><a href="../es430226/index.html">De var b a entrevista</a></li>
<li><a href="../es430228/index.html">Marcas en forma de X como m√©todo de identificaci√≥n por radar utilizando an√°lisis de datos abiertos de dos sat√©lites cient√≠ficos SENTINEL-1</a></li>
<li><a href="../es430230/index.html">C√≥mo mantener tu lugar en una startup en crecimiento</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>