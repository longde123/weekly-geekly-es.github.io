<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🆙 🧘🏿 🤜🏼 Python & Arduino. Sederhana, cepat dan cantik ⚡️ 🙆🏿 🥣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sangat sering, pemula dan tidak hanya pengembang memiliki pertanyaan. Bagaimana cara mengontrol dengan Arduino dari komputer? Dan jika komputer itu bu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Python & Arduino. Sederhana, cepat dan cantik</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443326/">  Sangat sering, pemula dan tidak hanya pengembang memiliki pertanyaan.  Bagaimana cara mengontrol dengan Arduino dari komputer?  Dan jika komputer itu bukan Raspberry Pi, tetapi komputer rumah biasa?  Dan jika Anda tidak ingin menderita dengan ESP8266 dan mengelola melalui antarmuka web?  Apakah benar-benar perlu untuk membuka IDE Arduino setiap kali dan mengirim perintah melalui <b>Port Monitor</b> ?  Saya akan berbicara tentang cara membuat aplikasi GUI saya sendiri untuk mengendalikan Arduino. <br><a name="habracut"></a><br><h3>  Peralatan </h3><br>  Baru-baru ini saya mendapat papan yang sangat menarik: <b>Arduino SS Micro</b> .  Papan ini, menyerupai Digispark Attiny 85, tetap merupakan versi Cina dari Arduino Micro dengan output USB. <br><br><img src="https://habrastorage.org/webt/aa/wu/2y/aawu2yvapatjuclkye5hfyxkdxs.png"><br><br>  Saya tidak akan membicarakannya secara rinci, karena pengguna YouTube dengan nama panggilan <b>iomoio</b> telah melakukan <b>ini</b> , dan ulasannya dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Tampaknya bagi saya bahwa ini adalah perangkat yang cukup keren dan nyaman untuk proyek rumah kecil, karena kabel memiliki properti super: tersesat pada saat yang paling tidak tepat. <br><br>  MacBook Pro dengan sistem operasi macOS Mojave digunakan sebagai komputer kontrol, tetapi jangan tutup artikel jika Anda menggunakan Windows atau Linux - semua yang dijelaskan dalam artikel ini akan berfungsi tanpa perubahan pada sistem operasi apa pun. <br><br><h3>  Sketsa untuk Arduino </h3><br>  Sebagai contoh, sketsa akan digunakan yang menghidupkan dan mematikan LED, pada perintah dari port Serial. <br><br>  <b>PERINGATAN</b> <br><br>  LED di Arduino SS Micro hang pada port SS, dan karenanya dimatikan secara otomatis.  Meskipun demikian, contoh <b>Blink</b> standar adalah LED yang berkedip. <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> inChar; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> LED_PIN SS void setup() { pinMode(LED_PIN, OUTPUT); </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//   Serial.begin(115200); //  Serial -  } void loop() { if (Serial.available() &gt; 0) { inChar = Serial.read(); if (inChar=='e') // e - Enable -  { digitalWrite(LED_PIN,HIGH); } } else if (inChar=='d') // d - Disable -  { digitalWrite(LED_PIN,LOW); } else if (inChar=='b') // b - Blink -    { while (true){ digitalWrite(LED_PIN,HIGH); delay(1000); digitalWrite(LED_PIN,LOW); delay(1000); } } }</span></span></span></span></code> </pre> <br>  Jika Anda akan menggunakan Arduino lain - jangan lupa untuk mengubah pin LED. <br><br><h3>  Kode komputer </h3><br>  Salah satu kelebihan Python, selain cross-platform-nya, adalah keberadaan sejumlah besar perpustakaan.  Kami akan membutuhkan: <br><br><ul><li>  <b>PySerial</b> - perpustakaan untuk bekerja dengan port serial </li><li>  <b>PyQT5</b> - pustaka untuk membuat antarmuka grafis </li></ul><br><h4>  Instalasi </h4><br>  Untuk menginstal, gunakan manajer paket bawaan - pip. <br><br><pre> <code class="bash hljs">pip install pyserial pyqt5</code> </pre> <br>  Untuk kenyamanan membuat GUI, Anda dapat menginstal program QTDesigner. <br><br><h4>  Antarmuka </h4><br>  Karena program ini dimaksudkan untuk menunjukkan kemampuan, pengguna dapat memilih port dari yang diusulkan, serta kecepatan komunikasi yang akan terjadi. <br><br><img src="https://habrastorage.org/webt/iy/ga/62/iyga62zgwjt9p5zbr8ebw-r6xr4.png"><br><br><h4>  Kode sumber </h4><br>  Semua pekerjaan dengan perangkat ini berkat pustaka PySerial.  Namun ada beberapa nuansa.  Misalnya, bagaimana Anda tahu ke port mana perangkat terhubung? <br><br>  Di seluruh situs <b>stackoverflow</b> terkenal, pengguna dengan nama panggilan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Thomas</a> menyarankan solusi yang sudah jadi, yang saya gunakan. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">serial_ports</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" Lists serial port names :raises EnvironmentError: On unsupported or unknown platforms :returns: A list of the serial ports available on the system """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> sys.platform.startswith(<span class="hljs-string"><span class="hljs-string">'win'</span></span>): ports = [<span class="hljs-string"><span class="hljs-string">'COM%s'</span></span> % (i + <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">256</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> sys.platform.startswith(<span class="hljs-string"><span class="hljs-string">'linux'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> sys.platform.startswith(<span class="hljs-string"><span class="hljs-string">'cygwin'</span></span>): <span class="hljs-comment"><span class="hljs-comment"># this excludes your current terminal "/dev/tty" ports = glob.glob('/dev/tty[A-Za-z]*') elif sys.platform.startswith('darwin'): ports = glob.glob('/dev/tty.*') else: raise EnvironmentError('Unsupported platform') result = [] for port in ports: try: s = serial.Serial(port) s.close() result.append(port) except (OSError, serial.SerialException): pass return result</span></span></code> </pre><br>  Selain itu, Anda harus menyimpan daftar kecepatan yang tersedia: <br><br><pre> <code class="python hljs">speeds = [<span class="hljs-string"><span class="hljs-string">'1200'</span></span>,<span class="hljs-string"><span class="hljs-string">'2400'</span></span>, <span class="hljs-string"><span class="hljs-string">'4800'</span></span>, <span class="hljs-string"><span class="hljs-string">'9600'</span></span>, <span class="hljs-string"><span class="hljs-string">'19200'</span></span>, <span class="hljs-string"><span class="hljs-string">'38400'</span></span>, <span class="hljs-string"><span class="hljs-string">'57600'</span></span>, <span class="hljs-string"><span class="hljs-string">'115200'</span></span>]</code> </pre> <br>  Sekarang mari kita kumpulkan <b>desain</b> (dibuat di QtDesigner dan dikonversi menggunakan utilitas pyuic5 ke file .py), <b>fungsi untuk memindai port,</b> dan <b>kode program utama</b> . <br><br>  Kelas utama berisi semua logika program <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LedApp</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(QtWidgets.QMainWindow, design.Ui_Form)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> super().__init__() self.setupUi(self) self.Port.addItems(serial_ports()) self.Speed.addItems(speeds) self.realport = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> self.ConnectButton.clicked.connect(self.connect) self.EnableBtn.clicked.connect(self.send) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">connect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: self.realport = serial.Serial(self.Port.currentText(),int(self.Speed.currentText())) self.ConnectButton.setStyleSheet(<span class="hljs-string"><span class="hljs-string">"background-color: green"</span></span>) self.ConnectButton.setText(<span class="hljs-string"><span class="hljs-string">''</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> e: print(e) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.realport: self.realport.write(<span class="hljs-string"><span class="hljs-string">b'b'</span></span>)</code> </pre><br>  Variabel <b>self.Port</b> dan <b>self.Speed</b> adalah daftar drop-down yang berisi nilai port dan kecepatan yang tersedia. <br><br>  Ketika Anda mengklik tombol <b>self.ConnectButton</b> , fungsi <b>connect</b> disebut, di mana upaya dilakukan untuk menghubungkan ke port yang diberikan pada kecepatan yang diberikan.  Jika koneksi berhasil, tombol berubah menjadi hijau dan label berubah. <br><br><img src="https://habrastorage.org/webt/gk/6y/f2/gk6yf27-ftwz7k_omji4nuxrraw.png"><br><br>  Fungsi <b>kirim</b> mengirimkan string byte ke port kami - memaksa kami untuk mengaktifkan mode berkedip. <br><br>  Dengan demikian, Anda dapat mengontrol berbagai perangkat yang terhubung ke USB. <br><br>  Artikel ini adalah pengantar dan ikhtisar, informasi lebih lengkap dapat ditemukan, misalnya di sini: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PySerial</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pyqt</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Serial dalam bahasa Arduino</a> </li></ul><br>  Kode sumber lengkap untuk sketsa Arduino dan program di-host di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id443326/">https://habr.com/ru/post/id443326/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id443316/index.html">Pengujian ReactJS: Seberapa Dalam Lubang Kelinci itu</a></li>
<li><a href="../id443318/index.html">Menulis loader wasm untuk Ghidra. Bagian 1: Pernyataan masalah dan pengaturan lingkungan</a></li>
<li><a href="../id443320/index.html">Sistem manajemen dokumen elektronik "Wazir"</a></li>
<li><a href="../id443322/index.html">GitLab 11.8 dirilis dengan SAST untuk JavaScript, GitLab Pages untuk subkelompok dan pelacakan bug</a></li>
<li><a href="../id443324/index.html">Python vs. Scala for Apache Spark - benchmark yang diharapkan dengan hasil yang tidak terduga</a></li>
<li><a href="../id443330/index.html">Minggu Keamanan 11: RSA 2019 dan masa depan yang lebih cerah</a></li>
<li><a href="../id443332/index.html">Robot dapur</a></li>
<li><a href="../id443334/index.html">Wajah kuning</a></li>
<li><a href="../id443336/index.html">Bekerja dengan kamera dalam Flutter</a></li>
<li><a href="../id443340/index.html">Cara untuk Mendapatkan Lisensi PVS-Studio Gratis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>