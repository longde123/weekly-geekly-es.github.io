<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“§ ğŸ‘·ğŸ» ğŸˆ´ é€šè¿‡Sonatype Nexus Repository OSSé‡ç”¨ç§æœ‰Androidåº“ ğŸˆ³ ğŸ¿ âš–ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘è®¤ä¸ºè®¸å¤šäººéƒ½éœ€è¦åœ¨å¦ä¸€ä¸ªé¡¹ç›®ä¸­é‡ç”¨å…¶Androidåº”ç”¨ç¨‹åºçš„å„ä¸ªæ¨¡å—ã€‚ è§£å†³æ­¤é—®é¢˜çš„æ–¹æ³•å¾ˆç®€å•ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨JitPackå…¬å¼€æ‰˜ç®¡æ‚¨çš„Androidåº“ã€‚ è¯¥è§£å†³æ–¹æ¡ˆéå¸¸å¥½ï¼Œä½†æ˜¯å¦‚æœæ‚¨éœ€è¦å°†ç£å¸¦åº“ç§ä¸‹æ”¾ç½®ï¼Œåˆ™å¿…é¡»ä»˜è´¹ï¼Œè€Œä¸”å…³ç¨é€šå¸¸å–å†³äºæ‰€æ”¾ç½®ç‰©å“çš„æ•°é‡ã€‚ æ­¤è§£å†³æ–¹æ¡ˆå¹¶ä¸é€‚åˆæ‰€æœ‰äººã€‚ 

 ä¸‹é¢ï¼Œæˆ‘å°†ä½¿...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>é€šè¿‡Sonatype Nexus Repository OSSé‡ç”¨ç§æœ‰Androidåº“</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416665/"> <i>æˆ‘è®¤ä¸ºè®¸å¤šäººéƒ½éœ€è¦åœ¨å¦ä¸€ä¸ªé¡¹ç›®ä¸­é‡ç”¨å…¶Androidåº”ç”¨ç¨‹åºçš„å„ä¸ªæ¨¡å—ã€‚</i>  <i>è§£å†³æ­¤é—®é¢˜çš„æ–¹æ³•å¾ˆç®€å•ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JitPack</a>å…¬å¼€æ‰˜ç®¡æ‚¨çš„Androidåº“ã€‚</i>  <i>è¯¥è§£å†³æ–¹æ¡ˆéå¸¸å¥½ï¼Œä½†æ˜¯å¦‚æœæ‚¨éœ€è¦å°†ç£å¸¦åº“ç§ä¸‹æ”¾ç½®ï¼Œåˆ™å¿…é¡»ä»˜è´¹ï¼Œè€Œä¸”å…³ç¨é€šå¸¸å–å†³äºæ‰€æ”¾ç½®ç‰©å“çš„æ•°é‡ã€‚</i>  <i>æ­¤è§£å†³æ–¹æ¡ˆå¹¶ä¸é€‚åˆæ‰€æœ‰äººã€‚</i> <i><br><br></i>  <i>ä¸‹é¢ï¼Œæˆ‘å°†ä½¿ç”¨Sonatype Nexus Repository OSSæä¾›é’ˆå¯¹æ­¤é—®é¢˜çš„ç®€å•è§£å†³æ–¹æ¡ˆã€‚</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sx/ob/tl/sxobtlhtftpweuwfp36sn0xqtou.png"></div><a name="habracut"></a><br><h2> å¼•è¨€ </h2><br> æœ¬æ–‡å¹¶éæ—¨åœ¨å…¨é¢ï¼Œä»…åæ˜ äº†åŸºæœ¬è§£å†³æ–¹æ¡ˆã€‚ ç»“æœï¼Œæ‚¨å°†åœ¨ä¸»æœºä¸Šå®‰è£…äº†ç”¨äºç®¡ç†å·¥ä»¶çš„è½¯ä»¶ï¼Œç”¨äºå‘å¸ƒAndroidåº“çš„è„šæœ¬ï¼Œèƒ½å¤Ÿä»æœ¬åœ°mavenå­˜å‚¨åº“ä¸­å®ç°åº”ç”¨ç¨‹åºä¸­çš„ä¾èµ–é¡¹çš„åŠŸèƒ½ã€‚ ä¹Ÿè®¸åœ¨HabrÃ©ä¸Šå·²ç»æœ‰è¿™ç±»å‡ºç‰ˆç‰©ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰æ‰¾åˆ°Androidå¼€å‘äººå‘˜å¯ä»¥ç†è§£çš„æ•™ç¨‹ï¼Œè¿™ä¿ƒä½¿æˆ‘ä¸æ‚¨å…±äº«ä¿¡æ¯ã€‚ å¦‚æœå®ƒå¯¹å·¥ä½œçœŸçš„æœ‰ç”¨ï¼Œæˆ‘å°†æ„Ÿåˆ°é«˜å…´ã€‚ <br><br><h3> æ­¥éª¤1.å‡†å¤‡ </h3><br> é¦–å…ˆï¼Œæ‚¨éœ€è¦ç¡®å®šNexusçš„å®‰è£…ä½ç½®ã€‚ å¦‚æœè¿™æ˜¯ä¸€å°æœåŠ¡å™¨æ˜¯åˆä¹é€»è¾‘çš„ï¼Œé‚£ä¹ˆåœ¨å¼€å‘è¿‡ç¨‹ä¸­æ‚¨å°†å§‹ç»ˆå¯ä»¥è®¿é—®è¯¥æœåŠ¡å™¨ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†Nexuså®‰è£…åœ¨æˆ‘ä»¬æ­£åœ¨å¼€å‘çš„åŒä¸€ä¸»æœºä¸Šã€‚ åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…æ—¶çš„åŒºåˆ«ä»…åœ¨äºæˆ‘ä»¬å°†è®¿é—®å­˜å‚¨åº“çš„IPåœ°å€ä¸­ã€‚ <br><br> åœ¨å®‰è£…Nexusä¹‹å‰ï¼Œæ‚¨éœ€è¦<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸‹è½½</a>å¹¶å®‰è£…JREã€‚ ä»…Oracle JREé€‚ç”¨ï¼Œä»…1.8ç‰ˆï¼ˆå°è¯•10ï¼Œä½†Nexuså®£èª“æ•ˆå¿ ï¼‰ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨æ–‡æ¡£ä¸­æ˜ç¡®æŒ‡å‡ºäº†</a>è¿™ä¸€ç‚¹ã€‚ åˆ‡è®°åœ¨PATHä¸­å°†è·¯å¾„æ·»åŠ åˆ°JREå¯æ‰§è¡Œæ–‡ä»¶ã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»å®˜æ–¹ç½‘ç«™ä¸‹è½½Nexus</a> ã€‚ åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œè¿™æ˜¯ç‰ˆæœ¬3.12 <br><br><h3> ç¬¬2æ­¥ï¼šå®‰è£…å’Œé…ç½®Nexus </h3><br> å¯ä»¥åœ¨æ–¹ä¾¿çš„åœ°æ–¹è§£å‹ç¼©ä¸‹è½½çš„å­˜æ¡£æ–‡ä»¶ã€‚ ç„¶åï¼Œæ‚¨å¯ä»¥å¯åŠ¨ç¨‹åºå¹¶å¼€å§‹å·¥ä½œã€‚ ä¸ºäº†é•¿æœŸæ–¹ä¾¿åœ°ä½¿ç”¨ï¼Œæ‚¨éœ€è¦å°†Nexusæ³¨å†Œä¸ºæœåŠ¡å¹¶åœ¨æ“ä½œç³»ç»Ÿå¯åŠ¨æ—¶è¿è¡Œå®ƒã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡æ¡£ä¸­</a>éå¸¸æ¸…æ¥šåœ°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æè¿°äº†</a>å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œã€‚ åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œåªéœ€è½¬åˆ°â€œ <code>nexus-3.12/bin/</code> â€ <code>nexus-3.12/bin/</code>ç„¶åä»å‘½ä»¤è¡Œè¿è¡Œnexusæ–‡ä»¶ã€‚ <br><br> å¯¹äºc Windowsï¼š <br><br><pre> <code class="bash hljs">nexus.exe /run</code> </pre> <br> å¯¹äºUnixï¼š <br><br><pre> <code class="bash hljs">./nexus run</code> </pre> <br> å› æ­¤ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°æœ‰å…³æˆåŠŸå¯åŠ¨çš„é€šçŸ¥ï¼Œçœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/y3/cm/-p/y3cm-pjjz88bd0w98he6o-koov0.png"><br></div></div><br> ç°åœ¨è¯¥æµ‹è¯•Nexusçš„åŠŸèƒ½äº†ã€‚ ä¸ºæ­¤ï¼Œåªéœ€è½¬åˆ°é“¾æ¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">httpï¼š// localhostï¼š8081</a> ã€‚ å¦‚æ‚¨æ‰€çŸ¥ï¼Œå¯¹äºæœåŠ¡å™¨è€Œè¨€ï¼Œæ‚¨éœ€è¦æŒ‡å®šæœåŠ¡å™¨çš„IPåœ°å€ï¼Œè€Œä¸æ˜¯â€œ <code>localhost</code> â€ï¼Œå¹¶ä¸”Nexusä½¿ç”¨ç«¯å£8081èµ·ä½œç”¨ã€‚æ‚¨å°†çœ‹åˆ°ä»¥ä¸‹é¡µé¢ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/4j/9r/gw/4j9rgwjh5sh3fe4qwlakw1ncu1a.png"><br></div></div><br> é¦–å…ˆï¼Œæ‚¨éœ€è¦ç™»å½•ï¼Œå•å‡»å³ä¸Šè§’çš„â€œ <code>Sign in</code> â€ <code>Sign in</code>ç„¶åè¾“å…¥<code>admin</code>çš„ç™»å½•åï¼ˆ <code>admin</code> ï¼‰å’Œå¯†ç ï¼ˆ <code>admin123</code> ï¼‰ã€‚ ä¹‹åï¼Œé€šè¿‡ç‚¹å‡»é½¿è½®å›¾æ ‡ï¼Œæˆ‘ä»¬è¿›å…¥è®¾ç½®ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/v0/9m/jz/v09mjzgstl_cec4ypfaub3ocrng.png"><br></div></div><br> åœ¨è®¾ç½®å±å¹•ä¸Šï¼Œæ‚¨ä¼šçœ‹åˆ°æŒ‡å‘<code>Blob Stores</code>å’Œ<code>Repositories</code>é“¾æ¥ã€‚  <code>Blob Stores</code>æ˜¯å­˜å‚¨åº“æ•°æ®çš„å­˜å‚¨åº“ã€‚ åœ¨æ¯ä¸ªå­˜å‚¨åº“çš„è®¾ç½®ä¸­ï¼Œæ‚¨å¯ä»¥æŒ‡å®šä¸€ä¸ªç‰¹å®šçš„<code>Blob Store</code>æ¥å­˜å‚¨ä¿¡æ¯ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå°±è¶³å¤Ÿäº†ã€‚  <code>Repositories</code>æ˜¯æˆ‘ä»¬æ„Ÿå…´è¶£çš„å­˜å‚¨åº“ï¼Œè¿™äº›åº“å°†å­˜å‚¨åœ¨å…¶ä¸­ã€‚ <br><br> ä½†æ˜¯ï¼Œåœ¨ç»§ç»­ä»‹ç»å­˜å‚¨åº“ä¹‹å‰ï¼Œæœ‰å¿…è¦ä¸ºç”¨æˆ·è¿›è¡ŒåŸºæœ¬è®¾ç½®ã€‚ è®©æˆ‘ä»¬è½¬åˆ°â€œ <code>Roles</code> â€éƒ¨åˆ†ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/hk/ej/bf/hkejbf6v6vfhkrouiyvzwgu4w78.png"><br></div></div><br> é™¤äº†ç®¡ç†å‘˜å’ŒåŒ¿åç”¨æˆ·çš„è§’è‰²ä¹‹å¤–ï¼Œæˆ‘å»ºè®®åˆ†é…â€œ <code>Downloader</code> â€ç±»å‹çš„è§’è‰²ï¼ˆç”¨äºå°†ä¾èµ–é¡¹åŠ è½½åˆ°é¡¹ç›®ä¸­ï¼‰ï¼Œåˆ†é…â€œ <code>Contributor</code> â€ç±»å‹çš„è§’è‰²ï¼Œç”¨äºå°†åº“å‘é€åˆ°Nexusã€‚ <br><br> å•å‡»â€œåˆ›å»ºè§’è‰²â€ï¼Œç„¶åé€‰æ‹©â€œ Nexusè§’è‰²â€ï¼Œä¸ºâ€œä¸‹è½½ç¨‹åºâ€è¾“å…¥æ•°æ®ï¼Œå¦‚ä»¥ä¸‹å±å¹•æˆªå›¾æ‰€ç¤ºï¼š <br><br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/3h/46/f3/3h46f3qn0okr_a0bacvz9bua4ya.png"><br></div></div><br> ä»€ä¹ˆç‰¹æƒè´Ÿè´£<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡æ¡£ä¸­</a>è¯¦ç»†æè¿°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çš„å†…å®¹</a> ã€‚ æˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸€ä¸ªå¸¦æœ‰â€œ <code>repository-view</code> â€æ ‡è®°çš„ç‰¹æƒï¼ˆå®ƒè´Ÿè´£å¤„ç†å­˜å‚¨åº“çš„æ•°æ®ï¼‰ï¼Œè¯¥ç‰¹æƒè¿˜åº”èµ‹äºˆè¯»å–å­˜å‚¨åº“æ•°æ®çš„æƒé™ï¼Œè¿™å°±æ˜¯â€œ <code>read</code> â€æ ‡è®°ï¼Œå¹¶ä¸”ç”±äºåœ¨Androidä¸­æˆ‘ä»¬ä½¿ç”¨mavenå­˜å‚¨åº“ï¼Œå› æ­¤å€¼å¾—åœç•™åœ¨â€œ <code>maven2</code> â€æ ‡å¿—ä¸Šï¼Œä»¥é˜²æ­¢ç”¨æˆ·ä½¿ç”¨å…¶ä»–ç±»å‹çš„å­˜å‚¨åº“ã€‚ ç‚¹å‡»â€œ <code>Create role</code> â€ã€‚ <br><br> ä»¥æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬åˆ›å»ºäº†â€œ <code>Contributor</code> â€è§’è‰²ã€‚ å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œæˆ‘ä»¬å°†ä»â€œ <code>Downloader</code> â€è§’è‰²ï¼ˆåœ¨é¡µé¢åº•éƒ¨è®¾ç½®ï¼‰ç»§æ‰¿è¯»å–æƒé™ï¼Œå¹¶ä¸”æˆ‘ä»¬å°†æ‹¥æœ‰ç¼–è¾‘ï¼Œå‘å­˜å‚¨åº“æ·»åŠ å·¥ä»¶ä»¥åŠé€šè¿‡Webç•Œé¢æŸ¥çœ‹å­˜å‚¨åº“æ•°æ®çš„ç‰¹æƒã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/zy/9f/ya/zy9fyarwz7uh9gpimpq7nnccwsm.png"><br></div></div><br> æ¥ä¸‹æ¥ï¼Œåˆ›å»ºå°†ä¸ºå…¶åˆ†é…å·²é…ç½®è§’è‰²çš„ç”¨æˆ·ã€‚ æˆ‘ä»¬è½¬åˆ°â€œ <code>Users</code> â€éƒ¨åˆ†ï¼ˆåœ¨çª—å£å·¦ä¾§ï¼‰ï¼Œç„¶åå•å‡»â€œ <code>Create local user</code> â€ã€‚ ä¸ºäº†è¿›è¡ŒéªŒè¯ï¼Œæ‚¨å¯ä»¥è®¾ç½®ç±»ä¼¼äºæ ‡å‡†ç®¡ç†å‘˜å¯†ç çš„å¯†ç ï¼Œå³â€œ <code>downloader123</code> â€å’Œâ€œ <code>contributor123</code> â€ã€‚ å±å¹•ä¸Šçš„æ ·å“å¡«å……ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/e3/us/dv/e3usdvidigjijw9nlrn4kvel-eq.png"><br></div></div><br> ç”±äºæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ç§äººå·¥ä½œï¼Œå› æ­¤å€¼å¾—åŒ¿åç”¨æˆ·è®¿é—®å­˜å‚¨åº“æ•°æ®ï¼Œä¸ºæ­¤ï¼Œè¯·è½¬åˆ°ç”¨æˆ·â€œ <code>anonimous</code> â€å¹¶å°†å…¶çŠ¶æ€ä»â€œ <code>Active</code> â€æ›´æ”¹ä¸ºâ€œ <code>Disabled</code> â€ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†æ— æ³•åŒ¿åè·å–Androidé¡¹ç›®ä¸­çš„ä¾èµ–å…³ç³»ï¼Œè€Œåªèƒ½ä½¿ç”¨ç‰¹å®šçš„ç”¨æˆ·åå’Œå¯†ç æ¥è·å–ä¾èµ–å…³ç³»ï¼Œä½†ä»å¯ä»¥é€šè¿‡Webç•Œé¢ä¸‹è½½æ•°æ®ã€‚ <br><br> ä¸ºäº†ç¦æ­¢åŒ¿åç”¨æˆ·é€šè¿‡Webç•Œé¢æŸ¥çœ‹å­˜å‚¨åº“çš„å†…å®¹ï¼Œè¯·è½¬åˆ°â€œ <code>Allow anonymous users to access the server</code> â€éƒ¨åˆ†ï¼Œç„¶åå–æ¶ˆé€‰ä¸­â€œ <code>Allow anonymous users to access the server</code> â€é€‰é¡¹ã€‚ è®°ä½è¦ä¿å­˜æ›´æ”¹ã€‚ <br><br> æœ€åä¸€æ­¥ä»ç„¶æ˜¯-å»ºç«‹å­˜å‚¨åº“ã€‚ è½¬åˆ°â€œ <code>Repositories</code> â€éƒ¨åˆ†ï¼ŒæŸ¥çœ‹åœ¨é‚£é‡Œåˆ›å»ºçš„é»˜è®¤å­˜å‚¨åº“ã€‚ å…¶ä¸­æœ‰å­˜å‚¨åº“â€œ <code>maven2</code> â€ï¼Œå¦‚æœä»”ç»†æŸ¥çœ‹ï¼Œæ‚¨ä¼šçœ‹åˆ°ä¸åŒçš„ç±»å‹ï¼šâ€œä»£ç†â€ï¼Œâ€œç»„â€ï¼Œâ€œæ‰˜ç®¡â€ã€‚ å¦‚æœä»£ç†å­˜å‚¨åº“åªæ˜¯å°†ç”¨æˆ·è½¬å‘åˆ°å¦ä¸€ä¸ªå­˜å‚¨åº“ï¼Œåˆ™åœ¨é¢„å…ˆé…ç½®çš„â€œ <code>maven-central</code> â€çš„æƒ…å†µä¸‹ï¼Œè¿™æ˜¯æŒ‡å‘<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://repo1.maven.org/maven2/</a>çš„é“¾æ¥ï¼Œâ€œç»„â€å¯èƒ½åŒ…å«å¤šä¸ªå­˜å‚¨åº“ï¼Œå¹¶ä¸”â€œæ‰˜ç®¡â€å·²ç»æ˜¯Nexusä¸­å­˜å‚¨çš„ç‰¹å®šå­˜å‚¨åº“ã€‚ å®ƒä»¬ç°åœ¨å¯¹æˆ‘ä»¬æœ‰ç”¨ã€‚ <br><br> ä¸ºå·¥ä»¶çš„â€œå‘è¡Œâ€å’Œâ€œå¿«ç…§â€ç‰ˆæœ¬åˆ›å»ºå­˜å‚¨åº“ã€‚ å•å‡»â€œ <code>Create repository</code> â€ï¼Œé€‰æ‹©â€œ <code>maven2 (hosted)</code> â€ã€‚ æˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªå­˜å‚¨åº“ç§°ä¸ºâ€œ androidâ€ï¼Œåªéœ€ä¿å­˜å®ƒè€Œä¸æ›´æ”¹è®¾ç½®å³å¯ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/5m/ak/n9/5makn9e9beis7qcsj6fbd0gv8yq.png"><br></div></div><br> æˆ‘ä»¬å°†ç¬¬äºŒä¸ªå­˜å‚¨åº“ç§°ä¸ºâ€œ android_snapshotâ€ï¼Œå°†â€œ <code>Version policy</code> â€æ›´æ”¹ä¸ºâ€œ Spapshotâ€ï¼Œå°†â€œ <code>Deployment policy</code> â€æ›´æ”¹ä¸ºâ€œå…è®¸é‡æ–°éƒ¨ç½²â€ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/dh/lb/3b/dhlb3bf_iy8to-k2r3952qrmlem.png"><br></div></div><br> å¦‚æœä¸æ¸…æ¥šè¿™ä¼šå½±å“ä»€ä¹ˆï¼Œåˆ™å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨æ­¤å¤„</a>é˜…è¯»ã€‚ å®é™…ä¸Šï¼Œâ€œ androidâ€å­˜å‚¨åº“å°†æ— æ³•é‡å¤ä¸‹è½½ç›¸åŒç‰ˆæœ¬çš„åº“ï¼Œè¿™æ˜¯ä¾‹å¦‚ä¸maven-centralé€šä¿¡æ—¶çš„å¸¸è§è¡Œä¸ºã€‚ å¯¹äºandroid_snapshotå­˜å‚¨åº“ï¼Œç‰ˆæœ¬åç§°å¿…é¡»ä»¥SNAPSHOTç»“å°¾ï¼Œå¹¶ä¸”å¯ä»¥å†æ¬¡ä¸‹è½½ç›¸åŒçš„ç‰ˆæœ¬ã€‚ <br><br> è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­˜å‚¨åº“åˆ—è¡¨ä¸­æœ‰ä¸€ä¸ªå¸¦æœ‰â€œå¤åˆ¶â€æŒ‰é’®çš„â€œ URLâ€åˆ—ï¼Œå°†æ¥ï¼Œæˆ‘ä»¬å°†éœ€è¦è¿™äº›é“¾æ¥æ¥ä»é¡¹ç›®ä¸­è®¿é—®å­˜å‚¨åº“ã€‚ <br><br> æ­å–œä½ ï¼  Nexusçš„åŸºæœ¬é…ç½®å·²å®Œæˆï¼Œæ˜¯æ—¶å€™å¼€å§‹åˆ›å»ºå’Œå‘å¸ƒè¯¥åº“äº†ã€‚ <br><br><h3> æ­¥éª¤3.åˆ›å»ºå’Œå‘å¸ƒAndroidåº“ </h3><br> æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªAndroidé¡¹ç›®ï¼Œå°†å…¶å‘½åä¸ºâ€œ TestLibraryâ€ã€‚ æ¥ä¸‹æ¥ï¼Œåœ¨â€œé¡¹ç›®è§†å›¾â€ä¸­ï¼Œç”¨é¼ æ ‡å³é”®å•å‡»é¡¹ç›®æ ¹ç›®å½•ï¼Œé€‰æ‹©â€œæ–°å»ºâ€å’Œâ€œæ¨¡å—â€ã€‚ åœ¨æ‰“å¼€çš„çª—å£ä¸­ï¼Œé€‰æ‹©â€œ Androidåº“â€å¹¶å°†åº“å‘½åä¸ºâ€œ HelloLibraryâ€ã€‚ ç»“æœï¼Œæ‚¨å°†åœ¨appæ¨¡å—æ—è¾¹çœ‹åˆ°æˆ‘ä»¬æ–°åº“çš„æ¨¡å—ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/zv/cl/hm/zvclhm_otuqkgiz7c_k5qrcsnnq.png"><br></div></div><br> å°†å…·æœ‰æ¬¢è¿åŠŸèƒ½çš„ç±»æ·»åŠ åˆ°åº“ä¸­ï¼š <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example.nexus.hellolibrary <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">helloFromOurLibrary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { println(<span class="hljs-string"><span class="hljs-string">"### Hello World! This is our new Android library!"</span></span>) }</code> </pre><br> è¯¥åº“å·²å‡†å¤‡å°±ç»ªï¼Œè¯¥å‘å¸ƒäº†ã€‚ åœ¨æ¨¡å—â€œ hellolibraryâ€çš„â€œé¡¹ç›®è§†å›¾â€ä¸­ï¼Œæ·»åŠ æ–‡ä»¶å¹¶å°†å…¶å‘½åä¸ºâ€œ publisher.gradleâ€ã€‚ å®ƒå°†å­˜å‚¨ç”¨äºå‘å¸ƒåº“çš„è„šæœ¬ã€‚ <br><br><pre> <code class="hljs pgsql">//     apply plugin: <span class="hljs-string"><span class="hljs-string">'maven-publish'</span></span> ext { // URL  <span class="hljs-keyword"><span class="hljs-keyword">Release</span></span>  repositoryReleaseUrl = "http://localhost:8081/repository/android/" // URL  <span class="hljs-keyword"><span class="hljs-keyword">Snapshot</span></span>  repositorySnapshotUrl = "http://localhost:8081/repository/android_snapshot/" //  ,      contributorUserName = "contributor" //  ,      contributorPassword = "contributor123" //    libraryGroupId = "com.example.nexus" //   libraryArtifact = "hellolibrary" //   libraryVersion = "0.0.1" } //  publishing { //    repositories { //    maven { //     credentials { username contributorUserName <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> contributorPassword } //         <span class="hljs-keyword"><span class="hljs-keyword">Snapshot</span></span>     url libraryVersion.endsWith("SNAPSHOT") ? repositorySnapshotUrl : repositoryReleaseUrl } } //     maven-publish  publications { // AndroidLibrary -   ,    //  ,     AndroidLibrary(MavenPublication) { //     groupId libraryGroupId artifactId libraryArtifact <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> libraryVersion //      artifact "$buildDir/outputs/aar/${project.getName()}-release.aar" pom { //         , //   ClassNotFoundException   // . withXml { def dependencies = asNode().appendNode("dependencies") configurations.getByName("releaseCompileClasspath") .getResolvedConfiguration() .getFirstLevelModuleDependencies() .<span class="hljs-keyword"><span class="hljs-keyword">each</span></span> { def dependency = dependencies.appendNode("dependency") dependency.appendNode("groupId", it.moduleGroup) dependency.appendNode("artifactId", it.moduleName) dependency.appendNode("version", it.moduleVersion) } } // withXml } // pom } // AndroidLibrary } // publications //  assembleRelease   model { tasks.publishAndroidLibraryPublicationToMavenRepository { dependsOn project.tasks.assembleRelease } } } //publishing</code> </pre><br> æ¥ä¸‹æ¥ï¼Œè½¬åˆ°æˆ‘ä»¬åº“çš„â€œ build.gradleâ€ï¼Œå°†æˆ‘ä»¬çš„å‘å¸ƒè€…åº”ç”¨äºè¯¥åº“ï¼Œå¹¶æ¸…é™¤å…¶ä¸å¿…è¦çš„ä¾èµ–é¡¹ï¼š <br><pre> <code class="hljs pgsql">apply plugin: <span class="hljs-string"><span class="hljs-string">'com.android.library'</span></span> apply plugin: <span class="hljs-string"><span class="hljs-string">'kotlin-android'</span></span> //  publisher apply <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>: "publisher.gradle" android { compileSdkVersion <span class="hljs-number"><span class="hljs-number">28</span></span> defaultConfig { minSdkVersion <span class="hljs-number"><span class="hljs-number">18</span></span> targetSdkVersion <span class="hljs-number"><span class="hljs-number">28</span></span> versionCode <span class="hljs-number"><span class="hljs-number">1</span></span> versionName "1.0" } buildTypes { <span class="hljs-keyword"><span class="hljs-keyword">release</span></span> { minifyEnabled <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> proguardFiles getDefaultProguardFile(<span class="hljs-string"><span class="hljs-string">'proguard-android.txt'</span></span>), <span class="hljs-string"><span class="hljs-string">'proguard-rules.pro'</span></span> } } } dependencies { implementation fileTree(dir: <span class="hljs-string"><span class="hljs-string">'libs'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">include</span></span>: [<span class="hljs-string"><span class="hljs-string">'*.jar'</span></span>]) implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version" } repositories { mavenCentral() }</code> </pre><br> ç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€å®Œæˆâ€œ <code>publishAndroidLibraryPublicationToMavenRepository</code> â€ä»»åŠ¡å³å¯è¿›è¡Œå‘å¸ƒã€‚ <br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/hy/gu/ly/hyguly_fd3pu0wh1x7z6jxbg9kw.png"><br></div></div><br> å›¾ä¹¦é¦†å·²å‡ºç‰ˆï¼Œæ­å–œï¼ åœ¨Nexusçš„ç½‘ç»œç•Œé¢ä¸­æ£€æŸ¥ç»“æœã€‚ è½¬åˆ°â€œæµè§ˆâ€é¡¹ï¼Œç„¶åé€‰æ‹©â€œ androidâ€å­˜å‚¨åº“ã€‚ æ‚¨åº”è¯¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š <br><div class="spoiler">  <b class="spoiler_title">å›¾ç‰‡</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/am/a-/l9/ama-l9nhjhc_wm1p6iaxoenp0ki.png"><br></div></div><br><h3> æ­¥éª¤4.ä½¿ç”¨Nexusçš„ç›¸ä¾æ€§ </h3><br> å¯¹äºæµ‹è¯•ï¼Œæˆ‘å»ºè®®åˆ›å»ºå¦ä¸€ä¸ªç©ºçš„Androidé¡¹ç›®ã€‚ <br><br> é¦–å…ˆï¼Œåªéœ€å°†æ•°æ®æ·»åŠ åˆ°é¡¹ç›®çº§åˆ«çš„â€œ build.gradleâ€æ–‡ä»¶ï¼Œå³å¯å°†å­˜å‚¨åº“è¿æ¥åˆ°é¡¹ç›®ï¼š <br><br><pre> <code class="hljs pgsql">buildscript { ext.kotlin_version = <span class="hljs-string"><span class="hljs-string">'1.2.50'</span></span> repositories { google() jcenter() } dependencies { classpath <span class="hljs-string"><span class="hljs-string">'com.android.tools.build:gradle:3.1.3'</span></span> classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version" } } allprojects { repositories { google() jcenter() //    maven { credentials { username "downloader" <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> "downloader123" } url "http://localhost:8081/repository/android" } } } task clean(<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">Delete</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> rootProject.buildDir }</code> </pre><br> ç°åœ¨ï¼Œä¸ä»»ä½•å…¶ä»–åº“ä¸€æ ·ï¼Œé€šè¿‡åœ¨â€œåº”ç”¨â€çº§åˆ«çš„â€œ build.gradleâ€æ–‡ä»¶ä¸­å®æ–½ï¼Œæˆ‘ä»¬å¯¹â€œå›¾ä¹¦é¦†â€æœ‰äº†ä¾èµ–æ€§ã€‚ <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">apply</span></span> plugin: <span class="hljs-string"><span class="hljs-string">'com.android.application'</span></span> apply plugin: <span class="hljs-string"><span class="hljs-string">'kotlin-android'</span></span> apply plugin: <span class="hljs-string"><span class="hljs-string">'kotlin-android-extensions'</span></span> android { <span class="hljs-attribute"><span class="hljs-attribute">compileSdkVersion</span></span> <span class="hljs-number"><span class="hljs-number">28</span></span> defaultConfig { <span class="hljs-attribute"><span class="hljs-attribute">applicationId</span></span> <span class="hljs-string"><span class="hljs-string">"com.example.nexus.fff"</span></span> minSdkVersion <span class="hljs-number"><span class="hljs-number">18</span></span> targetSdkVersion <span class="hljs-number"><span class="hljs-number">28</span></span> versionCode <span class="hljs-number"><span class="hljs-number">1</span></span> versionName <span class="hljs-string"><span class="hljs-string">"1.0"</span></span> testInstrumentationRunner <span class="hljs-string"><span class="hljs-string">"android.support.test.runner.AndroidJUnitRunner"</span></span> } buildTypes { <span class="hljs-section"><span class="hljs-section">release</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">minifyEnabled</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> proguardFiles getDefaultProguardFile(<span class="hljs-string"><span class="hljs-string">'proguard-android.txt'</span></span>), <span class="hljs-string"><span class="hljs-string">'proguard-rules.pro'</span></span> } } } dependencies { <span class="hljs-attribute"><span class="hljs-attribute">implementation</span></span> fileTree(dir: <span class="hljs-string"><span class="hljs-string">'libs'</span></span>, include: [<span class="hljs-string"><span class="hljs-string">'*.jar'</span></span>]) implementation<span class="hljs-string"><span class="hljs-string">"org.jetbrains.kotlin:kotlin-stdlib-jdk7:</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$kotlin_version</span></span></span><span class="hljs-string">"</span></span> implementation <span class="hljs-string"><span class="hljs-string">'com.android.support:appcompat-v7:28.0.0-alpha3'</span></span> implementation <span class="hljs-string"><span class="hljs-string">'com.android.support.constraint:constraint-layout:1.1.2'</span></span> testImplementation <span class="hljs-string"><span class="hljs-string">'junit:junit:4.12'</span></span> androidTestImplementation <span class="hljs-string"><span class="hljs-string">'com.android.support.test:runner:1.0.2'</span></span> androidTestImplementation <span class="hljs-string"><span class="hljs-string">'com.android.support.test.espresso:espresso-core:3.0.2'</span></span> //   implementation <span class="hljs-string"><span class="hljs-string">"com.example.nexus:hellolibrary:0.0.1"</span></span> }</code> </pre><br> ä¾èµ–é¡¹çš„è·¯å¾„<code>groupId:artifactId:version</code>ä¸º<code>groupId:artifactId:version</code> ã€‚ <br><br> ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨Androidé¡¹ç›®ä¸­è°ƒç”¨<code>helloFromOurLibrary()</code>å‡½æ•°ï¼Œå¹¶æµ‹è¯•æ•´ä¸ªç”µè·¯çš„æ€§èƒ½ã€‚ æ­å–œä½ ï¼ <br><br><h2> æ€»ç»“ </h2><br> ç°åœ¨ï¼Œæ‚¨æœ‰æœºä¼šåœ¨é¡¹ç›®ä¸­é‡ç”¨ç§æœ‰Androidåº“ã€‚ ç­‰å¾…è¯„è®ºï¼ <br><br> å¸Œæœ›æ‚¨æ²¡æœ‰æµªè´¹æ—¶é—´ï¼Œè°¢è°¢ï¼ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN416665/">https://habr.com/ru/post/zh-CN416665/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN416651/index.html">1ä¸ªCPUæ ¸å¿ƒä¸Šçš„1M HTTP rpsã€‚ DPDKä»£æ›¿nginx + linuxå†…æ ¸TCP / IP</a></li>
<li><a href="../zh-CN416653/index.html">å›¾ä¹¦é¦†æ’åº</a></li>
<li><a href="../zh-CN416657/index.html">ä¸‰åˆ†ä¹‹äºŒçš„å·²ç”¨å­˜å‚¨å¡åŒ…å«ä»¥å‰æ‰€æœ‰è€…çš„ä¸ªäººæ•°æ®</a></li>
<li><a href="../zh-CN416659/index.html">ç”±äºé›¶å·¥ç»æµçš„æ•°å­—æ”¯ä»˜é‡å°†è¾¾åˆ°1.2ä¸‡äº¿ç¾å…ƒ</a></li>
<li><a href="../zh-CN416661/index.html">ç§»åŠ¨é“¶è¡Œçš„ç”¨æˆ·å’Œæä¾›å•†åº”è€ƒè™‘å“ªäº›è¶‹åŠ¿</a></li>
<li><a href="../zh-CN416667/index.html">æ—§ç³»ç»Ÿå•å…ƒçš„é¢„ç®—é˜²å°˜å’Œéš”éŸ³</a></li>
<li><a href="../zh-CN416669/index.html">å…³äºlinux epollçš„å…¨éƒ¨çœŸç›¸</a></li>
<li><a href="../zh-CN416673/index.html">ç»ç†äººçš„åˆ†æè§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="../zh-CN416677/index.html">èµ›åšæœ‹å…‹å’Œé•œå­çœ¼é•œï¼šæ—¶å°šå’Œæ–‡åŒ–çš„æ€è€ƒ</a></li>
<li><a href="../zh-CN416679/index.html">å¤–å›´è®¡ç®—ï¼šâ€œé›¾â€ä¸â€œäº‘â€çš„å‹å¥½åŒ¹é…</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>