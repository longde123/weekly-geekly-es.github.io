<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌉 💘 🛣️ Server sederhana dengan GraphQL bukan REST, implementasi di java 🔍 🚀 🖍️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya ditawari untuk berkenalan dengan GraphQL. Lihat apakah Anda dapat melamar dalam pekerjaan. Setelah mencari, saya menyadari bahwa sebagian besar i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Server sederhana dengan GraphQL bukan REST, implementasi di java</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418083/"><img src="https://habrastorage.org/webt/pq/5p/zi/pq5pzi6p0ornjxnnom8kzgtcnpu.jpeg"><br>  Saya ditawari untuk berkenalan dengan GraphQL.  Lihat apakah Anda dapat melamar dalam pekerjaan.  Setelah mencari, saya menyadari bahwa sebagian besar informasi dalam bahasa Inggris dan sebagian lama, ada 3 versi perpustakaan, dan sudah ada 5.  Saya ingin mengisi celah ini.  Dalam opsi ini akan ada contoh pada servlets, mis.  tanpa pegas dan tanpa pegas boot. <br><a name="habracut"></a><br>  Bagian teoretis: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GraphQL - tampilan baru di API.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 1</a> dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">VladimirZaets</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Perbandingan Bevalorous dari REST dan</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">GraphQL</a> <br><br>  Saya akan segera menunjukkan kode kepada Anda, karena GraphQL adalah abstraksi.  Dan jika Anda membahas abstraksi untuk waktu yang lama, Anda bisa tersesat.  Aslinya ada di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Saya sedikit mengubah kode, karena  versi yang lebih baru tidak memiliki beberapa kelas. <br><br>  Buat proyek pakar kosong.  Tambahkan dependensi ke piknik: <br><br><pre><code class="java hljs">&lt;dependency&gt; &lt;groupId&gt;com.graphql-java&lt;/groupId&gt; &lt;artifactId&gt;graphql-java&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">8.0</span></span>&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.graphql-java&lt;/groupId&gt; &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">5.0</span></span>.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.graphql-java&lt;/groupId&gt; &lt;artifactId&gt;graphql-java-servlet&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">5.0</span></span>.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">3.0</span></span>.1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt;</code> </pre> <br>  Agar tidak memikirkan server, ambil jetty: <br><br><pre> <code class="java hljs"> &lt;plugin&gt; &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt; &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">9.4</span></span>.6.v20170531&lt;/version&gt; &lt;/plugin&gt;</code> </pre> <br>  Perbedaan dari tutorial: <br><br><ol><li>  Warisan dari SimpleGraphQLServlet dengan panggilan ke konstruktor sekarang "usang", Anda harus menggunakan pembangun, yang tidak mungkin dengan warisan, gunakan komposisi. </li><li>  Di servlet, Anda bisa membuat objek SimpleGraphQLServlet. </li><li>  GraphQLRootResolver - tidak lebih, Anda dapat menggunakan yang spesifik: GraphQLMutationResolver dan GraphQLQueryResolver </li></ol><br>  Yayasan sudah siap.  Kami akan melakukan sesuai tutorial, tanpa pegas atau JAX-RS.  Secara umum, servlet reguler: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@WebServlet</span></span>(urlPatterns = <span class="hljs-string"><span class="hljs-string">"/graphql"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GraphQLEndpoint</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HttpServlet</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SimpleGraphQLServlet graph; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GraphQLEndpoint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ graph = SimpleGraphQLServlet.builder(buildSchema()).build(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> GraphQLSchema </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildSchema</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ LinkRepository linkRepository = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LinkRepository(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> SchemaParser.newParser() .file(<span class="hljs-string"><span class="hljs-string">"schema.graphqls"</span></span>) .resolvers(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Query(linkRepository), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Mutation(linkRepository)) .build() .makeExecutableSchema(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">service</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> ServletException, IOException </span></span>{ graph.service(req, resp); } }</code> </pre> <br>  Di dalamnya, metode layanan meneruskan data ke SimpleGraphQLServlet.  Segala sesuatu pada bisnis kami berakhir. <br><br><div class="spoiler">  <b class="spoiler_title">Kode reguler (Tautan dan LinkRepository)</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Link</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String url; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String description; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Link</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String url, String description)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.url = url; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.description = description; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUrl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> url; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDescription</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> description; } }</code> </pre> <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LinkRepository</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;Link&gt; links; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LinkRepository</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ links = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); <span class="hljs-comment"><span class="hljs-comment">//add some links to start off with links.add(new Link("http://howtographql.com", "Your favorite GraphQL page")); links.add(new Link("http://graphql.org/learn/", "The official docks")); } public List&lt;Link&gt; getAllLinks() { return links; } public void saveLink(Link link) { links.add(link); } }</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Sekarang kode permintaan (DAPATKAN permintaan di REST) ​​dan mutasi (permintaan untuk perubahan)</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.coxautodev.graphql.tools.GraphQLQueryResolver; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Query</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GraphQLQueryResolver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> LinkRepository linkRepository; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Query</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LinkRepository linkRepository)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linkRepository = linkRepository; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;Link&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">allLinks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> linkRepository.getAllLinks(); } }</code> </pre><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.coxautodev.graphql.tools.GraphQLMutationResolver; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Mutation</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GraphQLMutationResolver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> LinkRepository linkRepository; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Mutation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LinkRepository linkRepository)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.linkRepository = linkRepository; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Link </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createLink</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String url, String description)</span></span></span><span class="hljs-function"> </span></span>{ Link newLink = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Link(url, description); linkRepository.saveLink(newLink); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> newLink; } }</code> </pre><br></div></div><br>  Kami mulai melalui dermaga: lari dan kami ajukan permintaan: <br><br><pre> <code class="xml hljs">http://localhost:8080/graphql?query={allLinks{url}}</code> </pre> <br>  Kami mendapatkan jawabannya: <br><br><pre> <code class="javascript hljs">{<span class="hljs-string"><span class="hljs-string">"data"</span></span>: {<span class="hljs-string"><span class="hljs-string">"allLinks"</span></span>: [ {<span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://howtographql.com"</span></span>}, {<span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://graphql.org/learn/"</span></span>} ] } }</code> </pre> <br>  Dan inilah poin utama pertama: kami memiliki 2 bidang, url, dan uraian, dan kami hanya menerima url sebagai tanggapan.  Dan memang benar, karena kami hanya url dan meminta {allLinks {url}} dalam permintaan.  Jika Anda mengubah permintaan ke: <br><br><pre> <code class="xml hljs">http://localhost:8080/graphql?query={allLinks{url,description}}</code> </pre> <br>  jawabannya adalah: <br><br><pre> <code class="javascript hljs">{<span class="hljs-string"><span class="hljs-string">"data"</span></span>: {<span class="hljs-string"><span class="hljs-string">"allLinks"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://howtographql.com"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>:<span class="hljs-string"><span class="hljs-string">"Your favorite GraphQL page"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"url"</span></span>:<span class="hljs-string"><span class="hljs-string">"http://graphql.org/learn/"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>:<span class="hljs-string"><span class="hljs-string">"The official docks"</span></span> } ] } }</code> </pre> <br>  Sekarang kita punya url dan deskripsi.  Dan semua karena kami bertanya kepada mereka. <br><br>  Permintaan untuk perubahan data. <br><br>  Ini sedikit lebih rumit dan jauh lebih mudah untuk menggunakan utilitas UI. <br><br>  1. Kami pergi ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">alamat</a> <br>  2. Salin seluruh file index.html <br>  3. Ganti 2 baris: <br><br>  Ini adalah: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./node_modules/graphiql/graphiql.css"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./node_modules/graphiql/graphiql.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Tentang ini: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//cdn.jsdelivr.net/npm/graphiql@0.11.2/graphiql.css"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"//cdn.jsdelivr.net/npm/graphiql@0.11.2/graphiql.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  4. Ganti index.html dalam proyek ... \ src \ main \ webapp \ index.html dengan yang baru saja dihapus. <br><br>  Kami memulai kembali proyek, pergi ke <i>localhost: 8080</i> dan sampai ke halaman seperti itu <br><br><img src="https://habrastorage.org/webt/ut/yj/lg/utyjlgvopre8skdthwq-rxawmqe.jpeg"><br>  Bonus pertama: di sebelah kiri adalah tombol Documents, yang menyembunyikan dokumentasi yang sudah jadi untuk proyek Anda.  Tidak banyak, bidang yang dapat diminta dan metode yang dapat dipanggil dan apa yang harus dilewati di dalamnya. <br><br><img src="https://habrastorage.org/webt/oo/tw/_p/ootw_pzjaljr1l-rb-6lny6nq_m.jpeg"><br><br>  Ini juga memberikan set mobil favorit Anda. <br><br><img src="https://habrastorage.org/webt/i0/mi/lb/i0milb5ihkt1c5miqfeo9tjj2-s.jpeg"><br><br>  Sekarang dengan itu, kami akan mengirimkan permintaan mutasi.  Kami memiliki satu mutasi, "tambahkan tautan". <br><br><img src="https://habrastorage.org/webt/3v/c-/yb/3vc-yb0jjrcehlce6i7k9kznqpu.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">teks permintaan:</b> <div class="spoiler_text"><pre> <code class="javascript hljs">mutation createLink{ createLink(url:<span class="hljs-string"><span class="hljs-string">"http://test.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">description</span></span>:<span class="hljs-string"><span class="hljs-string">"test mutation"</span></span>){ url description } }</code> </pre> <br>  Beberapa saat kemudian saya mengetahui bahwa kata mutation sudah cukup (createLink setelah itu tidak perlu ditulis) <br><br><pre> <code class="javascript hljs">mutation { createLink(url:<span class="hljs-string"><span class="hljs-string">"http://test.com"</span></span>, <span class="hljs-attr"><span class="hljs-attr">description</span></span>:<span class="hljs-string"><span class="hljs-string">"test mutation"</span></span>){ url description } }</code> </pre> <br><br></div></div><br>  Yaitu  kami hanya memanggil metode dengan namanya dan meneruskan parameter ke sana.  Anda juga dapat mengkhianati informasi apa yang ingin kami dapatkan kembali. <br><br><div class="spoiler">  <b class="spoiler_title">Cara melihat permintaan mutasi</b> <div class="spoiler_text">  1. Buka tab pengembang F12 dan buka jaringan, kami mengirim permintaan. <br><br><img src="https://habrastorage.org/webt/oq/zf/0v/oqzf0vmpkf1oil2cfp8dwrvheim.jpeg"><br><br>  2. Atas permintaan yang diajukan, RMB -&gt; salin -&gt; salin sebagai cURL (bash) <br><br><img src="https://habrastorage.org/webt/kh/kh/ig/khkhigyuoa_tv3xjnxzvmwr80j0.jpeg"><br><br>  2.1.  Bagi mereka yang menggunakan curl, ini sudah cukup, bagi mereka yang ingin melihat tukang pos melangkah lebih jauh <br><br>  3. Buka tukang pos dan klik impor di kiri atas. <br><br><img src="https://habrastorage.org/webt/ix/gl/nm/ixglnmzt2ehziujmz7teumj9soc.jpeg"><br><br>  4. Di jendela yang terbuka, pilih Tempel Teks Mentah dan tempelkan permintaan ikal yang disalin di sana <br><br><img src="https://habrastorage.org/webt/s7/dt/pw/s7dtpwb4g6vpafvsm9yyhhf6ju0.jpeg"><br><br>  Dan kita bisa melihat badan permintaan: <br><br><pre> <code class="javascript hljs">{<span class="hljs-string"><span class="hljs-string">"query"</span></span>:<span class="hljs-string"><span class="hljs-string">"mutation createLink{\n createLink(url:\"http://test.com\", description:\"test mutation\"){\n\t\turl\n description\n }\n}"</span></span>,<span class="hljs-string"><span class="hljs-string">"variables"</span></span>:<span class="hljs-literal"><span class="hljs-literal">null</span></span>,<span class="hljs-string"><span class="hljs-string">"operationName"</span></span>:<span class="hljs-string"><span class="hljs-string">"createLink"</span></span>}    “\n”.</code> </pre> <br></div></div><br>  Pada tahap ini, sudah ada server sederhana, ada penyimpanan di sana, dan kami mengatur url untuk permintaan. <br><br>  Saya menyukai ide itu sendiri.  Front itu sendiri dapat menentukan informasi apa yang saat ini dibutuhkan, bagaimana cara menghemat lalu lintas.  Saat menambahkan fungsionalitas baru, yang lama terus bekerja, bagian depan terus menerima hanya apa yang dibutuhkan, tidak lebih, tidak kurang. <br><br>  Kode sampel Github <br>  2 cabang: <br><br>  master - bagaimana dilakukan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tutorial</a> resmi <br><br>  update_version adalah versi yang diperbarui, dengan versi dependensi baru. <br><br>  Referensi: <br><br>  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dermaga</a> <br>  2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tutorial resmi (untuk berbagai bahasa)</a> <br>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Video yang memberi pemahaman pertama</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id418083/">https://habr.com/ru/post/id418083/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id418071/index.html">Industri TI untuk masyarakat: Festival TechTrain di St. Petersburg</a></li>
<li><a href="../id418075/index.html">5 hal TOP yang dapat dicetak pada printer 3D [video]</a></li>
<li><a href="../id418077/index.html">Kecelakaan "jangan tonton": pembenaran statistik untuk mode operasi dukungan teknis 24/7</a></li>
<li><a href="../id418079/index.html">Bahasa pemrograman paling populer - 2018</a></li>
<li><a href="../id418081/index.html">Organisasi pengujian yang aman dalam produksi. Bagian 1</a></li>
<li><a href="../id418085/index.html">Menggunakan Janji dalam JavaScript</a></li>
<li><a href="../id418087/index.html">80% dari checkout mandiri memiliki risiko</a></li>
<li><a href="../id418089/index.html">Ikhtisar Mesin Penggilingan SolidCraft CNC</a></li>
<li><a href="../id418091/index.html">Daftar artikel dan literatur tentang NAS</a></li>
<li><a href="../id418093/index.html">Kursus MIT "Keamanan Sistem Komputer". Kuliah 3: Buffer Overflows: Eksploitasi dan Perlindungan, Bagian 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>