<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎈 🌋 🕴🏻 A-Frame Review Artikel 👨🏽‍🏭 😿 🍖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A-Frame ist ein webbasiertes Framework, mit dem Sie verschiedene Anwendungen, Spiele und Szenen in Virtual Reality (VR) erstellen können. Alle oben ge...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A-Frame Review Artikel</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439416/"><img src="https://habrastorage.org/webt/f-/qn/zb/f-qnzbemgwkrqoepzchim4omo38.png"><br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">A-Frame</a></b> ist ein webbasiertes Framework, mit dem Sie verschiedene Anwendungen, Spiele und Szenen in Virtual Reality (VR) erstellen können.  Alle oben genannten Funktionen sind direkt im Browser Ihres VR-Helms verfügbar.  Dieses Tool ist nützlich für diejenigen, die VR-Spiele in einem Browser entwickeln möchten. Es kann beispielsweise als Plattform zum Erstellen von Web-VR-Anwendungen, Websites und Zielseiten nützlich sein.  Die Verwendung von Web BP ist nur durch Ihre Vorstellungskraft begrenzt.  Nebenbei kann ich einige Bereiche menschlicher Aktivitäten einbringen, in denen BP nützlich sein kann: Bildung, Medizin, Sport, Verkauf, Freizeit. <br><a name="habracut"></a><br><h2>  Was ist drin? </h2><br>  A-Frame wird nicht in reinem WebGL von 0 geschrieben, sondern basiert auf der <i>Three.js-</i> Bibliothek.  Daher empfehle ich, dass Sie zuerst die Grundkonzepte von Three.js verstehen, bevor Sie mit A-Frame arbeiten. Dies ist jedoch nicht erforderlich, da A-Frame so konzipiert ist, dass Sie am wenigsten über das Rendern von Geometrie nachdenken und sich mehr auf die Logik Ihrer Anwendung konzentrieren .  Deshalb er und der Rahmen. <br><br>  Zu diesem Zweck postuliert A-Frame drei Hauptpunkte, über die wir später sprechen werden. <br><br><h2>  A-Frame arbeitet mit HTML </h2><br>  Viele grundlegende A-Frame-Elemente wie Szene, Kamera, Box, Kugel usw. werden der Szene durch gleichnamige Tags mit dem Präfix <b>a-</b> hinzugefügt.  Jeder ähnliche Artikel wird als benutzerdefiniert registriert.  A-Frame (0.8.0) verwendet derzeit die v0-Spezifikation. <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-scene</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-box</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-1 0.5 -3"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rotation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0 45 0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#4CC3D9"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-box</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-sphere</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0 1.25 -5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.25"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#EF2D5E"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-sphere</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-scene</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Dieser kleine Code zeichnet eine WebGL-Szene, zu der zwei Objekte hinzugefügt werden: ein Würfel und eine Kugel mit den angegebenen Parametern.  Zusätzlich zu den beiden oben genannten Elementen gibt es eine Reihe weiterer Grundelemente, die auf die gleiche Weise zur Szene hinzugefügt werden können: <i>&lt;a-Circle&gt;, &lt;a-Cone&gt;, &lt;a-Cylinder&gt;, &lt;a-Dodecahedron&gt;, &lt;a-icosahedron&gt; , &lt;a-Oktaeder&gt;, &lt;a-Ebene&gt;, &lt;a-Ring&gt;, &lt;a-Tetraeder&gt;, &lt;a-Torusknoten&gt;, &lt;a-Torus&gt;, &lt;a-Treieck&gt;</i> .  Auch in A-Frame gibt es eine Reihe anderer Elemente, die bestimmte Funktionen ausführen: <br><br><ul><li>  <b>&lt;a-Kamera&gt;</b> - Erstellt eine Kamera.  Derzeit wird nur die perspektivische Kamera (PerspectiveCamera) unterstützt. </li><li>  <b>&lt;a-obj-model&gt;, &lt;a-collada-model&gt;, &lt;a-gltf-model&gt;</b> - alle laden Modelle des entsprechenden Formats und zeigen sie an. </li><li>  <b>&lt;a-cursor&gt;</b> - Ein Element, mit dem Sie verschiedene Aktionen ausführen können: Klicken, Führen usw. Der Cursor ist an die Mitte der Kamera gebunden, sodass er sich immer in der Mitte dessen befindet, was der Benutzer sieht. </li><li>  <b>&lt;a-Bild&gt;</b> - Zeigt das ausgewählte Bild in einer Ebene (&lt;a-Ebene&gt;) an. </li><li>  <b>&lt;a-link&gt;</b> ist dasselbe wie ein Tag, nur für eine 3D-Szene. </li><li>  <b>&lt;a-sky&gt;</b> - ein riesiger Zylinder um die Bühne, mit dem Sie 360 ​​Fotos anzeigen können.  Oder Sie können es einfach mit etwas Farbe füllen. </li><li>  <b>&lt;a-sound&gt;</b> - Erstellt eine Schallquelle an einer bestimmten Position. </li><li>  <b>&lt;a-text&gt;</b> - zeichnet flachen Text. </li><li>  <b>&lt;a-video&gt;</b> - spielt Videos in einem Flugzeug ab. </li></ul><br>  Ich möchte auch darauf hinweisen, dass wir mit DOM-Elementen arbeiten und daher die Standard-DOM-API verwenden können, einschließlich querySelector, getElementById, appendChild usw. <br><br><h2>  A-Frame verwendet ECS </h2><br><img src="https://habrastorage.org/webt/2j/ms/b6/2jmsb6kaxov-akanrv-ea2pk9-g.png"><br>  <b>ECS (Entity Component System)</b> - Anwendungs- und Spieldesignmuster.  Es war nur im zweiten Segment weit verbreitet.  Wie der Name schon sagt, sind die drei Grundkonzepte eines Musters Entität, Komponente, System.  In der klassischen Form sind sie wie folgt miteinander verbunden: Wir haben ein Containerobjekt (Entity), zu dem wir Komponenten hinzufügen können.  In der Regel ist eine Komponente für einen separaten Teil der Logik verantwortlich.  Zum Beispiel haben wir ein Player-Objekt, es hat eine Health-Komponente.  Diese Komponente enthält die gesamte Logik, die mit dem Auffüllen oder dem Verlust der Gesundheit des Spielers (Objekts) verbunden ist.  Und Systeme werden wiederum benötigt, um eine Reihe von Entitäten zu verwalten, die von einigen Komponenten kombiniert werden.  In der Regel kann eine Komponente eine Entität im gleichnamigen System registrieren. <br><br>  In A-Frame wird dieses Muster sehr einfach und elegant implementiert - mithilfe von Attributen.  Alle A-Frame-Elemente - <i>&lt;a-scene&gt;, &lt;a-box&gt;, &lt;a-sphere&gt;</i> usw. - werden als Entitäten verwendet. Natürlich unterscheidet sich das <i>&lt;a-entity&gt;</i> -Element.  Sein Name spricht für sich.  Alle anderen Elemente sind im Wesentlichen Wrapper für Komponenten und dienen der Vereinfachung, da jedes Element auch mit <i>&lt;a-entity&gt; erstellt werden kann</i> .  Zum Beispiel <i>&lt;a-box&gt;</i> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">geometry</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"primitive: box; width: 1; height: 1; depth: 1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>Geometrie</b> - In diesem Fall ist dies die Komponente, die der <i>Entität &lt;a-entity&gt;</i> hinzugefügt wurde.  <i>&lt;a-entity&gt; selbst</i> hat keine Logik (im globalen Sinne), und die <i>Geometriekomponente</i> verwandelt sie im Wesentlichen in einen Würfel oder etwas anderes.  Eine weitere Komponente, die nicht weniger wichtig als die <i>Geometrie</i> ist <b>,</b> ist das <b>Material</b> .  Es fügt der Geometrie Material hinzu.  Das Material ist dafür verantwortlich, ob unser Würfel wie Metall glänzt, ob er Texturen hat usw.  In reinen <i>Three.js</i> müssten wir separate Geometrie und separates Material erstellen, und dann müsste all dies im Cache kombiniert werden.  Im Allgemeinen spart dieser Ansatz Zeit. <br><br>  Jede Komponente in A-Frame muss global durch ein spezielles Design registriert werden: <br><br><pre> <code class="javascript hljs">AFRAME.registerComponent(<span class="hljs-string"><span class="hljs-string">'hello-world'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">init</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Hello, World!'</span></span>); } });</code> </pre><br>  Dann kann diese Komponente der Szene oder einem anderen Element hinzugefügt werden. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hello-world</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Da wir den <b>Init-</b> Rückruf für unsere Komponente hinzugefügt haben, funktioniert dieser Rückruf, sobald das Element zum DOM hinzugefügt wird, und wir sehen unsere Nachricht in der Konsole.  Es gibt andere Lebenszyklus-Rückrufe in A-Frame-Komponenten.  Lassen Sie uns näher darauf eingehen: <br><br><ul><li>  <b>update</b> - wird sowohl während der Initialisierung als init als auch beim Aktualisieren einer Eigenschaft dieser Komponente aufgerufen. </li><li>  <b>remove</b> - <b>Wird</b> aufgerufen, nachdem eine Komponente oder Entität entfernt wurde, die sie enthält.  Wenn Sie also &lt;a-entity&gt; aus dem DOM entfernen, rufen alle seine Komponenten remove callback auf. </li><li>  <b>Häkchen</b> - wird jedes Mal aufgerufen, bevor die Szene gerendert wird.  In der Render-Schleife wird requestAnimaitonFrame verwendet </li><li>  <b>tock</b> - wird jedes Mal nach dem Rendern einer Szene aufgerufen. </li><li>  <b>Wiedergabe</b> - Jede wird aufgerufen, wenn das Rendern der Szene fortgesetzt wird.  Im Wesentlichen nach scene.play (); </li><li>  <b>Pause</b> - Wird jedes Mal aufgerufen, wenn eine Szene nicht mehr gerendert wird.  Im Wesentlichen nach scene.pause (); </li><li>  <b>updateSchema</b> - wird jedes Mal nach dem Aktualisieren des Schemas aufgerufen. </li></ul><br>  Ein weiteres wichtiges Komponentenkonzept in A-Frame ist die Schaltung.  Das Diagramm beschreibt die Eigenschaften der Komponente.  Es ist wie folgt definiert: <br><br><pre> <code class="javascript hljs">AFRAME.registerComponent(<span class="hljs-string"><span class="hljs-string">'my-component'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: { <span class="hljs-attr"><span class="hljs-attr">arrayProperty</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'array'</span></span>, <span class="hljs-attr"><span class="hljs-attr">default</span></span>: []}, <span class="hljs-attr"><span class="hljs-attr">integerProperty</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'int'</span></span>, <span class="hljs-attr"><span class="hljs-attr">default</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>} } }</code> </pre><br>  In diesem Fall enthält unsere <b>my-Komponente</b> zwei Eigenschaften, <i>arrayProperty</i> und <i>integerProperty</i> .  Um sie an die Komponente zu übergeben, müssen Sie den Wert des entsprechenden Attributs festlegen. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">my-component</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"arrayProperty: 1,2,3; integerProperty: 7"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Sie können diese Eigenschaften innerhalb der Komponente über die <b>Dateneigenschaft</b> abrufen. <br><br><pre> <code class="javascript hljs">AFRAME.registerComponent(<span class="hljs-string"><span class="hljs-string">'my-component'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: { <span class="hljs-attr"><span class="hljs-attr">arrayProperty</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'array'</span></span>, <span class="hljs-attr"><span class="hljs-attr">default</span></span>: []}, <span class="hljs-attr"><span class="hljs-attr">integerProperty</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'int'</span></span>, <span class="hljs-attr"><span class="hljs-attr">default</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>} }, <span class="hljs-attr"><span class="hljs-attr">init</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.data); } }</code> </pre><br>  Um die Eigenschaften einer Komponente von der Entität <i>abzurufen</i> , zu der sie hinzugefügt wurde, können Sie die leicht geänderte Funktion <i>getAttribute</i> verwenden.  Beim Zugriff auf die A-Frame-Entität wird nicht nur der Zeichenfolgenwert des Attributs, sondern auch das oben erwähnte <i>Datenobjekt zurückgegeben</i> . <br><br><pre> <code class="javascript hljs"> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.getAttribute(<span class="hljs-string"><span class="hljs-string">'my-component'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// {arrayProperty: [1,2,3], integerProperty: 7}</span></span></code> </pre><br>  Auf ungefähr die gleiche Weise können Sie die Eigenschaften einer Komponente ändern: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.setAttribute(<span class="hljs-string"><span class="hljs-string">'my-component'</span></span>,{<span class="hljs-attr"><span class="hljs-attr">arrayProperty</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">integerProperty</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>})</code> </pre><br>  Lassen Sie uns nun über Systeme sprechen.  Systeme in A-Frame werden wie Komponenten registriert: <br><br><pre> <code class="javascript hljs">AFRAME.registerSystem(<span class="hljs-string"><span class="hljs-string">'my-system'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">init</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Hello, System!'</span></span>); }, });</code> </pre><br>  Neben der Komponente verfügt das System über eine Schaltung und Rückrufe.  Nur das System hat nur 5 davon: <b>init, play, pause, tick, tock</b> .  Das System muss der Entität nicht als Komponente hinzugefügt werden.  Es wird automatisch zur Szene hinzugefügt. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.sceneEl.systems[<span class="hljs-string"><span class="hljs-string">'my-system'</span></span>];</code> </pre><br>  Wenn die Komponente denselben Namen wie das System hat, ist das System unter <b>this.system</b> verfügbar. <br><br><pre> <code class="javascript hljs">AFRAME.registerSystem(<span class="hljs-string"><span class="hljs-string">'enemy'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">init</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}, }); AFRAME.registerComponent(<span class="hljs-string"><span class="hljs-string">'enemy'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">init</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> enemySystem = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.system; }, });</code> </pre><br>  In der Regel werden Systeme benötigt, um Entitäten mit verwandten Komponenten zusammenzustellen und zu verwalten.  Hier sollte es theoretisch eine Logik geben, die sich auf eine Sammlung von Entitäten bezieht.  Kontrollieren Sie beispielsweise das Erscheinungsbild von Feinden im Spiel. <br><br><h2>  Die Kommunikation in A-Frame erfolgt über Browserereignisse </h2><br>  In der Tat, warum das Rad neu erfinden, wenn es im Moment eine großartige integrierte Publisher-Subscriber-Implementierung für DOM-Elemente gibt.  Mit DOM-Ereignissen können Sie beide Browserereignisse abhören, z. B. einen Tastendruck, einen Mausklick und andere Benutzerereignisse.  A-Frame bietet uns eine bequeme und einfache Möglichkeit, über Benutzerereignisse zwischen Entitäten, Komponenten und Systemen zu kommunizieren.  Dazu wird jedes A-Frame-Element von der <b>Emit-</b> Funktion gepatcht, es werden drei Parameter benötigt: Der <i>erste</i> ist der Name des Ereignisses, der <i>zweite</i> sind die zu übertragenden Daten, der <i>dritte</i> ist, ob das Ereignis angezeigt werden soll. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.emit(<span class="hljs-string"><span class="hljs-string">'start-game'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">level</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>}, <span class="hljs-literal"><span class="hljs-literal">false</span></span>);</code> </pre><br>  Mit <b>addEventListener</b> können Sie dieses Ereignis auf die für uns alle übliche Weise <b>abonnieren:</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> someEntity = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'someEntity'</span></span>); someEntity.addEventListener(<span class="hljs-string"><span class="hljs-string">'start-game'</span></span>, () =&gt; {...});</code> </pre><br>  Das Sprudeln von Ereignissen ist hier ein sehr wichtiger Punkt, da sich manchmal zwei Entitäten, die miteinander kommunizieren müssen, auf derselben Ebene befinden. In diesem Fall können Sie dem Szenenelement einen Ereignis-Listener hinzufügen.  Wie Sie bereits sehen können, ist es in jedem Element über den Link <b>sceneEl</b> verfügbar. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.sceneEl.addEventListener(<span class="hljs-string"><span class="hljs-string">'start-game'</span></span>, () =&gt; {...});</code> </pre><br><h2>  Abschließend </h2><br>  Das ist vielleicht alles, worüber ich in diesem Artikel sprechen wollte.  A-Frame hat viele verschiedene Themen, die behandelt werden könnten, aber dieser Artikel ist eine Rezension und ich wollte den Leser nur auf die Hauptpunkte konzentrieren.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Im nächsten Artikel werden</a> wir versuchen, eine grundlegende Szene zu erstellen, um alle in der Praxis gewonnenen Kenntnisse zu testen.  Danke an alle! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439416/">https://habr.com/ru/post/de439416/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439402/index.html">JavaScript: Das große Ganze gut warum</a></li>
<li><a href="../de439404/index.html">Eine kurze Geschichte des elektronischen öffentlichen Beschaffungswesens in Russland</a></li>
<li><a href="../de439408/index.html">Pseudo Lens Flare</a></li>
<li><a href="../de439410/index.html">Jeff Hawkins ist endlich bereit, seine Gehirnforschung zu erklären</a></li>
<li><a href="../de439414/index.html">Client für "Push Message Server"</a></li>
<li><a href="../de439418/index.html">Pentaho Data Integration (PDI), Python und Deep Learning</a></li>
<li><a href="../de439420/index.html">Erstellen eines Transportpakets ohne Installation von MODX</a></li>
<li><a href="../de439422/index.html">Was braucht ein Programmierer, um Spiele zu entwickeln, und wer ist ein Spieleentwickler von einem Programmierer?</a></li>
<li><a href="../de439424/index.html">Wie ich mit kostenlosem Hosting und Composer zu kämpfen hatte</a></li>
<li><a href="../de439426/index.html">Situation: Eine neue Angriffswelle mit dem Abfangen von DNS-Abfragen - wir analysieren die grundlegenden Schutzmethoden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>