<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📭 ⬆️ 🍆 Meine Teilnahme an der Entwicklung von Uncharted 4 👨‍🔧 🥢 🐵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nach der Veröffentlichung von Uncharted 4 kann ich bereits darüber sprechen, woran ich in diesem Projekt gearbeitet habe. Grundsätzlich habe ich KI fü...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Meine Teilnahme an der Entwicklung von Uncharted 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416593/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a4/1f1/ca1/8a41f1ca11d093f0225dba9eb9cc11cd.jpg"></div><br>  Nach der Veröffentlichung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Uncharted 4 kann</a> ich bereits darüber sprechen, woran ich in diesem Projekt gearbeitet habe.  Grundsätzlich habe ich KI für die Teamkollegen des Spielers im Einzelspielermodus und Assistenten im Mehrspielermodus entwickelt und auch ein wenig an der Spiellogik gearbeitet.  Ich werde die Aspekte weglassen, die nicht zum fertigen Spiel gekommen sind, und einige kleine Details. <br><br>  Also fahren wir fort: <br><br><h3>  Postsystem </h3><br>  Bevor ich anfange, möchte ich über das von NPC verwendete Postsystem sprechen.  Ich habe nicht an der Kernlogik dieses Systems gearbeitet, sondern beim Schreiben des Client-Codes geholfen, der es verwendet hat. <br><br>  Posts sind diskrete Positionen im NPC-Navigationsbereich, die hauptsächlich von Entwicklungswerkzeugen erstellt und von Designern manuell platziert werden.  Abhängig von unseren Anforderungen können wir verschiedene Post-Selektoren erstellen, um verschiedene Arten von Posts zu bewerten (z. B. einen Stealth-Post-Selektor, einen Kampfpost-Selektor) und den am höchsten bewerteten Post auswählen, um NPCs dorthin zu senden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f41/6fc/0f6/f416fc0f650105d48d176593edfc8f8a.png"></div><a name="habracut"></a><br><h3>  Teamkollegen, die dem Spieler folgen </h3><br>  Das System zum Verfolgen der Teamkollegen für den Spieler stammt von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">The Last of Us</a> . <br><br>  Die Hauptidee war, dass Teamkollegen um den Spieler herum die Positionen auswählen, denen sie folgen möchten.  Diese potenziellen Positionen weichen vom Spieler ab und müssen die folgenden Prüfungen für die Freiheit des geraden Weges erfüllen: vom Spieler zur Position, von der Position zur vorwärts projizierten Position, von der projizierten Position nach vorne zum Spieler. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/be1/d6c/47d/be1d6c47d4cff7fe60880b9e5a2cabd2.png"></div><br>  Im Gegensatz zu The Last of Us hat Uncharted 4 einen Aspekt des Kletterns.  Um das Klettern in das Folgesystem des Spielers zu integrieren, haben wir einen Kletterpfosten-Selektor hinzugefügt, der die Punkte auswählt, an denen sich Teamkollegen bewegen sollen, wenn der Spieler auf die Felsen klettert. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c4/41c/4b6/8c441c4b6716213e6de11ad102e302e3.png"></div><br>  Diese Aufgabe war schwieriger als wir erwartet hatten.  Es reichte nicht aus, den Partnern nur zu befehlen, die übliche Logik zu befolgen, wenn der Spieler nicht klettert, und die Beiträge zu wechseln, wenn der Spieler an der Wand entlang kriecht.  Wenn ein Spieler schnell zwischen einem normalen Zustand und einem Klettern wechselt, beginnen die Partner zwischen diesen beiden Zuständen zu pendeln.  Aus diesem Grund haben wir die Hysterese hinzugefügt: Partner können den Status nur dann ändern, wenn der Spieler den Status geändert hat und sich in diesem Status weit genug bewegt hat.  Im Allgemeinen ist die Hysterese eine gute Technik, um „Verhaltenssprünge“ zu vermeiden. <br><br><h3>  Teamkollegen vorauslaufen </h3><br>  Wir wollten, dass Teamkollegen dem Spieler an einigen Stellen im Spiel den Weg zeigen.  Dieses System wurde von The Last of Us übernommen und verbessert: Die Designer verwendeten Splines, um die gemeinsamen Wege zu skizzieren, auf denen Teamkollegen den Spieler nach vorne führen sollten. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e53/0a5/746/e530a5746714cadd460400e5372cffeb.png"></div><br>  Wenn es auf der Ebene mehrere Pfade gab, ordneten die Designer mehrere Splines an und schalteten sie mithilfe eines Skripts ein / aus. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/edf/e65/7ac/edfe657ac10443ae7910162b8cdee1cb.png"></div><br>  Die Position des Spielers wird auf den Spline projiziert, und der Verfolgungsreferenzpunkt des Spielers befindet sich in einem von den Designern anpassbaren Abstand vor ihm.  Wenn dieser Verfolgungsreferenzpunkt den als Wartepunkt markierten Spline-Referenzpunkt passiert, bewegt sich der Partner zu einem anderen Wartepunkt.  Wenn der Spieler beschließt, zurückzukehren, beginnt der Partner erst dann zurückzukehren, wenn der Unterstützungsverfolgungspunkt zu weit vom entferntesten Wartepunkt entfernt ist, der während der letzten Vorwärtsbewegung passiert wurde.  Somit bildet sich wieder eine Hysterese, wodurch eine scharfe Zustandsänderung vermieden wird. <br><br>  Wir haben auch die dynamische Geschwindigkeit des Tracking-Systems eingebaut.  Basierend auf der Entfernung zwischen dem Partner und dem Spieler befinden sich „Geschwindigkeitsflugzeuge“ entlang des Splines.  NPCs können drei Arten von Bewegungen ausführen: Gehen, Laufen und Sprinten.  Abhängig von der Geschwindigkeitsebene, in der sich der Spieler befindet, wählt der Partner die geeignete Bewegungsart aus, um den erforderlichen Abstand zum Spieler einzuhalten.  Entsprechend ihrer Vision können Designer Geschwindigkeitsflugzeuge aktivieren und deaktivieren.  Abhängig von der Entfernung zum Spieler erhöht oder verringert sich außerdem die Animationsgeschwindigkeit der Bewegung des Partners geringfügig, um eine starke Änderung der Bewegungsgeschwindigkeit beim Umschalten zwischen Bewegungsarten zu vermeiden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/038/694/7fb/0386947fb92e9b2e414bce64b7dbee97.png"></div><br><h3>  Shelter Sharing </h3><br>  In The Last of Us kann sich der Spieler relativ zu seinem Partner bewegen, während er in Deckung bleibt.  Dies nennt man allgemeinen Schutz. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/32b/9e1/6d5/32b9e16d5f43c1f14789d58f31343bf7.png"></div><br>  In The Last of Us ist Joel weiter von der Schutzmauer entfernt als Ellie oder Tess, und dies ist logisch, weil sie kleiner als Joel sind.  Ohne Nate, Sam, Sally und Elena hätte dies unnatürlich ausgesehen, da sie fast gleich groß sind.  Außerdem ist Uncharted 4 ein viel schnelleres Spiel, und wenn Nate ihre Arme hinter einem Hindernis ausstreckt, wird dies die Laufruhe ruinieren.  Aus diesem Grund haben wir beschlossen, dass sich die Partner einfach an die Wand des Tierheims lehnen und Nate sich beim Umzug leicht um sie biegt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d15/cc6/dd4/d15cc6dd4182dbb3abc9147829faa179.png"></div><br>  Hier haben wir eine sehr einfache Logik verwendet.  Wenn die projizierte Position des Spielers unter Berücksichtigung seiner Geschwindigkeit in einen rechteckigen Rand um den Schutzpfosten des Partners fällt, vervollständigt der Partner das aktuelle Verhalten hinter dem Hindernis und wird gegen die Schutzwand gedrückt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5bb/08f/a32/5bb08fa32bf60bda3ba2e4536ed413b4.png"></div><br><h3>  Arzthelferinnen </h3><br>  Medizinische Assistenten im Mehrbenutzermodus benötigen ein völlig neues Verhalten, das im Einzelbenutzermodus nicht verfügbar ist: Sie müssen besiegte Freunde wiederbeleben und das Verhalten von Spielern hinter Schutzräumen kopieren. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/132/aaa/ea3/132aaaea37e3507b22d601a900fe49d1.png"></div><br>  Ärzte versuchen, das Verhalten von Spielern hinter Schutzräumen nachzuahmen und so nah wie möglich am Spieler zu sein, damit sie, wenn ein Spieler verletzt ist, in der Nähe sind und ihn wiederbeleben.  Wenn der nächste Verbündete verletzt ist, wird er auch den Verbündeten wiederbeleben, vorausgesetzt, der Spieler lebt noch.  Wenn der Spieler mit dem RevivePak-Mod für Mediziner ausgestattet ist, wird er versuchen, RevivePak in die Verbündeten zu werfen, bevor er zu den Verbündeten zur Auferstehung rennt (mehrere gleichzeitig durchgeführte Auferstehungen beschleunigen den Auferstehungsprozess).  Beim Werfen von RevivePak wird die Granatenwerflogik verwendet, insbesondere um die Freiheit der Flugbahn zu überprüfen und die Animation abzuspielen. Nur Granaten werden durch RevivePak ersetzt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6b3/b3a/b70/6b3b3ab70cf5eedad09e0215dcc7f317.png"></div><br><h3>  Gras für Stealth </h3><br>  Die neue Mechanik von Uncharted 4 ist auch verdeckte Bewegung im Gras.  Um es zu implementieren, mussten wir die Umgebung irgendwie markieren, damit die Spiellogik des Spielers herausfindet, ob sich der Spieler im Gras befindet.  Ursprünglich wollten wir, dass Hintergrundkünstler die Oberflächen von Graskollisionen in Maya markieren, stellten jedoch fest, dass die Kommunikation zwischen Künstlern und Designern die Iteration zu stark verlangsamte.  Aus diesem Grund haben wir einen anderen Weg gefunden, um Bereiche mit Gras als Stealth zu markieren.  Speziell für Designer wurde dem Editor ein neues Gras-Tag für Stealth hinzugefügt, damit sie Navigationsbereiche genau markieren können, die der Spieler als Gras für Stealth betrachten sollte.  Dank dieser zusätzlichen Informationen konnten wir auch Stealth-Posts bewerten, je nachdem, ob sie sich im Gras befinden oder nicht.  Dies erwies sich als nützlich für Teamkollegen, die sich bewegen, wenn sich der Spieler im Stealth-Modus befindet. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e1f/6e0/20f/e1f6e020f6998ad0e3d5c6bc7e3027de.png"></div><br><h3>  Sinnesorgane </h3><br>  Da es im Gegensatz zu The Last of Us in Uncharted 4 keinen Hörmodus gibt, mussten wir den Spieler irgendwie über bevorstehende Bedrohungen informieren, damit ihn der unbekannte Ort der Feinde nicht störte.  Unter Verwendung von Daten zur Wahrnehmung von Feinden haben wir Farbbedrohungsindikatoren hinzugefügt, die den Spieler darüber informieren, dass der Feind ihn bald als Ablenkungsfaktor (weißer Indikator) wahrnimmt, ihn als Ablenkungsfaktor (gelber Indikator) wahrnimmt und sich seiner Anwesenheit voll bewusst ist (orangefarbener Indikator).  Zusätzlich haben wir die Bedrohungsanzeige dazu gebracht, das Hintergrundgeräusch zu verstärken, um die Spannung zu erhöhen, und ein lautes Signal abzugeben, wenn der Feind die Anwesenheit des Spielers vollständig verstanden hat, wie in The Last of Us. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f6/620/1eb/7f66201eb326d01be5978cdb27871fb3.png"></div><br><h3>  Forschung </h3><br>  Dies ist der letzte große Teil des Gameplays, an dessen Entwicklung ich teilgenommen habe, bevor das Spiel zum "Gold" wurde.  Normalerweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nehme</a> ich nicht an offiziellen Treffen bei Naughty Dog teil, aber einige Monate vor dem „Gold“ hatten wir mindestens ein Treffen pro Woche unter der Leitung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bruce Streley</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Neil Drackmann</a> .  Die Treffen waren dem KI-Spiel gewidmet.  Nach fast jedem dieser Treffen gab es im Forschungssystem etwas für Änderungen oder Verarbeitungen.  Bevor wir das fertige Spiel veröffentlichten, haben wir viele Phasen der Iterationen durchlaufen. <br><br>  Es gibt zwei Aspekte, die die Feinde ablenken und zum Erkunden ermutigen: die Anwesenheit des Spielers und der Leichen.  Wenn der Feind eine Ablenkung feststellt, versucht er, den nächsten Verbündeten anzuziehen, um gemeinsam die Ursache zu untersuchen.  Ein näherer Feind wird zum Entdecker und der zweite zum Beobachter.  Ein Feind, der eine Ablenkung findet, kann Forscher oder Beobachter werden, und wir haben für diese Fälle zwei verschiedene Arten von Dialogen vorbereitet ("Da ist etwas. Ich werde es überprüfen." Und "Da ist etwas. Geh da, überprüfe es."). <br><br>  Um den Beginn und das Ende der Studie natürlicher zu gestalten, haben wir den Zeitpunkt der feindlichen Bewegungen und die Abnahme der Indikatoren für Angstindikatoren so angepasst, dass einige Forscher nicht gleichzeitig dieselben Aktionen mechanisch ausführen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5d0/e45/3cf/5d0e453cf4bc7267bac559b53f597fc6.png"></div><br>  Wenn die Leiche eine Ablenkung ist, kann der Forscher etwas über die Anwesenheit des Spielers erfahren und jedem befehlen, nach ihm zu suchen, wobei er unwiederbringlich einen ruhigen Zustand hinterlässt.  Eine entdeckte Leiche ist ebenfalls markiert, damit der Spieler verstehen kann, was ausgegeben wurde. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/360/0f6/87c/3600f687c48a33dadad42fbf0cafe4b0.png"></div><br>  Bei einigen Schwierigkeitsgraden zwingen mehrere Studien nacheinander die Feinde dazu, aggressiver zu ermitteln, was die Wahrscheinlichkeit erhöht, dass sich ein Spieler im Gras versteckt.  Auf der Schwierigkeitsstufe "Crushing" forschen Feinde ständig aggressiv. <br><br><h3>  Dialogansichten </h3><br>  Dies ist auch einer der letzten Aspekte, mit denen ich mich im Projekt befasst habe. <br><br>  Die Ansichten in den Dialogen sind die Logik, die die Charaktere dazu bringt, auf Gespräche zu reagieren, z. B. andere Personen anzusehen und Gesten zu machen.  In The Last of Us haben Designer monatelang alle Dialoge im Spiel manuell kommentiert und Momente des Aussehens und der Gesten markiert.  Das wollten wir nicht wiederholen.  Wir hatten mehrere geskriptete Dialoge, die bereits manuell markiert wurden, aber wir brauchten ein System, das Dialoge ohne Anmerkungen verarbeiten kann.  Die Animatoren erhielten Parameter zum Einstellen der Drehgeschwindigkeit des Kopfes, des maximalen Drehwinkels des Kopfes, der Dauer des Blicks, der Pausenzeit usw. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7e1/0c1/462/7e10c146262a88181774a7d6ae7b6e3a.png"></div><br><h3>  Die Geschwindigkeit des Jeeps sparen </h3><br>  In den frühen Entwicklungsstadien hatten wir ein Problem mit der Jeep-Rennphase im Level mit der Stadt in Madakaskar: Wenn der Jeep des Spielers driftete und er nach dem Aufprall auf die feindliche Wand oder das Auto an Geschwindigkeit verlor, wurde der Spieler weit vom Konvoi entfernt und konnte das Level nicht beenden. <br><br>  Ich kam auf diese Lösung: Begrenzte vorübergehend die Winkelgeschwindigkeit und die Änderung der Lineargeschwindigkeit von oben, wenn ich mit Wänden und feindlichen Fahrzeugen kollidierte.  Diese einfache Lösung erwies sich als sehr effektiv - es wurde für die Spieler viel schwieriger, die Passage aufgrund von Abweichungen zu verfehlen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a8/0d7/b42/4a80d7b4232ac06488a6740f50133c48.png"></div><br><br><h3>  Fahrzeugzerstörung </h3><br>  Uncharted 4 führte zuerst spielergesteuerte Maschinen ein.  In früheren Spielen der Serie konnten nur NPCs Autos fahren, und diese Autos bewegten sich entlang der Spline-Schienen.  Ich habe bei der Umsetzung der Zerstörung des Verkehrs geholfen. <br><br>  Es gibt verschiedene Möglichkeiten, feindliche Fahrzeuge zu zerstören: Töte den Fahrer, schieße auf das Auto, ramme das feindliche Motorrad mit deinem Jeep, triff den feindlichen Jeep, um ihn zu schleudern.  Abhängig von der Ursache der Zerstörung wurde eine Animation des zerstörten Transports und seiner Passagiere ausgewählt.  Die Animation wird mit physisch kontrollierten Ragdolls gemischt, sodass die Kill-Animation nahtlos in einen physisch simulierten Absturz übergeht. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/de2/5cb/3d6/de25cb3d6bdf245676fa5ea2e3103c21.png"></div><br>  Um Motorräder mit einem Widder zu zerstören, wurden ein Begrenzungsrechteck in der XZ-Ebene und ein Kontaktpunkt verwendet, um eine von vier gerichteten Animationen der Widderzerstörung auszuwählen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af8/41a/da2/af841ada236579d53dd88f2d45221f88.png"></div><br>  Bei Abweichungen von Jeeps wird geprüft, ob die Abweichung der Jeep-Drehung von der gewünschten Bewegungsrichtung den Schwellenwert der Abweichung überschreitet. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/125/605/e4c/125605e4c443c72aa46151a8aef459ce.png"></div><br>  Beim Abspielen von Vernichtungsanimationen besteht die Möglichkeit, dass der zerstörte Transport durch die Wand gelangt.  Es verwendet einen Kugelwurf (eine Kugel, die wie ein Strahl projiziert wird) von der idealen Position der Maschine entlang der „Schiene“, wenn sie nicht zerstört wurde, bis zu der Position, an der sich ihr Körper tatsächlich befindet.  Wenn der Kontakt während der Erzeugung des Kugelgusses fixiert ist, verschiebt sich die Maschine in Richtung der Kontaktnormalen um einen Bruchteil des Durchdringungswerts. Daher erfolgt der Prozess des Eliminierens des Durchgangs durch die Wand allmählich über mehrere Rahmen, wodurch eine scharfe Positionsänderung vermieden wird. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0ac/038/63d/0ac03863db24bdca08057cf81429f875.png"></div><br>  Wir haben eine spezielle Art der Fahrzeugzerstörung entwickelt, die als Todesanzeige für Fahrzeuge bezeichnet wird.  Dies sind kontextsensitive Kill-Animationen, die mit der Umgebung interagieren.  Animatoren und Designer platzieren die Positionen dieser Animationen entlang der „Schienen“ des Splines und geben die Eingabefenster auf den Splines an.  Wenn das Fahrzeug in diesem Fenster zerstört wird, beginnt die entsprechende Zerstörungsanimation zu spielen.  Diese Funktion wurde ursprünglich als Tool zur Implementierung der epischen Jeep-Explosion für die Demo entwickelt, die 2015 auf der E3 vorgestellt wurde. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/sB0xy74Zrj8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Bayer-Filter zum Dithering </h3><br>  Wir wollten die Schnittgeometrie loswerden, wenn sich die Kamera zu nahe an den Objekten der Umgebung befindet, hauptsächlich am Laub.  Aus diesem Grund haben wir beschlossen, die Pixel im Pixel-Shader basierend auf der Nähe der Pixel zur Kamera zu schattieren.  Wir konnten die Transparenz nicht nutzen, weil sie zu teuer ist und zu viel Laub vorhanden ist.  Stattdessen haben wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dithering</a> angewendet und den Abstand zwischen Pixel und Kamera und das Muster in Form <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eines Bayer-Filters</a> kombiniert. Einige Pixel wurden vollständig verworfen, wodurch die Illusion von Transparenz entstand. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/76e/ad5/72f/76ead572fc27035d0a89f49961777346.png"></div><br>  Unser ursprünglicher Bayer-Filter war die auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieser Wikipedia-Seite</a> gezeigte 8 × 8-Matrix.  Ich entschied, dass es zu klein war und führte zur Schaffung von Artefakten in Form von Streifen.  Ich wollte den Bayer-Filter 16 × 16 verwenden, konnte ihn aber im Internet nirgendwo finden.  Also habe ich versucht, das Bayer 8 × 8-Filtermuster zurückzuentwickeln, und dabei ein rekursives Muster festgestellt.  Ich könnte es einfach studieren und eine 16 × 16-Matrix von Hand schreiben, aber aus Gründen des Interesses habe ich ein Werkzeug geschrieben, das Bayes'sche Matrizen mit einer beliebigen Zweierpotenz erzeugen kann. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/acd/1eb/fa0/acd1ebfa05f890f168a819d6012bc838.gif"></div><br>  Nach dem Umschalten auf das Bayes'sche Filter 16 × 16 nahmen Artefakte mit Streifen signifikant ab. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/599/107/71a/59910771ad62e1a721e7071c34f11a15.png"></div><br><h3>  Explosionsschallverzögerung </h3><br>  Dies ist eigentlich ein sehr kleines Detail, aber ich möchte es erwähnen.  Ein paar Wochen bevor die Demo 2015 auf der E3 gezeigt wurde, bemerkte ich, dass die Turmexplosion gleichzeitig gesehen und gehört wurde, was unlogisch war.  Nate und Sally sind sehr weit vom Turm entfernt, also müssen sie zuerst die Explosion sehen und dann hören.  In der fertigen Demo fügte das Künstlerteam dem Sound der Explosion eine leichte Verzögerung hinzu. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/sB0xy74Zrj8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Lokalisierung in traditionellem Chinesisch </h3><br>  Ich habe den Text und die Untertitel in traditionellem Chinesisch nur zwei Wochen vor der Veröffentlichung des Spiels auf dem „Gold“ aktiviert und Übersetzungsfehler gefunden.  Die meisten Fehler waren eine wörtliche Übersetzung aus dem Englischen ins traditionelle Chinesisch, die nicht im Zusammenhang stand.  Ich entschied, dass ich keine Zeit haben würde, das ganze Spiel selbst durchzugehen und gleichzeitig nach Übersetzungsfehlern zu suchen.  Aus diesem Grund habe ich mehrere Mitarbeiter der Testabteilung gebeten, verschiedene Teile des Spiels in traditionellem Chinesisch zu spielen, und mir das aufgezeichnete Video der Passage angesehen.  Dies stellte sich als ziemlich effektiver Schritt heraus;  Ich habe es geschafft, alle erkannten Übersetzungsfehler zu beheben, und das Team von Lokalisierern konnte sie vor Ablauf der Frist beheben. <br><br><h3>  Das ist alles </h3><br>  Das ist fast alles, woran ich für Uncharted 4 gearbeitet habe.  Ich hoffe der Artikel war interessant für dich. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de416593/">https://habr.com/ru/post/de416593/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de416583/index.html">Welchen 3D-Scanner kaufen? TOP 5 der besten 3D-Scanner von 2018 von 3Dtool</a></li>
<li><a href="../de416585/index.html">Browserübergreifende Web-Erweiterung für benutzerdefinierte Skripte Teil 3</a></li>
<li><a href="../de416587/index.html">Ein paar Worte zu den Subwoofern und warum sie für fast jeden geeignet sind</a></li>
<li><a href="../de416589/index.html">Tote Zellen: Verwenden der 3D-Pipeline für 2D-Animationen</a></li>
<li><a href="../de416591/index.html">"Die Muttern festziehen": Warum alle über eine Verschärfung der Regulierung des IT-Sektors sprachen</a></li>
<li><a href="../de416595/index.html">Dagaz: Horde</a></li>
<li><a href="../de416597/index.html">IBM Watson Build - versuchen Sie sich beim Entwicklerwettbewerb</a></li>
<li><a href="../de416599/index.html">Was ist eCPM und wie kann es erhöht werden?</a></li>
<li><a href="../de416601/index.html">Vertex Impress Play Test: schlankes Gehäuse + 5000-mAh-Akku + gute 16-Megapixel-Kameras</a></li>
<li><a href="../de416605/index.html">@ Pythonetc Juni 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>