<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèø‚Äçü§ù‚Äçüßëüèø ‚ùáÔ∏è üåÑ Airtest IDE - uma nova maneira de testar a automa√ß√£o de jogos para celular? üí≠ üòù üë®‚Äçüë¶‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, quero falar sobre uma ferramenta de c√≥digo-fonte bastante nova para testes automatizados chamada Airtest . No futuro, farei mais alguns artigos ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Airtest IDE - uma nova maneira de testar a automa√ß√£o de jogos para celular?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461773/"><p>  Hoje, quero falar sobre uma ferramenta de c√≥digo-fonte bastante nova para testes automatizados chamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Airtest</a> .  No futuro, farei mais alguns artigos com uma hist√≥ria detalhada sobre os elementos individuais deste kit de ferramentas e como trabalhar com eles, mas agora tenho o objetivo de apresent√°-lo e dar uma id√©ia geral. </p><br><p>  Este √© o primeiro de tr√™s artigos.  A segunda parte descreve a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">estrutura para o reconhecimento de imagem (Image Recognition)</a> - <strong>AirTest</strong> , e a terceira e √∫ltima parte √© dedicada ao <strong>Poco</strong> - a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">estrutura de automa√ß√£o</a> da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">interface</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">usu√°rio, escrevendo c√≥digo</a> . </p><br><p> O AirTest IDE foi desenvolvido pela <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NetEase</a> e destina-se a aplicativos "dif√≠ceis de automatizar", como, por exemplo, jogos.  Na verdade, eles s√£o o foco principal dos desenvolvedores, embora isso n√£o pare de usar o AirTest para outros aplicativos. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O AirTest IDE</a> √© executado no Windows, MacOS X e Linux e cont√©m 2 estruturas: AirTest e Poco.  Este desenvolvimento foi apresentado por Xin Liu no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Android Game Developer Summit 2018</a> .  Python 2.7 e Python 3.3+ s√£o usados ‚Äã‚Äãpara escrever testes.  Coisas importantes como suporte para executar testes imediatamente em um grande n√∫mero de dispositivos, c√≥digo-fonte aberto e aplicativos gratuitos, al√©m de testes escritos f√°ceis - essas s√£o as vantagens destacadas pelos desenvolvedores.  O aplicativo pode ser usado no Windows e no MacOS e permite automatizar aplicativos no seguinte sistema operacional: Windows, iOS, Android. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O Projeto AirTest</a> no GitHub cont√©m 4 projetos: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Airtest</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Poco</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">iOS-Tangent</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">multi-device-runner</a> . <br>  Tamb√©m vale mencionar que o NetEase fornece seu pr√≥prio farm de dispositivos f√≠sicos para testes automatizados chamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AirLab</a> . </p><br><img src="https://habrastorage.org/webt/go/fi/bj/gofibjhnktjohm0yb4m6jczbrfg.png" alt="imagem"><a name="habracut"></a><br><p>  Brevemente sobre estruturas. </p><br><p>  <strong>O Airtest</strong> √© uma estrutura de plataforma cruzada de reconhecimento de imagem para jogos e aplicativos para dispositivos m√≥veis, baseada na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reten√ß√£o de imagem</a> .  O AirTest IDE permite que voc√™ interaja com o aplicativo usando os seguintes comandos: <br>  toque, aguarde, deslize, existe, texto, evento de chave, instant√¢neo, suspens√£o, assert_exists, assert_not_exists, assert_equal, assert_not_equal.  Vou falar sobre os recursos e par√¢metros dos comandos em um artigo separado dedicado a um estudo mais detalhado dos quadros AirTest e Poco.  Agora, vale mencionar que o comando keyevent √© respons√°vel por "pressionar os bot√µes f√≠sicos" do dispositivo, como Casa, Energia, Menu, Voltar.  Ao usar a maioria dos comandos, o usu√°rio √© solicitado a destacar uma parte da tela do dispositivo de trabalho, cuja captura de tela ser√° usada para o comando correspondente (toque, deslize, afirme, etc.). </p><br><img src="https://habrastorage.org/webt/cm/ad/ko/cmadko_9kom-sbotvmbodeawito.gif" alt="imagem"><br><p>  As vantagens do Airtest que posso destacar ap√≥s o trabalho: </p><br><ol><li>  Escrita de c√≥digo r√°pida e clara.  Tudo √© feito, na pr√°tica, no modo autom√°tico, voc√™ s√≥ precisa selecionar os par√¢metros necess√°rios, ajustar os tempos e ter cuidado com a escolha da imagem. </li><li>  A defini√ß√£o exata da imagem, usada no c√≥digo, no dispositivo de trabalho ativo.  Al√©m disso, o relat√≥rio indica a porcentagem de coincid√™ncia (compara√ß√£o) da imagem usada no c√≥digo e da imagem na tela do dispositivo de trabalho. </li><li>  Falando de relat√≥rios.  Ap√≥s cada inicializa√ß√£o, voc√™ pode criar um relat√≥rio usando o atalho de teclado Ctrl \ Cmd + L.  Um relat√≥rio conveniente fornece informa√ß√µes como: tipos de afirma√ß√£o de seus resultados, e cada etapa do teste √© destacada em uma subse√ß√£o separada com informa√ß√µes sobre onde o AirTest clicou, onde esperava uma imagem, porcentagem de imagens correspondentes etc. </li><li>  Depois de escrever o c√≥digo, voc√™ pode us√°-lo em qualquer dispositivo. </li><li>  Multithreading: conecte v√°rios dispositivos de teste e execute-os em paralelo. </li></ol><br><p>  Contras Airtest, que posso destacar ap√≥s o trabalho: </p><br><ol><li>  Se no processo houver elementos com a mesma apar√™ncia visual, por exemplo, controles deslizantes, bot√µes etc., com uma alta probabilidade, o AirTest n√£o entender√° qual controle voc√™ deseja usar.  Isso ser√° indicado no erro correspondente.  Mas esse menos √© facilmente dispensado do uso da segunda estrutura (Poco), que ser√° discutida abaixo. </li><li>  A compara√ß√£o de imagens (do c√≥digo e as reais na tela) ocorre em preto e branco.  Vale a pena considerar se voc√™ √© importante, por exemplo, a apar√™ncia visual do personagem (sua cor, roupas diferentes etc.).  Se os caracteres s√£o visualmente diferentes, mas s√£o exibidos na tela da mesma maneira (uma pose, etc.), a verifica√ß√£o provavelmente ser√° bem-sucedida.  As op√ß√µes de reconhecimento de imagem t√™m uma marca de sele√ß√£o "rgb" que voc√™ pode usar, mas n√£o funciona muito bem se voc√™ tiver uma imagem pequena. </li><li>  Voc√™ n√£o pode "congelar" a tela enquanto estiver usando o aplicativo para capturar com precis√£o as capturas de tela necess√°rias.  De tempos em tempos, voc√™ precisa "capturar" o quadro que precisa. </li><li>  Porque  aplica√ß√£o em beta aberto, voc√™ pode encontrar v√°rios erros ou imprecis√µes irritantes, por exemplo, como a incapacidade de redimensionar uma janela com um aplicativo interno no Windows.  Agora, os autores est√£o atualizando o AirTest IDE a cada poucos meses, e espero que esses problemas sejam corrigidos em breve. </li></ol><br><p>  <strong>O Poco</strong> √© uma estrutura universal para automatizar a interface do usu√°rio (UI), que fornece APIs poderosas, independentemente do mecanismo (do jogo).  Esses, por sua vez, recuperam a hierarquia dos elementos da interface do usu√°rio em tempo de execu√ß√£o.  Gra√ßas a isso, o usu√°rio pode "alcan√ßar" toda a hierarquia de elementos na p√°gina atual em apenas alguns cliques no elemento que ele precisa, etc.  Al√©m disso, essa estrutura permite ‚Äúcongelar‚Äù a tela atual para escrever c√≥digo com base na hierarquia de elementos da janela atual.  O Poco foi projetado para ajudar o AirTest a entender que tipo de elemento de interface do usu√°rio os testes est√£o falando, mas ningu√©m o incomoda em escrever todos os testes usando apenas essa estrutura. <br>  Todos os testes s√£o escritos em Python.  As implementa√ß√µes de comando podem ser encontradas nas APIs correspondentes: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">m√≥dulo</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">airtest.core.api</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pacote</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">airtest.core.android</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pacote airtest.core.ios</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pacote airtest.core.win</a> </p><br><p><img src="https://habrastorage.org/webt/fl/-j/m-/fl-jm-i8pxvlejgwf_a2wcj__fy.gif" alt="imagem"></p><br><p>  Poco vantagens que posso destacar ap√≥s o trabalho: </p><br><ol><li>  H√° suporte para v√°rios mecanismos de jogos importantes, incluindo Unity3D, cocos2dx-js, cocos2dx-lua, mecanismos internos do NetEase, al√©m de suporte para aplicativos Android / iOS nativos.  Se voc√™ quiser usar um mecanismo que n√£o esteja na lista de "suportados", poder√° criar o seu pr√≥prio seguindo as <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">instru√ß√µes apropriadas</a> .  Na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o oficial,</a> h√° uma men√ß√£o ao Unreal Engine, mas at√© agora tudo se limita √† frase "Em breve". </li><li>  A hierarquia dos elementos da interface do usu√°rio na tela retorna em tempo real. </li><li>  In√≠cio r√°pido e execu√ß√£o de testes. </li><li>  Como no AirTest, escrevi o c√≥digo uma vez - use-o em qualquer lugar.  Suporte para Python 2.7 e 3.3+ </li><li>  √â poss√≠vel conectar bibliotecas externas ao seu projeto </li><li>  A julgar pela documenta√ß√£o, h√° suporte para sensores GPS, aceler√¥metro e girosc√≥pio, al√©m de suporte para os modos de exibi√ß√£o retrato e paisagem. </li></ol><br><p>  Poco contras que posso destacar depois do trabalho: </p><br><ol><li>  Durante o trabalho no Windows 7, n√£o encontrei problemas fundamentais.  o que interferiria no trabalho de pleno direito, mas, no momento, eles est√£o ao trabalhar com o Windows 10. O principal √© o movimento incorreto de objetos (comando de furto) em alguns casos.  Por exemplo, indico o objeto a ser movido e as coordenadas do segundo objeto, que √© o ponto final.  Nesses casos raros, Poco perde o local final, mas os relat√≥rios mostram os dados de deslocamento corretos (vetor) e a etapa √© considerada bem-sucedida. </li><li>  Quando voc√™ seleciona alguns elementos com layouts grandes (layout), a sele√ß√£o pode se sobrepor √† janela do Poco Assistant e voc√™ n√£o poder√° selecionar outros elementos at√© que a sele√ß√£o seja removida da atual.  Para remover a sele√ß√£o, voc√™ pode usar o atalho do teclado Alt + F4 </li></ol><br><p>  Para concluir, vale ressaltar que o Airtest IDE possui seu pr√≥prio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><strong>plug-in Selenium</strong></a> , com o qual voc√™ pode automatizar seu projeto da Web, mas usando apenas um navegador Chrome.  O restante, no momento, n√£o √© suportado.  Pessoalmente, ainda n√£o trabalhei com ele, portanto n√£o posso dizer sobre o trabalho dele, mas era imposs√≠vel sentir falta dele nesta breve descri√ß√£o. </p><br><p><img src="https://habrastorage.org/webt/dy/vu/fq/dyvufqnt6-ayoctow3pff4xi0s0.png" alt="imagem"></p><br><p>  Como resultado, eu diria que o AirTest IDE √© um desenvolvimento muito promissor, projetado para automatizar a interface do usu√°rio em jogos, mas, no momento, n√£o √© adequado para testar o processo do jogo.  Se voc√™ tem muitos elementos de interface do usu√°rio e / ou muitos dispositivos para verificar e n√£o deseja gastar muitas horas de trabalho, esse IDE pode se tornar seu salva-vidas.  Para come√ßar a escrever os testes mais simples, voc√™ n√£o precisa de conhecimentos profundos em automa√ß√£o e programa√ß√£o, apenas possui um entendimento b√°sico de como trabalhar com o Python.  Obviamente, dessa maneira voc√™ n√£o ir√° longe e precisar√° aprender essa linguagem de programa√ß√£o, mas para come√ßar e entender o qu√£o realista esse programa combina com voc√™, basta para seus olhos.  A √∫nica coisa frustrante agora s√£o v√°rios erros irritantes associados, por exemplo, √† incapacidade de redimensionar uma janela com um dispositivo em funcionamento (aplicativo Windows) depois de incorpor√°-lo, sobrepondo um grande objeto selecionado da interface principal do programa etc., mas √© bem poss√≠vel chegar a um acordo, especialmente considerando o fato de que o aplicativo est√° no est√°gio Beta. </p><br><p><img src="https://habrastorage.org/webt/ej/bg/qg/ejbgqgnierz11rcdas3evm9bzoy.png" alt="imagem"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt461773/">https://habr.com/ru/post/pt461773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt461763/index.html">As ag√™ncias de publicidade podem matar neg√≥cios no in√≠cio da jornada</a></li>
<li><a href="../pt461765/index.html">Cruzamos k8s com Kafka, salvamos cont√™ineres e escapamos do lixo no Ansible: os 10 principais relat√≥rios do DevOops 2018</a></li>
<li><a href="../pt461767/index.html">Algoritmo do mecanismo de pesquisa SVLAB</a></li>
<li><a href="../pt461769/index.html">Como fiz streaming de webcam Javascript (quase) in√∫til</a></li>
<li><a href="../pt461771/index.html">Diga n√£o ao sil√™ncio: do ber√ß√°rio ao escrit√≥rio</a></li>
<li><a href="../pt461775/index.html">3 casos para usar o aipo em um aplicativo Django</a></li>
<li><a href="../pt461779/index.html">80% dos dados da sua empresa n√£o est√£o dispon√≠veis para voc√™. O que fazer sobre isso?</a></li>
<li><a href="../pt461781/index.html">"Ycombinator Startup School 2019." V√≠deo das tr√™s primeiras semanas</a></li>
<li><a href="../pt461785/index.html">Desvantagens do RISC-V</a></li>
<li><a href="../pt461787/index.html">Exibi√ß√£o de texto Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>