<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüéì ‚ùáÔ∏è üèâ Vis√£o geral e compara√ß√£o de controladores de ingresso para Kubernetes ‚úàÔ∏è üç¶ üîç</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ao iniciar um cluster Kubernetes para um aplicativo espec√≠fico, voc√™ deve entender quais requisitos o pr√≥prio aplicativo, os neg√≥cios e os desenvolved...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vis√£o geral e compara√ß√£o de controladores de ingresso para Kubernetes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/447180/"><img src="https://habrastorage.org/webt/sw/vo/2y/swvo2y-dgdd7peqey7-y9vo6vrk.png"><br><br>  Ao iniciar um cluster Kubernetes para um aplicativo espec√≠fico, voc√™ deve entender quais requisitos o pr√≥prio aplicativo, os neg√≥cios e os desenvolvedores apresentam para esse recurso.  Se voc√™ tiver essas informa√ß√µes, poder√° come√ßar a tomar uma decis√£o arquitetural e, em particular, selecionar um controlador Ingress espec√≠fico, do qual j√° existe um grande n√∫mero hoje.  Para ter uma id√©ia b√°sica das op√ß√µes dispon√≠veis sem precisar estudar muitos artigos / documenta√ß√£o, etc., preparamos essa revis√£o incluindo os principais controladores Ingress (prontos para produ√ß√£o). <br><br>  Esperamos que ajude os colegas a escolher uma solu√ß√£o arquitet√¥nica - pelo menos, seja o ponto de partida para informa√ß√µes mais detalhadas e experimentos pr√°ticos.  Anteriormente, estudamos outros materiais semelhantes na rede e, curiosamente, n√£o encontramos uma √∫nica revis√£o mais ou menos completa e, mais importante - estruturada.  Ent√£o, preencha essa lacuna! <a name="habracut"></a><br><br><h2>  Crit√©rios </h2><br>  Para fazer uma compara√ß√£o de princ√≠pio e obter qualquer resultado √∫til, voc√™ precisa entender n√£o apenas a √°rea de assunto, mas tamb√©m ter uma lista espec√≠fica de crit√©rios que determinar√£o o vetor de pesquisa.  Sem pretender analisar todos os casos poss√≠veis de uso do Ingress / Kubernetes, tentamos destacar os requisitos mais gerais para controladores - esteja preparado para que voc√™ tenha que estudar todas as suas especificidades e detalhes em qualquer caso separadamente. <br><br>  Mas vou come√ßar com as caracter√≠sticas que se tornaram t√£o familiares que s√£o implementadas em todas as decis√µes e n√£o s√£o consideradas: <br><br><ul><li>  descoberta din√¢mica de servi√ßos (descoberta de servi√ßo); </li><li>  Termina√ß√£o SSL; </li><li>  trabalhar com websockets. </li></ul><br>  Agora, sobre os pontos de compara√ß√£o: <br><br><h3>  Protocolos suportados </h3><br>  Um dos crit√©rios fundamentais para a sele√ß√£o.  Seu software pode n√£o funcionar no HTTP padr√£o ou pode exigir trabalho em v√°rios protocolos ao mesmo tempo.  Se o seu caso n√£o for padr√£o, leve esse fator em considera√ß√£o para que voc√™ n√£o precise reconfigurar o cluster posteriormente.  Para todos os controladores, a lista de protocolos suportados varia. <br><br><h3>  Baseado em software </h3><br>  Existem v√°rias op√ß√µes de aplicativo nas quais o controlador se baseia.  Os mais populares s√£o nginx, traefik, haproxy, enviado.  No caso geral, pode n√£o afetar a maneira como o tr√°fego √© recebido e transmitido, mas √© sempre √∫til conhecer as poss√≠veis nuances e caracter√≠sticas do que est√° ‚Äúsob o cap√¥‚Äù. <br><br><h3>  Roteamento de tr√°fego </h3><br>  Com base no que podemos decidir sobre a dire√ß√£o do tr√°fego para um servi√ßo espec√≠fico?  Geralmente, esse √© o host e o caminho, mas h√° recursos adicionais. <br><br><h3>  Namespace do cluster </h3><br>  Namespace (namespace) - a capacidade de dividir logicamente os recursos no Kubernetes (por exemplo, no palco, produ√ß√£o etc.).  Existem controladores do Ingress que devem ser definidos separadamente em cada espa√ßo para nome (e, em seguida, ele pode direcionar <i>apenas</i> o tr√°fego para os pods desse espa√ßo).  E existem aqueles (e a maioria esmagadora) que funcionam globalmente em todo o cluster - neles o tr√°fego √© direcionado para qualquer pod do cluster, independentemente do espa√ßo para nome. <br><br><h3>  Amostras para montante </h3><br>  Como o tr√°fego √© direcionado para inst√¢ncias √≠ntegras do aplicativo, servi√ßos?  Existem op√ß√µes com verifica√ß√µes ativas e passivas, <i>novas</i> tentativas, disjuntores <i>(para obter mais detalhes, veja-os, por exemplo, no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo sobre Istio</a> )</i> , implementa√ß√µes personalizadas de verifica√ß√£o de integridade, etc.  Um par√¢metro muito importante se voc√™ tiver altos requisitos de acessibilidade e retirada oportuna de servi√ßos com falha da balan√ßa. <br><br><h3>  Algoritmos de balanceamento </h3><br>  H√° muitas op√ß√µes: do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">round-robin</a> tradicional aos ex√≥ticos, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">rdp-cookies</a> , al√©m de alguns recursos, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sess√µes persistentes</a> . <br><br><h3>  Autentica√ß√£o </h3><br>  Quais esquemas de autoriza√ß√£o o controlador suporta?  B√°sico, resumo, oauth, autentica√ß√£o externa - acho que essas op√ß√µes devem ser familiares.  Esse √© um crit√©rio importante se voc√™ usar muitos circuitos para desenvolvedores (e / ou apenas fechados) acessados ‚Äã‚Äãpelo Ingress. <br><br><h3>  Distribui√ß√£o de tr√°fego </h3><br>  O controlador suporta mecanismos t√£o comumente usados ‚Äã‚Äãpara distribui√ß√£o de tr√°fego como lan√ßamentos de can√°rios, testes A / B, tr√°fego de espelhamento (espelhamento / sombreamento)?  Esse √© um assunto muito delicado para aplicativos que exigem gerenciamento de tr√°fego exato e preciso para testes produtivos, depura√ß√£o de erros do produto que n√£o est√£o em combate (ou com perdas m√≠nimas), an√°lise de tr√°fego etc. <br><br><h3>  Assinatura paga </h3><br>  Existe uma op√ß√£o paga para o controlador, com funcionalidade avan√ßada e / ou suporte t√©cnico? <br><br><h3>  Interface gr√°fica do usu√°rio (UI da Web) </h3><br>  Existe alguma interface gr√°fica para controlar a configura√ß√£o do controlador?  Principalmente para ‚Äúpr√°tico‚Äù e / ou para aqueles que precisam fazer algumas altera√ß√µes na configura√ß√£o do Ingress, mas trabalhar com modelos ‚Äúbrutos‚Äù √© inconveniente.  Pode ser √∫til se os desenvolvedores quiserem realizar experimentos com tr√°fego em tempo real. <br><br><h3>  Valida√ß√£o JWT </h3><br>  A presen√ßa de verifica√ß√£o JSON integrada de tokens da web para autoriza√ß√£o e valida√ß√£o do usu√°rio do aplicativo final. <br><br><h3>  Recursos para personaliza√ß√£o da configura√ß√£o </h3><br>  Extensibilidade de modelos no sentido de ter mecanismos para adicionar suas pr√≥prias diretivas, sinalizadores etc. aos modelos de configura√ß√£o padr√£o <br><br><h3>  Mecanismos b√°sicos de prote√ß√£o DDOS </h3><br>  Algoritmos simples de limite de taxa ou op√ß√µes mais sofisticadas para filtrar o tr√°fego com base em endere√ßos, listas brancas, pa√≠ses etc. <br><br><h3>  Solicitar rastreamento </h3><br>  Possibilidades de observar, rastrear e depurar solicita√ß√µes do Ingresss para servi√ßos / pods espec√≠ficos e, idealmente, entre servi√ßos / pods tamb√©m. <br><br><h3>  WAF </h3><br>  Suporte para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">firewall de aplicativos</a> . <br><br><h2>  Controladores de ingresso </h2><br>  A lista de controladores foi baseada na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o oficial do Kubernetes</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nesta tabela</a> .  Exclu√≠mos alguns deles da revis√£o devido √† sua especificidade ou baixa preval√™ncia (est√°gio inicial de desenvolvimento).  Os restantes s√£o discutidos abaixo.  Come√ßamos com uma descri√ß√£o geral das solu√ß√µes e continuamos com a tabela din√¢mica. <br><br><h3>  Ingress by Kubernetes </h3><br>  <i>Website: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/kubernetes/ingress-nginx</a></i> <br>  <i>Licen√ßa: Apache 2.0</i> <br><br>  Este √© o controlador oficial do Kubernetes, que est√° sendo desenvolvido pela comunidade.  Obviamente, a partir do nome, ele √© baseado no nginx e √© complementado por um conjunto diferente de plugins Lua usados ‚Äã‚Äãpara implementar recursos adicionais.  Devido √† popularidade do pr√≥prio nginx e a modifica√ß√µes m√≠nimas quando usado como controlador, essa op√ß√£o pode ser o engenheiro m√©dio de configura√ß√£o mais simples e compreens√≠vel (com experi√™ncia na Web). <br><br><h3>  Ingress por NGINX Inc </h3><br>  <i>Site: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/nginxinc/kubernetes-ingress</a></i> <br>  <i>Licen√ßa: Apache 2.0</i> <br><br>  O produto oficial dos desenvolvedores nginx.  Possui uma vers√£o paga baseada no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NGINX Plus</a> .  A id√©ia principal √© um alto n√≠vel de estabilidade, compatibilidade reversa constante, aus√™ncia de m√≥dulos externos e aumento da velocidade declarada (em compara√ß√£o com o controlador oficial) alcan√ßada devido √† rejei√ß√£o de Lua. <br><br>  A vers√£o gratuita foi significativamente reduzida, inclusive quando comparada com o controlador oficial (devido √† falta dos mesmos m√≥dulos Lua).  O sistema pago ao mesmo tempo possui uma funcionalidade adicional bastante ampla: m√©tricas em tempo real, valida√ß√£o de JWT, verifica√ß√µes de integridade ativas e muito mais.  Uma vantagem importante sobre o NGINX Ingress √© o suporte total ao tr√°fego TCP / UDP (e tamb√©m na vers√£o da comunidade!).  A desvantagem √© a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">falta de</a> recursos para distribui√ß√£o de tr√°fego, que, no entanto, "tem a maior prioridade para os desenvolvedores", mas leva tempo para ser implementado. <br><br><h3>  Kong Ingress </h3><br>  <i>Site: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/Kong/kubernetes-ingress-controller</a></i> <br>  <i>Licen√ßa: Apache 2.0</i> <br><br>  Produto desenvolvido por Kong Inc.  em duas vers√µes: comercial e gratuita.  √â baseado no nginx, cujos recursos s√£o expandidos por um grande n√∫mero de m√≥dulos em Lua. <br><br>  Inicialmente, ele estava focado no processamento e roteamento de solicita√ß√µes de API, ou seja,  como o API Gateway, mas no momento ele se tornou um controlador de ingresso completo.  Principais vantagens: muitos m√≥dulos adicionais (incluindo desenvolvedores de terceiros) que s√£o f√°ceis de instalar e configurar e com os quais uma ampla variedade de recursos adicionais √© implementada.  No entanto, os recursos internos j√° oferecem muitos recursos.  A configura√ß√£o do trabalho √© feita usando recursos CRD. <br><br>  Uma caracter√≠stica importante do produto - trabalhar dentro do mesmo circuito (em vez de espa√ßo entre nomes) √© um t√≥pico controverso: para alguns, parece uma desvantagem (voc√™ precisa produzir entidades para cada circuito) e para algu√©m √© um recurso ( <i>um</i> n√≠vel mais alto de isolamento, porque se um controlador estiver quebrado, o problema ser√° limitado apenas a um circuito). <br><br><h3>  Traefik </h3><br>  <i>Website: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/containous/traefik</a></i> <br>  <i>Licen√ßa: MIT</i> <br><br>  Um proxy criado originalmente para trabalhar com o roteamento de solicita√ß√µes de microsservi√ßos e seu ambiente din√¢mico.  Portanto, muitos recursos √∫teis: atualiza√ß√£o completa da configura√ß√£o sem reinicializa√ß√µes, suporte a um grande n√∫mero de m√©todos de balanceamento, interface da web, m√©tricas de encaminhamento, suporte a v√°rios protocolos, APIs REST, releases can√°rios e muito mais.  Um recurso interessante tamb√©m √© o suporte para certificados Let's Encrypt fora da caixa.  A desvantagem √© que, para a organiza√ß√£o de alta disponibilidade (HA), o controlador precisar√° instalar e conectar seu pr√≥prio armazenamento KV. <br><br><h3>  HAProxy </h3><br>  <i>Website: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/jcmoraisjr/haproxy-ingress</a></i> <br>  <i>Licen√ßa: Apache 2.0</i> <br><br>  O HAProxy √© conhecido h√° muito tempo como um balanceador de proxy e tr√°fego.  Como parte do cluster Kubernetes, oferece uma atualiza√ß√£o de configura√ß√£o "suave" (sem perda de tr√°fego), descoberta de servi√ßo baseada em DNS, configura√ß√£o din√¢mica usando a API.  A personaliza√ß√£o completa do modelo de configura√ß√£o por meio da substitui√ß√£o do CM'a, bem como a possibilidade de usar as fun√ß√µes da biblioteca Sprig, podem se tornar atraentes.  Em geral, o foco principal da solu√ß√£o √© a alta velocidade, seu otimismo e efici√™ncia nos recursos consumidos.  A vantagem do controlador √© suportar um n√∫mero recorde de diferentes m√©todos de balanceamento. <br><br><h3>  Voyager </h3><br>  <i>Site: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/appscode/voyager</a></i> <br>  <i>Licen√ßa: Apache 2.0</i> <br><br>  Controlador baseado em HAproxy, posicionado como uma solu√ß√£o universal que suporta amplos recursos em um grande n√∫mero de fornecedores.  A oportunidade √© proposta para equilibrar o tr√°fego em L7 e L4, e equilibrar o tr√°fego TCP L4 como um todo pode ser chamado de um dos principais recursos da solu√ß√£o. <br><br><h3>  Contorno </h3><br>  <i>Website: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/heptio/contour</a></i> <br>  <i>Licen√ßa: Apache 2.0</i> <br><br>  O enviado n√£o apenas lan√ßou as bases dessa solu√ß√£o: ela foi desenvolvida em <i>conjunto</i> com os autores desse proxy popular.  Um recurso importante √© a capacidade de dividir o gerenciamento de recursos do Ingress usando os recursos CRD do IngressRoute.  Para organiza√ß√µes com muitas equipes de desenvolvimento usando um √∫nico cluster, isso ajuda a maximizar a seguran√ßa do tr√°fego nos circuitos vizinhos e a proteg√™-los contra erros ao alterar os recursos do Ingress. <br><br>  Ele tamb√©m oferece um conjunto expandido de m√©todos de balanceamento (h√° espelhamento de solicita√ß√µes, novas tentativas autom√°ticas, restri√ß√£o na taxa de solicita√ß√µes e muito mais), monitoramento detalhado do fluxo de tr√°fego e falhas.  Talvez para alguns seja uma desvantagem significativa da falta de suporte para sess√µes complicadas (embora o trabalho <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">j√°</a> esteja <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em andamento</a> ). <br><br><h3>  Isstio ingress </h3><br>  <i>Website: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">istio.io/docs/tasks/traffic-management/ingress</a></i> <br>  <i>Licen√ßa: Apache 2.0</i> <br><br>  Uma solu√ß√£o abrangente de malha de servi√ßo, que n√£o √© apenas um controlador do Ingress que controla o tr√°fego recebido de fora, mas tamb√©m controla todo o tr√°fego no cluster.  Sob o cap√¥, o Envoy √© usado como um proxy de side-car para cada servi√ßo.  Em ess√™ncia, essa √© uma grande combina√ß√£o que ‚Äúpode fazer qualquer coisa‚Äù, e sua id√©ia principal √© m√°xima gerenciabilidade, extensibilidade, seguran√ßa e transpar√™ncia.  Com ele, voc√™ pode ajustar o roteamento de tr√°fego, a autoriza√ß√£o de acesso entre servi√ßos, balanceamento, monitoramento, libera√ß√µes de can√°rios e muito mais.  Leia mais sobre o Istio na s√©rie de artigos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Voltar aos microsservi√ßos com Istio</a> . <br><br><h3>  Embaixador </h3><br>  <i>Website: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/datawire/ambassador</a></i> <br>  <i>Licen√ßa: Apache 2.0</i> <br><br>  Outra solu√ß√£o baseada no enviado.  Tem uma vers√£o gratuita e comercial.  Est√° posicionado como "completamente nativo do Kubernetes", o que traz vantagens correspondentes (forte integra√ß√£o com m√©todos e entidades do cluster K8s). <br><br><h2>  Tabela de compara√ß√£o </h2><br>  Portanto, o cl√≠max do artigo √© esta enorme tabela: <br><br> <a href=""><img src="https://habrastorage.org/webt/ss/wh/lj/sswhljo-rjkms7nadtyewqkxrdi.png"></a> <br><br>  √â clic√°vel para uma visualiza√ß√£o mais detalhada e tamb√©m est√° dispon√≠vel no formato do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Planilhas Google</a> . <br><br><h2>  Resumir </h2><br>  O objetivo do artigo √© fornecer uma compreens√£o mais completa (no entanto, absolutamente n√£o exaustiva!) De que escolha fazer no seu caso particular.  Como sempre, cada controlador tem suas pr√≥prias vantagens e desvantagens ... <br><br>  O cl√°ssico Kubernetes Ingress √© bom por sua acessibilidade e comprova√ß√£o, bastante rico em recursos - em geral, deve ser "o suficiente para os olhos".  No entanto, se houver um aumento nos requisitos de estabilidade, n√≠vel de recursos e desenvolvimento, vale a pena prestar aten√ß√£o ao Ingress com o NGINX Plus e uma assinatura paga.  Kong possui um rico conjunto de plug-ins (e, consequentemente, os recursos fornecidos por eles), e na vers√£o paga h√° ainda mais deles.  Possui amplas oportunidades para trabalhar como um API Gateway, configurar dinamicamente com base em recursos CRD, bem como servi√ßos b√°sicos do Kubernetes. <br><br>  Com os requisitos aumentados para os m√©todos de balanceamento e autoriza√ß√£o, d√™ uma olhada no Traefik e no HAProxy.  Estes s√£o projetos de c√≥digo aberto, comprovados ao longo dos anos, muito est√°veis ‚Äã‚Äãe em desenvolvimento ativo.  O contorno existe h√° alguns anos, mas ainda parece jovem demais e possui apenas os recursos b√°sicos adicionados ao Envoy.  Se houver requisitos para a presen√ßa / incorpora√ß√£o do WAF antes da aplica√ß√£o, voc√™ deve prestar aten√ß√£o ao mesmo Ingress da Kubernetes ou HAProxy. <br><br>  E os recursos mais ricos s√£o os produtos criados com base no Envoy, especialmente no Istio.  Parece ser uma solu√ß√£o complexa que ‚Äúpode fazer qualquer coisa‚Äù, o que, no entanto, tamb√©m significa um limite de entrada significativamente mais alto para configura√ß√£o / inicializa√ß√£o / administra√ß√£o do que outras solu√ß√µes. <br><br>  Escolhemos e ainda usamos o Kubernetes Ingress, que cobre 80-90% das necessidades, como controlador padr√£o.  √â bastante confi√°vel, f√°cil de configurar, expandir.  No caso geral, na aus√™ncia de requisitos espec√≠ficos, deve atender √† maioria dos clusters / aplicativos.  Dos mesmos produtos vers√°teis e relativamente simples, Traefik e HAProxy podem ser recomendados. <br><br><h2>  PS </h2><br>  Leia tamb√©m em nosso blog: <br><br><ul><li>  ‚ÄúVoltar aos microsservi√ßos com o Istio‚Äù: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">parte 1 (familiaridade com os principais recursos)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">parte 2 (roteamento, controle de tr√°fego)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">parte 3 (autentica√ß√£o e autoriza√ß√£o)</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dicas e truques do Kubernetes: p√°ginas de erro personalizadas no NGINX Ingress</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dicas e truques do Kubernetes: acesso aos sites de desenvolvimento</a> . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt447180/">https://habr.com/ru/post/pt447180/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt447166/index.html">Help Desk em 3 horas. Automatize processos de neg√≥cios simples em PowerApps, Flow e Teams</a></li>
<li><a href="../pt447168/index.html">Sistema local de aquisi√ß√£o de dados aut√¥nomos</a></li>
<li><a href="../pt447172/index.html">Quase o canal MIMO mais f√°cil com desbotamento (modelo Kronecker inclu√≠do)</a></li>
<li><a href="../pt447174/index.html">O mito da fome do pessoal ou as regras b√°sicas para vagas</a></li>
<li><a href="../pt447178/index.html">5 oportunidades efetivas para o uso da tecnologia de minera√ß√£o de processos</a></li>
<li><a href="../pt447182/index.html">Sistemas operacionais: tr√™s pe√ßas f√°ceis. Parte 3: API do processo (tradu√ß√£o)</a></li>
<li><a href="../pt447184/index.html">O que √© a oferta inicial de troca (IEO) e como ela √© diferente da OIC?</a></li>
<li><a href="../pt447186/index.html">Como lan√ßar um prot√≥tipo de ML em um dia. Relat√≥rio Yandex.Taxi</a></li>
<li><a href="../pt447190/index.html">Previs√µes de matem√°ticos. Analisamos os principais m√©todos para detectar anomalias</a></li>
<li><a href="../pt447192/index.html">Que papel a tecnologia pode desempenhar na arte antiga da mistura de especiarias?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>