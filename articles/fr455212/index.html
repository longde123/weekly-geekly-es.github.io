<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úä üèÄ üë©üèª‚Äçüé§ Performances des applications r√©seau Linux. Pr√©sentation ‚ñ™Ô∏è üîó ü•ì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les applications Web sont d√©sormais largement utilis√©es et HTTP est la part du lion de tous les protocoles de transport. En √©tudiant les nuances du d√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Performances des applications r√©seau Linux. Pr√©sentation</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455212/"> Les applications Web sont d√©sormais largement utilis√©es et HTTP est la part du lion de tous les protocoles de transport.  En √©tudiant les nuances du d√©veloppement d'applications Web, la plupart d'entre elles accordent tr√®s peu d'attention au syst√®me d'exploitation sur lequel ces applications s'ex√©cutent.  La s√©paration du d√©veloppement (Dev) et de l'exploitation (Ops) n'a fait qu'empirer les choses.  Mais avec la propagation de la culture DevOps, les d√©veloppeurs commencent √† assumer la responsabilit√© du lancement de leurs applications dans le cloud, il est donc tr√®s utile pour eux de se familiariser avec le backend du syst√®me d'exploitation.  Cela est particuli√®rement utile si vous essayez de d√©ployer un syst√®me pour des milliers ou des dizaines de milliers de connexions simultan√©es. <br><br>  Les limitations des services Web sont tr√®s similaires √† celles des autres applications.  Qu'il s'agisse d'√©quilibreurs de charge ou de serveurs de bases de donn√©es, toutes ces applications ont des probl√®mes similaires dans un environnement hautes performances.  Comprendre ces limitations fondamentales et comment les surmonter en g√©n√©ral vous aidera √† √©valuer les performances et l'√©volutivit√© de vos applications Web. <br><br>  J'√©cris cette s√©rie d'articles en r√©ponse aux questions de jeunes d√©veloppeurs qui souhaitent devenir des architectes syst√®me bien inform√©s.  Il est impossible de comprendre clairement les m√©thodes d'optimisation des applications Linux sans plonger dans les bases de leur fonctionnement au niveau du syst√®me d'exploitation.  Bien qu'il existe de nombreux types d'applications, dans cette s√©rie, je souhaite explorer les applications r√©seau, pas celles de bureau telles qu'un navigateur ou un √©diteur de texte.  Ce mat√©riel est destin√© aux d√©veloppeurs et architectes qui souhaitent comprendre comment fonctionnent les programmes Linux ou Unix et comment les structurer pour des performances √©lev√©es. <br><a name="habracut"></a><br>  Linux est un syst√®me d'exploitation <i>serveur</i> , et le plus souvent, vos applications s'ex√©cutent sur ce syst√®me d'exploitation particulier.  Bien que je dise ¬´Linux¬ª, la plupart du temps, vous pouvez supposer en toute s√©curit√© que tous les syst√®mes d'exploitation de type Unix sont destin√©s.  Cependant, je n'ai pas test√© le code d'accompagnement sur d'autres syst√®mes.  Donc, si vous √™tes int√©ress√© par FreeBSD ou OpenBSD, le r√©sultat peut varier.  Lorsque j'essaie quelque chose de sp√©cifique √† Linux, je le signale. <br><br>  Bien que vous puissiez utiliser ces connaissances pour cr√©er une application √† partir de z√©ro, et qu'elle sera parfaitement optimis√©e, il vaut mieux ne pas le faire.  Si vous √©crivez un nouveau serveur Web en C ou C ++ pour l'application m√©tier de votre organisation, cela peut √™tre votre dernier jour de travail.  Cependant, la connaissance de la structure de ces applications aidera √† s√©lectionner les programmes existants.  Vous pouvez comparer des syst√®mes bas√©s sur des processus avec des syst√®mes bas√©s sur des threads et des √©v√©nements.  Vous comprendrez et comprendrez pourquoi Nginx fonctionne mieux que Apache httpd, pourquoi une application Python bas√©e sur Tornado peut servir plus d'utilisateurs qu'une application Python bas√©e sur Django. <br><br><h1>  ZeroHTTPd: outil d'apprentissage </h1><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://github.com/shuveb/zero">ZeroHTTPd</a> est un serveur Web que j'ai √©crit √† partir de z√©ro en C comme outil de formation.  Il n'a pas de d√©pendances externes, y compris l'acc√®s √† Redis.  Nous ex√©cutons nos propres routines Redis.  Voir ci-dessous pour plus de d√©tails. <br><br>  Bien que nous puissions discuter de la th√©orie pendant longtemps, il n'y a rien de mieux que d'√©crire du code, de l'ex√©cuter et de comparer toutes les architectures de serveurs.  C'est la m√©thode la plus √©vidente.  Par cons√©quent, nous allons √©crire un simple serveur Web ZeroHTTPd en utilisant chaque mod√®le: bas√© sur les processus, les threads et les √©v√©nements.  V√©rifions chacun de ces serveurs et voyons comment ils fonctionnent par rapport aux autres.  ZeroHTTPd est impl√©ment√© dans un seul fichier C. Le serveur bas√© sur les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©v√©nements</a> comprend <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">uthash</a> , une excellente impl√©mentation de table de hachage <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">livr√©e</a> dans un seul fichier d'en-t√™te.  Dans d'autres cas, il n'y a pas de d√©pendances, afin de ne pas compliquer le projet. <br><br>  Il y a beaucoup de commentaires dans le code pour aider √† le trier.  √âtant un simple serveur Web en quelques lignes de code, ZeroHTTPd est √©galement un cadre de d√©veloppement Web minimal.  Il a des fonctionnalit√©s limit√©es, mais il est capable de produire des fichiers statiques et des pages ¬´dynamiques¬ª tr√®s simples.  Je dois dire que ZeroHTTPd est bien adapt√© pour apprendre √† cr√©er des applications Linux hautes performances.  Dans l'ensemble, la plupart des services Web attendent les demandes, les v√©rifient et les traitent.  C'est exactement ce que fera ZeroHTTPd.  Ceci est un outil d'apprentissage, pas un outil de production.  Il n'est pas bon dans la gestion des erreurs et a peu de chances de se vanter des meilleures pratiques de s√©curit√© (oh oui, j'ai utilis√© <code>strcpy</code> ) ou des tours abstrus de C. Mais j'esp√®re qu'il fait bien son travail. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cd0/fd7/c03/cd0fd7c03567dcb48c1e615a63a19c48.png"><br>  <i><font color="gray">Page d'accueil ZeroHTTPd.</font></i>  <i><font color="gray">Il peut produire diff√©rents types de fichiers, y compris des images</font></i> <br><br><h1>  Demande de livre d'or </h1><br>  Les applications Web modernes ne sont g√©n√©ralement pas limit√©es aux fichiers statiques.  Ils ont des interactions complexes avec diverses bases de donn√©es, caches, etc. Par cons√©quent, nous allons cr√©er une application Web simple appel√©e ¬´Livre d'or¬ª, o√π les visiteurs laissent des entr√©es sous leur nom.  Le livre d'or enregistre les entr√©es laiss√©es pr√©c√©demment.  Il y a aussi un compteur de visiteurs au bas de la page. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/997/b6b/39e/997b6b39e116c216a13422e1a3fcd7b6.png"><br>  <i><font color="gray">Application Web du livre d'or ZeroHTTPd</font></i> <br><br>  Le compteur des visiteurs et les entr√©es du livre d'or sont stock√©s dans Redis.  Pour la communication avec Redis, des proc√©dures propres sont impl√©ment√©es, elles sont ind√©pendantes d'une biblioth√®que externe.  Je ne suis pas un grand fan du d√©veloppement de code local lorsqu'il existe des solutions accessibles au public et bien test√©es.  Mais l'objectif de ZeroHTTPd est d'√©tudier les performances de Linux et l'acc√®s aux services externes, tout en servant les requ√™tes HTTP affecte s√©rieusement les performances.  Nous devons contr√¥ler enti√®rement les communications avec Redis dans chacune de nos architectures de serveurs.  Dans une architecture, nous utilisons des appels de blocage, dans d'autres, nous utilisons des proc√©dures bas√©es sur des √©v√©nements.  L'utilisation d'une biblioth√®que cliente Redis externe ne donnera pas un tel contr√¥le.  De plus, notre petit client Redis n'effectue que quelques fonctions (obtention, d√©finition et augmentation d'une cl√©; obtention et ajout √† un tableau).  De plus, le protocole Redis est exceptionnellement √©l√©gant et simple.  Il n'a m√™me pas besoin d'√™tre sp√©cialement enseign√©.  Le fait que le protocole effectue tout le travail en une centaine de lignes de code indique √† quel point il est bien pens√©. <br><br>  La figure suivante montre l'application lorsque le client (navigateur) demande <code>/guestbookURL</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f4/6cc/bb0/9f46ccbb030a53a1822678afac4e518f.png"><br>  <i><font color="gray">Le m√©canisme de l'application du livre d'or</font></i> <br><br>  Lorsque vous devez cr√©er une page de livre d'or, il y a un appel au syst√®me de fichiers pour lire le mod√®le en m√©moire et trois appels r√©seau √† Redis.  Le fichier mod√®le contient la plupart du contenu HTML de la page dans la capture d'√©cran ci-dessus.  Il existe √©galement des espaces r√©serv√©s sp√©ciaux pour la partie dynamique du contenu: enregistrements et compteur de visiteurs.  Nous les obtenons de Redis, les ins√©rons sur la page et donnons au client un contenu complet.  Un troisi√®me appel √† Redis peut √™tre √©vit√© car Redis renvoie une nouvelle valeur de cl√© lorsqu'il est incr√©ment√©.  Cependant, pour notre serveur avec une architecture bas√©e sur des √©v√©nements asynchrones, de nombreux appels r√©seau sont un bon test √† des fins de formation.  Ainsi, nous rejetons la valeur de retour de Redis sur le nombre de visiteurs et la demandons dans un appel s√©par√©. <br><br><h1>  Architectures de serveurs ZeroHTTPd </h1><br>  Nous construisons sept versions de ZeroHTTPd avec les m√™mes fonctionnalit√©s mais des architectures diff√©rentes: <br><br><ul><li>  It√©ratif <br></li><li>  Serveur Fork (un processus enfant par demande) <br></li><li>  Serveur de pr√©-fork (processus de pr√©-bifurcation) <br></li><li>  Serveur avec threads (un thread par demande) <br></li><li>  Serveur avec pr√©-threading <br></li><li>  Architecture bas√©e sur <code>poll()</code> <br></li><li>  Architecture d'Epoll </li></ul><br>  Nous mesurons les performances de chaque architecture en chargeant le serveur avec des requ√™tes HTTP.  Mais lorsque l'on compare des architectures avec un haut degr√© de parall√©lisme, le nombre de requ√™tes augmente.  Nous testons trois fois et consid√©rons la moyenne. <br><br><h1>  M√©thodologie de test </h1><br><img src="https://habrastorage.org/getpro/habr/post_images/d37/97d/a33/d3797da3301e7b3d8b9e93fbfb3aeafa.png"><br>  <i><font color="gray">Installation pour tester les contraintes ZeroHTTPd</font></i> <br><br>  Il est important que lors des tests, tous les composants ne fonctionnent pas sur la m√™me machine.  Dans ce cas, le syst√®me d'exploitation entra√Æne une surcharge de planification suppl√©mentaire, car les composants sont en concurrence pour le processeur.  La mesure de la surcharge du syst√®me d'exploitation de chacune des architectures de serveur s√©lectionn√©es est l'un des objectifs les plus importants de cet exercice.  L'ajout de plus de variables sera pr√©judiciable au processus.  Par cons√©quent, le param√®tre de la figure ci-dessus fonctionne mieux. <br><br><h3>  Ce que fait chacun de ces serveurs </h3><br><ul><li>  load.unixism.net: ici, nous ex√©cutons <code>ab</code> , l'utilitaire Apache Benchmark.  Il g√©n√®re la charge n√©cessaire pour tester nos architectures de serveurs. <br></li><li>  nginx.unixism.net: parfois nous voulons ex√©cuter plus d'une instance d'un programme serveur.  Pour cela, le serveur Nginx avec les param√®tres appropri√©s fonctionne comme un √©quilibreur de charge provenant de <i>ab</i> vers nos processus serveur. <br></li><li>  zerohttpd.unixism.net: nous ex√©cutons ici nos programmes serveurs sur sept architectures diff√©rentes, une √† la fois. <br></li><li>  redis.unixism.net: le d√©mon Redis s'ex√©cute sur ce serveur, o√π les entr√©es sont stock√©es dans le livre d'or et le compteur des visiteurs. </li></ul><br>  Tous les serveurs fonctionnent sur un seul c≈ìur de processeur.  L'id√©e est d'√©valuer les performances maximales de chaque architecture.  √âtant donn√© que tous les programmes de serveur sont test√©s sur le m√™me mat√©riel, il s'agit du niveau de base pour les comparer.  Ma configuration de test se compose de serveurs virtuels lou√©s √† Digital Ocean. <br><br><h3>  Que mesurons-nous? </h3><br>  Vous pouvez mesurer diff√©rents indicateurs.  Nous √©valuons les performances de chaque architecture dans cette configuration, en chargeant les serveurs avec des requ√™tes √† diff√©rents niveaux de simultan√©it√©: la charge passe de 20 √† 15 000 utilisateurs simultan√©s. <br><br><h1>  R√©sultats des tests </h1><br>  Le diagramme suivant montre les performances des serveurs sur diff√©rentes architectures √† diff√©rents niveaux de concurrence.  L'axe des y est le nombre de requ√™tes par seconde, l'axe des x est les connexions parall√®les. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f5/01a/a17/4f501aa1794e1d9eddc4f57fad5e96d3.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ff7/9bc/306/ff79bc306edde1b6f1bc39b4d2aeaa38.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b30/b9b/322/b30b9b322ec0d8fa20bfc5e7010a7a5d.png"><br><br>  Voici un tableau avec les r√©sultats. <br><br><div class="scrollable-table"><table><tbody><tr><td></td><td colspan="7">  demandes par seconde </td></tr><tr><td>  <strong>simultan√©it√©</strong> </td><td>  <strong>it√©ratif</strong> </td><td>  <strong>fourchette</strong> </td><td>  <strong>pr√© fourche</strong> </td><td>  <strong>streaming</strong> </td><td>  <strong>pr√©-streaming</strong> </td><td>  <strong>sondage</strong> </td><td>  <strong>epoll</strong> </td></tr><tr><td>  20 </td><td>  7 </td><td>  112 </td><td>  2100 </td><td>  1800 </td><td>  2250 </td><td>  1900 </td><td>  2050 </td></tr><tr><td>  50 </td><td>  7 </td><td>  190 </td><td>  2200 </td><td>  1700 </td><td>  2200 </td><td>  2000 </td><td>  2000 </td></tr><tr><td>  100 </td><td>  7 </td><td>  245 </td><td>  2200 </td><td>  1700 </td><td>  2200 </td><td>  2150 </td><td>  2100 </td></tr><tr><td>  200 </td><td>  7 </td><td>  330 </td><td>  2300 </td><td>  1750 </td><td>  2300 </td><td>  2200 </td><td>  2100 </td></tr><tr><td>  300 </td><td>  - </td><td>  380 </td><td>  2200 </td><td>  1800 </td><td>  2400 </td><td>  2250 </td><td>  2150 </td></tr><tr><td>  400 </td><td>  - </td><td>  410 </td><td>  2200 </td><td>  1750 </td><td>  2600 </td><td>  2000 </td><td>  2000 </td></tr><tr><td>  500 </td><td>  - </td><td>  440 </td><td>  2300 </td><td>  1850 </td><td>  2700 </td><td>  1900 </td><td>  2212 </td></tr><tr><td>  600 </td><td>  - </td><td>  460 </td><td>  2400 </td><td>  1800 </td><td>  2500 </td><td>  1700 </td><td>  2519 </td></tr><tr><td>  700 </td><td>  - </td><td>  460 </td><td>  2400 </td><td>  1600 </td><td>  2490 </td><td>  1550 </td><td>  2607 </td></tr><tr><td>  800 </td><td>  - </td><td>  460 </td><td>  2400 </td><td>  1600 </td><td>  2540 </td><td>  1400 </td><td>  2553 </td></tr><tr><td>  900 </td><td>  - </td><td>  460 </td><td>  2300 </td><td>  1600 </td><td>  2472 </td><td>  1200 </td><td>  2567 </td></tr><tr><td>  1000 </td><td>  - </td><td>  475 </td><td>  2300 </td><td>  1700 </td><td>  2485 </td><td>  1150 </td><td>  2439 </td></tr><tr><td>  1500 </td><td>  - </td><td>  490 </td><td>  2400 </td><td>  1550 </td><td>  2620 </td><td>  900 </td><td>  2479 </td></tr><tr><td>  2000 </td><td>  - </td><td>  350 </td><td>  2400 </td><td>  1400 </td><td>  2396 </td><td>  550 </td><td>  2200 </td></tr><tr><td>  2500 </td><td>  - </td><td>  280 </td><td>  2100 </td><td>  1300 </td><td>  2453 </td><td>  490 </td><td>  2262 </td></tr><tr><td>  3000 </td><td>  - </td><td>  280 </td><td>  1900 </td><td>  1250 </td><td>  2502 </td><td>  large diffusion </td><td>  2138 </td></tr><tr><td>  5000 </td><td>  - </td><td>  large diffusion </td><td>  1600 </td><td>  1100 </td><td>  2519 </td><td>  - </td><td>  2235 </td></tr><tr><td>  8000 </td><td>  - </td><td>  - </td><td>  1200 </td><td>  large diffusion </td><td>  2451 </td><td>  - </td><td>  2100 </td></tr><tr><td>  10 000 </td><td>  - </td><td>  - </td><td>  large diffusion </td><td>  - </td><td>  2200 </td><td>  - </td><td>  2200 </td></tr><tr><td>  11 000 </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  2200 </td><td>  - </td><td>  2122 </td></tr><tr><td>  12 000 </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  970 </td><td>  - </td><td>  1958 </td></tr><tr><td>  13 000 </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  730 </td><td>  - </td><td>  1897 </td></tr><tr><td>  14 000 </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  590 </td><td>  - </td><td>  1466 </td></tr><tr><td>  15 000 </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  532 </td><td>  - </td><td>  1281 </td></tr></tbody></table></div><br>  Il ressort du graphique et du tableau qu'au-dessus de 8 000 demandes simultan√©es, il ne nous reste que deux joueurs: pre-fork et epoll.  Au fur et √† mesure que la charge augmente, le serveur bas√© sur les sondages fonctionne moins bien que le streaming.  L'architecture de pr√©-threading est en concurrence avec epoll: cela prouve √† quel point le noyau Linux planifie un grand nombre de threads. <br><br><h1>  Code source ZeroHTTPd </h1><br>  Le code source de ZeroHTTPd est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://github.com/shuveb/zero">ici</a> .  Chaque architecture a un r√©pertoire distinct. <br><br><pre>  ZeroHTTPd
 ‚îÇ
 ‚îú‚îÄ‚îÄ 01_iterative
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 ‚îú‚îÄ‚îÄ 02_forking
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 ‚îú‚îÄ‚îÄ 03_preforking
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 ‚îú‚îÄ‚îÄ 04_threading
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 ‚îú‚îÄ‚îÄ 05_prethreading
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 ‚îú‚îÄ‚îÄ 06_poll
 ‚îÇ ‚îú‚îÄ‚îÄ main.c
 ‚îú‚îÄ‚îÄ 07_epoll
 ‚îÇ ‚îî‚îÄ‚îÄ main.c
 ‚îú‚îÄ‚îÄ Makefile
 ‚îú‚îÄ‚îÄ public
 ‚îÇ ‚îú‚îÄ‚îÄ index.html
 ‚îÇ ‚îî‚îÄ‚îÄ tux.png
 ‚îî‚îÄ‚îÄ mod√®les
     ‚îî‚îÄ‚îÄ livre d'or
         ‚îî‚îÄ‚îÄ index.html </pre><br>  En plus de sept r√©pertoires pour toutes les architectures, il y en a deux autres dans le r√©pertoire de niveau sup√©rieur: public et mod√®les.  Le premier contient le fichier index.html et l'image de la premi√®re capture d'√©cran.  D'autres fichiers et dossiers peuvent y √™tre plac√©s et ZeroHTTPd devrait √©mettre ces fichiers statiques sans probl√®me.  Si le chemin d'acc√®s dans le navigateur correspond au chemin d'acc√®s dans le dossier public, ZeroHTTPd recherche le fichier index.html dans ce r√©pertoire.  Le contenu du livre d'or est g√©n√©r√© dynamiquement.  Il n'a que la page principale et son contenu est bas√© sur le fichier 'templates / guestbook / index.html'.  ZeroHTTPd ajoute facilement des pages dynamiques pour l'expansion.  L'id√©e est que les utilisateurs peuvent ajouter des mod√®les √† ce r√©pertoire et √©tendre ZeroHTTPd selon les besoins. <br><br>  Pour cr√©er les sept serveurs, ex√©cutez <code>make all</code> partir du r√©pertoire de niveau sup√©rieur - et toutes les versions appara√Ætront dans ce r√©pertoire.  Les ex√©cutables recherchent les r√©pertoires public et templates dans le r√©pertoire d'o√π ils s'ex√©cutent. <br><br><h1>  API Linux </h1><br>  Pour comprendre les informations de cette s√©rie d'articles, il n'est pas n√©cessaire de bien conna√Ætre l'API Linux.  Cependant, je recommande de lire plus sur ce sujet, il existe de nombreuses ressources de r√©f√©rence sur le Web.  Bien que nous couvrirons plusieurs cat√©gories d'API Linux, nous nous concentrerons principalement sur les processus, les threads, les √©v√©nements et la pile r√©seau.  En plus des livres et des articles sur l'API Linux, je recommande √©galement de lire le mana pour les appels syst√®me et les fonctions de biblioth√®que utilis√©es. <br><br><h1>  Performance et √©volutivit√© </h1><br>  Une note sur les performances et l'√©volutivit√©.  Th√©oriquement, il n'y a aucun lien entre eux.  Vous disposez peut-√™tre d'un service Web qui fonctionne tr√®s bien, avec un temps de r√©ponse de quelques millisecondes, mais il n'est pas du tout √©volutif.  De m√™me, il peut y avoir une application Web mal ex√©cut√©e qui prend quelques secondes pour r√©pondre, mais elle √©volue √† des dizaines pour g√©rer des dizaines de milliers d'utilisateurs simultan√©s.  Cependant, la combinaison de hautes performances et d'√©volutivit√© est une combinaison tr√®s puissante.  Les applications hautes performances utilisent g√©n√©ralement les ressources de mani√®re √©conomique et servent ainsi efficacement plus d'utilisateurs simultan√©s sur le serveur, ce qui r√©duit les co√ªts. <br><br><h1>  T√¢ches CPU et E / S </h1><br>  Enfin, il existe toujours deux types de t√¢ches possibles en informatique: pour les E / S et le CPU.  La r√©ception de requ√™tes via Internet (E / S r√©seau), la maintenance des fichiers (E / S r√©seau et disque), la communication avec la base de donn√©es (E / S r√©seau et disque) sont toutes des actions d'E / S.  Certaines requ√™tes de base de donn√©es peuvent charger un peu le CPU (tri, calcul de la moyenne d'un million de r√©sultats, etc.).  La plupart des applications Web sont limit√©es par le nombre maximal d'E / S possibles, et le processeur est rarement utilis√© √† pleine capacit√©.  Lorsque vous voyez que certains processeurs utilisent beaucoup de processeurs, c'est probablement un signe de mauvaise architecture d'application.  Cela peut signifier que les ressources CPU sont d√©pens√©es pour le contr√¥le de processus et la commutation de contexte - et ce n'est pas enti√®rement utile.  Si vous faites quelque chose comme le traitement d'image, la conversion audio ou l'apprentissage automatique, l'application n√©cessite de puissantes ressources CPU.  Mais pour la plupart des applications, ce n'est pas le cas. <br><br><h1>  En savoir plus sur les architectures de serveurs </h1><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie I. Architecture it√©rative</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie II</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Serveurs Fork</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie III.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Serveurs pr√©-fork</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie IV</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Serveurs avec threads</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie V. Serveurs avec pr√©-cr√©ation de threads</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie VI.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Architecture bas√©e sur les sondages</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie VII.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Architecture d'Epoll</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr455212/">https://habr.com/ru/post/fr455212/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr455200/index.html">Importation dynamique en JavaScript</a></li>
<li><a href="../fr455202/index.html">Big data dans la gestion h√¥teli√®re: une utilisation incontournable</a></li>
<li><a href="../fr455204/index.html">L'√©coutille du vaisseau spatial Soyouz MS-14 s'est av√©r√©e √©troite pour le robot FEDOR</a></li>
<li><a href="../fr455206/index.html">5 questions tests pour une recherche d'emploi rapide en Allemagne</a></li>
<li><a href="../fr455210/index.html">Cardage et bo√Ætes noires: comment les distributeurs automatiques de billets sont pirat√©s aujourd'hui</a></li>
<li><a href="../fr455214/index.html">Stanford, nous semblons avoir un probl√®me ...</a></li>
<li><a href="../fr455216/index.html">Compteur de vitesse Doppler</a></li>
<li><a href="../fr455218/index.html">Approche √©cosyst√©mique de la technologie d'entreprise</a></li>
<li><a href="../fr455224/index.html">Finger Music: Jouez n'importe quoi avec les SpecDrums de Sphero</a></li>
<li><a href="../fr455226/index.html">Pourquoi appliquer un linguiste appliqu√©?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>