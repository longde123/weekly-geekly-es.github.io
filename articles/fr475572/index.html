<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêª üîØ ‚óºÔ∏è Logiciel open source pour LMS: comment le logiciel gratuit aide √† administrer les syst√®mes commerciaux critiques chez VTB ü¶É üë®‚Äçüåæ üîÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le syst√®me de support de documentation de notre banque est en constante √©volution et √©volutif, tandis que les exigences de vitesse et de tol√©rance aux...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Logiciel open source pour LMS: comment le logiciel gratuit aide √† administrer les syst√®mes commerciaux critiques chez VTB</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vtb/blog/475572/">  Le syst√®me de support de documentation de notre banque est en constante √©volution et √©volutif, tandis que les exigences de vitesse et de tol√©rance aux pannes ne font qu'augmenter.  √Ä un moment donn√©, l'entretien du LMS sans surveillance centralis√©e efficace est devenu trop risqu√©.  Pour s√©curiser les processus m√©tier chez VTB et simplifier le travail des administrateurs, nous avons impl√©ment√© une solution bas√©e sur une pile de technologies ouvertes.  Avec lui, nous pouvons r√©agir de mani√®re proactive aux incidents, en √©vitant les probl√®mes potentiels.  Under the cut - une histoire de notre exp√©rience dans l'utilisation de logiciels gratuits pour la surveillance de syst√®mes commerciaux √† grande √©chelle. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b05/e47/4d9/b05e474d91c2dfee13074c81bad76950.jpg"><br><a name="habracut"></a><br><h2>  Pourquoi surveiller un syst√®me de workflow </h2><br>  Depuis 2005, le syst√®me de documentation de VTB Bank est ¬´g√©r√©¬ª par le syst√®me CompanyMedia.  Le SDO emploie plus de 60 000 utilisateurs qui cr√©ent chaque mois plus d'un million de nouveaux documents.  Nos serveurs doivent fonctionner 24 heures sur 24: √† presque tout moment, il y a entre 2500 et 3000 personnes dans le syst√®me qui se connectent dans tout le pays, de Petropavlovsk-Kamchatsky √† Kaliningrad.  Chaque seconde de fonctionnement du LMS est de 10 √† 15 changements. <br><br>  Afin que le syst√®me remplisse clairement les t√¢ches qui lui sont assign√©es, nous avons d√©ploy√© une infrastructure √† tol√©rance de pannes utilisant des serveurs proxy, l'√©quilibrage des requ√™tes, la protection des informations, la recherche en texte int√©gral, les itin√©raires d'int√©gration et les sauvegardes.  D'√©normes ressources sont n√©cessaires pour soutenir et administrer un projet de cette ampleur.  Les administrateurs 24 heures sur 24 surveillent les informations de base sur le fonctionnement des serveurs, le chargement de la RAM, le temps processeur, le sous-syst√®me d'E / S, etc.  Mais, en plus de cela, des analyses plus subtiles sont n√©cessaires: <br><br><ul><li>  Calcul du temps pass√© √† ex√©cuter des sc√©narios d'affaires; <br></li><li>  suivi de la dynamique des performances du syst√®me et de la charge sur celui-ci; <br></li><li>  Rechercher les √©carts entre les composants du syst√®me et les exigences non fonctionnelles approuv√©es. <br></li></ul><br>  11 ans apr√®s l'introduction du LMS, la question de la r√©ponse proactive √† divers types d'erreurs s'est pos√©e de mani√®re particuli√®rement nette.  La direction de la banque s'est rendu compte que travailler sans moniteur ni console de la vie du syst√®me, c'est jouer avec le feu: la moindre d√©faillance d'un syst√®me d'entreprise de ce niveau est lourde de millions de pertes. <br><br>  En 2016, nous avons commenc√© √† introduire des outils pour l'identification rapide des probl√®mes de fonctionnement du LMS, y compris pour la surveillance des param√®tres en temps r√©el qui nous int√©ressent.  Auparavant, le syst√®me de surveillance des applications √©tait d√©ploy√© et test√© dans le cadre de l'infrastructure de la soci√©t√© InterTrust. <br><br><h2>  Comment tout a commenc√© </h2><br>  Aujourd'hui, un syst√®me centralis√© de surveillance des applications pour VTB SDO bas√© sur un logiciel open source aide √† pr√©venir la plupart des erreurs associ√©es √† la gestion des documents, √† classer rapidement et pr√©cis√©ment les probl√®mes et √† r√©pondre rapidement √† tout incident.  Il comprend deux sous-syst√®mes: <br><br><ul><li>  pour surveiller l'infrastructure informatique des services syst√®me; <br></li><li>  pour surveiller l'apparition d'erreurs dans le travail du LMS. <br></li></ul><br>  Tout a commenc√© avec la seule application de surveillance gratuite.  Apr√®s avoir pass√© en revue plusieurs options, nous avons opt√© pour le logiciel gratuit Zabbix, qui √©tait √† l'origine √©crit pour les services bancaires et l'√©quipement.  Ce syst√®me bas√© sur le Web PHP, qui peut stocker des donn√©es dans MySQL, PostgreSQL, SQLite ou Oracle Database, correspond parfaitement √† nos besoins. <br><br>  Zabbix ex√©cute ses agents sur chaque serveur et collecte des informations sur les m√©triques d'int√©r√™t en temps r√©el dans une base de donn√©es unique.  √Ä l'aide de l'application, il est pratique de collecter des donn√©es sur la charge des processeurs et de la RAM, sur l'utilisation du r√©seau et d'autres composants, de v√©rifier la disponibilit√© et la r√©action des services standard (SMTP ou HTTP), d'ex√©cuter des programmes externes et de prendre en charge la surveillance via SNMP. <br><br>  En d√©ployant Zabbix, nous avons mis en place des m√©triques mat√©rielles standard, et au d√©but c'√©tait suffisant.  Mais VTB SDO est en constante √©volution et croissance: en 2016, le nombre de serveurs a consid√©rablement augment√©, des processus de migration sont apparus, la Banque de Moscou, VTB Capital, VTB24 connect√©s au syst√®me.  Il y a moins de mesures standard et nous avons appris √† Zabbix √† suivre les informations sur la pr√©sence de files d'attente sur chacun des volumes connect√©s au serveur (√† partir de la zone Zabbix, il ne refl√®te que la file d'attente de disque g√©n√©rale), ainsi que sur le temps qu'il faut pour traiter une proc√©dure particuli√®re. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d3e/e05/b67/d3ee05b67fa8025031b1814ea975fbc5.jpg"><br><br>  De plus, nous avons √©quip√© le syst√®me de d√©clencheurs multiples - les conditions dans lesquelles une notification est envoy√©e √† l'administrateur (message √† Telegram, SMS √† un num√©ro de t√©l√©phone ou e-mail).  Les d√©clencheurs sont personnalisables pour n'importe quel ensemble de param√®tres.  Par exemple, vous pouvez sp√©cifier un certain pourcentage d'espace disque libre et le syst√®me informera l'administrateur lorsque le seuil sp√©cifi√© est atteint, ou informera si une proc√©dure d'arri√®re-plan prend plus de temps que d'habitude. <br><br><h2>  Connectivit√© Java et visualisation des donn√©es </h2><br>  Nous avons consid√©rablement √©largi la gamme des donn√©es analys√©es, mais bient√¥t cela n'a pas √©t√© suffisant pour une surveillance efficace.  Profitant du fait que CompanyMedia DLS est une application Java, nous nous sommes connect√©s √† la machine virtuelle Java via l'interface JMX et avons pu prendre directement les m√©triques Java.  De plus, non seulement les fonctions vitales Java standard, telles que l'intensit√© de la consommation GC ou Heap, mais aussi des √©chantillons sp√©cifiques directement li√©s au code ex√©cutable de l'application. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/569/a2a/56d/569a2a56d9b7e7e6956a78d13ed6ab5d.jpg"><br><br>  En 2017, environ un an apr√®s l'introduction du syst√®me de surveillance, il est devenu clair que pour un travail normal avec le tableau de donn√©es colossal collect√© dans Zabbix, il n'y a pas assez de visualisation - des √©crans complexes.  La meilleure solution √† ce probl√®me √©tait encore une fois un logiciel gratuit - Grafana, un tableau de bord pratique pour les mesures qui vous permet d'agr√©ger toutes les donn√©es sur un seul √©cran. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/228/3c0/def/2283c0def9fc3f5209baa8ccaec6edea.jpg"><br><br>  L'interface interactive de Grafana rappelle un syst√®me OLAP.  Le sous-syst√®me affiche les donn√©es que Zabbix re√ßoit sur un seul √©cran, pr√©sentant les informations sous forme de graphiques et de tableaux pratiques pour l'analyse.  L'administrateur peut facilement personnaliser les tranches dont il a besoin. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/03e/e95/fe5/03ee95fe517f5ddead62e929160a685b.jpg"><br><br><h2>  Surveillance et d√©pannage pr√©ventif dans le syst√®me LMS </h2><br>  Le filtrage et l'analyse des informations re√ßues pendant la surveillance aident la plate-forme logicielle open source ELK.  Ce produit open source se compose de trois outils puissants pour collecter, stocker et analyser des donn√©es: Elasticsearch, Logstash et Kibana.  La mise en ≈ìuvre de ce sous-syst√®me permet notamment de voir en temps r√©el combien d'erreurs se sont produites dans le syst√®me, sur quels serveurs et si ces erreurs se r√©p√®tent. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/61d/478/2b4/61d4782b468e8914666ca6dcab2d251a.jpg"><br><br>  L'administrateur peut d√©sormais d√©tecter le probl√®me √† un stade pr√©coce, avant m√™me que l'utilisateur ne le rencontre.  Cette surveillance proactive permet d'√©viter les dysfonctionnements du syst√®me en √©liminant les erreurs en temps opportun.  De plus, nous pouvons comprendre comment le comportement du syst√®me a chang√© apr√®s la mise √† jour, ainsi que d√©tecter de nouveaux probl√®mes s'ils surviennent. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ed/bed/860/4edbed860c81e8039f8ec8307e726d65.jpg"><br><br><h2>  Surveillance des op√©rations commerciales </h2><br>  En plus des fonctions de base de surveillance de la consommation des ressources, le syst√®me a la capacit√© d'analyser et de contr√¥ler les op√©rations commerciales. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1f4/475/45f/1f447545f2cc00b92a5e837d6405f20a.jpg"><br><br>  La surveillance de la dur√©e totale des op√©rations commerciales vous permet d'identifier de nouveaux facteurs et de comprendre leur impact sur le syst√®me. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc4/e6a/139/cc4e6a139580113d7b03d30a3ad4e2c2.jpg"><br><br>  Le suivi du temps d'ex√©cution des requ√™tes dans le cadre de chaque service m√©tier permet de d√©tecter des op√©rations s'√©cartant de la norme. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ab/fb5/1e5/8abfb51e549da3086fa87eb552c77d4c.jpg"><br><br>  La capture d'√©cran ci-dessus montre un exemple de surveillance d'une t√¢che d'arri√®re-plan en termes d'√©cart par rapport √† la norme. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fdd/d0d/89c/fddd0d89cfdbb25691925d9193174b36.jpg"><br><br>  La liste des t√¢ches surveill√©es en termes de leur activit√© sur un serveur particulier vous permet d'identifier les erreurs - y compris la duplication de l'ex√©cution des t√¢ches - sur tous les serveurs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/034/353/c80/034353c80c96cd06f5228d37f7e51c24.jpg"><br><br>  Il surveille √©galement les tendances dans le temps d'ex√©cution des proc√©dures d'arri√®re-plan. <br><br><h2>  Le syst√®me grandit, se d√©veloppe et aide √† faire face aux probl√®mes. </h2><br>  Avec la mise en ≈ìuvre du syst√®me d√©crit, la surveillance du fonctionnement des serveurs DLS a √©t√© consid√©rablement simplifi√©e.  N√©anmoins, divers conflits surviennent p√©riodiquement qui affectent la vitesse du flux de travail et provoquent des plaintes des utilisateurs.  Nous avons donc r√©alis√© qu'il √©tait n√©cessaire de contr√¥ler le comportement de l'application elle-m√™me, et pas seulement des serveurs. <br><br>  Pour r√©soudre ce probl√®me, un √©quilibreur a √©t√© connect√© au syst√®me de surveillance via l'API, qui fonctionne avec un cluster de serveurs d'applications.  Gr√¢ce √† cela, l'administrateur peut voir combien de temps le serveur est responsable de chaque demande d'utilisateur. <br><br>  Les donn√©es sur le temps de r√©ponse du serveur sont devenues disponibles pour l'analyse, ce qui a permis d'associer le ralentissement du LMS aux processus se produisant sur le serveur.  Une situation int√©ressante a √©t√© r√©v√©l√©e, notamment: le serveur est lent, bien qu'√† ce moment il ne soit pas charg√©.  En analysant l'anomalie, nous avons trouv√© des √©carts dans le fonctionnement du Garbage Collector Java.  Au final, il s'est av√©r√© que c'est le mauvais fonctionnement de ce service qui a conduit √† cette situation.  En prenant le contr√¥le de Garbage Collector Java, nous avons compl√®tement r√©solu le probl√®me. <br><br>  <i>C'est ainsi que les logiciels libres aident √† d√©velopper et d√©velopper un syst√®me de gestion de documents dans le secteur bancaire.</i>  <i>Nous n'avons abord√© que les principaux probl√®mes concernant le syst√®me de surveillance de VTB LMS.</i>  <i>Si vous √™tes int√©ress√© par les d√©tails - demandez dans les commentaires, nous serons heureux de partager notre exp√©rience avec vous.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr475572/">https://habr.com/ru/post/fr475572/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr475558/index.html">Dictionnaire informatique ou quoi? O?? O√π aller? Partie 1</a></li>
<li><a href="../fr475560/index.html">KotlinConf 2019 Live: Regardez en direct les 5 et 6 d√©cembre</a></li>
<li><a href="../fr475562/index.html">MVC dans Unity avec des objets scriptables. Partie 1</a></li>
<li><a href="../fr475564/index.html">Kaizen dans le d√©veloppement de logiciels - de ma propre exp√©rience</a></li>
<li><a href="../fr475568/index.html">Hadoop est-il mort? Partie 1</a></li>
<li><a href="../fr475576/index.html">Code de programme dans la voiture</a></li>
<li><a href="../fr475580/index.html">Comment ¬´Toy Story 2¬ª Pixar a √©t√© supprim√© deux fois: d'abord par accident, puis √† cause de la poursuite de l'excellence</a></li>
<li><a href="../fr475582/index.html">Le probl√®me de la mon√©tisation: pourquoi l'App Store populaire supprime les utilitaires open source</a></li>
<li><a href="../fr475584/index.html">Comment sont les sections d'apprentissage automatique lors des entretiens avec Yandex</a></li>
<li><a href="../fr475586/index.html">L'empreinte sonore de l'ordinateur via l'API AudioContext</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>