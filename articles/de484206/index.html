<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔷 🎤 👨🏽‍🔧 Verwendung von Mixins in Dart 🤵🏻 🆘 🤱🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mehrmals wurde von Kollegen die Frage gestellt, warum überhaupt Mixins (Verunreinigungen) in der Dart-Sprache benötigt werden. Ich habe mich dazu ents...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verwendung von Mixins in Dart</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484206/"><p> Mehrmals wurde von Kollegen die Frage gestellt, warum überhaupt Mixins (Verunreinigungen) in der Dart-Sprache benötigt werden.  Ich habe mich dazu entschlossen zu sehen, was es zu diesem Thema im Internet gibt.  Sehr zum Leidwesen der Artikel, die gefunden werden konnten, sprechen sie hauptsächlich über die Verwendung von Verunreinigungen, erklären jedoch nicht, warum sie benötigt werden. In diesen Fällen ist ihre Verwendung der gewöhnlichen Vererbung oder Implementierung von Schnittstellen vorzuziehen.  Dieser Artikel ist ein Versuch, diese Lücke zu schließen. </p><a name="habracut"></a><br><p>  Trotz der Tatsache, dass es im Internet genügend Artikel zum Thema Verunreinigungen in Dart und Flutter gibt, bringen sie meiner Meinung nach keine Klarheit, da die angegebenen Beispiele die reine Mechanik des Aufbaus von Klassen mit Verunreinigungen zeigen, was alles andere als vernünftig ist und daher nicht den tatsächlichen Anwendungsbereich aufzeigt .  Insbesondere habe ich ein solches <a href="https://habr.com/ru/post/467143/">Beispiel getroffen</a> .  Wir haben: </p><br><pre><code class="plaintext hljs">class Animal {} class Dog {} class Cat {}</code> </pre> <br><p>  Und aus irgendeinem Grund wollten wir ein Tier bekommen, das gleichzeitig die Eigenschaften von Katzen und Hunden hat.  In diesem Fall können wir dies tun: </p><br><pre> <code class="plaintext hljs">class CatDog extends Animal with Cat, Dog {}</code> </pre> <br><p>  Zu diesem Beispiel gibt es mindestens zwei Fragen: </p><br><ul><li>  Warum brauchen wir eine Kreuzung zwischen einer Katze und einem Hund? </li><li>  Warum erben Katze und Hund nicht von <code>Animal</code> ?  Sind sie keine Tiere? </li></ul><br><p>  Warum werden dennoch Verunreinigungen benötigt? Es bleibt ein Rätsel. </p><br><p>  Meiner bescheidenen Meinung nach ist es zum Verständnis der Bedeutung von Verunreinigungen erforderlich, die Frage zunächst mit dem Verhältnis der Vererbung zu behandeln.  Der Hauptvererbungspunkt in OOP ist, dass eine Entität <em>eine Variation einer</em> anderen Entität ist.  Zum Beispiel ist das <code></code> eine Variation der <code></code> oder die <code></code> ist eine Variation des <code></code> .  Und genau das sollte der entscheidende Faktor beim Aufbau einer Klassenhierarchie sein. </p><br><p>  Wenn wir die Vererbung aus einem anderen Blickwinkel betrachten, werden wir feststellen, dass das <code></code> die Eigenschaften der <code></code> und die <code></code> die Eigenschaften des <code></code> erbt.  Wenn Sie der Logik keine Aufmerksamkeit schenken, möchten Sie möglicherweise rein technisch die Eigenschaften mehrerer verschiedener Entitäten erben.  Zu diesem Zweck unterstützen einige Programmiersprachen die <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BD%25D0%25B0%25D1%2581%25D0%25BB%25D0%25B5%25D0%25B4%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">Mehrfachvererbung</a> . </p><br><p>  Die mehrfache Vererbung wird wegen einer Reihe von Mängeln kritisiert (siehe <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BD%25D0%25BE%25D0%25B6%25D0%25B5%25D1%2581%25D1%2582%25D0%25B2%25D0%25B5%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BD%25D0%25B0%25D1%2581%25D0%25BB%25D0%25B5%25D0%25B4%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">Wikipedia</a> ). Daher verwenden viele Programmiersprachen überhaupt keine mehrfache Vererbung, sondern einen Mechanismus zum Implementieren von Schnittstellen und / oder Verunreinigungen.  Und aus logischer Sicht sind die Konstruktionen, die sich aus der Mehrfachvererbung ergeben, nicht leicht zu verstehen. </p><br><p>  Um das folgende Material zu verstehen, müssen einige Konzepte aus der Elementarlogik abgerufen werden.  Insbesondere die Konzepte der <em>wesentlichen</em> und <em>unwesentlichen</em> Eigenschaften.  Die wesentlichen Eigenschaften von Objekten sind diejenigen, aufgrund deren Vorhandensein sie sich auf eine bestimmte Klasse von Objekten beziehen.  Nicht wesentliche Eigenschaften eines Objekts sind diejenigen, deren Vorhandensein, Nichtvorhandensein oder bestimmte Werte das Objekt einer bestimmten Objektklasse nicht beeinflussen.  Zum Beispiel ist die Form eines Rechtecks ​​eine wesentliche Eigenschaft dieser Form, denn wenn wir diese Form ändern (eine Seite entfernen oder hinzufügen oder die Winkel ändern), wird das Rechteck kein Rechteck mehr.  Wenn Sie jedoch die Größe des Rechtecks ​​ändern, bleibt es weiterhin ein Rechteck.  Abmessungen sind daher eine unbedeutende Eigenschaft. </p><br><p>  Das Erstellen einer Klassenhierarchie basiert normalerweise auf dem Hinzufügen <em>wesentlicher</em> Eigenschaften zur übergeordneten Klasse.  Zum Beispiel </p><br><pre> <code class="plaintext hljs">abstract class Shape { void draw(); } class Rectangle extends Shape { @override void draw() { print('Draw rectangle'); } } class Circle extends Shape { @override void draw() { print('Draw circle'); } }</code> </pre> <br><p>  Grundlage dieser Hierarchie ist die wesentliche Eigenschaft der Figurenform. </p><br><p>  Ein weiteres Beispiel: </p><br><pre> <code class="plaintext hljs">abstract class Widget { void render(); } class Container extends Widget { @override void render() { print('Renders container'); } } class Text extends Widget { @override void render('Render text'); }</code> </pre> <br><p>  Eine wesentliche Eigenschaft ist hierbei der Zweck des Widgets. </p><br><p>  Nehmen wir nun an, wir müssten unseren Entitäten einige nicht wesentliche Eigenschaften hinzufügen.  Eine solche Eigenschaft ist beispielsweise Farbe.  Lassen Sie uns nun einige Formen und Widgets kolorieren. </p><br><p>  Dazu können Sie natürlich die Vererbung verwenden und zuerst die <code>PaintableWidget</code> <code>PaintableShape</code> und <code>PaintableWidget</code> implementieren.  Dies ist jedoch nicht bequem, da wir erstens die Implementierung der Farbfunktionalität in beiden Hierarchien duplizieren müssen und zweitens für jede Figur und jedes Widget, die wir kolorieren möchten, neue Klassen implementieren müssen, z. B. <code>PaintableRect</code> und <code>PaintableContainer</code> . </p><br><p>  Sie können den Mechanismus zum Implementieren von Schnittstellen verwenden.  Dann bekommen wir so etwas: </p><br><pre> <code class="plaintext hljs">enum Color {red, yellow, green} abstract class Paintable { void paint(Color color); Color get color; } class PaintableRect extends Rectangle implements Paintable { Color _color; @override void paint(Color color) {_color = color;} @override Color get color =&gt; _color; } class PaintableContainer extends Container implements Paintable { Color _color; @override void paint(Color color) {_color = color;} @override Color get color =&gt; _color; }</code> </pre> <br><p>  Wie Sie sehen, ist dies auch nicht die beste Lösung, da für jede auflösbare Entität derselbe Code dupliziert werden muss. </p><br><p>  All diese Probleme können jedoch gelöst werden, wenn die mit einer unbedeutenden Eigenschaft verbundene Funktion als separates Gemisch (Mixin) entfernt wird: </p><br><pre> <code class="plaintext hljs">enum Color {red, yellow, green} mixin PaintableMixin { Color _color; void paint(Color color) {_color = color;} Color get color =&gt; _color; } class PaintableRect extends Rectangle with PaintableMixin { @override void draw() { print('Draw rectangle with color $color'); } } class PaintableContainer extends Container with PaintableMixin { @override void render() { print('Render container with color $color'); } }</code> </pre> <br><p>  Jetzt können Sie es verwenden: </p><br><pre> <code class="plaintext hljs">main() { PaintableRect() ..paint(Color.red) ..draw(); PaintableContainer() ..paint(Color.yellow) ..render(); }</code> </pre> <br><p>  Zusammenfassend lässt sich auf folgende Weise feststellen, wann die Verwendung von Verunreinigungen zweckmäßig ist: Gibt es mehrere verschiedene Hierarchien, die dieselbe Funktion hinzufügen müssen, die einige nicht wesentliche Eigenschaften für die Entitäten dieser Hierarchien definiert.  Oder es kann eine Hierarchie sein, aber wir haben es mit ihren verschiedenen Zweigen zu tun.  Betrachten Sie als Beispiel die Widgets des Flutter-Frameworks. </p><br><p>  Angenommen, wir müssen einigen Widgets Funktionen hinzufügen, die sich auf dieselbe Eigenschaft beziehen.  Widgets in Flutter sind wie folgt aufgebaut: </p><br><pre> <code class="plaintext hljs">class MyStatelessWidget extends StatelessWidget {}</code> </pre> <br><p>  oder </p><br><pre> <code class="plaintext hljs">class MyStatefulWidget extends StatefulWidget {}</code> </pre> <br><p>  Um eine Eigenschaft durch Vererbung hinzuzufügen, müssen Sie mindestens zwei Klassen implementieren: </p><br><pre> <code class="plaintext hljs">class StatelessWidgetWithProperty extends StatelessWidget {} class StatefulWidgetWithPropery extends StatefulWidget {}</code> </pre> <br><p>  Gleichzeitig müssen Sie, wie Sie erneut sehen, die mit der hinzugefügten Eigenschaft verknüpften Funktionen duplizieren. </p><br><p>  Bei Verwendung von Verunreinigungen ist das Problem gelöst: </p><br><pre> <code class="plaintext hljs">mixin Property {} class MyStatelessWidget extends StatelessWidget with Propery {} class MyStatefulWidget extends StatefulWidget with Property {}</code> </pre> <br><p>  Für diejenigen, die mit Entwurfsmustern vertraut sind, kann die Verwendung von Verunreinigungen in einigen Fällen die Verwendung des <a href="https://refactoring.guru/ru/design-patterns/bridge">Brückenmusters</a> ersetzen. </p><br><p>  Zusammenfassend ist festzuhalten, dass man auf diese Weise in beliebiger Kombination mehrere unterschiedliche Eigenschaften gleichzeitig in die Funktion einmischen kann. </p><br><p>  Dieser Artikel soll die Verwendung von Verunreinigungen nicht erschöpfend definieren.  Wahrscheinlich wird der forschende Verstand des Entwicklers in der Lage sein, viel mehr schöne Verwendungsmöglichkeiten für sie zu finden.  Ich würde mich freuen, wenn diese Optionen zur Verwendung von Verunreinigungen in den Kommentaren zu diesem Artikel erscheinen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de484206/">https://habr.com/ru/post/de484206/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de484196/index.html">Aufnahme von JS-Ton über ein Mikrofon oder Sprachkommentare</a></li>
<li><a href="../de484198/index.html">Rückseite der Medaille: Wer hat beim Wachstum der Tesla-Aktien gewonnen und verloren?</a></li>
<li><a href="../de484200/index.html">Wie man Ziele setzt, um sie zu erreichen</a></li>
<li><a href="../de484202/index.html">Maschinelles Lernen in der statischen Analyse von Programmquellcode</a></li>
<li><a href="../de484204/index.html">FTCODE fileless Ransomware stiehlt jetzt Konten</a></li>
<li><a href="../de484208/index.html">Verwendung des maschinellen Lernens bei der statischen Analyse des Programmquellcodes</a></li>
<li><a href="../de484212/index.html">Free stuff for karma - die Geschichte eines belarussischen Startups, das das Konsumprinzip ändert</a></li>
<li><a href="../de484214/index.html">Tensoren in TensorFlow</a></li>
<li><a href="../de484216/index.html">Zweite Zabbix-Konferenz in Russland: Anmeldung und wichtige Termine</a></li>
<li><a href="../de484218/index.html">Wir optimieren die Automatisierung: So haben wir die Autotests um das 3-4-fache beschleunigt und dabei die alten Entwicklungen bewahrt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>