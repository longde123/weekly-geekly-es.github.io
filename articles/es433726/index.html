<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍯 💃🏿 🚶🏾 Introducción a la API de automatización: Parte 1: descripción general ☄️ 🔈 🤰🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Traducción de Shashi Kumar Raja 


 Entonces, supongamos que desea hacer la automatización de API, pero cada vez que escribe la mejor herramienta de a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Introducción a la API de automatización: Parte 1: descripción general</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433726/"><p>  <em>Traducción <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de</a> Shashi Kumar Raja</em> </p><br><p>  Entonces, supongamos que desea hacer la automatización de API, pero cada vez que escribe la <em>mejor herramienta de automatización de API</em> en la barra de búsqueda de Google, ve tantos enlaces a las 10 herramientas principales que se confunde y decide que definitivamente lo hará <strong>mañana</strong> </p><br><p><img src="https://habrastorage.org/webt/zr/kq/we/zrkqwein7iz4odk_rqiw_osz730.png"></p><br><a name="habracut"></a><br><p>  Comencemos por comprender lo que necesitamos si queremos configurar (con suerte mañana) <strong>una plataforma de automatización de API</strong> .  Mantenga este pensamiento por un segundo ... Dije, deje de pensar ... <em>Sé que su jefe no asigna ni un centavo para ninguna herramienta pagada</em> .  Mira, leí tu mente, no pienses en voz alta </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ac9/747/97d/ac974797ded807ac62b12807b6487e82.jpg"></p><br><p>  Las herramientas pagas deben colgarse, no ejecutarse :) </p><br><blockquote><h3>  1. ¿Dónde diablos debo comenzar a escribir exámenes? </h3></blockquote><p>  Necesitará algo que le proporcione un conjunto de reglas y pautas para escribir exámenes, y que también le permita hacerlo al darle acceso a varias herramientas y técnicas.  Escucho una campana sonando, no !!!  Bueno, sé lo que hará una campana. </p><br><p>  <em>¿Alguna vez has oído hablar de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TESTNG</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JUNIT</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MOCHA</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PYTEST</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ROBOT</a> ?</em>  <em>Sí, todos son entornos de automatización de prueba.</em> </p><br><p>  Necesita encontrar el entorno de prueba adecuado según sus requisitos: ¿qué pila de tecnología existente utiliza su empresa?  ¿Qué automatización quieres hacer?  Qué idioma es más conveniente para usted, etc.  Encontrará un entorno de automatización en los idiomas más populares que le permitirá escribir pruebas <em>unitarias, funcionales y de otro</em> tipo de API. </p><br><p>  Para obtener más información sobre el entorno de prueba, consulte la Parte 2 de la serie, donde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">presenté</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mocha</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pytest en detalle</a> . </p><br><blockquote><h3>  2. ¿Cómo voy a hacer llamadas API en un entorno de prueba? </h3></blockquote><p>  La mayoría de estas plataformas admiten llamadas API, incluida la <strong>biblioteca de solicitudes HTTP</strong> , porque las API REST utilizan el protocolo HTTP para la comunicación. </p><br><p>  Algunos marcos, como el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mocha</a> , le dan la libertad de usar la biblioteca de solicitudes HTTP de su elección, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">superagent</a> . </p><br><pre>  &lt;code class = "lang-JS"&gt; solicitud
   .post ('/ api / pet')
   .send ({nombre: 'Manny', especie: 'gato'}) // envía un cuerpo de publicación JSON
   .set ('X-API-Key', 'foobar')
   .set ('aceptar', 'json')
   .end ((err, res) =&gt; {
     // Llamar a la función final enviará la solicitud
   });
 &lt;/code&gt; </pre><br><p>  Le brindan soporte fácil para GET, PUT, POST, DELETE y todos los demás métodos. Puede pasar encabezados, caché, solicitar parámetros, lo llamó, lo obtuvo </p><br><blockquote><h3>  3. Genial, pero algunas de mis API dan JSON y otras dan XML en respuesta, ¿cómo puedo lidiar con esto? </h3></blockquote><p>  La mayoría de estas bibliotecas de solicitudes HTTP le permiten enviar y recibir datos en <em>formatos JSON, XML, CSV, Texto, Imagen, datos de formulario, datos codificados</em> con varios estándares de autorización compatibles. </p><br><p>  También le permiten procesar el código de estado de respuesta HTTP y verificar si hemos recibido el código de estado de respuesta requerido o no. </p><br><ul><li>  Códigos informativos de respuesta (1xx) <br>  100 - Continuar <br>  101 - Cambio de protocolos <br>  102 - Procesamiento </li></ul><br><ul><li>  Códigos de respuesta exitosa (2xx) <br>  200 - OK 206 - Contenido parcial <br>  201 - Creado 207 - Multi-estado <br>  202 - Aceptado 208 - Ya informado <br>  203 - Información no autorizada 226 - IM utilizado <br>  204 - Sin contenido 250 - Poco espacio de almacenamiento <br>  205 - Restablecer contenido </li></ul><br><ul><li>  Códigos de respuesta de redireccionamiento (3xx) <br>  300 - Múltiples opciones 304 - No modificado <br>  301 - Movido permanentemente 305 - Usar proxy <br>  302 - Encontrado 307 - Redirección temporal <br>  303 - Ver otros 308 - Redirección permanente </li></ul><br><ul><li>  Códigos de respuesta de error del cliente (4xx) <br>  400 - Múltiples opciones 410 - No modificado <br>  401 - Movido permanentemente 411 - Usar proxy <br>  402 - Encontrado 412 - Redireccionamiento temporal <br>  403 - Ver otros 413 - Redirección permanente <br>  404 - Múltiples opciones 414 - No modificado <br>  405 - Movido permanentemente 415 - Usar proxy <br>  406 - Encontrado 416 - Redireccionamiento temporal <br>  407 - Ver otros 417 - Redirección permanente <br>  408 - Encontrado 418 - Redireccionamiento temporal <br>  409 - Ver otros </li></ul><br><ul><li>  Códigos de respuesta de error del servidor (5xx) <br>  500 - Error interno del servidor 508 - Bucle detectado <br>  501 - No implementado 509 - Ancho de banda limitado <br>  502 - Bad Gateway 510 - No extendido <br>  503 - Servicio no disponible 511 - Se requiere autenticación de red <br>  504 - Tiempo de espera de puerta de enlace 550 - Permiso denegado <br>  505 - Ver HTTP no admitido 551 - Opción no admitida <br>  506 - La variante también negocia 598 - Error de tiempo de espera de lectura de Nework <br>  507 - Almacenamiento insuficiente 599 - Error de tiempo de espera de conexión de red </li></ul><br><blockquote><h3>  4. Bien, pero ¿cómo procesaré los datos de la prueba? </h3></blockquote><p>  Depende de dónde obtenga los datos de prueba.  Estos marcos de prueba le permitirán utilizar todas las características del lenguaje en el que se basan: </p><br><p>  a.  <strong>Base de datos:</strong> puede crear fácilmente conexiones de base de datos para leer datos. </p><br><p>  b.  <strong>Archivo externo:</strong> puede leer texto externo, JSON, CSV o cualquier otro archivo. </p><br><p>  c.  <strong>Datos aleatorios:</strong> puede usar bibliotecas como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">faker</a> para generar datos de prueba aleatorios sobre la marcha. </p><br><pre>  &lt;code&gt; var faker = require ('faker');

 var randomName = faker.name.findName ();  // Rowan Nikolaus
 var randomEmail = faker.internet.email ();  // Kassandra.Haley@erich.biz
 var randomCard = faker.helpers.createCard ();  // tarjeta de contacto aleatorio que contiene muchas propiedades
 &lt;/code&gt; </pre><p>  d.  <strong>Datos de la respuesta de la API:</strong> muchas veces durante las pruebas, deberá pasar la respuesta de una API como solicitud de datos a otra.  Puede hacerlo utilizando <strong>ganchos</strong> . Obtendrá funciones como <strong>Antes, Antes de cada, Después, Después de cada una</strong> , que, como su nombre lo indica, se ejecutan antes / después de cualquiera o todas las pruebas.  Llame a API1 antes de API2 y pase su respuesta a API2.  Justo a la derecha!  ️ </p><br><blockquote><h3>  5. Procesar datos de prueba y hacer llamadas a la API parece simple, pero ¿cómo voy a verificar las respuestas de la API? </h3></blockquote><p>  Para verificar las respuestas, necesitará una biblioteca llamada <strong>Biblioteca de aserciones</strong> .  Muchos entornos de prueba vienen con bibliotecas de aserciones, lo que le permite escribir aserciones en inglés simple, como la sintaxis.  También le permiten verificar el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esquema JSON de</a> su respuesta. </p><br><p>  En mocha, puede usar cualquier biblioteca de aserciones, por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><strong>chai</strong></a> . </p><br><pre>  &lt;code&gt; response.status.should.equal (200)
 foo.should.be.a ('cadena');
 foo.tiene.tiene.longitudDe (3);
 el té debe tener.propiedad ('sabores')
   .with.lengthOf (3);
 &lt;/code&gt; </pre><blockquote><h3>  6. Increíble !!!  Quedaba un poco, después de todas estas pruebas, ¿de alguna manera mostrarle a mi jefe lo que hice y dónde encontré problemas? </h3></blockquote><p>  La mayoría de estos marcos le proporcionarán un <strong>informe básico de</strong> ejecución de prueba <strong>HTML</strong> , que puede descargar y compartir.  Si necesita informes más bellos con gráficos y tablas, puede usar varias herramientas de informes de código abierto como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">allure</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mochawesome</a> . </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ac5/a79/58e/ac5a7958edf2ea766ec2eeb0df70ec46.png"></p><br><blockquote><h3>  <em>7. Solo si pudiera obtener algún tipo de plantilla con estas cosas para iniciar la automatización de API ahora</em> </h3></blockquote><p>  <em>¿Qué te dije? Lo llamaste, tienes</em> </p><br><p>  Esta es la plantilla que creé para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">automatizar la API usando mocha en node.js.</a> </p><br><p>  Incluye </p><br><ul><li>  Test-framework (moca), </li><li>  Biblioteca de solicitud HTTP (supertest), </li><li>  Biblioteca de afirmaciones (chai), </li><li>  Reportero (encanto), </li><li>  maderero (winston), </li><li>  Generador de datos aleatorios (falsificador), </li><li>  Apoyo de Eslint y </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">validación de cadena traviesa integrada</a> .  Todo lo que tiene que hacer es clonarlo / descargarlo y estará listo para comenzar. </li></ul><br><p>  Si necesita una plantilla en otro idioma, puedo prepararla para mañana. </p><br><p>  Si te gustó este artículo, puedes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aplaudir</a> , probablemente me haga escribir más. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es433726/">https://habr.com/ru/post/es433726/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es433714/index.html">ILV: el uso de análisis puede conducir a bloquear el sitio</a></li>
<li><a href="../es433716/index.html">Google mostró una nueva generación de mochilas Street View Trekker</a></li>
<li><a href="../es433720/index.html">10 razones para elegir una solución para SAP HANA de HPE</a></li>
<li><a href="../es433722/index.html">HeisenBug a través de los ojos de un empleado de SberTech</a></li>
<li><a href="../es433724/index.html">Alguna verdad incómoda sobre LDAC</a></li>
<li><a href="../es433728/index.html">Google cerró el proyecto de motor de búsqueda censurado chino debido a desacuerdos dentro de la empresa</a></li>
<li><a href="../es433730/index.html">Optimización de bases de datos relacionales sin tiempo de inactividad mediante el ejemplo de la base de datos más cargada en Badoo</a></li>
<li><a href="../es433732/index.html">Alan Kay: "¿Qué libros recomendarías leer a alguien que estudie Informática"</a></li>
<li><a href="../es433734/index.html">Donald Knuth: “Los camaradas mayores jugaban al tenis, éramos pelotas. Nos golpearon, nos dolió ”. (11,12 / 97)</a></li>
<li><a href="../es433738/index.html">Antigüedades: juegos en MS-DOS que no elegimos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>