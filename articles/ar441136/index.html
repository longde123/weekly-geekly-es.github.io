<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ผ ๐ฉ ๐ ุชุฎุฒูู ุทููู ุงูุฃุฌู ูููุงููุณ ุจุฑูููุซููุณ (ุฃูููุณู ุจุงูุงุฒุชุดูููู ุ ุจูุฑูููุง) โน๐ป ๐ ๐ง๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ููุช ูุตูุฑ ุ ุฃุตุจุญ Prometheus ุฃุญุฏ ุฃูุซุฑ ุฃุฏูุงุช ุงููุฑุงูุจุฉ ุดุนุจูุฉ. ุดูุฑุง ุ ุนูู ูุฌู ุงูุฎุตูุต ุ ูุงูุณุฑุนุฉ ุงูุนุงููุฉ ูู ุนูููุง. ูุนุฏ ุงูุชุฎุฒูู ุงููุญูู ุงูุฎุงุต ุจู ููุงููุง ุฑุงุฆุน...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุฎุฒูู ุทููู ุงูุฃุฌู ูููุงููุณ ุจุฑูููุซููุณ (ุฃูููุณู ุจุงูุงุฒุชุดูููู ุ ุจูุฑูููุง)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441136/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ููุช ูุตูุฑ ุ ุฃุตุจุญ Prometheus ุฃุญุฏ ุฃูุซุฑ ุฃุฏูุงุช ุงููุฑุงูุจุฉ ุดุนุจูุฉ.  ุดูุฑุง ุ ุนูู ูุฌู ุงูุฎุตูุต ุ ูุงูุณุฑุนุฉ ุงูุนุงููุฉ ูู ุนูููุง.  ูุนุฏ ุงูุชุฎุฒูู ุงููุญูู ุงูุฎุงุต ุจู ููุงููุง ุฑุงุฆุนูุง ูุชุฎุฒูู ุงูููุงููุณ ุนูู ุงููุฏู ุงููุตูุฑ ูุงูุนูู ูุนูู.  ูู ุจุนุถ ุงูุฃุญูุงู ุ ุชุฑูุฏ ุงูุงุญุชูุงุธ ุจุงูููุงููุณ ุงูููุฒุนุฉ ูุดููุฑ ูุณููุงุช ุ ูุชูููุต ุงูุจูุงูุงุช ุงููุฏููุฉ ุชููุงุฆููุง ุ ูููู ุฏูู ุชุบููุฑ ูุงุฌูุฉ ุงูุชุนุงูู ูุนูุง. </p><br><p style=";text-align:right;direction:rtl">  ุญูู ูุฐุง ุ ูู ุชุดููุฑ ุชูุฑูุฑ ุฃูููุณู Palazhchenko ูู RootConf 2018. ูู ุงูุชูุฑูุฑ: Prometheus ุ ุงูุชุฎุฒูู ุงููุญูู TSDB ุ ุงูุชุฎุฒูู ุนู ุจุนุฏ ุ Prometheus ุ PromQL ุ TSDB ุ Clickhouse ุ PromHouse ุ InfluxDB ููููุงู. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/LXllYmb0RTk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p style=";text-align:right;direction:rtl">  ูู ููุชู ุ ูู ูุถูู ุ ุชุญุช ุงููุท. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ุฃุตุฏูุงุก!  ูุฑุญุจุง ุจุงูุฌููุน!  ุงุณูู ุฃูููุณู Palazhchenko.  ุฃูุง ุฃุนูู ูู ุจูุฑูููุง.  ุฃูุฏ ุฃู ุฃุฎุจุฑูู ุนู ุงูุชุฎุฒูู ุทููู ุงููุฏู ููููุงููุณ ูู ุจุฑูููุซููุณ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/rw/vv/4v/rwvv4v4zpjhn5tlmrclgeii9mkq.png"></p><br><p style=";text-align:right;direction:rtl">  ุฃูุง ุฃุนูู ูู Percona ูุฃูุชุฌ ููุชุฌูุง ููุณูู ูุฑุงูุจุฉ ูุฅุฏุงุฑุฉ percona.  ูุฐุง ูู ุงูุญู ุงููุนุจุฃ ุงูุฐู ุญุฏุฏู ุนููุงุฆูุง ูุฃููุณูู.  PMM ููุชูุญ ุงููุตุฏุฑ ุจุงููุงูู.  ููู ูุชุฃูู ูู Prometheus ุ ู Grafana ููุฑุณูู ุงูุจูุงููุฉ ุ ูุจุฑูุงูุฌ ุชุญูููุงุช ุงูุงุณุชุนูุงู ุงููุฎุตุต ุ ูุงูููู ุงูุฎุงุต ุจูุง ุงูุฐู ูุชูุญ ูู ุงูููุงู ุจุจุนุถ ุงูุฅุฏุงุฑุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุฅุถุงูุฉ ูุฏู ูุดุท ุฅูู ุจุฑูููุซููุณ.  ูุฐู ูู ูุตุงุฏุฑ ุฌุฏูุฏุฉ ุณูุฃุฎุฐ ูููุง ุงูููุงููุณ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุฅุฏุฎุงู ุญุงููุฉ ุฃู ุฌูุงุฒ ุธุงูุฑู ูุฏูููุง ูุชุญุฑูุฑ ููู ุงูุชูููู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููู ุฃู ูููู ุฃู ูุฐู ููุณุช ุงุฏุงุฑุฉ ุงูุนูุงูุงุช.  ููุณ ูุฏููุง ุงูุฅูุชุงุฌ.  ููุน ุฅูุชุงุฌูุง ูุน ุนููุงุฆูุง.  ููุชุฌุฑุจุฉ ุนูู ุฐูู ููุณุช ุฌูุฏุฉ ุฌุฏุง.  ูุฏููุง ุฃูุฑุจ ุดูุก ูููู ุฃู ูุณูู ุงูุฅูุชุงุฌ - ูุฐุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://pmmdemo.percona.com/</a> .  ูู ููุช ุงูุชูุฑูุฑ ุ ูุงู ูุง ุจุฏ ูู ุฅููุงู pmmdemo.percona.com ุจุณุจุจ ุงููุงุชุฌ ุงููุญูู ุงูุฅุฌูุงูู. </p><br><p style=";text-align:right;direction:rtl">  ูุญู ููุฏู PMM ููุนููุงุก - ุญู ูุญุงุตุฑ: ุญุงููุฉ ุงูุฑุตูู ุฃู ุงูุฌูุงุฒ ุงูุธุงูุฑู.  ุงููู ุฌููุนุง ูุซู ุจุฑูููุซููุณ.  ุจุนุถ ุงูุฃุดุฎุงุต ุงูุฐูู ููุธุฑูู ุฅูู ุจุฑูููุซููุณ ูุฃูู ูุฑุฉ ูุตุงุฏููู ูููุฐุฌ ุงูุณุญุจ.  ูููุจุชุฏุฆูู ุ ููุฐุง ุบูุฑ ูุฑูุญ.  ุนูููุง ูุญุงุฏุซุฉ ูุจูุฑุฉ ูููุตูุฉ.  ููููู ุงูุฌุฏุงู ุญูู ุทุฑู ุงูุณุญุจ ุฃู ุงูุฏูุน.  ูู ุงููุชูุณุท โโุ ูุฐุง ูู ููุณ ุงูุดูุก ุชูุฑูุจุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุถ ุงูุฃุดูุงุก ูู ุจุฑูููุซููุณ ุฑุงุฆุนุฉ ููุบุงูุฉ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุบุฉ ุจุฑูููุซููุณ ููุงุณุชุนูุงู ูู ูู ุงูุญูููุฉ ุดูุก ุฑุงุฆุน ูุง ููุฌุฏ ูุฏูู ูุซูู ูู ุฃู ููุงู. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงูุดูุก ุงูุซุงูู ุงูุฐู ูุนุฌุจู ูู ุงูุชุดุงู ุงูุฎุฏูุฉ.  ุฅุฐุง ูุงู ูุฏูู ููุน ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุฏููุงููููุฉ ุ kubernetes ุ ูุฅูู ูุง ุชุญุชุงุฌ ุชููุงุฆููุง ุฅูู ุฅุถุงูุฉ ุฌููุน ุงูุฃูุฏุงู ูููุฑุงูุจุฉ ุจูุฏูู.  ุฅุฐุง ูุงู ุซุงุจุชูุง - ูููู ุฃูุถูุง ุงูููุงู ุจุฐูู ุจูู ุจุณุงุทุฉ.  ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู ููู ุงูุชูููู. </p><br></li></ul><br><p style=";text-align:right;direction:rtl">  ุนููุงุก ุจุฑูููุซููุณ ูุนุฌุจูู.  ุงููู ูุฑูุฏูู ุงูุญูุงุธ ุนูู ุงูููุงููุณ ุฃุทูู ูุฃุทูู.  ุดุฎุต ูุง ูุณุชุฎุฏู ุจุฑูููุซููุณ ูููุฑุงูุจุฉ ุงูุชุดุบูููุฉ ููุท.  ููู ููุงู ูู ูุฑูุฏ ุงูุญูุงุธ ุนูู ุงูููุงููุณ ููุชุฑุฉ ุฃุทูู ุ ููุดุงูุฏุฉ ุฏููุงููุงุช ุ ููุงุฑูุฉ ูุน ุงูุฑุณูู ุงูุจูุงููุฉ ูุจู ุนุงู.  ูู ุงูููุช ููุณู ุ ููุณ ุงููุฏู ูู ุงูุชุฎุฒูู ุทููู ุงููุฏู ููููุงููุณ ูู ูุฏู ูุดุฑูุน ุจุฑูููุซููุณ.  ูู ุงูุจุฏุงูุฉ ุ ุชู ุฅูุดุงุคู ูู ุฃุฌู ุชุฎุฒูู ุงูููุงููุณ ููุชุฑุฉ ูุตูุฑุฉ.  SoundCloud ุจุชุฎุฒูู ุงูููุงููุณ ูู ุจุถุนุฉ ุฃูุงู ููุท.  ููุงู ุขููุงุช ูู ุจุฑูููุซููุณ ุชุชูุญ ูู ุงูููุงู ุจุฐูู ููุชุฑุฉ ุฃุทูู ุ ููููุง ูุฑุชุจุฉ ููููุงู ุนูู ุงูุฌุงูุจ.  ูุฐูู ุ ูููููุง ุงุชุฎุงุฐ ูุฑุงุฑ ุจุดุฃู ูุธุงู Prometheus ุงูุจูุฆู ุฏูู ุชุบููุฑ ุฌููุฑ ุงููุธุงู ููุณู.  ุจูุงุกู ุนูููุง ุ ูููููุง ุงุชุฎุงุฐ ูุฑุงุฑูุง ุงูุฎุงุต ุฏุงุฎู ุงููุธุงู ุงูุจูุฆู ููุณู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ws/1n/7k/ws1n7kpa7ohpkxwpxuli5dcpwuc.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ููุณ ุชูุฑูุฑูุง ุนู ุงูุญููู ุงูุฌุงูุฒุฉ.  ูุฐุง ูู ุชูุฑูุฑ ุญูู ุชุฌุฑุจุชูุง ุ ุนู ุขูุงููุง ุ ุนู ูุญุงููุงุชูุง.  ุฅุฐุง ููุช ุชุชููุน ุฃูู ุจุนุฏ ูุฐุง ุงูุชูุฑูุฑ ููุช ุจุชูุฒูู ูุณุชูุฏุน ุฃู ุญุงููุฉ ุนุงูู ูููุงุก ุ ูู ุจุชุดุบููู ูุณูุนูู ุ ุซู ูุฐุง ููุณ ูุฐูู.  ูููู ูู ุงูููุช ููุณู ุ ููู ูุฑูุจุฉ ุจูุง ููู ุงูููุงูุฉ ูุชููู ูุฐูู.  ูุฏููุง ุจุนุถ ุงูุฃุณุณ.  ุงููู ุฌููุนุง ููุชูุญุฉ ุงููุตุฏุฑ.  ููููู ุฃู ุชุฌุฑุจ.  ุฃููุง ููุณุช ุฌุงูุฒุฉ ููุฅูุชุงุฌ ุญุชู ุงูุขู.  ููู ุจุงููุนูููุงุช ุงูููุฌูุฏุฉ ูู ูุฐุง ุงูุชูุฑูุฑ ุ ููููู ููู ุงูุณุจุจ ุ ููุง ุงูุฐู ูููู ุนููู ุจุดูู ุฃูุถู.  ููููู ุงุชุฎุงุฐ ูุฑุงุฑู ุงูุฎุงุต ุงูุฐู ููุงุณุจู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ej/4j/sm/ej4jsmldkwk-bsme40kqehzilqc.png"></p><br><p style=";text-align:right;direction:rtl">  ููู ูุชู ุชุฎุฒูู ุงูููุงููุณ ูู ุจุฑูููุซููุณุ  ููุงู ุงูุชุฎุฒูู ุงููุญูู.  ููุงู ุชุฎุฒูู ุนู ุจุนุฏ.  ูุฐู ูู ูู ุงููุงูุน ุนุงูููู ูุฎุชูููู.  ุฃููุง ุชุชูุงุทุน ุถุนููุฉ.  ูุฐูู ุ ูููุณู ุงูุชูุฑูุฑ ุฃูุถูุง ุฅูู ูุณููู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/jm/ic/81/jmic81mrsu49j-zxv6spn9aopac.png"></p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ูู ุชูุฑูุฑ ุณุงุจู ูู ุงููุงุนุฉ ุงูุฑุฆูุณูุฉ ุ ุญูุซ ูุงู ููุงู ููุฏูุฉ ุฌูุฏุฉ ูู Prometheus ุ ูุฃูุช ุชุนูู ุฃู ุงูุชุฎุฒูู ุงููุญูู ุนุจุงุฑุฉ ุนู ููุชุจุฉ ูููุตูุฉ ุชุณูู TSDB.  TSDB ูุง ุนูุงูุฉ ูู ูุน OpenTSDB.  TSDB ุนุจุงุฑุฉ ุนู ุญุฒูุฉ Go ูููุตูุฉ ููููู ุงุณุชุฎุฏุงููุง ูู ุจุฑูุงูุฌ Go.  ุนูู ูุณุชูู ููุชุจุฉ TSDB ุ ูุง ููุฌุฏ ุนููู ุฃู ุฎุงุฏู. </p><br><p style=";text-align:right;direction:rtl">  ุชู ุชุญุณูู ูุฐู ุงูููุชุจุฉ ููุนูู ูุน ุจูุงูุงุช ุงูุณูุงุณู ุงูุฒูููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุญุชูู TSDB ุนูู ุชุฑููุฒ ุฏูุชุง ุ ูุงูุฐู ูุณูุญ ูู ุจุชุฎุฒูู ููุณ ุงูุฃุฑูุงู ููุณูุง ุ ูููู ุงูุชุบููุฑุงุช ุจูู ูุฐู ุงูุฃุฑูุงู.  ูุฐุง ูุณูุญ ูู ุจุชุฎุฒูู 1 ุจุงูุช ุจุฏูุงู ูู 16 ุจุงูุช.  1 ุจุงูุช ููููุช ู 1 ุจุงูุช ูููููุฉ.  ุฃู ุฃูู ุชุฎุฒู ูู ุงููุชูุณุท โโ1 ุฃู 2 ุจุงูุช ุนูู ูุฌู ุงูุชุญุฏูุฏ ุจุณุจุจ ูุฐุง ุงูุถุบุท ุงูุฌูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุชู ุชุญุณูู TSDB ูููุงุฐุฌ ุงูุณุญุจ.  ูุชู ุฅุถุงูุฉ ุงูุจูุงูุงุช ููุท ููุงู.  ูุง ูููู ูู Prometheus ูุชุงุจุฉ ุงูุจูุงูุงุช ุงูุชุงุฑูุฎูุฉ.  ูุง ููุฌุฏ API ููุฐุง ุงูุบุฑุถ.  ุฏูุชุง ุงูุญุฏ ุงูุฃูุตู ูู ุญูุงูู 5 ุฏูุงุฆู.  ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ูุฏููุฉ ุ ููู ูุชู ูุจูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุง ููุฌุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">tsdb ูุถูู ูุฎุชูุท # 313</a> ูู TSDB.  ููุงู ูุดููุฉ ููุชูุญุฉ ุชู ูููุง ููุงูุดุฉ ุญูู ุญูููุฉ ุฃู ููุงู ุนููููุง ูุดุฑูุนุงุช ุชููู ุจุฑูููุซููุณ ุจุดูุก ูููุงู ุงุฎุชุฒุงู ููุงู.  ุญุชู ุงูุขู ุ ุงูุญู ูู ุฃู TSDB ูู ูุถูู ุงุฎุชุฒุงู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5q/pb/vt/5qpbvtptau3gz7ygcxb9cl3nmzg.png"></p><br><p style=";text-align:right;direction:rtl">  ููู ูุญุตู ุนูู ุงูุจูุงูุงุช ูู TSDBุ  TSDB ูู ูุงุนุฏุฉ ุจูุงูุงุช ุนูู ุงููุฑุต.  ููููู ุงูุนูู ูุนู ุฅุฐุง ููุช ุชูุชุจ ุจุฑูุงูุฌ Go.  ูููู ุฅุฐุง ูู ุชูุชุจ ุจุฑูุงูุฌูุง ูู Go ุ ูููุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช JSON ุชุชูุญ ูู ุฅุฌุฑุงุก ุงุณุชุนูุงูุงุช ุงุณุชุนูุงู.  ุฅุฐุง ููุช ูุฏ ุงุณุชุฎุฏูุช Prometheus ูู ุฃู ููุช ูู ุงูุฃููุงุช ูููุช ุจุฅูุดุงุก ูุฎุทุท ุนูู ุงูุฃูู ุ ูุฃูุช ุชุนุฑู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Query ุงูููุงุณูุฉ ุ ุญูุซ ุชูุฌุฏ ูุนููุฉ ุงุณุชุนูุงู ููููู ูู ุฎูุงููุง ุชูููุฐ ุฃู ุงุณุชุนูุงู PromQL ูููุช ุงุฎุชูุงุฑููุง.  ุฅุฐุง ูู ููู ููุงู ููุช ุ ูุณูุชู ุฃุฎุฐ ุงูููุช ุงูุญุงูู. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชูููุฒ ุงุณุชุนูุงู ูุนูู ุนูู ุงูุดุฑูุญุฉ ุ ูุงูุชู ูุงุฏุฑุงู ูุง ุชุฑุงูุง ูู ุงูุญูุงุฉ ุงููุงูุนูุฉ.  ูุฐุง ูู ุงูุงุฎุชุฑุงู.  ูุฐุง ูุณูุญ ููุง ุจุณุญุจ ุฌููุน ุงูููุงููุณ ุงูุชู ูุฏู ุจุฑูููุซููุณ.  ููู ูุนููุ  ุนูู ูุณุชูู PromQL ููุงู ุฃูู ูู ุงููุณุชุญูู ุฃู ุชูุชุจ ูุซู ูุฐุง ุงูุชุนุจูุฑ ูู ุดุฃูู ุฃู ููุณู ูู ูู ููุช seriers.  ูุฐุง ููุชูุจ ูุจุงุดุฑุฉ ูู ุงูููุงุนุฏ.  ุชููู ูุงุนุฏุฉ ุฃุฎุฑู ุฃูู ูุง ููููู ุฅูุดุงุก ุชุทุงุจู ุชููู ููู ุฌููุน ุงูููู ูุงุฑุบุฉ.  ุฅุฐุง ูุชุจุช ุจุจุณุงุทุฉ ุงูุฃููุงุณ ุ ููู ููุฌุญ ุฐูู.  ุฅุฐุง ูุชุจุช ุงูุงุณู ูุง ูุณุงูู ุฃู ุดูุก (ููุณ ูููุฉ ูุงุฑุบุฉ) ุ ููู ูุนูู.  ูููู ูุฐุง ุงุฎุชุฑุงู ุญูููู ูุชูุญ ูู ุงูููุงู ุจุฐูู.  ููุน ุฐูู ุ ูู ูุชู ุชูุซููู ุจุดูู ุฎุงุต.  ููุงู ุชุนูููุงุช ูู ุงูููุฏ ููุณู ุฃู ูุฐุง ูุนูู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุงุณุชุนูุงู ุงูุซุงูู ูู query_range ุ ุงูุฐู ูููู ุจููุณ ุงูุดูุก ุ ูููู ูุนุฑุถ ูู ุงูุจูุงูุงุช ูู ูุทุงู ูุจุฎุทูุฉ ูุง.  ููู ูุฌุนู ุงุณุชุนูุงููุง ุฃุณุงุณููุง ุนุฏุฉ ูุฑุงุช ููู ุฎุทูุฉ ูู ุงูุจุฏุงูุฉ ุฅูู ุงูููุงูุฉ.  ูุฐุง ูู API ุงููุณุชุฎุฏูุฉ ูุฑุณู ุงูุฑุณููุงุช.  ูุณุชุฎุฏู API ุงูุฃูู ููุญุตูู ุนูู ููู ููุฑูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/nc/cm/cs/nccmcsyofzxubtca8yoyas7p6ag.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฏููุง ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุงุณุชุฑุฏุงุฏ ุงูุจูุงูุงุช ุงููุตููุฉ.  ุฅุฐุง ููุง ูุฑุบุจ ูู ุงูุญุตูู ุนูู ุฌููุน ุฃุณูุงุก ุงูููุงููุณ ุ ูุฅููุง ูููู ุจุฅุฌุฑุงุก ุงุณุชุนูุงู ูุซู ูุฐุง ุ ุญูุซ ุชููู ุงููุทุงุจูุฉ ุนุจุงุฑุฉ ุนู ูุฌููุนุฉ ูู ุงูููุงููุณ.  ูุฏ ูููู ููุงู ุงูุนุฏูุฏ ูู ุงูุญุฌุฌ ุ ูููู ูู ูุฐู ุงูุญุงูุฉ ููุฑุฑ ููุณ ุงููุทุงุจูุฉ ุ ูุงูุชู ูุนูุฏ ูู ุดูุก ุฅูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุตููุฉ ุงูุซุงููุฉ ุ ูุงูุชู ุชูุฑุฌุนูุง ูููุฉ ุฌููุน ุงูุชุตูููุงุช.  ุฅุฐุง ููุง ูุฑูุฏ ุฃู ูุฑู ูุงุฆูุฉ ุจุฌููุน ุงููุธุงุฆู ุ ูุจุฏูุงู ูู label_name ุ ููุชุจ ุงููุธููุฉ ููุญุตู ุนูู ูุฐู ุงููุงุฆูุฉ.  ุชุฑุฌุน ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฐู JSON ุฅูููุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qe/ku/j4/qekuj4lgm4zp-x07kvhoorux_w0.png"></p><br><p style=";text-align:right;direction:rtl">  ููุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุฃุฎุฑู ุชูุฑุฌุน ุฌููุน ููุงููุณ Prometheus ููุณูุง ุจุชูุณูู ููุทู ูููุตุฏุฑูู.  ูุณูู ุงูุชูุณูู expfmt.  ูู Prometheus ููุณูุง ุ ููุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ูู ุงูุงุชุญุงุฏ ุชุณูุญ ูู ุจุชูุฏูู ูุซู ูุฐุง ุงูุทูุจ.  ูุง ูุฐุงุ  ุงูุฎูุงุฑ ุงูุฃุณูู ุ ุฅุฐุง ูุงู ูุฏูู ุจุนุถ ุงูุฃููุงุฏ ุงูุชู ุชุนูู ุจุงููุนู ูุน expfmt ุ ููู ุชุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุชุฏุฑูุจู ููุนูู ูุน ุจุนุถ ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุฎุตุตุฉ JSON.  ูุฐุง ุงูุชูุณูู ุฃุณูู ูุซูุฑูุง ูู ุงูุชุฏูู ุ ูุฃูู ุฅุฐุง ูุงู ูุฏูู JSON ูู ููุงู ูุง ูู ุงููุณุชูู ุงูุฃุนูู ูู ุงููุงุฆู ุ ูุบุงูุจูุง ูุง ุชุญุชุงุฌ ุฅูู ุชุญููู ูุฐุง ุงููุงุฆู ุจุงููุงูู.  ููุง ูููู ุฃู ูุชู ุฐูู ุณุทุฑุง ุณุทุฑุง. </p><br><p style=";text-align:right;direction:rtl">  ุงูุดูุก ุงูุฃูุซุฑ ุฃูููุฉ ูู ุฃูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ูููุตูุฉ.  ูุนูู ุชูุงูุง ูุซู ุงูุชุตุฏูุฑ ุงูุญูููู.  ููููู ุฃู ุชุฃุฎุฐ ุจุฑูููุซููุณ ุงูุฃุฎุฑู ููุดุทูุง.  ูุฐู ูู ูุธููุฉ ููุชุธูุฉ ูุน ุงููุนููุงุช ุงููุนุชุงุฏุฉ.  ุชุญุชุงุฌ ุฅูู ุชูุฑูุฑ ุงููุนููุฉ - ุงุณุชุนูุงู url.  ุฅุฐุง ููุช ุจุชูุฏูู ุทูุจ ุญูููุฉ ุ ูุณุชุญุตู ุนูู ููุณ ุงูุดูุก ููุง.  ูุญุตู ุนูู ุฌููุน ุงูููุงููุณ ูููููุฉ ุงูุฒูููุฉ ุงูุญุงููุฉ.  ุงูุชุญุฐูุฑ ุงููุญูุฏ: ูุฌุจ ุนููู ุชุนููู honor_labels ุญุชู ูุง ูุคุฏู Prometheus ุ ุงูุฐู ุณูููู ุจุฅูุบุงุก ุจุฑูููุซููุณ ุขุฎุฑ ูู ุฎูุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฐู ุ ุฅูู ูุฑู ูููุฉ ุชุณููุฉ ุงููุธููุฉ ูุงููุซูู.  ุจุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุงุชุญุงุฏ ูุฐู ุ ููููู ุชุญููู ุฌููุน ุงูุจูุงูุงุช ูู ุจุฑูููุซููุณ ุฅูู ุขุฎุฑ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/64/lc/yy/64lcyynloe47gbkjlelzyddss60.png"></p><br><p style=";text-align:right;direction:rtl">  ููู ูููู ุงุณุชุฎุฏุงู ูุฐุงุ </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ุงูุดูุก ุงูุฃูุซุฑ ุฃูููุฉ ูู ุฃูู ูุณุช ุจุญุงุฌุฉ ุฅูู ุงูููุงู ุจุฐูู.  ุชู ุชุญุณูู TSDB ูู ุฃูุถุงุน ุงูุชุดุบูู ุงููุฎุชููุฉ.  ุฅุฐุง ูุงู ูุฏูู ุจุฑูููุซููุณ ููุบู ุงููุซูุฑ ูู ุงูุจูุงูุงุช ุ ูุฅูู ููุนู ุงููุซูุฑ ูู I / O.  ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุงุชุญุงุฏ ุ ูุณุชุฒูุฏ ูููุฉ ุฅุฎุฑุงุฌ ุงููุฏุฎูุงุช ุจุญูุงูู ูุฑุชูู.  ููุงู ูุฑูู ุฏูููุฉ.  ุงุนุชูุงุฏูุง ุนูู ุนุฏุฏ ุงููุฑุงุช ุงูุชู ุชุชุฎูุต ูููุง ูู ุงูุงุชุญุงุฏ ุงูููุฏุฑุงูู ูุนุฏุฏ ูุฑุงุช ูุดุท ุงูุฃูุฏุงู.  ุฅุฐุง ูู ูุชู ุชุบููุฑ ุงูููุช ุ ููุฐุง ูุถุงุนู ุงูุนุจุก ุญููุง.  ูุฐูู ุ ุฅุฐุง ููุช ุชุฑุบุจ ูู ุชูุณูุน ูุทุงู ุจุฑูููุซููุณ ุงูุฎุงุต ุจู ูุชูููู ุงูุงุชุญุงุฏ ุ ูุณูู ููุชู.  ุณูู ุงูุญูู ูุถุงุนูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุญุธุฉ ุงูุซุงููุฉ.  ุณูู ุชููู ุชุฎุทู ุงูุจูุงูุงุช.  ุณูู ุชุญุตู ุนูู ุชุนุงุฑุถ ูู ุงูุจูุงูุงุช.  ููุงุฐุง ูุฐุง  ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฐู ุ ูุซู ุฃู API ุชูุฑูุจูุง ูู ุจุฑูููุซููุณ ุ ููุณุช ุฐุฑูุฉ.  ูู ุญุงูุฉ ูุตูู ุจูุงูุงุช ุฌุฏูุฏุฉ ุ ุณุชูุชูู ุนูููุฉ ุฅูุบุงุก ุฌุฏูุฏุฉ ูู ุงูููุช ุงูุฐู ูุง ูุฒุงู ููู ุทูุจ ุงูุงุชุญุงุฏ ุงูุฎุงุต ุจู ููุฏ ุงูุชูุฏู ุ ููููู ุงูุญุตูู ุนูู ุจูุงูุงุช ูุงุญุฏุฉ ูุณูุณูุฉ ุฒูููุฉ ูุงุญุฏุฉ ูุจูุงูุงุช ุฌุฏูุฏุฉ ูุขุฎุฑ.  ุฅุฐุง ูุงูุช ุณูุณูุฉ ุฒูููุฉ ุบูุฑ ูุฑุชุจุทุฉ ุ ููู ููุณุช ูุฎููุฉ ุนููููุง.  ูููู ุฅุฐุง ูุงู ูุฏูู ููุฎุต ุฃู ุฑุณู ุจูุงูู ุ ูุงูุฐู ููุซู ุนูู ูุณุชูู expfmt ุจุนุฏุฉ ููุงููุณ ุฃุณุงุณูุฉ ุ ูุณูููู ููุงู ุชุถุงุฑุจ ุจููููุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/_0/5h/lk/_05hlkpn57b8klhjwborhup4bds.png"></p><br><p style=";text-align:right;direction:rtl">  ููู ูููููุง ุญู ูุฐู ุงููุดููุฉ ุงูุฐุฑูุฉุ  ูุฏู Prometheus ููุงุนุฏ ุชุณุฌูู ุชุชูุญ ูู ุฅูุดุงุก ุณูุณูุฉ ุฒูููุฉ ุฌุฏูุฏุฉ ูู ุณูุณูุฉ ุฒูููุฉ ููุฌูุฏุฉ.  ูุฐุง ูููู ุงูููุงู ุจู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุฃูู.  ูุฐู ูู ุทุฑููุฉ ูุงุญุฏุฉ ููููุงู ุงุฎุชุฒุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุจุฅูุบุงุก ุงููุฏู ูู ุซุงููุฉ ุ ููููุง ูุฑูุฏ ุจุนุฏ ุฐูู ุชุฌููุน node_cpu ูู ุฏูููุฉ ูุงุญุฏุฉ.  ูุชูุญ ูู ุงูุชุฌููุน ูู ุงูุฅุตุฏุงุฑ 2.0 ูู ุจุฑูููุซููุณ ุงูููุงู ุจูุฐู ุงููุฌููุนุงุช ุจุงูุชุณูุณู.  ูุชู ุชูููุฐ ุงูููุงุนุฏ ุงูููุฌูุฏุฉ ูู ููุณ ุงููุฌููุนุฉ ุจุดูู ูุชุณูุณู.  ูู ูุฐู ุงููุฑุญูุฉ ุ ูุง ุชูุฌุฏ ูุดููุฉ ุฐุฑูุฉ ุ ููุง ุชูุฌุฏ ูุดููุฉ ูู ุฃู ุงูุจูุงูุงุช ุณุชุชุบูุฑ ูู ุงูุนูููุฉ.  ูููู ูุฐุง ูุง ูุญู ูุดููุฉ ุญูููุฉ ุฃูู ูู ุงูููุจูู ุฃู ุจุนุถ ุงูุจูุงูุงุช ุงูุฃุฎุฑู ุงูุชู ุชุฑุชุจุท ููุทููุง ูุน ูุฐุง ุ ูููู ููุณุช ูุฑุชุจุทุฉ ูู ูุฌูุฉ ูุธุฑ ูููุฐุฌ ุงูุจูุงูุงุช.  ูุง ููุฌุฏ ุฃู ุฐุฑูุฉ ูููุฉ ุจุนุฏ.  ููุงู ูุดููุฉ ููุชูุญุฉ ุญูู ูุฐุง ุงูููุถูุน.  ููููู ุงูููุงู ุจู ููุทุงุช.  ููููู ุฅูุดุงุก ุงุณุชุนูุงู PromQL ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช TSDB ูุฅุณูุงุท ุฌููุน ุงูุนููุงุช ุงูุชู ุชููู ุฃูู ูู ุจุนุถ ูููุฉ ุงูููุช ุงูุฐู ุจุฏุฃ ูู ุงูุชูููู ูู ุงูููู ุงูุชู ุชู ุงูุญุตูู ุนูููุง.  ุณุชููู ูุฐู ุฃุณูู ุทุฑููุฉ ุ ููู ูู ูุชู ุงูููุงู ุจูุง ุญุชู ุงูุขู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููู ุฃู ูููู ุฃู ููุงุนุฏ ุงูุชุณุฌูู ูุฌุจ ุฃู ุชุชู ุนูู ุงูุจุฑูููุซููุณ ุงูุฃุฏูู ุ ูููุณ ุนูู ุงููุงุนุฏุฉ ุงูุชู ููุนููุง ุงูุงุชุญุงุฏ.  ุฎูุงู ุฐูู ุ ุณูู ุชุชุฎุทู ุงูููู ุ ูุงูุฑุตุฏ ุงูุฎุงุต ุจู ูู ูุนูู ุจุดูู ุตุญูุญ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/kp/jf/hd/kpjfhdz8boamndunerhcx2vgebq.png"></p><br><p style=";text-align:right;direction:rtl">  ููู ูููููุง ุงุณุชุฎุฏุงู ูุฐู ุงููุฌููุนุฉ ูู ูุฐู ุงูุฃุดูุงุก ูุฅุฌุฑุงุก ุงูุงุฎุชุฒุงู ูุงูุชุฎุฒูู ุนูู ุงููุฏู ุงูุทููู. </p><br><p style=";text-align:right;direction:rtl">  ุฃูู ูุงุญุฏ.  ููุฏ ุฃูุดุฃูุง ุงุชุญุงุฏูุง ูุชูุฒูู ุฌููุน ุงูุจูุงูุงุช ูู ุจุฑูููุซููุณ.  ูุฐุง ุงูุชุนุจูุฑ ุงูููุชุธู ุงูุบุฑูุจ ูุดุจู zoidberg - ุฅูู ูู ุงููุงูุน ูุฌุฑุฏ ุงูููููู.  ุนูุงูุฉ ุงููุฌูุฉ ุนูู ูุณุงุฑ ููููู ุงูููููู.  ูุณุชุฎุฏู ุงูุงุณู ุงูููุงุณู ูููุงุนุฏ ุงูุชุณุฌูู ุ ููุง ูุถูู ููุทุชูู ุฅูู ุงูููุชุตู.  ุนูุฏ ุชูุณูู ุงูุงุณู ุงูุฃุตูู ุ ุณูููู ููุงู ูุณุชูู ุชุฌููุน ุนูู ุงููุณุงุฑ ุ ููุธููุฉ ุนูู ุงููููู.  ูุงูููููู ุงูุนุงุฏู ูุชุฑู ูุง.  ุฅุฐุง ูุงู ููุงู ููุทุชูู ุ ููุฐู ุนูุงูุฉ ุนูู ุฃู ูุฐุง ุชุฌููุน.  ุจุนุฏ ุฐูู ุ ูุณุชุฎุฏู ูุฐุง ุงูุงุณู ุงููุชุฑู ูู ุงูุฑุณู ุงูุจูุงูู ูุฏููุง.  ุฅุฐุง ููุง ูุฑูุฏ ุฌุฏูููุง ุงูุฒููู ุ ูุฅู ููุญุฉ ุงูููุงุฏุฉ ูุฏููุง ูู grafana ุชุนูู ูุน Prometheus ุงูุฑุฆูุณู ุ ููุน ูู ูู ุฃุนูู ุ ูููููุง ุงุณุชุฎุฏุงู ุงูุชุนุจูุฑ <strong>ุฃู</strong> .  ูุฃุฎุฐ ุฅูุง ูุชุฑู ูุงุญุฏ ุฃู ุขุฎุฑ ุ ููุฐุง ูุชููู ุนูู ุฃู ูุงุญุฏ ูู.  ูููููุง ุฎุฏุงุน ูุงุณุชุฎุฏุงู ุฅุนุงุฏุฉ ุงูุชุณููุฉ ูุฅุนุงุฏุฉ ุชุณููุฉ ุงููููุงุณ ุงูุฌุฏูุฏ ุฅูู ุงูุงุณู ุงููุฏูู.  ูุฐุง ูู ููุฌ ุฎุทูุฑ ุฅูู ุญุฏ ูุง.  ููููู ุชูุฌุฆุฉ ุงููุฑููุงุช ุงูุนุงุฏูุฉ ุจุดูู ุบูุฑ ุตุญูุญ ูุณูููู ูุฏูู ุชุนุงุฑุถ ูู ุณูุณูุฉ ุฒูููุฉ.  ุณูู ุจุฑูููุซููุณ ูุชุงุจุฉ ุงูุนุฏูุฏ ูู ุงูุชุญุฐูุฑุงุช ุฅูู ุงูุณุฌู.  ุณุชุฑู ูุฐุง ุ ูููู ุงูุนุซูุฑ ุนูู ุงูุณุจุจ ูููู ุฃู ูููู ุตุนุจุง ููุบุงูุฉ.  ูููู ุฅุฐุง ุชู ุงูููุงู ุจู ุจุนูุงูุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅูุดุงุก ูุฐู ุงูุชุนุจูุฑุงุช ุงูุนุงุฏูุฉ ุจุฑูุฌููุง ุ ูุฅู ูุฐุง ุณูู ููุฌุญ.  ุจุนุฏ ุฐูู ุ ุณูููู ูุฏูู ููุญุฉ ูุนูููุงุช ุนุงุฏูุฉ ุญูุซ ูุชู ุงุณุชุฎุฏุงู node_cpu ููุท.  ุงุนุชูุงุฏูุง ุนูู ุจุฑูููุซููุณ ุงููุณุชุฎุฏู ุ ุณุชุชููู ุฅูุง ุจูุงูุงุช ุฃูููุฉ ุฃู ุจูุงูุงุช ูุฌูุนุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hd/ft/1x/hdft1xwgw_61j7tab_3feehhsgy.png"></p><br><p style=";text-align:right;direction:rtl">  ููุง ููุช ุ ูููู ุฅูุดุงุก ููุงุนุฏ ุงูุชุณุฌูู ุจูู ุจุณุงุทุฉ.  ูุญู ููุท ุงูุญุตูู ุนูู ุฌููุน ุงูุณูุงุณู ุงูุฒูููุฉ ูู ุฎูุงู api ุงูุชู ุฃุธูุฑุชูุง ุจุงููุนู.  ูููู ุจุฅูุดุงุก ููุงุนุฏ ููุฌุจ ุฃู ุชุณุชุฎุฏู ูุฐู ุงูููุงุนุฏ ุงููุธุงุฆู ูุงููุดุบููู ุงูุตุญูุญูู.  ูุง ุญุงุฌุฉ ูุงุณุชุฎุฏุงู ูุนุฏู ูุน ูููุงุณ ููุงู.  ูุฐุง ูู ูุนูู ุจุดูู ุตุญูุญ.  ูุฌุจ ุฃู ุชุณุชุฎุฏู ููุท ูุน ุงูุนุฏ.  ุนูู ุงููุณุชูู ุงูุฐู ุชุนูู ููู ุ ูุฏ ูุง ุชุชููุฑ ูุฏูู ูุนูููุงุช ุญูู ุฃููุงุน ุงูุจูุงูุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ููุช ุชุณุชุฎุฏู expfmt.  ููุงู ูุนูููุงุช ุญูู ุงูุฃููุงุน.  ุฅุฐุง ูุงู JSON API ููุณ ููุงู.  ูุชูุฌุฉ ูุฐูู ุ ูุฅู ุงูุชุนุจูุฑ ุงูุฐู ุชูุดุฆู ุชููุงุฆููุง ูุฏ ูุง ูููู ูู ุฃู ูุนูู ูุงุฏู.  ูุฐูู ุ ููููู ุงุณุชุฎุฏุงู ูุงุฆูุฉ ุจูุถุงุก ุฃู ูุงุฆูุฉ ุณูุฏุงุก ููุงู.  ุจูุงุกู ุนูู ูุฐุง ุ ูู ุจุฅูุดุงุก ุงููุงุนุฏุฉ ุงูุชู ุชุญุชุงุฌูุง ุ ุฃู ูู ุจุฅููุงุก ุชูู ุงูููุงุนุฏ ุงูุชู ูุง ูุนูู ููุง.  ููุงู ุฃุฏุงุฉ promtool ุชุชูุญ ูู ุงูุชุญูู ูู ุฃู ุงูููุงุนุฏ ุงูุชู ููุช ุจุฅูุดุงุฆูุง ุ ูุงูุชูููู ุงูุฐู ุฃูุดุฃุชู ุ ุฃูุฑ ููุทูู.  ูุฏููุง ุจูุงุก ุงูุฌููุฉ ุงูุตุญูุญ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/om/wc/fv/omwcfvvh7mc8bky3zkble7vimqm.png"></p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ูุฏููุง Grafana ููุงู ููุงู ุงูุนุฏูุฏ ูู Prometheus ุ ูุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุฃู Prometheus ูุฅุฑุณุงู ุงูุทูุจ ุฅููู.  ููู ููุนู ูุฐุงุ </p><br><p style=";text-align:right;direction:rtl">  ุฅุญุฏู ุงูุทุฑู ูู ูุถุน ูููู ุฎุงุต ูุจุญุซ ูู ุงูููุช ูู ุงูุทูุจ ุ ูุงุนุชูุงุฏูุง ุนูู ูุฐุง ุ ุญุฏุฏ Prometheus.  ุชุญุชูู ุงูุงุณุชุนูุงูุงุช ุนูู ููุช ุงูุจุฏุก ูููุช ุงูุงูุชูุงุก.  ุจูุงุกู ุนูู ุฐูู ุ ููููู ุงูููุงู ุจุงูุชูุฌูู ุจูุฏูู.  ูููู ูููุฑุก ุฃู ููุชุจ ููุนุง ูู ุงูุจุฑูุงูุฌ ุงูุฐู ููุนู ูุฐุง.  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูุชู ุฐูู ุนู ุทุฑูู nginx ุจุงุณุชุฎุฏุงู ูุญุฏุฉ lua ุฃู ุจุฑูุงูุฌ ุตุบูุฑ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ff/ve/vz/ffvevzimxzpnrjrqirbkuqssiqm.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ูุญู ุญููุง ุจุญุงุฌุฉ ุฅูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุชุ  ูู ูููููุง ุงูุนูู ูุน TSDB ูุจุงุดุฑุฉุ  ููุงู ูุงุฑู ุจุณูุท.  ุฃููุงู ุ ุฅุฐุง ุญุงูููุง ุงุณุชุฎุฏุงู TSDB ุ ุงูุฐู ุชุณุชุฎุฏูู ุจุฑูููุซููุณ ุงูุขู ุ ููู ูุชููู ูู ุงูููุงู ุจุฐูู.  ููุงู ููู ููู ุฎุงุต ูููุน ูุฐุง.  ุฅุฐุง ูุชุจูุง ุฑูุฒูุง ุณูุชุฌุงูู ูุฐุง ุงูุฃูุฑ ููุญุงูู ูุฑุงุกุฉ ุงูุจูุงูุงุช ุฃู ูุชุงุจุชูุง ุ ููุญู ูุถูู ุฅุชูุงููุง.  ุนูุงูุฉ ุนูู ุฐูู ุ ุญุชู ุงููุฑุงุกุฉ.  ูุง ุงูุฐู ูููู ุนูููุ  ูููููุง ูุฑุงุกุฉ ุงูุจูุงูุงุช ูู ุฎูุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฅูุดุงุก TSDB ุฌูุจูุง ุฅูู ุฌูุจ.  ุซู ุชููู ุนู ุจุฑูููุซููุณ ูุงุณุชุจุฏูู ุจู TSDB.  ูููู ูู ุงูููุช ููุณู ุ ูููููุง ุงุณุชูุฒุงู ุงูุฃุฏุงุก ุฅุฐุง ูุฑุฃูุง ุฌููุน ุงูุจูุงูุงุช ูู ุฎูุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช.  ุณุฃุชุญุฏุซ ุนู ูุฐุง ุจุนุฏ ูููู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ ุงูุซุงูู.  ููููู ูุณุฎ (ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุณุงุฎูุฉ) ูุฐู ุงููููุงุช ุ ุฃู ูุณุฎ ููุง ูู.  ูุนู ุ ุณูู ุชุชุถุฑุฑ.  ุนูุฏูุง ุชูุชุญ ุ ุณูููู ูุฏูู ุชุญุฐูุฑ ูู ุชูู ุงูุจูุงูุงุช.  ุงููู ุจุญุงุฌุฉ ุงูู ุงู ุชููู ุซุงุจุชุฉ.  ูุฏ ุชููุฏ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ.  ููู ูุฐุง ูุง ููููุง.  ูุฑูุฏ ุงุฎุชุฒุงู ุงูุจูุงูุงุช ุงููุฏููุฉ.  ูููู ุฅุฌุฑุงุก ุงูุงุฎุชุฒุงู ุจุงุณุชุฎุฏุงู PromQL.  ูููู ููุงู ูุงุฑู ุจุณูุท.  ูุตุนุจ ุชูุฒููู ูู Prometheus ุฃูุซุฑ ูู TSDB.  ุฅุฐุง ููุช ูุนุชุงุฏูุง ุนูู ุฅุฏุงุฑุฉ Go ู ุงูุชุจุนูุฉ ุ ูุฅู ุงูุจุงุฆุน PromQL ูู ุฃูู ูุจูุฑ.  ุฃูุง ูุง ุฃูุตุญู.  ุชุฌูุจ ูุฐุง ุฅุฐุง ูุงู ุฐูู ููููุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/2z/ii/fs/2ziifscme6pqm1ppf1n9ripipuq.png"></p><br><p style=";text-align:right;direction:rtl">  ููุฑ ุฅูู ุงูุชุฎุฒูู ุงูุจุนูุฏ.  ูู ุนูู ุฃู ุดุฎุต ูุน Remote Storage ูู ุจุฑูููุซููุณุ  ูููู ุงูุฃูุฏู.  ุงูุชุฎุฒูู ุนู ุจูุนุฏ ุนุจุงุฑุฉ ุนู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ููุฌูุฏุฉ ููุฐ ูุชุฑุฉ ุทูููุฉ.  ุงูุขู ูู ุงูุฅุตุฏุงุฑ 2.2 ุงูุชุฎุฒูู ุนู ุจุนุฏ - ุชู ูุถุน ุนูุงูุฉ ุนูู ุฃููุง ุชุฌุฑูุจูุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ูู ุงููุนุฑูู ุฃู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุชุฎุฒูู ุงูุจุนูุฏ ุณุชุชุบูุฑ ุจุงูุชุฃููุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุฎุฒูู ุนู ุจุนุฏ ูุณูุญ ูู ุจุงูุนูู ููุท ูุน ุงูุจูุงูุงุช ุงูุฎุงู.  ูุง ููุฌุฏ PromQL ูู ุงูุฅุฏุฎุงู ุฃู ุงูุฅุฎุฑุงุฌ.  ุนูุฏูุง ุชูุฑุฃ ุ ูุง ููููู ุงุณุชุฎุฏุงู ุงูููุฉ ุงููุงููุฉ ูู PromQL.  ูููู ุจุดูู ุฃุณุงุณู ุจุถุฎ ุฌููุน ุงูุจูุงูุงุช ูู Remote Storage ุงูุชู ุชุทุงุจู ุงูุญุงูุฉ.  ูุฒูุฏ ูู PromQL ูุนูู ุจุงููุนู ูุนูู.  ูุฐุง ูู ุญูููุฉ ูุจูุฑุฉ ุฌุฏุง.  ุชุญุชุงุฌ ุฅูู ุถุฎ ุงููุซูุฑ ูู ุงูุจูุงูุงุช ุนุจุฑ ุงูุดุจูุฉ.  ูุฐูู ุ ูู ุงูุฅุตุฏุงุฑ 2.3 ูู ุจุฑูููุซููุณ ุ ูุงูุฐู ูู ูุชู ุฅุตุฏุงุฑู ุจุนุฏ ุ ููู ุชู ุชุฃุฌููู ุจุงููุนู ุ ุณุชุชู ูุฑุงุกุฉ ุชูููุญ.  ุณูุชุญุฏุซ ุนู ูุฐุง ูู ููุช ูุงุญู ููููุง. </p><br><p style=";text-align:right;direction:rtl">  ูุง ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ููุจูุงูุงุช ุงููุตููุฉ ุญุชู ุงูุขู.  ูุง ููููู ุฅูุดุงุก ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุชู ุชุฑุฌุน ุฌููุน ุงูุณูุงุณู ุงูุฒูููุฉ ูู ุงูุชุฎุฒูู ุงูุจุนูุฏ.  ุฅุฐุง ููุช ุจุชูุฏูู ุทูุจ ุฅูู API ูู Prometheus ุ ููู ูุนูู ูู ุงูุชุฎุฒูู ุงูุจุนูุฏ.  ุณูุนูุฏ ูู ุงูุณูุณูุฉ ุงูุฒูููุฉ ุงูููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ.  ุฅุฐุง ุชู ุชุนุทูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ ุงูุฎุงุตุฉ ุจู ุ ูุณูู ูุนูุฏู 0. ูุงูุชู ูุฏ ุชููู ุบูุฑ ูุชููุนุฉ ุจุนุถ ุงูุดูุก.  ุงูุขู ูุณุชุฎุฏู API ูุฐุง ProtoBuf ูุณูุชู ุชุบููุฑู ุจุงูุชุฃููุฏ ุฅูู gRPC ูู ุงููุณุชูุจู.  ูู ููุนููุง ุฐูู ุจุนุฏ ุ ูุฃู gRPC ูุชุทูุจ HTTP2.  ููู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ูุฏููู ูุดุงูู ูุนู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lc/7v/ij/lc7vijvha-gtzs_oj74xszwk488.png"></p><br><p style=";text-align:right;direction:rtl"> ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงููุชุงุจุฉ ุชุจุฏู ููุฐุง.  ูุญุชูู ุงูุทูุจ ุนูู ูุฌููุนุฉ ูู ุงูุชุณููุงุช.  ุชุญุฏุฏ ูุฌููุนุฉ ุงูุชุณููุงุช ุจุดูู ูุฑูุฏ ุงูุณูุณูุฉ ุงูุฒูููุฉ.  <code>__name__</code> ูู ูุฌุฑุฏ ุชุณููุฉ ุชุญูู ุงุณููุง ุฎุงุตูุง.  ูุงูุนููุงุช ูู ูุฌููุนุฉ ูู ุงูููุช ูุงูููู - int64 ู float64.  ุนูุฏ ุงูุชุณุฌูู ุ ูููู ุงูุฃูุฑ ุบูุฑ ููู.  ูู ุงูููุชุฑุถ ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุชู ุชูุชุจ ูุฐุง ุจููุณูุง ุณุชูุนู ูู ุดูุก ุจุดูู ุตุญูุญ.  ูุฏ ุชููู ุจุฑูููุซููุณ ุจุจุนุถ ุงูุชุญุณููุงุช ููุง ุชููู ุจุชุฑุชูุจูุง ูุฑุฉ ุฃุฎุฑู.  ูููุง ูุฐูู ุ ุทูุจ ุงููุชุงุจุฉ ูู ูุฌุฑุฏ ุณูุณูุฉ ุฒูููุฉ ููููุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/xd/qr/ud/xdqrudjh5lpomcepkdmkjcfegt0.png"></p><br><p style=";text-align:right;direction:rtl">  ุชูููู ุงููุชุงุจุฉ ูู ุชูููู ูุฑู ุฅูู ุญุฏ ูุง.  ููุงู ุงูุนุฏูุฏ ูู ุงูุฎูุงุฑุงุช ูุชูููู ุชุฒุงูู ุงููุชุงุจุฉ.  ูุง ูุทูู ุนููู ุจุฑูููุซููุณ ุดุงุฑุฏุณ ูู ูู ุงูุฃุณุงุณ ุทูุจุงุช ุชูุงูุณูุฉ.  ููููู ุชุญุฏูุฏ ุงูุญุฏ ุงูุฃูุตู ูุนุฏุฏ ุงูุนููุงุช ูู ุทูุจ ูุงุญุฏ ุ ูุงูุญุฏ ุงูุฃูุตู ููุทูุจุงุช ุงููุชูุงุฒูุฉ ุ ูุงููููุฉ ุงูุฒูููุฉ ุ ูููููุฉ ุงูุชูุฑุงุฑ ุ ุฃู ุงูุชุฑุงุฌุน.  ุจุงููุณุจุฉ ููุนุฏูุฏ ูู ููุงุนุฏ ุงูุจูุงูุงุช ุ 100 ุนููุฉ ูู ุงููุฑุฉ ุงููุงุญุฏุฉ - ูููู ุฃู ูููู ูุฐุง ุตุบูุฑูุง ุฌุฏูุง.  ุฅุฐุง ููุช ุชุณุชุฎุฏู ClickHouse ุ ููุง ููุนู ุ ูุจุงูุทุจุน ูุฌุจ ุฒูุงุฏุฉ ุงููููุฉ ุจุดูู ูุจูุฑ.  ุฎูุงู ุฐูู ุ ุณูููู ุบูุฑ ูุนุงู ููุบุงูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/eb/gk/ew/ebgkewr7k-i2yho9mh7dbogcipm.png"></p><br><p style=";text-align:right;direction:rtl">  ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงููุฑุงุกุฉ ุนู ุจูุนุฏ ุชุจุฏู ููุฐุง.  ุฅูู ูุฌุฑุฏ ูุทุงู ุฒููู ูู ุงูุจุฏุงูุฉ ุฅูู ุงูููุงูุฉ ููุฌููุนุฉ ูุทุงุจูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/hv/kn/jo/hvknjowgf6h9pebjvvhbspe7jac.png"></p><br><p style=";text-align:right;direction:rtl">  ุงููุทุงุจูุฉ ูู ูู ุงูุฃุณุงุณ ูุฌููุนุฉ ูู ุฃุฒูุงุฌ ุงูุงุณู ูุงููููุฉ - ุชุณููุฉ ุนุงุฏูุฉ ูููุน ุงูุญุงูุฉ.  ูู ุงูููุงุฑูุฉ ุ ููุงู ุงููุณุงูุงุฉ ุฃู ุนุฏู ุงููุณุงูุงุฉ ุฃู ุงูุชุนุจูุฑุงุช ุงูุนุงุฏูุฉ.  ูุฐุง ูู ูุญุฏุฏ ุงูุณูุณูุฉ ุงูุฒูููุฉ ุงููุนุชุงุฏ ุงูุฐู ุชุฑุงู ูู PromQL.  ูุง ุชูุฌุฏ ููุฒุงุช ููุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ri/hu/ap/rihuap_py_s_hrp0oywqnyx6yee.png"></p><br><p style=";text-align:right;direction:rtl">  ุงูุฌูุงุจ ุนุจุงุฑุฉ ุนู ุณูุณูุฉ ุฒูููุฉ ููููุฉ ุชุทุงุจู ูุฐุง ุงูุงุณุชุนูุงู.  ููุง ูุฌุจ ูุฑุฒ ุงูุนููุงุช ุญุณุจ ุงูููุช.  ูุฑุฉ ุฃุฎุฑู ุ ูุฐุง ูุณุงุนุฏ ุจุฑูููุซููุณ ุนูู ุชูููุฑ ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ููููุงู - ูุง ุญุงุฌุฉ ูููุฑุฒ.  ูููู ูู ุงูููุชุฑุถ ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจู ูุฌุจ ุฃู ุชูุนู ูุฐุง.  ูู ูุนุธู ุงูุญุงูุงุช ุ ุณูููู ุงูุฃูุฑ ูุฐูู ุ ูุฃูู ุนูู ุงูุฃุฑุฌุญ ุ ุณูููู ููุงู ููุฑุณ ูู ุงูููุช ุงููุญุฏุฏ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/zu/yd/fx/zuydfxti6mozpsz5v60f_i1laic.png"></p><br><p style=";text-align:right;direction:rtl">  ุจุฑูููุซููุณ 2.3 ูุฏู ูุฑุงุกุฉ ุชูููุญ.  ูุง ูุฐุง  ูุฐู ูุฑุตุฉ ูุฅุฎุจุงุฑ Prometheus ุจุงููุธููุฉ ุงูุฏุงุฎููุฉ ุงูุชู ุชุนูู ูุน ุงูุณูุณูุฉ ุงูุฒูููุฉ ุงููุทููุจุฉ ูุงูุชู ุณูุชู ุชุทุจูููุง.  ูุฐุง ูููู ุฃู ูููู ุฅูุง ูุธููุฉ ุฃู ุนุงูู ุงูุชุฌููุน.  ูุฏ ูููู ูุนุฏู.  ุจูุนูู ุ ูุทูู ุนููู func ุ ูููู ูู ุงูุญูููุฉ ูููู ุฃู ูููู sum ุ ูุงูุฐู ูู ูุฌูุฉ ูุธุฑ PromQL ููุณ ูู ุงููุงูุน ูุธููุฉ ุนูู ุงูุฅุทูุงู.  ูุฐุง ูู ุงููุดุบู.  ูุฎุทูุฉ.  ูู ุงููุซุงู ุงูุณุงุจู ุ ูุงู ููุงู ูุนุฏู 1 ุฏูููุฉ.  ููุง ูุนุฏู ูู ูุธููุฉ ูุฏูููุฉ ูุงุญุฏุฉ ูู ุงููููู ุซุงููุฉ ูุฎุทูุฉ.  ูููู ุชุฌุงูู ูุฐุง ุงูุชูููุญ ุจูุงุณุทุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุจุนูุฏุฉ.  ูู ุงูููุช ููุณู ุ ูุง ููุฌุฏ ุฃู ุฅุดุงุฑุฉ ูู ุงูุฅุฌุงุจุฉ ุณูุงุก ุชู ุชุฌุงููู ุฃู ูุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/6_/ms/9_/6_ms9_zh9txqwdafxjoenbdn8so.png"></p><br><p style=";text-align:right;direction:rtl">  ูุง ูู ุชูููู ุงููุฑุงุกุฉุ </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ููุฌุฏ ูุซู ูุฐุง ุงูุชูููู required_matchers.  ูุฐุง ูุณูุญ ูู ุจุฅุฑุณุงู ุทูุจ ุชุฎุฒูู ุนู ุจุนุฏ ูุทุงุจู ุงูุชุนุจูุฑ.  ููุฑุงุกุฉ ุงูุจูุงูุงุช ุงููุฌูุนุฉ ูู "ุงูุชุฎุฒูู ุงูุจุนูุฏ" ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ุงุณุชุนูุงู ูุญุชูู ุนูู ููุทุชูู. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุฎูุงุฑ ูุณูุญ ูู ุจูุฑุงุกุฉ ุฃู ุนุฏู ูุฑุงุกุฉ ุงูุจูุงูุงุช ุงูุญุฏูุซุฉ ูู ูุญุฏุฉ ุงูุชุฎุฒูู ุนู ุจูุนุฏ ุ ุงูููุฌูุฏุฉ ูู TSDB.  ุนุงุฏุฉ ูู ุงูุชูููู ุงูููุงุณู ุ ููุฌุฏ TSDB ูุญูู ุตุบูุฑ ููุชูุจ ุนูู ุงููุฑุต ุงููุญูู.  ุงููุง ุชุฎุฒู ููุงู ูุนุฏุฉ ุณุงุนุงุช ุฃู ุนุฏุฉ ุฃูุงู.  ุชุชู ูุฑุงุกุฉ ุงูุจูุงูุงุช ุงูุชู ุชุณุชุฎุฏููุง ุงูุขู ุ ูุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ููุชูุจููุงุช ุ ูุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ูุฅูุดุงุก ููุญุฉ ุงููุนูููุงุช ุ ููุท ูู TSDB ุงููุญูู.  ุฅูู ุณุฑูุน ุ ูููู ูุง ูุณูุญ ููุง ุจุชุฎุฒูู ุงููุซูุฑ ูู ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุณูุชู ูุฑุงุกุฉ ุงูุจูุงูุงุช ุงูุชุงุฑูุฎูุฉ ุงููุฏููุฉ ูู ูุญุฏุฉ ุงูุชุฎุฒูู ุนู ุจูุนุฏ.  ูุฐุง ูุฌุนู ูู ุงููุงุถุญ ููููุฉ ุงุชุตุงู ุงูุชุฎุฒูู ุงููุญูู ูุงูุชุฎุฒูู ุนู ุจุนุฏ ูุน ุจุนุถููุง ุงูุจุนุถ.  ูุง ููุฌุฏ ุฅูุบุงุก ุงูุจูุงูุงุช ุงูููุฑุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฃุณุงุณุง ูุง ูุญุฏุซ.  ูุชู ุฃุฎุฐ ุงูุจูุงูุงุช ูู ูุญุฏุฉ ุงูุชุฎุฒูู ุงููุญููุฉ ุ ููุชู ุฃุฎุฐ ุงูุจูุงูุงุช ูู ูุญุฏุฉ ุงูุชุฎุฒูู ุนู ุจูุนุฏ ูู ุญุงูุฉ ุชูููู read_recent.  ูู ููุท ุฏูุฌ ูุนุง.  ูุจุฏู ุฃู ูุฐู ููุณุช ูุดููุฉ.  ุฅุฐุง ุงูุชุฑุถูุง ุฃููุง ูู ูุฎูุถ ุญุฌู ุงูุจูุงูุงุช ุงูุญุฏูุซุฉ ุ ููุฐู ุงูุจูุงูุงุช ูู ุจุงูุถุจุท ููุณ ุงูุจูุงูุงุช ุ ููู ุชุชุฒุงูู ุชูุงููุง ูุน ุงูุจูุงูุงุช ุงููุญููุฉ ุ ูุณูููู ูุฏููุง ุถุนู ุนุฏุฏ ุงูุนููุงุช ุ ููุฌุจ ุฃูุง ูุคุซุฑ ุนูู ุฃู ูุธุงุฆู.  ููุณ ุญูุง  ููุงู ูุธููุฉ irate () ูุฒูุฌ ููุง ูููููุงุณ ุ ููุง ูุนูุฏูุง ุฅูู ุงููุฑู ุจูู ุงููููุชูู ุงูุฃุฎูุฑุชูู.  ุฅููุง ุชูุธุฑ ุฅูู ุงููุฑุงุก ูู ุงููุทุงู ุงูุฒููู ุงููุดุงุฑ ุฅููู ุ ูููููุง ุชุณุชุฎุฏู ููุท ุงููููุชูู ุงูุฃุฎูุฑุชูู.  ุฅุฐุง ูุงู ูุฏููุง ุขุฎุฑ ูููุชูู ููุง ููุณ ุงูููุช ุ ูุณูููู ุงููุฑู ุตูุฑุงู.  ูุฐุง ุฎุทุฃ ููู ุงููุณุชุญูู ุชูุฑูุจูุง ุงูุนุซูุฑ ุนููู.  ุชู ุฅุตูุงุญู ูุจู ุฃุฑุจุนุฉ ุฃูุงู ููุท.  ูุฐู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฐูุฑุฉ</a> ูุฃู ุดุฎุต ููุชู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/-q/3w/dw/-q3wdw3czygpvkk009lrnhumska.png"></p><br><p style=";text-align:right;direction:rtl">  ููู ุงููุซูุฑ ููุงูุชูุงู ุ ุฃู ุงููุฑุงุกุฉ ุนู ุจูุนุฏ ุชู ุชูููุฐูุง ูู ูุจู ุจุฑูููุซููุณ ููุฐ ุงูุฅุตุฏุงุฑ 1.8.  ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ุชุณูุญ ูู ุจูุฑุงุกุฉ ุจูุงูุงุช Prometheus ุงููุฏููุฉ ุนูุฏ ุงูุชุฑุญูู ุฅูู ุงูุฅุตุฏุงุฑ 2.x.  ุชูุตุญ ุงูุทุฑููุฉ ุงูุฑุณููุฉ ุจุชูุตููู ููุฑุงุกุฉ ุนู ุจุนุฏ.  ุณูุชู ุทุฑุญ ุงูุจูุงูุงุช ุญุณุจ ุงูุญุงุฌุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุงุณุชุฎุฏุงู ุงููุฑุงุกุฉ ุนู ุจูุนุฏ ููููุงู ุจุชูุฌูู ุงูุงุณุชุนูุงู ุฏูู ูููู.  ูู ุฅุญุฏู ุงูุดุฑุงุฆุญ ุงูุณุงุจูุฉ ุ ุฃูุถุญุช ุฃูู ุ ููููุง ููููุช ุ ูููููุง ุงูููุงู ุจุงูุชูุฌูู ุนูู ุฃุญุฏ ุจุฑูููุซููุณ ุฃู ุขุฎุฑ.  ุจููุณ ุงูุทุฑููุฉ ุ ูููููุง ุชุฌูุจ ูุฐุง.  ููุท ูู ุจุชูุตูู Prometheus ุฃุฏูุงู ููู ูููุฑุงุกุฉ ุนู ุจุนุฏ - ูุณูุชู ูุฑุงุกุฉ ุงูุจูุงูุงุช ูู ููุงู.  ูููู ููุงู ุชุนุฏูู ูุญูููุฉ ุฃูู ุจุงูุทุจุน ุณูุชู ุถุฎ ุงููุซูุฑ ูู ุงูุจูุงูุงุช.  ุฎุงุตุฉ ุฅุฐุง ููุช ูุง ุชุณุชุฎุฏู ุชูููุญ ุงูุงุณุชุนูุงู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gq/op/fz/gqopfzpgoe3kidpqufnedn5gfrk.png"></p><br><p style=";text-align:right;direction:rtl">  ููุงุฐุง clickhouseุ </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูุญููุง ุงูุจุญุซู ุ ุงุฎุชุฑูุง ClickHouse ุ ูุฃููุง ูุธุฑูุง ููู ููุชุฑุฉ ุทูููุฉ.  ูุฏููุง ุฃุดุฎุงุต ูุดุงุฑููู ุจุงุณุชูุฑุงุฑ ูู ุฃุฏุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูุงูุชุญูู ุจุงุณุชูุฑุงุฑ ูู ููุงุนุฏ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ.  ุชุนูู ุดุฑูุชูุง ูู ููุงุนุฏ ุงูุจูุงูุงุช ููุชูุญุฉ ุงููุตุฏุฑ. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ููุฏ ุญูุง ุฃุฏุงุฆูุง ุงูุฎุงู.  ููุชูุง ูู ุญูุซ ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุ ูุงูููุช ูููู ุฌุฑุง ุ ุฌูุฏุฉ ุฌุฏุง.  ุชุชุญุฏุซ ูุนุธู ูุฐู ุงูุฃูุธูุฉ ุนู ูุงุจููุฉ ุงูุชูุณุน ุบูุฑ ุงููุญุฏูุฏุฉ ุ ูููู ูุง ุชุชุญุฏุซ ูุซูุฑูุง ุนู ุงูููุงุกุฉ ูุฎุงุฏู ูุงุญุฏ.  ูููู ุงูุนุฏูุฏ ูู ุนููุงุฆูุง ุจุชุฎุฒูู ุงูููุงููุณ ุนูู ุฒูุฌ ูู ุงูุฎูุงุฏู. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงููุฏูุฌ ูู ุงููุณุฎ ุงููุชูุงุซู ุ sharding. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  GraphiteMergeTree ูู ูุญุฑู ุฎุงุต ูุชุฎุฒูู ุจูุงูุงุช ุงูุฌุฑุงููุช.  ูู ุงูุจุฏุงูุฉ ูุงู ููุชููุง ุฌุฏูุง ุจูุง. </p><br></li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ot/nk/sn/otnksno5uhhcgn7j5-fp5xnxneq.png"></p><br><p style=";text-align:right;direction:rtl">  ุชู ุชุตููู ุงููุญุฑู ูู ุฃุฌู ูุฌููุนุฉ ุจูุงูุงุช ุงูุฌุฑุงููุช (ุชุฑูู ูุชุฌููุน / ุญุณุงุจ). </p><br><p style=";text-align:right;direction:rtl">  ูููู ุงูุฌุฑุงููุช ุจุชุฎุฒูู ุงูุจูุงูุงุช ุงููุงููุฉ ูู ClickHouse ุ ูููููู ุงุณุชูุงููุง ุ ููุถูู ูุฐูู ุฃูู ูุน ุงูุชุฎููู ูู ุงุณุชุฎุฏุงู ุงูุฌุฑุงููุช ุ ูุชู ุงุณุชุฎุฏุงู MergeTree ุจุฏูู ุชุฑูู.  ุงูุดุนูุฑ ูู ุฃู ุงูุจูุงูุงุช ููุชูุฆุฉ ุฏุงุฆููุง ุ ููุง ูุชู ุงููุชุงุจุฉ ุนูููุง ุ ุฅููุง ูุฌุฑุฏ ุชุญุณูู ูููุฑุงุกุฉ.  ููู ุนูููุง ููุณ ุณูุฆุง.  ุนูุฏูุง ูููู ุจุงููุฑุงุกุฉ ุ ูุง ูููู ุจุถุฎ ุงูุจูุงูุงุช ุ ูุชู ุชุฌููุนูุง ุชููุงุฆููุง ุ ูุญุตู ุนูู ุงููููู ูู ุงูุจูุงูุงุช - ูุฐุง ุฌูุฏ.  ุงูุฌุงูุจ ุงูุณูุจู ุจุงููุณุจุฉ ููุง ูู ุฃู ูุชู ุชุฎุฒูู ุฌููุน ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููุช ุฃุณุชุนุฏ ูู ุจุฏุงูุฉ ุงูุดูุฑ ููุชูุฑูุฑ.  ูุฃุชู ุดุฎุต ูุง ูู ูุญุงุฏุซุฉ ุจุฑููุฉ ููุณุฃู - "Downsample ุจูุงูุงุช GraphiteMergeTree"ุ  ุฃูุง ุฃูุชุจ ุจุงููุนู ูุง.  ุงููุซุงุฆู ุชููู ูุง.  ููู ุงูุดุฎุต ุงูุขุฎุฑ ูู ุงูุฏุฑุฏุดุฉ ูุฑุฏ "ูุนู ุ ุชุญุชุงุฌ ุฅูู ุชุญุณูู ุงูุงุชุตุงู".  ุชุดุบูู ุ ุชุญูู - ูุนู ุงูุญูููุฉ.  ุงููุซุงุฆู ูู ูู ุงูุฃุณุงุณ ุฎุทุฃ.  ุซู ูุฑุฃุช ุดูุฑุฉ ุงููุตุฏุฑ ุ ูุงูุชุญูู ุ ุงุชุถุญ ุฃู ููุงู ุงูุฃูุซู ุ ูุชุญุณูู ุงูููุงุฆู.  ุชู ุฅูุดุงุก Optify final ูู ุงูุฃุตู ุฎุตูุตูุง ูู GraphiteMergeTree.  ูู ุงููุงูุน ุงูุงุฎุชุฒุงู ููุนู.  ูููู ูุฌุจ ุฃู ูุทูู ุนููู ุจูุฏูู. </p><br><p style=";text-align:right;direction:rtl">  ูุญุชูู GraphiteMergeTree ุนูู ูููุฐุฌ ุจูุงูุงุช ูุฎุชูู.  ููุณ ูุฏูู ุชุณููุงุช.  ูุชุงุจุฉ ูู ุฐูู ุจูุนุงููุฉ ุจุงุณู ุงูููุงููุณ ูุง ูุนูู ุจุดูู ุฌูุฏ ููุบุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุฎุฒูู ููุงููุณ ุงูุงุณู ูู ุฌุฏูู ูุงุญุฏ.  ุงุณู ุงูููุงููุณ ูู ุทูู ูุฎุชูู.  ูุคุฏู ูุฐุง ุฅูู ุญูููุฉ ุฃููุง ุฅุฐุง ูููุง ุจุฅุฌุฑุงุก ุจุญุซ ููุฑุณ ุจุงุณู ุงููููุงุณ ุ ูุธุฑูุง ูุฃู ุงูุทูู ูุฎุชูู ุ ููู ูููู ูุฐุง ุงููุคุดุฑ ูุนุงููุง ููุง ูู ูุงู ููุฐุง ุงููุคุดุฑ ูููุฉ ุทูู ุซุงุจุชุฉ.  ูุฃูู ุจุญุงุฌุฉ ุฅูู ุฅุฌุฑุงุก ุจุญุซ ูู ุงููููุงุช.  ูู ุงููุณุชุญูู ุชุญุฏูุฏ ููุงู ุงููุจูุท ุจุฏูุฉ ูู ุฃุฌู ุฅุฌุฑุงุก ุจุญุซ ุซูุงุฆู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/c3/v4/zf/c3v4zfriducmhoahjwujmp1zdga.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุฌุนููุง ูุฎุทุทูู ุงูุฎุงุต.  ุชูุถุญ ุงูุดุฑูุญุฉ ููู ูููู ุจุชุฎุฒูู ุงูุณูุงุณู ุงูุฒูููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ุงูุชุงุฑูุฎ ุงูุฐู ุชุญุชุงุฌู ClickHouse ูู ุจุตูุฉ.  ุฅุฐุง ูุธุฑุช ุฅูู ูุตุงุฏุฑ Prometheus ุฃู TSDB ุ ูุฃูุช ุชุนูู ุฃู ุจุตูุฉ ุงูุฅุตุจุน ูู ุนุจุงุฑุฉ ุนู ูุฌููุนุฉ ุงุฎุชุจุงุฑูุฉ ุณุฑูุนุฉ ูุตูุฑุฉ ุจุดูู ุฃุณุงุณู ูุณูุณูุฉ ุฒูููุฉ ุงูุงุณู ุงููุงูู.  ุงูุจุตูุฉ ูู ูุฒูุฌ ูู ุฌููุน ุงูุชุณููุงุช ูุงูููุงุชูุญ ูุงูููู.  ุงูุงุณู ูู ุชุณููุฉ ุนุงุฏูุฉ.  ูุณุชุฎุฏู ููุณ ุงูุฎูุงุฑุฒููุฉ ููุชูุงูู.  ุงูุฎุตู ูู ุดูุก ูููู ุฃู ุชููู ูุฑูุญุฉ.  ุงูุจุตูุฉ ูู ููุณูุง ููููู ุงูุชุญูู ูููุง ูู TSDB ูุงูุชุฎุฒูู ูุฏููุง ูู ููุณูุง.  ูุชู ุชุฎุฒูู ุงูููุตูุงุช ูู JSON ุฎุงุต ุ ูุงูุฐู ูุณูุญ ClickHouse ููุนูู ูุนูุง ูุน ูุธุงุฆููุง ุงูููุงุณูุฉ.  ูุฐุง ูุถุบูุท JSON ุจุฏูู ูุณุงูุงุช ุ ูุน ุชุณููุฉ ูุจุณุทุฉ ููููุงู.  ูุง ูุณุชุฎุฏู ูุฐุง ุงูุฌุฏูู ุฃุซูุงุก ุงูุชุดุบูู.  ูุชู ุชุฎุฒููู ุฏุงุฆููุง ูู ุฐุงูุฑุฉ ุงูุญู ุงููุนูู ูุฏููุง ุ ูุงูุฐู ูุณูู PromHouse.  ูุชู ุงุณุชุฎุฏุงูู ููุท ุนูุฏูุง ูุจุฏุฃ ุชุดุบูู ุงูุฎุงุฏู ูู ุฃุฌู ูุนุฑูุฉ ุงูุณูุณูุฉ ุงูุฒูููุฉ.  ุงููุง ูุทุฑูุญุฉ.  ูุน ูุตูู ุณูุณูุฉ ุฒูููุฉ ุฌุฏูุฏุฉ ุ ูุณุฌููุง ููุงู.  ูููู ูุฌููุน ูุซููุงุช PromHouse ุงููุชุนุฏุฏุฉ ูุฑุงุกุฉ ููุณ ุงูุฌุฏูู.  ูุฎุจุฑูุง ReplacingMergeTree ุฃู ูุฐู ุงูุณูุงุณู ุงูุฒูููุฉ - ููุงู ุนุฏุฉ ุญุงูุงุช ูุฎุชููุฉ - ุชูุชุจ ููุณ ุงูุณูุงุณู ุงูุฒูููุฉ.  ุณูู ูุฌุงุฏููู - ููู ุชููู ููุงู ูุดููุฉ ููุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ms/lg/1t/mslg1tnbc97nrlauwcr9ekj-p3k.png"></p><br><p style=";text-align:right;direction:rtl">  ูููู ุจุชุฎุฒูู ุงูุนููุงุช ูู ุฌุฏูู ูููุตู ุจููุงุกุฉ ุนุงููุฉ.  ูุน ูููุฉ ุทูู ุซุงุจุชุฉ ุ ุชููู ุจุตูุฉ ุงูุฅุตุจุน ูุฐู ูู ููุณ ุงูููุช ูุงููููุฉ.  ูุญุตู ุนูู 24 ุจุงูุช ููู ุนููุฉ.  ูุฏููุง ุทูู ุซุงุจุช ุจุฏูุฉ.  ูุชู ุชุฎุฒูู ูู ุนููุฏ ุนูู ุญุฏุฉ.  ุจุญุซ ุจุตูุงุช ุงูุฃุตุงุจุน ูุนุงู ูุฃููุง ูุนุฑู ุฃู ุงูุญุฌู ุซุงุจุช.  ูุง ุชูุฌุฏ ูุดููุฉ ูุซู GraphitmergeTree ุนูุฏูุง ุชููู ุณูุณูุฉ.  ูุณุชุฎุฏู ุงูุชูุณูู ุงููุฎุตุต.  ูุคุดุฑ ุจุตูุฉ ุงูุฃุณุงุณู ูุงูููุช. </p><br><p style=";text-align:right;direction:rtl">  24 ุจุงูุช ูู ูุณุฎุฉ ูุจุณุทุฉ.  ูู ุงููุงูุน ุ ูุถุบุท ุฌูุฏุง.  ูู ุงููุงูุน ูุณุชุฎุฏู ูุณุงุญุฉ ุฃูู.  ูู ุฃุญุฏุซ ุงุฎุชุจุงุฑุงุชูุง ุ ุชููู ูุณุจุฉ ุงูุถุบุท ุญูุงูู 1 ุฅูู 42. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wu/5y/24/wu5y2499vjvrcm37ct1gudfrpym.png"></p><br><p style=";text-align:right;direction:rtl">  ููู ูููููุง ุฅุฌุฑุงุก ุงูุงุฎุชุฒุงู ุงููุฏูู ุฅุฐุง ูุงู ูุฏููุง GraphiteMergeTree ุ ูููู ููุณ ุจููุณ ุงูุทุฑููุฉ ุงูุชู ูุฑุบุจ ูููุง.  ูู ุงููุงูุน ุ ูููููุง ุฃู ููุนู ุฐูู ุจุงููุฏ.  ููุง ูุนูุช ุณุงุจูุง ุชูุงุณู ุ ุงูุชูุณูู ุ ุนูุฏูุง ูู ููู ููุงู ุดูุก ูุฏูุฌ.  ูุตูุน ุทุงููุฉ ุฌุฏูุฏุฉ ุจุฃูุฏููุง.  ุนูุฏูุง ุชุฃุชู ุฅูููุง ุนููุฉ ุฒูููุฉ ุ ูุญุฏุฏ ุงูุฌุฏูู ุงูุฐู ููุชุจ ุฅููู. </p><br><p style=";text-align:right;direction:rtl">  ูุฎุชุงุฑ ุงูููุช ูู ุงูุงุณุชุนูุงู ุงูุฐู ููุฑุฃ ููู ุงูุฌุฏูู.  ุฅุฐุง ุญุฏุซุช ุงููุฑุงุกุฉ ุนูู ุงูุญุฏูุฏ ุ ูุณููุฑุฃ ุนุฏุฉ ุฌุฏุงูู.  ุงูุชุงูู ูุญูู ูุฐู ุงูุจูุงูุงุช.  ูููู ูููุฑุก ุงุณุชุฎุฏุงู ุทุฑููุฉ ุงูุนุฑุถ ููุฐุง.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุจุนูู ุทุฑููุฉ ุนุฑุถ ูุนุฏุฉ ุฌุฏุงูู ุ ููุง ูุณูุญ ุจูุฑุงุกุชูุง ูู ุงุณุชุนูุงู ูุงุญุฏ.  ูููู ููุงู ุฎุทุฃ ูู ClickHouse: ุงููุณูุฏ ูู ุงูุนุฑุถ ูุง ูุชู ุงุณุชุจุฏุงูู ูู ุงูุงุณุชุนูุงูุงุช.  ูุฐูู ุ ุฅุฐุง ููุช ุจุชูุฏูู ุทูุจ ูู ุงูุนุฑุถ ุ ูุณูุฐูุจ ุฅูู ุฌููุน ุงูุฌุฏุงูู.  ุนุฑุถ ูุง ูููููุง ุงุณุชุฎุฏุงู. </p><br><p style=";text-align:right;direction:rtl">  ููู ููุนู ุงูุงุฎุชุฒุงูุ  ูุฎูู ุฌุฏูู ูุคูุช.  ุงูุณุฎ ุงูุฅุฏุฎุงู ูู ุจูุงูุงุช ูุญุฏุฏุฉ ููู ุจุงุณุชุฎุฏุงู ุงููุธุงุฆู ุงูุตุญูุญุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุนู ุฅุนุงุฏุฉ ุชุณููุฉ ุงูุชู ูู ุงูุฐุฑูุฉ ุชุญุช ุงูููู ุงูุนุงููู.  ูุญู ูุนูุฏ ุชุณููุฉ ุงูุฌุฏูู ุงูุญุงูู ุฅูู ุงููุฏูู.  ุฌุฏูุฏุฉ ุฅูู ุงููุงุฆูุฉ.  ูุณูุท ุงูุฌุฏูู ุงููุฏูู.  ูุฏููุง ุจูุงูุงุช ููุฏุฉ 148 ููููุง.  ูุง ูู ุงููุดููุฉ ููุงุ  ุชุถุงู ุงูู ุชุจุฏู ุฌูููุฉ.  ูู ุงููุงูุน ุ ูุญู ุจุญุงุฌุฉ ุฅูู ุชุทุจูู ุงููุธุงุฆู ุงูุตุญูุญุฉ ุ ุงูุชุฌููุน ุงูุตุญูุญ ููููุงู ุจู.  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูุง ูููู ุงูููุงู ุจุฐูู ุจุทูุจ ูุงุญุฏ ูุจูุฑ.  ุญุชู ุนุฏุฏ ูููู ูู ุงูุทูุจุงุช ุงููุจูุฑุฉ ูุง ูููู ุชูุฏูููุง.  ูุฐุง ูุฌุจ ุงูููุงู ุจู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ.  ูุฑุณู ุงูุฑูุฒ ุนุฏุฏูุง ูุจูุฑูุง ูู ุงูุทูุจุงุช ุงูุตุบูุฑุฉ.  ููุฏ ุจุฐููุง ูุตุงุฑู ุฌูุฏูุง ููููุงู ุจุฐูู ูุน ุงูุทูุจุงุช ุงููุจูุฑุฉ ุ ูููู ูุฐุง ููุณ ูุนุงููุง ููุบุงูุฉ.  ุชุณุชุบุฑู ุจูุงูุงุช ุงูุงุฎุชุฒุงู ูู ููู ูุงุญุฏ ุญุชู ุงูุขู ุฃูู ูู ููู ูุงุญุฏ.  ุญุณุจ ูููุฉ ุงูุจูุงูุงุช ุ ูุฏ ูุณุชุบุฑู ุงูุฃูุฑ ููุชูุง ุทูููุงู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/7c/94/h4/7c94h4t2bbvk5x-3acoftonomxa.png"></p><br><p style=";text-align:right;direction:rtl">  ุณูููู ClickHouse ุชุญุฏูุซ / ุญุฐู.  ุญุฐู ุจุงููุนู ุญุตูุช ุนูู ุงูุฅุตุฏุงุฑ ุงูุฃูู.  ุฅุฐุง ูุฌุญ ุงูุชุญุฏูุซ / ุงูุญุฐู ุ ููููู ุชุจุณูุท ูุธุงู ุจูุงูุงุช ุงูุงุฎุชุฒุงู. </p><br><p style=";text-align:right;direction:rtl">  ุซุงููุงู ุ ูุฏู ClickHouse ูููุฉ ุฅูุดุงุก ุถุบุท ูุฎุตุต (ุฏูุชุง ุ ุฏูุชุง ุฅูู ุฏูุชุง).  ูุฐุง ูุง ููุนูู TSDB.  ูุฐุง ููุงุณุจ ุชูุงููุง ูุจูุงูุงุช ุงูุณูุงุณู ุงูุฒูููุฉ.  ูุฐุง ูููุฏ ุจุดูู ุฎุงุต ุฅุฐุง ููุง ูุงุฏุฑูู ุนูู ุงุฎุชูุงุฑ ููุน ุงูุถุบุท ููููุง ูุฃููุงุน ุงูุจูุงูุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ุงูุนุฏุงุฏ ุ ุงูุฐู ูููู ููุท - ููุฐุง ุ ูุนุฏ ุถุบุท ุฏูุชุง ุฏูุชุง ููุงุณุจูุง.  ูููุงุณ ูุชููุจ ุญูู ุงูุญุฌู ุ ูุจุงูุชุงูู ูุฅู ุงูุฏูุชุง ุชุนูู ุจุดูู ุฌูุฏ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/od/mv/hx/odmvhxcnnite5wum9k9gwfifbec.png"></p><br><p style=";text-align:right;direction:rtl">  ููุงู ุงูุชุฎุฒูู ุงูุฃุฎุฑู ุงูุชู ุชุนูู.  ููุงู InfluxDB ุงูุฐู ูุนูู ุฎุงุฑุฌ ุงูุตูุฏูู.  ูู ุงููุนุชุงุฏ ุฃู ุชุฃููุจู ููุณุฑุนุฉ ุ ููู ูุง ููุฌุญ ูู ูุฐุง ุงููุฌุงู ูููุณ ุนููู ุฃู ุชูุนู ุดูุฆูุง ุฌูุฏูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุงู OpenTSDB ูุงูุฌุฑุงููุช ุ ููู ูููุชุงุจุฉ ููุท.  ุงููุญูู ุงูููุงุณู ูู ุจุฑูููุซููุณ ูุง ูุนูู ุญููุง. </p><br><p style=";text-align:right;direction:rtl">  ููุงู CrateDB.  ููุงู TimescaleDB ุงูุฐู ุดููุฉ PostgreSQL ูููุงุนุฏ ุจูุงูุงุช ุงูุณูุงุณู ุงูุฒูููุฉ.  ูููููู ุฃู ูุฐุง ูุนูู ุจุดูู ุฌูุฏ ุ ููููุง ูุญู ุฃููุณูุง ูู ูุฌุฑุจู. </p><br><p style=";text-align:right;direction:rtl">  ููุงู Cortex ุ ูุงูุฐู ูุงู ูุนุฑู ุฃูุถูุง ุจุงุณู ูุดุฑูุน ูุฑุงููุดุชุงูู.  ูุฐุง ูุตูู ุฌูุฏุง.  ูุฐุง ูู ุงูุฑุฌุงู ุงูุฐูู ูุญุงูููู ุงุชุฎุงุฐ ูุฑุงุฑ ุจูุงุกู ุนูู ุงุชุญุงุฏ ุจุฑูููุซููุณ.  ูููููู ุจุชุฎุฒูู ุงูุจูุงูุงุช ูู S3. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุซุงููุณ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฏูู ููุฏุณุฉ ูุซูุฑุฉ ููุงูุชูุงู ููุบุงูุฉ.  ููุงู ุจุฑูููุซููุณ ุงูุฐู ูุณุชุฎุฏู TSDB ุงููุญููุฉ.  ูุชู ุฅูุดุงุก ูุชูุฉ ุจููููุง.  ููุฌุฏ ุจุฌุงูุจ ูู ุณูุงุฑุฉ ุจุฑูููุซููุณ ุฌุงูุจ ุฌุงูุจู ุฎุงุต ููุจู ุงูุทูุจุงุช ุนุจุฑ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูููุฑุงุกุฉ ูุงููุชุงุจุฉ ุนู ุจูุนุฏ.  ุงูู ูุนูุฏ ุชูุฌูู ูุฐู ุงูุทูุจุงุช ุฅูู ุจุฑูููุซููุณ.  ูููู ูู Prometheus ุงุณุชุฎุฏุงู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูููุฑุงุกุฉ ูุงููุชุงุจุฉ ุนู ุจูุนุฏ.  ุฌููุน ุงูุณูุงุฑุงุช ุงูุฌุงูุจูุฉ ูุชุฑุงุจุทุฉ ูุจูู ุฃุณุงุชุฐุฉ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุฎุตุตุฉ ุนุจุฑ gRPC ุ ุงููุณุฎ ุงููุชูุงุซู ูุชุงุญ ุ ูููุงู ุฅุนุงุฏุฉ ุชุธููู. </li><li style=";text-align:right;direction:rtl">  ุงูุนูุงุฑุฉ ุงููุชุทูุฑุฉ. </li><li style=";text-align:right;direction:rtl">  ุงููุง ุฑุทุจุฉ ุฌุฏุง.  ูุจู ุดูุฑูู ุ ูุงู ูููุงุฑ ูู ุฑููุฉ ุฌุฒุงุก ุนูุฏูุง ุจุฏุฃุช. </li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/a9/rc/zm/a9rczmkse4viit4vvr4hgqfcuts.png"></p><br><p style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู ูููุฐุฌ ุงูุณุญุจ ูุง ููุชุจ ุงููุซูุฑ ูู ุงูุจูุงูุงุช.  ุชุญุชุงุฌ ุฅูู ุงูุงูุชุธุงุฑ ููุฏุฉ ุนุงู ูุงูู ูููุก ุงูุจูุงูุงุช ุงูุณูููุฉ.  ูุญู ูุญุงูู ุฃู ููุชุจูุง ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ูุชุงุจุฉ ุนู ุจุนุฏ ูู ุจุฑูููุซููุณ ุ ูุจุงูุชุงูู ุ ูู ุชุนูู ูุชุงุจุฉ ุงููุซูุฑ ูู ุงูุจูุงูุงุช ุฅูู TSDB ุงููุญูู. </p><br><p style=";text-align:right;direction:rtl">  ุงููุดููุฉ ุงูุซุงููุฉ.  ุฅุฐุง ูููุง ุจุฅูุดุงุก ุจูุงูุงุช ูุงุฎุชุจุงุฑ ุงูุฅุฌูุงุฏ ุ ูุบุงูุจูุง ูุง ุชูุชุฒ ุฌูุฏูุง.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุฃุฎุฐูุง ุงูุจูุงูุงุช ุงูุญุงููุฉ ููููุง ุจุฅูุดุงุก 100 ุญุงูุฉ ุ ููุฐู ูู ููุณ ุงูุจูุงูุงุช ุ ูุณูููู ูุนุงูู ุงูุถุบุท ุฌููููุง ูุฏุฑุฌุฉ ุฃูู ูุง ูุญุฏุซ ูู ุงููุงูุน. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/fy/mc/uk/fymcukkdoo3hi78gkw1eb2ipvsk.png"></p><br><p style=";text-align:right;direction:rtl">  ููุฏ ูุชุจูุง ูุตุฏุฑูุง ูุฒูููุง ูุดุจู ุงููุตุฏุฑ ุงูุนุงุฏู ุงูุฐู ูููู ูู ุจุฑูููุซููุณ ุฃู ูุซุจุชู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุฃุชู ุงูุฎุฑุฏุฉ ุ ูุฐูุจ ุฅูู ูุตุฏุฑ ูุง ูู ุงูููุจุน.  ูุฃุฎุฐ ุงูุจูุงูุงุช ููู. </li><li style=";text-align:right;direction:rtl">  ูููุฏ ุงูุนุฏูุฏ ูู ุงูุญุงูุงุช.  ุฏุนูุง ูููู 1 ูู scrapie ุ ูุญุตููุง ุนูู 100 ูู ุงูุฅุฎุฑุงุฌ. </li><li style=";text-align:right;direction:rtl">  ูุบูุฑ ุงูุจูุงูุงุช ููููุงู: ุฒุงุฆุฏ ูุงูุต 10ูช ููุนุฏุงุฏ ูุงูููุงุณ. </li><li style=";text-align:right;direction:rtl">  ูุง ูุบูุฑ ุงูููู ุงูุจุณูุทุฉ 0 ุฃู 1. ูุฃูู ุฅุฐุง ูุงู ููุงู ูููุงุณ UP ูุณุชุฌูุจ ูุฅูู ููุถุญ ูุง ุฅุฐุง ูุงูุช ุงูุฎุฏูุฉ ููุฏ ุงูุชุดุบูู: ูุนู - 1 ุฃู ูุง - 0. ูููุณ ูู ุงููุงุถุญ ุฌุฏูุง ูุงุฐุง ูุนูู 098 UP. </li><li style=";text-align:right;direction:rtl">  ูุญู ูุง ูุบูุฑ ุงูุฃุนุฏุงุฏ ุงูุตุญูุญุฉ ุฅูู ุงูุฃุนุฏุงุฏ ุงูุตุญูุญุฉ ูุงูุนูุณ ุตุญูุญ. </li><li style=";text-align:right;direction:rtl">  ุฅูู ูุนุทู ููุท ุงูุจูุงูุงุช ุจุชูุณูู expfmt ุงููุนุชุงุฏ. </li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/c0/ja/hc/c0jahc5ryn-oxhwxnke_vaj1mia.png"></p><br><p style=";text-align:right;direction:rtl">  ุฃุฏุงุฉ ุงูุชุญููู ุงูุชู ุชููู ุจุชุญููู ุงูุจูุงูุงุช.  ูุฑุงุกุฉ ุงูุจูุงูุงุช: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุงููุฑุงุกุฉ ูู ุงููููุงุช ุจุชูุณูููุง ุงูุฎุงุต </li><li style=";text-align:right;direction:rtl">  ุฑุจูุง ูู ุงููุฑุงุกุฉ ุนู ุจุนุฏ </li><li style=";text-align:right;direction:rtl">  ูููู ุฃู ุชูุฑุฃ ูู ุจุนุถ ุงููุตุฏุฑูู </li></ul><br><p style=";text-align:right;direction:rtl">  ููุชุจ ูู ุฃุดูุงู ูุฎุชููุฉ.  ุจูุง ูู ุฐูู / dev / null ุ ุฅุฐุง ููุง ูุฑุบุจ ูู ุงุฎุชุจุงุฑ ุจุงูุถุจุท ููู ุชุนูู ุงููุฑุงุกุฉ ุจุณุฑุนุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูู ุฃุฏุงุฉ ุงุฎุชุจุงุฑ ุงูุชุญููู ููุณ ููุท ูู PromHouse ุ ูููู ุฃูุถูุง ูุฃู ุญู ูุณุชุฎุฏู ุงููุฑุงุกุฉ ุนู ุจูุนุฏ ุฃู Prometheus. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qr/xa/-2/qrxa-2wg58troaskuqhqowwicq4.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฑูุฏ ุฅุถุงูุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูููุฑุงุกุฉ ุ ูุฃูู ูู ุงุฎุชุจุงุฑุงุชูุง ูุงู ุนูู ุงูุฒุฌุงุฌุฉ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูุตุฏุฑูุง ูุฒูููุง ุ ุญูุซ ุชููุฏ ุจูุงูุงุช ููุชุฑุฉ ุทูููุฉ.  ูููู ุฃู ูุฎุจุฆูู.  ููููู ุฌูุฏูุง ุจุดูู ุบูุฑ ูุงูุนู.  ููููุง ูู ุชุจุทุฆ.  ูู ููู ูุฏููุง ูุงูุชุธุงุฑ ุฃูุงู ูุงุฎุชุจุงุฑ ุงูุฅุฌูุงุฏ. </p><br><p style=";text-align:right;direction:rtl">  ููุน ูู ุงูุชุฑุดูุญ ุนูู ุงูุทุงูุฑ ุ ููุน ูู ุงูุชุนุฏูู ุนูู ุงูุทุงูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุฏุนู ุงูุฃุตูู ู TSDB.  ูู ุฃุฌู ุงูุนูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู ุงููุฑุต ุ ูููุณ ูู ุฎูุงู API. </p><br><p style=";text-align:right;direction:rtl">  ุงูุชุฑููุฒ ุนูู ุงูุฏูุฉ ูููุฌุฑุฉ.  ุฃูุง ูุฑุฉ ูุงุญุฏุฉ ูุถุนุช pmmdemo.percona.com: ูุชุตูุฉ ุ ุชููู ุฌููุน ุงูููุงููุณ.  ุฅุฐุง ููุช ุจุฐูู ุจุทุฑููุฉ ุฃุตููุฉ ุ ูุฅู Prometheus ููุชุญ TSDB ุ ููุฌูุน ูู ุงูุณูุงุณู ุงูุฒูููุฉ ูู ุงููุฑุต ุ ููุฒูุฏ ุงูููุงุฑุณ ุ ุซู ูุฒุญู ุฅูู ูููุงุช ูุจูุฑุฉ ุ ููุฏุฑู ุฃูู ููุฌูุฏ ุจุงููุนู.  ุนูุฏ ูุฐู ุงูููุทุฉ ุ ูู ุดูุก ูููู ุฃู ูุณุชููู. </p><br><p style=";text-align:right;direction:rtl">  ุชุชูุซู ุงูุทุฑููุฉ ุงูุณุงุฐุฌุฉ ูู ุฃุฎุฐ ุงูุณูุณูุฉ ุงูุฒูููุฉ ุจุฃููููุง ูุงููุฑุงุกุฉ ูู ุงูุจูุงูุงุช ุงููุฏููุฉ ุฅูู ุงูุฌุฏูุฏุฉ.  ูู ุชูู ุงููุญุธุฉ ุณูู ูุณุชููู.  ูุง ุนููู ุงูููุงู ุจู ูู ุนูุณ ุฐูู.  ุชุญุชุงุฌ ุฃููุงู ุฅูู ุงูุญุตูู ุนูู ูุงุฆูุฉ ุงูุณูุงุณู ุงูุฒูููุฉ ูุน ุจุนุถ ุงูุงุณุชุนูุงูุงุช ุฐุงุช ุงูุชุนุจูุฑุงุช ุงููุนุชุงุฏุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุณูุณูุฉ ุฒูููุฉ ุชุจุฏุฃ ูู A. ุซู ุฃุนุทูู ุณูุณูุฉ ุฒูููุฉ ุชุจุฏุฃ ูู B. ุซู ูู ุจุชุญููููุง ุจุงูุถุจุท ุจูุงุณุทุฉ ุงูููุงููุณ ุ ูููุณ ุญุณุจ ุงูููุช.  ูุฐุง ุบูุฑ ููุทูู ุ ููู ููุฐุง ูุนูู.  ูุฐุง ูู ูุงุฑู ุจุณูุท ุฅุฐุง ููุช ุชูุนู ุดูุฆุง ูู ูุฐุง ุงููุจูู.  ุฅุฐุง ุฑุฃูุช ุฃู OOM Killer ูุฏ ุญุฏุซ ููุงู ุ ูุนูุฏุฆุฐ ุณุชุนูู ุฃูู ุจุณุจุจู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mz/z9/kh/mzz9khnykox-3r2wlp_lpgphil4.png"></p><br><p style=";text-align:right;direction:rtl">  ูุชุงุฆุฌ ุงุฎุชุจุงุฑ ุงูุญูู ุ ูู ูููู ููุงู ุฃู ุฑุณูู ุจูุงููุฉ.  ูุณุชุบุฑู ุงุฎุชุจุงุฑ ุงูุญูู ุงููุซูุฑ ูู ุงูููุช ุ ููุณูุก ุงูุญุธ ุ ูุธุฑูุง ูุญุฏูุซ ุฎุทุฃ ูู ุงูุชูููู ุ ุญุฏุซ ูู ุดูุก ุฎุทุฃ.  ูุฐูู ุ ูู ุชูุฌุญ ุงููุชุงุฆุฌ. </p><br><p style=";text-align:right;direction:rtl">  ุณูู ููุชุจ ุนูู ูุฏููุฉ Percona ุนูุฏูุง ูููู ุจุฅุฌุฑุงุก ุงุฎุชุจุงุฑ ุงูุญูู. </p><br><p style=";text-align:right;direction:rtl">  ุฃุณุชุทูุน ุฃู ุฃููู ุงููุชุงุฆุฌ ุฏูู ุงูุฑุณูู ุงูุจูุงููุฉ.  ูุงู ุงูุชุณุฌูู ุฎุทูุง.  ููุฒุช ุงููุฑุงุกุฉ ููู ุชูู ุณุฑูุนุฉ ุฌุฏุง.  ูุฑุงุกุฉ ุงูุจูุงูุงุช ุงูุญุงููุฉ ููุณุช ูููุฉ ููุบุงูุฉ ุจุงููุณุจุฉ ููุง.  ูููู ุชุณุฑูุนูุง ูู ุฎูุงู ุชูููุญุงุช ุงููุฑุงุกุฉ.  ููููู ุชูููู read_recent ูุชุญุณูู ุงููุฑุงุกุฉ.  ูููุจูุงูุงุช ุงููุฏููุฉ ุ ููุฐุง ูุนูู ุจุดูู ุฌูุฏ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/b6/7f/4w/b67f4wmgkuzi6zyqnitxlwuv2t8.png"></p><br><p style=";text-align:right;direction:rtl">  ุงููุงุณ ูุฑูุฏูู ุชุฎุฒูู ุทููู ุงูุฃุฌู.  ููุงู ูุซู ูุฐุง ุงูุทูุจ.  ููุฏ ุชุญุฏุซูุง ุนู PromHouse ูู PromCon.  ูุงู ููุงู ููุถูุน ุณุงุฎู ุฌุฏุง.  Thanos ุชุชุทูุฑ ุจูุดุงุท. </p><br><p style=";text-align:right;direction:rtl">  ุฅูู ุจุงููุนู ูููู ุงูุขู.  ููุงู ุญู ููุฐุง.  ููุงู API.  ููุงู ุจุนุถ ุงูุชูุงูู.  ูููู ูู ูุฐุง ูุญุชุงุฌ ุฅูู ุงูุงูุชูุงุก ูู ููู.  ูุง ุชูุฌุฏ ุญููู ุฌุงูุฒุฉ ููุฅูุชุงุฌ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ms/qk/ec/msqkechijgscjucb7sx8knkzwx0.png"></p><br><p style=";text-align:right;direction:rtl">  ุฑูุงุจุท ุฃู ููุธุฑ ูููุง.  ุงูุฑุงุจุท ุงูุฃูู ูู ูุณุชูุฏุน PromHouse.  ุงูุฑุงุจุท ุงูุซุงูู ูู ุงูููุงู ุงูุฐู ูู ุงููุญุชูู ุฃู ูุชุญุฑู ููู.  ุงูุขู ูู ูุณุชูุฏุน ูุงุญุฏ ูููุงู ุนุฏุฉ ุฃุดูุงุก ูุฎุชููุฉุ  ูุง ุนูุงูุฉ ูุซููุฉ ููุบุงูุฉ.  ูุฐูู ุ ุณูู ุชุญุชุงุฌ ุฅูู ููููุง. </p><br><p style=";text-align:right;direction:rtl">  ุณูู ุชุญุชูู ูุฏููุชูุง ุนูู ูุนูููุงุช ุญูู ุงูุฃุฏุงุก ูุจุนุถ ุงูุฃุฎุจุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุฃุณุฆูุฉ: </p><br><p style=";text-align:right;direction:rtl">  ุณุคุงู: ูู ุฑุงุฌุนุช ุงูุดุงุฆุนุงุช ุญูู InfluxDBุ </p><br><p style=";text-align:right;direction:rtl">  ุงูุฌูุงุจ: ูู ููู ุฌูุฏูุง.  ุฃุตุจุญ ุฃูุถู ุจูุซูุฑ.  ูู ูุฐู ุงููุตุต ุนู ุญูููุฉ ุฃู InfluxDB ุจุทูุก ุ ูููุงุฑ - ุฅููุง ุชุฏูุฑ ุญูู ุงูุฅุตุฏุงุฑ ุงููุฏูู.  ุงููุณุฎุฉ ุงูุญุงููุฉ ูุณุชูุฑุฉ.  ูู ุฃูููุ  ุฃูู ูุนูู ุจุณุฑุนุฉ.  ูููู ูุนูู ุจุดูู ูุณุชูุฑ.  ุฅูุฌุงุจูุงุช InfluxDB ูู ุฑุฃูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃููุงู ุ ููุณุช ููุงู ุญุงุฌุฉ ููููุงู ุจุดูุก ูุฑูุจ ุ ูุฃู InfluxDB ูุนูู ุฎุงุฑุฌ ุงูุตูุฏูู. </li><li style=";text-align:right;direction:rtl">  ุซุงููุงู ุ ูู ClickHouse ุ ููุง ูู ุงูุญุงู ูู ุงูุญููู ุงูุฃุฎุฑู ุงููุณุชูุฏุฉ ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูููู ููุณ TSDB ุ ููููู ุงุณุชุฎุฏุงู ูุบุฉ ุงุณุชุนูุงู ูุฃูููุฉ ูู.  ูุบุฉ ุงุณุชุนูุงู InfluxDB ุชุดุจู SQL.  ููููู ุฅุฌุฑุงุก ุชุญูููุงุช ุนููู ุ ููู ุฃูุฑ ุตุนุจ ุงูููุงู ุจู ุนูู PromQL.  ุฅุฐุง ููุช ุชุณุชุฎุฏู TimeScaleDB - ููุงู SQL ุงูุญูููู. </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุณุคุงู: ูู ูุญุฑู GraphiteMergeTree ูุนูู ููุท ููุชุณุฌููุ  ุฅุฐุง ููุง ูุฑูุฏ ุนุฑุถ ุงูุฑุณูู ุงูุจูุงููุฉ ุ ููู ููุฒู ุฅุนุฏุงุฏ Grafana ุนูู ุงูุฌุฑุงููุช ูุฅุธูุงุฑ ุชุฎุฒูู ุทููู ุงูุฃุฌูุ </p><br><p style=";text-align:right;direction:rtl">  ุงูุฌูุงุจ: ูุนู.  ุงูุชูุงูู ูู Prometheus ููุณู ูุนูู ููุท ููุชุณุฌูู.  ููุชุจ ููุท ุงูุจูุงูุงุช.  ุฅุฐู ูู ุบุฑุงูุงูุง ุชุฐูุจ ุฅูู ุงูุฌุฑุงููุช. </p><br><p style=";text-align:right;direction:rtl">  ุณุคุงู: ููููุฏ ุงูููุตูุงุช ุนูุฏูุง ููุชุจุ </p><br><p style=";text-align:right;direction:rtl">  ุงูุฅุฌุงุจุฉ: ููุงู ุชูููู ููุถุญ ูุง ูุฌุจ ุงูููุงู ุจู ูุนูู ุ ูููููุฉ ุฅุฏุฑุงุฌู ุ ูููุงู ุฅุฏุฑุงุฌู. </p><br><p style=";text-align:right;direction:rtl">  ูุนูููุงุช ูู ุงูุฌูููุฑ: ูุงู ุฃููุชู ุฅููู ููุชุจูู ุญููู ููุชุณุฌููุงุช ูู ุจุฑูููุซููุณ ุฅูู ุงูุฌุฑุงููุช. </p><br><p style=";text-align:right;direction:rtl">  ุณุคุงู: ูุงู ููุงู ุงุณุชูุชุงุฌ ููุงุฏู ุฃูู ูุน ุชุณุฌูู ูู ุดูุก ุนูู ูุง ูุฑุงู ุนูู ุฎุงุฏู ุชุฎุฒูู ุทููู ุงูุฃุฌู. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mz/z9/kh/mzz9khnykox-3r2wlp_lpgphil4.png">  ููุงู ุชุฏูู ููููู ุงูููุงููุณ (5 ุฏูุงุฆู ุฃู 15 ุฏูููุฉ).   raid 6 sata      ? </p><br><p style=";text-align:right;direction:rtl"> :  PMM      โ  .   downsampling    c 14   1 .  ,       .          .    .     . </p><br><p style=";text-align:right;direction:rtl"> :   IOPS  ? </p><br><p style=";text-align:right;direction:rtl"> :     . </p><br><p style=";text-align:right;direction:rtl"> :      </p><br><p style=";text-align:right;direction:rtl"> :        .  ,        .  , ,  . </p><br><p style=";text-align:right;direction:rtl"> :     InfluxDB,        InfluxDB? </p><br><p style=";text-align:right;direction:rtl"> :    read_recent.    ,      remote storage.    InfluxDB .    .  read_recent ,   . </p><br><p style=";text-align:right;direction:rtl"> : ,     Prometheus.     InfluxDB. Grafana   Prometheus. Prometheus   PromQL     ,    InfluxDB? </p><br><p style=";text-align:right;direction:rtl"> : . </p><br><p style=";text-align:right;direction:rtl"> : Prometheus     InfluxDB      Grafana? </p><br><p style=";text-align:right;direction:rtl"> : .    Prometheus  2.2        ,    . </p><br><p style=";text-align:right;direction:rtl"> PS       : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">valyala</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">gecube</a> <br>   ,   . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar441136/">https://habr.com/ru/post/ar441136/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar441126/index.html">ุงูุฌุงุจูุงุช ูุงุฐุจุฉ ูู PVS-Studio: ููู ุนูู ุญูุฑุฉ ุงูุฃุฑูุจ</a></li>
<li><a href="../ar441128/index.html">ุงูุฎูุงุฑ ุงูุตุญูุญ: ุฏุฑุงุณุฉ ุนูููุฉ ูููุฏุฑุงุช ุงูุฅุฏุฑุงููุฉ ูููุฑูุฏ ุงูุฃูุซุฑูุจููุฏูุฉ</a></li>
<li><a href="../ar441130/index.html">ุฃุฏุงุก ูููุน ูุชูุงุฒู. ุงูุฌุฒุก 1: ุงูุงุณุชุฑุงุชูุฌูุฉ</a></li>
<li><a href="../ar441132/index.html">ุญุชู ุฃู Roskomnadzor ูุง ูุฃุชู ูุฌุฃุฉ</a></li>
<li><a href="../ar441134/index.html">ุงูุนูุงุทู ุ ุงูุนูู ุงููุณุชูู</a></li>
<li><a href="../ar441138/index.html">ูู ุงูููุช ุงูุญูููู ุญููู ุงูุฏุฑุฏุดุฉ ููุงุจู ููุตุงุช ุงูุฏุฑุฏุดุฉ - ุฌุนู ุงุฎุชูุงุฑู</a></li>
<li><a href="../ar441140/index.html">ุชุทููุฑ WebAssembly: ุฃุดุนู ุงููุงุฑ ุงูุญูููู ูุงูุฃูุซูุฉ</a></li>
<li><a href="../ar441142/index.html">12 ููุทุฉ ูู ููู ุงูุชุญููู ุ ุฃู ุงููุญุชูู ุงูุฐู ูุจูุน ุญููุง</a></li>
<li><a href="../ar441146/index.html">ุงูุดุจูุงุช ุงููุงุณูููุฉ ุงูุตูุงุนูุฉ: ุฃู ูุงุญุฏ ุชุฎุชุงุฑุ</a></li>
<li><a href="../ar441148/index.html">ููููุฉ ุงูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุจุดูู ุตุญูุญ: ุงูุตูุช ููุณ ุฌูุฏูุง ุฏุงุฆููุง</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>