<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚝 🔬 😗 Système de contrôle automatique de la climatisation sans fil ou unité de rotation du climatiseur sur le STM32 + TI CC2530 👩🏽‍🍳 👩🏼‍🔧 👨🏿‍💻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut les amis! 
 Aujourd'hui, je veux vous parler d'un développement intéressant d'un système de contrôle électronique de la climatisation. 
 
 Inter...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Système de contrôle automatique de la climatisation sans fil ou unité de rotation du climatiseur sur le STM32 + TI CC2530</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/382503/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salut les amis! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aujourd'hui, je veux vous parler d'un développement intéressant d'un système de contrôle électronique de la climatisation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Internet moderne, le cloud computing ou tout simplement le traitement de grandes quantités de données ne peuvent être imaginés sans un serveur. Environ jusqu'à 50% de l'énergie consommée par les serveurs va à la chaleur, qui doit être retirée des salles de serveurs ou des centres de données d'une manière ou d'une autre.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En règle générale, les climatiseurs sont utilisés à ces fins, dont la quantité et la puissance sont calculées en fonction du volume des locaux, de la dissipation thermique des serveurs et d'autres paramètres. De très grands centres de données utilisent des systèmes de climatisation split coûteux avec des systèmes de contrôle intégrés, mais aujourd'hui, nous envisagerons un système de contrôle pour les petits systèmes de serveur assez courants, qui sont refroidis par seulement quelques climatiseurs domestiques, généralement simples - selon les statistiques, cela est plus souvent 2. moins de 3 climatiseurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'avenir, je veux montrer immédiatement le schéma de travail du système développé, qui sont intéressés - je demande chat.</font></font><br>
<br>
<img src="https://habrastorage.org/files/be5/11b/470/be511b4706b6424f84cc6e760151be33.jpg"><br>
<br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le système de contrôle à l'étude ou l'unité de rotation des climatiseurs n'est pas une nouveauté dans le monde de la technologie climatique, mais il dispose d'un ensemble de fonctions avancées (principalement la communication) qui le distinguent nettement de tout ce que le marché a à offrir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La question logique est - pourquoi tout cela est-il nécessaire? L'utilisation d'un système de contrôle séparé pour les climatiseurs dans la salle des serveurs permet: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - de maintenir un niveau de température donné dans la salle en contrôlant automatiquement les </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
climatiseurs installés; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - rotation alternée - la commutation des climatiseurs à intervalles réguliers (de plusieurs heures à un jour) garantit leur usure uniforme, ce qui augmente la fiabilité du système de refroidissement;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - lorsque la température critique est dépassée, les climatiseurs de secours se mettent automatiquement en marche et fonctionnent jusqu'à ce que la température dans la salle des serveurs tombe à un niveau prédéterminé; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - en contrôlant la différence de température entre les entrées et les sorties des climatiseurs, le système peut automatiquement reconnaître leur dysfonctionnement et le signaler en fermant les contacts d'urgence, en transmettant des données au serveur Web, en envoyant des sms ou des e-mails à la personne responsable, etc. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - La possibilité de surveiller à distance l'état et de contrôler les climatiseurs via un serveur Web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le cœur du système décrit est un contrôleur central basé sur le système microcontrôleur + </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">STM32F107</font></a><font style="vertical-align: inherit;"> sur une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puce CC2530</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Texas Instruments), contenant le cœur de calcul 8051 et un émetteur-récepteur radio standard IEEE 802.15.4 (2,4 GHz). </font></font><br>
<br>
<img src="https://habrastorage.org/files/cc2/612/fc3/cc2612fc39994f6d900131f8bb488d0c.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Photo du premier prototype </font></font></i><br>
<br>
<img src="https://habrastorage.org/files/3e6/c5e/d42/3e6c5ed42a6f4cb78157475add3abb41.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue schématique du contrôleur</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Le contrôleur possède un petit écran LCD noir et blanc de 128 * 64 pixels, un bouton encodeur («twist») pour le contrôle, une entrée d'alimentation 220 V, une antenne externe, un connecteur Ethernet, une sortie d'alarme et un récepteur IR pour enregistrer les commandes de contrôle des climatiseurs à partir des panneaux de commande d'origine.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le contrôle direct des climatiseurs est assuré par des modules sans fil (RF), installés un pour chaque climatiseur. L'échange d'informations entre chaque module RF et l'unité de commande centrale s'effectue via un canal sans fil 2,4 GHz utilisant son propre protocole, dont le niveau MAC est identique au niveau MAC du protocole Zigbee. Les modules contrôlent les climatiseurs par infrarouge à l'aide de diodes infrarouges, c'est-à-dire que les climatiseurs «pensent» chaque fois qu'ils sont contrôlés par une personne via leur propre panneau de commande. Lors de l'installation du système, 3 commandes sont enregistrées pour chaque climatiseur: mise en marche pour le refroidissement, mise en marche pour la ventilation et arrêt. </font></font><br>
<br>
<img src="https://habrastorage.org/files/8a8/5df/479/8a85df479836487b908aeee9d701d413.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les premiers prototypes de modules RF, fils blancs - alimentation </font></font></i><br>
<br>
<img src="https://habrastorage.org/files/d70/adf/bfa/d70adfbfa5e34d3a93620abe31e4a7bc.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue schématique du module RF</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le menu principal du contrôleur central, la température ambiante moyenne est affichée (la valeur moyenne des capteurs de température des modules à l'entrée de tous les climatiseurs), une liste des modules connectés avec des icônes d'état, la température réglée, ainsi que l'heure synchronisée avec le serveur Web distant: à </font></font><br>
<br>
<img src="https://habrastorage.org/files/a80/403/32c/a8040332ce9541089c23425862946863.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
partir du menu, vous pouvez lier le nouveau module à au contrôleur: </font></font><br>
<br>
<img src="https://habrastorage.org/files/0ed/0b4/8a1/0ed0b48a17c442a194ac88c40b2dccec.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez enregistrer diverses commandes infrarouges à partir du panneau de commande natif: </font></font><br>
<br>
<img src="https://habrastorage.org/files/4cf/e25/c5c/4cfe25c5c46d41fe9e72e469f7d54dcd.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez définir la température requise pour maintenir la pièce et le temps de rotation des climatiseurs: </font></font><br>
<br>
<img src="https://habrastorage.org/files/ecc/e84/6f1/ecce846f125d419b94de205f112eb64b.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ainsi que construire un grand nombre de paramètres supplémentaires.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant le fonctionnement du système, en cas de puissance suffisante des climatiseurs installés dans la pièce contrôlée, le contrôleur maintient la température moyenne dans la pièce non supérieure à la température réglée dans les réglages + 3 degrés. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la température ambiante moyenne dépasse la température réglée, le contrôleur allume séquentiellement les climatiseurs pour le refroidissement, le premier à allumer les climatiseurs avec moins de temps de fonctionnement. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le climatiseur est considéré comme fonctionnant pour le refroidissement si, après avoir envoyé la commande de refroidissement au climatiseur par le module RF LED infrarouge, la différence de température spécifiée dans les paramètres du système entre l'air entrant et sortant du climatiseur est établie.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si, après avoir donné la commande IR au climatiseur, la différence de température ci-dessus ne sera pas établie dans les 5 minutes, alors ce module affichera une erreur de compresseur. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, si la différence de température n'atteint pas l'ensemble dans les 5 minutes après la première tentative de l'allumer, le contrôleur essaiera de l'allumer pour le refroidissement 2 fois de plus avec un intervalle de 5 minutes. Si la différence de température après 5 minutes après l'envoi de la dernière commande de mise en marche pour le refroidissement reste inférieure au seuil, le climatiseur est éteint pour éviter les bris et le fonctionnement est arrêté jusqu'à ce que l'erreur du compresseur soit corrigée.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nombre de climatiseurs allumés à un moment donné dépend de l'excès de la température moyenne par rapport à celui réglé. Si la température réglée est dépassée de 3 degrés ou plus, tous les climatiseurs sont allumés pour le refroidissement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme de maintien automatique de la température comprend une fonction de rotation, qui est utilisée pour établir un équilibre entre la chaleur générée par l'équipement situé dans la pièce et la chaleur absorbée par le système de climatisation - dans ce cas, un certain nombre de climatiseurs seront en état de refroidissement pendant une longue période.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si, en même temps, ce nombre de climatiseurs en état de refroidissement est inférieur au nombre de tous les climatiseurs sans problème, alors après un temps de rotation spécifié, l'état de refroidissement sera transféré du climatiseur avec un temps de rotation plus long (à partir du nombre de climatiseurs actuellement allumés) au climatiseur avec un temps de fonctionnement total inférieur (à partir du nombre d'éteints climatiseurs pour le moment). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le nombre de climatiseurs activés pour le refroidissement a atteint le nombre de tous les climatiseurs disponibles, ils continuent de fonctionner pour le refroidissement, quelle que soit la durée de fonctionnement en rotation. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les heures de fonctionnement en rotation sont considérées comme l'opération de refroidissement du climatiseur à partir du moment où il a été allumé pour la dernière fois.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si un câble Ethernet connecté à Internet est connecté au contrôleur, le contrôleur échange des données avec le serveur Web distant une fois par minute. L'utilisateur a la possibilité de surveiller à distance à la fois l'état général du système (température moyenne de la pièce, le fonctionnement continu du contrôleur) et l'état de chaque climatiseur installé. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nécessaire, l'utilisateur a la possibilité d'allumer manuellement l'un des climatiseurs disponibles pour le refroidissement, la ventilation ou de l'éteindre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous trouverez ci-dessous des captures d'écran du serveur Web de test, avec lesquelles vous pouvez surveiller les serveurs contrôlés par l'État et gérer les installer installés: </font></font><br>
<br>
<img src="https://habrastorage.org/files/3c6/73a/923/3c673a923d7b4b48bc40777f6aa27b05.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Écran de l'état général de la salle des serveurs </font></font></i><br>
<br>
<img src="https://habrastorage.org/files/8c9/1c7/932/8c91c79321fa49ffa8dedba7eee346d5.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">du climatiseur unique</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci à tous pour votre attention, j'attends vos commentaires! </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Questions, souhaits, commentaires, veuillez écrire à frimen3 sur gmail.com.</font></font></b></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr382503/">https://habr.com/ru/post/fr382503/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr382489/index.html">Водоплавающий ЦОД</a></li>
<li><a href="../fr382491/index.html">Военный модуль в частные руки</a></li>
<li><a href="../fr382493/index.html">Roscosmos crée le Center for Manned Programs - un analogue du Lyndon Johnson Space Center à Houston</a></li>
<li><a href="../fr382495/index.html">Facebook a présenté son drone Internet à énergie solaire</a></li>
<li><a href="../fr382497/index.html">Ex-PDG de Bitcoin Exchange Mt. Gox arrêté pour vol de crypto-monnaie</a></li>
<li><a href="../fr382507/index.html">La nouvelle unité centrale universelle 2DIN basée sur Android pour la voiture. Construisez votre rêve</a></li>
<li><a href="../fr382509/index.html">Une nouvelle vague de réalité virtuelle: Samsung Gear VR Innovator Edition</a></li>
<li><a href="../fr382515/index.html">Une carte interactive montre des personnages littéraires voyageant aux États-Unis</a></li>
<li><a href="../fr382517/index.html">Arme secrète: technologie financière contre banques centrales</a></li>
<li><a href="../fr382519/index.html">Clé USB - un gadget utile en vacances</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>