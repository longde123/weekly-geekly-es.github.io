<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚝 🛌🏼 🐣 另一只拥有自己双手的智能手表 🕍 🤸🏼 ♂️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前段时间受到文章“用1500r双手动手的智能手表”的启发。 ，我还决定尝试制作类似的设备。 


 本文的目的不是作为行动或指导的指南，而是作为我必须面对的关键点的指示。 也许对于某人来说，它将成为灵感和有用信息的来源。 


 组件的选择，PCB布局，恶劣条件下的焊接，3D打印的表壳和手表上的Ja...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>另一只拥有自己双手的智能手表</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/404737/"><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/web/603/ba0/2c4/603ba02c4cbf47ae94b451b9dedfdc7d.png"></a> </p><br><p> 前段时间受到文章<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“用1500r双手动手的智能手表”的</a>启发<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">。</a>  ，我还决定尝试制作类似的设备。 </p><br><p> 本文的目的不是作为行动或指导的指南，而是作为我必须面对的关键点的指示。 也许对于某人来说，它将成为灵感和有用信息的来源。 </p><br><p> 组件的选择，PCB布局，恶劣条件下的焊接，3D打印的表壳和手表上的JavaScript-都在切割之下。 欢迎光临！ </p><a name="habracut"></a><br><h2 id="trebovaniya"> 要求条件 </h2><br><ul><li> 您需要找出时间，而不必将手机放在口袋里 </li><li> 应该有收到来电通知，短信和即时通讯程序通知的收据 </li><li> 电池寿命至少应为一周 </li><li> 尽可能紧凑 </li></ul><br><p> 在此少量需求清单的基础上，您可以开始选择组件并阐明实施的技术功能。 该项目的时间和财务预算没有特别限制，没有计划进行批量生产，因此您可以散步，而不必担心节省一分钱。 </p><br><p> 除了总体计划之外，还有一些纯技术性的计划： </p><br><ul><li> 全天候创建和运行自定义应用程序。 像<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">鹅卵石</a> 。 总的来说，下文中的时钟将越来越类似于Pebble克隆，但为什么不呢？ </li><li> 应用程序及其数据的内存 </li><li> 适当控制充电水平，使手表在电池放电时不会突然熄灭，但会显示“粘着”并提前警告 </li><li> 加速度计，陀螺仪和磁力计可完全跟踪用户的运动。 能够制作计步器或智能闹钟，通过运动的存在来监控睡眠阶段 </li></ul><br><p> 所有这些最终都化为一个小图： </p><br><p><img src="https://habrastorage.org/web/6b6/b29/8b4/6b6b298b4ae848cf84df6ab2bb900ee1.png"><br>  <em>该微控制器将BLE 4.x与智能手机，用于传感器的I²C和SPI总线以及带有存储器的显示器结合在一起，可控制振动并响应按键，一切均由锂电池供电。</em> </p><br><p> 现在，您可以开始选择芯片和零件的过程。 就劳动投入和花费的时间而言，这是最困难和最漫长的过程，有必要进行大量比较，搜索和潜水，直到我以前从未游过的地方。 </p><br><h2 id="vybor-komponentov"> 元件选择 </h2><br><h3 id="mikrokontroller"> 微控制器 </h3><br><p> 首先，您需要选择一个控制器，它将成为设备的“大脑”，板上的所有其他东西都将为他带来好处。 </p><br><p> 为了使设备更紧凑，必须使用尽可能少的组件和模块。 在这里，各种<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">芯片上的系统</a>都可以使用，它们结合了蓝牙模块和微控制器的功能。 </p><br><div class="spoiler">  <b class="spoiler_title">市场为我们提供了什么？</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/979/a27/5f2/979a275f28bf4e8fade3f573c1677038.png" alt="图片"><br>  <em>资料来源：www.argenox.com</em> </p><br><ul><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">赛普拉斯PSoC BLE</a></strong>内核ARM Cortex-M0，BLE 4.2、256kB FLASH，32kB RAM，一堆外设和一个集成的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">巴伦</a> ，广泛的电源电压：1.9-5伏 </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">德州仪器CC2541</a></strong> -BLE 4.0和8051内核，256kB FLASH，8kB RAM </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">德州仪器（TI）CC2640</a></strong> -BLE 4.1，Cortex-M3、128kB闪存，20kB RAM </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">对话框DA-14580</a></strong> -Cortex-M0，BLE 4.1、16 MHz，42 + 8kB RAM，32kB OTP（一次性可编程存储器，但可以从外部SPI FLASH运行代码），是上述体积最小，消耗最少的芯片 </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SiLabs EFR32</a></strong> -Cortex-M4F，40 MHz，BLE 4.x，蓝牙5，高达1MB闪存，高达256kB RAM </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">北欧nRF52832</a></strong> -Cortex-M4F，64MHz，BLE 4.x，蓝牙<strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">5，512kB</a></strong> FLASH，64kB RAM，NFC标签仿真，集成式<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">气球</a> </li></ul></div></div><br><p> 在大量可口而不是决定性的决定中，选择权落在了<strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">nRF52832上</a></strong> ，该芯片在外壳（6x6mm 48引脚QFN）方面被证明是生产效率最高，最方便的芯片。 另外，可以通过编程将任何外设以任意方式分配给任何GPIO引脚的功能也可以极大地简化电路板的布线。 这是许多微控制器所缺乏的。 借助NFC支持，您可以将NFC仿真器的功能添加到手表中，并将所有通行卡缝到手表中。 </p><br><p><img src="https://habrastorage.org/web/e58/636/0f5/e586360f52d647bc83189ba795011014.jpg"></p><br><p> 数据表中说有一个内置的RTC（实时时钟），这很方便。 但是后来发现这不是时钟，而是实时<em>计数器</em> ，即 这是最常见的计时器，工作在32.768kHz石英晶体下，包括在睡眠模式下。 因此，在该设备的下一个修订版中，我将为RTC使用单独的芯片，例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">STMicroelectronics M41T62LC6F</a> 。 它具有32.768kHz的内置石英，可在I²C接口上工作。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">nRF52-DK</a>调试板的价格相当<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">便宜</a> ，约<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">4000英镑</a> 。 卢布。 在速卖通上可以找到〜3tys。 </p><br><div class="spoiler">  <b class="spoiler_title">顺便说一句</b> <div class="spoiler_text"><p> 由于该设备不涉及批量生产和任何市场销售，因此在没有严重后果的情况下绘制自己的电路板并在BLE SoC上构建解决方案是一项非常有趣的任务。 对于那些想要快速进入市场的人，建议使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">现成的预认证模块</a> 。 </p><br><p> 造成这种情况的原因有很多，它们与无线电相关：对于市场上的任何新电子设备，您都需要获得许可并获得<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CE</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FCC</a>等监管机构的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">认证</a> 。 <br><img src="https://habrastorage.org/web/024/c98/5d7/024c985d746a4223b8dba41f7ec4d1f5.jpg" alt="调节器的徽标，通常在设备外壳上找到"></p><br><p> 伴随的乐趣包括电路板的特殊布局，其中考虑了2.4 GHz频率信号的传播特性，屏蔽，在消声室中进行的测量，阻抗匹配以及其他微波魔术。 在完成的模块中，开发人员已经完成了所有这些工作，用户只需要将模块嵌入其解决方案中，就无需进行任何认证。 </p></div></div><br><h3 id="kvarcevye-rezonatory"> 石英谐振器 </h3><br><p> 石英谐振器连接到所选的nRF52832芯片： </p><br><ol><li> 以32MHz的频率为核心和无线电提供时钟 </li><li> 在睡眠模式下以32.768kHz为时钟定时器和BLE时隙计时。 可选，但是它的连接减少了功耗（可以缩短时隙），并提高了时钟RTC的准确性。 </li></ol><br><p> 两种石英都通过Aliexpress在表面安装外壳中订购： </p><br><div class="spoiler">  <b class="spoiler_title">图片</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/46f/ab8/e9c/46fab8e9c84641629e77bb14ddf5c620.png"></p></div></div><br><h3 id="displey"> 展示架 </h3><br><p> 为了使时钟滴答滴答而至少一周不充电，有必要解决显示矩阵在工作模式下消耗大量电流的问题。 据我了解，手表制造商可以通过两种方式解决此问题： </p><br><ol><li> 仅当发生挥手且手表屏幕落入用户视野时，或者例如通过通知或闹钟已经引起用户注意时，才打开显示器并显示内容 </li><li> 不断显示内容，使用实际上不消耗电流来显示图片的显示器，而仅消耗电流来更新内容。 您不必走太远，例如：这是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">电子墨水</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">LCD内存</a>或<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IMOD / mirasol</a> </li></ol><br><div class="spoiler">  <b class="spoiler_title">市场为我们提供了什么？</b> <div class="spoiler_text"><p> 对于大多数时候都是由Malevich制作的显示器，市场上有这样的选择：OLED，TFT，Amoled，LCD电话模块（诺基亚，西门子等）。 寻找具有合适对角线的显示器仍然是必要的。 </p><br><p> 范例： </p><br><ul><li> 诸如Ali Express之类的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">小型OLED显示器</a>要花一分钱。 <br> 缺点：小对角线，单色，功耗10-20mA，模块庞大。 没有模块板-宽环和捆扎带，这将吸收板上的很大一部分面积。 </li><li>  TFT LCD，例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ILI9341</a> 。 缺点：消耗，宽循环 </li></ul><br><p> 由于屏幕更新速度太慢，单色，并且很可能在公开市场上很难找到尺寸较小的电子墨水显示器，因此电子墨水的屏幕立即消失了。 </p><br><p> 如果查看<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Pebble</a> ，您会看到它使用“始终在线”显示。  Pebble Classic使用单色<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SHARP内存LCD</a>显示器，Pebble Time使用类似技术的彩色（64色）显示器，但由<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JDI</a>生产，目前没有销售。 </p><br><p> 关于IMOD / Mirasol， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">高通公司</a>除了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">从高通公司获得</a>营销手册和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Toq手表外，</a>什么都找不到。 </p></div></div><br><p> 我想拍摄像Pebble Time这样的彩色显示器。 公开发售的最接近的类似产品是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SHARP LS013B7DH06</a> （ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">其数据表</a> ）。 </p><br><p><img src="https://habrastorage.org/web/843/c78/b5e/843c78b5e870402cbba399bdede1fb0e.JPG"></p><br><p> 特点 </p><br><ul><li> 对角线1.33英寸 </li><li> 分辨率：128x128，8种颜色（每像素3位） </li><li> 尺寸：26.82x31.3mm </li><li> 接口：SPI </li><li> 电源电压：5V，但逻辑电平SPI从2.7V开始 </li></ul><br><p> 由于没有额外的升压转换器，Li-Po电池无法获得所需的5V电压，因此伏击电压由电源电压引起。 但是显示屏上的电流很小，使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">线性LTC1754-5</a>类型的电荷泵获得所需的5V非常简单： </p><br><p><img src="https://habrastorage.org/web/4fa/599/9d6/4fa5999d699540c1b25fdcf02d5ccc36.jpg"><br> 另一个功能是需要至少每秒一次将EXTCOMIN引脚（外部COM反相）的状态从高电平切换到低电平，反之亦然，以便电荷不会积聚在屏幕面板上，并且图像不会在某一点冻结。 为此，您可以丢弃微控制器的内置PWM（PWM），将其调整为占空比为50％（方波）且频率为1Hz或更高的频率，或任何其他（包括外部）方波发生器。 </p><br><p> 显示器通过一条小电缆连接到板上，以0.5mm的增量使用10针FPC连接器非常方便，例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Hirose FH12-10S-0.5SH</a> ： </p><br><p><img src="https://habrastorage.org/web/cd6/c7e/1d8/cd6c7e1d8d6e41e9af61a05b705f9ea0.jpg"><br> 显示模块没有自己的背光，也无法像普通的LCD屏幕一样通过LED发光，因此，到目前为止，没有背光，我们没有时间观看时钟。  <em>如果有人熟悉为此类屏幕创建背光模块的过程，请回复。</em> </p><br><h3 id="akkumulyator"> 电瓶 </h3><br><p> 我不得不花一些时间从标准尺寸范围内选择合适的尺寸电池。 我一直在寻找电压为3.7V且容量约为100mAh的锂聚合物电池。 </p><br><p> 计划将电池放置在板子下面，知道板子的大小，您可以轻松拿起适合且不会伸出任何东西的电池。 </p><br><div class="spoiler">  <b class="spoiler_title">市场提供什么？</b> <div class="spoiler_text"><p> 在Aliexpress上，您可以订购几乎所有大小的整堆电池，主要是要知道其名称的编码系统。 就像这样：HHWWLL，其中HH是电池的厚度（高度），以百分之一毫米为单位，WW是其宽​​度，而LL是以毫米为单位的长度。 </p><br><p> 示例：402025-电池厚度为4mm，尺寸为20x25mm <br><img src="https://habrastorage.org/web/a8b/a4e/129/a8ba4e1299df4be69ab9048680ae8da4.png"></p></div></div><br><p> 选择了容量为110mAh的<strong>302025</strong> （3x20x25mm）电池并在Aliexpress上订购。 </p><br><p><img src="https://habrastorage.org/web/b54/87c/266/b5487c2667514d8ea864e303af4fcc54.png"></p><br><h3 id="pitanie"> 营养学 </h3><br><p> 由于锂聚合物电池只能放电至3伏特，因此决定使用稳定的3V电压为整个电路供电，如果电池上的电压降至3V以下，请切断保护芯片的主电源稳压器（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Maxim MAX809TEUR + T</a> ）。 </p><br><p>  3V的总电源电压适合电路中所有元件的功率范围，除了显示屏需要5V的电压。 因此，显示器通过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">线性LTC1754-5</a>升压转换器直接由电池供电。 </p><br><p> 如果您查看这种电池的放电曲线， <br><img src="https://habrastorage.org/web/6f9/d21/e2c/6f9d21e2cd6b475b913667c1f667fe32.gif"></p><br><p> 可以看出，整个电池容量都在大约4V至3V的电压范围内，因此，传统的3V降压转换器足以为系统提供稳定的电压，同时有效地将所有能量从电池中吸出而不会留下任何东西，但又不会过度放电。 </p><br><p> 选择<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">德州仪器（TI）TPS78230DRVT</a>作为降压转换器，它具有500nA的小工作电流和150mA的最大电流，这已经足够了。  SON-6机箱结构紧凑，价格合理： </p><br><p><img src="https://habrastorage.org/web/f31/c89/056/f31c89056e624439af40162263e57c18.jpg"></p><br><h3 id="zaryadka-akkumulyatora"> 电池充电 </h3><br><p> 决定通过标准的microUSB端口（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Molex 47346-0001</a> ）为电池充电，但是仅将电池直接连接到5V USB总线并像这样充电是不够的，因此必须确保正确的充电过程，分为几个阶段：预处理，恒定电流，恒定电压。 </p><br><div class="spoiler">  <b class="spoiler_title">180mAh电池的典型充电曲线</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/f70/022/db6/f70022db6ac747c089c50bfa34320854.png"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">关于EEVBlog收费过程的详细说明</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/A6mKd5_-abk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Microchip MCP73831芯片</a>是为小容量电池（最大500mAh）充电的流行解决方案。 充电电流（取决于电池容量）由一个电阻器设定，有一个三态或漏极开路输出可通知您充电过程的开始和结束。 </p><br><p> 我还选择了另一种芯片<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-Maxim MAX1555EZK-T</a> 。 它具有100mAh的固定充电电流，并且具有与微芯片芯片相同的外壳，同时需要最少的外部组件，并且具有漏极开路输出以通知充电过程： </p><br><p><img src="https://habrastorage.org/web/b33/64a/b80/b3364ab804ef4332abb7c68fdd9452d8.jpg"></p><br><div class="spoiler">  <b class="spoiler_title">数据表图片</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/092/c7b/994/092c7b994d134222a43096e9eaa4fa22.png"></p></div></div><br><p> 在该板的下一个修订版中，我仍将切换到微芯片芯片，因为110mAh电池的100mA充电电流可能有点大。 </p><br><h3 id="kontroller-yomkosti-akkumulyatora"> 电池容量控制器 </h3><br><p> 有几种用于监视电池充电程度的技术，它们在执行和最终结果的准确性方面有所不同（在英语中，这称为充电状态）： </p><br><div class="spoiler">  <b class="spoiler_title">清单</b> <div class="spoiler_text"><ol><li><p> 所谓测 通过ADC打开电池的开路电压/ OCV（极板上的电压），并得出电池容量的结论。 大多数情况下，有必要使用分压器将电压范围转移到ADC工作可接受的区域。 这种方法的缺点是锂聚合物电池的电压与容量关系图非常平坦，并且读数本身会随每个周期而变化，并且会受到噪声的影响，并且由于负载电流的影响而无法测量极板上的真实电压 </p><br></li><li><p> 另一种方法是测量流入和流出电池的电流，而不是测量极板上的电压。 这就是所谓的库仑计数。 一种典型的解决方案是对小电阻分流电阻（约100mOhm）上的电压降值进行积分。 知道电池的容量，通过一段时间内流出的电流，我们可以得出结论：电池中还剩下多少能量（忽略自放电）。 这种方法的缺点是不考虑自放电，以及实际的电池容量随每个充放电周期而变化。 粗略地说，从电池流出的电流要小于充电时流入电池的电流。 因此，随着时间的流逝，读数中的误差将不可避免地累积 </p><br></li><li> 第一和第二种方法的组合：测量和板上的电压以及流动的电流。 两种方法的有效结合将有助于建立一个模型，该模型可以准确评估电池容量。 为了使这种方法起作用，有必要产生至少一个充放电循环以收集关于跨极板上的电压对电容的依赖性的数据。 此外，每个下一个周期都必须对电池型号进行更改，以使误差不会累积。 在某些文章中，人们讲述了如何使用卡尔曼滤波器将来自不同测量值的数据结合起来以预测剩余电荷（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">[1]</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">[2]</a> ） </li></ol></div></div><br><div class="spoiler">  <b class="spoiler_title">市场为我们提供了什么？</b> <div class="spoiler_text"><ul><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Maxim MAX17043-</a></strong>使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">专用算法</a>在极板上施加电压，可在其内部建立电池模型。 保证测量剩余电量3％的准确性。 接口I²C。 小巧的身体 </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">OnSemi LC709203F-</a></strong>测量OCV，I²C接口，精度为2.8％，通过外部热敏电阻进行温度补偿。 俄罗斯的价格昂贵和不利 </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Texas Instruments BQ27621-</a></strong>测量板上的电压，I²C，精度未指定，价格昂贵，BGA封装 </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">德州仪器BQ27421-</a></strong>同时测量电压和电流。  I²C接口，精度未指定，价格昂贵，BGA封装 </li><li>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">线性LTC2941-</a></strong>测量流动电流，I²C接口，精度为1％，另外需要一个外部分流电阻（LTC2941-1内置），外壳：2x3mm DFN-6 </li></ul></div></div><br><p> 在可用的选项中，选择了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Linear LTC2941</a>芯片用于最小但可<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">负担的</a>情况和清晰的工作算法。 在速卖通上订购。 </p><br><div class="spoiler">  <b class="spoiler_title">数据表图片</b> <div class="spoiler_text"><p><img src="http://cds.linear.com/image/8650.png" alt="图片"><br>  <em>资料来源：凌力尔特</em> </p></div></div><br><p> 该微电路采用库仑计数器技术，以1％的精度对流过的电流进行计数，通过I²C（SMBus）接口工作，并具有小巧但方便的外壳：2x3mm DFN-6： <br><img src="https://habrastorage.org/web/348/3e8/90b/3483e890b3e34789ad68abaa6cf19c0a.jpg"></p><br><p> 通过微电路内部的I²C，您可以设置电流表对应的值，以及设置或读取计数器本身的值。 计数器为16位，当电流流入电池时增加，而当电流从电池流出时减少。 计数器的最大值（0xFFFF）可以视为已充满电的电池，最小值（0x0000）可以视为已充满电的电池。 使用精心选择的计数器预选择器，可以使计数器在充电过程中达到最大值，而在电池完全放电后达到零。 可以设置计数器值的极限，低于该极限时，微电路将发出警报并发出中断。 </p><br><h3 id="akselerometr"> 加速度计 </h3><br><p> 在市场上大量的选择中，选择了一种相当流行的芯片： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">InvenSense MPU-9250</a> 。 这是一个结合了MEMS加速度计，MEMS陀螺仪和磁力计芯片的系统（SiP）。 </p><br><p><img src="https://habrastorage.org/web/1d8/c0d/685/1d8c0d6854a7433e9d6ccb6e2ffebf08.png"></p><br><div class="spoiler">  <b class="spoiler_title">特点</b> <div class="spoiler_text"><ul><li> 电源电压从2.4V到3.6V </li><li>  16位三轴MEMS加速度计，测量范围为±2g，±4g，±8g，±16g </li><li>  16位三轴MEMS陀螺仪高达2000°/秒 </li><li>  16位三轴磁力计，测量范围高达±4800μT </li><li> 内置数字滤波器 </li><li> 接口I²C和SPI </li><li> 可编程中断 </li><li> 读取DMP的协处理器（数字运动处理器） </li></ul></div></div><br><p> 该芯片非常出色，但最终似乎有点过分了，一个简单的加速度计就足以在手表中使用。 例如，根据制造商的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Analog ADXL362</a> ，这是最经济的三轴MEMS加速度计。 </p><br><h3 id="flesh-pamyat"> 快闪记忆体 </h3><br><p> 决定使用外部SPI-FLASH存储器存储应用程序和数据。 从多种选择中，选择了紧凑型WSON-8封装的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Winbond W25Q256FV</a>芯片： </p><br><p><img src="https://habrastorage.org/web/7ca/6f6/617/7ca6f6617c454838be1f4b0ee964779f.jpg"></p><br><p> 闪存的容量为256 MB（或32 MB）就足够了。 内存分为256字节的页面，分为4 KB的扇区和32 KB的块。 在活动模式（读取或写入）下，其功耗高达20mA，在待机模式下-小于1μA。 </p><br><p> 与加速度计一样，后来看来32兆字节也不过分，您可以使用微控制器的内置FLASH存储器来代替，它已经有512千字节。         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>     . </p><br><h3 id="knopki">  </h3><br><p>  ,           (   Pebble,  ).             .          ,            : </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Wealth Metal TD-26EA</a> : </p><br><p><img src="https://habrastorage.org/web/55f/13a/47d/55f13a47d7c6491094d471c3a94af858.jpg"><br> <em>: &amp;</em> </p><br><p>  ,              . </p><br><p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Omron B3U-3000P</a> : </p><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/889/246/2d0/8892462d032444d691d70ef546c62743.png"></p></div></div><br><p>       . </p><br><h3 id="vibromotorchik">  </h3><br><p>     ,    ,  . </p><br><p>  Aliexpress       ,   3V   (HxWxL) 3x3x12mm: </p><br><div class="spoiler"> <b class="spoiler_title"></b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/147/477/5c7/1474775c7260460896a4ea3b080e5571.jpg"></p></div></div><br><p>         ,    100mA      . </p><br><h3 id="antenna">  </h3><br><p> -     ,      -  .   ,      ,    .      ,          .    ,          . </p><br><p>   -  2.4GHz  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Johanson 2450AT18B100</a> : <br><img src="https://habrastorage.org/web/84b/dc7/0e5/84bdc70e556b490896f937b3aa23f574.jpg"></p><br><p> ,    ,   Johanson    ,     ,      Nordic.   nRF52 Johanson    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Johanson 2450FM07A0029</a> ,     - LC-  . </p><br><p>天线在带有10个胶带的Aliexpress上订购。 为214r /胶带。 </p><br><h3 id="vsyo-ostalnoe"> 其余的 </h3><br><p> 吊带和捆扎带的无源元件主要是尺寸为0402和0603的芯片，并在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Elitan</a>订购。 除无源元件外，板上还有两个晶体管和一对二极管。 他们参与控制振动电机以及电源电路，将<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">USB电源和电池去耦</a> 。 </p><br><h2 id="shema-i-plata"> 电路板 </h2><br><p>  <em>屏幕截图中的面板外观与订购的外观略有不同，并且出现在设备的照片中。</em>  <em>董事会的屏幕截图只是稍作更改的更高版本。</em> </p><br><p> 决定尝试新的东西后，我没有在通常的DipTrace中绘制电路和板，而是在云EDA Upverter中绘制了：这<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">是设计</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">链接</a> 。 </p><br><p>  Upverter允许您同时进行电路板和电路的端到端设计，因此一些布线元件是根据方案进行的，并且部分电路的设计考虑了布线功能。 </p><br><p>  Upverter的另一个杀手级功能是庞大的组件库，这些组件由机器人和一堆印第安人精心生成。 事实证明，拿走已经绘制的零件并检查所有事物或多或少都是正确的是非常方便的，而不是自己完全绘制符号和封装。 </p><br><p> 首先，我决定安排组件的位置，这些组件的位置将精确固定：按钮，microUSB端口和屏幕连接器。 我没有开安装孔，希望将板卡在机箱中，并且不会挂任何东西。 </p><br><p> 在固定元件定位之后，请遵循“经验法则”，我们将首先繁殖收音机。 贴片天线在其附近，内部和下方都不宜有一个小的保留区域，因此不建议在所有层上放置走线和多边形，因此良好音调的原则是将天线放置在电路板的边缘，最好靠近一个角。 实际上，天线的位置决定了微控制器的位置。 为了使从芯片上的天线输出端口到天线本身的导体长度尽可能短（考虑到匹配的组件），我们将控制器放置在靠近天线所处边缘的位置。 </p><br><p> 所有其他组件都可以相当自由地定位（不会忘记常识）。 这是由于可以通过编程确定nRF52微控制器的数字外设端口的位置。 </p><br><p> 以我的经验，组件成功地相互安排是成功的90％，它决定了进一步布线的质量，因此应特别注意此过程。 </p><br><div class="spoiler">  <b class="spoiler_title">面板的屏幕截图（多边形未填充，底视图）</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/9dc/5f1/7cd/9dc5f17cd1c34a00943ebd444b28a964.png"></p></div></div><br><p> 为了清楚起见，我绘制了关键区域的大致拓扑： </p><br><p><img src="https://habrastorage.org/web/fd0/136/bef/fd0136bef5c140c3bb6b069615f4837f.png"></p><br><p> 评估板分为四层，将选定的组件放置在评估板上并断开其连接仅需几个晚上的时间，然后花了大约一周的时间才将其卡在评估板上，查找错误，悠闲地仔细检查并重新阅读数据表以避免突然的意外情况。 </p><br><p> 绘制该板时要考虑到板制造商（成为美国<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">OSHPark.com）</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">技术标准</a> ： </p><br><ul><li> 导体/间隙：5/5密耳 </li><li> 通孔：10/4 mil孔/焊盘 </li><li> 材质：FR408 </li><li> 表面处理：沉金和镍底层（ENIG） </li><li> 不支持盲孔和内层过渡（埋孔）。  <em>而且我们不需要</em> </li></ul><br><p> 同时，价格为每平方10美元。 英寸和顺序中的板数-3pcs。 这些是非常高质量且价格低廉（适用于原型）的主板，带有可识别的紫色蒙版，我建议所有不重要的人都为其双侧或四层主板等两个月而等待一个月。 </p><br><div class="spoiler">  <b class="spoiler_title">订单截图</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/ab1/daf/2ae/ab1daf2ae0b64016ac897c4afd23fb51.png"></p></div></div><br><p> 结果，我要付三笔费用，我要付14美元，一个月后，我又用邮寄的方式把它们收了。 </p><br><div class="spoiler">  <b class="spoiler_title">没有组件的木板照片</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/a45/223/d98/a45223d982164562992fd1c3b9a9b308.jpg"><br><img src="https://habrastorage.org/web/6b0/438/119/6b043811948c4552a2d51294007dd385.jpg"></p></div></div><br><p> 所有组件均位于显示板的底部，位于显示板的顶部，在显示模块的下面，是一个扁平的NFC线圈，可让您节省几毫米的高度，并确保显示屏的平稳紧密安装。 </p><br><div class="spoiler">  <b class="spoiler_title">原来是这样的三明治</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/18a/5c4/a32/18a5c4a320d14b31be2aad99ff8e9d7f.png"></p></div></div><br><p> 电路板上侧还有一堆测试点，测试板，I²C，SPI总线，中断线和一些控制信号连接到这些测试点。 可以将示波器或逻辑分析仪连接到这些平台，该功能大大简化了编写驱动程序和调试固件的过程。 此外，在板子的顶部还有用于通过Segger JLink进行闪烁和调试的JTAG调试接口（SWD），该接口包含在nRF52-DK套件中，以及用于焊接NFC天线线圈的焊盘。 </p><br><h2 id="sborka-i-payka"> 组装和焊接 </h2><br><p> 如果您遵循表面安装的整个过程，则需要订购一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">smd模板（smd模板）</a>和焊膏，通过该模板涂抹焊膏，排列组件并将其发送到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">回流焊炉</a> 。 </p><br><p> 但是我没有炉子，也没有模具。 而且也想和他打交道并焊锡膏。 我想快速组装一个原型并开始测试和编写软件。 因此，我手动焊接了所有组件，最小的是0402尺寸的芯片，用针头涂上糊剂，用真空镊子放置组件，然后用吹风机焊接。 </p><br><p> 结果可以在照片中看到： </p><br><p><img src="https://habrastorage.org/web/4e1/164/938/4e11649380fb457b9ebce97f267e32ac.jpg"></p><br>  <em>按钮不焊接，而是几个三脚芯片-跳线。</em> <br>  <em>对于在砖头上拍摄的低质量照片，我深表歉意。</em> <br><br><br><div class="spoiler">  <b class="spoiler_title">通过x30放大镜拍照</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/web/8d8/25c/fed/8d825cfedfe047ddb9f260548d365219.jpg"><br>  <em>您会看到组件略微旋转，并且放置的焊料过多。</em>  <em>手动安装和粘贴粘贴是不可避免的。</em> </p></div></div><br><p> 电路板组装完成后，我立即抓住测试仪，并开始敲响所有可能短路的信号。 确保他似乎不矮以后，他连接了USB电缆。 无烟，芯片不发热，USB端口上的电压为5伏，电荷输出为4.2V，LDO之后的电压恰好为3伏。 它似乎有效。 </p><br><p> 当然，即使在完全通电的情况下，该设备也绝对没有任何生命迹象。 现在，您需要投入精力-固件（或“操作系统”，例如某些手表制造商：WatchOS，PebbleOS等）。 </p><br><p> 测试的下一步是通过SWD接口连接内置到nRF52-DK中的JLink调试器。 我们连接布线，运行JLinkExe并查看我们的芯片！ 您可以开始编写固件并以编程方式测试铁的其余部分。 </p><br><h2 id="laquooperacionnaya-sistemaraquo-dlya-chasov"> 手表的“操作系统” </h2><br><p> 对于低级外围设备，Nordic提供其<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">nRF5-SDK</a> ，适用于nRF51和nRF52系列。 </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/web/1c6/54b/0cd/1c654b0cd48540efbb8e9a2ab79dc299.png"></a> </p><br><p>SDK             , , NFC   .     Makefile    <code>arm-none-eabi-gcc</code>.        ,       .</p><br>
<p>       .hex-,      nRF52-DK    .   nRF52-DK  ,  Mass Storage Device (),      .hex         .</p><br>
<p>     <code>JLinkExe</code>   GDB-    <code>nrfjprog</code>.</p><br>
<p>        ,   .          ,     ,                 ,            ,      .</p><br>
<p>    ,             .</p><br>
<p><img src="https://habrastorage.org/web/2fe/4fb/faf/2fe4fbfaf96746da8573e732632c6fa8.png"><br>
<em> , -,  ,     .</em></p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/web/a1f/ee6/9e3/a1fee69e3bee4918babac61db1c25ca8.jpg"></p></div></div><br>
<p>     ,        ,    -   .      API     X-Lib            .             ,        .</p><br>
<p>  :</p><br>
<p><img src="https://thumbs.gfycat.com/BoldThornyBuck-size_restricted.gif"></p><br>
<div class="spoiler"><b class="spoiler_title">   </b><div class="spoiler_text"><p><img src="https://thumbs.gfycat.com/ArtisticSoupyAntlion-size_restricted.gif" alt="image"></p></div></div><br>
<p> ,    API  ,    JavaScript (ES 5),                 .   ,  .</p><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JerryScript</a>,         , API      ,     ,    .   ,        ,   :    Date  .., JSON-,       ..</p><br>
<div class="spoiler"><b class="spoiler_title">    JS-</b><div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Duktape</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Espruino</a></li>
</ul></div></div><br>
<p>   JS  :</p><br>
<p><img src="https://habrastorage.org/web/ac6/a92/c2f/ac6a92c2faab4f3bb18f65b4fa2d8968.jpg"></p><br>
<p>  API          GUI,    , Bluetooth,   ..</p><br>
<p>        ( <code>-O0</code>):</p><br>
<p><img src="https://habrastorage.org/web/a41/e24/f8f/a41e24f8faf84949a14c79d1f9938cea.png"></p><br>
<p>106kB FLASH, 12.8kB RAM.   8kB RAM —  (heap)   JavaScript .           . ,   FLASH  nRF52832  512kB,    RAM — 64kB.</p><br>
<p> FLASH (120kB)      RAM   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> BLE- SoftDevice.</p><br>
<h2 id="korpus"></h2><br>
<p>    —  3D- .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">TinkerCad</a>    3D-.    :</p><br>
<div class="spoiler"><b class="spoiler_title">   USB-  </b><div class="spoiler_text"><p><img src="https://habrastorage.org/web/e66/5fa/e0d/e665fae0d3414e56bead2ff4ff5050e2.jpg"></p></div></div><br>
<p><em> -          3D-,          !</em></p><br>
<h2 id="zaklyuchenie"></h2><br>
<p>       ,         .       ,   ,     ,          .  ,  ,            ,      .</p><br>
<p>         ,     API-  JS-,           JS-,   -  Android.           ,     .    ,        , , Android-   .</p><br>
<p>    : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://upverter.com/EP/cdbd8b9abc72b7cd/nRF52-smart-watch/</a><br>
         ,     Github.</p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">像上一篇文章的作者一样，我希望这种材料能够推动或激发人们涉足电子领域，并制造出他梦ing以求的设备。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我期待您的意见和疑问！</font></font></p><br>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了一个民意调查。</font></font></p></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN404737/">https://habr.com/ru/post/zh-CN404737/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN404725/index.html">英特尔放弃了爱迪生，伽利略和焦耳</a></li>
<li><a href="../zh-CN404727/index.html">埃隆·马斯克（Elon Musk）谈到了自己如何变得如此高效</a></li>
<li><a href="../zh-CN404731/index.html">韩国托管公司向Linux版本的加密勒索软件Erebus的开发人员支付了100万美元</a></li>
<li><a href="../zh-CN404733/index.html">我们知道基本（看似）粒子</a></li>
<li><a href="../zh-CN404735/index.html">一项新研究表明，猫没有像其他动物一样被驯服</a></li>
<li><a href="../zh-CN404741/index.html">评估空调房中的二氧化碳</a></li>
<li><a href="../zh-CN404745/index.html">问伊森：宇宙的一部分应该扩大到多大？</a></li>
<li><a href="../zh-CN404747/index.html">维基解密发布了有关感染物理隔离计算机的CIA文档</a></li>
<li><a href="../zh-CN404749/index.html">Microsoft承认有时会断开部分第三方防病毒程序的连接</a></li>
<li><a href="../zh-CN404751/index.html">具有VoIP功能的路由器仅一百种</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>