<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👏🏽 👩🏻‍🤝‍👨🏾 🏪 Bitcoin MAST Konzept 🆎 👨🏽‍💼 🤸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel werden wir über das Konzept von MAST und seine Anwendung im Bitcoin-Protokoll sprechen. Wir werden die Eigenschaften berücksichtigen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bitcoin MAST Konzept</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/distributedlab/blog/414979/"> In diesem Artikel werden wir über das Konzept von MAST und seine Anwendung im Bitcoin-Protokoll sprechen.  Wir werden die Eigenschaften berücksichtigen, die MAST erreichen kann, sowie die Vorteile seiner Verwendung.  Der Artikel wird für Leser interessant sein, die das Bitcoin-Protokoll und andere innovative Zahlungssysteme mögen.  Eine separate Vorlesung ist diesem Thema im Rahmen des Online- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blockchain-</a> Kurses „ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MAST in Bitcoin</a> “ gewidmet. <br><br>  Das Konzept von MAST impliziert die Verwendung von Merkle-Bäumen und abstrakten Syntaxbäumen, um die Bedingungen für das Ausgeben von Münzen für Transaktionsausgaben festzulegen.  Lassen Sie uns überlegen, wie dies funktioniert. <br><a name="habracut"></a><br><h2>  <b>Merkle Baum</b> </h2><br>  So können Sie den Merkle-Baum schematisch darstellen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/48e/207/9a6/48e2079a66901a4bca96016188623c21.png" alt="Bild"><br><br>  Es gibt Daten, für die Sie eine Prüfsumme benötigen, d. H. Den Hash-Wert aus allen Teilen berechnen.  Anstatt alle zu verketten und die Hash-Funktionen mit einem einzigen Wert zu versehen, bietet Merkle Tree einen anderen Ansatz.  Jedes Datenelement wird separat gehasht.  Dann werden die resultierenden Hash-Werte paarweise verkettet und erneut gehasht.  Und so weiter, bis Sie einen Hash-Wert erhalten, der alle Daten abdeckt.  Dieser Wert heißt Merkle Root. <br><br>  Mit Merkle Tree können Sie das Auftreten eines einzelnen Datenelements in Merkle Root überprüfen, ohne über alle anderen Datenelemente zu verfügen.  Dies ist eine wertvolle Eigenschaft. <br><br>  Angenommen, ein Benutzer hat Merkle Root und die Daten einer Transaktion (im obigen Diagramm sind sie rot dargestellt).  Anschließend kann der Benutzer die Kette fehlender Hashwerte (die im Diagramm blau angezeigt werden) verwenden, um zu überprüfen, ob diese Transaktion Teil der Merkle-Wurzel ist.  Fehlende Hashwerte werden als Merkle Branch bezeichnet.  Für eine bestimmte Transaktion können sie vom Host angefordert werden, auf dem der gesamte Block gespeichert ist. <br><br>  Diese Methode zum Hashing mehrerer Daten wird in vielen Protokollen verwendet.  Die bekanntesten Beispiele sind das Hashing von Transaktionen, die Teil eines Blocks sind, und das Hashing von Teilen von Dateien, die an das BitTorrent-Netzwerk übertragen werden, um eine Torrent-Datei zu generieren. <br><br><h2>  <b>Abstrakter Syntaxbaum</b> </h2><br>  Lernen wir nun den abstrakten Syntaxbaum kennen.  Das folgende Diagramm zeigt einen Syntaxbaum, der eine sehr einfache Schleife beschreibt.  Hier werden die blauen Knoten des Baums durch den Baum bezeichnet, was Operationen bedeutet, die grünen sind Variablen und die roten sind Konstanten.  Die Kanten des Baums zeigen Übergänge zwischen Operationen an. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90e/a51/c28/90ea51c28e4eee504dd6239c4c04098c.png" alt="Bild"><br><br>  Somit wird ein Zyklus beschrieben, der in einer bestimmten Reihenfolge ausgeführt wird.  Zunächst wird die Gleichheit der Variablen A und der Konstante 32 überprüft. Wenn dies nicht der Fall ist, gehen Sie zum Hauptteil der Schleife, wo der Variablen A die Summe zweier Werte zugewiesen wird: der Variablen A selbst und der Konstante 2. Dies ist die Struktur des abstrakten Syntaxbaums im Allgemeinen. <br><br><h2>  <b>Was ist MAST?</b> </h2><br>  Wir haben den theoretischen Grund vorbereitet und werden nun bestimmen, was MAST ist und welche Vorteile es hat.  MAST ist der Merkelized Abstract Syntax Tree, der die Ideen des Merkle Tree und des Abstract Syntax Tree verwendet, um sich gegenseitig ausschließende Bedingungen für das Ausgeben von Münzen festzulegen.  Gleichzeitig fungiert Bitcoin Script wie gewohnt als Sprache zur Beschreibung von Bedingungen.  Das MAST-Konzept verbessert den Datenschutz und reduziert die Transaktionsgröße. <br><br><h2>  <b>Konzeptentwicklung und aktuelle Position</b> </h2><br>  Leute wie Russell O'Connor, Pieter Wuille, Peter Todd und Johnson Lau begannen, die Idee von MAST in der Bitcoin-Community zu entwickeln und zu fördern.  Anfang 2016 wurde ein Vorschlag zur Verbesserung des Bitcoin-Protokolls unter Nummer 114 (BIP114) veröffentlicht, in dem die Spezifikation einer der Optionen zur Implementierung dieses Ansatzes mithilfe von Zeugenprogrammen beschrieben wurde, die wiederum mit dem SegWit-Update eingeführt wurden.  BIP114 bietet auch eine Software-Implementierung, die dem Bitcoin-Protokoll neue Konsensregeln hinzufügt. <br><br>  Später, im Jahr 2017, schlugen sie eine alternative Implementierung des MAST-Konzepts vor, das in BIP117 beschrieben ist.  Es basiert auf BIP114 und nimmt einige Änderungen vor.  Zum Zeitpunkt des Jahres 2018 werden beide Vorschläge noch geprüft. <br><br>  Beachten Sie, dass MAST mithilfe von Softfork-Protokollaktualisierungen in Bitcoin integriert werden kann.  Und das ist vielleicht das wichtigste Merkmal dieses Konzepts. <br><br><h2>  <b>MAST auf dem Diagramm</b> </h2><br>  Schematisch sieht der Merkelized Abstract Syntax Tree so aus. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b38/399/8e2/b383998e2a6af890c48ae15756fb98b1.png" alt="Bild"><br><br>  Hier ist MAST Root der Root-Hash-Wert, der in die Ausgabe der Transaktion eingefügt wird.  Die Hash-Werte der Äste, die zu den Bedingungen für das Ausgeben von Münzen führen, werden blau angezeigt.  Somit enthalten diese Zweige sich gegenseitig ausschließende Bedingungen, unter denen Münzen ausgegeben werden können.  Folglich wird derjenige, der Münzen ausgibt, entweder den einen oder den anderen Zweig benutzen. <br><br>  Die gelbe Farbe zeigt die Bedingungen an, die mit Bitcoin Script festgelegt wurden.  Darüber hinaus wird empfohlen, die Bedingungen, unter denen die Münzen höchstwahrscheinlich ausgegeben werden, so nahe wie möglich an der Wurzel des Baumes zu platzieren. Dadurch wird der Eigentumsnachweis für die Münzen kleiner. <br><br><h2>  <b>Probleme mit Bitcoin-Transaktionen</b> </h2><br>  Lassen Sie uns die Probleme identifizieren, die während der üblichen Einstellung der Bedingungen für das Ausgeben von Münzen mit Bitcoin Script auftreten.  Die erste und wichtigste davon ist, dass der Empfänger die Bedingungen beschreiben oder übertragen muss, unter denen er die Zahlung erhalten möchte, damit der Absender sie in der Ausgabe seiner Transaktion angibt.  MAST und P2SH lösen dieses Problem. <br><br>  Das zweite Problem: Schwierige Bedingungen belegen eine große Menge an Speicher in der Transaktionsausgabe.  Infolgedessen muss der Absender eine Gebühr für die Festlegung derart schwieriger Bedingungen für den Empfang von Münzen entrichten, obwohl der Empfänger dies vorschreibt.  P2SH und MAST bewältigen dies ebenfalls und verlagern die Notwendigkeit, große Datenmengen in die Transaktion einzubeziehen, die ausgegeben werden, und dementsprechend wird die erhöhte Provision vom Empfänger und nicht vom Absender gezahlt. <br><br>  Das dritte Problem besteht darin, dass der ScriptPubKey, der in der Ausgabe der Transaktion platziert wird, in Größe und Anzahl der Operationen, d. H. OP_CODEs, begrenzt ist.  Mit dem MAST-Konzept können Sie diese Einschränkungen fast vollständig umgehen, ohne die Zuverlässigkeit aufgrund sich gegenseitig ausschließender Bedingungen zu beeinträchtigen. <br><br>  Das vierte Problem: Beim Versenden von Münzen sieht jeder sofort die Bedingungen seiner Ausgaben.  Mit MAST können Sie die Ausgabebedingungen bis zum Zeitpunkt der Ausgabe ausblenden.  Darüber hinaus werden nur die tatsächlich verwendeten Bedingungen und nicht alle möglichen Optionen offengelegt. <br><br><h2>  <b>Eigenschaften, die MAST in Bitcoin angibt</b> </h2><br>  Eine davon besteht darin, die Privatsphäre der Benutzer zu verbessern, indem Ausgabenbedingungen ausgeblendet werden, die am Ende nicht aufgebraucht waren.  Diese Eigenschaft wird erreicht, indem nachgewiesen wird, dass nur bestimmte Bedingungen in der MAST-Wurzel enthalten sind, und diese Bedingungen erfüllt werden. <br><br>  Ein weiteres positives Merkmal ist die Möglichkeit, umfangreichere und komplexere Bedingungen für das Ausgeben von Münzen festzulegen.  Mit MAST können Sie beispielsweise Hunderttausende verschiedener Optionen für mehrere Signaturen für eine einzelne Transaktionsausgabe angeben.  Gleichzeitig sind die Bedingungen für das Ausgeben von Münzen und der entsprechende Eigentumsnachweis für die Münzen sehr kompakt. <br><br>  Darüber hinaus wird es möglich, Daten mit beliebigem Volumen in der Blockchain aufzuzeichnen, ohne die Größe der Transaktion zu erhöhen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/159/3b1/1e7/1593b11e7a4b2a65f573ba45cd40ac8d.png" alt="Bild"><br><br>  Dieses Diagramm zeigt eine Variante der MAST-Struktur gemäß BIP114.  Die Hash-Werte werden in Blau, das Bitcoin-Skript in Gelb und beliebige Daten in Rot als zusätzliche Nachricht angezeigt.  Der Versionswert befindet sich oben im Baum. <br><br><h2>  <b>Vereinfachtes MAST-Schema</b> </h2><br><br><img src="https://habrastorage.org/getpro/habr/post_images/70b/bbf/2ec/70bbbf2ecd32587a91c1b4255d1c2519.png" alt="Bild"><br><br>  Hier werden zwei sich gegenseitig ausschließende Bedingungen für das Ausgeben von Münzen festgelegt.  Im ersten Fall können Münzen ausgegeben werden, indem eine Unterschrift bereitgestellt und auf eine bestimmte Zeit gewartet wird, und im zweiten Fall müssen Sie mehrere Unterschriften angeben.  Benutzer können auf eine der Optionen zurückgreifen, während die Bedingungen der zweiten nicht bekannt gegeben werden. <br><br><h2>  <b>Praktische Anwendung von MAST</b> </h2><br>  Im ersten Fall kann MAST für eine optimierte Implementierung von HTLC (Hashed Time-Lock Contracts) verwendet werden, die im Lightning Network-Protokoll verwendet werden.  In einem anderen Fall für eine optimierte Implementierung von Escrow. <br><br>  MAST ermöglicht es, sehr große Strukturen mit Multisignatur zu implementieren.  Dies hilft bei der Lösung dringender Probleme wie Diebstahl oder Verlust von Bitcoins und ermöglicht es Ihnen in einigen Fällen sogar, die Kühllagerung aufzugeben. <br><br>  Dank MAST können Sie in vielen Fällen die Operation OP_RETURN ablehnen, um Daten zur Bitcoin-Blockchain hinzuzufügen.  Stattdessen können Sie diese Daten in einen Baum aufnehmen und bei Bedarf nachweisen, dass bestimmte Daten in der Bitcoin-Blockchain aufgezeichnet wurden.  In diesem Fall müssen Sie die Blockchain selbst nicht vergrößern. <br><br><h2>  <b>Datenvolumenoptimierung</b> </h2><br>  Achten wir auf die Optimierung der Datenmenge, die letztendlich in die Blockchain fällt.  Schauen Sie sich die Tabelle unten genau an.  Die vertikale Achse gibt die Datenmenge in Bytes an, während die Skala selbst logarithmisch ist.  Die horizontale Achse gibt die Anzahl der alternativen Bedingungen für das Ausgeben von Münzen an. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9a7/f54/190/9a7f54190ac05fc4683581548412c1de.png" alt="Bild"><br><br>  Die blaue Linie zeigt die Abhängigkeit des Datenvolumens von der Anzahl der Bedingungen ohne Verwendung von MAST an.  Die rote Linie zeigt die Abhängigkeit des Datenvolumens von der Anzahl der Bedingungen mit MAST an.  Die blaue Linie ist die Größenbeschränkung für Bitcoin-Skripte für P2SH.  Die grüne Linie gibt die Größenbeschränkung für Bitcoin-Skripte in der Zeugenstruktur an. <br><br>  Die Schlussfolgerung ist einfach.  Mit dem MAST-Konzept können Sie bei gleicher Validierungszuverlässigkeit und viel größerer Funktionalität deutlich weniger Daten speichern. <br><br>  Kommen wir nun zu häufig gestellten Fragen zu diesem Thema. <br><br><h2>  <b>Häufig gestellte Fragen</b> </h2><br>  <i>- Wird die MAST-Wurzel in der Zeugenstruktur festgelegt oder wo wird sie aufgelistet?</i> <br><br>  MAST Root wird zusammen mit den Daten, die es definieren, im ScriptPubKey am Ausgang der Transaktion angezeigt.  Diese Daten belegen 25 bis 35 Byte und können höchstwahrscheinlich problemlos in die übliche Bitcoin-Adresse codiert werden.  In der Zeugenstruktur, in der der Besitz von Münzen nachgewiesen wird, werden Merkle Branch und Daten, die die Ausgabenbedingungen erfüllen, wie z. B. elektronische Signaturen, angegeben. <br><br>  <i>- Werden die vielen verfügbaren OP_CODEs in der Bitcoin-Skriptsprache erweitert?</i> <br><br>  Derzeit ist noch nicht klar, da der Vorschlag geprüft wird und möglicherweise noch weitere Änderungen und Verbesserungen vorgenommen werden.  Ein OP_CODE wie OP_MERKLEBRANCHVERIFY wird wahrscheinlich hinzugefügt, um die Flexibilität der Verwendung von MAST zu gewährleisten.  Vielleicht bieten sie noch etwas Nützliches an, aber das ist immer noch ungenau. <br><br>  <i>- Gibt es eine Chance, MAST in naher Zukunft zu integrieren?</i> <br><br>  Natürlich gibt es eine Wahrscheinlichkeit, aber sie ist gering.  Schließlich ist dieses Update wichtig, aber nicht dringend, sodass es warten kann, bis Entwickler über andere Protokollverbesserungen nachdenken.  Später können sie mehrere Verbesserungen gleichzeitig in ein Update integrieren, wie dies bei SegWit der Fall war. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de414979/">https://habr.com/ru/post/de414979/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de414969/index.html">Erweitern des Erstellungsprozesses mit MSBuild</a></li>
<li><a href="../de414971/index.html">Ein paar Worte zu Luftschiffen</a></li>
<li><a href="../de414973/index.html">Langlebigkeit der Lügen</a></li>
<li><a href="../de414975/index.html">Die Geschichte der Geburt eines Online-Such- und Buchungsdienstes für Urheberrechte reist um die Welt: ein Wort des Entwicklers</a></li>
<li><a href="../de414977/index.html">Bekanntschaft mit den Ausstellungen von Audio- und Videogeräten: vom Breitbild bis zum Spezial - Teil zwei</a></li>
<li><a href="../de414981/index.html">Ungeschriebene Bibliothek</a></li>
<li><a href="../de414983/index.html">Alan Kay: Was hat Xerox PARC so besonders gemacht und wer sieht heute noch so aus?</a></li>
<li><a href="../de414989/index.html">Weltraummüllsatellit von ISS gestartet</a></li>
<li><a href="../de414991/index.html">Erkennung und Erkennung von Objekten von der Kamera in ROS mithilfe des Pakets find_object_2d</a></li>
<li><a href="../de414993/index.html">Identifizierung und Klassifizierung toxischer Kommentare. Vortrag in Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>