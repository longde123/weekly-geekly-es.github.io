<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🎨 👨🏿‍🚀 🍔 Tutoriel React, partie 26: Architecture d'application, modèle de conteneur / composant 👩🏾‍🏫 👈🏽 🧒🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cette partie de la traduction du didacticiel React, nous parlerons de l'architecture des applications React. En particulier, nous discuterons du ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tutoriel React, partie 26: Architecture d'application, modèle de conteneur / composant</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/446206/">  Dans cette partie de la traduction du didacticiel React, nous parlerons de l'architecture des applications React.  En particulier, nous discuterons du modèle de conteneur / composant populaire. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/kv/3m/yg/kv3mygzwigixivdzbagb80fvlvi.png" alt="image"></a> <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1: aperçu du cours, raisons de la popularité de React, ReactDOM et JSX</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2: composants fonctionnels</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3: fichiers composants, structure du projet</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 4: composants parent et enfant</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 5: début des travaux sur une application TODO, les bases du style</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 6: sur certaines fonctionnalités du cours, JSX et JavaScript</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 7: styles en ligne</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 8: poursuite des travaux sur l'application TODO, familiarité avec les propriétés des composants</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 9: propriétés des composants</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 10: Atelier sur l'utilisation des propriétés et du style des composants</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 11: génération de balisage dynamique et méthode des tableaux de cartes</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 12: atelier, troisième étape de travail sur une application TODO</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 13: composants basés sur les classes</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 14: atelier sur les composants basés sur les classes, état des composants</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 15: ateliers santé composante</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 16: quatrième étape de travail sur une application TODO, gestion d'événements</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 17: cinquième étape de travail sur une application TODO, modifiant l'état des composants</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 18: la sixième étape de travail sur une application TODO</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 19: méthodes du cycle de vie des composants</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 20: la première leçon de rendu conditionnel</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 21: deuxième leçon et atelier sur le rendu conditionnel</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 22: la septième étape des travaux sur une application TODO, téléchargement de données depuis des sources externes</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 23: première leçon sur l'utilisation des formulaires</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 24: Deuxième leçon sur les formulaires</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 25: Atelier sur l'utilisation des formulaires</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 26: architecture d'application, modèle de conteneur / composant</a> <br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 27: projet de cours</a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Leçon 44. Architecture d'application, modèle de conteneur / composant</font> </h2><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Original</a> <br><br>  Parfois, la quantité de travail dont un composant distinct est responsable est trop importante; un composant doit résoudre trop de tâches.  L'utilisation du modèle Conteneur / Composant vous permet de séparer la logique de l'application de la logique de formation de sa représentation visuelle.  Cela vous permet d'améliorer la structure de l'application, de partager la responsabilité de l'exécution des différentes tâches entre les différents composants. <br><br>  Lors de la précédente leçon pratique, nous avons créé un énorme composant dont la longueur de code approche 150 lignes.  Voici le code que nous avons obtenu alors: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, {Component} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{    <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() {        <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>()        <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {            <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,            <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,            <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,            <span class="hljs-attr"><span class="hljs-attr">gender</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,            <span class="hljs-attr"><span class="hljs-attr">destination</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,            <span class="hljs-attr"><span class="hljs-attr">isVegan</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>,            <span class="hljs-attr"><span class="hljs-attr">isKosher</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>,            <span class="hljs-attr"><span class="hljs-attr">isLactoseFree</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>        }        <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleChange = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleChange.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)    }       handleChange(event) {        <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> {name, value, type, checked} = event.target        type === <span class="hljs-string"><span class="hljs-string">"checkbox"</span></span> ?            <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({                [name]: checked            })        :        <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({            [name]: value        })    }       render() {        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (            &lt;main&gt;                &lt;form&gt;                    &lt;input                        name="firstName"                        value={this.state.firstName}                        onChange={this.handleChange}                        placeholder="First Name"                    /&gt;                    &lt;br /&gt;                                       &lt;input                        name="lastName"                        value={this.state.lastName}                        onChange={this.handleChange}                        placeholder="Last Name"                    /&gt;                    &lt;br /&gt;                                       &lt;input                        name="age"                        value={this.state.age}                        onChange={this.handleChange}                        placeholder="Age"                    /&gt;                    &lt;br /&gt;                                       &lt;label&gt;                        &lt;input                            type="radio"                            name="gender"                            value="male"                            checked={this.state.gender === "male"}                            onChange={this.handleChange}                        /&gt; Male                    &lt;/label&gt;                                       &lt;br /&gt;                                       &lt;label&gt;                        &lt;input                            type="radio"                            name="gender"                            value="female"                            checked={this.state.gender === "female"}                            onChange={this.handleChange}                        /&gt; Female                    &lt;/label&gt;                                       &lt;br /&gt;                                       &lt;select                        value={this.state.destination}                        name="destination"                        onChange={this.handleChange}                    &gt;                        &lt;option value=""&gt;-- Please Choose a destination --&lt;/option&gt;                        &lt;option value="germany"&gt;Germany&lt;/option&gt;                        &lt;option value="norway"&gt;Norway&lt;/option&gt;                        &lt;option value="north pole"&gt;North Pole&lt;/option&gt;                        &lt;option value="south pole"&gt;South Pole&lt;/option&gt;                    &lt;/select&gt;                                       &lt;br /&gt;                                       &lt;label&gt;                        &lt;input                            type="checkbox"                            name="isVegan"                            onChange={this.handleChange}                            checked={this.state.isVegan}                        /&gt; Vegan?                    &lt;/label&gt;                    &lt;br /&gt;                                       &lt;label&gt;                        &lt;input                            type="checkbox"                            name="isKosher"                            onChange={this.handleChange}                            checked={this.state.isKosher}                        /&gt; Kosher?                    &lt;/label&gt;                    &lt;br /&gt;                                       &lt;label&gt;                        &lt;input                            type="checkbox"                            name="isLactoseFree"                            onChange={this.handleChange}                            checked={this.state.isLactoseFree}                        /&gt; Lactose Free?                    &lt;/label&gt;                    &lt;br /&gt;                                       &lt;button&gt;Submit&lt;/button&gt;                &lt;/form&gt;                &lt;hr /&gt;                &lt;h2&gt;&lt;font color="#3AC1EF"&gt;Entered information:&lt;/font&gt;&lt;/h2&gt;                &lt;p&gt;Your name: {this.state.firstName} {this.state.lastName}&lt;/p&gt;                &lt;p&gt;Your age: {this.state.age}&lt;/p&gt;                &lt;p&gt;Your gender: {this.state.gender}&lt;/p&gt;                &lt;p&gt;Your destination: {this.state.destination}&lt;/p&gt;                &lt;p&gt;Your dietary restrictions:&lt;/p&gt;                               &lt;p&gt;Vegan: {this.state.isVegan ? "Yes" : "No"}&lt;/p&gt;                &lt;p&gt;Kosher: {this.state.isKosher ? "Yes" : "No"}&lt;/p&gt;                &lt;p&gt;Lactose Free: {this.state.isLactoseFree ? "Yes" : "No"}&lt;/p&gt;                           &lt;/main&gt;        )    } } export default App</code> </pre> <br>  Le premier inconvénient de ce code, qui attire immédiatement l'attention, est que lorsque vous travaillez avec lui, vous devez constamment le faire défiler dans la fenêtre de l'éditeur. <br><br>  Vous pouvez remarquer que la majeure partie de ce code est la logique de formation de l'interface d'application, le contenu de la méthode <code>render()</code> .  De plus, une certaine quantité de code est responsable de l'initialisation de l'état du composant.  Le composant possède également ce qu'on appelle la «logique métier» (c'est-à-dire ce qui met en œuvre la logique du fonctionnement de l'application).  Il s'agit du code de la méthode <code>handleChange()</code> . <br><br>  Selon les résultats de certaines études, il est connu que la capacité d'un programmeur à percevoir le code qu'il regarde est grandement altérée si le code est suffisamment long, et le programmeur doit utiliser le défilement pour l'afficher dans son intégralité.  Je l'ai remarqué pendant les cours.  Lorsque le code dont je parle se révèle assez long et que je dois constamment le parcourir, il devient plus difficile pour les étudiants de le percevoir. <br><br>  Ce serait bien si nous retravaillions notre code, en partageant la responsabilité entre les différents composants pour la formation de l'interface d'application (ce qui est maintenant décrit dans la méthode <code>render()</code> ) et pour l'implémentation de la logique d'application, c'est-à-dire par définition de son apparence interface (le code correspondant est maintenant représenté par le constructeur du composant dans lequel l'état est initialisé et le gestionnaire d'événements de contrôle <code>handleChange()</code> ).  Lorsque vous utilisez cette approche de la conception d'applications, nous travaillons en fait avec deux types de composants, et il convient de noter que vous pouvez rencontrer des noms différents pour ces composants. <br><br>  Nous utiliserons ici le modèle Conteneur / Composant.  Lorsque vous l'utilisez, les applications sont construites en divisant les composants en deux types - composants de composant (le mot conteneur dans le nom du modèle se réfère à eux) et composants de présentation (il s'agit de composant dans le nom du modèle).  Parfois, les composants de conteneur sont appelés composants «intelligents», ou simplement «conteneurs», et les composants de présentation sont appelés composants «stupides», ou simplement «composants».  Il existe d'autres noms pour ces types de composants et, il convient de noter que la signification qui y est contenue peut, selon les cas, différer dans certaines fonctionnalités.  En général, l'idée générale de cette approche est que nous avons un composant conteneur qui est responsable du stockage de l'état et des méthodes de gestion de l'état, et la logique de formation de l'interface est transférée à un autre - composant de présentation.  Ce composant est uniquement responsable de la réception des propriétés du composant conteneur et de la formation correcte de l'interface. <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici le</a> matériel de Dan Abramov dans lequel il explore cette idée. <br><br>  Nous transformons le code de notre application conformément au modèle Container / Component. <br>  Tout d'abord, faisons attention au fait que maintenant tout dans l'application est assemblé en un seul composant de l' <code>App</code> .  Cette application est conçue pour simplifier au maximum sa structure, mais dans les projets réels, le composant <code>App</code> n'a guère de sens de transférer la tâche de rendu du formulaire et d'y inclure du code conçu pour organiser le travail des mécanismes internes de ce formulaire. <br><br>  Ajoutez au même dossier dans lequel se trouve le fichier <code>Form.js</code> , le fichier <code>Form.js</code> , dans lequel se <code>Form.js</code> le code du nouveau composant.  Nous transférons tout le code du composant <code>App</code> dans ce fichier et convertissons le composant <code>App</code> , qui est maintenant représenté par le composant basé sur la classe, en un composant fonctionnel, dont la tâche principale sera la sortie du composant <code>Form</code> .  N'oubliez pas d'importer le composant <code>Form</code> dans le composant <code>App</code> .  Par conséquent, le code du composant <code>App</code> ressemblera à ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, {Component} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Form <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./Form"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (       <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Form</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">   ) } export default App</span></span></code> </pre> <br>  Voici ce que l'application affiche à l'écran à ce stade du travail. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a2/283/00b/3a228300b72ffdbc851b081f0feca8b7.png"></div><br>  <i><font color="#999999">Application dans le navigateur</font></i> <br><br>  Dans les cours précédents, je vous ai dit que je préfère que le composant <code>App</code> soit quelque chose comme une «table des matières» de l'application, qui indique dans quel ordre ses sections sont affichées sur la page, représentées par d'autres composants qui sont des tâches déléguées de rendu de gros fragments de l'application. <br><br>  Nous avons légèrement amélioré la structure de l'application, mais le principal problème, exprimé dans le fait qu'un composant a trop de responsabilités, n'a pas encore été résolu.  Nous avons simplement transféré tout ce qui était auparavant dans le composant <code>App</code> vers le composant <code>Form</code> .  Par conséquent, nous allons maintenant résoudre ce problème.  Pour ce faire, créez, dans le même dossier dans lequel se <code>Form.js</code> les fichiers <code>Form.js</code> et <code>App.js</code> , un autre fichier - <code>FormComponent.js</code> .  Ce fichier représentera le composant de présentation responsable de la visualisation du formulaire.  En fait, vous pouvez le nommer différemment, vous pouvez structurer les fichiers de composants différemment, tout dépend des besoins et de l'échelle d'un projet particulier.  Le fichier <code>Form.js</code> contiendra la logique du formulaire, c'est-à-dire le code du composant conteneur.  Par conséquent, renommez-le <code>FormContainer.js</code> et modifiez la commande d'importation dans le code du composant <code>App</code> , en l'amenant à ce formulaire: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Form <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./FormContainer"</span></span></code> </pre> <br>  Vous pouvez également renommer le composant <code>Form</code> en <code>FormContainer</code> , mais nous ne le ferons pas.  Nous allons maintenant transférer le code responsable du rendu du formulaire du fichier <code>FormContainer.js</code> vers le fichier <code>FormComponent.js</code> . <br><br>  Le composant <code>FormComponent</code> sera fonctionnel.  Voici à quoi ressemblera son code à cette étape du travail: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FormComponent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (       &lt;main&gt;           &lt;form&gt;               &lt;input                   name="firstName"                   value={this.state.firstName}                   onChange={this.handleChange}                   placeholder="First Name"               /&gt;               &lt;br /&gt;                             &lt;input                   name="lastName"                   value={this.state.lastName}                   onChange={this.handleChange}                   placeholder="Last Name"               /&gt;               &lt;br /&gt;                             &lt;input                   name="age"                   value={this.state.age}                   onChange={this.handleChange}                   placeholder="Age"               /&gt;               &lt;br /&gt;                             &lt;label&gt;                   &lt;input                       type="radio"                       name="gender"                       value="male"                       checked={this.state.gender === "male"}                       onChange={this.handleChange}                   /&gt; Male               &lt;/label&gt;                             &lt;br /&gt;                             &lt;label&gt;                   &lt;input                       type="radio"                       name="gender"                       value="female"                       checked={this.state.gender === "female"}                       onChange={this.handleChange}                   /&gt; Female               &lt;/label&gt;                             &lt;br /&gt;                             &lt;select                   value={this.state.destination}                   name="destination"                   onChange={this.handleChange}               &gt;                   &lt;option value=""&gt;-- Please Choose a destination --&lt;/option&gt;                   &lt;option value="germany"&gt;Germany&lt;/option&gt;                   &lt;option value="norway"&gt;Norway&lt;/option&gt;                   &lt;option value="north pole"&gt;North Pole&lt;/option&gt;                   &lt;option value="south pole"&gt;South Pole&lt;/option&gt;               &lt;/select&gt;                             &lt;br /&gt;                             &lt;label&gt;                   &lt;input                       type="checkbox"                       name="isVegan"                       onChange={this.handleChange}                       checked={this.state.isVegan}                   /&gt; Vegan?               &lt;/label&gt;               &lt;br /&gt;                             &lt;label&gt;                   &lt;input                       type="checkbox"                       name="isKosher"                       onChange={this.handleChange}                       checked={this.state.isKosher}                   /&gt; Kosher?               &lt;/label&gt;               &lt;br /&gt;                             &lt;label&gt;                   &lt;input                       type="checkbox"                       name="isLactoseFree"                       onChange={this.handleChange}                       checked={this.state.isLactoseFree}                   /&gt; Lactose Free?               &lt;/label&gt;               &lt;br /&gt;                             &lt;button&gt;Submit&lt;/button&gt;           &lt;/form&gt;           &lt;hr /&gt;           &lt;h2&gt;&lt;font color="#3AC1EF"&gt;Entered information:&lt;/font&gt;&lt;/h2&gt;           &lt;p&gt;Your name: {this.state.firstName} {this.state.lastName}&lt;/p&gt;           &lt;p&gt;Your age: {this.state.age}&lt;/p&gt;           &lt;p&gt;Your gender: {this.state.gender}&lt;/p&gt;           &lt;p&gt;Your destination: {this.state.destination}&lt;/p&gt;           &lt;p&gt;Your dietary restrictions:&lt;/p&gt;                     &lt;p&gt;Vegan: {this.state.isVegan ? "Yes" : "No"}&lt;/p&gt;           &lt;p&gt;Kosher: {this.state.isKosher ? "Yes" : "No"}&lt;/p&gt;           &lt;p&gt;Lactose Free: {this.state.isLactoseFree ? "Yes" : "No"}&lt;/p&gt;                 &lt;/main&gt;   ) }</code> </pre> <br>  Si vous regardez ce code, il devient clair que nous ne pouvons pas nous limiter à le transférer simplement d'un fichier à un autre, car il existe maintenant des liens vers l'état (par exemple, <code>this.state.firstName</code> ) et le gestionnaire d'événements ( <code>this.handleChange</code> ), qui était dans le même composant en fonction de la classe dans laquelle se trouvait ce code de rendu.  Désormais, tout ce qui a été précédemment extrait de la même classe dans laquelle se trouvait le code de rendu sera extrait des propriétés transmises au composant.  Il y a d'autres problèmes.  Nous allons maintenant corriger ce code, mais nous allons d'abord revenir au code du composant <code>Form</code> , qui se trouve maintenant dans le fichier <code>FormContainer.js</code> . <br><br>  Sa méthode <code>render()</code> est désormais vide.  Nous avons besoin que le composant <code>FormComponent</code> soit affiché dans cette méthode et nous devons y organiser le transfert des propriétés nécessaires.  Nous importons le <code>FormComponent</code> dans le fichier <code>Form</code> et <code>FormComponent</code> le <code>FormComponent</code> dans la méthode <code>render()</code> , en lui passant un gestionnaire d'événements et, en tant qu'objet, l'état.  Maintenant, le code du composant <code>Form</code> ressemblera à ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, {Component} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> FormComponent <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./FormComponent"</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Form</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() {       <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>()       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {           <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,           <span class="hljs-attr"><span class="hljs-attr">lastName</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,           <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,           <span class="hljs-attr"><span class="hljs-attr">gender</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,           <span class="hljs-attr"><span class="hljs-attr">destination</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>,           <span class="hljs-attr"><span class="hljs-attr">isVegan</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>,           <span class="hljs-attr"><span class="hljs-attr">isKosher</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>,           <span class="hljs-attr"><span class="hljs-attr">isLactoseFree</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>       }       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleChange = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleChange.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)   }     handleChange(event) {       <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> {name, value, type, checked} = event.target       type === <span class="hljs-string"><span class="hljs-string">"checkbox"</span></span> ?           <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({               [name]: checked           })       :       <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({           [name]: value       })   }     render() {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>(           <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">FormComponent</span></span></span></span><span class="xml"><span class="hljs-tag">               </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">handleChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.handleChange}</span></span></span></span><span class="xml"><span class="hljs-tag">               </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">data</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state}</span></span></span></span><span class="xml"><span class="hljs-tag">           /&gt;</span></span></span><span class="xml">       )   } } export default Form</span></span></code> </pre> <br>  Nous <code>FormComponent</code> code du composant <code>FormComponent</code> , en le portant sous la forme suivante: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FormComponent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (       &lt;main&gt;           &lt;form&gt;               &lt;input                   name="firstName"                   value={props.data.firstName}                   onChange={props.handleChange}                   placeholder="First Name"               /&gt;               &lt;br /&gt;                             &lt;input                   name="lastName"                   value={props.data.lastName}                   onChange={props.handleChange}                   placeholder="Last Name"               /&gt;               &lt;br /&gt;                             &lt;input                   name="age"                   value={props.data.age}                   onChange={props.handleChange}                   placeholder="Age"               /&gt;               &lt;br /&gt;                             &lt;label&gt;                   &lt;input                       type="radio"                       name="gender"                       value="male"                       checked={props.data.gender === "male"}                       onChange={props.handleChange}                   /&gt; Male               &lt;/label&gt;                             &lt;br /&gt;                             &lt;label&gt;                   &lt;input                       type="radio"                       name="gender"                       value="female"                       checked={props.data.gender === "female"}                       onChange={props.handleChange}                   /&gt; Female               &lt;/label&gt;                             &lt;br /&gt;                             &lt;select                   value={props.data.destination}                   name="destination"                   onChange={props.handleChange}               &gt;                   &lt;option value=""&gt;-- Please Choose a destination --&lt;/option&gt;                   &lt;option value="germany"&gt;Germany&lt;/option&gt;                   &lt;option value="norway"&gt;Norway&lt;/option&gt;                   &lt;option value="north pole"&gt;North Pole&lt;/option&gt;                   &lt;option value="south pole"&gt;South Pole&lt;/option&gt;               &lt;/select&gt;                             &lt;br /&gt;                             &lt;label&gt;                   &lt;input                       type="checkbox"                       name="isVegan"                       onChange={props.handleChange}                       checked={props.data.isVegan}                   /&gt; Vegan?               &lt;/label&gt;               &lt;br /&gt;                             &lt;label&gt;                   &lt;input                       type="checkbox"                       name="isKosher"                       onChange={props.handleChange}                       checked={props.data.isKosher}                   /&gt; Kosher?               &lt;/label&gt;               &lt;br /&gt;                             &lt;label&gt;                   &lt;input                       type="checkbox"                       name="isLactoseFree"                       onChange={props.handleChange}                       checked={props.data.isLactoseFree}                   /&gt; Lactose Free?               &lt;/label&gt;               &lt;br /&gt;                             &lt;button&gt;Submit&lt;/button&gt;           &lt;/form&gt;           &lt;hr /&gt;           &lt;h2&gt;&lt;font color="#3AC1EF"&gt;Entered information:&lt;/font&gt;&lt;/h2&gt;           &lt;p&gt;Your name: {props.data.firstName} {props.data.lastName}&lt;/p&gt;           &lt;p&gt;Your age: {props.data.age}&lt;/p&gt;           &lt;p&gt;Your gender: {props.data.gender}&lt;/p&gt;           &lt;p&gt;Your destination: {props.data.destination}&lt;/p&gt;           &lt;p&gt;Your dietary restrictions:&lt;/p&gt;                     &lt;p&gt;Vegan: {props.data.isVegan ? "Yes" : "No"}&lt;/p&gt;           &lt;p&gt;Kosher: {props.data.isKosher ? "Yes" : "No"}&lt;/p&gt;           &lt;p&gt;Lactose Free: {props.data.isLactoseFree ? "Yes" : "No"}&lt;/p&gt;                 &lt;/main&gt;   ) } export default FormComponent</code> </pre> <br>  Ici, nous avons corrigé le code en tenant compte du fait que le composant reçoit désormais des données et un lien vers le gestionnaire d'événements via les propriétés. <br><br>  Après toutes ces transformations, ni l'apparence du formulaire ni son fonctionnement ne changeront, mais nous avons amélioré la structure du code du projet, bien que la taille du code du composant <code>FormComponent</code> soit encore assez grande.  Cependant, maintenant ce code ne résout qu'un seul problème, il n'est responsable que de la visualisation du formulaire.  Par conséquent, travailler avec lui est maintenant beaucoup plus facile. <br><br>  En conséquence, nous avons réalisé une séparation des responsabilités entre les composants.  Le composant <code>Form</code> du fichier <code>FormContainer.js</code> désormais exclusivement occupé par la logique d'application, tandis que le composant <code>FormComponent.js</code> fichier <code>FormComponent.js</code> contient uniquement le code qui forme l'interface d'application.  Le composant <code>App</code> est désormais uniquement responsable de l'assemblage de la page à partir de gros blocs. <br><br>  Il convient de noter que, compte tenu de l'existence de bibliothèques comme <code>Redux</code> et de l'API <code>Context</code> récemment publiée, le modèle Container / Component discuté ici n'est plus aussi pertinent qu'auparavant.  Par exemple, Redux peut prendre en charge l'état global d'une application que les composants peuvent utiliser. <br><br><h2>  <font color="#3AC1EF">Résumé</font> </h2><br>  Dans cette leçon, nous avons examiné l'utilisation du modèle Conteneur / Composant, qui vise à diviser les composants en ceux qui sont responsables de la formation de l'interface de l'application et ceux qui sont responsables du stockage de l'état et de la logique de l'application.  L'application de ce modèle permet d'améliorer la structure du code des applications React et facilite le processus de développement.  La prochaine fois, nous travaillerons sur un projet de cours. <br><br>  <b>Chers lecteurs!</b>  Quels modèles de conception utilisez-vous lors du développement d'applications React? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr446206/">https://habr.com/ru/post/fr446206/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr446196/index.html">Présentation de 3CX V16 avec le widget de communication de site Web</a></li>
<li><a href="../fr446198/index.html">Destruction des données du disque dur</a></li>
<li><a href="../fr446200/index.html">Frontend Weekly Digest (25 - 31 mars 2019)</a></li>
<li><a href="../fr446202/index.html">Le condensé de matières fraîches du monde du front-end de la dernière semaine n ° 358 (25 - 31 mars 2019)</a></li>
<li><a href="../fr446204/index.html">Prévision sur la manière dont les restrictions Internet seront surmontées</a></li>
<li><a href="../fr446208/index.html">Tutoriel React Partie 25: Atelier sur les formulaires</a></li>
<li><a href="../fr446210/index.html">ADAM-3600 - un contrôleur industriel multifonctionnel</a></li>
<li><a href="../fr446212/index.html">Profondeurs SIEM: corrélations prêtes à l'emploi. Partie 5. Méthodologie pour développer des règles de corrélation</a></li>
<li><a href="../fr446214/index.html">OS1: un noyau primitif sur Rust pour x86. Partie 3. Carte mémoire, exception de défaut de page, tas et allocations</a></li>
<li><a href="../fr446218/index.html">Le game designer n'est pas très différent d'un psycho. Comment nous avons créé le jeu CMAN</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>