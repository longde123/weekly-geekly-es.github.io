<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â­ï¸ ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘© ğŸ‘¶ğŸ¼ ä½¿ç”¨GtkApplicationã€‚ Librsvgæ¸²æŸ“åŠŸèƒ½ ğŸ˜º ğŸ™‹ğŸ» ğŸ‘¨ğŸ¿â€ğŸ¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ–‡ç« æ‘˜è¦ã€‚ 



- ä½¿ç”¨GtkApplicationã€‚ çº¿æ¡†åº”ç”¨ç¨‹åºã€‚ ç”Ÿæˆæ–‡ä»¶ã€‚ 
- ç”±librsvgåº“æ¸²æŸ“ã€‚ 
- å°†å›¾åƒå¯¼å‡ºåˆ°GtkImageå¹¶ç¼©æ”¾æ¯”ä¾‹ã€‚ 
- å…·æœ‰è‡ªå®šä¹‰åŠŸèƒ½çš„SVGç¼©æ”¾ã€‚ 
- è·å–åº”ç”¨ç¨‹åºä¸­çš„å®Œæ•´è·¯å¾„ã€‚ 
- æ€§èƒ½æµ‹è¯•GtkDrawingAreaä¸GtkImageã€‚...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨GtkApplicationã€‚ Librsvgæ¸²æŸ“åŠŸèƒ½</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435564/"> æ–‡ç« æ‘˜è¦ã€‚ <br><br><ul><li> ä½¿ç”¨GtkApplicationã€‚ çº¿æ¡†åº”ç”¨ç¨‹åºã€‚ ç”Ÿæˆæ–‡ä»¶ã€‚ </li><li> ç”±librsvgåº“æ¸²æŸ“ã€‚ </li><li> å°†å›¾åƒå¯¼å‡ºåˆ°GtkImageå¹¶ç¼©æ”¾æ¯”ä¾‹ã€‚ </li><li> å…·æœ‰è‡ªå®šä¹‰åŠŸèƒ½çš„SVGç¼©æ”¾ã€‚ </li><li> è·å–åº”ç”¨ç¨‹åºä¸­çš„å®Œæ•´è·¯å¾„ã€‚ </li><li> æ€§èƒ½æµ‹è¯•GtkDrawingAreaä¸GtkImageã€‚ </li></ul><a name="habracut"></a><br> å…ˆå‰åœ¨GTK +é›†çº¿å™¨ä¸­æœ‰ä¸€äº›æ–‡ç« ï¼ˆä¸æ˜¯æˆ‘çš„æ–‡ç« ï¼‰åœ¨ç¤ºä¾‹ä¸­ä½¿ç”¨void gtk_mainï¼ˆvoidï¼‰å‡½æ•°ï¼›  GtkApplicationç±»å…è®¸æ‚¨æ˜¾å¼çªå‡ºæ˜¾ç¤ºapplication_activateå’Œapplication_shutdownå›è°ƒå‡½æ•°ã€‚ ä½¿ç”¨gtk_mainï¼Œæ‚¨éœ€è¦æ˜¾å¼æŒ‚é’©gtk_main_quitï¼Œä»¥ä¾¿åœ¨å•å‡»åå­—æ¶æ—¶ï¼Œåº”ç”¨ç¨‹åºç»ˆæ­¢ã€‚  GtkApplicationé€šè¿‡å•å‡»åå­—æ¶ç»ˆæ­¢åº”ç”¨ç¨‹åºï¼Œè¿™æ›´åŠ åˆä¹é€»è¾‘ã€‚ åº”ç”¨ç¨‹åºæ¡†æ¶æœ¬èº«ç”±main.hï¼ŒMakefileï¼Œstring.gresource.xmlï¼Œmain.cç»„æˆã€‚ <br><br>  <b>ä¸»æ–‡ä»¶</b> <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;gtk/gtk.h&gt; typedef struct{ GtkApplication *restrict app; GtkWidget *restrict win; GtkBuilder *restrict builder; }appdata; appdata data; appdata *data_ptr; #endif</span></span></span></span></code> </pre> <br>  <b>ç”Ÿæˆæ–‡ä»¶</b> <br><br> åœ¨è¿™é‡Œé€šç”¨ï¼Œå®ƒå…è®¸æ‚¨ç¼–è¯‘æ‰€æœ‰æºæ–‡ä»¶è€Œæ— éœ€æŒ‡å®šç‰¹å®šçš„æ–‡ä»¶åï¼Œä½†æ˜¯å¦‚æœæ–‡ä»¶å¤¹ä¸­æœ‰å…¶ä»–æ–‡ä»¶ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šå‘èª“ã€‚ <br> æ‚¨è¿˜å¯ä»¥ä½¿ç”¨CC = g ++ -std = c ++ 11ï¼Œä½†è¦æ”¾å…¥å›è°ƒå‡½æ•° <br> å¤–éƒ¨â€œ Câ€ã€‚ <br><br><pre> <code class="cmake hljs">CC = gcc -std=c99 PKGCONFIG = $(shell which pkg-config) CFLAGS = $(shell $(PKGCONFIG) --cflags gio-<span class="hljs-number"><span class="hljs-number">2.0</span></span> gtk+-<span class="hljs-number"><span class="hljs-number">3.0</span></span> librsvg-<span class="hljs-number"><span class="hljs-number">2.0</span></span>) -rdynamic -O3 LIBS = $(shell $(PKGCONFIG) --libs gio-<span class="hljs-number"><span class="hljs-number">2.0</span></span> gtk+-<span class="hljs-number"><span class="hljs-number">3.0</span></span> gmodule-<span class="hljs-number"><span class="hljs-number">2.0</span></span> librsvg-<span class="hljs-number"><span class="hljs-number">2.0</span></span> epoxy) -lm GLIB_COMPILE_RESOURCES = $(shell $(PKGCONFIG) --variable=glib_compile_resources gio-<span class="hljs-number"><span class="hljs-number">2.0</span></span>) SRC = $(wildcard *.c) GEN = gresources.c BIN = main ALL = $(GEN) $(SRC) OBJS = $(ALL:.c=.o) all: $(BIN) gresources.c: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.gresource.xml $(shell $(GLIB_COMPILE_RESOURCES) --sourcedir=. --generate-dependencies <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.gresource.xml) $(GLIB_COMPILE_RESOURCES) <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.gresource.xml --<span class="hljs-keyword"><span class="hljs-keyword">target</span></span>=$@ --sourcedir=. --generate-source %.o: %.c $(CC) $(CFLAGS) -c -o $(@F) $&lt; $(BIN): $(OBJS) $(CC) -o $(@F) $(OBJS) $(LIBS) clean: @rm -f $(GEN) $(OBJS) $(BIN)</code> </pre><br>  <b>string.gresource.xml</b> <br><br> ç”¨äºåœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­åŒ…å«èµ„æºï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯window.gladeæ¥å£æè¿°æ–‡ä»¶ <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gresources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gresource</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">prefix</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/com/example/YourApp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">file</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">preprocess</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"xml-stripblanks"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">compressed</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span>window.glade<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">file</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gresource</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">gresources</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>main.c</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> GtkBuilder* builder_init(void) { GError *</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">error</span></span></span><span class="hljs-meta"> = NULL; data.builder = gtk_builder_new(); </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (!gtk_builder_add_from_resource (data.builder, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/com/example/YourApp/window.glade"</span></span></span><span class="hljs-meta">, &amp;</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">error</span></span></span><span class="hljs-meta">)) { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//     g_critical ("   : %s", error-&gt;message); g_error_free (error); } gtk_builder_connect_signals (data.builder,NULL); return data.builder; } void application_activate(GtkApplication *application, gpointer user_data) { GtkBuilder *builder=builder_init(); data_ptr=&amp;data; data.win=GTK_WIDGET(gtk_builder_get_object(builder, "window1")); gtk_widget_set_size_request(data.win,360,240); gtk_application_add_window(data.app,GTK_WINDOW(data.win)); gtk_widget_show_all(data.win); } void application_shutdown(GtkApplication *application, gpointer user_data) { g_object_unref(data.builder); } int main (int argc, char *argv[]) { gtk_init (&amp;argc, &amp;argv); gint res; data.app = gtk_application_new("gtk.org", G_APPLICATION_FLAGS_NONE); g_signal_connect(data.app, "activate", G_CALLBACK(application_activate), NULL); g_signal_connect(data.app, "shutdown", G_CALLBACK(application_shutdown), NULL); res = g_application_run(G_APPLICATION(data.app), 0, NULL); return 0; }</span></span></span></span></code> </pre><br> åœ¨gtk_application_newå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ï¼Œæ‚¨å¯ä»¥æ”¾ç½®â€‹â€‹ä»»ä½•æ–‡æœ¬ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰ç‚¹å·ï¼Œè¯¥æ–‡æœ¬å°†ä¸èµ·ä½œç”¨ã€‚ æ­¤ç¤ºä¾‹è¿˜çœç•¥äº†å¯ä»¥åœ¨Glade UIç¼–è¾‘å™¨ä¸­åˆ›å»ºçš„window.gladeæ–‡ä»¶ã€‚ <br><br> æˆ‘ä»¬å°†å¸¦æœ‰GtkBoxå®¹å™¨çš„çª—å£åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯å°†GtkDrawingAreaæ”¾åœ¨å¦ä¸€éƒ¨åˆ†ï¼š <br><br><img src="https://habrastorage.org/webt/d4/_f/qy/d4_fqyifbcg7k12sfrrrw6d-xw0.png"><br><br> ç»“æœï¼Œappdataå°†å‘ç”Ÿå˜åŒ– <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class">{</span></span> GtkApplication *<span class="hljs-keyword"><span class="hljs-keyword">restrict</span></span> app; GtkWidget *<span class="hljs-keyword"><span class="hljs-keyword">restrict</span></span> win; GtkBuilder *<span class="hljs-keyword"><span class="hljs-keyword">restrict</span></span> builder; GtkDrawingArea *<span class="hljs-keyword"><span class="hljs-keyword">restrict</span></span> draw; GtkImage *<span class="hljs-keyword"><span class="hljs-keyword">restrict</span></span> image; GtkEventBox *<span class="hljs-keyword"><span class="hljs-keyword">restrict</span></span> eventbox1; RsvgHandle *<span class="hljs-keyword"><span class="hljs-keyword">restrict</span></span> svg_handle_image; RsvgHandle *<span class="hljs-keyword"><span class="hljs-keyword">restrict</span></span> svg_handle_svg; GdkPixbuf *pixbuf; <span class="hljs-keyword"><span class="hljs-keyword">cairo_t</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">restrict</span></span> cr; <span class="hljs-keyword"><span class="hljs-keyword">cairo_surface_t</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">restrict</span></span> surf; }appdata;</code> </pre><br> å¹¶æ®æ­¤åˆå§‹åŒ–ã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">application_activate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GtkApplication *application, gpointer user_data)</span></span></span><span class="hljs-function"> </span></span>{ GtkBuilder *builder=builder_init(); data_ptr=&amp;data; data.win=GTK_WIDGET(gtk_builder_get_object(builder, <span class="hljs-string"><span class="hljs-string">"window1"</span></span>)); data.draw=GTK_DRAWING_AREA(gtk_builder_get_object(builder, <span class="hljs-string"><span class="hljs-string">"drawingarea1"</span></span>)); data.image=GTK_IMAGE(gtk_builder_get_object(builder, <span class="hljs-string"><span class="hljs-string">"image1"</span></span>)); gtk_widget_set_size_request(data.win,<span class="hljs-number"><span class="hljs-number">640</span></span>,<span class="hljs-number"><span class="hljs-number">480</span></span>); gtk_application_add_window(data.app,GTK_WINDOW(data.win)); gtk_widget_show_all(data.win); }</code> </pre><br> æ·»åŠ è·¯å¾„#include &lt;librsvg-2.0 / librsvg / rsvg.h&gt;ã€‚  ï¼ˆå¿…é¡»å®‰è£…librsvgå’Œlibrsvg-devè½¯ä»¶åŒ…ï¼‰ã€‚ <br><br> å›è°ƒå‡½æ•°çš„åç§°å–è‡ª.gladeæ–‡ä»¶ï¼Œè¯¥å‡½æ•°è´Ÿè´£æ­¤æ“ä½œã€‚ <br>  gtk_builder_connect_signalsï¼ˆdata.builderï¼ŒNULLï¼‰; <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">gboolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawingarea1_draw_cb</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GtkWidget *widget, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">cairo_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *cr, gpointer user_data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!data.svg_handle_svg) {data.svg_handle_svg=rsvg_handle_new_from_file(<span class="hljs-string"><span class="hljs-string">"compassmarkings.svg"</span></span>,<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>);} gboolean result=rsvg_handle_render_cairo(data.svg_handle_svg,cr); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(result&amp;&amp;cr) {cairo_stroke(cr);} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">" \n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FALSE; }</code> </pre><br> åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚HMIï¼‰ï¼Œæ‚¨å¯èƒ½éœ€è¦è°ƒæ•´SVGçš„å¤§å°ã€‚ å¯ä»¥ <br> æ›´æ”¹SVGæ–‡ä»¶ä¸­çš„widthå’Œheightå‚æ•°ã€‚ æˆ–è½¬ç§»åˆ°GtkPixbufå¹¶åœ¨é‚£é‡Œè¿›è¡Œç¼©æ”¾ã€‚ ç”±äºGtkImageä¸æ˜¯ä»GtkBinç»§æ‰¿çš„ï¼Œå› æ­¤å®ƒä¸èƒ½å…·æœ‰è‡ªå·±çš„ButtonClickç±»å‹äº‹ä»¶ï¼ˆä¸å…‰æ ‡ç›¸å…³çš„äº‹ä»¶ï¼‰ã€‚ ä¸ºæ­¤æœ‰ä¸€ä¸ªç©ºå®¹å™¨-GtkEventBoxã€‚ å¹¶ä¸”å›¾å½¢æœ¬èº«å¯ä»¥ç›´æ¥æŒ‚åœ¨GtkImageä¸Šã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">gboolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">image1_draw_cb</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GtkWidget *widget, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">cairo_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *cr, gpointer user_data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!data.svg_handle_image) { data.svg_handle_image=rsvg_handle_new_from_file(<span class="hljs-string"><span class="hljs-string">"compassmarkings.svg"</span></span>,<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); data.surf=cairo_image_surface_create_from_png(<span class="hljs-string"><span class="hljs-string">"2.png"</span></span>); data.pixbuf=rsvg_handle_get_pixbuf(data.svg_handle_image); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(data.pixbuf) { cairo_set_source_surface(cr,data.surf,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>); GdkPixbuf *dest=gdk_pixbuf_scale_simple (data.pixbuf,<span class="hljs-number"><span class="hljs-number">250</span></span>,<span class="hljs-number"><span class="hljs-number">250</span></span>,GDK_INTERP_BILINEAR); gtk_image_set_from_pixbuf (data.image,dest); g_object_unref(dest); cairo_paint(cr); } }</code> </pre><br> æ­¤å‡½æ•°åŠ è½½èƒŒæ™¯å›¾ç‰‡ï¼ˆ2.pngï¼‰ï¼Œè¯¥å›¾ç‰‡é€šå¸¸è¡¨ç¤º <br> å…·æœ‰é€æ˜åƒç´ çš„1x1ç»˜å›¾ã€‚ ç„¶åå°†ç»˜å›¾ï¼ˆpixbufï¼‰æ¸²æŸ“åˆ°æ­¤è¡¨é¢ä¸Šï¼Œç„¶åè¿›è¡Œç¼©æ”¾å¹¶å¯¼å‡ºåˆ°å›¾åƒï¼ˆå›¾åƒï¼‰ã€‚ <br><br> æˆ‘ä»¬ä¸€å®šä¸è¦å¿˜è®°æ¸…é™¤å†…å­˜ã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">application_shutdown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GtkApplication *application, gpointer user_data)</span></span></span><span class="hljs-function"> </span></span>{ cairo_surface_destroy(data.surf); g_object_unref(data.svg_handle_image); g_object_unref(data.svg_handle_svg); g_object_unref(data.pixbuf); g_object_unref(data.builder); }</code> </pre><br> ç»“æœæ˜¯ï¼š <br><br><img src="https://habrastorage.org/webt/hw/bn/yi/hwbnyikg3opargq5pg5pbzqnweg.png"><br> å¦‚æœåœ¨SVGå‚æ•°ä¸­è®¾ç½®äº†å®½åº¦å’Œé«˜åº¦å€¼ï¼Œåˆ™åœ¨å¯¼å‡ºä¸ºpngæ—¶å›¾ç‰‡å¯èƒ½ä¼šå˜å¾—æ¨¡ç³Šã€‚ <br><br> æ‚¨è¿˜å¯ä»¥ä»¥ç¼–ç¨‹æ–¹å¼æ›´æ”¹å®½åº¦å’Œé«˜åº¦ã€‚ ä¸ºæ­¤ï¼Œæˆ‘åˆ›å»ºäº†å•ç‹¬çš„æ–‡ä»¶ <br>  svg_to_pixbuf_class.cå’Œsvg_to_pixbuf_class.hã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–‡ä»¶å°†ä»¥æ›´æ”¹çš„å®½åº¦ï¼Œé«˜åº¦æ‰“å¼€ã€‚ <br><br> å®ƒä¿å­˜åœ¨/ dev / shm /ä¸­ã€‚ å°†ä¿¡æ¯å¯¼å‡ºåˆ°svg_handleä¹‹åï¼Œæ‚¨éœ€è¦åˆ é™¤æ–‡ä»¶æœ¬èº«å’Œæ–‡ä»¶çš„è¡Œè·¯å¾„ã€‚ è¿˜æ”¯æŒå°æ•°å®½åº¦/é•¿åº¦å€¼ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">svg_to_pixbuf_class.c</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;string.h&gt; #include &lt;stdlib.h&gt; #include &lt;stdio.h&gt; #include &lt;gtk/gtk.h&gt; #include &lt;sys/types.h&gt; #include &lt;sys/stat.h&gt; #include &lt;fcntl.h&gt; #include &lt;math.h&gt; #include &lt;stdbool.h&gt; int char_to_digit(char num) { switch(num) { case '0': return 0; case '1': return 1; case '2': return 2; case '3': return 3; case '4': return 4; case '5': return 5; case '6': return 6; case '7': return 7; case '8': return 8; case '9': return 9; case '.': return -1; default: return -2; } } //     text double read_num_in_text(char* text) { double result=0; int i=0; bool fractional_flag=FALSE; char whole_part[16]={0}; char whole_digits=0; char fractional_part[16]={0}; char fractional_digits=0; while(char_to_digit(text[i])!=-2) { if(char_to_digit(text[i])!=-1&amp;&amp;!fractional_flag) { whole_part[whole_digits]=char_to_digit(text[i]); printf("text_num=%d|%c\n",char_to_digit(text[i]),text[i]); ++whole_digits; ++i; } else { if(char_to_digit(text[i])==-1) { printf("fractional flag is true\n"); fractional_flag=TRUE; ++i; } else { fractional_part[fractional_digits]=char_to_digit(text[i]); ++fractional_digits; printf("frac_digit=%d|%c\n",char_to_digit(text[i]),text[i]); ++i; } } } ///    i=whole_digits; result=whole_part[whole_digits]; while(i&gt;0) { --i; printf("whole=%d\n",whole_part[i]); result=result+pow(10,whole_digits-i-1)*whole_part[i]; } i=0; while(i&lt;=fractional_digits) { result=result+pow(0.1,i+1)*fractional_part[i]; ++i; } printf("result_read_num=%lf\n",result); return result; } //  ,    // int count_of_digits_for_delete(char* text) { int i=0; bool fractional_flag=FALSE; char whole_part[16]={0}; int whole_digits=0; char fractional_part[16]={0}; int fractional_digits=0; while(char_to_digit(text[i])!=-2) { if(char_to_digit(text[i])!=-1&amp;&amp;!fractional_flag) { whole_part[whole_digits]=char_to_digit(text[i]); printf("text_num=%d|%c\n",char_to_digit(text[i]),text[i]); ++whole_digits; ++i; } else { if(char_to_digit(text[i])==-1) { printf("fractional flag is true\n"); fractional_flag=TRUE; ++i; } else { fractional_part[fractional_digits]=char_to_digit(text[i]); ++fractional_digits; printf("frac_digit=%d|%c\n",char_to_digit(text[i]),text[i]); ++i; } } } if(fractional_flag) return whole_digits+1+fractional_digits; else return whole_digits; } //      /dev/shm //      char* create_dump_file(char *file_with_path) { char *file=NULL; int i=0; while(file_with_path[i]!='\0') {++i;} while(file_with_path[i]!='/'&amp;&amp;i&gt;0) {--i;} file=file_with_path+i; GString *string=g_string_new("test -f /dev/shm"); g_string_append(string,file); g_string_append(string,"|| touch /dev/shm/"); g_string_append(string,file); system(string-&gt;str); ///  -  GString *full_path=g_string_new("/dev/shm"); g_string_append(full_path,file); char *result=g_string_free(full_path,FALSE); return result; } //result must be freed with g_string_free GString* read_file_in_buffer(char *file_with_path) { FILE *input = NULL; struct stat buf; int fh, result; char *body=NULL; // GString *resultat=g_string_new(""); fh=open(file_with_path, O_RDONLY); result=fstat(fh, &amp;buf); if (result !=0) printf("  \n"); else { printf("%s",file_with_path); printf(" : %ld\n", buf.st_size); printf(" : %lu\n", buf.st_dev); printf(" : %s", ctime(&amp;buf.st_atime)); input = fopen(file_with_path, "r"); if (input == NULL) { printf("Error opening file"); } body=(char*)calloc(buf.st_size+64,sizeof(char)); //    //    if(body==NULL) { printf("      body\n"); } int size_count=fread(body,sizeof(char),buf.st_size, input); if(size_count!=buf.st_size) printf("   "); resultat=g_string_append(resultat,body); free(body); } fclose(input); return resultat; } void* write_string_to_file(char* writed_file, char* str_for_write, int lenght) { FILE * ptrFile = fopen (writed_file ,"wb"); size_t writed_byte_count=fwrite(str_for_write,1,lenght,ptrFile); //if(writed_byte_count&gt;4) return TRUE; //else return FALSE; fclose(ptrFile); } //      g_free char* get_resized_svg(char *file_with_path, int width, int height) { char *writed_file=create_dump_file(file_with_path); //       GString *body=read_file_in_buffer(file_with_path); char *start_search=NULL; char *end_search=NULL; char *width_start=NULL; char *width_end=NULL; char *height_start=NULL; char *height_end=NULL; start_search=strstr(body-&gt;str,"&lt;svg"); int j=0; //   if(start_search) { end_search=strstr(start_search,"&gt;"); if(end_search) { ///  width width_start=strstr(start_search,"width"); width_end=width_start+strlen("width"); ///   width    while(width_end[j]==0x0A||width_end[j]==0x20) ++j; if(width_end[j]=='=') ++j; while(width_end[j]==0x0A||width_end[j]==0x20) ++j; if(width_end[j]!='"') printf("   svg.     width=%c\n",width_end[j]); else ++j; ///  ///  ,   gssize size=count_of_digits_for_delete(width_end+j); ///   (1  - 1 ) gssize pos=width_end+j-body-&gt;str; ///       g_string_erase(body,pos,size); char width_new[8]; g_snprintf(width_new,8,"%d",width); g_string_insert(body, pos, width_new); ///  height height_start=strstr(start_search,"height"); height_end=height_start+strlen("height"); ///   height    j=0; while(height_end[j]==0x0A||height_end[j]==0x20) ++j; if(height_end[j]=='=') ++j; while(height_end[j]==0x0A||height_end[j]==0x20) ++j; if(height_end[j]!='"') printf("   svg. \    height=%c%c%c\n",height_end[j-1],height_end[j],height_end[j+1]); else ++j; ///  ///  ,   size=count_of_digits_for_delete(height_end+j); ///   (1  - 1 ) pos=height_end+j-body-&gt;str; ///       g_string_erase(body,pos,size); char height_new[8]; g_snprintf(height_new,8,"%d",height); g_string_insert(body, pos, height_new); ///      dev/shm/ ///   write_string_to_file(writed_file,body-&gt;str,strlen(body-&gt;str)); return writed_file; //g_free(writed_file); g_string_free(body,TRUE); } else printf(" :      svg"); } } void resized_svg_free(char *path) { if (remove (path)==-1 ) { printf("    %s\n",path); } }</span></span></span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">svg_to_pixbuf_class.h</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> SVG_TO_PIXBUF_CLASS_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> SVG_TO_PIXBUF_CLASS_H void resized_svg_free(char *path); char* get_resized_svg(char *file_with_path, int width, int height); </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//result must be freed with g_free() #endif</span></span></span></span></code> </pre><br></div></div><br> ç°åœ¨è°ƒæ•´å·¦ä¾§çš„å¤§å°ï¼ˆå³GtkDrawingAreaï¼‰ <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">gboolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawingarea1_draw_cb</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GtkWidget *widget, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">cairo_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *cr, gpointer user_data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!data.svg_handle_svg) { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* path=get_resized_svg(<span class="hljs-string"><span class="hljs-string">"/home/alex/svg_habr/compassmarkings.svg"</span></span>, <span class="hljs-number"><span class="hljs-number">220</span></span>, <span class="hljs-number"><span class="hljs-number">220</span></span>); data.svg_handle_svg=rsvg_handle_new_from_file(path,<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); resized_svg_free(path); g_free(path); } gboolean result=rsvg_handle_render_cairo(data.svg_handle_svg,cr); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(result&amp;&amp;cr) {cairo_stroke(cr);} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">" \n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FALSE; }</code> </pre><br> å¦‚æ‚¨æ‰€è§ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªä»¤äººä¸å¿«çš„åŠŸèƒ½-å®Œæ•´è·¯å¾„ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå€¼å¾—ç§»åŠ¨æ–‡ä»¶å¤¹ï¼Œå› ä¸ºå·¦ä¾§éƒ¨åˆ†ï¼ˆGtkDrawingAreaï¼‰ä¸å†æ˜¾ç¤ºã€‚ è¿™åŒæ ·é€‚ç”¨äºå¯æ‰§è¡Œæ–‡ä»¶ä¸­æœªåŒ…æ‹¬çš„æ‰€æœ‰èµ„æºã€‚ ä¸ºæ­¤ï¼Œæˆ‘ç¼–å†™äº†ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°è®¡ç®—å¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼Œè€Œä¸ç®¡å…¶è¿è¡Œæ–¹å¼å¦‚ä½•ã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   data.path void get_real_path(char *argv0) { char* result=(char*)calloc(1024,sizeof(char)); char* cwd=(char*)calloc(1024,sizeof(char)); getcwd(cwd, 1024); int i=0; while(argv0[i]!='\0'&amp;&amp;i&lt;1024) ++i; while(argv0[i]!='/'&amp;&amp;i&gt;0) --i; result[i]='\0'; while(i&gt;0) { --i; result[i]=argv0[i]; } /*alex@alex-System-Product-Name:~/project_manager$ ./manager.elf argv[0]=./manager.elf path=/home/alex/project_manager*/ if(strlen(result)&lt;=strlen(cwd)) //   { free(result); strcpy(data.path,cwd); strcat(data.path,"/"); //printf("path_cwd=%s\n",cwd); free(cwd);} else { /*alex@alex-System-Product-Name:/home$ '/home/alex/project_manager/manager.elf' argv[0]=/home/alex/project_manager/manager.elf path=/home*/ free(cwd); strcpy(data.path,result); strcat(data.path,"/"); //printf("path_result=%s\n",result); free(result); } }</span></span></code> </pre><br> ä»£ç ä¸­æœ‰ä¸¤ä¸ªç¤ºä¾‹ï¼Œä»‹ç»äº†å¦‚ä½•è¿è¡Œmanager.elfæ–‡ä»¶ã€‚ æ‚¨è¿˜éœ€è¦å°†mainï¼ˆï¼‰æ”¾åœ¨å‡½æ•°çš„å¼€å¤´ <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> cwd[<span class="hljs-number"><span class="hljs-number">1024</span></span>]; getcwd(cwd, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(cwd)); get_real_path(argv[<span class="hljs-number"><span class="hljs-number">0</span></span>]);</code> </pre><br> ç»˜å›¾åŠŸèƒ½å°†é‡‡ç”¨ä»¥ä¸‹å½¢å¼ <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">gboolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">drawingarea1_draw_cb</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GtkWidget *widget, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">cairo_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *cr, gpointer user_data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!data.svg_handle_svg) { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> image_path[<span class="hljs-number"><span class="hljs-number">1024</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">strcat</span></span>(image_path,data.path); <span class="hljs-built_in"><span class="hljs-built_in">strcat</span></span>(image_path,<span class="hljs-string"><span class="hljs-string">"compassmarkings.svg"</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"image_path=%s\n"</span></span>,image_path); <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* path=get_resized_svg(image_path, <span class="hljs-number"><span class="hljs-number">220</span></span>, <span class="hljs-number"><span class="hljs-number">220</span></span>); data.svg_handle_svg=rsvg_handle_new_from_file(path,<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); resized_svg_free(path); g_free(path); } gboolean result=rsvg_handle_render_cairo(data.svg_handle_svg,cr); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(result&amp;&amp;cr) {cairo_stroke(cr);} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">" \n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FALSE; }</code> </pre><br>  <b>å¿«é€Ÿè¡ŒåŠ¨æµ‹è¯•ã€‚</b> <br><br> æˆ‘ä»¬æœ‰2ä¸ªç»˜åˆ¶å‡½æ•°ï¼ˆGtkDrawingAreaå’ŒGtkImageï¼‰ã€‚ <br><br> æˆ‘ä»¬å°†å®ƒä»¬æ”¾ç½®åœ¨ä¸€ç§ç±»å‹çš„è®¾è®¡ä¸­ï¼ˆä¸è¦å¿˜è®°è¿æ¥&lt;time.h&gt;ï¼‰ <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">clock_t</span></span> tic = clock(); <span class="hljs-keyword"><span class="hljs-keyword">clock_t</span></span> toc = clock(); <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"image1_draw_cb elapsed : %f seconds\n"</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>)(toc - tic) / CLOCKS_PER_SEC);</code> </pre><br> åœ¨htopåº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ç¨‹åºå¦‚ä½•åå™¬æ¯ä¸ªæ ¸å¿ƒAthlon 2 X3 2.5 GHzçš„20-30ï¼…ã€‚ <br><br> é”™è¯¯å¾ˆå¿«è¢«å‘ç°ã€‚ <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">gboolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">image1_draw_cb</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(GtkWidget *widget, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">cairo_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *cr, gpointer user_data)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">clock_t</span></span> tic = clock(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!data.svg_handle_image) { data.svg_handle_image=rsvg_handle_new_from_file(<span class="hljs-string"><span class="hljs-string">"compassmarkings.svg"</span></span>,<span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); data.surf=cairo_image_surface_create_from_png(<span class="hljs-string"><span class="hljs-string">"2.png"</span></span>); data.pixbuf=rsvg_handle_get_pixbuf(data.svg_handle_image); <span class="hljs-comment"><span class="hljs-comment">//} //if(data.pixbuf) // { cairo_set_source_surface(cr,data.surf,0,0); GdkPixbuf *dest=gdk_pixbuf_scale_simple (data.pixbuf,250,250,GDK_INTERP_BILINEAR); gtk_image_set_from_pixbuf (data.image,dest); g_object_unref(dest); //cairo_paint(cr); } clock_t toc = clock(); printf("image1_draw_cb elapsed : %f seconds\n", (double)(toc - tic) / CLOCKS_PER_SEC); return FALSE; }</span></span></code> </pre><br> äº‹å®è¯æ˜ï¼ŒGtkImageå…·æœ‰è‡ªå·±çš„æ¸²æŸ“ç³»ç»Ÿï¼Œå¹¶ä¸”image1_draw_cbçš„å†…å®¹åªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ã€‚ è¯„è®ºè¡Œæ˜¯å¤šä½™çš„ã€‚ <br><br><img src="https://habrastorage.org/webt/2s/2p/4i/2s2p4ibxxewesxsfsupstrcwzju.png"><br><br> å¦‚æ‚¨æ‰€è§ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨GtkImageæ¸²æŸ“è¦æ¯”ä½¿ç”¨GtkDrawingAreaèŠ±è´¹æ›´é•¿çš„æ—¶é—´ï¼Œä½†æ˜¯ä»ç†è®ºä¸Šè®²ï¼Œæ›´æ–°å›¾åƒåº”è¯¥æ›´å¿«ã€‚ æ¯é‡ç»˜220åƒç´ * 220åƒç´ çš„å›¾åƒéœ€è¦400ä¸‡ä¸ªå¤„ç†å™¨å‘¨æœŸï¼Œå› æ­¤æ‚¨åªèƒ½é€šè¿‡pixbufè¿›è¡Œç¼“å­˜ï¼ˆè‡³å°‘ï¼Œæˆ‘ä¸çŸ¥é“å…¶ä»–æ–¹æ³•ï¼‰ã€‚ <br><br> è°¢è°¢æ‚¨çš„å…³æ³¨ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN435564/">https://habr.com/ru/post/zh-CN435564/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN435552/index.html">è¿›å£æ›¿ä»£-æ•°å­—åŒ–å¢“å¿—é“­</a></li>
<li><a href="../zh-CN435556/index.html">è¿ç§»åˆ°æ•°æ®ä¸­å¿ƒï¼šè¿‡å»çš„æ ·å­</a></li>
<li><a href="../zh-CN435558/index.html">åœ¨Linuxä¸Šä½¿ç”¨HugePagesæµ‹è¯•PostgreSQL</a></li>
<li><a href="../zh-CN435560/index.html">ç¬¬ä¸€å°å•†ç”¨é‡å­è®¡ç®—æœº-IBM</a></li>
<li><a href="../zh-CN435562/index.html">å¸çƒŸè€…çš„é“è·¯ï¼šå¦‚æœæ‚¨æ˜¯äººæ–‡ä¸»ä¹‰è€…ï¼Œå¦‚ä½•è¿›å…¥ç¨‹åºå‘˜çš„èŒä¸š</a></li>
<li><a href="../zh-CN435568/index.html">VyOSå¼€æºè·¯ç”±å™¨</a></li>
<li><a href="../zh-CN435572/index.html">Anycubic i3 Megaï¼šPrusa i3çš„é«˜å“è´¨ç¿»æ‹</a></li>
<li><a href="../zh-CN435574/index.html">Zigå¦‚ä½•å·¥ä½œï¼Ÿ</a></li>
<li><a href="../zh-CN435576/index.html">1Cï¼Œæ— ç—›è‹¦</a></li>
<li><a href="../zh-CN435578/index.html">åœ£è¯èŠ‚å¤ªç©ºæ¼«æ­¥</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>