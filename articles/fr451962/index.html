<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóæ üêÖ üéß Cr√©er des outils dans des projets d'apprentissage automatique, un aper√ßu üßùüèº üí™üèæ üèîÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je me posais des questions sur l'apprentissage automatique / la structure / le flux de travail d'un projet de science des donn√©es et je lisais diff√©re...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cr√©er des outils dans des projets d'apprentissage automatique, un aper√ßu</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451962/"> Je me posais des questions sur l'apprentissage automatique / la structure / le flux de travail d'un projet de science des donn√©es et je lisais diff√©rentes opinions sur le sujet.  Et lorsque les gens commencent √† parler de workflow, ils souhaitent que leurs workflows soient reproductibles.  Il existe de nombreux articles qui sugg√®rent d'utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">make</a> pour garder le flux de travail reproductible.  Bien que <code>make</code> soit tr√®s stable et largement utilis√©, j'aime personnellement les solutions multiplateformes.  C'est 2019 apr√®s tout, pas 1977. On peut dire que se faire est multiplateforme, mais en r√©alit√© vous aurez des probl√®mes et passerez du temps √† r√©parer votre outil plut√¥t qu'√† faire le travail r√©el.  J'ai donc d√©cid√© de jeter un coup d'≈ìil et de v√©rifier quels autres outils sont disponibles.  Oui, j'ai d√©cid√© de passer du temps sur les outils. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aff/fbf/656/afffbf6566a6e67ea6427d28d76d7eea.png" alt="image"></div><br>  Ce message est plus une invitation √† un dialogue qu'√† un tutoriel.  Votre solution est peut-√™tre parfaite.  Si c'est le cas, il sera int√©ressant d'en entendre parler. <br><br>  Dans ce post, j'utiliserai un petit projet Python et ferai les m√™mes t√¢ches d'automatisation avec diff√©rents syst√®mes: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CMake</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pybuilder</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pynt</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pav√©</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">doit</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Luigi</a> </li></ul><br>  Il y aura un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tableau de comparaison</a> √† la fin de l'article. <br><a name="habracut"></a><br>  La plupart des outils que j'examinerai sont appel√©s <em>logiciels d'automatisation de</em> <em>construction</em> ou <em>syst√®mes de construction</em> .  Il y en a des myriades dans toutes les saveurs, tailles et complexit√©s diff√©rentes.  L'id√©e est la m√™me: le d√©veloppeur d√©finit des r√®gles pour produire des r√©sultats de mani√®re automatis√©e et coh√©rente.  Par exemple, un r√©sultat peut √™tre une image avec un graphique.  Pour cr√©er cette image, il faudrait t√©l√©charger les donn√©es, nettoyer les donn√©es et faire quelques manipulations de donn√©es (exemple classique, vraiment).  Vous pouvez commencer avec quelques scripts shell qui feront le travail.  Une fois que vous reviendrez au projet un an plus tard, il sera difficile de se souvenir de toutes les √©tapes et de leur ordre que vous devez prendre pour cr√©er cette image.  La solution √©vidente est de documenter toutes les √©tapes.  Bonne nouvelle!  Les syst√®mes de construction vous permettent de documenter les √©tapes sous forme de programme informatique.  Certains syst√®mes de construction sont comme vos scripts shell, mais avec des cloches et des sifflets suppl√©mentaires. <br><br>  Le fondement de ce message est une s√©rie de messages de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mateusz Bednarski</a> sur le flux de travail automatis√© pour un projet d'apprentissage automatique.  Mateusz explique son point de vue et propose des recettes d'utilisation de <code>make</code> .  Je vous encourage √† aller v√©rifier ses messages en premier.  J'utiliserai principalement son code, mais avec diff√©rents syst√®mes de build. <br><br>  Si vous souhaitez en savoir plus sur <code>make</code> , voici quelques r√©f√©rences pour quelques articles.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Brooke Kennedy</a> donne un aper√ßu de haut niveau en 5 √©tapes faciles pour rendre votre projet de science des donn√©es reproductible.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Zachary Jones</a> donne plus de d√©tails sur la syntaxe et les capacit√©s ainsi que les liens vers d'autres publications.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">David Stevens</a> √©crit un article tr√®s hype sur les raisons pour lesquelles vous devez absolument commencer √† utiliser <code>make</code> imm√©diatement.  Il fournit de bons exemples comparant <i>l'ancienne</i> et <i>la nouvelle m√©thode</i> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Samuel Lampa</a> , d'autre part, explique pourquoi utiliser <code>make</code> est une mauvaise id√©e. <br><br>  Ma s√©lection de syst√®mes de construction n'est ni compl√®te ni impartiale.  Si vous voulez faire votre liste, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikipedia</a> pourrait √™tre un bon point de d√©part.  Comme indiqu√© ci-dessus, je couvrirai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CMake</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PyBuilder</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pynt</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Paver</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">doit</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Luigi</a> .  La plupart des outils de cette liste sont bas√©s sur Python et cela a du sens puisque le projet est en Python.  Ce message ne couvrira pas comment installer les outils.  Je suppose que vous ma√Ætrisez assez bien Python. <br><br>  Je suis surtout int√©ress√© √† tester cette fonctionnalit√©: <br><br><ol><li>  Sp√©cification de deux cibles avec d√©pendances.  Je veux voir comment le faire et √† quel point c'est facile. </li><li>  V√©rifier si des constructions incr√©mentielles sont possibles.  Cela signifie que le syst√®me de g√©n√©ration ne reconstruira pas ce qui n'a pas √©t√© modifi√© depuis la derni√®re ex√©cution, c'est-√†-dire que vous n'avez pas besoin de ret√©l√©charger vos donn√©es brutes.  Une autre chose que je vais rechercher est les builds incr√©mentiels lorsque les d√©pendances changent.  Imaginez que nous ayons un graphique des d√©pendances <code>A -&gt; B -&gt; C</code>  La cible <code>C</code> sera-t-elle reconstruite si <code>B</code> change?  Si un? </li><li>  V√©rifier si la reconstruction sera d√©clench√©e si le code source est modifi√©, c'est-√†-dire que nous modifions le param√®tre du graphique g√©n√©r√©, la prochaine fois que nous construisons l'image doit √™tre reconstruite. </li><li>  D√©couvrez les moyens de nettoyer les artefacts de g√©n√©ration, c'est-√†-dire de supprimer les fichiers qui ont √©t√© cr√©√©s pendant la g√©n√©ration et de revenir au code source propre. </li></ol><br>  Je n'utiliserai pas toutes les cibles de construction du post de Mateusz, seulement trois d'entre elles pour illustrer les principes. <br><br>  Tout le code est disponible sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub</a> . <br><br><h2><a name="CMake"></a>  CMake </h2><br>  CMake est un g√©n√©rateur de script de g√©n√©ration, qui g√©n√®re des fichiers d'entr√©e pour diff√©rents syst√®mes de g√©n√©ration.  Et son nom signifie marque multiplateforme.  CMake est un outil de g√©nie logiciel.  Sa principale pr√©occupation est de cr√©er des ex√©cutables et des biblioth√®ques.  CMake sait donc comment construire des <i>cibles √†</i> partir du code source dans les langues prises en charge.  CMake est ex√©cut√© en deux √©tapes: configuration et g√©n√©ration.  Lors de la configuration, il est possible de configurer la future version en fonction des besoins.  Par exemple, des variables fournies par l'utilisateur sont fournies au cours de cette √©tape.  La g√©n√©ration est normalement simple et produit des fichiers avec lesquels les syst√®mes de construction peuvent fonctionner.  Avec CMake, vous pouvez toujours utiliser <code>make</code> , mais au lieu d'√©crire directement makefile, vous √©crivez un fichier CMake, qui g√©n√©rera le makefile pour vous. <br><br>  Un autre concept important est que CMake encourage <i>les builds hors source</i> .  Les versions hors source √©loignent le code source de tout artefact qu'il produit.  Cela a beaucoup de sens pour les ex√©cutables o√π la base de code source unique peut √™tre compil√©e sous diff√©rentes architectures CPU et syst√®mes d'exploitation.  Cette approche, cependant, peut contredire la fa√ßon dont beaucoup de scientifiques de donn√©es travaillent.  Il me semble que la communaut√© de la science des donn√©es a tendance √† avoir un couplage √©lev√© de donn√©es, de code et de r√©sultats. <br><br>  Voyons ce dont nous avons besoin pour atteindre nos objectifs avec CMake.  Il existe deux possibilit√©s pour d√©finir des √©l√©ments personnalis√©s dans CMake: des cibles personnalis√©es et des commandes personnalis√©es.  Malheureusement, nous devrons utiliser les deux, ce qui se traduit par plus de frappe par rapport au makefile vanila.  Une cible personnalis√©e est consid√©r√©e comme toujours obsol√®te, c'est-√†-dire s'il existe une cible pour le t√©l√©chargement de donn√©es brutes CMake la t√©l√©chargera toujours.  Une combinaison de commande personnalis√©e et de cible personnalis√©e permet de maintenir les cibles √† jour. <br><br>  Pour notre projet, nous allons cr√©er un fichier nomm√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CMakeLists.txt</a> et le mettre √† la racine du projet.  Voyons le contenu: <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">cmake_minimum_required</span></span>(VERSION <span class="hljs-number"><span class="hljs-number">3.14</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> FATAL_ERROR) <span class="hljs-keyword"><span class="hljs-keyword">project</span></span>(Cmake_in_ml VERSION <span class="hljs-number"><span class="hljs-number">0.1</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> LANGUAGES NONE)</code> </pre><br>  Cette partie est basique.  La deuxi√®me ligne d√©finit le nom de votre projet, sa version et sp√©cifie que nous n'utiliserons aucune prise en charge de langage int√©gr√© (nous appellerons alors des scripts Python). <br><br>  Notre premi√®re cible t√©l√©chargera l'ensemble de donn√©es IRIS: <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">SET</span></span>(IRIS_URL <span class="hljs-string"><span class="hljs-string">"https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data"</span></span> CACHE <span class="hljs-keyword"><span class="hljs-keyword">STRING</span></span> <span class="hljs-string"><span class="hljs-string">"URL to the IRIS data"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>(IRIS_DIR <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span>/data/raw) <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>(IRIS_FILE <span class="hljs-variable"><span class="hljs-variable">${IRIS_DIR}</span></span>/iris.csv) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_COMMAND</span></span>(OUTPUT <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> <span class="hljs-variable"><span class="hljs-variable">${CMAKE_COMMAND}</span></span> -E echo <span class="hljs-string"><span class="hljs-string">"Downloading IRIS."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> python src/data/download.py <span class="hljs-variable"><span class="hljs-variable">${IRIS_URL}</span></span> <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> <span class="hljs-variable"><span class="hljs-variable">${CMAKE_COMMAND}</span></span> -E echo <span class="hljs-string"><span class="hljs-string">"Done. Checkout ${IRIS_FILE}."</span></span> WORKING_DIRECTORY <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_TARGET</span></span>(rawdata ALL DEPENDS <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span>)</code> </pre><br>  La premi√®re ligne d√©finit le param√®tre <code>IRIS_URL</code> , qui est expos√© √† l'utilisateur lors de l'√©tape de configuration.  Si vous utilisez l'interface graphique CMake, vous pouvez d√©finir cette variable via l'interface graphique: <br><br><img src="https://habrastorage.org/webt/oo/za/pj/oozapjujvjg_q86ndg6r7c5u36a.png"><br><br>  Ensuite, nous d√©finissons des variables avec l'emplacement t√©l√©charg√© de l'ensemble de donn√©es IRIS.  Ensuite, nous ajoutons une commande personnalis√©e, qui produira <code>IRIS_FILE</code> en sortie.  En fin de compte, nous d√©finissons une <code>rawdata</code> cible <code>rawdata</code> qui d√©pend de <code>IRIS_FILE</code> ce qui signifie que pour construire des donn√©es <code>rawdata</code> <code>IRIS_FILE</code> doit √™tre construit.  L'option <code>ALL</code> de la cible personnalis√©e indique que les donn√©es <code>rawdata</code> seront l'une des cibles par d√©faut √† cr√©er.  Notez que j'utilise <code>CMAKE_CURRENT_SOURCE_DIR</code> afin de conserver les donn√©es t√©l√©charg√©es dans le dossier source et non dans le dossier de construction.  C'est juste pour faire la m√™me chose que Mateusz. <br><br>  D'accord, voyons comment nous pouvons l'utiliser.  Je l'ex√©cute actuellement sur WIndows avec le compilateur MinGW install√©.  Vous devrez peut-√™tre ajuster le param√®tre du g√©n√©rateur √† vos besoins (ex√©cutez <code>cmake --help</code> pour voir la liste des g√©n√©rateurs disponibles).  Lancez le terminal et acc√©dez au dossier parent du code source, puis: <br><br><pre> <code class="bash hljs">mkdir overcome-the-chaos-build <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> overcome-the-chaos-build cmake -G <span class="hljs-string"><span class="hljs-string">"MinGW Makefiles"</span></span> ../overcome-the-chaos</code> </pre><br><div class="spoiler">  <b class="spoiler_title">r√©sultat</b> <div class="spoiler_text">  - Configuration termin√©e <br>  - G√©n√©ration termin√©e <br>  - Les fichiers de construction ont √©t√© √©crits dans: C: / home / workspace / surmonter-le-chaos-build <br></div></div><br>  Avec CMake moderne, nous pouvons construire le projet directement √† partir de CMake.  Cette commande appellera la commande <code>build all</code> : <br><br><pre> <code class="bash hljs">cmake --build .</code> </pre><br><div class="spoiler">  <b class="spoiler_title">r√©sultat</b> <div class="spoiler_text">  Analyse des d√©pendances des donn√©es brutes cibles <br>  [100%] Donn√©es brutes cibles construites <br></div></div><br>  Nous pouvons √©galement consulter la liste des cibles disponibles: <br><br><pre> <code class="bash hljs">cmake --build . --target <span class="hljs-built_in"><span class="hljs-built_in">help</span></span></code> </pre><br>  Et nous pouvons supprimer le fichier t√©l√©charg√© par: <br><br><pre> <code class="bash hljs">cmake --build . --target clean</code> </pre><br>  Voyez que nous n'avions pas besoin de cr√©er la cible propre manuellement. <br><br>  Passons maintenant √† la prochaine cible - les donn√©es IRIS pr√©trait√©es.  Mateusz cr√©e deux fichiers √† partir d'une seule fonction: <code>processed.pickle</code> et <code>processed.xlsx</code> .  Vous pouvez voir comment il s'en va avec le nettoyage de ce fichier Excel en utilisant <code>rm</code> avec un caract√®re g√©n√©rique.  Je pense que ce n'est pas une tr√®s bonne approche.  Dans CMake, nous avons deux options pour y faire face.  La premi√®re option consiste √† utiliser la propri√©t√© de r√©pertoire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ADDITIONAL_MAKE_CLEAN_FILES</a> .  Le code sera: <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">SET</span></span>(PROCESSED_FILE <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span>/data/processed/processed.pickle) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_COMMAND</span></span>(OUTPUT <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> python src/data/preprocess.py <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span> --excel data/processed/processed.xlsx WORKING_DIRECTORY <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span> DEPENDS rawdata <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_TARGET</span></span>(preprocess DEPENDS <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Additional files to clean set_property(DIRECTORY PROPERTY ADDITIONAL_MAKE_CLEAN_FILES ${CMAKE_CURRENT_SOURCE_DIR}/data/processed/processed.xlsx )</span></span></code> </pre><br>  La deuxi√®me option consiste √† sp√©cifier une liste de fichiers en tant que sortie de commande personnalis√©e: <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">LIST</span></span>(APPEND PROCESSED_FILE <span class="hljs-string"><span class="hljs-string">"${CMAKE_CURRENT_SOURCE_DIR}/data/processed/processed.pickle"</span></span> <span class="hljs-string"><span class="hljs-string">"${CMAKE_CURRENT_SOURCE_DIR}/data/processed/processed.xlsx"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_COMMAND</span></span>(OUTPUT <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> python src/data/preprocess.py <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> data/processed/processed.pickle --excel data/processed/processed.xlsx WORKING_DIRECTORY <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span> DEPENDS rawdata <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> src/data/preprocess.py ) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_TARGET</span></span>(preprocess DEPENDS <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span>)</code> </pre><br>  Voyez que dans ce cas, j'ai cr√©√© la liste, mais je ne l'ai pas utilis√©e dans la commande personnalis√©e.  Je ne connais pas de moyen de r√©f√©rencer les arguments de sortie de la commande personnalis√©e √† l'int√©rieur. <br><br>  Une autre chose int√©ressante √† noter est l'utilisation de <code>depends</code> dans cette commande personnalis√©e.  Nous d√©finissons la d√©pendance non seulement √† partir d'une cible personnalis√©e, mais aussi de sa sortie et du script python.  Si nous <code>IRIS_FILE</code> pas de d√©pendance √† <code>IRIS_FILE</code> , la modification manuelle d' <code>iris.csv</code> n'entra√Ænera pas la reconstruction de la cible de <code>preprocess</code> .  Eh bien, vous ne devez pas modifier les fichiers de votre r√©pertoire de construction manuellement en premier lieu.  Je vous fais juste savoir.  Plus de d√©tails dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le post de Sam Thursdayfield</a> .  La d√©pendance au script python est n√©cessaire pour reconstruire la cible si le script python change. <br><br>  Et enfin le troisi√®me objectif: <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">SET</span></span>(EXPLORATORY_IMG <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span>/reports/figures/exploratory.png) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_COMMAND</span></span>(OUTPUT <span class="hljs-variable"><span class="hljs-variable">${EXPLORATORY_IMG}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> python src/visualization/exploratory.py <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span> <span class="hljs-variable"><span class="hljs-variable">${EXPLORATORY_IMG}</span></span> WORKING_DIRECTORY <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span> DEPENDS <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span> src/visualization/exploratory.py ) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_TARGET</span></span>(exploratory DEPENDS <span class="hljs-variable"><span class="hljs-variable">${EXPLORATORY_IMG}</span></span>)</code> </pre><br>  Cet objectif est fondamentalement le m√™me que le second. <br><br>  Pour conclure.  CMake semble d√©sordonn√© et plus difficile que Make.  En effet, beaucoup de gens critiquent CMake pour sa syntaxe.  D'apr√®s mon exp√©rience, la compr√©hension viendra et il est absolument possible de donner un sens √† des fichiers CMake m√™me tr√®s compliqu√©s. <br><br>  Vous devrez toujours vous coller beaucoup car vous devrez passer des variables correctes.  Je ne vois pas un moyen facile de r√©f√©rencer la sortie d'une commande personnalis√©e dans une autre.  Il semble qu'il soit possible de le faire via des cibles personnalis√©es. <br><br><h2><a name="PyBuilder"></a>  Pybuilder </h2><br>  La partie PyBuilder est tr√®s courte.  J'ai utilis√© Python 3.7 dans mon projet et PyBuilder version actuelle 0.11.17 ne le prend pas en charge.  La solution propos√©e consiste √† utiliser la version de d√©veloppement.  Cependant, cette version est limit√©e √† pip v9.  Pip est v19.3 au moment de l'√©criture.  Bummer.  Apr√®s l'avoir un peu tripot√©, √ßa n'a pas march√© du tout pour moi.  L'√©valuation de PyBuilder a √©t√© de courte dur√©e. <br><br><h2><a name="pynt"></a>  pynt </h2><br>  Pynt est bas√© sur python, ce qui signifie que nous pouvons utiliser directement les fonctions python.  Il n'est pas n√©cessaire de les encapsuler avec un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">clic</a> et de fournir une interface de ligne de commande.  Cependant, pynt est √©galement capable d'ex√©cuter des commandes shell.  J'utiliserai des fonctions python. <br><br>  Les commandes de construction sont donn√©es dans un fichier <code>build.py</code> .  Les cibles / t√¢ches sont cr√©√©es avec des d√©corateurs de fonctions.  Les d√©pendances de t√¢ches sont fournies par le m√™me d√©corateur. <br><br>  Comme je voudrais utiliser des fonctions python, je dois les importer dans le script de construction.  Pynt n'inclut pas le r√©pertoire courant comme script python, donc √©crire smth comme ceci: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> src.data.download <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pydownload_file</code> </pre><br>  ne fonctionnera pas.  Nous devons faire: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys sys.path.append(os.path.join(os.path.dirname(__file__), <span class="hljs-string"><span class="hljs-string">'.'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> src.data.download <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pydownload_file</code> </pre><br>  Mon fichier <code>build.py</code> initial √©tait comme ceci: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python import os import sys sys.path.append(os.path.join(os.path.dirname(__file__), '.')) from pynt import task from path import Path import glob from src.data.download import pydownload_file from src.data.preprocess import pypreprocess iris_file = 'data/raw/iris.csv' processed_file = 'data/processed/processed.pickle' @task() def rawdata(): '''Download IRIS dataset''' pydownload_file('https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data', iris_file) @task() def clean(): '''Clean all build artifacts''' patterns = ['data/raw/*.csv', 'data/processed/*.pickle', 'data/processed/*.xlsx', 'reports/figures/*.png'] for pat in patterns: for fl in glob.glob(pat): Path(fl).remove() @task(rawdata) def preprocess(): '''Preprocess IRIS dataset''' pypreprocess(iris_file, processed_file, 'data/processed/processed.xlsx')</span></span></code> </pre><br>  Et la cible de <code>preprocess</code> n'a pas fonctionn√©.  Il se plaignait constamment des arguments d'entr√©e de la fonction <code>pypreprocess</code> .  Il semble que Pynt ne g√®re pas tr√®s bien les arguments de fonction optionnels.  J'ai d√ª retirer l'argument pour faire le fichier Excel.  Gardez cela √† l'esprit si votre projet a des fonctions avec des arguments facultatifs. <br><br>  Nous pouvons ex√©cuter pynt √† partir du dossier du projet et r√©pertorier toutes les cibles disponibles: <br><br><pre> <code class="bash hljs">pynt -l</code> </pre><br><div class="spoiler">  <b class="spoiler_title">r√©sultat</b> <div class="spoiler_text"><pre> <code class="bash hljs">Tasks <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> build file build.py: clean Clean all build artifacts exploratory Make an image with pairwise distribution preprocess Preprocess IRIS dataset rawdata Download IRIS dataset Powered by pynt 0.8.2 - A Lightweight Python Build Tool.</code> </pre><br></div></div><br>  Faisons la distribution par paire: <br><br><pre> <code class="bash hljs">pynt exploratory</code> </pre><br><div class="spoiler">  <b class="spoiler_title">r√©sultat</b> <div class="spoiler_text"><pre> <code class="bash hljs">[ build.py - Starting task <span class="hljs-string"><span class="hljs-string">"rawdata"</span></span> ] Downloading from https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data to data/raw/iris.csv [ build.py - Completed task <span class="hljs-string"><span class="hljs-string">"rawdata"</span></span> ] [ build.py - Starting task <span class="hljs-string"><span class="hljs-string">"preprocess"</span></span> ] Preprocessing data [ build.py - Completed task <span class="hljs-string"><span class="hljs-string">"preprocess"</span></span> ] [ build.py - Starting task <span class="hljs-string"><span class="hljs-string">"exploratory"</span></span> ] Plotting pairwise distribution... [ build.py - Completed task <span class="hljs-string"><span class="hljs-string">"exploratory"</span></span> ]</code> </pre><br></div></div><br>  Si nous <code>pynt exploratory</code> nouveau la m√™me commande (c'est-√†-dire <code>pynt exploratory</code> ), il y aura une reconstruction compl√®te.  Pynt n'a pas constat√© que rien n'avait chang√©. <br><br><h2><a name="Paver"></a>  Pav√© </h2><br>  Paver ressemble presque exactement √† Pynt.  Il diff√®re l√©g√®rement d'une mani√®re qui d√©finit les d√©pendances entre les cibles (un autre d√©corateur <code>@needs</code> ).  Paver effectue une reconstruction compl√®te √† chaque fois et ne joue pas bien avec les fonctions qui ont des arguments facultatifs.  Les instructions de construction se trouvent dans le fichier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pavement.py</a> . <br><br><h2><a name="doit"></a>  doit </h2><br>  Doit semble √™tre une tentative de cr√©er un v√©ritable outil d'automatisation de construction en python.  Il peut ex√©cuter du code python et des commandes shell.  Cela semble assez prometteur.  Ce qui semble manquer (dans le contexte de nos objectifs sp√©cifiques), c'est la capacit√© de g√©rer les d√©pendances entre les cibles.  Disons que nous voulons cr√©er un petit pipeline o√π la sortie de la cible A est utilis√©e comme entr√©e de la cible B. Et disons que nous utilisons des fichiers comme sorties, donc la cible A cr√©e un fichier nomm√© <code>outA</code> . <br><br><img src="https://habrastorage.org/webt/xh/te/ol/xhteolpanywbjxanltb8uxdsoly.png"><br><br>  Afin de cr√©er un tel pipeline, nous devrons sp√©cifier le fichier <code>outA</code> deux fois dans la cible A (√† la suite d'une cible, mais aussi retourner son nom dans le cadre de l'ex√©cution de la cible).  Ensuite, nous devrons le sp√©cifier comme entr√©e pour la cible B. Il y a donc 3 endroits au total o√π nous devons fournir des informations sur le fichier <code>outA</code> .  Et m√™me apr√®s cela, la modification du fichier <code>outA</code> n'entra√Ænera pas la reconstruction automatique de la cible B. Cela signifie que si nous demandons doit construire la cible B, doit uniquement v√©rifier si la cible B est √† jour sans v√©rifier aucune des d√©pendances.  Pour surmonter cela, nous devrons sp√©cifier <code>outA</code> 4 fois - √©galement en tant que d√©pendance de fichier de la cible B. Je vois cela comme un inconv√©nient.  Make et CMake sont capables de g√©rer ces situations correctement. <br><br>  Les d√©pendances dans doit doivent √™tre bas√©es sur des fichiers et exprim√©es sous forme de cha√Ænes.  Cela signifie que les d√©pendances <code>./myfile.txt</code> et <code>myfile.txt</code> sont consid√©r√©es comme diff√©rentes.  Comme je l'ai √©crit ci-dessus, je trouve un peu √©trange la fa√ßon de transmettre des informations d'une cible √† l'autre (lors de l'utilisation de cibles python).  La cible a une liste d'artefacts qu'elle va produire, mais une autre cible ne peut pas l'utiliser.  Au lieu de cela, la fonction python, qui constitue la cible, doit renvoyer un dictionnaire, accessible dans une autre cible.  Voyons cela sur un exemple: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">task_preprocess</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Preprocess IRIS dataset"""</span></span> pickle_file = <span class="hljs-string"><span class="hljs-string">'data/processed/processed.pickle'</span></span> excel_file = <span class="hljs-string"><span class="hljs-string">'data/processed/processed.xlsx'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">'file_dep'</span></span>: [<span class="hljs-string"><span class="hljs-string">'src/data/preprocess.py'</span></span>], <span class="hljs-string"><span class="hljs-string">'targets'</span></span>: [pickle_file, excel_file], <span class="hljs-string"><span class="hljs-string">'actions'</span></span>: [doit_pypreprocess], <span class="hljs-string"><span class="hljs-string">'getargs'</span></span>: {<span class="hljs-string"><span class="hljs-string">'input_file'</span></span>: (<span class="hljs-string"><span class="hljs-string">'rawdata'</span></span>, <span class="hljs-string"><span class="hljs-string">'filename'</span></span>)}, <span class="hljs-string"><span class="hljs-string">'clean'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, }</code> </pre><br>  Ici, le <code>preprocess</code> cible d√©pend des donn√©es <code>rawdata</code> .  La d√©pendance est fournie via la propri√©t√© <code>getargs</code> .  Il indique que l'argument <code>input_file</code> de la fonction <code>doit_pypreprocess</code> est le <code>filename</code> de <code>filename</code> de sortie des donn√©es <code>rawdata</code> cibles.  Jetez un ≈ìil √† l'exemple complet dans le fichier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dodo.py.</a> <br><br>  Il peut √™tre utile de lire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les histoires</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©ussite</a> de l'utilisation de doit.  Il a certainement de belles fonctionnalit√©s comme la possibilit√© de fournir une v√©rification cible mise √† jour personnalis√©e. <br><br><h2><a name="Luigi"></a>  Luigi </h2><br>  Luigi reste √† l'√©cart des autres outils car c'est un syst√®me pour construire des pipelines complexes.  Il est apparu sur mon radar apr√®s qu'un coll√®gue m'a dit qu'il avait essay√© Make, qu'il n'a jamais pu l'utiliser sur Windows / Linux et qu'il s'est √©loign√© de Luigi. <br><br>  Luigi vise des syst√®mes pr√™ts pour la production.  Il est livr√© avec un serveur, qui peut √™tre utilis√© pour visualiser vos t√¢ches ou pour obtenir un historique des ex√©cutions de t√¢ches.  Le serveur est appel√© un <em>ordonnanceur central</em> .  Un planificateur local est disponible √† des fins de d√©bogage. <br><br>  Luigi est √©galement diff√©rent des autres syst√®mes dans la mesure o√π les t√¢ches sont cr√©√©es.  Lugi n'agit pas sur certains fichiers pr√©d√©finis (comme <code>dodo.py</code> , <code>pavement.py</code> ou makefile).  Il faut plut√¥t passer un nom de module python.  Donc, si nous essayons de l'utiliser de la m√™me mani√®re que d'autres outils (placer un fichier avec des t√¢ches √† la racine du projet), cela ne fonctionnera pas.  Nous devons soit installer notre projet, soit modifier la variable d'environnement <code>PYTHONPATH</code> en ajoutant le chemin d'acc√®s au projet. <br><br>  Ce qui est g√©nial avec luigi, c'est la fa√ßon de sp√©cifier les d√©pendances entre les t√¢ches.  Chaque t√¢che est une classe.  La <code>output</code> m√©thode indique √† Luigi o√π les r√©sultats de la t√¢che finiront.  Les r√©sultats peuvent √™tre un seul √©l√©ment ou une liste.  La m√©thode <code>requires</code> des d√©pendances de t√¢ches sp√©cifi√©es (autres t√¢ches; bien qu'il soit possible de cr√©er une d√©pendance √† partir d'elle-m√™me).  Et c'est tout.  Tout ce qui est sp√©cifi√© comme <code>output</code> dans la t√¢che A sera transmis comme entr√©e √† la t√¢che B si la t√¢che B s'appuie sur la t√¢che A. <br><img src="https://habrastorage.org/getpro/habr/post_images/ba2/95c/bb9/ba295cbb9b744767e709aa7b3a0e358f.png"><br><br>  Luigi ne se soucie pas des modifications de fichiers.  Il se soucie de l'existence de fichiers.  Il n'est donc pas possible de d√©clencher des reconstructions lorsque le code source change.  Luigi n'a pas de fonctionnalit√© <i>propre</i> int√©gr√©e. <br><br>  Les t√¢ches Luigi pour ce projet sont disponibles dans le fichier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">luigitasks.py</a> .  Je les lance depuis le terminal: <br><br><pre> <code class="plaintext hljs">luigi --local-scheduler --module luigitasks Exploratory</code> </pre><br><h2><a name="Comparison"></a>  Comparaison </h2><br>  Le tableau ci-dessous r√©sume le fonctionnement de diff√©rents syst√®mes par rapport √† nos objectifs sp√©cifiques. <br><div class="scrollable-table"><table><tbody><tr><th></th><th>  D√©finir la cible avec d√©pendance </th><th>  Constructions incr√©mentielles </th><th>  Constructions incr√©mentielles si le code source est modifi√© </th><th>  Possibilit√© de d√©terminer les artefacts √† supprimer lors de <code>clean</code> commande de <code>clean</code> </th></tr><tr><td>  <strong>CMake</strong> </td><td>  oui </td><td>  oui </td><td>  oui </td><td>  oui </td></tr><tr><td>  <strong>Pynt</strong> </td><td>  oui </td><td>  non </td><td>  non </td><td>  non </td></tr><tr><td>  <strong>Pav√©</strong> </td><td>  oui </td><td>  non </td><td>  non </td><td>  non </td></tr><tr><td>  <strong>doit</strong> </td><td>  Un peu oui </td><td>  oui </td><td>  oui </td><td>  oui </td></tr><tr><td>  <strong>Luigi</strong> </td><td>  oui </td><td>  non </td><td>  non </td><td>  non </td></tr></tbody></table></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr451962/">https://habr.com/ru/post/fr451962/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr451950/index.html">Centrales virtuelles. Est-il possible de g√©rer les sources d'√©nergie "verte"?</a></li>
<li><a href="../fr451954/index.html">Plus de t√©l√©grammes secrets</a></li>
<li><a href="../fr451956/index.html">Utilisation d'AppDynamics avec Red Hat OpenShift v3</a></li>
<li><a href="../fr451958/index.html">Nous regardons des torrents sur smart TV sans SMS ni inscription</a></li>
<li><a href="../fr451960/index.html">90 vuln√©rabilit√©s d'ex√©cution de code √† distance dans la mise √† jour de mai mardi</a></li>
<li><a href="../fr451966/index.html">Les p√©riph√©riques d'E / S modernes sont plus rapides que les processeurs. Pr√©sentation de l'article</a></li>
<li><a href="../fr451968/index.html">Top 3D Academy - formation aux technologies additives dans les principales entreprises russes</a></li>
<li><a href="../fr451970/index.html">Thrangrycat: une vuln√©rabilit√© critique dans le micrologiciel des p√©riph√©riques Cisco permet aux pirates informatiques d'y installer des portes d√©rob√©es</a></li>
<li><a href="../fr451972/index.html">QuadCast - Sons r√©els</a></li>
<li><a href="../fr451974/index.html">Histoire d'AMD: 50 ans de d√©veloppement rapide</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>