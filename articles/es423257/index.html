<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè≠ üé∏ ü§±üèª Argumentos de funciones como constantes de bit en PHP üë©üèΩ‚Äçü§ù‚Äçüë®üèº üòú üî∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! Les presento la traducci√≥n de un art√≠culo de Liam Hammett : Bitmask Constant Arguments en PHP . 

 PHP contiene muchas funciones est√°ndar q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Argumentos de funciones como constantes de bit en PHP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423257/"><blockquote>  <em>Hola Habr!</em>  <em>Les presento la traducci√≥n de un art√≠culo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Liam Hammett</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bitmask Constant Arguments en PHP</a> .</em> </blockquote><p>  PHP contiene muchas funciones est√°ndar que aceptan argumentos booleanos en forma de constantes incorporadas con n√∫meros binarios. <br>  Estos valores se combinan en un solo argumento de la funci√≥n para transferir varias banderas booleanas de forma compacta. </p><br><p>  Es posible que funcionen un poco diferente de lo que muchas personas imaginan y usan en su c√≥digo, por lo que sugiero considerar c√≥mo funciona realmente. <a name="habracut"></a></p><br><hr><br><h1 id="kak-eto-ispolzuetsya-v-funkciyahphp">  C√≥mo se usa en las funciones de PHP </h1><br><p> PHP 7.2, incluidas las extensiones, contiene m√°s de 1800 constantes predefinidas, y algunas de ellas se utilizan como argumentos para las funciones. <br>  Un ejemplo de dicha aplicaci√≥n es una nueva opci√≥n en PHP 7.3, que le permite lanzar una excepci√≥n de la funci√≥n <code>json_encode</code> para errores de conversi√≥n. </p><br><pre> <code class="php hljs">json_encode($value, JSON_THROW_ON_ERROR);</code> </pre> <br><p>  Usando <code>|</code>  (o) operador bit a bit, varios argumentos de funci√≥n funcionan como uno.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Un ejemplo</a> de la documentaci√≥n de PHP: </p><br><pre> <code class="php hljs">json_encode($value, JSON_HEX_TAG | JSON_HEX_APOS | JSON_HEX_QUOT | JSON_HEX_AMP | JSON_UNESCAPED_UNICODE);</code> </pre> <br><p>  Nada en absoluto </p><br><h1 id="no-vse-taki-kak-zhe-eto-rabotaet">  Pero a√∫n as√≠, ¬øc√≥mo funciona? </h1><br><p>  Aplicar operaciones bit a bit para lograr el mismo efecto en el mundo de las funciones definidas por el usuario es realmente simple, pero requiere al menos un conocimiento b√°sico de qu√© son los bits y c√≥mo funcionan las operaciones bit a bit en PHP. </p><br><blockquote>  Los enteros se pueden especificar en sistemas de numeraci√≥n decimal (base 10), hexadecimal (base 16), octal (base 8) o binario (base 2).  [...] <br>  Para escribir en notaci√≥n binaria, debe poner antes del n√∫mero 0b. <br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">php.net</a> </blockquote><p>  Ejemplos de constantes con un conjunto diferente de n√∫meros binarios: </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> A = <span class="hljs-number"><span class="hljs-number">0b0001</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 1 const B = 0b0010; // 2 const C = 0b0100; // 4 const D = 0b1000; // 8</span></span></code> </pre> <br><p>  Presta atenci√≥n al ejemplo y la secuencia de n√∫meros.  Cada valor binario representa un valor dos veces mayor para cada cero al final.  Los ceros entre 0b y 1 son opcionales, pero pueden ayudar a alinear el c√≥digo fuente. </p><br><p>  Afortunadamente, necesitamos entender c√≥mo funcionan solo dos operaciones bit a bit. </p><br><h1 id="pobitovoe-ilior">  Bitwise O </h1><br><p>  No confundir al operador <code>|</code>  ( <em>"OR" a nivel de bit</em> ) con el operador de uso frecuente <code>||</code>  ( <em>"OR" l√≥gico</em> ), que generalmente se encuentra en <code>if else</code> . <br>  El "OR" bit a bit es una operaci√≥n binaria cuya acci√≥n es equivalente a aplicar un <em>"OR" l√≥gico</em> a cada par de bits ubicados en las mismas posiciones en las representaciones binarias de los operandos.  En otras palabras, si los dos bits correspondientes de los operandos son 0, el bit binario del resultado es 0;  si al menos un bit del par es 1, el bit binario del resultado es 1. </p><br><p>  Ejemplo de operaci√≥n bit a bit "OR": </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> A = <span class="hljs-number"><span class="hljs-number">0b0001</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> B = <span class="hljs-number"><span class="hljs-number">0b0010</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> C = <span class="hljs-number"><span class="hljs-number">0b0100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> D = <span class="hljs-number"><span class="hljs-number">0b1000</span></span>; A | B === <span class="hljs-number"><span class="hljs-number">0b0011</span></span>; A | C | D === <span class="hljs-number"><span class="hljs-number">0b1101</span></span>;</code> </pre> <br><h1 id="pobitovoe-iand">  Bitwise AND (AND) </h1><br><p>  Del mismo modo, el operador <code>&amp;</code> ( <em>bitwise AND</em> ) no debe confundirse con el operador <code>&amp;&amp;</code> uso frecuente ( <em>AND l√≥gico</em> ). <br>  Un AND bit a bit es una operaci√≥n binaria cuya acci√≥n es equivalente a aplicar un <em>AND l√≥gico</em> a cada par de bits ubicados en las mismas posiciones en las representaciones binarias de los operandos.  En otras palabras, si los dos bits correspondientes de los operandos son 1, el bit binario resultante es 1;  si al menos un bit del par es 0, el bit binario resultante es 0. </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> A = <span class="hljs-number"><span class="hljs-number">0b0001</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> B = <span class="hljs-number"><span class="hljs-number">0b0010</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> C = <span class="hljs-number"><span class="hljs-number">0b0100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> D = <span class="hljs-number"><span class="hljs-number">0b1000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> VALUE = <span class="hljs-number"><span class="hljs-number">0b1010</span></span>; A &amp; B === <span class="hljs-number"><span class="hljs-number">0b0000</span></span>; <span class="hljs-comment"><span class="hljs-comment">//      A  B A &amp; C &amp; D === 0b0000; //      A, B  C A &amp; A === 0b0001; //      A  A &amp; VALUE === 0b0000; //      A  VALUE B &amp; VALUE === 0b0010; //  1    B,    VALUE</span></span></code> </pre> <br><h1 id="mozhet-li-chislo-imet-logicheskiy-tip-boolean">  ¬øPuede un n√∫mero tener un valor booleano? </h1><br><p>  Vale la pena se√±alar que en PHP existe el concepto de " <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">manipulaci√≥n de</a></em> tipos" ( <strong>malabarismo de tipos</strong> ).  En el lenguaje de los no expertos, esto significa que (PHP) autom√°ticamente intentar√° convertir datos de un tipo a otro, si es necesario. <br>  Si comprende c√≥mo ocurren tales transformaciones, entonces esta puede ser una herramienta √∫til. <br>  Por ejemplo, sabemos que el n√∫mero <code>0</code> act√∫a como <code>false</code> cuando se convierte a booleano, mientras que todos los dem√°s n√∫meros ser√°n <code>true</code> .  ¬øRecuerdas que estos valores binarios con los que trabajamos son en realidad enteros? </p><br><h1 id="podvedem-itogi">  Para resumir! </h1><br><p>  Ahora podemos combinar este conocimiento para crear una construcci√≥n if, cuyo c√≥digo se ejecutar√° solo si el resultado de la operaci√≥n bit a bit entre n√∫meros no es <code>0b0000</code> (o <code>0</code> , que se convierte en <code>false</code> ). </p><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> A = <span class="hljs-number"><span class="hljs-number">0b0001</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> B = <span class="hljs-number"><span class="hljs-number">0b0010</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($arg = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($arg &amp; A) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'A'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($arg &amp; B) { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'B'</span></span>; } } f(); <span class="hljs-comment"><span class="hljs-comment">// nothing f(A); // 'A' f(B); // 'B' f(A | B); // 'AB'</span></span></code> </pre> <br><p>  Otras funciones PHP integradas (como <code>json_encode</code> ) funcionan de la misma manera. </p><br><h1 id="stoit-li-onotogo">  ¬øVale la pena? </h1><br><p>  Tal vez ahora desee aplicar este enfoque para funciones con una gran cantidad de argumentos que participan en construcciones condicionales, pero hay una serie de desventajas en el procesamiento de indicadores de funci√≥n bit a bit: </p><br><ul><li>  No puede pasar valores no booleanos a trav√©s de un argumento. </li><li>  No hay una forma est√°ndar de documentar argumentos usando docblocks. </li><li>  Pierde sugerencias generales y soporte para la mayor√≠a de los IDE. </li><li>  En cambio, puede pasar una matriz asociativa como argumento para poder establecer valores distintos de cero (o incluso una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase</a> ). </li><li>  Hay buenas razones por las que debe evitar el uso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"indicadores de funci√≥n" l√≥gicos como argumentos</a> y utilizar otra funci√≥n o m√©todo para la funcionalidad mutable. </li></ul><br><p>  Sin embargo, ahora sabes c√≥mo hacerlo. </p><br><hr><br><p>  Leer una larga lista de definiciones de constantes puede ser detallado y dif√≠cil, as√≠ que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠ hay una funci√≥n auxiliar que</a> simplifica su definici√≥n. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es423257/">https://habr.com/ru/post/es423257/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es423243/index.html">M√©todo de promedio vectorial para medir la direcci√≥n del viento</a></li>
<li><a href="../es423247/index.html">¬øQu√© es la inteligencia?</a></li>
<li><a href="../es423249/index.html">Rust 1.29 Lanzamiento</a></li>
<li><a href="../es423251/index.html">Mi cuenta de Megafail</a></li>
<li><a href="../es423253/index.html">Plataforma CAD dom√©stica nanoCAD Plus 10: un complejo universal para quienes dise√±an</a></li>
<li><a href="../es423259/index.html">7. Punto de control al m√°ximo. Sandboxing. Conclusi√≥n</a></li>
<li><a href="../es423261/index.html">An√°logos en la "Nomenclatura". Otra forma de ahorrar sabiamente. Parte 2</a></li>
<li><a href="../es423263/index.html">Conferencia de PROSTOR sobre almacenamiento: de una reuni√≥n de asociaci√≥n a un evento tecnol√≥gico internacional</a></li>
<li><a href="../es423265/index.html">La UE acepta la Directiva de derechos de autor</a></li>
<li><a href="../es423267/index.html">Limpieza en un taller geek. Parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>