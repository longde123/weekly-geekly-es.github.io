<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚴🏽 🐓 😥 Une vulnérabilité dans les filtres AdBlock et uBlock permet d'exécuter du code arbitraire côté utilisateur 👃 🤹🏿 🕺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans un certain nombre de conditions, l'option de filtre $rewrite , implémentée dans AdBlock, AdBlock Plus et uBlock avec la mise à jour 3.2 du 17 jui...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Une vulnérabilité dans les filtres AdBlock et uBlock permet d'exécuter du code arbitraire côté utilisateur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/448302/"> Dans un certain nombre de conditions, l'option de filtre <code>$rewrite</code> , implémentée dans AdBlock, AdBlock Plus et uBlock <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">avec la mise à jour 3.2 du 17 juillet 2018</a> , permet l'exécution de code arbitraire sur une page Web affichée à un utilisateur, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapporte le blog armin.dev</a> . <br><br>  Voici comment la fonction problème est décrite dans le correctif AdBlock lui-même: <br><blockquote>  Ce correctif implémente la nouvelle option de filtre <code>$rewrite</code> , qui permet aux auteurs de listes de filtres d'empêcher l'affichage (principalement vidéo) de publicités qui auparavant ne pouvaient pas être bloquées sur un certain nombre de sites Web. </blockquote>  La vulnérabilité décrite affecte les trois bloqueurs de publicités mentionnés, dont l'audience totale dépasse 100 millions d'utilisateurs.  Vous pouvez l'utiliser pour attaquer n'importe quel service Web, y compris, mais sans s'y limiter, par exemple, n'importe laquelle des ressources de Google.  Le problème est répandu, c'est-à-dire qu'une attaque avec le même succès peut être effectuée sur n'importe quel navigateur populaire et ne dépend pas de sa version. <br><br>  <b>La vulnérabilité a duré près de 9 mois et n'a été trouvée que maintenant.</b> <br><a name="habracut"></a><br><h3>  Essence de l'attaque </h3><br>  Le blogueur source explique que l'option <code>$rewrite</code> est utilisée par AdBlock et les autres bloqueurs mentionnés pour éviter de suivre l'utilisateur et de bloquer les publicités en redirigeant les demandes depuis la page Web visitée.  Ainsi, <code>$rewrite</code> vous permet de rediriger et non de traiter des requêtes comme <code>SCRIPT</code> , <code>SUBDOCUMENT</code> , <code>OBJECT</code> et <code>OBJECT_SUBREQUEST</code> . <br><br>  Une attaque peut se produire si le site Web utilise <code>XMLHttpRequest</code> ou <code>Fetch</code> pour télécharger et exécuter des extraits de code, tout en autorisant des requêtes arbitraires. <br><br>  Autrement dit, pour mener une attaque, trois conditions doivent être remplies: <br><br><ol><li>  La page Web doit charger la chaîne JS à l'aide de <code>XMLHttpRequest</code> ou <code>Fetch</code> et exécuter le code renvoyé. </li><li>  La page Web ne doit pas utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les</a> directives de validation de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">politique de sécurité du contenu</a> et ne doit pas vérifier l'URL finale avant d'exécuter le code téléchargé. </li><li>  La source du code extrait doit prendre en charge une redirection côté serveur ou contenir du contenu généré par l'utilisateur arbitraire. </li></ol><br>  Il semblerait qu'il y ait beaucoup de conditions, et CSP est loin d'être une nouveauté dans le monde du développement web.  Cependant, la principale menace à la vulnérabilité trouvée n'est pas la façon dont elle fonctionne, mais la façon dont elle se propage. <br><br>  Étant donné que les systèmes de filtrage AdBlock, AdBlock Plus et uBlock sont vulnérables, le moyen d '«infecter» la victime finale est extrêmement simple - grâce au système de mise à jour automatique des filtres.  Ce n'est un secret pour personne qu'une grande partie des utilisateurs utilisent des filtres prêts à l'emploi, mais ne les configurent pas eux-mêmes.  Dans ce cas, l'auteur du package de filtrage peut déployer une mise à jour malveillante, effectuer une attaque, puis «rouler» le package et ainsi «balayer les pistes». <br><br><h3>  Façons de se battre </h3><br>  Le moyen le plus simple de vous protéger contre la vulnérabilité mentionnée est de passer à uBlock Origin.  Ce bloqueur de publicités ne prend pas en charge la fonction <code>$rewrite</code> , c'est-à-dire qu'il est impossible de mettre en œuvre l'attaque décrite par son intermédiaire. <br><br>  Sinon, à vos risques et périls, vous devez attendre la prochaine mise à jour d'AdBlock.  Littéralement quelques heures après la publication sur le blog armin.dev, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette</a> entrée de blog est apparue dans le blog de blocage officiel en réponse à la vulnérabilité de <code>$rewrite</code> . <br><br>  Dans ce document, l'administration AdBlock assure que même si la vulnérabilité est spécifique, ils sont extrêmement prudents quant à la sécurité de leur public et <a href="">dans la prochaine mise à jour,</a> <b>la fonction <code>$rewrite</code> sera supprimée</b> d'AdBlock. <br><br>  De plus, selon les assurances de l'administration, ils vérifient toutes les listes de filtres et les revérifient maintenant.  Sur la base des résultats de l'audit, l'administration indique qu'aucune des listes de filtres existantes ne décrit la méthode d'attaque de l'utilisateur contenue.  Étant donné que seulement quatre heures environ se sont écoulées entre le moment où le message d'origine a été publié et la réponse au blog AdBlock, nous ne nous réjouissons que de la réactivité de l'équipe de bloqueurs. <br><br>  Dans le même temps, la suppression de la fonction <code>$rewrite</code> rewrite du projet est un pas en arrière pour AbBlock, car il a été créé à l'origine pour lutter contre les publicités vidéo contextuelles.  Maintenant, elle reviendra pour la sécurité universelle.  De plus, la vitesse avec laquelle il a été décidé de supprimer complètement <code>$rewrite</code> du projet montre que bien que l'attaque soit spécifique, les conséquences de sa conduite de masse sont trop étranges. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr448302/">https://habr.com/ru/post/fr448302/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr448292/index.html">Ouvrez l'API pour accepter les transferts p2p</a></li>
<li><a href="../fr448294/index.html">La loi sur l'isolement du Runet est adoptée par la Douma d'Etat en trois lectures</a></li>
<li><a href="../fr448296/index.html">Freelance et Finance: 5 façons de s'entendre entre un client et un freelance</a></li>
<li><a href="../fr448298/index.html">GLTF et GLB Basics, Partie 2</a></li>
<li><a href="../fr448300/index.html">Mailto de la conférence: CLOUD - sur les nuages ​​et autour</a></li>
<li><a href="../fr448304/index.html">Le livre "Vue.js en action"</a></li>
<li><a href="../fr448308/index.html">Data Science Digest (avril 2019)</a></li>
<li><a href="../fr448310/index.html">Écrire un bot de télégramme en python à l'aide de la bibliothèque de telebot partie 1</a></li>
<li><a href="../fr448316/index.html">Déterminer la race d'un chien: un cycle de développement complet, d'un réseau neuronal en Python à une application sur Google Play</a></li>
<li><a href="../fr448320/index.html">Pourquoi le silicium et pourquoi CMOS?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>