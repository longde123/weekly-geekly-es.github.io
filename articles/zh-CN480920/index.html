<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🚒 🎊 👩🏿‍🎓 使用远程PoE测试TP-Link交换机。 关于旧型号的升级 ⏸️ 🏴󠁧󠁢󠁷󠁬󠁳󠁿 🍤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="以前，在交换机中，我们仅在增加发射功率的方向上开发了以太网供电技术。 但是在使用PoE和PoE +解决方案的过程中，显然这还不够。 我们的客户不仅面临能源预算短缺的问题，而且面临以太网网络的标准限制（传输距离为100 m）。在本文中，我们将告诉您如何规避此限制并在实践中测试远程PoE。 



 为...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>使用远程PoE测试TP-Link交换机。 关于旧型号的升级</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tp_link_russia/blog/480920/"> 以前，在交换机中，我们仅在增加发射功率的方向上开发了以太网供电技术。 但是在使用PoE和PoE +解决方案的过程中，显然这还不够。 我们的客户不仅面临能源预算短缺的问题，而且面临以太网网络的标准限制（传输距离为100 m）。在本文中，我们将告诉您如何规避此限制并在实践中测试远程PoE。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dc5/3e6/75f/dc53e675fc22ea6ff318eb79edb3cbec.jpg"><br><a name="habracut"></a><br><h2> 为什么需要PoE远程技术 </h2><br> 一百米的距离很多。 而且，实际上，电缆永远不会成一直线：您需要绕过建筑物的所有弯头，从一个电缆通道到另一个电缆通道的上升或下降，依此类推。 即使在中型建筑物中，限制以太网段的长度也可能使管理员感到头疼。 <br><br> 我们以教学楼为例，明确说明了哪些设备可以使用PoE供电并连接到网络（绿色星号），哪些设备不可以（红色星号）。 如果无法在两种情况之间安装网络设备，则在设备的极端处，他们将无法连接： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f0b/e0d/6fd/f0be0d6fdd6c626f79bbcffa731a7d8c.png"><br><br> 为了绕过范围限制，使用了远程PoE技术：它允许您扩展有线网络的覆盖范围，并连接距离不超过250米的用户。 使用远程PoE时，有两种方式传输数据和电力： <br><br><ol><li> 如果接口速度为10 Mbps（常规以太网），则在长达250米的网段上，能量和数据都可以同时传输。 <br></li><li>如果接口速度设置为100 Mbps（对于TL-SL1218MP和TL-SG1218MPE型号）或1 Gbps（对于TL-SG1218MPE型号），则将不会进行数据传输-仅进行功率传输。 在这种情况下，您将需要一些其他方式来传输数据，例如，一条平行光缆。 在这种情况下，远程PoE仅用于远程电源。 <br></li></ol><br> 因此，在同一所学校中使用远程PoE时，可以将支持10 Mbps的网络设备放置在任何地方。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/452/6d7/0d2/4526d70d2ec48feb27503160717219c1.png"><br><br><h2> 具有远程PoE支持的交换机可以做什么 </h2><br>  TP-Link线路中的两个交换机具有远程PoE功能： <a href="https://www.tp-link.com/ru/business-networking/poe-switch/tl-sg1218mpe/">TL-SG1218MPE</a>和<a href="https://www.tp-link.com/ru/business-networking/unmanaged-switch/tl-sl1218mp/">TL-SL1218MP</a> 。 <br><br>  TL-SL1218MP是指非托管交换机。 它有16个端口，其PoE总预算为192瓦，这使您可以为每个端口提供高达30瓦的容量的电源。 如果没有多余的能源预算，则所有16个快速以太网端口都可以供电。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4c0/6a5/65b/4c06a565bd31aa6696a7bdbdad0ce89c.png"><br><br> 使用前面板上的开关进行配置：一种激活远程PoE模式，第二种在分配交换机的能量预算时设置端口的优先级。 <br><br>  TL-SG1218MPE指简易智能开关。 您可以通过Web界面或专用实用程序控制设备。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ecd/7bc/c9c/ecd7bcc9ce67c8322207fcd77e150bac.png"><br><br> 管理员可以在“系统界面”部分访问标准的例行操作：更改管理员帐户的登录名和密码，设置控制模块的IP地址，更新固件等。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/32e/de7/574/32ede75749db21a61990648590edfc3a.png"><br><br> 端口操作模式在“交换”→“端口设置”​​部分中进行设置。 使用该部分中的其余选项卡，您可以启用/禁用IGMP并将物理接口分组。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/77d/6ed/161/77d6ed16175bc9b5e130f9db4fc4101a.png"><br><br> 监视部分提供有关交换机端口操作的统计信息。 您还可以镜像流量，启用或禁用回送保护以及运行内置电缆测试器。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7a6/704/0c6/7a67040c685a038e71ce120f96ccbd5e.png"><br><br>  TL-SG1218MPE交换机支持多种虚拟网络模式：802.1q标记，基于端口的VLAN和MTU VLAN。 在MTU VLAN模式下，交换机仅允许用户端口和上行接口之间的流量交换，即直接禁止用户端口之间的流量交换。 此技术也称为非对称VLAN或专用VLAN。 它用于提高网络安全性，以便在攻击者物理连接到交换机时无法控制设备。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/20c/aa2/591/20caa2591838b3c1980ac1ee1b9716c8.png"><br><br> 在“ QoS”部分，您可以设置接口的优先级，配置用户流量的速度限制，还可以处理风暴。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/996/51b/973/99651b9738bc8ad328405dbbbadfaebd.png"><br><br> 在PoE Con​​fig部分中，管理员可以强制限制特定用户可使用的最大功率，设置接口的能源优先级，以及连接或断开用户。 <br><br><h2> 远程测试 </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/6d4/42b/ea0/6d442bea0d2de6afefb086c0a89a0234.jpg"><br><br> 在TL-SL1218MP中，我们包括对前八个端口的远程支持。 我们的测试IP电话已成功获得。 通过电话设置，我们发现约定的速度为10 Mbps。 然后，我们将“远程PoE”开关设置为“关”，然后检查测试电话的状态。 设备已成功通过其网络接口使用100 Mbps模式启动并报告，但是，数据未通过通道传输，并且电话未在站点上注册。 因此，通过扩展的以太网通道连接的用户的电源是可能的，而无需激活远程PoE模式，但是在这种情况下，仅电源将通过通道传输，而不会通过数据传输。 <br><br> 在通过以太网的标准功率模式下（当网段长度不超过100米时），能量和数据的传输速度最高可达1 Gbps。 成功验证了由PoE供电并以最大电缆长度连接的电话的操作。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a89/715/fbc/a89715fbc848ffb085873c61e5264e0b.png"><br><br> 在TL-SG1218MPE交换机上，我们将端口设置为10 Mbps半双工模式-设备已成功连接。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/219/bb3/25f/219bb325f99279ad17938721d8c82a52.png"><br><br> 自然，我们想知道手机通过这种连接消耗多少能量，事实证明只有1.6瓦。 <br><br><pre><code class="plaintext hljs">C:\&gt;ping -t 192.168.1.10 Pinging 192.168.1.10 with 32 bytes of data: Reply from 192.168.1.10: bytes=32 time&lt;1ms TTL=64 Reply from 192.168.1.10: bytes=32 time&lt;1ms TTL=64 Reply from 192.168.1.10: bytes=32 time&lt;1ms TTL=64 Reply from 192.168.1.10: bytes=32 time&lt;1ms TTL=64 Reply from 192.168.1.10: bytes=32 time&lt;1ms TTL=64 Reply from 192.168.1.10: bytes=32 time&lt;1ms TTL=64 Reply from 192.168.1.10: bytes=32 time&lt;1ms TTL=64 Reply from 192.168.1.10: bytes=32 time&lt;1ms TTL=64 Reply from 192.168.1.10: bytes=32 time&lt;1ms TTL=64 Request timed out. Request timed out. Request timed out. Request timed out. Request timed out. Request timed out. Request timed out. Ping statistics for 192.168.1.10:     Packets: Sent = 16, Received = 9, Lost = 7 (43% loss), Approximate round trip times in milli-seconds:     Minimum = 0ms, Maximum = 0ms, Average = 0ms Control-C</code> </pre> <br> 但是，如果您以100 Mbps半双工或100 Mbps全双工的操作模式转换交换机接口，则与电话的通信将立即丢失并且无法恢复。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c8/b76/a2c/7c8b76a2cacf8c3143856f5de490e951.png"><br><br> 接口本身处于Link Down状态。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f0/a50/a8d/5f0a50a8d8cf86146f0f324ba0b0af05.png"><br><br> 如果将接口转换为速度和双工的自动匹配模式，几乎会发生同样的事情。 因此，使用这样长的以太网段的唯一方法是将连接速度手动设置为10 Mbps。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ff/0ff/1b4/2ff0ff1b4c015b3468d4812337a88e5b.png"><br><br> 不幸的是，集成的电缆测试仪无法检测到如此长的电缆段。 <br><br><h2> 升级其他PoE交换机 </h2><br> 由于PoE供电的设备数量在不断增加，因此我们更新了旧型号的电源。 现在，所有型号都将具有150 W和250 W的电源，而不是110 W和192 W的电源。 所有这些更改可以在表中看到： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e85/127/11d/e8512711de91306bbb53a1f53570e165.png"><br><br> 随着PoE技术开始渗透到消费者层面，产品阵容中的另一个变化是为小型办公室和家庭使用的交换机的出现。 <br><br> 在2019年的非托管快速以太网交换机产品线中，出现了用于5端口和8端口的<a href="https://www.tp-link.com/ru/business-networking/unmanaged-switch/tl-sf1005p/">TL-SF1005P</a>和<a href="https://www.tp-link.com/ru/business-networking/unmanaged-switch/tl-sf1008p/">TL-SF1008P</a>型号。 这些模型的能源预算为58瓦，可以在四个接口之间分配（每个端口最高15.4瓦）。 交换机没有风扇；它们可以直接安装在办公室和工作室，公寓中，并且可以用于连接任何IP摄像机和IP电话。 交换机可以优先分配能量：当发生过载时，低优先级的设备将被禁用。 <br><br>  <a href="https://www.tp-link.com/ru/business-networking/unmanaged-switch/tl-sg1005p/">TL-SG1005P</a>和<a href="https://www.tp-link.com/ru/business-networking/unmanaged-switch/tl-sg1008p/">TL-SG1008P</a>以及SF模型都是为台式机安装而设计的，但是它们具有内置的千兆交换机，可让您连接支持802.3af的高速终端设备。 <br><br>  <a href="https://www.tp-link.com/ru/business-networking/unmanaged-switch/tl-sg1008mp/">TL-SG1008MP</a>可以放在桌子上或架子上。 该型号具有八个千兆以太网端口，每个端口都可以通过支持80瓦的IEEE 802.3af /连接到用户。 设备的总能量预算为126瓦。 交换机的功能支持省电模式，在该模式下，交换机会定期对端口进行ping操作，并且在没有连接设备的情况下，它将关闭电源。 这样可将功耗降低75％。 <br><br> 除TL-SG1218PE外，TP-Link管理的交换机还包括<a href="https://www.tp-link.com/ru/business-networking/easy-smart-switch/tl-sg108pe/">TL-SG108PE</a>和<a href="https://www.tp-link.com/ru/business-networking/easy-smart-switch/tl-sg1016pe/">TL-SG1016PE</a> 。 它们具有与设备相同的总能量预算-55瓦。 该预算可以在四个端口之间重新分配，每个端口的输出功率最高为15.4瓦。 这些交换机分别具有与TL-SG1218PE相同的固件，并且功能相同：网络监视，流量优先级划分，QoS，MTU VLAN。 <br><br>  <i><i><a href="https://static.tp-link.com/2019/201912/20191210/%25D0%259A%25D0%25BE%25D0%25BC%25D0%25BC%25D1%2583%25D1%2582%25D0%25B0%25D1%2582%25D0%25BE%25D1%2580%25D1%258B%2520%25D1%2581%2520%25D0%25BF%25D0%25BE%25D0%25B4%25D0%25B4%25D0%25B5%25D1%2580%25D0%25B6%25D0%25BA%25D0%25BE%25D0%25B9%2520PoE.pdf">此处</a></i>提供了TP-Link PoE设备范围的完整说明。</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN480920/">https://habr.com/ru/post/zh-CN480920/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN480906/index.html">编写一个简单的python游戏</a></li>
<li><a href="../zh-CN480910/index.html">如何为Selenium测试创建基本测试类并通过JUnit RuleChain进行初始化</a></li>
<li><a href="../zh-CN480912/index.html">快速行动。 编写TodoMVC。 第一部分</a></li>
<li><a href="../zh-CN480914/index.html">面向初学者的微服务</a></li>
<li><a href="../zh-CN480918/index.html">Apache Hadoop代码质量：生产VS测试</a></li>
<li><a href="../zh-CN480922/index.html">Evgeny Usvitsky：“世界上每个人都知道在哪里免费获取地理数据-仅在OSM中”</a></li>
<li><a href="../zh-CN480924/index.html">重制MediEvil的创建者如何以及为何重新设计了游戏的狂热老板</a></li>
<li><a href="../zh-CN480926/index.html">物理精确渲染的概率论</a></li>
<li><a href="../zh-CN480928/index.html">Apache Hadoop代码质量：生产VS测试</a></li>
<li><a href="../zh-CN480930/index.html">输入所有内容</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>