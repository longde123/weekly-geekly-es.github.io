<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â›²ï¸ ğŸŒªï¸ ğŸ‘¨ğŸ¾â€ğŸŒ¾ PostgreSQL 11: Die Entwicklung der Partitionierung von Postgres 9.6 zu Postgres 11 ğŸ‘¨ğŸ¼â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸ˜— ğŸ’Š</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Freitag allerseits! Bis zum Start des relationalen DBMS- Kurses bleibt immer weniger Zeit. Daher teilen wir heute die Ãœbersetzung eines weiteren...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PostgreSQL 11: Die Entwicklung der Partitionierung von Postgres 9.6 zu Postgres 11</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/452280/"> Guten Freitag allerseits!  Bis zum Start des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">relationalen DBMS-</a> Kurses bleibt immer weniger Zeit. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Daher</a> teilen wir heute die Ãœbersetzung eines weiteren nÃ¼tzlichen Materials zu diesem Thema. <br><br><img src="https://habrastorage.org/webt/4z/ca/y0/4zcay07sqqyhixeveni4lzichrw.png"><br><br>  WÃ¤hrend des Entwicklungsprozesses von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PostgreSQL 11</a> wurden beeindruckende Arbeiten zur Verbesserung der Tabellenpartitionierung durchgefÃ¼hrt.  <b>Die Tabellenpartitionierung</b> ist eine Funktion, die in PostgreSQL schon seit einiger Zeit existiert, aber sozusagen erst in Version 10, in der sie zu einer sehr nÃ¼tzlichen Funktion wurde.  Wir haben zuvor festgestellt, dass die Tabellenvererbung unsere Implementierung der Partitionierung ist, und das ist wahr.  Nur diese Methode hat Sie gezwungen, den grÃ¶ÃŸten Teil der Arbeit manuell zu erledigen.  Wenn Sie beispielsweise wollten, dass Tupel wÃ¤hrend INSERTs in Abschnitte eingefÃ¼gt werden, mussten Sie Trigger konfigurieren, um dies fÃ¼r Sie zu tun.  Die Partitionierung mithilfe der Vererbung war sehr langsam und es war schwierig, zusÃ¤tzliche Funktionen zu entwickeln. <a name="habracut"></a><br><br>  In PostgreSQL 10 wurde die â€deklarative Partitionierungâ€œ eingefÃ¼hrt, eine Funktion zur LÃ¶sung vieler Probleme, die bei Verwendung der alten Methode mit Vererbung nicht lÃ¶sbar waren.  Dies fÃ¼hrte zur Entwicklung eines viel leistungsfÃ¤higeren Tools, mit dem wir die Daten horizontal aufteilen kÃ¶nnen! <br><br>  <b>Funktionsvergleich</b> <br><br>  PostgreSQL 11 bietet eine beeindruckende Reihe neuer Funktionen, mit denen die Leistung verbessert und partitionierte Tabellen fÃ¼r Anwendungen transparenter gemacht werden kÃ¶nnen. <br><br><img src="https://habrastorage.org/webt/zl/tf/qj/zltfqjthvf_ta1-lechiseluqn8.png"><br><img src="https://habrastorage.org/webt/2t/wg/fy/2twgfytbvwoslrff5eko6tsv6fk.png"><br><img src="https://habrastorage.org/webt/7u/c-/uv/7uc-uvzrj12rcgwis-_pypkfxia.png"><br>  <i>1. Verwendung restriktiver Ausnahmen</i> <i><br></i>  <i>2. FÃ¼gt nur Knoten hinzu</i> <i><br></i>  <i>3. Nur fÃ¼r eine partitionierte Tabelle, die sich auf eine nicht partitionierte Tabelle bezieht</i> <i><br></i>  <i>4. Indizes mÃ¼ssen alle SchlÃ¼sselspalten eines Abschnitts enthalten</i> <i><br></i>  <i>5. Die BeschrÃ¤nkung des Abschnitts auf beiden Seiten muss Ã¼bereinstimmen</i> <br><br>  <b>Leistung</b> <br><br>  Hier haben wir auch gute Neuigkeiten!  Eine neue Methode zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://www.2ndquadrant.com/blog/">LÃ¶schen von Abschnitten wurde</a> hinzugefÃ¼gt.  Dieser neue Algorithmus kann geeignete Abschnitte anhand der <code>WHERE</code> Abfragebedingung ermitteln.  Der vorherige Algorithmus Ã¼berprÃ¼fte seinerseits jeden Abschnitt, um festzustellen, ob er mit der <code>WHERE</code> Ã¼bereinstimmen konnte.  Dies fÃ¼hrte zu einer zusÃ¤tzlichen VerlÃ¤ngerung der Planungszeit, da die Anzahl der Abschnitte zunahm. <br><br>  In 9.6 wurde bei der Partitionierung durch Vererbung das Routing von Tupeln in einem Abschnitt normalerweise durch Schreiben einer Triggerfunktion durchgefÃ¼hrt, die eine Reihe von IF-Anweisungen enthielt, um das Tupel in den richtigen Abschnitt einzufÃ¼gen.  Diese Funktionen kÃ¶nnen sehr langsam ausgefÃ¼hrt werden.  Mit der in Version 10 hinzugefÃ¼gten deklarativen Partitionierung ist dies viel schneller geworden. <br><br>  Mithilfe einer partitionierten Tabelle mit 100 Abschnitten kÃ¶nnen wir die Leistung beim Laden von 10 Millionen Zeilen in eine Tabelle mit 1 BIGINT-Spalte und 5 INT-Spalten schÃ¤tzen. <br><br><img src="https://habrastorage.org/webt/5i/lo/x-/5ilox-tl14kxfixdf6dsritqeec.png"><br><br>  Die Leistung einer Abfrage in dieser Tabelle zum Suchen nach einem indizierten Datensatz und AusfÃ¼hren von DML zum Bearbeiten eines Datensatzes (mit nur 1 Prozessor): <br><br><img src="https://habrastorage.org/webt/8q/wv/77/8qwv77qgg9lcmlrdgjck_dxcj7w.png"><br><br>  Hier sehen wir, dass die Leistung jeder Operation nach PG 9.6 signifikant gestiegen ist.  <code>SELECT</code> Abfragen sehen viel besser aus, insbesondere solche, die mehrere Abschnitte wÃ¤hrend der Abfrageplanung ausschlieÃŸen kÃ¶nnen.  Dies bedeutet, dass der Planer den grÃ¶ÃŸten Teil der Arbeit Ã¼berspringen kann, die er zuvor hÃ¤tte erledigen sollen.  Beispielsweise werden keine Pfade fÃ¼r unnÃ¶tige Abschnitte mehr erstellt. <br><br>  <b>Fazit</b> <br><br>  Das Partitionieren von Tabellen wird in PostgreSQL zu einer sehr leistungsstarken Funktion.  <b>Sie kÃ¶nnen Daten schnell online ausgeben und offline Ã¼bersetzen, ohne auf den Abschluss langsamer, massiver DML-VorgÃ¤nge warten zu mÃ¼ssen</b> .  Dies bedeutet auch, dass verwandte Daten zusammen gespeichert werden kÃ¶nnen, was bedeutet, dass auf die erforderlichen Daten viel effizienter zugegriffen werden kann.  Verbesserungen in dieser Version wÃ¤ren ohne Entwickler, PrÃ¼fer und Committer, die unermÃ¼dlich an all diesen Funktionen gearbeitet haben, nicht mÃ¶glich gewesen. <br>  Vielen Dank an alle!  <b>PostgreSQL 11 sieht fantastisch aus!</b> <br><br>  Hier ist so ein kurzer, aber ziemlich interessanter Artikel.  Teilen Sie Ihre Kommentare mit und vergessen Sie nicht, sich fÃ¼r einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tag der offenen TÃ¼r anzumelden</a> , an dem das Kursprogramm ausfÃ¼hrlich beschrieben wird. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de452280/">https://habr.com/ru/post/de452280/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de452268/index.html">C # WPF analog Window.ShowDialog () oder mit DispatcherFrame umgehen</a></li>
<li><a href="../de452270/index.html">Die Xamarin-API-Dokumentation ist jetzt Ã¶ffentlich verfÃ¼gbar</a></li>
<li><a href="../de452272/index.html">MÃ¤dchen unter dem Wasserfall</a></li>
<li><a href="../de452276/index.html">Dropbox Client Reverse Engineering</a></li>
<li><a href="../de452278/index.html">Bluetooth LE ist nicht so beÃ¤ngstigend oder wie man die Benutzererfahrung ohne groÃŸen Aufwand verbessert</a></li>
<li><a href="../de452282/index.html">Elementary, Watson: Sie integrieren sich in Voximplant</a></li>
<li><a href="../de452284/index.html">Klassifizierung der Landbedeckung mittels Eo-Learn. Teil 1</a></li>
<li><a href="../de452288/index.html">Situation: US-Mobilfunkbetreiber, denen illegaler Handel mit Geodaten von Abonnenten vorgeworfen wird</a></li>
<li><a href="../de452290/index.html">Was Hacker vermissen, wenn sie an PHDays eine Bank brechen</a></li>
<li><a href="../de452294/index.html">Webinar "Mitarbeiter - HintertÃ¼r: Moderne Techniken des Social Engineering"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>