<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëâüèø üöµüèª üè¢ Como criar prote√ß√£o corporativa contra fraudes Palestra no YaC 2018 ‚õÖÔ∏è üò• ü§üüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em 29 de maio, foi realizada mais uma confer√™ncia em 2018 - a maior e a anual confer√™ncia Yandex. Havia tr√™s se√ß√µes no YaC deste ano: tecnologias de m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como criar prote√ß√£o corporativa contra fraudes Palestra no YaC 2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/413059/">  Em 29 de maio, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">foi realizada mais uma confer√™ncia em 2018</a> - a maior e a anual confer√™ncia Yandex.  Havia tr√™s se√ß√µes no YaC deste ano: tecnologias de marketing, cidade inteligente e seguran√ßa da informa√ß√£o.  Na persegui√ß√£o, publicamos um dos principais relat√≥rios da terceira se√ß√£o - de Yuri Leonovich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">tracer0tong</a> da empresa japonesa Rakuten. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3eMb6xhAQdo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><blockquote> Como nos autenticamos?  No nosso caso, n√£o h√° nada de extraordin√°rio, mas quero mencionar um m√©todo.  Al√©m dos tipos tradicionais - captcha e senhas de uso √∫nico - usamos o Proof of Work, PoW.  N√£o, n√£o mineramos bitcoins nos computadores dos usu√°rios.  Usamos o PoW para desacelerar o atacante e, √†s vezes, at√© bloquear completamente, for√ßando-o a resolver uma tarefa muito dif√≠cil, na qual ele passar√° muito tempo. </blockquote><br><a name="habracut"></a>  - Trabalho na Rakuten International Corporation.  Quero falar sobre v√°rias coisas: um pouco sobre mim, sobre nossa empresa, sobre como avaliar o custo dos ataques e entender se voc√™ precisa fazer alguma preven√ß√£o contra fraudes.  Quero contar como coletamos nossa preven√ß√£o contra fraudes e quais modelos usamos deram bons resultados na pr√°tica, como eles funcionaram e o que pode ser feito para evitar ataques de fraude. <br><br><img src="https://habrastorage.org/webt/l-/yn/r8/l-ynr8tompcnmtwwmdgkk20gcgw.jpeg"><br><br>  Sobre mim brevemente.  Ele trabalhou na Yandex, esteve envolvido na seguran√ßa de aplicativos da Web e, na Yandex, tamb√©m criou um sistema para evitar ataques de fraude.  Sou capaz de desenvolver servi√ßos distribu√≠dos, tenho um conhecimento matem√°tico que ajuda no uso do aprendizado de m√°quina na pr√°tica. <br><br>  Rakuten n√£o √© muito conhecido na Federa√ß√£o Russa, mas acho que todos sabem disso por duas raz√µes.  Dos mais de 70 de nossos servi√ßos na R√∫ssia, o Rakuten Viber √© conhecido e, se houver f√£s de futebol aqui, voc√™ deve saber que nossa empresa √© a patrocinadora geral do clube de futebol de Barcelona. <br><br>  Como temos tantos servi√ßos, temos nossos pr√≥prios sistemas de pagamento, cart√µes de cr√©dito e muitos programas de recompensa, estamos constantemente sujeitos a ataques de criminosos cibern√©ticos.  E, naturalmente, sempre solicitamos √†s empresas sistemas de prote√ß√£o contra fraudes. <br><br>  Quando uma empresa nos pede para criar um sistema de prote√ß√£o contra fraudes, sempre enfrentamos algum dilema.  Por um lado, h√° uma solicita√ß√£o para que haja uma alta taxa de convers√£o, para que o usu√°rio possa se autenticar convenientemente com os servi√ßos e fazer compras.  E da nossa parte, da parte dos guardas de seguran√ßa, quero menos reclama√ß√µes, menos contas invadidas.  E n√≥s, por nossa parte, queremos aumentar o pre√ßo do ataque. <br><br>  Se voc√™ for comprar um sistema de preven√ß√£o de fraudes ou tentar fazer isso sozinho, primeiro ser√° necess√°rio avaliar os custos. <br><br><img src="https://habrastorage.org/webt/k4/fw/xt/k4fwxt6bdgd4mhy_tk-_kfeqri0.jpeg"><br><br>  Em nossa opini√£o, precisamos de preven√ß√£o de fraudes?  Contamos com o fato de termos alguns tipos de perdas financeiras por fraude.  Essas s√£o perdas diretas - o dinheiro que voc√™ devolver√° aos seus clientes se eles forem roubados por intrusos.  Esse √© o custo de um servi√ßo de suporte t√©cnico que se comunicar√° com os usu√°rios e resolver√° conflitos.  Esta √© uma devolu√ß√£o de mercadorias que geralmente s√£o entregues em endere√ßos falsos.  E h√° custos diretos no desenvolvimento do sistema.  Se voc√™ criou um sistema de prote√ß√£o contra fraudes, implantou-o em alguns servidores, pagar√° pela infraestrutura, pelo desenvolvimento de software.  E h√° um terceiro aspecto muito importante dos danos causados ‚Äã‚Äãpelos atacantes - lucros perdidos.  Consiste em v√°rios componentes. <br><br>  De acordo com nossos c√°lculos, h√° um par√¢metro muito importante - o valor da vida √∫til, LTV, ou seja, o dinheiro que o usu√°rio gasta em nossos servi√ßos √© reduzido significativamente.  Porque na metade dos casos de fraude, os usu√°rios simplesmente deixam seu servi√ßo e n√£o retornam. <br><br>  Tamb√©m pagamos dinheiro pela publicidade e, se o usu√°rio sair, ele ser√° perdido.  Esse √© o custo de aquisi√ß√£o do cliente, CAC.  E se tivermos muitos usu√°rios automatizados que n√£o s√£o pessoas reais - temos usu√°rios ativos mensais falsos, n√∫meros da MAU, que tamb√©m afetam os neg√≥cios. <br><br>  Vamos olhar do outro lado, dos atacantes. <br><br>  Alguns oradores disseram que os atacantes est√£o usando ativamente as redes de bots.  Mas n√£o importa qual m√©todo eles usem, eles ainda precisam investir dinheiro, pagar pelo ataque, eles tamb√©m gastam algum dinheiro.  Nossa tarefa, quando criamos um sistema de preven√ß√£o de fraudes, √© encontrar um equil√≠brio que o invasor gaste muito dinheiro e gastemos menos.  Isso faz com que um ataque n√£o seja rent√°vel, e os atacantes simplesmente v√£o embora para interromper outro servi√ßo. <br><br><img src="https://habrastorage.org/webt/v_/rr/rb/v_rrrbzp20lumfbxs6udp-mpgry.jpeg"><br><br>  Para nossos servi√ßos de danos, dividimos os ataques em quatro tipos.  Isso √© direcionado ao tentar invadir uma conta, uma conta.  Ataques de um usu√°rio ou de um pequeno grupo de pessoas.  Ou ataques mais perigosos para n√≥s, maci√ßos e n√£o direcionados, quando atacantes atacam muitas contas, cart√µes de cr√©dito, n√∫meros de telefone etc. <br><br><img src="https://habrastorage.org/webt/lx/ja/u9/lxjau99_o2uzrxtqiocf8mxxkh4.jpeg"><br><br>  Vou te contar o que acontece, como eles nos atacam.  O principal tipo mais √≥bvio de ataque que todos conhecem √© a quebra de senha.  No nosso caso, os atacantes est√£o tentando resolver os n√∫meros de telefone, tentando validar os n√∫meros de cart√£o de cr√©dito.  Alguma variedade est√° presente. <br><br>  Registro em massa de contas, para n√≥s √© obviamente prejudicial.  Vou dar um exemplo mais tarde. <br><br>  O que √© gravado?  Contas falsas, alguns produtos inexistentes, est√£o tentando enviar spam nas mensagens de feedback.  Eu acho que isso √© relevante e semelhante para muitas empresas comerciais. <br><br>  Ainda existem problemas que n√£o s√£o √≥bvios para o com√©rcio eletr√¥nico, mas √≥bvios para o Yandex - ataques ao or√ßamento de publicidade, clique em fraude.  Bem, ou apenas o roubo de dados pessoais. <br><br><img src="https://habrastorage.org/webt/rr/xo/_n/rrxo_nmccecmdbfsws0dot07gze.jpeg"><br><br>  Eu darei um exemplo  Tivemos um ataque bastante interessante a um servi√ßo que vende livros eletr√¥nicos; havia uma oportunidade para qualquer usu√°rio se registrar e come√ßar a vender seu trabalho eletr√¥nico, uma oportunidade para apoiar escritores iniciantes. <br><br>  O atacante registrou uma conta principal legal e v√°rios milhares de contas falsas de lacaios.  E ele gerou um livro falso, apenas a partir de frases aleat√≥rias, n√£o havia sentido nele.  Ele colocou no mercado, e n√≥s t√≠nhamos uma empresa de marketing, cada lacaio tinha, condicionalmente, 1 d√≥lar, que ele poderia gastar em um livro.  E esse livro falso custa US $ 1. <br><br>  Uma invas√£o de asseclas foi organizada - contas falsas.  Todos eles compraram este livro, o livro subiu nas classifica√ß√µes, tornou-se um best-seller, um atacante aumentou o pre√ßo para US $ 10 condicionais.  E desde que o livro se tornou um best-seller, as pessoas comuns come√ßaram a compr√°-lo, e reclama√ß√µes ca√≠ram sobre n√≥s de que est√°vamos vendendo alguns produtos de baixa qualidade, um livro com um conjunto de palavras sem sentido.  O atacante recebeu um lucro. <br><br>  N√£o h√° um nono ponto: ele foi preso mais tarde pela pol√≠cia.  Portanto, o lucro n√£o foi para o futuro. <br><br>  O principal objetivo de todos os atacantes no nosso caso √© gastar o m√≠nimo de dinheiro poss√≠vel e aproveitar o m√°ximo poss√≠vel. <br><br><img src="https://habrastorage.org/webt/1k/bl/c5/1kblc5pb4oggk-kbdmayen42l-w.jpeg"><br><br>  Existem invasores, uma pessoa que est√° simplesmente tentando burlar a l√≥gica comercial.  Mas observo que n√£o consideramos esses ataques uma prioridade, porque, em termos da propor√ß√£o do n√∫mero de contas invadidas e de dinheiro roubado, elas representam um risco baixo para n√≥s.  Mas o principal problema para n√≥s s√£o as redes de bots. <br><br><img src="https://habrastorage.org/webt/yz/av/mm/yzavmmx_xbc5oka2_893hntancq.jpeg"><br><br>  Estes s√£o sistemas distribu√≠dos em massa, eles atacam nossos servi√ßos de todo o planeta, de diferentes continentes, mas possuem alguns recursos que facilitam o manuseio deles.  Como em qualquer sistema distribu√≠do grande, os n√≥s de botnet executam mais ou menos as mesmas tarefas. <br><br>  Outra coisa importante - agora, como muitos colegas observaram, as redes bot est√£o distribu√≠das em todos os tipos de dispositivos inteligentes, roteadores dom√©sticos, alto-falantes inteligentes, etc. Mas esses dispositivos t√™m especifica√ß√µes de hardware baixas e n√£o podem executar scripts complexos. <br><br>  Por outro lado, para um invasor, alugar um botnet para DDoS simples √© bastante barato e tamb√©m √© necess√°rio pesquisar senhas por contas.  Mas se voc√™ precisar implementar algum tipo de l√≥gica comercial especificamente para seu aplicativo ou servi√ßo, o desenvolvimento e o suporte de uma botnet se tornar√£o muito caros.  Geralmente, um invasor simplesmente aluga parte de uma botnet finalizada. <br><br>  Eu sempre associo um ataque de botnet ao desfile de Pikachu em Yokohama.  Temos 95% do tr√°fego malicioso proveniente de botnets. <br><br><img src="https://habrastorage.org/webt/tn/cf/qn/tncfqnvivltopciqheswjsdpxsg.jpeg"><br><br>  Se voc√™ observar a captura de tela do nosso sistema de monitoramento, ver√° muitas manchas amarelas - estas s√£o solicita√ß√µes bloqueadas de v√°rios n√≥s.  E aqui, uma pessoa atenta pode perceber que eu meio que disse que o ataque √© distribu√≠do igualmente pelo mundo.  Mas h√° uma clara anomalia no mapa, um ponto vermelho na √°rea de Taiwan.  Este √© um caso bastante curioso. <br><br><img src="https://habrastorage.org/webt/s5/q6/-y/s5q6-yptqjtduqkeikztdkpy40k.jpeg"><br><br>  Esse ataque veio de roteadores dom√©sticos.  Em Taiwan, um grande provedor de servi√ßos de Internet foi hackeado, o que forneceu a Internet para a maioria dos habitantes da ilha.  E, para n√≥s, era um problema muito grande, relacionado ao fato de muitos usu√°rios legais, ao mesmo tempo em que ocorreu o ataque, acessarem e trabalharem com nossos servi√ßos nos mesmos endere√ßos IP.  Paramos com sucesso esse ataque, mas foi muito dif√≠cil. <br><br>  Se falamos sobre escopo, sobre a superf√≠cie, sobre o que protegemos.  Se voc√™ possui um pequeno site de com√©rcio eletr√¥nico ou um pequeno servi√ßo regional, n√£o h√° problemas espec√≠ficos.  Voc√™ tem um servidor, talvez v√°rios, ou m√°quinas virtuais na nuvem.  Bem, usu√°rios, maus, bons, que v√™m at√© voc√™.  N√£o h√° nenhum problema espec√≠fico para proteger. <br><br><img src="https://habrastorage.org/webt/qq/wz/yv/qqwzyvffpokskf3oion3uodigls.jpeg"><br><br>  No nosso caso, tudo √© mais complicado, a superf√≠cie de ataque √© enorme.  Temos servi√ßos implantados em nossos pr√≥prios data centers, na Europa, no sudeste da √Åsia, nos EUA.  Tamb√©m temos usu√°rios em diferentes continentes, bons e ruins.  Al√©m disso, alguns servi√ßos s√£o implantados na infraestrutura de nuvem, e n√£o na nossa. <br><br>  Com tantos servi√ßos e uma infraestrutura t√£o extensa, √© muito dif√≠cil defender.  Al√©m disso, muitos de nossos servi√ßos oferecem suporte a v√°rios tipos de aplicativos e interfaces de clientes.  Por exemplo, temos um servi√ßo de TV Rakuten que funciona em TVs inteligentes e a prote√ß√£o √© totalmente especial para isso. <br><br><img src="https://habrastorage.org/webt/e6/au/pg/e6aupgh93jn1junf9xzjxy7uxhy.jpeg"><br><br>  Para resumir o problema, um grande n√∫mero de usu√°rios circula em seu sistema, como pessoas em uma loja no cruzamento em Shibuya.  E entre tantas pessoas, √© necess√°rio identificar e capturar os agressores.  Ao mesmo tempo, existem muitas portas em sua loja e h√° ainda mais pessoas. <br><br>  Ent√£o, do que e como montamos nosso sistema? <br><br><img src="https://habrastorage.org/webt/cq/1_/sy/cq1_syk4uwbhup3chvcbknatpsq.jpeg"><br><br>  Conseguimos usar apenas componentes de c√≥digo aberto, era barato o suficiente.  Usou o poder de muitos "esquilos".  Uma parte significativa do software foi escrita no idioma Golang.  Filas de mensagens e bancos de dados usados.  Por que precisamos disso?  T√≠nhamos dois objetivos: coletar dados sobre o comportamento do usu√°rio e calcular a reputa√ß√£o, tomar algumas a√ß√µes para reconhecer se um usu√°rio √© bom ou ruim. <br><br><img src="https://habrastorage.org/webt/wu/2o/uq/wu2ouqnod8ei_5qf3xgvx1h48ow.jpeg"><br><br>  Temos muitos n√≠veis no sistema, usamos os frontends escritos em Golang e Tarantool como base de cache.  Nosso sistema √© implantado em todas as regi√µes onde nossas empresas est√£o localizadas.  Transmitimos eventos atrav√©s do barramento de dados e a partir dele obtemos uma reputa√ß√£o. <br><br><img src="https://habrastorage.org/webt/ak/pm/b_/akpmb_zttp3xhspmqyjrqpqpag8.jpeg"><br><br>  Temos back-ends que tamb√©m replicam o status da reputa√ß√£o do usu√°rio com o Cassandra. <br><br>  Barramento de dados, nada secreto, Apache Kafka. <br><br><img src="https://habrastorage.org/webt/6b/xq/_2/6bxq_2rfjx1mcawe0dqtbr2kruq.jpeg"><br><br>  Eventos e registros em uma dire√ß√£o, reputa√ß√£o na outra. <br><br>  E, naturalmente, o sistema tem um c√©rebro que pensa se o usu√°rio √© ruim ou bom, a atividade √© ruim ou boa.  O c√©rebro √© constru√≠do no Apache Storm, e a parte divertida √© o que acontece l√° dentro. <br><br>  Mas, primeiro, mostrarei como coletamos dados e como bloquear invasores. <br><br><img src="https://habrastorage.org/webt/sm/os/qd/smosqdjjgk4gzh0lqpsd7qdpkzu.jpeg"><br><br>  Existem muitas abordagens.  Alguns deles j√° foram mencionados por colegas da Yandex em seu primeiro relat√≥rio.  Como bloquear intrusos?  Anton Karpov disse que os firewalls s√£o ruins, n√£o gostamos deles.  Na verdade, ele pode ser bloqueado por endere√ßos IP, o t√≥pico para a R√∫ssia √© muito relevante, mas esse m√©todo n√£o nos conv√©m.  Preferimos usar bloqueios de n√≠vel superior, no s√©timo n√≠vel, no n√≠vel do aplicativo, usando autentica√ß√£o de solicita√ß√µes usando tokens, cookies de sess√£o. <br><br>  Porque  Vamos ver primeiro os bloqueios baixos. <br><br><img src="https://habrastorage.org/webt/uq/3o/ji/uq3oji_8wbtqpybumqxrj2_tpje.jpeg"><br><br>  Esta √© uma maneira barata, todo mundo sabe como us√°-lo, todo mundo tem firewalls nos servidores.  Um monte de instru√ß√µes na Internet, n√£o h√° problemas para bloquear o usu√°rio por IP.  Mas quando voc√™ bloqueia o usu√°rio em um n√≠vel baixo, ele n√£o tem como ignorar seu sistema de prote√ß√£o de alguma forma, se esse foi um falso positivo.  Os navegadores modernos est√£o mais ou menos tentando mostrar uma bela mensagem de erro ao usu√°rio, mas ainda assim, uma pessoa n√£o pode ignorar seu sistema de nenhuma maneira, porque um usu√°rio comum n√£o pode alterar arbitrariamente seus endere√ßos IP.  Portanto, acreditamos que esse m√©todo n√£o √© muito bom e hostil.  Al√©m disso, o IPv6 se move pelo planeta, se voc√™ tiver alguma tabela bloqueada, e depois de algum tempo, levar√° muito tempo para procurar endere√ßos nessas tabelas e n√£o haver√° futuro para esses bloqueios. <br><br><img src="https://habrastorage.org/webt/wm/jk/bi/wmjkbiioyyvgidfjmdxqyukmxh0.jpeg"><br><br>  Nosso m√©todo √© bloqueios no n√≠vel superior.  Preferimos autenticar solicita√ß√µes, porque para n√≥s √© uma oportunidade de se adaptar de maneira muito flex√≠vel √† l√≥gica comercial de nossos aplicativos.  Tais m√©todos t√™m vantagens e desvantagens.  A desvantagem √© o alto custo de desenvolvimento, a grande quantidade de recursos que voc√™ precisa investir em infraestrutura e a arquitetura desses sistemas, com toda sua aparente simplicidade, ainda √© complicada. <br><br>  Voc√™ ouviu em relat√≥rios anteriores sobre v√°rios m√©todos baseados em biometria, coleta de dados.  Obviamente, tamb√©m pensamos nisso, mas aqui √© muito f√°cil violar a privacidade do usu√°rio coletando os dados errados que o usu√°rio deseja confiar a voc√™. <br><br><img src="https://habrastorage.org/webt/db/1m/h9/db1mh9zoh64voqn82hhlu5_-hgo.jpeg"><br><br>  Como nos autenticamos?  No nosso caso, n√£o h√° nada de extraordin√°rio, mas quero mencionar um m√©todo.  Al√©m dos tipos tradicionais - captcha e senhas de uso √∫nico - usamos o Proof of Work, PoW.  N√£o, n√£o mineramos bitcoins nos computadores dos usu√°rios.  Usamos o PoW para desacelerar o atacante e, √†s vezes, at√© bloquear completamente, for√ßando-o a resolver uma tarefa muito dif√≠cil, na qual ele passar√° muito tempo. <br><br><img src="https://habrastorage.org/webt/rn/fj/at/rnfjatbasaind5k-pr9rxyvd0uq.jpeg"><br><br>  Como coletamos dados?  Usamos endere√ßos IP como um dos recursos, tamb√©m uma das fontes de dados para n√≥s s√£o os protocolos de criptografia suportados pelos clientes e o tempo de configura√ß√£o da conex√£o.  Al√©m disso, os dados que coletamos dos navegadores dos usu√°rios, os recursos desses navegadores e os tokens que usamos para autenticar solicita√ß√µes. <br><br>  Como detectar intrusos?  Voc√™ provavelmente espera que eu diga que constru√≠mos uma enorme rede neural e imediatamente capturamos todos.  Na verdade n√£o.  Utilizamos uma abordagem multin√≠vel.  Isso se deve ao fato de termos muitos servi√ßos, grandes volumes de tr√°fego e, se voc√™ tentar colocar um sistema de computa√ß√£o complexo em tais volumes, provavelmente ser√° muito caro e diminuir√° a velocidade dos servi√ßos.  Portanto, come√ßamos com um m√©todo banal simples: come√ßamos a contar quantas solicita√ß√µes v√™m de endere√ßos diferentes, de navegadores diferentes. <br><br><img src="https://habrastorage.org/webt/nz/mu/bp/nzmubpsgqcvdgru2cvzc7o4xtaa.jpeg"><br><br>  Esse m√©todo √© muito primitivo, mas permite filtrar ataques maci√ßos est√∫pidos como DDoS, quando voc√™ anomalias pronunciadas aparecem no tr√°fego.  Nesse caso, voc√™ tem certeza absoluta de que √© um invasor e pode bloque√°-lo.  Mas esse m√©todo √© adequado apenas no n√≠vel inicial, porque evita apenas os ataques mais dif√≠ceis. <br><br><img src="https://habrastorage.org/webt/7v/hw/ha/7vhwhap6f8sakfpcl-ltc555k-w.jpeg"><br><br>  Depois disso, chegamos ao pr√≥ximo m√©todo.  Decidimos nos concentrar no fato de termos uma l√≥gica comercial de aplicativos, e um invasor nunca pode simplesmente entrar em seu servi√ßo e roubar dinheiro.  Se ele n√£o quebrou, √© claro.  No nosso caso, se voc√™ observar o esquema mais simplificado de algum mercado abstrato, veremos que o usu√°rio deve fazer login primeiro, apresentar suas credenciais, receber cookies de sess√£o, depois ir ao mercado, procurar mercadorias l√° e coloc√°-las na cesta.  Depois disso, ele continua pagando pela compra, seleciona o endere√ßo, o m√©todo de pagamento e, no final, clica em "pagar" e, finalmente, ocorre a compra de mercadorias. <br><br>  Veja bem, um invasor precisa executar v√°rias etapas.  E essas transi√ß√µes entre estados, entre servi√ßos se assemelham a um modelo matem√°tico - s√£o cadeias de Markov, que tamb√©m podem ser usadas aqui.  Em princ√≠pio, no nosso caso, eles mostraram resultados muito bons. <br><br><img src="https://habrastorage.org/webt/s5/pz/sm/s5pzsm2xdms1fzodqznv_gyz1f8.jpeg"><br><br>  Eu posso dar um exemplo simplificado.  Grosso modo, h√° um momento em que um usu√°rio se autentica, quando escolhe compras e efetua um pagamento e, por exemplo, √© √≥bvio como um invasor pode se comportar de maneira anormal, ele pode tentar fazer login v√°rias vezes com contas diferentes.  Ou ele pode adicionar produtos errados ao carrinho que os usu√°rios comuns compram.  Ou executa um n√∫mero anormalmente grande de a√ß√µes. <br><br>  As cadeias de Markov geralmente consideram estados.  Tamb√©m decidimos acrescentar tempo a esses estados.  Os invasores e os usu√°rios normais se comportam de maneira muito diferente no tempo, e isso tamb√©m ajuda a separ√°-los. <br><br>  As cadeias de Markov s√£o um modelo matem√°tico bastante simples, s√£o muito f√°ceis de contar em tempo real e permitem adicionar outro n√≠vel de prote√ß√£o, eliminando outra parte do tr√°fego. <br><br>  A pr√≥xima etapa.  Pegamos os atacantes est√∫pidos, pegamos os atacantes da mente.  Agora os mais inteligentes s√£o deixados.  Para invasores complicados, s√£o necess√°rios recursos adicionais.  O que podemos fazer? <br><br><img src="https://habrastorage.org/webt/wf/h-/vx/wfh-vx7saokfeo3lyiwfdqh0g2c.jpeg"><br><br>  Podemos coletar algumas impress√µes digitais dos navegadores.  Agora, os navegadores s√£o sistemas bastante complexos, possuem muitos recursos suportados, executam JS, possuem v√°rios recursos de baixo n√≠vel e tudo isso pode ser coletado, todos esses dados.  No slide, h√° um exemplo de sa√≠da de uma das bibliotecas de c√≥digo aberto. <br><br>  Al√©m disso, voc√™ pode coletar dados sobre como o usu√°rio interage com seu servi√ßo, como ele move o mouse, como ele toca em um dispositivo m√≥vel, como ele rola a tela.  Essas coisas s√£o coletadas, por exemplo, pelo Yandex.Metrica.       ,        ,    . <br><br><img src="https://habrastorage.org/webt/v1/x8/jo/v1x8jo11wudljnjjbooi1wp2jd8.jpeg"><br><br>        ,     .   ?  ,      ,     ,     ,   .      ,        .     machine learning,    decision tree,         . Decision tree    if-else,     ,         .   ,           .  -  ,     -  ‚Äî ,     ,     . <br><br><img src="https://habrastorage.org/webt/nw/pv/rw/nwpvrwz9roee80jgfprzl8nyzoi.jpeg"><br><br> ,    ,         ,  -  , , ,   Softbank,   .      ,        ,    .     - ,   ,     ,        . <br><br>     ,  ,         iTunes    ‚Äî  ,   -  ,     . <br><br>         ,    ,     ,    . <br><br><img src="https://habrastorage.org/webt/tn/a1/8n/tna18neltvdouraq5l4jeq5kq30.jpeg"><br><br>       .   ,    ?   ,      .   ,         ,       ,    .     ,          . <br><br>       .      ,          .         .     :         .   ,           . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt413059/">https://habr.com/ru/post/pt413059/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt413041/index.html">The Guardian: ‚ÄúVoc√™ n√£o ter√° um Jetpack, viva com ele‚Äù</a></li>
<li><a href="../pt413045/index.html">macOS + Windows 10 em uma unidade externa</a></li>
<li><a href="../pt413049/index.html">Configure o BGP para ignorar bloqueios, vers√£o 3, sem VPS</a></li>
<li><a href="../pt413051/index.html">DBMS baseado em coluna versus min√∫scula, que tal um compromisso?</a></li>
<li><a href="../pt413055/index.html">Como criar uma comunidade global de inicializa√ß√£o em torno do conte√∫do de TI: uma hist√≥ria resumida da Techstars</a></li>
<li><a href="../pt413061/index.html">Como come√ßar a escrever o c√≥digo Lisp?</a></li>
<li><a href="../pt413063/index.html">Testando uma caneca t√©rmica caseira em uma transi√ß√£o de fase</a></li>
<li><a href="../pt413065/index.html">Novos recursos planejados no C # 8.0</a></li>
<li><a href="../pt413069/index.html">Pesquisa de √°udio, SEO de √°udio e ajuda para podcasts - Especialistas do Google j√° est√£o trabalhando nisso</a></li>
<li><a href="../pt413071/index.html">A DeepMind ensinou a IA a jogar videogame no YouTube</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>