<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💃 ☮️ 🦒 iOS 12: Benachrichtigungsgruppierung 👩🏾‍🤝‍👨🏿 👩‍💼 🍠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieser Artikel ist wie der vorherige den Änderungen in Benachrichtigungen gewidmet , die in iOS 12 angezeigt wurden. 



 Im letzten Artikel habe ich ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>iOS 12: Benachrichtigungsgruppierung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/e-Legion/blog/416439/"><p>  Dieser Artikel ist wie der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vorherige</a> den Änderungen in <strong>Benachrichtigungen gewidmet</strong> , die in iOS 12 angezeigt wurden. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fx/i6/9m/fxi69mfudubpnrldzj-w04z-j50.png" width="400"></div><br><p>  Im letzten Artikel habe ich über allgemeine Neuerungen gesprochen, diesmal werde ich näher auf die Gruppierung von Benachrichtigungen eingehen. </p><a name="habracut"></a><br><h3 id="gruppirovka-v-ios-12">  Gruppierung in iOS 12 </h3><br><p>  Damit die Benachrichtigungen aus Ihrer Anwendung in iOS 12 gruppiert werden können, müssen Sie nichts tun. Die Gruppierung wird automatisch durchgeführt.  Benachrichtigungen auf dem Bildschirm werden gestapelt, sobald ihre Anzahl 5 erreicht. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kt/bi/ld/ktbild9jk0ey2gbbdbr4rhcvdow.png"></div><br><p>  Der Benutzer hat die Möglichkeit, die Gruppierung über die Systemeinstellungen zu beeinflussen. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ui/an/df/uiandfufwzfcwfsm-fi4rrfamoa.png" width="300"></div><br><ul><li>  <strong>Automatisch</strong> (Standard) - Die Anwendung steuert die Gruppierungseinstellungen. </li><li>  <strong>Nach App</strong> - Anwendungseinstellungen werden ignoriert, alle Benachrichtigungen aus der Anwendung werden einem einzelnen Stapel hinzugefügt. </li><li>  <strong>Aus</strong> - Anwendungseinstellungen werden ignoriert, Benachrichtigungsgruppierung ist deaktiviert. </li></ul><br><h3 id="nastroyka-gruppirovki">  Gruppierungssetup </h3><br><p>  Wir können die Gruppierung von Nachrichten nur beeinflussen, wenn in den Einstellungen das Flag <strong>Automatisch</strong> verwendet wird.  Dazu muss in der Benachrichtigung der Parameter <strong>thread-id</strong> angegeben werden.  Aus Gründen der Übersichtlichkeit übergeben wir die <strong>Thread-ID auch</strong> an die <strong>Untertitelbenachrichtigung</strong> : </p><br><pre><code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> content = <span class="hljs-type"><span class="hljs-type">UNMutableNotificationContent</span></span>() content.threadIdentifier = threadId content.subtitle = <span class="hljs-string"><span class="hljs-string">"Thread ID: \(threadId)"</span></span></code> </pre> <br><p>  Wir senden mehrere Nachrichten und sehen das Ergebnis der Gruppierung: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kw/i5/si/kwi5sij_d57mjiwnnbyaanfwnbw.png" width="300"></div><br><p>  Sie können die <strong>Thread-ID auch</strong> an Push-Benachrichtigungen übergeben: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"aps"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"alert"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span> : <span class="hljs-string"><span class="hljs-string">"Cat Title"</span></span> <span class="hljs-string"><span class="hljs-string">"body"</span></span> : <span class="hljs-string"><span class="hljs-string">"Cat Body"</span></span> } <span class="hljs-string"><span class="hljs-string">"thread-id"</span></span> : <span class="hljs-string"><span class="hljs-string">"all-cats"</span></span> } }</code> </pre> <br><p>  Wenn Sie den Bezeichner für die Benachrichtigung angeben, vergessen Sie nicht, ihn in der <strong>UNNotificationCategory anzugeben</strong> , da er sonst nicht in der Erweiterung für Benachrichtigungen verarbeitet wird: </p><br><pre> <code class="hljs lisp">UNNotificationCategory(<span class="hljs-name"><span class="hljs-name">identifier</span></span>: <span class="hljs-string"><span class="hljs-string">"Cat-Category"</span></span>, actions: actions, intentIdentifiers: [<span class="hljs-string"><span class="hljs-string">"all-cats"</span></span>, <span class="hljs-string"><span class="hljs-string">"3-star-cats"</span></span>], options: [])</code> </pre> <br><p>  Für eine Kategorie können Sie das Format der Nachricht angeben, die vom Benutzer auf dem Gerät angezeigt wird. Dies ist eine der Innovationen von iOS 12. Sie können dies nur tun, wenn Sie die Kategorie initialisieren: </p><br><pre> <code class="hljs lisp">UNNotificationCategory(<span class="hljs-name"><span class="hljs-name">identifier</span></span>: <span class="hljs-string"><span class="hljs-string">"category-simple"</span></span>, actions: actions, intentIdentifiers: [<span class="hljs-string"><span class="hljs-string">"all-cats"</span></span>, <span class="hljs-string"><span class="hljs-string">"3-star-cats"</span></span>], hiddenPreviewsBodyPlaceholder: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, categorySummaryFormat: <span class="hljs-string"><span class="hljs-string">"%u     %@"</span></span>, options: [])</code> </pre> <br><p>  Der Parameter <strong>% u</strong> ist für die Anzahl der Nachrichten in der Gruppe verantwortlich und kann mit dem Argument <strong>summaryArgumentCount</strong> geändert werden.  Sie haben beispielsweise eine neue Auswahl an Katzen veröffentlicht, in der 10 neue Bilder enthalten sind.  Es macht keinen Sinn, 10 Pistolen an den Benutzer zu senden. Sie können eine Nachricht mit einem Zähler von 10 senden. Der Parameter <strong>% @</strong> zeigt den Wert der Variablen <strong>summaryArgument</strong> auf dem Bildschirm an: </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> content = <span class="hljs-type"><span class="hljs-type">UNMutableNotificationContent</span></span>() content.summaryArgumentCount = <span class="hljs-number"><span class="hljs-number">10</span></span> content.summaryArgument = <span class="hljs-string"><span class="hljs-string">" "</span></span></code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hg/sm/ua/hgsmuaxk8n5cbuwbae3j97lzixa.png" width="300"></div><br><p>  In jeder Gruppe haben wir 3 Nachrichten, aber aufgrund der Tatsache, dass der Parameter <strong>summaryArgumentCount</strong> angegeben ist, wird die Anzahl der Nachrichten gleich 20 angezeigt. Mit dem <strong>summaryArgument</strong> können wir den Namen der Kategorie hinzufügen, zu der Push-Benachrichtigungen gehören.  Nicht schlecht, aber jetzt haben wir ein Lokalisierungsproblem. </p><br><h3 id="lokalizaciya">  Lokalisierung </h3><br><p>  <strong>Fügen Sie</strong> dem Projekt eine <strong>Stringdict-Datei hinzu</strong> , um die Lokalisierungsaufgabe zu implementieren. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/op/sv/mf/opsvmfv0kdvvpgjgprijttimqnq.png" width="500"></div><br><p>  Ändern Sie den <strong>lokalisierten</strong> <strong>Zeichenfolgenschlüssel</strong> in <strong>NOTIFICATION_SUMMARY</strong> . Andernfalls werden die Werte aus dem Wörterbuch nicht verarbeitet, obwohl beim Empfang einer lokalisierten Zeichenfolge ein Schlüssel mit dem Namen des Wörterbuchs als Parameter übergeben wird.  Die restlichen Werte sind in der Abbildung dargestellt: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ai/bv/kn/aibvknayyeg8842wwjr6_z0xrne.png" width="500"></div><br><p>  <strong>Wählen Sie im Dateiinspektor</strong> für das Wörterbuch <strong>Lokalisieren aus</strong> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xk/um/-2/xkum-2l7wcpms3hmoldgp2qvuvc.png" width="250"></div><br><p>  Wir geben Dateien für die Lokalisierung an. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/to/nr/xk/tonrxkdqqhjo9a4g95zw_onvngq.png" width="500"></div><br><p>  Wir gehen in die Projekteinstellungen und fügen die Sprache hinzu, um <strong>Russisch (ru)</strong> zu lokalisieren. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/12/ud/md/12udmdia1te9-koqhz4j2cpeaqm.png" width="400"></div><br><p>  Überschüssige Dateien können aus dem Projekt gelöscht werden. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5f/1e/ql/5f1eqls9euqc1ukmddwaym1ev3e.png" width="400"></div><br><p>  Im Code erhalten wir die lokalisierte Zeichenfolge und übergeben sie als Parameter <strong>categorySummaryFormat</strong> : </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> summary = <span class="hljs-type"><span class="hljs-type">NSString</span></span>.localizedUserNotificationString(forKey: <span class="hljs-string"><span class="hljs-string">"NOTIFICATION_SUMMARY"</span></span>, arguments: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> category = <span class="hljs-type"><span class="hljs-type">UNNotificationCategory</span></span>(identifier: <span class="hljs-string"><span class="hljs-string">"Cat-Category"</span></span>, actions: actions, intentIdentifiers: [<span class="hljs-string"><span class="hljs-string">"all-cats"</span></span>, <span class="hljs-string"><span class="hljs-string">"3-star-cats"</span></span>], hiddenPreviewsBodyPlaceholder: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, categorySummaryFormat: summary, options: [])</code> </pre> <br><p>  Als Ergebnis erhalten wir eine hervorragende Anwendungslokalisierung. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/db/39/rb/db39rbutt3ygp3adnbmkzc2qfcg.png" width="300"></div><br><p>  Das für den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">letzten Artikel</a> erstellte Projekt wurde aktualisiert, der Code ist auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github</a> zu finden.  Zwei Berichte auf der WWDC <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">befassten</a> sich mit der Implementierung von Benachrichtigungen: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was ist neu in Benutzerbenachrichtigungen</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verwenden gruppierter Benachrichtigungen?</a>  Wir werden die Innovationen auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MBLT DEV 2018</a> am 28. September in Moskau diskutieren können. </p><br><p>  Schöne Woche!  ^ _ ^ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de416439/">https://habr.com/ru/post/de416439/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de416429/index.html">Beabsichtigte Gestaltungsprinzipien für Jakarta EE</a></li>
<li><a href="../de416431/index.html">Die besten Blockchain-Projekte. ICO Juli 2018 (Abstimmung)</a></li>
<li><a href="../de416433/index.html">Fragen Sie Ethan: Können Strahlungsverluste von Sternen dunkle Energie erklären?</a></li>
<li><a href="../de416435/index.html">Warum ist das menschliche Gehirn so effektiv?</a></li>
<li><a href="../de416437/index.html">Gibt es genug Chemikalien auf den eisigen Welten, um das Leben dort zu erhalten?</a></li>
<li><a href="../de416441/index.html">Tonhöhenverfolgung oder Bestimmung der Tonhöhenfrequenz in der Sprache am Beispiel von Praat, YAAPT und YIN</a></li>
<li><a href="../de416443/index.html">9 Geheimnisse von ASP.NET Core</a></li>
<li><a href="../de416445/index.html">Skillbox-Webinare: die interessantesten - kostenlos</a></li>
<li><a href="../de416449/index.html">.NET Core + Docker auf Raspberry Pi. Ist das legal?</a></li>
<li><a href="../de416451/index.html">Microsoft Research-Datenbanken jetzt für alle verfügbar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>