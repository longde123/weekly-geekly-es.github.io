<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ฟ ๐จ๐ฟโ๐คโ๐จ๐ฝ ๐๐ฟ ุงููููุงุช ุงููุญููุฉ ุนูุฏ ุชุฑููุฉ ุชุทุจูู ุฅูู Kubernetes ๐ค โธ๏ธ โฑ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุนูุฏ ุฅูุดุงุก ุนูููุฉ CI / CD ุจุงุณุชุฎุฏุงู Kubernetes ุ ุชูุฌุฏ ุฃุญูุงููุง ูุดููุฉ ุนุฏู ุชูุงูู ูุชุทูุจุงุช ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุฌุฏูุฏุฉ ูุงูุชุทุจูู ุงูููููู ุฅูููุง. ุนูู ูุฌู ุงูุฎุตูุต ุ ูู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงููููุงุช ุงููุญููุฉ ุนูุฏ ุชุฑููุฉ ุชุทุจูู ุฅูู Kubernetes</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/471582/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/bx/1x/lp/bx1xlp1iax5bfqfwuggugmedkkq.png"><br><br>  ุนูุฏ ุฅูุดุงุก ุนูููุฉ CI / CD ุจุงุณุชุฎุฏุงู Kubernetes ุ ุชูุฌุฏ ุฃุญูุงููุง ูุดููุฉ ุนุฏู ุชูุงูู ูุชุทูุจุงุช ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุฌุฏูุฏุฉ ูุงูุชุทุจูู ุงูููููู ุฅูููุง.  ุนูู ูุฌู ุงูุฎุตูุต ุ ูู ูุฑุญูุฉ ุชุฌููุน ุงูุชุทุจููุงุช ุ ูู ุงูููู ุงูุญุตูู ุนูู ุตูุฑุฉ <i>ูุงุญุฏุฉ</i> ุณูุชู ุงุณุชุฎุฏุงููุง ูู <i>ุฌููุน</i> ุจูุฆุงุช ุงููุดุฑูุน ููุฌููุนุงุชู.  ูุฑุชูุฒ ูุฐุง ุงููุจุฏุฃ ุนูู ุงูุฅุฏุงุฑุฉ ุงูุตุญูุญุฉ ููุญุงููุงุช ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑุฃู Google</a> (ููุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงู</a> techdir ูุฐุง ุฃูุซุฑ ูู ูุฑุฉ). <br><br>  ููุน ุฐูู ุ ูู ุชูุงุฌุฆ ุฃู ุดุฎุต ุจููุงูู ุนูุฏ ุงุณุชุฎุฏุงู ุฅุทุงุฑ ุฌุงูุฒ ูู ููุฏ ุงููููุน ุ ูุงูุฐู ููุฑุถ ุงุณุชุฎุฏุงูู ูููุฏูุง ุนูู ุชุดุบููู ุงูุฅุถุงูู.  ูุฅุฐุง ูุงู ูู ุงูุณูู ุงูุชุนุงูู ูุนูุง ูู "ุจูุฆุฉ ุทุจูุนูุฉ" ุ ูู Kubernetes ุ ูููู ุฃู ูููู ูุฐุง ุงูููุน ูู ุงูุณููู ูุดููุฉ ุ ูุง ุณููุง ุนูุฏ ููุงุฌูุชู ูุฃูู ูุฑุฉ.  ุนูู ุงูุฑุบู ูู ุฃู ุงูุนูู ุงููุจุชูุฑ ูุงุฏุฑ ุนูู ุชูุฏูู ุญููู ููุจููุฉ ุงูุชุญุชูุฉ ุชุจุฏู ูุงุถุญุฉ ูุญุชู ุฌูุฏุฉ ุฌุฏูุง ูููููุฉ ุงูุฃููู ... ูู ุงูููู ุฃู ูุชุฐูุฑ ุฃู ูุนุธู ุงูููุงูู ูููู ููุฌุจ <b>ุญููุง ูุนูุงุฑูุง</b> . <br><br>  ุฏุนูุง ูุญูู ุงูุญููู ุงูุดุงุฆุนุฉ ูุญู ุชุฎุฒูู ุงููููุงุช ุ ูุงูุชู ูููู ุฃู ุชุคุฏู ุฅูู ุนูุงูุจ ุบูุฑ ุณุงุฑุฉ ุฃุซูุงุก ุชุดุบูู ุงููุชูุฉ ุ ููุดูุฑ ุฃูุถูุง ุฅูู ูุณุงุฑ ุฃูุซุฑ ุตุญุฉ. <a name="habracut"></a><br><br><h2 style=";text-align:right;direction:rtl">  ุชุฎุฒูู ุซุงุจุช </h2><br>  ููุชูุถูุญ ุ ุถุน ูู ุงุนุชุจุงุฑู ุชุทุจูู ููุจ ูุณุชุฎุฏู ููุดุฆ ุซุงุจุช ููุญุตูู ุนูู ูุฌููุนุฉ ูู ุงูุตูุฑ ูุงูุฃููุงุท ูุงููุฒูุฏ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุญุชูู ุฅุทุงุฑ Yii PHP ุนูู ูุฏูุฑ ุฃุตูู ูุฏูุฌ ูููู ุจุฅูุดุงุก ุฃุณูุงุก ุฏููู ูุฑูุฏุฉ.  ููููุง ูุฐูู ุ ูููู ุงูุฅุฎุฑุงุฌ ุนุจุงุฑุฉ ุนู ูุฌููุนุฉ ูู ุงููุณุงุฑุงุช ุบูุฑ ุงููุชูุงุทุนุฉ ุงููุชุนูุฏุฉ ูุฅุญุตุงุฆูุงุช ุงููููุน (ุชู ุฐูู ูุนุฏุฉ ุฃุณุจุงุจ - ุนูู ุณุจูู ุงููุซุงู ุ ูุฅุฒุงูุฉ ุงูุชูุฑุงุฑุงุช ุนูุฏ ุงุณุชุฎุฏุงู ููุณ ุงูููุฑุฏ ูุน ุงูุนุฏูุฏ ูู ุงูููููุงุช).  ูุฐูู ุ ุฎุงุฑุฌ ุงูุตูุฏูู ุ ุนูุฏ ุงููุตูู ุฅูู ูุญุฏุฉ ููุงุฑุฏ ุงูููุจ ูุฃูู ูุฑุฉ ุ ูุชู ุชุดููู ุงูุฅุญุตุงุฆูุงุช ูุชุฎุทูุทูุง (ูู ุงููุงูุน ุ ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุงูุงุฑุชุจุงุทุงุช ุ ูููู ุงููุฒูุฏ ุนู ุฐูู ูุงุญููุง) ูุน ุฏููู ุฌุฐุฑ ุดุงุฆุน ูุฑูุฏ ููุฐุง ุงููุดุฑ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>webroot/assets/2072c2df/css/โฆ</code> </li> <li style=";text-align:right;direction:rtl"> <code>webroot/assets/2072c2df/images/โฆ</code> </li> <li style=";text-align:right;direction:rtl"> <code>webroot/assets/2072c2df/js/โฆ</code> </li> </ul><br>  ูุง ูู ูุฐุง ูุญููู ูู ุญูุซ ุงููุชูุฉุ <br><br><h3 style=";text-align:right;direction:rtl">  ูุซุงู ุฃุจุณุท </h3><br>  ููุฃุฎุฐ ุญุงูุฉ ุดุงุฆุนุฉ ุฅูู ุญุฏ ูุง ุนูุฏูุง ููุงุฌู PHP nginx ูุชูุฒูุน ุงูุฅุญุตุงุฆูุงุช ููุนุงูุฌุฉ ุงูุงุณุชุนูุงูุงุช ุงูุจุณูุทุฉ.  ุฃุณูู ุทุฑููุฉ ูู <i>ุงููุดุฑ</i> ุจุงุณุชุฎุฏุงู ุญุงููุชูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: apps/v1 kind: Deployment metadata: name: site spec: selector: matchLabels: component: backend template: metadata: labels: component: backend spec: volumes: - name: nginx-config configMap: name: nginx-configmap containers: - name: php image: own-image-with-php-backend:v1.0 command: ["/usr/local/sbin/php-fpm","-F"] workingDir: /var/www - name: nginx image: nginx:1.16.0 command: ["/usr/sbin/nginx", "-g", "daemon off;"] volumeMounts: - name: nginx-config mountPath: /etc/nginx/conf.d/default.conf subPath: nginx.conf</code> </pre> <br>  ูู ูููุฐุฌ ูุจุณุท ุ ูุชูุฎุต ุชูููู nginx ูู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: v1 kind: ConfigMap metadata: name: "nginx-configmap" data: nginx.conf: | server { listen 80; server_name _; charset utf-8; root /var/www; access_log /dev/stdout; error_log /dev/stderr; location / { index index.php; try_files $uri $uri/ /index.php?$args; } location ~ \.php$ { fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; include fastcgi_params; } }</code> </pre> <br>  ุนูุฏ ุงููุตูู ุฅูู ุงููููุน ูุฃูู ูุฑุฉ ูู ุญุงููุฉ ุจูุง PHP ุ ุชุธูุฑ ุงูุฃุตูู.  ูููู ูู ุญุงูุฉ ูุฌูุฏ ุญุงููุชูู ุฏุงุฎู ููุณ ุงูุญุงูุธุฉ ุ ูุฅู nginx ูุง ูุนุฑู ุดูุฆูุง ุนู ูุฐู ุงููููุงุช ุงูุซุงุจุชุฉ ุ ูุงูุชู (ููููุง ููุชููุฆุฉ) ููุจุบู ุฅุนุทุงุคูุง.  ูุชูุฌุฉ ูุฐูู ุ ุณูุดุงูุฏ ุงูุนููู ุงูุฎุทุฃ 404 ูุฌููุน ุงูุทูุจุงุช ุนูู ูููุงุช CSS ู JS. ุฃุจุณุท ุงูุญููู ููุง ูู ุชูุธูู ุฏููู ูุดุชุฑู ููุญุงููุงุช.  ุงูุฎูุงุฑ ุงูุจุฏุงุฆู ูู ุนุงู <code>emptyDir</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: apps/v1 kind: Deployment metadata: name: site spec: selector: matchLabels: component: backend template: metadata: labels: component: backend spec: volumes: - name: assets emptyDir: {} - name: nginx-config configMap: name: nginx-configmap containers: - name: php image: own-image-with-php-backend:v1.0 command: ["/usr/local/sbin/php-fpm","-F"] workingDir: /var/www volumeMounts: - name: assets mountPath: /var/www/assets - name: nginx image: nginx:1.16.0 command: ["/usr/sbin/nginx", "-g", "daemon off;"] volumeMounts: - name: assets mountPath: /var/www/assets - name: nginx-config mountPath: /etc/nginx/conf.d/default.conf subPath: nginx.conf</code> </pre> <br>  ุงูุขู ูุชู ุชูููุฑ ุงููููุงุช ุงูุซุงุจุชุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุงูุญุงููุฉ ุจูุงุณุทุฉ nginx ุจุดูู ุตุญูุญ.  ููู ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑูู ุจุฃู ูุฐุง ูู ุงูุญู ุงูุจุฏุงุฆู ุ ููุง ูุนูู ุฃูู ุจุนูุฏ ุนู ุงููุซุงููุฉ ููุฏูู ูุฑููู ูุฃูุฌู ุงููุตูุฑ ุงูุฎุงุตุฉ ุจู ุ ูุงูุชู ุชูุช ููุงูุดุชูุง ุฃุฏูุงู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุฎุฒูู ุฃูุซุฑ ุชูุฏูุง </h3><br>  ุงูุขู ุชุฎูู ูููููุง ุนูุฏูุง ุฒุงุฑ ุฃุญุฏ ุงููุณุชุฎุฏููู ูููุนูุง ุ ูุญูู ุตูุญุฉ ุชุญุชูู ุนูู ุงูุฃููุงุท ุงููุชููุฑุฉ ูู ุงูุญุงููุฉ ุ ูุฃุซูุงุก ูุฑุงุกุชู ููุฐู ุงูุตูุญุฉ ุ ูููุง ุจุฅุนุงุฏุฉ ูุดุฑ ุงูุญุงููุฉ.  ุฃุตุจุญ ุฏููู ุงูุฃุตูู ูุงุฑุบูุง ููุชุทูุจ ุทูุจูุง ุฅูู PHP ูุจุฏุก ุฅูุดุงุก ุฃุฏูุฉ ุฌุฏูุฏุฉ.  ููุน ุฐูู ุ ุญุชู ุจุนุฏ ุฐูู ุ ุณุชููู ุฑูุงุจุท ุงูุฅุญุตุงุฆูุงุช ุงููุฏููุฉ ูุฏููุฉ ุ ููุง ุณูุคุฏู ุฅูู ุฃุฎุทุงุก ูู ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฏููุง ุนูู ุงูุฃุฑุฌุญ ูุดุฑูุน ุชู ุชุญูููู ุจุดูู ุฃู ุจุขุฎุฑ ุ ููุง ูุนูู ุฃู ูุณุฎุฉ ูุงุญุฏุฉ ูู ุงูุชุทุจูู ูู ุชููู ูุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููุงุณ <i>ุงููุดุฑ</i> ุฅูู ูุณุฎุชูู ูุชูุงุซูุชูู. </li><li style=";text-align:right;direction:rtl">  ุนูุฏ ุงููุตูู ุฅูู ุงููููุน ูุฃูู ูุฑุฉ ูู ูุณุฎุฉ ูุชูุงุซูุฉ ูุงุญุฏุฉ ุ ุชู ุฅูุดุงุก ุงูุฃุตูู. </li><li style=";text-align:right;direction:rtl">  ูู ูุฑุญูุฉ ูุง ุ ูุฑุฑ ingress (ูู ุฃุฌู ุชุญููู ุงูุชูุงุฒู ุจูู ุงูุญูู) ุฅุฑุณุงู ุทูุจ ููุญุตูู ุนูู ูุณุฎุฉ ูุชูุงุซูุฉ ุซุงููุฉ ุ ููุฐู ุงูุฃุตูู ููุณุช ููุฌูุฏุฉ ุจุนุฏ.  ุฃู ุฑุจูุง ูู ุชุนุฏ ููุงู ุ ูุฃููุง ูุณุชุฎุฏู <code>RollingUpdate</code> ุญุงูููุง <code>RollingUpdate</code> . </li></ul><br>  ุจุดูู ุนุงู ุ ูุงููุชูุฌุฉ ูู ุงูุฃุฎุทุงุก ูุฑุฉ ุฃุฎุฑู. <br><br>  ููู ูุง ุชููุฏ ุงูุฃุตูู ุงููุฏููุฉ ุ ููููู ุชุบููุฑ <code>emptyDir</code> ุฅูู <code>hostPath</code> ุ ุจุฅุถุงูุฉ ุงูุฅุญุตุงุฆูุงุช ูุนูููุง ุฅูู ุนูุฏุฉ ูุธุงู ุงููุฌููุนุฉ.  ูุฐุง ุงูููุฌ ุณูุฆ ูุฃููุง ูุฌุจ ุฃู <b>ูุฑุจุท</b> ูุนูููุง <b>ุนูุฏุฉ ูุธุงู ูุนูููุฉ</b> ูุน ุงูุชุทุจูู ุงูุฎุงุต ุจูุง ุ ูุฃูู - ูู ุญุงูุฉ ุงูุงูุชูุงู ุฅูู ุนูุฏ ุฃุฎุฑู - ูู ูุญุชูู ุงูุฏููู ุนูู ุงููููุงุช ุงูุถุฑูุฑูุฉ.  ุฃู ุจุนุถ ุงููุฒุงููุฉ ุงูุฎูููุฉ ููุฏููู ุจูู ุงูุนูุฏ ูุทููุจ. <br><br>  ูุง ูู ุงูุญูููุ <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุณูุญุช ุงูุฃุฌูุฒุฉ ูุงูููุงุฑุฏ ุ ููููู ุงุณุชุฎุฏุงู <a href="">cephfs</a> ูุชูุธูู ุฏููู ูููู ุงููุตูู ุฅููู ุนูู <a href="">ูุฏู ุงููุณุงูุงุฉ</a> ูุงุญุชูุงุฌุงุช ุงุญุตุงุฆูุงุช.  ุชูุตู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> ุจูุญุฑูุงุช ุฃูุฑุงุต ุงูุญุงูุฉ ุงูุซุงุจุชุฉ ุ ุนูู ุงูุฃูู ุชูุฑุงุฑ ุซูุงุซ ูุฑุงุช ุ ูุงุชุตุงู ููู "ูุซูู" ุจูู ุนูุฏ ุงููุชูุฉ. </li><li style=";text-align:right;direction:rtl">  ุณูููู ุงูุฎูุงุฑ ุงูุฃูู ุชุทูุจูุง ูู ุชูุธูู ุฎุงุฏู NFS.  ููุน ุฐูู ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุงูุชูููุฑ ูู ุงูุฒูุงุฏุฉ ุงููุญุชููุฉ ูู ููุช ุงูุงุณุชุฌุงุจุฉ ููุนุงูุฌุฉ ุงูุทูุจุงุช ูู ุฎุงุฏู ุงูููุจ ุ ูุณูู ูุชุฑู ุงูุชุณุงูุญ ูุน ุงูุฃุฎุทุงุก ุงููุซูุฑ ููุง ูู ูุฑุบูุจ ููู.  ุฅู ุนูุงูุจ ุงููุดู ูุงุฑุซูุฉ: ููุฏุงู ุงูุฌุจู ูุฏูุฑ ุงููุชูุฉ ุญุชู ุงูููุช ุชุญุช ูุทุฃุฉ ูุฌูู ููุณ ุฃูุฌููุณ ุงูุฐู ููุฏูุน ุฅูู ุงูุณูุงุก. </li></ol><br>  ูู ุจูู ุฃุดูุงุก ุฃุฎุฑู ุ ุจุงููุณุจุฉ ูุฌููุน ุงูุฎูุงุฑุงุช ูุฅูุดุงุก ุชุฎุฒูู ูุณุชูุฑ ุ ุณุชููู ููุงู ุญุงุฌุฉ <b>ูุชูุธูู ุงูุฎูููุฉ</b> ููุฌููุนุงุช ุงููููุงุช ุงููุฏููุฉ ุงููุชุฑุงููุฉ ุฎูุงู ูุชุฑุฉ ุฒูููุฉ ูุนููุฉ.  ูุจู ุงูุญุงููุงุช ุจุงุณุชุฎุฏุงู PHP ุ ููููู ูุถุน <i>DaemonSet</i> ูู ุงูุชุฎุฒูู ุงููุคูุช nginx ุ ูุงูุฐู ุณูุฎุฒู ูุณุฎูุง ูู ุงูุฃุตูู ููุชุฑุฉ ูุญุฏูุฏุฉ.  ูููู ุชูููู ูุฐุง ุงูุณููู ุจุณูููุฉ ุจุงุณุชุฎุฏุงู <code>proxy_cache</code> ูุน ุนูู ุงูุชุฎุฒูู ูู ุงูุฃูุงู ุฃู ุบูุบุง ุจุงูุช ูู ูุณุงุญุฉ ุงููุฑุต. <br><br>  ุฅู ุงูุฌูุน ุจูู ูุฐู ุงูุทุฑููุฉ ูุฃูุธูุฉ ุงููููุงุช ุงูููุฒุนุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ูููุฑ ูุฌุงููุง ูุจูุฑูุง ููุฎูุงู ุ ูููุฏูุง ููุท ูู ุงูููุฒุงููุฉ ูุงูุฅููุงูุงุช ุงูุชูููุฉ ูุฃููุฆู ุงูุฐูู ุณูููุฐูููุง ููุฏุนููููุง.  ูู ุงูุชุฌุฑุจุฉ ุ ูููู ุฃูู ูููุง ูุงู ุงููุธุงู ุฃูุซุฑ ุจุณุงุทุฉ ุ ูุงู ูุนูู ุฃูุซุฑ ุงุณุชูุฑุงุฑูุง.  ูุน ุฅุถุงูุฉ ูุฐู ุงูุทุจูุงุช ุ ูุตุจุญ ุงูุญูุงุธ ุนูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุฃูุซุฑ ุตุนูุจุฉ ุ ููู ุงูููุช ููุณู ุ ูุฒูุฏ ุงูููุช ุงูุฐู ููุถูู ูู ุงูุชุดุฎูุต ูุงูุดูุงุก ูู ุญุงูุฉ ุญุฏูุซ ุฃู ุฃุนุทุงู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุตูุฉ </h3><br>  ุฅุฐุง ุจุฏุง ุฃูุถูุง ุฃู ุชูููุฐ ุฎูุงุฑุงุช ุงูุชุฎุฒูู ุงูููุชุฑุญุฉ ุบูุฑ ูุจุฑุฑ ูู (ูุนูุฏ ููููู ...) ุ ูุนููู ุฃู ุชูุธุฑ ุฅูู ุงููููู ูู ุงูุฌุงูุจ ุงูุขุฎุฑ.  ููู ุ ุญูุฑ ูู ุจููุฉ ุงููุดุฑูุน <b>ูุงููุถุงุก ุนูู ุงููุดููุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู</b> ุฎูุงู ุฑุจุท ุจุนุถ ุจููุฉ ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ ูู ุงูุตูุฑุฉ ุ ุชูุฏูู ุชุนุฑูู ูุง ูุจุณ ููู ูููุญุชููุงุช ุฃู ุฅุฌุฑุงุก "ุงูุงุญูุงุก" ู / ุฃู ุชุฌููุน ุงูุฃุตูู ูู ูุฑุญูุฉ ุชุฌููุน ุงูุตูุฑุฉ.  ูุฐูู ูุญุตู ุนูู ุณููู ูููู ุงูุชูุจุค ุจู ุชูุงููุง ูููุณ ูุฌููุนุฉ ุงููููุงุช ูุฌููุน ุงูุจูุฆุงุช ูุงููุณุฎ ุงููุชูุงุซูุฉ ููุชุทุจูู ููุฏ ุงูุชุดุบูู. <br><br>  ุฅุฐุง ุนุฏูุง ุฅูู ูุซุงู ูุญุฏุฏ ุจุงุณุชุฎุฏุงู ุฅุทุงุฑ Yii ููู ูุชุนูู ูู ุจููุชู (ููู ููุณ ุบุฑุถ ุงูููุงู) ุ ููุฐุง ูููู ููุฅุดุงุฑุฉ ุฅูู ููุฌูู ุดุงุฆุนูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุจุชุนุฏูู ุนูููุฉ ุชุฌููุน ุงูุตูุฑุฉ ุจุญูุซ ูุชู ูุถุน ุงูุฃุตูู ูู ููุงู ูููู ุงูุชูุจุค ุจู.  ูุฐุง ุ ูุฏู / ููุฐ ูู ููุญูุงุช ูุซู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃุตูู ุงูุซุงุจุชุฉ yii2</a> . </li><li style=";text-align:right;direction:rtl">  ุญุฏุฏ ุชุฌุฒุฆุงุช ูุญุฏุฏุฉ ูุฃุฏูุฉ ุงูุฃุตูู ุ ููุง ูู ููุถุญ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง ุงูุนุฑุถ ุงูุชูุฏููู</a> (ุจุฏุกูุง ุจุงูุดุฑูุญุฉ 35).  ุจุงูููุงุณุจุฉ ุ ููุตุญ ูุคูู ุงูุชูุฑูุฑ ูู ุงูููุงูุฉ (ูููุณ ุจุฏูู ุณุจุจ!) ุ ุจุนุฏ ุชุฌููุน ุงูุฃุตูู ุงูููุฌูุฏุฉ ุนูู ุฎุงุฏู ุงูุฅูุดุงุก ุ ุจุชุญููููุง ุฅูู ูุณุชูุฏุน ูุฑูุฒู (ูุซู S3) ุ ุฃูุงูู ูุถุน CDN. </li></ol><br><h2 style=";text-align:right;direction:rtl">  ูููุงุช ูุงุจูุฉ ููุชุญููู </h2><br>  ุญุงูุฉ ุฃุฎุฑู ุณุชุทูู ุงููุงุฑ ุจุงูุชุฃููุฏ ุนูุฏ ููู ุชุทุจูู ุฅูู ูุชูุฉ Kubernetes ููู ุชุฎุฒูู ูููุงุช ุงููุณุชุฎุฏู ูู ูุธุงู ุงููููุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏููุง ูุฑุฉ ุฃุฎุฑู ุชุทุจูู PHP ููุจู ุงููููุงุช ุนุจุฑ ูููุฐุฌ ุงูุชุญููู ุ ูููุนู ุดูุฆูุง ูุนูู ูู ูุฐู ุงูุนูููุฉ ููุนูุฏูุง. <br><br>  ูุฌุจ ุฃู ูููู ุงูููุงู ุงูุฐู ูุฌุจ ูุถุน ูุฐู ุงููููุงุช ููู ูู ุญูุงุฆู Kubernetes ุดุงุฆุนูุง ูู ุฌููุน ุงููุณุฎ ุงููุชูุงุซูุฉ ููุชุทุจูู.  ุจูุงุกู ุนูู ุชุนููุฏ ุงูุชุทุจูู ูุงูุญุงุฌุฉ ุฅูู ุชูุธูู ุซุจุงุช ูุฐู ุงููููุงุช ุ ูุฏ ูููู ูุฐุง ุงูููุงู ุจูุซุงุจุฉ ุฎูุงุฑุงุช ููุฃุฌูุฒุฉ ุงููุดุชุฑูุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ุ ูููู ุ ููุง ูุฑู ุ ููุง ุนููุจูุง. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุตูุฉ </h3><br>  ุฃุญุฏ ุงูุญููู ูู <b>ุงุณุชุฎุฏุงู ูุญุฏุฉ ุชุฎุฒูู ูุชูุงููุฉ ูุน S3</b> (ุญุชู ูู ูุงู ููุงู ููุน ูู ุงููุฆุงุช ุงููุณุชุถุงูุฉ ุฐุงุชููุง ูุซู minio).  ุณูุชุทูุจ ุงูุงูุชูุงู ุฅูู ุงูุนูู ูุน S3 ุชุบููุฑุงุช <i>ุนูู ูุณุชูู ุงูุฑูุฒ</i> ุ ููุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชุจูุง</a> ุจุงููุนู ููู ุณูุชู ุฅุฑุฌุงุน ุงููุญุชูู ุนูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุฌูุณุงุช ูุฎุตุตุฉ </h2><br>  ุจุดูู ูููุตู ุ ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุชูุธูู ุชุฎุฒูู ุฌูุณุงุช ุงููุณุชุฎุฏู.  ุบุงูุจูุง ูุง ุชููู ูุฐู ุฃูุถูุง ูููุงุช ุนูู ุงููุฑุต ุ ูุงูุชู ูู ุณูุงู Kubernetes ุ ุณุชุคุฏู ุฅูู ุทูุจุงุช ุชุฑุฎูุต ูุณุชูุฑุฉ ูู ุงููุณุชุฎุฏู ุฅุฐุง ููุน ุทูุจู ูู ุญุงููุฉ ุฃุฎุฑู. <br><br>  ูุชู ุญู ุฌุฒุก ูู ุงููุดููุฉ ูู ุฎูุงู ุชุถููู <code>stickySessions</code> on ingress <i>(ูุชู ุฏุนู ุงูููุฒุฉ ูู ุฌููุน ูุญุฏุงุช ุงูุชุญูู ูู ingress ุงูุดุงุฆุนุฉ - ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฑุงุฌุนุชูุง</a> ููุฒูุฏ ูู ุงูุชูุงุตูู) ูู</i> ุฃุฌู ุฑุจุท ุงููุณุชุฎุฏู ุจูุฑูุฉ ูุนููุฉ ูุน ุงูุชุทุจูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1beta1 kind: Ingress metadata: name: nginx-test annotations: nginx.ingress.kubernetes.io/affinity: "cookie" nginx.ingress.kubernetes.io/session-cookie-name: "route" nginx.ingress.kubernetes.io/session-cookie-expires: "172800" nginx.ingress.kubernetes.io/session-cookie-max-age: "172800" spec: rules: - host: stickyingress.example.com http: paths: - backend: serviceName: http-svc servicePort: 80 path: /</code> </pre> <br>  ูููู ูุฐุง ูู ูููุฐู ูู ุนูููุงุช ุงููุดุฑ ุงููุชูุฑุฑุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุตูุฉ </h3><br>  ุชุชูุซู ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุตุญุฉ ูู ููู ุงูุชุทุจูู ุฅูู <b>ุชุฎุฒูู ุงูุฌูุณุงุช ูู memcached ู Redis ูุงูุญููู ุงูููุงุซูุฉ</b> - ุจุดูู ุนุงู ุ ุงูุชุฎูู ุนู ุฎูุงุฑุงุช ุงูููู ุชูุงููุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br>  ุชุนุชุจุฑ ุญููู ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุชู ุชู ุงููุธุฑ ูููุง ูู ุงููุต ุฌุฏูุฑุฉ ุจุงูุชุทุจูู ููุท ุจุชูุณูู "ุนูุงุฒุงุช" ูุคูุชุฉ (ูุงูุชู ุชุจุฏู ุฃูุซุฑ ุฌูุงููุง ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ูุญู ุจุฏูู).  ูุฏ ุชููู ุฐุงุช ุตูุฉ ูู ุงููุฑุงุญู ุงููุจูุฑุฉ ูู ุชุฑุญูู ุงูุชุทุจูู ุฅูู Kubernetes ุ ููู ูุฌุจ ุฃูุง ุชููู "ูุชุฌุฐุฑุฉ". <br><br>  ุงูุทุฑููุฉ ุงูุนุงูุฉ ุงูููุตู ุจูุง ูู ุงูุชุฎูุต ูููุง ูุตุงูุญ ุงูุชุญุณูู ุงููุนูุงุฑู ููุชุทุจูู ุจูุง ูุชูุงูู ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุทุจูู 12-Factor</a> ุงููุนุฑูู ุจุงููุนู.  ููุน ุฐูู ุ ูุฅู ูุฐุง - ุฌูุจ ุงูุชุทุจูู ุฅูู ูููุฐุฌ ุนุฏูู ุงูุฌูุณูุฉ - ูุนูู ุญุชูุง ุฃู ุงูุชุบููุฑุงุช ูู ุงูููุฏ ุณุชููู ูุทููุจุฉ ุ ููู ุงูููู ุฅูุฌุงุฏ ุชูุงุฒู ุจูู ูุฏุฑุงุช / ูุชุทูุจุงุช ุงูุนูู ูุขูุงู ุชูููุฐ ุงููุณุงุฑ ุงููุฎุชุงุฑ ูุงูุญูุงุธ ุนููู. <br><br><h2 style=";text-align:right;direction:rtl">  PS </h2><br>  ุงูุฑุฃ ุฃูุถูุง ูู ูุฏููุชูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Proxing files from AWS S3 ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช nginx</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">7 ุฃูุถู ุงูููุงุฑุณุงุช ูุชุดุบูู ุงูุญุงููุงุช ููููุง ูู Google</a> " ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">7 ูุจุงุฏุฆ ูุชุตููู ุงูุชุทุจููุงุช ุงููุงุฆูุฉ ุนูู ุงูุญุงููุงุช</a> " <i>(ูู ุฑูุฏ ูุงุช)</i> ุ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">7 ุนูุงูู ููููุฏุฉ ูู ููุฌ ุชุทุจูู 12 ุนุงูู</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar471582/">https://habr.com/ru/post/ar471582/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar471570/index.html">ุงูููุงุชู ุงูุฐููุฉ ุงููุฌุฏุฏุฉ: ุงูุฑุจุญ ุฃู ุงูุฎุฏุงุนุ</a></li>
<li><a href="../ar471572/index.html">ุทูุจุงุช API ูุชุนุฏุฏุฉ ุจุงุณุชุฎุฏุงู mergeMap ู forkJoin ุจุฏูุงู ูู ุงูุงุดุชุฑุงู</a></li>
<li><a href="../ar471574/index.html">ูุงุนุฏุฉ ุจูุงูุงุช Oracle 19c: ุงูุงุฎุชูุงูุงุช ุงูุฃุณุงุณูุฉ ุนู ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ</a></li>
<li><a href="../ar471576/index.html">ููู ุชููู QA ุจุจูุงุก ุชูุงุนู ูุนุงู ูุน ุงููุทูุฑูู. ุทุฑููุฉ ูุงุญุฏุฉ ููููุฉ</a></li>
<li><a href="../ar471580/index.html">ูุคุชูุฑ ููุทูุฑู ุงูููุตุงุช ูู Stripe ู Intercom ู JetBrains ู Miro ู ManyChat ู Wrike ู Targetprocess ุ ุฅูุฎ.</a></li>
<li><a href="../ar471588/index.html">ุงูุฅูุชุฑูุช ุงูุตูุงุนู ููุฃุดูุงุก: ุงูุญุฏูุซ ุนู ุงูุญุงูุงุช ุงููุงุฌุญุฉ</a></li>
<li><a href="../ar471590/index.html">ุงูุฃุดูุฑ ุงูุณุชุฉ ุงูุฃููู ููุงุฆุฏ ูููุฑูู: ููู ูุง ูุฌููู ุฅุฐุง ูุงู ูู ุดูุก ูุจุฏู ุณูุฆูุง</a></li>
<li><a href="../ar471592/index.html">ูู ูุนุฏ ูุธุงู ุงูุชุดุบูู MacOS 10.15 ูุฏุนู ุชุทุจููุงุช 32 ุจุช. ูุงุฐุง ููููู ุงู ุชูุนูุ</a></li>
<li><a href="../ar471594/index.html">ุฎุท ุจููุงุฒ ูุงุฒุงุฎุณุชุงู ูุณูุฑู ููููุงู ุจู ุฏู ูุงูู ุฏูููุจุฒ ูู ุฃููุงุชู ูููู 6 ู 7 ููููุจุฑ</a></li>
<li><a href="../ar471596/index.html">MacOS 10.15 ูู ูุนุฏ ูุฏุนู ุชุทุจููุงุช 32 ุจุช. ูุงุฐุง ููููู ุงู ุชูุนูุ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>