<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õÑÔ∏è ü¶Ç üë©üèΩ‚Äçüîß Wir formulieren eine Strategie f√ºr die Arbeit mit Fehlern in React üóΩ üëßüèª üêú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wie mache ich den Herbst weich? 


 Ich habe keine umfassende Anleitung zur Fehlerbehandlung in React-Anwendungen gefunden und daher beschlossen, die ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir formulieren eine Strategie f√ºr die Arbeit mit Fehlern in React</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476284/"><h2>  Wie mache ich den Herbst weich? </h2><br><img src="https://habrastorage.org/webt/74/fa/c-/74fac--ati8ide9e4o946p1r-4g.jpeg"><br><br>  Ich habe keine umfassende Anleitung zur Fehlerbehandlung in React-Anwendungen gefunden und daher beschlossen, die in diesem Artikel gesammelten Erfahrungen zu teilen.  Der Artikel richtet sich an Einsteiger-Entwickler und kann als Ausgangspunkt f√ºr die Systematisierung der Fehlerbehandlung in der Anwendung dienen. <br><a name="habracut"></a><br><h3>  Probleme und Zielsetzung </h3><br>  Montagmorgen trinkst du ruhig Kaffee und r√ºhmst dich, dass du mehr Fehler behoben hast als letzte Woche. Dann kommt der Manager und winkt mit den H√§nden. "Wir sind abgefallen, alles ist sehr traurig, wir verlieren Geld."  Sie starten und √∂ffnen Ihren Mac, wechseln zur Produktionsversion Ihres SPA, machen ein paar Klicks, um den Fehler zu spielen, sehen den wei√üen Bildschirm und nur der Allm√§chtige wei√ü, was dort passiert ist, klettern in die Konsole, beginnen zu graben, innerhalb der Komponente t gibt es eine Komponente mit dem sprechenden Namen b, in dem der Fehler die Eigenschaft getId von undefined nicht lesen kann.  Nach stundenlanger Recherche st√ºrzen Sie sich mit einem Siegesschrei auf den Hotfix.  Solche √úberf√§lle kommen mit einiger H√§ufigkeit vor und sind zur Norm geworden, aber was ist, wenn ich sage, dass alles anders sein kann?  Wie kann die Zeit f√ºr das Debuggen von Fehlern verk√ºrzt und der Prozess so aufgebaut werden, dass der Client w√§hrend der Entwicklung praktisch keine unvermeidlichen Fehlkalkulationen bemerkt? <br><br>  <b>Lassen Sie uns die aufgetretenen Probleme der Reihe nach untersuchen:</b> <br><br><ol><li>  <u>Selbst wenn der Fehler im Modul nicht signifikant oder lokalisiert ist, wird die gesamte Anwendung in jedem Fall funktionsunf√§hig</u> <br>  Vor Version 16 von React verf√ºgten Entwickler nicht √ºber einen einzigen standardm√§√üigen Fehlerbehebungsmechanismus, und es gab Situationen, in denen Datenbesch√§digungen nur in den n√§chsten Schritten zu einem R√ºckgang des Renderns oder zu einem ungew√∂hnlichen Anwendungsverhalten f√ºhrten.  Jeder Entwickler handhabte Fehler, weil er daran gew√∂hnt war, und das imperative Modell mit try / catch passte im Allgemeinen nicht gut zu den deklarativen Prinzipien von React.  In Version 16 erschien das Tool "Fehlergrenzen", mit dem versucht wurde, diese Probleme zu l√∂sen. Wir werden √ºberlegen, wie es angewendet werden soll. </li><li>  <u>Der Fehler wird nur in der Produktionsumgebung reproduziert oder kann ohne zus√§tzliche Daten nicht reproduziert werden.</u> <br>  In einer idealen Welt entspricht die Entwicklungsumgebung der Produktion und wir k√∂nnen jeden Fehler lokal reproduzieren, aber wir leben in der realen Welt.  Es gibt keine Debugging-Tools im Kampfsystem.  Es ist schwierig und nicht produktiv, solche Vorf√§lle aufzudecken. Grunds√§tzlich m√ºssen Sie sich mit verschleiertem Code und dem Mangel an Informationen √ºber den Fehler auseinandersetzen und nicht mit dem Wesen des Problems.  Wir werden die Frage, wie die Bedingungen der Entwicklungsumgebung an die Produktionsbedingungen angeglichen werden sollen, nicht ber√ºcksichtigen. Wir werden jedoch Tools ber√ºcksichtigen, mit denen Sie detaillierte Informationen zu aufgetretenen Vorf√§llen erhalten. </li></ol><br>  All dies verringert die Geschwindigkeit der Entwicklung und die Bindung der Benutzer an das Softwareprodukt. Deshalb habe ich mir die drei wichtigsten Ziele gesetzt: <br><br><ol><li>  Verbessern Sie die Benutzererfahrung mit der Anwendung im Falle von Fehlern. </li><li>  Reduzieren Sie die Zeit zwischen dem Einstieg in die Produktion und der Erkennung des Fehlers. </li><li>  Beschleunigen Sie das Auffinden und Debuggen von Problemen in der Anwendung f√ºr den Entwickler. </li></ol><br>  <b>Welche Aufgaben m√ºssen gel√∂st werden?</b> <br><br><ol><li>  <u>Behandeln Sie kritische Fehler mit Error Boundary</u> <br>  Um die Benutzerfreundlichkeit der Anwendung zu verbessern, m√ºssen kritische Benutzeroberfl√§chenfehler abgefangen und verarbeitet werden.  In dem Fall, in dem die Anwendung aus unabh√§ngigen Komponenten besteht, erm√∂glicht eine solche Strategie dem Benutzer, mit dem Rest des Systems zu arbeiten.  Wenn m√∂glich, k√∂nnen wir auch versuchen, die Anwendung nach einem Absturz wiederherzustellen. <br></li><li>  <u>Speichern Sie erweiterte Fehlerinformationen</u> <br>  Wenn ein Fehler auftritt, senden Sie Debugging-Informationen an den √úberwachungsserver, der Informationen zu Vorf√§llen filtert, speichert und anzeigt.  Dies hilft uns, Fehler nach der Bereitstellung schnell zu erkennen und zu beheben. <br></li></ol><br>  <b>Kritische Fehlerbehandlung</b> <br><br>  Ab Version 16 hat React das Standardverhalten bei der Fehlerbehandlung ge√§ndert.  Ausnahmen, die mit Error Boundary nicht abgefangen wurden, f√ºhren dazu, dass die Bereitstellung des gesamten React-Baums aufgehoben wird und die gesamte Anwendung nicht mehr funktioniert.  Diese Entscheidung wird durch die Tatsache begr√ºndet, dass es besser ist, nichts zu zeigen, als dem Benutzer die M√∂glichkeit zu geben, ein unvorhersehbares Ergebnis zu erzielen.  Weitere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Informationen</a> finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offiziellen Dokumentation zu React</a> . <br><br><img src="https://habrastorage.org/webt/jz/-o/ik/jz-oik4v7a3skcbdxn_pttvugq8.png"><br><br>  Viele sind auch verwirrt √ºber den Hinweis, dass die Fehlergrenze keine Fehler von Ereignishandlern und asynchronem Code abf√§ngt. Wenn Sie jedoch dar√ºber nachdenken, kann jeder Handler letztendlich den Status √§ndern, auf dessen Grundlage ein neuer Renderzyklus aufgerufen wird, der letztendlich ausgef√ºhrt wird Konto kann einen Fehler im UI-Code verursachen.  Andernfalls ist dies kein kritischer Fehler f√ºr die Benutzeroberfl√§che und kann innerhalb des Handlers auf eine bestimmte Weise behandelt werden. <br><br>  Aus unserer Sicht ist ein kritischer Fehler eine Ausnahme, die im UI-Code aufgetreten ist. Wenn er nicht verarbeitet wird, wird die Bereitstellung des gesamten React-Baums aufgehoben.  Die verbleibenden Fehler sind unkritisch und k√∂nnen entsprechend der Anwendungslogik verarbeitet werden, z. B. √ºber Benachrichtigungen. <br><br>  In diesem Artikel konzentrieren wir uns auf die Behandlung kritischer Fehler, obwohl unkritische Fehler im schlimmsten Fall auch zu einer Inoperabilit√§t der Benutzeroberfl√§che f√ºhren k√∂nnen.  Ihre Verarbeitung ist schwer in einen gemeinsamen Block aufzuteilen und jeder Einzelfall erfordert eine Entscheidung in Abh√§ngigkeit von der Anwendungslogik. <br><br>  Im Allgemeinen k√∂nnen unkritische Fehler sehr kritisch sein (z. B. Wortspiele). Informationen zu diesen Fehlern sollten daher auf die gleiche Weise protokolliert werden wie bei kritischen Fehlern. <br><br>  Jetzt entwerfen wir Error Boundary f√ºr unsere einfache Anwendung. Sie besteht aus einer Navigationsleiste, einer Kopfzeile und einem Hauptarbeitsbereich.  Es ist einfach genug, sich nur auf die Fehlerbehandlung zu konzentrieren, aber es hat eine typische Struktur f√ºr viele Anwendungen. <br><br><img src="https://habrastorage.org/webt/q6/my/hd/q6myhdx0kjcwrwxe2q7b3sxdweu.png"><br><br>  Wir haben ein Navigationsfenster mit 3 Links, von denen jeder zu voneinander unabh√§ngigen Komponenten f√ºhrt. Daher m√∂chten wir ein solches Verhalten erzielen, dass wir auch dann mit den anderen Komponenten weiterarbeiten k√∂nnen, wenn eine der Komponenten nicht funktioniert. <br><br>  Infolgedessen haben wir f√ºr jede Komponente eine Fehlergrenze, auf die √ºber das Navigationsmen√º und die allgemeine Fehlergrenze zugegriffen werden kann, die √ºber den Absturz der gesamten Anwendung informiert, falls ein Fehler in der Kopfzeilenkomponente, im Navigationsbereich oder in ErrorBoundary aufgetreten ist, der jedoch nicht behoben wurde weiter verarbeiten und verwerfen. <br><br>  Erw√§gen Sie, eine gesamte Anwendung aufzulisten, die in ErrorBoundary eingeschlossen ist <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> AppWithBoundary = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> (   <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">errorMessage</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Application has crashed"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">     </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> )</code> </pre> <br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (    &lt;Router&gt;      &lt;Layout&gt;        &lt;Sider width={200}&gt;          &lt;SideNavigation /&gt;        &lt;/Sider&gt;        &lt;Layout&gt;          &lt;Header&gt;            &lt;ActionPanel /&gt;          &lt;/Header&gt;          &lt;Content&gt;            &lt;Switch&gt;              &lt;Route path="/link1"&gt;                &lt;Page1                  title="Link 1 content page"                  errorMessage="Page for link 1 crashed"                /&gt;              &lt;/Route&gt;              &lt;Route path="/link2"&gt;                &lt;Page2                  title="Link 2 content page"                  errorMessage="Page for link 2 crashed"                /&gt;              &lt;/Route&gt;              &lt;Route path="/link3"&gt;                &lt;Page3                  title="Link 3 content page"                  errorMessage="Page for link 3 crashed"                /&gt;              &lt;/Route&gt;              &lt;Route path="/"&gt;                &lt;MainPage                  title="Main page"                  errorMessage="Only main page crashed"                /&gt;              &lt;/Route&gt;            &lt;/Switch&gt;          &lt;/Content&gt;        &lt;/Layout&gt;      &lt;/Layout&gt;    &lt;/Router&gt;  ); }</code> </pre> <br>  In ErrorBoundary gibt es keine Magie, es ist nur eine Klassenkomponente, in der die componentDidCatch-Methode definiert ist. Das hei√üt, jede Komponente kann zu ErrorBoundary gemacht werden, wenn Sie diese Methode darin definieren. <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ErrorBoundary</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  state = {    <span class="hljs-attr"><span class="hljs-attr">hasError</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>,  }  componentDidCatch(error) {    <span class="hljs-comment"><span class="hljs-comment">//            this.setState({ hasError: true });  }  render() {    if (this.state.hasError) {      return (        &lt;Result          status="warning"          title={this.props.errorMessage}          extra={            &lt;Button type="primary" key="console"&gt;              Some action to recover            &lt;/Button&gt;          }  /&gt;      );    }    return this.props.children;  } };</span></span></code> </pre><br>  So sieht ErrorBoundary f√ºr die Page-Komponente aus, die in den Content-Block gerendert wird: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PageBody = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ title }</span></span></span><span class="hljs-function">) =&gt;</span></span> (  &lt;Content title={title}&gt;    &lt;Empty className="content-empty" /&gt;  &lt;/Content&gt; ); const MainPage = ({ errorMessage, title }) =&gt; (  &lt;ErrorBoundary errorMessage={errorMessage}&gt;    &lt;PageBody title={title} /&gt;  &lt;/ErrorBoundary&gt;</code> </pre><br>  Da ErrorBoundary eine regul√§re React-Komponente ist, k√∂nnen wir dieselbe ErrorBoundary-Komponente verwenden, um jede Seite in einen eigenen Handler einzubinden. Dabei werden einfach verschiedene Parameter an ErrorBoundary √ºbergeben, da es sich um verschiedene Instanzen der Klasse handelt, deren Status nicht voneinander abh√§ngt . <br><br>  <b>WICHTIG: ErrorBoundary kann Fehler nur in Komponenten abfangen, die sich im Baum darunter befinden.</b> <br><br>  In der folgenden Auflistung wird der Fehler nicht von der lokalen ErrorBoundary abgefangen, sondern vom Handler √ºber der Struktur ausgel√∂st und abgefangen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Page = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ errorMessage }</span></span></span><span class="hljs-function">) =&gt;</span></span> (  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">errorMessage</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{errorMessage}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    {null.toString()}  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> );</code> </pre><br>  Und hier wird der Fehler von der lokalen ErrorBoundary abgefangen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ErrorProneComponent = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>.toString(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Page = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ errorMessage }</span></span></span><span class="hljs-function">) =&gt;</span></span> (  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">errorMessage</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{errorMessage}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorProneComponent</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ErrorBoundary</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> );</code> </pre> <br>  Nachdem wir jede einzelne Komponente in unsere ErrorBoundary eingeschlossen haben, haben wir das erforderliche Verhalten erreicht, den absichtlich fehlerhaften Code mit link3 in die Komponente eingef√ºgt und gesehen, was passiert.  Wir haben absichtlich vergessen, den Parameter steps zu √ºbergeben: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> PageBody = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ title, steps }</span></span></span><span class="hljs-function">) =&gt;</span></span> (  &lt;Content title={title}&gt;    &lt;Steps current={2} direction="vertical"&gt;      {steps.map(({ title, description }) =&gt; (&lt;Step title={title} description={description} /&gt;))}    &lt;/Steps&gt;  &lt;/Content&gt; ); const Page = ({ errorMessage, title }) =&gt; (  &lt;ErrorBoundary errorMessage={errorMessage}&gt;    &lt;PageBody title={title} /&gt;  &lt;/ErrorBoundary&gt; );</code> </pre><br><img src="https://habrastorage.org/webt/6g/9g/fv/6g9gfvuuusmxrbedlytcmezyghe.png"><br><br>  Die Anwendung teilt uns mit, dass ein Fehler aufgetreten ist, der jedoch nicht vollst√§ndig abf√§llt. Wir k√∂nnen durch das Navigationsmen√º navigieren und mit anderen Abschnitten arbeiten. <br><br><img src="https://habrastorage.org/webt/4w/os/zh/4woszhf9ahhcl-uzdfwthj-d6a0.png"><br><br>  Mit einer solch einfachen Konfiguration k√∂nnen wir unser Ziel problemlos erreichen, aber in der Praxis widmen nur wenige Personen der Fehlerbehandlung viel Aufmerksamkeit und planen nur die regelm√§√üige Ausf√ºhrung der Anwendung. <br><br>  <b>Fehlerinformationen werden gespeichert</b> <br><br>  Nachdem wir gen√ºgend ErrorBoundary in unserer Anwendung platziert haben, m√ºssen Informationen zu Fehlern gespeichert werden, um sie so schnell wie m√∂glich zu erkennen und zu korrigieren.  Am einfachsten ist es, SaaS-Dienste wie Sentry oder Rollbar zu verwenden.  Sie verf√ºgen √ºber eine sehr √§hnliche Funktionalit√§t, sodass Sie jeden Fehler√ºberwachungsdienst verwenden k√∂nnen. <br><br>  Ich werde ein grundlegendes Beispiel f√ºr Sentry zeigen, da Sie in nur einer Minute nur minimale Funktionalit√§t erhalten.  Gleichzeitig erkennt Sentry selbst Ausnahmen und √§ndert sogar console.log, um alle Fehlerinformationen abzurufen.  Danach werden alle Fehler, die in der Anwendung auftreten, gesendet und auf dem Server gespeichert.  Sentry verf√ºgt √ºber Mechanismen zum Filtern von Ereignissen, Verschleiern pers√∂nlicher Daten, Verkn√ºpfen mit Ver√∂ffentlichungen und vielem mehr.  Wir werden nur das grundlegende Integrationsszenario betrachten. <br><br>  Um eine Verbindung herzustellen, m√ºssen Sie sich auf der offiziellen Website registrieren und die Schnellstartanleitung durchgehen, die Sie sofort nach der Registrierung weiterleitet. <br><br>  In unserer Anwendung f√ºgen wir nur ein paar Zeilen hinzu und alles hebt ab. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Sentry <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@sentry/browser'</span></span>; Sentry.init({<span class="hljs-attr"><span class="hljs-attr">dsn</span></span>: ‚Äúhttps:<span class="hljs-comment"><span class="hljs-comment">//12345f@sentry.io/12345‚Äù});</span></span></code> </pre><br>  Klicken Sie erneut auf den Link / Link3 in unserer Anwendung und rufen Sie den Fehlerbildschirm auf. Anschlie√üend rufen wir die Sentry-Oberfl√§che auf. Anscheinend ist ein Ereignis aufgetreten und schl√§gt im Inneren fehl. <br><br><img src="https://habrastorage.org/webt/qx/4p/bm/qx4pbm5d1dgv3gvxpabgeydwpoa.png"><br><br>  Fehler werden automatisch nach Art, H√§ufigkeit und Zeitpunkt des Auftretens gruppiert, verschiedene Filter k√∂nnen angewendet werden.  Wir haben ein Ereignis - wir fallen hinein und auf dem n√§chsten Bildschirm sehen wir eine Reihe n√ºtzlicher Informationen, zum Beispiel Stack-Trace <br><br><img src="https://habrastorage.org/webt/bq/o8/ed/bqo8ed5grqrsme3yw8wa4rftwhu.png"><br><br>  und die letzte Benutzeraktion vor dem Fehler (Breadcrumbs). <br><br><img src="https://habrastorage.org/webt/bq/o8/ed/bqo8ed5grqrsme3yw8wa4rftwhu.png"><br><br>  Selbst mit einer so einfachen Konfiguration k√∂nnen wir Fehlerinformationen sammeln, analysieren und f√ºr die weitere Fehlersuche verwenden.  In diesem Beispiel wird vom Client im Entwicklungsmodus ein Fehler gesendet, sodass wir die vollst√§ndigen Informationen √ºber die Komponente und die Fehler beobachten k√∂nnen.  Um √§hnliche Informationen aus dem Produktionsmodus zu erhalten, m√ºssen Sie zus√§tzlich die Synchronisierung der Versionsdaten mit Sentry konfigurieren, in der die Quellkarte in sich selbst gespeichert wird. Auf diese Weise k√∂nnen Sie gen√ºgend Informationen speichern, ohne die Gr√∂√üe des Bundles zu erh√∂hen.  Wir werden eine solche Konfiguration im Rahmen dieses Artikels nicht betrachten, aber ich werde versuchen, in einem separaten Artikel √ºber die Fallstricke einer solchen L√∂sung nach ihrer Implementierung zu sprechen. <br><br>  <b>Das ergebnis:</b> <br><br>  Die Fehlerbehandlung mit ErrorBoundary erm√∂glicht es uns, Ecken mit einem teilweisen Absturz der Anwendung auszugleichen, wodurch die Benutzerfreundlichkeit des Systems erh√∂ht wird, und spezielle Fehler√ºberwachungssysteme zu verwenden, um die Zeit f√ºr die Erkennung und das Debuggen von Problemen zu verk√ºrzen. <br><br>  √úberlegen Sie sorgf√§ltig, wie Sie die Fehler Ihrer Bewerbung verarbeiten und √ºberwachen sollen. Dies erspart Ihnen in Zukunft viel Zeit und M√ºhe.  <b>Eine durchdachte Strategie verbessert in erster Linie den Prozess der Bearbeitung von Vorf√§llen und wirkt sich erst dann auf die Struktur des Codes aus.</b> <br><br>  <i>PS</i> Sie k√∂nnen verschiedene ErrorBoundary-Konfigurationsoptionen ausprobieren oder Sentry im Zweig feature_sentry selbst mit der Anwendung verbinden und die Schl√ºssel durch die Schl√ºssel ersetzen, die Sie bei der Registrierung auf der Site erhalten haben. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Git-Hub Demo-Anwendung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reacts offizielle Dokumentation zur Fehlergrenze</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de476284/">https://habr.com/ru/post/de476284/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de476270/index.html">Unser Won: TopCoder Open 2019</a></li>
<li><a href="../de476272/index.html">Antworten auf Aufgaben vom PVS-Studio-Stand auf Konferenzen 2018-2019</a></li>
<li><a href="../de476276/index.html">Schreiben eines einfachen Balancers auf Go</a></li>
<li><a href="../de476278/index.html">BLACK HAT USA Konferenz. Reich werden oder sterben: Mit Black Hat Geld im Internet verdienen. Teil 3</a></li>
<li><a href="../de476280/index.html">Durch Dornen zu DOS: Vier Disketten, die die Welt ver√§nderten</a></li>
<li><a href="../de476286/index.html">Top 5 JS-Frameworks f√ºr die Front-End-Entwicklung im Jahr 2020. Teil 1</a></li>
<li><a href="../de476288/index.html">Top 5 JS-Frameworks f√ºr die Front-End-Entwicklung im Jahr 2020. Teil 2</a></li>
<li><a href="../de476290/index.html">Fehlerbehandlung in Express</a></li>
<li><a href="../de476292/index.html">SVG oder Leinwand?</a></li>
<li><a href="../de476294/index.html">Distributed Gaming Network als Alternative zu GFN: Wie und warum kann es abheben, wo es in der Russischen F√∂deration bereits funktioniert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>