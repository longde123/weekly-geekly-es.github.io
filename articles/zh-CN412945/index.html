<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>㊗️ 👃🏻 😫 依赖经理 🤫 👨🏾‍🚀 🚵🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在本文中，我将告诉您程序包管理器在内部结构，操作算法上有哪些相似之处，以及它们之间的根本区别是什么。 我查看了专为在iOS / OS X下进行开发而设计的程序包管理器，但是本文的内容带有一些假设，而其他情况也适用。 

 各种依赖管理器 


- 系统依赖性管理器-在操作系统中安装缺少的实用程序。 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>依赖经理</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redmadrobot/blog/412945/"><img src="https://habrastorage.org/webt/eo/2z/gn/eo2zgnh7wmofkn9u5lkycjb1kus.png"><br><br> 在本文中，我将告诉您程序包管理器在内部结构，操作算法上有哪些相似之处，以及它们之间的根本区别是什么。 我查看了专为在iOS / OS X下进行开发而设计的程序包管理器，但是本文的内容带有一些假设，而其他情况也适用。 <br><a name="habracut"></a><br><h2> 各种依赖管理器 </h2><br><ul><li> 系统依赖性管理器-在操作系统中安装缺少的实用程序。 例如， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Homebrew</a> 。 </li><li> 语言依赖管理器-将以一种编程语言编写的源代码收集到最终的可执行程序中。 例如， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">转到build</a> 。 </li><li> 项目依赖性管理器-在特定项目的上下文中管理依赖性。 也就是说，他们的任务包括描述依赖关系，下载，更新其源代码。 这些是例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Cocoapods</a> 。 </li></ul><br> 他们之间的主要区别是他们“服务谁”。 为用户提供系统MH，为开发人员提供项目MH，并为两者提供语言MH。 <br><br> 接下来，我将考虑项目依赖管理器-我们最常使用它们，而且它们更易于理解。 <br><br><h2> 使用依赖项管理器时的项目方案 </h2><br> 考虑一下流行的包装<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">经理</a> Cocoapods。 <br> 通常，我们执行条件<i>pod install</i>命令，然后依赖项管理器会为我们做所有事情。 考虑项目应该包括什么，以使该团队成功完成。 <br><br><img src="https://habrastorage.org/webt/b_/zz/3g/b_zz3gkcyt_pskamlnd_4qutocw.png"><br><br><ol><li> 在我们的代码中，我们使用了这种依赖性，即<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Alamofire</a>库。 </li><li> 从清单文件中，依赖项管理器知道我们在源代码中使用了哪些依赖项。 如果我们忘记指出那里的任何库，则将不会建立依赖关系，并且最终将不会组装项目。 </li><li> 锁定文件-由依赖项管理器生成的某种格式的文件，列出了成功安装在项目中的所有依赖项。 </li><li> 依赖关系代码是依赖关系管理器“提取”的外部源代码，将从我们的代码中调用它。 </li></ol><br> 没有在依赖项安装命令之后每次都运行的特定算法，这将是不可能的。 <br><br> 依次列出所有4个组件，例如 下一个组件是在前一个组件的基础上形成的。 <br><br><img src="https://habrastorage.org/webt/7h/ez/e1/7heze1iy5kalhr3v2vqddu6wrzs.png"><br><br> 并非所有的依赖项管理器都具有全部4个组件，但是考虑到依赖项管理器的功能，最好是全部存在。 <br><br> 安装依赖项后，根据语言，所有4个组件都进入编译器或解释器的输入。 <br><br><img src="https://habrastorage.org/webt/h5/se/fs/h5sefs2_akqx7zraxli8mx7rpae.png"><br><br> 我还注意到，开发人员负责前两个组件-我们编写此代码，其余两个组件负责依赖管理器-它生成文件并下载依赖项的源代码。 <br><br><img src="https://habrastorage.org/webt/dp/el/nn/dpelnn1xpwqlfvhw9qduvhcimfm.png"><br><br><h2> 依赖管理器工作流程 </h2><br> 随着组件的整理或多或少，现在让我们继续进行MOH的算法部分。 <br><br> 典型的工作算法如下所示： <br><br><ol><li> 验证项目和环境。 名为<i>分析器</i>的对象对此负责。 </li><li> 建立图。 在依赖关系中，卫生部应绘制图表。  <i>解析器</i>对象执行此操作。 </li><li> 下载依赖项。 显然，必须下载依赖项的源代码，以便我们在源代码中使用它。 </li><li> 依赖关系集成。 依赖项的源代码位于磁盘上的相邻目录中这一事实可能还不够，因此仍需要将它们附加到我们的项目中。 </li><li> 依赖关系更新。 步骤4之后不会立即执行此步骤，但如有必要，请升级到新版本的库。 这里有一些特殊之处，所以我在一个单独的步骤中将它们选出来-稍后再详细介绍。 </li></ol><br><h3> 验证项目和环境 </h3><br> 验证包括检查OS版本，依赖项管理器所需的辅助实用程序，以及链接项目设置和清单文件：从语法检查到不兼容的设置。 <br><br> 样本<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">podfile</a> <br><br><pre><code class="ruby hljs">source <span class="hljs-string"><span class="hljs-string">'https://github.com/CocoaPods/Specs.git'</span></span> source <span class="hljs-string"><span class="hljs-string">'https://github.com/RedMadRobot/cocoapods-specs'</span></span> platform <span class="hljs-symbol"><span class="hljs-symbol">:ios</span></span>, <span class="hljs-string"><span class="hljs-string">'10.0'</span></span> use_frameworks! project <span class="hljs-string"><span class="hljs-string">'Project.xcodeproj'</span></span> workspace <span class="hljs-string"><span class="hljs-string">'Project.xcworkspace'</span></span> target <span class="hljs-string"><span class="hljs-string">'Project'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> project <span class="hljs-string"><span class="hljs-string">'Project.xcodeproj'</span></span> pod <span class="hljs-string"><span class="hljs-string">'Alamofire'</span></span> pod <span class="hljs-string"><span class="hljs-string">'Fabric'</span></span> pod <span class="hljs-string"><span class="hljs-string">'GoogleMaps'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br> 检查Podfile时可能的警告和错误： <br><br><ul><li> 在任何<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">规范存储库</a>中都没有找到依赖项； </li><li> 没有明确指定操作系统和版本； </li><li> 无效的工作空间或项目名称。 </li></ul><br><h3> 建立依赖图 </h3><br> 由于我们项目所需的依赖项可能具有自己的依赖项，而这些依赖项又可能具有自己的嵌套依赖项或子依赖项，因此管理器使用了正确的版本。 从原理上讲，所有依赖关系都应在有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">向无环图中对齐</a> 。 <br><br><img src="https://habrastorage.org/webt/km/un/14/kmun144wbc7e-vk53es-hxtj1b8.png"><br><br> 有向无环图的构造减少了拓扑排序的问题。 她有几种决策算法。 <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">卡恩算法</a> -顶点枚举，复杂度O（n）。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Tarjan的算法</a> -基于深度搜索，复杂度O（n）。 </li><li>  Demucron的算法是分层图分区。 </li><li> 使用多项式处理器的并行算法。 在这种情况下，复杂度将“降至” O（log（n）^ 2） </li></ol><br> 任务本身是NP完成的；在编译器和机器学习中使用相同的算法。 <br><br> 解决方案的结果是创建了锁定文件，该文件完整描述了依赖关系之间的关系。 <br><br><img src="https://habrastorage.org/webt/ev/go/vd/evgovd36odyii-s2iy1xnmgmyka.png"><br><br> 该算法工作时可能会出现什么问题？ 考虑一个示例：有一个项目具有依赖项A，B，E和嵌套的依赖项C，F，D。 <br><br><img src="https://habrastorage.org/webt/ao/0c/im/ao0cima3ra6vkhqtwxazzqtbhas.png"><br><br> 依赖项A和B具有共同的依赖项C。这里，C必须满足依赖项A和B的要求。某些依赖项管理器允许在必要时安装单独的版本，但例如cocoapods则不允许。 因此，在需求不兼容的情况下：A要求版本等于C依赖性的2.0，而B要求版本1.0，则安装将失败。 并且，如果依赖项A需要版本1.0或更高版本至版本2.0，并且依赖项B版本1.2或更低版本至1.0，则将安装A和B版本1.2的最兼容版本。 不要忘记，即使不是直接发生循环依赖的情况，在这种情况下，安装也会失败。 <br><br><img src="https://habrastorage.org/webt/c9/50/ef/c950efn7lgxntydbqgbn4le7aoq.png"><br><br> 让我们看看它在iOS最受欢迎的依赖管理器的代码中的外观。 <br><br><h4> 迦太基 </h4><br><pre> <code class="hljs powershell">typealias DependencyGraph = [<span class="hljs-type"><span class="hljs-type">Dependency</span></span>: <span class="hljs-type"><span class="hljs-type">Set</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Dependency</span></span>&gt;] public <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Dependency</span></span></span></span> { /// A repository hosted on GitHub.com or GitHub Enterprise. case gitHub(Server, Repository) /// An arbitrary Git repository. case git(GitURL) /// A binary<span class="hljs-literal"><span class="hljs-literal">-only</span></span> framework case binary(URL) } /// Protocol <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> resolving acyclic dependency graphs. public protocol ResolverProtocol { init( versionsForDependency: @escaping (Dependency) -&gt; SignalProducer&lt;PinnedVersion, CarthageError&gt;, dependenciesForDependency: @escaping (Dependency, PinnedVersion) -&gt; SignalProducer&lt;(Dependency, VersionSpecifier), CarthageError&gt;, resolvedGitReference: @escaping (Dependency, String) -&gt; SignalProducer&lt;PinnedVersion, CarthageError&gt; ) func resolve( dependencies: [<span class="hljs-type"><span class="hljs-type">Dependency</span></span>: <span class="hljs-type"><span class="hljs-type">VersionSpecifier</span></span>], lastResolved: [<span class="hljs-type"><span class="hljs-type">Dependency</span></span>: <span class="hljs-type"><span class="hljs-type">PinnedVersion</span></span>]?, dependenciesToUpdate: [<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>]? ) -&gt; SignalProducer&lt;[<span class="hljs-type"><span class="hljs-type">Dependency</span></span>: <span class="hljs-type"><span class="hljs-type">PinnedVersion</span></span>], CarthageError&gt; }</code> </pre><br>  Resolver的实现在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这里</a> ，NewResolver在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这里</a> ，Analyzer不在。 <br><br><h4> 椰子足 </h4><br> 图构造算法的实现被分配给一个独立的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">仓库</a> 。 这是<a href="">图</a>和<a href="">解析器的实现</a> 。 在<a href="">分析器中，</a>您可以找到它检查系统的cocoapods版本和锁定文件的一致性。 <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validate_lockfile_version!</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lockfile</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&amp;</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&amp;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lockfile</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cocoapods_version</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Version</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">new</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(VERSION)</span></span></span></span> STDERR.puts <span class="hljs-string"><span class="hljs-string">'[!] The version of CocoaPods used to generate '</span></span> \ <span class="hljs-string"><span class="hljs-string">"the lockfile (</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{lockfile.cocoapods_version}</span></span></span><span class="hljs-string">) is "</span></span>\ <span class="hljs-string"><span class="hljs-string">"higher than the version of the current executable (</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{VERSION}</span></span></span><span class="hljs-string">). "</span></span> \ <span class="hljs-string"><span class="hljs-string">'Incompatibility issues may arise.'</span></span>.yellow <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br> 从源头还可以看到，Analyzer为依赖关系生成了目标。 <br><br> 一个典型的cocoapods锁定文件如下所示： <br><br><pre> <code class="ruby hljs"><span class="hljs-symbol"><span class="hljs-symbol">PODS:</span></span> - Alamofire (<span class="hljs-number"><span class="hljs-number">4.7</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>) - Fabric (<span class="hljs-number"><span class="hljs-number">1.7</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>) - GoogleMaps (<span class="hljs-number"><span class="hljs-number">2.6</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>): - GoogleMaps/Maps (= <span class="hljs-number"><span class="hljs-number">2.6</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>) - GoogleMaps/Base (<span class="hljs-number"><span class="hljs-number">2.6</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>) - GoogleMaps/Maps (<span class="hljs-number"><span class="hljs-number">2.6</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span>): - GoogleMaps/Base SPEC <span class="hljs-symbol"><span class="hljs-symbol">CHECKSUMS:</span></span> <span class="hljs-symbol"><span class="hljs-symbol">Alamofire:</span></span> <span class="hljs-number"><span class="hljs-number">907</span></span>e0a98eb68cdb7f9d1f541a563d6ac5dc77b25 <span class="hljs-symbol"><span class="hljs-symbol">Fabric:</span></span> ae7146a5f505ea370a1e44820b4b1dc8890e289<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-symbol"><span class="hljs-symbol">GoogleMaps:</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span>f91c68b7fa2f84d5c86597b18ceb99f5414c7f PODFILE <span class="hljs-symbol"><span class="hljs-symbol">CHECKSUM:</span></span> <span class="hljs-number"><span class="hljs-number">5294972</span></span>c5dd60a892bfcc35329cae74e46aac47b <span class="hljs-symbol"><span class="hljs-symbol">COCOAPODS:</span></span> <span class="hljs-number"><span class="hljs-number">1.4</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  PODS部分列出了指示版本的直接和嵌套依赖项，然后分别并一起计算它们的校验和，并指示用于安装的可可足类动物的版本。 <br><br><h3> 下载依赖项 </h3><br> 成功构建图形并创建锁定文件后，依赖关系管理器将继续下载它们。 不一定是源代码，也可以是可执行文件或编译框架。 同样，所有依赖项管理器通常都支持在本地路径上安装的功能。 <br><br><img src="https://habrastorage.org/webt/jn/pd/im/jnpdimi2oy5cywb3v2lmchqtmaw.png"><br><br> 从链接下载它们没有什么复杂的事情（当然，您需要从某个地方下载），因此我不会告诉您下载本身是如何发生的，而是关注集中化和安全性问题。 <br><br><h4> 集中化 </h4><br> 简单来说，依赖性管理器在下载依赖性时有两种方法： <br><br><ol><li> 转到一些可用依赖项列表，并按名称获取下载链接。 </li><li> 我们必须在清单文件中为每个依赖项明确指定源。 </li></ol><br> 集中式依赖管理器沿着第一个路径，去中心化沿着第二个路径。 <br><br><img src="https://habrastorage.org/webt/q2/9r/uo/q29ruopiznp2qp4hzmyqvgqtngm.png"><br><br><h4> 安全性 </h4><br> 如果通过https或ssh下载依赖项，则可以安然入睡。 但是，开发人员通常会提供指向其官方库的http链接。 当攻击者欺骗源代码，可执行文件或框架时，我们可能会遇到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">中间人</a>攻击。 有些依赖项管理器不受此保护，有些则按以下方式进行保护。 <br><br><h5> 家酿 </h5><br>  <a href="">检查</a>旧版OS X的<a href="">卷曲</a> 。 <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">check_for_bad_curl</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unless</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MacOS</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">version</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&lt;=</span></span></span><span class="hljs-function"> "10.8" </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Formula</span></span></span><span class="hljs-function">["</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">curl</span></span></span><span class="hljs-function">"].</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">installed?</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&lt;&lt;</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">~</span></span></span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EOS</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">The</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">system</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">curl</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on</span></span></span><span class="hljs-function"> 10.8 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">and</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">below</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">is</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">often</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">incapable</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">of</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">supporting</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">modern</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">secure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">connections</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">&amp;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">will</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fail</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetching</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formulae</span></span></span><span class="hljs-function">. </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">We</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">recommend</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">you</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">brew</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">install</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">curl</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EOS</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span></span></code> </pre><br> 通过http下载时，还会进行<a href="">SHA256哈希检查</a> 。 <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">curl_http_content_headers_and_checksum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(url, </span></span><span class="hljs-symbol"><span class="hljs-function"><span class="hljs-params"><span class="hljs-symbol">hash_needed:</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">false</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-symbol"><span class="hljs-function"><span class="hljs-params"><span class="hljs-symbol">user_agent:</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-symbol"><span class="hljs-function"><span class="hljs-params"><span class="hljs-symbol">:default</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> max_time = hash_needed ? <span class="hljs-string"><span class="hljs-string">"600"</span></span> : <span class="hljs-string"><span class="hljs-string">"25"</span></span> output, = curl_output( <span class="hljs-string"><span class="hljs-string">"--connect-timeout"</span></span>, <span class="hljs-string"><span class="hljs-string">"15"</span></span>, <span class="hljs-string"><span class="hljs-string">"--include"</span></span>, <span class="hljs-string"><span class="hljs-string">"--max-time"</span></span>, max_time, <span class="hljs-string"><span class="hljs-string">"--location"</span></span>, url, <span class="hljs-symbol"><span class="hljs-symbol">user_agent:</span></span> user_agent ) status_code = <span class="hljs-symbol"><span class="hljs-symbol">:unknown</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> status_code == <span class="hljs-symbol"><span class="hljs-symbol">:unknown</span></span> <span class="hljs-params"><span class="hljs-params">||</span></span> status_code.to_s.start_with?(<span class="hljs-string"><span class="hljs-string">"3"</span></span>) headers, <span class="hljs-number"><span class="hljs-number">_</span></span>, output = output.partition(<span class="hljs-string"><span class="hljs-string">"\r\n\r\n"</span></span>) status_code = headers[<span class="hljs-regexp"><span class="hljs-regexp">%r{HTTP\/.* (\d+)}</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> output_hash = Digest::SHA256.digest(output) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> hash_needed { <span class="hljs-symbol"><span class="hljs-symbol">status:</span></span> status_code, <span class="hljs-symbol"><span class="hljs-symbol">etag:</span></span> headers[<span class="hljs-regexp"><span class="hljs-regexp">%r{ETag: ([wW]\/)?"(([^"]|\\")*)"}</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>], <span class="hljs-symbol"><span class="hljs-symbol">content_length:</span></span> headers[<span class="hljs-regexp"><span class="hljs-regexp">/Content-Length: (\d+)/</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-symbol"><span class="hljs-symbol">file_hash:</span></span> output_hash, <span class="hljs-symbol"><span class="hljs-symbol">file:</span></span> output, } <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  <a href="">您还可以禁用</a>对http的不安全重定向（ <i>HOMEBREW_NO_INSECURE_REDIRECT</i>变量）。 <br><br><h5> 迦太基和可可足 </h5><br> 这里的一切都比较简单- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">您不能</a>在可执行文件上<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用</a> http。 <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> binaryURL.scheme == <span class="hljs-string"><span class="hljs-string">"file"</span></span> || binaryURL.scheme == <span class="hljs-string"><span class="hljs-string">"https"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .failure(<span class="hljs-type"><span class="hljs-type">BinaryJSONError</span></span>.nonHTTPSURL(binaryURL)) }</code> </pre> <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validate_source_url</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(spec)</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> spec.source.<span class="hljs-literal"><span class="hljs-literal">nil</span></span>? <span class="hljs-params"><span class="hljs-params">||</span></span> spec.source[<span class="hljs-symbol"><span class="hljs-symbol">:http</span></span>].<span class="hljs-literal"><span class="hljs-literal">nil</span></span>? url = URI(spec.source[<span class="hljs-symbol"><span class="hljs-symbol">:http</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> url.scheme == <span class="hljs-string"><span class="hljs-string">'https'</span></span> <span class="hljs-params"><span class="hljs-params">||</span></span> url.scheme == <span class="hljs-string"><span class="hljs-string">'file'</span></span> warning(<span class="hljs-string"><span class="hljs-string">'http'</span></span>, <span class="hljs-string"><span class="hljs-string">"The URL (`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{url}</span></span></span><span class="hljs-string">`) doesn't use the encrypted HTTPs protocol. "</span></span> \ <span class="hljs-string"><span class="hljs-string">'It is crucial for Pods to be transferred over a secure protocol to protect your users from man-in-the-middle attacks. '</span></span>\ <span class="hljs-string"><span class="hljs-string">'This will be an error in future releases. Please update the URL to use https.'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br> 完整代码<a href="">在这里</a> 。 <br><br><h5> 迅捷包管理器 </h5><br> 目前，未找到与安全性相关的任何信息，但是在开发建议中，仅简短提及<a href="">了</a>使用证书<a href="">对</a>软件包<a href="">进行</a>签名<a href="">的机制</a> 。 <br><br><h3> 依赖整合 </h3><br> 通过集成，我的意思是将依赖项连接到项目，以便我们可以自由使用它们，并使用主应用程序代码对其进行编译。 <br> 集成可以是手动（迦太基）或自动（Cocoapods）。 自动操作的优点是开发人员的手势很少，但是可以向项目添加很多魔术。 <br><br><div class="spoiler">  <b class="spoiler_title">使用Cocoapods在项目中安装依赖项后比较</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">--- a/PODInspect/PODInspect.xcodeproj/project.pbxproj +++ b/PODInspect/PODInspect.xcodeproj/project.pbxproj @@ -12,6 +12,7 @@ 5132347E1FE94F0900031F77 /* Main.storyboard in Resources */ = {isa = PBXBuildFile; fileRef = 5132347C1FE94F0900031F77 /* Main.storyboard */; }; 513234801FE94F0900031F77 /* Assets.xcassets in Resources */ = {isa = PBXBuildFile; fileRef = 5132347F1FE94F0900031F77 /* Assets.xcassets */; }; 513234831FE94F0900031F77 /* LaunchScreen.storyboard in Resources */ = {isa = PBXBuildFile; fileRef = 513234811FE94F0900031F77 /* LaunchScreen.storyboard */; }; + 80BFE252F8CC89026D002347 /* Pods_PODInspect.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = F92C797D84680452FD95785F /* Pods_PODInspect.framework */; }; /* End PBXBuildFile section */ /* Begin PBXFileReference section */ @@ -22,6 +23,9 @@ 5132347F1FE94F0900031F77 /* Assets.xcassets */ = {isa = PBXFileReference; lastKnownFileType = folder.assetcatalog; path = Assets.xcassets; sourceTree = "&lt;group&gt;"; }; 513234821FE94F0900031F77 /* Base */ = {isa = PBXFileReference; lastKnownFileType = file.storyboard; name = Base; path = Base.lproj/LaunchScreen.storyboard; sourceTree = "&lt;group&gt;"; }; 513234841FE94F0900031F77 /* Info.plist */ = {isa = PBXFileReference; lastKnownFileType = text.plist.xml; path = Info.plist; sourceTree = "&lt;group&gt;"; }; + 700D806167013759DC590135 /* Pods-PODInspect.debug.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-PODInspect.debug.xcconfig"; path = "Pods/Target Support Files/Pods-PODInspect/Pods-PODInspect.debug.xcconfig"; sourceTree = "&lt;group&gt;"; }; + E03230E2AEDEF09BD80A4BCB /* Pods-PODInspect.release.xcconfig */ = {isa = PBXFileReference; includeInIndex = 1; lastKnownFileType = text.xcconfig; name = "Pods-PODInspect.release.xcconfig"; path = "Pods/Target Support Files/Pods-PODInspect/Pods-PODInspect.release.xcconfig"; sourceTree = "&lt;group&gt;"; }; + F92C797D84680452FD95785F /* Pods_PODInspect.framework */ = {isa = PBXFileReference; explicitFileType = wrapper.framework; includeInIndex = 0; path = Pods_PODInspect.framework; sourceTree = BUILT_PRODUCTS_DIR; }; /* End PBXFileReference section */ /* Begin PBXFrameworksBuildPhase section */ @@ -29,6 +33,7 @@ isa = PBXFrameworksBuildPhase; buildActionMask = 2147483647; files = ( + 80BFE252F8CC89026D002347 /* Pods_PODInspect.framework in Frameworks */, ); runOnlyForDeploymentPostprocessing = 0; }; @@ -40,6 +45,8 @@ children = ( 513234771FE94F0900031F77 /* PODInspect */, 513234761FE94F0900031F77 /* Products */, + 78E8125D6DC3597E7EBE4521 /* Pods */, + 7DB1871A5E08D43F92A5D931 /* Frameworks */, ); sourceTree = "&lt;group&gt;"; }; @@ -64,6 +71,23 @@ path = PODInspect; sourceTree = "&lt;group&gt;"; }; + 78E8125D6DC3597E7EBE4521 /* Pods */ = { + isa = PBXGroup; + children = ( + 700D806167013759DC590135 /* Pods-PODInspect.debug.xcconfig */, + E03230E2AEDEF09BD80A4BCB /* Pods-PODInspect.release.xcconfig */, + ); + name = Pods; + sourceTree = "&lt;group&gt;"; + }; + 7DB1871A5E08D43F92A5D931 /* Frameworks */ = { + isa = PBXGroup; + children = ( + F92C797D84680452FD95785F /* Pods_PODInspect.framework */, + ); + name = Frameworks; + sourceTree = "&lt;group&gt;"; + }; /* End PBXGroup section */ /* Begin PBXNativeTarget section */ @@ -71,9 +95,12 @@ isa = PBXNativeTarget; buildConfigurationList = 513234871FE94F0900031F77 /* Build configuration list for PBXNativeTarget "PODInspect" */; buildPhases = ( + 5A5E7D86F964C22F5DF60143 /* [CP] Check Pods Manifest.lock */, 513234711FE94F0900031F77 /* Sources */, 513234721FE94F0900031F77 /* Frameworks */, 513234731FE94F0900031F77 /* Resources */, + 5FD616368597C8B1F8138B2B /* [CP] Embed Pods Frameworks */, + F5ECBE5F431B568B7F8C9B0B /* [CP] Copy Pods Resources */, ); buildRules = ( ); @@ -131,6 +158,62 @@ }; /* End PBXResourcesBuildPhase section */ +/* Begin PBXShellScriptBuildPhase section */ + 5A5E7D86F964C22F5DF60143 /* [CP] Check Pods Manifest.lock */ = { + isa = PBXShellScriptBuildPhase; + buildActionMask = 2147483647; + files = ( + ); + inputPaths = ( + "${PODS_PODFILE_DIR_PATH}/Podfile.lock", + "${PODS_ROOT}/Manifest.lock", + ); + name = "[CP] Check Pods Manifest.lock"; + outputPaths = ( + "$(DERIVED_FILE_DIR)/Pods-PODInspect-checkManifestLockResult.txt", + ); + runOnlyForDeploymentPostprocessing = 0; + shellPath = /bin/sh; + shellScript = "diff \"${PODS_PODFILE_DIR_PATH}/Podfile.lock\" \"${PODS_ROOT}/Manifest.lock\" &gt; /dev/null\nif [ $? != 0 ] ; then\n # print error to STDERR\n echo \"error: The sandbox is not in sync with the Podfile.lock. Run 'pod install' or update your CocoaPods installation.\" &gt;&amp;2\n exit 1\nfi\n# This output is used by Xcode 'outputs' to avoid re-running this script phase.\necho \"SUCCESS\" &gt; \"${SCRIPT_OUTPUT_FILE_0}\"\n"; + showEnvVarsInLog = 0; + }; + 5FD616368597C8B1F8138B2B /* [CP] Embed Pods Frameworks */ = { + isa = PBXShellScriptBuildPhase; + buildActionMask = 2147483647; + files = ( + ); + inputPaths = ( + "${SRCROOT}/Pods/Target Support Files/Pods-PODInspect/Pods-PODInspect-frameworks.sh", + "${BUILT_PRODUCTS_DIR}/Alamofire/Alamofire.framework", + "${BUILT_PRODUCTS_DIR}/HTTPTransport/HTTPTransport.framework", + ); + name = "[CP] Embed Pods Frameworks"; + outputPaths = ( + "${TARGET_BUILD_DIR}/${FRAMEWORKS_FOLDER_PATH}/Alamofire.framework", + "${TARGET_BUILD_DIR}/${FRAMEWORKS_FOLDER_PATH}/HTTPTransport.framework", + ); + runOnlyForDeploymentPostprocessing = 0; + shellPath = /bin/sh; + shellScript = "\"${SRCROOT}/Pods/Target Support Files/Pods-PODInspect/Pods-PODInspect-frameworks.sh\"\n"; + showEnvVarsInLog = 0; + }; + F5ECBE5F431B568B7F8C9B0B /* [CP] Copy Pods Resources */ = { + isa = PBXShellScriptBuildPhase; + buildActionMask = 2147483647; + files = ( + ); + inputPaths = ( + ); + name = "[CP] Copy Pods Resources"; + outputPaths = ( + ); + runOnlyForDeploymentPostprocessing = 0; + shellPath = /bin/sh; + shellScript = "\"${SRCROOT}/Pods/Target Support Files/Pods-PODInspect/Pods-PODInspect-resources.sh\"\n"; + showEnvVarsInLog = 0; + }; +/* End PBXShellScriptBuildPhase section */ + /* Begin PBXSourcesBuildPhase section */ 513234711FE94F0900031F77 /* Sources */ = { isa = PBXSourcesBuildPhase; @@ -272,6 +355,7 @@ }; 513234881FE94F0900031F77 /* Debug */ = { isa = XCBuildConfiguration; + baseConfigurationReference = 700D806167013759DC590135 /* Pods-PODInspect.debug.xcconfig */; buildSettings = { ASSETCATALOG_COMPILER_APPICON_NAME = AppIcon; CODE_SIGN_STYLE = Automatic; @@ -287,6 +371,7 @@ }; 513234891FE94F0900031F77 /* Release */ = { isa = XCBuildConfiguration; + baseConfigurationReference = E03230E2AEDEF09BD80A4BCB /* Pods-PODInspect.release.xcconfig */; buildSettings = { ASSETCATALOG_COMPILER_APPICON_NAME = AppIcon; CODE_SIGN_STYLE = Automatic;</span></span></code> </pre> <br></div></div><br> 例如，在使用手册的情况下，您可以按照<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此</a>迦太基指令完全控制将依赖项添加到项目的过程。 可靠，但是更长。 <br><br><h3> 依赖关系更新 </h3><br> 您可以使用其版本控制项目中依赖项的源代码。 <br> 依赖项管理器使用3种方法： <br><ol><li> 库版本。 最方便，最常用的方式。 您可以指定特定版本和间隔。 只要作者正确地对库进行了版本控制，这是支持依赖项兼容性的一种完全可预测的方法。 </li><li> 分公司 在更新分支并进一步更新依赖项时，我们无法预测会发生什么变化。 </li><li> 提交或标记。 当执行update命令时，带有指向特定提交或标记（如果未更改）链接的依赖关系将永远不会更新。 </li></ol><br><h2> 结论 </h2><br> 在本文中，我对依赖项管理器的内部结构有一个肤浅的理解。 如果您想了解更多信息，则应深入研究软件包管理器的源代码。 查找以熟悉的语言编写的内容的最简单方法。 所描述的方案是典型的，但在特定的依赖项管理器中，可能会丢失某些内容，或者相反，可能会出现新的内容。 <br> 欢迎发表评论并在评论中进行讨论。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN412945/">https://habr.com/ru/post/zh-CN412945/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN412929/index.html">金融科技摘要：DG批准的与专家不符的加密货币法律，金融科技解决方案变得越来越流行</a></li>
<li><a href="../zh-CN412933/index.html">特斯拉部分开放了Model S / X 2018.12的源代码</a></li>
<li><a href="../zh-CN412937/index.html">演示黑客：PenTest Show将展示黑客办公网络和安全系统以窃取任何东西的简便性</a></li>
<li><a href="../zh-CN412939/index.html">测试人员反对测试</a></li>
<li><a href="../zh-CN412941/index.html">Java东欧会议2018：报告和印象</a></li>
<li><a href="../zh-CN412947/index.html">在Azure云中进行负载测试。 如何在接近真实的条件下测试大型在线商店？</a></li>
<li><a href="../zh-CN412949/index.html">占星家宣布在Avito进行iOS开发一周</a></li>
<li><a href="../zh-CN412951/index.html">DotVVM-客户端和服务器之间的通信</a></li>
<li><a href="../zh-CN412953/index.html">使用OpenCV2和ROS的英特尔实感d435摄像机校准</a></li>
<li><a href="../zh-CN412955/index.html">使馆和肉质公司在Xcode中进行UI测试</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>