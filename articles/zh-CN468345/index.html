<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‡ ğŸ« âš•ï¸ GitHubåœ¨CI / CDå’Œå·¥ä»¶ç®¡ç†ä¸­å¯åŠ¨äº†è§¦è§’ ğŸ‘¨ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ¼ ğŸ‘– ğŸ‰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="GitHubåœ¨2019å¹´5æœˆå®£å¸ƒå‘å¸ƒPackage RegistryæœåŠ¡ã€‚ æ­¤åï¼Œå·²ç»åœ¨8æœˆå®£å¸ƒäº†å¯¹Actionsä¸­CI / CDçš„æ”¯æŒã€‚ 


 åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰æ‚¨ä»€ä¹ˆæ˜¯æœåŠ¡ï¼Œä»¥åŠå¦‚ä½•åœ¨GitHubä¸Šçš„ä¸€ä¸ªå°å‹å® ç‰©é¡¹ç›®çš„ç¤ºä¾‹ä¸­ä½¿ç”¨è¿™äº›æœåŠ¡ã€‚ 



 è¿™äº›æ˜¯ä»€ä¹ˆæœåŠ¡ï¼Ÿ 


 GitHub Ac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>GitHubåœ¨CI / CDå’Œå·¥ä»¶ç®¡ç†ä¸­å¯åŠ¨äº†è§¦è§’</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468345/"><p>  GitHubåœ¨2019å¹´5æœˆ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®£å¸ƒ</a>å‘å¸ƒPackage RegistryæœåŠ¡ã€‚ æ­¤åï¼Œå·²ç»åœ¨8æœˆ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®£å¸ƒäº†</a>å¯¹Actionsä¸­CI / CDçš„æ”¯æŒã€‚ </p><br><p> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰æ‚¨ä»€ä¹ˆæ˜¯æœåŠ¡ï¼Œä»¥åŠå¦‚ä½•åœ¨GitHubä¸Šçš„ä¸€ä¸ªå°å‹å® ç‰©é¡¹ç›®çš„ç¤ºä¾‹ä¸­ä½¿ç”¨è¿™äº›æœåŠ¡ã€‚ </p><br><p><img src="https://habrastorage.org/webt/7s/te/zf/7stezfizd-3i3zlnp0xbay3ttou.png"></p><a name="habracut"></a><br><h2 id="chto-eto-za-servisy-takie"> è¿™äº›æ˜¯ä»€ä¹ˆæœåŠ¡ï¼Ÿ </h2><br><p>  GitHub Actionsæ˜¯ä¸€ä¸ªå¹³å°ï¼Œå¯è®©æ‚¨ç®¡ç†è½¯ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œå…¶æºä»£ç æ‰˜ç®¡åœ¨GitHubä¸Šã€‚ å®é™…ä¸Šï¼ŒTravisCIï¼ŒCircleCIå’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è®¸å¤šå…¶ä»–</a>å…è´¹çš„CI / CDå¹³å°åœ¨Actionsæ–¹é¢è·å¾—äº†æ–°çš„ç«äº‰å¯¹æ‰‹ã€‚ </p><br><p>  GitHub Package Registryæ˜¯å·¥ä»¶çš„ä¸­å¤®å­˜å‚¨åº“ï¼›å½“å‰æ”¯æŒäº”ç§ä¸åŒç±»å‹çš„å·¥ä»¶ã€‚ </p><br><p> <em>åŠ¨ä½œä¸­å—æ”¯æŒçš„å·¥ä»¶ç±»å‹</em> </p><br><div class="scrollable-table"><table><thead><tr><th> è¡ŒåŠ¨æ”¯æŒ </th><th> ç±»æ¯” </th><th> è¯­è¨€èƒ½åŠ› </th></tr></thead><tbody><tr><td>  NPMè½¯ä»¶åŒ… </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://www.npmjs.com/</a> </td><td>  Javaè„šæœ¬ </td></tr><tr><td>  Dockeræ˜ åƒ </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://hub.docker.com/</a> </td><td>  -- </td></tr><tr><td>  Mavenå·¥ä»¶ </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://mvnrepository.com/</a> </td><td> çˆªå“‡ </td></tr><tr><td>  Nugetè½¯ä»¶åŒ… </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://www.nuget.org/</a> </td><td>  .NET </td></tr><tr><td> çº¢å®çŸ³å®çŸ³ </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://rubygems.org/</a> </td><td> çº¢å®çŸ³ </td></tr></tbody></table></div><br><p> è¿™æ˜¯å°†æ‰€æœ‰å·¥ä»¶æ”¾åœ¨ä¸€èµ·çš„ä¾¿åˆ©æœºä¼šï¼Œå› ä¸ºå¹¶éæ€»æ˜¯å»ºè®®éƒ¨ç½²Nexusæˆ–ArtifactoryæœåŠ¡å™¨ã€‚ </p><br><p>  GitHubä¸GitLabè¶Šæ¥è¶Šç›¸ä¼¼ï¼Œå¹¶ä¸”åœ¨æŸä¸ªåœ°æ–¹å®ƒå·²ç»è¶…è¶Šäº†å¯¹æ‰‹ï¼Œä¾‹å¦‚ï¼ŒGitLab <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å°šä¸</a>æ”¯æŒNuGetåŒ…å’ŒRuby gemã€‚ å®é™…ä¸Šï¼Œå¦‚æœæ›´æ—©åœ°è¿›è¡Œå¼€æºé¡¹ç›®ï¼Œåˆ™å¿…é¡»å°†å¤–éƒ¨é›†æˆè¿æ¥åˆ°GitHubï¼Œé‚£ä¹ˆç°åœ¨æ‰€æœ‰çš„é—®é¢˜éƒ½é›†ä¸­åœ¨ä¸€ä¸ªç¯®å­é‡Œã€‚ åœ¨è¿™é‡Œï¼Œè®©æ¯ä¸ªäººå†³å®šå®ƒçš„å¥½åï¼Œä½†è‡³å°‘å¾ˆæ–¹ä¾¿ã€‚ </p><br><h2 id="kak-poprobovat"> æ€ä¹ˆå°è¯•ï¼Ÿ </h2><br><p> ç›®å‰è¿™ä¸¤ç§æœåŠ¡éƒ½å¤„äºbetaæ¨¡å¼ï¼Œæ‚¨å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿™äº›</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é¡µé¢</a>ä¸Šæ³¨å†Œè¿›è¡Œbetaæµ‹è¯•ã€‚ </p><br><p> ä»å…¶ä»–æœåŠ¡çš„è¿ç§»éå¸¸ç®€å•ï¼Œæˆ‘å°†å‡ ä¸ªå® ç‰©é¡¹ç›®åˆ†åˆ«ä»TravisCIå’ŒDockerHubè¿ç§»åˆ°äº†Actionså’ŒPackage Registryã€‚ </p><br><p> æˆ‘å°†åœ¨ä¸€ä¸ªç¤ºä¾‹ä¸­å‘æ‚¨å±•ç¤ºå®ƒçš„å¤–è§‚ã€‚ è¯¥é¡¹ç›®æ˜¯æœ€å¸¸è§çš„ï¼Œæˆ‘åœ¨æœ¬æ–‡ä¸­<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¯¹æ­¤è¿›è¡Œäº†</a>ä»‹ç»ã€‚ æ²¡ä»€ä¹ˆå¤æ‚çš„ï¼Œé€šå¸¸çš„LaTeXä»£ç ï¼Œå€ŸåŠ©å…¶æ”¶é›†çš„å·¥ä»¶ï¼ˆ2ä¸ªPDFæ–‡ä»¶ï¼‰ï¼Œå°†å®ƒä»¬å‘å¸ƒåœ¨GitHubç‰ˆæœ¬ä¸­ã€‚ ä¸ºäº†ä¸ä¸‹è½½ä¸€å †LaTeXè½¯ä»¶åŒ…ï¼Œæˆ‘ç¼–å†™äº†ä¸€ä¸ªDockerfileï¼Œä»¥ä¾¿æ‚¨å¯ä»¥åœ¨ä»»ä½•æ“ä½œç³»ç»Ÿä¸‹æ–¹ä¾¿åœ°å·¥ä½œã€‚ </p><br><h3 id="package-registry"> åŒ…æ³¨å†Œè¡¨ </h3><br><p> ä¸ºäº†å¼€å§‹ä½¿ç”¨Package Registryè€Œä¸æ˜¯DockerHubï¼Œæ‚¨åªéœ€è¦æ‰§è¡Œä¸¤ä¸ªç®€å•æ­¥éª¤ã€‚ <br> åœ¨GitHubè®¾ç½®ä¸­åˆ›å»ºä¸€ä¸ªä»¤ç‰Œï¼ˆä»¤ç‰Œå¿…é¡»å…·æœ‰è¯»å†™å·¥ä»¶æƒé™ï¼‰ã€‚ </p><br><p><img src="https://habrastorage.org/webt/7z/aj/p_/7zajp_bcvr7zvdvup4ocwkavs9s.png"><br>  <em>ä»£å¸åˆ›å»ºé¡µé¢</em> </p><br><p> ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ›å»ºçš„ä»¤ç‰Œè¿›è¡Œèº«ä»½éªŒè¯å¹¶æ¨é€å·¥ä»¶ï¼Œè¿™å¾ˆç®€å•ï¼š </p><br><pre><code class="bash hljs">docker login docker.pkg.github.com --username amet13 docker tag docker-latex:0.0.1 docker.pkg.github.com/amet13/master-thesis/docker-latex:0.0.1 docker push docker.pkg.github.com/amet13/master-thesis/docker-latex:0.0.1</code> </pre> <br><p> è¯·æ³¨æ„ï¼Œæˆ‘åœ¨GitHubä¸Šå°å†™äº†æˆ‘çš„æ˜µç§°ï¼Œå¦åˆ™æ‚¨å°†ä»Dockerå¾—åˆ°é”™è¯¯ï¼š </p><br><pre> <code class="plaintext hljs">Error parsing reference: "docker.pkg.github.com/Amet13/master-thesis/docker-latex:0.0.1" is not a valid repository/tag: invalid reference format: repository name must be lowercase</code> </pre> <br><p> è¿™æ˜¯GitHub Webç•Œé¢ä¸­çš„å¤–è§‚ï¼š </p><br><p><img src="https://habrastorage.org/webt/il/n1/lk/iln1lkji7xcbwutpodohhtu6mac.png"><br>  <em>Dockeræ˜ åƒçš„è½¯ä»¶åŒ…æ³¨å†Œè¡¨é¡µé¢</em> </p><br><p> é™¤äº†ä¸‹è½½æœ€æ–°æ˜ åƒçš„è¯´æ˜ä¹‹å¤–ï¼Œè¿˜æä¾›ä¸‹è½½ç»Ÿè®¡ä¿¡æ¯ï¼Œè¿˜å¯ä»¥é€šè¿‡Webç•Œé¢ä¸‹è½½å•ç‹¬çš„Dockerå±‚ï¼Œè¿˜æä¾›æ˜ åƒä¸‹è½½å†å²è®°å½•ã€‚ </p><br><h3 id="actions"> åŠ¨ä½œ </h3><br><p> åŠ¨ä½œç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œä½†æ˜¯å¯¹äºé‚£äº›æ›¾ç»ä½¿ç”¨è¿‡ä»»ä½•å…¶ä»–CI / CDç³»ç»Ÿçš„äººæ¥è¯´ï¼Œè¿™å¹¶ä¸éš¾ç†è§£ã€‚ å°½ç®¡ä»¥å‰<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½¿ç”¨</a> HCLï¼Œä½†å£°æ˜å¼YAMLæè¿°äº†â€œæ“ä½œâ€ä¸­çš„é…ç½®ã€‚ </p><br><p> ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼ˆæˆ‘ä¸ä¼šæ•…æ„ç¿»è¯‘è¿™äº›å®šä¹‰ï¼Œæˆ‘è®¤ä¸ºè¿™é‡Œå¾ˆæ¸…æ¥šï¼‰ï¼š </p><br><ul><li> å·¥ä½œæµç¨‹-ç®¡ç†å­˜å‚¨åº“çš„è½¯ä»¶ç”Ÿå‘½å‘¨æœŸï¼ˆæ„å»ºï¼Œæµ‹è¯•ï¼Œæ‰“åŒ…ï¼Œå‘å¸ƒï¼Œéƒ¨ç½²ï¼‰çš„è¿‡ç¨‹ </li><li> å·¥ä½œæµæ–‡ä»¶-æè¿°å·¥ä½œæµçš„æ–‡ä»¶ï¼Œä½äºç›®å½•<code>.github/workflows/</code>å­˜å‚¨åº“çš„æ ¹ç›®å½•ä¸­ã€‚ </li><li>  Jobæ˜¯å·¥ä½œæµçš„æ¯ä¸€æ¬¡è¿è¡Œï¼Œéƒ½ä¼šè§¦å‘Jobï¼Œåœ¨æŸä¸ªæ—¶é—´ç‚¹å¯ä»¥å¯åŠ¨å¾ˆå¤šJob </li><li> æ­¥éª¤-æ¯ä¸ªä½œä¸šéƒ½æœ‰ä¸€ä¸ªæ­¥éª¤ï¼Œæ‚¨å¯ä»¥åœ¨æ¯ä¸ªæ­¥éª¤è¿è¡Œå‘½ä»¤æˆ–æ“ä½œ </li><li>  Action-ç”±æŸäººç¼–å†™çš„â€œæ’ä»¶â€ï¼Œåœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">awesome-actions</a>å­˜å‚¨åº“ä¸­å¯ä»¥æ‰¾åˆ°è®¸å¤šActionçš„åˆ—è¡¨ </li><li> è™šæ‹Ÿç¯å¢ƒ-ä½œä¸šè¿è¡Œçš„ç¯å¢ƒï¼ˆå®é™…ä¸Šï¼Œå®ƒæ˜¯Windowsï¼ŒmacOSæˆ–Linuxä¸Šçš„è™šæ‹Ÿæœºï¼‰ </li><li>  Runneræ˜¯ç”¨äºå¯åŠ¨Jobçš„å·²éƒ¨ç½²ç¯å¢ƒï¼Œä¸€æ¬¡åªèƒ½åœ¨Runnerä¸Šè¿è¡Œä¸€ä¸ªJob </li><li> äº‹ä»¶-è§¦å‘å·¥ä½œæµçš„äº‹ä»¶ï¼Œä¾‹å¦‚ï¼Œæ¨ï¼Œæ‹‰è¯·æ±‚ï¼ŒWebhookï¼ŒCronä½œä¸šç­‰ã€‚ </li><li> å·¥ä»¶-å·¥ä»¶ï¼ˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå›¾åƒï¼Œæ—¥å¿—ç­‰ï¼‰ </li></ul><br><p><img src="https://habrastorage.org/webt/li/o5/wo/lio5wo4cvnajpzvw29ohncr2v20.png"><br>  <em>è¿™å°±æ˜¯å·¥ä½œæµç¨‹ä¸­çš„â€œå·¥ä½œåˆ—è¡¨â€é¡µé¢ã€‚</em> </p><br><p> é™åˆ¶å’Œç¦æ­¢ï¼š </p><br><ul><li> æ¯ä¸ªå­˜å‚¨åº“20ä¸ªå·¥ä½œæµ </li><li> æ¯å°æ—¶1000ä¸ªAPIè¯·æ±‚ï¼Œç”¨äºå­˜å‚¨åº“ä¸­çš„æ‰€æœ‰æ“ä½œ </li><li> æœ€é•¿å·¥ä½œæ—¶é—´-6å°æ—¶ </li><li>  20ä¸ªä½œä¸šå¯ä»¥åœ¨å­˜å‚¨åº“ä¸­å¹¶è¡Œå·¥ä½œï¼ˆå¯¹äºæ‰€æœ‰å·¥ä½œæµç¨‹ï¼‰ </li><li> ç¦æ­¢å°†æ“ä½œç”¨äºåŠ å¯†è´§å¸æŒ–æ˜å’Œæ— æœåŠ¡å™¨è®¡ç®— </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤é“¾æ¥</a>æä¾›äº†æœ€æ–°æ–‡æ¡£ã€‚ </p><br><p><img src="https://habrastorage.org/webt/vt/up/tn/vtuptngx2wtzrzoz8g_odzyases.png"><br>  <em>è¿™æ˜¯çº¦ä¼¯è®°ä¹‹ä¸€çš„æ—¥å¿—</em> </p><br><h3 id="primer"> ä¾‹å­ </h3><br><p> è®©æˆ‘ä»¬å›åˆ°ç¤ºä¾‹ï¼Œ <a href="">è¿™æ˜¯</a>æˆ‘çš„é…ç½®ï¼Œæˆ‘ä»¬å°†åˆ†éƒ¨åˆ†å¯¹å…¶è¿›è¡Œè¯¦ç»†åˆ†æã€‚ </p><br><p> ä¸ºå·¥ä½œæµæŒ‡å®šä¸€ä¸ªåç§°ï¼Œå¹¶æè¿°åº”è¯¥åœ¨å“ªä¸ªè§¦å‘å™¨ä¸Šè§¦å‘ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡æ¡£ä¸­</a>æè¿°äº†æ‰€æœ‰è§¦å‘å™¨çš„åˆ—è¡¨ï¼‰ï¼š </p><br><pre> <code class="plaintext hljs">name: master-thesis on: [push]</code> </pre> <br><p> åœ¨å“ªä¸ªè™šæ‹Ÿç¯å¢ƒä¸Šè¿è¡Œä½œä¸šï¼š </p><br><pre> <code class="plaintext hljs">jobs: build: # ubuntu-latest, ubuntu-18.04, or ubuntu-16.04 # windows-latest, windows-2019, or windows-2016 # macOS-latest or macOS-10.14 runs-on: ubuntu-latest</code> </pre> <br><p> ç¬¬ä¸€æ­¥ï¼Œåœ¨<code>name:</code>æŒ‡å®šStepçš„åç§°ï¼ˆå¯é€‰ï¼‰ï¼Œåœ¨<code>uses:</code>æˆ‘ä»¬è¦ä½¿ç”¨å“ªä¸ªActionï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯·å…‹éš†å­˜å‚¨åº“ï¼š </p><br><pre> <code class="plaintext hljs"> steps: - name: Checkout repo uses: actions/checkout@v1</code> </pre> <br><p> åœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨Actionï¼Œè€Œä»…ä½¿ç”¨æˆ‘ä»¬çš„ä¸€ç»„å‘½ä»¤ç™»å½•åˆ°Package Registryï¼Œæ”¶é›†Dockeræ˜ åƒå¹¶å°†å…¶æ¨å…¥æ˜ åƒå­˜å‚¨åº“ã€‚ åœ¨<code>env:</code>å—ä¸­<code>env:</code>è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œæˆ‘ä»¬ä»ç§˜å¯†ä¸­è·å–å…¶ä¸­ä¹‹ä¸€ï¼š </p><br><pre> <code class="plaintext hljs"> - name: Build docker image and push it to the registry env: GITHUB_TOKEN: ${{ secrets.GH_TOKEN }} DOCKER_IMAGE_ORIGIN: "docker.pkg.github.com/amet13/master-thesis/docker-latex" run: | # Pull submodules git submodule init git submodule update --remote # Login to GitHub Packages and build Docker image docker login docker.pkg.github.com -u amet13 -p ${GITHUB_TOKEN} docker pull ${DOCKER_IMAGE_ORIGIN}:latest docker build -t ${DOCKER_IMAGE_ORIGIN}:${GITHUB_SHA} . # Generate PDF artifacts docker run --rm -i \ -v ${PWD}:/master-thesis:Z ${DOCKER_IMAGE_ORIGIN}:${GITHUB_SHA} \ bash -c "latexmk -xelatex -synctex=1 -jobname=master-thesis main.tex" docker run --rm -i \ -v ${PWD}:/master-thesis:Z ${DOCKER_IMAGE_ORIGIN}:${GITHUB_SHA} \ bash -c "cd presentation/ &amp;&amp; latexmk -xelatex -synctex=1 -jobname=presentation main.tex" # Publish Docker image to GitHub Packages (with latest tag) docker tag ${DOCKER_IMAGE_ORIGIN}:${GITHUB_SHA} ${DOCKER_IMAGE_ORIGIN}:latest docker push ${DOCKER_IMAGE_ORIGIN}:${GITHUB_SHA} docker push ${DOCKER_IMAGE_ORIGIN}:latest</code> </pre> <br><p> æˆ‘ç¡®ä¿¡ä¸ä¹…çš„å°†æ¥ä¼šå‡ºç°ä¸€ä¸ªActionï¼Œå®ƒå°†è‡ªåŠ¨æ ‡è®°å’Œæ¨é€å›¾åƒï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨ç¼–å†™Dockerå‘½ä»¤ã€‚ </p><br><p><img src="https://habrastorage.org/webt/bg/gw/oa/bggwoan0cceznbnkt5e_xqga1yo.png"><br>  <em>æ·»åŠ åŒ…å«githubä»¤ç‰Œçš„æœºå¯†</em> </p><br><p> æ„å»ºPDFä¹‹åçš„ä¸‹ä¸€æ­¥æ˜¯åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªå‘è¡Œç‰ˆï¼Œå¹¶å°†æ”¶é›†çš„å·¥ä»¶åŒ…æ‹¬åœ¨æ­¤å‘è¡Œç‰ˆä¸­ã€‚ ä¸ºäº†è‡ªåŠ¨åˆ›å»ºå‘è¡Œç‰ˆï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬ä¸‰æ–¹</a> Actionï¼Œå…¶ä¸­åœ¨<code>if:</code>å—ä¸­ï¼Œæ‚¨å¯ä»¥æŒ‡å®šå¯åŠ¨æ­¥éª¤çš„æ¡ä»¶-ä»…åœ¨åˆ›å»ºæ ‡è®°æ—¶ï¼š </p><br><pre> <code class="plaintext hljs"> - name: Create GitHub release with artifacts uses: softprops/action-gh-release@v1 if: startsWith(github.ref, 'refs/tags/') with: files: | master-thesis.pdf presentation/presentation.pdf name: "Build ${GITHUB_SHA}" env: GITHUB_TOKEN: ${{ secrets.GH_TOKEN }}</code> </pre> <br><h2 id="itogi"> æ€»ç»“ </h2><br><p> å°½ç®¡å¤„äºæµ‹è¯•ç‰ˆçŠ¶æ€ï¼Œä½†ä¸¤ç§æœåŠ¡éƒ½èƒ½æ­£å¸¸è¿è¡Œï¼Œæˆ‘æ•¢è‚¯å®šï¼Œå¾ˆå¤šäº‹æƒ…éƒ½å°†å®Œæˆã€‚ <br> åœ¨æŸäº›æ—¶å€™å¯èƒ½å¾ˆä¸æ–¹ä¾¿ï¼Œæ²¡æœ‰å…¨å±€å˜é‡ï¼Œä½†æ˜¯å¯ä»¥ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‹æ–</a>å®Œæˆã€‚ </p><br><p> æˆ‘å–œæ¬¢GitHubæ”¾å¼ƒHCLè€Œä½¿ç”¨YAMLçš„æ–¹æ³•ã€‚ æˆ‘è¿˜å–œæ¬¢å¯¹è®¸å¤šç±»å‹ä¸»æœºçš„æ”¯æŒï¼Œè¿™äº›ä¸»æœºçš„é™åˆ¶éå¸¸å°ï¼ˆç›®å‰ï¼‰ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•è¿›è¡Œçš„ã€‚ é€šå¸¸ï¼Œå¯¹äºGitHubä¸Šå…¬å…±å­˜å‚¨åº“ä¸­çš„ç®€å•ç®¡é“ï¼Œè¿™æ ·çš„ç»„åˆå°†éå¸¸æœ‰æ•ˆã€‚ </p><br><p>  <em>æœ¬æ–‡çš„ç¿»è¯‘å·²ç»åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åª’ä½“ä¸Šè¿›è¡Œ</a> ã€‚</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN468345/">https://habr.com/ru/post/zh-CN468345/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN468333/index.html">å¦‚ä½•ä½¿ç”¨Visual Studioè°ƒè¯•å’Œé…ç½®æ–‡ä»¶ä»»ä½•exeæ–‡ä»¶</a></li>
<li><a href="../zh-CN468337/index.html">ä½¿ç”¨Androidç‰ˆcronå¹¶æ·»åŠ Shellè„šæœ¬ä»¥åœ¨è®¾å¤‡å¯åŠ¨æ—¶è‡ªåŠ¨è¿è¡Œ</a></li>
<li><a href="../zh-CN468339/index.html">ä¸ºVisual Studio App Centerå¼•å…¥æ·±è‰²ä¸»é¢˜</a></li>
<li><a href="../zh-CN468341/index.html">Windowsç»ˆç«¯ä¸Šçš„Azure Cloud Shell</a></li>
<li><a href="../zh-CN468343/index.html">æ°å¤«Â·è´ç´¢æ–¯ï¼ˆJeff Bezosï¼‰ï¼šâ€œä¸ºäº†åœ°çƒçš„åˆ©ç›Šè€Œè¿›å…¥å¤ªç©ºâ€</a></li>
<li><a href="../zh-CN468347/index.html">MetricKitã€‚ iOSåº”ç”¨ç¨‹åºæ€§èƒ½åˆ†æ</a></li>
<li><a href="../zh-CN468351/index.html">å¸‚åœºå¾®è§‚ç»“æ„å’Œé€†å‘é€‰æ‹©</a></li>
<li><a href="../zh-CN468363/index.html">æˆ‘æ¥è‡ªæ‰‹æœºæ¸¸æˆç•Œçš„å·¨è‘—</a></li>
<li><a href="../zh-CN468367/index.html">äºšé©¬é€Šå®£å¸ƒå…¨çƒå˜æš–è®¡åˆ’</a></li>
<li><a href="../zh-CN468369/index.html">æˆ‘å¦‚ä½•åˆ›å»ºâ€œ WildMANâ€ï¼ˆæ¨¡ä»¿è®¸å¤š8ä½æ¸¸æˆï¼‰ï¼Œæœ€è¿‘åˆå°†å…¶ç§»æ¤åˆ°Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>