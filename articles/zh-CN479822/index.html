<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⤴️ 🤱🏻 🙅🏽 盒子中的猫，或紧凑型数据结构 🦆 👋🏼 🧣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="如果搜索树已扩展到整个RAM，并且即将根植服务器机房中的相邻机架，该怎么办？ 如何处理资源匮乏的倒排索引？ 如果用户收到“手机内存已满”并且应用程序只是重要容器负载的一半，我应该与Android开发联系吗？ 


 通常，是否可以压缩数据结构，使其占用的空间显着减少，但又不会失去其固有的优势？ 这样...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>盒子中的猫，或紧凑型数据结构</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/479822/"><p><img src="https://habrastorage.org/webt/uv/si/qc/uvsiqcnik2vqvi6zzwvjifbrv2w.jpeg" alt="图片"></p><br><p> 如果搜索树已扩展到整个RAM，并且即将根植服务器机房中的相邻机架，该怎么办？ 如何处理资源匮乏的倒排索引？ 如果用户收到“手机内存已满”并且应用程序只是重要容器负载的一半，我应该与Android开发联系吗？ </p><br><p> 通常，是否可以压缩数据结构，使其占用的空间显着减少，但又不会失去其固有的优势？ 这样就可以快速访问哈希表，并且平衡树保留其属性。 是的，你可以！ 为此，出现了计算机科学“简洁数据结构”的方向，探索了数据结构的紧凑表示形式。 自80年代末以来，它一直在发展，现在，它在大数据和高负载的荣耀中处于最佳状态。 </p><br><p> 同时，Habr上是否会有一位英雄可以连续讲话三遍 <br>  [səkˈsɪŋkt]？ </p><a name="habracut"></a><br><h2 id="dver-v-mir-kompaktnosti"> 紧凑世界的大门 </h2><br><p> 因此，如果满足以下条件，则数据结构被认为是紧凑的（简洁的）： </p><br><ul><li> 它占用接近信息理论下限的许多位。 </li><li> 它不需要预先打开包装即可充分使用。 </li></ul><br><p> 这意味着无损压缩算法与紧凑的数据结构无关。 毕竟，它们涉及从压缩状态恢复数据以进行处理。 </p><br><p> 图表，哈希表和其他事物的熟悉的“主流”实现也不是很好。 至少获取指向搜索树中子元素的指针。 他们吃了体面的地方： <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mrow" id="MJXp-Span-3"><span class="MJXp-mo" id="MJXp-Span-4" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> M </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mrow" id="MJXp-Span-7"><span class="MJXp-mo" id="MJXp-Span-8" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.135ex" height="2.298ex" viewBox="0 -780.1 4363.5 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4D" x="1593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="2644" y="0"></use><g transform="translate(3533,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-1"> O（MN）</script> 在哪里 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中号</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.442ex" height="2.057ex" viewBox="0 -780.1 1051.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4D" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> M </script>  -指针的长度，以及 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-11"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ñ</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> N </script>  -树中的节点数。 但是简洁的树实现使我们能够将渐近行为改进为 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-mn" id="MJXp-Span-14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-16" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mrow" id="MJXp-Span-18"><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N </font></font></span><span class="MJXp-mrow" id="MJXp-Span-21"><span class="MJXp-mo" id="MJXp-Span-22" style="margin-left: 0.278em; margin-right: 0.278em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.113ex" height="2.298ex" viewBox="0 -780.1 5645.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2B" x="1611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6F" x="2611" y="0"></use><g transform="translate(3097,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="3927" y="0"></use><g transform="translate(4815,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-4"> 2N + o（N）</script> 接近理论下限 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-23"><span class="MJXp-mn" id="MJXp-Span-24">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">N</span><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mrow" id="MJXp-Span-27"><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0em; margin-right: 0em;">Θ</span></span><span class="MJXp-mrow" id="MJXp-Span-29"><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">N</span><span class="MJXp-mrow" id="MJXp-Span-35"><span class="MJXp-mo" id="MJXp-Span-36" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.731ex" height="2.419ex" viewBox="0 -780.1 7203.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2212" x="1611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-398" x="2611" y="0"></use><g transform="translate(3390,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="4220" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6F" x="4518" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-67" x="5004" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="5484" y="0"></use><g transform="translate(6373,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-5"> 2N-Θ（log N）</script> 用于木材 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-37"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> N </script> 节点。 带指针长度 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">M</span><span class="MJXp-mo" id="MJXp-Span-41" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-42">8</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.703ex" height="2.057ex" viewBox="0 -780.1 2886.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="1329" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-38" x="2385" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> M = 8 </script> 字节，这意味着从 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-43"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">O</span><span class="MJXp-mrow" id="MJXp-Span-45"><span class="MJXp-mo" id="MJXp-Span-46" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-47">8</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">N</span><span class="MJXp-mrow" id="MJXp-Span-49"><span class="MJXp-mo" id="MJXp-Span-50" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.855ex" height="2.298ex" viewBox="0 -780.1 3812.5 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-38" x="1593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="2093" y="0"></use><g transform="translate(2982,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-8"> O（8N）</script> 到完全不同的渐近顺序-只是 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-51"><span class="MJXp-mn" id="MJXp-Span-52">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.226ex" height="2.057ex" viewBox="0 -780.1 1389 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="500" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> 2N </script> 考虑到 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-54"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">o</span><span class="MJXp-mrow" id="MJXp-Span-56"><span class="MJXp-mo" id="MJXp-Span-57" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">N</span><span class="MJXp-mrow" id="MJXp-Span-59"><span class="MJXp-mo" id="MJXp-Span-60" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.047ex" height="2.298ex" viewBox="0 -780.1 3034 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6F" x="0" y="0"></use><g transform="translate(485,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="1315" y="0"></use><g transform="translate(2203,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-10"> o（N）</script>  -相对于微不足道的价值 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-61"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> N </script>  。 </p><br><p>  <strong>紧凑（简洁）数据结构</strong>是位向量，多集，平面图和其他常用经典结构的压缩表示。 它们通常是静态的，只能构建一次，在使用过程中不会改变。 也有例外-简洁的结构，可以快速添加和删除元素。 </p><br><p> 大多数紧凑型结构都基于所谓的紧凑型可索引字典的概念。 这是位图（位图，位集）的特例。 位图本身是检查元素是否在特定集中的理想选择。 如果元素包含在集合中，则给定索引处的位值将设置为1，否则将其重置为0。一个重要的示例是inode位图ext4，UFS和其他Unix文件系统。 它存储有关inode表中哪些条目繁忙和哪些空闲的数据。 </p><br><p>  <b>紧凑的可索引字典</b>是相同的位图，但是由两个操作补充：rank和select。 这些行动是精简世界赖以生存的大象。 粗略地说，等级是对元素数量的计数，而select是对元素的搜索： </p><br><ul><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-63"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">n</span><span class="MJXp-msubsup" id="MJXp-Span-67"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-69" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mrow" id="MJXp-Span-70"><span class="MJXp-mo" id="MJXp-Span-71" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">i</span><span class="MJXp-mrow" id="MJXp-Span-73"><span class="MJXp-mo" id="MJXp-Span-74" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.715ex" height="2.419ex" viewBox="0 -780.1 4613.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6E" x="981" y="0"></use><g transform="translate(1581,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-78" x="737" y="-213"></use></g><g transform="translate(2607,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="3437" y="0"></use><g transform="translate(3783,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-12"> rank_x（i）</script> 返回等于的位数 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-75"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> x </script> 其索引位于段上 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-77"><span class="MJXp-mo" id="MJXp-Span-78" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-79">0</span><span class="MJXp-mo" id="MJXp-Span-80" style="margin-left: 0em; margin-right: 0.222em;">;</span><span class="MJXp-mrow" id="MJXp-Span-81"><span class="MJXp-mo" id="MJXp-Span-82" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span><span class="MJXp-mo" id="MJXp-Span-83" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.418ex" height="2.66ex" viewBox="0 -832 2332.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3B" x="779" y="0"></use><g transform="translate(1224,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-5D" x="2054" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14"> [0;我] </script>  。 由于 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-84"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> x </script>  -该位的值，则可以排他地等于0或1。 </li><li><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-86"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">c</span><span class="MJXp-msubsup" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93" style="margin-right: 0.05em;">t</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-94" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mrow" id="MJXp-Span-95"><span class="MJXp-mo" id="MJXp-Span-96" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">j</span><span class="MJXp-mrow" id="MJXp-Span-98"><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.783ex" height="2.419ex" viewBox="0 -780.1 5073.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="936" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-63" x="1701" y="0"></use><g transform="translate(2134,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-78" x="511" y="-213"></use></g><g transform="translate(3000,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6A" x="3830" y="0"></use><g transform="translate(4243,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-16"> select_x（j）</script> 返回索引 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-100"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">j</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6A" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-17"> j </script> 等于 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-102"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-18"> x </script>  。 常识说没有零发生，只有第一个。 因此 <math> </math> $ inline $ j&gt; 0 $ inline $   ：从一个开始进行计算。 也 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-108"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">j</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.298ex" viewBox="-11.5 -728.2 424 989.6" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.027ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6A" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-20"> j </script> 不能超过字典中等于的总位数 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-110"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-78" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-21"> x </script>  。 </li></ul><br><p> 假设我们有一个可索引的字典，其中设置了7位中的4位。 然后 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-112"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">n</span><span class="MJXp-msubsup" id="MJXp-Span-116"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117" style="margin-right: 0.05em;">k</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-118" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.939ex" height="2.298ex" viewBox="0 -780.1 2556.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6E" x="981" y="0"></use><g transform="translate(1581,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="737" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-22"> rank_1 </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">c</span><span class="MJXp-msubsup" id="MJXp-Span-125"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-127" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.851ex" height="2.298ex" viewBox="0 -780.1 2949.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="936" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-63" x="1701" y="0"></use><g transform="translate(2134,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="511" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-23"> select_1 </script> 将采用以下值： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1v/ly/i1/1vlyi1c_rbaafr2igbws11bgini.jpeg" width="400"></div><br><p>  <em>可索引字典的示例及其计算</em> <math> </math><em><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">n</span><span class="MJXp-msubsup" id="MJXp-Span-132"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133" style="margin-right: 0.05em;">k</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-134" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.939ex" height="2.298ex" viewBox="0 -780.1 2556.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6E" x="981" y="0"></use><g transform="translate(1581,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="737" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-24"> rank_1 </script></em>   <em>，</em> <math> </math><em><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-135"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">c</span><span class="MJXp-msubsup" id="MJXp-Span-141"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-143" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.851ex" height="2.298ex" viewBox="0 -780.1 2949.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="936" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-63" x="1701" y="0"></use><g transform="translate(2134,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="511" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-25"> select_1 </script></em>   <em>。</em> </p><br><p> 细心的读者会注意到选择是排名的倒数。 如果 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-144"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">n</span><span class="MJXp-msubsup" id="MJXp-Span-148"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149" style="margin-right: 0.05em;">k</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-150" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-151"><span class="MJXp-mo" id="MJXp-Span-152" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-153">5</span><span class="MJXp-mrow" id="MJXp-Span-154"><span class="MJXp-mo" id="MJXp-Span-155" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-156" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-157">4</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.217ex" height="2.298ex" viewBox="0 -780.1 6551.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6E" x="981" y="0"></use><g transform="translate(1581,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="737" y="-213"></use></g><g transform="translate(2556,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-35" x="3386" y="0"></use><g transform="translate(3887,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="4995" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-34" x="6051" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-26"> rank_1（5）= 4 </script> 然后 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-158"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">c</span><span class="MJXp-msubsup" id="MJXp-Span-164"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-166" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-167"><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-169">4</span><span class="MJXp-mrow" id="MJXp-Span-170"><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-172" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-173">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.13ex" height="2.298ex" viewBox="0 -780.1 6944.9 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="936" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-63" x="1701" y="0"></use><g transform="translate(2134,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="511" y="-213"></use></g><g transform="translate(2949,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-34" x="3779" y="0"></use><g transform="translate(4280,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="5388" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-35" x="6444" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-27"> select_1（4）= 5 </script>  。 </p><br><p> 有人看到了deja vu <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-174"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">n</span><span class="MJXp-msubsup" id="MJXp-Span-178"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179" style="margin-right: 0.05em;">k</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-180" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-181"><span class="MJXp-mo" id="MJXp-Span-182" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">i</span><span class="MJXp-mrow" id="MJXp-Span-184"><span class="MJXp-mo" id="MJXp-Span-185" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.597ex" height="2.298ex" viewBox="0 -780.1 4562.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6E" x="981" y="0"></use><g transform="translate(1581,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="737" y="-213"></use></g><g transform="translate(2556,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="3386" y="0"></use><g transform="translate(3732,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-28"> rank_1（i）</script>  ？ 所有这些都是因为此操作可以推广汉明权重-序列中非零字符的数量。 对于二进制序列，汉明的权重也称为<strong>popcount</strong> （人口计数）。 </p><br><p> 等级/选择也适用于丢弃的位。 这是一个计算示例 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-186"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">n</span><span class="MJXp-msubsup" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191" style="margin-right: 0.05em;">k</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-192" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.939ex" height="2.419ex" viewBox="0 -780.1 2556.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6E" x="981" y="0"></use><g transform="translate(1581,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="737" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-29"> rank_0 </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-193"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">c</span><span class="MJXp-msubsup" id="MJXp-Span-199"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-201" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.851ex" height="2.419ex" viewBox="0 -780.1 2949.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="936" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-63" x="1701" y="0"></use><g transform="translate(2134,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="511" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-30"> select_0 </script> 对于等于0的位： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0f/ef/nx/0fefnxyz85hi0jjtwlg6nal357a.jpeg" width="400"></div><br><p>  <em>紧凑型可索引字典的示例及其计算</em> <math> </math><em><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-202"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">n</span><span class="MJXp-msubsup" id="MJXp-Span-206"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207" style="margin-right: 0.05em;">k</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-208" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.939ex" height="2.419ex" viewBox="0 -780.1 2556.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6E" x="981" y="0"></use><g transform="translate(1581,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="737" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-31"> rank_0 </script></em>   <em>，</em> <math> </math><em><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-209"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">c</span><span class="MJXp-msubsup" id="MJXp-Span-215"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-217" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.851ex" height="2.419ex" viewBox="0 -780.1 2949.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="936" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-63" x="1701" y="0"></use><g transform="translate(2134,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="511" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-32"> select_0 </script></em>   <em>。</em> </p><br><h2 id="raspilit-derevo-na-bitiki"> 看见一棵树变成叮咬 </h2><br><p> 我们利用这些知识来构建紧凑的前缀树！ 前缀树非常适合按前缀查找字符串。 在他们的帮助下，通常会实现一个搜索提示（最简单）的下拉列表。 前缀树的简洁化方法非常普遍，并且最大程度地展示了紧凑结构的所有葡萄干。 与二叉树不同，二叉树会推导特定的公式，这些公式会干扰整体图像。 </p><br><p> 三种紧凑表示树的方法最为流行： </p><br><ul><li>  BP（平衡括号）-平衡括号序列。 </li><li>  DFUDS（深度优先一元度序列）-通过深度搜索对单位编码节点进行排序的序列。 </li><li>  LOUDS（级别排序的一元度序列）-按级别排序的单位编码节点的序列。 </li></ul><br><p> 将“一元级”转换为“单个编码节点”的可疑逻辑链是什么？ 那好 这些名称中的一元度表示一种根据子节点的数量使用一系列单位对树节点进行编码的方法，预告片中始终为零。 </p><br><p> 这三种表示树的方法通过快速操作的存在而结合在一起：查找父级； 找到第一个后代； 找到最后的后代； 找到左右相邻的节点。 其他操作的基本可能性和有效性因方法而异。 </p><br><p> 让我们关注<strong>LOUDS</strong>方法<strong>。</strong> 了解了这一点之后，与其他两个对象打交道将并不困难。 此外，去年，LOUDS树木庆祝了自己的30岁生日！  LOUDS树的其他有用操作在 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-218"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">O</span><span class="MJXp-mrow" id="MJXp-Span-220"><span class="MJXp-mo" id="MJXp-Span-221" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-222">1</span><span class="MJXp-mrow" id="MJXp-Span-223"><span class="MJXp-mo" id="MJXp-Span-224" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.791ex" height="2.298ex" viewBox="0 -780.1 2924 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4F" x="0" y="0"></use><g transform="translate(763,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="1593" y="0"></use><g transform="translate(2093,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span><script type="math/tex" id="MathJax-Element-33"> O（1）</script>  ：找到节点的后代数量； 计算节点所有后代（第一个后代，第二个， <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-225"><span class="MJXp-mrow" id="MJXp-Span-226"><span class="MJXp-mo" id="MJXp-Span-227" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg></span><script type="math/tex" id="MathJax-Element-34">我</script>  th等）； 找到 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-228"><span class="MJXp-mrow" id="MJXp-Span-229"><span class="MJXp-mo" id="MJXp-Span-230" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg></span><script type="math/tex" id="MathJax-Element-35">我</script> 后代。  LOUDS的缺点是缺乏一种有效的算法来计算子树节点的数量。 </p><br><p> 该方法的本质很简单：将树节点的密钥和所有有价值的信息存储在规则数组中，并将树结构表示为位序列。 共有两个静态结构。 但是，无需为指向树节点的指针分配内存：它们之间的转换是通过使用公式来实现的，其中使用了有效的等级/选择。 </p><br><p> 警告，前缀树： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mz/y9/4i/mzy94ipftwnhft_k1zix5wnrg9i.jpeg" width="400"></div><br><p>  <em>准备使用LOUDS方法进行压缩的前缀树。</em> </p><br><p> 准备以二进制形式表示的树： </p><br><ol><li> 将树附加到假根上。 他将很快发挥自己的作用。 </li><li> 与BFS（宽度优先搜索）一样，我们从左到右逐级对树的所有节点进行编号。 假根将被忽略，而实根将被零索引。 </li><li> 对节点进行编码。 树节点由对应于直接后代的单元序列加零编码。 如果节点有四个子节点，则其编码为11110，如果没有，则编码为0。假根首先编码。 它只有一个后代，因此其代码为10。 </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lp/qm/r3/lpqmr36ehepgq1c2f059gp6ldba.jpeg" width="450"></div><br><p>  <em>带有编号节点的前缀树。</em>  <em>节点被编码。</em> </p><br><p> 在逐层树遍历的过程中，形成了一个紧凑的可索引字典-从顶部到底部和从左到右粘在一起的编码节点的比特序列。 我们有一个21位的序列。 顺便说一句，它称为LBS（LOUDS位字符串）。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wr/vm/mg/wrvmmglftcnkt7kxqlsucgabj1u.jpeg" width="600"></div><br><p>  <em>前缀树的紧凑型可索引字典。</em> </p><br><p> 构建紧凑的LOUDS前缀树。 木材用LBS <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-231"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-36"> N </script> 节点（假不算）需要 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-233"><span class="MJXp-mn" id="MJXp-Span-234">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">N</span><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-237">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.229ex" height="2.178ex" viewBox="0 -780.1 3112.4 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-4E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2B" x="1611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="2611" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-37"> 2N + 1 </script> 一点。 仍然最有趣的是-将遍历树的公式转换为位图。 </p><br><p>  <strong>搜索第一个孩子</strong> 。 从节点过渡 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-238"><span class="MJXp-mrow" id="MJXp-Span-239"><span class="MJXp-mo" id="MJXp-Span-240" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg></span><script type="math/tex" id="MathJax-Element-38">我</script> 它的第一个子节点按照以下公式执行： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-241"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">d</span><span class="MJXp-mrow" id="MJXp-Span-252"><span class="MJXp-mo" id="MJXp-Span-253" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">i</span><span class="MJXp-mrow" id="MJXp-Span-255"><span class="MJXp-mo" id="MJXp-Span-256" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-257" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">c</span><span class="MJXp-msubsup" id="MJXp-Span-263"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-265" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-266"><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">i</span><span class="MJXp-mo" id="MJXp-Span-269" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-270">1</span><span class="MJXp-mrow" id="MJXp-Span-271"><span class="MJXp-mo" id="MJXp-Span-272" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-273" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">i</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="37.788ex" height="2.419ex" viewBox="0 -780.1 16269.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="896" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="1347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="1817" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-43" x="2178" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-68" x="2939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="3515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="3861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-64" x="4159" y="0"></use><g transform="translate(4683,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="5512" y="0"></use><g transform="translate(5858,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="6966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="8022" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="8492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="8958" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="9257" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-63" x="9723" y="0"></use><g transform="translate(10157,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="511" y="-213"></use></g><g transform="translate(10972,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="11802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2B" x="12370" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="13370" y="0"></use><g transform="translate(13871,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2212" x="14923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="15924" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-39"> firstChild（i）= select_0（i + 1）-i </script></p><br><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-275"><span class="MJXp-mrow" id="MJXp-Span-276"><span class="MJXp-mo" id="MJXp-Span-277" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg></span><script type="math/tex" id="MathJax-Element-40">我</script>  -这是前一块板中以紫色粘贴的节点号。 </p><br><p> 查找索引为3（字母“ a”）的节点的第一个后代： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-278"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">t</span><span class="MJXp-mrow" id="MJXp-Span-284"><span class="MJXp-mo" id="MJXp-Span-285" style="margin-left: 0.278em; margin-right: 0.278em;"></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">d</span><span class="MJXp-mrow" id="MJXp-Span-290"><span class="MJXp-mo" id="MJXp-Span-291" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-292">3</span><span class="MJXp-mrow" id="MJXp-Span-293"><span class="MJXp-mo" id="MJXp-Span-294" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-295" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">c</span><span class="MJXp-msubsup" id="MJXp-Span-301"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-303" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-304"><span class="MJXp-mo" id="MJXp-Span-305" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-306">3</span><span class="MJXp-mo" id="MJXp-Span-307" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-308">1</span><span class="MJXp-mrow" id="MJXp-Span-309"><span class="MJXp-mo" id="MJXp-Span-310" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-311" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-312">3</span><span class="MJXp-mo" id="MJXp-Span-313" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">c</span><span class="MJXp-msubsup" id="MJXp-Span-319"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-321" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-322"><span class="MJXp-mo" id="MJXp-Span-323" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-324">4</span><span class="MJXp-mrow" id="MJXp-Span-325"><span class="MJXp-mo" id="MJXp-Span-326" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-327" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-328">3</span><span class="MJXp-mo" id="MJXp-Span-329" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-330">9</span><span class="MJXp-mo" id="MJXp-Span-331" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-332">3</span><span class="MJXp-mo" id="MJXp-Span-333" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-334">6</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="69.922ex" height="2.419ex" viewBox="0 -780.1 30105.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="896" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="1347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="1817" y="0"></use><g transform="translate(2178,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)"></text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-68" x="2749" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="3325" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="3671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-64" x="3969" y="0"></use><g transform="translate(4493,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-33" x="5323" y="0"></use><g transform="translate(5823,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="6931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="7987" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="8457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="8923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="9222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-63" x="9688" y="0"></use><g transform="translate(10122,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="511" y="-213"></use></g><g transform="translate(10937,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-33" x="11767" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2B" x="12490" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="13490" y="0"></use><g transform="translate(13991,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2212" x="15043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-33" x="16044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="16822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="17878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="18348" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="18814" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="19113" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-63" x="19579" y="0"></use><g transform="translate(20013,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="511" y="-213"></use></g><g transform="translate(20828,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-34" x="21658" y="0"></use><g transform="translate(22159,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2212" x="23211" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-33" x="24212" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="24990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-39" x="26046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2212" x="26769" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-33" x="27770" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="28548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-36" x="29604" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-41">firsthild（3）= select_0（3 +1）-3 = select_0（4）-3 = 9-3 = 6 </script></p><br><p> 第一个子节点在索引6处，这是字母“ k”。 我们将公式应用于树的根： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-335"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345">d</span><span class="MJXp-mrow" id="MJXp-Span-346"><span class="MJXp-mo" id="MJXp-Span-347" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-348">0</span><span class="MJXp-mrow" id="MJXp-Span-349"><span class="MJXp-mo" id="MJXp-Span-350" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-351" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-352"><span class="MJXp-mo" id="MJXp-Span-353" style="margin-left: 0.278em; margin-right: 0.278em;">选</span></span><span class="MJXp-msubsup" id="MJXp-Span-354"><span class="MJXp-mrow" id="MJXp-Span-355" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-356" style="margin-left: 0.278em; margin-right: 0.278em;">择</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-357" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-358"><span class="MJXp-mo" id="MJXp-Span-359" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-360">0</span><span class="MJXp-mo" id="MJXp-Span-361" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-362">1</span><span class="MJXp-mrow" id="MJXp-Span-363"><span class="MJXp-mo" id="MJXp-Span-364" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-365" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-366">0</span><span class="MJXp-mo" id="MJXp-Span-367" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-368"><span class="MJXp-mo" id="MJXp-Span-369" style="margin-left: 0.278em; margin-right: 0.278em;">选</span></span><span class="MJXp-msubsup" id="MJXp-Span-370"><span class="MJXp-mrow" id="MJXp-Span-371" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-372" style="margin-left: 0.278em; margin-right: 0.278em;">择</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-373" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-374"><span class="MJXp-mo" id="MJXp-Span-375" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-376">1</span><span class="MJXp-mrow" id="MJXp-Span-377"><span class="MJXp-mo" id="MJXp-Span-378" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-379" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-380">1</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="54.213ex" height="2.419ex" viewBox="0 -780.1 23341.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="896" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="1347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="1817" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-43" x="2178" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-68" x="2939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="3515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="3861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-64" x="4159" y="0"></use><g transform="translate(4683,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="5512" y="0"></use><g transform="translate(6013,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="7121" y="0"></use><g transform="translate(8177,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">选</text></g><g transform="translate(9007,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">择</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="1173" y="-271"></use></g><g transform="translate(10291,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="11121" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2B" x="11844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="12844" y="0"></use><g transform="translate(13345,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2212" x="14397" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="15398" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="16176" y="0"></use><g transform="translate(17232,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">选</text></g><g transform="translate(18062,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">择</text><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="1173" y="-271"></use></g><g transform="translate(19346,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="20176" y="0"></use><g transform="translate(20677,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="21784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="22841" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-42"> firstChild（0）=选择_0（0 + 1）-0 =选择_0（1）= 1 </script></p><br><p> 我们找到了一个索引为1的工作表，即字母“ and”。 汇合！ 显然为什么需要假的根：索引节点的魔术。 在继续节点的后代之前，要避免奇怪的错误 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-381"><span class="MJXp-mrow" id="MJXp-Span-382"><span class="MJXp-mo" id="MJXp-Span-383" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg></span><script type="math/tex" id="MathJax-Element-43">我</script> 找出这些后代的数量会很高兴。 确实，对于树上的叶子，这并不奇怪，该公式给出的结果不足。 要在第一个后代之后找到下一个后代，您需要添加1。这是合乎逻辑的，因为一个节点的后代始终在附近，没有间隙。 但是，在遍历它们时，您需要及时停止-确定哪个后代被认为是最后一个。 </p><br><p>  <strong>搜索</strong>节点<strong>的最后一个后代</strong> <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-384"><span class="MJXp-mrow" id="MJXp-Span-385"><span class="MJXp-mo" id="MJXp-Span-386" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.928ex" height="2.298ex" viewBox="0 -780.1 830 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">我</text></g></svg></span><script type="math/tex" id="MathJax-Element-44">我</script> 分两个阶段进行：确定节点代码中最后一个单元的索引-它是指定给定后代的元素； 然后确定孩子本身的索引： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-387"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-397">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399">s</span><span class="MJXp-mrow" id="MJXp-Span-400"><span class="MJXp-mo" id="MJXp-Span-401" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">i</span><span class="MJXp-mrow" id="MJXp-Span-403"><span class="MJXp-mo" id="MJXp-Span-404" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-405" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-410">c</span><span class="MJXp-msubsup" id="MJXp-Span-411"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-413" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-414"><span class="MJXp-mo" id="MJXp-Span-415" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">i</span><span class="MJXp-mo" id="MJXp-Span-417" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-418">2</span><span class="MJXp-mrow" id="MJXp-Span-419"><span class="MJXp-mo" id="MJXp-Span-420" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-421" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-422">1</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="40.905ex" height="2.419ex" viewBox="0 -780.1 17611.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="1297" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-43" x="1659" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-68" x="2419" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="2996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="3341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-64" x="3640" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-50" x="4163" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6F" x="4915" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="5400" y="0"></use><g transform="translate(5870,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="6699" y="0"></use><g transform="translate(7045,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="8153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="9209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="9679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="10145" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-65" x="10444" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-63" x="10910" y="0"></use><g transform="translate(11344,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-30" x="511" y="-213"></use></g><g transform="translate(12159,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="12989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2B" x="13557" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-32" x="14557" y="0"></use><g transform="translate(15058,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2212" x="16110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="17111" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-45"> lastChildPos（i）= select_0（i + 2）-1 </script></p><br><p> 收到节点代码中最后一个单元的索引后，有必要验证此索引处的位是否确实已设置。 如果不是，则结论表明其本身：这是一个没有后代的节点，是一片叶子。 如果该位置1，则继续： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-423"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-425">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432">d</span><span class="MJXp-mrow" id="MJXp-Span-433"><span class="MJXp-mo" id="MJXp-Span-434" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">i</span><span class="MJXp-mrow" id="MJXp-Span-436"><span class="MJXp-mo" id="MJXp-Span-437" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-438" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">n</span><span class="MJXp-msubsup" id="MJXp-Span-442"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-443" style="margin-right: 0.05em;">k</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-444" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-445"><span class="MJXp-mo" id="MJXp-Span-446" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-452">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-453">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">s</span><span class="MJXp-mrow" id="MJXp-Span-459"><span class="MJXp-mo" id="MJXp-Span-460" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">i</span><span class="MJXp-mrow" id="MJXp-Span-462"><span class="MJXp-mo" id="MJXp-Span-463" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-464" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-465">1</span><span class="MJXp-mrow" id="MJXp-Span-466"><span class="MJXp-mo" id="MJXp-Span-467" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="49.515ex" height="2.298ex" viewBox="0 -780.1 21318.8 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="1297" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-43" x="1659" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-68" x="2419" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="2996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="3341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-64" x="3640" y="0"></use><g transform="translate(4163,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="4993" y="0"></use><g transform="translate(5338,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-3D" x="6446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-72" x="7503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="7954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6E" x="8484" y="0"></use><g transform="translate(9084,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="737" y="-213"></use></g><g transform="translate(10059,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="10889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-61" x="11188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="11717" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-74" x="12187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-43" x="12548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-68" x="13309" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="13885" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6C" x="14231" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-64" x="14529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-50" x="15053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-6F" x="15804" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-73" x="16290" y="0"></use><g transform="translate(16759,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">（</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMATHI-69" x="17589" y="0"></use><g transform="translate(17935,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-2212" x="18987" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://habr.com/ru/company/mailru/blog/479822/&amp;xid=17259,15700022,15700186,15700190,15700259,15700271&amp;usg=ALkJrhhAxwRLmJLveQ8cg_8CuZoKX1toTw#MJMAIN-31" x="19988" y="0"></use><g transform="translate(20488,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">）</text></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-46"> lastChild（i）= rank_1（lastChildPos（i）-1）</script></p><br><p> 查找节点2的最后一个后代（字母“ k”）。 </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-468"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-477">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-478">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-480">s</span><span class="MJXp-mrow" id="MJXp-Span-481"><span class="MJXp-mo" id="MJXp-Span-482" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-483">2</span><span class="MJXp-mrow" id="MJXp-Span-484"><span class="MJXp-mo" id="MJXp-Span-485" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-486" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491">c</span><span class="MJXp-msubsup" id="MJXp-Span-492"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-493" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-494" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-495"><span class="MJXp-mo" id="MJXp-Span-496" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-497">2</span><span class="MJXp-mo" id="MJXp-Span-498" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-499">2</span><span class="MJXp-mrow" id="MJXp-Span-500"><span class="MJXp-mo" id="MJXp-Span-501" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-502" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-503">1</span><span class="MJXp-mo" id="MJXp-Span-504" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">c</span><span class="MJXp-msubsup" id="MJXp-Span-510"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-512" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-513"><span class="MJXp-mo" id="MJXp-Span-514" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-515">4</span><span class="MJXp-mrow" id="MJXp-Span-516"><span class="MJXp-mo" id="MJXp-Span-517" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-518" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-519">1</span><span class="MJXp-mo" id="MJXp-Span-520" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-521">9</span><span class="MJXp-mo" id="MJXp-Span-522" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-523">1</span><span class="MJXp-mo" id="MJXp-Span-524" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-525"><span class="MJXp-mo" id="MJXp-Span-526" style="margin-left: 0em; margin-right: 0em;">$</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-47"> lastChildPos（2）= select_0（2 + 2）-1 = select_0（4）-1 = 9-1 = $ </script></p><br><p> 索引8的位为1，因此，节点2不是叶子，我们可以找到其最后一个子节点的索引： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-527"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-528">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-529">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">d</span><span class="MJXp-mrow" id="MJXp-Span-537"><span class="MJXp-mo" id="MJXp-Span-538" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-539">i</span><span class="MJXp-mrow" id="MJXp-Span-540"><span class="MJXp-mo" id="MJXp-Span-541" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-542" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-543"><span class="MJXp-mo" id="MJXp-Span-544" style="margin-left: 0.278em; margin-right: 0.278em;">等</span></span><span class="MJXp-msubsup" id="MJXp-Span-545"><span class="MJXp-mrow" id="MJXp-Span-546" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-547" style="margin-left: 0.278em; margin-right: 0.278em;">级</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-548" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-549"><span class="MJXp-mo" id="MJXp-Span-550" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-551">8</span><span class="MJXp-mo" id="MJXp-Span-552" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-553">1</span><span class="MJXp-mrow" id="MJXp-Span-554"><span class="MJXp-mo" id="MJXp-Span-555" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-556" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-557">5</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-48"> lastChild（i）=等级_1（8-1）= 5 </script></p><br><p>  <strong>后代的数量。</strong> 确定后代数量的最简单方法是从节点的最后一个后代的索引中减去其第一个后代的索引，然后加1： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-558"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">t</span><span class="MJXp-mrow" id="MJXp-Span-572"><span class="MJXp-mo" id="MJXp-Span-573" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">i</span><span class="MJXp-mrow" id="MJXp-Span-575"><span class="MJXp-mo" id="MJXp-Span-576" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-577" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-580">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">t</span><span class="MJXp-mrow" id="MJXp-Span-582"><span class="MJXp-mo" id="MJXp-Span-583" style="margin-left: 0.278em; margin-right: 0.278em;"></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-585">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">d</span><span class="MJXp-mrow" id="MJXp-Span-588"><span class="MJXp-mo" id="MJXp-Span-589" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-590">i</span><span class="MJXp-mrow" id="MJXp-Span-591"><span class="MJXp-mo" id="MJXp-Span-592" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-593" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">t</span><span class="MJXp-mrow" id="MJXp-Span-599"><span class="MJXp-mo" id="MJXp-Span-600" style="margin-left: 0.278em; margin-right: 0.278em;"></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-601">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-604">d</span><span class="MJXp-mrow" id="MJXp-Span-605"><span class="MJXp-mo" id="MJXp-Span-606" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607">i</span><span class="MJXp-mrow" id="MJXp-Span-608"><span class="MJXp-mo" id="MJXp-Span-609" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-610" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-611">1</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-49"> childrenCount（i）=lasthild（i）-firsthild（i）+ 1 </script></p><br><p> 但是假设节点 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-612"><span class="MJXp-mrow" id="MJXp-Span-613"><span class="MJXp-mo" id="MJXp-Span-614" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50">我</script> 有一个邻居节点 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-615"><span class="MJXp-mrow" id="MJXp-Span-616"><span class="MJXp-mo" id="MJXp-Span-617" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span><span class="MJXp-mo" id="MJXp-Span-618" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-619">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51">我+ 1 </script> 位于与 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-620"><span class="MJXp-mrow" id="MJXp-Span-621"><span class="MJXp-mo" id="MJXp-Span-622" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52">我</script>  。 然后子孙的数量 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-623"><span class="MJXp-mrow" id="MJXp-Span-624"><span class="MJXp-mo" id="MJXp-Span-625" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53">我</script> 可以定义为节点的第一个后代的索引之间的差 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-626"><span class="MJXp-mrow" id="MJXp-Span-627"><span class="MJXp-mo" id="MJXp-Span-628" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span><span class="MJXp-mo" id="MJXp-Span-629" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-630">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-54">我+ 1 </script> 和 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-631"><span class="MJXp-mrow" id="MJXp-Span-632"><span class="MJXp-mo" id="MJXp-Span-633" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55">我</script>  ： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-638">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-640">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-643">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647">t</span><span class="MJXp-mrow" id="MJXp-Span-648"><span class="MJXp-mo" id="MJXp-Span-649" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-650">i</span><span class="MJXp-mrow" id="MJXp-Span-651"><span class="MJXp-mo" id="MJXp-Span-652" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-653" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-654">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-656">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-657">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-658">t</span><span class="MJXp-mrow" id="MJXp-Span-659"><span class="MJXp-mo" id="MJXp-Span-660" style="margin-left: 0.278em; margin-right: 0.278em;"></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-661">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-662">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">d</span><span class="MJXp-mrow" id="MJXp-Span-665"><span class="MJXp-mo" id="MJXp-Span-666" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667">i</span><span class="MJXp-mo" id="MJXp-Span-668" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-669">1</span><span class="MJXp-mrow" id="MJXp-Span-670"><span class="MJXp-mo" id="MJXp-Span-671" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-672" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-673">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-677">t</span><span class="MJXp-mrow" id="MJXp-Span-678"><span class="MJXp-mo" id="MJXp-Span-679" style="margin-left: 0.278em; margin-right: 0.278em;"></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-683">d</span><span class="MJXp-mrow" id="MJXp-Span-684"><span class="MJXp-mo" id="MJXp-Span-685" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-686">i</span><span class="MJXp-mrow" id="MJXp-Span-687"><span class="MJXp-mo" id="MJXp-Span-688" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-56"> childrenCount（i）=firsthild（i + 1）-firsthild（i）</script></p><br><p> 节点的后代也按顺序编号。 如果是第一个子孙 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-689"><span class="MJXp-mrow" id="MJXp-Span-690"><span class="MJXp-mo" id="MJXp-Span-691" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57">我</script> 那是吗 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-692"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">j</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> j </script> 然后第二个- <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-694"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695">j</span><span class="MJXp-mo" id="MJXp-Span-696" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-697">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-59"> j + 1 </script> 依此类推，直到这个级别上相邻节点的后代 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-698"><span class="MJXp-mrow" id="MJXp-Span-699"><span class="MJXp-mo" id="MJXp-Span-700" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span><span class="MJXp-mo" id="MJXp-Span-701" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-702">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60">我+ 1 </script>  （如果有）。 </p><br><p> 索引为1的叶子“ and”的后代数量预期为零： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-703"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-704">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-706">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-707">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-710">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-711">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-712">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-714">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-715">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">t</span><span class="MJXp-mrow" id="MJXp-Span-717"><span class="MJXp-mo" id="MJXp-Span-718" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-719">1</span><span class="MJXp-mrow" id="MJXp-Span-720"><span class="MJXp-mo" id="MJXp-Span-721" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-722" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-723"><span class="MJXp-mo" id="MJXp-Span-724" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-726">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-727">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-728">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-729">c</span><span class="MJXp-msubsup" id="MJXp-Span-730"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-731" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-732" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-733"><span class="MJXp-mo" id="MJXp-Span-734" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-735">2</span><span class="MJXp-mo" id="MJXp-Span-736" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-737">1</span><span class="MJXp-mrow" id="MJXp-Span-738"><span class="MJXp-mo" id="MJXp-Span-739" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-740" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-741">2</span><span class="MJXp-mrow" id="MJXp-Span-742"><span class="MJXp-mo" id="MJXp-Span-743" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-744" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mrow" id="MJXp-Span-745"><span class="MJXp-mo" id="MJXp-Span-746" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-747">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-750">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">c</span><span class="MJXp-msubsup" id="MJXp-Span-752"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-753" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-754" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-755"><span class="MJXp-mo" id="MJXp-Span-756" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-757">1</span><span class="MJXp-mo" id="MJXp-Span-758" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-759">1</span><span class="MJXp-mrow" id="MJXp-Span-760"><span class="MJXp-mo" id="MJXp-Span-761" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-762" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-763">1</span><span class="MJXp-mrow" id="MJXp-Span-764"><span class="MJXp-mo" id="MJXp-Span-765" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-766" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-767">3</span><span class="MJXp-mo" id="MJXp-Span-768" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-769">3</span><span class="MJXp-mo" id="MJXp-Span-770" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-771">0</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-61"> childrenCount（1）=（select_0（2 + 1）-2）-（select_0（1 + 1）-1）= 3-3 = 0 </script></p><br><p>  <strong>父级搜索</strong>节点 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-772"><span class="MJXp-mrow" id="MJXp-Span-773"><span class="MJXp-mo" id="MJXp-Span-774" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62">我</script> 按以下公式组织： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-775"><span class="MJXp-mrow" id="MJXp-Span-776"><span class="MJXp-mo" id="MJXp-Span-777" style="margin-left: 0.278em; margin-right: 0.278em;">父</span></span><span class="MJXp-mrow" id="MJXp-Span-778"><span class="MJXp-mo" id="MJXp-Span-779" style="margin-left: 0.278em; margin-right: 0.278em;">母</span></span><span class="MJXp-mrow" id="MJXp-Span-780"><span class="MJXp-mo" id="MJXp-Span-781" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782">i</span><span class="MJXp-mrow" id="MJXp-Span-783"><span class="MJXp-mo" id="MJXp-Span-784" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-785" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-786"><span class="MJXp-mo" id="MJXp-Span-787" style="margin-left: 0.278em; margin-right: 0.278em;">等</span></span><span class="MJXp-msubsup" id="MJXp-Span-788"><span class="MJXp-mrow" id="MJXp-Span-789" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-790" style="margin-left: 0.278em; margin-right: 0.278em;">级</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-791" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-792"><span class="MJXp-mo" id="MJXp-Span-793" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-794">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-795">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-796">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-797">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798">c</span><span class="MJXp-msubsup" id="MJXp-Span-799"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-800" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-801" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-802"><span class="MJXp-mo" id="MJXp-Span-803" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-804">i</span><span class="MJXp-mo" id="MJXp-Span-805" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-806">1</span><span class="MJXp-mrow" id="MJXp-Span-807"><span class="MJXp-mo" id="MJXp-Span-808" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-809" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-810">1</span><span class="MJXp-mrow" id="MJXp-Span-811"><span class="MJXp-mo" id="MJXp-Span-812" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-813" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-814">1</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-63">父母（i）=等级_0（select_1（i + 1）-1）-1 </script></p><br><p> 我们将使用它来搜索节点6的父节点（字母“ k”）： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-815"><span class="MJXp-mrow" id="MJXp-Span-816"><span class="MJXp-mo" id="MJXp-Span-817" style="margin-left: 0.278em; margin-right: 0.278em;">父</span></span><span class="MJXp-mrow" id="MJXp-Span-818"><span class="MJXp-mo" id="MJXp-Span-819" style="margin-left: 0.278em; margin-right: 0.278em;">母</span></span><span class="MJXp-mrow" id="MJXp-Span-820"><span class="MJXp-mo" id="MJXp-Span-821" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-822">6</span><span class="MJXp-mrow" id="MJXp-Span-823"><span class="MJXp-mo" id="MJXp-Span-824" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-825" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-826"><span class="MJXp-mo" id="MJXp-Span-827" style="margin-left: 0.278em; margin-right: 0.278em;">等</span></span><span class="MJXp-msubsup" id="MJXp-Span-828"><span class="MJXp-mrow" id="MJXp-Span-829" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-830" style="margin-left: 0.278em; margin-right: 0.278em;">级</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-831" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-832"><span class="MJXp-mo" id="MJXp-Span-833" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-834">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-835">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-838">c</span><span class="MJXp-msubsup" id="MJXp-Span-839"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-841" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-842"><span class="MJXp-mo" id="MJXp-Span-843" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-844">7</span><span class="MJXp-mrow" id="MJXp-Span-845"><span class="MJXp-mo" id="MJXp-Span-846" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-847" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-848">1</span><span class="MJXp-mrow" id="MJXp-Span-849"><span class="MJXp-mo" id="MJXp-Span-850" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-851" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-852">1</span><span class="MJXp-mo" id="MJXp-Span-853" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-854"><span class="MJXp-mo" id="MJXp-Span-855" style="margin-left: 0.278em; margin-right: 0.278em;">等</span></span><span class="MJXp-msubsup" id="MJXp-Span-856"><span class="MJXp-mrow" id="MJXp-Span-857" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-858" style="margin-left: 0.278em; margin-right: 0.278em;">级</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-859" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mrow" id="MJXp-Span-860"><span class="MJXp-mo" id="MJXp-Span-861" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-862">9</span><span class="MJXp-mrow" id="MJXp-Span-863"><span class="MJXp-mo" id="MJXp-Span-864" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-865" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-866">1</span><span class="MJXp-mo" id="MJXp-Span-867" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-868">3</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-64">父母（6）=等级_0（select_1（7）-1）-1 =等级_0（9）-1 = 3 </script></p><br><p> 这是节点3，字母“ a”。 </p><br><p> 了解了子代索引和父代索引的公式后，遍历整棵树就很容易了。 最主要的是不要忘记处理根和叶的边界条件。 </p><br><p> 关于BP和DFUDS方法的几个科比。 两种方法都有空间渐近性- <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-869"><span class="MJXp-mn" id="MJXp-Span-870">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-871">N</span><span class="MJXp-mo" id="MJXp-Span-872" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873">o</span><span class="MJXp-mrow" id="MJXp-Span-874"><span class="MJXp-mo" id="MJXp-Span-875" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876">N</span><span class="MJXp-mrow" id="MJXp-Span-877"><span class="MJXp-mo" id="MJXp-Span-878" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65"> 2N + o（N）</script> 取材于 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-879"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-880">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-66"> N </script> 节点，并且两者在以开括号和闭括号的形式表示树节点时都相似。 </p><br><p>  <strong>BP</strong> （平衡括号）将树转换为一系列括号，每个节点成对。 为了做到这一点，树深入了人间。 每个节点访问两次。 第一次访问时，记录了括号，第二次访问时，记录了括号。 它们之间是孩子的括号。 </p><br><p> 以位图的形式表示括号的顺序很方便，其中1是左括号，0是右括号。 精炼了与BP配合使用的所有公式，以便快速搜索。 与LOUDS不同，BP使您可以快速计算子树的大小并确定两个节点的最接近的公共祖先。 但是找到 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-881"><span class="MJXp-mrow" id="MJXp-Span-882"><span class="MJXp-mo" id="MJXp-Span-883" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-67">我</script>  -第一个后代比在LOUDS中复杂得多。 </p><br><p>  <strong>DFUDS</strong> （深度优先一元序列）与BP和LOUDS相似。 借助BP，它将深度的树木行走及其支架表示形式结合在一起。 括号的原理与LOUDS中编码节点的原理相同。 在遍历树之前，我们预先在括号序列中添加一个左括号。 然后，在遍历节点时，我们根据后代的数量加上一个封闭的括号将其括起来。 事实证明，在DFUDS中存储后代的局部性高于BP。 子树大小的计算和最近的共同祖先的搜索 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-884"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-885">O</span><span class="MJXp-mrow" id="MJXp-Span-886"><span class="MJXp-mo" id="MJXp-Span-887" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-888">1</span><span class="MJXp-mrow" id="MJXp-Span-889"><span class="MJXp-mo" id="MJXp-Span-890" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-68"> O（1）</script>  。 但是确定子树的高度并找到父树 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-891"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-892">j</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-69"> j </script> 级-DFUDS的繁重操作。 </p><br><p> 为了清楚起见，我们以小树为例比较LOUDS，BP和DFUDS方法。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vw/0t/ny/vw0tny0iapyww1n-lfrzhjawcrc.jpeg" width="400"></div><br><p>  <em>树的节点用橙色编号，就像在宽度上行走（对于LOUDS）一样，蓝色-就像在深度上行走时（对于BP和DFUDS）一样。</em> </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/af/7j/e_/af7je_qh_ngnl-rxaonpzayfazw.jpeg" width="500"></div><br><p>  <em>LOUDS，BP和DFUDS树视图。</em> </p><br><p> 如果您发现英语作品中的公式有所不同，请不要感到惊讶。 在数学家中，有很多人从一个索引开始。 一些开发人员认为等级和范围辅音一词，因此他们使等级的时间减半。 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-893"><span class="MJXp-mo" id="MJXp-Span-894" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-895">0</span><span class="MJXp-mo" id="MJXp-Span-896" style="margin-left: 0em; margin-right: 0.222em;">;</span><span class="MJXp-mrow" id="MJXp-Span-897"><span class="MJXp-mo" id="MJXp-Span-898" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span><span class="MJXp-mrow" id="MJXp-Span-899"><span class="MJXp-mo" id="MJXp-Span-900" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-70-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-70"> [0;我）</script>  。 由于需要保持等级/选择的对称性，他们计算 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-901"><span class="MJXp-mrow" id="MJXp-Span-902"><span class="MJXp-mo" id="MJXp-Span-903" style="margin-left: 0.278em; margin-right: 0.278em;">选</span></span><span class="MJXp-mrow" id="MJXp-Span-904"><span class="MJXp-mo" id="MJXp-Span-905" style="margin-left: 0.278em; margin-right: 0.278em;">择</span></span><span class="MJXp-mrow" id="MJXp-Span-906"><span class="MJXp-mo" id="MJXp-Span-907" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908">i</span><span class="MJXp-mrow" id="MJXp-Span-909"><span class="MJXp-mo" id="MJXp-Span-910" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-71-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-71">选择（i）</script> 怎么 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-911"><span class="MJXp-mrow" id="MJXp-Span-912"><span class="MJXp-mo" id="MJXp-Span-913" style="margin-left: 0.278em; margin-right: 0.278em;">选</span></span><span class="MJXp-mrow" id="MJXp-Span-914"><span class="MJXp-mo" id="MJXp-Span-915" style="margin-left: 0.278em; margin-right: 0.278em;">择</span></span><span class="MJXp-mrow" id="MJXp-Span-916"><span class="MJXp-mo" id="MJXp-Span-917" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918">i</span><span class="MJXp-mo" id="MJXp-Span-919" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-920">1</span><span class="MJXp-mrow" id="MJXp-Span-921"><span class="MJXp-mo" id="MJXp-Span-922" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-72-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-72">选择（i + 1）</script>  。 但是这种形式的某些公式看起来较短。 </p><br><h2 id="razrezhennyy-massiv-vzboltat-no-ne-smeshivat"> 稀疏阵列：摇动但不要混合 </h2><br><p> 稀疏数组是从字面上创建用于压缩的另一种结构。 此类数组的大小有时比填充元素的数量大几个数量级。 空元素可以采用默认值，也可以标有null。 每当需要存储许多对象及其之间的关系时，稀疏的数组就会出现在地平线上。 立即想到社交网络上的朋友图，搜索引擎排名算法，类似Excel的表格，芯片中包含数十亿个晶体管的电路模拟器。 </p><br><p> 这样的数组通常是Lovecraftian风格的独眼巨人，天真地实现它们不适合RAM，实际上是空的。 根据内存和速度的要求，稀疏数组会变成更紧凑的哈希表，邻接表，二叉树...或简洁表。 </p><br><p> 假设我们有一个稀疏的字符串数组。 附加一个紧凑的可索引字典。 它会给什么？ </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lq/b3/g9/lqb3g9tpjmvdh7guqdohhpcjqgy.jpeg" width="450"></div><br><p>  <em>带有位图的稀疏数组。</em> </p><br><p> 现在，无需直接访问原始数组，就可以轻松检查感兴趣的索引中是否有元素。 没有什么可以通过丢弃所有未填充的元素来缩小原始数组的： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/g7/ol/7t/g7ol7tgfr8xup1ijubai1zjqgm8.jpeg" width="350"></div><br><p>  <em>没有空元素的数组。</em> </p><br><p>  <strong>计算压缩数组中的索引。</strong> 检查元素的存在之后，最好在原始数组中访问其值，即映射索引 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-923"><span class="MJXp-mrow" id="MJXp-Span-924"><span class="MJXp-mo" id="MJXp-Span-925" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-73-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-73">我</script> 在索引字典索引中 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-926"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-927">j</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-74-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-74"> j </script> 在压缩数组中。 毫不奇怪，排名被用于此： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-928"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-929">j</span><span class="MJXp-mo" id="MJXp-Span-930" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-931">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-932">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-933">n</span><span class="MJXp-msubsup" id="MJXp-Span-934"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935" style="margin-right: 0.05em;">k</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-936" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-937"><span class="MJXp-mo" id="MJXp-Span-938" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-939">i</span><span class="MJXp-mrow" id="MJXp-Span-940"><span class="MJXp-mo" id="MJXp-Span-941" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-942" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-943">1</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-75-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-75"> j = rank_1（i）-1 </script></p><br><p> 让我们检查一下第八元素的情况： <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-944"><span class="MJXp-mrow" id="MJXp-Span-945"><span class="MJXp-mo" id="MJXp-Span-946" style="margin-left: 0.278em; margin-right: 0.278em;">位</span></span><span class="MJXp-mrow" id="MJXp-Span-947"><span class="MJXp-mo" id="MJXp-Span-948" style="margin-left: 0.278em; margin-right: 0.278em;">图</span></span><span class="MJXp-mo" id="MJXp-Span-949" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-950">8</span><span class="MJXp-mo" id="MJXp-Span-951" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-952" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-953">0</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-76-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-76">位图[8] = 0 </script>  。 因此，在原始数组中没有这样的元素。 那元素7呢？ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-954"><span class="MJXp-mrow" id="MJXp-Span-955"><span class="MJXp-mo" id="MJXp-Span-956" style="margin-left: 0.278em; margin-right: 0.278em;">位</span></span><span class="MJXp-mrow" id="MJXp-Span-957"><span class="MJXp-mo" id="MJXp-Span-958" style="margin-left: 0.278em; margin-right: 0.278em;">图</span></span><span class="MJXp-mo" id="MJXp-Span-959" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-960">7</span><span class="MJXp-mo" id="MJXp-Span-961" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-962" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-963">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-77-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-77">位图[7] = 1 </script>  。 获得其价值： <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-964"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-965">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-966">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-967">n</span><span class="MJXp-msubsup" id="MJXp-Span-968"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-969" style="margin-right: 0.05em;">k</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-970" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-971"><span class="MJXp-mo" id="MJXp-Span-972" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-973">7</span><span class="MJXp-mrow" id="MJXp-Span-974"><span class="MJXp-mo" id="MJXp-Span-975" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-976" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-977">1</span><span class="MJXp-mo" id="MJXp-Span-978" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-979">3</span><span class="MJXp-mo" id="MJXp-Span-980" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-981">1</span><span class="MJXp-mo" id="MJXp-Span-982" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-983">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-78-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-78"> rank_1（7）-1 = 3-1 = 2 </script>  。 在索引2处为“开始”。 </p><br><p>  <strong>计算源数组中的索引。</strong> 当然，在数组中，您将需要按值搜索元素！ 如果数据未排序，则搜索将减少为搜索 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-984"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-985">O</span><span class="MJXp-mrow" id="MJXp-Span-986"><span class="MJXp-mo" id="MJXp-Span-987" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988">N</span><span class="MJXp-mrow" id="MJXp-Span-989"><span class="MJXp-mo" id="MJXp-Span-990" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-79-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-79"> O（N）</script> 在哪里 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-991"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-80-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-80"> N </script>  -非空元素的数量。 对于找到的物品 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-993"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-994">j</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-81-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-81"> j </script> 可能需要获取其索引 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-995"><span class="MJXp-mrow" id="MJXp-Span-996"><span class="MJXp-mo" id="MJXp-Span-997" style="margin-left: 0.278em; margin-right: 0.278em;">我</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-82-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-82">我</script> 好像阵列没有收缩。 为此，请使用select（等级的倒数）： </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-998"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999">i</span><span class="MJXp-mo" id="MJXp-Span-1000" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1001">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1002">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1003">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1004">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1005">c</span><span class="MJXp-msubsup" id="MJXp-Span-1006"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1007" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1008" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1009"><span class="MJXp-mo" id="MJXp-Span-1010" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1011">j</span><span class="MJXp-mo" id="MJXp-Span-1012" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1013">1</span><span class="MJXp-mrow" id="MJXp-Span-1014"><span class="MJXp-mo" id="MJXp-Span-1015" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-83-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-83"> i = select_1（j + 1）</script></p><br><p> 例如，找到“ C ++”行。 在紧凑数组中，它位于索引0处。它在原始数组中的索引为 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1016"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1017">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1018">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1019">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1020">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1021">c</span><span class="MJXp-msubsup" id="MJXp-Span-1022"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1023" style="margin-right: 0.05em;">t</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1024" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1025"><span class="MJXp-mo" id="MJXp-Span-1026" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-1027">0</span><span class="MJXp-mo" id="MJXp-Span-1028" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1029">1</span><span class="MJXp-mrow" id="MJXp-Span-1030"><span class="MJXp-mo" id="MJXp-Span-1031" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mo" id="MJXp-Span-1032" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1033">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-84-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-84"> select_1（0 + 1）= 3 </script>  。 </p><br><p> 在带有行的示例中，显着节省了内存。 如果将数组设计为存储具有多个字段的类，则节省的费用将变得更加重要。 此外，在紧凑型数组中搜索比在大型且稀疏数组中搜索更快：处理器可以更好地缓存它。 与数字，字符串或特殊自定义类型的常规数组相比，按位索引的字典更有可能适合高速缓存行。 </p><br><p> 当然要储存 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1034"><span class="MJXp-msubsup" id="MJXp-Span-1035"><span class="MJXp-mn" id="MJXp-Span-1036" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1037" style="vertical-align: 0.5em;"><span class="MJXp-mn" id="MJXp-Span-1038">30</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-85-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-85"> 2 ^ {30} </script> 元素描述的方法不合适。 它的适用性在索引增长出现问题的地方结束。 但是，当然，这种压缩数组及其变体的方法有其独特的优势。 一个日常的例子是BitTorrent协议的实现。 位图包含有关下载的文件段的信息，并且同级交换它们的段的索引。 一个空间示例是漫游者，航海家和新视野站使用的分段数据传输选项，在跨海王星空地上耕作。 </p><br><p> 所描述的前缀树和稀疏数组的简洁化示例建立在共同的基础上。 它基于对排名/选择操作有效性的坚定信念。 没有它，紧凑但足够快的结构的整个理论就会在接缝处破裂。 在学位论文之外使用紧凑结构的适当性取决于等级和选择速度。 </p><br><p> 实际上，可以非常有效地实施以下操作： <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1039"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1040">O</span><span class="MJXp-mrow" id="MJXp-Span-1041"><span class="MJXp-mo" id="MJXp-Span-1042" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mn" id="MJXp-Span-1043">1</span><span class="MJXp-mrow" id="MJXp-Span-1044"><span class="MJXp-mo" id="MJXp-Span-1045" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-86-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-86"> O（1）</script>  ; 选择- <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1046"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1047">O</span><span class="MJXp-mrow" id="MJXp-Span-1048"><span class="MJXp-mo" id="MJXp-Span-1049" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mrow" id="MJXp-Span-1050"><span class="MJXp-mo" id="MJXp-Span-1051" style="margin-left: 0.278em; margin-right: 0.278em;">日</span></span><span class="MJXp-mrow" id="MJXp-Span-1052"><span class="MJXp-mo" id="MJXp-Span-1053" style="margin-left: 0.278em; margin-right: 0.278em;">志</span></span><span class="MJXp-mrow" id="MJXp-Span-1054"><span class="MJXp-mo" id="MJXp-Span-1055" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1056">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1057">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1058">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1059">N</span><span class="MJXp-mrow" id="MJXp-Span-1060"><span class="MJXp-mo" id="MJXp-Span-1061" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span><span class="MJXp-mrow" id="MJXp-Span-1062"><span class="MJXp-mo" id="MJXp-Span-1063" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-87-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-87"> O（日志（log N））</script>  ，这几乎是恒定的。 当然，这并非没有技巧。 而且由于在任何复杂情节的作品中都必须轻描淡写，所以我将在这里停止。 </p><br><h2 id="interesnye-fakty"> 有趣的事实 </h2><br><p>  <strong>就信息论而言，占用资源的理论下限是多少？</strong> 假设一个数据结构存储了很多 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1064"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1065">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-88-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-88"> N </script> 元素。 为了识别它们而不会发生冲突，您需要不少于 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1066"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1067">X</span><span class="MJXp-mo" id="MJXp-Span-1068" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1069">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1070">o</span><span class="MJXp-msubsup" id="MJXp-Span-1071"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1072" style="margin-right: 0.05em;">g</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1073" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1074">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-89-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-89"> X = log_2N </script>  。 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1075"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1076">X</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-90-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-90"> X </script> 并且有一个由Hartley公式确定的下界。 在某些特殊情况下，如果具有有关所存储数据性质的信息，则可以更有效地压缩结构。 </p><br><p>  <strong>简洁的字符串是数据结构吗？</strong> 它包含 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1077"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1078">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-91-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-91"> N </script> 字符，并以空ASCII字符结尾。 所以这需要 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1079"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1080">N</span><span class="MJXp-mo" id="MJXp-Span-1081" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1082">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-92-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-92"> N + 1 </script> 位置，因此...她是简洁的，更具体地说是隐性的！ 这就引出了下一个问题。 </p><br><p>  <strong>所有简洁的结构都一样紧凑吗？</strong> 简洁的研究领域定义了多达三种类型的紧凑结构，它们在空间复杂度上有所不同： </p><br><ul><li> 紧凑- <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1083"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1084">O</span><span class="MJXp-mrow" id="MJXp-Span-1085"><span class="MJXp-mo" id="MJXp-Span-1086" style="margin-left: 0.278em; margin-right: 0.278em;">（</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1087">N</span><span class="MJXp-mrow" id="MJXp-Span-1088"><span class="MJXp-mo" id="MJXp-Span-1089" style="margin-left: 0.278em; margin-right: 0.278em;">）</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-93-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-93"> O（N）</script>  。 线性复杂度从 <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1090"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1091">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-94-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-94"> N </script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-存储的项目数。</font><font style="vertical-align: inherit;">就压缩结构的要求而言，最“免费”。</font><font style="vertical-align: inherit;">可以这么说，在真正的硬核之前进行热身。</font><font style="vertical-align: inherit;">如果我们在谈论字符串，那么下面的示例是合适的：可变长度的字符串序列。</font><font style="vertical-align: inherit;">字符串被一个接一个地存储，没有任何分隔符。</font><font style="vertical-align: inherit;">为了搜索单独的行，形成了位图，其中除了具有与行的开头相对应的索引的位之外，所有位都被重置为0。</font><font style="vertical-align: inherit;">这种结构需要</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1092"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1093">O</span><span class="MJXp-mo" id="MJXp-Span-1094" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1095">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1096">N</span><span class="MJXp-mo" id="MJXp-Span-1097" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-95-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-95">O(2N)</script> ( 2       ,   )     select       . </li><li> succinct — <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1098"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1099">N</span><span class="MJXp-mo" id="MJXp-Span-1100" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1101">o</span><span class="MJXp-mo" id="MJXp-Span-1102" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1103">N</span><span class="MJXp-mo" id="MJXp-Span-1104" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-96-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-96">N + o(N)</script>  。      — ,     succinct data structures  .    :    (Pascal string),       .   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106">N</span><span class="MJXp-mo" id="MJXp-Span-1107" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1108">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1109">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1110">g</span><span class="MJXp-mo" id="MJXp-Span-1111" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1112">N</span><span class="MJXp-mo" id="MJXp-Span-1113" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-97-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-97">N + log(N)</script>  。 </li><li> implicit — <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1114"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1115">N</span><span class="MJXp-mo" id="MJXp-Span-1116" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1117">O</span><span class="MJXp-mo" id="MJXp-Span-1118" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1119">1</span><span class="MJXp-mo" id="MJXp-Span-1120" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-98-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-98">N + O(1)</script>  。 ,     . :  (heap)   .    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1121"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1122">N</span><span class="MJXp-mo" id="MJXp-Span-1123" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1124">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-99-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-99">N + 1</script>  。 </li></ul><br><p> <strong>      ?</strong>  ,       ,      .      succinct-    .    ,      -, FM-, RMQ (range minimum queries), LCP (longest common prefix),       ,   succinct'.           -. </p><br><h2 id="epilog">  </h2><br><p>         ,  ,  . 不仅如此。     ,     ,    X,           . </p><br><p>  succinct —     ,   «-    ». Succinct —     .        ,     ,    succinct.  ,      .        (IME)  <a href="https://www.aclweb.org/anthology/W11-3503.pdf">Google,</a>     <a href="https://pdfs.semanticscholar.org/3039/65210e08d794398ddc5ed60322a205758255.pdf"> .</a>  <a href="https://github.com/mapsme/omim">MAPS.ME</a>   succinct-    . </p><br><p>     ,                  .     .,  97 %     -:     .          3 %. </p><br><h2 id="chto-dalshe"> 接下来是什么？ </h2><br><p>  ,       succinct: </p><br><ul><li> <a href="http://bitmagic.io/rank-select.html">   rank/select  Bitmagic Library.</a> </li><li> <a href="https://www.xuanruiqi.com/assets/succinct.pdf">,  succinct.     .</a> </li><li> <a href="https://courses.csail.mit.edu/6.851/spring12/lectures/">  MIT,     succinct.</a> </li><li> <a href="http://www.cs.cmu.edu/~dga/csa.pdf">     ,   18 .</a> </li><li> <a href="https://people.csail.mit.edu/mip/papers/succinct/succinct.pdf">   ,     succinct.</a> </li><li> <a href="https://alexbowe.com/rrr/">RRR —    .</a> </li></ul><br><p>  ,        : </p><br><ul><li> <a href="https://github.com/simongog/sdsl-lite"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++中的简洁数据结构库项目。</font></font></a> </li><li> <a href="https://github.com/tlk00/BitMagic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++中的BitMagic项目。</font></font></a> </li><li> <a href="https://pypi.org/project/elias-fano/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有Python中Elias-Fano简洁实现的软件包。</font></font></a> </li><li> <a href="https://docs.rs/succinct/0.5.2/succinct/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Rust中实现一些简洁的结构。</font></font></a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN479822/">https://habr.com/ru/post/zh-CN479822/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN479810/index.html">我如何在《自然》杂志上发表科学文章</a></li>
<li><a href="../zh-CN479814/index.html">Active Directory数据隐私问题</a></li>
<li><a href="../zh-CN479816/index.html">Python组合学</a></li>
<li><a href="../zh-CN479818/index.html">如何评估英语水平</a></li>
<li><a href="../zh-CN479820/index.html">在IT树下放置什么？ 二进制时钟</a></li>
<li><a href="../zh-CN479824/index.html">Python中的属性和处理协议</a></li>
<li><a href="../zh-CN479828/index.html">10个有用的Visual Studio Code插件</a></li>
<li><a href="../zh-CN479832/index.html">游戏面试</a></li>
<li><a href="../zh-CN479836/index.html">国家杜马通过了微型发电方面的电力法修正案。 替代品会快乐吗？</a></li>
<li><a href="../zh-CN479842/index.html">巴塔大学创建了一个电子模拟神经元</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>