<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📆 🎅 ➰ Cara membongkar data dengan struktur bersarang dari Google BigQuery menggunakan contoh parameter khusus Google Analytics 🛁 🖕🏼 🐈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Google BigQuery adalah basis data cloud populer yang digunakan oleh perusahaan di seluruh dunia. Terutama nyaman untuk bekerja dengan data Google Anal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara membongkar data dengan struktur bersarang dari Google BigQuery menggunakan contoh parameter khusus Google Analytics</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473884/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/5d/bw/ui/5dbwui5nd3dto8kagpfz51vmade.jpeg" alt="gambar"></div><br>  Google BigQuery adalah basis data cloud populer yang digunakan oleh perusahaan di seluruh dunia.  Terutama nyaman untuk bekerja dengan data Google Analytics mentah: di GA 360, integrasi dengan BigQuery dikonfigurasikan dalam beberapa klik, dan untuk versi gratis terdapat skrip dan modul pihak ketiga. <br><br>  Dalam data mentah Google Analytics, setiap catatan (baris) berhubungan dengan satu sesi.  Di dalam entri tersebut terdapat bidang bersarang yang terkait dengan klik sesi: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ht/nb/7e/htnb7eabrx-hddzh-rirbpkqne4.png" width="300" alt="gambar"></div><br>  Seringkali struktur data bersarang seperti itu membingungkan bagi pengguna yang tidak mengerti cara bekerja dengannya dan menurunkan data tersebut. <br><br>  Dengan menggunakan parameter khusus Google Analytics sebagai contoh, saya akan mencoba menjelaskan "dengan jari" bagaimana data yang disematkan disimpan di Google BigQuery dan bagaimana data itu dapat diunggah. <br><br>  Kode kueri yang diberikan berfungsi, mereka dapat digunakan dalam menyelesaikan masalah, mengganti nama tabel mereka dan nomor indeks Dimensi Khusus yang diperlukan. <a name="habracut"></a><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">• Membongkar baris</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">• Bongkar sambil mempertahankan struktur bersarang</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">• Contoh penggantian nilai parameter pengguna</a> <br><br><h2>  Dasar-dasarnya </h2><br>  BigQuery mendukung 2 dialek SQL: Legacy dan Standard.  Google merekomendasikan untuk menggunakan SQL Standard yang lebih baru, di mana kami akan menulis pertanyaan untuk dibongkar. <br>  Setiap orang yang telah bekerja dengan SQL setidaknya sedikit mengetahui konstruksi kueri standar: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> *  * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> *  * <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> * *</code> </pre> <br>  Desain ini berfungsi jika struktur tabelnya sederhana, tanpa bidang lain bersarang di dalam sel: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/o6/gw/1r/o6gw1raxw5zzwy0ql0ofziv3hwu.png" alt="gambar" width="600"></div><br>  Kami menganggap tabel dengan bidang bersarang.  Struktur tabel seperti itu (misalnya, parameter pengguna Google Analytics): <br><br><a name="1"></a><div style="text-align:center;"><img src="https://habrastorage.org/webt/cf/fy/tg/cffytgvvdznjq-pb-kbdaww1dn8.png" alt="gambar" width="600"></div>  <font color="99999"><i>Opsi GA Kustom dalam BQ</i></font> <br><br>  Di Google BigQuery, tabel seperti itu akan memiliki nama kolom berikut (pemisah "." Menampilkan struktur bersarang): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0w/-h/23/0w-h23uome6_xjhlnm4nc0rjqzm.png" alt="gambar" width="600"></div><br>  Jadi, bagaimana kita membongkar data dari bidang bersarang? <br><br><a name="3"></a><h2>  Membongkar Baris </h2><br>  Kembali ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tabel</a> dengan contoh parameter khusus GA di BQ. <br><br>  Kolom <i>customDimensions.index</i> dan <i>customDimensions.value</i> adalah indeks dan nilai <b>sesi</b> dan Dimensi Khusus yang <b>ditentukan pengguna</b> . <br><br>  Kolom <i>hits.customDimensions.index</i> dan <i>hits.customDimensions.value</i> adalah indeks dan nilai Dimensi Khusus <b>hit</b> . <br><br>  Di Google BigQuery ada tingkat tindakan parameter pengguna lain - produk.  Nama dan nilai Dimensi Khusus <b>produk</b> di Google BigQuery ada di kolom <i>hits.product.customDimensions.index</i> dan <i>hits.product.customDimensions.value</i> .  Mereka diturunkan oleh analogi dengan parameter pengguna hit, Anda hanya perlu mempertimbangkan tingkat lain dari sarang. <br><br><h3>  Sesi dan opsi pengguna tingkat pengguna </h3><br>  Apa yang harus kita lakukan jika kita perlu menurunkan nilai-nilai Dimensi Khusus sesi (khusus) untuk setiap tanggal tanpa menyimpan struktur bersarang (mis. Baris demi baris)? <br><br>  Untuk menjawab pertanyaan, mari kita lihat lebih dekat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tabel</a> dengan parameter pengguna GA di BQ. <br>  Ini menunjukkan bahwa nilai-nilai sel di kolom customDimensions <b>adalah tabel lain</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fu/lp/2b/fulp2bysuqjoz_d_ybwypuvwjcy.png" alt="gambar" width="600"></div><br>  Cukup membuat subquery ke tabel ini dalam permintaan utama: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-comment"><span class="hljs-comment">--   date, --    value (SELECT value --   customDimensions,     t FROM t.customDimensions --       WHERE index = 1) AS customDimensions1 FROM --    t     `project.dataset.tablename` AS t</span></span></code> </pre> <br>  Outputnya adalah tabel: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8m/er/vn/8mervnhyfmqqqhux8nvzcgff4ek.png" alt="gambar" width="300"></div><br>  Jika kita perlu menambahkan kolom dengan nilai parameter pengguna lain, kita membuat subquery lain: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> t.customDimensions <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> customDimensions1, <span class="hljs-comment"><span class="hljs-comment">--      customDimensions (SELECT value FROM t.customDimensions WHERE index = 2) AS customDimensions2 FROM `project.dataset.tablename` AS t</span></span></code> </pre> <br>  Kami mendapatkan yang berikut ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/ex/fu/inexfu276z8gmjzusqhzpwikvg4.png" alt="gambar" width="460"></div><br><h3>  Opsi khusus tingkat klik </h3><br>  Parameter pengguna hit diturunkan dengan cara yang sama seperti yang sesi (pengguna), kecuali bahwa subquery perlu dilakukan ke tabel hits bersarang.  Dengan kata lain, nilai sel di kolom klik di tabel data mentah Google Analytics adalah tabel bersarang tempat tabel customDimensions bersarang: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/se/cs/du/secsdu6j3nbsosiuifbd3gpqzwc.png" alt="gambar" width="600"></div><br>  Permintaan untuk mengunduh parameter pengguna klik per baris akan sebagai berikut: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-comment"><span class="hljs-comment">--   date, --    value (SELECT value --   customDimensions,     h FROM h.customDimensions --       WHERE index = 3) AS customDimensions3 FROM --    t     `project.dataset.tablename` AS t, --   t.hits  h     t.hits AS h</span></span></code> </pre> <br>  Hasil kueri akan berupa tabel: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/22/um/ci/22umciavjunefavmc5tfbwkif3g.png" alt="gambar" width="300"></div><br>  Anda dapat membongkar beberapa parameter pengguna klik dan menambahkan parameter hitNumber (nomor urut hit di sesi): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, h.hitNumber <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> hitNumber, (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> h.customDimensions <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> = <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> customDimensions3, <span class="hljs-comment"><span class="hljs-comment">--        h.customDimensions (SELECT value FROM h.customDimensions WHERE index = 4) AS customDimensions4 FROM `project.dataset.tablename` AS t, t.hits AS h</span></span></code> </pre> <br>  Dapatkan meja: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2x/mz/mg/2xmzmg2subtafonus9_mfrtkuvg.png" alt="gambar" width="600"></div><br><h3>  Sesi (pengguna) + parameter pengguna hit </h3><br>  Jika dalam satu kueri kami ingin menurunkan sesi dan menekan parameter pengguna, Anda hanya perlu membuat subquery yang diperlukan untuk tabel utama dan bersarang: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, h.hitNumber <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> hitNumber, <span class="hljs-comment"><span class="hljs-comment">--     (SELECT value FROM t.customDimensions WHERE index=1) AS customDimensions1, (SELECT value FROM t.customDimensions WHERE index=2) AS customDimensions2, --     (SELECT value FROM h.customDimensions WHERE index=3) AS customDimensions3, (SELECT value FROM h.customDimensions WHERE index=4) AS customDimensions4 FROM `project.dataset.tablename` AS t, t.hits AS h</span></span></code> </pre> <br>  Tabel yang akan diperoleh sebagai hasil dari kueri: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fq/9j/vb/fq9jvbaqzkjq4-fkt5dlm0-zbhk.png" alt="gambar" width="600"></div><br><a name="4"></a><h2>  Bongkar sambil mempertahankan struktur bersarang </h2><br>  Pembongkaran seperti itu mungkin diperlukan saat mengganti nilai parameter pengguna di Google BigQuery. <br><br> <i><a name="2"></a></i>  <i><b>Contoh</b></i> <i><br></i>  <i>Di Google Analytics, nama negara dalam format penuh ditransfer ke parameter pengguna sesi dengan indeks 12 dan parameter pengguna hit dengan indeks 25 untuk pengguna dari Rusia: RUSSIA.</i>  <i>Anda perlu mengubah format negara menjadi disingkat: RUS.</i> <br><br>  Untuk melakukan ini, Anda perlu mengganti nilai yang diperlukan dari parameter pengguna dengan negara pengguna untuk seluruh riwayat data di Google BigQuery. <br><br>  Prosedur untuk memecahkan masalah: <br><br><ol><li>  Bongkar semua data <b>sambil mempertahankan struktur bersarang</b> </li><li>  Ganti nilai parameter pengguna dengan negara </li><li>  Tulis ulang tabelnya </li></ol><br>  Untuk mengunggah data sambil mempertahankan struktur bersarang, Anda harus menggunakan fungsi ARRAY dan konstruk SELECT AS STRUCT.  Mari kita cari tahu apa itu. <br><br>  Sintaks fungsi ARRAY adalah sebagai berikut: <br><br><pre> <code class="sql hljs">ARRAY(**)</code> </pre> <br>  Ini mengembalikan array elemen. <br><br>  Membandingkan array dengan rekaman baris demi baris: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/db/c9/j3/dbc9j3wl7upziybxe0sa2sdlu6y.png" alt="gambar" width="500"></div>  <font color="99999"><i>Di sebelah kiri adalah array, di sebelah kanan adalah rekaman garis</i></font> <br><br>  Jika kita ingin menyimpan struktur bersarang dan membongkar array dengan beberapa kolom, kita harus menggunakan <b>ARRAY (SELECT AS STRUCT ...)</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ok/cj/42/okcj42lx7rui7szbgovsnd5ejza.png" alt="gambar" width="450"></div>  <font color="99999"><i>Array bersarang</i></font> <br><br><h3>  Sesi dan opsi pengguna tingkat pengguna </h3><br>  Untuk membongkar sambil mempertahankan struktur Dimensi Khusus sesi (khusus), kami menggunakan kueri: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, <span class="hljs-comment"><span class="hljs-comment">--  ARRAY(SELECT AS STRUCT...)    ARRAY(SELECT AS STRUCT index, value FROM t.customDimensions) AS customDimensions FROM `project.dataset.tablename` AS t</span></span></code> </pre> <br>  Sebagai hasil dari eksekusi, sebuah tabel diperoleh di mana struktur bersarang dari data Google Analytics "mentah" disimpan: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uw/yz/um/uwyzumday5vzrtxyspfrfvizsw4.png" alt="gambar" width="500"></div><br><h3>  Opsi khusus tingkat klik </h3><br>  Untuk menurunkan nilai parameter pengguna hit dari Google BigQuery sambil mempertahankan struktur bersarang, penting untuk dicatat bahwa tabel customDimensions bersarang di tabel hits.  Dengan kata lain, Anda perlu membuat subquery ARRAY (PILIH SEBAGAI STRUKTUR ...) 2 kali: pertama ke tabel hits bersarang, kemudian ke tabel customDimensions bersarang: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, <span class="hljs-comment"><span class="hljs-comment">--    t.hits ARRAY(SELECT AS STRUCT hitNumber, --    h.customDimensions ARRAY(SELECT AS STRUCT index, value FROM h.customDimensions) AS customDimensions FROM t.hits AS h ) AS hits FROM `project.dataset.tablename` AS t</span></span></code> </pre> <br>  Hasil dari kueri ini adalah tabel: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/y9/h2/1j/y9h21jm-5ikmi6qudtwsxlvjuue.png" alt="gambar" width="600"></div><br><h3>  Sesi (pengguna) + parameter pengguna hit </h3><br>  Seperti halnya pembongkaran baris demi baris, kita perlu menggabungkan subquery ARRAY (SELECT AS STRUCT ...) dalam kueri yang sama ke tabel bersarang yang diinginkan: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-built_in"><span class="hljs-built_in">date</span></span>, <span class="hljs-comment"><span class="hljs-comment">--  () Custom Dimensions ARRAY(SELECT AS STRUCT index, value FROM t.customDimensions ) AS customDimensions, --  Custom Dimensions ARRAY(SELECT AS STRUCT hitNumber, ARRAY(SELECT AS STRUCT index, value FROM h.customDimensions ) AS customDimensions FROM t.hits AS h) AS hits FROM `project.dataset.tablename` AS t</span></span></code> </pre> <br>  Apa hasilnya: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/la/3j/a7/la3ja7nvkxbpl7bde-qniru8mvu.png" alt="gambar" width="600"></div><br><a name="5"></a><h2>  Contoh mengganti nilai parameter pengguna </h2><br>  Mari kita kembali ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">contoh</a> kita. <br>  Di bagian sebelumnya, kami menerima permintaan untuk mengunggah sesi (pengguna) dan mengenai parameter pengguna Google Analytics sambil mempertahankan struktur bersarang. <br>  Kami melengkapi kueri ini dengan SELECT * REPLACE untuk pembongkaran dengan penggantian dan KASUS untuk memperbarui nilai-nilai parameter pengguna yang diperlukan: <br><br><pre> <code class="sql hljs"><span class="hljs-comment"><span class="hljs-comment">--      t.customDimensions  t.hits SELECT *REPLACE( --  () Custom Dimensions ARRAY(SELECT AS STRUCT index, --      CASE WHEN index=12 AND value='RUSSIA' THEN 'RUS' ELSE value END AS value FROM t.customDimensions) AS customDimensions, --  Custom Dimensions --   t.hits      h.customDimensions ARRAY(SELECT AS STRUCT *REPLACE( ARRAY(SELECT AS STRUCT index, --      CASE WHEN index=25 AND value='RUSSIA' THEN 'RUS' ELSE value END AS value FROM h.customDimensions) AS customDimensions) FROM t.hits AS h) AS hits) FROM `project.dataset.tablename` AS t</span></span></code> </pre> <br>  Sebagai hasil dari permintaan ini, kami akan mendapatkan tabel asli dengan data mentah dari Google Analytics.  Dia akan sepenuhnya mempertahankan struktur sarang asli, tetapi nilai-nilai dari parameter pengguna yang diperlukan akan diubah ke yang baru. <br><br>  Topik bekerja dengan struktur data bersarang di Google BigQuery tidak mudah. <br><br>  Saya harap saya berhasil mengklarifikasi masalah ini.  Tetapi, izinkan saya mengingatkan Anda, cara terbaik untuk belajar bagaimana melakukan sesuatu adalah dengan berlatih lebih banyak. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id473884/">https://habr.com/ru/post/id473884/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id473868/index.html">Kami melihat chip Cina novatek NT78820</a></li>
<li><a href="../id473872/index.html">Rencana Persiapan Wawancara Pengembang Java</a></li>
<li><a href="../id473874/index.html">Intisari acara TI pada bulan November (bagian satu)</a></li>
<li><a href="../id473880/index.html">BlessRNG atau RNG memeriksa kejujuran</a></li>
<li><a href="../id473882/index.html">Pengantar Ketergantungan Fungsional</a></li>
<li><a href="../id473886/index.html">Workstation kriptografi berdasarkan standar kunci publik. Fungsi untuk parsing dan melihat struktur ASN1</a></li>
<li><a href="../id473888/index.html">Berita dari dunia OpenStreetMap No. 483 (15/10/2019 - 21/10/2019)</a></li>
<li><a href="../id473890/index.html">Operation Calypso: Grup APT Baru Menyerang Kantor Pemerintah di Seluruh Dunia</a></li>
<li><a href="../id473894/index.html">Enam Tugas untuk Pengembang Front-End</a></li>
<li><a href="../id473904/index.html">Vivaldi 2.9 - Perbaikan Peningkatan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>