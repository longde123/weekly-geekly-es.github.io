<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçü§ù‚Äçüë®üèæ üåè üôèüèº Comment j'ai fait une carte √©lectronique pour les capteurs de t√©l√©m√©trie et pour contr√¥ler les p√©riph√©riques üì´ üóíÔ∏è üòä</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans le processus de cr√©ation d'un robot-serveur, d'un robot de t√©l√©pr√©sence, d'un robot selfie, certains d√©veloppements sont apparus que c'est un p√©c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment j'ai fait une carte √©lectronique pour les capteurs de t√©l√©m√©trie et pour contr√¥ler les p√©riph√©riques</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/397493/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le processus de cr√©ation d'un robot-serveur, d'un robot de t√©l√©pr√©sence, d'un robot selfie, certains d√©veloppements sont apparus que c'est un p√©ch√© de ne pas partager avec la communaut√©, c'est-√†-dire de faire de l'open source. L'une des versions de travail √©tait une carte √©lectronique, nomm√©e SB version 4.0, utilisant un Arduino peu co√ªteux et relativement peu fonctionnel, √† savoir Nano 3.0. La carte SB 4.0 est assez simple et compr√©hensible pour consolider ses connaissances en √©lectronique et en soudure lors de son assemblage, est suffisamment fonctionnelle pour r√©aliser ses propres projets pratiques (par exemple, allumer l'ampoule par les signaux du capteur de mouvement et du capteur de lumi√®re ou par votre commande via Bluetooth), et le co√ªt des composants avec livraison lors de la commande aupr√®s de nos amis chinois avec taobao √©tait d'environ 55 $ (y compris les capteurs eux-m√™mes).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le but principal de la carte SB 4.0 est l'interface mat√©rielle. Une fois collect√©, vous pouvez l'utiliser pour recevoir et traiter les donn√©es de plusieurs capteurs pr√©install√©s et pour la prise de d√©cision et l'ex√©cution d'algorithmes. Pour faciliter le d√©bogage, une interface a √©t√© cr√©√©e dans OS Windows, dans laquelle les relev√©s t√©l√©m√©triques des capteurs et d'une source d'alimentation, l'√©tat des boutons et des servos sont clairement affich√©s et des commandes peuvent √™tre envoy√©es au microcontr√¥leur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette publication, je d√©crirai les caract√©ristiques de la carte et un exemple de son application. Encore une fois, tout cela est open-source, sous licence CC Attribution Non-Commercial Share Alike.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oui, il existe d√©j√† des cartes de contr√¥le et des kits avec capteurs similaires (cartes Arduino plus co√ªteuses avec blindages, pour Raspberry Pi, pour amp√®re d'iode), mais SB 4.0 en diff√®re en pr√©sence d'une carte d'alimentation et d'un programme de contr√¥le pratique √©crit √† l'aide de l'environnement de d√©veloppement LabView. </font><font style="vertical-align: inherit;">Autrement dit, SB 4.0 se compose de deux cartes: contr√¥le + alimentation. </font><font style="vertical-align: inherit;">Cela sera vu dans les photos et les vid√©os.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Photo des deux cartes, capteur de mouvement, batterie:</font></font><br>
<br>
<img src="https://habrastorage.org/files/f3b/5bb/f14/f3b5bbf14c7f406280a317e1138d6a3b.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programmation</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour programmer le microcontr√¥leur, comme toujours, nous utilisons C / C ++. </font><font style="vertical-align: inherit;">Nous d√©veloppons dans l'IDE Arduino. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La capture d'√©cran montre l'interface du programme Selfiebot Control Panel, o√π les lectures t√©l√©m√©triques des capteurs et de la source d'alimentation, l'√©tat des boutons et des servos sont clairement affich√©s, vous pouvez envoyer des commandes au microcontr√¥leur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Capture d'√©cran de la partie interface:</font></font><br>
<br>
<img src="https://habrastorage.org/files/d3d/c40/b80/d3dc40b80e214cca9f599049adf0de92.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performances</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SB 4.0 utilise l'une des plates-formes Arduino Nano 3.0 les plus √©conomiques avec un microcontr√¥leur ATmega328 8 bits. </font><font style="vertical-align: inherit;">Cela suffit pour traiter le code et r√©soudre les probl√®mes: robots de contr√¥le, syst√®mes de maison intelligente, etc.</font></font><br>
<br>
<img src="https://habrastorage.org/files/018/864/920/018864920429492b8e0e999fcacc371b.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La compatibilit√©</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La tension logique est de 5 V, ce qui garantit la compatibilit√© √©lectrique avec les p√©riph√©riques Arduino.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ports d'entr√©e / sortie</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Broches de contr√¥le du microcontr√¥leur disponibles. </font><font style="vertical-align: inherit;">Entre parenth√®ses, il a indiqu√© les √©l√©ments pr√©install√©s avec lesquels la carte sait d√©j√† comment travailler.</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 broches, qui peuvent √™tre configur√©es comme entr√©e / sortie num√©rique et sortie PWM (pour deux servos num√©riques);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 broche, entr√©e / sortie num√©rique (pour d√©tecteur de mouvement);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 broches, entr√©e / sortie num√©rique (pour LED RGB);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 broche, entr√©e / sortie num√©rique (pour capteur de limite, boutons);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 broche, sortie num√©rique + 5V / 0V (pour contr√¥ler la charge externe).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Le bus I2C et le port UART sont utilis√©s respectivement pour la carte d'extension de port et le module Bluetooth. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 L'universalit√© de la carte SB 4.0 est fournie. </font><font style="vertical-align: inherit;">Faites correspondre les niveaux de puissance, les niveaux de signal, le type d'entr√©e / sortie! </font><font style="vertical-align: inherit;">Remplacez les capteurs pr√©install√©s par vos capteurs:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">temp√©rature</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">niveau de bruit</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">humidit√©</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pression, etc.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La broche d'entr√©e fonctionne sur une base ferm√©e / ouverte. </font><font style="vertical-align: inherit;">C'est-√†-dire </font><font style="vertical-align: inherit;">sur la broche allant au MK ou + 5V, ou 0. Ces valeurs sont incluses dans les donn√©es de t√©l√©m√©trie qui sont envoy√©es au logiciel Selfiebot Control Panel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La broche de sortie produit soit 5V avec une capacit√© de charge de 1A, soit est d√©sactiv√©e - 0V. </font><font style="vertical-align: inherit;">Appliquer une tension ou non √† ce connecteur n'est possible que par une commande externe ou par une commande de l'algorithme du firmware. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela n'a aucun sens de connecter des capteurs analogiques √† des broches num√©riques.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La nutrition</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'alimentation est fournie par la prise de courant de 2,1 mm ou par des batteries Li-Ion avec un contr√¥leur de charge. </font><font style="vertical-align: inherit;">La source est d√©termin√©e automatiquement. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cas d'alimentation via une prise, la tension d'entr√©e recommand√©e est de 12 √† 12,6 V. Les convertisseurs de tension CC-CC fournissent 7 V aux servos, 5 V √† USB1, USB2 et d'autres charges. Un adaptateur secteur ou des piles peuvent √™tre utilis√©s comme source d'alimentation. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilisez des broches 5 V pour alimenter les p√©riph√©riques. </font><font style="vertical-align: inherit;">Lorsque vous utilisez une source d'alimentation externe, jusqu'√† 1 A peut √™tre obtenu √† partir d'une broche 5 V. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le kit d'alimentation comprend:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Batterie 3x18650, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Batterie 18650, 3,7 V, √† partir de 2200 mAh, 3 pi√®ces.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contr√¥leur de charge, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 x connecteur d'alimentation</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Convertisseurs DC-DC, 4 pcs.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capteur Hall, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transistors, 3 pi√®ces.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optocoupleurs et r√©sistances.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/8de/0b3/887/8de0b3887e7247568c131ecc2dd8bcca.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La communication</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le microcontr√¥leur Arduino Nano est programm√© via USB avec un logiciel gratuit standard du site Web du fabricant MK. </font><font style="vertical-align: inherit;">Pour transf√©rer des donn√©es entre SB 4.0 et un ordinateur, comme toujours, j'ai choisi le module Bluetooth HC-06 commun peu co√ªteux, le taux de transfert de donn√©es de 9600 Kb / s. </font><font style="vertical-align: inherit;">Les donn√©es de t√©l√©m√©trie et les commandes de contr√¥le passent par ce canal sans fil.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les dimensions</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai obtenu les dimensions de la carte d'alimentation √©lectronique - 100 √ó 70 √ó 40 mm. </font><font style="vertical-align: inherit;">Les dimensions de la carte √©lectronique de commande sont de 90 √ó 70 √ó 45 mm. </font><font style="vertical-align: inherit;">Mais je suis s√ªr que vous pouvez toujours chamaniser et r√©duire la taille. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'espacement des contacts est de 0,1 ‚Ä≥ (2,54 mm).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sp√©cifications du microcontr√¥leur</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microcontr√¥leur: ATmega328 8 bits.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fr√©quence d'horloge: 16 MHz.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©moire flash: 32 Ko (2 Ko sont utilis√©s pour le chargeur de d√©marrage, 30 Ko - pour stocker le code de votre programme).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM 2KB.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EEPROM 1 Kb.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tension de fonctionnement nominale: 5 V</font></font></li>
</ul><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caract√©ristiques de la carte √©lectronique SB 4.0</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tension de fonctionnement nominale: 12,6 V </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tension d'entr√©e recommand√©e: 12‚Äì12,6 V.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Courant maximum du bus 5 V: 1000 mA</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ports d'E / S √† usage g√©n√©ral: 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ports avec prise en charge PWM: 2</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le tableau de commande comprend les √©l√©ments suivants:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Module Bluetooth HC-06, 1 pi√®ce.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carte √©lectronique d'extension de port pour microcontr√¥leur, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microcontr√¥leur Arduino Nano 3.0, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 carte √©lectronique de niveau d'√©clairage</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servos TowerPro MG966R, 2 pi√®ces.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Photor√©sistance, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©tecteur de mouvement, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 x LED RGB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bouton, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fusible, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cavalier, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transistor, 1 pc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Condensateur, 1 pc.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/e89/2f1/727/e892f1727ca7412db2dd3314cb78c8d6.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation pratique</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Options d'utilisation pratique: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Ouvrez / fermez les fen√™tres lorsque la temp√©rature change. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Allumez / √©teignez le ventilateur lorsque l'humidit√© de la pi√®ce change. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Allumez / √©teignez la lumi√®re en pr√©sence de mouvement dans l'obscurit√©. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Ouvrez / coupez l'alimentation en eau lorsque vous modifiez l'humidit√© du sol. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Activez l'√©clairage infrarouge dans l'obscurit√©. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6. Transfert de toutes les donn√©es de t√©l√©m√©trie au serveur via la connexion Internet.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple d'application de la carte SB 4.0</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Objectif: √† condition d'appuyer sur le bouton, allumer la lumi√®re lorsqu'un mouvement est d√©tect√©.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/tS3hikUysTQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ce faire, nous avons en outre besoin d'un module relais, d'une ampoule (220 ADC ou jusqu'√† 12 VDC). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Le plus souvent, nous trouvons des relais 12VDC et 05VDC. Le nombre signifie quelle valeur de tension continue doit √™tre fournie √† l'entr√©e du relais. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Consid√©rez le fonctionnement du relais SRD-05VDC de Songle, qui est courant pour Arduino. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Lorsque l'alimentation est appliqu√©e √† la broche Vcc et court-circuit√©e √† la broche ¬´GND¬ª, la LED verte s'allume.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Depuis </font><font style="vertical-align: inherit;">nous avons un module monocanal, puis sur la carte, vous ne verrez qu'une seule broche de signal In1. </font><font style="vertical-align: inherit;">Si vous r√©glez le niveau de tension LOW sur In1, la LED rouge du module relais s'allume et le relais fonctionne avec un clic caract√©ristique. </font><font style="vertical-align: inherit;">Sur Arduino, la commande digitalWrite (pin, LOW) est responsable du r√©glage du niveau de tension sur la broche; </font><font style="vertical-align: inherit;">Pour ramener le relais √† son √©tat pr√©c√©dent, utilisez la commande digitalWrite (pin, HIGH); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Connectez le module de relais √† la carte SB 4.0, qui dispose d'un capteur de mouvement pr√©install√© et d'un bouton utilisateur. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.1. </font><font style="vertical-align: inherit;">La broche de signal In1 du module relais est connect√©e √† la broche 13. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.2. </font><font style="vertical-align: inherit;">Dans le code du programme Arduino Nano, nous trouvons:</font></font><pre><code class="cpp hljs">***********************************
 <span class="hljs-comment"><span class="hljs-comment">//     -   ,       timeout_SnSM</span></span>
 <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (var_Tlm_SnSM == <span class="hljs-number"><span class="hljs-number">1</span></span>) { time_Move_detect = millis(); }
 <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (millis() - time_Move_detect &lt; timeout_Move_detect) { Move_detect = <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Move_detect = <span class="hljs-number"><span class="hljs-number">0</span></span>; }<font></font>
***********************************<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez ces lignes ci-dessous:</font></font><br>
<pre><code class="cpp hljs">***********************************
  <span class="hljs-comment"><span class="hljs-comment">//     (== 0),     (== 1)     13 (== LOW),   timeout_SnSM</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (var_Tlm_BUT == <span class="hljs-number"><span class="hljs-number">0</span></span>) { 
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Move_detect == <span class="hljs-number"><span class="hljs-number">1</span></span>) { digitalWrite(PIN_D13, LOW); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {  digitalWrite(PIN_D13, HIGH); }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    digitalWrite(PIN_D13, HIGH); <font></font>
  }<font></font>
***********************************<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.3. </font><font style="vertical-align: inherit;">T√©l√©chargez le nouveau firmware et allumez la carte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le capteur de mouvement d√©tecte un mouvement, alors gr√¢ce √† notre algorithme, le niveau BAS appara√Æt sur la broche d'alimentation externe, le relais fonctionne, fermant le circuit et la lumi√®re s'allume. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, si une personne passe devant un capteur de mouvement, la lumi√®re s'allume.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr397493/">https://habr.com/ru/post/fr397493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr397479/index.html">50 nuances de PNA * ADC et ADC avec ordinateur √† microcontr√¥leur Microchip</a></li>
<li><a href="../fr397481/index.html">Pr√©sentation du routeur Draytek s√©rie 2925. Premi√®re partie: pr√©sentation, caract√©ristiques et tests</a></li>
<li><a href="../fr397487/index.html">Heimdall - compagnon amateur de la lune</a></li>
<li><a href="../fr397489/index.html">Les scientifiques ont calcul√© la probabilit√© que les extraterrestres nous √©vitent d√©lib√©r√©ment</a></li>
<li><a href="../fr397491/index.html">Marine dit qu'il a servi sur Mars pendant 17 ans</a></li>
<li><a href="../fr397495/index.html">Elon Musk - sur l'am√©lioration mat√©rielle des personnes</a></li>
<li><a href="../fr397497/index.html">AI a d√©cid√© de commenter les √©v√©nements sportifs</a></li>
<li><a href="../fr397499/index.html">Le projet Drones of the Wing fournira de la restauration rapide aux dortoirs √©tudiants de l'Universit√© de Virginie</a></li>
<li><a href="../fr397501/index.html">Nous savons ce que vous ferez le week-end.</a></li>
<li><a href="../fr397503/index.html">Sony Xperia XCompact en vente en Russie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>