<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â›µï¸ â˜˜ï¸ ğŸ§›ğŸ» ä¸å˜æ€§å’Œä¿¡ä»»æ„Ÿæ˜¯å›¢é˜Ÿå‘å±•çš„åŸºç¡€ ğŸ¤½ğŸ¿ ğŸ•ºğŸ» ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="é€šå¸¸ï¼Œæˆ‘æ˜¯C ++ç¨‹åºå‘˜ã€‚ å¥½å§ï¼Œå‘ç”Ÿäº†ã€‚ æˆ‘åœ¨èŒä¸šç”Ÿæ¶¯ä¸­ç¼–å†™çš„ç»å¤§å¤šæ•°å•†ä¸šä»£ç æ˜¯C ++ã€‚ æˆ‘çœŸçš„ä¸å–œæ¬¢æˆ‘çš„ä¸ªäººç»å†å¯¹ä¸€ç§è¯­è¨€çš„å¼ºçƒˆåè§ï¼Œå¹¶ä¸”æˆ‘å°½é‡ä¸è¦é”™è¿‡ç”¨å¦ä¸€ç§è¯­è¨€å†™ä¸œè¥¿çš„æœºä¼šã€‚ æˆ‘çš„ç°ä»»é›‡ä¸»çªç„¶æä¾›äº†è¿™æ ·ä¸€ä¸ªæœºä¼šï¼šæˆ‘æ‰¿è¯ºè¦ä½¿å®ƒæˆä¸ºJavaä¸­æœ€ç®€å•çš„å®ç”¨ç¨‹åºã€‚ é€‰æ‹©å®æ–½è¯­è¨€æ˜¯å‡ºäºå†å²åŸå› ï¼Œæˆ‘å¹¶...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä¸å˜æ€§å’Œä¿¡ä»»æ„Ÿæ˜¯å›¢é˜Ÿå‘å±•çš„åŸºç¡€</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447478/">é€šå¸¸ï¼Œæˆ‘æ˜¯C ++ç¨‹åºå‘˜ã€‚ å¥½å§ï¼Œå‘ç”Ÿäº†ã€‚ æˆ‘åœ¨èŒä¸šç”Ÿæ¶¯ä¸­ç¼–å†™çš„ç»å¤§å¤šæ•°å•†ä¸šä»£ç æ˜¯C ++ã€‚ æˆ‘çœŸçš„ä¸å–œæ¬¢æˆ‘çš„ä¸ªäººç»å†å¯¹ä¸€ç§è¯­è¨€çš„å¼ºçƒˆåè§ï¼Œå¹¶ä¸”æˆ‘å°½é‡ä¸è¦é”™è¿‡ç”¨å¦ä¸€ç§è¯­è¨€å†™ä¸œè¥¿çš„æœºä¼šã€‚ æˆ‘çš„ç°ä»»é›‡ä¸»çªç„¶æä¾›äº†è¿™æ ·ä¸€ä¸ªæœºä¼šï¼šæˆ‘æ‰¿è¯ºè¦ä½¿å®ƒæˆä¸ºJavaä¸­æœ€ç®€å•çš„å®ç”¨ç¨‹åºã€‚ é€‰æ‹©å®æ–½è¯­è¨€æ˜¯å‡ºäºå†å²åŸå› ï¼Œæˆ‘å¹¶ä¸ä»‹æ„ã€‚  Javaå¯¹Javaæ¥è¯´ï¼Œæˆ‘è¶Šä¸ç†Ÿæ‚‰-è¶Šå¥½ã€‚ <br><br> é™¤å…¶ä»–å¤–ï¼Œæˆ‘æœ‰ä¸€ä¸ªç›¸å½“ç®€å•çš„ä»»åŠ¡ï¼šä¸€æ¬¡å½¢æˆä¸€ç»„é€»è¾‘è¿æ¥çš„æ•°æ®å¹¶å°†å…¶ä¼ è¾“ç»™ç‰¹å®šçš„ä½¿ç”¨è€…ã€‚ å¯ä»¥æœ‰å¤šä¸ªä½¿ç”¨è€…ï¼Œå¹¶ä¸”æ ¹æ®å°è£…åŸç†ï¼Œä¼ è¾“ä»£ç ï¼ˆç”Ÿäº§è€…ï¼‰ä¸çŸ¥é“å†…éƒ¨æ˜¯ä»€ä¹ˆä»¥åŠå¯¹æºæ•°æ®å¯ä»¥åšä»€ä¹ˆã€‚ ä½†æ˜¯åˆ¶é€ å•†éœ€è¦æ¯ä¸ªæ¶ˆè´¹è€…æ¥æ”¶ç›¸åŒçš„æ•°æ®ã€‚ æˆ‘ä¸æƒ³å¤å°å¹¶ç»™ä»–ä»¬ã€‚ è¿™æ„å‘³ç€æˆ‘ä»¬å¿…é¡»ä»¥æŸç§æ–¹å¼ä½¿æ¶ˆè´¹è€…å¤±å»æ”¹å˜ä¼ è¾“ç»™ä»–ä»¬çš„æ•°æ®çš„æœºä¼šã€‚ <br><a name="habracut"></a><br> é‚£æ—¶æ­£æ˜¯æˆ‘å¯¹Javaçš„ç¼ºä¹ç»éªŒã€‚ ä¸C ++ç›¸æ¯”ï¼Œæˆ‘ç¼ºå°‘è¯­è¨€åŠŸèƒ½ã€‚ æ˜¯çš„ï¼Œè¿™é‡Œæœ‰<code>final</code>å…³é”®å­—ï¼Œä½†æ˜¯<code>final Object</code>å°±åƒC ++ä¸­çš„<code>Object* const</code> ï¼Œè€Œä¸æ˜¯<code>const Object*</code> ã€‚ å³ ä¾‹å¦‚ï¼Œåœ¨<code>final List&lt;String&gt;</code>æ‚¨å¯ä»¥æ·»åŠ è¡Œã€‚ è¿™æ˜¯C ++ä¸šåŠ¡ï¼šæ ¹æ®Myersçš„é—å˜±å°†<code>const</code>æ”¾åœ¨ä»»ä½•åœ°æ–¹ï¼Œå°±æ˜¯è¿™æ ·ï¼ æ²¡æœ‰äººä¼šæ”¹å˜ä»»ä½•ä¸œè¥¿ã€‚ é‚£å‘¢ å¥½å§ï¼Œä¸æ˜¯çœŸçš„ã€‚ æˆ‘è€ƒè™‘äº†ä¸€ä¸‹ï¼Œ <s>è€Œä¸æ˜¯</s>åœ¨é—²æš‡<s>æ—¶åšé‚£ä¸ªå®ç”¨ç¨‹åº</s> ï¼Œè¿™å°±æ˜¯æˆ‘æƒ³åˆ°çš„ã€‚ <br><br><h2>  C ++ </h2><br> è®©æˆ‘æé†’æ‚¨ä»»åŠ¡æœ¬èº«ï¼š <br><br><ol><li> ä¸€æ¬¡åˆ›å»ºä¸€ä¸ªæ•°æ®é›†ã€‚ </li><li> ä¸è¦ä¸å¿…è¦åœ°å¤åˆ¶ä»»ä½•å†…å®¹ã€‚ </li><li> é˜²æ­¢ä½¿ç”¨è€…æ›´æ”¹æ­¤æ•°æ®ã€‚ </li><li> æœ€å°åŒ–ä»£ç ï¼Œå³ é€šå¸¸ï¼Œä¸è¦åœ¨å‡ ä¸ªåœ°æ–¹ä¸ºæ¯ä¸ªæ•°æ®é›†åˆ›å»ºä¸€å †æ–¹æ³•å’Œæ¥å£ã€‚ </li></ol><br> æ²¡æœ‰åŠ å‰§çš„æ¡ä»¶ï¼Œä¾‹å¦‚å¤šçº¿ç¨‹ï¼Œå¼‚å¸¸æ„ä¹‰ä¸Šçš„å®‰å…¨æ€§ç­‰ã€‚ è€ƒè™‘æœ€ç®€å•çš„æƒ…å†µã€‚ è¿™æ˜¯æˆ‘å°†ä½¿ç”¨æœ€ç†Ÿæ‚‰çš„è¯­è¨€æ‰§è¡Œçš„æ“ä½œï¼š <br><br><div class="spoiler">  <b class="spoiler_title">foo.hpp</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> once #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;list&gt; struct Foo { const int intValue; const std::string strValue; const std::list&lt;int&gt; listValue; Foo(int intValue_, const std::string&amp; strValue_, const std::list&lt;int&gt;&amp; listValue_) : intValue(intValue_) , strValue(strValue_) , listValue(listValue_) {} }; std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const Foo&amp; foo) { out &lt;&lt; "INT: " &lt;&lt; foo.intValue &lt;&lt; "\n"; out &lt;&lt; "STRING: " &lt;&lt; foo.strValue &lt;&lt; "\n"; out &lt;&lt; "LIST: ["; for (auto it = foo.listValue.cbegin(); it != foo.listValue.cend(); ++it) { out &lt;&lt; (it == foo.listValue.cbegin() ? "" : ", ") &lt;&lt; *it; } out &lt;&lt; "]\n"; return out; }</span></span></span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">api.hpp</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> once #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"foo.hpp"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; class Api { public: const Foo&amp; getFoo() const { return currentFoo; } private: const Foo currentFoo = Foo{42, "Fish", {0, 1, 2, 3}}; };</span></span></span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">main.cpp</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"api.hpp"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"foo.hpp"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;list&gt; namespace { void goodConsumer(const Foo&amp; foo) { // do nothing wrong with foo } } int main() { { const auto&amp; api = Api(); goodConsumer(api.getFoo()); std::cout &lt;&lt; "*** After good consumer ***\n"; std::cout &lt;&lt; api.getFoo() &lt;&lt; std::endl; } }</span></span></span></span></code> </pre> <br></div></div><br> æ˜¾ç„¶ï¼Œè¿™é‡Œä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œæ•°æ®ä¿æŒä¸å˜ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">ç»“è®º</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After good consumer *** INT: 42 STRING: Fish LIST: [0, 1, 2, 3]</span></span></code> </pre> </div></div><br><h4> å¦‚æœæœ‰äººè¯•å›¾æ”¹å˜æŸäº›ä¸œè¥¿ï¼Ÿ </h4><br><div class="spoiler">  <b class="spoiler_title">main.cpp</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stupidConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Foo&amp; foo)</span></span></span><span class="hljs-function"> </span></span>{ foo.listValue.push_back(<span class="hljs-number"><span class="hljs-number">100</span></span>); }</code> </pre> <br></div></div><br> æ˜¯çš„ï¼Œä»£ç åªæ˜¯æ— æ³•ç¼–è¯‘ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å¤±è¯¯</b> <div class="spoiler_text"><pre> <code class="diff hljs">src/main.cpp: In function 'void {anonymous}::stupidConsumer(const Foo&amp;)': src/main.cpp:16:36: error: passing 'const std::__cxx11::list&lt;int&gt;' as 'this' argument discards qualifiers [-fpermissive] foo.listValue.push_back(100);</code> </pre> <br></div></div><br><h4> å¯èƒ½å‡ºä»€ä¹ˆé—®é¢˜äº†ï¼Ÿ </h4><br> è¿™æ˜¯C ++-ä¸€ç§å…·æœ‰ä¸°å¯Œæ­¦å™¨åº“çš„è¯­è¨€ï¼Œå¯ä»¥ç”¨è‡ªå·±çš„è…¿å°„å‡»ï¼ ä¾‹å¦‚ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">main.cpp</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evilConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Foo&amp; foo)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&amp;&gt;(foo.intValue) = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const_cast</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&amp;&gt;(foo.strValue) = <span class="hljs-string"><span class="hljs-string">"James Bond"</span></span>; }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">å¥½å§ï¼Œå®é™…ä¸Šæ‰€æœ‰ä¸œè¥¿ï¼š</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After evil consumer *** INT: 7 STRING: James Bond LIST: [0, 1, 2, 3]</span></span></code> </pre> <br></div></div><br> æˆ‘è¿˜æ³¨æ„åˆ°åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨<code>reinterpret_cast</code>è€Œä¸æ˜¯<code>const_cast</code>ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ ä½†æ˜¯ï¼Œä½¿ç”¨Cé£æ ¼çš„å¼ºåˆ¶è½¬æ¢å¯ä»¥ä½¿æ‚¨æ›´åŠ ä¸“æ³¨ã€‚ <br><br> æ˜¯çš„ï¼Œè¿™æ ·çš„ä»£ç å¯èƒ½å¯¼è‡´æœªå®šä¹‰çš„è¡Œä¸º<i>[C ++ 17 10.1.7.1/4]</i> ã€‚ ä»–é€šå¸¸çœ‹èµ·æ¥å¯ç–‘ï¼Œè¿™å¾ˆå¥½ã€‚ åœ¨å®¡æ ¸è¿‡ç¨‹ä¸­æ›´å®¹æ˜“æŠ“ä½ã€‚ <br><br> æ¶æ„ä»£ç å¯ä»¥éšè—åœ¨ä½¿ç”¨è€…æ·±å¤„çš„ä»»ä½•åœ°æ–¹éƒ½æ˜¯å¾ˆç³Ÿç³•çš„ï¼Œä½†æ˜¯æ— è®ºå¦‚ä½•å®ƒä»ç„¶å¯ä»¥å·¥ä½œï¼š <br><br><div class="spoiler">  <b class="spoiler_title">main.cpp</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evilSubConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp; value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const_cast</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&amp;&gt;(value) = <span class="hljs-string"><span class="hljs-string">"Loki"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">goodSubConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&amp; value)</span></span></span><span class="hljs-function"> </span></span>{ evilSubConsumer(value); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evilCautiousConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Foo&amp; foo)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>&amp; strValue = foo.strValue; goodSubConsumer(strValue); }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ç»“è®º</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After evil but cautious consumer *** INT: 42 STRING: Loki LIST: [0, 1, 2, 3]</span></span></code> </pre> <br></div></div><br><h4> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒC ++çš„ä¼˜ç¼ºç‚¹ </h4><br> å“ªä¸ªå¥½ï¼š <br><ul><li> æ‚¨å¯ä»¥è½»æ¾åœ°å£°æ˜å¯¹ä»»ä½•å†…å®¹çš„è¯»å–è®¿é—®æƒé™ </li><li> åœ¨ç¼–è¯‘é˜¶æ®µå‘ç°æ„å¤–è¿åæ­¤é™åˆ¶ï¼Œå› ä¸º å¸¸é‡å’Œéå¸¸é‡å¯¹è±¡å¯ä»¥å…·æœ‰ä¸åŒçš„æ¥å£ </li><li> å¯ä»¥åœ¨ä»£ç å®¡æŸ¥ä¸­æ£€æµ‹åˆ°æœ‰æ„è¯†çš„è¿è§„ </li></ul><br> ä¸å¥½çš„æ˜¯ï¼š <br><ul><li> æ•…æ„è§„é¿å˜æ›´çš„ç¦æ­¢æ˜¯å¯èƒ½çš„ </li><li> å¹¶åœ¨ä¸€è¡Œä¸­æ‰§è¡Œï¼Œå³ å®¹æ˜“è·³è¿‡ä»£ç å®¡æŸ¥ </li><li> å¹¶å¯èƒ½å¯¼è‡´ä¸ç¡®å®šçš„è¡Œä¸º </li><li> ç”±äºéœ€è¦ä¸ºå¸¸é‡å’Œéå¸¸é‡å¯¹è±¡å®ç°ä¸åŒçš„æ¥å£ï¼Œå› æ­¤å¯ä»¥å¤¸å¤§ç±»çš„å®šä¹‰ </li></ul><br><br><h2> çˆªå“‡ </h2><br> æ®æˆ‘äº†è§£ï¼Œåœ¨Javaä¸­ï¼Œä½¿ç”¨çš„æ–¹æ³•ç•¥æœ‰ä¸åŒã€‚ å£°æ˜ä¸º<code>final</code>åŸºæœ¬ç±»å‹åœ¨C ++ä¸­å…·æœ‰ç›¸åŒçš„å«ä¹‰ã€‚  Javaä¸­çš„å­—ç¬¦ä¸²åŸºæœ¬ä¸Šæ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ <code>final String</code>æ˜¯æˆ‘ä»¬éœ€è¦çš„ã€‚ <br><br> å¯ä»¥å°†é›†åˆæ”¾ç½®åœ¨ä¸å¯å˜çš„åŒ…è£…å™¨ä¸­ï¼Œä¸ºæ­¤ï¼Œæœ‰<code>java.util.Collections</code>ç±»çš„é™æ€æ–¹æ³•<code>unmodifiableList</code> ï¼Œ <code>unmodifiableMap</code>ç­‰ã€‚ å³ å¸¸æ•°å¯¹è±¡å’Œéå¸¸æ•°å¯¹è±¡çš„æ¥å£ç›¸åŒï¼Œä½†æ˜¯éå¸¸æ•°å¯¹è±¡åœ¨å°è¯•æ›´æ”¹å®ƒä»¬æ—¶ä¼šå¼•å‘å¼‚å¸¸ã€‚ <br><br> è‡³äºè‡ªå®šä¹‰ç±»å‹ï¼Œç”¨æˆ·æœ¬äººå°†å¿…é¡»åˆ›å»ºä¸å¯å˜çš„åŒ…è£…å™¨ã€‚ é€šå¸¸ï¼Œè¿™æ˜¯æˆ‘å¯¹Javaçš„é€‰æ‹©ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">Foo.java</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> foo; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Collections; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.List; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> intValue; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String strValue; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;Integer&gt; listValue; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> intValue, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String strValue, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> List&lt;Integer&gt; listValue)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.intValue = intValue; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.strValue = strValue; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.listValue = Collections.unmodifiableList(listValue); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> StringBuilder sb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(); sb.append(<span class="hljs-string"><span class="hljs-string">"INT: "</span></span>).append(intValue).append(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>) .append(<span class="hljs-string"><span class="hljs-string">"STRING: "</span></span>).append(strValue).append(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>) .append(<span class="hljs-string"><span class="hljs-string">"LIST: "</span></span>).append(listValue.toString()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sb.toString(); } }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Api.java</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> api; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> foo.Foo; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Arrays; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Api</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Foo foo = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Foo(<span class="hljs-number"><span class="hljs-number">42</span></span>, <span class="hljs-string"><span class="hljs-string">"Fish"</span></span>, Arrays.asList(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> Foo </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFoo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> foo; } }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Main.java</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> api.Api; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> foo.Foo; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Main</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">goodConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Foo foo)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// do nothing wrong with foo } public static void main(String[] args) throws Exception { { final Api api = new Api(); goodConsumer(api.getFoo()); System.out.println("*** After good consumer ***"); System.out.println(api.getFoo()); System.out.println(); } } }</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ç»“è®º</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After good consumer *** INT: 42 STRING: Fish LIST: [0, 1, 2, 3]</span></span></code> </pre> <br></div></div><br><h4> æ›´æ”¹å°è¯•å¤±è´¥ </h4><br> å¦‚æœæ‚¨åªæ˜¯å°è¯•æ›´æ”¹æŸäº›å†…å®¹ï¼Œä¾‹å¦‚ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">Main.java</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stupidConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Foo foo)</span></span></span><span class="hljs-function"> </span></span>{ foo.listValue.add(<span class="hljs-number"><span class="hljs-number">100</span></span>); }</code> </pre> <br></div></div><br> è¯¥ä»£ç å°†è¢«ç¼–è¯‘ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶å°†å¼•å‘å¼‚å¸¸ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">ä¾‹å¤–æƒ…å†µ</b> <div class="spoiler_text"><pre> <code class="diff hljs">Exception in thread "main" java.lang.UnsupportedOperationException at java.base/java.util.Collections$UnmodifiableCollection.add(Collections.java:1056) at Main.stupidConsumer(Main.java:15) at Main.main(Main.java:70)</code> </pre> <br></div></div><br><h4> æˆåŠŸå°è¯• </h4><br> å¦‚æœæƒ…å†µä¸å¥½ï¼Ÿ æ— æ³•ä»ç±»å‹ä¸­åˆ é™¤<code>final</code>é™å®šç¬¦ã€‚ ä½†æ˜¯åœ¨Javaä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªæ›´å¼ºå¤§çš„åŠŸèƒ½-åå°„ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">Main.java</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.lang.reflect.Field; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evilConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Foo foo)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Field intField = Foo.class.getDeclaredField(<span class="hljs-string"><span class="hljs-string">"intValue"</span></span>); intField.setAccessible(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); intField.set(foo, <span class="hljs-number"><span class="hljs-number">7</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Field strField = Foo.class.getDeclaredField(<span class="hljs-string"><span class="hljs-string">"strValue"</span></span>); strField.setAccessible(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); strField.set(foo, <span class="hljs-string"><span class="hljs-string">"James Bond"</span></span>); }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">å’Œå…ç–«åŠ›</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After evil consumer *** INT: 7 STRING: James Bond LIST: [0, 1, 2, 3]</span></span></code> </pre> <br></div></div><br> è¿™æ ·çš„ä»£ç çœ‹èµ·æ¥æ¯”C ++ä¸­çš„<code>cosnt_cast</code>æ›´å¯ç–‘ï¼Œæ›´å®¹æ˜“å¼•èµ·è¯„è®ºã€‚ è€Œä¸”è¿˜ä¼šå¯¼è‡´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸å¯é¢„æœŸçš„å½±å“</a> ï¼ˆå³Javaæ˜¯å¦å…·æœ‰<abbr title="æœªå®šä¹‰çš„è¡Œä¸º">UB</abbr>å—ï¼Ÿï¼‰ã€‚ è€Œä¸”å®ƒä¹Ÿå¯ä»¥ä»»æ„éšè—ã€‚ <br><br> è¿™äº›ä¸å¯é¢„æµ‹çš„å½±å“å¯èƒ½æ˜¯ç”±äºä»¥ä¸‹äº‹å®ï¼šå½“ä½¿ç”¨åå°„æ›´æ”¹<code>final</code>å¯¹è±¡æ—¶ï¼Œ <code>hashCode()</code>æ–¹æ³•è¿”å›çš„å€¼å¯èƒ½ä¿æŒä¸å˜ã€‚ å…·æœ‰ç›¸åŒæ•£åˆ—çš„ä¸åŒå¯¹è±¡ä¸æ˜¯é—®é¢˜ï¼Œä½†æ˜¯å…·æœ‰ä¸åŒæ•£åˆ—çš„ç›¸åŒå¯¹è±¡æ˜¯ä¸å¥½çš„ã€‚ <br><br> ç”¨Javaä¸“é—¨é’ˆå¯¹å­—ç¬¦ä¸²ï¼ˆ <a href="">ç¤ºä¾‹</a> ï¼‰è¿›è¡Œæ­¤ç±»ç ´è§£çš„å±é™©æ˜¯ä»€ä¹ˆï¼šè¿™é‡Œçš„å­—ç¬¦ä¸²å¯ä»¥å­˜å‚¨åœ¨æ± ä¸­ï¼Œå¹¶ä¸”å½¼æ­¤ä¸ç›¸å…³ï¼Œåªæœ‰ç›¸åŒçš„å­—ç¬¦ä¸²æ‰èƒ½è¡¨ç¤ºæ± ä¸­çš„å€¼ç›¸åŒã€‚ æ¢äº†ä¸€ä¸ª-å…¨éƒ¨éƒ½æ¢äº†ã€‚ <br><br> ä½†æ˜¯ï¼  <abbr title="Javaè™šæ‹Ÿæœº">JVM</abbr>å¯ä»¥ä½¿ç”¨å„ç§å®‰å…¨è®¾ç½®è¿è¡Œã€‚ å·²è¢«æ¿€æ´»çš„é»˜è®¤<code>Security Manager</code>é€šè¿‡åå°„æŠ‘åˆ¶äº†ä¸Šè¿°æ‰€æœ‰æŠ€å·§ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">ä¾‹å¤–æƒ…å†µ</b> <div class="spoiler_text"><pre> <code class="diff hljs">$ java -Djava.security.manager -jar bin/main.jar Exception in thread "main" java.security.AccessControlException: access denied ("java.lang.reflect.ReflectPermission" "suppressAccessChecks") at java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472) at java.base/java.security.AccessController.checkPermission(AccessController.java:895) at java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:335) at java.base/java.lang.reflect.AccessibleObject.checkPermission(AccessibleObject.java:85) at java.base/java.lang.reflect.Field.setAccessible(Field.java:169) at Main.evilConsumer(Main.java:20) at Main.main(Main.java:71)</code> </pre> <br></div></div><br><h4>  Javaåœ¨è¿™ç§æƒ…å†µä¸‹çš„ä¼˜ç¼ºç‚¹ </h4><br> å“ªä¸ªå¥½ï¼š <br><ul><li>  <code>final</code>å…³é”®å­—ä»¥æŸç§æ–¹å¼é™åˆ¶äº†æ•°æ®æ›´æ”¹ </li><li> æœ‰ä¸€äº›åº“æ–¹æ³•å¯ä»¥å°†é›†åˆå˜æˆä¸å¯å˜çš„ </li><li> ä»£ç å®¡æŸ¥å¾ˆå®¹æ˜“å‘ç°æœ‰æ„è¯†çš„å…ç–«è¿è§„ </li><li> å…·æœ‰JVMå®‰å…¨è®¾ç½® </li></ul><br> ä¸å¥½çš„æ˜¯ï¼š <br><ul><li> å°è¯•æ›´æ”¹ä¸å¯å˜å¯¹è±¡åªä¼šåœ¨è¿è¡Œæ—¶å‡ºç° </li><li> ä¸ºäº†ä½¿æŸä¸ªç±»çš„å¯¹è±¡ä¸å¯å˜ï¼Œæ‚¨å¿…é¡»è‡ªå·±ç¼–å†™é€‚å½“çš„åŒ…è£… </li><li> åœ¨æ²¡æœ‰é€‚å½“çš„å®‰å…¨è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æ›´æ”¹ä»»ä½•ä¸å¯å˜æ•°æ® </li><li> è¿™é¡¹æ“ä½œå¯èƒ½ä¼šå¸¦æ¥æ— æ³•é¢„æµ‹çš„åæœï¼ˆå°½ç®¡å¯èƒ½å¾ˆå¥½ï¼Œå‡ ä¹æ²¡æœ‰äººä¼šè¿™æ ·åšï¼‰ </li></ul><br><br><h2> å·¨èŸ’ </h2><br> å¥½å§ï¼Œé‚£ä¹‹åï¼Œæˆ‘åªæ˜¯è¢«å¥½å¥‡çš„æµªæ½®å¸­å·è€Œæ¥ã€‚ ä¾‹å¦‚åœ¨Pythonä¸­å¦‚ä½•è§£å†³è¿™äº›ä»»åŠ¡ï¼Ÿ ä»–ä»¬æœ‰æ²¡æœ‰å†³å®šï¼Ÿ ç¡®å®ï¼Œåœ¨pythonä¸­ï¼ŒåŸåˆ™ä¸Šæ²¡æœ‰æ’å®šæ€§ï¼Œç”šè‡³æ²¡æœ‰è¿™æ ·çš„å…³é”®å­—ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">foo.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, int_value, str_value, list_value)</span></span></span><span class="hljs-function">:</span></span> self.int_value = int_value self.str_value = str_value self.list_value = list_value <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'INT: '</span></span> + str(self.int_value) + <span class="hljs-string"><span class="hljs-string">'\n'</span></span> + \ <span class="hljs-string"><span class="hljs-string">'STRING: '</span></span> + self.str_value + <span class="hljs-string"><span class="hljs-string">'\n'</span></span> + \ <span class="hljs-string"><span class="hljs-string">'LIST: '</span></span> + str(self.list_value)</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">api.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Foo <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Api</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.__foo = Foo(<span class="hljs-number"><span class="hljs-number">42</span></span>, <span class="hljs-string"><span class="hljs-string">'Fish'</span></span>, [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.__foo</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">main.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> api <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Api <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">good_consumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evil_consumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo)</span></span></span><span class="hljs-function">:</span></span> foo.int_value = <span class="hljs-number"><span class="hljs-number">7</span></span> foo.str_value = <span class="hljs-string"><span class="hljs-string">'James Bond'</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> api = Api() good_consumer(api.get_foo()) print(<span class="hljs-string"><span class="hljs-string">"*** After good consumer ***"</span></span>) print(api.get_foo()) print() api = Api() evil_consumer(api.get_foo()) print(<span class="hljs-string"><span class="hljs-string">"*** After evil consumer ***"</span></span>) print(api.get_foo()) print() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: main()</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ç»“è®º</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After good consumer *** INT: 42 STRING: Fish LIST: [0, 1, 2, 3] *** After evil consumer *** INT: 7 STRING: James Bond LIST: [0, 1, 2, 3]</span></span></code> </pre> <br></div></div><br> å³ æ— éœ€ä»»ä½•æŠ€å·§ï¼Œæ¥æ‰‹å¹¶æ›´æ”¹ä»»ä½•å¯¹è±¡çš„å­—æ®µã€‚ <br><br><h4> ç»…å£«åè®® </h4><br>  pythonæ¥å—ä»¥ä¸‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åšæ³•</a> ï¼š <br><ul><li> åç§°ä»¥å•ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„è‡ªå®šä¹‰å­—æ®µå’Œæ–¹æ³•å—åˆ°ä¿æŠ¤ï¼ˆåœ¨C ++å’ŒJavaä¸­å—<i>ä¿æŠ¤</i> ï¼‰å­—æ®µå’Œæ–¹æ³• </li><li> åç§°ä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„è‡ªå®šä¹‰å­—æ®µå’Œæ–¹æ³•æ˜¯ç§æœ‰å­—æ®µå’Œæ–¹æ³• </li></ul><br> è¯¥è¯­è¨€ç”šè‡³ä½¿â€œç§æœ‰â€å­—æ®µ<i>å—åˆ°å¹²æ‰°</i> ã€‚ éå¸¸å¹¼ç¨šçš„ä¿®é¥°ï¼Œæ— æ³•ä¸C ++è¿›è¡Œæ¯”è¾ƒï¼Œä½†è¿™è¶³ä»¥å¿½ç•¥ï¼ˆä½†ä¸èƒ½æ•æ‰ï¼‰æ— æ„ï¼ˆæˆ–å¹¼ç¨šï¼‰é”™è¯¯ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">ä»£å·</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, int_value)</span></span></span><span class="hljs-function">:</span></span> self.__int_value = int_value <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int_value</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.__int_value <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evil_consumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo)</span></span></span><span class="hljs-function">:</span></span> foo.__int_value = <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ç»“è®º</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After evil consumer *** INT: 42</span></span></code> </pre> <br></div></div><br> å¹¶ä¸”è¦æ•…æ„çŠ¯ä¸€ä¸ªé”™è¯¯ï¼Œåªéœ€æ·»åŠ å‡ ä¸ªå­—ç¬¦å³å¯ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">ä»£å·</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evil_consumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo)</span></span></span><span class="hljs-function">:</span></span> foo._Foo__int_value = <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ç»“è®º</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After evil consumer *** INT: 7</span></span></code> </pre> <br></div></div><br><h4> å¦ä¸€ç§é€‰æ‹© </h4><br> æˆ‘å–œæ¬¢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Oz N Tiram</a>æå‡ºçš„è§£å†³æ–¹æ¡ˆã€‚ è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è£…é¥°å™¨ï¼Œå½“å°è¯•æ›´æ”¹<i>åªè¯»</i>å­—æ®µæ—¶ä¼šå¼•å‘å¼‚å¸¸ã€‚ è¿™æœ‰ç‚¹è¶…å‡ºäº†çº¦å®šçš„èŒƒå›´ï¼ˆâ€œä¸åˆ›å»ºä¸€å †æ–¹æ³•å’Œæ¥å£â€ï¼‰ï¼Œä½†æ˜¯ï¼Œæˆ‘é‡ç”³ï¼Œæˆ‘å–œæ¬¢å®ƒã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">foo.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> read_only_properties <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> read_only_properties @read_only_properties(<span class="hljs-string"><span class="hljs-string">'int_value'</span></span>, <span class="hljs-string"><span class="hljs-string">'str_value'</span></span>, <span class="hljs-string"><span class="hljs-string">'list_value'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, int_value, str_value, list_value)</span></span></span><span class="hljs-function">:</span></span> self.int_value = int_value self.str_value = str_value self.list_value = list_value <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'INT: '</span></span> + str(self.int_value) + <span class="hljs-string"><span class="hljs-string">'\n'</span></span> + \ <span class="hljs-string"><span class="hljs-string">'STRING: '</span></span> + self.str_value + <span class="hljs-string"><span class="hljs-string">'\n'</span></span> + \ <span class="hljs-string"><span class="hljs-string">'LIST: '</span></span> + str(self.list_value)</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">main.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evil_consumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo)</span></span></span><span class="hljs-function">:</span></span> foo.int_value = <span class="hljs-number"><span class="hljs-number">7</span></span> foo.str_value = <span class="hljs-string"><span class="hljs-string">'James Bond'</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ç»“è®º</b> <div class="spoiler_text"><pre> <code class="diff hljs">Traceback (most recent call last): File "src/main.py", line 35, in &lt;module&gt; main() File "src/main.py", line 28, in main evil_consumer(api.get_foo()) File "src/main.py", line 9, in evil_consumer foo.int_value = 7 File "/home/Tmp/python/src/read_only_properties.py", line 15, in __setattr__ raise AttributeError("Can't touch {}".format(name)) AttributeError: Can't touch int_value</code> </pre> <br></div></div><br> ä½†è¿™ä¸æ˜¯ä¸‡èƒ½è¯ã€‚ ä½†æ˜¯è‡³å°‘ç›¸åº”çš„ä»£ç çœ‹èµ·æ¥å¯ç–‘ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">main.py</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evil_consumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo)</span></span></span><span class="hljs-function">:</span></span> foo.__dict__[<span class="hljs-string"><span class="hljs-string">'int_value'</span></span>] = <span class="hljs-number"><span class="hljs-number">7</span></span> foo.__dict__[<span class="hljs-string"><span class="hljs-string">'str_value'</span></span>] = <span class="hljs-string"><span class="hljs-string">'James Bond'</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ç»“è®º</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After evil consumer *** INT: 7 STRING: James Bond LIST: [0, 1, 2, 3]</span></span></code> </pre> <br></div></div><br><h4> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒPythonçš„ä¼˜ç¼ºç‚¹ </h4><br>  pythonçœ‹èµ·æ¥å¾ˆç³Ÿç³•å—ï¼Ÿ ä¸ï¼Œè¿™åªæ˜¯å¦ä¸€ç§è¯­è¨€å“²å­¦ã€‚ é€šå¸¸ç”¨â€œ <i>æˆ‘ä»¬åœ¨è¿™é‡Œéƒ½æ˜¯æˆå¹´äºº</i> â€è¿™ä¸€çŸ­è¯­æ¥è¡¨è¾¾ï¼ˆ <i>æˆ‘ä»¬åœ¨è¿™é‡Œéƒ½æ˜¯æˆå¹´äºº</i> ï¼‰ã€‚ å³ å‡å®šæ²¡æœ‰äººä¼šç‰¹åˆ«åç¦»å…¬è®¤çš„è§„èŒƒã€‚ è¿™ä¸ªæ¦‚å¿µå°šä¸ç¡®å®šï¼Œä½†å®ƒå…·æœ‰ç”Ÿå‘½æƒã€‚ <br><br> å“ªä¸ªå¥½ï¼š <br><ul><li> å…¬å¼€å£°æ˜ç¨‹åºå‘˜åº”è¯¥ç›‘è§†è®¿é—®æƒé™ï¼Œè€Œä¸æ˜¯ç¼–è¯‘å™¨æˆ–è§£é‡Šå™¨ </li><li> å¯¹äºå®‰å…¨å’Œç§æœ‰å­—æ®µå’Œæ–¹æ³•ï¼Œå­˜åœ¨å…¬è®¤çš„å‘½åçº¦å®š </li><li> åœ¨ä»£ç å®¡æŸ¥ä¸­å¾ˆå®¹æ˜“æ£€æµ‹åˆ°æŸäº›è®¿é—®å†²çª </li></ul><br> ä¸å¥½çš„æ˜¯ï¼š <br><ul><li> åœ¨è¯­è¨€çº§åˆ«ï¼Œä¸å¯èƒ½é™åˆ¶å¯¹ç­çº§é¢†åŸŸçš„è®¿é—® </li><li> ä¸€åˆ‡éƒ½å–å†³äºå¼€å‘å•†çš„è¯šæ„å’Œè¯šå® </li><li> é”™è¯¯ä»…åœ¨è¿è¡Œæ—¶å‘ç”Ÿ </li></ul><br><br><h2> å»å§ </h2><br> æˆ‘è¿˜ç»å¸¸æ„Ÿè§‰åˆ°çš„å¦ä¸€ç§è¯­è¨€ï¼ˆä¸»è¦æ˜¯é˜…è¯»æ–‡ç« ï¼‰ï¼Œå°½ç®¡æˆ‘å°šæœªåœ¨å…¶ä¸Šç¼–å†™ä»»ä½•å•†ä¸šä»£ç ã€‚  <code>const</code>å…³é”®å­—åŸºæœ¬ä¸Šåœ¨é‚£é‡Œï¼Œä½†æ˜¯åªæœ‰åœ¨ç¼–è¯‘æ—¶å·²çŸ¥çš„å­—ç¬¦ä¸²å’Œæ•´æ•°å€¼ï¼ˆå³C ++ä¸­çš„<code>constexpr</code> ï¼‰æ‰å¯ä»¥æ˜¯å¸¸é‡ã€‚ ä½†æ˜¯ç»“æ„å­—æ®µä¸èƒ½ã€‚ å³ å¦‚æœè¿™äº›å­—æ®µè¢«å£°æ˜ä¸ºopenï¼Œé‚£ä¹ˆç»“æœå°±åƒåœ¨pythonä¸­ä¸€æ ·-æ›´æ”¹æ‚¨æƒ³è¦çš„äººã€‚ æ²¡æ„æ€ æˆ‘ä»€è‡³ä¸æä¾›ç¤ºä¾‹ä»£ç ã€‚ <br><br> å¥½å§ï¼Œè®©è¿™äº›å­—æ®µæ˜¯ç§æœ‰çš„ï¼Œè®©å®ƒä»¬çš„å€¼é€šè¿‡è°ƒç”¨openæ–¹æ³•è·å¾—ã€‚ æˆ‘å¯ä»¥åœ¨Goä¸­å¾—åˆ°æŸ´ç«å—ï¼Ÿ å½“ç„¶ï¼Œè¿™é‡Œä¹Ÿæœ‰åæ€ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">foo.go</b> <div class="spoiler_text"><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> foo <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Foo <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { intValue <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> strValue <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> listValue []<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo *Foo)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IntValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> foo.intValue; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo *Foo)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">StrValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> foo.strValue; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo *Foo)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ListValue</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> []</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> foo.listValue; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo *Foo)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">String</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> { result := fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"INT: %d\nSTRING: %s\nLIST: ["</span></span>, foo.intValue, foo.strValue) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i, num := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> foo.listValue { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> i &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> { result += <span class="hljs-string"><span class="hljs-string">", "</span></span> } result += fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, num) } result += <span class="hljs-string"><span class="hljs-string">"]"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">New</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">, s </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, l []</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Foo{intValue: i, strValue: s, listValue: l} }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">api.go</b> <div class="spoiler_text"><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> api <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"foo"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Api <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { foo foo.Foo } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(api *Api)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetFoo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &amp;api.foo } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">New</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Api</span></span></span></span> { api := Api{} api.foo = foo.New(<span class="hljs-number"><span class="hljs-number">42</span></span>, <span class="hljs-string"><span class="hljs-string">"Fish"</span></span>, []<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>{<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> api }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">main.go</b> <div class="spoiler_text"><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"api"</span></span> <span class="hljs-string"><span class="hljs-string">"foo"</span></span> <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-string"><span class="hljs-string">"reflect"</span></span> <span class="hljs-string"><span class="hljs-string">"unsafe"</span></span> ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">goodConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(foo *foo.Foo)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// do nothing wrong with foo } func evilConsumer(foo *foo.Foo) { reflectValue := reflect.Indirect(reflect.ValueOf(foo)) member := reflectValue.FieldByName("intValue") intPointer := unsafe.Pointer(member.UnsafeAddr()) realIntPointer := (*int)(intPointer) *realIntPointer = 7 member = reflectValue.FieldByName("strValue") strPointer := unsafe.Pointer(member.UnsafeAddr()) realStrPointer := (*string)(strPointer) *realStrPointer = "James Bond" } func main() { apiInstance := api.New() goodConsumer(apiInstance.GetFoo()) fmt.Println("*** After good consumer ***") fmt.Println(apiInstance.GetFoo().String()) fmt.Println() apiInstance = api.New() evilConsumer(apiInstance.GetFoo()) fmt.Println("*** After evil consumer ***") fmt.Println(apiInstance.GetFoo().String()) }</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ç»“è®º</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After good consumer *** INT: 42 STRING: Fish LIST: [0, 1, 2, 3] *** After evil consumer *** INT: 7 STRING: James Bond LIST: [0, 1, 2, 3]</span></span></code> </pre> <br></div></div><br> é¡ºä¾¿è¯´ä¸€ä¸‹ï¼ŒGoä¸­çš„å­—ç¬¦ä¸²æ˜¯ä¸å˜çš„ï¼Œå°±åƒJavaä¸­ä¸€æ ·ã€‚ åˆ‡ç‰‡å’Œæ˜ å°„æ˜¯å¯å˜çš„ï¼Œå¹¶ä¸”ä¸Javaä¸åŒï¼Œè¯­è¨€çš„æ ¸å¿ƒæ— æ³•ä½¿å®ƒä»¬ä¸å˜ã€‚ ä»…ä»£ç ç”Ÿæˆï¼ˆå¦‚æœæˆ‘é”™äº†ï¼Œåˆ™æ­£ç¡®ï¼‰ã€‚ å³ å³ä½¿ä¸€åˆ‡éƒ½æ­£ç¡®å®Œæˆï¼Œä¹Ÿä¸è¦ä½¿ç”¨è‚®è„çš„æŠŠæˆï¼Œåªéœ€ä»æ–¹æ³•ä¸­è¿”å›åˆ‡ç‰‡å³å¯-å¯ä»¥éšæ—¶æ›´æ”¹æ­¤åˆ‡ç‰‡ã€‚ <br><br>  gopherç¤¾åŒºæ˜¾ç„¶<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¼ºä¹</a>ä¸å˜çš„ç±»å‹ï¼Œä½†æ˜¯Go 1.xä¸­è‚¯å®šæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚ <br><br><h4> åœ¨è¿™ç§æƒ…å†µä¸‹Goçš„ä¼˜ç¼ºç‚¹ </h4><br> åœ¨æˆ‘å¯¹ç¦æ­¢æ›´æ”¹Goç»“æ„å­—æ®µçš„å¯èƒ½æ€§çš„ç»éªŒä¸è¶³çš„è§‚ç‚¹ä¸­ï¼Œå®ƒä½äºJavaå’ŒPythonä¹‹é—´ï¼Œä¸åè€…æ›´æ¥è¿‘ã€‚ åŒæ—¶ï¼ŒGoå¹¶æ²¡æœ‰ï¼ˆå°½ç®¡æˆ‘ä¸€ç›´åœ¨å¯»æ‰¾ï¼Œä½†æˆ‘æ²¡æœ‰é‡åˆ°è¿‡ï¼‰æˆå¹´äººçš„PythonåŸåˆ™ã€‚ ä½†æœ‰ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ä¸€ä¸ªç¨‹åºåŒ…ä¸­ï¼Œæ‰€æœ‰å†…å®¹éƒ½å¯ä»¥è®¿é—®æ‰€æœ‰å†…å®¹ï¼Œå¸¸é‡ä¸­åªæœ‰åŸºæœ¬æ¡ä»¶ï¼Œç¼ºå°‘ä¸å˜çš„é›†åˆã€‚ å³ å¦‚æœå¼€å‘äººå‘˜å¯ä»¥è¯»å–ä¸€äº›æ•°æ®ï¼Œé‚£ä¹ˆä»–å¾ˆæœ‰å¯èƒ½å¯ä»¥åœ¨é‚£é‡Œå†™ä¸€äº›ä¸œè¥¿ã€‚ å°±åƒpythonä¸€æ ·ï¼Œå®ƒå°†å¤§éƒ¨åˆ†è´£ä»»ä»ç¼–è¯‘å™¨ä¼ è¾¾ç»™äººå‘˜ã€‚ <br><br> å“ªä¸ªå¥½ï¼š <br><ul><li> æ‰€æœ‰è®¿é—®é”™è¯¯å‡åœ¨ç¼–è¯‘æœŸé—´å‘ç”Ÿ </li><li> åœ¨è¯„è®ºä¸­æ¸…æ™°å¯è§åŸºäºåå°„çš„è‚®è„æŠ€å·§ </li></ul><br> ä¸å¥½çš„æ˜¯ï¼š <br><ul><li> æ ¹æœ¬æ²¡æœ‰æ¦‚å¿µ </li><li> ä¸å¯èƒ½é™åˆ¶å¯¹åŒ…å†…ç»“æ„åŸŸçš„è®¿é—® </li><li> ä¸ºäº†ä¿æŠ¤å­—æ®µä¸å—è½¯ä»¶åŒ…å¤–éƒ¨çš„æ›´æ”¹ï¼Œæ‚¨å°†å¿…é¡»ç¼–å†™getter </li><li> æ‰€æœ‰å‚è€ƒé›†åˆéƒ½æ˜¯å¯å˜çš„ </li><li> å€ŸåŠ©åæ€ï¼Œæ‚¨ç”šè‡³å¯ä»¥æ›´æ”¹ç§æœ‰å­—æ®µ </li></ul><br><br><h2>  Erlang </h2><br> è¿™æ˜¯å‡ºäºç«äº‰ã€‚ å°½ç®¡å¦‚æ­¤ï¼ŒErlangæ˜¯ä¸€ç§ä¸ä¸Šè¿°å››ç§è¯­è¨€æˆªç„¶ä¸åŒçš„è¯­è¨€ã€‚ ä¸€æ—¦æˆ‘å¯¹å®ƒå¾ˆæœ‰å…´è¶£åœ°å­¦ä¹ äº†ï¼Œæˆ‘çœŸçš„å¾ˆå–œæ¬¢è®©è‡ªå·±ä»¥å®ç”¨çš„æ–¹å¼æ€è€ƒã€‚ ä½†æ˜¯ï¼Œä¸å¹¸çš„æ˜¯ï¼Œæˆ‘æ²¡æœ‰æ‰¾åˆ°è¿™äº›æŠ€èƒ½çš„å®é™…åº”ç”¨ã€‚ <br><br> å› æ­¤ï¼Œç”¨è¿™ç§è¯­è¨€åªèƒ½å°†å˜é‡çš„å€¼åˆ†é…ä¸€æ¬¡ã€‚ å½“è°ƒç”¨å‡½æ•°æ—¶ï¼Œæ‰€æœ‰å‚æ•°éƒ½æŒ‰å€¼ä¼ é€’ï¼Œå³ å¤åˆ¶äº†å®ƒä»¬ï¼ˆä½†æ˜¯å¯¹å°¾é€’å½’è¿›è¡Œäº†ä¼˜åŒ–ï¼‰ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">foo.erl</b> <div class="spoiler_text"><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">-module</span></span><span class="hljs-params"><span class="hljs-params">(foo)</span></span>. -export([new/<span class="hljs-number"><span class="hljs-number">3</span></span>, print/<span class="hljs-number"><span class="hljs-number">1</span></span>]). new(IntValue, StrValue, ListValue) -&gt; {foo, IntValue, StrValue, ListValue}. print(Foo) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Foo <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> {foo, IntValue, StrValue, ListValue} -&gt; io:format(<span class="hljs-string"><span class="hljs-string">"INT: ~w~nSTRING: ~s~nLIST: ~w~n"</span></span>, [IntValue, StrValue, ListValue]); _ -&gt; throw({error, <span class="hljs-string"><span class="hljs-string">"Not a foo term"</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">api.erl</b> <div class="spoiler_text"><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">-module</span></span><span class="hljs-params"><span class="hljs-params">(api)</span></span>. -export([new/<span class="hljs-number"><span class="hljs-number">0</span></span>, get_foo/<span class="hljs-number"><span class="hljs-number">1</span></span>]). new() -&gt; {api, foo:new(<span class="hljs-number"><span class="hljs-number">42</span></span>, <span class="hljs-string"><span class="hljs-string">"Fish"</span></span>, [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>])}. get_foo(Api) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Api <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> {api, Foo} -&gt; Foo; _ -&gt; throw({error, <span class="hljs-string"><span class="hljs-string">"Not an api term"</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ä¸»æ–‡ä»¶</b> <div class="spoiler_text"><pre> <code class="erlang hljs"><span class="hljs-keyword"><span class="hljs-keyword">-module</span></span><span class="hljs-params"><span class="hljs-params">(main)</span></span>. -export([start/<span class="hljs-number"><span class="hljs-number">0</span></span>]). start() -&gt; ApiForGoodConsumer = api:new(), good_consumer(api:get_foo(ApiForGoodConsumer)), io:format(<span class="hljs-string"><span class="hljs-string">"*** After good consumer ***~n"</span></span>), foo:print(api:get_foo(ApiForGoodConsumer)), io:format(<span class="hljs-string"><span class="hljs-string">"~n"</span></span>), ApiForEvilConsumer = api:new(), evil_consumer(api:get_foo(ApiForEvilConsumer)), io:format(<span class="hljs-string"><span class="hljs-string">"*** After evil consumer ***~n"</span></span>), foo:print(api:get_foo(ApiForEvilConsumer)), init:stop(). good_consumer(_) -&gt; done. evil_consumer(Foo) -&gt; _ = setelement(<span class="hljs-number"><span class="hljs-number">1</span></span>, Foo, <span class="hljs-number"><span class="hljs-number">7</span></span>), _ = setelement(<span class="hljs-number"><span class="hljs-number">2</span></span>, Foo, <span class="hljs-string"><span class="hljs-string">"James Bond"</span></span>).</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">ç»“è®º</b> <div class="spoiler_text"><pre> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">*** After good consumer *** INT: 42 STRING: Fish LIST: [0,1,2,3] *** After evil consumer *** INT: 42 STRING: Fish LIST: [0,1,2,3]</span></span></code> </pre> <br></div></div><br> å½“ç„¶ï¼Œæ‚¨å¯ä»¥ä¸ºæ¯æ¬¡æ‰“å–·åšåˆ¶ä½œå‰¯æœ¬ï¼Œä»è€Œä¿æŠ¤è‡ªå·±å…å—å…¶ä»–è¯­è¨€çš„æ•°æ®æŸåã€‚ ä½†æ˜¯æœ‰ä¸€ç§è¯­è¨€ï¼ˆå½“ç„¶ä¸æ˜¯ä¸€ç§è¯­è¨€ï¼‰æ ¹æœ¬æ— æ³•ä»¥å…¶ä»–æ–¹å¼å®Œæˆï¼ <br><br><h4> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒErlangçš„ä¼˜ç¼ºç‚¹ </h4><br> å“ªä¸ªå¥½ï¼š <br><ul><li> æ•°æ®æ ¹æœ¬æ— æ³•æ›´æ”¹ </li></ul><br> ä¸å¥½çš„æ˜¯ï¼š <br><ul><li> å¤åˆ¶ï¼Œåˆ°å¤„å¤åˆ¶ </li></ul><br><br><h2> ä»£æ›¿ç»“è®ºå’Œç»“è®º </h2><br> ç»“æœå¦‚ä½•ï¼Ÿ å¥½å§ï¼Œé™¤äº†æˆ‘ä»å¾ˆä¹…ä»¥å‰è¯»è¿‡çš„å‡ æœ¬ä¹¦ä¸­å¹èµ°ç°å°˜çš„äº‹å®ä¹‹å¤–ï¼Œæˆ‘è¿˜ä¼¸å‡ºäº†æ‰‹æŒ‡ï¼Œç”¨5ç§ä¸åŒçš„è¯­è¨€ç¼–å†™äº†ä¸€ä¸ªæ— ç”¨çš„ç¨‹åºï¼Œå¹¶åˆ’æ‰äº†FAQã€‚ <br><br> é¦–å…ˆï¼Œæˆ‘ä¸å†è®¤ä¸ºC ++æ˜¯é˜²æ­¢ä¸»åŠ¨å‚»ç“œçš„æœ€å¯é çš„è¯­è¨€ã€‚ å°½ç®¡å…·æœ‰çµæ´»æ€§å’Œä¸°å¯Œçš„è¯­æ³•ã€‚ ç°åœ¨ï¼Œæˆ‘å€¾å‘äºè®¤ä¸ºJavaåœ¨è¿™æ–¹é¢æä¾›äº†æ›´å¤šçš„ä¿æŠ¤ã€‚ è¿™ä¸æ˜¯ä¸€ä¸ªå¾ˆåŸå§‹çš„ç»“è®ºï¼Œä½†å¯¹æˆ‘è‡ªå·±æ¥è¯´ï¼Œå®ƒéå¸¸æœ‰ç”¨ã€‚ <br><br> å…¶æ¬¡ï¼Œæˆ‘çªç„¶ä¸ºè‡ªå·±æå‡ºäº†è¿™æ ·çš„æƒ³æ³•ï¼šå¯ä»¥å°†ç¼–ç¨‹è¯­è¨€å¤§è‡´åˆ†ä¸ºè¯•å›¾åœ¨è¯­æ³•å’Œè¯­ä¹‰çº§åˆ«é™åˆ¶è®¿é—®æŸäº›æ•°æ®çš„è¯­è¨€ï¼Œä»¥åŠç”šè‡³ä¸è¯•å›¾å°†è¿™äº›é—®é¢˜è½¬ç§»ç»™ç”¨æˆ·çš„è¯­è¨€ã€‚ ã€‚ å› æ­¤ï¼Œå›¢é˜Ÿå¼€å‘å‚ä¸è€…ï¼ˆæŠ€æœ¯äººå‘˜å’Œä¸ªäººï¼‰çš„å…¥èŒé—¨æ§›ï¼Œæœ€ä½³å®è·µå’Œè¦æ±‚åº”æ ¹æ®æ‰€é€‰æ‹©çš„æ„Ÿå…´è¶£è¯­è¨€è€Œæœ‰æ‰€ä¸åŒã€‚ æˆ‘å¾ˆæƒ³è¯»è¿™ä¸ªä¸»é¢˜ã€‚ <br><br> ç¬¬ä¸‰ï¼šæ— è®ºè¯¥è¯­è¨€å¦‚ä½•å°è¯•ä¿æŠ¤æ•°æ®å…äºå†™å…¥ï¼Œå¦‚æœéœ€è¦ï¼Œç”¨æˆ·å‡ ä¹æ€»æ˜¯å¯ä»¥è¿™æ ·åšï¼ˆç”±äºErlangï¼Œâ€œå‡ ä¹â€ï¼‰ã€‚ è€Œä¸”ï¼Œå¦‚æœæ‚¨åªä½¿ç”¨ä¸»æµè¯­è¨€-è¿™æ€»æ˜¯å¾ˆå®¹æ˜“çš„ã€‚ äº‹å®è¯æ˜ï¼Œæ‰€æœ‰è¿™äº›<code>const</code>å’Œ<code>final</code>éƒ½ä¸è¿‡æ˜¯å»ºè®®ï¼Œå³æ­£ç¡®ä½¿ç”¨æ¥å£çš„è¯´æ˜ã€‚ å¹¶éæ‰€æœ‰è¯­è¨€éƒ½å…·æœ‰å®ƒï¼Œä½†æˆ‘ä»ç„¶æ›´å–œæ¬¢åœ¨æˆ‘çš„æ­¦å™¨åº“ä¸­ä½¿ç”¨è¿™ç§å·¥å…·ã€‚ <br><br>  -,  :    ()       , ,     â€”   .  ,  ,  <code>const</code>   ,   -   (  ),   , ,   ( )   . å³<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›¸ä¿¡</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘çš„åŒäº‹ä»¬ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ï¼Œæˆ‘æ—©å°±çŸ¥é“ç°ä»£è½¯ä»¶å¼€å‘å å›¢é˜Ÿåˆä½œçš„99.99ï¼…ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯æˆ‘å¾ˆå¹¸è¿ï¼Œæˆ‘çš„æ‰€æœ‰åŒäº‹éƒ½æ˜¯â€œæˆäººï¼Œæœ‰è´£ä»»æ„Ÿâ€çš„äººã€‚</font><font style="vertical-align: inherit;">å¯¹æˆ‘è€Œè¨€ï¼Œæ€»ä¼šå‘ç”ŸæŸç§æƒ…å†µï¼Œæ‰€æœ‰å›¢é˜Ÿæˆå‘˜éƒ½å¿…é¡»éµå®ˆæ—¢å®šè§„åˆ™ï¼Œè¿™æ˜¯ç†æ‰€å½“ç„¶çš„ã€‚</font><font style="vertical-align: inherit;">æˆ‘è®¤è¯†åˆ°æˆ‘ä»¬ä¸€ç›´ç›¸äº’</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¿¡ä»»</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font><font style="vertical-align: inherit;">ç›¸äº’</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°Šé‡çš„</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é“è·¯</font><font style="vertical-align: inherit;">æ˜¯æ¼«é•¿è€Œåˆè¯¥æ­»çš„é•‡å®šä¸å®‰å…¨ã€‚</font></font><br><br><h4> èšè‹¯ä¹™çƒ¯ </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæœ‰äººå¯¹æ‰€ä½¿ç”¨çš„ä»£ç ç¤ºä¾‹æ„Ÿå…´è¶£ï¼Œå¯ä»¥åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤å¤„è·å–</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN447478/">https://habr.com/ru/post/zh-CN447478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN447468/index.html">è¿™ç§é‡å­æœºå™¨ä¼¼ä¹ä¸å®‡å®™å¯¹æ— åºçš„æ¸´æœ›ç›¸çŸ›ç›¾ã€‚</a></li>
<li><a href="../zh-CN447470/index.html">å­˜å‚¨ç§‘å¹»å°è¯´ä¸­æƒ³è±¡çš„æ•°æ®çš„8ç§æ–¹æ³•</a></li>
<li><a href="../zh-CN447472/index.html">æˆ‘ä»¬åœ¨æœºç”µå±å¹•ä¸Šç©ä¿„ç½—æ–¯æ–¹å—</a></li>
<li><a href="../zh-CN447474/index.html">ç”¨äºHarwell Dekatronè®¡ç®—æœºå¤åˆ¶å“çš„å¾®å‹åŠŸèƒ½åè¿›åˆ¶æ¨¡æ‹Ÿç‰©ï¼Œä¸ä»…</a></li>
<li><a href="../zh-CN447476/index.html">åœ¨Sublime Textä¸­è®¾ç½®LaTeX</a></li>
<li><a href="../zh-CN447480/index.html">2019å¹´å®‡å®™èˆªè¡Œæ—¥ï¼šå„åŸå¸‚æ´»åŠ¨</a></li>
<li><a href="../zh-CN447482/index.html">ç½‘ç»œæ³•å­¦é™¢ã€‚ 5å¤©æ•°å­—æ³•å¾‹å¯†é›†</a></li>
<li><a href="../zh-CN447488/index.html">ä½¿ç”¨Ghidraæ‰“ç ´ç®€å•çš„è£‚ç¼-ç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN447490/index.html">å¦‚ä½•æé«˜è‹±è¯­å†™ä½œé£æ ¼ï¼š5ä¸ªæŠ€å·§</a></li>
<li><a href="../zh-CN447494/index.html">å¯æŒç»­å‘å±•GANå­¦ä¹ ï¼ˆæ·±å…¥ç ”ç©¶ï¼‰</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>