<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โฎ๏ธ ๐ ๐ Zabbix - ูุฑุงูุจุฉ ุฌูุฑุงู OSPF ุจุงุณุชุฎุฏุงู SNMPv3 TRAPs ูุงูุฃูู ูุงููุฃุณ ๐๏ธ ๐ ๐ฅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูุงุฎุชุตุงุตุงุช 
 ููุงู ุดุจูุฉ ูู ูุฑุงูุฒ ุงูุจูุงูุงุช ุงููุชูุฑูุฉ ุฌุบุฑุงูููุง ูุน ุณูุงุฑุฉ VRF ููุงุฆูุฉ ุฏุงุฆูุฉ ุงูุชุบูุฑ ูู ุฌูุฑุงู OSPF. ุชุญุชุงุฌ ุฅูู ุชุชุจุนูู: 



1. ุงูุฏููุฉ ุ ุงูุชูุจูู ุฅ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zabbix - ูุฑุงูุจุฉ ุฌูุฑุงู OSPF ุจุงุณุชุฎุฏุงู SNMPv3 TRAPs ูุงูุฃูู ูุงููุฃุณ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417813/" style=";text-align:right;direction:rtl"><h2 style=";text-align:right;direction:rtl">  ุงูุงุฎุชุตุงุตุงุช </h2><br>  ููุงู ุดุจูุฉ ูู ูุฑุงูุฒ ุงูุจูุงูุงุช ุงููุชูุฑูุฉ ุฌุบุฑุงูููุง ูุน ุณูุงุฑุฉ VRF ููุงุฆูุฉ ุฏุงุฆูุฉ ุงูุชุบูุฑ ูู ุฌูุฑุงู OSPF.  ุชุญุชุงุฌ ุฅูู ุชุชุจุนูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฏููุฉ ุ ุงูุชูุจูู ุฅุฐุง ูุงูุช ุงูุฏููุฉ ุงููุฌุงูุฑุฉ ููุณุช ูุงููุฉ </li><li style=";text-align:right;direction:rtl">  ุงููููุฉ ุ ุฃู ุฅุฐุง ูุงู ุงูุฌุงุฑ ููููุฏูุง ุ ูุฌุจ ุนููู ุฃูุถูุง ุชูุจูู </li></ol><br>  ููุฌุฏ ุจุงููุนู ูุธุงู ูุฑุงูุจุฉ - Zabbix 3.4 ุ ููู ุงููุณุชุญุณู ุงุณุชุฎุฏุงูู ุ Linux OS Debian 9.x <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ูุญุงูู ูุน ุงูุฎุงุทู </h2><br>  ุงูุจุฑูุชูููู ูุงุณุน ุงูุงูุชุดุงุฑ ุ ููุธุงู ุงููุฑุงูุจุฉ ูุนุฑูู ุ ููุณุช ุนูู ุงูุฃุฑุฌุญ ูุณุช ุฃูู ูู ูุฑูุฏ ุญู ูุฐู ุงููุดููุฉ ุ ูุนูู ุงูุฃุฑุฌุญ ุฃูู ุชู ุญููุง ุจุงููุนู. <br><br>  ูุฏุฎู ูู ุงูุจุญุซ ุนู "zabbix ospf" ูุงูุฑุงุจุท ุงูุฃูู ูุคุฏู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุงูุจ</a> .  ุงูุณุนุงุฏุฉ ูู ูุง - ุงูุขู ุฃููู ุจุงุณุชูุฑุงุฏูุง ุ ูุชูุดูุทูุง ูุงุญุชูุงุฌุงุชู ููู ุดูุก ุณูููู ุนูู ูุง ูุฑุงู ุฃุญูุงุถ. <br>  ูุชุญูู ูู ููููุฉ ุนูููุง - ูุจุฏู ุฃู ูู ุดูุก ุนูู ูุง ูุฑุงู ุ ูุชู ูุฑุงูุจุฉ ุงูููุงูุงุช ุ ูููู ุนูุฏูุง ูุฐูุจ ุงูุฌุงุฑ ุฅูู ุญุงูุฉ DOWN ุ ูุญุตู ุนูู ุฑุณุงูุฉ ุฅุนูุงููุฉ "ุฌุฏูุง" ูู Zabbix <br><br><pre style=";text-align:right;direction:rtl"><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">No</span></span> Such Instance currently <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> at this <span class="hljs-type"><span class="hljs-type">OID</span></span></code> </pre> <br>  ูุงููุนูููุงุช <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">The item <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> discovered anymore <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> will be deleted <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span>d <span class="hljs-number"><span class="hljs-number">23</span></span>h <span class="hljs-number"><span class="hljs-number">57</span></span>m (<span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-number"><span class="hljs-number">2018</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-19</span></span> at <span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">52</span></span>)</code> </pre> <br>  ูุง ุญุฏุซ - ุงููุดููุฉ ูุฏููุฉ ููุนุฑููุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://www.opennet.ru/openforum/vsluhforumID3/109102.html)%2520%255B%25D0%25B4%25D0%25B2%25D0%25B0%255D(">ุงูููุชุฏูุงุช</a> - ุนูุฏูุง ูุฎุชูู ุฌุงุฑ OSPF ุ ุซู ูุชู ุญุฐู ุฌููุน OID ุงููุฑุชุจุทุฉ ุจู ุจุจุณุงุทุฉ ุนูู ุฃุฌูุฒุฉ ุงูุดุจูุฉ. <br><br>  ูุนู ุ ููุงู ุญู - ุฅูุดุงุก ูุดุบู nodata ุ ุญุณููุง ุฅูุดุงุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs objectivec">{Template - SNMPv3 - OSPF Discovery:ospfNbrState[{<span class="hljs-meta"><span class="hljs-meta">#SNMPVALUE}].nodata(120)}=0</span></span></code> </pre> <br>  ูุฑู ูู ููุญุฉ ุงูููุงุฏุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">missing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">data</span></span></code> </pre> <br>  ูู ุงูุฃุณุงุณ ... ูุงุจูุฉ ููุงุณุชุฎุฏุงู <br><br>  ูููู ุฎุงุฑุฌ ุงูุตูุฏูู ุ ููุชุดู LLD ููุท ุงูุฌูุฑุงู ูู VRF ุงูุงูุชุฑุงุถู.  ุจุงูุทุจุน ุ ูููู ุญู ูุฐุง ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณูุงู SNMP</a> ุ ูููู ุจุทุฑููุฉ ูุง ูู ุฃูู ุฃุฑุบุจ ูู ุงูุณูุฑ ุจูุฐู ุงูุทุฑููุฉ ุนูู ุงูุฅุทูุงู - ูุงู ุนูููุง ุฃู ููุฑ ุจูู ูุทุน ุงูุญุฏูุฏ ุ ููุถุฎ ุณูุงููุง ูู ูู ุนูููุฉ OSPF ุฃู VRF ุ ุซู ููุดุฆ ูุณุฎูุง ูู Discovery ููู ุณูุงู ูู ูููุฐุฌูุง ุ ุจุดูู ุนุงู ุ ูููู ุฐูู ูุซูุฑูุง ุถุฌุฉ ูุนูุฏ ุฅุถุงูุฉ ุนูููุงุช OSPF ุฌุฏูุฏุฉ ุ ุชุญุชุงุฌ ุฅูู ุชุบููุฑ ุดูุก ูู ุนุฏุฉ ุฃูุงูู.  ููููู ุจุงูุทุจุน ุฃู ุชููู ูุญุงุทูุง ุจุงููุตูุต ุงูุจุฑูุฌูุฉ ููู ุฎูุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Zabbix ูููู ุชุบููุฑ ูู ูุฐุง ุ ููููู ูู ุฃูู ุฃุฑุบุจ ูู ุชุฎุตูุต ุฎุงุต ุ ูููู ุฃุฑุฏุช ุงุณุชุฎุฏุงู ุงููุธุงุฆู ุงููุถููุฉ ูู Zabbix ุฅูู ุฃูุตู ุญุฏ.  ููุงู ุฅุดุงุฑุฉ ุฅูู CISCO-CONTEXT-MAPPING-MIB ูุนููุฉ ุ ููููู ูู ุฎูุงููุง ุณุญุจ ุฌููุน ุงููุฑุงุณูุงุช ุจูู ุงูุณูุงูุงุช ู OSPF / VRF ุ ููููู ูู ุฃุญุฏุฏ ููููุฉ ุฑุจุท ูุฐุง ุงูุชุตููู ุจู LLD.  ุฅุฐุง ูุงู ุดุฎุต ูุง ูุนุฑู ููููุฉ ุทูู Zabbix ุจุดูู ุฑุงุฆุน ุ ููุฑุญุจุงู ุจู ูู ุงูุชุนูููุงุช ุ ูููุถู ุฃู ูููู ุฐูู ูู ููุงูุฉ ูููุตูุฉ ูุงููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุญุงูู ูู ุงููุฌูู ุงูุซุงูู </h2><br>  ุจุนุฏ ุณุงุนุชูู ูู ุงูุจุญุซ ูู ุงูุฅูุชุฑูุช ุนู ุชูููุญุงุช ูู ุงูููุชุฏูุงุช ูุฎุฒุงูุงุช ุงูุฐุงูุฑุฉ ุ ุธูุฑ ููุถูุน ุญูู SNMP TRAP - ูุฐุง ุนูุฏูุง ูุง ูุณุชุฌูุจ ูุทุนุฉ ุงูุญุฏูุฏ ุ ููู ูุทุนุฉ ุงูุญุฏูุฏ ุชุฑุณู ูุนูููุงุช ุญูู ุชุบููุฑ ุดูุก ูุง.  ูุนู ุ ูุฏุนู ุงูุญููุฉ ููุฐู ุงูุฃุดูุงุก ููุฌูุฏ ูู ูุธุงู ุงููุฑุงูุจุฉ ุงูุฎุงุต ุจูุง ุฎุงุฑุฌ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุตูุฏูู</a> ุ ูููู ูููุนุฏุงุช ุฃูุถูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฑูุง</a> ูููุท ูุญุงูุชู. <br><br>  ูู ุงูุฃุณุทุฑ ุงูุฃููู ุ ุชู ุงูุฎูุท ุจูู ูุซุงุฆู ุงููุฑุงูุจุฉ ุจูุงุฆูุฉ ุทูููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">The workflow <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> receiving a trap: <span class="hljs-number"><span class="hljs-number">1.</span></span> snmptrapd receives a trap <span class="hljs-number"><span class="hljs-number">2.</span></span> snmptrapd passes the trap <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> SNMPTT <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> calls Perl trap receiver <span class="hljs-number"><span class="hljs-number">3.</span></span> SNMPTT <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> Perl trap receiver parses, formats <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> writes the trap <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> a file <span class="hljs-number"><span class="hljs-number">4.</span></span> Zabbix SNMP trapper reads <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> parses the trap file <span class="hljs-number"><span class="hljs-number">5.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">For</span></span> <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> trap Zabbix finds <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> โSNMP trapperโ items <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> host interfaces matching the received trap address. Note that <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> the selected โIPโ <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> โDNSโ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> host interface <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> used during the matching. <span class="hljs-number"><span class="hljs-number">6.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">For</span></span> <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> item, the trap <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> compared <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> regexp <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> โsnmptrap[regexp]โ. The trap <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> matched items. <span class="hljs-keyword"><span class="hljs-keyword">If</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> matching item <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> there <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> an โsnmptrap.fallbackโ item, the trap <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> that. <span class="hljs-number"><span class="hljs-number">7.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">If</span></span> the trap was <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">any</span></span> item, Zabbix <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> logs the unmatched trap. (This <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> configured <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> โ<span class="hljs-keyword"><span class="hljs-keyword">Log</span></span> unmatched SNMP trapsโ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Administration โ General โ Other.)</code> </pre> <br>  ุฃู ุฃู ุฃุญุฏ ุงูุจุฑุงูุฌ ุงูุฎููุฉ ููุจู TRAP ุ ูููุฑุฑูุง ุฅูู ุจุฑูุงูุฌ ุฎูู ุขุฎุฑ ุ ููุญูููุง ุ ููุถุนูุง ูู ุงูุณุฌู ุจุงูุชูุณูู ุงููุทููุจ ุ ูููุฑุฃ zabix ุงูุณุฌู ุจุงููุนู ูููุฑุฑ ูุง ูุฌุจ ุงูููุงู ุจู ุจุนุฏ ุฐูู.  ุจุทุฑููุฉ ูุง ุ ูุจุฏู ุงูุฃูุฑ ุฃุณูู ูู ุฃู ููุช ูุถู ุญุชู ูุน ุงููุดู ุจูุฏูู ูุฑุณู ุณูุงู SNMP ูู ูู ููุงู ุ ูููู ุญุณููุง ุ ุฏุนูุง ูุฌุฑุจ.  ููุฑุฃ ุจุนูุงูุฉ ูุซููุฉ ุงููุฑุงูุจุฉ ููููู ุฃูู ููุท ุจูุณุงุนุฏุชูุง ูุง ูููู ุชูููู ุฃู ุดูุก ุ ุจุดูู ุนุงู Zabbix ูุฏูู ูุซู ูุฐู ุงูููุชุฉ - ุชุตู ุงููุซุงุฆู ูุฏุฑุงุช ุงููุธุงู ูุงููุฑูู ุงูุฏูููุฉ ููู ุฅูู ุงูุญุฏ ุงูุฃุฏูู ุจุญูุซ ูููู ุฃูุซุฑ ุฅุฑุจุงููุง ูู ุงูุชุนููู.  ุนูู ุงูุฑุบู ูู ุฃูู ูููู ููููุง - ุงูุจุฑูุงูุฌ ูุฌุงูู ุ ูููู ุจุทุฑููุฉ ูุง ุชุญุชุงุฌ ุฅูู ูุณุจ ุงููุงู ุ ููููู ููุณุจูู ุงููุงู ุนูู ุงูุฏุนู.  ููุงู ููุงูุงุช ุนูู ุงูุฅูุชุฑูุช ุชุญุชูู ุนูู ูุตู ูููููุฉ ุฅุนุฏุงุฏ ูุฐุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฑุฉ ุฃู</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฑุชูู</a> ุ ูููู ูู ุฃุชููู ูู ุงูุฅุนุฏุงุฏ ูู ููุงูุฉ ุฅูู ุฃุฎุฑู ุ ูุงู ุนูู ุฌูุน ูุนูููุงุช ูู ูุตุงุฏุฑ ูุฎุชููุฉ ุดูุฆูุง ูุดูุฆูุง.  ูุฐู ูู ูู ูููุงุช ุงูุฃุบุงูู ุงูุชู ูุงุฏููุง ููููุงู ุจุงููุชุดุฏุฏูู. <br><br><h2 style=";text-align:right;direction:rtl">  ูููู ุจุชูููู ูุทุนุฉ ุดุจูุฉ ูู ุงูุญุฏูุฏ </h2><br>  ูุจู ุฃู ุชููู ุจุชุญุฑูู ุดูุก ูุง ุนูู ุงููุถูู ูุน ุงููุฑุงูุจุฉ ุ ุฃูุตู ุจุดุฏุฉ ุจุชูููู ุฃุฌูุฒุฉ ุงูุดุจูุฉ ุฃููุงู ูุงูุชุฃูุฏ ูู ูุตูู TRAP ุญููุง ูู ุงูุฃุฌูุฒุฉ ุฅูู ุงูุฎุงุฏู - ูู ุงูุจุฏุงูุฉ ูู ุฃุชุญูู ูู ุฃููุง ุดุฑุจุช ุงููุซูุฑ ูู ุงูุฃุนุตุงุจ ูุงูุฏู ูุงูููุช.  ูุฏู ุณูุงุฑุฉ Cisco Nexus ูู ูุชูุงูู ุงููุฏ ุ ูุฐูู ุณุฃุนุทู ุฃูุซูุฉ ููุฐู ุงูุณูุณูุฉ.  ุฃู ุดุฎุต ูุฏูู Catalyst ุ ASR ุ ASA ููุง ุฅูู ุฐูู - ุขุณู ุ ุฃูุง ูุณุช ุงูุดูุณ ุ ูู ุฃููู ุจุชุณุฎูู ุงูุฌููุน ุ ุงูุฑุฃ ุงูุฃุญูุงุถ ุญูู ููููุฉ ุชูููู ูุฐุง ุจููุณู ุ ุณูููู ุจูุงุก ุงูุฌููุฉ ูุชุดุงุจููุง ุ ูููู ูุน ุงููุฑูู ุงูุฏูููุฉ ุงูุฎุงุตุฉ ุจู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> contact noc@example.com snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">location</span></span> Room1 snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> source-interface traps loopback1</code> </pre> <br>  ูู ุงูููู ูู ุงููุณุชูุจู ุ ุนูุฏ ุชูููู TRAP ูู Zabbix ุ ุฃู ุงูุนููุงู ุงูุฐู ูุชู ุฅุฑุณุงู TRAP ููู ูุณุงูู ุนููุงู SNMP ูููุงุฌูุฉ ูู ุฅุนุฏุงุฏุงุช ุงููุถูู ูู Zabbix. <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs cs">snmp-server user Zabbix network-<span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> auth sha <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> priv aes<span class="hljs-number"><span class="hljs-number">-128</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span></code> </pre> <br>  ุงุณุชุฎุฏู ุงูุฅุตุฏุงุฑ 3 ูู ุงูุจุฑูุชูููู ุญูุซูุง ุฃููู ุฐูู ุ ูู ูุถุน authPriv (ุงูุชุดููุฑ ูุงููุตุงุฏูุฉ) ุ ููุณ ูู ุงูุตุนุจ ุชููููู ููุง ูุจุฏู.  ูุณูุงู ุงูุฅุตุฏุงุฑ 1 ูุงูุฅุตุฏุงุฑ 2 ูู ุงูุจุฑูุชูููู - ุนูุฏูุง ูุตู ุดุฎุต ุบูุฑ ูุชููุน ุจุณุจุจ ููุต ุงูุชุดููุฑ ูุงููุตุงุฏูุฉ ุจุดูู ุฃุณุงุณู ูู ุฅุตุฏุงุฑุงุช ุงูุจุฑูุชูููู ูุฐู - ุฅููุง ูุฌุฑุฏ ูุณุฃูุฉ ููุช (ูุชู ุฅุฑุณุงู ุณูุณูุฉ ุงููุฌุชูุน ูููุง ุจุดูู ูุงุถุญ ุ ุนูุงูุฉ ุนูู ุฐูู ุ ุฃุฑู ุจุงูุชุธุงู ุฃูู ุชู ุชููููู ุนุงู / ุฎุงุต).  ุชุณูุญ ูู ูุนููุฉ ุนุงูู ุงูุดุจูุฉ ุจููุญ ุงููุณุชุฎุฏู ุฃุฐููุงุช ูููุฑุงุกุฉ ููุท. <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs sql">snmp-server host 192.168.192.168 traps version 3 priv Zabbix snmp-server host 192.168.192.168 <span class="hljs-keyword"><span class="hljs-keyword">use</span></span>-vrf <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> host <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.192</span></span><span class="hljs-number"><span class="hljs-number">.168</span></span> <span class="hljs-keyword"><span class="hljs-keyword">source</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> loopback1 <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps ospf lsa snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps ospf <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_mib_change <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_module_status_change <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_power_status_change <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_module_inserted <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_module_removed <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_unrecognised_module <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_fan_status_change <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_power_out_change <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> linkDown <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> linkUp <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> <span class="hljs-keyword"><span class="hljs-keyword">extended</span></span>-linkDown <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> <span class="hljs-keyword"><span class="hljs-keyword">extended</span></span>-linkUp <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> cieLinkDown <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> cieLinkUp <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> connUnitPortStatusChange <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps bfd <span class="hljs-keyword"><span class="hljs-keyword">session</span></span>-up <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> <span class="hljs-keyword"><span class="hljs-keyword">delayed</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">link</span></span>-state-<span class="hljs-keyword"><span class="hljs-keyword">change</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps bfd <span class="hljs-keyword"><span class="hljs-keyword">session</span></span>-down <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps rf redundancy_framework <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps license notify-license-expiry <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps license notify-<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-license-<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>-feature <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps license notify-licensefile-<span class="hljs-keyword"><span class="hljs-keyword">missing</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps license notify-license-expiry-<span class="hljs-keyword"><span class="hljs-keyword">warning</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">upgrade</span></span> UpgradeOpNotifyOnCompletion <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">upgrade</span></span> UpgradeJobStatusNotify <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps rmon risingAlarm <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps rmon fallingAlarm <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps rmon hcRisingAlarm <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps rmon hcFallingAlarm <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_sensor <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps generic coldStart <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps generic warmStart</code> </pre> <br>  ููุฏ ููุช ุจุชุนุทูู ูู TRAP ุจุดูู ุฎุงุต ุจุงุณุชุซูุงุก OSPF ุ ูุฐูู ุนูุฏ ุชุดุฎูุต ุณุจุจ ุนุฏู ุนูู ุดูุก ูุง ุ ูู ููู ุนููู ูุฑุงุกุฉ ุงููุซูุฑ ูู ุงููุนูููุงุช ุบูุฑ ุงูุถุฑูุฑูุฉ ูู ุงูุชุตุญูุญ. <br><br>  ููููุฉ ุงูุชุญูู ูู ุนูู TRAP ุฃูุฑ ุจุณูุท ููุบุงูุฉ - ุชุญุชุงุฌ ุฅูู ูุณุฑ ุดูุก ูุง.  ูุจุฏุฃ ุงูุดู ุนูู ุงููุถูู ูุน ุงููุฑุงูุจุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">root@dc-zbx:~# tcpdump -i bond0 udp port <span class="hljs-number"><span class="hljs-number">162</span></span> tcpdump: <span class="hljs-keyword"><span class="hljs-keyword">verbose</span></span> output suppressed, use -v <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> -vv <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">full</span></span> protocol decode listening <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> bond0, link-<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> EN10MB (Ethernet), capture size <span class="hljs-number"><span class="hljs-number">262144</span></span> bytes</code> </pre> <br>  ูุฌุฏ ุนูู ูุทุนุฉ ูู ุงูุฌูุฑุงู ุงูุฐูู ูุนูุดูู ุนูู ุงูุญุฏูุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">SW# <span class="hljs-keyword"><span class="hljs-keyword">show</span></span> ip ospf neighbors vrf <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> OSPF Process ID <span class="hljs-number"><span class="hljs-number">10</span></span> VRF <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Total number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> neighbors: <span class="hljs-number"><span class="hljs-number">4</span></span> Neighbor ID Pri State Up <span class="hljs-type"><span class="hljs-type">Time</span></span> Address Interface <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.242</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">47</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span> Vlan1427 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.222</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">18</span></span>w1d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.6</span></span> Vlan1426 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.149</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">5</span></span>w0d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.30</span></span> Vlan1473 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.146</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">3</span></span>d00h <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.58</span></span> Vlan1404 OSPF Process ID <span class="hljs-number"><span class="hljs-number">100</span></span> VRF OSPF100 Total number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> neighbors: <span class="hljs-number"><span class="hljs-number">4</span></span> Neighbor ID Pri State Up <span class="hljs-type"><span class="hljs-type">Time</span></span> Address Interface <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.149</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">5</span></span>w0d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span> Vlan1474 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.220</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">13</span></span>w3d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.54</span></span> Vlan1479 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.240</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">13</span></span>w3d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.46</span></span> Vlan1477 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.146</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">3</span></span>d00h <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.62</span></span> Vlan1405 OSPF Process ID <span class="hljs-number"><span class="hljs-number">200</span></span> VRF Dia Total number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> neighbors: <span class="hljs-number"><span class="hljs-number">2</span></span> Neighbor ID Pri State Up <span class="hljs-type"><span class="hljs-type">Time</span></span> Address Interface <span class="hljs-number"><span class="hljs-number">10.65</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.252</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">17</span></span>w2d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.18</span></span> Vlan1450 <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.26</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">17</span></span>w0d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.26</span></span> Vlan1452 OSPF Process ID <span class="hljs-number"><span class="hljs-number">216</span></span> VRF Dev Total number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> neighbors: <span class="hljs-number"><span class="hljs-number">2</span></span> Neighbor ID Pri State Up <span class="hljs-type"><span class="hljs-type">Time</span></span> Address Interface <span class="hljs-number"><span class="hljs-number">10.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span><span class="hljs-number"><span class="hljs-number">.94</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">18</span></span>:<span class="hljs-number"><span class="hljs-number">59</span></span>:<span class="hljs-number"><span class="hljs-number">59</span></span> <span class="hljs-number"><span class="hljs-number">10.216</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.73</span></span> Vlan1641 <span class="hljs-number"><span class="hljs-number">10.216</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.82</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">18</span></span>:<span class="hljs-number"><span class="hljs-number">59</span></span>:<span class="hljs-number"><span class="hljs-number">54</span></span> <span class="hljs-number"><span class="hljs-number">10.216</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.82</span></span> Vlan1643</code> </pre><br>  ูุฅุณูุงุท ุดุฎุต <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 1643 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shutdown</span></span></span></span></code> </pre> <br>  ูุฑู ูู ุงูุดู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell"><span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">20.001942</span></span> IP <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">192.169</span></span>.<span class="hljs-number"><span class="hljs-number">22095</span></span> &gt; dc<span class="hljs-literal"><span class="hljs-literal">-zbx</span></span>.example.com.snmp<span class="hljs-literal"><span class="hljs-literal">-trap</span></span>: F=ap U=<span class="hljs-string"><span class="hljs-string">"Zabbix"</span></span> [!<span class="hljs-type"><span class="hljs-type">scoped</span></span> <span class="hljs-type"><span class="hljs-type">PDU</span></span>]<span class="hljs-number"><span class="hljs-number">39</span></span>_d1_7c_19_b3_d9_f8_31_32_8e_c9_39_c2_3a_db_d8_28_26_c6_0b_01_55_b6_fa_5e_f5_38_66_f9_6f_3f_c0_98_cb_57_93_5a_50_8e_50_90_79_f3_9b_ec_ec_d7_9f_e8_ac_f6_fd_79_ac_95_ff_71_73_32_70_52_66_a5_7d_b3_c4_39_d0_1c_7f_a6_38_ea_d7_61_c0_2f_12_ee_db_d9_07_40_8c_a8_48_57_e9_e5_56_12_3f_ec_f9_34_65_09_96_86_f6_d2_93_06_45_fa_95_ea_36_5a_82_2f_30_8f_02_03_59_07_5f_d8_a6_1c_f2_5a_be_7d_09_15_ef_05_00_83_fd_ea_ac_2a_3b_86_0f_86_e5_3b_93_3a_68_6d_33_99_e2_46_2b_9d_6a_1e_5d_9e_d9_93_56_51_5e_ff_9e_77_4c_cb</code> </pre> <br>  ุฅุฐุง ูู ุชุดุงูุฏ ุฃู ุดูุก ูู ุงูุดู ุ ููู ุจุชุดุฎูุตู ุ ูุฅูุง ููู ูููู ููุงู ุณุจุจ ูููุชุงุจุนุฉ ุฃูุซุฑ ูู ุฐูู ุ ููู ุชููู ุจุจุณุงุทุฉ ูู ุฃู ูุฑุญูุฉ ูุง ูุนูู ูููุง ุดูุก ูุง. <br>  ุฅุฐุง ูู ููู ููุงู ูุทุนุฉ ุญุฏูุฏ ูู ูุชูุงูู ุงููุฏ ุฃู ูุง ูููู ููุณ ุงูุฅูุชุงุฌ ุ ููููู ุนูุฏุฆุฐ ุชูููุฏ TRAP ูู ุฃู ุณูุงุฑุฉ ุฃุฎุฑู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุซู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">snmptrap <span class="hljs-literal"><span class="hljs-literal">-v</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-literal"><span class="hljs-literal">-c</span></span> neveruseme <span class="hljs-number"><span class="hljs-number">127.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span> <span class="hljs-string"><span class="hljs-string">'.1.3.6.1.6.3.1.1.5.3'</span></span> <span class="hljs-string"><span class="hljs-string">'0.0.0.0'</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">33</span></span> <span class="hljs-string"><span class="hljs-string">'55'</span></span> .<span class="hljs-number"><span class="hljs-number">1.3</span></span>.<span class="hljs-number"><span class="hljs-number">6.1</span></span>.<span class="hljs-number"><span class="hljs-number">6.3</span></span>.<span class="hljs-number"><span class="hljs-number">1.1</span></span>.<span class="hljs-number"><span class="hljs-number">5.3</span></span> s <span class="hljs-string"><span class="hljs-string">"teststring000"</span></span> snmptrap <span class="hljs-literal"><span class="hljs-literal">-v3</span></span> <span class="hljs-literal"><span class="hljs-literal">-l</span></span> authPriv <span class="hljs-literal"><span class="hljs-literal">-u</span></span> Zabbix <span class="hljs-literal"><span class="hljs-literal">-a</span></span> SHA <span class="hljs-literal"><span class="hljs-literal">-A</span></span> abyrvalg <span class="hljs-literal"><span class="hljs-literal">-x</span></span> AES <span class="hljs-literal"><span class="hljs-literal">-X</span></span> pechka <span class="hljs-literal"><span class="hljs-literal">-e</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>x8000000001020305 <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">192.168</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> linkUp.<span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ุชูููู SNMPd ุ SNMPTRAPd ุ SNMPTT </h2><br>  ุณูุญุชุงุฌ ุฅูู ุญุฒู ูู ุงููุธุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">apt install snmp snmp<span class="hljs-literal"><span class="hljs-literal">-mibs</span></span><span class="hljs-literal"><span class="hljs-literal">-downloader</span></span> snmpd snmptrapd snmptt</code> </pre> <br>  ูู ุฃุฑูุฒ ุนูู ูุณุชูุจู ูุฎ Perl ุ ููููู ุงุฎุชุฑุช SNMPTT ูุฃุณุจุงุจ ุดุฎุตูุฉ ูุฐุงุชูุฉ.  ูุฐุง ุ ูููู ุงูุฑุตูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs markdown"><span class="hljs-bullet"><span class="hljs-bullet">1. </span></span>snmptrapd receives a trap</code> </pre> <br>  ูู ุงูุถุฑูุฑู ุงูุจุฏุก ุจุชููููู ุ ูุนุฏู ุงูุชุณูู ููุฑูุง ูุฅูุดุงุก ุนูุตุฑ ูู ูุฌู Zabbix.  ููุงุฐุง ุฐูู - ุชุญุชุงุฌ ุฅูู ุชุณูู ููุณ ุงูุฎุทูุงุช ุงูุชู ุชุฐูุจ TRAP.  ูู ุงููุณู ุงูุณุงุจู ุ ุชุฃูุฏูุง ูู ูุตูู TRAP ุจุดูู ุฃุณุงุณู ูู ูุทุนุฉ ูู ุงูุญุฏูุฏ ุ ูุงูุขู ุณูุถูู ูุจูููุง ุนูู ุงูุฃูู ูู ุฎูุงู ุงูุจุฑูุงูุฌ ุงูุฃูู - snmptrapd.  &lt;lyric&gt; ุฃุชุฐูุฑ ุฅุนุฏุงุฏ postfix + dovecot + ุดูุก ุขุฎุฑ ููุฐ ููุช ุทููู.  ูุชุนุจุช ููุฏุฉ ุฃุณุจูุนูู ุชูุฑูุจูุง - ููุงู ุฃูุถูุง ููุจู ุดูุทุงู ูุงุญุฏ ุงูุงุชุตุงู ุ ููุญูู ุงูุขุฎุฑ ุงูุญุฑู ุ ูุงูุซุงูุซ ูุถุนู ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุ ูุงูุฑุงุจุน ูู ุงููุฌูุฏ ูููุณุชุฎุฏู ุ ููุง ุฅูู ุฐูู ุ ููู ุฃูุฌุญ.  ููู ุฐูู ูุฃููู ุถุจุทุช ูู ุงูุจุฏุงูุฉ ุ ูู ุงูููุงูุฉ ุ ูู ุงูุจุฏุงูุฉ ุ ูููู ูุงู ุนูู ุฃู ุฃุจุฏุฃ ุจู telnet ุฅูู ุงููููุฐ 25 ูุนุฑุถ ูุตุญุญ foxer &lt;/ lyric&gt; <br><br>  ูุญู ูุชุณูู ุฅูู /etc/snmp/snmptrapd.conf ููุญุฐูู ุ ูููููุง ูุนูู ุนูู ูู ูุง ูุง ููููู ููุง ููุชู ุจู ุ ูุชุฑู ุณุทุฑูุง ูุงุญุฏูุง <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">disableAuthorization</span></span> <span class="hljs-literal"><span class="hljs-literal">yes</span></span></code> </pre> <br>  ุฃููู ุงูุฎุฏูุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs sql">systemctl <span class="hljs-keyword"><span class="hljs-keyword">stop</span></span> snmptrapd.service</code> </pre> <br>  ุชุนูู ูู ุงููุถุน ุงููุฏูู <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">root@dc-zbx:~# snmptrapd -f -Lo NET-SNMP <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-number"><span class="hljs-number">5.7</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> AgentX subagent connected NET-SNMP <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-number"><span class="hljs-number">5.7</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span></code> </pre> <br>  ูุฑุฉ ุฃุฎุฑู ุ ุญุงูู ูุณุฑ OSPF ููุง ูู ุงููุซุงู ุฃุนูุงู ูุงูุธุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell"><span class="hljs-number"><span class="hljs-number">2018</span></span><span class="hljs-literal"><span class="hljs-literal">-07</span></span><span class="hljs-literal"><span class="hljs-literal">-20</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> UNKNOWN [<span class="hljs-type"><span class="hljs-type">UDP</span></span>: [<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-type"><span class="hljs-type">.192.169</span></span>]:<span class="hljs-number"><span class="hljs-number">22095</span></span>-&gt;[<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-type"><span class="hljs-type">.192.168</span></span>]:<span class="hljs-number"><span class="hljs-number">162</span></span>]: DISMAN<span class="hljs-literal"><span class="hljs-literal">-EVENT</span></span><span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::sysUpTimeInstance = Timeticks: (<span class="hljs-number"><span class="hljs-number">1355817272</span></span>) <span class="hljs-number"><span class="hljs-number">156</span></span> days, <span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">32.72</span></span> SNMPv2<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::snmpTrapOID.<span class="hljs-number"><span class="hljs-number">0</span></span> = OID: OSPF<span class="hljs-literal"><span class="hljs-literal">-TRAP</span></span><span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfNbrStateChange OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfRouterId = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.74</span></span> OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfNbrIpAddr = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.82</span></span> OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfNbrAddressLessIndex = INTEGER: <span class="hljs-number"><span class="hljs-number">0</span></span> OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfNbrRtrId = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.82</span></span> OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfNbrState = INTEGER: down(<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  ุฅุฐุง ูู ูุฑ ุ ููุญู ูุจุญุซ ุนู ุณุจุจ ุฐูู.  ุฅุฐุง ููุช ุชุฑูุฏ ุฃู ูููู ูุฏูู ููุณ ุงูุณุฌูุงุช ุงูุฌูููุฉ ุ ูููุณ ูุฌููุนุฉ ูู OIDs ูู ุงููููุฐุฌ 1.3.6.1.2.1.14.10.1.6 ุ ููู ุจุฅุถุงูุฉ ูุง ููู ุฅูู /etc/snmp/snmp.conf: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">mibs +OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span> mibs +OSPF<span class="hljs-literal"><span class="hljs-literal">-TRAP</span></span><span class="hljs-literal"><span class="hljs-literal">-MIB</span></span> mibs +OSPFV3<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span> mibdirs +/usr/share/snmp/mibs/ietf/</code> </pre><br>  ูุชุดููู SNMPd <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">systemctl <span class="hljs-keyword"><span class="hljs-keyword">restart</span></span> snmpd.service</code> </pre> <br>  ุจูุฒูุฏ ูู ุงูุชูุตูู ุ ูููู ูุฑุงุกุฉ ููููุฉ ุชูุฒูู ูููุงุช MIB ุจุฃูู ุฃูู ูุฅุทุนุงููุง ุฅูู SNMPd [ููุง] (https://wiki.debian.org/SNMP). <br><br>  ุงูุขู ูุฑุจุท ุงููุตุงุฏูุฉ ุ ูุชุณูู ูุฑุฉ ุฃุฎุฑู ูู /etc/snmp/snmptrapd.conf <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs vbscript">traphandle <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> snmptthandler #disableAuthorization yes # <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.192</span></span><span class="hljs-number"><span class="hljs-number">.169</span></span> createUser -e <span class="hljs-number"><span class="hljs-number">0x80000009038d604a6a82a3</span></span> Zabbix SHA <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> AES authuser <span class="hljs-built_in"><span class="hljs-built_in">log</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">execute</span></span>,net Zabbix</code> </pre> <br>  -e 0x80000009038d604a6a82a3 ูู ูุนุฑู ุงููุญุฑู ุ ูููู ูุดุงูุฏุชู ุนูู ุฃุฌูุฒุฉ ุงูุดุจูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">SW</span></span># <span class="hljs-selector-tag"><span class="hljs-selector-tag">sh</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">snmp</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">engineID</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Local</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SNMP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">engineID</span></span>: <span class="hljs-selector-attr"><span class="hljs-selector-attr">[Hex]</span></span> 80000009038<span class="hljs-selector-tag"><span class="hljs-selector-tag">F604D6A82A1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[Dec]</span></span> 128<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:040</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:000</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:109</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:003</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:140</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:096</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:079</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:106</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:131</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:160</span></span></code> </pre> <br>  ูุญู ููุฑุฑ ุงูุชุฌุฑุจุฉ ูุฑุฉ ุฃุฎุฑู ุ ููููุง ูุง ุฒููุง ูุชููู ุชุตุญูุญูุง ุญูู USM: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs rust">root@dc-zbx:~# snmptrapd -f -Lo -Dusm registered debug token usm, <span class="hljs-number"><span class="hljs-number">1</span></span> usmUser: created a new user Zabbix at <span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span> <span class="hljs-number"><span class="hljs-number">03</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>F <span class="hljs-number"><span class="hljs-number">60</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>F <span class="hljs-number"><span class="hljs-number">6</span></span>B <span class="hljs-number"><span class="hljs-number">82</span></span> A5 NET-SNMP version <span class="hljs-number"><span class="hljs-number">5.7</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span> AgentX subagent connected NET-SNMP version <span class="hljs-number"><span class="hljs-number">5.7</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span> usm: USM processing begun... usm: <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> on user Zabbix usm: no <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> on engineID (<span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span> <span class="hljs-number"><span class="hljs-number">03</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>F <span class="hljs-number"><span class="hljs-number">60</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>F <span class="hljs-number"><span class="hljs-number">6</span></span>B <span class="hljs-number"><span class="hljs-number">82</span></span> A5 ) usm: <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> on user Zabbix usm: Verification succeeded. usm: USM processing completed. <span class="hljs-number"><span class="hljs-number">2018</span></span>-<span class="hljs-number"><span class="hljs-number">07</span></span>-<span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">50</span></span>:<span class="hljs-number"><span class="hljs-number">07</span></span> UNKNOWN [UDP: [<span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">192.169</span></span>]:<span class="hljs-number"><span class="hljs-number">22095</span></span>-&gt;[<span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">192.168</span></span>]:<span class="hljs-number"><span class="hljs-number">162</span></span>]: DISMAN-EVENT-MIB::sysUpTimeInstance = Timeticks: (<span class="hljs-number"><span class="hljs-number">1355886163</span></span>) <span class="hljs-number"><span class="hljs-number">156</span></span> days, <span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">21</span></span>:<span class="hljs-number"><span class="hljs-number">01.63</span></span> SNMPv2-MIB::snmpTrapOID.<span class="hljs-number"><span class="hljs-number">0</span></span> = OID: OSPF-TRAP-MIB::ospfNbrStateChange OSPF-MIB::ospfRouterId = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.74</span></span> OSPF-MIB::ospfNbrIpAddr = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.82</span></span> OSPF-MIB::ospfNbrAddressLessIndex = INTEGER: <span class="hljs-number"><span class="hljs-number">0</span></span> OSPF-MIB::ospfNbrRtrId = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.82</span></span> OSPF-MIB::ospfNbrState = INTEGER: down(<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  ุฅุฐุง ุฑุฃูุช ูู ูุฐู ุงููุฑุญูุฉ ุฃุฎุทุงุก ูู ุงูุชูููุถ ูู ุงูุชุตุญูุญ ุ ูุชุญูู ุจุนูุงูุฉ ูู ูุนุฑู ุงููุญุฑู ูุฃู ุงููุณุชุฎุฏููู ุงูุฐูู ุชู ุฅูุดุงุคูู ุนูู ุงูุฌูุงุฒ ูุทุงุจููู ุชูู ุงูุชู ุฑุณููุงูุง ูู ุงูุชูููู /etc/snmp/snmptrapd.conf.  ุจุงูููุงุณุจุฉ ุ ูุนู ุ ููู ูุทุนุฉ ูู ุงูุญุฏูุฏ ุ ุณูููู ุนููู ุฅูุดุงุก ูุณุชุฎุฏู ุฎุงุต ุจู ุจุงุณุชุฎุฏุงู ูุนุฑู ุงููุญุฑู ุงูุฎุงุต ุจู ุ ุฃู ุฌุนูู ููุณ ุงูุดูุก ุนูู ุฌููุน ูุทุน ุงูุญุฏูุฏ ุจูุฏูู ุ ุฅุฐุง ูุงูุช ูุทุน ุงูุญุฏูุฏ ุชุณูุญ ุจุฐูู. <br><br>  ูููููู ุฑุคูุฉ ุงูุณุทุฑ ูู ุงูุชุตุญูุญ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">usm: <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> match <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> engineID (<span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span> <span class="hljs-number"><span class="hljs-number">03</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>F <span class="hljs-number"><span class="hljs-number">60</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>F <span class="hljs-number"><span class="hljs-number">6</span></span>B <span class="hljs-number"><span class="hljs-number">82</span></span> A5 )</code> </pre> <br>  ููุงุฐุง ูู ุฃููู ุ ุนูู ุงูุฑุบู ูู ูู ูุฐุง TRAP ููุจูู ููุญุตู ุนูู ูุฒูุฏ ูู ุงููุนุงูุฌุฉ.  ุฅุฐุง ููุช ุชุนุฑู ูุง ุฃุฎุทุฃุช ุ ูุฑุฌู ุงูุชุนููู. <br><br>  ุงูุขู ูุฃุฎุฐ SNMPTT - ูุญุชูู ุนูู ุงุซููู ูู ini ู conf config.  ูู ุงูุฃูู ุ ูุญุฏุฏ ูุนููุงุช ุงูุจุฑูุงูุฌ ุงูุฎูู ููุณู ุ ููู ุงูุซุงูู ูุญุฏุฏ ุงููุนููุงุช ูุงุณุชูุจุงู ููุนุงูุฌุฉ ูู ุณูู ูุนูู. <br><br>  ูุญู ูุชุณูู ุฅูู ููู /etc/snmp/snmptt.ini ููุฑุณู ุงูุฃุดูุงุก ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs perl">mode = daemon net_snmp_perl_enable = <span class="hljs-number"><span class="hljs-number">1</span></span> date_time_format = %Y %m %d %H:%M:%S</code> </pre> <br>  ุชูุณูู ุงูุชุงุฑูุฎ ูุงูููุช ูู ูุณุฃูุฉ ุนูู ุ ูุงูุฃูู ูู ุฐูู ุ ุงุณุชุฎุฏู ููุณ ุงูุดูุก ูู ูู ููุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql">log_file = /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/snmptt/snmptt.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> log_system_file = /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/snmptt/snmpttsystem.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> unknown_trap_log_enable = <span class="hljs-number"><span class="hljs-number">1</span></span> unknown_trap_log_file = /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/snmptt/snmpttunknown.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span></code> </pre> <br>  ููุงุฐุง ูุง ูุฎุชูู ุงูุณุฌู ููุง ูู ุงูุญุงู ูู ุงูุนุฏูุฏ ูู ุงูููุงูุงุช ุนูู ุงูุฅูุชุฑูุชุ  ูุธุฑูุง ูุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฑุตูู</a> ูุงู: "ุฅุฐุง ุชู ุงุณุชุฎุฏุงู ูุนููุฉ systemd PrivateTmp ุ ููู ุบูุฑ ุงููุญุชูู ุฃู ูุนูู ูุฐุง ุงูููู ูู / tmp." ุ ูุง ุฃุฑูุฏ ุงูุฏุฎูู ูู ุฃุดุนู ุงููุงุฑ ูุฑุฉ ุฃุฎุฑู ุฅุฐุง ุชู ุชุญุฐูุฑู ูุณุจููุง ุ ูุฐูู ุณุฃุบูุฑ ุนูู ุงูููุฑ ุฅูู ุงููุณุงุฑ ุงูุทุจูุนู ููููู. <br><br>  ุจุนุฏ ุฐูู ุ ุงูุชูู ุฅูู /etc/snmp/snmptt.conf ุ ููู ุจุฅุฒุงูุฉ ูู ูุง ูุง ูุญุชุงุฌ ุฅููู ู / ุฃู ูุง ููููู ุ ูุชุฑู ูุฐุง ููุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">EVENT</span></span> ospfNbrStateChange .<span class="hljs-number"><span class="hljs-number">1.3.6.1</span></span>.<span class="hljs-number"><span class="hljs-number">2.1.14.16</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-string"><span class="hljs-string">"OSPF"</span></span> Normal FORMAT ZBXTRAP <span class="hljs-variable"><span class="hljs-variable">$aA</span></span> OSPF neighbor with IP addr <span class="hljs-variable"><span class="hljs-variable">$2</span></span> changed state to <span class="hljs-variable"><span class="hljs-variable">$5</span></span></code> </pre> <br>  ูู ูุฐุง ุงููููุฐุฌ ุ ูุฃู Zabbix ุณูู ุชุชููุน ูุซู ูุฐุง ุงูุชูุณูู ููุท ูู ุงูุณุฌู.  ูู ุฃูู ูุฃุชู $ 2 ู $ 5 ุ ููููู ูุนุฑูุฉ ูุง ุฅุฐุง ููุช ุชูุธุฑ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุณูู ุฑุณุงูุฉ TRAP</a> ุ ุงูุธุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Object</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfNbrStateChange</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OID</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">MIB</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF-TRAP-MIB</span></span> ; <span class="hljs-selector-tag"><span class="hljs-selector-tag">Trap</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Components</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfRouterId</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfNbrIpAddr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfNbrAddressLessIndex</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfNbrRtrId</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfNbrState</span></span></code> </pre> <br>  ููููุงุช Trap ูุฐู ูู ุงููุนููุงุช ุงูุชู ูููู ุฏูุนูุง ุฅูู ุชูุณูู ุงูุณุฌู ุจุชุฑุชูุจ $ 1 ุ $ 2 ... <br><br>  ุฃุซูุงุก ุงูููุงุฌูุฉ ูุน ูู ูุฐู ุงูุฃุดูุงุก ุ ูุงุญุธุช ุฃูู ุจุนุฏ ุชุบููุฑ ุฅุนุฏุงุฏุงุช SNMPTT ุ ูุจุฏู ุงูุฃูุฑ ููุง ูู ูู ูุชู ุชุทุจูู ุงูุชุบููุฑุงุช.  ุงุชุถุญ ุฃูู ุจุนุฏ ุชุบููุฑูู ุ ูุงู ูู ุงูุถุฑูุฑู ุฅุนุงุฏุฉ ุงูุชุดุบูู ูููุณ snmptt.serivce ุ ูููู snmpd.service - ูุฐุง ุงููุงุฑู ุงูุฏููู ูุดุฑุจ ุฏูู ููุดุฑุจ ุฃุนุตุงุจู ุฃุซูุงุก ุงูุชุตุญูุญ. <br><br>  ุชุญูู ูู ุชุดุบูู ุฌููุน ุงูุดูุงุทูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs lua">systemctl <span class="hljs-built_in"><span class="hljs-built_in">status</span></span> snmpd snmptrapd snmptt</code> </pre> <br>  ุฅุฐุง ูุงู ูู ุดูุก ุนูู ูุง ูุฑุงู ุ ูุญุงูู ูุฑุฉ ุฃุฎุฑู ูุณุฑ OSPF ูุงูุชูู ุฅูู ุงูุณุฌู /var/log/snmptt/snmptt.log ุ ุณูุจุฏู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css">2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:10</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:52</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">down</span></span> 2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:12</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:28</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">exchangeStart</span></span> 2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:12</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:34</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">full</span></span> 2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:22</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:41</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">down</span></span> 2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:25</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:38</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">exchangeStart</span></span></code> </pre> <br>  ุชูู TRAPs ุงูุชู ูู ููู ุจุชูููููุง ูู ุงูุชูููู /etc/snmp/snmptt.conf ุณุชูุชูู ุฅูู /var/log/snmptt/snmpttunknown.log ุงูุณุฌู ุ ูููู ููุท ูู ุงูุฃุฌูุฒุฉ ุงูุชู ุชู ุชูููู ุงููุณุชุฎุฏู ุงูุตุญูุญ ููุง ู engineID ุงูุตุญูุญ ูู ููุณ ุงูุชูููู.  ุฃู ุฃูู ูู ุงูุบุฏุฏ ุงููุณุฑู ุ ุณูุชู ุฅุณูุงุท TRAPs ุจุตูุช ุ ุฅุฐุง ููุช ุชุฑูุฏ ูุงุชุงู ูุงุณุชุฎูุงุต ุงููุนูููุงุช ุ ูููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ุฑุตูู ุนุงูู ุจุดูู ุบูุฑ ุนุงุฏู ุนูู net-snmp ุ ูุง ูุฒุงู ุงููุฑู ุจูู TRAP ู INFORM ููุตูููุง ุฌูุฏูุง ููุงู ุ ูุจุงููุธุฑ ุฅูู ุงููุณุชูุจู ุ ููู ุงูุฃูุถู ุงุณุชุฎุฏุงู INFORM ุ ุฅูุฎ. ู. ููุงู ููุน ูู ุงูุชุญูู ูู ุงูุชุณููู ููุงู ุ ููููู ูุนูู ุนุจุฑ UDP ุนุจุฑ UDP. <br><br>  ูููุท ุงูุขู ูุชุณูู ูุชูููู ุงูุดุงุดุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ Zabbix </h2><br><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุชุฃูุฏ ูู ุฃูู ูู ุงูุชูููู /etc/zabbix/zabbix_server.conf ูุชู ุชุนููู ุงููุฑุงูุจุฉ ุนูู ุณุฌู SNMPTT ุงูุตุญูุญ ู Zabbix ููุณู ูุจุฏุฃ ุนูู ุงูุฃูู SNMP Trapper: <br><br> <code>SNMPTrapperFile=/var/log/snmptt/snmptt.log <br> StartSNMPTrapper=1</code> <br> <br>  ุจุงููุณุจุฉ ูููุจุชุฏุฆูู ุ ููุช ุจุฅูุดุงุก ุนูุตุฑ ูุจุงุดุฑุฉู ุนูู ุงููุถูู ุ ุจุญูุซ ูููู ูู ุงูุฃุณูู ูุงูุฃุณุฑุน ุงูุชูุงุท ุชุฃุซูุฑุงุช ุฎุงุตุฉ ุ ูููุง ุณุฃูุชุจ ุนูู ุงูููุฑ ููููุฉ ุฅูุดุงุก ูุงูุจ ุ ูุฃูู ุงูููุงุฐุฌ ุงูุชู ูุฌุจ ุงุณุชุฎุฏุงููุง ูููุง ุฃููู ุฐูู.  ุณุฃุฑููู ุงูุตูุฑ ุ ุงูุชูุช ุงููุฏูุฉ ุงููุฌุงููุฉ ููุตู ุงููุณุฎ ุ ูููู ุณุฃุฑุณู ุงูุฃูุงูู ุงูุชู ูุฌุจ ุงูุงูุชุจุงู ุฅูููุง. <br><br>  ุฅูุดุงุก ูุงูุจ: <br><br><img src="https://habrastorage.org/webt/h_/ne/mw/h_nemwwcsrjzr1dvlqimgrmsq5e.png" alt="ุงูุตูุฑุฉ"><br><br>  ููุง ูุนุทู ููุท ุงุณู ุนุงูู <br><br>  ุฅูุดุงุก ุนูุตุฑ <br><br><img src="https://habrastorage.org/webt/-c/hz/8k/-chz8klwqft17k391xp7epqusfs.png" alt="ุงูุตูุฑุฉ"><br><br>  ูุงู - ูุฌุจ ุฃู ูููู ุงูููุชุงุญ ุนูู ูุฐุง ุงููุญู ุ ูุง ูู ููุถุญ ุจูู ููุณูู ูุนููููู ูู ูุง ุณูุจุญุซ ุนูู Zabbix ูู ุงูุณุฌู ุ ูููุง ุจุชูููู ุชูุณูู ุงูุณุฌู ูู /etc/snmp/snmptt.conf ููุชุจูุง ููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">EVENT</span></span> ospfNbrStateChange .<span class="hljs-number"><span class="hljs-number">1.3.6.1</span></span>.<span class="hljs-number"><span class="hljs-number">2.1.14.16</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-string"><span class="hljs-string">"OSPF"</span></span> Normal FORMAT ZBXTRAP <span class="hljs-variable"><span class="hljs-variable">$aA</span></span> OSPF neighbor with IP addr <span class="hljs-variable"><span class="hljs-variable">$2</span></span> changed state to <span class="hljs-variable"><span class="hljs-variable">$5</span></span></code> </pre> <br>  ูู ุงููุงูุน ุ ูู ุงูุณุฌู ุ ูุฐู ูู ุงููููุฉ ุงูุณุญุฑูุฉ "OSPF" ูุชุธูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css">2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:25</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:38</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">exchangeStart</span></span></code> </pre> <br>  ุชูุณูู ุงูุชุงุฑูุฎ ุงูุฐู ุญุฏุฏูุงู ูู ุงูุชูููู /etc/snmp/snmptt.ini: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs perl">date_time_format = %Y %m %d %H:%M:%S</code> </pre> <br>  ูุง ูุชุจุชู ุฃุนูุงู - ุงุณุชุฎุฏู ุฃู ุชูุณูู ููุงุณุจ ูู ุ ุงูุดูุก ุงูุฑุฆูุณู ูู ุฃูู ูุชุทุงุจู ูู ุงูุฃูุงูู ุงูููุงุณุจุฉ. <br><br>  ุฅูุดุงุก ุงูุฒูุงุฏ <br><br><img src="https://habrastorage.org/webt/7q/ci/b4/7qcib4j6sxnym61nykigci8gyac.png" alt="ุงูุตูุฑุฉ"><br><br>  ูุฏ ูููู ูุฏู ุงูุฌุงุฑ ุนุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงูุงุช</a> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs swift"><span class="hljs-number"><span class="hljs-number">1</span></span> : down <span class="hljs-number"><span class="hljs-number">2</span></span> : attempt <span class="hljs-number"><span class="hljs-number">3</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> : twoWay <span class="hljs-number"><span class="hljs-number">5</span></span> : exchangeStart <span class="hljs-number"><span class="hljs-number">6</span></span> : exchange <span class="hljs-number"><span class="hljs-number">7</span></span> : loading <span class="hljs-number"><span class="hljs-number">8</span></span> : full</code> </pre> <br>  ูุง ููู ุนูู ุงูุฅุทูุงู ููุน ุงูุฏููุฉ ุงูุชู ููุฌุฏ ุจูุง ุงูุฌุงุฑ ุ ุฅุฐุง ูุงูุช ูุฐู ุงูุญุงูุฉ ููุณุช ูุงููุฉ ุ ูุฃูู ูุชุดุฎูุต ูุฐุง ุ ูุง ูุฒุงู ุนููู ุงูุฐูุงุจ ุฅูู ูุทุนุฉ ุงูุญุฏูุฏ ุ ููุฑุงุกุฉ ุงูุณุฌูุงุช ุ ูุฅุฏุฎุงู ุจุนุถ ุงูุฃูุงูุฑ.  ูุฐุง ุณูููู ุงูุฒูุงุฏ ูุงุญุฏูุง ููู ูููู ูุชุดูููุง ุฅูุง ุนูุฏูุง ุชููู ุญุงูุฉ ุงูุฌุงุฑ ูู TRAP ุบูุฑ ูุงููุฉ. <br><br>  ูุจู ุชุนููู ุงููุงูุจ ุนูู ูุถูู ูุนูู ุ ุชุฃูุฏ ูู ุชูููู ุงููุถูู ุจูุงุฌูุฉ SNMP ุงูุตุญูุญุฉ ุจุนููุงู IP ุงูุตุญูุญ ุ ูุฅูุง ูุฅู ุงูุณูุงูู ุณุชููู ูู ุณุฌู /var/log/snmptt/snmptt.log ุ ููู Zabbix ูู ูุฑุจุทูู ุจุงููุถูู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูู ุณุฌู Zabbix ุงูุฎุงุต ุจุงูุฎุงุฏู /var/log/zabbix/zabbix_server.log ุณุชููู ููุงู ุฑุณุงูุฉ ูู ุงููููุฐุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css">19972<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:20180720</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:091722.896</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">unmatched</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">trap</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">received</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> "192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span>": 2018 07 20 09<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:17</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:21</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.64</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">exchangeStart</span></span></code> </pre> <br><br>  ุงูุชูู ุฅูู ุฃุญุฏุซ ุงูุจูุงูุงุช ุ ุงูุธุฑ <br><br><img src="https://habrastorage.org/webt/pu/gj/w9/pugjw9j9ccjdnkj6x50trsfqeoc.png" alt="ุงูุตูุฑุฉ"><br><br>  ุนูู ุงูุฒูุงุฏ ุฃูุถุง <br><br><img src="https://habrastorage.org/webt/fm/wc/gp/fmwcgp5pjammodrcqjsrj3zpebe.png" alt="ุงูุตูุฑุฉ"><br><br>  ุงูุขู ูุถุน ุฌุงุฑูู <br><br><img src="https://habrastorage.org/webt/7e/uh/d5/7euhd5pegn-7b_6ofpxmbctzt8c.png" alt="ุงูุตูุฑุฉ"><br><br>  ูู ููุญุฉ ุงูุจูุงูุงุช ุ ูุฑู ุญุฏูุซ ูุดููุชูู ุ ููุฐุง ุฃูุฑ ุฌูุฏ ุ ูุญุชู ุฑุณุงูุชูู ุณุชุตูุงู ุญูู ูุฐุง ุงูููุถูุน ูุน ุชูููู ุงูุฅุดุนุงุฑ. <br><br>  ูู ุดูุก ุฑุงุฆุน ุ ูู ุดูุก ูุนูู ุ ูููุง ุงููุฑุฒ ุนูู ุงููุนูุฉ ูู ุงูููุงูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุฃุณ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุงูุขู ูุฃุฎุฐ ููุฑูุน ุฌุงุฑ ูุงุญุฏ.  ูู ุงูููุช ููุณู ุ ุณุชุฎุชูู ููุชุง ุงููุดููุชูู ูู ููุญุฉ ุงูุนุฏุงุฏุงุช ูู ููุช ูุงุญุฏ.  ูุฐุง ููุณ ุฎุทุฃ ุ ูุฐู ููุฒุฉ.  ูุงุญุธุช ุนู ุทุฑูู ุงูุฎุทุฃ ูุซู ูุฐู ุงููุฑูู ุงูุฏูููุฉ ุนูุฏูุง ุงุฎุชุจุฑุช ุงููุงูุจ.  ููุชูุฌุฉ ูุฐูู ุ ุงุชุถุญ ุฃูู ุฅุฐุง ุณูุท ุงูุนุฏูุฏ ูู ุงูุฌูุฑุงู ุ ุซู ุงุฑุชูุน ุฃุญุฏูู ุ ุฃู ุญุชู ุฅุฐุง ุงุฑุชูุน ุงูุฌุงุฑ ุ ุงูุฐู ูู ููู ููุฌูุฏูุง ูู ูุจู ุ ูุฅู ุงููุฑุงูุจุฉ ุณุชุชุญูู ุฅูู ุงูููู ุงูุฃุฎุถุฑ. <br>  ุจุงูุทุจุน ุ ููููู ุชูููู ุงูุนูุตุฑ ุจูุฏูู ูุชุชุจุน ุฌุงุฑ ูุนูู ุ ูุง ูุฒุงู ุจุฅููุงูู ูุชุงุจุฉ ุดูุก ูุง ุ ููููู ุงูุนูุฏุฉ ุฅูู ุณูุงูุงุช SNMP ูู ุจุฏุงูุฉ ุงูููุงูุฉ.  ูุง ุชุฒุงู ููุงู ููุฑุฉ ูุฑุณู ูุต ุจุฑูุฌู ุณูุชุฌุงูุฒ SSH / API ูุดุจูุงุช ุงูุบุฏุฏ ุ ูุฌูุน ูุนูููุงุช ุญูู ุฌููุน ุงูุฌูุฑุงู ุ ูุฅูุดุงุก ูุฑูู ุนูู "ูุนุงู" ุ ูุชุญููู ุงูุงุฎุชูุงูุงุช ุจูู ุงูุดููุงุช ููุชุงุจุฉ ุงูุฎุทุฃ ูู ุงูุณุฌู ุ ุซู ูููู ุชุบุฐูุฉ ุงูุณุฌู ุจุงูุดุงุดุฉ ... ุฅูู ุฃูุฑ ุตุนุจ.  ุฃุฑุฏุช ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุนูุงุฒุงุช ูุงูุนุฑู.  ุฅุฐุง ููุช ุชุนุฑู ุทุฑููุฉ ูุนูููุฉ ูุญู ูุฐู ุงููุดููุฉ ุฃู ุชุนุชูุฏ ุฃููู ูุนูุช ูู ุดูุก ุจุดูู ุฎุงุทุฆ ุ ูุฃูุง ุฃุณุฃู ูุฑุฉ ุฃุฎุฑู ูู ุงูุชุนูููุงุช ุ ุจู ูู ููุงูุฉ ุงูุฑุฏ. <br></div></div><br><br>  UPD: ูุตุญูุง ุฒููุงุคูุง ุจูุฑุฒูุง ููุญุงููุฉ ุชูููุฐ ุฎุทุทูุง ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณูุงูุงุช SNMP</a> .  ููุงู ุทูุจ ุ ุณูููู ููุงู ุนุฑุถ.  ุจุงููุธุฑ ุฅูู ุงููุณุชูุจู ูููููู ุงูููู - ุฅู ุงูุดูุทุงู ููุณ ุฑููุจูุง ููุบุงูุฉ ุ ูููุฐูุจ. <br>  ุนูู ูุทุนุฉ ูู ุดุจูุฉ ุงูุญุฏูุฏ ุ ูุฑุณู ุฃูุฑูุง ุณุญุฑููุง: <br><br> <code>snmp-server context {snmp context name} instance {protocol instance} vrf {vrf name}</code> <br> <br>  ุชุญุชุงุฌ ุฃุณูุงุก ุงููุนููุงุช ุฅูู ุชูุถูุญ <br>  {snmp context name} - ุงุณู ุณูุงู SNMP ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู ูู ุงูุทูุจุงุช. <br>  {ุจุฑูุชูููู ุงููุซูู} ู {vrf name} ุงูุฐู ูุฃุฎุฐู ูู ุชููุฆุฉ ุนูููุฉ OSPF ุงููููุฃุฉ: <br><br> <code>router ospf {protocol instance} <br> .. <br> vrf {vrf name} <br> ..</code> <br> <br>  ูุงู ููุงู ุฎูู ูู ุฃูู ุจุนุฏ ูุฐู ุงูุฅุนุฏุงุฏุงุช ุ ุณููุณุฑ ุงูุนูุตุฑ ุงูุฐู ุชู ุชููููู ุจุงููุนู ุนุจุฑ SNMP ุจุณูุงู ูุงุฑุบ ุ ููููู ุชุญููุช ูู ุฃู ุงูุฅุนุฏุงุฏ ูุคุซุฑ ููุท ุนูู ุฅุฎุฑุงุฌ ุงูุจูุงูุงุช ุนุจุฑ OSPF-MIB ุ ุจูููุง ุนูู ุณุจูู ุงููุซุงู ูู ูุณู IF-MIB ูุณุชูุฑ ูู ุดูุก ูู ุงูุนูุฏุฉ ููุง ูุงู ูู ูุจู ูุน ุณูุงู ูุงุฑุบ.  ุฅุฐุง ูู ููู ูุฏูู Nexus ุ ูุฃูุตูู ุจุงูุชุญูู ูู ูุฐู ุงูููุทุฉ ูุฑุฉ ุฃุฎุฑู - ูู ุงููุญุชูู ุฃู ูููู ุงูุณููู ูุฎุชูููุง. <br><br>  ุงูุขู ูู ุจุชุฏููุฑ ุงููุงูุจ ูู Zabbix. <br>  ูุฌุจ ุนููู ุฅูุดุงุก ูุงุนุฏุฉ Discovery ุฌุฏูุฏุฉ ูุน ุงูุณูุงู: <br><br><img src="https://habrastorage.org/webt/by/xd/ph/byxdpha64kwdstjxoipfjr3avl0.png" alt="ุงูุตูุฑุฉ"><br><br>  ูููุฐุฌ ุนูุตุฑ ุฌุฏูุฏ ุฃูุถุง ูุน ุงูุณูุงู <br><br><img src="https://habrastorage.org/webt/oy/e1/2x/oye12xxe-ec-ohifymjb-zizpom.png" alt="ุงูุตูุฑุฉ"><br><br>  ููุซูุฑุงู - ุงูุฃูู - ููุชูุจูู ุฅุฐุง ูุงู ุงูุฌุงุฑ ูู ุฃู ุญุงูุฉ ูุง ุนุฏุง ูุงูู: <br><br><img src="https://habrastorage.org/webt/rj/gs/os/rjgsosmcwivhwhxjtnjheyymhza.png" alt="ุงูุตูุฑุฉ"><br><br>  ูุงูุซุงูู - ุฅุฐุง ูุงู ุงูุฌุงุฑ ููููุฏูุง: <br><br><img src="https://habrastorage.org/webt/sb/cx/i3/sbcxi3qrz-d-c82vyk_khmaw6im.png" alt="ุงูุตูุฑุฉ"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar417813/">https://habr.com/ru/post/ar417813/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar417793/index.html">ูุณูุงู ุงูุจููุฉ ุงููุจุฑู ููุฃุฌุงูุจ: ููุงุญุธุงุช ุฌุฏูุฏุฉ ุชุดุฑุญ ุณููู ุงููุฌู ุงูุนุชุงุจู ููุท ุจุงูุบุจุงุฑ</a></li>
<li><a href="../ar417795/index.html">ููุณู ุจุฃูุนุงุจ ุงูููุฏูู ูู ุณู ุงููุฑุงููุฉ ููุณ "ุงุถุทุฑุงุจูุง ูู ุงูุฃูุนุงุจ"</a></li>
<li><a href="../ar417801/index.html">ููู ุงูุชููุช ุฅูู ุฅุณุฑุงุฆูู ุจุนุฏ ุญุฌุจ ุจุฑููุฉ</a></li>
<li><a href="../ar417803/index.html">ุงูุฏูุนุฉ ูุนุงูุฌุฉ ุงูุตูุฑ ูู ุงูุฎูุงุท</a></li>
<li><a href="../ar417809/index.html">ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุ ุฏูุฑุฉ ุนูููุฉ. ูุนูุงุฑูุงุช ุงูุดุจูุงุช ุงูุนุตุจูุฉ ุงูุญุฏูุซุฉ ูุชุตููู ุงูุตูุฑ</a></li>
<li><a href="../ar417821/index.html">ููุฎุต ุงูุดุจูุฉ: 20 ูุงุฏุฉ ุฎุจูุฑ ุญูู ุงูุจุฑูุชููููุงุช ูุงููุนุงููุฑ ูุฃูู ุงููุนูููุงุช</a></li>
<li><a href="../ar417823/index.html">ุงูุฌูู ุงูุฌุฏูุฏ: ุฅุทูุงู ุฃูู ุดุจูุฉ 5G ุชุฌุงุฑูุฉ ูู ุงูุนุงูู</a></li>
<li><a href="../ar417825/index.html">"ุชูุณูุน ุงูุญุฏูุฏ": ุณูุชู ููุญ ุงููุทุงู 6 ุฌูุฌุง ูุฑุชุฒ ูุงุญุชูุงุฌุงุช Wi-Fi</a></li>
<li><a href="../ar417827/index.html">ุฎุฏูุฉ Wi-Fi ูุฌุงููุฉ: ุฃูุบุช ุงููุญููุฉ ุงูุฃููุงููุฉ ุงูุนููุจุงุช ุนูู ุงูููุงูู ุจุณุจุจ ุงูุชูุงูุงุช ุญููู ุงูุทุจุน ูุงููุดุฑ ููุนููุงุก</a></li>
<li><a href="../ar417829/index.html">ุชูููู ุนุฏุฏ ุทุจูุงุช ุงูุนูุงุฑุฉ ูู 5 ุฅูู 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>