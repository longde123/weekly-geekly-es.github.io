<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëáüèæ ü§´ üõ´ Nuevo paquete de validaci√≥n para React on Mobx @ quantumart / mobx-form-validation-kit üë®üèΩ‚Äç‚úàÔ∏è üçö üë®üèæ‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buenas tardes 
 Hoy quiero hablar sobre un nuevo paquete para validaciones as√≠ncronas en proyectos basados ‚Äã‚Äãen React , Mobx y escritos en Typecript ....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nuevo paquete de validaci√≥n para React on Mobx @ quantumart / mobx-form-validation-kit</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470537/"> Buenas tardes <br>  Hoy quiero hablar sobre un nuevo paquete para validaciones as√≠ncronas en proyectos basados ‚Äã‚Äãen <i>React</i> , <i>Mobx</i> y escritos en <i>Typecript</i> . <br>  El desarrollo moderno de Frontend implica una gran cantidad de l√≥gica al completar p√°ginas con documentos, cuestionarios y documentos para un pr√©stamo, √≥rdenes de pago, p√°ginas de registro en el sitio.  La carga l√≥gica principal recae en las verificaciones de validaci√≥n.  <i>Los</i> desarrolladores <i>angulares</i> reflexionaron sobre este punto y ofrecen a los desarrolladores el uso del mecanismo <b>incorporado</b> de <b>FormControl</b> para estos fines, que, aunque tiene una serie de inconvenientes, es a√∫n mejor que la ausencia total de tal soluci√≥n en <i>React</i> .  La situaci√≥n se complica por el hecho de que la tendencia actual del desarrollo de <i>React</i> implica el uso de mobx para organizar la l√≥gica empresarial. <br>  Ante estos problemas, los <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">resolvimos</a></b></i> todos escribiendo un paquete: <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">@ quantumart / mobx-form-validation-kit</a></b></i> <br><br>  Ventajas del paquete: <br><ul><li>  Completamente en <i>TypeScript</i> </li><li>  Compatible con Mobx (versi√≥n 4, que admite, el favorito de todos, IE10) </li><li>  Dise√±ado para trabajar en <i>React</i> (se puede usar en proyectos sin reaccionar) </li><li>  Dise√±ado para validaci√≥n asincr√≥nica </li><li>  F√°cil de integrar en un proyecto existente. </li></ul><br>  Instrucciones para trabajar con el paquete debajo del corte. <br><a name="habracut"></a><br><br>  Al principio describiremos la funcionalidad del <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">paquete @ quantumart / mobx-form-validation-kit</a></i> , al final del art√≠culo escribiremos una p√°gina completamente funcional con un ejemplo del formulario de registro en el sitio. <br><br><h2>  Control de forma </h2><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">@ quantumart / mobx-form-validation-kit le</a></i> permite crear una capa entre los datos de origen y el formulario para mostrar.  Lo que, a su vez, le permite validarlos y, si es necesario, cambiar los datos antes de que lleguen al objeto original. <br><img src="https://habrastorage.org/webt/ng/tj/qw/ngtjqwnwm_yh1bkjtiwn6o41pwk.png"><br>  La <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">biblioteca @ quantumart / mobx-form-validation-kit</a></i> contiene tres clases principales (componentes de validaci√≥n) para administrar el formulario: <br><ul><li>  <b>FormGroup</b> : le permite combinar componentes de validaci√≥n juntos.  La clase se escribe y le permite rehacer la interfaz con la lista de campos como un par√°metro gen√©rico.  Cualquiera est√° registrado de manera predeterminada, se recomienda no usarlo sin escribir, pero existe la posibilidad. </li><li>  <b>FormControl</b> : se utiliza para validar un campo espec√≠fico, la clase m√°s utilizada.  La clase se escribe y toma como par√°metro gen√©rico el tipo de variable que debe almacenar.  Por defecto, la cadena est√° registrada, porque  el valor predeterminado es string, como la opci√≥n m√°s privada para formularios. </li><li>  <b>FormArray</b> : le permite crear y administrar una variedad de componentes de validaci√≥n. </li></ul><br>  Adem√°s, hay clases abstractas b√°sicas. <br><ul><li>  <b>AbstractControl</b> : la clase base para todas las clases de validaci√≥n enumeradas, no escrita. </li><li>  <b>FormAbstractControl</b> : clase base para <b>FormGroup</b> y <b>FormArray</b> , sin escribir. </li><li>  <b>FormAbstractGroup</b> : no es una clase base escrita para FormControl, contiene un enlace al elemento html que se est√° representando. </li></ul><br>  La mejor pr√°ctica para crear un formulario de validaci√≥n ser√≠a la siguiente idea. <br>  Se crea un objeto de tipo uno <b>FormGroup</b> en el formulario y los campos ya est√°n listados en √©l <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ), <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname = v) ) <span class="hljs-comment"><span class="hljs-comment">// ‚Ä¶ });</span></span></code> </pre> <br>  <b>FormGroup</b> admite la anidaci√≥n, es decir <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ), <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname = v) ) passport: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IPassport &gt;({ <span class="hljs-attr"><span class="hljs-attr">number</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.passport.number, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.passport.number = v) ), <span class="hljs-comment"><span class="hljs-comment">// ‚Ä¶ }) // ‚Ä¶ });</span></span></code> </pre><br>  Puede agregar <b>FormArray</b> , que a su vez puede pasar el tipo <b>FormControl</b> o todo el <b>FormGroup</b> creando objetos de cualquier complejidad y estructura. <br><ul><li>  FormArray &lt;FormControl&gt; <br>  FormArray &lt;FormGroup&gt; <br><br>  <b>FormControl</b> mismo toma el siguiente conjunto de par√°metros en el constructor <br><ul><li>  <b>valor</b> : TEntity es el valor inicial escrito. </li><li>  <b>validadores</b> : ValidatorFunctionFormControlHandler [] - un conjunto de validadores. </li><li>  <b>callbackValidValue</b> : UpdateValidValueHandler |  nulo: funci√≥n de devoluci√≥n de llamada a la que se pasa el √∫ltimo valor v√°lido.  Se llama cada vez que cambia un valor en FormControl y este valor pasa las validaciones descritas. </li><li>  <b>activar</b> : (() =&gt; booleano) |  nulo: la funci√≥n habilitar√° / deshabilitar√° las validaciones por condici√≥n (siempre habilitada por defecto).  Por ejemplo, no es necesario verificar la validez de la fecha de finalizaci√≥n del servicio si la casilla de verificaci√≥n "Ilimitado" no est√° marcada.  Como resultado, simplemente ingresando una funci√≥n aqu√≠ que marca el estado del campo <i>observable</i> responsable de la casilla de verificaci√≥n "Ilimitado", puede desactivar autom√°ticamente todas las validaciones asociadas con el campo para verificar la fecha, en lugar de registrar esta l√≥gica en cada una de las validaciones de campo de fecha. </li><li>  AdditionalData: TAdditionalData |  nulo: un bloque con informaci√≥n adicional le permite agregar informaci√≥n adicional a un <b>FormControl</b> espec√≠fico y usarlo m√°s tarde, por ejemplo, para visualizaci√≥n.  Esto es conveniente si hay creadores de <b>FormControl</b> en los que necesita analizar cierta informaci√≥n y no pasar esta informaci√≥n a trav√©s de un paquete de datos complejo a los controles para su visualizaci√≥n.  Aunque no puedo dar un escenario de aplicaci√≥n exacto e innegable, es mejor tener esa oportunidad que sufrir sin ella. </li></ul><br>  <i>Angular</i> <i>FormControl</i> tambi√©n tiene una limitaci√≥n: no es necesario reutilizar objetos en diferentes formas.  Es decir  Puede crear un <b>generador de</b> FormGroup y crear su propio objeto en cada p√°gina.  Pero usar un objeto por grupo de p√°ginas es una mala pr√°ctica. <br>  Adem√°s, <b>FormControl se</b> inicializa con un solo valor, y si se cambia este valor, el nuevo valor no entrar√° en <b>FormControl</b> .  Esto se hace a prop√≥sito, porque, como lo ha demostrado la pr√°ctica, por alguna raz√≥n, todos intentan obstinadamente editar inicialmente el objeto original sin pasar por las validaciones, y no el valor en <b>FormControl</b> .  Simplemente asigne un nuevo valor al campo de <b>valor</b> de <b>FormControl</b> para modificar el objeto original. <br>  <b>FormGroup</b> acepta el siguiente conjunto de par√°metros en el constructor: <br><ul><li>  <b>controles</b> : TControls: un objeto heredado de <b>AbstractControls</b> .  De hecho, simplemente cree una <i>interfaz</i> heredada de <b>AbstractControls</b> en la que enumere campos del tipo <b>FormGroup</b> , <b>FormControl</b> , <b>FormArray</b> .  Por supuesto, puede establecer el tipo en <i>cualquiera</i> , pero se perder√°n todas las ventajas de <i>TypeScript</i> . </li><li>  <b>validadores</b> : ValidatorFunctionFormGroupHandler [] - un conjunto de validadores para valores de grupo.  Por ejemplo, puede crear un <b>FormGroup que</b> contenga dos valores: la fecha m√≠nima y m√°xima, para el control de selecci√≥n de per√≠odo.  Es en estos validadores que necesitar√° pasar la funci√≥n / funciones de verificar el rango de fechas.  Por ejemplo, que la fecha de inicio no es mayor que la fecha de finalizaci√≥n </li><li>  <b>activar</b> : (() =&gt; booleano) |  nulo: la funci√≥n habilitar√° / deshabilitar√° las validaciones por condici√≥n (siempre habilitada por defecto).  Debe entenderse que la aplicaci√≥n de la funci√≥n de validaci√≥n a un grupo deshabilita la validaci√≥n a nivel de todo el grupo.  Por ejemplo, tenemos un cuadro de selecci√≥n para un documento de identidad.  Puede crear varios <b>FormGroups</b> con un conjunto diferente de campos para documentos: pasaporte, licencia de conducir, pasaporte de marinero, etc. En esta funci√≥n, verifique los valores desplegables y, si el valor seleccionado no corresponde a este grupo, todas las verificaciones de validaci√≥n est√°n deshabilitadas.  M√°s precisamente, el grupo se considerar√° v√°lido, independientemente de los valores que contenga. </li></ul><br>  Hablemos de los campos de <b>FormControl</b> , incluida la presencia de <b>FormGroup</b> y <b>FormArray</b> . <br><ul><li>  <b>ControlTypes</b> - tipo de control (Control | Grupo | Matriz) </li><li>  <b>procesamiento</b> : booleano: en el proceso de an√°lisis.  Porque  Se admiten validaciones asincr√≥nicas, por ejemplo, aquellas que requieren una solicitud del servidor.  El estado actual de la exploraci√≥n se puede encontrar en este campo. <br>  Adem√°s, <b>FormGroup</b> y <b>FormArray</b> admiten el m√©todo de <b>espera</b> , que le permite esperar a que se complete la verificaci√≥n.  Por ejemplo, cuando hace clic en el bot√≥n "enviar datos", debe registrar el siguiente dise√±o. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.wait(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.invalid) { ‚Ä¶</code> </pre> <br></li><li>  <b>disabled</b> : boolean: la comprobaci√≥n de errores est√° desactivada (el control siempre es v√°lido) </li><li>  <b>activo</b> : booleano: la comprobaci√≥n de errores est√° habilitada.  Depende del resultado de la funci√≥n de activaci√≥n.  Este valor es muy conveniente para ocultar un grupo de campos en un formulario y no escribir funciones adicionales y duplicadas de la l√≥gica empresarial. </li><li>  <b>inv√°lido</b> : booleano;  - para <b>FormControl</b> : significa que el campo contiene errores de validaci√≥n.  Para <b>FormGroup</b> y <b>FormArray,</b> significa que el control de grupo en s√≠ contiene errores o que uno de los campos anidados (en cualquiera de los niveles de anidaci√≥n) contiene errores de validaci√≥n.  Es decir  para verificar la validez de todo el formulario, es suficiente realizar una verificaci√≥n no v√°lida o v√°lida del FormGroup superior. </li><li>  <b>v√°lido</b> : booleano, para <b>FormControl</b> , significa que el campo no contiene errores de validaci√≥n.  Para FormGroup y FormArray, significa que el control de grupo en s√≠ no contiene errores y ninguno de los campos anidados (en cualquier nivel de anidaci√≥n) contiene errores de validaci√≥n. </li><li>  <b>pr√≠stino</b> : booleano: el valor en el campo, despu√©s de la inicializaci√≥n con el valor predeterminado, no cambi√≥. </li><li>  <b>dirty</b> : boolean: el valor en el campo, despu√©s de la inicializaci√≥n con el valor predeterminado, cambi√≥. </li><li>  <b>intacto</b> : boolean - para <b>FormControl</b> - significa que el campo (por ejemplo, entrada) no estaba enfocado.  For FormGroup y FormArray significa que ninguno de los FormControls anidados estaban enfocados.  Un valor de falso en este campo significa que el foco no solo se estableci√≥, sino que tambi√©n se elimin√≥ del campo. </li><li>  <b>touch</b> : boolean - Para <b>FormControl</b> - significa que el campo (por ejemplo, entrada) estaba enfocado.  Para <b>FormGroup</b> y <b>FormArray</b> , significa que uno de los <b>FormControls</b> anidados estaba enfocado.  Un valor de verdadero en este campo significa que el foco no solo se estableci√≥, sino que tambi√©n se elimin√≥ del campo. </li><li>  <b>focus</b> : boolean - para <b>FormControl</b> - significa que el campo (por ejemplo, entrada) ahora est√° enfocado.  Para <b>FormGroup</b> y <b>FormArray</b> , significa que uno de los <b>FormControls</b> anidados ahora <b>est√°</b> enfocado. </li><li>  <b>errores</b> : ValidationEvent []: el campo contiene errores de validaci√≥n.  A diferencia de los campos enumerados, esta matriz contiene exactamente los errores de <b>FormControl</b> , <b>FormGroup</b> o <b>FormArray</b> , es decir.  errores de este control, y no todos anidados.  Afecta campo v√°lido / inv√°lido </li><li>  <b>advertencias</b> : ValidationEvent []: el campo contiene mensajes de advertencia.  A diferencia de los campos enumerados, esta matriz contiene exactamente los errores de FormControl, FormGroup o FormArray, es decir.  mensajes de este control, pero no todos adjuntos.  No afecta el campo v√°lido / inv√°lido </li><li>  <b>informationMessages</b> : ValidationEvent []: el campo contiene mensajes informativos.  A diferencia de los campos enumerados, esta matriz contiene exactamente los errores de FormControl, FormGroup o FormArray, es decir.  mensajes de este control, pero no todos adjuntos.  No afecta el campo v√°lido / inv√°lido </li><li>  <b>successes</b> : ValidationEvent: el campo contiene mensajes de validez adicionales.  A diferencia de los campos enumerados, esta matriz contiene exactamente los errores de FormControl, FormGroup o FormArray, es decir.  mensajes de este control, pero no todos adjuntos.  No afecta el campo v√°lido / inv√°lido </li><li>  <b>maxEventLevel ()</b> : el nivel m√°ximo de mensajes de validaci√≥n actualmente en el campo. </li><li>  El m√©todo devolver√° uno de los valores de enumeraci√≥n, en la siguiente prioridad. <br><ol><li>  ValidationEventTypes.Error; </li><li>  ValidationEventTypes.Warning; </li><li>  ValidationEventTypes.Info; </li><li>  ValidationEventTypes.Success; </li></ol><br></li><li>  <b>serverErrors</b> : string []: despu√©s de enviar un mensaje al servidor, tambi√©n es una buena forma de verificar la validez del formulario en el servidor.  Como resultado, el servidor puede devolver errores de la verificaci√≥n de formulario final, y la matriz <b>serverErrors</b> est√° destinada a estos errores.  Una caracter√≠stica clave de <b>serverErrors</b> es la limpieza autom√°tica de los mensajes de validaci√≥n cuando se pierde el foco del campo al que se asignaron los errores del servidor, y los errores del servidor tambi√©n se borran si el campo se ha cambiado. </li><li>  onChange: Delegate - adem√°s del mecanismo est√°ndar <i>mobx</i> - <i>reacci√≥n,</i> puede usar delegar y agregarle una funci√≥n de devoluci√≥n de llamada, que se llama cuando cambian los datos. </li><li>  <b>setDirty</b> (dirty: boolean): void: el m√©todo le permitir√° cambiar el valor de los campos <b>pr√≠stinos</b> / <b>sucios</b> </li><li>  <b>setTouched</b> (tocado: booleano): vac√≠o;  - el m√©todo le permitir√° cambiar el valor de los campos <b>no</b> <b>tocados</b> / <b>tocados</b> </li><li>  <b>disponer</b> (): vac√≠o;  - requerido para llamar al control responsable de la p√°gina en componentWillUnmount. </li></ul><br><br>  Estos eran campos comunes para todos los controles, pero cada control tambi√©n tiene campos √∫nicos para su tipo. <br>  <b>Control de forma</b> <br><ul><li>  <b>valor</b> : contiene el valor actual del campo.  Tambi√©n puede asignar un nuevo valor a este campo. </li></ul><br><br>  <b>FormGroup</b> y <b>FormArray</b> contienen <br><ul><li>  <b>esperar</b> : el m√©todo le permite esperar el final de las comprobaciones de todas (validaciones), incluidas las anidadas </li><li>  <i>allControls ()</i> : este m√©todo le permite obtener un conjunto completo de todos los FormControl, incluidos los anidados en diferentes niveles.  Es decir  de hecho, expande un objeto FormGroup multinivel, que tambi√©n puede contener FormGroup, en una lista grande que consta solo de FormControl.  Esta funcionalidad es necesaria si queremos encontrar el primer elemento no v√°lido y enfocarnos en √©l. <br>  el c√≥digo, en este caso, se ver√≠a as√≠: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.wait(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.invalid) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.setTouched(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> firstError = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.allControls().find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c</span></span></span><span class="hljs-function"> =&gt;</span></span> c.invalid &amp;&amp; !!c.element); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!firstError) { firstError.element.focus(); } } ...</code> </pre> <br></li></ul><br><br><h2>  Validaciones </h2><br>  Por supuesto, adem√°s de los controles que le permiten trabajar con datos, tambi√©n necesitamos validaciones.  El <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">paquete @ quantumart / mobx-form-validation-kit</a></b></i> contiene naturalmente una serie de validaciones predefinidas, y tambi√©n admite la creaci√≥n de validaciones personalizadas personalizadas. <br>  Un ejemplo de configuraci√≥n de validaciones para <b>FormControl</b> para un campo de edad. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl&lt;number&gt;( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.age, [required(), minValue(<span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-string"><span class="hljs-string">"    18 ."</span></span>, ValidationEventTypes.Warning)], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.age = v) )</code> </pre> <br>  Cada validaci√≥n con los √∫ltimos par√°metros lleva: <br><ul><li>  Mensaje: un mensaje de validaci√≥n. </li><li>  eventType: nivel de mensaje.  Se admiten 4 niveles de mensaje. <br><ol><li>  Error - errores </li><li>  Advertencia - advertencias </li><li>  Informaci√≥n - Mensajes informativos </li><li>  √âxito: mensajes sobre validez.  Por ejemplo, puede verificar que la contrase√±a sea realmente compleja. </li></ol><br></li></ul><br>  El paquete contiene el siguiente conjunto de validaciones: <br><ul><li>  <b>obligatorio</b> (... - campo obligatorio </li><li>  <b>notEmptyOrSpaces</b> (... - el campo no est√° vac√≠o y no contiene solo espacios. De hecho, es obligatorio, teniendo en cuenta la prohibici√≥n de espacios. </li><li>  <b>patr√≥n</b> (regExp: RegExp, ... - el primer par√°metro es la expresi√≥n regular que debe coincidir con el campo. Se genera un error si no hay coincidencia de patrones. </li><li>  <b>invertPattern</b> (regExp: RegExp, ... - el primer par√°metro es la expresi√≥n regular que el campo no debe coincidir. Se genera un error si hay una coincidencia de patr√≥n. </li><li>  <b>minLength</b> (minlength: number, .... - el primer par√°metro es la longitud m√≠nima del texto inclusive. Se genera un error si la longitud es menor que la transmitida. </li><li>  <b>maxLength</b> (maxlength: number, .... - el primer par√°metro es la longitud m√°xima del texto inclusive. Se emite un error si la longitud es m√°s larga que la transmitida. </li><li>  <b>absoluteLength</b> (longitud: n√∫mero, .... - el primer par√°metro es la longitud exacta del texto. Se emite un error si la longitud no coincide con la especificada. </li><li>  <b>minValue</b> (min: TEntity | (() =&gt; TEntity), ... - esta validaci√≥n est√° destinada solo para n√∫meros y fechas. Se establece un error si el valor es menor que el especificado. La peculiaridad de la validaci√≥n es la capacidad de aceptar no solo un valor espec√≠fico, sino tambi√©n funci√≥n, lo que significa que si lee el valor en esta funci√≥n desde el campo @observable del objeto, la validaci√≥n en s√≠ misma se reiniciar√° no solo cuando se cambie el campo en el que se colg√≥ la validaci√≥n, sino tambi√©n cuando se cambie el "campo vinculado".  primer campo de etiqueta excepto que se lee como el valor @observable. </li><li>  <b>maxValue</b> (max: TEntity | (() =&gt; TEntity), ... - esta validaci√≥n est√° destinada solo para n√∫meros y fechas. Se establece un error si el valor es mayor que el especificado. La funci√≥n de validaci√≥n es la capacidad de aceptar no solo un valor espec√≠fico, sino tambi√©n funci√≥n, lo que significa que si lee el valor en esta funci√≥n desde el campo @observable del objeto, la validaci√≥n en s√≠ misma se reiniciar√° no solo cuando se cambie el campo en el que se colg√≥ la validaci√≥n, sino tambi√©n cuando se cambie el "campo vinculado".  primero, salvo campo de etiqueta que se lee como el valor @observable </li><li>  <b>notContainSpaces</b> (... - a diferencia de notEmptyOrSpaces, se emitir√° un error si el valor incluso contiene al menos un espacio. </li><li>  <b>compare</b> (expression: (value: TEntity) =&gt; boolean (... - escribir su propia funci√≥n de validaci√≥n genera una gran cantidad de c√≥digo de copiar y pegar, este contenedor fue desarrollado para deshacerse de este problema. Esta funci√≥n de validaci√≥n acepta una funci√≥n como primer par√°metro, que a su vez pasa el valor actual campos, lo que le permite realizar una verificaci√≥n compleja, por ejemplo, calcular el hash para el TIN o el n√∫mero de pasaporte, y luego devolver verdadero / falso. Se mostrar√° un error si la verificaci√≥n devuelve falso. </li><li>  <b>isEqual</b> (valor: cadena ... - una simple verificaci√≥n de coincidencia de cadena. </li></ul><br>  A continuaci√≥n se describen las funciones de contenedor que controlan el flujo de activadores de validaci√≥n. <br>  Cabe se√±alar que el conjunto de validaciones pasadas a <b>FormControl</b> , <b>FormGroup</b> , <b>FormArray se</b> inicia en una sola matriz y, de hecho, no tiene secuencia de ejecuci√≥n.  Como resultado del trabajo, tendremos en los campos <i>errores</i> , <i>advertencias</i> , <i>mensajes de</i> <i>informaci√≥n</i> , matrices de <i>√©xitos que</i> consisten en errores, advertencias, combinadas en una sola matriz, etc. <br>  A menudo, el cliente quiere ver solo un error, y no todos a la vez.  Adem√°s, el TOR puede dise√±arse de modo que una verificaci√≥n se realice solo despu√©s de que la anterior haya pasado. <br>  Para resolver este problema, se usa <b>wrapperSequentialCheck</b> .  Su llamada y su aplicaci√≥n no son diferentes del validador de funciones habitual, pero en la entrada recibe una matriz de validadores que se lanzar√°n secuencialmente, es decir.  La siguiente validaci√≥n solo comienza despu√©s de que la anterior pas√≥ sin errores. <br>  La segunda funci√≥n de envoltura es la funci√≥n de control de flujo de las validaciones.  <b>wrapperActivateValidation ya que el</b> primer par√°metro toma una funci√≥n en la que se deben escribir las condiciones para la activaci√≥n de la validaci√≥n.  A diferencia de la funci√≥n de activaci√≥n que se pasa a FormControl, esta verificaci√≥n est√° dise√±ada para una l√≥gica m√°s compleja.  Supongamos que tenemos un generador com√∫n para toda la forma de pago <b>FormGroup</b> , y adem√°s, solo hay un m√©todo en el servidor que acepta un conjunto com√∫n de campos.  Pero el problema es que, aunque el formulario es uno, dependiendo del "tipo de pago" mostramos un conjunto diferente de campos al usuario.  Entonces <b>wrapperActivateValidation le</b> permite escribir l√≥gica en la que se llevar√°n a cabo varias comprobaciones seg√∫n el tipo de pago. <br>  El uso de envoltorios se ver√° como funciones comunes. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.megapole, [wrapperActivateValidation(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.info.A === <span class="hljs-number"><span class="hljs-number">10</span></span>, [ required(), pattern(<span class="hljs-regexp"><span class="hljs-regexp">/\^d{10}$/</span></span>) ]), wrapperActivateValidation(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.info.A === <span class="hljs-number"><span class="hljs-number">20</span></span>, [ wrapperSequentialCheck([ notContainSpaces(), pattern(<span class="hljs-regexp"><span class="hljs-regexp">/\^d{20}$/</span></span>) ]) ])], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.megapole = v) )</code> </pre><br>  Este ejemplo muestra que las <i>comprobaciones</i> <i>requeridas (), de patr√≥n (/ \ ^ d {10} $ /)</i> solo se realizar√°n con <i>this.info.A === 10</i> , y si <i>this.info.A === 20</i> , luego <i>notContainSpaces (), las validaciones de patr√≥n (/ \ ^ d {20} $ /)</i> funcionar√°n, adem√°s, estas validaciones funcionar√°n secuencialmente, a diferencia del primer caso. <br><br>  Naturalmente, llegar√° el momento en que el conjunto est√°ndar de validaciones ya no sea suficiente. <br>  Luego tienes que escribir tus propias funciones asincr√≥nicas.  Afortunadamente, esto se hace sin ninguna dificultad especial. <br>  <b>FormControl</b> se agudiz√≥ originalmente mediante funciones de validaci√≥n asincr√≥nicas, que podr√≠an querer ir al servidor para obtener datos, y esta respuesta debe esperar.  Y como resultado, todas las validaciones son as√≠ncronas. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkValueOnServer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">control: FormControl</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ValidationEvent</span></span></span><span class="hljs-function">[]&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (control.value == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sendToServer(control.value); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result.errorMessage) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ { <span class="hljs-attr"><span class="hljs-attr">message</span></span>: result.errorMessage, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: ValidationEventTypes.Error, }, ]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; }</code> </pre> <br>  Aqu√≠ debe prestar atenci√≥n a dos objetos. <br>  Primero, siempre nos importa la matriz.  Es decir  de hecho, puede devolver varios mensajes de error a la vez, si lo desea. <br>  El segundo punto es el objeto devuelto; tiene el siguiente conjunto de campos. <br><ul><li>  <b>key</b> ?: string - un campo opcional, le permite especificar una "clave" para una validaci√≥n espec√≠fica.  Para todas las claves base, la clave es √∫nica y coincide con su nombre.  Es posible que desee utilizar la clave para hacer que la lista reaccione, pero como ha demostrado la pr√°ctica, esta es una mala idea.  En el futuro, en el ejemplo, mostrar√© que es mejor usar el mensaje y no tocar la tecla en absoluto.  En cualquier caso, es, como en Angunar, pero su necesidad se ha reducido, de hecho, a 0. </li><li>  <b>mensaje</b> : cadena - un mensaje de validaci√≥n.  Campo obligatorio </li><li>  <b>tipo</b> : ValidationEventTypes - tipo de mensaje. <br><ol><li>  Error - errores </li><li>  Advertencia - advertencias </li><li>  Informaci√≥n - Mensajes informativos </li><li>  √âxito: mensajes sobre validez.  Por ejemplo, puede verificar que la contrase√±a sea realmente compleja. </li></ol><br></li><li>  <b>AdditionalData</b> ?: any: informaci√≥n adicional que se puede transmitir junto con la validaci√≥n, si es necesario.  Puede ser un marcado html adicional o un estilo espec√≠fico.  En general, puede poner todo en cualquiera. </li></ul><br><br><h2>  Extensiones </h2><br>  Cualquier magia se basa en cosas triviales.  Y en este caso, para que funcione la configuraci√≥n de enfoque, obtener cambios de los campos requiere vincular el <b>FormControl</b> en un campo de entrada espec√≠fico. <br>  Porque  <b>FormControl</b> no limita al desarrollador en el tipo de datos validados, debido a su versatilidad, fue necesario sacrificar un poco de aplicabilidad en los elementos de reacci√≥n. <br>  Al mismo tiempo, para la entrada y el √°rea de texto fue posible crear funciones simples de vinculaci√≥n de datos en un elemento; para otros componentes, el procesador a√∫n tendr√° que hacer un esfuerzo m√≠nimo para sustituir los datos. <br><br>  Para la entrada, el enlace del elemento a <b>FormControl</b> (nombre) se ver√° as√≠. <br>  <b>&lt;input type = "text" {... InputFormControl.bindActions (controls.name)} /&gt;</b> <br>  Para textarea, el enlace ser√° as√≠ <br>  <b>&lt;textarea {... TextAreaFormControl.bindActions (controls.name)} /&gt;</b> <br><br>  <b>InputFormControl.bindActions</b> y <b>TextAreaFormControl.bindActions</b> aceptan dos par√°metros: <br><ul><li>  <b>formControl</b> : FormControl - en realidad FormControl que se usar√° para el enlace.  Requerido </li><li>  <b>eventos</b> ?  - Un par√°metro opcional que contiene una lista de funciones a las que se puede llamar si necesita personalizarlas.   ,  <b>bindActions</b>  -   Element,   ,     element     <b>FormControl</b> -,   .    .         event.     . <br><ul><li> ref </li><li> onChange </li><li> onBlur </li><li> onFocus </li></ul><br></li></ul><br>      ,      <b>FormControl</b> -   . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ) });</code> </pre> <br>       <i>this.userInfo.name</i> ,    <b>FormControl</b>    .                 <b>FormControl.for</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: FormControl.for(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo, <span class="hljs-string"><span class="hljs-string">'name'</span></span>, []) });</code> </pre> <br>   ,        name <i>name</i>  . ,     TypeScript,  <i>name</i> ,    .         <i>userInfo</i> ‚Äî    . <br><br>     ‚Äî   .  :) <br><br><h2>  Ejemplo </h2><br>     React   TypeScript   mobx. <br>       . <br> <i>npm install @quantumart/mobx-form-validation-kit</i> <br><br><div class="spoiler"> <b class="spoiler_title">  ,      </b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> : <br><br>   ,     <br> <i>npm init ‚Äìy <br> npm install --save-dev webpack webpack-cli <br> npm install --save react react-dom <br> npm install --save-dev @types/react @types/react-dom <br> npm install --save-dev typescript ts-loader source-map-loader</i> <br><br>  <i>tsconfig.json</i> <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"compilerOptions"</span></span>: { <span class="hljs-string"><span class="hljs-string">"outDir"</span></span>: <span class="hljs-string"><span class="hljs-string">"./dist/"</span></span>, <span class="hljs-string"><span class="hljs-string">"sourceMap"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"noImplicitAny"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"module"</span></span>: <span class="hljs-string"><span class="hljs-string">"commonjs"</span></span>, <span class="hljs-string"><span class="hljs-string">"target"</span></span>: <span class="hljs-string"><span class="hljs-string">"es6"</span></span>, <span class="hljs-string"><span class="hljs-string">"jsx"</span></span>: <span class="hljs-string"><span class="hljs-string">"react"</span></span>, <span class="hljs-string"><span class="hljs-string">"experimentalDecorators"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"emitDecoratorMetadata"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }</code> </pre><br>     <br><ul><li> src\components\Hello.tsx </li><li> src\index.tsx </li><li> index.html </li><li> src\assets\global.scss </li></ul><br><br> src\components\ <i>Hello.tsx</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Hello from TypeScript and React! </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br> src\ <i>index.tsx</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Hello } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Hello"</span></span>; ReactDOM.render( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Hello</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById("example") );</span></span></code> </pre> <br> <i>index.html</i> <br><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"UTF-8"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello React!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"example"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Dependencies --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./node_modules/react/umd/react.development.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./node_modules/react-dom/umd/react-dom.development.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Main --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./dist/main.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> src\assets\global.scss .row { display: inline; }</span></span></code> </pre> <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> <br>   webpack-dev-server <br> <i>npm install --save-dev webpack-dev-server <br> npm install --save-dev awesome-typescript-loader <br> npm install --save-dev html-webpack-plugin <br></i> <br>   <i>webpack.config.js</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> HtmlWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'html-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/index.tsx'</span></span>, <span class="hljs-attr"><span class="hljs-attr">resolve</span></span>: { <span class="hljs-attr"><span class="hljs-attr">extensions</span></span>: [<span class="hljs-string"><span class="hljs-string">'.ts'</span></span>, <span class="hljs-string"><span class="hljs-string">'.tsx'</span></span>, <span class="hljs-string"><span class="hljs-string">'.js'</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">'/dist'</span></span>), <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'bundle.min.js'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.tsx?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'awesome-typescript-loader'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.(scss|css)?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'style-loader'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'css-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">importLoaders</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, }, }, { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'sass-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">sourceMap</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }, ], }, ] }, <span class="hljs-attr"><span class="hljs-attr">plugins</span></span>: [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlWebpackPlugin({ <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-string"><span class="hljs-string">'./index.html'</span></span> }) ] }</code> </pre><br>   ,  mobx  React. <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"mobx"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.1.1"</span></span>,</code> </pre><br> C IE10   mobx,  4  ,        package.json. <br>    <br><pre> <code class="javascript hljs"> <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.23.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"node-sass"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.12.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.1.0"</span></span></code> </pre><br>    <br> <i>npm install</i> <br><br>     ,     . <br> <i>npm install @quantumart/mobx-form-validation-kit</i> <br>      <br><img src="https://habrastorage.org/webt/et/ta/rp/ettarpotjc8felvv-fwwc9wyjiy.png"><br><br>  <i>package.json</i>   <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"ttt"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"index.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"start"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack-dev-server --mode development --open"</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span> }, <span class="hljs-string"><span class="hljs-string">"keywords"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-string"><span class="hljs-string">"devDependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"@types/react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.9.5"</span></span>, <span class="hljs-string"><span class="hljs-string">"@types/react-dom"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.9.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"awesome-typescript-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.2.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"html-webpack-plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"source-map-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.2.4"</span></span>, <span class="hljs-string"><span class="hljs-string">"ts-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"typescript"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.6.3"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.41.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack-cli"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.3.9"</span></span> }, <span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.8"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.1.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.10.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.10.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack-dev-server"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.8.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.23.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"node-sass"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.12.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.1.0"</span></span> } }</code> </pre> <br>   <br> <i>npm run start</i> <br><br>        <br> <i>Hello from TypeScript and React!</i> <br></div></div><br><br>   <i>Hello</i>   .     <i>RegistrationStore</i>    <i>RegistrationStore.ts</i> <br> src\RegistrationStore.ts <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegistrationStore</span></span></span><span class="hljs-class"> </span></span>{ @observable public userInfo = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> registrationStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RegistrationStore();</code> </pre><br>    Hello.ts,  . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { registrationStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../RegistrationStore"</span></span>; @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ private changeName = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event: React.ChangeEvent&lt;HTMLInputElement&gt;</span></span></span><span class="hljs-function">) =&gt;</span></span> { registrationStore.userInfo.name = event.target.value; }; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;h1&gt;, {registrationStore.userInfo.name}&lt;/h1&gt; &lt;div className="row"&gt; &lt;span&gt;:&lt;/span&gt; &lt;input type="text" value={registrationStore.userInfo.name} onChange={this.changeName} /&gt; &lt;/div&gt; &lt;/React.Fragment&gt; ); } }</code> </pre><br>      ,  Store   Mobx.                 input. <br>     ,  .      ,       .     ¬´¬ª            .          ,       . <br>        <br> <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">@quantumart/mobx-form-validation-kit</a></b></i> <br><br>     -   . <br> stc/ErrorWraper.tsx <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { FormControl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; interface Props { <span class="hljs-attr"><span class="hljs-attr">formControl</span></span>: FormControl; } @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ErrorWraper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Props</span></span></span><span class="hljs-class">&gt; </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {this.props.children} {this.props.formControl.errors.map(error =&gt; ( </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{error.message}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"error"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {error.message} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ))} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre> <br>     ,     -,   . <br><br>  Hello.tsx    . <br> - ‚Äî    changeName.      <i>{...InputFormControl.bindActions(controls.name)}</i> .            . <br> - ‚Äì     input,       input ,  ,  ,     . <br> - ‚Äì       <i>form</i>  <i>store</i> , ,  ,  componentWillUnmount  <i>registrationStore.form.dispose()</i> .     mobx    <b>FromControl</b>         . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { registrationStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../RegistrationStore"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ErrorWraper } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../ErrorWraper"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { InputFormControl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props: any) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); registrationStore.initForm(); } componentWillUnmount() { registrationStore.form.dispose(); } render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> controls = registrationStore.form.controls; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;h1&gt;, {registrationStore.userInfo.name}&lt;/h1&gt; &lt;div className="row"&gt; &lt;span&gt;:&lt;/span&gt; &lt;ErrorWraper formControl={controls.name}&gt; &lt;input type="text" {...InputFormControl.bindActions(controls.name)} /&gt; &lt;/ErrorWraper&gt; &lt;/div&gt; &lt;/React.Fragment&gt; ); } }</code> </pre><br>      RegistrationStore.ts. <br>    . <br>   ( )      userInfo,        form.         -    userInfo. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { FormControl, FormGroup, AbstractControls } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; interface IUserInfo extends AbstractControls { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: FormControl; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegistrationStore</span></span></span><span class="hljs-class"> </span></span>{ @observable public userInfo = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }; @observable public form: FormGroup&lt;IUserInfo&gt;; public initForm(): <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ) }); } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> registrationStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RegistrationStore();</code> </pre></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/470537/">https://habr.com/ru/post/470537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../470521/index.html">Lanzamiento de 3CX V16 Update 3 y la nueva aplicaci√≥n m√≥vil 3CX para Android</a></li>
<li><a href="../470525/index.html">Windows en un navegador sin registro y SMS: descripci√≥n general de clientes HTML5 RDP</a></li>
<li><a href="../470529/index.html">C√≥mo tradujimos el proyecto heredado a GraphQL</a></li>
<li><a href="../470531/index.html">El neurofisi√≥logo discute el proyecto Neuralink y habla sobre el trabajo del cerebro "en los dedos"</a></li>
<li><a href="../470535/index.html">Formas de crear gr√°ficos de barras con Python</a></li>
<li><a href="../470541/index.html">Conceptos b√°sicos de trabajar con Neo4j en un navegador</a></li>
<li><a href="../470543/index.html">C√≥mo pusimos la gesti√≥n de la infraestructura en Terraform y comenzamos a vivir</a></li>
<li><a href="../470547/index.html">Tareas de apio: nuevo decorador, nuevas caracter√≠sticas</a></li>
<li><a href="../470549/index.html">TSMC espera seguir la ley de Moore en las pr√≥ximas d√©cadas</a></li>
<li><a href="../470553/index.html">Integral de Euler-Poisson. Detalles sobre m√©todos de c√°lculo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>