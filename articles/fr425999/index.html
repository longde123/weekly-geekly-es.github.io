<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍⚖️ 🐪 🦅 Cours MIT "Sécurité des systèmes informatiques". Conférence 11: Langage de programmation Ur / Web, partie 2 👨🏾‍💼 👃🏻 🎠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "Sécurité des systèmes informatiques." Nikolai Zeldovich, James Mickens. 2014 année...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "Sécurité des systèmes informatiques". Conférence 11: Langage de programmation Ur / Web, partie 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/425999/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "Sécurité des systèmes informatiques."  Nikolai Zeldovich, James Mickens.  2014 année </h3><br>  Computer Systems Security est un cours sur le développement et la mise en œuvre de systèmes informatiques sécurisés.  Les conférences couvrent les modèles de menace, les attaques qui compromettent la sécurité et les techniques de sécurité basées sur des travaux scientifiques récents.  Les sujets incluent la sécurité du système d'exploitation (OS), les fonctionnalités, la gestion du flux d'informations, la sécurité des langues, les protocoles réseau, la sécurité matérielle et la sécurité des applications Web. <br><br>  Cours 1: «Introduction: modèles de menace» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 2: «Contrôle des attaques de pirates» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 3: «Débordements de tampon: exploits et protection» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 4: «Séparation des privilèges» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 5: «D'où viennent les systèmes de sécurité?» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  Conférence 6: «Opportunités» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 7: «Native Client Sandbox» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 8: «Modèle de sécurité réseau» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 9: «Sécurité des applications Web», <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <br>  Conférence 10: «Exécution symbolique» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 11: «Ur / Web Programming Language» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <a name="habracut"></a><br><br>  Un peu plus tard, je vous parlerai de fausses demandes intersites.  Je pense que les notes de cours expliquent pourquoi les scripts crossite ne fonctionnent pas dans notre cas.  La raison en est que chaque fois que vous créez un «morceau» de syntaxe, cet objet, cet arbre et les différentes parties de cet arbre ne sont pas uniquement des chaînes. <br><br><img src="https://habrastorage.org/webt/ve/hh/rb/vehhrbj_e2ce4yi9op7j_slgja0.jpeg"><br><br>  Vous ne pouvez pas accidentellement transformer une chaîne utilisateur en une arborescence de structure, cela ne se produit pas automatiquement, car il est difficile d'écrire un tel traducteur.  Mais vous pouvez essayer d'écrire un traducteur pour Ur / Web.  Je donnerai bientôt un exemple qui contribuera à réduire votre inquiétude à ce sujet.  Je veux vous montrer en quoi cette syntaxe se transforme réellement dans le compilateur. <br><br>  Il pourrait sembler que nous pourrions simplement ajouter des guillemets doubles autour du HTML afin que nous puissions ensuite revenir au monde normal.  On peut se demander pourquoi il est si important de sauter les guillemets doubles, en plaçant XML à la place? <br><br>  Vous pouvez me croire sur parole que c'est le code équivalent pour ce qu'il fait.  Voici une balise de fonction en ligne qui crée le nœud d'arbre d'un document HTML.  Ensuite, je place les arguments qui expriment le style CSS dans ce nœud.  Rien ne se passe réellement ici, il existe donc de nombreuses façons de dire «Aucun», cela ne nécessite aucun attribut. <br><br>  Ensuite, je mets la balise body, c'est une autre chose de la bibliothèque standard.  Toutes les balises standard sont des fonctions de première classe dans la bibliothèque. <br><br><img src="https://habrastorage.org/webt/yg/w6/e3/ygw6e3j_wcffkpt-lnrp0pjzvsg.jpeg"><br><br>  Ensuite, nous devons mettre le texte «Hello World» dans le corps, nous appelons donc la fonction cdata, où cdata est le mot XML pour les données de caractères ou simplement une constante de chaîne, et nous pouvons placer le texte ici.  Cela devrait nous donner le même résultat qu'auparavant.  Voyons voir si cela fonctionne. <br><br>  Je reviens maintenant à la page.  Nous voyons la même chose qu'avant, c'est donc la même chose que la fonction au début. <br><br><img src="https://habrastorage.org/webt/d8/kj/5c/d8kj5caq5wynvitakfgozvx9zbg.jpeg"><br><br>  Ce n'est pas seulement la construction de lignes.  Cela provoque une série d'opérations qui sont conçues de manière à ce qu'elles seules vous permettent de créer du code HTML valide, et elles ne pourront jamais interpréter implicitement la ligne comme du code au lieu de simplement placer le contenu qui devrait être là sur la page. <br><br><img src="https://habrastorage.org/webt/t4/lz/ky/t4lzkym3pllpxtd46p3ydq9hxiw.jpeg"><br><br>  Maintenant, je vais essayer de faire quelque chose de moins compliqué, ce qui pourrait potentiellement être un problème.  Décidons que nous sommes vraiment heureux de voir le monde, nous mettons donc en évidence le mot "bonjour" en gras et le compilons à nouveau. <br><br><img src="https://habrastorage.org/webt/i4/9w/wr/i49wwrvxwmjbvsdmabaux8vbpze.jpeg"><br><br>  Vous voyez ce qui s'est passé sur la page - le mot n'est pas devenu gras car le compilateur montre comment le texte est interprété au lieu du balisage.  Il s'agit d'une représentation de la syntaxe HTML en tant que fonction qui construit la syntaxe sans les conventions de codage habituelles qui y sont intégrées.  Cette fonction interprète tout comme vous vouliez écrire, sans penser à vous-même. <br><br>  Ainsi, l'implémentation de cdata fait ce qui est communément appelé échapper ou "échapper".  Mais le programmeur n'a pas besoin de savoir qu'il existe une telle chose que de s'échapper.  Vous pouvez le considérer comme un ensemble de fonctions pratiques pour créer une arborescence d'objets qui décrit la page. <br><br>  J'entends que vous voulez voir le code HTML généré ici.  D'accord, ce ne sera pas la chose la plus excitante.  J'essaierai de l'agrandir sur l'écran, mais ensuite il ne rentre pas sur une seule ligne. <br><br><img src="https://habrastorage.org/webt/u1/6d/lm/u16dlmtcovtixg6zbgscm6t3eym.jpeg"><br><br>  <b>Étudiant:</b> Étant donné que vous utilisez XHTML, pourriez-vous simplement utiliser le chemin d'accès aux données de caractères cdata au lieu de le faire manuellement? <br><br>  <b>Professeur:</b> Je suppose, mais cela nécessiterait plus de XML de ma part que ceux que j'ai.  Il y avait une autre bonne question sur les URL JavaScript.  Si nous autorisons les URL JavaScript, nous créons une porte dérobée pour interpréter automatiquement les chaînes comme des programmes au moment de l'exécution.  Et cela cause toutes sortes de problèmes. <br><br>  Essayons de l'éviter.  Je reviens tout d'abord à la version raccourcie et fais quelques lignes à l'intérieur du corps.  Et mettons un lien qui va essayer de faire quelque chose de approprié.  Ici, nous laissons de la place aux messages d'erreur. <br><br><img src="https://habrastorage.org/webt/ce/qh/fh/ceqhfhp7dj49uaakv-uyc6pgdug.jpeg"><br><br>  Ensuite, exécutez le compilateur et voyez comment cela fonctionne. <br><br><img src="https://habrastorage.org/webt/le/yj/bd/leyjbd0ft_iuzl0sp09sul5mlfw.jpeg"><br><br>  URL non valide, puis entrée JavaScript et la phrase «passé pour bénir» ou «bénédiction passée».  Bless est intégré à la fonction, qui est le contrôleur d'accès qui résout l'URL.  Par défaut, les URL ne sont pas autorisées, donc bien sûr cette option n'est pas autorisée.  En général, c'est une mauvaise idée d'écrire votre propre stratégie d'URL afin de pouvoir créer des valeurs qui représentent des URL JavaScript.  Parce qu'alors toutes sortes de garanties seront nécessaires, car ces adresses peuvent être invalides. <br><br>  Pour rendre un peu plus clair comment cela fonctionne, permettez-moi de décomposer ce code dans une fonction distincte qui appelle l'éditeur de liens qui accepte l'URL.  Ainsi, une URL est un type, pas une chaîne.  Il s'agit du type qui désigne l'URL, ce qui est explicitement autorisé par la stratégie de votre application. <br><br>  J'utilise des accolades, comme dans certains cadres de modèles HTML populaires, pour indiquer l'insertion de code du langage hôte à l'intérieur du HTML que nous créons.  Et tout cela se fait de telle sorte que le type soit vérifié statiquement.  Le système vérifiera donc: "oui, c'est l'endroit auquel appartient l'URL, et il dit que c'est vraiment une URL, donc tout va bien." <br><br><img src="https://habrastorage.org/webt/dk/k_/c1/dkk_c19amvl0mtc-cavdq5gyy3k.jpeg"><br><br>  Et puis je peux explicitement organiser l'appel de bénédiction en disant: "appelons simplement la fonction de l'éditeur de liens ici sur la base des résultats de la" bénédiction "de cette URL."  Après cela, nous devrions obtenir le même message d'erreur qu'auparavant. <br><br><img src="https://habrastorage.org/webt/1w/vx/2v/1wvx2vipa9mnkzydjl-oxjheurk.jpeg"><br><br>  Malheureusement, je ne peux pas l'exécuter pour vous et attendre qu'il échoue, mais je peux dire qu'il échouera certainement, car j'ai intentionnellement fait une erreur de compilation.  Cette URL ne sera pas acceptée par la politique d'URL. <br><br>  Si j'ai raté cet appel béni, ce serait une erreur plus grave au moment de la compilation, car vous avez la chaîne et la bonne URL, et elles sont de types différents. <br><br><img src="https://habrastorage.org/webt/ew/8u/yd/ew8uydi-n7vvxhaofm09tuhuvqq.jpeg"><br><br>  Rendons-le plus intéressant.  Je vais ouvrir un fichier de configuration pour cette démo.  C'est assez court, du moins si vous regardez n'importe quel cadre d'application Web Java.  Ils ont ces fichiers XML géants pour la configuration, donc tout va beaucoup mieux avec nous. <br><br><img src="https://habrastorage.org/webt/f2/0x/zn/f20xznx-xrcpolzz93wukdfq3o8.jpeg"><br><br>  Nous pouvons ajouter une règle qui stipule que tout sur Wikipédia est autorisé, puis mettre l'URL de Wikipédia dans le corps. <br><br><img src="https://habrastorage.org/webt/e4/wq/ia/e4wqiapjhdtiq4s354nmod5cwus.jpeg"><br><br>  Maintenant, allez à la page et cliquez sur Veuillez cliquer. <br><br><img src="https://habrastorage.org/webt/f1/mb/3t/f1mb3tsp09v-h6vrjm0rtjxgcku.jpeg"><br><br>  Voici ce que nous avons obtenu: adresse Wikipedia introuvable. <br><br><img src="https://habrastorage.org/webt/wl/qx/il/wlqxilbfs69vmxd77wtvj_m5e94.jpeg"><br><br>  Donc, l'idée principale est d'avoir un type abstrait d'URL, comme vous pourriez avoir un type abstrait de table de hachage qui encode les variations de ce à quoi ressemble la table de hachage et empêche le code d'entrer dans le tableau de table de hachage.  Nous pouvons faire de même pour l'URL.  En utilisant cette fonction de bénédiction, le système s'assure que chaque valeur de ce type passe un contrôle approprié à un moment donné. <br><br>  Par exemple, avec cette politique, nous savons que nous n'aurons jamais d'URL JavaScript, vous pouvez donc en toute sécurité prendre la valeur de l'URL et l'utiliser comme lien.  Cela ne cassera pas les abstractions de base de la langue. <br><br>  <b>Etudiant: est-</b> il possible d'utiliser du JavaScript "pur" en l'insérant dans la chaîne du corps? <br><br>  <b>Professeur:</b> oui et non.  Au lieu de JavaScript, vous intégrez du code Ur / Web qui effectue une sorte de tâche.  Maintenant, je vais taper la commande: <br><br><pre><code class="hljs xml">return <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xml</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onload</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{alert</span></span></span><span class="hljs-tag"> “</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">LOADED</span></span></span><span class="hljs-tag">”}&gt;</span></span></code> </pre> <br>  Et vous verrez ce qui s'est passé - l'interprète a placé une fenêtre sur l'écran avec l'inscription «Loaded» - «Loaded». <br><br><img src="https://habrastorage.org/webt/hs/co/jm/hscojmoxytzkmr4qxk8touo4e34.jpeg"><br><br>  Essayer d'interpréter le code JavaScript sous forme de chaîne comme un programme serait un désastre.  Vous voyez, nous pouvons mettre du code dans le même langage de programmation que celui avec lequel vous travaillez, déjà limité par ces accolades.  Et puis il est automatiquement compilé en JavaScript pour s'exécuter côté client. <br><br>  Je note que les versions plus récentes des navigateurs peuvent éviter les erreurs d'interprétation des caractères, mais certains navigateurs plus anciens sont capables de semer la confusion.  Dans tous les cas, tous les éléments de caractère seront interprétés comme UTF-8 s'ils entrent dans le document.  S'il y a un problème avec un codage différent, ce codage ne doit pas être appliqué ici. <br><br>  <b>Étudiant: le</b> compilateur vérifie si la chaîne contient une URL valide.  Mais si vous calculez une chaîne au moment de l'exécution, bénit-elle au moment de l'exécution si une chaîne donnée est valide ou non? <br><br>  <b>Professeur:</b> créons un formulaire pour tester cette déclaration et placez-le ici.  Nous entrons notre URL dans la zone de texte URL, puis insérons le bouton soumettre et soumettre. <br><br><img src="https://habrastorage.org/webt/d_/aq/fp/d_aqfpi89gk6azs49odajmhmnz0.jpeg"><br><br>  Lorsque vous cliquez dessus, la fonction de l'éditeur de liens sera appelée en écrivant une valeur pour chaque champ du formulaire.  Dans ce cas, il n'y a qu'un seul champ appelé "URL", donc l'éditeur de liens traitera l'entrée contenant l'URL comme un type de chaîne.  Et puis nous essayons de lui appliquer la fonction bénir et de voir si cela fonctionne. <br><br><img src="https://habrastorage.org/webt/ru/na/8z/runa8zxo9obi7hayqrvi_gzhecs.jpeg"><br><br>  Vous voyez un exemple de messages d'erreur lorsque vous tapez le mauvais type d'URL, une de ces choses qui n'auront aucun sens si vous n'êtes pas familier avec Haskell.  J'ai oublié d'insérer la fonction de retour ici.  Au moins maintenant, cela ressemble plus à un programme Java.  Et j'ai aussi oublié de dire que maintenant c'est une page complète.  Par conséquent, nous ne pouvons pas utiliser la balise a tant que nous ne sommes pas dans la balise body. <br><br><img src="https://habrastorage.org/webt/-q/vp/oh/-qvpohawzytpmotyrlwk4y1oo7q.jpeg"><br><br>  Maintenant, lancez le compilateur, allez sur notre page, cliquez sur le bouton Veuillez cliquer, entrez une adresse inexistante inexistante. <br><br><img src="https://habrastorage.org/webt/f8/lc/of/f8lcofwmgurypdi_tekg0jifwgu.jpeg"><br><br>  Ensuite, nous cliquons sur Soumettre la requête - "Envoyer une demande" et nous obtenons un message d'erreur - l'adresse de ce type n'est pas résolue. <br><br><img src="https://habrastorage.org/webt/ry/mu/u5/rymuu5ruqj2f01-1y4saidwc2bm.jpeg"><br><br>  Si nous saisissons l'URL correcte comme indiqué sur l'écran suivant, puis cliquez sur Soumettre la requête, aucun message d'erreur n'apparaîtra. <br><br><img src="https://habrastorage.org/webt/5a/fx/hy/5afxhy3lpksvux1vl88noj1uh7c.jpeg"><br><br>  Je pense que la réponse à votre question a été longue et pas trop excitante. <br><br>  <b>Étudiant:</b> existe-t-il des conditions plus strictes pour les URL en plus de l'interdiction d'utiliser JavaScript? <br>  <b>Professeur:</b> Actuellement, les restrictions plus strictes ne sont que des constantes et des préfixes.  Mais vous pouvez également créer vos propres règles d'interdiction, et elles fonctionneront dans l'ordre dans lequel vous les écrivez. <br><br>  <b>Etudiant: il</b> s'avère que si vous adhérez à l'interdiction de JavaScript, mais mettez un saut de ligne au milieu du mot "JavaScript", le compilateur peut interpréter cela ... <br><br>  <b>Professeur:</b> oui, ce serait dommage.  C'est pourquoi il est bon de s'en tenir à l'approche de la liste blanche au lieu d'utiliser l'approche de la liste noire.  Vous souhaitez probablement que toutes les règles commencent par un protocole spécifique, tel que HTTP, et n'autorisent que ce qui convient à votre suite de protocoles approuvée.  Je recommande de faire exactement cela. <br><br>  <b>Étudiant:</b> pour de nombreux sites, vous pouvez autoriser les utilisateurs à échanger des liens, auquel cas vous devez autoriser les liens partout. <br><br>  <b>Professeur:</b> vous pouvez autoriser les liens si vous souhaitez que vos utilisateurs partagent des liens JavaScript ou, je ne sais pas, des liens flash ou tout ce qui y est autorisé.  Vous voyez, vous pouvez créer une «liste blanche» de tous les HTTP, HTTPS, URL et ainsi assurer le fonctionnement sûr de la plupart des sites.  Cette approche n'est que légèrement plus faible que d'autoriser uniquement des URL spécifiques.  Mais au moins, vous pouvez éliminer complètement la possibilité d'exécution automatique d'une chaîne en tant que programme. <br><br>  Permettez-moi de vous donner un exemple de résumé, qui est un exemple d'un système de salon de discussion simple présenté dans la base de données.  L'utilisateur peut cliquer sur le lien pour accéder à la salle puis envoyer un message.  Il s'agit de la première de plusieurs options de circuit. <br><br><img src="https://habrastorage.org/webt/3y/vx/n-/3yvxn-vrddqytldmzo5qgms8pta.jpeg"><br><br>  Tout d'abord, je noterai que je vais recompiler cela.  Et puis comme par magie, toutes les tables de base de données déclarées seront ajoutées à la base de données, et nous pouvons commencer à utiliser l'application.  Mais nous devons d'abord ajouter quelques salles de chat.  Ouvrons donc notre interface à la base de données de démonstration et insérons les valeurs «un» et «deux» dans la salle de table. <br><br><img src="https://habrastorage.org/webt/rg/yg/yh/rgygyhyminzap26oeymfrpzodis.jpeg"><br><br>  Maintenant, ils sont apparus ici. <br><br><img src="https://habrastorage.org/webt/73/o_/cs/73o_csz48d0mscpszk2xxbc_ozu.jpeg"><br><br>  Maintenant, nous entrons dans la première salle de discussion et pouvons nous amuser toute la journée en envoyant des lignes de texte, par exemple, une telle première ligne.  Il sera plus intéressant d'essayer d'envoyer du HTML, et il sera immédiatement traité.  Ceci est un exemple des principales fonctionnalités du programme. <br><br><img src="https://habrastorage.org/webt/yg/z7/jv/ygz7jvrke7r5regxjxv0awozt-s.jpeg"><br><br>  Encore une fois, nous allons rapidement voir comment cela fonctionne, nous avons donc ces deux tables SQL - table room et table message, qui sont simplement déclarées dans cette première classe à l'intérieur du langage de programmation.  Et nous donnons un diagramme de chaque table.  Et puis, lorsque nous essayons d'accéder à ces tables, le compilateur s'assure qu'elles sont accessibles conformément à un schéma de typage prometteur. <br><br><img src="https://habrastorage.org/webt/pn/kd/tq/pnkdtqy4u_xtusdwrpvxwv58tle.jpeg"><br><br>  Ainsi, nous avons un tableau des chambres, où chaque chambre est un enregistrement composé d'un identifiant ID, qui est un entier, et d'un titre, qui est une chaîne.  C'est le type de vue dans lequel nous avons simplement créé des enregistrements.  Je viens de créer quelques salles dans la console SQL.  Nous avons également une notification que chaque message appartient à une salle particulière, l'heure à laquelle il a été créé et le texte qui est le contenu du message. <br>  Permettez-moi maintenant de passer rapidement à la fonction principale. <br><br><img src="https://habrastorage.org/webt/w9/p2/7m/w9p27msu5myieys9_dknkicarms.jpeg"><br><br>  Nous exécutons une requête SQL - vous voyez un exemple de syntaxe SQL intégrée à Ur / Web.  Je ne veux pas entrer dans les appels de fonction via cette extension depuis la bibliothèque standard.  Ce sera assez verbeux, il suffit de rappeler mes mots sur le fait que la bibliothèque standard a des méthodes pour appeler des fonctions qui sont des moyens valides pour construire une requête SQL. <br><br>  Et ces fonctions ont des types qui en font des demandes d'impression pour vous, et ne garantissent pas seulement que la syntaxe est valide.  Ce code itère simplement sur toutes les lignes issues de cette requête et génère des parties du code HTML pour chacune d'elles. <br><br>  En particulier, nous allons mettre le résultat de la requête dans le champ Titre et le convertir en HTML avec une notation qui comprend des accolades.  Les crochets indiquent en outre que ce n'est pas encore un vrai morceau de HTML, mais veuillez le convertir pour moi de manière standard.  Nous pouvons donc faire avec des chaînes et des entiers et toutes les données d'autres types. <br><br>  <b>Étudiant:</b> s'il contenait du HTML malveillant ou autre, serait-il filtré? <br><br>  <b>Professeur:</b> oui, ce serait le cas.  Dans Ur / Web, vous pouvez simplement le considérer comme la construction d'un arbre.  Il s'agit d'un nœud qui représente du texte.  De toute évidence, le texte ne peut rien faire. <br><br>  <b>Etudiant:</b> donc si cet en-tête était sous le contrôle de l'utilisateur et que quelqu'un discutait avec le titre Alert, ne serait-ce pas JavaScript? <br><br>  <b>Professeur:</b> il ne sera pas automatiquement interprété comme JavaScript, HTML ou autre.  Il sera perçu par le programme comme du texte brut. <br><br>  Revenons donc à notre image d'écran.  Nous avons ce titre Titre, encadrons-le avec des balises.  Et au lieu de href, la manière habituelle de lier en HTML, nous utilisons l'attribut link, qui est une sorte de pseudo-attribut ur / web qui prend comme argument non l'URL, mais surtout les expressions Ur / Web.  Le fait est que lorsque vous cliquez sur ce lien, cette expression est lancée pour créer une nouvelle page qui doit être affichée. <br>  Dans ce cas, nous appelons la fonction chat, qui est définie ici sur l'écran suivant, c'est ce que c'est. <br><br><img src="https://habrastorage.org/webt/-y/ig/jy/-yigjypz4hshhd_vij2eqzdp7po.jpeg"><br><br>  Je n'entrerai pas dans les détails.  Mais nous avons encore quelques requêtes SQL utilisant diverses fonctions de bibliothèque standard pour différentes façons d'utiliser les résultats demandés. <br><br>  Nous générons cette page HTML et disons que vous êtes dans un chat avec un tel titre, nous avons un formulaire où l'utilisateur peut saisir du texte.  C'est le formulaire que j'ai utilisé pour montrer comment le programme fonctionnait il y a quelques minutes.  Le bouton d'envoi du formulaire a cet attribut Add contenant say, qui est le nom de la fonction Ur / Web.  Par conséquent, lorsque nous soumettons le formulaire, nous appelons cette fonction. <br><br>  L'exécution de quelques SQL supplémentaires insère de nouvelles lignes dans la table.  Nous sautons automatiquement de l'ID de la salle de conversation aux champs de texte qui sont venus ici du formulaire, et ils sont automatiquement masqués selon les besoins.  Mais là encore, dans Ur / Web, vous n'avez pas besoin de penser à "échapper" à la fonction de cette façon.  Parce que c'est juste la syntaxe pour construire un arbre, pas pour une chaîne.  Ainsi, il n'y a aucun moyen que des choses étranges puissent arriver à l'analyse que vous n'attendez pas de la façon choisie d'interpréter la syntaxe. <br><br>  Ainsi, le fait que nous ayons un widget sous cette forme sous la forme d'une interface graphique et qu'il s'agit d'un champ de texte, le compilateur conclut que l'enregistrement résultant du remplissage du formulaire de zone de texte doit avoir un élément appelé «texte» de type chaîne .  Cet encodage du formulaire et les règles de saisie ne sont pas intégrés dans le langage, mais sont issus de la bibliothèque Ur express, qui contrôle réellement ces formulaires, déterminant les types de fonctions valides. <br>  Si vous n'avez plus de questions sur cette partie du programme, je passe à l'étape suivante.  Je vais utiliser un moyen pour forcer l'encapsulation de différentes parties d'une application qui prend en charge Ur / Web et qui prend rarement en charge d'autres langues.  Je vais prendre cette pièce.  Je vais prendre quelques définitions et les mettre dans un module qui encapsule certaines d'entre elles comme privées.  En particulier, les tables de la base de données seront privées, donc personne ne pourra y accéder directement. <br><br>  Vous ne pouvez y accéder qu'en utilisant l'ensemble des méthodes que nous proposons.  Une méthode s'exécute à l'intérieur d'une transaction et crée une liste d'enregistrements avec des champs d'ID et de titre pour les salles de discussion disponibles. <br><br>  Ensuite, nous étendons simplement cette opération de chat.  Et la seule chose que j'ai faite ici a été d'entrer un nom pour l'ID de concept - ID de type.  Donc je ne dis pas seulement que l'ID est un entier, je dis que c'est un nouveau type. <br><br><img src="https://habrastorage.org/webt/fr/sy/__/frsy__bkeyw4mwc6yf_d1wp2hss.jpeg"><br><br>  La seule façon dont le monde extérieur peut contacter le chat est d'obtenir une liste de toutes les salles, et la seule façon que le monde extérieur puisse l'utiliser est d'appeler la fonction de chat.  Disons qu'il s'agit d'un type abstrait de table de hachage à l'intérieur de la classe de table de hachage, où des détails sont stockés qui expliquent ce que sont les ID et comment ils sont produits en interne, étant privés de ce module, et le code client qui appelle ce module ne doit pas les utiliser. <br><br>  Maintenant, je vais transférer toute cette syntaxe vers le bas et la placer dans le module, afin que par défaut, elle ne soit pas exposée au reste du code.  Ensuite, j'implémente cette méthode de chambres.  Nous avons déjà la possibilité d'organiser un chat.  Mais nous pouvons implémenter les salles d'une manière plus simple en utilisant une autre fonction de bibliothèque standard pour interpréter la demande sous la forme actuelle. <br>  Disons simplement tout sélectionner dans la liste des chambres, triées par nom.  Comme d'habitude, cette requête est pour nous un type de données validé.  Et le système détermine: "OK, cette expression va générer une liste d'enregistrements qui correspondent au type déclaré dans la signature de ce module."  Alors maintenant, en dehors de ce module, aucun autre code ne peut mentionner une table de salle ou une table de messages. <br><br><img src="https://habrastorage.org/webt/r2/8e/72/r28e72dlrnyazx-qxx6r8cc9kdk.jpeg"><br><br>  Ainsi, au moins du point de vue de cette application, nous pouvons lui appliquer l'invariance requise.  Nous pouvons même cacher des secrets à l'intérieur du module afin qu'il n'y ait aucun problème de sécurité si une autre partie du code peut les obtenir. <br><br>  <b>Étudiant:</b> un autre morceau de code pourrait-il également implémenter cette méthode de salle? <br><br>  <b>Professeur:</b> Ce serait un tableau complètement différent.  En fait, nous pouvons le faire en insérant un tel fragment de 4 lignes dans un autre module. <br><br><img src="https://habrastorage.org/webt/uq/ud/lz/uqudlzms1a3nar8hpko4sngaguw.jpeg"><br><br>  Ensuite, nous pouvons faire ce que nous voulons avec ce tableau.  Je vais le compiler, peut-être dans 30 secondes, et nous verrons ce qui se passe.  Mais en réalité, c'est une table différente, comme si vous aviez le même nom privé, mais pour deux classes Java différentes. <br><br>  Donc, vous supposez qu'à l'intérieur de ce module, il existe un type abstrait appelé salle, qui contient l'identifiant ID et le titre.  Ce n'est pas correct.  Le chat accepte les paramètres de la salle en entrée.  Lorsque nous appelons la fonction de chat, elle sera appelée via l'URL.  L'ID et le titre sont transmis en dehors de la représentation de l'URL qui appelle la fonction.  Nous avons seulement besoin de l'ID pour implémenter cette fonction.  Ainsi, lorsque nous appelons la fonction, nous appelons en fait l'URL. <br>  Ce serait un gaspillage en termes d'utilisation de l'espace et aurait l'air grossier pour l'utilisateur si l'en-tête était passé comme argument supplémentaire lors de l'appel du chat via l'URL.  Est-ce que cela a du sens?  Regardons la barre d'URL sur cette diapositive. <br><br><img src="https://habrastorage.org/webt/_x/3r/ij/_x3rijim6yew7wwnimxvd98w7cy.jpeg"><br><br>  L'identifiant de la chaîne que nous suivons est automatiquement sérialisé en URL à la fin de la ligne.  Et si nous transmettions un enregistrement contenant l'ID et le titre du titre, ce titre serait également sérialisé, ce qui est au moins un peu illogique. <br><br>  54:10 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cours MIT "Sécurité des systèmes informatiques".</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conférence 11: Langage de programmation Ur / Web, partie 3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XMEFdofERLI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  La version complète du cours est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matériaux plus intéressants?  Soutenez-nous en passant une commande ou en le recommandant à vos amis, une <b>réduction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vérité sur VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbps à partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'à 24 cœurs et jusqu'à 40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en décembre gratuitement</b> en payant pour une période de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV à partir de 249 $</a> aux Pays-Bas et aux États-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">création d'un bâtiment d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coûtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr425999/">https://habr.com/ru/post/fr425999/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr425989/index.html">Sous le capot de Graveyard Keeper: comment les effets graphiques sont mis en œuvre</a></li>
<li><a href="../fr425991/index.html">Comment nous avons créé l'hébergement</a></li>
<li><a href="../fr425993/index.html">Comment combler l'écart entre les sexes dans la technologie</a></li>
<li><a href="../fr425995/index.html">Visualisez FHIR - La norme informatique pour la médecine</a></li>
<li><a href="../fr425997/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 11: Langage de programmation Ur / Web, partie 1</a></li>
<li><a href="../fr426001/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 11: Langage de programmation Ur / Web, partie 3</a></li>
<li><a href="../fr426009/index.html">Epic fail resistance 1 ou Fox se faufilait inaperçu. Test d'anonymat et de sécurité + VPN pour l'utilisateur</a></li>
<li><a href="../fr426013/index.html">Stéroïdes de carrière</a></li>
<li><a href="../fr426015/index.html">L'utilisation de drones civils sciés pour la photographie aérienne géodésique professionnelle de la région</a></li>
<li><a href="../fr426017/index.html">Comment réduire le nombre d'expériences sur des animaux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>