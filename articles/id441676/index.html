<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ›« ğŸ‘¨ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ½ ğŸŒ¨ï¸ Cara berteman PLUTO dan HDSDR ğŸ–ï¸ ğŸ‘©ğŸ»â€ğŸ¤â€ğŸ‘¨ğŸ¿ â›¹ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Belum lama berselang, secara impulsif membeli transceiver SDR lucu untuk anak-anak dan remaja - ADALM PLUTO. Saya menyesal, ia bekerja dengan banyak p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara berteman PLUTO dan HDSDR</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441676/"><img src="https://habrastorage.org/webt/dx/vl/5c/dxvl5cuxvc4qn7duv1lossoiz2c.jpeg"><br><br><p>  Belum lama berselang, secara impulsif membeli transceiver SDR lucu untuk anak-anak dan remaja - ADALM PLUTO.  Saya menyesal, ia bekerja dengan banyak perangkat lunak untuk LINUX, tetapi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HDSDR</a> favorit saya tidak mendukungnya.  Tanpa berpikir dua kali, saya mulai menangani masalah ini dan inilah yang terjadi: <br><a name="habracut"></a><br></p><p>  Perangkat Analog menangani PLUTO-nya kepada siswa.  Semua perangkat lunak untuk PLUTO terbuka dan tersedia secara bebas.  Situs web perusahaan memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman</a> tempat Anda dapat menemukan hampir semua informasi yang diperlukan tentang pengoperasian PLUTO.  Sebagian besar perangkat lunak ditulis di Linux dan siswa disarankan untuk menggunakan GNU Radio, MATLAB, dll. <br><br></p><p>  Saya memiliki minat radio yang murni amatir di PLUTO.  SDR dengan rentang dari 70MHz hingga 6GHz (setelah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pengungkapan</a> ) hanya dengan 150 uang Amerika adalah keajaiban.  Berapa banyak percobaan yang bisa dilakukan!  Lihat seberapa banyak semuanya terintegrasi di sana: <br><br></p><p><img src="https://habrastorage.org/webt/ao/wg/mn/aowgmnuvpv1nj7kzloexjef5-fy.jpeg"><br><br></p><p>  Rupanya, AD percaya bahwa ham sendiri harus menulis driver untuk program populer, jadi sampai saat ini, bahkan SDR # tidak didukung.  Tetapi SDR # tidak cocok untuk saya, karena saya membutuhkan dukungan CAT yang baik dalam suatu program untuk menyinkronkan frekuensi dengan transceiver.  Saya ingin mencoba menggunakan HDSDR sebagai penerima panorama dengan menghubungkannya ke frekuensi menengah pertama dari transceiver.  Jadi, hanya ada satu jalan keluar - untuk mengintegrasikan HDSDR dan PLUTO sendiri. <br><br></p><p>  Menggunakan Google, saya segera menemukan bahwa untuk menyelesaikan masalah saya, saya perlu membuat perpustakaan ExtIO_.dll khusus dalam format <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Winrad</a> .  Perpustakaan ini berfungsi sebagai jembatan perangkat lunak antara HDSDR dan penerima SDR yang diinginkan.  Untungnya, antarmuka perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">didokumentasikan dengan</a> baik.  Selain itu, ada beberapa implementasi perpustakaan siap pakai untuk berbagai penerima di github: RTL_SDR, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">LimeSDR</a> , dll. Ada tempat untuk melihat cara menulis kode.  Perpustakaan itu sendiri adalah sekolah yang cukup tua, tidak ada teknologi baru, C89 murni, seperti yang mereka tulis 20 tahun lalu.  Setidaknya Anda tidak perlu belajar bahasa pemrograman baru, yang telah menginspirasi harapan untuk sukses. <br><br></p><p>  Pada dasarnya, ExtIO_.dll perlu diimplementasikan dengan banyak fungsi yang memungkinkan Anda untuk menginisialisasi peralatan SDR, memulai dan menghentikan penerimaan sinyal, menyimpan dan mengembalikan pengaturan yang ditentukan.  Bagi saya, momen yang paling sulit dipahami adalah format pertukaran data streaming antara receiver dan HDSDR, tetapi lebih pada hal di bawah ini. <br><br></p><p>  Sekarang pertanyaannya adalah bagaimana mengontrol PLUTO secara terprogram.  Sebenarnya ada beberapa opsi kontrol.  Saya menemukan setidaknya dua: baik secara langsung dengan chip melalui perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">libad9361.dll</a> , atau melalui perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IIO</a> .  Opsi yang terakhir tampak lebih sederhana dan lebih baik untuk saya jelaskan, jadi saya memutuskannya.  Di perpustakaan ini, semua pengaturan peralatan tersedia dalam bentuk semacam struktur XML, elemen individual diakses dengan nama tekstual dari properti, yang cukup nyaman.  Rincian lebih lanjut tentang perpustakaan dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Keuntungan yang sangat besar dari pustaka adalah ia datang dengan utilitas baris perintah, yang dengannya Anda selalu dapat dengan cepat mengubah pengaturan penerima yang diinginkan.  Dengan demikian, Anda tidak perlu menerapkan semua pengaturan SDR di antarmuka HDSDR, Anda bisa bertahan dengan minimum yang diperlukan.  Dan memuat beberapa filter FIR eksotis dapat dilakukan dari baris perintah, jika pernah, kebutuhan seperti itu muncul.  Aliran Data di IIO: <br><br></p><p><img src="https://habrastorage.org/webt/ce/dz/bh/cedzbhmsy9z56vdehgcoaas5hmk.png"><br><br></p><p>  Secara pemrograman, mempelajari cara mengontrol PLUTO dari HDSDR cukup cepat dan mudah.  Agak sulit untuk mendapatkan hasil yang memuaskan dalam streaming data, terutama karena saya tidak punya pengalaman sebelumnya dengan SDR.  Di sini Anda perlu memahami bahwa data berasal dari penerima SDR dalam bentuk aliran I / Q / I / Q ... sampel I / Q.  Setiap sampel adalah integer 16-bit yang tidak ditandatangani, yang mana hanya 12 bit urutan rendah yang penting.  Pada saat yang sama, HDSDR memiliki selusin opsi untuk menerima aliran data.  Mana yang lebih nyaman dan lebih baik tidak sepenuhnya jelas bagi saya.  Akibatnya, saya memilih opsi, yang dalam ExtIO disebut exthwUSBdata16, yaitu  sebenarnya 1-1 bagaimana perpustakaan IIO memberikan data. <br>  Masalah berikutnya adalah transfer data antara buffer penerima IIO dan HDSDR.  Yang terakhir menerima data dalam blok yang merupakan kelipatan dari 512 byte, dan IIO tidak dapat menampilkan data dalam format ini.  Saya harus membuat buffer perantara dan mentransfer aliran melaluinya.  Kode transmisi ditunjukkan di bawah ini. <br><br></p><p></p><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">DWORD WINAPI </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GeneratorThreadProc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( __in LPVOID lpParameter )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int16_t</span></span> iqbuf[EXT_BLOCKLEN * <span class="hljs-number"><span class="hljs-number">2</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">ssize_t</span></span> nbytes_rx; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *p_dat, *p_end; <span class="hljs-keyword"><span class="hljs-keyword">ptrdiff_t</span></span> p_inc; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> iqcnt = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// pointer to sample in iqbuf while ( !gbExitThread ) { nbytes_rx = iio_buffer_refill(rxbuf); p_inc = iio_buffer_step(rxbuf); p_end = (char *)iio_buffer_end(rxbuf); for (p_dat = (char *)iio_buffer_first(rxbuf, rx0_i); p_dat &lt; p_end; p_dat += p_inc) { iqbuf[iqcnt++] = ((int16_t*)p_dat)[0]; iqbuf[iqcnt++] = ((int16_t*)p_dat)[1]; if (iqcnt == EXT_BLOCKLEN * 2) { // buffer full iqcnt = 0; pfnCallback(EXT_BLOCKLEN, 0, 0.0F, &amp;iqbuf[0]); } } } gbExitThread = false; gbThreadRunning = false; return 0; }</span></span></code> </pre> <br><p>  Dengan menggunakan siklus yang ditunjukkan, adalah mungkin untuk mencapai transfer aliran sebesar 4 MS / s, di atas nilai ini data tidak memiliki waktu untuk ditransmisikan dan sinyal diterima dengan gagap, meskipun setrika tampaknya dapat mengirim 20 MS / s dan bahkan lebih tinggi.  Meningkatkan prioritas utas tempat loop berputar ke THREAD_PRIORITY_TIME_CRITICAL, meningkatkan ukuran buffer.  Tidak ada hasil.  Selain itu, ketika buffer ditingkatkan menjadi 1 MB, penerimaan normal tidak mungkin pada laju aliran minimum.  Lebih banyak di sini bukan berarti lebih baik.  Jika Anda memiliki ide tentang cara meningkatkan kecepatan, silakan bagikan di komentar. <br><br></p><p>  Saya harus mengatakan bahwa 4 MS / s sudah cukup untuk keperluan saya, band ini lebih dari band amatir HF.  Ya, dan pada pita VHF dan gelombang mikro cukup untuk sebagian besar tugas.  Akibatnya, pustaka ditulis, jendela HDSDR dengan PLUTO dihidupkan untuk penerimaan terlihat seperti ini: <br><br></p><p><img src="https://habrastorage.org/webt/bz/sd/hb/bzsdhbg83dfjqv9iokbtcpwltbi.jpeg"><br><br></p><p>  Semua kode perpustakaan tersedia di github di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Jangan ragu untuk menggunakannya untuk percobaan Anda dengan ADALM PLUTO. <br><br></p><p>  73 de R2AJP </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id441676/">https://habr.com/ru/post/id441676/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id441654/index.html">Bagaimana cara magang ke perusahaan IT besar</a></li>
<li><a href="../id441660/index.html">STM32F103C8T6 sebagai flash drive dengan sistem file FAT12</a></li>
<li><a href="../id441664/index.html">Linus Torvalds tidak percaya bahwa server pada arsitektur ARM akan menggantikan x86. â€œMenjual model 64-bit - kebodohanâ€</a></li>
<li><a href="../id441668/index.html">STM32. Latihan penurunan berat badan atau diet untuk pengontrol</a></li>
<li><a href="../id441674/index.html">Tata letak tes? Mudah</a></li>
<li><a href="../id441678/index.html">Fisika tornado permainan: bagaimana aerodinamika diterapkan di Just Cause 4 (lalu lintas)</a></li>
<li><a href="../id441680/index.html">Lua In Moscow 2019 program konferensi</a></li>
<li><a href="../id441682/index.html">HyperX Fury 3D - SSD dengan silsilah yang jelas</a></li>
<li><a href="../id441684/index.html">Prediksi: awan akan berubah 2019</a></li>
<li><a href="../id441686/index.html">Bagaimana kami menerapkan cache pada basis data Tarantool</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>