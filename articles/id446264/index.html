<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚≠ïÔ∏è üë∏üèª üíñ Pembuatan Kode di Dart. Bagian 2. Anotasi, source_gen dan build_runner üë®üèº‚Äçüç≥ üïµüèø üÖæÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada bagian pertama, kami menemukan mengapa pembuatan kode diperlukan dan mendaftar alat yang diperlukan untuk pembuatan kode di Dart. Pada bagian ked...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pembuatan Kode di Dart. Bagian 2. Anotasi, source_gen dan build_runner</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446264/"><p>  Pada bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pertama,</a> kami menemukan mengapa pembuatan kode diperlukan dan mendaftar alat yang diperlukan untuk pembuatan kode di Dart.  Pada bagian kedua, kita akan belajar cara membuat dan menggunakan anotasi di Dart, serta cara menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">source_gen</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">build_runner</a> untuk memulai pembuatan kode. </p><br><p><img src="https://habrastorage.org/webt/ol/eq/iu/oleqiu6qqryyv2otgwkcpwadrms.png"></p><a name="habracut"></a><br><h1 id="annotacii-v-dart">  Penjelasan Dart </h1><br><p> Anotasi adalah metadata sintaksis yang dapat ditambahkan ke kode.  Dengan kata lain, ini adalah kesempatan untuk menambahkan informasi tambahan ke komponen kode apa pun, misalnya, ke kelas atau metode.  Anotasi banyak digunakan dalam kode Dart: kami menggunakan <code>@required</code> untuk menunjukkan bahwa parameter bernama diperlukan, dan kode kami tidak akan dikompilasi jika parameter anotasi tidak ditentukan.  Kami juga menggunakan <code>@override</code> untuk menunjukkan bahwa API tertentu yang ditentukan dalam kelas induk diimplementasikan dalam kelas anak.  Anotasi selalu dimulai dengan simbol <code>@</code> . </p><br><h3 id="kak-sozdat-svoyu-annotaciyu">  Bagaimana cara membuat anotasi Anda sendiri? </h3><br><p>  Meskipun gagasan menambahkan metadata ke kode terdengar agak eksotis dan rumit, penjelasan adalah salah satu hal paling sederhana dalam bahasa Dart.  Sebelumnya dikatakan bahwa <em>anotasi hanya membawa informasi tambahan</em> .  Mereka mirip dengan <strong>PODO</strong> (Plain Old Dart Objects).  Dan <em>setiap kelas dapat berfungsi sebagai anotasi jika konstruktor <code>const</code> didefinisikan di dalamnya</em> : </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String name; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String todoUrl; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Todo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.name, {</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.todoUrl})</span></span></span><span class="hljs-function"> : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">assert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name != </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">null</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; } <span class="hljs-meta"><span class="hljs-meta">@Todo</span></span>(<span class="hljs-string"><span class="hljs-string">'hello first annotation'</span></span>, todoUrl: <span class="hljs-string"><span class="hljs-string">'https://www.google.com'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloAnnotations</span></span></span><span class="hljs-class"> </span></span>{}</code> </pre> <br><p>  Seperti yang Anda lihat, anotasi sangat sederhana.  Dan yang penting adalah apa yang akan kita lakukan dengan anotasi ini.  Ini akan membantu kami <code>source_gen</code> dan <code>build_runner</code> . </p><br><h3 id="kak-ispolzovat-build_runner">  Bagaimana cara menggunakan build_runner? </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>build_runner</code></a> adalah paket Dart yang akan membantu kami menghasilkan file menggunakan kode Dart.  Kami akan mengonfigurasi file <code>Builder</code> menggunakan <code>build.yaml</code> .  Ketika dikonfigurasi, <code>Builder</code> akan dipanggil pada setiap perintah <code>build</code> atau ketika file diubah.  Kami juga memiliki peluang untuk mem-parsing kode yang telah dimodifikasi atau memenuhi kriteria tertentu. </p><br><h3 id="source_gen-dlya-ponimaniya-dart-koda">  source_gen untuk memahami kode Dart </h3><br><p>  Dalam arti tertentu, <code>build_runner</code> adalah mekanisme yang menjawab pertanyaan " <strong>Kapan</strong> saya perlu membuat kode?"  Pada saat yang sama, <code>source_gen</code> menjawab pertanyaan "Kode <strong>apa yang</strong> harus dihasilkan?".  <code>source_gen</code> menyediakan kerangka kerja untuk membuat <em>Builder</em> agar <code>build_runner</code> berfungsi.  <code>source_gen</code> juga menyediakan API yang mudah digunakan untuk parsing dan menghasilkan kode. </p><br><h1 id="sobiraem-vse-vmeste-todo-report">  Menyatukan semuanya: Laporan TODO </h1><br><p>  Di sisa artikel ini, kami akan <strong>membongkar</strong> proyek <strong>todo_reporter.dart</strong> , yang dapat ditemukan di <a href="">sini</a> . </p><br><p>  Ada aturan tidak tertulis yang diikuti oleh semua proyek yang menggunakan pembuatan kode: Anda perlu membuat <strong>paket yang berisi anotasi</strong> , dan <strong>paket terpisah untuk generator</strong> yang menggunakan anotasi ini.  Informasi tentang cara membuat pustaka paket di Dart / Flutter dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </p><br><p>  Pertama, Anda perlu membuat direktori <code>todo_reporter.dart</code> .  Di dalam direktori ini Anda perlu membuat direktori <code>todo_reporter</code> , yang akan berisi anotasi, direktori <code>todo_reporter_generator</code> untuk memproses anotasi, dan, akhirnya, direktori <code>example</code> berisi demonstrasi kemampuan perpustakaan yang sedang dibuat. </p><br><p>  Sufiks <code>.dart</code> ditambahkan ke nama direktori root untuk kejelasan.  Tentu saja, ini tidak perlu, tetapi saya ingin mengikuti aturan ini untuk secara akurat menunjukkan fakta bahwa paket ini dapat digunakan dalam proyek Dart apa pun.  Sebaliknya, jika saya ingin menunjukkan bahwa paket ini hanya untuk Flutter (seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ozzie.flutter</a> ), saya akan menggunakan akhiran yang berbeda.  Ini tidak perlu, itu hanya konvensi penamaan yang saya coba patuhi. </p><br><h3 id="sozdanie-todo_reporter-nashego-prostogo-paketa-s-annotaciey">  Membuat todo_reporter, paket penjelasan sederhana kami </h3><br><p>  Kita akan membuat <code>todo_reporter</code> di dalam <code>todo_reporter.dart</code> .  Untuk melakukan ini, buat file <code>pubspec.yaml</code> dan direktori <code>lib</code> . </p><br><p>  <code>pubspec.yaml</code> sangat sederhana: </p><br><pre> <code class="plaintext hljs">name: todo_reporter description: Keep track of all your TODOs. version: 1.0.0 author: Jorge Coca &lt;jcocaramos@gmail.com&gt; homepage: https://github.com/jorgecoca/todo_reporter.dart environment: sdk: "&gt;=2.0.0 &lt;3.0.0" dependencies: dev_dependencies: test: 1.3.4</code> </pre> <br><p>  Tidak ada dependensi kecuali untuk paket <code>test</code> yang digunakan dalam proses pengembangan. </p><br><p>  Di direktori <code>lib</code> , lakukan hal berikut: </p><br><ul><li>  Anda perlu membuat file <code>todo_reporter.dart</code> , di mana, menggunakan <code>export</code> , semua kelas yang memiliki API publik akan ditentukan.  Ini adalah praktik yang baik, karena setiap kelas dalam paket kami dapat diimpor menggunakan <code>import 'package:todo_reporter/todo_reporter.dart';</code>  .  Anda dapat melihat kelas ini di <a href="">sini</a> . </li><li>  Di dalam direktori <code>lib</code> , kita akan membuat direktori <code>src</code> berisi semua kode - publik dan non-publik. </li></ul><br><p>  Dalam kasus kami, semua yang perlu kami tambahkan adalah anotasi.  Mari kita buat file <code>todo.dart</code> dengan anotasi kami: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Todo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String name; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String todoUrl; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Todo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.name, {</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.todoUrl})</span></span></span><span class="hljs-function"> : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">assert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name != </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">null</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; }</code> </pre> <br><p>  Jadi hanya itu yang diperlukan untuk membuat catatan.  Saya mengatakan bahwa itu akan sederhana.  Tapi itu belum semuanya.  Mari menambahkan tes unit ke direktori <code>test</code> : </p><br><div class="spoiler">  <b class="spoiler_title">todo_test.dart</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:test/test.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:todo_reporter/todo_reporter.dart'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ group(<span class="hljs-string"><span class="hljs-string">'Todo annotation'</span></span>, () { test(<span class="hljs-string"><span class="hljs-string">'must have a non-null name'</span></span>, () { expect(() =&gt; Todo(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>), throwsA(TypeMatcher&lt;AssertionError&gt;())); }); test(<span class="hljs-string"><span class="hljs-string">'does not need to have a todoUrl'</span></span>, () { <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> todo = Todo(<span class="hljs-string"><span class="hljs-string">'name'</span></span>); expect(todo.todoUrl, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); }); test(<span class="hljs-string"><span class="hljs-string">'if it is a given a todoUrl, it will be part of the model'</span></span>, () { <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> givenUrl = <span class="hljs-string"><span class="hljs-string">'http://url.com'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> todo = Todo(<span class="hljs-string"><span class="hljs-string">'name'</span></span>, todoUrl: givenUrl); expect(todo.todoUrl, givenUrl); }); }); }</code> </pre> </div></div><br><p>  Ini yang kita butuhkan untuk membuat anotasi.  Anda dapat menemukan kode di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Sekarang kita bisa pergi ke generator. </p><br><h3 id="delaem-klassnuyu-rabotu-todo_reporter_generator">  Membuat pekerjaan keren: todo_reporter_generator </h3><br><p>  Sekarang kita tahu cara membuat paket, mari kita buat paket <code>todo_reporter_generator</code> .  Di dalam paket ini harus ada <code>build.yaml</code> dan <code>build.yaml</code> dan direktori <code>lib</code> .  Direktori <code>lib</code> harus memiliki direktori <code>src</code> dan file <code>builder.dart</code> .  <code>todo_reporter_generator</code> kami dianggap sebagai paket terpisah yang akan ditambahkan sebagai <code>dev_dependency</code> ke proyek lain.  Ini karena pembuatan kode hanya diperlukan pada tahap pengembangan, dan tidak perlu ditambahkan ke aplikasi yang sudah selesai. </p><br><p>  <code>pubspec.yaml</code> sebagai berikut: </p><br><pre> <code class="plaintext hljs">name: todo_reporter_generator description: An annotation processor for @Todo annotations. version: 1.0.0 author: Jorge Coca &lt;jcocaramos@gmail.com&gt; homepage: https://github.com/jorgecoca/todo_reporter.dart environment: sdk: "&gt;=2.0.0 &lt;3.0.0" dependencies: build: '&gt;=0.12.0 &lt;2.0.0' source_gen: ^0.9.0 todo_reporter: path: ../todo_reporter/ dev_dependencies: build_test: ^0.10.0 build_runner: '&gt;=0.9.0 &lt;0.11.0' test: ^1.0.0</code> </pre> <br><p>  Sekarang mari kita buat <code>build.yaml</code> .  File ini berisi konfigurasi yang diperlukan untuk <em>Pembangun</em> kami.  Rincian lebih lanjut dapat ditemukan di <a href="">sini</a> .  <code>build.yaml</code> sebagai berikut: </p><br><pre> <code class="plaintext hljs">targets: $default: builders: todo_reporter_generator|todo_reporter: enabled: true builders: todo_reporter: target: ":todo_reporter_generator" import: "package:todo_reporter_generator/builder.dart" builder_factories: ["todoReporter"] build_extensions: {".dart": [".todo_reporter.g.part"]} auto_apply: dependents build_to: cache applies_builders: ["source_gen|combining_builder"]</code> </pre> <br><p>  Properti <code>import</code> menunjuk ke file yang berisi <code>Builder</code> , dan properti <code>builder_factories</code> menunjuk ke metode yang akan menghasilkan kode. </p><br><p>  Sekarang kita dapat membuat file <code>builder.dart</code> di direktori <code>lib</code> : </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:build/build.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:source_gen/source_gen.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:todo_reporter_generator/src/todo_reporter_generator.dart'</span></span>; <span class="hljs-function"><span class="hljs-function">Builder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">todoReporter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuilderOptions options)</span></span></span><span class="hljs-function"> </span></span>=&gt; SharedPartBuilder([TodoReporterGenerator()], <span class="hljs-string"><span class="hljs-string">'todo_reporter'</span></span>);</code> </pre> <br><p>  Dan file <code>todo_reporter_generator.dart</code> di direktori <code>src</code> : </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'dart:async'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:analyzer/dart/element/element.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:build/src/builder/build_step.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:source_gen/source_gen.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:todo_reporter/todo_reporter.dart'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TodoReporterGenerator</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GeneratorForAnnotation</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Todo</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">FutureOr&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateForAnnotatedElement</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( Element element, ConstantReader annotation, BuildStep buildStep)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"// Hey! Annotation found!"</span></span>; } }</code> </pre> <br><p>  Seperti yang Anda lihat, dalam file <code>builder.dart</code> kami mendefinisikan metode <code>todoReporter</code> yang dibuat oleh <code>Builder</code> .  <code>Builder</code> dibuat menggunakan <code>SharedPartBuilder</code> , yang menggunakan <code>TodoReporterGenerator</code> kami.  Jadi <code>build_runner</code> dan <code>source_gen</code> bekerja bersama. </p><br><p>  <code>TodoReporterGenerator</code> kami adalah subkelas dari <code>GeneratorForAnnotation</code> , jadi metode <code>generateForAnnotatedElement</code> hanya akan dieksekusi ketika anotasi ini ( <code>@Todo</code> dalam kasus kami) ditemukan dalam kode. </p><br><p>  Metode <code>generateForAnnotatedElement</code> mengembalikan string yang berisi kode yang kami hasilkan.  <strong>Jika kode yang dihasilkan tidak dikompilasi, maka seluruh fase build akan gagal</strong> .  Ini sangat berguna karena menghindari kesalahan di masa depan. </p><br><p>  Jadi, dengan setiap pembuatan kode, <code>todo_repoter_generator</code> kami akan membuat file <code>part</code> , dengan komentar <code>// Hey! Annotation found!</code> <code>// Hey! Annotation found!</code>  Pada artikel selanjutnya, kita akan belajar cara memproses anotasi. </p><br><h1 id="sobiraem-vse-vmeste-ispolzovanie-todo_reporter">  Menyatukan semuanya: menggunakan todo_reporter </h1><br><p>  Sekarang Anda dapat mendemonstrasikan cara <code>todo_reporter.dart</code> .  Merupakan praktik yang baik untuk menambahkan <code>example</code> proyek saat bekerja dengan paket.  Jadi pengembang lain akan dapat melihat bagaimana API dapat digunakan dalam proyek nyata. </p><br><p>  Mari kita membuat proyek dan menambahkan dependensi yang diperlukan ke <code>pubspec.yaml</code> .  Dalam kasus kami, kami akan membuat proyek Flutter di dalam direktori <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>example</code></a> dan menambahkan dependensi: </p><br><pre> <code class="plaintext hljs">dependencies: flutter: sdk: flutter todo_reporter: path: ../todo_reporter/ dev_dependencies: build_runner: 1.0.0 flutter_test: sdk: flutter todo_reporter_generator: path: ../todo_reporter_generator/</code> </pre> <br><p>  Setelah menerima paket (paket <code>flutter packages get</code> ) kita dapat menggunakan anotasi kami: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:todo_reporter/todo_reporter.dart'</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Todo</span></span>(<span class="hljs-string"><span class="hljs-string">'Complete implementation of TestClass'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestClass</span></span></span><span class="hljs-class"> </span></span>{}</code> </pre> <br><p>  Sekarang semuanya sudah di tempat, jalankan generator kami: </p><br><pre> <code class="bash hljs">$ flutter packages pub run build_runner build</code> </pre> <br><p>  Setelah perintah selesai, Anda akan melihat file baru di proyek kami: <code>todo.g.dart</code> .  Ini akan berisi yang berikut: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// GENERATED CODE - DO NOT MODIFY BY HAND part of 'todo.dart'; // ***************************************************************** // TodoReporterGenerator // ******************************************************************** // Hey! Annotation found!</span></span></code> </pre> <br><p>  Kami mencapai apa yang kami inginkan!  Sekarang kita dapat menghasilkan file Dart yang benar untuk setiap anotasi <code>@Todo</code> dalam kode kita.  Coba dan buat sebanyak yang Anda butuhkan. </p><br><h1 id="v-sleduyuschey-state">  Di artikel selanjutnya </h1><br><p>  Sekarang kami memiliki pengaturan yang benar untuk menghasilkan file.  Pada artikel selanjutnya, kita akan belajar cara menggunakan anotasi sehingga kode yang dihasilkan dapat melakukan hal-hal yang sangat keren.  Bagaimanapun, kode yang sedang dibuat sekarang tidak masuk akal. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id446264/">https://habr.com/ru/post/id446264/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id446242/index.html">Penundaan sebagai alat untuk perjalanan waktu</a></li>
<li><a href="../id446244/index.html">Ekstensi Chrome untuk pengembangan web dan bekerja dengan GitHub</a></li>
<li><a href="../id446252/index.html">Menyimpan partisi di Debian ketika terjadi kesalahan</a></li>
<li><a href="../id446254/index.html">Cara cepat meningkatkan jaringan nirkabel Anda</a></li>
<li><a href="../id446258/index.html">Teknik pengembang seluler Jedi: bagaimana cara memonetisasi aplikasi pada 2019?</a></li>
<li><a href="../id446266/index.html">Bola lampu biokimia</a></li>
<li><a href="../id446272/index.html">Berapa biaya OpenSource</a></li>
<li><a href="../id446276/index.html">Misi Chang'e-4 adalah hari keempat bulan untuk pendarat dan penjelajah Yutu-2. Tentang kamera dan pengontrol pada perangkat</a></li>
<li><a href="../id446278/index.html">Peran Sistem IGF-1 dalam Modulasi Umur Panjang: Kontradiksi dan Pemahaman Baru dari Perspektif Centenarian</a></li>
<li><a href="../id446280/index.html">Bagian Ilmu Pengetahuan di DUMP: Perluas Cakrawala Anda</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>