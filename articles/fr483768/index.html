<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßîüèº ü§† üßõüèø MVCC dans PostgreSQL-5. Mises √† jour sous vide et HOT üò™ üë©üèæ‚Äçü§ù‚Äçüë®üèª üåßÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Juste pour vous rappeler, nous avons d√©j√† discut√© des probl√®mes li√©s √† l' isolement , fait une digression concernant la structure des donn√©es de bas n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MVCC dans PostgreSQL-5. Mises √† jour sous vide et HOT</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/483768/">  Juste pour vous rappeler, nous avons d√©j√† discut√© des probl√®mes li√©s √† l' <a href="https://habr.com/ru/company/postgrespro/blog/467437/">isolement</a> , fait une digression concernant <a href="https://habr.com/ru/company/postgrespro/blog/469087/">la structure des donn√©es de bas niveau</a> , puis explor√© les <a href="https://habr.com/ru/company/postgrespro/blog/477648/">versions des lignes</a> et observ√© comment <a href="https://habr.com/ru/company/postgrespro/blog/479512/">les instantan√©s de donn√©es</a> sont obtenus √† partir des versions des lignes. <br><br>  Nous allons maintenant passer √† deux probl√®mes √©troitement li√©s: le <em>vide sur la page</em> et les <em>mises √† jour HOT</em> .  Les deux techniques peuvent √™tre appel√©es optimisations;  ils sont importants, mais pratiquement pas couverts dans la documentation. <br><br><h1>  Vide sur la page lors des mises √† jour r√©guli√®res </h1><br>  Lorsque vous acc√©dez √† une page pour une mise √† jour ou une lecture, si PostgreSQL comprend que la page manque d'espace, il peut faire un vide rapide dans la page.  Cela se produit dans l'un ou l'autre des cas: <br><br><ol><li>  Une mise √† jour pr√©c√©dente dans cette page n'a pas trouv√© suffisamment d'espace pour allouer une nouvelle version de ligne dans la m√™me page.  Une telle situation est m√©moris√©e dans l'en-t√™te de la page et la prochaine fois que la page est nettoy√©e. </li><li> La page est remplie √† plus de <code>fillfactor</code> pour cent.  Dans ce cas, le vide est effectu√© imm√©diatement sans remettre √† plus tard. </li></ol><a name="habracut"></a><br>  <code>fillfactor</code> est un param√®tre de stockage qui peut √™tre d√©fini pour une table (et pour un index).  PostgresSQL ins√®re une nouvelle ligne dans une page uniquement si la page est inf√©rieure au pourcentage <code>fillfactor</code> .  L'espace restant est r√©serv√© aux nouveaux tuples cr√©√©s √† la suite de mises √† jour.  La valeur par d√©faut pour les tables est 100, c'est-√†-dire qu'aucun espace n'est r√©serv√© (et la valeur par d√©faut pour les index est 90). <br><br>  Le vide sur la page supprime les tuples qui ne sont pas visibles dans aucun instantan√© (ceux qui sont au-del√† de l'horizon de transaction de la base de donn√©es, qui a √©t√© discut√© la <a href="https://habr.com/ru/company/postgrespro/blog/479512/">derni√®re fois</a> ), mais le fait strictement dans une page de table.  Les pointeurs vers des tuples aspir√©s ne sont pas lib√©r√©s car ils peuvent √™tre r√©f√©renc√©s √† partir d'index et un index se trouve dans une autre page.  L'espace sur la page n'atteint jamais plus d'une page de table, mais fonctionne tr√®s rapidement. <br><br>  Pour les m√™mes raisons, la carte d'espace libre n'est pas mise √† jour;  cela r√©serve √©galement l'espace suppl√©mentaire pour les mises √† jour plut√¥t que pour les insertions.  La carte de visibilit√© n'est pas non plus mise √† jour. <br><br>  Le fait qu'une page puisse √™tre nettoy√©e pendant les lectures signifie qu'une requ√™te SELECT peut entra√Æner le changement de pages.  Il s'agit d'un cas de plus comme celui-ci, en plus d'un changement diff√©r√© de bits d'indication, discut√© pr√©c√©demment. <br><br>  Prenons un exemple de son fonctionnement.  Cr√©ons une table et des index sur les deux colonnes. <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> hot(id <span class="hljs-type"><span class="hljs-type">integer</span></span>, s <span class="hljs-type"><span class="hljs-type">char</span></span>(<span class="hljs-number"><span class="hljs-number">2000</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (fillfactor = <span class="hljs-number"><span class="hljs-number">75</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> hot_id <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> hot(id); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> hot_s <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> hot(s);</code> </pre><br>  Si la colonne <code>s</code> ne stocke que des caract√®res latins, chaque version de ligne occupera 2004 octets plus 24 octets d'un en-t√™te.  Nous avons d√©fini le <code>fillfactor</code> stockage <code>fillfactor</code> √† 75%, ce qui r√©serve juste assez d'espace pour trois lignes. <br><br>  Pour examiner commod√©ment le contenu de la page du tableau, recr√©ons une fonction d√©j√† famili√®re en ajoutant deux champs suppl√©mentaires √† la sortie: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> heap_page(relname <span class="hljs-type"><span class="hljs-type">text</span></span>, pageno <span class="hljs-type"><span class="hljs-type">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span>(ctid tid, state <span class="hljs-type"><span class="hljs-type">text</span></span>, xmin <span class="hljs-type"><span class="hljs-type">text</span></span>, xmax <span class="hljs-type"><span class="hljs-type">text</span></span>, hhu <span class="hljs-type"><span class="hljs-type">text</span></span>, hot <span class="hljs-type"><span class="hljs-type">text</span></span>, t_ctid tid) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $$<span class="pgsql"><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">SELECT</span></span></span><span class="pgsql"> (pageno,lp)::</span><span class="hljs-type"><span class="pgsql"><span class="hljs-type">text</span></span></span><span class="pgsql">::tid </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> ctid, </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">CASE</span></span></span><span class="pgsql"> lp_flags </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'unused'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">1</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'normal'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">2</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'redirect to '</span></span></span><span class="pgsql">||lp_off </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">3</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'dead'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">END</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> state, t_xmin || </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">CASE</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">256</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">' (c)'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">512</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">' (a)'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">ELSE</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">''</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">END</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> xmin, t_xmax || </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">CASE</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">1024</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">' (c)'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">2048</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">' (a)'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">ELSE</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">''</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">END</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> xmax, </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">CASE</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask2 &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">16384</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'t'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">END</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> hhu, </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">CASE</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask2 &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">32768</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'t'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">END</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> hot, t_ctid </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">FROM</span></span></span><span class="pgsql"> heap_page_items(get_raw_page(relname,pageno)) </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">ORDER</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">BY</span></span></span><span class="pgsql"> lp; $$</span><span class="undefined"></span></span><span class="pgsql"><span class="undefined"></span></span> <span class="hljs-keyword"><span class="hljs-keyword">LANGUAGE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span>;</code> </pre><br>  Cr√©ons √©galement une fonction pour examiner la page d'index: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> index_page(relname <span class="hljs-type"><span class="hljs-type">text</span></span>, pageno <span class="hljs-type"><span class="hljs-type">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span>(itemoffset <span class="hljs-type"><span class="hljs-type">smallint</span></span>, ctid tid) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $$<span class="pgsql"><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">SELECT</span></span></span><span class="pgsql"> itemoffset, ctid </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">FROM</span></span></span><span class="pgsql"> bt_page_items(relname,pageno); $$</span><span class="undefined"></span></span><span class="pgsql"><span class="undefined"></span></span> <span class="hljs-keyword"><span class="hljs-keyword">LANGUAGE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span>;</code> </pre><br>  V√©rifions le fonctionnement du vide sur la page.  Pour ce faire, nous ins√©rons une ligne et la modifions plusieurs fois: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'A'</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'B'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'C'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'D'</span></span>;</code> </pre><br>  Il y a maintenant quatre tuples dans la page: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+----------+-----+-----+-------- (0,1) | normal | 3979 (c) | 3980 (c) | | | (0,2) (0,2) | normal | 3980 (c) | 3981 (c) | | | (0,3) (0,3) | normal | 3981 (c) | 3982 | | | (0,4) (0,4) | normal | 3982 | 0 (a) | | | (0,4) (4 rows)</code> </pre><br>  Comme pr√©vu, nous venons de d√©passer le seuil <code>fillfactor</code> .  Cela ressort clairement de la diff√©rence entre la <code>pagesize</code> la <code>pagesize</code> et <code>upper</code> valeurs <code>upper</code> : elle d√©passe le seuil √©gal √† 75% de la taille de la page, ce qui fait 6144 octets. <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> lower, upper, pagesize <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> page_header(get_raw_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>));</code> </pre><pre> <code class="plaintext hljs"> lower | upper | pagesize -------+-------+---------- 40 | 64 | 8192 (1 row)</code> </pre><br>  Ainsi, lorsque la page sera consult√©e la prochaine fois, un vide sur la page devra se produire.  V√©rifions cela. <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'E'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+-------+-----+-----+-------- (0,1) | dead | | | | | (0,2) | dead | | | | | (0,3) | dead | | | | | (0,4) | normal | 3982 (c) | 3983 | | | (0,5) (0,5) | normal | 3983 | 0 (a) | | | (0,5) (5 rows)</code> </pre><br>  Tous les tuples morts (0,1), (0,2) et (0,3) sont aspir√©s;  apr√®s cela, un nouveau tuple (0,5) est ajout√© dans l'espace lib√©r√©. <br><br>  Les tuples qui ont surv√©cu √† l'aspirateur sont physiquement d√©plac√©s vers les adresses √©lev√©es de la page de sorte que tout l'espace libre est repr√©sent√© par une zone continue.  Les valeurs des pointeurs sont modifi√©es en cons√©quence.  Gr√¢ce √† cela, aucun probl√®me ne se pose avec la fragmentation de l'espace libre dans une page. <br><br>  Les pointeurs vers des tuples aspir√©s ne peuvent pas √™tre lib√©r√©s car ils sont r√©f√©renc√©s √† partir de la page d'index.  Regardons la premi√®re page de l'index <code>hot_s</code> (car la page z√©ro est occup√©e par la m√©tainformation): <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'hot_s'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (0,1) 2 | (0,2) 3 | (0,3) 4 | (0,4) 5 | (0,5) (5 rows)</code> </pre><br>  Nous voyons √©galement la m√™me image dans l'autre index: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'hot_id'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (0,5) 2 | (0,4) 3 | (0,3) 4 | (0,2) 5 | (0,1) (5 rows)</code> </pre><br>  Vous remarquerez peut-√™tre que les pointeurs vers les lignes du tableau suivent ici dans un ordre inverse, mais cela ne fait aucune diff√©rence puisque tous les tuples ont la m√™me valeur: id = 1.  Mais dans l'index pr√©c√©dent, les pointeurs sont class√©s par les valeurs de <code>s</code> , ce qui est essentiel. <br><br>  Avec l'acc√®s √† l'index, PostgreSQL peut obtenir (0,1), (0,2) ou (0,3) comme identificateurs de tuple.  Il essaiera alors d'obtenir la version de ligne appropri√©e √† partir de la page du tableau, mais en raison de l'√©tat "mort" du pointeur, PostgreSQL d√©couvrira qu'une telle version n'existe plus et l'ignorera.  (En fait, apr√®s avoir d√©couvert une fois que la version d'une ligne de table n'est pas disponible, PostgreSQL changera l'√©tat du pointeur dans la page d'index afin de ne plus acc√©der √† la page de table.) <br><br>  Il est essentiel que le vide dans la page ne fonctionne que dans une seule page de table et ne vide pas les pages d'index. <br><br><h1>  Mises √† jour CHAUDES </h1><br>  Pourquoi est-il inutile de stocker des r√©f√©rences √† toutes les versions de lignes dans l'index? <br><br>  Tout d'abord, pour tout changement de ligne, tous les index cr√©√©s pour la table doivent √™tre mis √† jour: une fois qu'une nouvelle version a √©t√© cr√©√©e, elle doit √™tre r√©f√©renc√©e.  Et nous devons le faire dans tous les cas, m√™me si les champs modifi√©s ne sont pas index√©s.  Ce n'est √©videmment pas tr√®s efficace. <br><br>  Deuxi√®mement, les index accumulent des r√©f√©rences √† des tuples historiques, qui doivent ensuite √™tre aspir√©s avec les tuples eux-m√™mes (nous discuterons un peu plus tard comment cela est fait). <br><br>  De plus, B-tree dans PostgreSQL a les sp√©cificit√©s de l'impl√©mentation.  Si une page d'index n'a pas suffisamment d'espace pour ins√©rer une nouvelle ligne, la page est divis√©e en deux et toutes les donn√©es sont r√©parties entre elles.  C'est ce qu'on appelle un fractionnement d'une page.  Cependant, lorsque des lignes sont supprim√©es, les deux pages d'index ne sont pas fusionn√©es en une seule.  Pour cette raison, la taille de l'index peut ne pas r√©duire m√™me si une partie importante des donn√©es est supprim√©e. <br><br>  Naturellement, plus les index sont cr√©√©s sur une table, plus les complexit√©s sont rencontr√©es. <br><br>  Cependant, si une valeur est modifi√©e dans une colonne qui n'est pas du tout index√©e, il n'est pas logique de cr√©er une ligne d'arbre B suppl√©mentaire qui contient la m√™me valeur de la cl√©.  C'est exactement ainsi que fonctionne l'optimisation appel√©e <em>HOT update</em> (Heap-Only Tuple update). <br><br>  Lors de cette mise √† jour, la page d'index ne contient qu'une seule ligne, qui fait r√©f√©rence √† la toute premi√®re version de la ligne dans la page de table.  Et c'est d√©j√† √† l'int√©rieur de la page du tableau, qu'une cha√Æne de tuples est organis√©e: <br><br><ul><li>  Les lignes mises √† jour qui sont dans la cha√Æne sont √©tiquet√©es avec le bit Heap Hot Updated. </li><li>  Les lignes qui ne sont pas r√©f√©renc√©es √† partir de l'index sont √©tiquet√©es avec le bit de segment de m√©moire uniquement. </li><li>  Comme d'habitude, les versions de ligne sont li√©es via le champ <code>ctid</code> . </li></ul><br>  Si pendant l'analyse d'index, PostgreSQL acc√®de √† une page de table et trouve un tuple appel√© Heap Hot Updated, il comprend qu'il ne doit pas s'arr√™ter, mais doit suivre la cha√Æne HOT, en tenant compte de chaque tuple.  Certes, pour tous les tuples ainsi obtenus, la visibilit√© est v√©rifi√©e avant de les renvoyer au client. <br><br>  Pour observer le fonctionnement d'une mise √† jour HOT, supprimons un index et effa√ßons la table. <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> hot_s; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">TRUNCATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> hot;</code> </pre><br>  Maintenant, nous refaisons l'insertion et la mise √† jour d'une ligne. <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'A'</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'B'</span></span>;</code> </pre><br>  Et voici ce que nous voyons dans la page du tableau: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+-------+-----+-----+-------- (0,1) | normal | 3986 (c) | 3987 | t | | (0,2) (0,2) | normal | 3987 | 0 (a) | | t | (0,2) (2 rows)</code> </pre><br>  Il y a une cha√Æne de changements dans la page: <br><br><ul><li>  L'indicateur Heap Hot Updated indique que la cha√Æne <code>ctid</code> doit √™tre suivie. </li><li>  L'indicateur Heap Only Tuple indique que ce tuple n'est pas r√©f√©renc√© √† partir des index. </li></ul><br>  La cha√Æne se d√©veloppera (dans la page) avec d'autres modifications: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'C'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'D'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+----------+-----+-----+-------- (0,1) | normal | 3986 (c) | 3987 (c) | t | | (0,2) (0,2) | normal | 3987 (c) | 3988 (c) | t | t | (0,3) (0,3) | normal | 3988 (c) | 3989 | t | t | (0,4) (0,4) | normal | 3989 | 0 (a) | | t | (0,4) (4 rows)</code> </pre><br>  Mais il n'y a qu'une seule r√©f√©rence √† la t√™te de cha√Æne dans l'index: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'hot_id'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (0,1) (1 row)</code> </pre><br>  Pour souligner, les mises √† jour HOT fonctionnent dans le cas o√π les champs √† mettre √† jour ne sont pas du tout index√©s.  Sinon, certains index contiendraient une r√©f√©rence directement √† une nouvelle version de ligne, ce qui est incompatible avec le concept de cette optimisation. <br><br>  L'optimisation ne fonctionne que sur une seule page et, par cons√©quent, une marche suppl√©mentaire dans la cha√Æne n'a pas besoin d'acc√©der √† d'autres pages et n'affecte pas les performances. <br><br><h1>  Vide sur la page pendant les mises √† jour HOT </h1><br>  Passer l'aspirateur pendant les mises √† jour HOT est un cas sp√©cial mais important de vide sur la page. <br><br>  Comme pr√©c√©demment, nous avons d√©j√† d√©pass√© le seuil <code>fillfactor</code> , donc la prochaine mise √† jour doit provoquer un vide dans la page.  Mais cette fois, il y a une cha√Æne de mises √† jour dans la page.  La t√™te de cette cha√Æne HOT doit toujours rester o√π elle est puisqu'elle est r√©f√©renc√©e par l'index, tandis que les autres pointeurs peuvent √™tre lib√©r√©s: ils sont connus pour n'avoir aucune r√©f√©rence de l'ext√©rieur. <br><br>  Afin de ne pas toucher le pointeur de t√™te, un adressage indirect est utilis√©: le pointeur r√©f√©renc√© par l'index - (0,1) dans ce cas - acquiert le statut de "redirection", qui redirige vers le tuple appropri√©. <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'E'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+---------------+----------+-------+-----+-----+-------- (0,1) | redirect to 4 | | | | | (0,2) | normal | 3990 | 0 (a) | | t | (0,2) (0,3) | unused | | | | | (0,4) | normal | 3989 (c) | 3990 | t | t | (0,2) (4 rows)</code> </pre><br>  Notez que: <br><br><ul><li>  Les tuples (0,1), (0,2) et (0,3) ont √©t√© aspir√©s. </li><li>  Le pointeur de t√™te (0,1) reste, mais il a acquis le statut de "redirection". </li><li>  La nouvelle version de ligne a √©cras√© (0,2) car il n'y avait aucune r√©f√©rence √† ce tuple √† coup s√ªr, et le pointeur a √©t√© lib√©r√© (√©tat "inutilis√©"). </li></ul><br>  Faisons une mise √† jour plusieurs fois de plus: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'F'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'G'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+---------------+----------+----------+-----+-----+-------- (0,1) | redirect to 4 | | | | | (0,2) | normal | 3990 (c) | 3991 (c) | t | t | (0,3) (0,3) | normal | 3991 (c) | 3992 | t | t | (0,5) (0,4) | normal | 3989 (c) | 3990 (c) | t | t | (0,2) (0,5) | normal | 3992 | 0 (a) | | t | (0,5) (5 rows)</code> </pre><br>  La prochaine mise √† jour provoque √† nouveau le nettoyage de la page: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'H'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+---------------+----------+-------+-----+-----+-------- (0,1) | redirect to 5 | | | | | (0,2) | normal | 3993 | 0 (a) | | t | (0,2) (0,3) | unused | | | | | (0,4) | unused | | | | | (0,5) | normal | 3992 (c) | 3993 | t | t | (0,2) (5 rows)</code> </pre><br>  Encore une fois, certains des tuples sont aspir√©s et le pointeur vers la t√™te de la cha√Æne est d√©plac√© en cons√©quence. <br><br>  Conclusion: si les colonnes qui ne sont pas index√©es sont fr√©quemment mises √† jour, il peut √™tre judicieux de r√©duire le param√®tre <code>fillfactor</code> afin de r√©server un espace de page pour les mises √† jour.  Nous devons toutefois tenir compte du fait que moins il y a de <code>fillfactor</code> , plus il y a d'espace libre dans une page, donc la taille physique de la table augmente. <br><br><h1>  Rupture d'une cha√Æne HOT </h1><br>  Si la page manque d'espace libre pour allouer un nouveau tuple, la cha√Æne se cassera.  Et nous devrons faire une r√©f√©rence distincte de l'index √† la version de ligne situ√©e dans une page diff√©rente. <br><br>  Pour reproduire cette situation, commen√ßons une transaction simultan√©e et construisons l'instantan√© de donn√©es dedans. <br><br><pre> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ISOLATION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LEVEL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPEATABLE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">READ</span></span>; | =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> count(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> hot;</code> </pre><pre> <code class="plaintext hljs">| count | ------- | 1 | (1 row)</code> </pre><br>  L'instantan√© ne permettra pas de passer l'aspirateur sur les tuples de la page.  Faisons maintenant une mise √† jour dans la premi√®re session: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'I'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'J'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'K'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+---------------+----------+----------+-----+-----+-------- (0,1) | redirect to 2 | | | | | (0,2) | normal | 3993 (c) | 3994 (c) | t | t | (0,3) (0,3) | normal | 3994 (c) | 3995 (c) | t | t | (0,4) (0,4) | normal | 3995 (c) | 3996 | t | t | (0,5) (0,5) | normal | 3996 | 0 (a) | | t | (0,5) (5 rows)</code> </pre><br>  Lors de la prochaine mise √† jour, la page n'aura pas assez d'espace, mais le vide dans la page ne pourra rien nettoyer: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'L'</span></span>;</code> </pre><br><pre> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-comment"><span class="hljs-comment">-- snapshot no longer needed</span></span></code> </pre><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+---------------+----------+----------+-----+-----+-------- (0,1) | redirect to 2 | | | | | (0,2) | normal | 3993 (c) | 3994 (c) | t | t | (0,3) (0,3) | normal | 3994 (c) | 3995 (c) | t | t | (0,4) (0,4) | normal | 3995 (c) | 3996 (c) | t | t | (0,5) (0,5) | normal | 3996 (c) | 3997 | | t | (1,1) (5 rows)</code> </pre><br>  Dans le tuple (0,5), il y a une r√©f√©rence √† (1,1), qui se trouve √† la page 1. <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+------+-------+-----+-----+-------- (1,1) | normal | 3997 | 0 (a) | | | (1,1) (1 row)</code> </pre><br>  Il y a maintenant deux lignes dans l'index, chacune pointant vers le d√©but de sa cha√Æne HOT: <br><br><pre> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'hot_id'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (1,1) 2 | (0,1) (2 rows)</code> </pre><br><blockquote>  Malheureusement, la documentation manque pratiquement d'informations sur le vide sur la page et les mises √† jour HOT, et vous devez rechercher des r√©ponses dans le code source.  Je vous conseille de commencer par <a href="https://git.postgresql.org/gitweb/%3Fp%3Dpostgresql.git%3Ba%3Dblob%3Bf%3Dsrc/backend/access/heap/README.HOT%3Bhb%3DHEAD">README.HOT</a> . <br></blockquote><br>  <a href="https://habr.com/ru/company/postgrespro/blog/484106/">Continuez √† lire</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr483768/">https://habr.com/ru/post/fr483768/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr483754/index.html">Comment mesurer l'am√©lioration de l'√©quipe?</a></li>
<li><a href="../fr483756/index.html">Nous faisons des requ√™tes HTTP, d√©gradons gracieusement (et pas un seul √©cart)</a></li>
<li><a href="../fr483758/index.html">Les 10 premi√®res entreprises de d√©veloppement d'applications mobiles peuvent s'associer en 2020</a></li>
<li><a href="../fr483762/index.html">GitLab 12.6 publi√© avec les cotes de s√©curit√© du projet et les documents de sortie</a></li>
<li><a href="../fr483766/index.html">Les tribunaux comme outil de piratage social ou un peu sur la fiabilit√© des informations dans les bases de donn√©es WHOIS</a></li>
<li><a href="../fr483770/index.html">Vers l'automatisation SSL</a></li>
<li><a href="../fr483774/index.html">Le condens√© des √©v√©nements pour les professionnels des RH en informatique pour janvier 2020</a></li>
<li><a href="../fr483776/index.html">Introduction √† la m√©thode diff√©rentielle s√©mantique en 5 minutes</a></li>
<li><a href="../fr483778/index.html">Semaine de la s√©curit√© 03: Principes responsables de rapport de bogue</a></li>
<li><a href="../fr483780/index.html">Qu'est-ce que Slack et comment √ßa marche?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>