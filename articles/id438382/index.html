<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∞üèΩ ‚úîÔ∏è üõÄüèª Organisasi pencarian di halaman web dalam JavaScript (tanpa jQuery) üñ®Ô∏è ü•ì üßëüèª‚Äçü§ù‚Äçüßëüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Beberapa hari yang lalu saya menerima tugas uji dari perusahaan untuk lowongan Front-end dev. Tentu saja, tugas itu terdiri dari beberapa poin. Tapi s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Organisasi pencarian di halaman web dalam JavaScript (tanpa jQuery)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438382/">  Beberapa hari yang lalu saya menerima tugas uji dari perusahaan untuk lowongan Front-end dev.  Tentu saja, tugas itu terdiri dari beberapa poin.  Tapi sekarang kita akan fokus hanya pada salah satunya - organisasi pencarian di halaman.  Yaitu  pencarian dangkal oleh teks yang dimasukkan di bidang (analog Ctrl + F di browser).  Keunikan penugasan adalah bahwa penggunaan kerangka kerja JS atau pustaka dilarang.  <strong>Semua menulis dalam JavaScript asli asli</strong> . <br><br>  <i>(Untuk kejelasan, saya akan terus menemani seluruh artikel dengan tangkapan layar dan kode, sehingga Anda dan saya akan mengerti apa yang sedang kita bicarakan pada saat tertentu)</i> <br><a name="habracut"></a><br><h2>  Menemukan solusi </h2><br>  Pikiran pertama: seseorang telah menulis ini dengan tepat, Anda perlu google dan copy-paste.  Jadi saya lakukan.  Dalam satu jam, saya menemukan dua skrip yang bagus yang pada dasarnya bekerja dengan cara yang sama, tetapi ditulis berbeda.  Saya memilih kode yang saya pahami dengan lebih baik dan dimasukkan ke halaman orang tua saya. <br><br>  <i>Jika ada yang tertarik, saya mengambil kodenya di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .</i> <br><br>  Script segera bekerja.  Saya pikir masalahnya sudah selesai, tetapi ternyata, tidak ada pelanggaran bagi penulis naskah, ada cacat besar di dalamnya.  Script mencari seluruh konten tag <code>...</code> dan, seperti yang mungkin sudah Anda tebak, ketika mencari kombinasi karakter yang menyerupai tag atau atributnya, seluruh halaman HTML pecah. <br><br><h2>  Mengapa skrip tidak berfungsi dengan benar? </h2><br>  Semuanya sederhana.  Script berfungsi sebagai berikut.  Pertama, kami menuliskan seluruh konten tag <strong>tubuh</strong> ke dalam variabel, lalu mencari kecocokan dengan ekspresi reguler (pengguna menyetelnya saat memasukkan ke dalam bidang teks) dan kemudian kami mengganti semua kecocokan dengan kode berikut: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"background-color: yellow;"</span></span></span><span class="hljs-tag">&gt;</span></span>... ...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Dan kemudian kami mengganti tag <strong>tubuh</strong> saat ini dengan yang baru diterima.  Markup diperbarui, gaya berubah dan semua hasil yang ditemukan disorot dengan warna kuning di layar. <br><br>  Anda mungkin sudah mengerti apa masalahnya, tetapi saya akan menjelaskan lebih detail.  Bayangkan memasukkan kata <strong>"div"</strong> di kotak pencarian.  Seperti yang Anda mengerti, di dalam <strong>tubuh</strong> ada banyak tag lain, termasuk <strong>div</strong> .  Dan jika kita semua menerapkan gaya yang disebutkan di atas ke <strong>"div"</strong> , maka ini tidak akan menjadi blok, tetapi tidak jelas apa, karena desainnya rusak.  Akibatnya, setelah menimpa markup, kami mendapatkan halaman web yang benar-benar rusak.  Ini terlihat seperti ini. <br><br>  Itu sebelum pencarian: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="http://saveimg.ru/thumbnails/30-04-16/b43ea456d1d7d278464d613f7eec8630.png" alt="unggah foto ke Internet"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Benar-benar memudar</a> <br>  Itu menjadi setelah pencarian: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="http://saveimg.ru/thumbnails/30-04-16/4fcd7c7461510c748fc002a616883b14.png" alt="unggah foto secara gratis"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Benar-benar memudar</a> <br><br>  Seperti yang Anda lihat, halaman tersebut benar-benar rusak.  Singkatnya, skrip tersebut ternyata tidak beroperasi, dan saya memutuskan untuk menulis sendiri dari awal, yang merupakan artikel ini. <br><br><h1>  Jadi kami menulis skrip dari awal </h1><br>  Bagaimana semuanya terlihat bagiku. <br><br><img src="https://habrastorage.org/files/e63/fe9/3f0/e63fe93f07ad4fe59872d26a0fc93e2d.png"><br><br>  Sekarang kami tertarik dengan formulir pencarian.  Dia mengitarinya dengan garis merah. <br><br>  Mari kita lihat sedikit.  Saya menerapkan ini sebagai berikut (sejauh HTML murni).  Formulir dengan tiga tag. <br><br>  <strong>Yang pertama</strong> adalah untuk memasukkan teks; <br>  <strong>Yang kedua</strong> - untuk membatalkan pencarian (batalkan pilihan); <br>  <strong>Yang ketiga</strong> adalah untuk pencarian (sorot hasil yang ditemukan). <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Search"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">autofocus</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Jadi, kami memiliki bidang input dan 2 tombol.  Saya akan menulis JavaScript di js.js.  Misalkan Anda telah membuat dan menghubungkannya. <br><br>  Hal pertama yang akan kita lakukan: mendaftarkan panggilan fungsi ketika Anda mengklik tombol pencarian dan tombol batal.  Ini akan terlihat seperti ini: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"place_for_search"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text-to-find"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Search"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">autofocus</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button_for_turn_back"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript: FindOnPage('text-to-find',false); return false;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"button_for_search"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"javascript: FindOnPage('text-to-find',true); return false;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Mari kita jelaskan sedikit apa yang ada di sini dan mengapa. <br><br>  Kami memberikan bidang teks <strong>id = "text-to-find"</strong> ( <i>id ini akan merujuk ke elemen dari js</i> ). <br><br>  Kami memberi <strong>tombol</strong> batal atribut berikut: <strong>type = "button" onclick = "javascript: FindOnPage ('text-to-find', false);</strong>  <strong>return false; "</strong> <br><br>  - <i>Ketik: tombol</i> <br>  - <i>Saat ditekan, fungsi FindOnPage disebut ('text-to-find', false);</i>  <i>dan melewati id bidang dengan teks, <strong>false</strong></i> <br><br>  Kami memberikan <strong>tombol</strong> pencarian atribut berikut: <strong>type = "button" onclick = "javascript: FindOnPage ('text-to-find', true);</strong>  <strong>return false; "</strong> <br><br>  - <i>Ketik: kirim (bukan tombol karena di sini Anda dapat menggunakan Enter setelah memasukkan bidang, atau Anda dapat menggunakan tombol juga)</i> <br>  - <i>Saat ditekan, fungsi FindOnPage disebut ('text-to-find', true);</i>  <i>dan melewati id bidang dengan teks, <strong>true</strong></i> <br><br>  Anda mungkin memperhatikan satu atribut lagi: <strong><i>true / false</i></strong> .  Kami akan menggunakannya untuk menentukan tombol mana yang ditekan (batalkan pencarian atau mulai pencarian).  Jika kita klik pada batal, maka berikan <strong>false</strong> .  Jika kita mengklik pencarian, maka berikan <strong>true</strong> . <br><br><h4>  OKE, lanjutkan.  Buka JavaScript </h4><h4>  Kami berasumsi bahwa Anda telah membuat dan menghubungkan file js ke DOM. <br><br>  Sebelum kita mulai menulis kode, mari kita istirahat dan bahas terlebih dahulu bagaimana semuanya harus bekerja.  Yaitu  pada intinya, kami akan menulis rencana aksi.  Jadi, kita perlu bahwa ketika memasukkan teks di bidang, pencarian dilakukan pada halaman, tetapi tag dan atribut tidak boleh terpengaruh.  Yaitu  objek teks saja.  Cara mencapainya - saya yakin ada banyak cara.  Tetapi sekarang kita akan menggunakan ekspresi reguler. <br><br>  Jadi, ekspresi reguler berikutnya hanya akan mencari jejak teks.  ketik: "&gt; ... teks ... &lt;".  Yaitu  hanya objek teks yang akan dicari, sementara tag dan atribut akan tetap tidak tersentuh. <br><br><pre> <code class="javascript hljs">/&gt;(.*?)&lt;<span class="hljs-regexp"><span class="hljs-regexp">/g</span></span></code> </pre><br>  Jadi kita akan menemukan bagian-bagian penting dari kode yang akan kita uraikan dan cari kecocokan dengan teks yang dimasukkan pengguna.  Kemudian kita akan menambahkan gaya ke objek yang ditemukan dan setelah itu ganti kode html dengan yang baru. <br><br>  Mari kita mulai.  Pertama, variabel yang kita butuhkan. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> input,search,pr,result,result_arr, locale_HTML, result_store; <span class="hljs-comment"><span class="hljs-comment">//input -  ,    //search -      //pr -     &lt;body&gt;&lt;/body&gt; //result -    pr (..    ) //result_arr -  pr,      //locale_HTML -  &lt;body&gt;&lt;/body&gt;    ,    </span></span></code> </pre><br>  Dan segera tentukan nilai <strong>locale_HTML</strong> , terlepas dari apakah kami sedang mencari sesuatu atau tidak.  Ini diperlukan untuk segera menyimpan halaman asli dan memiliki kemampuan untuk mengatur ulang gaya. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> input,search,pr,result,result_arr, locale_HTML, result_store; locale_HTML = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.innerHTML; <span class="hljs-comment"><span class="hljs-comment">//     body ()</span></span></code> </pre><br>  Oke, sekarang ada baiknya membuat fungsi yang dipanggil dari <strong>DOM</strong> .  Segera perkirakan bahwa di dalamnya kita harus memiliki 2 fungsi, yang masing-masing berfungsi tergantung pada tombol yang ditekan.  Bagaimanapun, kami melakukan pencarian atau nol.  Dan ini dikendalikan oleh atribut <strong>benar / salah</strong> , seperti yang Anda ingat.  Anda juga perlu memahami bahwa ketika Anda mencari lagi, gaya lama harus diatur ulang.  Jadi kita mendapatkan yang berikut ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> input,search,pr,result,result_arr, locale_HTML, result_store; locale_HTML = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.innerHTML; <span class="hljs-comment"><span class="hljs-comment">//     body () function FindOnPage(name, status) { if(status) { FindOnPageBack(); FindOnPageGo(); } //     if(!status) { FindOnPageBack(); } //  }</span></span></code> </pre><br>  Ok, bagian dari logika diimplementasikan, lanjutkan.  Penting untuk memeriksa kata yang diterima untuk jumlah karakter.  Lagi pula, mengapa kita perlu mencari 1 huruf / simbol.  Secara umum, saya memutuskan untuk membatasi ini hingga 3+ karakter. <br><br>  Jadi, pertama-tama kita mengambil nilai yang dimasukkan pengguna, dan, tergantung pada panjangnya, kami melakukan fungsi pencarian utama, atau fungsi peringatan dan penekanan.  Ini akan terlihat seperti ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> input,search,pr,result,result_arr, locale_HTML, result_store; locale_HTML = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.innerHTML; <span class="hljs-comment"><span class="hljs-comment">//     body () function FindOnPage(name, status) { input = document.getElementById(name).value; //     html if(input.length&lt;3&amp;&amp;status==true) { alert('        '); function FindOnPageBack() { document.body.innerHTML = locale_HTML; } //  } if(input.length&gt;=3) { //  } function FindOnPageBack() { document.body.innerHTML = locale_HTML; } //  if(status) { FindOnPageBack(); FindOnPageGo(); } //     if(!status) { FindOnPageBack(); } //  }</span></span></code> </pre><br>  Sekarang saya akan menjelaskan bagian kode ini.  Satu-satunya hal yang tidak jelas adalah baris ini: <br><br>  <i>function FindOnPageBack () {document.body.innerHTML = locale_HTML;</i>  <i>}</i> <br><br>  Semuanya sederhana di sini: metode <strong>innerHTML</strong> mengembalikan kode <strong>html</strong> objek.  Dalam hal ini, kami cukup mengganti <strong>tubuh</strong> saat ini dengan yang asli yang kami simpan saat memuat seluruh halaman. <br><br>  Kami melanjutkan.  Kami memberikan nilai ke variabel utama. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> input,search,pr,result,result_arr, locale_HTML, result_store; locale_HTML = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.innerHTML; <span class="hljs-comment"><span class="hljs-comment">//     body () function FindOnPage(name, status) { input = document.getElementById(name).value; //     html if(input.length&lt;3&amp;&amp;status==true) { alert('        '); function FindOnPageBack() { document.body.innerHTML = locale_HTML; } //  } if(input.length&gt;=3) { function FindOnPageGo() { search = '/'+input+'/g'; //     pr = document.body.innerHTML; //     body result = pr.match(/&gt;(.*?)&lt;/g); //       result_arr = []; //       () } } function FindOnPageBack() { document.body.innerHTML = locale_HTML; } //  if(status) { FindOnPageBack(); FindOnPageGo(); } //     if(!status) { FindOnPageBack(); } //  }</span></span></code> </pre><br>  Jadi, pada tahap ini, kita sudah memiliki variabel dan nilai utama.  Sekarang kita perlu memberikan bagian yang diperlukan dari gaya kode dengan latar belakang yang disorot.  Yaitu  memeriksa teks yang dipilih untuk ekspresi reguler (pada kenyataannya, teks yang dipilih oleh ekspresi reguler diuraikan oleh ekspresi reguler lagi).  Untuk melakukan ini, Anda perlu membuat ekspresi reguler dari teks yang dimasukkan (selesai), dan kemudian jalankan metode yang diteruskan sebagai taktik.  Di sini metode <strong>eval ()</strong> akan membantu kita. <br><br>  Secara umum, setelah kami mengganti teks dan mendapatkan hasilnya dengan gaya, kami perlu mengganti <strong>html</strong> saat ini dengan yang diterima.  Kami melakukannya. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> input,search,pr,result,result_arr, locale_HTML, result_store; locale_HTML = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.innerHTML; <span class="hljs-comment"><span class="hljs-comment">//     body () function FindOnPage(name, status) { input = document.getElementById(name).value; //     html if(input.length&lt;3&amp;&amp;status==true) { alert('        '); function FindOnPageBack() { document.body.innerHTML = locale_HTML; } //  } if(input.length&gt;=3) { function FindOnPageGo() { search = '/'+input+'/g'; //     pr = document.body.innerHTML; //     body result = pr.match(/&gt;(.*?)&lt;/g); //       result_arr = []; //       () for(var i=0; i&lt;result.length;i++) { result_arr[i] = result[i].replace(eval(search), '&lt;span style="background-color:yellow;"&gt;'+input+'&lt;/span&gt;'); //  ,        } for(var i=0; i&lt;result.length;i++) { pr=pr.replace(result[i],result_arr[i]) //    html       } document.body.innerHTML = pr; // html  } } function FindOnPageBack() { document.body.innerHTML = locale_HTML; } //  if(status) { FindOnPageBack(); FindOnPageGo(); } //     if(!status) { FindOnPageBack(); } //  }</span></span></code> </pre><br>  Intinya, semuanya sudah siap, dan skrip sudah bekerja.  Tetapi tambahkan beberapa detail lebih lanjut untuk kecantikan. <br><br>  1) Pangkas spasi dalam teks yang dimasukkan pengguna.  Masukkan kode ini: <br><br><pre> <code class="javascript hljs"> input = numer.replace(<span class="hljs-regexp"><span class="hljs-regexp">/^\s+/g</span></span>,<span class="hljs-string"><span class="hljs-string">''</span></span>); input = numer.replace(<span class="hljs-regexp"><span class="hljs-regexp">/[ ]{1,}/g</span></span>,<span class="hljs-string"><span class="hljs-string">' '</span></span>);</code> </pre><br>  Setelah baris ini: <br><br><pre> <code class="javascript hljs"> input = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(name).value; <span class="hljs-comment"><span class="hljs-comment">//     html</span></span></code> </pre><br>  2) Kami akan memeriksa kebetulan (jika tidak ditemukan kecocokan, kami akan menginformasikan hal ini).  Kode ini dimasukkan ke dalam fungsi FindOnPageGo () setelah variabel. <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> warning = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;result.length;i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(result[i].match(<span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(search))!=<span class="hljs-literal"><span class="hljs-literal">null</span></span>) { warning = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(warning == <span class="hljs-literal"><span class="hljs-literal">true</span></span>) { alert(<span class="hljs-string"><span class="hljs-string">'    '</span></span>); }</code> </pre><br>  Anda dapat melihat sumbernya di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br>  Anda dapat mengunduh sumbernya di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Sekarang semuanya  Tentu saja, Anda dapat menambahkan gulir ke hasil pertama yang ditemukan, pencarian ajax langsung, dan memang Anda dapat meningkatkan tanpa henti.  Sekarang ini adalah pencarian yang agak primitif di situs.  Tujuan artikel ini adalah untuk membantu pemula jika pertanyaan yang sama muncul dengan saya.  Lagi pula, saya tidak menemukan solusi siap pakai yang sederhana. <br><br>  PS: untuk operasi yang benar, perlu untuk menghapus tanda hubung teks dalam dokumen html di tempat-tempat di mana ada teks biasa di antara tag. <br><br>  Misalnya, alih-alih <br><br><pre> <code class="html hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Harus <br><pre> <code class="html hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>    <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Ini tidak penting, Anda dapat membuang transfer ini secara otomatis pada layanan, tetapi Anda dapat memberi tahu saya pada saat yang sama bagaimana cara memperbaikinya, jika Anda mengerti sebelum saya. <br><br>  Juga, jika seseorang menulis ini, tetapi dengan pencarian langsung, bagikan sumbernya, itu akan menarik untuk diuraikan. <br><br>  Saya akan senang mendengar kritik yang membangun, pendapat, dan mungkin rekomendasi. <br><br>  Baru-baru ini saya menambahkan sedikit kode, melakukan pencarian langsung di halaman.  Sehingga pertanyaannya dihapus.  Kode <strong>HTML</strong> tidak berubah.  <strong>JS</strong> bisa lihat di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Pencarian dilakukan menggunakan tag dengan kelas "place_for_live_search".  Jadi, agar algoritma menguraikan konten yang diinginkan, tambahkan kelas dan Anda selesai. </h4></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id438382/">https://habr.com/ru/post/id438382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id438370/index.html">Cybercrime sebagai layanan: layanan dan harga</a></li>
<li><a href="../id438372/index.html">NASA Terus Berusaha untuk Menghubungi Peluang</a></li>
<li><a href="../id438374/index.html">Bagaimana cara memuat OpenStreetMap di Hive?</a></li>
<li><a href="../id438376/index.html">Rekayasa terbalik. Ceritanya Milik saya</a></li>
<li><a href="../id438380/index.html">Pria, jeda pada pengecualian yang tertangkap</a></li>
<li><a href="../id438384/index.html">Pelajaran kimia: cara mengekspos kristal microchip untuk fotografi</a></li>
<li><a href="../id438386/index.html">Dalam perjalanan ke prinsip fisik evolusi biologis</a></li>
<li><a href="../id438388/index.html">Server pesan push</a></li>
<li><a href="../id438390/index.html">Mengapa pengembang lebih mahal daripada uang, bagaimana cara menyimpan dan meningkatkannya</a></li>
<li><a href="../id438392/index.html">Sejarah singkat dari satu "pita pintar"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>