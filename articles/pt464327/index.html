<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê™ ü§üüèæ üë©üèΩ‚ÄçüöÄ Compara√ß√£o do uso de mem√≥ria de diferentes GUIs do kit de ferramentas üèÆ üë¶üèΩ üëêüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° pessoal! Nossa equipe est√° desenvolvendo um IDE para trabalhar com a API TestMace . Em um de nossos artigos anteriores, os leitores apontaram para...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Compara√ß√£o do uso de mem√≥ria de diferentes GUIs do kit de ferramentas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464327/"><p><img src="https://habrastorage.org/webt/lt/jh/8d/ltjh8dgc-cddllnwr_qhjzsomfm.jpeg"></p><br><p>  <i>Ol√° pessoal!</i>  <i>Nossa equipe est√° desenvolvendo um IDE para trabalhar com a API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TestMace</a> .</i>  <i>Em um de nossos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigos anteriores, os</a> leitores apontaram para o consumo exorbitante de mem√≥ria de aplicativos de el√©trons.</i>  <i>Bem, chegou a hora dos n√∫meros :) Neste artigo, o autor estima o consumo de mem√≥ria de aplicativos de janela √∫nica escritos usando v√°rios kits de ferramentas.</i>  <i>Boa leitura!</i> </p><br><p>  Encontrando o conjunto perfeito de ferramentas para criar uma GUI, decidi medir a quantidade de mem√≥ria que eles ocupavam. </p><br><p> Na verdade, eu queria descobrir qual deles requer a menor quantidade de mem√≥ria para um programa que consiste em uma janela vazia.  Neste artigo, vou falar sobre os resultados. </p><br><a name="habracut"></a><br><h2>  Isen√ß√£o de responsabilidade </h2><br><p>  Este artigo fornece informa√ß√µes sobre a mem√≥ria ocupada pelo programa ao usar v√°rias ferramentas, estruturas e bibliotecas para criar GUIs no Linux.  Todas as medi√ß√µes foram feitas no mesmo computador com o Ubuntu 19.04 (Disco Dingo) x86_64 usando o programa Ksysguard, que fornece dados sobre a mem√≥ria interna consumida pelos aplicativos.  N√£o reinstalei o sistema especificamente para o teste.  Foi realizado no meu ub√≠quo Ubuntu, no qual v√°rios pacotes j√° estavam instalados, o que poderia afetar / distorcer os resultados. </p><br><p>  Para algumas ferramentas, eu at√© adicionei medidas obtidas no Windows 10, que dificilmente podem ser comparadas ao Linux, mas √© interessante ver. </p><br><p>  Quero observar que minhas medidas n√£o t√™m valor cient√≠fico.  Tendo outros dados iniciais, voc√™ pode obter resultados completamente diferentes. </p><br><br><h2>  N√£o √© t√£o f√°cil quanto parece </h2><br><p>  Ent√£o, o que precisamos medir?  Mem√≥ria virtual (VSZ)?  Mem√≥ria residente (RSS)?  Possui RSS?  RSS compartilhado? </p><br><p>  <b>Resumindo, ent√£o ...</b> acredito que, ao comparar dois programas id√™nticos desenvolvidos usando diferentes conjuntos de ferramentas, a maneira mais precisa √© medir a quantidade de mem√≥ria interna ocupada por um processo com smaps.  O Ksysguard usa smaps para exibir informa√ß√µes detalhadas da mem√≥ria.  No entanto, desde o in√≠cio, em meu experimento, usei os dados do painel de consumo de RAM por padr√£o e s√≥ ent√£o percebi que os smaps fornecem n√∫meros mais precisos.  Para garantir a consist√™ncia dos dados, usei as informa√ß√µes do painel RAM padr√£o para todas as ferramentas apresentadas na lista, embora, muito provavelmente, usando uma interface com uma descri√ß√£o detalhada do consumo de mem√≥ria, uma situa√ß√£o semelhante pudesse ser vista. </p><br><p>  <b>Se em mais detalhes, ent√£o ...</b> neste artigo, eu n√£o teria espa√ßo suficiente para li√ß√µes sobre gerenciamento de mem√≥ria no Linux e, al√©m disso, j√° existem muitos materiais dignos sobre esse assunto: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ELC: Quanta mem√≥ria os aplicativos est√£o realmente usando?</a>  , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O sistema de arquivos / proc</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pseudo-sistema de informa√ß√µes do processo -</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Vis√£o geral do Linux Memory Management</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Gerenciamento de mem√≥ria</a> </p><br><h2>  Lista de ferramentas e seus indicadores de mem√≥ria </h2><br>  Nem uma palavra mais.  Aqui est√£o meus resultados: <br><img src="https://habrastorage.org/webt/zv/33/6f/zv336fwjr1acfa4n53u5xb2rkpi.png"><br><br><div class="scrollable-table"><table><tbody><tr><td>  <b>Kit de ferramentas da GUI</b> </td><td>  <b>Mem√≥ria pr√≥pria (MB)</b> </td><td>  <b>Observa√ß√µes</b> </td></tr><tr><td>  xcb </td><td>  0,132 </td><td></td></tr><tr><td>  xlib </td><td>  0,156 </td><td></td></tr><tr><td>  nuklear (rawfb) </td><td>  0,624 </td><td>  <i>n√£o</i> aumenta a mem√≥ria consumida pelo Xorg </td></tr><tr><td>  xforms </td><td>  0,765 </td><td></td></tr><tr><td>  WINAPI (Win10) </td><td>  1,00 </td><td>  no windows 10 </td></tr><tr><td>  dlib </td><td>  1,10 </td><td></td></tr><tr><td>  SDL2 (sem opengl) </td><td>  1,10 </td><td></td></tr><tr><td>  Gdk </td><td>  1,20 </td><td></td></tr><tr><td>  vis√£o turbo </td><td>  1,30 </td><td>  TUI </td></tr><tr><td>  nana </td><td>  1,40 </td><td></td></tr><tr><td>  Motivo </td><td>  1,50 </td><td></td></tr><tr><td>  Fltk </td><td>  1,70 </td><td></td></tr><tr><td>  Msegui </td><td>  2.04 </td><td></td></tr><tr><td>  Raposa </td><td>  2,20 </td><td></td></tr><tr><td>  nuklear (x11) </td><td>  2,20 </td><td>  0,4 MB + 1,8 MB de mem√≥ria Xorg </td></tr><tr><td>  WINAPI (VINHO) </td><td>  2,30 </td><td></td></tr><tr><td>  LCL (personalizado) </td><td>  2,50 </td><td></td></tr><tr><td>  Gtk + 2 </td><td>  2,80 </td><td></td></tr><tr><td>  wxX11 </td><td>  3,00 </td><td>  n√£o est√° pronto para uso na produ√ß√£o </td></tr><tr><td>  libui </td><td>  4,00 </td><td></td></tr><tr><td>  LCL (GTK) </td><td>  4.50 </td><td></td></tr><tr><td>  GTK + 3 </td><td>  5,00 </td><td></td></tr><tr><td>  wxGtk3 </td><td>  6,00 </td><td></td></tr><tr><td>  Efl </td><td>  7,20 </td><td></td></tr><tr><td>  GLFW </td><td>  9,00 </td><td></td></tr><tr><td>  JUCE </td><td>  10,00 </td><td>  Projetor bin√°rio, a janela n√£o est√° vazia </td></tr><tr><td>  Sciter </td><td>  10,00 </td><td>  cerca de 10 MB, o Linux Scapp est√° ausente </td></tr><tr><td>  LCUI </td><td>  11,00 </td><td></td></tr><tr><td>  GLUI </td><td>  12,50 </td><td></td></tr><tr><td>  SFML </td><td>  13,20 </td><td></td></tr><tr><td>  nanogui </td><td>  14:00 </td><td></td></tr><tr><td>  Sdl </td><td>  14:00 </td><td></td></tr><tr><td>  U ++ </td><td>  14:00 </td><td></td></tr><tr><td>  √Ågar </td><td>  15h </td><td></td></tr><tr><td>  Caro ImGUI (SDL) </td><td>  15,30 </td><td></td></tr><tr><td>  Guilite </td><td>  15,80 </td><td></td></tr><tr><td>  Caro ImGUI (SDL / Vulkan) </td><td>  16,50 </td><td></td></tr><tr><td>  WinForms mono </td><td>  16.564 </td><td>  no windows 10 </td></tr><tr><td>  Qt </td><td>  17h </td><td></td></tr><tr><td>  Ultraleve </td><td>  20,00 </td><td></td></tr><tr><td>  devaneio </td><td>  23,50 </td><td></td></tr><tr><td>  Java swing </td><td>  59,30 </td><td>  OpenJDK 12 </td></tr><tr><td>  el√©tron </td><td>  74,60 </td><td></td></tr><tr><td>  Javafx </td><td>  80,00 </td><td>  OpenJDK 12 </td></tr><tr><td>  horus_ui </td><td>  94,00 </td><td></td></tr><tr><td>  Flutter desktop </td><td>  98,00 </td><td>  <b>upd: nos est√°gios iniciais de desenvolvimento!</b> </td></tr><tr><td>  Boost.UI </td><td>  - </td><td>  usa wxWidgets </td></tr><tr><td>  CEGUI </td><td>  - </td><td>  Como colecionar?  :(? </td></tr><tr><td>  IUP </td><td>  - </td><td>  semelhante ao wxWdigets, usa o gtk + no Linux </td></tr><tr><td>  Lgi </td><td>  - </td><td>  usa gtk + 2 </td></tr><tr><td>  Minigui </td><td>  - </td><td>  montagem falhou </td></tr><tr><td>  morda </td><td>  - </td><td>  montagem falhou </td></tr><tr><td>  SFGUI </td><td>  - </td><td>  usa SFML </td></tr><tr><td>  TGUI </td><td>  - </td><td>  usa SFML </td></tr><tr><td>  Verdete </td><td>  - </td><td>  usa qt </td></tr></tbody></table></div><br><br>  <s>Fiquei surpreso com a gula de Flutter, uma vez que ela foi originalmente concebida como uma estrutura para criar uma GUI para dispositivos m√≥veis.</s> <br><br><p>  <b>UPD (meus agradecimentos a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">kirbyfan64sos</a> ): O</b> Flutter Desktop ainda est√° nos est√°gios iniciais de desenvolvimento e todas as compila√ß√µes est√£o depurando.  Isso significa que todos os criadores de perfil (como o Observatory) est√£o ativos, todas as instru√ß√µes de depura√ß√£o est√£o ativadas e o compilador AoT est√° desativado.  Ser√° interessante verificar novamente os dados usando a vers√£o build. <br></p><br><p>  N√£o direi que fiquei impressionado com o desempenho do Electron. </p><br><p>  Com o HorusUI, eu esperava um valor aproximado de 20 MB, porque ele usa o OpenGL e o modo de renderiza√ß√£o imediata da GUI.  N√£o entendo por que o n√∫mero saiu mais. </p><br><p>  As estruturas Swing e JavaFX Java tamb√©m mostraram resultados interessantes.  Ambos s√£o extremamente insaci√°veis ‚Äã‚Äãe, se voc√™ n√£o tiver certeza de qual deles seria adequado para o seu novo projeto Java, parece razo√°vel optar pela estrutura JavaFX mais conveniente e moderna, embora voc√™ precise preench√™-la com um pouco mais de mem√≥ria.  Mas se sua mem√≥ria vale seu peso em ouro, √© claro que escolha Swing. </p><br><p>  O Qt tamb√©m mostrou n√∫meros muito interessantes e acabou sendo muito mais voraz do que a maioria das outras ferramentas populares.  Vale ressaltar que a maior parte da mem√≥ria ocupada √© a quantidade consumida pelo driver amdgpu instalado no meu sistema.  Talvez isso ocorra porque os buffers do OpenGL s√£o armazenados localmente.  O mesmo pode ser visto com o SDL2: um programa sem OpenGL consome 1,1 MB e, com ele, at√© 14 MB. </p><br><p>  WxWidgets e LCL est√£o bem posicionados nessa compara√ß√£o.  Apesar de serem inv√≥lucros sobre outras ferramentas para a GUI, o custo dos recursos √© m√≠nimo.  Estou impressionado com a id√©ia da possibilidade de transferir o back-end do Gtk +, por exemplo, para o Qt, garantindo assim a independ√™ncia das ferramentas. </p><br><p>  Tamb√©m destacarei o Nuklear, simplesmente porque, ao que me parece, ele tem um modo de renderiza√ß√£o imediata da GUI muito legal.  Se voc√™ n√£o ficar confuso com o uso do framebuffer bruto X11, o aplicativo de janela √∫nica ocupar√° apenas 0,624 MB, o que parece muito impressionante. </p><br><h2>  Conclus√£o </h2><br><p>  Se voc√™ esperava ver alguma conclus√£o generalizada aqui, receio ter que decepcion√°-lo. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt464327/">https://habr.com/ru/post/pt464327/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt464307/index.html">Teste de integra√ß√£o de microsservi√ßos no Scala</a></li>
<li><a href="../pt464309/index.html">Bot√£o de chamada DIY. Raspberry Pi, MajorDoMo, Freeswitch e Linphonec</a></li>
<li><a href="../pt464315/index.html">O filme em que havia solo. Pesquisa Yandex e um breve hist√≥rico de pesquisa por significado</a></li>
<li><a href="../pt464317/index.html">Projeto Konbanwa</a></li>
<li><a href="../pt464325/index.html">Como o Scrumban une o melhor das metodologias Kanban e Scrum</a></li>
<li><a href="../pt464331/index.html">Benef√≠cios In√∫teis: S√≠ntese de Produtos Qu√≠micos Absorventes de UV a partir de Castanhas de Caju</a></li>
<li><a href="../pt464333/index.html">Acompanhamento do ciclo de vida dos usu√°rios sem alicate e fita isolante</a></li>
<li><a href="../pt464335/index.html">Testes de unidade no DBMS - como fazemos no Sportmaster, parte um</a></li>
<li><a href="../pt464337/index.html">Como ignorar o captcha: rede neural no Tensorflow, Keras, python v num√©rico noisy captcha</a></li>
<li><a href="../pt464345/index.html">5 raz√µes para abrir uma startup de TI na Alemanha</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>