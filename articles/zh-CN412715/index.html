<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‚ğŸ¾ ğŸŒ» ğŸ½ é€šè¿‡å›¾ç‰‡å­¦ä¹ å¤šçº¿ç¨‹Goç¼–ç¨‹ ğŸ’¨ ğŸ™† ğŸ‘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ‚¨å¾ˆå¯èƒ½å·²ç»å¬è¯´è¿‡Goç¼–ç¨‹è¯­è¨€ï¼Œå…¶æµè¡Œç¨‹åº¦æ­£åœ¨ä¸æ–­æé«˜ï¼Œè¿™æ˜¯å¾ˆåˆç†çš„ã€‚ è¿™ç§è¯­è¨€ç®€å•ï¼Œå¿«é€Ÿï¼Œå¹¶ä¸”ä¾èµ–äºå¼ºå¤§çš„ç¤¾åŒºã€‚ è¯¥è¯­è¨€æœ€ä»¤äººå¥½å¥‡çš„æ–¹é¢ä¹‹ä¸€æ˜¯å¤šçº¿ç¨‹ç¼–ç¨‹æ¨¡å‹ã€‚ å®ƒçš„åŸºç¡€åŸè¯­ä½¿æ‚¨å¯ä»¥è½»æ¾ï¼Œç®€å•åœ°åˆ›å»ºå¤šçº¿ç¨‹ç¨‹åºã€‚ æœ¬æ–‡é€‚ç”¨äºæƒ³è¦å­¦ä¹ è¿™äº›åŸè¯­çš„äººï¼šgoroutineså’Œchannelã€‚ å¹¶ä¸”ï¼Œé€šè¿‡æ’å›¾ï¼Œ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>é€šè¿‡å›¾ç‰‡å­¦ä¹ å¤šçº¿ç¨‹Goç¼–ç¨‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412715/"><img src="https://habrastorage.org/webt/qk/hi/im/qkhiimd_phctfhx4kka_rhpkepq.png"><br> æ‚¨å¾ˆå¯èƒ½å·²ç»å¬è¯´è¿‡Goç¼–ç¨‹è¯­è¨€ï¼Œå…¶æµè¡Œç¨‹åº¦æ­£åœ¨ä¸æ–­æé«˜ï¼Œè¿™æ˜¯å¾ˆåˆç†çš„ã€‚ è¿™ç§è¯­è¨€ç®€å•ï¼Œå¿«é€Ÿï¼Œå¹¶ä¸”ä¾èµ–äºå¼ºå¤§çš„ç¤¾åŒºã€‚ è¯¥è¯­è¨€æœ€ä»¤äººå¥½å¥‡çš„æ–¹é¢ä¹‹ä¸€æ˜¯å¤šçº¿ç¨‹ç¼–ç¨‹æ¨¡å‹ã€‚ å®ƒçš„åŸºç¡€åŸè¯­ä½¿æ‚¨å¯ä»¥è½»æ¾ï¼Œç®€å•åœ°åˆ›å»ºå¤šçº¿ç¨‹ç¨‹åºã€‚ æœ¬æ–‡é€‚ç”¨äºæƒ³è¦å­¦ä¹ è¿™äº›åŸè¯­çš„äººï¼šgoroutineså’Œchannelã€‚ å¹¶ä¸”ï¼Œé€šè¿‡æ’å›¾ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨å®ƒä»¬ã€‚ å¸Œæœ›è¿™å¯¹æ‚¨çš„è¿›ä¸€æ­¥å­¦ä¹ æœ‰å¾ˆå¥½çš„å¸®åŠ©ã€‚ <br><a name="habracut"></a><br><h4> å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹ç¨‹åº </h4><br> æ‚¨å¾ˆå¯èƒ½å·²ç»ç¼–å†™äº†å•çº¿ç¨‹ç¨‹åºã€‚ é€šå¸¸çœ‹èµ·æ¥åƒè¿™æ ·ï¼šæœ‰ä¸€ç»„ç”¨äºæ‰§è¡Œå„ç§ä»»åŠ¡çš„å‡½æ•°ï¼Œä»…å½“ä¸Šä¸€ä¸ªå‡½æ•°å‡†å¤‡å¥½æ•°æ®æ—¶æ‰è°ƒç”¨æ¯ä¸ªå‡½æ•°ã€‚ å› æ­¤ï¼Œç¨‹åºé¡ºåºè¿è¡Œã€‚ <br><br> é‚£å°†æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªä¾‹å­-çŸ¿çŸ³å¼€é‡‡è®¡åˆ’ã€‚ æˆ‘ä»¬çš„èŒèƒ½å°†å¯»æ‰¾ï¼Œå¼€é‡‡å’ŒåŠ å·¥çŸ¿çŸ³ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼ŒçŸ¿å±±ä¸­çš„çŸ¿çŸ³ç”±å­—ç¬¦ä¸²åˆ—è¡¨è¡¨ç¤ºï¼Œå‡½æ•°å°†å…¶ç”¨ä½œå‚æ•°å¹¶è¿”å›â€œå·²å¤„ç†â€å­—ç¬¦ä¸²åˆ—è¡¨ã€‚ å¯¹äºå•çº¿ç¨‹ç¨‹åºï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†è®¾è®¡å¦‚ä¸‹ï¼š <br><br><img src="https://habrastorage.org/webt/c5/ua/ja/c5uajayyncivzzj9_orh-u_sw34.png"><br><br> åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰å·¥ä½œå‡ç”±ä¸€ä¸ªçº¿ç¨‹ï¼ˆGaryçš„åœ°é¼ ï¼‰å®Œæˆã€‚ ä¸‰ä¸ªä¸»è¦åŠŸèƒ½ï¼šæœç´¢ï¼Œç”Ÿäº§å’Œå¤„ç†ä¾æ¬¡æ‰§è¡Œã€‚ <br><br><pre><code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { theMine := [<span class="hljs-number"><span class="hljs-number">5</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>{<span class="hljs-string"><span class="hljs-string">"rock"</span></span>, <span class="hljs-string"><span class="hljs-string">"ore"</span></span>, <span class="hljs-string"><span class="hljs-string">"ore"</span></span>, <span class="hljs-string"><span class="hljs-string">"rock"</span></span>, <span class="hljs-string"><span class="hljs-string">"ore"</span></span>} foundOre := finder(theMine) minedOre := miner(foundOre) smelter(minedOre) }</code> </pre> <br> å¦‚æœæˆ‘ä»¬æ‰“å°æ¯ä¸ªå‡½æ•°çš„ç»“æœï¼Œåˆ™ä¼šå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š <br><br><pre> <code class="hljs powershell">From Finder: [<span class="hljs-type"><span class="hljs-type">ore</span></span> <span class="hljs-type"><span class="hljs-type">ore</span></span> <span class="hljs-type"><span class="hljs-type">ore</span></span>] From Miner: [<span class="hljs-type"><span class="hljs-type">minedOre</span></span> <span class="hljs-type"><span class="hljs-type">minedOre</span></span> <span class="hljs-type"><span class="hljs-type">minedOre</span></span>] From Smelter: [<span class="hljs-type"><span class="hljs-type">smeltedOre</span></span> <span class="hljs-type"><span class="hljs-type">smeltedOre</span></span> <span class="hljs-type"><span class="hljs-type">smeltedOre</span></span>]</code> </pre><br> ç®€å•çš„è®¾è®¡å’Œå®ç°æ˜¯å•çº¿ç¨‹æ–¹æ³•çš„ä¼˜ç‚¹ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æƒ³å½¼æ­¤ç‹¬ç«‹åœ°è¿è¡Œå’Œæ‰§è¡ŒåŠŸèƒ½ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ åœ¨è¿™é‡Œï¼Œå¤šçº¿ç¨‹ç¼–ç¨‹å°†ä¸ºæ‚¨æä¾›å¸®åŠ©ã€‚ <br><br><img src="https://habrastorage.org/webt/om/x1/mq/omx1mqphfsqqs57lab9bngsnggi.png"><br> è¿™ç§çŸ¿çŸ³å¼€é‡‡æ–¹æ³•æ•ˆç‡æ›´é«˜ã€‚ ç°åœ¨ï¼Œå‡ ä¸ªçº¿ç¨‹ï¼ˆåœ°é¼ ï¼‰å¯ä»¥ç‹¬ç«‹å·¥ä½œï¼Œè€ŒGaryåªåšä¸€éƒ¨åˆ†å·¥ä½œã€‚ ä¸€ä¸ªåœ°é¼ æœç´¢çŸ¿çŸ³ï¼Œå¦ä¸€ä¸ªåœ°é¼ æœç´¢çŸ¿çŸ³ï¼Œç¬¬ä¸‰æ¬¡ç†”èï¼Œæ‰€æœ‰è¿™äº›å¯èƒ½æ˜¯åŒæ—¶å‘ç”Ÿçš„ã€‚ ä¸ºäº†å®ç°è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­éœ€è¦åšä¸¤ä»¶äº‹ï¼šåˆ›å»ºå½¼æ­¤ç‹¬ç«‹çš„åœ°é¼ å¤„ç†å™¨ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´è½¬ç§»çŸ¿çŸ³ã€‚  Goå…·æœ‰ä¸ºæ­¤çš„goroutineså’Œæ¸ é“ã€‚ <br><br><h4> å¤é²ä¸ </h4><br>  Goroutineså¯ä»¥è¢«è®¤ä¸ºæ˜¯â€œè½»é‡çº§çº¿ç¨‹â€ï¼Œè¦åˆ›å»ºgoroutinesï¼Œåªéœ€å°†<b>go</b>å…³é”®å­—æ”¾åœ¨å‡½æ•°è°ƒç”¨ä»£ç ä¹‹å‰ã€‚ ä¸ºäº†æ¼”ç¤ºå®ƒçš„ç®€å•æ€§ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªæœç´¢åŠŸèƒ½ï¼Œä½¿ç”¨<b>go</b>å…³é”®å­—è°ƒç”¨å®ƒä»¬ï¼Œå¹¶åœ¨ä»–ä»¬æ¯æ¬¡åœ¨çŸ¿å±±ä¸­å‘ç°â€œçŸ¿çŸ³â€æ—¶æ‰“å°ä¸€æ¡æ¶ˆæ¯ã€‚ <br><img src="https://habrastorage.org/webt/jz/wx/nb/jzwxnbgxocr-a0rq7kmdoujt_gg.png"><br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { theMine := [<span class="hljs-number"><span class="hljs-number">5</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>{<span class="hljs-string"><span class="hljs-string">"rock"</span></span>, <span class="hljs-string"><span class="hljs-string">"ore"</span></span>, <span class="hljs-string"><span class="hljs-string">"ore"</span></span>, <span class="hljs-string"><span class="hljs-string">"rock"</span></span>, <span class="hljs-string"><span class="hljs-string">"ore"</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> finder1(theMine) <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> finder2(theMine) &lt;-time.After(time.Second * <span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-comment"><span class="hljs-comment">//       }</span></span></code> </pre><br> æˆ‘ä»¬ç¨‹åºçš„è¾“å‡ºå¦‚ä¸‹ï¼š <br><br><pre> <code class="hljs pgsql">Finder <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> ore! Finder <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> ore! Finder <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> ore! Finder <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> ore! Finder <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> ore! Finder <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> ore!</code> </pre><br> å¦‚æ‚¨æ‰€è§ï¼Œå‡½æ•°é¦–å…ˆâ€œæŸ¥æ‰¾çŸ¿çŸ³â€æ²¡æœ‰é¡ºåºï¼› æœç´¢åŠŸèƒ½åŒæ—¶å·¥ä½œã€‚ å¦‚æœæ‚¨å¤šæ¬¡è¿è¡Œè¯¥ç¤ºä¾‹ï¼Œåˆ™é¡ºåºå°†æœ‰æ‰€ä¸åŒã€‚ ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿è¡Œå¤šçº¿ç¨‹ï¼ˆå¤šé¢†åŸŸï¼‰ç¨‹åºï¼Œè¿™æ˜¯ä¸€ä¸ªé‡è¦çš„è¿›æ­¥ã€‚ ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬éœ€è¦åœ¨ç‹¬ç«‹çš„goroutineä¹‹é—´å»ºç«‹è¿æ¥æ—¶è¯¥æ€ä¹ˆåŠï¼Ÿ æ¸ é“ç¥å¥‡çš„æ—¶åˆ»åˆ°äº†ã€‚ <br><br><h4> é¢‘é“ </h4><br><img src="https://habrastorage.org/webt/pa/a-/5r/paa-5r_dtecx3fzem9r0dsv42jo.png"><br> é€šé“å…è®¸goroutinesäº¤æ¢æ•°æ®ã€‚ è¿™æ˜¯ä¸€ç§ç®¡é“ï¼Œgoroutinå¯ä»¥é€šè¿‡è¯¥ç®¡é“ä»å…¶ä»–goroutineå‘é€å’Œæ¥æ”¶ä¿¡æ¯ã€‚ <br><img src="https://habrastorage.org/webt/-d/vp/fz/-dvpfzbpaa65exwi7l4pgerte48.png"><br> ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ï¼ˆ&lt;-ï¼‰è¿›è¡Œé€šé“çš„è¯»å–å’Œå†™å…¥ï¼Œè¯¥æ“ä½œç¬¦æŒ‡ç¤ºæ•°æ®ç§»åŠ¨çš„æ–¹å‘ã€‚ <br><img src="https://habrastorage.org/webt/wd/1j/qp/wd1jqp8ipkwvcdgc5xbuoyy6wey.png"><br><pre> <code class="go hljs">myFirstChannel := <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">chan</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) myFirstChannel &lt;- <span class="hljs-string"><span class="hljs-string">"hello"</span></span> <span class="hljs-comment"><span class="hljs-comment">//    myVariable := &lt;- myFirstChannel //   </span></span></code> </pre><br> ç°åœ¨æˆ‘ä»¬çš„åœ°é¼ ä¾¦å¯Ÿå…µä¸éœ€è¦ç§¯ç´¯çŸ¿çŸ³ï¼Œä»–å¯ä»¥ç«‹å³ä½¿ç”¨æ¸ é“å°†å…¶è¿›ä¸€æ­¥è½¬ç§»ã€‚ <br><img src="https://habrastorage.org/webt/60/yx/_j/60yx_jlczbwcy2tfmsqgvzwp4dg.png"><br> æˆ‘æ›´æ–°äº†ç¤ºä¾‹ï¼Œç°åœ¨æ‰¾çŸ¿è€…å’ŒçŸ¿å·¥çš„ä»£ç æ˜¯åŒ¿åå‡½æ•°ã€‚ å¦‚æœæ‚¨ä»¥å‰ä»æœªé‡åˆ°è¿‡å®ƒä»¬ï¼Œè¯·ä¸è¦å¤ªåœ¨æ„ï¼Œåªéœ€è®°ä½ï¼Œå®ƒä»¬æ¯ä¸ªéƒ½ä½¿ç”¨å…³é”®å­—<b>go</b>è°ƒç”¨ï¼Œå› æ­¤ï¼Œå®ƒå°†åœ¨è‡ªå·±çš„goroutineä¸­æ‰§è¡Œã€‚ è¿™é‡Œæœ€é‡è¦çš„æ˜¯ï¼Œgoroutinesä½¿ç”¨<b>oreChan</b>é€šé“åœ¨å®ƒä»¬ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚ æˆ‘ä»¬å°†åœ¨æœ€åå¤„ç†åŒ¿åå‡½æ•°ã€‚ <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { theMine := [<span class="hljs-number"><span class="hljs-number">5</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>{â€œore1â€, â€œore2â€, â€œore3â€} oreChan := <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">chan</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) <span class="hljs-comment"><span class="hljs-comment">//   go func(mine [5]string) { for _, item := range mine { oreChan &lt;- item // } }(theMine) //   go func() { for i := 0; i &lt; 3; i++ { foundOre := &lt;-oreChan // fmt.Println(â€œMiner: Received â€œ + foundOre + â€œ from finderâ€) } }() &lt;-time.After(time.Second * 5) //     }</span></span></code> </pre><br> ä»¥ä¸‹ç»“è®ºæ¸…æ¥šåœ°è¡¨æ˜ï¼Œæˆ‘ä»¬çš„çŸ¿å·¥ä¸€æ¬¡ä»é€šé“çŸ¿çŸ³ä¸­è·å¾—äº†ä¸‰ä»½ä¸€ä»½ã€‚ <br><br><pre> <code class="hljs cs">Miner: Received ore1 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> finder Miner: Received ore2 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> finder Miner: Received ore3 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> finder</code> </pre><br> å› æ­¤ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨ä¸åŒçš„goroutinesï¼ˆå¯†ç å™¨ï¼‰ä¹‹é—´ä¼ è¾“æ•°æ®ï¼Œä½†æ˜¯åœ¨å¼€å§‹ç¼–å†™å¤æ‚ç¨‹åºä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹é€šé“çš„ä¸€äº›é‡è¦å±æ€§ã€‚ <br><br><h4> é”å…· </h4><br> åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨é€šé“æ—¶ï¼Œgoroutinå¯èƒ½ä¼šè¢«é˜»å¡ã€‚ è¿™æ˜¯å¿…éœ€çš„ï¼Œä»¥ä¾¿goroutineåœ¨å¼€å§‹æˆ–ç»§ç»­å·¥ä½œä¹‹å‰å¯ä»¥å½¼æ­¤åŒæ­¥ã€‚ <br><br><h4> å†™é” </h4><br><img src="https://habrastorage.org/webt/ir/vv/zi/irvvziqxuk3opysywirescrn40e.png"><br><br> å½“goroutineï¼ˆgopherï¼‰å°†æ•°æ®å‘é€åˆ°é€šé“æ—¶ï¼Œå®ƒå°†è¢«é˜»å¡ï¼Œç›´åˆ°å¦ä¸€ä¸ªgoroutineä»è¯¥é€šé“è¯»å–æ•°æ®ä¸ºæ­¢ã€‚ <br><br><h4> è¯»é” </h4><br><img src="https://habrastorage.org/webt/eq/e5/k8/eqe5k854n39oia6xwaavj5xfk-q.png"><br><br> ç±»ä¼¼äºåœ¨å†™å…¥é€šé“æ—¶é”å®šï¼Œä»é€šé“è¯»å–æ—¶ï¼Œgoroutinå¯ä»¥è¢«é”å®šï¼Œç›´åˆ°æ²¡æœ‰å†…å®¹å†™å…¥ä¸ºæ­¢ã€‚ <br> å¦‚æœä¹ä¸€çœ‹è¿™äº›é”å¯¹æ‚¨æ¥è¯´ä¼¼ä¹å¾ˆå¤æ‚ï¼Œæ‚¨å¯ä»¥å°†å…¶æƒ³è±¡ä¸ºä¸¤ä¸ªgoroutineï¼ˆå¯†ç ï¼‰ä¹‹é—´çš„â€œé‡‘é’±è½¬ç§»â€ã€‚ å½“ä¸€ä½åœ°é¼ æƒ³è¦è½¬è´¦æˆ–æ”¶æ¬¾æ—¶ï¼Œä»–å¿…é¡»ç­‰å¾…äº¤æ˜“çš„ç¬¬äºŒä½å‚ä¸è€…ã€‚ <br><br> å¤„ç†äº†é€šé“ä¸Šçš„goroutineé”ä¹‹åï¼Œè®©æˆ‘ä»¬è®¨è®ºä¸¤ç§ä¸åŒç±»å‹çš„é€šé“ï¼šç¼“å†²é€šé“å’Œéç¼“å†²é€šé“ã€‚ é€‰æ‹©è¿™ç§æˆ–é‚£ç§ç±»å‹ï¼Œæˆ‘ä»¬åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå†³å®šäº†ç¨‹åºçš„è¡Œä¸ºã€‚ <br><br><h4> æ— ç¼“å†²é€šé“ </h4><br><img src="https://habrastorage.org/webt/hv/k0/ba/hvk0badnrvqhncjqf9uwyrlowq8.png"><br><br> åœ¨å‰é¢çš„æ‰€æœ‰ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä»…ä½¿ç”¨äº†æ­¤ç±»é€šé“ã€‚ åœ¨è¿™æ ·çš„ä¿¡é“ä¸Šï¼Œä¸€æ¬¡åªèƒ½å‘é€ä¸€ä¸ªæ•°æ®ï¼ˆå¦‚ä¸Šæ‰€è¿°ï¼Œæœ‰é˜»å¡ï¼‰ã€‚ <br><br><h4> ç¼“å†²é€šé“ </h4><br><img src="https://habrastorage.org/webt/zs/zg/b1/zszgb15grrrjjiyaqs6gwtfkkye.png"><br><br> ç¨‹åºä¸­çš„æµä¸èƒ½æ€»æ˜¯å®Œå…¨åŒæ­¥ã€‚ å‡è®¾åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œå‘ç”Ÿäº†ä¸€ååœ°é¼ ä¾¦æŸ¥å‘˜å‘ç°äº†ä¸‰éƒ¨åˆ†çŸ¿çŸ³ï¼Œè€Œä¸€ååœ°é¼ çŸ¿å·¥è®¾æ³•åŒæ—¶æå–äº†ä¸€éƒ¨åˆ†å·²å‘ç°å‚¨é‡çš„æƒ…å†µã€‚ åœ¨è¿™é‡Œï¼Œä¸ºäº†é¿å…åœ°é¼ ä¾¦æŸ¥èŠ±è´¹å¤§éƒ¨åˆ†æ—¶é—´ï¼Œç­‰å¾…çŸ¿å·¥å®Œæˆå·¥ä½œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç¼“å†²é€šé“ã€‚ é¦–å…ˆåˆ›å»ºä¸€ä¸ªå®¹é‡ä¸º3çš„é¢‘é“ã€‚ <br><br><pre> <code class="go hljs">bufferedChan := <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">chan</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre><br> æˆ‘ä»¬å¯ä»¥å°†ä¸€äº›æ•°æ®å‘é€åˆ°ç¼“å†²é€šé“ï¼Œè€Œæ— éœ€ä½¿ç”¨å¦ä¸€ä¸ªgoroutineè¯»å–å®ƒä»¬ã€‚ è¿™æ˜¯ä¸éç¼“å†²é€šé“çš„ä¸»è¦åŒºåˆ«ã€‚ <br><br><img src="https://habrastorage.org/webt/sh/ok/f2/shokf2oswaiw1yk6i-uwplypezi.png"><br><pre> <code class="go hljs">bufferedChan := <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">chan</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { bufferedChan &lt;- <span class="hljs-string"><span class="hljs-string">"first"</span></span> fmt.Println(<span class="hljs-string"><span class="hljs-string">"Sent 1st"</span></span>) bufferedChan &lt;- <span class="hljs-string"><span class="hljs-string">"second"</span></span> fmt.Println(<span class="hljs-string"><span class="hljs-string">"Sent 2nd"</span></span>) bufferedChan &lt;- <span class="hljs-string"><span class="hljs-string">"third"</span></span> fmt.Println(<span class="hljs-string"><span class="hljs-string">"Sent 3rd"</span></span>) }() &lt;-time.After(time.Second * <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { firstRead := &lt;- bufferedChan fmt.Println(<span class="hljs-string"><span class="hljs-string">"Receiving.."</span></span>) fmt.Println(firstRead) secondRead := &lt;- bufferedChan fmt.Println(secondRead) thirdRead := &lt;- bufferedChan fmt.Println(thirdRead) }()</code> </pre><br> è¿™æ ·çš„ç¨‹åºçš„è¾“å‡ºé¡ºåºå¦‚ä¸‹ï¼š <br><br><pre> <code class="hljs dos">Sent <span class="hljs-number"><span class="hljs-number">1</span></span>st Sent <span class="hljs-number"><span class="hljs-number">2</span></span>nd Sent <span class="hljs-number"><span class="hljs-number">3</span></span><span class="hljs-built_in"><span class="hljs-built_in">rd</span></span> Receiving.. first second third</code> </pre><br> ä¸ºé¿å…ä¸å¿…è¦çš„å¤æ‚æ€§ï¼Œæˆ‘ä»¬ä¸ä¼šåœ¨ç¨‹åºä¸­ä½¿ç”¨ç¼“å†²é€šé“ã€‚ ä½†æ˜¯è¯·åŠ¡å¿…è®°ä½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™äº›ç±»å‹çš„æ¸ é“ã€‚ <br> åŒæ ·é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œç¼“å†²çš„é€šé“å¹¶ä¸æ€»æ˜¯ä½¿æ‚¨å…äºé˜»å¡ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªåœ°é¼ ä¾¦å¯Ÿå™¨æ¯”ä¸€ä¸ªåœ°é¼ çŸ¿å·¥å¿«åå€ï¼Œå¹¶ä¸”å®ƒä»¬é€šè¿‡å®¹é‡ä¸º2çš„ç¼“å†²é€šé“è¿æ¥ï¼Œé‚£ä¹ˆå¦‚æœè¯¥åœ°é¼ ä¾¦æŸ¥å™¨åœ¨é€šé“ä¸­å·²ç»æœ‰ä¸¤ä¸ªæ•°æ®ï¼Œåˆ™æ¯æ¬¡å‘é€æ—¶éƒ½ä¼šè¢«é˜»å¡ã€‚ <br><br><h4> å…¨éƒ¨æ”¾åœ¨ä¸€èµ· </h4><br> å› æ­¤ï¼Œæœ‰äº†goroutineå’Œé€šé“ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Goä¸­å¤šçº¿ç¨‹ç¼–ç¨‹çš„æ‰€æœ‰ä¼˜ç‚¹æ¥ç¼–å†™ç¨‹åºã€‚ <br><br><img src="https://habrastorage.org/webt/cq/xa/h7/cqxah7wnmg1wbcjqwhd13gyejaw.png"><br><pre> <code class="go hljs">theMine := [<span class="hljs-number"><span class="hljs-number">5</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>{<span class="hljs-string"><span class="hljs-string">"rock"</span></span>, <span class="hljs-string"><span class="hljs-string">"ore"</span></span>, <span class="hljs-string"><span class="hljs-string">"ore"</span></span>, <span class="hljs-string"><span class="hljs-string">"rock"</span></span>, <span class="hljs-string"><span class="hljs-string">"ore"</span></span>} oreChannel := <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">chan</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) minedOreChan := <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">chan</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) <span class="hljs-comment"><span class="hljs-comment">//  go func(mine [5]string) { for _, item := range mine { if item == "ore" { oreChannel &lt;- item //   oreChannel } } }(theMine) //  go func() { for i := 0; i &lt; 3; i++ { foundOre := &lt;-oreChannel //   oreChannel fmt.Println("From Finder: ", foundOre) minedOreChan &lt;- "minedOre" //   minedOreChan } }() //  go func() { for i := 0; i &lt; 3; i++ { minedOre := &lt;-minedOreChan //   minedOreChan fmt.Println("From Miner: ", minedOre) fmt.Println("From Smelter: Ore is smelted") } }() &lt;-time.After(time.Second * 5) //    </span></span></code> </pre><br> è¿™æ ·çš„ç¨‹åºå°†è¾“å‡ºä»¥ä¸‹å†…å®¹ï¼š <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">From</span></span> Finder: ore <span class="hljs-keyword"><span class="hljs-keyword">From</span></span> Finder: ore <span class="hljs-keyword"><span class="hljs-keyword">From</span></span> Miner: minedOre <span class="hljs-keyword"><span class="hljs-keyword">From</span></span> Smelter: Ore <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> smelted <span class="hljs-keyword"><span class="hljs-keyword">From</span></span> Miner: minedOre <span class="hljs-keyword"><span class="hljs-keyword">From</span></span> Smelter: Ore <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> smelted <span class="hljs-keyword"><span class="hljs-keyword">From</span></span> Finder: ore <span class="hljs-keyword"><span class="hljs-keyword">From</span></span> Miner: minedOre <span class="hljs-keyword"><span class="hljs-keyword">From</span></span> Smelter: Ore <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> smelted</code> </pre><br> ä¸æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç¤ºä¾‹ç›¸æ¯”ï¼Œè¿™æ˜¯ä¸€ä¸ªé‡å¤§æ”¹è¿›ï¼Œç°åœ¨æ‰€æœ‰åŠŸèƒ½éƒ½æ˜¯ç‹¬ç«‹æ‰§è¡Œçš„ï¼Œæ¯ä¸ªåŠŸèƒ½éƒ½åœ¨è‡ªå·±çš„goroutineä¸­ã€‚ å¦å¤–ï¼Œæˆ‘ä»¬ä»é€šé“ä¸­è·å¾—äº†ä¸€æ¡è¾“é€æœºï¼ŒçŸ¿çŸ³åœ¨åŠ å·¥åç«‹å³é€šè¿‡è¯¥è¾“é€æœºè¿›è¡Œè¾“é€ã€‚ ä¸ºäº†ä¿æŒå¯¹é€šé“å’Œgoroutineçš„æ“ä½œçš„åŸºæœ¬äº†è§£ï¼Œæˆ‘çœç•¥äº†ä¸€äº›è¦ç‚¹ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å¯åŠ¨ç¨‹åºæ—¶é‡åˆ°å›°éš¾ã€‚ æœ€åï¼Œæˆ‘æƒ³è¯¦ç»†ä»‹ç»è¯­è¨€çš„è¿™äº›åŠŸèƒ½ï¼Œå› ä¸ºå®ƒä»¬æœ‰åŠ©äºä½¿ç”¨goroutineå’Œé€šé“ã€‚ <br><br><h4> åŒ¿åçŒ©çŒ© </h4><br><img src="https://habrastorage.org/webt/ko/t5/y6/kot5y6lv7cf-3h2zbyghvqwf1is.png"><br><br> æ­£å¦‚æˆ‘ä»¬åœ¨goroutineä¸­è¿è¡Œå¸¸è§„å‡½æ•°ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<b>go</b>å…³é”®å­—ä¹‹åç«‹å³å£°æ˜ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹è¯­æ³•å¯¹å…¶è¿›è¡Œè°ƒç”¨ï¼š <br><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">//   go func() { fmt.Println("I'm running in my own go routine") }()</span></span></code> </pre><br> å› æ­¤ï¼Œå¦‚æœåªéœ€è¦åœ¨ä¸€ä¸ªåœ°æ–¹è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯ä»¥åœ¨ä¸€ä¸ªå•ç‹¬çš„goroutineä¸­è¿è¡Œå®ƒï¼Œè€Œä¸å¿…æ‹…å¿ƒäº‹å…ˆå£°æ˜å®ƒã€‚ <br><br><h4> ä¸»è¦åŠŸèƒ½æ˜¯goroutineã€‚ </h4><br><img src="https://habrastorage.org/webt/c_/bo/y7/c_boy7hpqt3y3krcd1utthdjy3s.png"><br><br> æ˜¯çš„ï¼Œ <b>main</b>å‡½æ•°ç¡®å®å¯ä»¥åœ¨è‡ªå·±çš„goroutineä¸­å·¥ä½œã€‚ è€Œä¸”ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œåœ¨å…¶å®Œæˆä¹‹åï¼Œæ‰€æœ‰å…¶ä»–goroutineä¹Ÿå°†ç»“æŸã€‚ å› æ­¤ï¼Œæˆ‘ä»¬åœ¨<b>ä¸»</b>å‡½æ•°çš„æœ«å°¾æ”¾ç½®äº†ä¸€ä¸ªè®¡æ—¶å™¨è°ƒç”¨ã€‚ è¯¥è°ƒç”¨å°†åˆ›å»ºä¸€ä¸ªé€šé“ï¼Œå¹¶åœ¨5ç§’é’Ÿåå‘å…¶å‘é€æ•°æ®ã€‚ <br><br><pre> <code class="go hljs">&lt;-time.After(time.Second * <span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-comment"><span class="hljs-comment">//      </span></span></code> </pre><br> è¿˜è®°å¾—åœ¨ä»é€šé“è¯»å–æ¶ˆæ¯æ—¶ï¼Œgoroutineå°†è¢«é˜»æ­¢ï¼Œç›´åˆ°æœ‰ä¸œè¥¿å‘é€ç»™å®ƒäº†å—ï¼Ÿ è¿™å°±æ˜¯æ·»åŠ æŒ‡å®šä»£ç æ—¶å‘ç”Ÿçš„æƒ…å†µã€‚ ä¸»goroutineå°†è¢«é˜»æ­¢ï¼Œä½¿å…¶ä»–goroutiasæœ‰5ç§’é’Ÿçš„å·¥ä½œæ—¶é—´ã€‚ è¯¥æ–¹æ³•æ•ˆæœå¾ˆå¥½ï¼Œä½†æ˜¯é€šå¸¸ä½¿ç”¨ä¸åŒçš„æ–¹æ³•æ¥éªŒè¯æ‰€æœ‰goroutineå·²å®Œæˆå…¶å·¥ä½œã€‚ ä¸ºäº†å‘é€æœ‰å…³å·¥ä½œå®Œæˆçš„ä¿¡å·ï¼Œåˆ›å»ºäº†ä¸€ä¸ªç‰¹æ®Šé€šé“ï¼Œé˜»æ­¢äº†ä¸»goroutineå¯¹å…¶è¿›è¡Œè¯»å–ï¼Œå¹¶ä¸”ä¸€æ—¦å­goroutineå®Œæˆå…¶å·¥ä½œï¼Œå®ƒå°†ç«‹å³å†™å…¥è¯¥é€šé“ã€‚ ä¸»goroutineè¢«è§£é”ï¼Œç¨‹åºç»“æŸã€‚ <br><br><img src="https://habrastorage.org/webt/vi/4e/zv/vi4ezv-tyvzugvamrwi3z9xod8a.png"><br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { doneChan := <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">chan</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">//  -  doneChan &lt;- â€œI'm all done!â€ }() &lt;-doneChan //        }</span></span></code> </pre><br><h4> åœ¨èŒƒå›´å¾ªç¯ä¸­ä»ç®¡é“è¯»å– </h4><br> åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œåœ¨goffer-getterå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<b>for</b>å¾ªç¯ä»é€šé“ä¸­é€‰æ‹©äº†ä¸‰ä¸ªå…ƒç´ ã€‚ ä½†æ˜¯ï¼Œå¦‚æœäº‹å…ˆä¸çŸ¥é“è¯¥é€šé“ä¸­å¯ä»¥æœ‰å¤šå°‘æ•°æ®ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°±åƒé›†åˆä¸€æ ·ï¼Œæ‚¨å¯ä»¥å°†channelç”¨ä½œ<b>for-range</b>å¾ªç¯çš„å‚æ•°ã€‚ æ›´æ–°åçš„å‡½æ•°å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="go hljs"> <span class="hljs-comment"><span class="hljs-comment">//  go func() { for foundOre := range oreChan { fmt.Println(â€œMiner: Received â€œ + foundOre + â€œ from finderâ€) } }()</span></span></code> </pre><br> å› æ­¤ï¼ŒçŸ¿å·¥å°†è¯»å–ä¾¦å¯Ÿå‘˜å‘é€ç»™ä»–çš„æ‰€æœ‰å†…å®¹ï¼›åœ¨å‘¨æœŸä¸­ä½¿ç”¨é€šé“å°†ç¡®ä¿è¿™ä¸€ç‚¹ã€‚ è¯·æ³¨æ„ï¼Œå¤„ç†å®Œé€šé“ä¸­çš„æ‰€æœ‰æ•°æ®åï¼Œå¾ªç¯å°†é”å®šè¯»å–ï¼› ä¸ºäº†é¿å…é˜»å¡ï¼Œæ‚¨éœ€è¦é€šè¿‡è°ƒç”¨<b>closeï¼ˆchannelï¼‰å…³é—­é€šé“</b> ã€‚ <br><br><h4> æ— é˜»å¡é¢‘é“è¯»å– </h4><br> ä½¿ç”¨<b>select-case</b>æ„é€ ï¼Œå¯ä»¥é¿å…é˜»å¡æ¥è‡ªç®¡é“çš„è¯»å–ã€‚ ä»¥ä¸‹æ˜¯ä½¿ç”¨æ­¤æ„é€ çš„ç¤ºä¾‹ï¼šgoroutineå°†ä»é€šé“ä¸­è¯»å–æ•°æ®ï¼ˆå¦‚æœåªæœ‰è¯¥é€šé“ï¼‰ï¼Œå¦åˆ™å°†æ‰§è¡Œ<b>é»˜è®¤</b>å—ï¼š <br><br><pre> <code class="go hljs">myChan := <span class="hljs-built_in"><span class="hljs-built_in">make</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">chan</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">go</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ myChan &lt;- â€œMessage!â€ }() <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> msg := &lt;- myChan: fmt.Println(msg) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: fmt.Println(â€œNo Msgâ€) } &lt;-time.After(time.Second * <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> msg := &lt;- myChan: fmt.Println(msg) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: fmt.Println(â€œNo Msgâ€) }</code> </pre><br> å¯åŠ¨åï¼Œæ­¤ä»£ç å°†è¾“å‡ºä»¥ä¸‹å†…å®¹ï¼š <br><br><pre> <code class="hljs swift"><span class="hljs-type"><span class="hljs-type">No</span></span> <span class="hljs-type"><span class="hljs-type">Msg</span></span> <span class="hljs-type"><span class="hljs-type">Message!</span></span></code> </pre><br><h4> æ— é˜»å¡é¢‘é“å½•åˆ¶ </h4><br> ä½¿ç”¨ç›¸åŒçš„<b>select-case</b>ç»“æ„å¯ä»¥é¿å…åœ¨å†™å…¥é€šé“æ—¶å‘ç”Ÿé”å®šã€‚ è®©æˆ‘ä»¬å¯¹ä¸Šä¸€ä¸ªç¤ºä¾‹è¿›è¡Œä¸€äº›å°çš„ç¼–è¾‘ï¼š <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> myChan &lt;- â€œmessageâ€: fmt.Println(â€œsent the messageâ€) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: fmt.Println(â€œno message sentâ€) }</code> </pre><br><h4> éœ€è¦è¿›ä¸€æ­¥ç ”ç©¶ </h4><br><img src="https://habrastorage.org/webt/d6/69/yd/d669ydnx51qv_h0tf-p-lbo8xyu.png"><br><br> æœ‰å¤§é‡æ–‡ç« å’ŒæŠ¥å‘Šæ›´è¯¦ç»†åœ°ä»‹ç»äº†é€šé“å’Œgoroutineçš„å·¥ä½œã€‚ ç°åœ¨ï¼Œå€ŸåŠ©ä»£ç ï¼Œæ‚¨å¯¹å¦‚ä½•ä»¥åŠå¦‚ä½•ä½¿ç”¨è¿™äº›å·¥å…·æœ‰äº†æ¸…æ™°çš„äº†è§£ï¼Œæ‚¨å¯ä»¥ä»ä»¥ä¸‹ææ–™ä¸­è·å¾—æœ€å¤§æ”¶ç›Šï¼š <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Google I / O 2012-Goå¹¶å‘æ¨¡å¼</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Rob Pike-â€œå¹¶å‘ä¸æ˜¯å¹¶è¡Œæ€§â€</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GopherCon 2017ï¼šçˆ±å¾·åÂ·ç©†å‹’ï¼ˆEdward Mullerï¼‰-åæ¨¡å¼</a> </li></ul><br><br> æ„Ÿè°¢æ‚¨æŠ½å‡ºå®è´µçš„æ—¶é—´é˜…è¯»ã€‚ å¸Œæœ›æˆ‘èƒ½å¸®åŠ©æ‚¨äº†è§£é¢‘é“ï¼Œgoroutinesä»¥åŠå¤šçº¿ç¨‹ç¨‹åºä¸ºæ‚¨å¸¦æ¥çš„å¥½å¤„ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN412715/">https://habr.com/ru/post/zh-CN412715/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN412703/index.html">åœ¨ä¸Veeamçš„ä¼šè®®ä¸Šï¼šå›é¡¾VeeamON 2018å¹¶é‚€è¯·å‚åŠ åœ¨è«æ–¯ç§‘ä¸¾è¡Œçš„VeeamONè®ºå›</a></li>
<li><a href="../zh-CN412705/index.html">å…¥ä¾µç³»ç»Ÿï¼šæˆ‘ä»¬å¦‚ä½•æ”¹å˜å¼€å‘äººå‘˜çš„é€‰æ‹©å’Œé€‚åº”</a></li>
<li><a href="../zh-CN412709/index.html">å“¦ï¼Œæˆ‘çš„ä»£ç ï¼šåŒå­¦çš„æœºå™¨å­¦ä¹ å’Œåˆ†æ</a></li>
<li><a href="../zh-CN412711/index.html">è¦æ£€æŸ¥çˆ±å› æ–¯å¦æ–¹ç¨‹ï¼Œæ‚¨éœ€è¦æ‰“ä¸€ä¸ªé»‘æ´</a></li>
<li><a href="../zh-CN412713/index.html">May Power BIæ›´æ–°ä¸­æœ€æœ‰è¶£çš„åˆ›æ–°æ¦‚è¿°</a></li>
<li><a href="../zh-CN412717/index.html">ä½ å¥½å¤–æ˜Ÿäººï¼› è¯·ä¸è¦æ€æ­»æˆ‘ä»¬</a></li>
<li><a href="../zh-CN412719/index.html">MDGå®£å¸ƒè¯­éŸ³åˆæˆç«èµ›</a></li>
<li><a href="../zh-CN412721/index.html">äººç±»å‘ç°å¤–æ˜Ÿäººçš„ä¸‰ä¸ªå¸Œæœ›</a></li>
<li><a href="../zh-CN412723/index.html">å¯»æ‰¾ä¸€ç§æ–°çš„åäº¿ç¾å…ƒé¢œè‰²</a></li>
<li><a href="../zh-CN412725/index.html">å¦‚ä½•ä½¿æ‚¨çš„ITåŸºç¡€æ¶æ„å˜å¾—æ— èŠ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>