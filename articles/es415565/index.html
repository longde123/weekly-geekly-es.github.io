<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßö üíÖüèø üçá Por qu√© (hoy) el retorno 444 no siempre es √∫til ü¶ä üëê üìÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El servidor web Nginx tiene un maravilloso c√≥digo de respuesta 444 que "cierra" la conexi√≥n sin enviar datos. Esta funcionalidad es muy √∫til para filt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Por qu√© (hoy) el retorno 444 no siempre es √∫til</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415565/">  El servidor web Nginx tiene un maravilloso c√≥digo de respuesta 444 que "cierra" la conexi√≥n sin enviar datos.  Esta funcionalidad es muy √∫til para filtrar tr√°fico espurio: si estamos seguros de que el cliente no es v√°lido seg√∫n algunos criterios, no hay necesidad de notificarlo, por ejemplo, con la respuesta n√∫mero 403.  Es m√°s eficiente simplemente detener la transferencia de datos, que, a menudo, puede reducir significativamente la carga en el servidor. <br><br>  Las recomendaciones para usar tales respuestas se pueden encontrar en todas partes en las instrucciones sobre el bloqueo de clics en enlaces de sitios populares y el spam de referencia, la protecci√≥n contra DDoS, etc. <br><br>  Y, en general, a lo largo de los a√±os, estos consejos podr√≠an usarse casi sin mirar, pero ... los navegadores modernos no se detienen y peri√≥dicamente nos presentan nuevas sorpresas. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Programa obligatorio</b> <div class="spoiler_text"> <u>Servidor:</u> <br><br><pre><code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> uname <span class="hljs-literal"><span class="hljs-literal">-orm</span></span> FreeBSD <span class="hljs-number"><span class="hljs-number">11.1</span></span><span class="hljs-literal"><span class="hljs-literal">-STABLE</span></span> amd64</code> </pre> <br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> nginx <span class="hljs-literal"><span class="hljs-literal">-v</span></span> nginx version: nginx/<span class="hljs-number"><span class="hljs-number">1.15</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  <u>Cliente:</u> <br><br><pre> <code class="hljs powershell">&gt;ver Microsoft Windows [<span class="hljs-type"><span class="hljs-type">Version</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-type"><span class="hljs-type">.15063</span></span>]</code> </pre><br>  Google Chrome 67.0.3396.99 (versi√≥n oficial), (64 bits) <br>  Firefox Quantum 61.0 (64 bits) <br></div></div><br>  Tom√© por experiencia solo los navegadores Chrome y Firefox.  No porque el resto no tenga pecado, solo el comportamiento descrito a continuaci√≥n fue bastante estable en los dos. <br><br>  Entonces, tenemos un sitio web y queremos restringir el acceso a la ubicaci√≥n sin condiciones y sin transmitir ning√∫n dato: <br><br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">server</span></span> { ... location = /code/444 { return 444; } ... }</code> </pre><br>  En espera: <br><br><ul><li>  el navegador enviar√° <b>una</b> solicitud; </li><li>  el servidor recibir√° <b>una</b> solicitud, cerrar√° la conexi√≥n y escribir√° <b>una</b> l√≠nea con el c√≥digo <i>444</i> en el registro; </li><li>  al no recibir datos, el navegador mostrar√° un error y dejar√° de comunicarse con el servidor. </li></ul><br>  Para mayor claridad, mostramos nuestras expectativas con la l√≠nea de registro Nginx: <br><br><pre> <code class="hljs powershell"><span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">50</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"</span></span></code> </pre><br>  Realidad de Chrome: <br><br><pre> <code class="hljs powershell"><span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">50</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">50</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">50</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">52</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"</span></span></code> </pre><br>  Chrome envi√≥ una solicitud, no recibi√≥ una respuesta, inmediatamente envi√≥ otra solicitud, despu√©s de lo cual comenz√≥ a verificar peri√≥dicamente la disponibilidad del sitio. <br><br>  Realidad de Firefox: <br><br><pre> <code class="hljs powershell"><span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">39</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">39</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">39</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">39</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">39</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">39</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">40</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /code/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span></code> </pre><br>  Firefox decidi√≥ no ser mezquino e inmediatamente envi√≥ 20 solicitudes (a veces 10).  Pero luego no hace ning√∫n "chequeo". <br><br>  Al mismo tiempo, informa en el depurador como para una solicitud: <br><br><div class="spoiler">  <b class="spoiler_title">Encabezado de spoiler</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/f13/b5d/2b7/f13b5d2b7cd47976ee676f44569dbe86.png" alt="imagen"><br></div></div><br>  Por lo tanto, esperando recibir una solicitud del cliente, de hecho, recibimos 3-20 solicitudes.  Adem√°s de las llamadas que son completamente innecesarias para nosotros, existe el riesgo de alimentar dicho registro, por ejemplo, a un script anti-DDoS y bloquear esta ip.  Y parecer√≠a la mitad del problema, porque ya "le dimos" 444, es decir, no sentimos pena por √©l, pero puede suceder al rev√©s: le mostraremos al cliente lo que no planeamos en absoluto. <br><br>  Modificar la configuraci√≥n: <br><br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">map</span></span> $http_referer $code_if { <span class="hljs-string"><span class="hljs-string">"~*https://habr.com/post/415565/"</span></span> 1; <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> 1; default 0; } ... server { ... location = /code/444 { return 444; } ... location = /codeif/444 { if ( $code_if = 1 ) { return 444; } add_header <span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span> <span class="hljs-string"><span class="hljs-string">"text/html; charset=UTF-8"</span></span> always; return 200 <span class="hljs-string"><span class="hljs-string">"Expected code 444"</span></span>; } ... }</code> </pre><br>  Aqu√≠ hemos prohibido la entrega de contenido a todos los clientes con un referente " <br>  <code>https://habr.com/post/415565/</code> "al cambiar a la p√°gina <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tison.ru/codeif/444</a> <br><br>  En espera: <br><br>  Conociendo las caracter√≠sticas ya descritas anteriormente, asumimos que los navegadores har√°n m√°s de una solicitud, pero no recibir√°n la respuesta n√∫mero 200 del servidor. <br><br>  En forma de registro, nuevamente, esperamos una o m√°s l√≠neas del formulario: <br><br><pre> <code class="hljs powershell"><span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">52</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"</span></span></code> </pre><br>  Al depurar en la consola, todo funciona como se esperaba.  El servidor cerr√≥ la conexi√≥n y no recibimos contenido: <br><br><pre> <code class="hljs vbscript">$ curl --referer <span class="hljs-string"><span class="hljs-string">"https://habr.com/post/415565/"</span></span> tison.ru/codeif/<span class="hljs-number"><span class="hljs-number">444</span></span> curl: (<span class="hljs-number"><span class="hljs-number">52</span></span>) <span class="hljs-literal"><span class="hljs-literal">Empty</span></span> reply from <span class="hljs-built_in"><span class="hljs-built_in">server</span></span></code> </pre><br>  Bueno, la realidad del navegador. <br><br>  Cromo: <br><br><pre> <code class="hljs powershell"><span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">58</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">58</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">58</span></span>:<span class="hljs-number"><span class="hljs-number">13</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36"</span></span></code> </pre><br>  Firefox <br><br><pre> <code class="hljs powershell"><span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">29</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">29</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">29</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">29</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">444</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"http://tison.ru/ref"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /codeif/444 HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span> <span class="hljs-number"><span class="hljs-number">18.12</span></span>.<span class="hljs-number"><span class="hljs-number">12.29</span></span> - - [<span class="hljs-number"><span class="hljs-number">28</span></span>/<span class="hljs-type"><span class="hljs-type">Jun</span></span>/<span class="hljs-number"><span class="hljs-number">2018</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span> +<span class="hljs-number"><span class="hljs-number">0000</span></span>] <span class="hljs-string"><span class="hljs-string">"GET /favicon.ico HTTP/1.1"</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-number"><span class="hljs-number">6782</span></span> <span class="hljs-string"><span class="hljs-string">"-"</span></span> <span class="hljs-string"><span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0"</span></span></code> </pre><br>  Despu√©s de hacer varias solicitudes de solicitud "honestas", ambos navegadores descartaron la referencia y mostraron con calma la p√°gina bloqueada.  Firefox, sin embargo, no siempre hace esto.  En mis pruebas, ~ en el 15% de las solicitudes, lo que ayuda a√∫n m√°s en el an√°lisis. <br><br>  Este comportamiento se ha observado durante mucho tiempo, pero cuando exactamente Chrome y Firefox cambiaron a este modo de operaci√≥n, no puedo decirlo.  Sin embargo, tambi√©n, y cu√°nto tiempo funcionar√° este modo. <br><br>  Entonces, el uso de <i>return 444</i> no siempre producir√° los resultados esperados.  Bueno, ma√±ana, esperamos ver a m√°s desarrolladores de navegadores complacernos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es415565/">https://habr.com/ru/post/es415565/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es415555/index.html">El reverso del neuromancer. Parte 3: renderizado terminado, haz el juego</a></li>
<li><a href="../es415557/index.html">C√≥dec 2 + red neuronal = podcast completo en un disquete</a></li>
<li><a href="../es415559/index.html">La historia del desarrollo de los centros de llamadas o c√≥mo las tecnolog√≠as han cambiado el trabajo de los operadores con los clientes.</a></li>
<li><a href="../es415561/index.html">C√≥mo enviar eventos de Veeam Backup & Replication a mensajer√≠a instant√°nea</a></li>
<li><a href="../es415563/index.html">El tratamiento de Scrum "mec√°nico". Parte 2. Equipo</a></li>
<li><a href="../es415567/index.html">Transmita video h264 sin transcodificar desde una c√°mara Logitech C920</a></li>
<li><a href="../es415569/index.html">C√ìMO configurar ubuntu 18.04 sendmail + DKIM + SPF + DMARC o c√≥mo logr√© ingresar al basti√≥n de Gmail</a></li>
<li><a href="../es415571/index.html">kaggle: identificaci√≥n del modelo de c√°mara de IEEE</a></li>
<li><a href="../es415573/index.html">Optimizaci√≥n de un modelo para impresi√≥n 3D usando el software Blender como ejemplo</a></li>
<li><a href="../es415575/index.html">Funciones para documentar bases de datos PostgreSQL. Primera parte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>