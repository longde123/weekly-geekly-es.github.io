<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🎨 🧓🏿 🤪 ORM: Warum diese Aufgabe keine Lösung hat, aber damit zu tun hat, muss doch etwas sein 🧘🏽 👨‍👧 👩🏿‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Moderne Informationstechnologien beeindrucken mit ihrer Leistungsfähigkeit, sie sind überwältigt von den sich bietenden Möglichkeiten, sie sind entmut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ORM: Warum diese Aufgabe keine Lösung hat, aber damit zu tun hat, muss doch etwas sein</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458286/"><img src="https://habrastorage.org/webt/ih/bm/-r/ihbm-rqpvgk6lhwhg43njjt3i3c.jpeg"><br><br>  Moderne Informationstechnologien beeindrucken mit ihrer Leistungsfähigkeit, sie sind überwältigt von den sich bietenden Möglichkeiten, sie sind entmutigt von der technischen Perfektion, die ihnen innewohnt, aber es gibt einen lächerlichen Punkt, an dem die IT immer wieder ihre Zähne bricht.  Zeigen Sie die Benutzerdaten aus der Datenbank an, holen Sie sich Eingaben von ihm, legen Sie sie wieder in der Datenbank ab und zeigen Sie das Ergebnis.  Eingabefelder, Schaltflächen, Häkchen, Inschriften - es scheint, dass sie so unerschwinglich kompliziert sein können, dass Puzzle-Konstruktionen wie Frameworks auf Template-Engines auf Frameworks auf Transpilern erstellt werden müssen?  Und warum haben wir trotz aller enormen Anstrengungen die Tatsache, dass die Spielzeugbeispiele im Tutorial natürlich einfach und angenehm gemacht werden, aber sobald das Toolkit auf die wirklichen Aufgaben des wirklichen Lebens trifft ... wie man es weicher sagt ... mit zunehmender Komplexität der zu lösenden Aufgaben, gibt es eine starke Nichtlinearität der Zunahme Umsetzungsschwierigkeiten.  Nun, es wäre eine Frage von etwas wirklich Rätselhaftem auf der Ebene der theoretischen Physik oder der Weltraumtechnologie, denn es gibt sowieso keine - Schaltflächen und Häkchen.  Warum vergiftet dieser Unsinn jahrzehntelang das Leben von Bürgern und Arbeitskollektiven? <br><br>  Die Gründe sind wahrscheinlich wie immer viele.  Wahrscheinlich sind alle auf die eine oder andere Weise erwägenswert, aber hier und jetzt werden wir über die ORM-Aufgabe (Object Relational Mapping) sprechen, die immer in irgendeiner Form hinter einigen dieser „Schaltflächen und Häkchen“ steht. <br><a name="habracut"></a><br><h4>  Was wissen wir über ORM? </h4><br><ol><li>  Das Speichern von Daten in relationalen Tabellen bedeutet nicht, dass dies eine sehr einfache Angelegenheit ist, aber im Allgemeinen sind sowohl die Idee als auch die Art ihrer Anwendung ziemlich klar und gut recherchiert. </li><li>  Bei der Objektprogrammierung ist nicht alles so gut (es gibt mehrere konkurrierende Ansätze), aber im Allgemeinen ist bei der Implementierung und Anwendung von Technologien auch alles mehr oder weniger klar. </li><li>  Sowohl das als auch das andere - über die Daten, ihre Speicherung und Verarbeitung.  Das ist in der Tat ungefähr das Gleiche. </li><li>  Es erscheint uns logisch, dass es eine einfache, verständliche, bequeme, vorhersehbare und universelle Brücke zwischen den beiden Welten geben sollte. </li><li>  Und jedes Mal, wenn wir diese Brücke leicht finden, funktionieren das Unglück, ihre Einfachheit, Verständlichkeit, Bequemlichkeit, Vorhersehbarkeit und Universalität nicht über einfache Beispiele aus Tutorials hinaus. </li><li>  Jeder leidet: die Entwickler, die eine Menge extrem langweiliger Arbeit leisten müssen, und die Benutzer, die mit ungeschickter Software kämpfen müssen, und das Geschäft, dessen Verwirklichung sich plötzlich als unerträglich lang und teuer herausstellt, und die gesamte Branche. </li><li>  Ich habe viele verschiedene ORMs gesehen, aber keine guten.  Das heißt, eines, das sich über einfache Beispiele hinaus nicht in eine Last und ein prokrustisches Bett verwandelt. </li></ol><br><h4>  Warum ist alles so bizarr? </h4><br>  Die ideologische Grundlage der Theorie und Praxis relationaler Datenbanken ist die Prädikatenrechnung, dh ein Zweig der Mathematik.  Was OOP betrifft, fehlt dort eine ähnliche ideologische Grundlage.  Man kann versuchen, die Grundidee von OOP so zu formulieren: Da die Welt aus Objekten besteht, wäre es bequem, diese Welt zu modellieren, indem Objekte in einem Softwaresystem erstellt werden.  In diesem Sinne zwei Fehler gleichzeitig.  Erstens besteht die Welt selbst nicht und nie aus Objekten.  Zweitens tut es mir leid, aber warum muss das Programm die Welt simulieren?  Das heißt, wir haben eine konzeptionell falsche Aussage, die perfekt durch eine bedeutungslose Aussage des Problems ergänzt wird. <br><br>  Jedes ORM ist ein Versuch, die einheitliche Entsprechung zwischen dem Zweig der Mathematik und einer losen Reihe verschiedener Praktiken klar zu erweitern, basierend auf Überlegungen zur Zweckmäßigkeit, historisch etablierten Ansätzen und oft auch auf Legenden, Meinungen von Behörden und einfach falschen Vorstellungen.  In vitro kann es zum Arbeiten gebracht werden, aber in vivo ist es dazu verdammt, erbärmlich auszusehen und mehr Trauer als Freude zu bringen. <br><br><h4>  Über die Unvermeidlichkeit der Objektorientierung </h4><br>  Die Notwendigkeit der Objektorientierung unserer Software ist jedoch unsere unvermeidliche Realität.  Diese Unvermeidlichkeit beruht in erster Linie auf der Tatsache, dass das Arbeiten mit Objekten die Essenz und Grundlage jeder unserer Aktivitäten ist.  Die Welt selbst besteht nicht aus Objekten, aber um etwas in dieser Welt zu verstehen und etwas mit dieser Welt zu tun, deklarieren wir selbst ihre Teile als Objekte, nennen sie Namen, versuchen, ihr Verhalten zu verstehen, gelten für er bemüht sich, die gewünschten Ergebnisse zu erzielen.  Dies ist unsere Funktionsweise, und es ist unmöglich, sie zu verlassen, und es ist nicht notwendig.  Alles ist ein Objekt, nicht weil es wirklich ist, sondern weil wir es nicht anders machen können.  Das, was in keiner Weise ein Objekt sein kann, liegt völlig außerhalb der Grenzen unserer Fähigkeit zu verstehen und kann nicht als Gegenstand unserer Bemühungen dienen. <br><br>  Selbst wenn das Programm ohne die Verwendung von OOP-Techniken geschrieben wurde, enthält es unweigerlich Objekte (im weiteren Sinne des Wortes), indem es manipuliert, welche Probleme der Entwickler löst - Variablen, Datentypen, Operatoren, Algorithmen, syntaktische Konstruktionen, Funktionen, Module.  Aus Sicht des Benutzers verfügt das Programm auch über eine Reihe von Objekten, mit denen es interagiert - Schaltflächen, Beschriftungen, Eingabefelder, Seiten, Websites und das gesamte System. <br><br><h4>  Was wir in unseren Datenbanken speichern </h4><br>  Wie oben erwähnt, basieren relationale Datenbanken auf Prädikatenrechnung.  Ein Prädikat ist eine Tatsache, die formuliert und in unserem Fall auf einem Medium gespeichert ist.  Nur für den Fall, ich stelle fest, dass es in der relationalen Datenbank nicht nur und nicht so sehr um Beziehungen zwischen Tabellen durch Fremdschlüssel geht.  In der richtigen Terminologie sind Beziehungen das, was wir einfach Tabellen nennen.  Das heißt, selbst wenn Ihre Datenbank nur eine Tabelle mit zwei Spalten enthält (z. B. Name und Telefonnummer), verfügen Sie bereits über eine relationale Datenbank, die die Beziehung zwischen zwei Sätzen herstellt, in diesem Fall Sätzen von Namen und Telefonnummern.  <i>Eine relationale Datenbank speichert keine Objekte, sondern Fakten.</i>  Gespeicherte Fakten haben natürlich ein Objekt („Worum geht es bei dieser Tatsache?“). Wenn wir versuchen, dem System die Beantwortung dieser Frage beizubringen, haben wir Entitäten, dh Objekte, mit denen Fakten verknüpft sind.  Wenn Sie richtig arbeiten, entsteht die Struktur unserer Basis aus einer Reihe von Antworten auf die Frage „Welche Art von Fakten wollen wir behalten?“. Und erst in der nächsten Phase erhalten wir etwas, das Objekten ähnelt, die der Objektivität Fakten verleihen.  Sie können natürlich „aus Objekten“ entwerfen, aber ich würde dies nur bei Laborarbeiten in Themen empfehlen, die nicht direkt mit dem Datenbankdesign zusammenhängen.  Die Gefahr schwerer architektonischer Fehleinschätzungen ist zu groß.  Darüber hinaus ist es zumindest unpraktisch. <br><br>  <b>Ein kleiner Exkurs über Objektdatenbanken.</b>  Ein sehr einfacher Gedanke: Wenn wir die Probleme mit ORM satt haben, sollten wir vielleicht etwas mit dem Teil „R“ machen?  Lassen Sie unsere Datenbank kein hartes und anspruchsvolles relationales Monster sein, sondern eine modische Jugend, die speziell auf die Aufbewahrung von Objekten zugeschnitten ist.  Zum Beispiel eine schematische NoSQL-Basis.  Am Ende stellt sich jedoch plötzlich heraus, dass NoSQL-ähnliche ORMs noch umständlicher und unnatürlicher sind als die guten alten SQL-ORMs.  Auf jeden Fall können wir gerne ein schaltungsfreies DBMS betreiben, aber es gibt keine schaltungsfreien Daten in der Natur.  Es gibt nichts Hilfloseres, Verantwortungsloseres und Unmoralischeres als ORM für schaltungslose Datenbanken. <br><br><h4>  Gutes ORM </h4><br>  Ein guter ORM ist der fehlende ORM.  Nun, im Ernst.  Schauen Sie sich eines Ihrer ORM-Systeme an und versuchen Sie ehrlich, Ihre Frage zu beantworten: Was sind die Vorteile dieses Monsters?  Was ist der Grund für seine Verwendung, außer für unerfüllte Glücksversprechen und wiederholt voreingenommene diskreditierte?  Natürlich gibt es einige nützliche nützliche Dinge, aber was sind sie vor dem Hintergrund eingeführter architektonischer Verformungen und Leistungsprobleme, die ständig aus heiterem Himmel auftreten? <br><br>  In der Regel ist die Datenbank-API auf niedriger Ebene einfach, bequem, vollständig und konsistent.  Normalerweise genug Finger, um alle Funktionen aufzulisten.  Sie zu lernen ist keine gute Nachricht, was für eine Aufgabe. <br><br>  Ich werde versuchen, eine Reihe von Architekturprinzipien zu skizzieren, mit denen Sie Objekte einer Datenbank zuordnen können, ohne ORM zu verwenden: <br><br><ol><li>  <i>Wir speichern die Fakten, bearbeiten Objekte.</i>  Denken Sie daran, dass die Datenbank Fakten speichert und die an der Datenverarbeitung beteiligten Objektmodelle Projektionen von Faktensätzen aus verschiedenen Blickwinkeln sind.  Für das gegebene Beispiel mit Namen und Telefonnummern können wir beispielsweise die Abonent-Klasse haben, für die mehrere Nummern gespeichert werden können, und auch die PhoneNumber-Klasse, für die mehrere Abonnenten festgelegt werden können (vergessen Sie nicht, dass wir zusätzlich zu den persönlichen Handynummern haben wo es noch Wohnungs- und Bürotelefone gibt).  Und die Tabelle in der Datenbank ist nur eine, die die Viele-zu-Viele-Beziehung zwischen vielen Namen und Telefonnummern definiert.  Nur zwei verschiedene Projektionen.  Übrigens lässt sich dieser Ansatz normalerweise auf viel komplexere Fälle skalieren, sodass Sie so nützliche Klassen im System haben können, wie beispielsweise "Durchschnittsumsatz für einen bestimmten Zeitraum nach einer bestimmten Kombination von Kriterien". </li><li>  <i>Fakten werden über eine problemorientierte API in Objekte projiziert und umgekehrt.</i>  Ohne eine Lösung anzuwenden, die behauptet, universell zu sein.  Wenn Sie immer noch nicht wissen, wie Sie praktische APIs erstellen, erfahren Sie, wie.  Und was wichtig ist, bringen Sie sich selbst bei, sie sofort zu dokumentieren. </li><li>  <i>Vor allem bestellen.</i>  Wenn Sie die klassische Version eines DBMS mit einem starren Datenschema verwenden, bringt dieses Schema an sich Ordnung in die Arbeit mit Daten.  Die zusätzliche Struktur, die durch die Struktur der Objekte codiert wird, ist einfach redundant.  Wenn Sie ein schemafreies DBMS verwenden, müssen Sie natürlich einige Anstrengungen unternehmen, um sicherzustellen, dass Ihre Datenbank nicht zu einem Müllberg wird, da verschiedene Entwickler unterschiedliche Vorstellungen davon haben, was gespeichert wird. </li><li>  <i>DBMS-Unabhängigkeit (falls erforderlich).</i>  Wenn die für Sie interessanteste Eigenschaft von ORM die DBMS-Unabhängigkeit ist, verwenden Sie spezielle Tools wie ODBC, JDBC, ADO, oder erstellen Sie eine eigene Abstraktionsebene, falls dies nicht möglich ist.  Es ist nicht so schwierig, wie es zunächst scheinen mag.  Sie benötigen für Ihre Aufgabe nicht Unterstützung für absolut alle Funktionen von absolut allen DBMS, oder? </li><li>  <i>Vergessen Sie nicht zusätzliche Aspekte der Arbeit mit Daten.</i>  B. den gemeinsamen Zugriff auf Daten (die beliebig komplex sein können), die Überwachung, die Replikation und vieles mehr.  Aber hier habe ich gute Nachrichten für Sie: weil in Ihrem Lieblings-ORM das Hinzufügen.  Der Aspekt wird immer noch nach dem Prinzip „Sie werden nicht allen gefallen, essen, was Sie geben“ umgesetzt. Die Ablehnung eines zweifelhaften Dienstes, mit dem Sie mehr zu tun haben als zusammenzuarbeiten, wird sich letztendlich als strategisch korrekte Entscheidung herausstellen. </li></ol><br><h4>  Insgesamt </h4><br>  ORM ist ein sehr schmerzhaftes Thema für unsere Branche.  In einer Zeit, in der künstliche Cloud-Intelligenz die Quantenblockkette durchpflügt, ist die überwiegende Mehrheit der Belegschaft damit beschäftigt, Geschäftslogik und eine Benutzeroberfläche mit Datenbanken zu verbinden.  Millionen von Zeilen schrecklichen Codes, die mit Mikroskopen genagelt werden, Schmerz und Verzweiflung begleiten diesen kreativen Prozess überall.  Eine der Wurzeln dieses traurigen Zustands ist das äußerst anhaltende Missverständnis, dass ein universelles ORM grundsätzlich möglich ist.  Aber es ist unmöglich, und es gibt einen fundamentalen Grund dafür, der nicht beseitigt werden kann.  Das Bewusstsein für diese Tatsache ist der erste Schritt, um aus diesem Albtraum herauszukommen.  Es gibt einen Ausweg, es gibt Alternativen, aber zuerst müssen Sie erkennen, fühlen und lernen, den Fokus der Aufmerksamkeit zu behalten. <br><br>  PS Ich entschuldige mich aufrichtig bei den Brüdern in diesem Beruf, die viel Zeit und Mühe investiert haben, um zahlreiche universelle Bestleistungen in der Welt von ORM zu erzielen.  Es tut mir wirklich leid. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de458286/">https://habr.com/ru/post/de458286/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de458272/index.html">Meine Güte! für Reisende - die Geschichte eines Heimprojekts</a></li>
<li><a href="../de458276/index.html">Die erste Simulation des Universums basierend auf KI wurde entwickelt. Ein neuronales Netzwerk macht seine Arbeit so gut, dass es sogar komisch ist</a></li>
<li><a href="../de458278/index.html">Wie Hacker Microsoft Excel gegen sich selbst einsetzen</a></li>
<li><a href="../de458280/index.html">Ein weiterer Schritt gegen Ende von Moores Gesetz</a></li>
<li><a href="../de458282/index.html">Vor Netscape: Vergessene Webbrowser der frühen neunziger Jahre</a></li>
<li><a href="../de458288/index.html">Anton Belichkov: „Der einfachste Weg, die Leistungsfähigkeit von OpenStreetMap zu verstehen, besteht darin, die Karte selbst zu bearbeiten.“</a></li>
<li><a href="../de458290/index.html">Biosynthetischer Dual-Core-Computer in einer lebenden Zelle</a></li>
<li><a href="../de458292/index.html">PHP Digest Nr. 159 (17. Juni - 1. Juli 2019)</a></li>
<li><a href="../de458298/index.html">Machte ein großes halbes Zahnrad auf Sonnenkollektoren für 250.000 Rubel (2 Teile)</a></li>
<li><a href="../de458300/index.html">Weiterentwicklung des beliebtesten Tools jedes Entwicklers (in Visual Studio)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>