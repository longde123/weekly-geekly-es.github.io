<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëâüèæ üéπ üë®‚Äçüë®‚Äçüë¶‚Äçüë¶ Optimizaci√≥n de la interfaz de usuario de Unity ‚òØÔ∏è üßìüèæ üî•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo analiza la optimizaci√≥n de los elementos de la interfaz de usuario de proyectos realizados en Unity. Basado en informaci√≥n de documentac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Optimizaci√≥n de la interfaz de usuario de Unity</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/470608/"><p><img src="https://habrastorage.org/webt/zc/iw/5s/zciw5sbh_cn-pp5gmmxwu5rznm0.png" alt="imagen"></p><br><p>  Este art√≠culo analiza la optimizaci√≥n de los elementos de la interfaz de usuario de proyectos realizados en Unity.  Basado en informaci√≥n de documentaci√≥n oficial y experiencia personal, trat√© de explicar claramente los principios de operaci√≥n de los elementos de la interfaz de usuario.  Tambi√©n aqu√≠ encontrar√° consejos pr√°cticos que ayudar√°n a mejorar el rendimiento de su proyecto con respecto a la interfaz de usuario. </p><a name="habracut"></a><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Terminolog√≠a</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Introductorio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Representaci√≥n de la interfaz de usuario de Unity</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Redise√±ando la interfaz de usuario</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Malla</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Consejos generales de optimizaci√≥n de la interfaz de usuario</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Trabaja con texto y su optimizaci√≥n</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Atlas de sprites</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Resumir los m√©todos de optimizaci√≥n.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuentes</a> </li></ul><br><h3 id="anchorthermsanchorterminologiya"><a name="therms"></a>  Terminolog√≠a </h3><br><p> <strong>Los elementos de la interfaz de usuario</strong> son todos los elementos de Unity relacionados con la creaci√≥n de una interfaz de usuario.  Esto incluye, por ejemplo: bot√≥n, texto, imagen, men√∫ desplegable, etc. <br>  <strong>Canvas (canvas)</strong> : el elemento b√°sico de la interfaz de usuario, que es un contenedor para el resto de los elementos. <br>  <strong>Malla</strong> : un conjunto de par√°metros que describen un modelo 3D. <br>  <strong>Un quad</strong> es una malla que es un cuadril√°tero. <br>  <strong>Lote</strong> : combina mallas de objetos en una malla grande para una representaci√≥n m√°s r√°pida. <br>  <strong>Draw-call</strong> : un comando para dibujar desde el motor a la API de gr√°ficos (por ejemplo, OpenGL o Direct3D). <br>  <strong>Cola transparente</strong> : una cola para representar objetos transparentes. <br>  <strong>Mezcla alfa</strong> ( <strong>mezcla</strong> alfa): un algoritmo para mezclar p√≠xeles en el canal alfa para obtener una imagen con transparencia. <br>  <strong>Atlas</strong> es un tipo de recurso que combina varias texturas en una. </p><br><h3 id="anchorenteranchorvvodnaya"><a name="enter"></a>  Introductorio </h3><br><p>  En la optimizaci√≥n de la interfaz de usuario, no hay reglas universales que funcionen en cualquier situaci√≥n.  Todo se reduce a encontrar un equilibrio entre el costo del procesamiento por lotes y el n√∫mero de llamadas de extracci√≥n.  Se pueden distinguir cuatro problemas principales: </p><br><ul><li>  Carga de GPU demasiado alta (exceso de carga en el render); </li><li>  demasiada carga de CPU al reconstruir el lienzo; </li><li>  demasiados elementos cambiantes que conducen a la reconstrucci√≥n del lienzo; </li><li>  La carga de la CPU es demasiado grande para la generaci√≥n de malla (generalmente asociada con el texto). </li></ul><br><h3 id="anchordrawanchorotrisovka-unity-ui"><a name="draw"></a>  Representaci√≥n de la interfaz de usuario de Unity </h3><br><p>  El elemento b√°sico de la interfaz de usuario de Unity es el lienzo.  Es responsable de generar, ordenar y renderizar mallas de elementos de interfaz secundarios.  Todos los elementos de la interfaz de usuario deben ser elementos secundarios de cualquier lienzo; de lo contrario, no se mostrar√°n en el juego. <br><img src="https://habrastorage.org/webt/_o/tl/ym/_otlymxpp3b04alh9902hx3w9fu.png" alt="imagen"><br>  La representaci√≥n se produce desde el objeto m√°s alejado hasta el m√°s alejado de la c√°mara <strong>(de atr√°s hacia adelante)</strong> en la <strong>cola Transparente</strong> con mezcla alfa. </p><br><p>  Por separado, debe tenerse en cuenta que la transparencia de los elementos de la interfaz de usuario <strong>NO</strong> afecta el rendimiento.  Incluso si el elemento consiste completamente en p√≠xeles "opacos", se representar√° mediante una combinaci√≥n alfa. </p><br><p>  Tambi√©n es importante comprender que al procesar, se procesan todos los p√≠xeles de todos los elementos activos.  No depende de si son visibles, bloqueados por otros objetos o incluso completamente transparentes. </p><br><h3 id="anchorrebuildanchorperestroenie-interfeysa-polzovatelya"><a name="rebuild"></a>  Redise√±ando la interfaz de usuario </h3><br><p>  El redise√±o de la interfaz de usuario es un proceso de varios pasos, que incluye construir las mallas de cada elemento de la interfaz de usuario e intentar parchear estas mallas para minimizar el n√∫mero de <strong>llamadas</strong> de <strong>extracci√≥n</strong> . </p><br><p>  La reconstrucci√≥n tiene lugar en cuatro etapas: </p><br><ol><li>  Se analizan las estructuras de los elementos. </li><li>  Se reconstruyen las mallas de todos los elementos activos, incluidos los elementos con cero transparencia. </li><li>  Reconstruye materiales para mallas de elementos de malla. </li><li>  Todos los elementos se dibujan seg√∫n su orden. </li></ol><br><p>  El lienzo reconstruido se almacena en cach√© y se reutiliza hasta que uno de los elementos del lienzo se marca como modificado. <br>  Se marcan los objetos <strong>sucios</strong> que se han activado o desactivado;  quienes han cambiado material, posici√≥n, escala, rotaci√≥n;  el valor del texto del componente de texto ha cambiado;  reasignaci√≥n de los padres, etc. </p><br><p>  En este caso, la reconstrucci√≥n del lienzo nuevamente contiene al menos un elemento modificado.  Es cierto que esto solo se aplica al lienzo en el que se encuentra el elemento.  Es decir, los cambios en los elementos en los lienzos secundarios no afectan a los principales. </p><br><p>  Cuantos m√°s elementos en el lienzo, mayor ser√° el costo de analizar y ordenar objetos. </p><br><h3 id="anchorbatchanchorbatching-meshey"><a name="batch"></a>  Malla </h3><br><p>  Fusionar mallas, o lotes, ayuda a reducir la carga en la GPU al reducir el n√∫mero de llamadas de extracci√≥n.  Durante el proceso de procesamiento por lotes, las mallas se ordenan por profundidad y se comprueba la superposici√≥n.  Al pasar del elemento distante al elemento cercano (o del elemento superior al inferior en la jerarqu√≠a), los objetos con los mismos materiales o texturas se combinan en una malla dentro del mismo lienzo.  Para esto, no debe haber objetos con otros materiales entre ellos.  Adem√°s, los objetos con otros materiales no deben superponerse a los objetos horneados con sus contenedores generales.  La operaci√≥n de procesamiento por lotes es de subprocesos m√∫ltiples, su rendimiento var√≠a mucho seg√∫n la cantidad de n√∫cleos en el procesador. </p><br><p>  El texto puede revolotear con otro texto si tienen la misma fuente.  No importa si la configuraci√≥n de fuente y los estilos son iguales o diferentes.  Si las fuentes son diferentes, el texto no se desplazar√°. </p><br><p>  Tambi√©n debe tenerse en cuenta que el texto puede superponerse a un objeto con su contenedor general, y dicha superposici√≥n puede omitirse f√°cilmente. <br><img src="https://habrastorage.org/webt/hp/25/q6/hp25q6lnrkta2lfzglksyejea34.png" alt="imagen"></p><br><p>  Considera un ejemplo.  Hay tres objetos A, B y C dispuestos en una jerarqu√≠a de esta manera: <br><img src="https://habrastorage.org/webt/iq/s-/7e/iqs-7ev081f2-yspnchyfhu7ejy.png" alt="imagen"><br><img src="https://habrastorage.org/webt/-x/xi/4o/-xxi4olr9aexg7rk2sic-4vntrw.png" alt="imagen"><br>  En la imagen de la izquierda, los objetos A y C se fusionar√°n, porque  tienen el mismo material y no se cruzan con el objeto B. En la imagen de la derecha, los objetos A y C no se combinar√°n, porque  hay una intersecci√≥n con el objeto B. </p><br><h3 id="anchorcommonanchorobschie-sovety-po-optimizacii-ui"><a name="common"></a>  Consejos generales de optimizaci√≥n de la interfaz de usuario </h3><br><p>  Antes de comenzar la optimizaci√≥n, es muy recomendable que perfile la IU.  Esto ayudar√° a identificar los cuellos de botella que conducen a la p√©rdida de rendimiento (si existe).  Para la creaci√≥n de perfiles, hay muchas herramientas, tanto integradas en Unity (Unity Profiler) como de terceros.  Pero no discutiremos los problemas de la UI en este art√≠culo. </p><br><p>  Aqu√≠ hay algunas sugerencias para optimizar su interfaz de usuario en Unity: </p><br><ol><li>  Apaga los objetos invisibles.  Si un elemento se superpone con un elemento opaco, debe deshabilitar su GameObject o el GameObject padre del elemento superpuesto.  Al mismo tiempo, a√∫n se dibujar√°n elementos de interfaz con alfa establecido en 0.  Para tales objetos, debe habilitar Cull Transparent Mesh en el componente Canvas Renderer o simplemente deshabilitar objetos invisibles. <br><img src="https://habrastorage.org/webt/gq/mf/hb/gqmfhb92x6wbpjgs3imcclryb8m.png" alt="imagen"></li><li>  Deshabilita los objetos del mundo ocultos por una interfaz opaca.  Si la interfaz no cubre todo el mundo, puede guardarla en la Textura de renderizado y apagar la c√°mara mundial. </li><li>  Minimice el n√∫mero de p√≠xeles para dibujar.  Combina tantas im√°genes como sea posible en una.  Por ejemplo, tiene sentido hacer que los botones sean un solo sprite, en lugar de capas separadas con un fondo, trazo, cuerpo del bot√≥n, etc.  Esto reducir√° la flexibilidad de trabajar con dichos elementos y puede conducir a la obstrucci√≥n de recursos, por lo que se debe buscar un compromiso. <br><img src="https://habrastorage.org/webt/sh/o8/q-/sho8q-hlftycczgnzevncmx1hoa.png" alt="imagen"></li><li>  Evite elementos vac√≠os que solo sirven para organizar la estructura (no utilice elementos como nombres de "carpetas" en la jerarqu√≠a de documentos). </li><li>  Evite cruzar objetos que no puedan hornearse entre s√≠.  Si es posible, lo mejor es cambiar la posici√≥n en la jerarqu√≠a, el tama√±o del contenedor o la posici√≥n de los elementos superpuestos y sin apelmazamiento. </li><li>  Utilice un lienzo separado o anidado para elementos din√°micos.  Por lo tanto, minimiza el costo de ordenar y reconstruir la estructura del lienzo que contiene una gran cantidad de elementos.  Los lienzos anidados son m√°s convenientes, porque  heredar la configuraci√≥n del lienzo principal.  Al mismo tiempo, al cambiar el lienzo principal, todos los anidados tambi√©n se reconstruir√°n.  Esto es bastante raro, pero sucede (por ejemplo, al cambiar la resoluci√≥n de la pantalla).  Tenga en cuenta que los objetos de diferentes lienzos o lienzos anidados NO se hornean para la representaci√≥n conjunta.  Se recomienda dividir los lienzos de acuerdo con la regularidad de la actualizaci√≥n de los elementos.  Los elementos est√°ticos deben colocarse en un lienzo separado, luego se dibujar√°n solo una vez.  Si hay elementos que cambian constantemente, entonces es mejor combinarlos en otro lienzo, porque  a√∫n se har√°n reconstruir mutuamente.  Los objetos cambiantes tambi√©n se pueden dividir en varios lienzos por la frecuencia de actualizaci√≥n.  Por ejemplo, los elementos actualizados en cada cuadro se colocan en un lienzo y los elementos se actualizan con menos frecuencia en otro. </li><li>  Deshabilitar Pixel Perfect aumentar√° significativamente la productividad.  Esto es especialmente cierto para los objetos constantemente actualizados con una gran cantidad de elementos (por ejemplo, inventario de desplazamiento). <br><img src="https://habrastorage.org/webt/0d/zg/xi/0dzgxi_azqoacbfsdarrgr7nejo.png" alt="imagen"><br>  El lienzo <br><img src="https://habrastorage.org/webt/jv/qt/31/jvqt315ookagmhaiftexsaguz0g.png" alt="imagen"><br>  Lienzo anidado </li><li>  Si necesita deshabilitar el lienzo, no deshabilite el objeto que lo contiene (a trav√©s de la funci√≥n <strong>SetActive</strong> ).  La pr√≥xima vez que active los elementos de este lienzo se marcan como modificados y todos los elementos se reconstruyen.  Es mejor desactivar el componente del lienzo en s√≠ mismo, entonces toda la estructura y los datos horneados no cambiar√°n y la pr√≥xima vez que active el componente del lienzo, simplemente comenzar√°n su dibujo. <br><img src="https://habrastorage.org/webt/pr/qo/-s/prqo-stitn0evgzxrddr54ncqwk.png"></li><li>  Para lienzos con <strong>Screen Space - Camera</strong> o <strong>World Space</strong> seleccionado en el par√°metro <strong>Render Mode</strong> , siempre instale una c√°mara.  Si no lo instala, el sistema de interfaz de usuario en cada cuadro lo buscar√° a trav√©s de <strong>Object.FindObjectWithTag</strong> para encontrar <strong>Camera.main</strong> , y esto afectar√° el rendimiento. </li><li>  Para no crear varias texturas id√©nticas, puede crear una en tonos de gris y "pintarla" a trav√©s del componente Imagen seleccionando el color deseado. <br><img src="https://habrastorage.org/webt/o7/tj/jr/o7tjjrk1hyt5a1rqbukrw-upsh0.png"></li><li>  Deje el <strong>indicador de destino de Raycast</strong> solo en los elementos que necesitan eventos de entrada y elimine el resto.  Por defecto, el <strong>objetivo de Raycast est√°</strong> habilitado en muchos elementos (Imagen, Texto, etc.).  Esto complica y ralentiza el trabajo del componente <strong>Raycaster</strong> , que maneja los eventos de entrada en Unity UI.  Al hacer clic o grabar, recorre toda la jerarqu√≠a de elementos y busca todos los componentes gr√°ficos con el <strong>conjunto de</strong> indicadores <strong>Raycast Target,</strong> luego los verifica por la posibilidad de eventos de entrada y, despu√©s de pasar los controles con √©xito, los agrega a la lista de resultados.  Despu√©s de eso, la lista de resultados se ordena por profundidad, los objetos fuera de la pantalla se descartan.  Como resultado, da la lista de resultados final. <br>  En Unity UI, muchos componentes (imagen, texto, etc.) tienen el <strong>indicador de destino de Raycast</strong> . </li></ol><br><p><img src="https://habrastorage.org/webt/vp/k8/ce/vpk8cecf2dr_svrostszl-hkeeo.png" alt="imagen"><br>  <strong>Raycast Target</strong> en el componente de imagen. </p><br><p><img src="https://habrastorage.org/webt/lx/z9/3o/lxz93oxpurdfign10vwpuf8mnv0.png" alt="imagen"><br>  <strong>TextMeshPro lo tiene</strong> oculto en la pesta√±a <strong>Configuraci√≥n adicional</strong> . </p><br><p><img src="https://habrastorage.org/webt/k_/63/09/k_6309bflccv61qqzc9g_rpu3u4.png" alt="imagen"><br>  Para <strong>TextMeshPro,</strong> puede establecer la configuraci√≥n predeterminada de <strong>Raycast Target</strong> en <strong>Configuraci√≥n del reproductor -&gt; TextMest Pro -&gt; Configuraci√≥n -&gt; Activar Raycast Target</strong> . </p><br><p>  Los elementos se prueban cuando: </p><br><ul><li>  Raycast Target habilitado </li><li>  el elemento en s√≠ est√° encendido y activado; </li><li>  el punto de inserci√≥n est√° en la intersecci√≥n con RectTransform. </li></ul><br><p>  Tambi√©n tiene sentido eliminar el indicador Raycast Target de los elementos secundarios si el objeto ra√≠z ya lo tiene y se superpone completamente a los elementos secundarios con su geometr√≠a.  Por ejemplo, el bot√≥n est√°ndar de Unity UI. </p><br><img src="https://habrastorage.org/webt/q7/6i/cz/q76iczyqwjxw6slf9ji6bgu1vqa.png"><br><p>  La imagen se superpone completamente al texto con su forma, en este caso, puede eliminar el <strong>objetivo Raycast</strong> del componente de texto. </p><br><img src="https://habrastorage.org/webt/vf/oy/la/vfoylaklhkozlwt0dzboxd8r5vy.png"><br><p>  Si todos los elementos del lienzo no esperan eventos de entrada, puede eliminar el componente <strong>Graphic Raycaster</strong> del lienzo / lienzo anidado. </p><br><h3 id="anchortextanchorrabota-s-tekstom-i-ego-optimizaciya"><a name="text"></a>  Trabaja con texto y su optimizaci√≥n </h3><br><p>  El texto en la interfaz de Unity consta de cuadr√≠culas en las que cada s√≠mbolo se crea su propio quad.  La malla se reconstruye cada vez que cambia el valor del texto.  La reconstrucci√≥n tambi√©n ocurre si el componente de texto o su padre se ha apagado y encendido nuevamente. </p><br><p>  Por defecto, las fuentes en Unity se agregan como din√°micas.  Para cada fuente din√°mica utilizada en el componente de texto en el escenario, se crea un atlas.  Solo los personajes usados ‚Äã‚Äãse incluyen en este atlas.  Por ejemplo, si el campo de texto contiene el texto "Texto nuevo", entonces el atlas creado para √©l contendr√° los caracteres "N", "e", "w", "T", "x" y "t".  Para cada personaje que sea diferente en tama√±o o estilo, se crear√° una representaci√≥n en el atlas. </p><br><img src="https://habrastorage.org/webt/ze/pw/jx/zepwjxjnaa7nk2qxvenmvt3flc4.png"><br><p>  Texto en el escenario </p><br><img src="https://habrastorage.org/webt/d0/1j/un/d01jun9sehx1lhs6wdrfwhyfn8q.png"><br><p>  Atlas de fuentes </p><br><p>  Si durante la ejecuci√≥n del programa el contenido del componente de texto cambia y aparecen caracteres que no est√°n en el atlas, se reconstruir√° todo el atlas.  Si hay espacio libre en la textura del atlas, entonces los s√≠mbolos necesarios simplemente se agregar√°n all√≠.  Al mismo tiempo, los caracteres que no est√°n actualmente en uso no se eliminar√°n.  Si no hay suficiente espacio en el atlas para nuevos caracteres, su tama√±o se duplicar√° y se volver√° a llenar seg√∫n los caracteres utilizados en los componentes de texto activos. </p><br><p>  Si se establece un n√∫mero estrictamente definido de caracteres para un proyecto, por ejemplo, solo el alfabeto latino, entonces vale la pena usar fuentes est√°ticas que se almacenan permanentemente en la memoria.  Si su proyecto permite una gran cantidad de caracteres, es mejor detenerse en las fuentes din√°micas. <br>  Tambi√©n puede mejorar el rendimiento reemplazando el componente de texto con un sprite.  Por ejemplo, los n√∫meros que aparecen en el juego (puntuaci√≥n) se pueden hacer usando sprites de un atlas que contiene un conjunto de solo los caracteres necesarios.  En este caso, no habr√° costos para reconstruir el lienzo y el atlas de la fuente. </p><br><p>  El uso de fuentes alternativas, enumeradas en el campo <strong>Nombres de fuente</strong> en la configuraci√≥n de fuente, aumenta la memoria utilizada.  Esto es especialmente notable en las fuentes pictogr√°ficas. </p><br><p>  No se recomienda usar <strong>Best Fit</strong> , ya que  Esta opci√≥n conduce a un desbordamiento r√°pido del atlas y provoca su reestructuraci√≥n. <br>  <strong>El ajuste</strong> √≥ptimo ignora la configuraci√≥n del tama√±o de fuente e intenta ajustar el texto en el rect√°ngulo de contorno del componente de texto. </p><br><p>  Ahora <strong>algunas</strong> palabras sobre <strong>TextMeshPro (TMP)</strong> , un reemplazo popular para el componente de texto est√°ndar de Unity.  TextMeshPro tambi√©n reconstruye su cuadr√≠cula cada vez que cambia el valor del texto.  Sin embargo, el texto TMP no usa fuentes din√°micas.  Para ello, se generan por adelantado atlas de fuentes, que incluyen todos los caracteres necesarios.  Si para alg√∫n texto en la escena no hay caracteres en la fuente asignada a su componente, entonces TMP comienza a buscar fuentes de respaldo.  Si no hay nada all√≠, entonces TMP intentar√° encontrar este car√°cter en todas las fuentes descargadas. </p><br><p>  <strong>Best Fit en</strong> <strong>TMP</strong> no crea problemas como un componente de texto normal, por lo que puede usarse. </p><br><p>  Una gran cantidad de fuentes con diferentes localizaciones o grandes atlas de fuentes pueden ocupar mucha memoria.  Por lo tanto, es mejor usar precargar solo las fuentes necesarias para una localizaci√≥n espec√≠fica. </p><br><p>  <strong>World Space</strong> recomienda usar <strong>TextMeshPro en</strong> lugar de <strong>TextMeshProUGUI</strong> . <br>  <strong>TextMeshProUGUI se</strong> utiliza en lienzos. </p><br><h3 id="anchoratlasanchoratlasy-spraytov"><a name="atlas"></a>  Atlas de sprites </h3><br><p>  <strong>Los atlas de sprites</strong> son un tipo de recurso que combina varias texturas en una.  Le permiten reducir el n√∫mero de sorteos ( <strong>llamadas de sorteo</strong> ) y aumentar la productividad. </p><br><p>  Creaci√≥n del atlas. <br>  Cree un atlas: <strong>Activo&gt; Crear&gt; Sprite Atlas</strong> . <br>  Seleccione el atlas y coloque el sprite necesario en <strong>Objetos para empacar</strong> . <br><img src="https://habrastorage.org/webt/bs/dl/8n/bsdl8nc2krqqx0hj7kwdckcatzc.png" alt="imagen"><br>  Haga clic en <strong>Vista</strong> previa del <strong>paquete</strong> para obtener una vista previa del atlas. <br><img src="https://habrastorage.org/webt/z2/ct/l1/z2ctl1uykvlwq_xelfoc3gezmdc.png" alt="imagen"><br>  Tenga en cuenta que incluso si uno o m√°s sprites del atlas se usan en la escena, el atlas a√∫n se cargar√° en su totalidad.  Por lo tanto, no tiene sentido intentar incrustar todas las im√°genes en un atlas gigante, que en dispositivos con poca RAM puede tomar su parte tangible.  Es mejor dividir en algunos atlas m√°s peque√±os, por ejemplo, el atlas de la interfaz de usuario del men√∫ del juego y el atlas de la interfaz del modo de juego. </p><br><p>  Evite grandes espacios vac√≠os en el atlas, para no ocupar espacio en exceso de memoria.  Para hacer esto, puede cambiar el tama√±o del atlas o agregar im√°genes adicionales para llenar el espacio vac√≠o tanto como sea posible. <br><img src="https://habrastorage.org/webt/vc/4n/f5/vc4nf5zljiikgjg83qau04b022q.png" alt="imagen"><br><img src="https://habrastorage.org/webt/r7/k2/w0/r7k2w0csvrfxsevgjw2nop0_zb8.png" alt="imagen"><br>  Para las im√°genes que no est√°n en el atlas, debe seleccionar la configuraci√≥n correcta. <br>  Para cada formato de compresi√≥n, existen requisitos bajo los cuales funcionar√° eficientemente.  Los requisitos de imagen m√°s comunes: </p><br><ul><li>  ancho y alto deben ser m√∫ltiplos de la potencia de dos; </li><li>  ancho y alto deben ser m√∫ltiplos de 4; </li><li>  ambos p√°rrafos anteriores juntos. <br>  De lo contrario, la textura no se comprimir√° y se producir√°n costos adicionales de memoria del dispositivo. </li></ul><br><p>  Al elegir un formato de compresi√≥n, Unity le dir√° si no se cumplen los requisitos para el formato seleccionado. <br><img src="https://habrastorage.org/webt/_s/tq/0c/_stq0cqnfhbnoczd2yrqm0d1iic.png" alt="imagen"></p><br><p>  Adem√°s, no olvide que los formatos son diferentes del dispositivo de destino.  Para obtener m√°s informaci√≥n y recomendaciones sobre formatos, consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n oficial</a> : </p><br><h3 id="anchorresumeanchorrezyumiruem-sposoby-optimizacii"><a name="resume"></a>  Resumir los m√©todos de optimizaci√≥n. </h3><br><ul><li>  Deshabilitar objetos invisibles y transparentes </li><li>  Minimiza la cantidad de art√≠culos </li><li>  Evite cruzar objetos que no se puedan hornear entre s√≠ </li><li>  Distribuya elementos por lienzo seg√∫n la frecuencia de actualizaci√≥n </li><li>  Para lienzos con elementos actualizados con frecuencia, deshabilite Pixel Perfect </li><li>  Deshabilite Raycast Target en elementos no seleccionables </li><li>  Elimine el componente Graphic Raycaster en el lienzo para el que no se puede hacer clic en todos los elementos </li><li>  Para componentes de texto normales no use Best Fit </li><li>  Para TextMeshPro en World Space, use TextMeshPro en lugar de TextMeshProUGUI.  TextMeshProUGUI utilizado en lienzos </li><li>  Configure la c√°mara en la configuraci√≥n del lienzo, si es necesario </li><li>  Deshabilite el lienzo deshabilitando el componente del lienzo </li><li>  Usa sprites en escala de grises y colorea la configuraci√≥n del componente de imagen </li><li>  Usa atlas sprites </li><li>  Utilice el tama√±o y el formato de compresi√≥n correctos para las texturas que no est√°n en el atlas </li></ul><br><h3 id="anchorlinksanchoristochniki"><a name="links"></a>  Fuentes: </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Informaci√≥n completa de optimizaci√≥n de UI de Unity</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Otra fuente oficial sobre este tema contiene informaci√≥n en una forma m√°s concisa.</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Libros Blancos Atlas</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Informaci√≥n adicional sobre formatos de compresi√≥n de textura</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/470608/">https://habr.com/ru/post/470608/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../470596/index.html">Caracter√≠sticas de Q y KDB + en el ejemplo de un servicio en tiempo real</a></li>
<li><a href="../470598/index.html">El libro "Java moderno. Expresiones Lambda, flujos y programaci√≥n funcional "</a></li>
<li><a href="../470600/index.html">Acerca de las consolas seguras noVNC, el autoescalado en Kubernetes, Haproxy en Ostrovka y el trabajo de los administradores con programadores</a></li>
<li><a href="../470602/index.html">C√≥mo se ver√≠a el metro de Mosc√∫ en un mundo tridimensional</a></li>
<li><a href="../470604/index.html">Velocidad de carga de sitios en comercio electr√≥nico: an√°lisis de las 48 mejores tiendas en l√≠nea en Rusia</a></li>
<li><a href="../470610/index.html">Un d√≠a en la vida de un desarrollador.</a></li>
<li><a href="../470612/index.html">Lo que muestra un volt√≠metro, o enchufes matem√°ticos</a></li>
<li><a href="../470614/index.html">¬øC√≥mo se organizaron los gr√°ficos NES?</a></li>
<li><a href="../470616/index.html">Una nueva soluci√≥n a la paradoja de Fermi (por qu√© estamos solos en el universo)</a></li>
<li><a href="../470618/index.html">Modelado tem√°tico de noticias usando an√°lisis factorial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>