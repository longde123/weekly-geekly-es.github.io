<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😴 ☯️ 🐯 Tragicomedy in NaN bertindak: bagaimana kami membuat game di JS dan merilisnya di Steam 👏 😔 🎙️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Eka tidak terlihat," Anda berkata, "tidak ada permainan Anda di 100 teratas, jadi itu tidak aman." Hal yang sama juga benar. Namun seiring perkembang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tragicomedy in NaN bertindak: bagaimana kami membuat game di JS dan merilisnya di Steam</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429920/">  "Eka tidak terlihat," Anda berkata, "tidak ada permainan Anda di 100 teratas, jadi itu tidak aman."  Hal yang sama juga benar.  Namun seiring perkembangan tahun Protolife, kami telah memperoleh beberapa pengalaman yang dapat kami bagikan dengan igrodelov masa depan yang potensial.  Veteran industri, saya khawatir, tidak akan menemukan sesuatu yang menarik untuk diri mereka sendiri.  Tapi mungkin setidaknya bersenang-senang dari hati. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lh/-w/mm/lh-wmmcrraswwobhujdwnsinofy.png"></div><br><h3>  Game macam apa itu?  Dan siapakah kita? </h3><br>  Kami adalah tim yang terdiri dari tiga orang ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">GRAAL</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">A333</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">icxon</a> ), berdasarkan kehendak takdir yang disebut Volcanic Giraffe tanpa maksud apa pun.  Kami bekerja bersama untuk waktu yang lama, kami bertiga berpartisipasi dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ludum Dare</a> (kompetisi penulisan game akhir pekan), dan suatu kali memutuskan untuk membawa untuk merilis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">salah satu kerajinan kami yang</a> disebut Protolife. <br><br>  Singkatnya: ini adalah menara pertahanan yang tidak biasa, di mana Anda harus menjalankan kursor pahlawan dan membangun pertahanan balok terhadap biomassa merah yang terus tumbuh. <br><a name="habracut"></a><br><blockquote>  Dari komentar di draft artikel: <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">icxon</a> : Anda harus menulis sedikit tentang gameplay terlebih dahulu.</i>  <i>Dan kemudian beberapa tangkapan layar di mana lobak mengerti apa yang terjadi</i> <br></blockquote><br>  Jika Anda melukis dengan lebih detail, maka apa yang ada dalam game: <br><br><ol><li>  Ada satu set level, di setiap level ada basis kami dan avatar kami - pembangun robot. </li><li>  Sebagian dari level diisi dengan biomassa merah yang tumbuh yang memuntahkan berton-ton massa. </li><li>  Gerombolan, tentu saja, lari ke pangkalan dan mencoba untuk menghancurkannya.  Dan kami sedang membangun pertahanan dari menara dan kami tidak membiarkannya dilakukan. </li></ol><br>  "Tapi apa yang tidak biasa?"  - kamu bertanya.  Dan perbedaan utama dari sebagian besar menara pertahanan adalah sebagai berikut: <br><br><ol><li>  Kami mengontrol robot konstruksi langsung dari kunci, mis.  Anda harus secara manual bergegas tentang level dan punya waktu untuk membangun / memperbaiki semuanya. </li><li>  Yang bisa dilakukan robot adalah membangun dan membongkar balok biru.  Satu blok semacam itu tidak ada gunanya, tetapi beberapa blok yang ditata menurut pola tertentu berubah menjadi struktur yang bermanfaat.  Contoh templat: <br></li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tb/bg/wq/tbbgwqkztc9agfv9vhhezbli9lk.png"></div><br><ul><li>  Pola 1: pistol sederhana </li><li>  Pola 2: dinding </li><li>  Pola 3: Pistol AA.  di sini Anda harus menggunakan juga kristal kuning, yang sudah ditambang lebih sulit </li><li>  Templat 4: senapan mesin </li></ul><br>  Dan begitulah permainannya: kita berlari, membangun, mendapatkan jawaban, cepat memperbaikinya.  Visualisasi langsung dari proses pengembangan game diperoleh. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ej/aw/nh/ejawnheikmuamezlswybx7gwhfq.gif"></div><br>  Tapi permainan seperti itu tidak langsung berhasil.  Kembali pada bulan April 2017, di Ludum Dare 38, tampak seperti ini: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hy/qu/kx/hyqukx8b8omlqfjtvwqoa2hlaiu.gif"></div><br>  Jika Anda tidak memperhatikan perbedaan dalam jadwal, maka tampaknya tidak banyak yang berubah.  Sudah pada versi LD ada pembangun kursor, pembangunan menara dari blok dan konfrontasi dengan biomassa merah.  Kami meninggalkannya karena berhasil dan orang-orang menyukainya. <br><br>  Tetapi pada kenyataannya, banyak yang telah berubah di bawah tenda selain konsentrasi graphonium per piksel persegi.  Sepanjang jalan setahun, kami harus membuat berbagai keputusan - gameplay, teknis, organisasi, dan bahkan pemasaran.  Beberapa berhasil, beberapa tidak. <br><br>  Saya ingin memberi tahu tentang keputusan seperti itu. <br><br>  Saya akan segera melakukan pemesanan - mungkin akan ada beberapa artikel, karena  Jika Anda mulai menggali, banyak material yang keluar.  Di akhir artikel ini Anda akan menemukan survei singkat - topik mana yang paling menarik bagi Anda.  Nah, tautan ke gim itu sendiri juga. <br><br><h3>  Kisah penciptaan yang membosankan. </h3><br>  Saya tidak berpikir bahwa ada orang yang benar-benar tertarik dengan bagaimana game itu dipikirkan, jadi saya akan menghapusnya di bawah spoiler. <br><br><div class="spoiler">  <b class="spoiler_title">Entah bagaimana Conway, Matheson dan Petri datang ke bar ...</b> <div class="spoiler_text">  <i>Dan bartender mengatakan: undefined bukan fungsi.</i> <i><br><br></i>  <i>Menjelang LD38 ternyata mengerikan: kolega kami dan satu-satunya artis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">A333</a> akan menerbangkan semua LD melintasi Atlantik, dan tidak akan dapat membantu kami.</i>  <i>Oleh karena itu, perlu untuk membuat permainan sebagai tidak menuntut jadwal dengan kekuatan yang tersisa.</i> <i><br><br></i>  <i>Tema yang diangkat adalah "Dunia kecil".</i>  <i>Dan kemudian, selama brainstorming, semuanya berjalan seperti ini:</i> <i><br></i> <ul><li>  Tidak ada artis - grafisnya sederhana, primitif <br></li><li>  Dunia kecil - ukuran kecil, atau mungkin sesuatu yang mikroskopis, seperti semua jenis kuman <br></li><li>  Mikroba adalah jenis kehidupan mikro. <br></li><li>  Dan hidup adalah otomat seluler.  Nah, sel dalam segala hal.  Biarkan pemain bertarung dengan mesin seluler melawan mesin seluler lain. <br></li><li>  Poked Conway Life - tidak bagus.  Seorang pemain yang baru dengan aturan mesin kemungkinan akan membangun sesuatu yang akan dihancurkan dengan sendirinya.  Sangat sulit dikendalikan.  Biarkan saja musuh mengikuti aturan hidup, dan kita akan membangun struktur yang teratur. <br></li><li>  ... tapi kemudian musuh akan menghancurkan diri sesekali.  Oke, mari kita ubah aturan untuknya.  Biarkan saja tumbuh, tetapi kita perlu menghancurkannya. <br></li><li>  Jadi, kita sudah memiliki: sel-sel merah musuh, yang hanya tumbuh, dan yang biru, yang kita bangun sendiri sesuai dengan pola yang diberikan.  Kami akan membangun menara dan dinding, mis.  Ternyata menara pertahanan seperti itu.  Untuk perubahan, masih ada cukup musuh bergerak (massa). <br></li><li>  Sehari sebelumnya saya membaca lagi “I am a legend” oleh Matheson.  Jadi karakter utama di malam hari menjaga pengepungan dari para vampir, dan pada siang hari, ketika vampir tidak aktif, mengembalikan pertahanan, dan juga memperluas lingkup pengaruh.  Itu terdengar seperti elemen gameplay yang bagus, jadi fase siang dan malam muncul di game.  Di malam hari, sel-sel musuh berbagi dan <s>mencetak rumah,</s> merangkak massa, pada siang hari - semuanya tenang, Anda bisa melakukan serangan balik. <br></li><li>  Sebut piksel warna kami "mikroorganisme" dan dorong mereka dalam arena bundar - cawan Petri. <br></li><li>  Kami mengambil mesin Phaser.js favorit kami ... <br></li><li>  ... dan tempat ke-31 di saku kami <br></li></ul><br>  Ini sebuah cerita, tidak terlalu menarik, seperti yang saya peringatkan. <br><br>  "Tapi Alexei, lalu apa yang kamu tulis?"  Pertanyaan yang masuk akal  Faktanya adalah bahwa hampir komentar pertama pada permainan terdengar seperti "lol, kalian semua merobek Dunia Creeper".  Setelah membaca gim itu sendiri nanti, saya mengerti mengapa orang-orang berpikir begitu.  Tapi masih sedikit sedih. <br><br>  Jika tiba-tiba Anda merasa terhina bahwa Anda menghabiskan waktu untuk mengomel ini, maka <s>sebagai penghiburan tuliskan saya kode PM "hal-hal yang membosankan" di PM, dan saya akan mengirimkan kepada Anda salah satu dari 10 kunci jika belum selesai pada saat itu.</s>  Sayangnya, kuncinya juga berakhir. <br></div></div><br><h3>  Memilih game untuk implementasi penuh </h3><br>  Seperti yang sering terjadi, setelah kita semua memikirkan kita bertiga - tetapi apakah ini saatnya untuk mencoba membuat permainan penuh.  Seringkali pada tahap ini beberapa konsep diambil dari kepala, "permainan impian", dan pekerjaan sedang dilakukan dengannya.  Dan kemudian betapa beruntungnya menebak dengan keinginan penonton. <br><br>  Tugas kami disederhanakan sedikit karena kehadiran "portofolio" kecil di Ludum Dare.  Kami melihat bagaimana orang bereaksi terhadap permainan yang berbeda, dan kami dapat membandingkan.  Protolife memiliki respons terbesar, dipuji karena orisinalitas dan untuk gameplay yang menarik - ini berada pada level nol grafis dan hanya 4 level! <br><br>  Selain itu, gatal membantu kami membuat keputusan, di mana kami menerbitkan kerajinan kami.  Ternyata, ada orang yang pergi ke gatal untuk bermain game web.  Beberapa dari mereka menyukai genre menara pertahanan, dan 5-10 orang datang (dan masih masuk!) Untuk memainkan Protolife tua itu <i>setiap hari</i> . <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/74/d-/sk/74d-sk_no7c5-dkl03ppllaq6pe.png"></div>  <sup>Statistik panggilan sebelum rilis game di Steam</sup> <br><br>  Dapat dikatakan, ini adalah riset pemasaran pertama kami.  Kami berpikir dan memutuskan bahwa “pertahanan menara non-standar” dapat menembak dengan baik.  Tidak ada begitu banyak pertahanan Tower, banyak dari mereka mirip dengan dua tetes air, dan kita bisa cukup menonjol di antara mereka. <br><br>  Ke depan, saya dapat mengatakan bahwa taktik itu membuahkan hasil. <br><br>  <u>Kiat yang Tidak Diminta # 1:</u> Lebih Baik Jangan Bertingkah Blindly.  "Permainan impian" yang ideal di kepala Anda mungkin tidak diperlukan bagi siapa pun.  Jika Anda tidak berpartisipasi dalam semua jenis kemacetan, selalu masuk akal untuk membuat sketsa gameplay (!) Dan mengujinya pada diri sendiri, teman, dan kenalan. <br><br>  <u>Counter-Council:</u> Jika Anda tidak takut bahwa setengah orang akan memainkan "permainan mimpi", lalu siapa yang peduli?  Lakukan itu!  Mungkin beruntung. <br><br><h3>  Mesin: Bukan solusi terbaik </h3><br>  Kami membuat versi di Ludum Dare di mesin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Phaser.js</a> .  Kami mengetahuinya dengan baik, kami tahu javascript dengan baik, game web mendapatkan lebih banyak umpan balik, cukup mudah dan mudah dipelajari - dongeng, bukan mesin. <br><br>  Dan kami menghadapi pertanyaan penting: mengganti mesin atau meninggalkan semuanya apa adanya? <br><br>  Pertanyaannya rumit.  Tak satu pun dari kami yang tahu atau mempelajari mesin lain pada saat itu.  Menghabiskan waktu belajar adalah hal yang baik, tetapi itu mungkin untuk kehilangan semua antusiasme.  Dan kemudian - apa yang harus diambil?  Javascript - satu-satunya bahasa yang kita ketahui, untuk menggunakan mesin C ++ / Java / C # - berarti langsung kehilangan setengah dari pengembang.  Dan mesin level Unity pada saat itu tampak terlalu rumit untuk "permainan 2D sederhana." <br><br>  Dan kemudian: sudah ada game.  Tetap memperbarui graphene, menyelesaikan level - dan itu saja.  Bekerja selama beberapa bulan.  Dan kemudian belajar, tulis ulang ... <br><br>  Secara umum, kami memutuskan untuk menginap di Phaser.js.  Lebih buruk lagi - kami memutuskan untuk tetap pada basis kode yang sama, yaitu  Bangun game di atas prototipe Ludum Dare. <br><br><blockquote>  Dari komentar pada draft artikel <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">a333</a> : Maaf, saya tidak punya foto itu dengan kruk, bukan Menara Eiffel ”</i> <br></blockquote><br>  <u>Kiat Tidak Diminta # 2:</u> Never Do That!  Ini terutama berlaku untuk penggunaan kembali prototipe.  Kode macet selalu ditulis dengan cepat dan kotor, tanpa memperhitungkan pengembangan di masa mendatang.  Ada kruk, ada kruk, dan sekarang Anda mengerti bahwa Anda sedang menulis kode warisan segera, dan segera Anda mulai menderita karenanya.  Prototipe harus dibaca dengan hati-hati, dan kemudian dibakar menjadi / dev / null dan ditulis ulang, hanya sudah penuh dan bersih. <br><br>  <u>Saran kontra:</u> pertimbangkan, bagaimanapun, karakteristik psikologi.  Itu terjadi bahwa penundaan dalam beberapa minggu sudah cukup untuk "menenangkan diri".  Lebih baik membuat game dengan arsitektur yang buruk daripada tidak melakukannya sama sekali. <br><br><blockquote>  Dari komentar di draft artikel: <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">A333</a> : Saya sangat menyukai opsi ini.</i>  <i>Sejauh yang saya tahu, ini adalah cara sebagian besar permainan dilakukan, karena waktu dan sekering memainkan peran kunci.</i>  <i>Jika Anda memiliki kesempatan untuk menulis ulang semuanya dengan rapi di mesin baru - bagus, tetapi ini tidak selalu terjadi.</i>  <i>Jangan takut untuk menulis cepat dan kotor, bangun prototipe awal, salin dan tempel potongan kode, dan lepaskan zabago ... * suara pukulan dan rintihan meredam *</i> <br></blockquote><br>  Sebenarnya, apa masalahnya dengan Phaser.js? <br><br><ul><li>  Mesinnya, seperti yang Anda duga, berbasis web.  Tahu cara merilis game web di Steam?  Itu benar, berikan dengan Chrome menggunakan nw.js atau Electron.  Saya pikir kelemahan dari pendekatan ini tidak perlu dijelaskan. <br></li><li>  Kinerja javascript tentu cukup bagus, tetapi kode asli akan berjalan lebih cepat, dan Anda bisa menghemat pertandingan. <br></li><li>  Kontrol render sangat lemah.  Phaser sendiri merender semuanya, dan melakukannya secara keseluruhan dengan cukup baik, tetapi kadang-kadang Anda ingin masuk ke proses atau melakukan sesuatu di webGL sendiri.  Sayangnya, satu-satunya hal yang diperbolehkan Phaser adalah menerapkan fragmen shader ke layar secara keseluruhan atau beberapa sprite terpisah di layar, dan juga dalam jumlah sedang.  Itu sama sekali tidak memungkinkan bekerja dengan vertex shader (dan memang bekerja dengan simpul), dan banyak keputusan dalam permainan dengan mereka akan jauh lebih mudah. <br></li><li>  Masalah dengan sejumlah besar sprite (objek aktif) di layar.  Selain itu, "jumlah besar" adalah beberapa ribu, bukan jutaan.  Dan "objek aktif" akan menjadi batu pembohong tanpa animasi.  Untuk setiap centang, Phaser akan melalui semua objek dan melakukan sihir phaser khusus sendiri, menghapus waktu dari logika permainan. <br></li></ul><br>  Kami memecahkan banyak masalah ini di sepanjang jalan, beberapa tidak menyelesaikan sampai akhir.  Sulit untuk menilai tanpa pengalaman dengan mesin lain, tetapi bagi saya sepertinya mesin lain akan memungkinkan untuk memproses ribuan objek permainan tanpa trik jahat.  Namun, saya bisa saja salah. <br><br><h3>  Perang gaya </h3><br>  Apakah Anda masih ingat "desain asli" dari versi asli game? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hh/bs/5r/hhbs5rkqrncm17tplvhjhbvizwu.png"></div><br>  Tentu saja, ia memiliki daya tarik tersendiri, tetapi itu tidak cocok untuk produk yang serius.  Ya, dan artis kita baru saja kembali dari perjalanan bisnis, apa yang dia duduk diam? <br><br>  Dia tidak duduk, setelah membuat beberapa sketsa desain yang mungkin.  Sejarah telah memelihara dua kursi gaya, di antaranya kita harus membuat pilihan. <br><br>  <b>Kandidat 1:</b> desain minimalis.  Bahkan - "piksel" yang sama, hanya lebih simpatik.  Semuanya cerah, kontras.  Kelihatannya bagus, tapi, katakanlah, solid.  Dalam arti bahwa permainan yang terlihat seperti ini akan terlihat bagus di ponsel atau VKontakte di suatu tempat antara tetris dan arkanoid.  Tapi dengan cepat dan murah. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/os/n_/tc/osn_tcppk56blw3mrmhaxmneec4.jpeg"></div><br>  <b>Kandidat 2:</b> realistis, fantastis, kasar.  Di sini Anda sudah dapat melihat cerita, konteks tertentu.  Tanpa diduga, kontras bekerja tidak hanya dalam warna, tetapi juga dalam bentuk - bangunan kita lebih teratur dan persegi, bangunan musuh - bulat, bentuknya tidak beraturan. <br><br><img src="https://habrastorage.org/webt/ht/q1/zu/htq1zunnwz1-0ap6f2b8adcq9oa.jpeg"><br><br>  Ini bukan untuk mengatakan bahwa kita ragu-ragu untuk waktu yang sangat lama.  Kami membayangkan "tangkapan layar" mana yang ingin kami mainkan lebih banyak, dan kandidat pertama tidak memiliki kesempatan untuk bertahan hidup.  Kami tidak tahu apa yang akan kami miliki untuk plot, di mana semua ini terjadi, apa yang terjadi - tetapi kami memilih opsi dua. <br><br>  Tentu saja, tidak ada yang bisa dibandingkan, tetapi menurut saya ini adalah pilihan yang baik.  Ya, kami akan menyelesaikan opsi pertama dengan lebih cepat, itu akan mengurangi tuntutan pada kinerja dan grafik, dan mungkin bahkan mungkin untuk porting ke ponsel. <br><br>  Tapi kami ingin memainkan opsi kedua. <br><br>  Jadi mikroorganisme dan cawan Petri digantikan oleh planet yang jauh, robot, dan organisme alien yang misterius. <br><br>  <u>Saran dangkal nomor 3 yang tidak diminta:</u> lakukan apa yang ingin Anda mainkan sendiri. <br><br>  <u>Saran balasan:</u> jika Anda memiliki 3 hipotek dan tidak ada pekerjaan lain, tidak ada yang akan menyalahkan Anda karena melakukan sesuatu yang laku, tetapi Anda ingin mencuci mata dan tangan Anda dengan sabun. <br><br><h3>  Meringkuk Biomassa, Mengintai Cacing </h3><br>  Saya menyebutkan kontras warna dan bentuk, dan jika Anda membandingkan sketsa itu dan versi final - kontrasnya semakin meningkat.  Bandingkan - bujur sangkar bangunan kita, bangunan bundar musuh, dan kebulatan umum massa merah. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/on/nl/o8/onnlo8hp_2mxhfnpd1mixvfd8-o.jpeg"></div><br>  Ngomong-ngomong, massa merah, seperti hampir semua yang ada di game, di suatu tempat di dalam logika game cocok dengan grid dengan cara yang sama seperti blok.  Tapi dia tampak kacau pada saat yang sama, seolah-olah dia terlepas dari jala. <br><br>  Saya masih memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">demo di</a> mana saya mendebat penampilan biomassa.  Semuanya diatur di sana sebagai berikut: "kotak" bersyarat diambil dan diisi dengan lingkaran dengan ukuran yang serekat mungkin.  Di bawah ini adalah contoh pengisian seperti itu.  Dalam permainan itu sendiri, isiannya lebih padat (dan karena itu lebih buruk dibaca). <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-t/1f/ze/-t1fzegvyxfxolxcqzg7i4kalji.png"></div><br>  Di antara lingkaran ada garis - koneksi.  Jika biomassa perlu tumbuh menjadi beberapa sel, maka lingkaran yang sesuai dipilih yang berpotongan dengan sel yang diperlukan, dan pertumbuhan terjadi di dalamnya di sepanjang garis. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gw/yz/hk/gwyzhktmaoealwaw3vvo_mtgdwy.png"></div><br>  Inilah yang terlihat seperti bergerak: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lk/qa/x2/lkqax2obn1of0apprdpxcmsnlym.gif"></div><br><blockquote>  Dari komentar di draft artikel: <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">icxon</a> : pertama kali saya melihat demo ini, lol</i> <br></blockquote>  Dalam gim itu sendiri, semuanya bekerja dengan cara yang persis sama, kecuali bahwa semua ukuran, warna, dan kecepatan disesuaikan oleh artis kami untuk terlihat lebih baik. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cf/ku/jt/cfkujtznryosbjbsxdcqpakilss.gif"></div><br>  Oh, saya sepertinya lupa mengatakan dari mana tepatnya keputusan itu berasal, bagaimana tahapan diskusi, para kandidat tersapu ... <br><br>  Tapi tidak, saya belum lupa.  Tidak ada.  Awalnya, kami merencanakan untuk melakukan semuanya seperti dalam versi LD, mis.  pertumbuhan dengan kotak.  Hanya satu malam saya bosan, dan saya membuat sketsa demo ini untuk berlatih.  Dan mereka pergi.  Jadi mereka melakukannya. <br><br>  <u>Kiat # 4 yang tidak diminta:</u> rencana, rencana, tetapi jangan takut untuk mencoba sesuatu yang baru.  Intuisi dapat memberi tahu Anda beberapa keputusan bagus. <br><br>  <u>Saran balasan:</u> jika Anda telah menetapkan tanggal rilis dan menandatangani kontrak dengan penerbit - mungkin Anda tidak boleh bereksperimen. <br><br><h3>  Animasi biomassa </h3><br>  Dalam gif di atas, Anda dapat melihat animasi biomassa yang menganggur - bahkan saat istirahat, ia bernafas dengan intens, kuncup merah tampaknya membuka dan menutup kembali.  Di dunia yang ideal, ini akan berupa sprite dengan animasi yang digambar dengan cermat oleh seniman, yang disusun dalam pola yang sama dengan lingkaran.  Pada kenyataannya, ini akan menjadi ribuan objek game yang tidak bisa ditangani oleh Phaser.js.  Dan ini sudah menjadi fakta yang terverifikasi - dalam versi dengan Ludum Dare saya sudah menemukan rem neraka ketika biomassa mengisi setidaknya setengah dari peta, dan bahkan tidak ada animasi iseng di sana. <br><br>  Shader datang untuk menyelamatkan, yang berputar di sana pada GPU dan tidak mengambil prosesor.  Lebih baik lagi, jika shader ini benar-benar sederhana - maka itu tidak akan memuat kartu video terlalu banyak. <br><br>  Shader perlu entah bagaimana mengatakan apa dan bagaimana cara menggambarnya.  Apa cara mentransfer informasi ke shader: <br><br><ul><li>  Hardcode dalam kode shader itu sendiri.  Dalam kasus kami, itu tidak cocok, tetapi secara umum kadang-kadang opsi ini juga masuk akal untuk dipertimbangkan. <br></li><li>  Melalui variabel seragam (ini adalah variabel yang sama untuk setiap piksel dalam gambar) <br></li><li>  Melalui berbagai variabel (variabel yang diinterpolasi antara dua simpul) <br></li><li>  Melalui tekstur (mengkodekan beberapa nilai dengan warna) <br></li></ul><br>  Metode 3 bisa bermanfaat bagi kita, tetapi dalam kasus Phaser.js tidak tersedia bagi kita.  Anda tidak akan melewati banyak seragam (katakanlah, array semua lingkaran dengan jari-jari mereka tidak akan cocok dengan seragam - ada batasan).  Teksturnya tetap. <br><br>  Kuncinya adalah ini: Saya pertama menggambar satu negara (katakanlah, tunas tertutup) dengan warna biru: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2v/-z/di/2v-zdiq9rei61wbldpxjdu1keug.png"></div><br>  Kemudian status kedua (kuncup terbuka) berwarna merah: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/go/5p/nt/go5pntkadhxlujbnj06_tawkp94.png"></div><br>  Jika Anda menambahkannya bersama-sama, Anda mendapatkan kekacauan ungu: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/s0/a3/zs/s0a3zseh0fjgjxulryakplhfvqi.png"></div><br>  Shader, di sisi lain, melihat tekstur, melihat waktu saat ini, dan dengan periode tertentu menunjukkan kepada kita bahwa "biru", kemudian "merah", mengalir dengan lancar di antara mereka.  Nah, dengan sendirinya menerapkan palet warna yang diinginkan.  Ternyata seperti ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-a/d-/gm/-ad-gmeivpaafw2x7rta_tdlyci.gif"></div><br><blockquote>  Dari komentar di draft artikel: <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">a333</a> : Ah begitulah b *** i f *** a berfungsi</i> <i><br></i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">icxon</a> : ini keren karena saya masih tidak mengerti cara kerjanya</i> <br></blockquote>  Sama, tetapi dengan contoh persegi panjang: <br><br>  Tekstur: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cj/wy/c6/cjwyc6fuidzv6bjvglsxlbhq_mg.png"></div><br>  Animasi terakhir: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lu/-p/yq/lu-pyqbuhyn5wzlkyjtvfd3l6ni.gif"></div><br>  Teksturnya diperbarui hanya ketika ia tumbuh / runtuh, sisa waktu hanya gpu-animasi bekerja. <br><br><h3>  Perawatan pemain </h3><br>  Dalam proses pengembangan, kami berusaha untuk tidak melupakan para pemain yang melihat permainan kami untuk pertama kalinya.  Ini tidak sesederhana kelihatannya - setelah beberapa saat mata menjadi kabur, dan Anda mulai mempertimbangkan dengan jelas segala sesuatu yang Anda, sebagai pengembang, sudah tahu. <br><br>  Kami memahami hal ini, dan uji beta pertama dilakukan 8 bulan sebelum rilis - segera setelah kami memiliki 10 level pertama dan 40-50% dari konten siap.  Uji beta itu memberikan umpan balik desain tingkat luar biasa yang akan saya bicarakan di lain waktu.  Pada saat yang sama, kami belajar bahwa kami sendiri memiliki beberapa prediksi yang bagus tentang beberapa hal. <br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Situasi:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ada pangkalan pemain yang perlu dipertahankan - penghancurannya menyebabkan kegagalan misi. </font><font style="vertical-align: inherit;">Pemain tidak terus-menerus memonitor pangkalan - ia menonton avatar robotnya. </font><font style="vertical-align: inherit;">Dan dia terus-menerus memonitor - laju permainannya cukup cepat, tidak ada banyak waktu untuk berdiri dan merenung. </font><font style="vertical-align: inherit;">Akibatnya, kami, penguji itu, terkadang tidak memperhatikan musuh yang ada di belakang, membom pangkalan. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solusi:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pertama, kami menunjukkan kerusakan pada pangkalan di lingkaran konsentris melalui setengah peta.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iy/ka/3h/iyka3h19u7ekz7mclk8pnekqtqq.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kedua, jika pangkalan rusak secara signifikan, maka secara independen menyerang kembali, menyapu musuh, yang jelas terlihat dan disuarakan. </font><font style="vertical-align: inherit;">Ini menarik perhatian pemain ke masalah dan memberi waktu untuk mengambil tindakan.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zk/x-/h9/zkx-h93mzuwdl17lgs3ldht1jik.gif"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Situasi:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seperti dalam pertahanan Menara yang khas, musuh mengikuti jalan yang dipukuli. Namun, rute ini tidak selalu dapat ditebak. Dan memahami rute sangat penting untuk pertahanan yang sukses: beberapa menara menembak sangat dekat, dan terlalu dekat menara akan dihancurkan oleh gelombang berikutnya. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solusi:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengambil darah setelah membunuh musuh. Setelah beberapa saat, jejak yang jelas muncul di tanah, yang dapat Anda fokuskan:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oz/wc/fx/ozwcfx0osufeixfjaqkxtnxnipq.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pertanyaan:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tapi, sebenarnya, mengapa jalurnya terpukul? Apakah Anda tahu cara menerapkan A *? </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jawaban:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diimplementasikan beberapa kali :) kami dengan jujur ​​bereksperimen dengan musuh AI. Kami memiliki cacing pintar yang mencari jalan, dan slimes menghindari peluru. Menjadi tidak mungkin dimainkan. Pemain tidak bisa membangun pertahanan yang efektif dan tidak bisa bahagia menyaksikan cara kerjanya. Kesenangan game anjlok. Ini tidak berarti bahwa musuh "pintar" itu jahat. Hanya untuk mekanik yang dipilih - ketika bangunan kita statis - musuh seperti itu tidak cocok. Untuk "musuh cerdas" Anda harus memasang senapan mesin ke robot, atau kaki ke menara. Dan ini adalah permainan yang sama sekali berbeda - bukan yang disukai orang di LD dan itchio.</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dari komentar di draft artikel: </font></font><br> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">icxon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Tapi masih ada slime. </font><font style="vertical-align: inherit;">Dan mereka masih menghindari </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRAAL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : pikirkan sedikit fiksi</font></font></i> <br></blockquote> <sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memang benar, tetapi mereka menghindar lebih malas daripada di versi aslinya </font></font></sup> <br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Situasi:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> musuh memiliki senjata jarak jauh (mortir) yang bisa berada di luar jarak pandang pemain. </font><font style="vertical-align: inherit;">Pada awalnya, hampir seluruh bidang tersembunyi di balik kabut perang, karena itu kedatangan kerang musuh dapat diketahui - mereka terbang keluar dari kegelapan dan segera menyebabkan kerusakan. </font><font style="vertical-align: inherit;">Jika pemain melihat momen itu di arah yang berlawanan, dia mungkin tidak mengerti apa yang terjadi. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solusi:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> proyektil terbang terlihat di atas kabut perang. </font><font style="vertical-align: inherit;">Ini memberi pemain kesempatan untuk memperhatikan ancaman dan mengambil tindakan.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/39/zn/hs/39znhs_fwizn9x-1agfcfzphaqw.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berbicara tentang kerang. </font><font style="vertical-align: inherit;">Mari mengalihkan perhatian dari masalah gameplay-UX.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Penanganan Tabrakan </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam versi LD objek bergerak tidak ada begitu banyak - selusin peluru dan selusin cacing pada waktu tertentu. </font><font style="vertical-align: inherit;">Ini tidak cukup dalam permainan. </font><font style="vertical-align: inherit;">Untuk merasakan tantangan, Anda harus meningkatkan jumlah lawan, dan pada saat yang sama memberikan pemain senjata api cepat untuk melawan. </font><font style="vertical-align: inherit;">Jadi dalam permainan, situasi ini tidak jarang:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t-/jw/jc/t-jwjcuxapeorqdmzpoyfvur1ro.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk semua objek game, tabrakan harus dipertimbangkan. Peluru menabrak cacing, cacing menabrak blok, dan semuanya muncul di layar - terkadang beberapa ratus. Dan senjata harus memilih target mereka dalam jangkauan. Jika dalam versi LD kita bisa beralih dari semua musuh untuk mencari yang cocok, maka di sini sudah mulai melambat. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara umum, masalah ini memiliki solusi, pada habr saya sering bertemu artikel tentang hal ini (di sini adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">salah satunya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Karena kami memiliki kotak logis di layar, dan sebagian besar objek aktif tidak melebihi ukuran sel permainan 2x2, kami memutuskan untuk menggunakan kotak ini untuk menentukan tabrakan.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setiap sel memiliki daftar objek yang ada di dalam sel itu. </font><font style="vertical-align: inherit;">Ada objek statis (seperti balok atau batu) yang menempati tepat satu sel secara keseluruhan dan tidak bergerak ke mana pun. </font><font style="vertical-align: inherit;">Dan ada yang dinamis yang bergerak di sepanjang grid, "mengalir" dari satu sel ke sel lainnya.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z3/uf/3s/z3uf3syywumwfzbbhk9oxtwcv1g.png"></div><br>  Karena<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sebuah objek dapat ditemukan di suatu tempat di perbatasan dua sel (meskipun pusatnya jelas terletak di dalam hanya satu), maka ketika mempertimbangkan tabrakan, semua sel tetangga diperiksa. </font></font> Yaitu<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kita mengambil peluru dengan koordinat X, Y, dan lihat apa yang ada di dalam sel (X, Y), (X + 1, Y), (X-1, Y), (X, Y + 1), (X, Y -1). Jika ada benda-benda yang dapat berinteraksi dengan peluru, maka untuk masing-masingnya persis tabrakan dihitung berdasarkan bentuk dan ukurannya. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agar tidak bangun dua kali, kisi yang sama digunakan untuk memilih target berdasarkan menara. Setelah pembuatan, menara "berlangganan" ke sel-sel kotak tertentu. Jika sesuatu yang dapat ditembak masuk ke dalam sangkar, menara menerima pemberitahuan (dan biasanya setelah itu menembak). Jadi, jika seribu musuh merayap jelas jauh dari menara, menara tidak akan membuang waktu untuk menghitung jarak ke mereka.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sr/wl/um/srwlumjqnh3qlbbahgeyajxx_q8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika peta besar, maka sel-sel di grid juga menjadi banyak, dan semua pembaruan dan pemeriksaan mulai memakan waktu lebih lama. </font><font style="vertical-align: inherit;">Juga, masalah dimulai jika ada bangunan / unit ukuran beberapa sel - untuk mereka Anda harus memeriksa lebih banyak sel di sekitar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk meningkatkan level momen ini, kami menempatkan yang besar, berukuran 16x16 sel, di atas jaring halus. </font><font style="vertical-align: inherit;">Semuanya dianggap sama untuknya, dan digunakan untuk dengan cepat menyaring situasi ketika tidak ada dalam radius beberapa sel di sekitar objek dan tabrakan tidak dapat diperiksa.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tautan dan Survei yang Dijanjikan </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel itu ternyata sudah cukup lama, dan Tuhan melarang daftar topik saya di notebook berkurang seperempatnya. </font><font style="vertical-align: inherit;">Katakan, apa yang ingin Anda dengar di artikel selanjutnya? </font><font style="vertical-align: inherit;">Anda dapat memilih beberapa poin. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nah, jika tiba-tiba ada pertanyaan spesifik tentang bagaimana hal itu dilakukan, atau mengapa itu dilakukan - tulis di komentar. </font><font style="vertical-align: inherit;">Kami akan menjawab jika kami ingat :) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan ke permainan:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protolife: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versi dari Ludum Dare di itch.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (gratis).</font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protolife: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versi rilis di Steam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dibayar, permisi).</font></font><br></li></ul><br>  Terima kasih atas perhatiannya. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id429920/">https://habr.com/ru/post/id429920/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id429910/index.html">AppsConf Naik</a></li>
<li><a href="../id429912/index.html">Pengembangan perpustakaan: dari API ke rilis publik</a></li>
<li><a href="../id429914/index.html">OpenSceneGraph: Grafik Adegan dan Pointer Cerdas</a></li>
<li><a href="../id429916/index.html">Cara membangun dan membangun</a></li>
<li><a href="../id429918/index.html">Intel Dunia Virtual. Bagian 2: SMP</a></li>
<li><a href="../id429922/index.html">Bagaimana mengubah proyek sederhana menjadi konstruksi jangka panjang atau memotong semua yang tidak perlu</a></li>
<li><a href="../id429928/index.html">Semua yang perlu Anda ketahui tentang stres dan emosi yang kuat</a></li>
<li><a href="../id429930/index.html">Splunk Pemecahan masalah aplikasi yang mudah</a></li>
<li><a href="../id429934/index.html">Ada apa disana</a></li>
<li><a href="../id429936/index.html">Haruskah saya menunggu Android di iOS dari Parallels?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>