<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîô üë©üèª‚Äç‚öñÔ∏è üóìÔ∏è Azure DevOps para Commodore 64? üë©üèº‚Äç‚öñÔ∏è üåå üï¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="He sido un gran admirador de Azure DevOps desde sus primeros d√≠as, cuando todav√≠a se llamaba Visual Studio Online. Lo uso para fines profesionales y p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Azure DevOps para Commodore 64?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430414/"><img src="https://habrastorage.org/getpro/habr/post_images/c3b/3a9/329/c3b3a9329f065ee07612c955444cfbdd.jpg"><br><br>  He sido un gran admirador de Azure DevOps desde sus primeros d√≠as, cuando todav√≠a se llamaba Visual Studio Online.  Lo uso para fines profesionales y personales, <br>  y lo recomiendo a mis clientes de consultor√≠a. <br><br>  Sin embargo, no importa cu√°nto elogie esta plataforma, a menudo es dif√≠cil convencer a los desarrolladores de Node o Java de que Azure DevOps funcionar√° bien con sus proyectos, no peor que para .NET.  Independientemente de la cantidad de demostraciones y presentaciones que refuten los prejuicios, en cualquier grupo hay personas que creen firmemente que ADO no es adecuado para ellos, porque es una "herramienta de Microsoft". <br><br>  Dejando a un lado el debate filos√≥fico, puedo explicar la mayor parte de la resistencia por la falta de comprensi√≥n de c√≥mo evolucion√≥ Azure DevOps de su predecesor Team Foundation Services (TFS), y se convirti√≥ en la mejor caja de herramientas capaz de soportar proyectos de cualquier tama√±o "en cualquier idioma y cualquier plataforma ".  La pregunta es, ¬øc√≥mo puedo probar de manera concluyente esto de una vez por todas? <br><a name="habracut"></a><br>  Jugu√© un poco con esta idea, y luego me di cuenta.  La prueba debe hacerse sin crear otra demostraci√≥n de CI / CD para los microservicios SpringBoot implementados para Kubernetes en AWS; debe hacerse con un enfoque m√°s exc√©ntrico. <br><br><h2>  Y ahora algo completamente diferente </h2><br>  ¬øQu√© sucede si dejamos de centrarnos en los lenguajes y plataformas modernos y avanzamos hace 30 a√±os para ver si las herramientas modernas y ADO pueden usarse para desarrollar, construir, dividir en m√≥dulos e implementar un programa escrito para una plataforma de computadora de 8 bits? <br><br>  Como en el caso de otras demostraciones para ADO que cre√© en el pasado, quer√≠a mostrar un producto completamente terminado, desde editar el c√≥digo, verificarlo, etc. hasta el entorno en vivo en el que puede ver los cambios. <br><br>  En teor√≠a, todo esto sonaba bien, pero la verdadera pregunta era: ¬øpor d√≥nde empezar?  Obviamente, esta no era una situaci√≥n en la que pudiera ejecutar StackOverflow en busca de ejemplos anteriores.  Sin embargo, habiendo discutido la idea con amigos y colegas (todos decidieron que me hab√≠a mudado), comenc√© a elaborar mi idea. <br><br>  Decid√≠ que el programa de demostraci√≥n deber√≠a escribirse en c√≥digo de m√°quina de 8 bits para Commodore 64 usando el editor de c√≥digo VS.  La fuente ser√° procesada por el repositorio de Git en ADO, y la canalizaci√≥n de CI / CD ser√° responsable de las compilaciones, los m√≥dulos y la implementaci√≥n en Azure.  Ya comenc√© a sospechar que mis amigos ten√≠an raz√≥n, y mi techo ya se hab√≠a ido, pero esta idea parec√≠a un desaf√≠o interesante. <br><br><h2>  Elecci√≥n del editor </h2><br>  Todos conocen el dicho acerca de elegir la herramienta adecuada para un trabajo en particular.  Esto se aplica al trabajo dom√©stico, reparaci√≥n de autom√≥viles y escritura de c√≥digos. <br><br>  Como desarrollador de .NET, paso la mayor parte de mi tiempo en Visual Studio 2017. Si necesito cambiar a un proyecto Java o escribir programas nativos de Android, lanzo IntelliJ o Android Studio respectivamente.  ¬øQu√© editor debo usar para el c√≥digo de m√°quina C64? <br><br>  ¬øQuiere, lo crea o no, pero hoy en d√≠a hay varios buenos editores adecuados para escribir CBM?  Jugu√© con algunos de ellos, pero en realidad quer√≠a usar Visual Studio Code.  Utilic√© VS Code para mis otros proyectos, y me pareci√≥ muy flexible, c√≥modo, y la presencia de integraci√≥n integrada con git fue una buena adici√≥n. <br><br>  La desventaja de esta soluci√≥n era que tendr√≠a que sacrificar el resaltado de sintaxis en el ensamblador 6510, y simplemente mirar√≠a el texto negro sobre un fondo blanco.  Esta situaci√≥n no corresponde a mi declaraci√≥n sobre la "herramienta correcta". <br><br>  De repente, decid√≠ ir a Visual Studio Marketplace y ver si ya hay alguna extensi√≥n para VS Code que sea adecuada para resolver mi problema.  Me sorprendi√≥ gratamente encontrar all√≠ varias extensiones dise√±adas para trabajar en ensamblador.  Desafortunadamente, ninguno de ellos fue encarcelado por el ensamblador cruzado de ACME que seleccion√© para el proyecto. <br><br>  Esto no me detuvo y, al no querer revivir los aspectos monocrom√°ticos del desarrollo de los a√±os 80, me enterr√© en la documentaci√≥n sobre la creaci√≥n de extensiones para VS Code.  Unos d√≠as despu√©s, publiqu√© con gusto la primera versi√≥n de la extensi√≥n para Visual Studio Marketplace. <br><br>  Y este ejercicio result√≥ ser m√°s √∫til de lo que parec√≠a inicialmente. <br><br>  En un momento, no me enfoqu√© en escribir programas en ensamblador.  Varias veces intent√© estudiarlo, pero generalmente me sent√≠a aburrido o irritado, y pas√© a otra cosa.  Despu√©s de crear el complemento, no solo aprend√≠ sobre la mec√°nica de crear extensiones para VS Code, sino que tambi√©n adquir√≠ una buena comprensi√≥n de la oscura sintaxis y los c√≥digos de operaci√≥n. <br><br>  Armado con un editor adecuado y algunos viejos libros de programaci√≥n de los a√±os 80, comenc√© a escribir c√≥digo.  Muy r√°pidamente obtuve un programa de trabajo que importaba un archivo de m√∫sica en formato SID y reproduc√≠a una versi√≥n de 8 bits de Beatles When I'm 64 (esta es una vieja broma de los usuarios de Commodore, pero parece ser adecuada para este proyecto). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/898/c09/4a7/898c094a705e1fda2281eaa34a9570a9.png"><br><br>  Hasta ahora, he compilado y probado el programa en una computadora port√°til.  El c√≥digo fuente se confirm√≥ en el repositorio git, por lo que el siguiente paso fue la necesidad de crear una compilaci√≥n para la Integraci√≥n continua. <br><br>  Una de las habilidades impresionantes de ADO es su capacidad para manejar casi cualquier situaci√≥n de CI / CD.  Fuera de la caja, el servicio ofrece muchas tareas predefinidas, lo que le permite crear r√°pidamente cadenas CI / CD para la mayor√≠a de los proyectos modernos con solo unos pocos clics. <br><br>  Si sus necesidades no son parte del servicio b√°sico, el Mercado generalmente le proporcionar√° muchas herramientas adecuadas diferentes.  Si esto no funciona, puede dibujar un script de PowerShell que haga el trabajo que necesita. <br><br>  El problema obvio del proyecto era que, a pesar de la amplia gama de caracter√≠sticas de servicio, el ensamblador cruzado y las im√°genes de disco para Commodore 64 simplemente no exist√≠an.  Por supuesto, podr√≠a crear una m√°quina virtual especial en Azure con las herramientas que necesitaba, o seguir la ruta de PowerShell, pero ¬øser√≠a interesante? <br><br>  Tampoco me gustan las m√°quinas virtuales en la nube, y para este ejercicio quer√≠a usar agentes alojados, as√≠ que solo ten√≠a una opci√≥n.  Para demostrar para qu√© estaba destinado todo el ejercicio, decid√≠ que ser√≠a mejor crear mi propia extensi√≥n para manejar todas estas tareas. <br><br><h2>  Extensi√≥n de ensamblador cruzado ACME </h2><br>  La primera extensi√≥n necesaria para mi cadena de CI fue compilar mi c√≥digo de ensamblador en el c√≥digo de m√°quina C64.  Para hacer esto, necesitaba instalar el ensamblador cruzado en uno de los agentes de compilaci√≥n alojados. <br><br>  Assembler es un programa que convierte el lenguaje ensamblador legible por humanos en c√≥digo de m√°quina real dise√±ado para un controlador binario espec√≠fico.  T√≠picamente, el c√≥digo de m√°quina se genera para el procesador utilizado en la m√°quina en la que se ejecuta.  El ensamblador cruzado da el siguiente paso en la conversi√≥n de c√≥digo, permiti√©ndole generar c√≥digo de m√°quina para otro procesador. <br><br>  Como mencion√©, para mi proyecto eleg√≠ ACME Cross-Assembler, porque se recomienda para el desarrollo de Commodore.  Tambi√©n es compatible con una amplia gama de otros proyectos de 8 bits, como el Nintendo Entertainment System o la familia Atari que utilizan procesadores 65xx. <br><br>  Me llev√≥ la mayor parte del d√≠a, en base a la documentaci√≥n y ejemplos proporcionados por Microsoft y otras fuentes, escribir, verificar y publicar en el Mercado una versi√≥n funcional de la extensi√≥n. <br><br>  Cuando se inicia, la tarea descarga autom√°ticamente la √∫ltima versi√≥n de ACME Cross-Assembler y la inicia con opciones que le permiten crear el archivo final para la plataforma de destino.  Una de las ventajas asociadas con la elecci√≥n de ACME es que la mayor√≠a de los par√°metros para construir el programa est√°n integrados en el c√≥digo fuente, lo que minimiza la cantidad de entrada que debe definirse en la extensi√≥n. <br><br><h2>  ¬øAlguien tiene un disquete prestado? </h2><br>  El siguiente paso en la cadena es transferir el programa a un formato multimedia compatible con Commodore 64, es decir, colocarlo en un disquete.  Los desarrolladores tampoco enfrentan ese problema en la vida cotidiana.  Afortunadamente, existen aplicaciones separadas para esta tarea. <br><br>  VICE es el emulador m√°s popular para Commodore.  No solo tiene muchos emuladores para cada uno de los diversos modelos de Commodore, sino tambi√©n varias herramientas √∫tiles, incluido el administrador de discos virtuales c1541.  Las im√°genes de disco creadas con √©l pueden usarse con el emulador, copiarse a medios f√≠sicos (5  "disquete de baja densidad) o descargarse a microSD y usarse con el emulador de unidad SD2IEC. <br><br>  A diferencia de la tarea ACME, que toma todas las configuraciones del encabezado del archivo fuente, la utilidad de disco c1541 se basa en la CLI y el usuario tiene muchas opciones para administrar el disco.  Para mi extensi√≥n, decid√≠ centrarme solo en las propiedades necesarias para mi tarea, pero incluso entonces me enfrent√© a una elecci√≥n relacionada con lo completamente que necesitaba para hacerlo. <br><br>  Commodore lanz√≥ tres modelos de unidades diferentes, que difieren en la forma en que manejan los vol√∫menes de disco seg√∫n el formato y el tipo de medio.  El modelo b√°sico, familiar para la mayor√≠a de los usuarios, solo podr√≠a funcionar con unidades de un solo lado con una capacidad de 170 KB (s√≠, kilobytes. Preg√∫ntele a sus padres).  El modelo posterior, 1571, utilizado en el Commodore 128, podr√≠a funcionar con unidades de doble cara, cuyo volumen aument√≥ a 340 Kb.  Decid√≠ agregar flexibilidad a la extensi√≥n, por lo que agregu√© soporte para varios formatos de disco como una configuraci√≥n, que se puede seleccionar en la interfaz a trav√©s del men√∫ desplegable. <br><br>  Como ya ten√≠a un ejemplo de trabajo, la creaci√≥n de esta extensi√≥n fue mucho m√°s r√°pida.  Aprend√≠ algo nuevo que tambi√©n me permiti√≥ mejorar el c√≥digo para la extensi√≥n ACME. <br><br>  Como en el caso del ensamblador cruzado, el software requerido se descarga del repositorio de proyectos de c√≥digo abierto y se instala en el agente de compilaci√≥n.  La tarea crea una imagen de disco en el formato deseado y luego se copia el archivo de la tarea de compilaci√≥n.  El archivo resultante se mueve al directorio Build Artifacts, donde puede descargarlo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc7/f58/8a4/cc7f588a40e2157b4226a3aece50ff6a.png"><br><br>  ¬øQu√© es lo que resulta? ¬øTanto trabajo, y como resultado necesitas descargar el archivo?  Este debe ser material de capacitaci√≥n de CI / CD.  Si necesitamos demostrar nuestra posici√≥n, debemos implementar el programa en la m√°quina para que pueda usarse como demostraci√≥n. <br><br><h2>  Floppinet deshabilitado </h2><br>  Ejecutar versiones de una computadora Commodore 64 real y una unidad 1541 es algo raro, sin mencionar que es grande y pesado.  Adem√°s, no pueden mostrar im√°genes en monitores modernos sin adaptadores especiales, y esto limita en gran medida la efectividad de la demostraci√≥n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/483/50c/68d/48350c68d644efcb16b728eb0901a54d.jpg" align="left"><br><br>  La Commodore SX-64 (la primera computadora en color "port√°til" que se fabric√≥ en grandes lotes) ten√≠a un monitor incorporado, pero era aproximadamente del tama√±o de mi maleta de mano y pesaba unos 10 kg.  ¬øImagina lo dif√≠cil que ser√≠a pasar por el servicio de seguridad del aeropuerto con semejante monstruo? <br><br>  El <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C64 Mini</a> recientemente lanzado es lo suficientemente peque√±o como para viajar, la capacidad de descargar programas desde USB y una salida HDMI.  En algunos casos, esta ser√≠a una opci√≥n.  Pero todav√≠a no logra el objetivo deseado. <br><br>  El verdadero problema no es la portabilidad de la plancha, sino la falta de automatizaci√≥n.  La necesidad de transferir el programa de una computadora port√°til a un autom√≥vil utilizando una unidad flash no revela completamente las capacidades de ADO en la presentaci√≥n. <br><br><h2>  Opci√≥n sin servidor </h2><br>  Como mencion√©, VICE es el emulador m√°s popular para Commodore.  Fue portado a Windows, Linux, Mac OS X, MS-DOS y muchos otros sistemas operativos.  Sin embargo, para el desarrollo en la nube, esta opci√≥n requerir√≠a configurar la VM como host, y quer√≠a seguir adelante con una soluci√≥n que no requiera un servidor. <br><br>  Adem√°s de las versiones mencionadas, VICE tiene una opci√≥n para JavaScript que funciona bien en la mayor√≠a de los navegadores.  Aunque el desarrollo front-end no es mi elemento, pude crear una p√°gina receptiva decente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/47c/061/d08/47c061d082697b0c918fbc3e8b08736f.png"><br><br>  Para organizar la cadena de lanzamiento, subo un archivo con una imagen de disco a un directorio en el mismo repositorio.  Asociado esto con llamar a la aplicaci√≥n Azure Function, que devuelve una lista de im√°genes de disco disponibles.  Al seleccionar uno de ellos en el men√∫ desplegable, se carga autom√°ticamente y se inicia en un emulador de JavaScript. <br><br>  El sistema no solo funciona con mi programa, sino que logr√© crear una cadena para implementar y ejecutar el programa en Commodore 64 BASIC. <br><br> <code>10 PRINT "HELLO WORLD" <br> 20 GOTO 10</code> <br> <br><h2>  Terminamos </h2><br>  DevOps para Commodore 64?  ¬°Es impensable! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b89/feb/515/b89feb5150206e8804176c9b707f2967.png"><br><br>  El significado de este ejercicio no es solo la prueba de que cuando dicen sobre Azure DevOps que admite "cualquier idioma y cualquier plataforma", no solo significan todo lo relacionado con Microsoft (aunque la versi√≥n BASIC para Commodore se compr√≥ bajo licencia de Microsoft)  Nos distrae de concentrarnos en los aspectos tecnol√≥gicos y hace que las personas vayan m√°s all√° del marco artificial que han designado para s√≠ mismas. <br><br>  Independientemente de las excusas, declaraciones como "esto no funcionar√° aqu√≠" a menudo equivalen a declaraciones "siempre lo hicimos de esta manera, por qu√© cambiar algo".  Ambas frases demuestran una falta de voluntad para crecer y desarrollarse, adaptarse a un panorama tecnol√≥gico en constante cambio y superar los desaf√≠os que plantean estos cambios r√°pidos y agresivos. <br><br>  DevOps no son herramientas.  Las herramientas al final son solo un medio para un fin, independientemente de qui√©n las publique. <br><br>  Para que DevOps tenga √©xito en la organizaci√≥n, es necesario cambiar la forma de pensar y desarrollar nuestra cultura corporativa.  Necesitamos aceptar muchas ideas nuevas, repensar lo que creemos que sabemos y alejarnos de pensamientos como "esto no funcionar√° aqu√≠", porque no lo hemos intentado antes. <br><br>  Crear una cadena de CI / CD para una computadora de 30 a√±os no tiene valor para el negocio, excepto para ilustrar claramente este punto de vista. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430414/">https://habr.com/ru/post/es430414/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430404/index.html">Recopilamos datos sobre el comportamiento del cliente en el sitio.</a></li>
<li><a href="../es430406/index.html">C ++ 20 y M√≥dulos, Redes, Corutinas, Rangos, Gr√°ficos. Resultados de la reuni√≥n en San Diego</a></li>
<li><a href="../es430408/index.html">Verificamos la vulnerabilidad cerrada y obtenemos cuatro nuevos CVE</a></li>
<li><a href="../es430410/index.html">"Siempre tendr√° que desarrollarse": una entrevista con Evgeny Kuvshinov (ManyChat) sobre el desarrollo en una startup</a></li>
<li><a href="../es430412/index.html">L√≥gica difusa contra PID. Cruzamos el erizo y la serpiente. Motor de aeronave y algoritmos de control de NPP</a></li>
<li><a href="../es430418/index.html">Experiencia personal usando sensores de proximidad en desarrollo</a></li>
<li><a href="../es430420/index.html">Conferencia "Contenido" - ahora con soporte para hyper-threading</a></li>
<li><a href="../es430422/index.html">Tu c√≥digo es decisivo</a></li>
<li><a href="../es430424/index.html">Semana de la Seguridad 47: Hack Squat</a></li>
<li><a href="../es430426/index.html">Rebranding Western Digital Products: ¬øQu√© ha cambiado?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>