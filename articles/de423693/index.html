<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏴󠁧󠁢󠁷󠁬󠁳󠁿 ⛹🏾 👨🏽‍⚖️ Eine andere Möglichkeit, Webpack 4 und Codetrennung zu verwenden 🧘 🛴 🚽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hintergrund 


 Es ist kein Geheimnis, dass sich mit der Veröffentlichung von Webpack 4 die Code-Sharing-Strategie stark verändert hat. Es ist sogar n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eine andere Möglichkeit, Webpack 4 und Codetrennung zu verwenden</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423693/"><h1 id="predystoriya">  Hintergrund </h1><br><p>  Es ist kein Geheimnis, dass sich mit der Veröffentlichung von Webpack 4 die Code-Sharing-Strategie stark verändert hat.  Es ist sogar noch besser zu sagen, dass es wieder erfunden wurde, weil  Der alte Ansatz hat einfach aufgehört zu funktionieren, und der neue ist nicht klar, wie man ihn verwendet. </p><br><p>  Für diejenigen, die noch nicht auf dem neuesten Stand sind, ist das Plugin webpack.optimize.CommonsChunkPlugin weg.  Absolut.  Stattdessen wird empfohlen, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Folgendes</a> in die Konfiguration zu schreiben: </p><br><pre><code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exports</span></span> = { <span class="hljs-comment"><span class="hljs-comment">// ... optimization: { splitChunks: { chunks: "all" } } // ... }</span></span></code> </pre> <br><p>  Das sollte wie Magie funktionieren.  Das heißt,  Jetzt sagen wir Webpack nicht, was wir als gewöhnliches Stück tun sollen, aber er wird alles selbst machen und sogar besser als wir. </p><br><p>  Und das Glück wird kommen.  Ein Witz.  Nicht wirklich ... </p><a name="habracut"></a><br><h1 id="bazovye-prigotovleniya">  Grundvorbereitungen </h1><br><p>  Hier ist ein Beispiel aus der Dokumentation: </p><br><pre> <code class="hljs pgsql">module.exports = { mode: <span class="hljs-string"><span class="hljs-string">'development'</span></span>, entry: { <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/index.js'</span></span>, another: <span class="hljs-string"><span class="hljs-string">'./src/another-module.js'</span></span> }, output: { filename: <span class="hljs-string"><span class="hljs-string">'[name].bundle.js'</span></span>, <span class="hljs-type"><span class="hljs-type">path</span></span>: <span class="hljs-type"><span class="hljs-type">path</span></span>.resolve(__dirname, <span class="hljs-string"><span class="hljs-string">'dist'</span></span>) }, optimization: { splitChunks: { chunks: <span class="hljs-string"><span class="hljs-string">'all'</span></span> } } };</code> </pre> <br><p>  Das Ergebnis der Assembly sind 3 Dateien: another.bundle.js, index.bundle.js, vendor ~ another ~ index.bundle.js </p><br><pre> <code class="hljs powershell">Hash: ac2ac6042ebb4f20ee54 Version: webpack <span class="hljs-number"><span class="hljs-number">4.7</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> Time: <span class="hljs-number"><span class="hljs-number">316</span></span>ms Asset Size Chunks Chunk Names another.bundle.js <span class="hljs-number"><span class="hljs-number">5.95</span></span> KiB another [<span class="hljs-type"><span class="hljs-type">emitted</span></span>] another index.bundle.js <span class="hljs-number"><span class="hljs-number">5.89</span></span> KiB index [<span class="hljs-type"><span class="hljs-type">emitted</span></span>] index vendors~another~index.bundle.js <span class="hljs-number"><span class="hljs-number">547</span></span> KiB vendors~another~index [<span class="hljs-type"><span class="hljs-type">emitted</span></span>] vendors~another~index Entrypoint index = vendors~another~index.bundle.js index.bundle.js Entrypoint another = vendors~another~index.bundle.js another.bundle.js [<span class="hljs-type"><span class="hljs-type">.</span></span>/<span class="hljs-type"><span class="hljs-type">node_modules</span></span>/<span class="hljs-type"><span class="hljs-type">webpack</span></span>/<span class="hljs-type"><span class="hljs-type">buildin</span></span>/<span class="hljs-type"><span class="hljs-type">global.js</span></span>] (webpack)/buildin/global.js <span class="hljs-number"><span class="hljs-number">489</span></span> bytes {vendors~another~index} [<span class="hljs-type"><span class="hljs-type">built</span></span>] [<span class="hljs-type"><span class="hljs-type">.</span></span>/<span class="hljs-type"><span class="hljs-type">node_modules</span></span>/<span class="hljs-type"><span class="hljs-type">webpack</span></span>/<span class="hljs-type"><span class="hljs-type">buildin</span></span>/<span class="hljs-type"><span class="hljs-type">module.js</span></span>] (webpack)/buildin/module.js <span class="hljs-number"><span class="hljs-number">497</span></span> bytes {vendors~another~index} [<span class="hljs-type"><span class="hljs-type">built</span></span>] [<span class="hljs-type"><span class="hljs-type">.</span></span>/<span class="hljs-type"><span class="hljs-type">src</span></span>/<span class="hljs-type"><span class="hljs-type">another</span></span>-<span class="hljs-type"><span class="hljs-type">module.js</span></span>] <span class="hljs-number"><span class="hljs-number">88</span></span> bytes {another} [<span class="hljs-type"><span class="hljs-type">built</span></span>] [<span class="hljs-type"><span class="hljs-type">.</span></span>/<span class="hljs-type"><span class="hljs-type">src</span></span>/<span class="hljs-type"><span class="hljs-type">index.js</span></span>] <span class="hljs-number"><span class="hljs-number">86</span></span> bytes {index} [<span class="hljs-type"><span class="hljs-type">built</span></span>] + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">hidden</span></span> module</code> </pre> <br><p>  Um unsere Webanwendungen zu starten, müssen wir in einem Fall die Anbieter ~ ein anderes ~ index.bundle.js und index.bundle.js und in den zweiten Anbietern ~ ein anderes ~ index.bundle.js und ein anderes verbinden. bundle.js. </p><br><h1 id="v-chem-problema">  Was ist das Problem? </h1><br><p>  Das Problem ist der Name <strong>Anbieter ~ ein anderer ~ Index</strong> .bundle.js.  Solange wir weniger als drei Einstiegspunkte haben, passiert nichts Schlimmes.  Hier scheint alles logisch - das Bundle enthält npm-Module (sie sind auch Anbieter) und allgemeine Module für den Index und andere.  Auf jeder der Seiten enthalten wir 2 Dateien und haben keine Probleme. </p><br><p>  Wenn wir jedoch drei oder mehr Einstiegspunkte haben, gibt es möglicherweise viel mehr neue Bundles (es handelt sich um Chunks), und wir kennen deren Nummer oder Namen nicht mehr.  Alles macht noch mehr Spaß, wenn wir CSS auch in separate Dateien extrahieren.  Und das ist das Problem. </p><br><h1 id="kak-reshit-etu-problemu">  Wie kann man dieses Problem lösen? </h1><br><p>  Nach Abschluss des Webpacks haben wir keine Dateien, die Informationen darüber enthalten, welche Bundles auf dieser oder jener Seite verbunden werden sollen.  Und in welcher Reihenfolge. </p><br><p>  In der Ausgabe finden wir jedoch folgende Zeilen: </p><br><pre> <code class="hljs pgsql">Entrypoint <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> = vendors~another~<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.bundle.js <span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.bundle.js Entrypoint another = vendors~another~<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>.bundle.js another.bundle.js</code> </pre> <br><p>  In der Tat ist dies fast das, was wir brauchen.  Das heißt,  webpack weiß sehr gut, welche Bundles für jeden Einstiegspunkt benötigt werden, möchte diese Informationen jedoch aus irgendeinem Grund nicht an uns weitergeben. </p><br><p>  Das Manifest hilft uns hier nicht.  Ja, wir wissen, dass es ein solches Bundle (Anbieter ~ ein anderes ~ index.bundle.js) gibt.  Wir wissen, wo er liegt.  Aber wir wissen nicht, wer es braucht.  Das heißt,  Das Manifest ist nutzlos. </p><br><p>  Dann entschied ich, dass Webpack, da es die notwendigen Informationen kennt, möglicherweise über Plugins abgerufen werden kann.  Ich fand keine fertigen und beschloss, meine eigenen zu schreiben.  Und nur um dieses Plugin zu demonstrieren, schreibe ich diesen Artikel. </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> webpack <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"webpack"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface IChunkDescription { readonly id: string | number; readonly name: string; readonly files: string[]; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface IEntrypointsPluginOptions { readonly filename: string; readonly replacer?: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">key: string, value: any</span></span></span><span class="hljs-function">) =&gt;</span></span> any; readonly space?: string | number; readonly filter?: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">chunk: IChunkDescription</span></span></span><span class="hljs-function">) =&gt;</span></span> boolean; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EntrypointsPlugin</span></span></span><span class="hljs-class"> </span></span>{ private readonly options: IEntrypointsPluginOptions; public <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(options: IEntrypointsPluginOptions) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.options = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign&lt;IEntrypointsPluginOptions, IEntrypointsPluginOptions&gt;<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ filename: </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"entrypoints.json"</span></span></span></span><span class="hljs-function"><span class="hljs-params">, replacer: </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span><span class="hljs-function"><span class="hljs-params">, space: </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span><span class="hljs-function"><span class="hljs-params">, filter: </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span><span class="hljs-function"><span class="hljs-params"> }, options</span></span></span><span class="hljs-function">); } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">public</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">apply</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">compiler: webpack.Compiler</span></span></span><span class="hljs-function">): </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">void</span></span></span><span class="hljs-function"> { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">compiler</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">hooks</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">emit</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">tap</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"entrypoints"</span></span></span></span><span class="hljs-function"><span class="hljs-params">, (compilation: webpack.compilation.Compilation</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> data = {}; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> entrypoints = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> filter = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.options.filter; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> publicPath = compilation.compiler.options.output.publicPath; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> [key, value] <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> compilation.entrypoints.entries()) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> chunks: IChunkDescription[] = value.chunks.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> chunk: IChunkDescription = { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: data.id, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: data.name, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: data.files }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> filter == <span class="hljs-literal"><span class="hljs-literal">null</span></span> || filter(chunk) ? chunk : <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> files = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[] </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">as</span></span></span></span><span class="hljs-function"><span class="hljs-params"> string[]</span></span></span><span class="hljs-function">).</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">concat</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...chunks.filter(c =&gt; c != </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span></span><span class="hljs-function">) .</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c =&gt; c.files.map(f =&gt; publicPath + f</span></span></span><span class="hljs-function">))); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">js</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">files</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">filter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f =&gt; </span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/.js/</span></span></span></span><span class="hljs-function"><span class="hljs-params">.test(f</span></span></span><span class="hljs-function">) &amp;&amp; !/.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">js</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map</span></span></span><span class="hljs-function">/.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">test</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f</span></span></span><span class="hljs-function">)); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">css</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">files</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">filter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f =&gt; </span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/.css/</span></span></span></span><span class="hljs-function"><span class="hljs-params">.test(f</span></span></span><span class="hljs-function">) &amp;&amp; !/.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">css</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map</span></span></span><span class="hljs-function">/.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">test</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f</span></span></span><span class="hljs-function">)); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">let</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">entrypoint</span></span></span><span class="hljs-function"> = {}; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">if</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">js.length</span></span></span><span class="hljs-function">) </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">entrypoint</span></span></span><span class="hljs-function">["</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">js</span></span></span><span class="hljs-function">"] = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">js</span></span></span><span class="hljs-function">; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">if</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">css.length</span></span></span><span class="hljs-function">) </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">entrypoint</span></span></span><span class="hljs-function">["</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">css</span></span></span><span class="hljs-function">"] = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">css</span></span></span><span class="hljs-function">; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">[</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">key</span></span></span><span class="hljs-function">] = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">entrypoint</span></span></span><span class="hljs-function">; } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">const</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">json</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">JSON</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">stringify</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.options.replacer, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params">.options.space</span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">compilation</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">assets</span></span></span><span class="hljs-function">[</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">this</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">options</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">filename</span></span></span><span class="hljs-function">] = { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">source</span></span></span><span class="hljs-function">: </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> json, <span class="hljs-attr"><span class="hljs-attr">size</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> json.length }; }); } }</code> </pre> <br><p>  Fügen Sie in der Datei webpack.config. (Ts | js) ein neues Plugin hinzu: </p><br><pre> <code class="hljs powershell">plugins: [ <span class="hljs-type"><span class="hljs-type">new</span></span> <span class="hljs-type"><span class="hljs-type">EntrypointsPlugin</span></span>({ <span class="hljs-type"><span class="hljs-type">filename</span></span>: <span class="hljs-string"><span class="hljs-string">"entrypoints.json"</span></span>, <span class="hljs-type"><span class="hljs-type">space</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span> }) ]</code> </pre> <br><p>  und warten Sie auf das Ergebnis.  Das Ergebnis ist eine entrypoints.json-Datei mit folgendem Inhalt: </p><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"index"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"js"</span></span>: [<span class="hljs-string"><span class="hljs-string">"vendors~another~index.bundle.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"index.bundle.js"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"another"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"js"</span></span>: [<span class="hljs-string"><span class="hljs-string">"vendors~another~index.bundle.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"another.bundle.js"</span></span>] } }</code> </pre> <br><p>  Wenn extract-css verwendet wird, gibt es neben dem Abschnitt js auch css. </p><br><p>  Das Letzte, was uns beim Erstellen der HTML-Seite bleibt, ist, die Datei entrypoints.json zu lesen, den gewünschten Einstiegspunkt zu finden, js- und css-Dateien aus den entsprechenden Listen zu verbinden. </p><br><h1 id="problema-reshena">  Das Problem ist gelöst </h1><br><p>  Irgendwie so. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de423693/">https://habr.com/ru/post/de423693/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de423679/index.html">Eine Aufgabe mit Wolkenkratzer und Eiern - nicht Newtons Mülleimer?</a></li>
<li><a href="../de423683/index.html">Basierend auf gesundem Menschenverstand: DevOps von Grund auf neu entwickeln</a></li>
<li><a href="../de423685/index.html">PostgreSQL-Parallelität: nicht kugelförmig, kein Pferd, nicht im Vakuum</a></li>
<li><a href="../de423687/index.html">HyperX Pulsefire FPS Pro - schneller, gemeiner, erschwinglicher</a></li>
<li><a href="../de423689/index.html">RTOS MAX - kostenlos? Wir planen, eine Lizenz für die kostenlose kommerzielle Nutzung zu eröffnen</a></li>
<li><a href="../de423695/index.html">Wie man vor 40 Jahren mit einer Million Dollar auf einem Bankkonto in den Ruhestand geht</a></li>
<li><a href="../de423697/index.html">Einführung in Spring Data JDBC</a></li>
<li><a href="../de423699/index.html">Der Preis für die „digitale Wirtschaft“ ist gestiegen: 2 Billionen Rubel müssen aus dem Budget bereitgestellt werden</a></li>
<li><a href="../de423701/index.html">Node.js-Handbuch, Teil 3: Hosting, REPL, Konsolenvorgänge, Module</a></li>
<li><a href="../de423703/index.html">Node.js-Handbuch, Teil 4: Dateien npm, package.json und package-lock.json</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>