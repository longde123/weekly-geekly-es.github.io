<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👳🏿 🔅 🖕🏿 Kami mencari di bawah kap Gmail baru 👔 ▪️ 🖐🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Enam bulan lalu, Google memperkenalkan versi terbaru dari layanan emailnya. Terlepas dari kenyataan bahwa banyak pengguna tidak senang dengan desain u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami mencari di bawah kap Gmail baru</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429506/"><p>  Enam bulan lalu, Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">memperkenalkan</a> versi terbaru dari layanan emailnya.  Terlepas dari kenyataan bahwa banyak pengguna tidak senang dengan desain ulang, termasuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di Habré</a> , ini sekarang merupakan antarmuka utama bagi pengguna. </p><br><p>  Di antara kekurangan lainnya, orang mengeluh tentang penurunan kinerja versi baru, terutama pada komputer yang lemah.  Mari kita lihat mengapa ini terjadi dan apa yang bisa sangat sulit di antarmuka email.  Di artikel ini, kami akan menggunakan alat pengembang di Google Chrome, jadi artikel ini juga akan menjadi pengingat peluang apa yang tersedia di sana. </p><a name="habracut"></a><br><h2 id="ishodnye-dannye">  Sumber data </h2><br><p>  Pertama, Anda perlu memahami apa yang sedang kita hadapi.  Google Chrome Devtools memiliki alat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mercusuar</a> bawaan yang membuat laporan kinerja sederhana dan mudah untuk situs Anda.  Di dalamnya, Gmail mendapat deuce untuk kinerja (dari maksimal 100 poin!) </p><br><p><img src="https://habrastorage.org/webt/yu/zg/lp/yuzglprkqo7bjwn7ddfbcdxz8k0.png"></p><br><p>  Sejujurnya, ini bukan hasil yang Anda harapkan dari produk Google.  Namun demikian, mari kita lihat situasi ini secara lebih rinci.  Matikan cache, dan muat antarmuka Gmail dengan devtools diaktifkan.  Tab Jaringan akan menampilkan semua permintaan yang dibuat untuk mengunduh halaman ini.  Ternyata 6,9 Mb.  Ini adalah ukuran yang mengesankan, mengingat bahwa bahkan Youtube, layanan lain yang baru diperbarui, hanya memuat 2 MB sumber daya. </p><br><blockquote>  Perlu dicatat di sini bahwa layanan modern, termasuk Gmail, menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pekerja Layanan</a> untuk peningkatan caching sumber daya.  Oleh karena itu, untuk pengukuran awal yang dingin, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mematikan cache</a> tidak cukup, Anda juga perlu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengatur ulang Pekerja Layanan</a> , yang juga memegang sumber daya.  Hanya setelah ini, nomor unduhan dari awal akan menjadi nyata. </blockquote><p>  Sekarang mari kita coba melihat pemuatan halaman dalam gerakan lambat.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dokumentasi Google Chrome</a> menjelaskan cara melakukan ini.  Kami mendapatkan serangkaian tangkapan layar dari berbagai tahapan pemuatan halaman: </p><br><p><img src="https://habrastorage.org/webt/2j/tw/ao/2jtwaofovrdv_ytxy6vjd6dnzrm.png"></p><br><p>  Di sini Anda dapat melihat bahwa halaman tersebut dimuat kurang lebih pada detik ke-9. </p><br><p>  Dengan memuat ulang saat menggunakan cache, situasinya lebih baik.  Halaman hanya membuat 250 Kb permintaan, tetapi ini tidak membuatnya lebih cepat, kita masih melihat layar splash selama hampir 10 detik.  Intinya jelas bukan jumlah permintaan, sesuatu yang lain membuat halaman lebih lambat. </p><br><h2 id="blokiruem-resursy">  Kami memblokir sumber daya </h2><br><p>  Sekarang lihat daftar skrip yang dapat diunduh: </p><br><p><img src="https://habrastorage.org/webt/md/2l/qw/md2lqwcqm3bl9l5frwa4-c3qpqi.png"></p><br><p>  Mungkin beberapa dari mereka tidak begitu diperlukan untuk operasi normal antarmuka?  Mari kita coba mematikannya satu per satu dan menguji halaman tanpa mereka.  Ini mudah dilakukan dengan menggunakan fungsi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bawaan devtools</a> . </p><br><p> Secara empiris, ternyata permintaan untuk <code>https://mail.google.com/_/scs/*</code> sangat penting agar antarmuka berfungsi, tetapi permintaan berikut dapat diblokir: </p><br><ul><li>  <code>www.gstatic.com/og/*</code> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pustaka Klien Google API</a> , pustaka untuk permintaan layanan Google </li><li>  <code>ssl.gstatic.com/inputtools/*</code> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Google Input Tools</a> - widget keyboard di layar </li><li>  <code>hangouts.google.com</code> - bertanggung jawab atas widget handgouts </li></ul><br><blockquote>  Selain permintaan ini, AdBlock saya memasang permintaan yang sudah diblokir ke <code>https://play.google.com/log</code> , kami tidak memperhitungkannya, karena tidak dibuat bahkan sebelum eksperimen dengan kunci dimulai. </blockquote><p>  Kami menambahkan skrip ini ke daftar hitam dan melihat bahwa halaman mulai memuat dalam 4 detik, tetapi Anda masih dapat membaca dan menulis surat. </p><br><h2 id="smotrim-v-profayler">  Kami mencari di profiler </h2><br><p>  Jadi, kami meminimalkan pemuatan sumber daya sebanyak yang kami bisa, tetapi halaman masih membutuhkan waktu lama untuk dimuat.  Kita perlu melihat apa yang terjadi selama 4 detik ini.  Di sini, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">profiler yang terpasang di Chrome</a> akan membantu kami.  Dia menunjukkan kepada kita gambar ini: </p><br><p><img src="https://habrastorage.org/webt/nf/df/5f/nfdf5fyvr7vgproydoxpqjo4zgo.png"></p><br><p>  Di sini Anda dapat melihat bahwa selama ini browser sibuk dengan eksekusi Javascript.  Sangat menarik bahwa hal yang penting dan sulit terjadi dalam kode ini.  Untungnya, Javascript dimuat ke dalam browser hampir tidak berubah dan dapat dibaca. </p><br><h2 id="rassmatrivaem-ostavshiysya-kod">  Pertimbangkan kode yang tersisa </h2><br><p>  Mari kita baca kode Javascript yang tersedia untuk kita.  Di sinilah peluang untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">memformat kode yang diperkecil</a> agar lebih mudah dibaca. </p><br><p>  Menurut hasil menonton, berikut ini ditemukan: </p><br><ul><li>  Kode ini sangat dikaburkan.  Kemungkinan besar, Google Closure Compiler digunakan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mode Lanjutan</a> .  Artinya, pengembang Gmail telah memanfaatkan teknologi minifikasi modern secara maksimal. </li><li>  Metrik kinerja dikumpulkan dalam kode, jadi pengembang harus menyadari betapa lambatnya antarmuka pengguna dimuat. </li><li>  Sumber berisi polyfill untuk Promise, Map, Set, dan API modern lainnya yang mungkin tidak dimuat di browser modern. </li><li>  Kode Gmail ditulis dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Google Closure Libary</a> </li></ul><br><p>  Pada titik terakhir, ada baiknya berhenti lebih detail.  Perpustakaan Penutupan adalah kerangka pengembangan antarmuka yang muncul pada tahun 2009, dan tidak banyak berubah sejak saat itu.  Misalnya, <a href="https://github.com/google/closure-library/blob/master/closure/goog/net/xml">Ajax melalui ActiveXObject</a> masih didukung di <a href="https://github.com/google/closure-library/blob/master/closure/goog/net/xml">sana</a> : yang diperlukan hanya untuk IE6 dan lebih rendah, meskipun Gmail saat ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">secara resmi</a> hanya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mendukung</a> IE 10+. </p><br><p>  Selain itu, UI Penutupan didasarkan pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">hierarki kelas</a> dalam tradisi GWT "terbaik" - pendekatan dengan banyak abstraksi verbose yang jelas memengaruhi kinerja rendering.  Kerangka kerja UI modern (React atau Vue, misalnya) menawarkan abstraksi yang jauh lebih ringan - komponen - yang jauh lebih murah untuk disajikan. </p><br><p>  Karena itu inisialisasi yang panjang: ribuan kelas dibuat dalam kode dan banyak abstraksi diinisialisasi sebelum benar-benar mulai memberikan antarmuka Gmail kepada kami. </p><br><p>  Jadi, meskipun penampilannya diperbarui, Gmail menarik warisan teknologi lama, yang parahnya tidak dapat disembunyikan di balik kulit luarnya. </p><br><h2 id="vyvody">  Kesimpulan </h2><br><p>  Saya harap setelah ulasan ini akan menjadi sedikit lebih jelas mengapa Gmail melambat.  Sayangnya, itu tidak dalam kekuatan kami untuk membuat Google mempercepat layanan mereka, tetapi Anda setidaknya dapat mempelajari beberapa pelajaran untuk aplikasi Anda: </p><br><ul><li>  Proyek lawas biasanya menemukan kode yang tidak perlu, seperti peretasan untuk peramban lawas.  Tinjau sumber Anda dan singkirkan hal-hal yang telah menjadi tidak relevan. </li><li>  Abstraksi tidak gratis.  Jika Anda ingin menyelesaikan masalah menggunakan pola arsitektur yang elegan, pertama-tama pikirkan apakah itu alat yang terlalu berat, mungkin ada opsi yang lebih mudah. </li><li>  Jangan unggah elemen sekunder ke halaman secara asli.  Dalam hal ini, widget Hangouts mungkin tidak memblokir saluran, mengganggu pemuatan sumber daya Gmail utama, tetapi memuat di latar belakang, setelah merender fungsi utama. </li><li>  Jangan abaikan teknologi modern.  Mereka mungkin berisi solusi fundamental baru untuk tugas Anda, lebih produktif dan nyaman.  Sungguh aneh melihat pada tahun 2018 desain ulang layanan dari Google, yang tidak menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">komponen web</a> , di mana Google begitu aktif <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tenggelam dalam konferensi</a> . </li><li>  Nah, jangan lupa memperhatikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pengukuran kinerja</a> untuk proyek Anda.  Untuk ini, sekarang ada banyak alat yang mudah digunakan, baik berbasis browser dan untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">peluncuran di CI</a> . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id429506/">https://habr.com/ru/post/id429506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id429496/index.html">Laser Lightsaber buatan rumah: bagaimana itu. Bagian 2</a></li>
<li><a href="../id429498/index.html">4 alasan untuk menunda-nunda (teks)</a></li>
<li><a href="../id429500/index.html">"Waktunya berbisnis" akhirnya terbang</a></li>
<li><a href="../id429502/index.html">Apakah layak untuk mengembangkan lintas kompetensi</a></li>
<li><a href="../id429504/index.html">Cara memanggil metode vk audio</a></li>
<li><a href="../id429508/index.html">Ringkasan laporan “Bagaimana menjadi spesialis keren dalam basis data” (HL2018, Data Egret, Ilya Kosmodemyansky)</a></li>
<li><a href="../id429510/index.html">ArduPilot untuk pemula. Instal dan konfigurasikan di BeagleBone Blue</a></li>
<li><a href="../id429512/index.html">Acara digital di Moskow dari 12 hingga 18 November</a></li>
<li><a href="../id429514/index.html">Microsoft memberi tahu cara mengatasi masalah keamanan data pada SSD dengan enkripsi perangkat keras yang bocor</a></li>
<li><a href="../id429522/index.html">Merancang robot layanan. Pernyataan masalah, arsitektur solusi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>