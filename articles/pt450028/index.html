<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïß ü•† üë∞üèø Construindo uma arquitetura orientada a servi√ßos no Rails + Kafka üë™ üëÇ üåü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! Apresento a voc√™s um post que √© uma adapta√ß√£o em texto do desempenho da Stella Cotton no RailsConf 2018 e uma tradu√ß√£o do artigo ‚ÄúConstruind...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Construindo uma arquitetura orientada a servi√ßos no Rails + Kafka</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450028/">  Ol√° Habr!  Apresento a voc√™s um post que √© uma adapta√ß√£o em texto do desempenho da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Stella Cotton no RailsConf 2018</a> e uma tradu√ß√£o do artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúConstruindo uma arquitetura orientada a servi√ßos com Rails e Kafka‚Äù</a> por Stella Cotton. <br><br>  Recentemente, a transi√ß√£o de projetos da arquitetura monol√≠tica para microsservi√ßos √© claramente vis√≠vel.  Neste guia, aprenderemos os conceitos b√°sicos do Kafka e como uma abordagem orientada a eventos pode melhorar seu aplicativo Rails.  Tamb√©m falaremos sobre os problemas de monitoramento e escalabilidade de servi√ßos que funcionam por meio de uma abordagem orientada a eventos. <br><a name="habracut"></a><br><h2>  O que √© Kafka? </h2><br>  Tenho certeza de que voc√™ deseja obter informa√ß√µes sobre como seus usu√°rios acessaram sua plataforma ou quais p√°ginas visitam, em quais bot√µes clicam etc.  Um aplicativo verdadeiramente popular pode gerar bilh√µes de eventos e enviar uma enorme quantidade de dados aos servi√ßos de an√°lise, o que pode ser um s√©rio desafio para o seu aplicativo. <br><br>  Como regra, uma parte integrante dos aplicativos da Web requer o chamado <i>fluxo de dados em tempo real</i> .  Kafka fornece uma conex√£o tolerante a falhas entre <b>produtores</b> , aqueles que geram eventos e <b>consumidores</b> , aqueles que recebem esses eventos.  Pode at√© haver v√°rios produtores e consumidores em um aplicativo.  No Kafka, todos os eventos existem por um determinado per√≠odo, para que v√°rios consumidores possam ler o mesmo evento repetidamente.  O cluster Kafka inclui v√°rios intermedi√°rios que s√£o inst√¢ncias Kafka. <br><br><img src="https://habrastorage.org/webt/ql/j1/uy/qlj1uyapeg_3fmswgflqauwmd7q.png"><br><br>  Um recurso importante do Kafka √© a alta velocidade do processamento de eventos.  Os sistemas tradicionais de enfileiramento, como o AMQP, possuem uma infraestrutura que monitora os eventos processados ‚Äã‚Äãpara cada consumidor.  Quando o n√∫mero de consumidores cresce para um n√≠vel decente, o sistema dificilmente come√ßa a lidar com a carga, porque precisa monitorar um n√∫mero crescente de condi√ß√µes.  Al√©m disso, existem grandes problemas com a consist√™ncia entre o processamento do consumidor e do evento.  Por exemplo, vale a pena marcar imediatamente uma mensagem como enviada assim que √© processada pelo sistema?  E se um consumidor cair do outro lado sem receber uma mensagem? <br><br>  Kafka tamb√©m tem uma arquitetura √† prova de falhas.  O sistema √© executado como um cluster em um ou mais servidores, que podem ser dimensionados horizontalmente adicionando novas m√°quinas.  Todos os dados s√£o gravados no disco e copiados para v√°rios intermedi√°rios.  Para entender as possibilidades de escalabilidade, vale a pena dar uma olhada em empresas como Netflix, LinkedIn, Microsoft.  Todos eles enviam trilh√µes de mensagens por dia atrav√©s de seus grupos Kafka! <br><br><h2>  Configurando o Kafka no Rails </h2><br>  O Heroku fornece um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">complemento de cluster Kafka</a> que pode ser usado para qualquer ambiente.  Para aplica√ß√µes em rubi, recomendamos o uso da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gema ruby-kafka</a> .  A implementa√ß√£o m√≠nima √© mais ou menos assim: <br><br><pre><code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># config/initializers/kafka_producer.rb require "kafka" # Configure the Kafka client with the broker hosts and the Rails # logger. $kafka = Kafka.new(["kafka1:9092", "kafka2:9092"], logger: Rails.logger) # Set up an asynchronous producer that delivers its buffered messages # every ten seconds: $kafka_producer = $kafka.async_producer( delivery_interval: 10, ) # Make sure to shut down the producer when exiting. at_exit { $kafka_producer.shutdown }</span></span></code> </pre> <br>  Depois de configurar a configura√ß√£o, voc√™ pode usar a gema para enviar mensagens.  Gra√ßas ao envio ass√≠ncrono de eventos, podemos enviar mensagens de qualquer lugar: <br><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OrdersController</span></span></span><span class="hljs-class"> &lt; ApplicationController </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">create</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">comment</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Order</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">create!</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">params</span></span></span><span class="hljs-class">) $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">kafka_producer</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">produce</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">order</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">to_json</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">topic</span></span></span><span class="hljs-class">: "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user_event</span></span></span><span class="hljs-class">", </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">partition_key</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">user</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br>  Falaremos sobre os formatos de serializa√ß√£o abaixo, mas, por enquanto, usaremos o bom e velho JSON.  O argumento do <code>topic</code> refere-se ao log no qual Kafka grava esse evento.  Os t√≥picos est√£o espalhados em se√ß√µes diferentes, que permitem dividir os dados de um t√≥pico espec√≠fico em diferentes intermedi√°rios para melhor escalabilidade e confiabilidade.  E √© realmente uma boa ideia ter duas ou mais se√ß√µes para cada t√≥pico, porque se uma delas cair, seus eventos ser√£o gravados e processados ‚Äã‚Äãde qualquer maneira.  Kafka garante que os eventos sejam entregues na ordem da fila na se√ß√£o, mas n√£o no t√≥pico inteiro.  Se a ordem dos eventos for importante, o envio de partition_key garantir√° que todos os eventos de um tipo espec√≠fico sejam armazenados na mesma parti√ß√£o. <br><br><h2>  Kafka pelos seus servi√ßos </h2><br>  Alguns dos recursos que tornam o Kafka uma ferramenta √∫til tamb√©m o tornam um RPC de failover entre servi√ßos.  Veja um exemplo de aplicativo de com√©rcio eletr√¥nico: <br><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_order</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_order_record</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">charge_credit_card</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment"># call to Payments Service send_confirmation_email # call to Email Service end</span></span></span></span></code> </pre> <br>  Quando o usu√°rio <code>create_order</code> um pedido, a fun√ß√£o <code>create_order</code> √© <code>create_order</code> .  Isso cria um pedido no sistema, deduz dinheiro do cart√£o e envia um email com confirma√ß√£o.  Como voc√™ pode ver, as duas √∫ltimas etapas s√£o executadas em servi√ßos separados. <br><br><img src="https://habrastorage.org/webt/i8/_y/tr/i8_ytruescd639f48vmelrmsfu4.png"><br><br>  Um dos problemas dessa abordagem √© que o servi√ßo superior na hierarquia √© respons√°vel por monitorar a disponibilidade do servi√ßo downstream.  Se o servi√ßo de envio de cartas tiver sido um dia ruim, o servi√ßo mais alto precisar√° saber sobre ele.  E se o servi√ßo de envio estiver indispon√≠vel, voc√™ precisar√° repetir um determinado conjunto de a√ß√µes.  Como Kafka pode ajudar nessa situa√ß√£o? <br><br>  Por exemplo: <br><br><img src="https://habrastorage.org/webt/i1/dh/a8/i1dha8zycj6ibxydaxja9y8bp10.png"><br><br>  Nessa abordagem orientada a eventos, um servi√ßo superior pode registrar em Kafka um evento em que um pedido foi criado.  Devido √† chamada abordagem <i>pelo menos uma vez</i> , o evento ser√° registrado em Kafka pelo menos uma vez e estar√° dispon√≠vel para leitura dos consumidores a jusante.  Se o servi√ßo de envio de cartas persistir, o evento aguardar√° no disco at√© que o consumidor suba e o leia. <br><br>  Outro problema com a arquitetura orientada a RPC est√° nos sistemas de crescimento r√°pido: a adi√ß√£o de um novo servi√ßo downstream acarreta mudan√ßas no upstream.  Por exemplo, voc√™ gostaria de adicionar mais uma etapa depois de criar um pedido.  Em um mundo orientado a eventos, voc√™ precisar√° adicionar outro consumidor para lidar com um novo tipo de evento. <br><br><img src="https://habrastorage.org/webt/ox/ic/ka/oxickaiivr5j6hey5fahjkcvsxc.png"><br><br><h2>  Integrando Eventos √† Arquitetura Orientada a Servi√ßos </h2><br>  Uma postagem intitulada ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O que voc√™ quer dizer com‚Äú Orientada a Eventos ‚Äù</a> ‚Äù por Martin Fowler discute a confus√£o em torno de aplicativos orientados a eventos.  Quando os desenvolvedores discutem esses sistemas, eles est√£o realmente falando sobre um grande n√∫mero de aplicativos diferentes.  Para fornecer uma compreens√£o geral da natureza de tais sistemas, Fowler definiu v√°rios padr√µes arquiteturais. <br><br>  Vamos dar uma olhada em quais s√£o esses padr√µes.  Se voc√™ quiser saber mais, aconselho a ler o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">relat√≥rio</a> dele no GOTO Chicago 2017. <br><br><h3>  Notifica√ß√£o de evento </h3><br>  O primeiro padr√£o Fowler √© chamado de <i>Notifica√ß√£o de Eventos</i> .  Nesse cen√°rio, o servi√ßo do produtor notifica os consumidores do evento com uma quantidade m√≠nima de informa√ß√µes: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"event"</span></span>: <span class="hljs-string"><span class="hljs-string">"order_created"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"published_at"</span></span>: <span class="hljs-string"><span class="hljs-string">"2016-03-15T16:35:04Z"</span></span> }</code> </pre> <br>  Se os consumidores precisarem de mais informa√ß√µes sobre o evento, solicitam ao produtor e obt√™m mais dados. <br><br><h3>  Transfer√™ncia de estado realizada por evento </h3><br>  O segundo modelo √© chamado <i>de transfer√™ncia de estado transportada por evento</i> .  Nesse cen√°rio, o produtor fornece informa√ß√µes adicionais sobre o evento e o consumidor pode armazenar uma c√≥pia desses dados sem fazer chamadas adicionais: <br><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"event"</span></span>: <span class="hljs-string"><span class="hljs-string">"order_created"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"order_id"</span></span>: <span class="hljs-number"><span class="hljs-number">98765</span></span>, <span class="hljs-attr"><span class="hljs-attr">"size"</span></span>: <span class="hljs-string"><span class="hljs-string">"medium"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"color"</span></span>: <span class="hljs-string"><span class="hljs-string">"blue"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"published_at"</span></span>: <span class="hljs-string"><span class="hljs-string">"2016-03-15T16:35:04Z"</span></span> }</code> </pre> <br><h3>  Origem do evento </h3><br>  Fowler chamou o terceiro modelo <i>Origem do Evento</i> e √© bastante arquitet√¥nico.  A libera√ß√£o do modelo envolve n√£o apenas a comunica√ß√£o entre seus servi√ßos, mas tamb√©m a preserva√ß√£o da apresenta√ß√£o do evento.  Isso garante que, mesmo se voc√™ perder o banco de dados, ainda poder√° restaurar o estado do aplicativo simplesmente executando o fluxo de eventos salvo.  Em outras palavras, cada evento salva um determinado estado do aplicativo em um determinado momento. <br><br>  O grande problema dessa abordagem √© que o c√≥digo do aplicativo sempre muda e, com ela, o formato ou a quantidade de dados que o produtor fornece pode mudar.  Isso torna problem√°tico a restaura√ß√£o do estado do aplicativo. <br><br><h3>  Segrega√ß√£o de responsabilidade de consulta de comando </h3><br>  E o √∫ltimo modelo √© <i>Segrega√ß√£o de Responsabilidade de Consulta de Comando</i> , ou CQRS.  A ideia √© que as a√ß√µes que voc√™ aplica ao objeto, por exemplo: criar, ler, atualizar, sejam divididas em diferentes dom√≠nios.  Isso significa que um servi√ßo deve ser respons√°vel pela cria√ß√£o, outro pela atualiza√ß√£o etc.  Nos sistemas orientados a objetos, tudo geralmente √© armazenado em um servi√ßo. <br><br><img src="https://habrastorage.org/webt/xb/5b/mx/xb5bmxasal6md3bq2xsdgnhfhgg.png"><br><br>  Um servi√ßo que grava no banco de dados l√™ o fluxo de eventos e comandos de processo.  Mas quaisquer solicita√ß√µes ocorrem apenas no banco de dados somente leitura.  Dividir a l√≥gica de leitura e grava√ß√£o em dois servi√ßos diferentes aumenta a complexidade, mas permite otimizar o desempenho separadamente para esses sistemas. <br><br><h2>  Os problemas </h2><br>  Vamos falar sobre alguns dos problemas que voc√™ pode encontrar ao integrar o Kafka ao seu aplicativo orientado a servi√ßos. <br><br>  O primeiro problema pode ser lento para o consumidor.  Em um sistema orientado a eventos, seus servi√ßos devem poder processar eventos instantaneamente quando s√£o recebidos de um servi√ßo superior.  Caso contr√°rio, eles simplesmente ser√£o interrompidos sem nenhum alerta sobre o problema ou o tempo limite.  O √∫nico lugar onde voc√™ pode definir tempos limite √© uma conex√£o de soquete com os agentes Kafka.  Se o servi√ßo n√£o manipular o evento com rapidez suficiente, a conex√£o poder√° ser interrompida por tempo limite, mas a restaura√ß√£o do servi√ßo exigir√° tempo adicional, pois a cria√ß√£o desses soquetes √© cara. <br><br>  Se o consumidor estiver lento, como voc√™ pode aumentar a velocidade do processamento de eventos?  No Kafka, voc√™ pode aumentar o n√∫mero de consumidores em um grupo, para que mais eventos possam ser processados ‚Äã‚Äãem paralelo.  Mas pelo menos 2 consumidores ser√£o necess√°rios para um servi√ßo: no caso de um cair, as se√ß√µes danificadas podem ser reatribu√≠das. <br><br>  Tamb√©m √© muito importante ter m√©tricas e alertas para monitorar a velocidade do processamento de eventos.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O ruby-kafka</a> pode trabalhar com alertas do ActiveSupport, tamb√©m possui m√≥dulos StatsD e Datadog, que s√£o ativados por padr√£o.  Al√©m disso, a gema fornece uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lista de</a> m√©tricas recomendadas para monitoramento. <br><br>  Outro aspecto importante da constru√ß√£o de sistemas com o Kafka √© o design de consumidores com capacidade de lidar com falhas.  Kafka √© garantido para enviar um evento pelo menos uma vez;  excluiu o caso em que a mensagem n√£o foi enviada.  Mas √© importante que os consumidores estejam preparados para lidar com eventos recorrentes.  Uma maneira de fazer isso √© sempre usar o <code>UPSERT</code> para adicionar novos registros ao banco de dados.  Se o registro j√° existir com os mesmos atributos, a chamada estar√° essencialmente inativa.  Al√©m disso, voc√™ pode adicionar um identificador exclusivo a cada evento e simplesmente pular eventos que j√° foram processados ‚Äã‚Äãanteriormente. <br><br><h2>  Formatos de dados </h2><br>  Uma das surpresas ao trabalhar com Kafka pode ser sua simples atitude em rela√ß√£o ao formato dos dados.  Voc√™ pode enviar qualquer coisa em bytes e os dados ser√£o enviados ao consumidor sem nenhuma verifica√ß√£o.  Por um lado, oferece flexibilidade e permite que voc√™ n√£o se importe com o formato dos dados.  Por outro lado, se o produtor decidir alterar os dados que est√£o sendo enviados, h√° uma chance de que algum consumidor acabe quebrando. <br><br>  Antes de construir uma arquitetura orientada a eventos, selecione um formato de dados e analise como ele ajudar√° no futuro a registrar e desenvolver esquemas. <br><br>  Um dos formatos recomendados para uso, √© claro, √© o JSON.  Este formato √© leg√≠vel por humanos e √© suportado por todas as linguagens de programa√ß√£o conhecidas.  Mas existem armadilhas.  Por exemplo, o tamanho dos dados finais em JSON pode se tornar assustadoramente grande.  O formato √© necess√°rio para armazenar pares de valores-chave, que s√£o flex√≠veis o suficiente, mas os dados s√£o duplicados em cada evento.  Alterar o esquema tamb√©m √© uma tarefa dif√≠cil, porque n√£o h√° suporte interno para sobrepor uma chave √† outra, se voc√™ precisar renomear o campo. <br><br>  A equipe que criou o Kafka aconselha a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Avro</a> como um sistema de serializa√ß√£o.  Os dados s√£o enviados em formato bin√°rio, e este n√£o √© o formato mais leg√≠vel por humanos, mas por dentro h√° um suporte mais confi√°vel para circuitos.  A entidade final no Avro inclui o esquema e os dados.  O Avro tamb√©m suporta tipos simples, como n√∫meros e complexos: datas, matrizes, etc. Al√©m disso, permite incluir documenta√ß√£o dentro do esquema, o que permite entender o objetivo de um campo espec√≠fico no sistema e cont√©m muitas outras ferramentas internas para trabalhar com o esquema. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O avro-builder</a> √© uma gema criada pelo Salsify que oferece uma DSL semelhante a rubi para a cria√ß√£o de esquemas.  Voc√™ pode ler mais sobre o Avro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">neste artigo</a> . <br><br><h2>  Informa√ß√µes Adicionais </h2><br>  Se voc√™ estiver interessado em hospedar o Kafka ou como ele √© usado no Heroku, existem v√°rios relat√≥rios que podem ser do seu interesse. <br><br>  Jeff Chao no DataEngConf SF '17 " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Al√©m de 50.000 parti√ß√µes: como o Heroku opera e aumenta os limites de Kafka em escala</a> " <br><br>  Pavel Pravosud na Dreamforce '16 ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dogfooding Kafka: como constru√≠mos a</a> confer√™ncia em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tempo real da Heroku Platform Event Stream</a> ‚Äù <br><br>  Tenha uma bela vista! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt450028/">https://habr.com/ru/post/pt450028/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt450016/index.html">Cria√ß√£o de um sistema formal de verifica√ß√£o do zero. Parte 1: m√°quina virtual de caracteres em PHP e Python</a></li>
<li><a href="../pt450018/index.html">Uma dupla de matem√°tica mapeou um territ√≥rio infinito de superf√≠cies m√≠nimas</a></li>
<li><a href="../pt450020/index.html">O Vale do Sil√≠cio chegou √†s crian√ßas do Kansas. Isso levou a protestos.</a></li>
<li><a href="../pt450024/index.html">Sobre implementa√ß√µes de c√≥digo aberto da fun√ß√£o de hash GOST R 34.11-2012 e seu impacto na assinatura eletr√¥nica do GOST R 34.10-2012</a></li>
<li><a href="../pt450026/index.html">Cifra de acelera√ß√£o: estudamos o aceler√¥metro de um dispositivo Android usando o exemplo da tarefa NeoQUEST-2019</a></li>
<li><a href="../pt450030/index.html">N√£o posso usar o Rift S e voc√™ tamb√©m n√£o ter√° sucesso</a></li>
<li><a href="../pt450032/index.html">Como criar um tema sombrio sem interromper as coisas: aprendendo com a equipe do Yandex Mail</a></li>
<li><a href="../pt450034/index.html">Por que voc√™ deve participar de hackathons</a></li>
<li><a href="../pt450036/index.html">Summ3r 0f h4ck: est√°gio Digital Security 2019</a></li>
<li><a href="../pt450040/index.html">Nova empresa dar√° suporte ao OpenJDK 8 e 11 - entendemos a situa√ß√£o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>