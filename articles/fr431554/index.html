<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèµÔ∏è üë®üèª‚Äçüéì üé© Facebook comme le compteur d'un vieux compteur √©lectrique üí™üèº üë©üèª‚Äçüî¨ üì∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous avons cr√©√© une page physique comme un compteur sur Facebook. De l'ancien compteur √©lectrique. Au c≈ìur se trouve la carte programmable Iskra Neo d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Facebook comme le compteur d'un vieux compteur √©lectrique</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431554/">  Nous avons cr√©√© une page physique comme un compteur sur Facebook.  De l'ancien compteur √©lectrique.  Au c≈ìur se trouve la carte programmable Iskra Neo d'Amperka (analogique √† Arduino) et un servomoteur √† rotation constante. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/-k/7_/zq/-k7_zq8y6ij0lgthn5zbrsyutvw.jpeg"><br><br>  Pour observer la croissance des likes, nous avons mis une cam√©ra en ligne dirig√©e vers le comptoir et fait ressortir le bouton Like sur le blog.  J'aime aussi m'occuper de l'√©lectronique et g√©rer les choses sur Internet. <br><br>  Ceci est la premi√®re exp√©rience. <br><br><h3>  Comment cela se fait </h3><br>  L'√©lectronique pour recevoir des likes a d√©j√† √©t√© assembl√©e et test√©e dans le projet Amperka, il suffit de la collecter.  Il s'est av√©r√© que ce n'√©tait pas si facile quand je voulais tout faire sur Arduino Uno au lieu de Spark.  Cela n'a pas fonctionn√© en raison de diff√©rents principes de travail avec UART (le module WiFi re√ßoit des signaux √† travers lui).  Afin de ne pas √©crire de logiciel UART, j'ai d√ª marquer sur Arduino et utiliser l'original Iskra Neo. <br><br>  Le module ne peut pas demander le nombre de likes directement depuis la page fb, car il ne fonctionne pas avec HTTPS.  Pour contourner la restriction du serveur, un script PHP est raccroch√© qui reconna√Æt le nombre de likes et est √©mis sous forme de variable.  Et le module acc√®de d√©j√† √† l'adresse de ce script PHP √† l'aide des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">commandes AT</a> (rappelez-vous, avant que le modem ne puisse dire ATDP XXX, o√π XXX est le num√©ro de t√©l√©phone, et qu'il a commenc√© √† l'appeler? C'est ce qu'ils sont) <br><br>  L'√©lectronique √©tait pr√™te, j'ai divis√© les t√¢ches restantes en deux parties: <br><br><ul><li>  Entra√Ænement au compteur </li><li>  Programme de gestion </li></ul><br><h3>  Entra√Ænement au compteur </h3><br>  Ce serait formidable de faire une solution √©l√©gante pour connecter un compteur avec une alimentation en courant aux bobines d'origine.  Ensuite, il a √©t√© possible de laisser le disque rotatif et d'interf√©rer au minimum avec la conception.  Mais cela est difficile √† mettre en ≈ìuvre, ils l'ont donc report√© √† la prochaine version.  Maintenant dans le compteur, un servomoteur √† rotation constante est fix√© directement aux engrenages qui font tourner le compteur. <br><br><img src="https://habrastorage.org/webt/eo/1v/qm/eo1vqmtosgq9matjg1z9ovu0kyy.jpeg"><br><br><img src="https://habrastorage.org/webt/ms/to/n5/mston5q7hn-qs-8g5mdaslnidee.jpeg"><br><br><img src="https://habrastorage.org/webt/4l/x_/io/4lx_io60cngf8elonaf3cr8byqi.jpeg"><br><br><h3>  Programme de gestion </h3><br>  Tout d'abord, j'ai calcul√© combien de millisecondes il faut allumer le moteur pour qu'il fasse tourner le disque d'un tour.  Il s'est av√©r√© environ 1650 ms.  Il est imm√©diatement devenu clair que ce chiffre change de la tension dans le r√©seau (et pour une raison quelconque, il saute parfois), et de marcher sur les contre-roues.  Ils ont √©t√© d√©velopp√©s il y a environ 50 ans, et plus ou moins un demi-chiffre n'a alors pas jou√© de r√¥le. <br><br><img src="https://habrastorage.org/webt/uf/n5/tq/ufn5tqbvjxepamraykaserpvtsi.png"><br><br>  Le programme doit savoir exactement ce que le compteur indique, et au moins nous devrions pouvoir le corriger manuellement.  Pour conna√Ætre le nombre exact de degr√©s par lesquels le moteur a tourn√© les roues, vous aurez besoin d'un capteur tel qu'un capteur de position du papillon sur une voiture, c'est difficile. <br><br>  Par cons√©quent, dans la premi√®re version, pour contr√¥ler la pr√©cision des lectures, il y a un affichage √©lectronique √† c√¥t√© du compteur et deux boutons qui peuvent √™tre utilis√©s pour corriger manuellement le compteur s'il s'est tromp√©.  Mode semi-manuel et que faire. <br><br>  Le programme fournit une variable qui stocke le nombre de likes sur un compteur physique.  Lorsque l'alimentation est coup√©e, elle est stock√©e dans l'EPROM et lorsqu'elle est allum√©e, elle est reprise √† partir de l√†. <br><br>  Ceci est n√©cessaire pour que lorsqu'ils sont d√©connect√©s du r√©seau, ils sachent combien le compteur doit √™tre r√©par√©. <br><br><h3>  Quel est le r√©sultat? </h3><br>  Le r√©sultat √©tait un objet d'art cool.  Avant d'installer la cam√©ra et de la suspendre au mur de notre chambre, nous l'avons post√©e pour examen dans la zone de coworking commune. <br><br>  Il est encore loin d'√™tre parfait.  Manque de pr√©cision, √† la mise sous tension, le servomoteur commence parfois √† tourner de lui-m√™me et il n'y a pas de disque rotatif d'origine. <br><br>  Nous finaliserons dans la prochaine version. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr431554/">https://habr.com/ru/post/fr431554/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr431542/index.html">D√©veloppement et maintenance efficaces des r√¥les Ansible</a></li>
<li><a href="../fr431544/index.html">Portez DevOps aux masses</a></li>
<li><a href="../fr431546/index.html">Pourquoi disons-nous OK?</a></li>
<li><a href="../fr431548/index.html">Solar Dozor - Qu'est-ce qui se cache derri√®re les √©toiles?</a></li>
<li><a href="../fr431550/index.html">Moulage par injection de film (IMD): comment cela fonctionne</a></li>
<li><a href="../fr431556/index.html">Sidenis sur le travail avec les soci√©t√©s d'assurance, le coaching agile et les technologies interdites</a></li>
<li><a href="../fr431558/index.html">Si inventer un langage de programmation du 21e si√®cle</a></li>
<li><a href="../fr431560/index.html">Acc√®s aux r√©seaux de signalisation SS7 via le sous-syst√®me radio - maintenant c'est possible</a></li>
<li><a href="../fr431562/index.html">Comment rouler avec un code h√©rit√© lorsqu'un projet √©tait n√©cessaire hier</a></li>
<li><a href="../fr431564/index.html">La plus grande erreur de l'histoire de la physique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>