<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≥üèª ü§üüèº ü¶ì Doodle-Shader-Effekt üéá üëàüèæ üë©üèΩ‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Tutorial werde ich dar√ºber sprechen, wie Sie mit den Shadern den beliebten Sprite-Doodle-Effekt in Unity wiederherstellen k√∂nnen. Wenn Ihr S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Doodle-Shader-Effekt</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449540/">  In diesem Tutorial werde ich dar√ºber sprechen, wie Sie mit den Shadern den beliebten Sprite-Doodle-Effekt in Unity wiederherstellen k√∂nnen.  Wenn Ihr Stil diesen Stil erfordert, erfahren Sie in diesem Artikel, wie Sie ihn erreichen, ohne eine Reihe zus√§tzlicher Bilder zu rendern. <br><br>  In den letzten Jahren ist dieser Stil immer beliebter geworden und wird in Spielen wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">GoNNER</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Baba is You</a> aktiv eingesetzt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd2/3af/a39/cd23afa3995577cc1d1c87f7eff8be7d.gif"></div><br>  Dieses Tutorial behandelt alles, was Sie brauchen, von den Grundlagen der Shader-Codierung bis zur verwendeten Mathematik.  Am Ende des Artikels befindet sich ein Link zum Herunterladen des vollst√§ndigen Unity-Pakets. <br><br>  Der Erfolg von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Doodle Studio 95</a> hat mich dazu inspiriert, dieses Tutorial zu erstellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">!</a>  . <br><a name="habracut"></a><br><h1>  Einf√ºhrung </h1><br>  In meinem Blog besch√§ftige ich mich mit recht komplexen Themen, von der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Mathematik der inversen Kinematik</a> bis zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">atmosph√§rischen Rayleigh-Streuung</a> .  Ich mag es wirklich, solch schwierige Themen einem breiten Publikum verst√§ndlich zu machen.  Aber die Zahl der Menschen, die sich f√ºr sie interessieren und √ºber ein ausreichendes technisches Niveau verf√ºgen, ist nicht so gro√ü.  Daher sollten Sie sich nicht wundern, dass die beliebtesten Artikel die einfachsten sind.  Dies gilt auch f√ºr einen k√ºrzlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">ver√∂ffentlichten Tweet von Nick Caman,</a> in dem er zeigte, wie man in Unity <strong>einen Doodle-Effekt erzeugt</strong> . <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: absolute; visibility: hidden; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;"></twitter-widget><blockquote class="twitter-tweet" data-lang="en_US" data-twitter-extracted-i1583099985161987746="true"><p lang="en" dir="ltr">  Hier ist ein kleiner Trick, den ich gerne verwende, um in Unity einen "Doodle" -Effekt zu erzielen: Anstatt verschiedene Frames desselben Sprites von Hand zu zeichnen, k√∂nnen Sie das Sprite auf ein Netz setzen und die Scheitelpunkte mit einer normalen Karte versetzen, die stark X rollt mal pro sekunde.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">#gamedev</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">#unitytips</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pic.twitter.com/ycd9nf9qOz</a> </p>  - Nick Kaman (@SmashyNick), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">25. Juni 2018</a> </blockquote><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  Nach 1000 Likes und 4000 Retweets wurde deutlich, dass eine starke Nachfrage nach einfacheren Tutorials besteht, die auch von Leuten studiert werden k√∂nnen, die fast keine Kenntnisse √ºber das Erstellen von Shadern haben. <br><br>  Wenn Sie nach einer professionellen und effektiven M√∂glichkeit suchen, 2D-Sprites mit einem hohen Ma√ü an k√ºnstlerischer Kontrolle zu animieren, empfehle ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Doodle Studio 95!</a>  (siehe GIF unten).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Hier k√∂nnen</a> Sie sich einige Spiele ansehen, die dieses Tool verwenden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9cf/563/42b/9cf56342b58ddde7eca5feced342ae18.gif"></div><br><h1>  Doodle-Effekt-Anatomie </h1><br>  Um den Doodle-Effekt wiederherzustellen, m√ºssen wir zun√§chst verstehen, wie er funktioniert und welche Techniken darin verwendet werden. <br><br>  <strong>Shader-Effekt.</strong>  Erstens m√∂chten wir, dass dieser Effekt so einfach wie m√∂glich ist und keine zus√§tzlichen Skripte erforderlich sind.  Dies ist dank der Verwendung von <strong>Shadern m√∂glich</strong> , die Unity mitteilen, wie 3D-Modelle (einschlie√ülich flacher!) Auf dem Bildschirm gerendert werden sollen.  Wenn Sie mit der Welt <strong>der Shader-Codierung nicht</strong> vertraut sind, sollten Sie meinen Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Eine sanfte Einf√ºhrung in Shader lesen</a> . <br><br>  <strong>Sprite-Shader.</strong>  Unity kommt mit vielen Arten von Shadern.  Wenn Sie die mitgelieferten Unity 2D-Werkzeuge verwenden, arbeiten Sie h√∂chstwahrscheinlich mit <strong>Sprites</strong> .  In diesem <code>SpriteRenderer</code> ben√∂tigen Sie <strong>Sprite Shader</strong> - einen speziellen Shader-Typ, der mit <code>SpriteRenderer</code> Unity kompatibel ist.  Oder Sie k√∂nnen mit dem traditionelleren <strong>Unlit-Shader beginnen</strong> . <br><br>  <strong>Scheitelpunktversatz.</strong>  Wenn Sie Sprites manuell zeichnen, stimmt kein Rahmen vollst√§ndig mit den anderen √ºberein.  Wir m√∂chten das Sprite auf irgendeine Weise ‚Äûwackeln‚Äú lassen, um diesen Effekt zu simulieren.  Shader haben eine sehr effektive M√∂glichkeit, dies zu tun, indem sie den <strong>Scheitelpunktversatz verwenden</strong> .  Dies ist eine Technik zum √Ñndern der Position der Scheitelpunkte eines 3D-Objekts.  Wenn wir sie zuf√§llig verschieben, erhalten wir den gew√ºnschten Effekt. <br><br>  <strong>Reisezeit.</strong>  Freihandanimationen haben normalerweise eine niedrige Bildrate.  Wenn wir beispielsweise f√ºnf Bilder pro Sekunde simulieren m√∂chten, m√ºssen wir die Position der Sprite-Scheitelpunkte f√ºnfmal pro Sekunde √§ndern.  Es ist jedoch wahrscheinlich, dass Unity das Spiel mit einer viel h√∂heren Aktualisierungsrate ausf√ºhrt.  vielleicht mit 30 oder sogar 60 Bildern pro Sekunde.  Damit sich das Sprite nicht 60 Mal pro Sekunde √§ndert, m√ºssen Sie an der Animations-Timing-Komponente arbeiten. <br><br><h1>  Schritt 1: Fertigstellen des Sprite-Shaders </h1><br>  Wenn Sie in Unity einen neuen Shader erstellen m√∂chten, ist die Auswahl sehr begrenzt.  Der n√§chste Shader, mit dem wir beginnen k√∂nnen, ist <strong>Unlit Shader</strong> , obwohl er f√ºr unsere Zwecke nicht unbedingt am besten geeignet ist. <br><br>  Wenn der Doodle-Shader vollst√§ndig mit <code>SpriteRenderer</code> Unity kompatibel sein <code>SpriteRenderer</code> , m√ºssen wir den vorhandenen <strong>Sprite-Shader</strong> erg√§nzen.  Leider k√∂nnen wir nicht direkt von Unity selbst darauf zugreifen. <br><br>  Sie k√∂nnen darauf zugreifen, indem Sie auf die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Unity-Download-Archivseite gehen</a> und das <strong>Build in Shader-</strong> Paket f√ºr die Version von Unity herunterladen, mit der Sie arbeiten.  Dies ist eine Zip-Datei, die den Quellcode aller Shader enth√§lt, die mit Ihrem Unity-Build geliefert werden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d00/1b9/da8/d001b9da891e60ef4b93f89ffb8a9fda.png"></div><br>  Entpacken Sie es nach dem Herunterladen und suchen Sie die Datei <code>Sprites-Diffuse.shader</code> im <code>Sprites-Diffuse.shader</code> <code>builtin_shaders-2018.1.6f1\DefaultResourcesExtra</code> .  Dies ist die Datei, die wir im Tutorial verwenden werden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/888/ee9/66f/888ee966f71ad738752f0bed48f4d66b.png"></div><br><div class="spoiler">  <b class="spoiler_title">Sprites-Diffuse ist kein Standard-Sprite-Shader!</b> <div class="spoiler_text">  Beim Erstellen eines neuen Sprites verwendet das Standardmaterial einen Shader namens <code>Sprites-Default.shader</code> , nicht <code>Sprites-Diffuse.shader</code> . <br><br>  Der Unterschied zwischen den beiden besteht darin, dass der erste keine Beleuchtung verwendet und der zweite auf die Beleuchtung in der Szene reagiert.  Aufgrund der Art der Unity-Implementierung ist die diffuse Version viel einfacher zu bearbeiten als die Version ohne Beleuchtung. <br><br>  Am Ende dieses Tutorials befindet sich ein Link zum Herunterladen der Doodle-Shader mit und ohne Beleuchtung. </div></div><br><h1>  Schritt 2: Scheitelpunkte versetzen </h1><br>  In <code>Sprites-Diffuse.shader</code> gibt es eine Funktion namens <code>vert</code> , die die <strong>Vertex-Funktion ist</strong> , √ºber die wir oben gesprochen haben.  Sein Name ist nicht wichtig, die Hauptsache ist, dass er mit dem im <code>vertex:</code> Abschnitt der <code>#pragma</code> angegebenen <code>#pragma</code> : <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> surface surf Lambert vertex:vert nofog nolightmap nodynlightmap keepalpha noinstancing</span></span></code> </pre> <br>  Kurz gesagt, die Scheitelpunktfunktion wird f√ºr jeden Scheitelpunkt des 3D-Modells aufgerufen und entscheidet, wie er dem zweidimensionalen Bildschirmraum √ºberlagert wird.  In diesem Tutorial interessiert uns nur, wie ein Objekt verschoben wird. <br><br>  Der Parameter <code>appdata_full v</code> enth√§lt das <code>vertex</code> , das die 3D-Position jedes Scheitelpunkts im <strong>Objektraum enth√§lt</strong> .  Wenn sich der Wert √§ndert, verschiebt sich der Scheitelpunkt.  Das hei√üt, der unten gezeigte Code √ºbertr√§gt das Objekt mit seinem Shader eine Einheit entlang der X-Achse. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_full v, out Input o)</span></span></span><span class="hljs-function"> </span></span>{ v.vertex = UnityFlipSprite(v.vertex, _Flip); v.vertex.x += <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> defined(PIXELSNAP_ON) v.vertex = UnityPixelSnap (v.vertex); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> UNITY_INITIALIZE_OUTPUT(Input, o); o.color = v.color * _Color * _RendererColor; }</span></span></code> </pre> <br>  Standardm√§√üig arbeiten in Unity erstellte 2D-Spiele nur mit der X- und Y-Achse. <code>v.vertex.xy</code> m√ºssen wir <code>v.vertex.xy</code> √§ndern, um das Sprite auf einer zweidimensionalen Ebene zu verschieben. <br><br><div class="spoiler">  <b class="spoiler_title">Was ist Objektraum?</b> <div class="spoiler_text">  Das <code>vertex</code> der Struktur <code>appdata_full</code> enth√§lt die Position des aktuellen Scheitelpunkts, der vom Shader im Objektbereich verarbeitet wird.  Dies ist die Position des Scheitelpunkts unter der Annahme, dass sich das Objekt im Zentrum der Welt befindet (0,0,0), ohne den Ma√üstab zu √§ndern und ohne Drehung. <br><br>  Im Weltraum ausgedr√ºckte Gipfel spiegeln ihre reale Position in der Unity-Szene wider. </div></div><br><div class="spoiler">  <b class="spoiler_title">Warum bewegt sich das Objekt nicht mit einer Geschwindigkeit von einem Meter pro Bild?</b> <div class="spoiler_text">  Wenn wir der Komponente <code>x</code> des <code>transform.position</code> Werts in der <code>Update</code> Methode eines C # -Skripts +1 hinzuf√ºgen, sehen wir, wie das Objekt mit einer Geschwindigkeit von 1 Meter pro Frame nach rechts fliegt, dh ungef√§hr 216 Kilometer pro Stunde. <br><br>  Dies liegt daran, dass die √Ñnderungen, die C # vornimmt, die Position selbst √§ndern.  In der Scheitelpunktfunktion geschieht dies nicht.  Der Shader √§ndert nur die visuelle Darstellung des Modells, aktualisiert oder √§ndert jedoch nicht die gespeicherten Scheitelpunkte des Modells.  Aus diesem Grund verschiebt das Hinzuf√ºgen von +1 zu <code>v.vertex.x</code> ein Objekt nur einmal um einen Meter. </div></div><br><div class="spoiler">  <b class="spoiler_title">Denken Sie daran, das Sprite als Tight zu importieren!</b> <div class="spoiler_text">  Dieser Effekt verschiebt die Oberseite des Sprites.  Traditionell werden Sprites als Vierecke in Unity importiert (siehe Abbildung links).  Dies bedeutet, dass sie nur vier Spitzen haben.  Wenn ja, k√∂nnen nur diese Punkte verschoben werden, was die St√§rke des Doodle-Effekts verringert. <br><br>  F√ºr eine st√§rkere und realistischere Verzerrung m√ºssen Sie Sprites importieren, indem Sie f√ºr den Parameter <b>Mesh Type</b> die <b>Option</b> <b>Tight</b> ausw√§hlen, wodurch sie in eine konvexe Form umgewandelt werden (siehe Abbildung rechts). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c6/50e/e6b/0c650ee6b9ec95c457e223200ce22d03.png"></div><br>  Dies erh√∂ht die Anzahl der Eckpunkte.  Das ist nicht immer w√ºnschenswert, aber genau das brauchen wir jetzt. </div></div><br><h2>  Zuf√§lliger Versatz </h2><br>  Der Doodle-Effekt verschiebt zuf√§llig die Position jedes Scheitelpunkts.  Das Abtasten von <strong>Zufallszahlen</strong> in einem Shader war schon immer eine schwierige Aufgabe.  Dies wird haupts√§chlich durch die verteilte GPU-Architektur verursacht, die die Effizienz der Neuerstellung des in den meisten Bibliotheken (einschlie√ülich <code>Mathf.Random</code> ) verwendeten Algorithmus verkompliziert und verringert. <br><br>  Nick Camans Post verwendete eine Rauschstruktur, die beim Abtasten die Illusion von Zuf√§lligkeit vermittelt.  Im Kontext Ihres Projekts ist dies m√∂glicherweise nicht der effektivste Ansatz, da sich in diesem Fall die Anzahl der vom Shader ausgef√ºhrten Textur-Suchvorg√§nge verdoppelt. <br><br>  Daher werden in den meisten Shadern eher verwirrende und chaotische Funktionen verwendet, die uns trotz ihres Determinismus keine Regelm√§√üigkeiten zu haben scheinen.  Und da sie verteilt werden m√ºssen, muss jede Zufallszahl mit einem eigenen Startwert generiert werden.  Dies ist gro√üartig f√ºr uns, da die Position jedes Scheitelpunkts eindeutig sein muss.  Wir k√∂nnen dies verwenden, um eine Zufallszahl an jeden Scheitelpunkt zu binden.  Wir werden die Implementierung dieser Zufallsfunktion sp√§ter diskutieren;  Nennen <code>random3</code> . <br><br>  Wir k√∂nnen <code>random3</code> , um einen zuf√§lligen Versatz f√ºr jeden Scheitelpunkt zu generieren.  Im folgenden Beispiel werden Zufallszahlen mit der Eigenschaft <code>_NoiseScale</code> skaliert, mit der Sie die Verschiebungskraft steuern k√∂nnen. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_full v, out Input o)</span></span></span><span class="hljs-function"> </span></span>{ ... float2 noise = random3(v.vertex.xyz).xy * _NoiseScale; v.vertex.xy += noise; ... }</code> </pre> <br>  Jetzt m√ºssen wir <code>random3</code> Code <code>random3</code> schreiben. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/043/169/225/04316922581e9d303653d6d49554a058.png" alt="Bild"></div><br><h2>  Zuf√§lligkeit im Shader </h2><br>  Eine der h√§ufigsten und bekanntesten Pseudozufallsfunktionen, die in Shadern verwendet werden, stammt aus einem Artikel von W. Ray aus dem Jahr 1998 unter dem Titel " <em>√úber die Erzeugung von Zufallszahlen mit Hilfe von y = [(a + x) sin (bx)] mod 1</em> ". <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 co)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fract(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(dot(co.xy ,float2(<span class="hljs-number"><span class="hljs-number">12.9898</span></span>,<span class="hljs-number"><span class="hljs-number">78.233</span></span>))) * <span class="hljs-number"><span class="hljs-number">43758.5453</span></span>); }</code> </pre> <br>  Diese Funktion ist deterministisch (dh sie ist nicht <em>wirklich</em> zuf√§llig), verh√§lt sich jedoch so zuf√§llig, dass sie v√∂llig zuf√§llig aussieht.  Solche Funktionen werden als <strong>Pseudozufallsfunktionen bezeichnet</strong> .  F√ºr mein Tutorial habe ich eine komplexere Funktion gew√§hlt, die von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nikita Miropolsky</a> erfunden wurde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">.</a> <br><br>  Das Generieren einer Pseudozufallszahl in einem Shader ist ein sehr komplexes Thema.  Wenn Sie mehr √ºber sie erfahren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">m√∂chten</a> , dann hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">The Book of Shaders</a> ein gutes Kapitel √ºber sie.  Dar√ºber hinaus hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Patricio Gonzales Vivo</a> ein gro√ües Repository mit Pseudozufallsfunktionen namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">GLSL-Rauschen erstellt</a> , das in Shadern verwendet werden kann. <br><br><h1>  Schritt 3: Zeit hinzuf√ºgen </h1><br>  Dank des von uns geschriebenen Codes wird jeder Punkt in jedem Frame um den gleichen Betrag verschoben.  Wir erhalten also ein verzerrtes Sprite, keinen Doodle-Effekt.  Um dies zu beheben, m√ºssen Sie einen Weg finden, um den Effekt im Laufe der Zeit zu √§ndern.  Eine der einfachsten M√∂glichkeiten, dies zu tun, besteht darin, die Scheitelpunktposition und die aktuelle Zeit zu verwenden, um eine Zufallszahl zu generieren. <br><br>  In unserem Fall habe ich gerade die aktuelle Zeit in Sekunden <code>_Time.y</code> zur Scheitelpunktposition hinzugef√ºgt. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> time = float3(_Time.y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); float2 noise = random3(v.vertex.xyz + time).xy * _NoiseScale; v.vertex.xy += noise;</code> </pre> <br>  Komplexere Effekte erfordern m√∂glicherweise komplexere Methoden, um der Gleichung Zeit hinzuzuf√ºgen.  Da wir aber nur an einem intermittierenden Zufallseffekt interessiert sind, sind zwei Werte mehr als genug. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b27/e1e/736/b27e1e736bda8387e8ef2e35486a7de5.gif"></div><br><h2>  Zeitumschaltung </h2><br>  Das Hauptproblem beim Hinzuf√ºgen von <code>_Time.y</code> besteht darin, dass das Sprite in jedem Frame animiert wird.  Dies ist f√ºr uns unerw√ºnscht, da die meisten handgezeichneten Animationen eine niedrige Bildrate haben.  Die Zeitkomponente sollte nicht kontinuierlich, sondern diskret sein.  Das hei√üt, wenn wir f√ºnf Bilder pro Sekunde anzeigen m√∂chten, sollte sich dies nur f√ºnfmal pro Sekunde √§ndern.  Das hei√üt, die Zeit sollte <em>an</em> eine F√ºnftelsekunde <em>gebunden sein</em> .  Die einzig g√ºltigen Werte sollten sein <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>0</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.73ex" height="2.419ex" viewBox="0 -780.1 5050.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-30" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-30" x="4550" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> \ frac {0} {5} = 0 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.927ex" height="2.419ex" viewBox="0 -780.1 5996.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-31" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-30" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-2C" x="5050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-32" x="5495" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>2</mn></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ frac {1} {5} = 0,2 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.927ex" height="2.419ex" viewBox="0 -780.1 5996.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-32" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-30" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-2C" x="5050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-34" x="5495" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>4</mn></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ frac {2} {5} = 0,4 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>6</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.927ex" height="2.419ex" viewBox="0 -780.1 5996.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-33" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-30" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-2C" x="5050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-36" x="5495" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>6</mn></math></span></span><script type="math/tex" id="MathJax-Element-4"> \ frac {3} {5} = 0,6 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>4</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>8</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.927ex" height="2.419ex" viewBox="0 -780.1 5996.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-34" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-30" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-2C" x="5050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-38" x="5495" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>4</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn><mo>,</mo><mn>8</mn></math></span></span><script type="math/tex" id="MathJax-Element-5"> \ frac {4} {5} = 0,8 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.73ex" height="2.419ex" viewBox="0 -780.1 5050.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-35" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhjD4j0rfmB06g8NxKVH6CcKMfdt1g#MJMAIN-31" x="4550" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ frac {5} {5} = 1 </script>  mit und so weiter ... <br><br>  Ich habe Snap bereits in meinem Blog in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">How To Snap To Grid behandelt</a> .  In diesem Artikel habe ich eine L√∂sung f√ºr das Problem vorgeschlagen, die Position eines Objekts auf einem r√§umlichen Gitter zu binden.  Wenn wir die Zeit an ein Zeitraster binden m√ºssen, ist die Mathematik und damit der Code dieselbe. <br><br>  Die unten gezeigte Funktion nimmt die Zahl <code>x</code> und bindet sie an ganzzahlige Werte, die ein Vielfaches von <code>snap</code> . <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">snap</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> snap)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> snap * round(x / snap); }</code> </pre> <br>  Das hei√üt, unser Code wird folgenderma√üen: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> time = snap(_Time.y, _NoiseSnap); float2 noise = random3(v.vertex.xyz + float3(time, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>) ).xy * _NoiseScale; v.vertex.xy += noise;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e50/b7e/cea/e50b7ecea7366a53edcb1bd28d0d61b0.gif"></div><br><h1>  Fazit </h1><br>  Das Unity-Paket f√ºr diesen Effekt kann kostenlos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf Patreon</a> heruntergeladen werden. <br><br><h2>  Zus√§tzliche Ressourcen </h2><br>  In den letzten Monaten ist eine gro√üe Anzahl von Spielen im Stil von Kritzeleien erschienen.  Es scheint mir, dass der Grund daf√ºr der Erfolg von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Doodle Studio 95 war!</a>  - Ein von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fernando Ramallo</a> entwickeltes Tool f√ºr Unity.  Wenn dieser Stil f√ºr Ihr Spiel geeignet ist, empfehle ich den Kauf dieses erstaunlichen Tools. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Ax0CeKFTavI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de449540/">https://habr.com/ru/post/de449540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de449528/index.html">√úber die Zerlegung der Mehrkanalantwort eines Systems in "pseudo-eigene" Modi</a></li>
<li><a href="../de449532/index.html">ok.tech: Cassandra-Treffen</a></li>
<li><a href="../de449534/index.html">SLA Concept Car: Wie es in China gemacht wird</a></li>
<li><a href="../de449536/index.html">iOS Digest Nr. 4 (5. - 26. April)</a></li>
<li><a href="../de449538/index.html">Verschieben des Webportals: vom Monolithen zur Microservice-Architektur</a></li>
<li><a href="../de449542/index.html">Die Medizin bewegt sich ins Internet, in Chatrooms und in mobile Anwendungen. Gespr√§ch mit BestDoctor</a></li>
<li><a href="../de449544/index.html">Die moderne Welt beruht auf API</a></li>
<li><a href="../de449546/index.html">V8: ein Jahr mit Spectre</a></li>
<li><a href="../de449548/index.html">Weltraum-Rechenzentrum. Videobericht vom Start</a></li>
<li><a href="../de449552/index.html">Asymmetrische Verschl√ºsselung in der Praxis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>