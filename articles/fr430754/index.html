<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßöüèº üè¶ üë©üèΩ‚Äçü§ù‚Äçüë®üèæ Ajoutez de la profondeur aux sprites 2D en utilisant des cartes normales dessin√©es √† la main üíÖüèª üçç üö∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le pixel art est √©ternel, mais cela ne signifie pas que les outils et les techniques pour travailler avec lui doivent rester au niveau de 1993. 

 Le ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ajoutez de la profondeur aux sprites 2D en utilisant des cartes normales dessin√©es √† la main</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430754/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e29/a6e/6e6/e29a6e6e60640ac36c79981ff998b1f5.jpg"></div><br>  Le pixel art est √©ternel, mais cela ne signifie pas que les outils et les techniques pour travailler avec lui doivent rester au niveau de 1993. <br><br>  Le d√©veloppeur de jeux britannique Cardboard Sword travaille sur le jeu de plateforme furtif bidimensionnel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>The Siege and the Sandfox</em></a> , cr√©√© dans Unreal Engine 4 avec Paper2D.  L'√©quipe publie une s√©rie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de journaux de d√©veloppement</a> pr√©sentant aux autres d√©veloppeurs comment utiliser ces outils dans leurs propres jeux. <br><br>  L'une des principales caract√©ristiques techniques de <em>The Siege and Sandfox</em> est l'utilisation de <em>jeux</em> de tuiles et de sprites dessin√©s √† la main avec des cartes normales, vous permettant d'utiliser des m√©thodes d'√©clairage en trois dimensions dans ce jeu avec un pixel art bidimensionnel assez traditionnel. <br><br>  L'une des directeurs artistiques de Cardboard Sword, Kate Duke-Cox, a r√©cemment expliqu√© √† Gamasutra comment l'entreprise avait utilis√© cette technique, pourquoi elle convenait au jeu et comment appliquer des techniques similaires dans vos propres jeux 2D. <br><a name="habracut"></a><br><h2>  Ajoutez une sensation de profondeur </h2><br>  <strong>Quels sont les avantages des cartes normales par rapport √† un √©clairage plat traditionnel dans un jeu 2D?</strong> <br><br>  <strong>Kate Duke-Cox</strong> : la t√¢che du directeur artistique est enti√®rement consacr√©e √† la recherche d'un style individuel et √† l'obtention de l'effet souhait√©.  Nous voulions que notre art soit riche, profond et ¬´convexe¬ª.  Les normales ont permis d'atteindre cet objectif, donnant un sens de forme et de force au monde et √† ses objets. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <em>Cette image, publi√©e par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Keith Duke Cox sur Twitter</a> en ao√ªt 2017, est un magnifique exemple de technique.</em> <br><br>  Par exemple, l'utilisation de normales donne aux sources de danger un aspect plus tangible.  La lumi√®re r√©agit plus correctement √† la surface, et sans normales, une sensation de ¬´feuille de papier¬ª tr√®s plate s'est cr√©√©e. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <em>Lorsqu'elles sont utilis√©es correctement, les cartes normales peuvent ajouter aux objets de la sc√®ne un sentiment de profondeur et de poids que les images 2D plates ne peuvent pas atteindre.</em> <br><br>  L'utilisation de cartes normales est plus une solution visuelle qu'un choix de gameplay fonctionnel.  Nous voulions que le joueur plonge plus profond√©ment dans l'environnement, afin que le parkour donne une sensation de profondeur et d'authenticit√© physique, plut√¥t que l'impression de motifs d√©coup√©s sur papier typiques de certains jeux de pixels.  Si vous adh√©rez √† des couleurs vives et simples ou √† un style r√©tro, un √©clairage plat est tout √† fait appropri√©. <br><br>  <strong>Qu'est-ce qui vous a initialement attir√© √† utiliser des cartes normales pour l'√©clairage 2D?</strong>  <strong>Comment l'avez-vous d√©couvert ou o√π avez-vous vu une mise en ≈ìuvre de qualit√©?</strong> <br><br>  L'application de normales aux graphiques 2D √©tait une continuation naturelle de leur utilisation en 3D, ce qui n'√©tait pas possible sur les anciens syst√®mes que nous avons inspir√©s lors de la cr√©ation du style.  Bien s√ªr, nous n'√©tions pas les premiers √† les utiliser dans les jeux pixel art modernes, mais les r√©sultats √©taient diff√©rents. <br><br>  Au d√©but, nous avons refus√© d'utiliser cet effet, car dans de nombreux effets que nous avons vus, il d√©truisait le charme et l'esth√©tique du pixel art, lui donnant trop d'√©clat m√©tallique.  Dans notre premi√®re tentative de cr√©er des cartes normales de pixels dessin√©es √† la main pour le pixel art, nous avons obtenu des normales tr√®s d√©taill√©es - apr√®s tout, c'est leur principal objectif dans les graphiques 3D.  Mais chaque tuile de notre jeu n'a qu'une taille de 32x32 pixels, il ne reste donc pas trop de pixels pour transmettre des informations de surface.  En cons√©quence, le r√©sultat s'est transform√© en un chaos bruyant. <br><br>  Mais ensuite nous avons vu l'art de Gwenael Masset pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>Dead Cells</em></a> , dans lequel le pixel art avec des normales a √©t√© tr√®s bien fait, et avons d√©cid√© de lui donner une deuxi√®me chance.  [Voici <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un article</a> sur l'utilisation de mod√®les 3D dans ce jeu √† deux dimensions.] Cette fois, nous avons utilis√© une carte normale pas pour les petits d√©tails des surfaces qui peuvent √™tre vus dans les graphiques 3D.  Maintenant, la carte normale a √©t√© utilis√©e pour ¬´fa√ßonner¬ª de grandes formes de pixel art. <br><br><h2>  Sculpture de formes √† l'aide de cartes normales </h2><br>  <strong>Pouvez-vous bri√®vement parler du processus de d√©veloppement d'un √©l√©ment, en particulier des diff√©rences par rapport √† la cr√©ation d'un √©l√©ment Sprite 2D simple similaire?</strong> <br><br>  Habituellement, le pixel art est dessin√© en tenant compte de la direction "g√©n√©rale" de la lumi√®re.  Dans notre cas, pour la plupart des sprites et des tuiles de premier plan, la lumi√®re principale est tomb√©e d'en haut et l√©g√®rement vers la droite, et les tuiles de fond avaient une ¬´lumi√®re de cam√©ra¬ª plus g√©n√©rale pour simuler les pi√®ces sombres et ne pas distraire le joueur du premier plan. <br><br>  Cela signifiait que lorsqu'il s'agissait de rendre les normales pour les sprites et les tuiles, les d√©tails et les mat√©riaux des surfaces √©taient d√©j√† s√©lectionn√©s.  Nous avons constat√© que cette approche fonctionnait tr√®s bien.  Il voulait dire que toutes les formes et tous les d√©tails que nous devions imiter dans les normales √©taient d√©j√† tr√®s √©vidents et perceptibles. <br><br>  En fonction de la nature du sprite auquel les normales ont √©t√© ajout√©es, nous avons utilis√© une combinaison de dessin des couleurs des coins des normales √† partir de la "sph√®re des cartes normales" (en fait, c'est une sph√®re servant de palette de tous les angles possibles qui peuvent √™tre dessin√©s sur la carte des normales tangentes) et de dessin dans des canaux RVB s√©par√©s. niveaux de gris avec d'autres outils comme ND, Crazybump ou AwesomeBump.  Ils ont aid√© avec certaines formes et correctement m√©lang√© diff√©rentes parties des normales. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d0/09b/aa2/4d009baa2ac869b93db70f9204846b70.png"></div><br>  Nous avons utilis√© Nvidia TextureTools pour Photoshop pour ajuster / normaliser les vecteurs apr√®s avoir fini de dessiner une carte normale. <br><br>  <strong>Quels sont les avantages de dessiner des cartes normales manuelles comme celle-ci avec des outils pr√©d√©finis comme Sprite DLight?</strong> <br><br>  Lorsque nous avons commenc√© √† chercher des moyens de cr√©er des normales pour un objet 2D sans mod√®le poly √©lev√©, nous avons trouv√© des applications qui dans une certaine mesure effectuaient cette t√¢che. <br><br>  Nous avons √©tudi√© les didacticiels pour d√©couvrir comment les cartes normales sont cr√©√©es, mais nous avons constat√© qu'elles √©mettaient des hypoth√®ses bas√©es sur les valeurs de couleur des pixels, qui ne donnent pas des r√©sultats compl√®tement pr√©cis ou compl√®tement incorrects, ou n√©cessitaient plusieurs images en niveaux de gris pour simuler la lumi√®re de diff√©rents directions, cr√©ant essentiellement les canaux normaux de la carte ind√©pendamment. <br><br>  Le programme ne peut pas conna√Ætre la hauteur et l'angle d'un pixel dans un sprite, surtout lorsqu'il s'agit d'un jeu de pixel art avec une palette tr√®s limit√©e, o√π une couleur est utilis√©e pour indiquer les nombreuses profondeurs et angles d'un objet.  Cependant, il convient d'ajouter que nous n'avons pas r√©ellement utilis√© ces programmes, mais simplement √©valu√© les perspectives de leur application. <br><br>  Il existe deux m√©thodes standard pour la g√©n√©ration automatis√©e acc√©l√©r√©e de cartes normales - Conversion en niveaux de gris et reconnaissance de forme.  Nous avons effectu√© des tests avec les trois m√©thodes et avons constat√© que la m√©thode de dessin manuel donne certainement les meilleurs r√©sultats. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  La conversion des niveaux de gris et la reconnaissance de forme peuvent cr√©er des effets mieux que ceux illustr√©s ici, mais m√™me avec des co√ªts de main-d'≈ìuvre et de temps importants, ils ne sont toujours pas aussi pr√©cis et bons que le dessin manuel. <br><br><h2>  Utilisation de cartes normales dans des jeux 2D natifs </h2><br>  <strong>Quels conseils pouvez-vous donner aux d√©veloppeurs qui veulent suivre votre propre chemin?</strong> <br><br>  La cr√©ation manuelle de normales 2D pr√©cises n'est pas une t√¢che facile.  Le travail sur tous les ensembles de tuiles de premier plan et d'arri√®re-plan a pris environ 3 mois-homme.  Par cons√©quent, pour obtenir des r√©sultats de haute qualit√©, pr√©parez-vous √† investir beaucoup de temps. <br><br>  Les normales rapidement cr√©√©es pour les graphiques 2D, en particulier le pixel art, semblent g√©n√©ralement mauvaises.  Des syst√®mes tels que ¬´cr√©er une solution avec un seul bouton¬ª conduisent souvent √† la cr√©ation de ressources faibles qui, lorsqu'elles sont rendues dans un jeu, sont encore pires que le pixel art √©teint.  Testez sur une petite partie du jeu (un petit √©chantillon du premier plan, du fond, des objets et des personnages) et d√©couvrez ce qui vous convient et le style de votre jeu. <br><br>  En revanche, en termes de rendu, les co√ªts d'ajout de normales √† notre monde sont tr√®s faibles.  Pour presque tout le monde du jeu, nous avions deux cartes normales 2k.  Ils ne prennent pas beaucoup de m√©moire et quelques textures suppl√©mentaires pour le passage de rendu normal n'affectent pas trop les appels de dessin.  Les sources d'√©clairage n'effectuent dynamiquement que l'√©clairage, elles ne projettent pas d'ombres sur tout dans le jeu, elles sont donc √©galement tr√®s peu co√ªteuses. <br><br>  Si vous ne comprenez pas encore comment fonctionnent les normales de l'espace tangent et ce qu'elles signifient, alors m√™me une br√®ve √©tude vous permettra de les dessiner beaucoup plus facilement. <br><br>  <strong>Pour utiliser cette m√©thode, vous avez d√ª adapter les actifs existants et ne pas les impl√©menter d√®s le d√©but du d√©veloppement.</strong>  <strong>Pouvez-vous donner des conseils √† ceux qui essaient de compl√©ter les graphiques de sprite pr√™ts √† l'emploi avec des cartes normales?</strong> <br><br>  Si nous devions le faire √† nouveau, nous ferions de m√™me: cr√©er d'abord des graphiques diffus, puis dessiner les normales en utilisant le pixel art comme r√©f√©rence. <br><br>  Peut-√™tre que nous dessinerions certains objets un peu diff√©remment.  Il y avait des probl√®mes dans le pixel art lorsqu'un pixel pouvait indiquer, par exemple, un clou ou un rivet collant, mais ce pixel dans la carte normale peut correspondre √† un seul coin, nous avons donc pu agrandir certains √©l√©ments pour mieux transmettre les angles dans l'image. <br><br>  Si vous utilisez une r√©solution inf√©rieure √† celle que nous utilisons dans nos ensembles de tuiles (32x32), alors la taille vous limitera peut-√™tre trop.  Avec une r√©solution de 16x16 ou 8x8, vous ne pourrez probablement pas transf√©rer la forme ou le volume uniquement si une tuile n'est pas une grande partie, comme une pierre ou un bloc de b√©ton. <br><br>  En pixel art, les d√©grad√©s clairs ne sont pas aussi bons que les surfaces volumineuses aux angles vifs.  Si votre style graphique le permet, je sugg√®re d'utiliser plus d'angles que de d√©grad√©s sur des surfaces normales.  Par exemple, si vous avez un baril, assurez-vous que chaque planche individuelle qui le compose a son propre angle et que le baril lui-m√™me est plus octogonal que rond. <br><br>  <strong>Avez-vous des conseils √† donner aux d√©veloppeurs qui souhaitent utiliser ces techniques en dehors d'Unreal?</strong>  <strong>Par exemple, dans Unity ou dans Gamemaker.</strong> <br><br>  Avant de commencer, v√©rifiez l'orientation de la carte normale.  L'approche pour dessiner des normales est la m√™me pour tous les moteurs, seulement ce que signifie chaque canal de couleur de la carte est diff√©rent. <br><br>  Habituellement, seul l'axe Y (canal vert) change dans diff√©rents moteurs.  Unreal utilise les normales du syst√®me de coordonn√©es √† Y de DirectX, mais Unity utilise les normales Y + du syst√®me de coordonn√©es √† droite OpenGL (comme il nous semble), donc le canal vert doit √™tre invers√©. <br><br>  Cependant, si vous avez mal peint, alors le plus souvent, un simple retournement du canal vert suffit.  Vous verrez que le canal est confus si l'image est √©clair√©e en face du r√©sultat attendu. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430754/">https://habr.com/ru/post/fr430754/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430742/index.html">Olympiade √©tudiante "Je suis un professionnel": direction "Programmation et technologies de l'information"</a></li>
<li><a href="../fr430746/index.html">Pourquoi les batteries Tesla ne fonctionneront pas dans un taxi a√©rien</a></li>
<li><a href="../fr430748/index.html">La lutte pour les ressources, partie 6: cpuset ou partage n'est pas toujours juste</a></li>
<li><a href="../fr430750/index.html">Les contr√¥leurs quantiques</a></li>
<li><a href="../fr430752/index.html">DEV Labs 2018. Mitap en ligne pour les d√©veloppeurs Web. 1er d√©cembre</a></li>
<li><a href="../fr430756/index.html">Fabrication de la souris WX dans le Nova Slider 600</a></li>
<li><a href="../fr430762/index.html">Comment choisir un onduleur pour optimiser les co√ªts</a></li>
<li><a href="../fr430766/index.html">Il s'agit d'Agile 1: Mythes de l'agenda populaire</a></li>
<li><a href="../fr430768/index.html">Entretien avec le cr√©ateur d'ADOM Thomas Biscap</a></li>
<li><a href="../fr430770/index.html">Sauvegarde pour Linux, ou comment cr√©er un instantan√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>