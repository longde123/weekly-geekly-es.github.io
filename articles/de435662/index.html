<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📆 💪🏾 👩🏽‍🌾 "Zuverlässigkeit und Zuverlässigkeit wie bei Google" - und nicht nur: Übersetzung des Artikels "Berechnung der Servicezuverlässigkeit" 🥑 🧚 👩‍👩‍👧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Hauptaufgabe von kommerziellen (und auch nichtkommerziellen) Diensten besteht darin, dem Benutzer immer zur Verfügung zu stehen. Obwohl alle abstü...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"Zuverlässigkeit und Zuverlässigkeit wie bei Google" - und nicht nur: Übersetzung des Artikels "Berechnung der Servicezuverlässigkeit"</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/435662/"><img src="https://habrastorage.org/webt/4y/cb/hg/4ycbhgnlttaomlm6vkgjdlorwgi.png" alt="Bild"><br><br>  Die Hauptaufgabe von kommerziellen (und auch nichtkommerziellen) Diensten besteht darin, dem Benutzer immer zur Verfügung zu stehen.  Obwohl alle abstürzen, stellt sich die Frage, was das IT-Team unternimmt, um sie zu minimieren.  Wir haben einen Artikel von Ben Treynor, Mike Dahlin, Vivek Rau und Betsy Beyer „Berechnung der Servicezuverlässigkeit“ übersetzt, in dem beispielsweise Google erklärt, warum 100% ein falscher Bezugspunkt für den Zuverlässigkeitsindikator ist, was die „Regel der vier Neunen“ ist und Wie kann in der Praxis die Machbarkeit großer und kleiner Ausfälle des Dienstes und / oder seiner kritischen Komponenten mathematisch vorhergesagt werden - die erwartete Ausfallzeit, die Zeit, die zum Erkennen eines Fehlers benötigt wird, und die Zeit zum Wiederherstellen des Dienstes. <a name="habracut"></a><br><br><h2 id="raschet-nadezhnosti-servisa">  Berechnung der Servicezuverlässigkeit </h2><br><h3 id="vasha-sistema-nadezhna-nastolko-naskolko-nadezhny-eyokomponenty">  <em>Ihr System ist so zuverlässig wie seine Komponenten</em> </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ben Trainor, Mike Dalin, Vivec Rau und Betsy Beyer</a> </p><br><p>  Wie im Buch „ <em>Site Reliability Engineering: Zuverlässigkeit und Zuverlässigkeit wie bei Google</em> “ (im Folgenden als SRE-Buch bezeichnet) beschrieben, kann durch die Entwicklung von Google-Produkten und -Diensten eine hohe Geschwindigkeit der Freigabe neuer Funktionen erreicht werden, während aggressive SLO (Service-Level-Ziele, Service-Level-Ziele) beibehalten werden. ) um eine hohe Zuverlässigkeit und schnelle Reaktion zu gewährleisten.  SLOs erfordern, dass der Service fast immer in gutem Zustand und fast immer schnell ist.  Darüber hinaus geben SLOs auch die genauen Werte dieses „fast immer“ für einen bestimmten Dienst an.  SLOs basieren auf folgenden Beobachtungen: </p><br><p>  <em>Im allgemeinen Fall ist für jeden Softwaredienst oder jedes System 100% der falsche Bezugspunkt für den Zuverlässigkeitsindikator, da kein Benutzer den Unterschied zwischen 100% und 99.999% Verfügbarkeit feststellen kann.</em>  <em>Zwischen dem Benutzer und dem Dienst gibt es viele andere Systeme (sein Laptop, WLAN zu Hause, Anbieter, Netzteil ...), und alle diese Systeme sind in 99,999% der Fälle nicht verfügbar, aber viel seltener.</em>  <em>Daher geht die Differenz zwischen 99,999% und 100% aufgrund zufälliger Faktoren verloren, die durch die Unzugänglichkeit anderer Systeme verursacht werden, und der Benutzer profitiert nicht davon, dass wir uns viel Mühe gegeben haben, um diesen letzten Bruchteil des Prozentsatzes der Systemverfügbarkeit zu erreichen.</em>  <em>Schwerwiegende Ausnahmen von dieser Regel sind Antiblockiersysteme und Herzschrittmacher!</em> </p><br><p> Eine ausführliche Beschreibung der Beziehung zwischen SLOs und SLIs (Service Level Indicators) und SLAs (Service Level Agreements) finden Sie im Kapitel SRE Target Level of Service.  In diesem Kapitel wird auch ausführlich beschrieben, wie Metriken ausgewählt werden, die für einen bestimmten Dienst oder ein bestimmtes System relevant sind. Dies bestimmt wiederum die Auswahl des geeigneten SLO für diesen Dienst oder dieses System. </p><br><p>  Dieser Artikel erweitert das SLO-Thema, um sich auf Servicekomponenten zu konzentrieren.  Insbesondere werden wir untersuchen, wie sich die Zuverlässigkeit kritischer Komponenten auf die Zuverlässigkeit eines Dienstes auswirkt und wie Systeme entworfen werden, um die Auswirkungen zu verringern oder die Anzahl kritischer Komponenten zu verringern. </p><br><p>  Die meisten von Google angebotenen Dienste zielen darauf ab, Nutzern eine Zugänglichkeit von 99,99 Prozent (manchmal als "vier Neunen" bezeichnet) zu bieten.  Für einige Dienste ist in der Benutzervereinbarung eine niedrigere Anzahl angegeben, das Ziel von 99,99% ist jedoch im Unternehmen gespeichert.  Diese höhere Leiste bietet einen Vorteil in Situationen, in denen sich Benutzer lange vor dem Verstoß gegen die Vertragsbedingungen über die Leistung des Dienstes beschweren, da das Ziel Nummer 1 des SRE-Teams darin besteht, Benutzer mit den Diensten zufrieden zu stellen.  Für viele Dienste stellt ein internes Ziel von 99,99% den Mittelweg dar, der Kosten, Komplexität und Zuverlässigkeit in Einklang bringt.  Für einige andere, insbesondere globale Cloud-Dienste, liegt das interne Ziel bei 99,999%. </p><br><h2 id="nadezhnost-9999-nablyudeniya-i-vyvody">  Zuverlässigkeit 99,99%: Beobachtungen und Schlussfolgerungen </h2><br><p>  Schauen wir uns einige wichtige Beobachtungen und Schlussfolgerungen zum Design und Betrieb des Dienstes mit einer Zuverlässigkeit von 99,99% an und fahren wir dann mit der Praxis fort. </p><br><h4 id="nablyudenie-1-prichiny-sboev">  Beobachtung Nr. 1: Fehlerursachen </h4><br><p>  Fehler treten aus zwei Hauptgründen auf: Probleme mit dem Dienst selbst und Probleme mit kritischen Komponenten des Dienstes.  Eine kritische Komponente ist eine Komponente, die im Falle eines Fehlers einen entsprechenden Fehler im Betrieb des gesamten Dienstes verursacht. </p><br><h4 id="nablyudenie-2-matematika-nadezhnosti">  Beobachtung Nr. 2: Mathematik der Zuverlässigkeit </h4><br><p>  Die Zuverlässigkeit hängt von der Häufigkeit und Dauer der Ausfallzeiten ab.  Es wird gemessen durch: </p><br><ul><li>  Leerlauffrequenz oder umgekehrt: MTTF (mittlere Zeit bis zum Ausfall). </li><li>  Ausfallzeit, MTTR (mittlere Reparaturzeit).  Die Ausfallzeit wird durch die Zeit des Benutzers bestimmt: vom Beginn der Fehlfunktion bis zur Wiederaufnahme des normalen Betriebs des Dienstes. <br>  Somit wird Zuverlässigkeit mathematisch als MTTF / (MTTF + MTTR) unter Verwendung der entsprechenden Einheiten definiert. </li></ul><br><h4 id="vyvod-1-pravilo-dopolnitelnyh-devyatok">  Schlussfolgerung Nr. 1: Regel der zusätzlichen Neunen </h4><br><p>  Ein Service kann nicht zuverlässiger sein als alle seine kritischen Komponenten zusammen.  Wenn Ihr Service eine Verfügbarkeit von 99,99% sicherstellen möchte, sollten alle kritischen Komponenten in deutlich mehr als 99,99% der Fälle verfügbar sein. <br>  In Google verwenden wir die folgende Faustregel: Kritische Komponenten müssen im Vergleich zur deklarierten Zuverlässigkeit Ihres Dienstes zusätzliche Neunen bereitstellen - im obigen Beispiel 99,999 Prozent Verfügbarkeit -, da jeder Dienst mehrere kritische Komponenten sowie seine eigenen spezifischen Probleme aufweist.  Dies wird als "Regel der zusätzlichen Neunen" bezeichnet. <br>  Wenn Sie eine kritische Komponente haben, die nicht genügend Neunen liefert (ein relativ häufiges Problem!), Sollten Sie die negativen Folgen minimieren. </p><br><h4 id="vyvod-2-matematika-chastoty-vremeni-obnaruzheniya-ivremeni-vosstanovleniya">  Schlussfolgerung Nr. 2: Mathematik der Frequenz, Erkennungszeit und Erholungszeit </h4><br><p>  Ein Service kann nicht zuverlässiger sein als das Produkt aus der Häufigkeit von Vorfällen und dem Zeitpunkt der Erkennung und Wiederherstellung.  Beispielsweise führen drei Abschaltungen pro Jahr von jeweils 20 Minuten zu einer Ausfallzeit von insgesamt 60 Minuten.  Selbst wenn der Service den Rest des Jahres einwandfrei funktioniert hätte, wäre eine Zuverlässigkeit von 99,99 Prozent (nicht mehr als 53 Minuten Ausfallzeit pro Jahr) unmöglich. <br>  Dies ist eine einfache mathematische Beobachtung, die jedoch häufig übersehen wird. </p><br><h4 id="zaklyuchenie-izvyvodov-1i-2">  Schlussfolgerung aus den Schlussfolgerungen Nr. 1 und Nr. 2 </h4><br><p>  Wenn das Maß an Zuverlässigkeit, auf das sich Ihr Service stützt, nicht erreicht werden kann, müssen Anstrengungen unternommen werden, um die Situation zu korrigieren - entweder durch Erhöhen der Verfügbarkeit des Service oder durch Minimieren der oben beschriebenen negativen Folgen.  Das Verringern der Erwartungen (d. H. Der deklarierten Zuverlässigkeit) ist ebenfalls eine Option und häufig die zutreffendste: Machen Sie dem von Ihnen abhängigen Dienst klar, dass er entweder sein System neu erstellen muss, um den Fehler in der Zuverlässigkeit Ihres Dienstes zu kompensieren, oder seine eigenen Service-Level-Ziele zu reduzieren .  Wenn Sie die Diskrepanz nicht selbst beseitigen, erfordert ein ausreichend langer Ausfall des Systems zwangsläufig Anpassungen. </p><br><h2 id="prakticheskoe-primenenie">  Praktische Anwendung </h2><br><p>  Schauen wir uns ein Beispiel für einen Service mit einer Zielzuverlässigkeit von 99,99% an und erarbeiten die Anforderungen für seine Komponenten und arbeiten mit seinen Fehlern. </p><br><h4 id="cifry">  Zahlen </h4><br><p>  Angenommen, Ihr 99,99-Prozent-Service ist mit den folgenden Merkmalen verfügbar: </p><br><ul><li>  Ein größerer Ausfall und drei kleinere Ausfälle pro Jahr.  Das klingt beängstigend, aber beachten Sie, dass ein Vertrauensniveau von 99,99% eine große Ausfallzeit von 20 bis 30 Minuten und einige kurze teilweise Abschaltungen pro Jahr impliziert.  (Aus der Mathematik geht Folgendes hervor: a) Der Ausfall eines Segments wird aus Sicht von SLO nicht als Ausfall des gesamten Systems angesehen, und b) die Gesamtzuverlässigkeit wird aus der Summe der Zuverlässigkeit der Segmente berechnet.) </li><li>  Fünf kritische Komponenten in Form anderer unabhängiger Dienste mit einer Zuverlässigkeit von 99,999%. </li><li>  Fünf unabhängige Segmente, die nicht nacheinander ausfallen können. </li><li>  Alle Änderungen werden schrittweise segmentweise durchgeführt. </li></ul><br><p>  Die mathematische Berechnung der Zuverlässigkeit lautet wie folgt: </p><br><h4 id="trebovaniya-kkomponentam">  Komponentenanforderungen </h4><br><ul><li>  Die Gesamtfehlergrenze für das Jahr beträgt 0,01 Prozent von 525.600 Minuten pro Jahr oder 53 Minuten (basierend auf dem 365-Tage-Jahr im schlimmsten Fall). </li><li>  Die für das Herunterfahren kritischer Komponenten zugewiesene Grenze beträgt fünf unabhängige kritische Komponenten mit einer Grenze von jeweils 0,001% = 0,005%;  0,005% von 525.600 Minuten pro Jahr oder 26 Minuten. </li><li>  Die verbleibende Fehlergrenze Ihres Dienstes beträgt 53-26 = 27 Minuten. </li></ul><br><h4 id="trebovaniya-kreagirovaniyu-naotklyucheniya">  Antwortanforderungen für das Herunterfahren </h4><br><ul><li>  Erwartete Ausfallzeit: 4 (1 vollständige Abschaltung und 3 Abschaltungen, die nur ein Segment betreffen) </li><li>  Der kumulative Effekt der erwarteten Ausfälle: (1 × 100%) + (3 × 20%) = 1,6 </li><li>  Fehlererkennung und -behebung danach: 27 / 1,6 = 17 Minuten </li><li>  Zeit für die Überwachung, um einen Fehler zu erkennen und darüber zu informieren: 2 Minuten </li><li>  Zeit, die dem diensthabenden Spezialisten zur Analyse des Alarms eingeräumt wird: 5 Minuten.  (Das Überwachungssystem sollte SLO-Verstöße verfolgen und bei jedem Systemausfall ein Signal an den diensthabenden Pager senden. Viele Google-Dienste werden von diensthabenden Schicht-SR-Ingenieuren unterstützt, die auf dringende Fragen antworten.) </li><li>  Verbleibende Zeit zur wirksamen Minimierung von Nebenwirkungen: 10 Minuten </li></ul><br><h2 id="vyvod-rychagi-dlya-uvelicheniya-nadezhnosti-servisa">  Fazit: Hebelwirkung zur Erhöhung der Servicezuverlässigkeit </h2><br><p>  Es lohnt sich, die vorgestellten Zahlen sorgfältig zu betrachten, da sie den grundlegenden Punkt betonen: Es gibt drei Haupthebel zur Erhöhung der Zuverlässigkeit des Dienstes. </p><br><ul><li>  Reduzieren Sie die Häufigkeit von Ausfällen - durch Freigaberichtlinien, Tests, regelmäßige Bewertungen der Projektstruktur usw. </li><li>  Reduzieren Sie Ihre durchschnittliche Ausfallzeit durch Segmentierung, geografische Isolation, allmähliche Verschlechterung oder Kundenisolation. </li><li>  Reduzieren Sie die Wiederherstellungszeit - durch Überwachung, Ein-Knopf-Rettungsvorgänge (z. B. Zurücksetzen auf einen früheren Status oder Hinzufügen von Standby-Strom), Betriebsbereitschaftspraktiken usw. <br>  Sie können zwischen diesen drei Methoden abwägen, um die Implementierung der Fehlertoleranz zu vereinfachen.  Wenn es beispielsweise schwierig ist, eine 17-minütige MTTR zu erreichen, konzentrieren Sie sich auf die Reduzierung der durchschnittlichen Ausfallzeiten.  Strategien zur Minimierung nachteiliger Auswirkungen und zur Abschwächung der Auswirkungen kritischer Komponenten werden später in diesem Artikel ausführlicher erläutert. </li></ul><br><h2 id="utochnenie-pravila-dopolnitelnyh-devyatok-dlya-vlozhennyh-komponentov">  Erläuterung „Regeln für zusätzliche Neunen“ für verschachtelte Komponenten </h2><br><p>  Ein zufälliger Leser kann daraus schließen, dass jedes zusätzliche Glied in der Abhängigkeitskette zusätzliche neun erfordert, so dass zwei zusätzliche neun für Abhängigkeiten zweiter Ordnung, drei zusätzliche neun für Abhängigkeiten dritter Ordnung usw. erforderlich sind. </p><br><p>  Dies ist die falsche Schlussfolgerung.  Es basiert auf einem naiven Modell einer Hierarchie von Komponenten in Form eines Baumes mit einer konstanten Verzweigung auf jeder Ebene.  In einem solchen Modell, wie in Abb.  In 1 gibt es 10 eindeutige Komponenten erster Ordnung, 100 eindeutige Komponenten zweiter Ordnung, 1.000 eindeutige Komponenten dritter Ordnung usw., was zu insgesamt 1.111 eindeutigen Diensten führt, selbst wenn die Architektur auf vier Schichten beschränkt ist.  Ein Ökosystem hochzuverlässiger Dienste mit so vielen unabhängigen kritischen Komponenten ist eindeutig unrealistisch. </p><br><img src="https://habrastorage.org/webt/u6/lt/p3/u6ltp33ofzyn8qgmvvgtnlfi90u.png" alt="Bild"><br><p>  <i>Abb.</i>  <i>1 - Komponentenhierarchie: Ungültiges Modell</i> </p><br><p>  Eine kritische Komponente an sich kann den Ausfall des gesamten Dienstes (oder Dienstsegments) verursachen, unabhängig davon, wo sie sich im Abhängigkeitsbaum befindet.  Wenn eine bestimmte Komponente von X als Abhängigkeit von mehreren Komponenten erster Ordnung angezeigt wird, sollte X daher nur einmal gezählt werden, da ihr Ausfall letztendlich zu einem Dienstausfall führt, unabhängig davon, wie viele Zwischendienste ebenfalls betroffen sind. </p><br><p>  Eine korrekte Lesart der Regel lautet wie folgt: </p><br><ul><li>  Wenn ein Dienst N eindeutige kritische Komponenten enthält, trägt jede von ihnen 1 / N zur Unzuverlässigkeit des gesamten durch diese Komponente verursachten Dienstes bei, unabhängig davon, wie niedrig sie in der Hierarchie der Komponenten ist. </li><li>  Jede Komponente sollte nur einmal gezählt werden, auch wenn sie mehrmals in der Komponentenhierarchie vorkommt (mit anderen Worten, es werden nur eindeutige Komponenten gezählt).  Zum Beispiel bei der Berechnung der Komponenten von Service A in Abb.  2, Service B sollte nur einmal berücksichtigt werden. </li></ul><br><img src="https://habrastorage.org/webt/ng/_y/8h/ng_y8hcswjcctczza1mkhzaejb0.png" alt="Bild"><br><p>  <i>Abb.</i>  <i>2 - Komponenten in der Hierarchie</i> </p><br><p>  Betrachten Sie beispielsweise einen hypothetischen Dienst A mit einer Fehlergrenze von 0,01 Prozent.  Servicebesitzer sind bereit, die Hälfte dieses Limits für ihre eigenen Fehler und Verluste und die Hälfte für kritische Komponenten auszugeben.  Wenn der Dienst N solche Komponenten hat, erhält jede von ihnen 1 / N der verbleibenden Fehlergrenze.  Typische Dienste haben häufig 5 bis 10 kritische Komponenten, und daher kann jeder von ihnen nur einen zehnten oder einen zwanzigsten Grad der Fehlergrenze von Dienst A ablehnen. Daher sollten kritische Teile des Dienstes in der Regel eine zusätzliche Zuverlässigkeit von neun aufweisen. </p><br><h2 id="limity-oshibok">  Fehlergrenzen </h2><br><p>  Das Konzept der Fehlergrenzen wird im Buch SRE ausführlich behandelt, hier sollte es jedoch erwähnt werden.  Google SR-Ingenieure verwenden Fehlergrenzen, um die Zuverlässigkeit und das Tempo von Updates auszugleichen.  Diese Grenze bestimmt den akzeptablen Ausfallgrad für den Dienst für einen bestimmten Zeitraum (normalerweise einen Monat).  Das Fehlerlimit beträgt nur 1 abzüglich des SLO des Dienstes, sodass der zuvor diskutierte 99,99-prozentige verfügbare Dienst ein 0,01-prozentiges „Limit“ für die Unzuverlässigkeit aufweist.  Bis der Dienst sein Fehlerlimit innerhalb eines Monats aufgebraucht hat, kann das Entwicklungsteam (innerhalb eines angemessenen Rahmens) neue Funktionen, Updates usw. starten. </p><br><p>  Wenn das Fehlerlimit aufgebraucht ist, werden Änderungen am Dienst ausgesetzt (mit Ausnahme dringender Sicherheitskorrekturen und Änderungen, die den Verstoß überhaupt verursachen sollen), bis der Dienst die Reserve im Fehlerlimit wieder auffüllt oder bis sich der Monat ändert.  Viele Dienste bei Google verwenden eine Schiebefenstermethode für SLO, damit die Fehlergrenze schrittweise wiederhergestellt wird.  Bei seriösen Diensten mit einem SLO von mehr als 99,99% ist es ratsam, das Limit vierteljährlich und nicht monatlich auf Null zu setzen, da die Anzahl der zulässigen Ausfallzeiten gering ist. </p><br><p>  Fehlergrenzen beseitigen Spannungen zwischen Abteilungen, die andernfalls zwischen SR-Ingenieuren und Produktentwicklern auftreten könnten, und bieten ihnen ein gemeinsames, datenbasiertes Tool zur Risikobewertung für die Produkteinführung.  Sie geben den SR-Ingenieuren und Entwicklungsteams auch das gemeinsame Ziel, Methoden und Technologien zu entwickeln, mit denen sie schneller innovieren und Produkte ohne „aufgeblähtes Budget“ auf den Markt bringen können. </p><br><h2 id="strategii-sokrascheniya-i-smyagcheniya-vliyaniya-kriticheskih-komponentov">  Strategien zur Reduzierung und Reduzierung kritischer Komponenten </h2><br><p>  An dieser Stelle haben wir in diesem Artikel die sogenannte <strong>"Goldene Regel für die Zuverlässigkeit von Komponenten" festgelegt.</strong>  Dies bedeutet, dass die Zuverlässigkeit einer kritischen Komponente zehnmal höher sein sollte als die angestrebte Zuverlässigkeitsstufe des gesamten Systems, damit ihr Beitrag zur Unzuverlässigkeit des Systems auf der Fehlerstufe bleibt.  Daraus folgt, dass es im Idealfall die Aufgabe ist, möglichst viele Komponenten unkritisch zu machen.  Dies bedeutet, dass Komponenten ein geringeres Maß an Zuverlässigkeit aufweisen können, sodass Entwickler die Möglichkeit haben, Innovationen vorzunehmen und Risiken einzugehen. </p><br><p>  Die einfachste und naheliegendste Strategie zur Reduzierung kritischer Abhängigkeiten besteht darin, einzelne Fehlerquellen nach Möglichkeit zu beseitigen.  Ein größeres System sollte in der Lage sein, ohne eine bestimmte Komponente, die keine kritische Abhängigkeit oder SPOF darstellt, akzeptabel zu arbeiten. <br>  Tatsächlich können Sie höchstwahrscheinlich nicht alle kritischen Abhängigkeiten beseitigen.  Sie können jedoch einige Richtlinien für das Systemdesign befolgen, um die Zuverlässigkeit zu optimieren.  Obwohl dies nicht immer möglich ist, ist es einfacher und effizienter, eine hohe Systemzuverlässigkeit zu erreichen, wenn Sie die Zuverlässigkeit in der Entwurfs- und Planungsphase festlegen und nicht, nachdem das System funktioniert und die tatsächlichen Benutzer betrifft. </p><br><h4 id="ocenka-struktury-proekta">  Bewertung der Projektstruktur </h4><br><p>  Bei der Planung eines neuen Systems oder Dienstes oder bei der Neugestaltung oder Verbesserung eines vorhandenen Systems oder Dienstes kann eine Überprüfung der Architektur oder des Projekts eine gemeinsame Infrastruktur sowie interne und externe Abhängigkeiten aufzeigen. </p><br><h4 id="razdelyaemaya-infrastruktura">  Gemeinsame Infrastruktur </h4><br><p>  Wenn Ihr Dienst eine gemeinsam genutzte Infrastruktur verwendet (z. B. den Hauptdatenbankdienst, der von mehreren Produkten verwendet wird, die Benutzern zur Verfügung stehen), prüfen Sie, ob diese Infrastruktur ordnungsgemäß verwendet wird.  Identifizieren Sie die Eigentümer der gemeinsam genutzten Infrastruktur eindeutig als zusätzliche Projektteilnehmer.  Achten Sie auch auf Komponentenüberlastungen. Koordinieren Sie dazu den Startvorgang sorgfältig mit den Eigentümern dieser Komponenten. </p><br><h4 id="vnutrennie-ivneshnie-zavisimosti">  Interne und externe Abhängigkeiten </h4><br><p>  Manchmal hängt ein Produkt oder eine Dienstleistung von Faktoren ab, die außerhalb der Kontrolle Ihres Unternehmens liegen - beispielsweise von Softwarebibliotheken oder Diensten und Daten von Dritten.  Die Identifizierung dieser Faktoren minimiert die unvorhersehbaren Folgen ihrer Verwendung. </p><br><p>  <strong>Planen und entwerfen Sie Systeme sorgfältig</strong> <br>  Beachten Sie beim Entwurf Ihres Systems die folgenden Grundsätze: </p><br><h4 id="rezervirovanie-iizolyaciya">  Redundanz und Isolation </h4><br><p>  Sie können versuchen, die Auswirkungen der kritischen Komponente zu verringern, indem Sie mehrere unabhängige Instanzen davon erstellen.  Wenn das Speichern von Daten in einer Instanz beispielsweise eine Verfügbarkeit dieser Daten von 99,9 Prozent sicherstellt, ergibt das Speichern von drei Kopien in drei weit verbreiteten Kopien theoretisch eine Verfügbarkeitsstufe von 1 bis 0,013 oder neun Neunen, wenn der Ausfall der Instanz bei einer Korrelation von Null unabhängig ist. </p><br><p>  In der realen Welt ist die Korrelation niemals Null (berücksichtigen Sie die Ausfälle des Backbone-Netzwerks, die viele Zellen gleichzeitig betreffen), sodass die tatsächliche Zuverlässigkeit niemals nahe an neun Neunen heranreicht, sondern drei Neunen bei weitem überschreitet. </p><br><p>  In ähnlicher Weise kann das Senden eines RPC (Remote Procedure Call) an einen Serverpool im selben Cluster eine 99-prozentige Verfügbarkeit der Ergebnisse gewährleisten, während das gleichzeitige Senden von drei RPCs an drei verschiedene Serverpools und das Akzeptieren der ersten Antwort zum Erreichen der Verfügbarkeitsstufe beitragen höher als drei Neunen (siehe oben).  Diese Strategie kann auch die Verzögerung der Antwortzeit verkürzen, wenn die Serverpools gleich weit vom RPC-Absender entfernt sind.  (Da die Kosten für das gleichzeitige Senden von drei RPCs hoch sind, teilt Google die Zeit für diese Anrufe häufig strategisch zu: Die meisten unserer Systeme erwarten einen Teil der zugewiesenen Zeit vor dem Senden des zweiten RPC und etwas mehr Zeit vor dem Senden des dritten RPC.) </p><br><h4 id="rezerv-iego-primenenie">  Reserve und ihre Anwendung </h4><br><p>  Richten Sie den Start und die Portierung der Software so ein, dass die Systeme weiterhin funktionieren, wenn einzelne Teile ausfallen (ausfallsicher) und sich bei Problemen isolieren.  Das Grundprinzip hierbei ist, dass Sie wahrscheinlich Ihre Fehlergrenze überschreiten, wenn Sie die Person zum Einschalten der Reserve verbinden. </p><br><h4 id="asinhronnost">  Asynchronität </h4><br><p>  Entwerfen Sie Komponenten nach Möglichkeit asynchron, um zu verhindern, dass sie kritisch werden.  Wenn ein Dienst eine RPC-Antwort von einem seiner unkritischen Teile erwartet, die eine starke Verlangsamung der Antwortzeit anzeigt, wird durch diese Verlangsamung die Leistung des übergeordneten Dienstes unnötig beeinträchtigt.  Wenn Sie den RPC für eine nicht kritische Komponente auf den asynchronen Modus einstellen, wird die Antwortzeit des übergeordneten Dienstes nicht an die Leistung dieser Komponente gebunden.  Und obwohl Asynchronität den Code und die Infrastruktur des Dienstes komplizieren kann, lohnt sich dieser Kompromiss dennoch. </p><br><h4 id="planirovanie-resursov">  Ressourcenplanung </h4><br><p>  Stellen Sie sicher, dass alle Komponenten mit allem ausgestattet sind, was Sie benötigen.  ,     —    . </p><br><h4 id="konfiguraciya">  </h4><br><p>     ,           \  . </p><br><h4 id="obnaruzhenie-iustranenie-nepoladok">     </h4><br><p>   ,       .        .        .       ,      . </p><br><h4 id="bystryy-inadezhnyy-otkat-vpredyduschee-sostoyanie">        </h4><br><p>                 SLO.  ,   ,       .   ,    ,       ,    MTTR      . </p><br><h4 id="sistematicheski-proveryayte-vse-vozmozhnye-rezhimy-otkaza">       </h4><br><p>     ,          .    : </p><br><ul><li>               ?  ,    . </li><li>         ?   ?    ? </li></ul><br><h4 id="provedite-tschatelnoe-testirovanie">    </h4><br><p>      ,   ,     ,           .       : </p><br><ul><li>        -,         . </li><li>         / .       . </li><li>    .   ,  ,    .   ,       ;       ,     . </li></ul><br><h4 id="plan-nabuduschee">    </h4><br><p>  ,   : ,         ,            .        —     ,     . ,  ,        ,   . <br>    ,             .     ,   Google    ,     10          . </p><br><h2 id="zaklyuchenie">  Fazit </h2><br><p>     , ,      ,    ,               .   ,   .   Google             ,        ,      (.  SRE,  B:       ). </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de435662/">https://habr.com/ru/post/de435662/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de435648/index.html">Bot generiert Tutorials aus Wikipedia-Artikeln</a></li>
<li><a href="../de435650/index.html">So binden Sie eine C-Bibliothek in ein Swift-Framework ein</a></li>
<li><a href="../de435652/index.html">Wie man keine Passwörter in Python-Skripten verwendet</a></li>
<li><a href="../de435654/index.html">Fallstricke von benutzerdefinierten CSS-Eigenschaften</a></li>
<li><a href="../de435656/index.html">Roller Rolls Royce - Ninebot KickScooter ES4 von Segway</a></li>
<li><a href="../de435664/index.html">Google-Suchmaschinen-Spoofing</a></li>
<li><a href="../de435666/index.html">Asynchrone Desynchronisation: Antimuster bei der Arbeit mit async / await in .NET</a></li>
<li><a href="../de435668/index.html">Ein weiteres Gesetz des Frühlings: Der Abgeordnete schlug vor, der Polizei zu ermöglichen, den Standort von Kindern mithilfe der Geolokalisierung zu verfolgen</a></li>
<li><a href="../de435670/index.html">Oberster Algorithmus - Verteilung der Algorithmen nach Schwierigkeitsgrad</a></li>
<li><a href="../de435672/index.html">Umschulung in Business Intelligence</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>