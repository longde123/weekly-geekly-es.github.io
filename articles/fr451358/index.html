<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤰🏽 🦏 🛃 Paramètres implicites et conversions dans Scala 🙍🏾 🎭 🌸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Après avoir parcouru les articles précédents sur Habr, les tyts et les tyts n'ont pas pu comprendre rapidement ce que fait implicitement Scala. Essayo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Paramètres implicites et conversions dans Scala</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451358/">  Après avoir parcouru les articles précédents sur Habr, les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tyts</a> et les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tyts</a> n'ont pas pu comprendre rapidement ce que fait implicitement Scala.  Essayons de le comprendre ensemble. <br><br><div style="text-align:center;"><img width="300" height="300" src="https://habrastorage.org/webt/x-/xe/by/x-xebyxt7lk1q64qkt3mh8rt94c.png"></div><br>  Ainsi, implicite dans Scala vous permet d'éviter d'appeler des méthodes ou des références explicites à des variables, et de permettre au compilateur de trouver lui-même les données implicites nécessaires. <br><br>  Par exemple, nous pourrions écrire une fonction pour convertir de Float en Int (FloatToInt) et, au lieu d'appeler cette fonction explicitement, le compilateur le ferait implicitement pour nous: <br><br><pre><code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FloatToInt</span></span></span></span>(value: <span class="hljs-type"><span class="hljs-type">Float</span></span>):<span class="hljs-type"><span class="hljs-type">Int</span></span> = value.toInt println(double(<span class="hljs-number"><span class="hljs-number">2.5</span></span>F))</code> </pre> <br>  Confus?  Mettons tout en ordre. <br><a name="habracut"></a><br>  Aujourd'hui, nous examinons donc deux catégories implicites, à savoir: <br><br><ul><li>  <i>Paramètres implicites</i> (valeurs).  Ils sont automatiquement passés par les valeurs du compilateur déclarées via implicite. </li><li>  Conversion <i>implicite</i>  Si le type du paramètre attendu ne correspond pas au paramètre d'entrée, le compilateur recherche toute méthode dans la portée qui est marquée implicite et avec le paramètre attendu et le paramètre d'entrée nécessaires dans cette situation et le transmet automatiquement. </li></ul><br><h4>  Paramètre implicite </h4><br>  <i>Un paramètre implicite</i> est un paramètre de fonction précédé du mot clé implicite.  Cela signifie que si aucune valeur n'est transmise lors de l'appel de la fonction, le compilateur recherchera personnellement le paramètre implicite et le transmettra pour nous. <br><br>  Par exemple, une telle fonction qui prend une valeur de paramètre implicite en entrée et la double: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  Sans paramètre implicite, il échouera avec une erreur: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> println(double) <span class="hljs-comment"><span class="hljs-comment">// error: could not find implicit value for parameter value</span></span></code> </pre> <br>  Avec un paramètre explicite passé, cela fonctionnera: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> println(double(<span class="hljs-number"><span class="hljs-number">3</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// 6</span></span></code> </pre> <br>  Avec un paramètre implicite, cela ressemblera à ceci: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> multiplier = <span class="hljs-number"><span class="hljs-number">2</span></span> println(double) <span class="hljs-comment"><span class="hljs-comment">// 4</span></span></code> </pre> <br>  Mais vous devez être prudent: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> multiplier = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> multiplier2 = <span class="hljs-number"><span class="hljs-number">1</span></span> println(double) <span class="hljs-comment"><span class="hljs-comment">// error: ambiguous implicit values</span></span></code> </pre> <br>  Et enfin, un exemple avec le passage de def comme paramètre implicite: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> cappucinoLarge: <span class="hljs-type"><span class="hljs-type">Boolean</span></span> = <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cappucinoPrice</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">Int</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cappucinoLarge) <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> println(double) <span class="hljs-comment"><span class="hljs-comment">// 200</span></span></code> </pre> <br>  C'est-à-dire  à la fin nous réussirons <pre> <code class="scala hljs">double(cappucinoPrice())</code> </pre> <br>  Notes de syntaxe: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func1</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> value1: <span class="hljs-type"><span class="hljs-type">Int</span></span>) <span class="hljs-comment"><span class="hljs-comment">// value1  def func2(implicit value1: Int, value2: Int) // value1  value2  def func3(value1: Int, implicit value2: Int) //   def func4(value1: Int)(implicit value2: Int) //  value2  def func5(implicit value1: Int)(value2: Int) //   def func6(implicit value1: Int)(implicit value2: Int) //  </span></span></code> </pre><br><h4>  Conversion implicite </h4><br>  Revenons à l'exemple de Float à Int: <br><br><pre> <code class="scala hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">double</span></span></span></span>(value: <span class="hljs-type"><span class="hljs-type">Int</span></span>) = value * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">implicit</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FloatToInt</span></span></span></span>(value: <span class="hljs-type"><span class="hljs-type">Float</span></span>):<span class="hljs-type"><span class="hljs-type">Int</span></span> = value.toInt println(double(<span class="hljs-number"><span class="hljs-number">2.5</span></span>F))</code> </pre><br>  Lors de l'appel double, nous avons une incompatibilité de type du paramètre attendu (Int) avec le paramètre d'entrée (Float).  Par conséquent, le compilateur recherche n'importe quelle méthode dans la portée, marquée implicite et avec le paramètre attendu (Int) et le paramètre d'entrée (Float) nécessaires dans cette situation.  Trouve FloatToInt, effectue la conversion et transmet la valeur souhaitée pour doubler. <br><br>  Maintenant, j'espère, c'est devenu plus clair.  Tous les succès dans la maîtrise de Scala! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr451358/">https://habr.com/ru/post/fr451358/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr451346/index.html">NeoBook: un environnement de programmation pour les non-programmeurs</a></li>
<li><a href="../fr451350/index.html">Améliorations de la distribution de Visual Studio App Center</a></li>
<li><a href="../fr451352/index.html">Le modèle Visual Studio C ++ IntelliSense se remplit en fonction des instanciations de votre code</a></li>
<li><a href="../fr451354/index.html">Qu'est-ce qui est important et urgent?</a></li>
<li><a href="../fr451356/index.html">Fonctionnement de la compression dans une architecture de mémoire orientée objet</a></li>
<li><a href="../fr451360/index.html">Menaces SMS cachées: l'opérateur mobile en sait trop</a></li>
<li><a href="../fr451366/index.html">Écrivez moins de code</a></li>
<li><a href="../fr451370/index.html">SaaS vs sur site, mythes et réalité. Arrêtez l'holivarit</a></li>
<li><a href="../fr451372/index.html">Améliorations des diagnostics dans .NET Core 3.0</a></li>
<li><a href="../fr451378/index.html">Likbez de mémoire: ce qu'il se passe et ce qu'il nous apporte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>