<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉโโ๏ธ ๐ค ๐๏ธ BTRFS ูุฃุตุบุฑ ๐๐ฟ ๐ค๐ฝ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููู ุฌูุฏ ุ ุฎุจุฑุงูุดุงู. ุฃุนูู ูู Veeam Software ูุฃูุง ุฃุญุฏ ูุทูุฑู ุญู ุงููุณุฎ ุงูุงุญุชูุงุทู ููุธุงู Linux. ุนู ุทุฑูู ุงูุงุญุชูุงู ุ ููุฏ ุตุงุฏูุช ููุงุก BTRFS. ูู ุงูุขููุฉ ุงูุฃุฎูุฑุฉ ุ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>BTRFS ูุฃุตุบุฑ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/458250/" style=";text-align:right;direction:rtl"> ููู ุฌูุฏ ุ ุฎุจุฑุงูุดุงู.  ุฃุนูู ูู Veeam Software ูุฃูุง ุฃุญุฏ ูุทูุฑู ุญู ุงููุณุฎ ุงูุงุญุชูุงุทู ููุธุงู Linux.  ุนู ุทุฑูู ุงูุงุญุชูุงู ุ ููุฏ ุตุงุฏูุช ููุงุก BTRFS.  ูู ุงูุขููุฉ ุงูุฃุฎูุฑุฉ ุ ุงูุชููุช ูู ูุถุน "ุบูุฑ ููุงุณุจ ุจุนุฏ" ุฅูู ูุถุน "ูุณุชูุฑุฉ".  ูุจูููุง ูุงู ุงููุณุชุฎุฏููู ุงูุฃูููู ุนูู ุงูุดุจูุฉ ููุงูุดูู ูุฌุงูุงุช ุงููุดููุงุช ููุถุงูุง ุงูุงุณุชูุฑุงุฑ ุ ูููุง ูู Veeam ุจุชูุงุนุจูุง ุจุนุตุง ูุญุงูููุง ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูููุง.  ุงุชุถุญ ุ ุจุนุจุงุฑุฉ ููุทูุฉ ุ ููุณ ูุซูุฑูุง - ุฅูู ูุฎุชูู ุชูุงููุง ุ ูููุณ ูุซู ุฃูุธูุฉ ุงููููุงุช ุงูุชูููุฏูุฉ.  ุงุถุทุฑุฑุช ุฅูู ุฏุฑุงุณุฉ ุงูุนุฏูุฏ ูู ุงูุฌูุงูุจ ูุฌูุน ุงููุซูุฑ ูู ุงูููุงุจุณ ูุจู ุฃู ูุชุนูู ููููุฉ ุงูุชุนุงูู ูุนูุง.  ูู ุนูููุฉ ุงูุชุนูู ุ ุชูููุช BTRFS ูู ุฅููุงุนู ุ ุจุทุฑููุฉ ุฌูุฏุฉ ูููุณ ูุซูุฑูุง.  ุฃูุง ูุชุฃูุฏ ูู ุฃููุง ูู ุชุชุฑู ุฃู ูุชุฎุตุต ูู ุชูููููุฌูุง ุงููุนูููุงุช ูู ุนุงูู Linux ุบูุฑ ูุจุงู: ุณูู ูุจุตู ุงูุจุนุถ ุ ูุงูุซูุงุก ุนููู. <br><br>  ุฅุฐุง ููุช ูุฏ ุณูุนุช ุนู ูุธุงู ุงููููุงุช ูุฐุง ุ ูููู ูุง ุชุนุฑู ุงูุณุจุจ ูู ุฐูู ุ ุฃู ุงูููุชููู ุจุงูุชูุงุตูู ุ ุฃู ุชุจุญุซ ุนู ุงูููุงู ุงูุฐู ุชุจุฏุฃ ูู ุงูุชุนุฑู ุนููู ุ ูุฃูุง ุฃุฏุนูู ุฅูู ุงููุดุงุฑูุฉ. <br><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h1><br>  BTRFS (B-Tree Filesystem) - ูุธุงู ูููุงุช ูุฃูุธูุฉ ุงูุชุดุบูู ุงููุดุงุจูุฉ ููุธุงู Unix ุงุณุชูุงุฏูุง ุฅูู ุชูููุฉ Copy on Write (CoW) ุ ุงููุตูู ูุชูููุฑ ุณูููุฉ ุงูุชูุณุน ูู ูุธุงู ุงููููุงุช ุ ูุฏุฑุฌุฉ ุนุงููุฉ ูู ููุซูููุฉ ุงูุจูุงูุงุช ูุงูุฃูู ุ ููุฑููุฉ ุงูุชูููู ูุณูููุฉ ุงูุฅุฏุงุฑุฉ ุ ูุน ุงูุญูุงุธ ุนูู ูู ููุณ ุงูููุช ุจุณุฑุนุฉ ุนุงููุฉ.  ุนูู ุงูุฃูู ูุฐุง ูุง ุชูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุตูุญุฉ ุงููููู ุงูุฑุฆูุณูุฉ</a> . <br><br>  ููุงูุชุซุงู ููุฅุฌุฑุงุกุงุช ุงูุดูููุฉ ุ ูุฏุฑุฌ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ ู btrfs: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงูููู 2 ^ 64 ุจุงูุช <br></li><li style=";text-align:right;direction:rtl">  ุงูุฌุฏูู inode ุฏููุงูููู <br></li><li style=";text-align:right;direction:rtl">  ุฅูุบุงุก ุงูุจูุงูุงุช ุงูููุฑุฑุฉ <br></li><li style=";text-align:right;direction:rtl">  ุชุฎุฒูู ูุนุงู ูููููุงุช ุจุฃุญุฌุงู ุตุบูุฑุฉ ุฌุฏูุง ููุจูุฑุฉ ุฌุฏูุง <br></li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก Subwolums ูุงูููุทุงุช <br></li><li style=";text-align:right;direction:rtl">  ุญุตุต ูุฑุนูุฉ <br></li><li style=";text-align:right;direction:rtl">  ุชุฏูููุงุช ููุจูุงูุงุช ูุงูุจูุงูุงุช ุงููุตููุฉ <br></li><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ุฏูุฌ ุนุฏุฉ ูุญุฑูุงุช ุฃูุฑุงุต ูู ูุธุงู ูููุงุช ูุงุญุฏ <br></li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุชูููู RAID ุนูู ูุณุชูู ูุธุงู ุงููููุงุช <br></li><li style=";text-align:right;direction:rtl">  ุถุบุท ุงูุจูุงูุงุช <br></li><li style=";text-align:right;direction:rtl">  ุฅูุบุงุก ุชุฌุฒุฆุฉ ุงูุจูุงูุงุช ุนูู ุงูุทุงูุฑ <br></li></ul><br>  ุฃุฑูุฏ ุฃู ุฃุญุฐุฑู ููุฑูุง ุจุฃู BTRFS ุชุชุทูุฑ ุจุดูู ูุดุท ุ ููุฏ ุชุฎุชูู ุจุนุถ ุงูููุงุท ูู ุฅุตุฏุงุฑ ุฅูู ุขุฎุฑ.  ุงูุฑุงุจุท - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://btrfs.wiki.kernel.org/index.php/Changelog ุ</a> ููููู ูุนุฑูุฉ ููุช ุฅุถุงูุฉ ุงููุธููุฉ ุฃู ุชุบููุฑูุง ุฃู ุฅุตูุงุญูุง. <br><br>  ูุนู ุ BTRFS ูู ูุธุงู ูููุงุช ุญุฏูุซ ูุนุตุฑู ูุนูู ุนูู ุญู ูุฌููุนุฉ ูุงุณุนุฉ ูู ุงูููุงู ุ ูููู ููุณ ุจุฏูู ุนููุจู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุคุฏู ุชุทููุฑูุง ุงููุดุท ุฅูู ุชุบููุฑ ูู ุฃู ููุงุท ุฃุณุงุณูุฉ ูููู ุฃู ุชุนุชูุฏ ุนูููุง ุฃุฏูุงุช ุงูุฌูุงุช ุงูุฎุงุฑุฌูุฉ ุนูุฏ ุงูุนูู ูุนูุง. <br></li><li style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุชุฃููุฏุงุช ุงููุทูุฑูู ุญูู ุงุณุชูุฑุงุฑ BTRFS ุ ููุงุฌู ุงููุณุชุฎุฏููู ุจุงูุชุธุงู ูุดุงูู ูุฏ ุชุคุฏู ุฅูู ููุฏ ุงูุจูุงูุงุช.  ููุงุนุฏุฉ ุ ููู "ุชุทูู" ูู ุทุจูุนุชูุง ุ ููุชูุฌุฉ ูุฐูู ูู ุชุชู ุฏุฑุงุณุชูุง ูุชุตุญูุญูุง ุจุนุฏ. <br></li><li style=";text-align:right;direction:rtl">  ูุงุจููุฉ ุนุงููุฉ ููุชูุชูุช. <br></li><li style=";text-align:right;direction:rtl">  ูุซุงุฆู ูุฒููุฉ ูุฃุญูุงูุง ุนูุง ุนูููุง ุงูุฒูู. <br></li></ul><br>  ูุชู ุชุฎุตูุต ุตูุญุฉ ูุงููุฉ ููุดุงูู ูุธุงู ุงููููุงุช ุนูู ุฅุตุฏุงุฑุงุช ูุฎุชููุฉ ูู ุงูููุงุฉ - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://btrfs.wiki.kernel.org/index.php/Gotchas</a> .  ุฃูุตุญู ุจุดุฏุฉ ุฃู ุชุจุญุซ ููุงู - ููุฏ ุธูุฑ ุงููุซูุฑ ูู ุงูุงูุชูุงู ูุบูุฑ ุงููุงุถุญ. <br><br><h1 style=";text-align:right;direction:rtl">  ูููู BTRFS </h1><br>  ูููู ุชูุณูู ุฌูุงุฒ BTRFS ุงููุจุณุท ุฅูู ุงููุณุชููุงุช ุงูุชุงููุฉ: <br><br><img src="https://habrastorage.org/webt/zz/n8/zj/zzn8zjyt0dai6ge9rifhgcdwg0q.png"><br><br>  ุชูุฌุฏ ุฃุฌูุฒุฉ ุงูุญุธุฑ ูู ุฃุฏูู ูุณุชูู ุ ูุชูุซู ูุงุญุฏุฉ ุฃู ุนุฏุฉ ูุฑุงุบุงุช ุนููุงู ูุนูู ูููุตูุฉ (ููุณ "ุงููุนููุฉ" ูุซู ุงูุฃุฌูุฒุฉ ูุชูุฉ ููุณูุง ุ ูููู ูุฐู ูู ุจุงููุนู ุงูุชูุงุตูู).  ูู ุฎูุงู ุจููุงุช ุฎุงุตุฉ ุ ูุชู ุฏูุฌ ุงููุชู ุงููุฎุตุตุฉ ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ูู ูุณุงุญุฉ ุนููุงู ุงูุชุฑุงุถูุฉ ูุงุญุฏุฉ. <br><br>  ุชุชู ูุนุงูุฌุฉ ููุงูู ุงูุจูุงูุงุช ุงูุชุนุฑูููุฉ ููุชููุง ูุน ุจูุงูุงุช ุงููุณุชุฎุฏู (ุงููุทุงูุงุช) ุจุงููุนู ุนูู ูุณุชูู ููุทูู.  ูุชูุฌุฉ ูุฐูู ุ ูููู ุฃู ุชูุฌุฏ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ุจุงูุชุณูุณู ุนูู ุงููุณุชูู ุงูููุทูู ูุนูููุง ุนูู ุฃุฌูุฒุฉ ูุชูุฉ ูุฎุชููุฉ. <br><br>  ูููู ุชูุณูู ููุงูู ุงูุจูุงูุงุช ุงูุฃูููุฉ ุฅูู ูุณุชููุงุช.  ุจุงูุทุจุน ุ ูู ุฃููู ุจุชุตููููู - ูููุงู ุงููุซูุฑ ูููู ุ ููุฐู ุงูุชูุงุตูู ููุฎูุถุฉ ุงููุณุชูู ูู ููุถูุน ููุงูุฉ ูููุตูุฉ.  ูู ุงูููู ููุง ุฃู ุชุชุญูู ุจุนุถ ุงูููุงูู ูู ุงูุชุณูุณู ุงููุฑูู ุฅูู ูุณุชูู ุฃุนูู ูู ุบูุฑูุง ุ ููู ุงูููุฉ ุณูููู ููุงู ุจููุฉ ูุฑุนูุฉ. <br><br>  Subvolume ูู ููุน ูู ููุทุฉ ุงูุฅุฏุฎุงู ุ ุฃู ุจุงูุฃุญุฑู ุงูุนูุงุตุฑ ุงูุฌุฐุฑูุฉ ููุธุงู ุงููููุงุช.  ุฅููุง ุชุดูู ุทุจูุฉ ูููุตูุฉ ูู ุชูุซูู ุงูุจูุงูุงุช ุ ูุงูุชู ุชููุฎุต ุนูู ุงูุทุจูุงุช ุงูุณููู ุ ูุชูุฏู ุจูุงูุงุช ุงููุณุชุฎุฏู ูู ุงููููุฐุฌ ุงููุนุชุงุฏ: ุงูุฏูุงุฆู ูุงููููุงุช.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุนุชุจุฑ ุงูุฐุฆุงุจ ุงููุฑุนูุฉ ุนูุตุฑูุง ุฑุฆูุณููุง ูู ุขููุฉ CoW ุนูู BTRFS.  ูุฏ ุชุชุญูู ููุณ ุงููููุงุช ุงูููุฌูุฏุฉ ูู ุฌุฒุฆูู ูุฑุนููู ุฅูู ููุณ ุงูุจูุงูุงุช ุงูุชู ุชู ุชุนููููุง ูู ุงููุณุชููุงุช ุงูุฃุฏูู. <br><br>  ุงูุทุจูุฉ ุงูุฃุฎูุฑุฉ ูู ุทุจูุฉ ุงูุจูุงูุงุช.  ููุง ูุฑุงูุง ุงููุณุชุฎุฏู.  ูุฐู ูู ุงููููุงุช ูุงูุฃุฏูุฉ ุงูููุฌูุฏุฉ ูู ุงููุฌูุฏ ุงููุฑุนู. <br><br>  ููู ูุธุฑูุฉ ูุงููุฉ.  ุญุงู ุงูููุช ูููุถู ูุฏูุง ูู ุงูููุงุฑุณุฉ! <br><br><h1 style=";text-align:right;direction:rtl">  Btrfs-progs </h1><br>  ูุฐู ูุฌููุนุฉ ููุงุณูุฉ ูู ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ูุฅุฏุงุฑุฉ BTRFS.  ุจูุงุกู ุนูู ุญุฒูุฉ ุงูุชูุฒูุน ุ ูุฏ ูููู ููุญุฒูุฉ ุงูุชู ุชุญุชูู ุนูู ูุฐู ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ูู ุงููุณุชูุฏุน ุฃุณูุงุก ูุฎุชููุฉ: <b>btrfsprogs</b> ุ <b>btrfs-progs</b> ุ <b>btrfs-tools</b> ุ ุฅูุฎ.  ุฅุฐุง ูู ููู ูุณุชูุฏุนู ูุดุจูู ุ ูููููู ุฏุงุฆููุง ุชุฌููุนู ูุฏูููุง ุ ูุงููุตุงุฏุฑ ููุณุช ุจุนูุฏุฉ - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/kdave/btrfs-progs</a> . <br>  ุฃูู ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ูู ูุฐู ุงูุญุฒูุฉ ูู <b>btrfs</b> ู <b>mkfs.btrfs</b> .  ูู ุงูุซุงููุฉ ุ ุฃุนุชูุฏ ุฃู ูู ุดูุก ูุงุถุญ ููุบุงูุฉ - ูู ุงูุถุฑูุฑู ุฅูุดุงุก BTRFS ุนูู ุฌูุงุฒ ูุชูุฉ.  ุฃููุงู ุ <b>btrfs</b> ูู ุงูุฃุฏุงุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ุชุณูุญ ูู ุจุงูููุงู ุจุงูุจุงูู.  ููุน ูู "ุงูุณููู ุงูุณููุณุฑู". <br><br>  ูู ูุฐู ุงูููุงูุฉ ุ ุงุณุชุฎุฏูุช ุงูุฅุตุฏุงุฑ v4.15.1.  ูุชู ุชุทููุฑ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุจูุดุงุท ูุจูุฑ ุ ูููุงู ุงุฎุชูุงูุงุช ููุญูุธุฉ ูู ุฅุตุฏุงุฑ ุฅูู ุฅุตุฏุงุฑ.  ูุฐูู ุฅุฐุง ูู ููู ูุฏูู ุงูุฃูุฑ ุงูุถุฑูุฑู ุ ูุชุญูู ูู ุฅุตุฏุงุฑ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <b>btrfs</b> ุ ููุฏ ูููู <b>ูุฏูููุง</b> ุจุงููุนู. <br><br>  ุฃูุถูุง ุ ุนูู ุงูุฃุฑุฌุญ ุ ุชู ุงูุนุซูุฑ ุนูู ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ <b>btrfsck</b> ู <b>btrfstune</b> ูู ุงูุญุฒูุฉ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃููููุง ูุนูู ุนูู ุงูุชุญูู ูู ูุธุงู ุงููููุงุช ุจุญุซูุง ุนู ุงูุฃุฎุทุงุก <b>ูููุชุตุญูุญุงุช</b> ุงููุงุญูุฉ ุ ููุน ุฐูู ุ ูุง ุฃูุตู ุจุงุณุชุฎุฏุงูู - ุฅูู ูู ุญุงูุฉ <i>ุฅููุงู</i> ุ ููุฏ ุชู ููู <b>ูุธุงุฆูู ุฅูู</b> ุงูุฃูุฑ <b>check btrfs</b> . </li><li style=";text-align:right;direction:rtl">  ูุณูุญ ูู ุงูุซุงูู ุจุชูููุฐ ุจุนุถ ุงูุนูููุงุช ุงููููุฏุฉ ุนูู btrfs ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชุบููุฑ ุงููุนุฑู ุงููุฑูุฏ ููุธุงู ุงููููุงุช (FS UUID) ุ ุฃู ุชูููู ูุธุงุฆู ูุนููุฉ ููุธุงู ุงููููุงุช. </li></ul><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ุ ููุงู ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ูู ุงูุญุฒูุฉ ุ ููููุง ุถุฑูุฑูุฉ ุจุดูู ุฃุณุงุณู ูุชุตุญูุญ ุฃุฎุทุงุก btrfs ููู ุชููู ูููุฏุฉ ููุง ูู ูุฐู ุงูููุงูุฉ. <br><br><h1 style=";text-align:right;direction:rtl">  ุชูุณูู ูุฑุต ูู BTRFS </h1><br>  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูู ุดูุก ุฃุจุณุท.  ููุจุฏุฃ ุจูุญุฑู ูุงุญุฏ. <br>  ูุญุฏุซ ุชูุณูู ูุฑุต ูุงุญุฏ ูู btrfs ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงููุนุชุงุฏ: <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">mkfs.btrfs /dev/sdc -L single_drive</code> </pre> <br>  ุงุณุชุฌุงุจุฉ ูุฐูู ุ ุณุชููู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุจุฅุฎุฑุงุฌ ูุนููุงุช ูุธุงู ุงููููุงุช ุงูุฐู ุชู ุฅูุดุงุคู ุฅูู ูุญุฏุฉ ุงูุชุญูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">btrfs-progs v4.15.1 See http://btrfs.wiki.kernel.org <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. Label:       single_drive UUID:        59307d69-6d2f-4d2e-aae2-a5189ad3c256 Node size:     16384 Sector size:    4096 Filesystem size:  1.00GiB Block group profiles: Data:       single 8.00MiB Metadata:     DUP 51.19MiB System:      DUP 8.00MiB SSD detected:    no Incompat features: extref, skinny-metadata Number of devices: 1 Devices:  ID    SIZE PATH   1   1.00GiB /dev/sdc</code> </pre><br>  ุฏุนูุง ูุฐูุจ ูู ุฎูุงู ุงููุนููุงุช ุงูููุฏูุฉ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ุงูุชุณููุฉ</b> - ุชุณููุฉ ุฃู ุงุณู ูุธุงู ุงููููุงุช.  ูุชู ุชุญุฏูุฏู ุจูุงุณุทุฉ ุฑูุฒ ุงูุชุจุฏูู <code>-L</code> ููู ูุนููุฉ ุงุฎุชูุงุฑูุฉ. </li><li style=";text-align:right;direction:rtl">  <b>UUID</b> ูู ูุนุฑู ูุฑูุฏ ูุฌุนู ููุงุฉ btrfs ุชูุฑู ุงููุซููุงุช ุนู ุจุนุถูุง ุงูุจุนุถ. </li><li style=";text-align:right;direction:rtl">  <b>ุญุฌู ุงูุนูุฏุฉ</b> - ุญุฌู ุนูุงุตุฑ ุดุฌุฑุฉ B ุงูุชู ูุชู ุชุฎุฒูู ุจูุงูุงุช ุงูุชุนุฑูู ุจูุง.  ูููู ุถุจุทู ุจุงุณุชุฎุฏุงู <code>-n | --nodesize</code>  <code>-n | --nodesize</code> ุ ููุฌุจ ุฃู ูููู ูุถุงุนู ุญุฌู ุญุฌู <b>ุงููุทุงุน</b> .  ุตุบุฑ ุญุฌู ุงูุนูุฏุฉ ูุคุฏู ุฅูู ุฒูุงุฏุฉ ูู ุงุฑุชูุงุน ุดุฌุฑุฉ B (ุฒูุงุฏุฉ ูู ุนุฏุฏ ุงูุนูุฏ) ููุชูุฌุฉ ูุฐูู ุ ุฅูู ุงูุฎูุงุถ ุงูุชูุงูุณ ุนูู ุญุธุฑ ุนูุฏุฉ ูุฑุฏูุฉ.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูุฅู ุงูุญุฌู ุงูุตุบูุฑ ููุนูุฏุฉ ูุฌุนู ูุซูู ูุธุงู ุงููููุงุช ุฃูุซุฑ ุนุฑุถุฉ ููุชุฌุฒุฆุฉ.  ุงูุนูุฏ ุงููุจูุฑุฉ ุ ูู ูุงุญูุฉ ุฃุฎุฑู ุ ุชุณุงูู ูู ุชุญุณูู ุชุนุจุฆุฉ ุจูุงูุงุช ุงูุชุนุฑูู ุนูู ุงููุฑุต ุ ููุง ูููู ูู ุงูุชุฌุฒุฆุฉ. <br>  ุงูุฌุงูุจ ุงูุณูุจู ูู ุฒูุงุฏุฉ ููุช ุงููุตูู ุฅูู ุงูุจูุงูุงุช ูุชุญุฏูุซ ุงูุนูุฏุฉ ููุณูุง ูู ุฎูุงู ูุคุดุฑุงุช ุชุฑุงุจุท ูุชุนุฏุฏุฉ.  ุจุงููุณุจุฉ ููููุงุฉ ุงูุชู ูุฒูุฏ ุนูุฑูุง ุนู 3.11 ุ ูููู ุญุฌู ุงูุนูุฏุฉ 16384 ุจุงูุช ุฃู ุญุฌู ุตูุญุฉ ุฐุงูุฑุฉ ูุธุงู ุงูุชุดุบูู (ุฃูุจุฑ ูู ูุงุชูู ุงููููุชูู) ุงูุชุฑุงุถููุง. </li><li style=";text-align:right;direction:rtl">  <b>ุญุฌู ุงููุทุงุน</b> - ููุฏุงุฑ ุงููุณุงุญุฉ ุงูุชู ูุชู ูุถุงุนูุงุช ุงููุณุงุญุฉ ุงูุชู ูุชู ุชุฎุตูุตูุง ูุชุญุฑูุฑูุง ุนูู ุงููุณุชูู ุงููุนูู.  ูุณุงูู ุญุฌู ุตูุญุฉ ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ ููุธุงู ุงูุชุดุบูู ุ ูุง ูู ูุชู ุชุญุฏูุฏ ุฎูุงู ุฐูู ูุน ุฑูุฒ <code>-s</code> . </li><li style=";text-align:right;direction:rtl">  <b>ุญุฌู ูุธุงู ุงููููุงุช</b> - ุงูุณุนุฉ ุงูุฅุฌูุงููุฉ ููุธุงู ุงููููุงุช (ุงูุจูุงูุงุช ุจุงูุฅุถุงูุฉ ุฅูู ุงูุจูุงูุงุช ุงููุตููุฉ).  ุชุนููู ูุฏููุง ูุน ุงูุชุจุฏูู ุจ.  ุจุดูู ุงูุชุฑุงุถู ุ ูุชู ุดุบู ูุงูู ุญุฌู ุฌูุงุฒ ุงููุชูุฉ. </li><li style=";text-align:right;direction:rtl">  <b>ููุฒุงุช Incompat</b> - ูุงุฆูุฉ ูู ุงูููุฒุงุช ุงููุถููุฉ ูู btrfs ุงูุชู ุชู ุฅูุดุงุคูุง ูุงูุชู ุชุนูู ุนูู ูุณุฑ ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ ูุน ุฅุตุฏุงุฑุงุช kernel ุงููุฏููุฉ.  ุฅุฐุง ูุงู ุงูุชูุงูู ุงูุนูุณู ุถุฑูุฑููุง ุ ูููููู ุชุนุทูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">--features ^extref,^skinny-metadata.</code> </pre> <br>  ุจุงูููุงุณุจุฉ ุ ููููู ุงูุชุญูู ูู ุงูููุฒุงุช ุงูุชู ูุฏุนููุง kernel ุงูุญุงูู ูู ุฎูุงู ุงูููุงููุฉ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mkfs.btrfs --features list-all</code> </pre> </li><li style=";text-align:right;direction:rtl">  <b>ุนุฏุฏ ุงูุฃุฌูุฒุฉ ูุงูุฃุฌูุฒุฉ</b> - ูู ุนุฏุฏ ุฃุฌูุฒุฉ ุงููุชูุฉ ุงููุดุงุฑูุฉ ูู ูุซูู btrfs ุงูุฐู ุชู ุฅูุดุงุคู ุ ููุงุฆูุฉ ุจุฌููุน ุงูุฃุฌูุฒุฉ ุ ุนูู ุงูุชูุงูู. </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชุญุฏุซ ุฃูุถูุง ุนู ุงููุนููุฉ <b>Block Group Profiles</b> .  ูุดูุฑ ุฅูู ููู ุชุนุฑูู ุงูุณุฌู ุงููุทุจู ููู ููุน ูู ุฃููุงุน ุงูุจูุงูุงุช ุงูุซูุงุซุฉ: ุงูุจูุงูุงุช ุ ูุงูุจูุงูุงุช ุงููุตููุฉ ุ ูุงููุธุงู.  ุจุงูุนูุฏุฉ ุฅูู ุงููููู ุงููุนูู ู btrfs ุ ูููููุง ุงูููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุจูุงูุงุช ูู ุจูุงูุงุช ุงููุณุชุฎุฏู. </li><li style=";text-align:right;direction:rtl">  ุงูุจูุงูุงุช ุงููุตููุฉ ูู ูุฒูุฌ ูู ุทุจูุฉ ุงูุญุฌู ุงููุฑุนู ูุทุจูุฉ ุงูุจูุงูุงุช ุงููุตููุฉ ูุงูุงูุชุฏุงุฏุงุช ุ </li><li style=";text-align:right;direction:rtl">  ุงููุธุงู ุนุจุงุฑุฉ ุนู ุจููุงุช ูุชุนููู ูุณุงุญุฉ ุนููุงู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ูู ูุณุงุญุฉ ูุณุชูุฑุฉ ูู ุงูุนูุงููู ุงูููุทููุฉ. </li></ul><br>  ููู ุชุนุฑูู ุงูุชุณุฌูู ูู ูุณููุฉ ูุชุฎุฒูู ุงูุจูุงูุงุช ุนูู ุงููุณุชูู ุงููุนูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุงุญุฏ - ุชุฎุฒูู ุงูุจูุงูุงุช ูู ูุณุฎุฉ ูุงุญุฏุฉ ุ </li><li style=";text-align:right;direction:rtl">  DUP - ุงุฒุฏูุงุฌูุฉ ุงูุจูุงูุงุช ุนูู ูุณูุท ูุงุญุฏ ุ </li><li style=";text-align:right;direction:rtl">  ูุนุฏ RAIDX ุฃุญุฏ ุชููููุงุช RAID0 ู RAID1 ู RAID10 ู RAID5 ู RAID6. </li></ul><br></li></ul><br>  ุนูุฏ ุชุฑููุฒ ุฌูุงุฒ ูุชูุฉ ูุงุญุฏ ุ ุณุชุทุจู btrfs ุงูุชูุฑุงุฑ ุนูู ุจูุงูุงุช ุงูุชุนุฑูู ูุจูุงูุงุช ุงููุธุงู ุจุดูู ุงูุชุฑุงุถู ุ ูุณุชุธู ุจูุงูุงุช ุงููุณุชุฎุฏู ูู ุงููุณุงุฆุท ุจูุณุฎุฉ ูุงุญุฏุฉ.  ุณูุคุฏู ุฅูุดุงุก btrfs ุนูู ุนุฏุฉ ุฃูุฑุงุต ูุฑุฉ ูุงุญุฏุฉ ุฅูู ุชุทุจูู ููู ุชุนุฑูู "RAID0" ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุชุฑุงุถููุง ุ ู "RAID1" ุนูู ุงูุจูุงูุงุช ุงูุฃูููุฉ. <br>  ูุชู ุงูุชุญูู ูู ูุฐู ุงููุฌููุนุฉ ูู ุงููุนููุงุช ุจุงุณุชุฎุฏุงู ููุชุงุญูู: <code>-d</code> ููุจูุงูุงุช ู <code>-m</code> ููุจูุงูุงุช ุงูุชุนุฑูููุฉ ูุจูุงูุงุช ุงููุธุงู. <br><br>  ูููู ููุงู ูุงุฑู ุจุณูุท ... ุงูุฃููุฑ ูุฎุชููุฉ ูุน ูุญุฑูุงุช ุฃูุฑุงุต ุงูุญุงูุฉ ุงูุตูุจุฉ.  ุงูุญูููุฉ ูู ุฃูู ุฅุฐุง ููุง ูููู ุจุชุฑููุฒ ูุญุฑู ุฃูุฑุงุต SSD (ุฃู ูุญุฑู ุฃูุฑุงุต ููุงุด) ุ ููู ูููู ูุธุงู ุงููููุงุช ุงูุชุฑุงุถููุง ุจุชูุฑุงุฑ ุงูุจูุงูุงุช ุงูุฃูููุฉ.  ูููู ููุญุฑูุงุช ุฃูุฑุงุต ุงูุญุงูุฉ ุงูุซุงุจุชุฉ ุชูุฏูุฏ ุฅูุบุงุก ุงูุจูุงูุงุช ุงูููุฑุฑุฉ ูุฅุทุงูุฉ ุนูุฑ ุนูุงุตุฑ ุงูุฐุงูุฑุฉ.  ุฃู  ูุฌูุฏ ูุณุฎุชูู ููุทููุชูู ูู ุงูุจูุงูุงุช ุ ูู ุงููุงูุน ุณูุชู ุชุณุฌูู ูุณุฎุฉ ูุงุญุฏุฉ ููุท ูู ุงููุณุท.  ูุชูุฌุฉ ูุฐูู ุ ุนูุฏูุง ุชุชุนุทู ุดุฑูุญุฉ ุงูุฐุงูุฑุฉ ุ ูุฅู "ููุง ูุณุฎุชูู" ุงูุจูุงูุงุช ุณุชููู ุชุงููุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูู ุฎูุงู ูุชุงุจุฉ ุงูุจูุงูุงุช ูุฑุชูู ุ ูุชู ุจุจุณุงุทุฉ ุงุณุชููุงู ููุฑุฏ SSD ุจุดูู ุฃุณุฑุน. <br><br>  ูุชุญุฏูุฏ ููุน ุงููุณุงุฆุท ุ ุชููู btrfs ุจูุญุต ูุญุชููุงุช ุงูููู <i>/ sys / block / DEV / ูุงุฆูุฉ ุงูุงูุชุธุงุฑ / rotational</i> ุ ุญูุซ "DEV" ูู ุงุณู ุฌูุงุฒ ุงููุชูุฉ ุงูุฌุงุฑู ูุญุตู. <br>  ุจุงูุทุจุน ุ ุญุชู ูู ุญุงูุฉ SSD ุ ูููู ูุฑุถ ููู ุชุนุฑูู ุงูุชุฎุฒูู. <br><br>  ูุฅูุดุงุก ูุซูู btrfs ุนูู ุงูุนุฏูุฏ ูู ุงูุฃุฌูุฒุฉ ุ ูุง ุนููู ุณูู ุชุญุฏูุฏู ุจูุณุงูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">sudo mkfs.btrfs /dev/sdc /dev/sdd -L double_drive</code> </pre> <br>  ุฃู ูุน ูููุงุช ุงูุชุนุฑูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">sudo mkfs.btrfs /dev/sdc /dev/sdd -d raid1 -m raid1 -L raid1_drive</code> </pre> <br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุงููุณุงุฆุท ูุง ูุฌุจ ุฃู ุชููู ุจููุณ ุงูุญุฌู ุ ุญุชู ูู ุชู ุงุณุชุฎุฏุงู ุงููุณุฎ ุงููุชุทุงุจู ุงููุงูู.  ููุน ุฐูู ุ ุจูุฌุฑุฏ ุนุฏู ูุฌูุฏ ูุณุงุญุฉ ูุงููุฉ ุนูู ุฃุตุบุฑ ูุญุฑู ุฃูุฑุงุต ูุชุฎุตูุต ุงูุฐุงูุฑุฉ ุ ุณูุนุฑุถ ูุธุงู ุงููููุงุช ุฑุณุงูุฉ ุชุดูุฑ ุฅูู ุนุฏู ูุฌูุฏ ูุณุงุญุฉ ุฎุงููุฉ ุ ุนูู ุงูุฑุบู ูู ุฃูู ูู ุงููุงุญูุฉ ุงููุนููุฉ ูุฏ ูุง ุชุฒุงู ููุงู ุจุนุถ ุงููุณุงุญุฉ ุงูุญุฑุฉ ุนูู ูุณุงุฆุท ุฃุฎุฑู. <br><br><h1 style=";text-align:right;direction:rtl">  ูุชุฒุงูุฏ </h1><br>  ูุง ูุฎุชูู ุงูุชุญููู ุงูุฃูู ูู btrfs ุญุฏูุซูุง ุนู ุฃูุธูุฉ ุงููููุงุช ุงูุฃุฎุฑู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mount /dev/sdc /mnt</code> </pre> <br>  ุฅุฐุง ูุงู ูุธุงู ุงููููุงุช ููุฌูุฏูุง ุนูู ุนุฏุฉ ุฃูุฑุงุต ุ ูุณูููู ูุงูููุง ูุชุญุฏูุฏ ุฃู ูููุง ููุชุฑููุจ. <br><br>  ุจุดูู ุนุงู ุ ูุชุถูู btrfs ุงููุชุตุงุนุฏ ุฏุงุฆููุง ุชุซุจูุช ูุงุญุฏ ุฃู ุฃูุซุฑ ูู ูุฌูุฏู ุงููุฑุนู.  ุฅุฐุง ูู ูุชู ุชุญุฏูุฏ ุงูุฃูุฑ mount ุฃู ูุฌูุฏ ูุฑุนู ูุฌุจ ุชุซุจูุชู ุ ูุณูู ุชูุฑุฃ btrfs ูู ุงูุณุฌู ุงูุฎุงุต ูุนุฑู ุงููุฌูุฏ ุงููุฑุนู ุ ูุงูุฐู ูุฌุจ ุชุซุจูุชู ุงูุชุฑุงุถููุง.  ูููู ุชุบููุฑ ูุฐุง ุงูุฅุฏุฎุงู ูููุง ุจุนุฏ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <code>btrfs set-default</code> ุ ูููู ุนูุฏูุง ุชููู ุฃููุงู ุจุชุซุจูุชู ุนูู btrfs ุ ููุฌุฏ ูุฌูุฏ ูุฑุนู ูุงุญุฏ ููุท - ุงูุฌุฐุฑ.  ูุชู ุชุญุฏูุฏู ุจุดูู ุงูุชุฑุงุถู ููุชุฑููุจ. <br><br>  ุงูุนุงูู ุงููุฑุนู ุงูุฌุฐุฑ ุนูู btrfs ููุฌูุฏ ุฏุงุฆูุง.  ูุธูุฑ ูุน ูุธุงู ุงููููุงุช ููุง ูุฎุถุน ูุฃู ุชุบููุฑุงุช ูู ุงููุณุชูุจู. <br><br>  ููุงู ุทุฑููุชุงู ูุชุญููู ุฃู ูุฌูุฏ ูุฑุนู ุจุฎูุงู ุงูุงูุชุฑุงุถู: <br>  ุชุญุฏูุฏ ุงููุณุงุฑ ูู btrfs ุงูุฌุฐุฑ ุงููุฑุนู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mount -o subvol=/path/to/subvol /dev/sdc /mnt</code> </pre> <br>  ุฅูุง ุชุญุฏูุฏ ูุนุฑู ุงููุฌูุฏ ุงููุฑุนู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mount -o subvolid=257 /dev/sdc /mnt</code> </pre> <br>  ููุง ุฐูุฑูุง ุณุงุจููุง ุ ูุชู ุชุญุฏูุฏ ุฃุญุฏ ูุฌูุฏุงุช btrfs ุงููุฑุนูุฉ ููุง ูู ูุซุจุช ุงูุชุฑุงุถููุง.  ูุนุฑูุฉ ุฃู ูุงุญุฏ ูููู ุนู ุทุฑูู ุงูููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">btrfs subvolume get-default /path/to/any/subvolume</code> </pre> <br>  ูุชุซุจูุช ุงููุงุฆูุฉ ุงููุฑุนูุฉ ุงูุงูุชุฑุงุถูุฉ ุ ููููู ุงุณุชุฎุฏุงู ุงูุฃูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">btrfs subvolume <span class="hljs-built_in"><span class="hljs-built_in">set</span></span>-default 258 /path/to/any/subvolume</code> </pre> <br>  ูุทููุจ ุงููุณุงุฑ ุฅูู ุงููุฌูุฏ ุงููุฑุนู ูู ูุฐู ุงูุญุงูุฉ ููุท ููุฅุดุงุฑุฉ ุฅูู ูุซูู btrfs ุงููุญุฏุฏ ุงูุฐู ููุทุจู ุนููู ุงูุฃูุฑ.  ุจุงูููุงุณุจุฉ ุ ูุง ูุฌุจ ุฃู ูููู ูุฐุง ูู ุนุงูู ูุฑุนู ุ ุงููุณุงุฑ ุฅูู ุฃู ุฏููู ููุงุณุจ ุฃูุถูุง. <br><br>  ููุจู ุงูุฃูุฑ <code>mount</code> ุนุฏุฏูุง ูุจูุฑูุง ูู ุงูุฎูุงุฑุงุช ููุชุญูู ูู ุฅููุงููุงุช btrfs: ุฅูุบุงุก ุงูุชุฌุฒุฆุฉ ุ ูุณุญ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ุงูุถุบุท ุ ุงูุจูุฑุฉ ุ ุงูุชุณุฌูู ุ ุงูุชูุงุฒู ุ ุฏุนู ssd ุ ูุงููุซูุฑ ูู ุงูุฃุดูุงุก ุงูุฃุฎุฑู ุงูุฎุงุตุฉ ุจู btrfs.  ุฃูุง ูู ุฃุนุชุจุฑูุง ูู ุฅุทุงุฑ ูุฐู ุงูููุงูุฉ ุ ูุฃู  ููุงู ุญุงุฌุฉ ุฅูููุง ูุถุจุท ูุธุงู ุงููููุงุช ุ ููู ุงูุบุงูุจูุฉ ุงูุนุธูู ูู ุงูุญุงูุงุช ููููู ุงูุงุณุชุบูุงุก ุนููุง. <br><br><h1 style=";text-align:right;direction:rtl">  ุงููุฌูุฏ ุงููุฑุนู ูู </h1><br>  ุชุนุชุจุฑ ุงููุฌููุนุฉ ุงููุฑุนูุฉ ุนูุตุฑุง ุฃุณุงุณูุง ูู btrfs ุงูุฐู ูุคุฏู ูุธุงุฆู ูุฎุชููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุฎุฒูู ุจูุงูุงุช ุงููุณุชุฎุฏู ูุงููุฌูุฏุงุช ุงููุฑุนูุฉ ุงูุฃุฎุฑู ุ <br></li><li style=";text-align:right;direction:rtl">  ุชูููุฑ ุงููุตูู ุฅูู ุงูุจูุงูุงุช (ุชุฑููุจ) ุ <br></li><li style=";text-align:right;direction:rtl">  ุขููุฉ coW <br></li><li style=";text-align:right;direction:rtl">  ุฎูู ููุทุงุช. <br></li></ul><br>  ุนูุฏ ุงูุชูุฑูุจ ุงูุฃูู ุ ูุนุฏ ุงููุฌูุฏ ุงููุฑุนู ุฏููููุง ุนุงุฏููุง.  ููููู ุฅุนุงุฏุฉ ุชุณููุฉ / ููููุง ุ ูุนุฑุถ ูุญุชููุงุชูุง ุ ููุถุน ูุชุนุฏูู ุงููููุงุช ุจุฏุงุฎููุง.  ูุง ููุฒู ุงููุฑุงูู ุงูุฎุงุตุฉ. <br><br>  ูุชู ุฅูุดุงุก ูุญุฐู ูุฌูุฏ ูุฑุนู ุนูู btrfs ูุญููู ุจุงุณุชุฎุฏุงู ุฃูุงูุฑ ุฎุงุตุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">btrfs subvolume create /mnt/subvolume_name btrfs subvolume delete /mnt/subvolume_name</code> </pre> <br>  ูุงุญุธุช ุฃูู ุฅุฐุง ุญุงููุช ุฅุฒุงูุฉ ุงููุฌูุฏ ุงููุฑุนู ุจุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุฅุฏุงุฑุฉ ุงููููุงุช ุฃู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <b>rm</b> ุ ูุณุชูุชูู <i>ุงูุนูููุฉ ุจุนูููุฉ</i> ุฎุทุฃ <i>ุบูุฑ ูุณููุญ ุจูุง</i> (ุงูุนูููุฉ ุบูุฑ ูุณููุญ ุจูุง). <br><br>  <b>UPD:</b> ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ kernel 4.18.0 ุ ูููู ุญุฐู ุงูุฃุฌุฒุงุก ุงููุฑุนูุฉ ุจุงุณุชุฎุฏุงู ุฃุฏุงุฉ <b>rm</b> ุฃู ุฃุฏูุงุช ุฅุฏุงุฑุฉ ุงููููุงุช.  ุนูู ูุง ูุจุฏู ุ ูุงู ุฎุทุฃ ุ ูููุณ ููุฒุฉ.  ุจูุถู Prototik <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">habravchanin</a> ููุชูุถูุญ. <br><br>  ุจุนุฏ ุฅูุดุงุก ูุฌูุฏ ูุฑุนู ุ ููููู ุฑุคูุฉ ุฎุตุงุฆุตู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">btrfs subvolume show /mnt/subvolume_name Name:          subx UUID:          09af45e8-d2b2-b342-8a92-fa270ac82d0a Parent UUID:      - Received UUID:     - Creation time:     2019-03-23 17:59:28 +0100 Subvolume ID:      268 Generation:       39 Gen at creation:    35 Parent ID:       260 Top level ID:      260 Flags:         - Snapshot(s):</code> </pre> <br>  ุฏุนูุง ูุฐูุจ ูู ุฎูุงู ุงูุฎุตุงุฆุต ุงูุฑุฆูุณูุฉ ูู subwolume: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ุงูุงุณู</b> - ุงุณู ุงููุฌูุฏ ุงููุฑุนู <br></li><li style=";text-align:right;direction:rtl">  <b>UUID</b> ูู ูุนุฑู ูุฑูุฏ ุนุงููู ูุฎุฏู ุจุดูู ุฑุฆูุณู ูุชุญุฏูุฏ ุงูุนูุงูุงุช ุจูู ูุถุฎู ุงูุตูุช ูุงูููุทุงุช ุ <br></li><li style=";text-align:right;direction:rtl">  <b>ุงูุฃุตู UUID</b> - ูุนุฑู ุณูู ุงูุฌุฒุก ุงูุณููู ุงูุฐู ูุณุชูุฏ ููู ุงูุชูุงุฑ ุงูุญุงูู ุ <br></li><li style=";text-align:right;direction:rtl">  <b>ุชู ุชููู UUID</b> - ูุนุฑู ุณูู ุงูุฌุฒุก ุงููุฑุนู ุงููุฑุณู ุนุจุฑ <i>btrfs send</i> ุ <br></li><li style=";text-align:right;direction:rtl">  <b>ูุนุฑู ุงููุฌูุฏ ุงููุฑุนู</b> - <b>ูุนุฑู</b> ูุฑูุฏ ููููุถุน ูู ุดุฌุฑุฉ B ุ <br></li><li style=";text-align:right;direction:rtl">  <b>ุงูุฌูู</b> - ุฑูู ุงููุนุงููุฉ ูู ุงูุชุญุฏูุซ ุงูุฃุฎูุฑ ูุจูุงูุงุช ุงูุชุนุฑูู ุงููุฑุนูุฉ ุ <br></li><li style=";text-align:right;direction:rtl">  <b>ุงูุฌูุฑุงู ุนูุฏ ุงูุฅูุดุงุก</b> - ุฑูู ุงููุนุงููุฉ ูู ููุช ุฅูุดุงุก ุงููุฌูุฏ ุงููุฑุนู ุ <br></li><li style=";text-align:right;direction:rtl">  <b>ูุนุฑู ุงูุฃุตู</b> - ูุนุฑู ุงูุฌุฒุก ุงููุฑุนู ุงูุฐู ุชู ุชุถูููู ุงูุญุงูู ุ <br></li><li style=";text-align:right;direction:rtl">  <b>ูุนุฑู ุงููุณุชูู ุงูุฃุนูู</b> ูู ููุณู ูุนุฑู ุงูุฃุตู ุชูุงููุง ุ <br></li><li style=";text-align:right;direction:rtl">  <b>ุงูุฃุนูุงู</b> - ุงูุฃุนูุงู (ูู ุงููุงูุน ุนูู ูุงุญุฏ <i>ููุท ูููุฑุงุกุฉ ููุท</i> ) ุ <br></li><li style=";text-align:right;direction:rtl">  <b>ููุทุงุช</b> - ูุงุฆูุฉ ููุทุงุช ูุฃุฎูุฐุฉ ูู ูุฐุง ุงููุฌูุฏ ุงููุฑุนู. <br></li></ul><br>  ุชุญุชูู ุงููุฌููุนุฉ ุงููุฑุนูุฉ ุนูู ูุนููุฉ ุฃุฎุฑู - ูุฐุง ูู ูุณุงุฑูุง ูู btrfs ูุนูุตุฑ ุงูุฌุฐุฑ.  ูุชู ุนุฑุถ ุงููุณุงุฑ ุนูุฏ ุณุฑุฏ ุงููุฌูุฏ ุงููุฑุนู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs subvolume list /path/to/any/btrfs/mountpoint</code> </pre> <br>  ูููู ููุง ูู ุดูุก ุจุณูุท ููุงุถุญ - ุญุชู ุฃูู ูู ุบูุฑ ุงูููุทูู ุฅุญุถุงุฑ ูุงุชุฌ ุงูุฃูุฑ. <br>  ููุง ูู ุงูุญุงู ูุน ุฃูุงูุฑ <code>get-default</code> ู <code>set-default</code> ุ ููุง ููููู ุชุญุฏูุฏ ุงููุณุงุฑ ูุฃู ูุฌูุฏ ูุฑุนู ุ ูู ุชุชุบูุฑ ูุชูุฌุฉ ุฐูู.  ูุณุชุฎุฏู ูุฐุง ุงููุณุงุฑ ููุนุซูุฑ ุนูู ุงูุฌุฐุฑ ุงููุฑุนู btrfs.  ุจุนุฏ ุฐูู ูุชู ูุฑุงุกุฉ ุดุฌุฑุฉ ุงูุดุจู ููู. <br><br>  ุฅุฐุง ุญุงููุช ูุณุฎ ุงููุฌูุฏ ุงููุฑุนู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <b>cp</b> ุ ุณุชูุฌุญ ุนูููุฉ ุงููุณุฎ ุ ูููู ูุชูุฌุฉ ูุฐูู ุ ูู ูุชู ุฅูุดุงุก ุงููุฌูุฏ ุงููุฑุนู ุ ูููู ุงูุฏููู ุงููุนุชุงุฏ.  ููุน ุฐูู ุ ุชููุฑ btrfs ุฃุฏุงุฉ ุฃูุซุฑ ูุฑููุฉ ูุฅูุดุงุก ูุซู ูุฐู ุงููุณุฎ - ููุทุงุช. <br><br><h1 style=";text-align:right;direction:rtl">  ููุทุฉ ูู </h1><br>  ููุทุฉ ูู ุฃูุถุง ุนุงูู ุซุงููู ุ ููุท ุจุนุฏ ุงูุฎุตุงุฆุต ุงููุชูุฏูุฉ. <br><br>  ุงููุงุฑู ุงูุฑุฆูุณู ุจููููุง ูู ุฃู ุงูููุทุฉ ุชุญุชูู ุนูู ุณุฌูุงุช ุนู ุฃู ูุถุฎู ุชู ุฅูุชุงุฌู ููู.  ูุฐู ูู ุงูุญููู <b>UUID</b> <b>ุงูุฃุตู</b> ู <b>UUID ุงููุชููุงุฉ</b> .  ูู ูุถุฎู ุงูุตูุช ุ ุชูุฌุฏ ูุฐู ุงูุญููู ุฃูุถูุง ุ ููููุง ุฏุงุฆูุงู ูุงุฑุบุฉ.  ูุฐูู ุ ูู ุงููุงูุน ุ ููุทุฉ ููุฌููุนู ูู ูุงุญุฏุฉ ูุงุญุฏุฉ. <br>  ุนูุฏ ุงูุฅูุดุงุก ุ ููููู ุญุธุฑ ููุทุฉ ุงูุชุบููุฑุงุช ุจุงุณุชุฎุฏุงู ููุชุงุญ ุงูุชุจุฏูู <code>-r</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs subvolume snapshot -r /path/to/subvol /path/to/snapshot</code> </pre> <br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุถูุงู ุจูุงุก ุงููููุงุช ูู ุงูุญุงูุฉ ุงูุชู ูุงูุช ุนูููุง ูู ููุช ุฅูุดุงุก ุงูููุทุฉ. <br><br>  ูููู ุฃูุถูุง ุงูุชุญูู ูู ุนูุงูุฉ ุงููุฑุงุกุฉ ููุท ูุฏูููุง ุ ููุฐุง ูุนูู ูุน ุฃู ูุฌูุฏ ูุฑุนู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs property get /path/to/subvol ro btrfs property set /path/to/subvol ro true</code> </pre> <br>  ุฅุฐุง ูุธุฑูุง ุงูุขู ุฅูู ุฎุตุงุฆุต ุงูููุทุฉ ุ <b>ูุณูุฑู</b> ุญูู <b>UUID ุงูุฃุตู</b> ุงููุนุจุฃ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs subvolume show /path/to/snapshot Name:          subx UUID:          d08612d8-596a-11e9-8647-d663bd873d93 Parent UUID:      09af45e8-d2b2-b342-8a92-fa270ac82d0a Received UUID:     - Creation time:     2019-03-23 17:59:28 +0100 Subvolume ID:      269 Generation:       39 Gen at creation:    35 Parent ID:       260 Top level ID:      260 Flags:         - Snapshot(s):</code> </pre> <br>  ูู ุงูููุฒุงุช ุงููููุฉ ูุนูููุฉ ุงูููุทุฉ ุฃููุง ุบูุฑ ูุชูุฑุฑุฉ.  ุจุฏูุงู ูู ูุฌูุฏ ูุฑุนู ูุชุฏุงุฎู ุ ุณูุชู ุฅูุดุงุก ุฃุฏูุฉ ูุงุฑุบุฉ ูู ุงูููุทุฉ. <br><br>  ุฏุนูุง ููุชูู ุฅูู ุงููุซุงู ุงูุชุงูู. <br><br>  ููุฌุฏ ูู ูุธุงู ุงููููุงุช ูุถุฎู ุตูุช "sub0" ุ ููุฌุฏ ุจุฏุงุฎูู ูุถุฎู ุตูุช subwoofer ูุฏููู <i>dirB</i> .  ุฏุงุฎู ูู ูุงุญุฏ ูููู <i>fileA</i> ู <i>fileB ุ</i> ุนูู ุงูุชูุงูู. <br><br>  ุฅุฒุงูุฉ ุงูููุทุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs subvolume snapshot sub0 snap0</code> </pre> <br><img src="https://habrastorage.org/webt/cf/or/w-/cforw-vhzoma9iub2hcyejkbh84.png"><br><br>  ุณูู ุชุฑุซ ููุทุฉ <i>snap0 ุงูุชู ุชู ุฅูุดุงุคูุง</i> ุฌููุน ุงููููุงุช ูุงูุฏูุงุฆู ุงูุฎุงุตุฉ ุจูุง ุ ููุน ุฐูู ุ ูู ูุธูุฑ <i>ูุถุฎู ุตูุช</i> subA ูู ุฏุงุฎู ุงูููุทุฉ.  ุจุฏูุงู ูู ุฐูู ุ ูู ูุธูุฑ ุณูู ุฏููู ูุงุฑุบ ูู ุงูููุทุฉ ุ ุฃู  ูู ูุชู ุชูุฑูุซ ูุญุชููุงุช ุงููุฌูุฏ <i>ุงููุฑุนู ุงููุฑุนู</i> . <br><br>  ูู ูุงุญูุฉ ุ ูุนุฏ ูุฐุง ุฃูุฑูุง ุฌูุฏูุง - ููุญู ูุฒูู ุงูููุทุฉ ูู ูุฌูุฏ ูุฑุนู ูุนูู ุ ููููุง ูุชุฏุงุฎูุฉ ูุง ุชูููุง.  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ุฅุฐุง ูุงูุช ููุทุฉ ูุชูุฑุฑุฉ ูุทููุจุฉ ุ ููู ูููู ูุฏู btrfs ุญูุงู ููุฐู ุงููุดููุฉ.  ุณูุชุนูู ุนูููุง ุงูุจุญุซ ุนู ุฌููุงุช ุงูุนูู. <br><br>  ูุณุชูุฏ ุงูุญู ุงูุฃูู ุฅูู ุญูููุฉ ุฃู ุงูููุทุฉ ูุฏ ุชูุช ุฅุฒุงูุชูุง ุฏูู ุฅุดุงุฑุฉ ูููุฑุงุกุฉ ููุท ุ ููุง ูุณูุญ ูู ุจุฅุตูุงุญ ุงููููู ุจูู ุจุณุงุทุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฒุงูุฉ ุงูุฏููู ุงูุฅุถุงูู ูู ุงูููุทุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">rmdir snap0/subA</code> </pre> <br></li><li style=";text-align:right;direction:rtl">  ุฅุฒุงูุฉ ุงูููุทุฉ ูู ูุฌูุฏ ูุฑุนู ูุชุฏุงุฎู <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs subvolume snapshot sub0/subA snap0/subA</code> </pre> <br></li></ul><br><img src="https://habrastorage.org/webt/ja/u3/fy/jau3fyzmzjxzxweajh-tmjld-iw.png"><br><br>  ุฅุฐุง ุชูุช ุฅุฒุงูุฉ ุงูููุทุฉ ุงูุชู ุชุญูู ุนูุงูุฉ ูููุฑุงุกุฉ ููุท ุ ููู ูุนูู ุงูุฎูุงุฑ ุฃุนูุงู ุ ูุฃู  ูู <i>snap0</i> ูุง ููููู ุญุฐู ุงูุฏููู ุฃู ูุถุน ููุทุฉ.  ููุงู ุฎูุงุฑ ูุงุญุฏ ููุท - ูุถุน ููุทุงุช ูู ููุงู ูุง ุจุงููุฑุจ ูู <i>ูุถุฎู ุตูุช</i> snap0: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs subvolume snapshot sub0/subA snapA</code> </pre> <br>  ุซู ูู ุจุชุญููู <i>snapA</i> ุฏุงุฎู <i>snap0 snaps0</i> ุ ุฏููู ูุฐุง ููุฌูุฏ ุจุงููุนู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mount -o subvol=snapA snap0/subA</code> </pre> <br><img src="https://habrastorage.org/webt/mu/-w/nn/mu-wnnj0jiyyinnxokz08nuipag.png"><br><br>  ูู ุฃู ุญุงู ุ ูู ุงูููู ุฃู ูููู ุฃู ุงูููุทุงุช ุงูุนูุฏูุฉ ุณูุชู ุชุตููุฑูุง ุฌููุนูุง ูู ุนูููุงุช ูุฎุชููุฉ ุ ูู ุฃููุงุช ูุฎุชููุฉ.  ูุง ูููู ุงูุญุฏูุซ ุนู ุฃู ุฅุฒุงูุฉ ุฐุฑูุฉ ูููุทุนุฉ ูู ุนุฏุฉ ูุฌูุฏุงุช ูุฑุนูุฉ. <br><br><h1 style=";text-align:right;direction:rtl">  ูุณุฎ ุนูู ุงููุชุงุจุฉ </h1><br>  ููููุง ุนู ููุงุฑุจุฉ ูุฑุนูุฉ ูููุฌ CoW.  ุชุฎูู ูุฌูุฏ ูุฌูุฏ ูุฑุนู ูู ูุธุงู ุงููููุงุช ูููู ููุฌูุฏ ููู (ุฎุฐ ุงูุญุงูุฉ ุงููุซุงููุฉ - ุงูููู ุบูุฑ ูุฌุฒุฃ).  ุจุนุฏ ุฐูู ุ ุชุชู ุฅุฒุงูุฉ ููุทุฉ ูู subwolly. <br><br><img src="https://habrastorage.org/webt/hg/yo/sl/hgyoslduv5eeenpopaqu3dk7qyw.png"><br><br>  ุณุชุธูุฑ ูุฌูุฏ ูุฑุนู ุฌุฏูุฏ (ููุทุฉ) ุนูู ูุธุงู ุงููููุงุช ุจููุณ ุงููุญุชูู ุชูุงููุง ูุซู ุงููุฌูุฏ ุงููุฑุนู ุงูุฃุตูู.  ุนูููุฉ ุฅูุดุงุก ููุทุฉ ููุฑูุฉ ุชูุฑูุจูุง - ูุง ูุชู ูุณุฎ ุจูุงูุงุช ุงูููู ููุณู.  ุจุฏูุงู ูู ุฐูู ุ ูุชู ุฅูุดุงุก ุจูุงูุงุช ุชุนุฑูู ุฅุถุงููุฉ ุ ูุชุตุจุญ ููุทุฉ ูุน ุงููุฌูุฏ ุงููุฑุนู ุงูุฃุตู ูู ูุงูู ุงูููู.  ูู ุงููุงูุน ุ ูุงู ููุงู ููู ูุงุญุฏ ููุท ุนูู ุงููุฑุต ุ ูููู ุงูุขู ููุชูู ุฅูู ูู ูู ุงููุฌูุฏ ุงููุฑุนู ูุงูููุทู. <br>  ุฅุฐุง ููุช ุงูุขู ุจุชุบููุฑ ุงูููู ูู ุงููุฌูุฏ ุงููุฑุนู ุ ููู ุชุคุซุฑ ุงูุชุบููุฑุงุช ุนูู ุงูููู ูู ุงูููุทุฉ.  ุฅุฐุง ูู ูุชู ุชุนููู ุนูุงูุฉ ุงููุฑุงุกุฉ ููุท ุนูุฏ ุฅูุดุงุก ุงูููุทุฉ ุ ููููู ุฃูุถูุง ุชุนุฏูู ุงูููู ุงูููุฌูุฏ ูู ุงูููุทุฉ. <br><br><img src="https://habrastorage.org/webt/7n/1e/0t/7n1e0tkdlxsuqkpjmtinix0yiys.png"><br><br>  ูู ุงููุงุญูุฉ ุงููููุฉ ุ ุนูุฏูุง ูุชู ุชุบููุฑ ุงูููู ุ ูุชู ุชุณุฌูู ูุฐู ุงูุชุบููุฑุงุช ููุท.  ูุฐูู ุณูุชู ุชุฎุฒูู ุงูููู ุงููุตุฏุฑ ุนูู ุงููุฑุต ุจุงูุฅุถุงูุฉ ุฅูู ุจุนุถ ุงูุฏูุชุง ุงูุชู ุชููุฒ ุงูููู ุงูุฃุตูู ุนู ุงูููู ุงููุนุฏู.  ุฅุฐุง ููุช ุจุญุฐู ุฃุญุฏ ุงููุฌูุฏุงุช ุงููุฑุนูุฉ (ูุนูู ุงูุซุงูู ููุทุฉ) ุ ูุณูุชู ูุณุญ ุงูุจูุงูุงุช ุงูุฒุงุฆุฏุฉ ุงูุชู ูู ูุนุฏ ูุณุชุฎุฏููุง ุฃู ุดุฎุต ูู ุงููุฑุต ุ ูุณูุธู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ููุท ูู ุงูููู ููุฌูุฏูุง ุนูู ุงููุฑุต (ูู ูุฌูุฉ ูุธุฑ ุงููุฌูุฏ ุงููุฑุนู ุงููุชุจูู). <br><br>  <i>ููุงุญุธุฉ ูุตูุฑุฉ</i> : ุนูุฏ ุงูุฅุฒุงูุฉ ุ ุณูู ูุฎุชูู ูุถุฎู ุงูุตูุช ูู ุฃุนูู ุงููุณุชุฎุฏู ุนูู ุงูููุฑ ุ ูุณูู ุชุนูุฏ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุงูุชุญูู ุฅูู ุงูุฌูุงุฒ ุ ููุน ุฐูู ุ ุณูุชู ุชูุธูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ุนูู ุงููุฑุต ุจูุงุณุทุฉ ุนูููุฉ ุงูุฎูููุฉ ูุจุนุถ ุงูููุช.  ููุฐุง ูู ุ ุนูู ุนูุณ ุฅุฒุงูุฉ ุฏููู ููุชุธู ุ ููุณุช ููุงู ุญุงุฌุฉ ูุงูุชุธุงุฑ ุงูุฅููุงู ุงููุนูู ูุนูููุฉ ุงูุญุฐู.  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงููุฒุงููุฉ ูุน ูุฐู ุงูุนูููุฉ ูุงูุชุธุฑ ุญุชู ุชูุชูู ุ ูููููู ุชุญุฏูุฏ <code>--commit-after</code> ุงูุชุจุฏูู <code>--commit-after</code> ุงุณุชุฏุนุงุก <b>ุงูุญุฐู</b> .  <b>ูุนุฑุถ</b> ุฃูุฑ <b>ูุงุฆูุฉ bvfs subvolume</b> ุ ุงูุฐู ุชู <b>ุงุณุชุฏุนุงุคู</b> ุจุงุณุชุฎุฏุงู ููุชุงุญ ุงูุชุจุฏูู <code>-d</code> ุ ูุงุฆูุฉ ุจุงููุฌูุฏุงุช ุงููุฑุนูุฉ ุงูุชู ุชู ุญุฐููุง ูู ูุจู ุงููุณุชุฎุฏู ููู ุญุงูููุง ูู ุนูููุฉ ุญุฐููุง ูู ุงููุฑุต. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุชูุญ ูู btrfs ุงุณุชูุณุงุฎ ุงููููุงุช ุนูู ูุธุงู ุงููููุงุช ุฏูู ุงููุฌูุก ุฅูู ููุทุงุช.  ูุชู ุฐูู ุนู ุทุฑูู ุงููุณุฎ ุงูููุชุธู ุจุงุณุชุฎุฏุงู <code>--reflink</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cp -ax --reflink=always /original/file /copied/file</code> </pre> <br>  ูุฎุจุฑ ุงูููุชุงุญ <code>reflink=always</code> ูุธุงู ุงููููุงุช ุงูุฐู ูุฑูุฏ ุงุณุชุฎุฏุงู ุขููุฉ CoW ุนูุฏ ุงููุณุฎ.  ุจุนุฏ ุงููุณุฎ ุ ูููู ุชุบููุฑ ุงููููุงุช ุจุดูู ูุณุชูู ุนู ุจุนุถูุง ุงูุจุนุถ ุ ุญุชู ูุญุตู ุนูู ููุณ ุงูุณููู ุจุนุฏ ุฅูุดุงุก ููุทุฉ.  ูููุงุฐุง ุฅุฐู ูุญุชุงุฌ ุฅูู ุฃุนูุฏุฉ ูุฑุนูุฉุ <br><br>  ุชูุนุจ ุงููุตุทูุญุงุช ุงููุฑุนูุฉ ุนูู btrfs ุฏูุฑ ุฃุฏุงุฉ ุชุญูู ุนุงููุฉ ุงููุณุชูู ููุฌููุนุงุช ุงูุจูุงูุงุช ุจุฃููููุง: ุฃููุงู ุ ุชุชู ุฅุฒุงูุฉ ุงูููุทุฉ ุงูุฐุฑูุฉ ูู ุฌููุน ุจูุงูุงุช ูุฌูุฏ ูุฑุนู (ูู ุญุงูุฉ - ุฅุนุงุฏุฉ ุฑุจุท atomicity ุนูู ูุณุชูู ุงูููู ููุท) ุ ูุซุงููุงู ุ ูู ุงููููู ุฑุคูุฉ ูู ูุชู ุชูุงุฑุซู ูู ุฃู "ุงุณุชุฑุฌุงุน" ูุฌููุนุฉ ุงูุจูุงูุงุช ุจุณุฑุนุฉ ุฅูู ุฅุตุฏุงุฑ ุณุงุจู ุ ุฅูุฎ. <br>  ูุจุงูุชุงูู ุ ุชููุฑ btrfs ุงููุฏุฑุฉ ุนูู ุงูุชูุงุท ุญุงูุงุช ุงูููู ูู ููุงุท ุงูููุช ุงููุฑุบูุจุฉ ุ ูุฐูู ุจุงุณุชุฎุฏุงู ูุญุฏุงุช ุงูุชุฎุฒูู ุงููุฑุนูุฉ ููุณููุฉ ุนุงููุฉ ุงููุณุชูู ูุฅุฏุงุฑุฉ ูุฐู ุงูุญุงูุงุช. <br><br><h1 style=";text-align:right;direction:rtl">  ุงูุงูุชุนุงุด ุงููุฑุนู </h1><br>  ูู ุงููุณุงุญุงุช ุงูุดุงุณุนุฉ ุ ูุทุฑุญ ุงูุณุคุงู ุบุงูุจูุง: "ูุฏู ูุถุฎู ุตูุช ุ ููุฏู ููุทุฉ ุณุฑูุนุฉ ุ ูููููุฉ ุนูู ุนูุณุ"  ูุฐุง ุงูููุฌ ูุง ููุทุจู ุนูู btrfs ุ ูุฃู  ููุณุช ููุงู ูุฑุตุฉ ู "ุฏุญุฑ ุงููุชููุฉ".  ุจุฏูุงู ูู ุฐูู ุ ุชูุฏู btrfs ุฅุณุชุฑุงุชูุฌูุฉ ูุงุณุชุจุฏุงู ุงููููุฉ ุงููุฑุนูุฉ ุจููุทุชูุง.  ูู ุงููุงูุน ุ ููุงุฐุง ุชุฑุฌุน ุดูุฆูุง ูุง ุ ุฅุฐุง ูุงูุช ุงูููุทุฉ ููุณูุง ูู ูุฐุง ุงููุงุฆู ุงูุฐู ูุฑูุฏ ุฃู ูุนูุฏ ุฅููู. <br><br>  ุชุฎูู ูุฐุง ุงูุณููุงุฑูู: ุนูู btrfs ููุฌุฏ ูุฌูุฏ ูุฑุนู ุชูุฌุฏ ุจู ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุฌูุฏูุง ุ ุฃู ุจูุงูุงุช ูููุฉ ุฃุฎุฑู).  ุชุชู ุฅุฒุงูุฉ ุงูููุทุงุช ุจุดูู ุฏูุฑู ูู ูุฐุง ุงููุฌูุฏ ุงููุฑุนู ุ ูููุงู ุญุงุฌุฉ ูู ุจุนุถ ุงูุฃุญูุงู ุฅูู ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชุฎูุต ุจุจุณุงุทุฉ ูู subwolum ููุจุฏุฃ ุจุฏูุงู ูู ุฐูู ูู ุงุณุชุฎุฏุงู ุงูููุทุฉ ุงููุฃุฎูุฐุฉ ููู ุ ุฃู - ุฅุฐุง ูู ูุฑุบุจ ูู ุฅูุณุงุฏ ูุฐู ุงูุจูุงูุงุช ุฃูุถูุง - ูุฅููุง ูุฒูู ููุทุฉ ุฃุฎุฑู ูู ุงูููุทุฉ.  ุฅุฐุง ูู ูุชู ุชุซุจูุช ุงูุนุงูู ุงููุฑุนู ุงูุฃุตูู ูุงุณุชุฎุฏุงูู ูุฏููู ุนุงุฏู ุ ููุฌุจ ุฅูุง ุญุฐูู ุฃู ูููู / ุฅุนุงุฏุฉ ุชุณููุชู ุ ููุฌุจ ูุถุน ููุทุฉ ูู ููุงูู. <br><br><img src="https://habrastorage.org/webt/sn/os/od/snosodoezxac3a-2s7xzmpqa-js.png"><br><br>  ูู ูุญุฏุฉ ุงูุชุญูู ุ ูุฏ ูุจุฏู ูุซู ูุฐุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุนุงุฏุฉ ุชุณููุฉ subwolly <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mv the_subvolume the_subvol.old</code> </pre> </li><li style=";text-align:right;direction:rtl">  ูุถุน ููุทุฉ ูู ูู ููุงู subvolume <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs subvolume snapshot the_snapshot the_subvolume</code> </pre> </li></ul><br>  ุฅุฐุง ุชู ุชุซุจูุช ุงููุฌูุฏ ุงููุฑุนู ูุงุณุชุฎุฏุงูู ูู ุฎูุงู ููุทุฉ ุงูุชุญููู ุ ูุณูููู ุฐูู ูุงูููุง ูุฅูุบุงุก ุชุซุจูุช ุงููุฌูุฏ ุงููุฑุนู ูุชุซุจูุช ููุทุฉ ูู ููุงูู. <br><br><img src="https://habrastorage.org/webt/4z/mi/sw/4zmisws4w5keyk7mhsr6eaav-ri.png"><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅูุบุงุก ุชุญููู ูุถุฎู ุงูุตูุช <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">umount /mnt/</code> </pre> </li><li style=";text-align:right;direction:rtl">  ููููู ุฅูุดุงุก ููุทุฉ ูู ููุทุฉ ุญุชู ูุง ุชูุณุฏ ุขุฎุฑ ุงูุจูุงูุงุช ุงููุชุจููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs subvolume snapshot /path/to/snapshot /path/to/snapshot_copy</code> </pre> </li><li style=";text-align:right;direction:rtl">  ุฌุจู ููุทุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mount -o subvol=path/to/snapshot_copy /mnt</code> </pre> </li></ul><br>  ูู ุฃุฌู ุงูุงูุชูุงู ุ ุณุฃุญุงูู ูุฑุฉ ุฃุฎุฑู ูุจุดูู ูุฎุชูู ููููุงู.  ุงููุฑุน ุงููุฑุนู ุงูุฐู ุชุญุฏุซ ููู ุงูุชุบููุฑุงุช ูู ุงููุฑุน <i>ุงูุฑุฆูุณู</i> . <br><br><img src="https://habrastorage.org/webt/gh/pt/m7/ghptm7ykmordfcur4bdddehng6c.jpeg"><br><br>  ุนูุฏ ุฅูุดุงุก ููุทุฉ ุ ูุชู ุฅุตูุงุญ ุญุงูุฉ ุงููููุงุช ุงูููุฌูุฏุฉ ุนูู ุงููุฑุต.  ูู ุงูุขู ูุตุงุนุฏุง ุ ููุทุฉ ูู ุบุฏุงุก ูู ุงููุฑุน <i>ุงูุฑุฆูุณู</i> .  ูู ุชุคุซุฑ ุฌููุน ุงูุชุบููุฑุงุช ุงูุฃุฎุฑู ุนูู <i>main</i> ุนูู ุงูููุทุฉ ุจุฃู ุดูู ูู ุงูุฃุดูุงู.  ุงูุนูุฏุฉ ุฅูู ุงูููุทุฉ ุชุนูู ุฅููุงู ุงุณุชุฎุฏุงู ุงููุฑุน <i>ุงูุฑุฆูุณู</i> ูุงูุชุญูู ุจุดูู ูุงูู ุฅูู ุงูุบุฏุงุก.  ูููู ุญุฐู ุงููุฑุน <i>ุงูุฑุฆูุณู</i> ุจุงุนุชุจุงุฑู ุบูุฑ ุถุฑูุฑู.  ูุจุงูุชุงูู ุ ูุฅู btrfs ูู ุนููููุง ูุธุงู ููุชุญูู ูู ุงูุฅุตุฏุงุฑ ุ ูููู ุจุฏูู ุงููุฏุฑุฉ ุนูู ุฏูุฌ ุงููุฑูุน ูุฑุฉ ุฃุฎุฑู. <br><br><h1 style=";text-align:right;direction:rtl">  ุดุฌุฑุฉ ูุธุงู ุงููููุงุช </h1><br>  ุชุชูุซู ุฅุญุฏู ุงูููุงุท ุบูุฑ ุงููุงุถุญุฉ ุงููุฑุชุจุทุฉ ุจุงุณุชุฎุฏุงู btrfs ูู ููููุฉ ุชูุณูู ุจูุงูุงุช ุงููุธุงู ุฅูู ูุฌูุฏ ูุฑุนู.  ุจุงูุทุจุน ุ ูุง ููุฌุฏ ููุฌ "ุตุญูุญ" ููุฐู ุงููุณุฃูุฉ.  ูููู ููุงู 3 ุทุฑู ูุชูุธูู ุจููุฉ ุงูุฌุฒุก ุงููุฑุนู: ุจููุฉ ูุณุทุญุฉ ุ ูุชุฏุงุฎูุฉ ููุฎุชูุทุฉ. <br><br>  ุจููุฉ ูุณุทุญุฉ ุชุนูู ุฃู ุงููุฌูุฏ ุงููุฑุนู ูุชู ูุถุนู ูู ูุงุฆูุฉ ูุณุทุญุฉ ูู ูุฌูุฏ ุงูุฌุฐุฑ ุงููุฑุนู.  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุชุญุฏูุฏ ุฌุฐุฑ ูุธุงู ุงููููุงุช (ุฏุนูุง ูุณููู <i>ุงูุฌุฐุฑ</i> ) ุ <i>ูููุฒู</i> ุฏููู ุงููุณุชุฎุฏู ุ ูุงูุฏููู ูุน ุงููููุน <i>/ var / www</i> ููุงุนุฏุฉ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ุนูู ุณุจูู ุงููุซุงู ูู <i>/ var / ูุงุนุฏุฉ ุงูุจูุงูุงุช</i> ููุฌูุฏุงุช ูุฑุนูุฉ ูููุตูุฉ. <br><br><img src="https://habrastorage.org/webt/ga/yp/ma/gaypma96_mzvjtlwjyh3atw5qgm.png"><br><br>  ููุฑุงุญุฉ ุ ูููู ูุถุน ุจุนุถ ุงูุฃุฌุฒุงุก ุงููุฑุนูุฉ ูู ุงูุฏูุงุฆู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุญุงูุฉ ุงููุฌูุฏ ุงููุฑุนู <i>var / www</i> . <br><br>  ูุน ูุฐุง ุงูููุฌ ุ ูุฌุจ ุฃู ูุชู ุชุซุจูุช ุฌููุน ุงูุฃุฌุฒุงุก ุงููุฑุนูุฉ.  ูุฌุจ ุฃู ูููู <i>ููุฌุฐุฑ</i> ุงููุฑุนู ููุทุฉ ุชุญููู / ุ ูููู ูุญุชูู ุนูู ุฃุฏูุฉ <i>ุงูููุฒู</i> ู <i>var</i> .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุชุฑููุจ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฌุฐุฑ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ ุงููุทู</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฌุจ ุฃู ูุชู ุชุซุจูุช sabvolyum </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุฒู</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ููู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ ูุงุฑ / ุนูู ุดุจูุฉ ุงูุงุชุตุงูุงุช ุงูุนุงูููุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ ูุงุฑ / databas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุฑูุฏ - sabvolyumy </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฑ / ุนูู ุดุจูุฉ ุงูุงุชุตุงูุงุช ุงูุนุงูููุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุนุฏุฉ ุงูุจูุงูุงุช</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุนูู ุงูุชูุงูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ูููู ุนุฑุถ ุดุฌุฑุฉ btrfs-subvolume ุจุดูู ุชุนุณูู ูู ูุธุงู ุงููููุงุช ุงูุธุงูุฑู ููุธุงู ุงูุชุดุบูู ุ ูููุงู ุจุงููุนู ูุง ูููู ูุฐูู.</font></font><br><br>  ุงูุงูุฌุงุจูุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุง ูุฑู ุงููุณุชุฎุฏู ุณูู ูุญุฏุฉ ูุฑุนูุฉ ูุซุจุชุฉ ุ </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุงูุณูู ุงุณุชุจุฏุงู ูุถุฎู ุงูุตูุช (ุฅูุบุงุก ุชุญููู ูุงุญุฏ ุ ุชุฑููุจ ุงูุขุฎุฑ) ุ </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุณููุฉ ูุฅุฒุงูุฉ ูุถุฎู ุงูุตูุช. </font></font><br></li></ul><br>  ุณูุจูุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุงูุณูู ุงูุฎูุท ุญูู ููุงู ุชุซุจูุชู ุ </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุงููุณุจุฉ ููู ูุฌูุฏ ูุฑุนู ุ ูุฌุจ ุฃู ูููู ููุงู ุฅุฏุฎุงู ูู fstab ุ ูุฅุฐุง ูุงู ููุงู "ุงุณุชุฑุฌุงุน" ูููุทุงุช ุ ููุฌุจ ุฃูุถูุง ุชุญุฏูุซ ุงูุฅุฏุฎุงูุงุช ุงูููุงุจูุฉ ูู fstab. </font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุชุฑุญ ุงูุจููุฉ ุงููุชุฏุงุฎูุฉ ูู ุงููุฌูุฏ ุงููุฑุนู ุงุณุชุฎุฏุงููุง ุจุณูุทูุง ูููุฌูุฏุงุช ุงููุฑุนูุฉ ุจุฏูุงู ูู ุจุนุถ ุงูุฃุฏูุฉ. </font></font><br><br><img src="https://habrastorage.org/webt/v2/41/e5/v241e5bwrguy3_f76frc2k3ygwk.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฐู ุงูุญุงูุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฌุฐุฑ ุงููุฑุนู ุ ูุง ููุฒู ุชุซุจูุช ุฃู ุดูุก ุขุฎุฑ.</font></font><br><br>  ุงูุงูุฌุงุจูุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฌููุน ุงูุฃุฌุฒุงุก ุงููุฑุนูุฉ ูุฑุฆูุฉ ุ ูุงููููู ุณูู ุงูุฅุฏุฑุงู ุ </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุง ุชุญุชุงุฌ ุฅูู ุชุญููู ุฃู ุดูุก ูุฑุฉ ุฃุฎุฑู ุ ูู ุดูุก ูุดุจู ูุธุงู ุงููููุงุช "ุงูุนุงุฏู". </font></font><br></li></ul><br>  ุณูุจูุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฌููุน ุงูุฃุฌุฒุงุก ุงููุฑุนูุฉ ูุฑุฆูุฉ ุ ูุฑุจูุง ูุฑุบุจ ุงูุจุนุถ ูู ุงูุงุฎุชุจุงุก ูู ุงููุณุชุฎุฏู ุ </font></font><br></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุงูุตุนุจ ุฅุฒุงูุฉ / ุงุณุชุจุฏุงู ุงููุงุฏูุฉ ุงููุฑุนูุฉ (ุณุจุจ ุฐูู ูู ุฐุฆุงุจ ูุฑุนูุฉ ูุชุฏุงุฎูุฉ). </font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุณููุง ุ ุงูููุฌ ุงูุซุงูุซ ูุฎุชูุท. </font><font style="vertical-align: inherit;">ุฃููุง ุชูุทูู ุนูู ูุฒูุฌ ูู ุงูุฃูููู ูุชุญููู ุฃูุตู ูุฏุฑ ูู ุงูููุงุฆุฏ ุนูู ุญุฏ ุณูุงุก. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ููู ุงููููู ุฃู ูุคุฏู ูุฐุง ุงูููุฌ ุงููุญุฏุฏ ุฅูู ุจููุฉ ูุนูุฏุฉ ูุตุนุจุฉ ุงูุชุบููุฑ ููุดูุดุฉ ูุน ุนุฏุฏ ูุจูุฑ ูู ุงูุฅุฏุฎุงูุงุช ูู fstab. </font><font style="vertical-align: inherit;">ูู ูุฐุง ูุชููู ุนูู </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑุตุงูุฉ</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุณุคูู ุงููุธุงู.</font></font><br><br><img src="https://habrastorage.org/webt/bv/qw/zv/bvqwzvl0wqspgvlaknnd3l9eyqo.png"><br><br><h1 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุถุงูุฉ / ุฅุฒุงูุฉ ุงููุฑุต ุ ูุงูุชูุงุฒู </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> btrfs ุชูุชุฎุฑ ุจูุธููุฉ ููุชุงุฒุฉ - ุงููุฏุฑุฉ ุนูู "ุฅุถุงูุฉ ุฃุฌูุฒุฉ ูุชูุฉ ุณุงุฎูุฉ" ูุจุงุดุฑุฉ ุฃุซูุงุก ุชุดุบูู ูุธุงู ุงููููุงุช: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs device add /path/to/device /path/to/btrfs</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃู ุญุฐู: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs device remove /path/to/device /path/to/btrfs</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูููุงุณุจุฉ ุ ูู ุงุณุชุฏุนุงุก / ุญุฐู ูุงุญุฏ ููููู ุชุญุฏูุฏ ุนุฏุฉ ุฃูุฑุงุต. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฑุฉ ุฃุฎุฑู ุ ุงููุณุงุฑ ุงููุญุฏุฏ ูู ุงููุณุงุฑ ูุฃู ูุฌูุฏ ูุฑุนู ูู btrfs ุงูุฐู ุณูุชู ุชุทุจูู ุงูุฃูุฑ ุนููู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุนูุง ูุชุญูู ูู ุนุฏุฏ ุงูุฃุฌูุฒุฉ ุงูุชู ุชุญุธุฑูุง ูุงูุชู ุชุณูุทุฑ ุนูููุง btrfs:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs filesystem show /path/to/btrfs Label: none uuid: 52961dda-df84-4e2d-9727-e93e7738df81       Total devices 2 FS bytes used 192.00KiB       devid  1 size 20.00GiB used 132.00MiB path /dev/sdc       devid  2 size 50.00GiB used 0.00B path /dev/sdd</code> </pre><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฎุจุฑูุง 0.00B</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุงูุญูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุณุชุฎุฏู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃู ุงููุฑุต ุงููุถุงูุฉ ูุงุฑุบ. </font><font style="vertical-align: inherit;">ูููุก ุงูุจูุงูุงุช ููููุง ูููู ุชุนุฑูู ุงูุชุณุฌูู ุ ูุฌุจ ุนููู ุงูุชูุงุฒู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs balance start /path/to/btrfs</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃูุฑ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฑุตูุฏ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุฅุนุงุฏุฉ ุชูุฒูุน ุงูุจูุงูุงุช ุนูู ุงูุฃูุฑุงุต ููููุง ูููู ุชุนุฑูู ุงูุชุณุฌูู ุงููุญุฏุฏ. ุนูู ุณุจูู ุงููุซุงู ุ ูู ุญุงูุฉ RAID1 ุ ุณูุคุฏู ุงูุฑุตูุฏ ุฅูู ุงุณุชูุณุงุฎ ุงูุจูุงูุงุช ูู ุงูุฌูุงุฒ ุงูุฃุตูู ุ ููู ุญุงูุฉ RAID0 ุ ุณูุคุฏู ุฐูู ุฅูู ุชูุฒูุน ุฃูุซุฑ ุนุฏูุงู ููุจูุงูุงุช ุนุจุฑ ูุฑุตูู ุ ุฅูุฎ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชูุฌุฉ ููุชูุงุฒู ุ ุฅุฐุง ูุงูุช ููุงู ูุฑุงุบุงุช ุนูู ุงููุฑุต ูุจู ุฐูู ุ ูุณูุชู ูุชุงุจุฉ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ุนูู ุงููุฑุต ุจุทุฑููุฉ ุฃูุซุฑ ูุซุงูุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุณูู ุฅูุบุงุก ุงูุชุฌุฒุฆุฉ ุชุชุญูู. ููุน ุฐูู ุ ูู ุงูููู ุฃู ูููู ุฃู ูุฐุง ููุณ ุจุงูุถุจุท "ูุฐุง" ุฅูุบุงุก ุงูุชุฌุฒุฆุฉ. ูู ูุฐู ุงูุญุงูุฉ ุ </font><font style="vertical-align: inherit;">ูุง ููุธุฑ </font><font style="vertical-align: inherit;">ุฃูุฑ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฑุตูุฏ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูู ุงููุญุชูู ุงูููุทูู ุ ููููู ูุนูู ููุท ุนูู ูุชู ุงูุจูุงูุงุช. ุฅููุง ูุง ุชููู ุงูุชูุงูุง ูุญูููุฉ ุฃู ุฃู ููู ููุชุดุฑ ุนูู ุงููุฑุต. ุจุฏูุงู ูู ุฐูู ุ ูููู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชูุงุฒู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจููู ูุชู ุงูุจูุงูุงุช ูู ููุงู ุฅูู ุขุฎุฑ.</font></font> ุฃู<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุจูู ููู ูุฌุฒุฃ ููุชูุงุฒู ูุฌุฒุฃ ุจุนุฏู. ูููู! ุณุชุธู ุงูุชุฌุฒุฆุฉ ุนูู ูุณุชูู ูุชู ุงูุจูุงูุงุช ุชูุฎูุถ ุ ููููู ุงุณุชุฎุฏุงู ูุฐุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุฌูุจ ุงูุงุฑุชุจุงู ุ ุฏุนูุง ูููู ูุฐุง: ุนูููุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชูุงุฒู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชููู ูู ุชุฌุฒุฆุฉ ุนูู ูุณุชูู ูุชู ุงูุจูุงูุงุช ุ ููููุง ูุง ุชุคุซุฑ ุนูู ุชุฌุฒุฆุฉ ุงูููู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุถูุง ุ </font><font style="vertical-align: inherit;">ูููุฑ </font><font style="vertical-align: inherit;">ุงูุฃูุฑ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">balance</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅููุงููุฉ ุชุบููุฑ ููู ุชุนุฑูู ุงูุชุณุฌูู. ุนูู ุณุจูู ุงููุซุงู ุ ุชู ุงุณุชุฎุฏุงู ููู ุชุนุฑูู DUP ุนูู ุงููุฑุต ุ ูุจุนุฏ ุฅุถุงูุฉ ุงููุฑุต ูุฑุฑูุง ุฌุนู RAID1 ุงููุงูู. ููููุงู ุจุฐูู ุ ุงุณุชุฎุฏู ุนุงูู ุงูุชุตููุฉ </font></font><code>convert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs balance start -dconvert=raid1 -mconvert=raid1 /path/to/btrfs</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงุณุชุฎุฏุงู ุงูุฎูุงุฑ ูุงูุฎูุงุฑุงุช </font></font><code>-dconvert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>-mconvert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุชุนููู ูููุงุช ุชุนุฑูู ุงูุณุฌูุงุช ุงูุฌุฏูุฏุฉ ููุจูุงูุงุช ูุงูุจูุงูุงุช ุงููุตููุฉ ุ ุนูู ุงูุชูุงูู. </font><font style="vertical-align: inherit;">ููุฌุฏ ุฃูุถูุง ุฎูุงุฑ -sconvert ุ ุงููุตูู ูุชุบููุฑ ููู ุชุนุฑูู ูุชุงุจุฉ ุจูุงูุงุช ุงููุธุงู ุ ููุน ุฐูู ุ ุณูููู ุนููู ุฃูุถูุง ุฅุถุงูุฉ ููุชุงุญ ุงูุชุจุฏูู -f (- ุงูููุฉ) ูุฅุฌุจุงุฑ ุงูุนูููุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุดูู ุนุงู ุ ุงูุบุฑุถ ุงูุฑุฆูุณู ูู ุงููุฑุดุญุงุช ูู ูุถุน ููุงุนุฏ ูุนูููุฉ ุงูุชูุงุฒู: ุฃู ูุชู ูุฌุจ ูุนุงูุฌุชูุง ูููุณ ููุณูุง. </font><font style="vertical-align: inherit;">ูุฐูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ููููู ููุท ุงูุชุฃุซูุฑ ุนูู ุงููุชู ุงููุณุฌูุฉ ุจููู ุชุนุฑูู ุชุณุฌูู ูุญุฏุฏ (ูููุงุช ุชุฎุตูุต ุงูููุชุฑ) ุ ุฃู ุงููุชู ุงููุดุบููุฉ ุฃุนูู ูู ูุณุจุฉ ูุนููุฉ (ูุฑุดุญ ุงูุงุณุชุฎุฏุงู) ุ ุฃู ููููู ุงูุชุฃุซูุฑ ููุท ุนูู ูุฌููุนุงุช ุงููุชู ุงููุฑุชุจุทุฉ ุจูุฑุต ูุนูู (ุนุงูู ุงูุชุตููุฉ devid) ุ ุฅูุฎ. </font><font style="vertical-align: inherit;">ุจุงูููุงุณุจุฉ ุ ูุง ูุฒุงู ูู ุงููููู ุงูุฌูุน ุจููููุง. </font><font style="vertical-align: inherit;">ุจุดูู ุนุงู ุ ูุฏุฑุงุช ุงููุฑุดุญุงุช ูุงุณุนุฉ ููุบุงูุฉ ููู ุถุฑูุฑูุฉ ุจุดูู ุฃุณุงุณู ูุฅุฌุฑุงุก ุชูุงุฒู ุงูุชูุงุฆู ููุจูุงูุงุช.</font></font><br><br><h1 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุฌุฒุฆุฉ </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณูุก ุงูุญุธ ุ ูุฅู btrfs ุ ุจุณุจุจ ุจููุชูุง ุงููุนูุงุฑูุฉ ุ ูุนุฑุถุฉ ููุบุงูุฉ ูุธุงูุฑุฉ ูุซู ุงูุชุฌุฒุฆุฉ. </font><font style="vertical-align: inherit;">ุงูุญูููุฉ ูู ุฃู ุงูุจูุงูุงุช ุชุชู ูุชุงุจุชูุง ุฏุงุฆููุง ุฅูู ูููุน ุฌุฏูุฏ ุนูู ุงููุฑุต. </font><font style="vertical-align: inherit;">ุญุชู ุฅุฐุง ููุช ุชูุฑุฃ ุงูููู ุ ูุง ุชูุนู ุดูุฆูุง ูุน ุงูุจูุงูุงุช ูุชูุชุจู ูุฑุฉ ุฃุฎุฑู ุฅูู ููุณ ุงูููู ุ ูุณุชูุชูู ุงูุจูุงูุงุช ุฅูู ููุทูุฉ ุฌุฏูุฏุฉ ุนูู ุงููุฑุต. </font><font style="vertical-align: inherit;">ูุญุฏุซ ุงูุดูุก ููุณู ุฅุฐุง ููุช ุจุชุญุฏูุซ ุงูุจูุงูุงุช ูู ุงูููู ุฌุฒุฆููุง ููุท - ุชุชู ูุชุงุจุฉ ุงูุชุบููุฑุงุช ูู ููุทูุฉ ุฌุฏูุฏุฉ ุนูู ุงููุฑุต. </font><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ูุฅู ุงูุชุบููุฑุงุช ุงููุชูุฑุฑุฉ ูู ุฃุฌุฒุงุก ุงููููุงุช ุชููู ูููุฉ ููุบุงูุฉ ุ ููุง ูุฒูุฏ ูู "ุชุดุชุช" ุงูุฃุฌุฒุงุก ุ ูู ุงูุญุงูุฉ ุงูุนุงูุฉ ุ ุนุจุฑ ุนุฏุฉ ุฃูุฑุงุต. </font><font style="vertical-align: inherit;">ูุฐุง ูุคุฏู ุฅูู ุฒูุงุฏุฉ ุงูุญูู ุนูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุงุณุชููุงู ุงูุฐุงูุฑุฉ ุบูุฑ ุงูุถุฑูุฑูุฉ. </font><font style="vertical-align: inherit;">ุงูุฃูุซุฑ ุชุฌุฒุฆุฉ ูู ููุงุนุฏ ุงูุจูุงูุงุช ูุงูุตูุฑ ุงูุฌูุงุฒ ุงูุธุงูุฑู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู ุชูููู ุชุฌุฒุฆุฉ ุงูููู ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filefrag</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ุบูุฑ ูุฏุฑุฌุฉ ูู btrfs-progs). </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">filefrag /path/to/your/file</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุถุญ ุนุฏุฏ ุงููุทุงูุงุช ุงููุณุชุฎุฏูุฉ ูุชุฎุฒูู ุงูููู. </font><font style="vertical-align: inherit;">ุจุจุณุงุทุฉ - ูููุง ูุงู ุนุฏุฏ ุงููุฑุงุช ุฃูู ุ ูููุง ูุงู ุงูููู ุฃูู ุชุฌุฒุฆุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ุทุฑููุชุงู ูููุงูุญุฉ ุงูุชุฌุฒุฆุฉ ุนูู btrfs: ุฅูุบุงุก ุงูุชุฌุฒุฆุฉ ูุงูุนูู </font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุชุทุจูู ุฅูุบุงุก ุงูุชุฌุฒุฆุฉ ุนูู ููู ูุงุญุฏ ุฃู ูุฌูุฏ ูุฑุนู / ุฏููู ุ ุจูุง ูู ุฐูู ุจุดูู ูุชูุฑุฑ. </font><font style="vertical-align: inherit;">ุงูุฃูุฑ ููุง ููู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs filesystem defragment /path/to/file/or/dir</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฌุจ ุฃู ุฃููู ุฅู ูุฐุง ุงููุฑูู ูุง ูุคุฏู ุฏุงุฆููุง ุฅูู ุงููุชุงุฆุฌ ุงููุชููุนุฉ. </font><font style="vertical-align: inherit;">ูููู ุชูุณูู ุงููููุงุช ุงูุตุบูุฑุฉ ูุงููุฌุฒุฃุฉ ููููุงู (10-20 ูุทุงูุงุช) ุจุนุฏ ุฅูุบุงุก ุงูุชุฌุฒุฆุฉ ุฅูู ุฃุฌุฒุงุก ุฃูุซุฑ. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุคุฏู ุฅูุบุงุก ุชุฌุฒุฆุฉ btrfs ุนูู ุจุนุถ ุฅุตุฏุงุฑุงุช kernel ุฅูู ูุณุฑ ุฅูุบุงุก ุงูุจูุงูุงุช ุงูููุฑุฑุฉ ูููููุงุช ุ ููุง ูุฌุนููุง ูุณุฎูุง ูุนููุฉ ุญููููุฉ.</font></font> ุฃู<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูู ุชุตุจุญ ููุทุงุช ุนูู ุงููุณุชูู ุงููุงุฏู ูุณุฎูุง ูุงููุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุทุฑููุฉ ุงูุซุงููุฉ ูููุงูุญุฉ ุงูุชุฌุฒุค ูู ุณูุฉ ุงูููู </font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">chattr +C /path/to/file</code> </pre> <br><font style="vertical-align: inherit;"></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูููู ุถุจุท </font><font style="vertical-align: inherit;">ุงูุณูุฉ </font><font style="vertical-align: inherit;">ุฅูุง ุนูู ููู ุฌุฏูุฏ ุฃู ูุงุฑุบ. </font><font style="vertical-align: inherit;">ูููู ุจุชุนุทูู ุขููุฉ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุณุฎ ุนูุฏ ุงููุชุงุจุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูุฐูู ุณุชุนูู btrfs ุฏุงุฆููุง ูุน ููุทูุฉ ูุฑุต ุซุงุจุชุฉ ุนูุฏ ุชุญุฏูุซ ูุญุชููุงุช ุงูููู ุ ููุชุงุจุฉ ุงูุจูุงูุงุช ุนูู ุงููุญุชููุงุช ุงูููุฌูุฏุฉ (ุนูู ุงููุณุชูู ุงููุนูู). </font><font style="vertical-align: inherit;">ูู ุงูุณูุจูุงุช </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nocow</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ูุฅูู ูุนุทู ุฃูุถุง ุงูุชุญูู ูู ุงููุฌููุน ุงูุงุฎุชุจุงุฑู ููุฐุง ุงูููู. </font><font style="vertical-align: inherit;">ูุจุนุจุงุฑุฉ ุฃุฎุฑู ุ ูุง ุจูุฑุฉ - ูุง ุงูุงุฎุชุจุงุฑู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุทุจุน ุ ูู ุจุชุนููู ุงูุณูุฉ ูุฏูููุง</font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ููู ูู ูููุฉ ูุงูุฑ ููุฌููู. ุฅุฐุง ุชู ุชุนููู ุนูุงูุฉ ุงูุฏููู / ุงููุฌูุฏ ุงููุฑุนู ุ ูุฅู ูู ุงููููุงุช ุงูุฌุฏูุฏุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ููู ุณุชุฑุซ ุงูุนูุงูุฉ ุชููุงุฆููุง. ููุทุจู ุงูุดูุก ููุณู ุนูู ุงูุฏูุงุฆู ุงููุชุฏุงุฎูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง. ุฅุฐุง ูุงูุช ุงูุณูุฉ ูู ุญุงูุฉ ุชุดุบูู ุฃู ุจูุงูุงุช ููุฌูุฏุฉ ุจุงููุนู ูู ุงูุฏููู ุ ููู ูุคุซุฑ ุฐูู ุนูููุง ุจุฃู ุทุฑููุฉ - </font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูููู ุชุนููู </font><font style="vertical-align: inherit;">ุงูุณูุฉ </font><font style="vertical-align: inherit;">ุฅูุง ุนูู ููู ุฌุฏูุฏ ุฃู ูุงุฑุบ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุงู ุทุฑููุฉ ุฃุฎุฑู ูุชุนููู ุงูุนูุงูุฉ ุชููุงุฆููุง </font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ุชุซุจูุช ูุธุงู ุงููููุงุช ุจุงุณุชุฎุฏุงู ุงูุฎูุงุฑ </font></font><code>nodatacow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mount -o subvol=path/to/subvol,nodatacow /dev/sdXX /path/to/mountpoint</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุคุฏู ูุฐุง ุงูุฎูุงุฑ ุฅูู ุฎูุงุฑ ุงูุงุชุตุงู ุชููุงุฆููุง </font></font><code>nodatasum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุจุญูุซ ูุง ูุชู ุงุญุชุณุงุจ ุงููุฌููุน ุงูุงุฎุชุจุงุฑู ูููููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ุญุฏูุซูุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุนุงุฏุฉ ุ ููุงู ูุงุฑู ุจุณูุท: ูุง ููููู ุชุฑููุจ ูุถุฎู ุตูุช ูุงุญุฏ ููุท ูุน ูุฌูุฏ ุฎูุงุฑ </font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุฅูุง ุฃู ุฌููุน ุงููุฌูุฏุงุช ุงููุฑุนูุฉ ุณูููู ููุง ุฎูุงุฑ </font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุฃู ูุง ุดูุก. ูุชู ุชุญุฏูุฏ ูู ุดูุก ูู ุฎูุงู ุงููุฌูุฏ ุงููุฑุนู ุงูุฃูู ุงูููุซุจุช: ุฅุฐุง ูุงู ูุฏูู ุฎูุงุฑ ูุญุฏุฏ </font></font><code>nodatacow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font><font style="vertical-align: inherit;">ูุณุชุชููุฑ ุฌููุน ุนูููุงุช ุงูุชุซุจูุช </font><font style="vertical-align: inherit;">ุงููุงุญูุฉ ูุน ูุฐุง ุงูุฎูุงุฑ ุชููุงุฆููุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุดุฃ ูุญุธุฉ ุบูุฑ ูุงุถุญุฉ ุฅุฐุง ูุถุนุช ุนูุงูุฉ ุนูู ููู </font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุช ุจุฅุฒุงูุฉ ุงูููุทุฉ ูู ุงููุฌูุฏ ุงููุฑุนู ุงูุฐู ููุฌุฏ ุจู ูุฐุง ุงูููู. ูู ูุฐู ุงูุญุงูุฉ ุ ูุชุฌุงูู btrfs ุงูุนูุงูุฉ </font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ุฃุดุงุฑ ุฃูุซุฑ ูู ูุฌูุฏ ูุฑุนู ุฅูู ูุชูุฉ ุงูุจูุงูุงุช ุงููุญุฏูุซุฉ. ูุฐูู ุ ุนูู ุงูุฑุบู ูู ุงูุนูู</font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ุจุงูููุงุณุจุฉ ุ ุณูุฑุซ ุงูููู ุฃูุถูุง ูู ุงูููุทุฉ) ุ ุณุชูุชูู ุงูุชุบููุฑุงุช ุนูู ุฃู ูู ุงููููุงุช ุฅูู ููุทูุฉ ุฌุฏูุฏุฉ ุนูู ุงููุฑุต ุ ูุณูุตุจุญ ุงูููู ูุฌุฒุฃูุง ูุฑุฉ ุฃุฎุฑู. </font><font style="vertical-align: inherit;">ุฅุฐุง ุชู ุชุญุฏูุซ ูุชูุฉ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู ุงูููู ุนุฏุฉ ูุฑุงุช ุ ูุนูุฏูุง ุณุชูุน ุฃูู ูุฑุฉ ูู ููุทูุฉ ุฌุฏูุฏุฉ ุนูู ุงููุฑุต ุ ูุณูุชู ุชุญุฏูุซูุง ูู ูุฐู ุงูููุทูุฉ ุงูุฌุฏูุฏุฉ "ูู ููุงููุง" ูุน ุงูุฅุฏุฎุงูุงุช ุงููุงุญูุฉ.</font></font><br><br><h1 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุญูู ูุงููุดู </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนูุฏ ุงุณุชุฎุฏุงู btrfs-progs ุ ููููู ุญุฐู ุงูุงุณู ุงููุงูู ููุฃูุฑ: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs sub cre = btrfs subvolume create</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููู ูุฌุฑุฏ ูุตุงุฏูุฉ ุงูุฃุญุฑู ุงูุฃููู ุงูุชู ุชุญุฏุฏ ุงูุฃูุฑ ุจุดูู ูุฑูุฏ: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">su = subvolume, fi = filesystem, ba = balance, de = device;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุนุชูุฏ ุฃู ุงููุจุฏุฃ ูุงุถุญ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฃุณู ุ ูุง ูููู btrfs ุฅูุดุงุก ููุทุฉ ูู ุงูุฏููู ุ ูููู ููุงู ุญู ุจุฏูู:</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูุดุงุก ูุฌูุฏ ูุฑุนู </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfs subvolume create ./subvol</code> </pre> </li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุณุฎ ุงููููุงุช ูู ุงูุฏููู ุฅูู ุงููุฌูุฏ ุงููุฑุนู: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cp -ax --reflink=always your/dir/. ./subvol</code> </pre> <br><font style="vertical-align: inherit;"></font><code>reflink=always</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุณุชุฎุฏู </font><font style="vertical-align: inherit;">ุงูููุชุงุญ </font><font style="vertical-align: inherit;">ุขููุฉ CoW ุ ุฃู </font><font style="vertical-align: inherit;">ูู ูุชู ูุณุฎ ุงูุจูุงูุงุช ุ ูููู ุณูุชู ุฅูุดุงุก ุฑูุงุจุท ููุง ุนูู btrfs ุฐุงุช ุงููุณุชูู ุงูููุฎูุถ.</font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญุชูู ุงูุนุงูู ุงููุฑุนู ุงูุขู ุนูู ุฌููุน ุงููููุงุช ุงูููุฌูุฏุฉ ูู ุงูุฏููู ุ ูููููู ุฅุฒุงูุฉ ุงูููุทุฉ ููู. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง </font></font><code>nocow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู ุชุนููู </font><font style="vertical-align: inherit;">ุงูุณูุฉ ุฅูู </font><font style="vertical-align: inherit;">ููู ุจูุงูุงุช ููุฌูุฏ. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ููููู ุงูุฐูุงุจ ุจุงูุทุฑููุฉ ุงูุชุงููุฉ:</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูุดุงุก ููู ูุงุฑุบ </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">touch nocowfile</code> </pre> </li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุถุนู ุงูุนูู </font></font><code>nocow</code> </li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุฎุตูุต ูุณุงุญุฉ ุงููุฑุต ูููู ุฌุฏูุฏ </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">fallocate -l10g nocowfile</code> </pre> </li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุณุฎ ูุญุชููุงุช ููู ููุฌูุฏ ุฅูู </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cp -v oldcowfile nocowfile</code> </pre> </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ููุฏุช ูุณุงุญุฉ btrfs ุ ููุฏ ูุคุฏู ุญุฐู ููู ุฅูู ุญุฏูุซ ุฎุทุฃ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"ูุง ุชูุฌุฏ ูุณุงุญุฉ ุนูู ุงูุฌูุงุฒ"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุจุงููุณุจุฉ ููุญู ุ ููุตู ุจุชูุตูู ูุญุฑู ุฃูุฑุงุต ูุคูุช ุจุฃุญุฌุงู ูุง ุชูู ุนู 1 ุฌูุฌุง ุจุงูุช ุฅูู btrfs. </font><font style="vertical-align: inherit;">ุซู ูู ุจุชูุธูู ุงูุจูุงูุงุช. </font><font style="vertical-align: inherit;">ุซู ูู ุจุฅุฒุงูุฉ ูุญุฑู ุงูุฃูุฑุงุต ุงููุคูุช. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูููุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชูุงุฒู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูุงููุงุฌูุฉ ุนู ุฏูู ุชุณุฌูู ููุงูุญุ ูุถููุง ุชุบููุฑูุง ูุน </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุญุฒุจ ุงูุงุชุญุงุฏู ุงูุฏูููุฑุงุทู</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAID1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุง ุ ุจุงูููุงุณุจุฉ ุ ูู ููุชูุจ ุนูู ุตูุญุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gotchas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุญุฏุซ ูุฐุง ุจุนุฏ ุฅุถุงูุฉ ุฅูู btrfs ุงููุฑุตุ ูุงูุฐู ูุณุชุฎุฏู ูุชุณุฌูู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุญุฒุจ ุงูุงุชุญุงุฏู ุงูุฏูููุฑุงุทู</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑูู ุจุฃู ุชูุณูู ูุญุฑู ูุงุญุฏ ูู ูููู btrfs ูุณุชุฎุฏู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุญุฒุจ ุงูุงุชุญุงุฏู ุงูุฏูููุฑุงุทู</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุจูุงูุงุช ุงูููููุฉ ุงูุงูุชุฑุงุถูุฉ ููุธุงู.</font></font><br><br><h1 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฑุจูุง ุงูุฃูู </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฌูุจ ุฅูุดุงุก ุงุณุชูุณุงุฎ ููุฎูุถ ุงููุณุชูู ูุฃุฌูุฒุฉ ุงููุชู ุจุงุณุชุฎุฏุงู btrfs. ูููู ูุธุงู ูููุงุช "ุฐูู" ุ ุจุงููุณุจุฉ ูุจุนุถ ุงูุนูููุงุช (ูู ูุนุธู ุงูุฃุญูุงู ุ ุนูุฏ ุงูุชุซุจูุช) ุ ูุนูุฏ btrfs ูุฑุงุกุฉ ุจูุงูุงุช ุงููุธุงู ุนูู ุฃุฌูุฒุฉ ุงููุชูุฉ ููุนุซูุฑ ุนูู ุฌููุน ุฃุฌุฒุงุก ูุธุงู ุงููููุงุช. ุฅุฐุง ุชู ุงูุนุซูุฑ ุนูู ุฌูุงุฒู ูุชูุฉ ูุน ููุณ UUIDs ูู ุนูููุฉ ุงูุจุญุซ ุ ูุณููุจู btrfs ูุฐู ุงูุฃุฌูุฒุฉ ูุฌุฒุก ูู ููุณ ุงููุซูู. ููุน ุฐูู ุ ุฅุฐุง ุชุจูู ุฃู ูุฐูู ุงูุฌูุงุฒูู ูู ุงูุฃุตู ูุงุณุชูุณุงุฎู ุ ูุจุนุฏ ุชุซุจูุช ุจุฑูุงูุฌ ุงูุชุดุบูู ูุญุฏู ูุนุฑู ููู ุณูุนูู ูุธุงู ุงููููุงุช ุ ูููู ูู ุงููุงุถุญ ุฃู ูุฐุง ูู ููุชูู ุจุฃู ุดูุก ุฌูุฏ. ูู ุฃุณูุฃ ุงูุญุงูุงุช ุ ุณูุคุฏู ุฐูู ุฅูู ุชูู ุจูุงูุงุช ูุง ุฑุฌุนุฉ ููู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ููุช ุชุฑูุฏ ุญููุง ุงุณุชูุณุงุฎ ุงูุฃูุฑุงุต ุจุงุณุชุฎุฏุงู btrfs ุจุทุฑููุฉ ููุฎูุถุฉ ุงููุณุชูู ุ ููุฌุจ ุชูุฎู ุงูุญุฐุฑ ุงูุดุฏูุฏ. </font><font style="vertical-align: inherit;">ุจุดูู ุนุงู ุ ูุง ููุจุบู ุฃู ูููู ุงูุงุณุชูุณุงุฎ ูุฑุฆููุง ูู kernel OS ูุฌูุงุฒ ูุชูุฉ ุฃุซูุงุก ูุฌูุฏ ุงูุฃุตู ูู ุงููุธุงู ุ ูุงูุนูุณ ุตุญูุญ. </font><font style="vertical-align: inherit;">ุฅุฐุง ุชููุฑ ูุฐุง ุงูุดุฑุท ุ ููููู ุชุบููุฑ UUID ุงูุฎุงุต ุจุงูุงุณุชูุณุงุฎ (ุฌูุฏูุง ุ ุฃู ุงูุฃุตูู ุ ููุง ุงุฎุชูุงุฑู). </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณุชุณุงุนุฏ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ </font><b><font style="vertical-align: inherit;">btrfstune</font></b><font style="vertical-align: inherit;"> ุงูุชู ุชุฃุชู ูุน ุญุฒูุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">btrfs-progs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">btrfstune -u /path/to/device</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฑุฉ ุฃุฎุฑู: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">btrfstune</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูููู ุฃุฏุงุฉ ูุณุงุนุฏุฉ "ุฐููุฉ" ุ ุณูุบูุฑ UUID ููุณ ููุท ุนูู ุงููุฑุต ุ ูููู ุนูู ูุธุงู ุงููููุงุช ุจุงููุงูู. </font><font style="vertical-align: inherit;">ูุฐุง ูุนูู ุฃูู ุนูุฏ ุงูุงุชุตุงู ุ ุณุชููู ุจูุฑุงุกุฉ ุฌููุน ุฃุฌูุฒุฉ ุงููุชูุฉ ูู ุฃุฌู ุงุณุชุจุฏุงู UUID ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ ุงููุชุนููุฉ ุจูุธุงู ุงููููุงุช.</font></font><br><br><h1 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุฏูุง ูู ุงูุงุณุชูุชุงุฌ </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ููุช ูุง ุชููู ุดูุฆูุง ูู ูุฐู ุงููุญุธุฉ - ููุฐุง ุฃูุฑ ุทุจูุนู. Btrfs ุบูุฑ ุชุงููุฉ ููุฏ ูุง ุชุณุชุณูู ุนูู ุงูููุฑ. ูู ูู ูุฑุฉ ูุจุฏู ูู ุฃููู ุงูุขู ูููุชูุง ุ ูุงูุช ุชูุงุฌุฆูุง ูุฌุนูุชูุง ุชุนูุฏ ุงูุชูููุฑ ูู ุงูุฃุดูุงุก ุงููุงุฆูุฉ. ูุง ุฃุณุชุทูุน ุฃู ุฃููู ุฅููู ูููุช ูู ุดูุก ูู ุงูููุช ุงูุญุงูู - ุฃุซูุงุก ุนูููุฉ ุงููุชุงุจุฉ ุ ูุฌุฏุช ุดูุฆูุง ุฌุฏูุฏูุง ุ ุฑุบู ุฃููู ูุชุจุช ุจุงููุนู ุนูู ุฃุณุงุณ ุชุฌุฑุจุชู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุฏ ุฃู ุฃูุงุฑู ุนูููุฉ ุฅุชูุงู btrfs ูุน ุงูุงูุชูุงู ูู ุฃุณููุจ ุงูุจุฑูุฌุฉ ุงูุฅุฌุฑุงุฆู ุฅูู ุงูุฃุณููุจ ุงูููุฌู ูููุงุฆูุงุช. ุงูุงูุทุจุงุน ุงูุฃูู ูู "ูุฌุงุญ ุจุงูุฑ ุ ูู ูู ุฑุงุฆุน" ุ ูููู ุจุนุฏ ุฐูู ุชุณุชูุฑ ูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฅุฌุฑุงุฆูุฉ ูููููุฉ ูู ุงููุตูู ุงูุฏุฑุงุณูุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูููุงู ุ ุญุงููุช ุนุฏู ุณูุจ ุงููุงุก - ููุชุงุจุฉ ูู ุดูุก ุนู ุงููุถูุฉ. </font><font style="vertical-align: inherit;">ุนูู ุงูุฑุบู ูู ูุฐุง ุ ุงุชุถุญ ุจุดูู ูุจูุฑ. </font><font style="vertical-align: inherit;">ูููู ุฃุจุนุฏ ูุง ูููู ุนู ูู ุดูุก ูุงู ูู ุงููููู ุฃู ูููู - ูุง ูุฒุงู ุจุฅููุงูู ุงููุชุงุจุฉ ูุงููุชุงุจุฉ ุนู btrfs. </font><font style="vertical-align: inherit;">ูุฐุง ุงูููุงู ูู ูุฌุฑุฏ ุบูุถ ูู ููุถ. </font><font style="vertical-align: inherit;">ุงูุจุฏุงูุฉ ูู ููู ููุณูุชูุง ูุงูุจุฏุก ูู ุงุณุชุฎุฏุงููุง. </font><font style="vertical-align: inherit;">ูุงูุขู ุญุงู ููุช ุงูููุงูุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดูุฑุง ูู ุนูู ุงููุฑุงุกุฉ ุญุชู ุงูููุงูุฉ. </font><font style="vertical-align: inherit;">ุขูู ุฃู ูุง ุฃููู ูุชุนุจุฉ. </font><font style="vertical-align: inherit;">ุงูุชุจ ุงูุชุนูููุงุช ุญูู ูุงุฐุง ุชุฑูุฏ ุฃู ุชุนุฑูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ุ ุฃููุง ุงูุณุงุฏุฉ. </font><font style="vertical-align: inherit;">ูุฏุนูู ูู ูุฃุชูุง ุฃุจุฏุงู.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar458250/">https://habr.com/ru/post/ar458250/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar458240/index.html">ููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุ ุงูุทุงุฆุฑุงุช ุจุฏูู ุทูุงุฑ ูุงููุงููุฑุงุช ุถูุงู ุณูุงูุฉ ุงูุทุฑู ูุงูุฌุณูุฑ</a></li>
<li><a href="../ar458242/index.html">ูุดุบู ุณูููุฉ ุงููุถุงุก ุงูุฌุฏูุฏ ูู C ++ 20</a></li>
<li><a href="../ar458244/index.html">ูุงุฆูุฉ ูุง ููุงูุฉ ููุง ูุณุฎููุฉ ุจูุง ุชุญุชุงุฌ ุฅูู ูุนุฑูุชู ูู ุฃุฌู ุงุณุชุฎุฏุงู ุดุจูุงุช Wi-Fi ุงูุนุงูุฉ ุจุฃูุงู</a></li>
<li><a href="../ar458246/index.html">ุงูุตุฏู ุนุดูุงุฆูุฉ ูู ุงูุญูุงุฉ ุ ุฃู ููู ุชุจูู ุฃูู ูุฏูุช ูุน ูุนูุฉ ูู ูุตูุน ุฌุฑุงุฑ</a></li>
<li><a href="../ar458248/index.html">ุจุณูุท ุดูุฑุชู ูู ุฎูุงู ุนูู ุงูุตูุงุฑูุฎ: ูุดุบู C ++ 20's Spaceship</a></li>
<li><a href="../ar458252/index.html">ูููุฐุฌ ุฑูุงุถู ูุชูุณููุจ ุฑุงุฏููู ุทููู ุงููุฏู</a></li>
<li><a href="../ar458256/index.html">ุฃูู ูุญู ุงูููุช ูุบุณู ุงููุฎุ</a></li>
<li><a href="../ar458260/index.html">ููุงู ุทุฑููุฉ ุฃุฎุฑู ูุชุญุณูู ุตูุฑ ุนุงูู ูููุงุก ูุชุทุจููุงุช Java</a></li>
<li><a href="../ar458262/index.html">ูุตูู ุนุจุฑ ุงูุฅูุชุฑูุช ููุงุนุฉ ุงูุงุฌุชูุงุนุงุช - ุงุฎุชูุงุฑ ุงูุญู ุงูุฃูุซู ูุนูุฏ ุงููุคุชูุฑุงุช ุนู ุทุฑูู ุงูููุฏูู</a></li>
<li><a href="../ar458264/index.html">10 ูุจุงุฏุฆ ูุงููู ุงูุชูุซูู ุงูุฐุงุชู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>