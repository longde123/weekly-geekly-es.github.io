<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî™ üë©‚Äç‚öïÔ∏è üöø Merry Quartusel, o c√≥mo el procesador ha llegado a tal vida ‚õÑÔ∏è üëéüèº ‚ò¢Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Al depurar programas regulares, los puntos de interrupci√≥n se pueden establecer en casi todas partes y en cantidades bastante grandes. Por desgracia C...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Merry Quartusel, o c√≥mo el procesador ha llegado a tal vida</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464795/"><img src="https://habrastorage.org/webt/ws/5w/vc/ws5wvcsjeh19phozcqcximmvjbo.jpeg"><br><br>  Al depurar programas regulares, los puntos de interrupci√≥n se pueden establecer en casi todas partes y en cantidades bastante grandes.  Por desgracia  Cuando se ejecuta un programa en el controlador, esta regla no se aplica.  Si hay una secci√≥n en la que se forma el diagrama de tiempo, entonces la parada lo arruinar√° todo.  Y el pasaje a bajas y altas frecuencias no es lo mismo.  Las condiciones de frontera son un flagelo para los desarrolladores.  O, digamos, un bus USB.  En NIOS II, no trabaj√© con √©l, pero en STM32 es terrible.  Y quiero ver algo, y cuando te detienes, tomas un tiempo de espera.  En general, muy a menudo, a pesar de la presencia de depuraci√≥n avanzada de JTAG, el comportamiento del programa en √°reas cr√≠ticas es oscuro.  ¬°Ser√≠a genial ver, al menos despu√©s de la ejecuci√≥n, por qu√© cadena pas√≥ el programa, qu√© ramas funcionaron y cu√°les no! <br><br>  Es a√∫n m√°s importante conocer el historial de excepciones.  En NIOS II, no hice esto, sino en el Cyclone V SoC en el n√∫cleo ARM, completamente.  Al depurar, todo funciona, y si inicia el programa desde ROM, obtendr√° una excepci√≥n.  Est√° claro c√≥mo entraron, y qu√© tipo de desarrollo de la situaci√≥n llev√≥ a esto no es.  El rastreo tambi√©n rompe todas las cubiertas. <br><a name="habracut"></a><br>  Art√≠culos anteriores de la serie: <ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Desarrollo del "firmware" m√°s simple para FPGAs instalados en Redd, y depuraci√≥n utilizando la prueba de memoria como ejemplo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Desarrollo del "firmware" m√°s simple para FPGAs instalados en Redd.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2. C√≥digo del programa</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Desarrollo de su propio n√∫cleo para incrustar en un sistema de procesador basado en FPGA</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Desarrollo de programas para el procesador central Redd sobre el ejemplo de acceso a la FPGA</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Los primeros experimentos que utilizan el protocolo de transmisi√≥n en el ejemplo de comunicaci√≥n de CPU y procesador en el FPGA Redd</a> </li></ol><br><h2>  Introduccion </h2><br>  Es costumbre escribir art√≠culos educativos con una cara seria, exponiendo el material con calma e imparcialidad.  Pero, por desgracia, esto no siempre funciona.  Ahora, de acuerdo con el plan, deber√≠a haber un art√≠culo sobre la optimizaci√≥n del procesador sintetizado en el complejo Redd, en el que debemos hablar sobre las caracter√≠sticas de trabajar con el cach√©.  El siguiente es un art√≠culo sobre retrasos al acceder al autob√∫s.  En general, todo esto se puede mostrar en un osciloscopio.  Ya hice esto en un art√≠culo sobre DMA (" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DMA: Mitos y realidad</a> ").  Pero quer√≠a demostrar todo utilizando el procesador en s√≠, realic√© tales comprobaciones para el n√∫cleo ARM en el FPGA Cyclone V SoC.  Muy conveniente (aunque los resultados no fueron publicados).  Por esta raz√≥n, decid√≠ tratar con el mecanismo de rastreo inherente en el bloque JTAG.  Es una pena que hasta ahora no haya podido mostrar con medios descargables gratuitos cu√°ntas barras se estaban reproduciendo este o aquel comando, pero hab√≠a material por medio del cual siempre se puede preguntar al programa c√≥mo lleg√≥ a tal vida.  Bueno, y adem√°s, aunque los recuerdos de las noches de tormenta todav√≠a est√°n frescos en mi memoria, los arrojar√© de una manera bastante emocional.  As√≠ que hoy habr√° muchas memorias y una peque√±a teor√≠a √∫til. <br><br><h2>  Hardware </h2><br>  Entonces, muy a menudo al depurar un programa para un microcontrolador, es deseable conocer el camino que ha recorrido, y debe pasarlo a toda velocidad.  Para el caso de NIOS II, este mecanismo est√° disponible y se incluye aqu√≠ en esta pesta√±a de las propiedades del n√∫cleo del procesador: <br><br><img src="https://habrastorage.org/webt/aw/b5/cq/awb5cqb6qtp8es-_vm_xo1dwuok.png"><br><br>  Tipo de rastreo establece el tipo de informaci√≥n que se almacenar√°.  No puede guardar nada (esto ahorrar√° la memoria del chip), puede guardar solo el historial de comandos (lo m√°s frecuente es que sea suficiente), bueno, o guardar el historial de comandos y datos.  Vale la pena se√±alar que la documentaci√≥n dice que en el √∫ltimo modo, guardar informaci√≥n es de alguna manera dif√≠cil, mientras que las superposiciones con el historial de comandos son posibles y se consume m√°s memoria.  Utilice este modo solo cuando sea realmente necesario. <br><br>  El par√°metro Almacenamiento de rastreo establece el tipo de memoria en la que se guardar√° el rastreo.  La documentaci√≥n dice que la memoria externa no es compatible con el entorno de desarrollo est√°ndar.  Por lo tanto, es mejor elegir solo el interior. <br><br><img src="https://habrastorage.org/webt/vy/bw/ef/vybwef9zoeklef_gcevjoeihy6y.png"><br><br>  Bueno, Onchip Trace Frame Size establece el tama√±o del b√∫fer.  Cuanto m√°s grande sea el b√∫fer, m√°s eventos se pueden colocar en √©l, mayor ser√° el historial.  Pero menos ser√° el recuerdo del cristal para otras necesidades. <br><br><img src="https://habrastorage.org/webt/_f/l5/u0/_fl5u0ax87tjg6jqriqa6ksg6ic.png"><br><br>  No es necesario habilitar la casilla de verificaci√≥n para crear un puerto JTAG separado.  Deje que todo taxis sea regular. <br><br><h2>  Soporte de software </h2><br>  Bueno  As√≠ que configuramos el n√∫cleo del procesador, ¬øqu√© sigue?  Ohhhh!  Entonces comienza la historia de detectives.  Si las figuras anteriores se deben interpretar como una gu√≠a de acci√≥n, entonces seguir√°n ilustraciones que muestran un desorden y n√°useas.  Varios documentos dicen que para trabajar con el rastreo, debe usar programas caros de terceros e incluso equipos especiales de JTAG.  Pero en algunos documentos se resbala que puede tomar algo a tiempo completo. <br><br><h3>  Experimentos Eclipse </h3><br>  Genial  Echemos un vistazo a Eclipse.  Les recuerdo que uso el entorno de desarrollo Quartus Prime 17.1.  Bueno, sucedio.  Iniciamos el programa para la depuraci√≥n y vamos al elemento del men√∫ que le permite abrir varias ventanas: <br><br><img src="https://habrastorage.org/webt/eu/yc/2z/euyc2ztgrga0uxh606lat4tu3kw.png"><br><br>  All√≠ seleccionamos la ventana Debug-&gt; Trace Control: <br><br><img src="https://habrastorage.org/webt/6w/qu/wz/6wquwzygaqz4ozivccboxsyvuey.png"><br><br>  Y obtenemos un mu√±eco as√≠: <br><br><img src="https://habrastorage.org/webt/hv/qb/hd/hvqbhdjpwryfpsbhprwh7ehbobq.png"><br><br>  Pero se inicia la sesi√≥n de depuraci√≥n.  Adem√°s, los elementos del men√∫ Comenzar rastreo y Detener rastreo incluso aparecieron en √©l (antes de abrir esta ventana no estaban).  Pero est√°n bloqueados.  Y no pude activarlos. <br><br><img src="https://habrastorage.org/webt/mk/xp/ir/mkxpiratj9qrxtpee0hz91tx3uc.png"><br><br>  En vano llen√© Google con diferentes solicitudes.  En documentos antiguos, se describe que estos elementos funcionan bastante bien, pero en los modernos simplemente no se mencionan.  Nadie los menciona en los foros.  ¬øQuiz√°s alguien en los comentarios te diga algo? <br><br><h3>  Problemas con la √∫ltima versi√≥n de Eclipse </h3><br>  Bueno  ¬øQu√© pasa con la √∫ltima versi√≥n del entorno de desarrollo?  Tal vez todo funciona all√≠?  Yyyyyy!  Este es un tema para un cap√≠tulo separado.  La √∫ltima versi√≥n para el cuarto y quinto ciclones es 18.1.1.  Es decir, primero debe descargar la versi√≥n 18.1 y luego instalar la actualizaci√≥n 18.1.1.  Si alguien decidi√≥ que tengo demasiado tiempo libre, que reorganizo el software por el bien de cada peque√±a cosa, entonces todo est√° bien.  La verificaci√≥n principal fue sobre problemas de cach√©.  Son m√°s serios, quer√≠a comprobarlos en la nueva versi√≥n, simplemente no estoy escribiendo sobre ellos aqu√≠. <br><br>  Entonces, lo descargu√©.  Instalado.  En primer lugar, se lanza la versi√≥n 18.1 bajo WIN7, pero 18.1.1 no encuentra la DLL.  Bueno  Descubr√≠ que necesito descargar Redist de Visual Studio 2015. Lo instal√©.  Comenz√≥ a correr.  Cre√≥ un proyecto con un sistema procesador.  Incluso se prepar√≥.  Voy a Eclipse, creando un programa con BSP basado en √©l, todo, como ya lo hemos hecho muchas veces ... Y obtengo tal cosa ... <br><br><img src="https://habrastorage.org/webt/dz/ge/wm/dzgewmffjurbmrm7q9gzziiok5i.png"><br><br>  El proyecto no va a.  Si sale y entra, se abre solo parcialmente. <br><br><img src="https://habrastorage.org/webt/hw/_p/85/hw_p85rarlvryo3rvmuu_zoqa7k.png"><br><br>  ¬øVes la carpeta cerrada?  Ah√≠ tienes.  Por qu√©  Ohhhh!  Tres archivos tienen: <br><br><img src="https://habrastorage.org/webt/08/ca/fu/08cafumzaksxsqe9tquadzuckwa.png"><br><br>  Estos son los maravillosos atributos de protecci√≥n: <br><br><img src="https://habrastorage.org/webt/zj/zy/db/zjzydbav2mjwdppsuq6y5mp3uay.png"><br><br>  Por lo tanto, no se pueden abrir ni cambiar ... Si otorga m√°s derechos, el proyecto se abrir√°, pero los archivos no se crean por completo, por lo que no funcionar√° recopilarlo.  Intent√© otorgar derechos hasta que Eclipse se cerr√≥ y luego guard√© el proyecto.  El resultado es el mismo. <br><br>  ¬øPodr√≠a ser el culpable el r√°pido envejecimiento de Windows 7?  ¬°No es de extra√±ar que careciera de bibliotecas!  Pongo Quartus nuevo en WIN10, ¬°obtengo un resultado completamente id√©ntico al crear el proyecto!  Tengo un amigo  En virtud de su lugar de trabajo, a veces se encuentra con productos de fabricantes nacionales.  Y expresa una serie de pensamientos sobre s√≠ mismos y sobre sus parientes.  Bueno, sobre el hecho de que "¬øqui√©n est√° construyendo esto?"  Sabes, mirando las alegr√≠as en el software Intel, empiezo a pensar que est√° lejos del pa√≠s de origen ... En realidad, este no fue el caso bajo Alter ... Algo ha sucedido, pero no recuerdo eso. <br><br>  Acabo de salir.  Copi√© el proyecto en una unidad flash USB con el sistema de archivos FAT32.  No hay atributos de seguridad.  Abr√≠ el proyecto desde all√≠, entr√© en Eclipse y cre√© el c√≥digo.  Sin atributos de seguridad, no hay problema.  Luego lo volv√≠ a copiar en el disco duro y ... Bueno, por supuesto, tuve problemas para generar BSP.  Porque el archivo * .bsp contiene muchas rutas relativas y una absoluta.  Es bueno que saqu√© una unidad flash.  De lo contrario, no me habr√≠a dado cuenta de que BSP se cae (ya que este es el lugar de nacimiento del proyecto), y el proyecto se recopila en el disco duro.  Aqu√≠ hay un ejemplo de tal ruta (ya corregida): <br><br><img src="https://habrastorage.org/webt/ba/qw/c3/baqwc3vz7g4xtyxou9lzaydkaf0.png"><br><br>  Bueno, est√° bien ... Todo fue generado, ensamblado ... Y funciona exactamente igual que en la versi√≥n 17.1 ... Y para los controladores SoC en el nuevo entorno, tambi√©n tienes que recrear la cadena JTAG cada vez en el programador.  En la versi√≥n 17.1, fue suficiente para hacer esto una vez y guardar ... Eeeeeh.  Bueno, bueno ... <br><br><h3>  Altera Monitor y su problema </h3><br>  De una forma u otra, las b√∫squedas en la red de las palabras Start Tracing y Stop Tracing me llevaron a documentos interesantes.  Describen varias versiones de un programa divertido llamado <b>Altera Monitor</b> hoy (el nombre era diferente en documentos antiguos).  Encontrarla fue relativamente f√°cil.  Debe descargar el paquete del <b>programa universitario</b> para su versi√≥n del entorno de desarrollo.  Presta atenci√≥n a las restricciones de licencia.  Pero como estamos estudiando ahora, no le tenemos miedo.  Pero para el trabajo comercial, todo est√° mal all√≠.  Detalles aqu√≠: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.intel.com/content/www/us/en/programmable/support/training/university/materials-software.html</a> <br><br>  Descargar, poner ... Hay un documento adjunto a la versi√≥n actual (porque las versiones dispersas en Internet var√≠an mucho).  Incluso intent√© ejecutar un ejemplo para mi placa de pruebas DE0-Nano-SoC.  El esta trabajando.  Pero cuando intent√© hacer mi proyecto, no funcion√≥.  El archivo * .sof se carga en el FPGA, despu√©s de lo cual, despu√©s de un tiempo, se muestra un mensaje: <br><br><img src="https://habrastorage.org/webt/h-/v9/8-/h-v98-afyfovvykexwt8piekhdu.png"><br><br>  Solo que no hay informaci√≥n en la ventana especificada.  Si intenta descargar de nuevo: bueno, el texto aparecer√° solo en esa ventana: <br>  <b>No se pudieron consultar los ID de instancia de JTAG.</b> <b><br><br></b>  <b>Aseg√∫rese de que el FPGA se haya configurado utilizando el archivo .sof correcto.</b> <br><br>  ¬øQu√© tipo de problema es este?  Busqu√© en Google.  Encontramos varios foros con el mismo problema.  En un momento, un empleado de Intel pregunt√≥ qu√© frecuencia tiene el autor en JTAG y sugiri√≥ establecer uno est√°ndar.  Aunque, para ese momento, ya entend√≠a que no era una cuesti√≥n de frecuencia: el ejemplo corporativo funcion√≥ y c√≥mo establecerlo.  En un foro, el autor escribi√≥ que de alguna manera hab√≠a pasado.  No entend√≠a c√≥mo.  Y dijo que si haces todo cuidadosamente de acuerdo con las instrucciones, todo funcionar√°.  El resto de la imagen era igual.  El hombre pregunta.  No le responden.  Despu√©s de seis meses o un a√±o, alguien escribe que tiene la misma situaci√≥n, ¬øha habido una soluci√≥n?  Y silencio aaaaaaaa ... <br><br><h3>  Intentos de soluci√≥n experimentados </h3><br>  Bueno  ¬øCu√°l podr√≠a ser el motivo?  Al principio decid√≠ mirar a mi alrededor con un ejemplo de trabajo.  ¬øQu√© tipo de misteriosa identificaci√≥n JTAG?  ¬øPodr√≠a esto ser debido a la presencia de un sistema de identificaci√≥n del sistema en funcionamiento? <br><br><img src="https://habrastorage.org/webt/jo/an/be/joanbea7ptsikwoxwrio-xjcfta.png"><br><br>  Sumado a s√≠ mismo, no ayud√≥.  ¬øQuiz√°s el culpable es el puente JTAG a Avalon, al que est√°n conectados todos los dispositivos perif√©ricos? <br><br><img src="https://habrastorage.org/webt/to/al/dr/toaldrafp5anp22mp7f-b0kfv6o.png"><br><br>  Agregado - no ayud√≥.  Intent√© algunas hip√≥tesis m√°s, pero me di cuenta de que puedes adivinar para siempre.  Con pena, incluso le pregunt√© a Yandex, Bing e incluso BaiDu.  Todos saben menos que Google.  Qued√≥ claro que ten√≠amos que lidiar con la descompilaci√≥n para probar desde el programa lo que necesitaba.  Comprobado en qu√© idioma est√° escrito el programa.  Result√≥ que en Java.  El bytecode se almacena en el archivo Altera_Monitor_Program.jar.  Bueno, es raro  Excepto que no conozco este Java en absoluto.  En Java Script, hubo un caso, incursionado en Internet de las cosas, pero no encontr√© un Java real.  ¬°Pero donde el nuestro no desapareci√≥! <br><br><h3>  An√°lisis de bytecode de JAVA para encontrar el problema </h3><br>  ¬øC√≥mo abrir el c√≥digo de bytes?  Google condujo a un art√≠culo sobre Habr√©, que dice que para esto necesitas usar la JD-GUI.  Lo encontr√© en github, lo descargu√©.  Identifiqu√© el √°rea del problema con bastante rapidez, ya que la JD-GUI tiene una maravillosa navegaci√≥n interactiva.  Desde el mensaje al sitio, sal√≠ en 10 minutos.  Esta secci√≥n llama a un programa de terceros, luego de lo cual analiza su respuesta.  La llamada se ve as√≠: <br><pre><code class="plaintext hljs">systemConsoleCommand[index] = "system-console"; systemConsoleCommand[var24++] = "--script=" + Globals.gHost.getMonitorProgramRootDir("bin/jtag_instance_check.tcl", true); systemConsoleCommand[var24++] = cable; systemConsoleCommand[var24++] = Globals.gProject.system.sofFilename; try { Process sysConsoleProc = NiosIIShell.executeCommand(systemConsoleCommand).start(); BufferedReader gdbIn = new BufferedReader(new InputStreamReader(sysConsoleProc.getInputStream()));</code> </pre> <br>  Bueno, y m√°s all√°: an√°lisis de la respuesta que a√∫n no consideramos. <br><br>  Con este c√≥digo, intent√© abrir la consola NIOS II: <br><br><img src="https://habrastorage.org/webt/s4/u8/tl/s4u8tl-vtf3qn8x0ckrughrfjey.png"><br><br>  All√≠ fui al directorio donde est√° el archivo sof y conduje la l√≠nea de comando: <br>  <b>system-console --script = jtag_instance_check.tcl USB-0 test.sof</b> <br><br>  Sin embargo, para esto tuve que copiar el archivo C: \ intelFPGALite \ 17.1 \ University_Program \ Monitor_Program \ bin \ jtag_instance_check.tcl en el mismo lugar donde est√° sof, para no sufrir con la ruta.  Al final, obtuve una respuesta bastante decente: <br><br>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH jtag_uart_0 (INSTANCE_ID: 0)</b> <b><br><br></b>  <b>TYPE_NAME altera_nios2_gen2.data_master FULL_HPATH nios2_gen2_0 (INSTANCE_ID: 0)</b> <b><br></b> <br><br>  Todo parece ser hermoso ... <br><br><h3>  JAVA Bytecode Tracing </h3><br>  Si el caso tuviera lugar hoy, esta secci√≥n no existir√≠a.  Pero sucedi√≥ ayer.  Todav√≠a entend√≠a Java muy mal.  Lo que estaba escrito all√≠ mientras analizaba el texto era un bosque oscuro para m√≠.  Es cierto que durante dos a√±os mi hijo asisti√≥ a cursos de programaci√≥n de olimpiadas en 1 franquiciado sovi√©tico (los certificados y folletos fueron 1 sovi√©tico).  Se dio dinero loco para estos cursos.  Y les ense√±aron all√≠ solo en Java.  Entonces, tampoco entendi√≥ lo que estaba escrito m√°s en el c√≥digo (manteniendo la intriga, publicar√© el c√≥digo un poco m√°s abajo, no ahora).  En general, hab√≠a una sensaci√≥n persistente de que era hora de rastrear.  Conozco la secci√≥n incorrecta, veo que las l√≠neas se recibieron all√≠ y al programa no le gustan con algo.  ¬øY qu√©? <br><br>  El ni√±o me encontr√≥ un art√≠culo muy maravilloso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.crowdstrike.com/blog/native-java-bytecode-debugging-without-source-code</a> <br><br>  Habla de un complemento muy √∫til para Eclipse, que le permite trabajar con JAR, estableciendo puntos de interrupci√≥n en ellos.  D√≥nde descargar, encontr√© aqu√≠: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">marketplace.eclipse.org/content/bytecode-visualizer/help</a> <br><br>  Descargu√© Eclipse, descargu√© el complemento para la instalaci√≥n fuera de l√≠nea con pena a la mitad ... Comenc√© a instalar, no hay suficientes bibliotecas.  Comenc√© a leer.  Resulta que hay tres versiones del complemento.  Bajo Eslipse 4.5 (Marte), 4.4 (Luna) y 4.3 (no recuerdo el nombre).  Bueno, todo es simple.  Vamos al sitio web de Eclipse, vemos un enlace para descargar la versi√≥n de Marte para Java ... Y ... est√° muerto.  ¬°No importa!  ¬°Hay alrededor de una docena de espejos! ... Y todos los enlaces a ellos est√°n muertos.  Intentamos Luna para Java, hay enlaces a x64 muertos, a x86 hay uno vivo ... Como dice un amigo m√≠o: "Las hemorroides, son completas".  En general, Google tuvo dificultades, pero me encontr√≥ un ensamblado Java de 64 bits de la versi√≥n Mars en alg√∫n servidor no oficial.  Lo descargu√© durante media hora, pero lo descargu√©. <br><br>  Implement√© un complemento, cre√© un proyecto ... ¬°Horror!  All√≠, la traza no est√° en el nivel del c√≥digo fuente, sino en el nivel de un ensamblador la.  En resumen, se rastrea el c√≥digo de byte decodificado.  Pero, de hecho, ¬°no importa!  Despu√©s de todo, siempre puede verificar con las fuentes descompiladas abiertas en otra ventana, adem√°s de que el complemento muestra muy buenos comentarios ... Tambi√©n result√≥ que los puntos de interrupci√≥n no se pueden establecer en ning√∫n lugar, sino solo en la entrada de la funci√≥n.  ¬°Pero no puedo parar!  No hay mucho all√≠ y debe caminar desde la entrada hasta el √°rea problem√°tica. <br><br>  Perm√≠teme recordarte que las l√≠neas procesadas se ven as√≠: <br>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH jtag_uart_0 (INSTANCE_ID: 0)</b> <b><br><br></b>  <b>TYPE_NAME altera_nios2_gen2.data_master FULL_HPATH nios2_gen2_0 (INSTANCE_ID: 0)</b> <br><br>  Y aqu√≠ est√° el c√≥digo Java: <br><pre> <code class="plaintext hljs">if (str.contains("(INSTANCE_ID:")) { Pattern getInstance = Pattern.compile("\\(INSTANCE_ID:(\\d+)\\)"); Matcher idMatcher = getInstance.matcher(str); if (idMatcher.find()) { String foundstr = idMatcher.group(1); instance = Integer.parseInt(foundstr); }</code> </pre><br>  A√≠sla perfectamente la ID de instancia.  Y aqu√≠ est√° el c√≥digo: <br><pre> <code class="plaintext hljs"> Pattern getHPath = Pattern.compile("FULL_HPATH (.+?)\\|(.+?) \\("); Matcher hpathMatcher = getHPath.matcher(str); if (hpathMatcher.find()) { hpath = hpathMatcher.group(2).replace("|", "."); }</code> </pre><br>  La variable hpath no se completa.  Hoy ya s√© que la expresi√≥n regular: <br><pre> <code class="plaintext hljs">"FULL_HPATH (.+?)\\|(.+?) \\("</code> </pre> <br>  requiere dos palabras separadas por una barra vertical.  Bueno, entonces solo se toma lo que est√° despu√©s de la l√≠nea.  No lo supe ayer.  M√°s interesante es otro.  ¬°El ni√±o estudi√≥ trabajo en Java durante dos a√±os y no aprendi√≥ expresiones regulares!  No, est√° claro que no se les ense√±√≥ el idioma, sino la programaci√≥n de la Olimpiada utilizando el idioma, pero, seg√∫n tengo entendido, las expresiones regulares en Java est√°n en el orden de las cosas.  Toman ese dinero, sacuden certificados de compa√±√≠as de buena reputaci√≥n, pero no ense√±an cosas importantes ... Pero estoy divagando. <br><br><h3>  Luz al final del t√∫nel. </h3><br>  ¬øQu√© es la l√≠nea vertical?  Tomamos el proyecto que funcion√≥, le damos el mismo equipo y obtenemos esta respuesta: <br><br>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH Computer_System: The_System | JTAG_UART (INSTANCE_ID: 0)</b> <b><br><br></b>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH Computer_System: The_System | JTAG_UART_2nd_Core (INSTANCE_ID: 1)</b> <b><br><br></b>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH Computer_System: The_System | JTAG_UART_for_ARM_0 (INSTANCE_ID: 2)</b> <b><br><br></b>  <b>TYPE_NAME altera_avalon_jtag_uart.jtag FULL_HPATH Computer_System: The_System | JTAG_UART_for_ARM_1 (INSTANCE_ID: 3)</b> <b><br><br></b>  <b>TYPE_NAME altera_nios2_gen2.data_master FULL_HPATH Computer_System: The_System | Nios2 (INSTANCE_ID: 0)</b> <b><br><br></b>  <b>TYPE_NAME altera_nios2_gen2.data_master FULL_HPATH Computer_System: The_System | Nios2_2nd_Core (INSTANCE_ID: 1)</b> <br><br>  ¬øQu√© es Computer_System: The_System?  Todo es simple aqu√≠.  En esta serie de art√≠culos, estoy promoviendo una idea avanzada donde el sistema inform√°tico est√° en el nivel superior de la jerarqu√≠a. <div class="spoiler">  <b class="spoiler_title">Y este ejemplo tiene esta capa Verilog:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">module DE0_Nano_SoC_Computer ( //////////////////////////////////// // FPGA Pins //////////////////////////////////// // Clock pins input CLOCK_50, input CLOCK2_50, input CLOCK3_50, // ADC output ADC_CONVST, output ADC_SCLK, output ADC_SDI, input ADC_SDO, // ARDUINO inout [15:0] ARDUINO_IO, inout ARDUINO_RESET_N, // GPIO inout [35:0] GPIO_0, inout [35:0] GPIO_1, // KEY input [1:0] KEY, // LED output [7:0] LED, // SW input [3:0] SW, //////////////////////////////////// // HPS Pins //////////////////////////////////// // DDR3 SDRAM output [14:0] HPS_DDR3_ADDR, output [2:0] HPS_DDR3_BA, output HPS_DDR3_CAS_N, output HPS_DDR3_CKE, output HPS_DDR3_CK_N, output HPS_DDR3_CK_P, output HPS_DDR3_CS_N, output [3:0] HPS_DDR3_DM, inout [31:0] HPS_DDR3_DQ, inout [3:0] HPS_DDR3_DQS_N, inout [3:0] HPS_DDR3_DQS_P, output HPS_DDR3_ODT, output HPS_DDR3_RAS_N, output HPS_DDR3_RESET_N, input HPS_DDR3_RZQ, output HPS_DDR3_WE_N, // Ethernet output HPS_ENET_GTX_CLK, inout HPS_ENET_INT_N, output HPS_ENET_MDC, inout HPS_ENET_MDIO, input HPS_ENET_RX_CLK, input [3:0] HPS_ENET_RX_DATA, input HPS_ENET_RX_DV, output [3:0] HPS_ENET_TX_DATA, output HPS_ENET_TX_EN, // Accelerometer inout HPS_GSENSOR_INT, // I2C inout HPS_I2C0_SCLK, inout HPS_I2C0_SDAT, inout HPS_I2C1_SCLK, inout HPS_I2C1_SDAT, // Pushbutton inout HPS_KEY, // LED inout HPS_LED, // LTC inout HPS_LTC_GPIO, // SD Card output HPS_SD_CLK, inout HPS_SD_CMD, inout [3:0] HPS_SD_DATA, // SPI output HPS_SPIM_CLK, input HPS_SPIM_MISO, output HPS_SPIM_MOSI, inout HPS_SPIM_SS, // UART input HPS_UART_RX, output HPS_UART_TX, // USB inout HPS_CONV_USB_N, input HPS_USB_CLKOUT, inout [7:0] HPS_USB_DATA, input HPS_USB_DIR, input HPS_USB_NXT, output HPS_USB_STP ); //======================================================= // REG/WIRE declarations //======================================================= wire hps_fpga_reset_n; //======================================================= // Structural coding //======================================================= Computer_System The_System ( //////////////////////////////////// // FPGA Side //////////////////////////////////// // Global signals .system_pll_ref_clk_clk (CLOCK_50), .system_pll_ref_reset_reset (1'b0), // ADC .adc_sclk (ADC_SCLK), .adc_cs_n (ADC_CONVST), .adc_dout (ADC_SDO), .adc_din (ADC_SDI), // Arduino GPIO .arduino_gpio_export (ARDUINO_IO), // Arduino Reset_n .arduino_reset_n_export (ARDUINO_RESET_N), // Slider Switches .slider_switches_export (SW), // Pushbuttons .pushbuttons_export (~KEY), // Expansion JP1 .expansion_jp1_export ({GPIO_0[35:19], GPIO_0[17], GPIO_0[15:3], GPIO_0[1]}), // Expansion JP7 .expansion_jp7_export ({GPIO_1[35:19], GPIO_1[17], GPIO_1[15:3], GPIO_1[1]}), // LEDs .leds_export (LED), //////////////////////////////////// // HPS Side //////////////////////////////////// // DDR3 SDRAM .memory_mem_a (HPS_DDR3_ADDR), .memory_mem_ba (HPS_DDR3_BA), .memory_mem_ck (HPS_DDR3_CK_P), .memory_mem_ck_n (HPS_DDR3_CK_N), .memory_mem_cke (HPS_DDR3_CKE), .memory_mem_cs_n (HPS_DDR3_CS_N), .memory_mem_ras_n (HPS_DDR3_RAS_N), .memory_mem_cas_n (HPS_DDR3_CAS_N), .memory_mem_we_n (HPS_DDR3_WE_N), .memory_mem_reset_n (HPS_DDR3_RESET_N), .memory_mem_dq (HPS_DDR3_DQ), .memory_mem_dqs (HPS_DDR3_DQS_P), .memory_mem_dqs_n (HPS_DDR3_DQS_N), .memory_mem_odt (HPS_DDR3_ODT), .memory_mem_dm (HPS_DDR3_DM), .memory_oct_rzqin (HPS_DDR3_RZQ), // Accelerometer .hps_io_hps_io_gpio_inst_GPIO61 (HPS_GSENSOR_INT), // Ethernet .hps_io_hps_io_gpio_inst_GPIO35 (HPS_ENET_INT_N), .hps_io_hps_io_emac1_inst_TX_CLK (HPS_ENET_GTX_CLK), .hps_io_hps_io_emac1_inst_TXD0 (HPS_ENET_TX_DATA[0]), .hps_io_hps_io_emac1_inst_TXD1 (HPS_ENET_TX_DATA[1]), .hps_io_hps_io_emac1_inst_TXD2 (HPS_ENET_TX_DATA[2]), .hps_io_hps_io_emac1_inst_TXD3 (HPS_ENET_TX_DATA[3]), .hps_io_hps_io_emac1_inst_RXD0 (HPS_ENET_RX_DATA[0]), .hps_io_hps_io_emac1_inst_MDIO (HPS_ENET_MDIO), .hps_io_hps_io_emac1_inst_MDC (HPS_ENET_MDC), .hps_io_hps_io_emac1_inst_RX_CTL (HPS_ENET_RX_DV), .hps_io_hps_io_emac1_inst_TX_CTL (HPS_ENET_TX_EN), .hps_io_hps_io_emac1_inst_RX_CLK (HPS_ENET_RX_CLK), .hps_io_hps_io_emac1_inst_RXD1 (HPS_ENET_RX_DATA[1]), .hps_io_hps_io_emac1_inst_RXD2 (HPS_ENET_RX_DATA[2]), .hps_io_hps_io_emac1_inst_RXD3 (HPS_ENET_RX_DATA[3]), // I2C .hps_io_hps_io_i2c0_inst_SDA (HPS_I2C0_SDAT), .hps_io_hps_io_i2c0_inst_SCL (HPS_I2C0_SCLK), .hps_io_hps_io_i2c1_inst_SDA (HPS_I2C1_SDAT), .hps_io_hps_io_i2c1_inst_SCL (HPS_I2C1_SCLK), // Pushbutton .hps_io_hps_io_gpio_inst_GPIO54 (HPS_KEY), // LED .hps_io_hps_io_gpio_inst_GPIO53 (HPS_LED), // LTC .hps_io_hps_io_gpio_inst_GPIO40 (HPS_LTC_GPIO), // SD Card .hps_io_hps_io_sdio_inst_CMD (HPS_SD_CMD), .hps_io_hps_io_sdio_inst_D0 (HPS_SD_DATA[0]), .hps_io_hps_io_sdio_inst_D1 (HPS_SD_DATA[1]), .hps_io_hps_io_sdio_inst_CLK (HPS_SD_CLK), .hps_io_hps_io_sdio_inst_D2 (HPS_SD_DATA[2]), .hps_io_hps_io_sdio_inst_D3 (HPS_SD_DATA[3]), // SPI .hps_io_hps_io_spim1_inst_CLK (HPS_SPIM_CLK), .hps_io_hps_io_spim1_inst_MOSI (HPS_SPIM_MOSI), .hps_io_hps_io_spim1_inst_MISO (HPS_SPIM_MISO), .hps_io_hps_io_spim1_inst_SS0 (HPS_SPIM_SS), // UART .hps_io_hps_io_uart0_inst_RX (HPS_UART_RX), .hps_io_hps_io_uart0_inst_TX (HPS_UART_TX), // USB .hps_io_hps_io_gpio_inst_GPIO09 (HPS_CONV_USB_N), .hps_io_hps_io_usb1_inst_D0 (HPS_USB_DATA[0]), .hps_io_hps_io_usb1_inst_D1 (HPS_USB_DATA[1]), .hps_io_hps_io_usb1_inst_D2 (HPS_USB_DATA[2]), .hps_io_hps_io_usb1_inst_D3 (HPS_USB_DATA[3]), .hps_io_hps_io_usb1_inst_D4 (HPS_USB_DATA[4]), .hps_io_hps_io_usb1_inst_D5 (HPS_USB_DATA[5]), .hps_io_hps_io_usb1_inst_D6 (HPS_USB_DATA[6]), .hps_io_hps_io_usb1_inst_D7 (HPS_USB_DATA[7]), .hps_io_hps_io_usb1_inst_CLK (HPS_USB_CLKOUT), .hps_io_hps_io_usb1_inst_STP (HPS_USB_STP), .hps_io_hps_io_usb1_inst_DIR (HPS_USB_DIR), .hps_io_hps_io_usb1_inst_NXT (HPS_USB_NXT) ); endmodule</code> </pre><br></div></div><br>  Lo traje espec√≠ficamente para enfatizar cu√°nto c√≥digo completamente innecesario tienes que escribir en este caso.  Y si se agregan o eliminan las patas, este c√≥digo tambi√©n tendr√° que editarse.  En realidad, las l√≠neas <br><br><img src="https://habrastorage.org/webt/gg/_n/b3/gg_nb3rvplsmdkewhuqiqgctyqa.png"><br><div class="spoiler">  <b class="spoiler_title">Mismo texto:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">... Computer_System The_System ( //////////////////////////////////// // FPGA Side //////////////////////////////////// // Global signals .system_pll_ref_clk_clk (CLOCK_50), ...</code> </pre><br></div></div><br>  y dale este prefijo.  Los autores creen que la jerarqu√≠a deber√≠a ser tal, solo esto y no otro.  El sistema del procesador no se puede quitar m√°s profundo y no se puede cargar. <br><br><h3>  No debemos esperar la misericordia de la naturaleza, t√≥mala, ¬°nuestra tarea! </h3><br>  ¬øRealmente hemos hecho un trabajo tan solo para aguantar este asunto?  Como a un amigo m√≠o le gusta decir: "el trabajo innecesario es peor que la embriaguez", y la creaci√≥n de esa capa es un caso t√≠pico de trabajo innecesario.  Por lo tanto, trataremos de eludir esta limitaci√≥n.  Recuerde, al llamar a un programa JAVA de terceros, el c√≥digo sustituy√≥ a un script tcl, ¬øtambi√©n lo copi√© en el directorio al lado del archivo sof?  ¬°Es nuestra salvaci√≥n!  Es √©l quien le dice a la consola del sistema qu√© acciones tomar y es √©l quien formatea la respuesta.  el formato es as√≠: <br><img src="https://habrastorage.org/webt/6a/si/cq/6asicqpxflldfmtmq1qveh_6c4q.png"><br><div class="spoiler">  <b class="spoiler_title">Mismo texto:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"># PRINT OUT INSTANCE ID INFO FOR EVERYTHING: set i 0 foreach path [lsort -command compare_node_number [get_service_paths bytestream]] { # If this path corresponds to a JTAG UART, incr i if {[string match *$cable_name* $path ] &amp;&amp; [string match *jtag_uart* [marker_get_type $path] ]} { puts "[marker_get_info $path] (INSTANCE_ID:$i)" incr i } } set i 0 foreach path [lsort -command compare_node_number [get_service_paths processor]] { # If this path corresponds to a NiosII, incr i if {[string match *$cable_name* $path ] &amp;&amp; [string match *nios2* [marker_get_type $path] ]} { puts "[marker_get_info $path] (INSTANCE_ID:$i)" incr i } }</code> </pre><br></div></div><br>  El primer bloque formatea informaci√≥n sobre los bloques JTAG_UART, el segundo, sobre los n√∫cleos del procesador.  ¬°Ahora, si aqu√≠ agregamos l√≠neas verticales a la secuencia de salida!  Mi colega corrigi√≥ esta secci√≥n de la siguiente manera: <br><pre> <code class="plaintext hljs"># PRINT OUT INSTANCE ID INFO FOR EVERYTHING: set i 0 foreach path [lsort -command compare_node_number [get_service_paths bytestream]] { # If this path corresponds to a JTAG UART, incr i if {[string match *$cable_name* $path ] &amp;&amp; [string match *jtag_uart* [marker_get_type $path] ]} { set info [marker_get_info $path] if {[string first "|" $info] == -1} { set info [string map {"FULL_HPATH " "FULL_HPATH a:b|"} $info] } puts "$info (INSTANCE_ID:$i)" incr i } } set i 0 foreach path [lsort -command compare_node_number [get_service_paths processor]] { # If this path corresponds to a NiosII, incr i if {[string match *$cable_name* $path ] &amp;&amp; [string match *nios2* [marker_get_type $path] ]} { set info [marker_get_info $path] if {[string first "|" $info] == -1} { set info [string map {"FULL_HPATH " "FULL_HPATH a:b|"} $info] } puts "$info (INSTANCE_ID:$i)" incr i } }</code> </pre><br>  Ahora, si no hay guiones, se agregar√°n.  Y, por √∫ltimo, el programa funcionar√° no solo con un sistema de procesador terrible, sino tambi√©n con un procesador √≥ptimamente escrito. <br><br><h2>  Configurar un proyecto en Altera Monitor </h2><br>  Uffff  Eso es todo.  El final de la excavaci√≥n, todo terreno y descuido (aunque, sobre todo terreno, esto no es exacto).  ¬°Ahora, nuevamente, los dibujos en el art√≠culo reflejan las instrucciones para el trabajo!  Tenemos un proyecto para FPGA, as√≠ como un programa que se construye y ejecuta en Eclipse.  Ahora inicie Altera Monitor y cree un proyecto. <br><br><img src="https://habrastorage.org/webt/zy/kc/b0/zykcb02zebkc-u6wknzbnnqozew.png"><br><br>  Cree un directorio con el proyecto (lo puse por separado del proyecto para FPGA) y asigne el nombre del proyecto.  Tambi√©n elija una arquitectura de procesador <br><br><img src="https://habrastorage.org/webt/md/8c/sg/md8csgrftsf_j0mt8vyjrcaaaua.png"><br><br>  El sistema que elijo es Sistema personalizado.  Debe especificar mis archivos * .sof y * .sopcinfo.  Los selecciono en los directorios de trabajo.  Nuestro sistema no necesita un precargador. <br><br><img src="https://habrastorage.org/webt/ej/zb/ad/ejzbad_u22w-hczkkgluen36nfa.png"><br><br>  Seleccione el tipo de programa Programa con soporte de controlador de dispositivo, luego se construir√° la biblioteca BSP: <br><br><img src="https://habrastorage.org/webt/td/dw/ew/tddwewush_a8-srgsrrnpbcmbo4.png"><br><br>  Hasta ahora solo hay un archivo de trabajo (se cre√≥ en Eclipse).  Aqu√≠ lo agrego: <br><br><img src="https://habrastorage.org/webt/f9/pt/mk/f9ptmk-t78ilnla5-7hm4mlnpno.png"><br><br>  En la √∫ltima ventana, no cambio nada: <br><br><img src="https://habrastorage.org/webt/sm/lf/e_/smlfe__fqs5gt3ieiuhcryd0fso.png"><br><br>  Aceptamos la descarga del archivo sof: <br><br><img src="https://habrastorage.org/webt/yl/x6/qx/ylx6qxkmhkql0hbxgdqgakxek4c.png"><br><br>  Si acabamos de instalar el software, cambiamos al modo fuente.  Entonces ya estar√° activado (le mostrar√© c√≥mo se ve el men√∫ cuando todo est√© activado, tambi√©n habr√° un elemento para incluir). <br><br><img src="https://habrastorage.org/webt/nj/jo/4p/njjo4pxzvs87ygedajsdkh8gx_u.png"><br><br>  Tengo el programa C m√°s simple: <br><pre> <code class="plaintext hljs">#include "sys/alt_stdio.h" int main() { alt_putstr("Hello from Nios II!\n"); volatile int i=0; i += 1; i += 2; i += 3; i += 4; i += 5; i += 6; i += 7; i += 8; i += 9; i += 10; i += 11; i += 12; /* Event loop never exits. */ while (1); return 0; }</code> </pre><br>  Estoy tratando de coleccionarlo: <br><br><img src="https://habrastorage.org/webt/d_/2q/pq/d_2qpq5wlpcikhp1sqfzfn4qfxq.png"><br><br>  Me sale un error: <br>  <b>c: /intelfpga/17.1/nios2eds/bin/gnu/h-x86_64-mingw32/bin /../ lib / gcc / nios2-elf / 5.3.0 /../../../../ .. /H-x86_64-mingw32/nios2-elf/bin/ld.exe: la regi√≥n 'C√≥digo' se desbord√≥ en 15888 bytes</b> <br><br>  Esto se debe a que no agregu√© SDRAM al sistema, lo limit√© a la memoria interna FPGA.  Pero, ¬øpor qu√© todo encajaba en Eclipse, pero no aqu√≠?  Porque eleg√≠ BSP all√≠ con el sufijo Small, pero aqu√≠ se me hizo autom√°ticamente un paquete normal.  Por lo tanto, abra el archivo: C: \ Work \ Play2 \ BSP \ settings.bsp <br><br>  Y comenzamos la sintonizaci√≥n manual. <br><br><img src="https://habrastorage.org/webt/bu/tv/vn/butvvng3etvwox28euel6mvggyq.png"><br><br><img src="https://habrastorage.org/webt/sq/ei/kk/sqeikkntwrn4ju8qtve_yybvgxw.png"><br><br>  Reconstruir BSP: <br><br><img src="https://habrastorage.org/webt/a0/sf/0_/a0sf0_tbaegc9-cusl2bfa-xova.png"><br><br>  Y de nuevo recogemos el proyecto.  Esta vez con exito.  Ahora c√°rgalo: <br><br><img src="https://habrastorage.org/webt/sm/kg/rl/smkgrlr9croftl0y-fagdqqhr1a.png"><br><br><h2>  Finalmente, el rastro real </h2><br>  ¬øNo has olvidado por qu√© hago todo esto?  Hago esto para rastrear.  Debe estar activado.  Para hacer esto, vaya a la pesta√±a Rastreo y seleccione Habilitar rastreo en el men√∫ contextual: <br><br><img src="https://habrastorage.org/webt/nv/bo/pp/nvboppbqx8ihyhh6qlxmbxjgfq0.png"><br><br>  Pondr√© un punto de interrupci√≥n al final de la funci√≥n main () en la pesta√±a Desmontaje (¬°qu√© agradable es el ensamblador RISC para el terrible ensamblador de pila en el que se convierte el c√≥digo Java!) <br><br>  Aqu√≠ est√° el comienzo de la funci√≥n principal: <br><br><img src="https://habrastorage.org/webt/ue/m2/-q/uem2-qdgcpj7stuobbouowscfkw.png"><br><br>  Despl√°cese hacia abajo un poco y ponga un punto de interrupci√≥n aqu√≠: <br><br><img src="https://habrastorage.org/webt/ev/zf/ot/evzfotqiwhr4w0j2f-xrilmfooe.png"><br><br>  Comenzamos, esperamos una parada y vamos a la pesta√±a Trazar. <br><br>  En general, todo no es muy bueno.  Al principio, obviamente hab√≠a alg√∫n tipo de expectativa (tuvimos una conclusi√≥n en JTAG all√≠, por lo que es algo leg√≠timo): <br><br><img src="https://habrastorage.org/webt/yd/fo/jf/ydfojfs41-yysqn8kqndisvaguw.png"><br><br>  Al final, alg√∫n otro c√≥digo ... ¬°Pero no veo el c√≥digo de la funci√≥n principal!  Aqu√≠ est√° el final: <br><br><img src="https://habrastorage.org/webt/ww/eb/ky/wwebkyjc8nj3nrdnxrpfqoosbc0.png"><br><br>  Ni siquiera s√© qu√© decir.  Pero de todos modos, si coloca no uno sino dos puntos de interrupci√≥n (al principio y al final de la funci√≥n principal), luego de ejecutar del primero al segundo, la imagen ser√° decente: <br><br><img src="https://habrastorage.org/webt/kq/pr/en/kqprenc25bb2vbucdmxq_49vzqy.png"><br><br><h2>  Breves conclusiones </h2><br>  Entonces, descubrimos que es muy posible descubrir c√≥mo funciona un sitio en particular.  Entonces, se revela el tema del art√≠culo ("... c√≥mo el procesador ha llegado a tal vida").  Es m√°s interesante c√≥mo todos aquellos cuyos problemas tuvieron que resolverse para obtener un resultado han llegado a tal vida.  Y es muy lamentable que hasta ahora no haya podido determinar cu√°ntos barriles complet√≥ un equipo en particular.  A partir de fragmentos de documentaci√≥n, est√° claro que esto parece ser t√©cnicamente posible, pero qu√© software permitir√° que esto se haga no est√° claro.  Existe la opini√≥n de que el documento <b>An√°lisis y depuraci√≥n de dise√±os con la consola del sistema</b> , que tuve que leer al analizar el script tcl, nos ayudar√°.  Tiene una tableta interesante <b>Tabla 10-15: Comandos del sistema de rastreo</b> , pero personalmente, no tengo tiempo para un estudio detallado de este asunto.  Pero quiz√°s sea tan importante para alguien que implemente todo.  Estos comandos est√°n incluidos en los scripts tcl. <br><br>  Bueno, en los siguientes art√≠culos, las mediciones tendr√°n que hacerse a la antigua, con un osciloscopio. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/464795/">https://habr.com/ru/post/464795/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../464777/index.html">¬øPor qu√© const no acelera el c√≥digo C / C ++?</a></li>
<li><a href="../464779/index.html">Sobre las abejas hedonistas, la forma en que las personas las hacen trabajar y los drones</a></li>
<li><a href="../464781/index.html">Televisores inteligentes: CRT a HDR</a></li>
<li><a href="../464785/index.html">Beneficios no competitivos de Beeline</a></li>
<li><a href="../464791/index.html">Kubernetes para el autom√≥vil: c√≥mo abrir el acceso del desarrollador a la computadora de a bordo y hacerla segura</a></li>
<li><a href="../464803/index.html">"Ocultar www": por qu√© los desarrolladores de navegador convencionales se negaron nuevamente a mostrar el subdominio</a></li>
<li><a href="../464805/index.html">Escribir una serpiente en ipad (pythonista)</a></li>
<li><a href="../464809/index.html">C√≥mo probamos la tecnolog√≠a de reconocimiento facial y qu√© result√≥ de ella</a></li>
<li><a href="../464811/index.html">Apple Music para el desarrollador</a></li>
<li><a href="../464813/index.html">Reemplazando los dise√±os de Punto Switcher, Birman con un script en autohotkey</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>