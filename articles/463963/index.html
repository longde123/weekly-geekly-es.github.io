<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåΩ üçè üë©üèø‚ÄçüöÄ Reconocimiento facial en un sitio de construcci√≥n üë®üèø‚Äçüè≠ üí∂ üôáüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Un d√≠a soleado y brillante, cuando el trabajo en el sitio de construcci√≥n est√° en pleno apogeo, todo alrededor es brillante y positivo, y realmente qu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reconocimiento facial en un sitio de construcci√≥n</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/croc/blog/463963/"><img src="https://habrastorage.org/webt/da/tr/a2/datra27ak6ya6dgmos2bjhmnhoq.png"><br><br>  Un d√≠a soleado y brillante, cuando el trabajo en el sitio de construcci√≥n est√° en pleno apogeo, todo alrededor es brillante y positivo, y realmente quiero fre√≠r la barbacoa por la noche, un ex empleado de uno de los contratistas entr√≥ en las instalaciones.  Pas√≥ la entrada, agit√≥ la mano hacia el guardia que lo conoc√≠a de vista (pero no sab√≠a que hab√≠a sido despedido) y entr√≥.  All√≠ fue a sus amigos de Asia Central.  Media hora despu√©s ya estaban asando kebab y disfrutando de la vida. <br><br>  El matiz es que encendieron un fuego entre dos cilindros de gas. <br><br>  Por alguna raz√≥n, uno de los cilindros explot√≥.  Como dicen, nada presagi√≥, y por alguna raz√≥n el cilindro se comport√≥ at√≠picamente.  Si vio c√≥mo se manejan estos cilindros en las regiones nativas de los personajes de la historia, puede imaginar su sincera perplejidad por lo que sucedi√≥. <br><br>  Todos permanecieron vivos e incluso m√°s o menos intactos (nada irreversible).  Shish kebab se fue volando, pero no entr√≥ en √≥rbita.  Las brochetas no perforaron a nadie debajo y desde un lado.  Pero la polic√≠a acudi√≥ a los astronautas fallidos, una ambulancia y casi Sportloto. <br><br>  Ten√≠a que preocuparme, pero no tanto como el d√≠a en que la inspecci√≥n del FMS lleg√≥ al sitio de construcci√≥n.  Luego result√≥ que muchos trabajan en los documentos de los hermanos.  Es decir, uno de la familia se hace un juego de papeles, consigue un trabajo en una obra de construcci√≥n y luego un hermano camina.  No es un gemelo, sino para una neocorteza dom√©stica casi indistinguible. <br><br>  Para uno de esos familiares en un sitio de construcci√≥n, se impone una multa de 500 mil rublos o m√°s, y la construcci√≥n puede suspenderse de 14 a 90 d√≠as.  Y termina muy, muy triste para el contratista general y el cliente. <br><br>  Fue despu√©s de este incidente que nos llamaron para resolver el problema con las herramientas de TI. <a name="habracut"></a><br><br><h3>  S√≠, s√≠, esta es una continuaci√≥n de la historia sobre el gato terminador </h3><br>  Los primeros experimentos fueron en forma de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">torniquetes</a> con proyectores infrarrojos, hicieron un escaneo 3D de la cara (debido a la restauraci√≥n de la geometr√≠a) y dejaron pasar a los que estaban en la base de datos. <br><br>  Tal vez ya haya le√≠do nuestra publicaci√≥n sobre la primera implementaci√≥n del sistema de reconocimiento facial para video de recorrido.  Breve historia: una gran tienda, varios cientos de personas y aproximadamente un tercio de este n√∫mero: cargadores, contratistas, limpiadores y otras personas de personal que cambian constantemente.  La tarea consist√≠a en dejar pasar solo a nuestra propia gente y asegurarnos de cu√°ntas personas pasaron por el torniquete, hab√≠a tantos pases.  Muchos se fueron a almorzar a cuatro de ellos, y uno regres√≥ con cuatro pases.  En promedio, un trabajador enga√±√≥ a un empleador durante 4 horas a la semana. <br><br>  Luego, el sistema de reconocimiento dio un porcentaje bastante alto de casos de falsos negativos: hasta el 2.5% estuvo de nuestra parte.  Estas son caras sucias, fingales, agitando las manos en la cara, superposici√≥n, cascos, anteojos y todo lo dem√°s.  No pudimos controlar algunos de los factores, porque en esa parte del proyecto recolectamos datos de una c√°mara de vigilancia convencional para evaluar primero el alcance del problema. <br><br>  Desde entonces, la tecnolog√≠a ha avanzado mucho y ha sido posible reconocer rostros con precisi√≥n con una gran superposici√≥n.  Lo principal es tener c√°maras de resoluci√≥n suficiente y varios marcos con una cara desde la que pueda elegir lo mejor sin superponerse.  As√≠ que comenzamos a atrapar ladrones de tiendas: este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">detective</a> . <br><br>  En este sitio de construcci√≥n era necesario: <br><br><ol><li>  Permita solo aquellos que tengan un pase al objeto.  Si el equipo del contratista tiene pases por un mes, exactamente un mes despu√©s, el sistema dejar√° de dejarlos entrar.  Tren </li><li>  Permita solo aquellos en el objeto cuya cara coincida con el modelo en la base de datos.  Al emitir un pase, el oficial de seguridad del objeto verifica los documentos y fotograf√≠a a la persona en una c√°mara web en la terminal (similar a recibir un pase a la Biblioteca Lenin en Mosc√∫), y la persona aparece casi inmediatamente en la base de datos en el servidor del n√∫cleo de reconocimiento. </li></ol><br><img src="https://habrastorage.org/webt/7h/bz/b7/7hbzb7f3ouxm2rgbijq7rsl_fwk.png"><br><br>  Situaciones tipicas: <br><br><ol><li>  Otra persona est√° intentando pasar por el pase de otra persona.  Alarma, la seguridad lo detiene y lo comprende manualmente. </li><li>  Un ex empleado est√° tratando de ingresar a las instalaciones.  La seguridad no lo deja entrar. </li><li>  Un empleado que no deber√≠a estar tratando de ir a la instalaci√≥n: el guardia pide un pase y lo acompa√±a. </li></ol><br>  Todas las noches, los gerentes reciben un informe sobre cu√°ntas personas fueron declaradas para trabajar y cu√°ntas vinieron de hecho.  Esto es muy importante, porque uno de los mayores fraudes de los contratistas es declarar a 50 personas y, de hecho, enviar 30 al sitio de construcci√≥n y luego reportar alrededor de 50. <br><br>  Adem√°s, estos datos sobre el n√∫mero real de personas en el esp√≠ritu de "Hoy deber√≠an haber sido 600 personas, pero llegaron 450" ayudan a comprender que los plazos ya se est√°n rompiendo.  Inmediatamente, y no en una semana, dos, tres meses. <br><br><h3>  Lo que vino antes </h3><br>  Antes de eso, hab√≠a un sistema de identificaci√≥n dibujando venas en la palma de su mano.  Este es solo un caso cl√°sico, y ya estamos una vez m√°s llegando a rehacer para tales sistemas.  Trabajan mal incluso en oficinas est√©riles, donde los empleados logran contrabandear cheburek.  Despu√©s de la contaminaci√≥n con un cheburek o cualquier otro alimento graso, este mismo patr√≥n cambia. <br><br>  En nuestro sitio de construcci√≥n hab√≠a muchas personas comunes con alimentos grasos en el cuerpo, h√©roes con manos sucias y un superh√©roe.  No, no tuvo problemas de autenticaci√≥n debido a la p√©rdida de manos.  Ese ser√≠a el menor de sus problemas.  Todo es mucho m√°s interesante: el electricista desde el punto de vista del sistema simplemente no ten√≠a esta imagen.  No sabemos c√≥mo logr√≥ tal nivel de anonimato, pero jug√≥ uno de dos factores: el hecho de que constantemente retorc√≠a los cables con las manos desnudas o el hecho de que estos giros con bastante frecuencia lo sacud√≠an con los dedos en respuesta. <br><br>  En general, solo hab√≠a caras e iris. <br><br>  Iris es m√°s lenta y un poco m√°s cara.  Por la ma√±ana, los autobuses llegan al sitio de construcci√≥n, y de 7 a 8 debe dejar entrar a unas 600 personas. <br><br>  Estuvimos un par de d√≠as en guardia y grabamos todo lo que podr√≠a ser √∫til para la implementaci√≥n.  C√≥mo se comportan los trabajadores cuando van y vienen.  Qu√© r√°pido caminan por el puesto de control.  ¬øQu√© hacen al momento de la llegada y de la partida? ¬øVan uno tras otro? ¬øUsan cascos? ¬øC√≥mo est√° el clima en las instalaciones y c√≥mo afecta su apariencia? ¬øSe superponen en el torniquete? ¬øCon qu√© frecuencia vuelven coloridos despu√©s de la pintura? <br><br><h3>  Soluci√≥n </h3><br><img src="https://habrastorage.org/webt/lw/vo/uv/lwvouvfgr9dgk9af-sw9jsnf7p0.png"><br><br>  Se instalan dos c√°maras en cada torniquete: una mira a la entrada y la otra a la salida. <br><br><img src="https://habrastorage.org/webt/mj/ch/zt/mjchztnzvsqc6sg2o6zzao-_ko8.png"><br>  <i>Lugar de instalaci√≥n de la c√°mara.</i> <br><br>  En el territorio del objeto dentro del per√≠metro hay una peque√±a sala de servidores, enfriada por aire acondicionado, tenemos un estante all√≠.  En un bastidor: dos servidores y un conmutador.  El primer servidor recibe un flujo de video de c√°maras y extrae de √©l los cuadros con caras m√°s exitosos.  El segundo servidor recibe marcos "limpios" con caras y ejecuta el motor de reconocimiento en ellos, comparando estas caras con la base de personas. <br><br>  La l√≥gica de negocios gira en el primer servidor, y el software de administraci√≥n de torniquetes se lanza cerca.  Si solo hab√≠a una persona en el marco, y tiene el derecho de paso, se abre el torniquete.  Si algo est√° mal, se notifica al guardia. <br><div class="scrollable-table"><table><tbody><tr><th><p>  No. p.p. </p><br><br></th><th><p>  Nombre </p><br><br></th><th><p>  Cantidad </p><br><br></th></tr><tr><td><p>  1 </p><br><br></td><td><p>  C√°mara IP, 2MP, WDR, PoE </p><br><br></td><td><p>  4 4 </p><br><br></td></tr><tr><td><p>  2 </p><br><br></td><td><p>  Servidor de procesamiento de video y servidor de aplicaciones.  Una computadora port√°til basada en el procesador Intel i7, 16 GB de RAM, SSD de 250 GB </p><br><br></td><td><p>  1 </p><br><br></td></tr><tr><td><p>  3 </p><br><br></td><td><p>  Servidor de reconocimiento de video.  Una computadora port√°til basada en el procesador Intel i7, 16 GB de RAM, SSD de 250 GB </p><br><br></td><td><p>  1 </p><br><br></td></tr><tr><td><p>  4 4 </p><br><br></td><td><p>  Conmute 4-8 puertos con soporte PoE, 100-1000 Mb / s </p><br><br></td><td><p>  1 </p><br><br></td></tr><tr><td><p>  5 5 </p><br><br></td><td><p>  Webcam, FullHD </p><br><br></td><td><p>  1 </p><br><br></td></tr></tbody></table></div><br>  Para nuestra tarea, el proveedor declar√≥ 1 error (falso positivo y falso negativo) cada 4 meses.  Aqu√≠ est√°n sus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pruebas</a> .  Sabemos que el sistema ha estado distinguiendo gemelos durante los √∫ltimos cinco a√±os (pruebas para oficiales del FSB, preguntaron si es posible atravesar una cabeza cortada; no, es imposible, los m√∫sculos se "hunden" y pierden forma, y ‚Äã‚Äãen general hay muchas pruebas interesantes).  Est√° claro que el proveedor reclama datos para condiciones de "invernadero", pero si busca en las tablas, puede ver que all√≠ se utilizan im√°genes de buena calidad. <br><br>  En la pr√°ctica, no siempre es posible obtener tales im√°genes, sin embargo, hemos creado casi condiciones de "invernadero" dentro de la casa de cambio con un recorrido. <br><br>  Toda la integraci√≥n, el software de gesti√≥n y la preparaci√≥n de im√°genes es nuestro desarrollo.  No se necesita una soluci√≥n de Internet, toda la comunicaci√≥n a trav√©s de un cable de cobre com√∫n dentro de la instalaci√≥n.  Pero si lo conecta, habr√° un monitoreo constante, informes por correo electr√≥nico y asistencia remota para operadores de segunda l√≠nea. <br><br>  Al mismo tiempo, el guardia estableci√≥ un modo de verificaci√≥n muy dif√≠cil: ahora no hay "bueno, solo pregunto" todo a trav√©s de un pase, y cualquier pase al ingresar a una persona en la base de datos. <br><br><h3>  Resultados </h3><br>  En la pr√°ctica, se descubri√≥ que, dado que la decoraci√≥n a√∫n no hab√≠a comenzado, los "hombres verdes" no dejaron el objeto.  El m√°ximo es suciedad, pero ya lo pasamos en la Copa del Mundo, hab√≠a un color de abanico.  El reconocimiento facial ahora se centra m√°s en la geometr√≠a de la cara y construye un modelo tridimensional dentro del n√∫cleo.  No hubo problemas con la suciedad.  Los hematomas leves tampoco afectaron: los principales puntos de referencia est√°n alrededor de la nariz.  Parece que uno lleg√≥ en total solidaridad, y esper√°bamos que no fuera reconocido.  Pero no pas√≥ nada. <br><br>  Las colas casi desaparecieron en la ma√±ana.  Anteriormente, una gran multitud se reuni√≥ all√≠, y ahora dos torniquetes lanzan a 700 personas en una hora, teniendo en cuenta los procedimientos con los guardias y saludando "bueno, lo necesito, el equipo est√° esperando all√≠". <br><br>  La sala tuvo que modificarse ligeramente para que no hubiera reflejos adicionales en la cara, las c√°maras deber√≠an estar dispuestas de manera que no se superpongan.  Los sombreros (cascos) y los anteojos realmente representaban un problema, pero se introdujo la regla de que todo esto debe eliminarse antes de pasar por el torniquete.  Colgaron carteles con fotos. <br><br>  El cliente comenz√≥ a recibir informes sobre el n√∫mero real de personas en el sitio de construcci√≥n, que uno de los contratistas estaba muy molesto. <br><br>  No puedo decir nada sobre la recuperaci√≥n del sistema, ya que el principal caso comercial es la prevenci√≥n de una multa FMS de 500 mil y el cierre de la construcci√≥n por 14-90 d√≠as.  El sistema es m√°s barato que esta multa, pero los controles se realizan de manera irregular, por lo que es dif√≠cil calcular el efecto econ√≥mico.  Pero los veteranos dicen que vale la pena. <br><br>  En realidad, el final de la historia. <br><br><h3>  Referencias </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Torniquetes de reconocimiento facial</a> (publicaci√≥n muy antigua) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Reconocimiento de n√∫meros</a> (publicaci√≥n muy antigua) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gato terminador y aventuras en la entrada</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo reconocimos a los capataces y carros</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Diferentes detectores de anal√≠tica de video</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Buscar ladrones de tiendas por caras</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Big Brother en producci√≥n: detecci√≥n del uso de cascos, guantes y gatos en la m√°quina</a> </li><li>  Mi correo es CROCVBIACEL@croc.ru. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/463963/">https://habr.com/ru/post/463963/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../463951/index.html">c.tech: Cassandra Meetup # 2</a></li>
<li><a href="../463953/index.html">Implementaci√≥n del patr√≥n de dise√±o de comandos en Unity</a></li>
<li><a href="../463955/index.html">¬øC√≥mo desarrollar un concepto para cambiar la plataforma IP? Instrucciones de uso</a></li>
<li><a href="../463957/index.html">C√≥mo implementar una lista de entrevistas enlazadas individualmente</a></li>
<li><a href="../463961/index.html">Mapeador propio o un poco sobre ExpressionTrees</a></li>
<li><a href="../463965/index.html">Aplicaci√≥n de composici√≥n tipogr√°fica en LaTeX</a></li>
<li><a href="../463969/index.html">Presupuesto familiar de Telegram</a></li>
<li><a href="../463971/index.html">Notas de Pentester: Casos de caza</a></li>
<li><a href="../463975/index.html">Entorno moderno para reaccionar aplicaciones nativas</a></li>
<li><a href="../463981/index.html">El hijo de mam√° est√° celoso de ella: c√≥mo ganar el Premio Alice dos veces</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>