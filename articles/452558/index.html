<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úÖ üßôüèº ü¶è ¬øC√≥mo tom√© datos de un term√≥metro BLE de Xiaomi? üíä üëãüèΩ ü•ú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Antecedentes: como uno de mis pasatiempos, ten√≠a una "casa inteligente". Quiero dispositivos hermosos, pero tambi√©n quiero libertad y privacidad. Por ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øC√≥mo tom√© datos de un term√≥metro BLE de Xiaomi?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452558/"> Antecedentes: como uno de mis pasatiempos, ten√≠a una "casa inteligente".  Quiero dispositivos hermosos, pero tambi√©n quiero libertad y privacidad.  Por lo tanto, estoy comprometido en el cruce Xiaomi uzhik con el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Asistente de inicio de</a> hedgehog. <br><br>  Para mantener un ambiente confortable, necesitamos saber qu√© sucede en casa.  En resumen, se necesitan sensores.  Xiaomi tiene muchos diferentes, pero sobre todo me gust√≥ el term√≥metro cuadrado en tinta electr√≥nica.  Pero no es nada inteligente en el sentido de que no proporciona ninguna interfaz, excepto la gr√°fica, ni WiFi, ni BLE, ni ZigBee.  Pero las bater√≠as CR2032 duran varios a√±os.  Tambi√©n hay una versi√≥n con bluetooth, pero es un poco menos elegante, una especie de panqueque grueso. <br><br>  Y a principios de la primavera, se anunci√≥ un nuevo sensor de temperatura / humedad, en tinta electr√≥nica, con BLE e incluso con un reloj.  Realmente no necesito un reloj, pero todo lo dem√°s suprimi√≥ de inmediato todos los argumentos racionales y el term√≥metro se orden√≥ en una de las tiendas en l√≠nea populares, por pedido anticipado.  Cabalg√≥, cabalg√≥ y finalmente lleg√≥. <br><br><img src="https://habrastorage.org/webt/n2/62/pf/n262pfr57ulreqqa4i_vsvvacoa.jpeg"><br><br>  El sensor se agreg√≥ a la aplicaci√≥n MiHome sin problemas (tengo una interfaz en ingl√©s en todas partes, con la versi√≥n rusa de MiHome, dicen, hubo dificultades de traducci√≥n).  Muestra los valores actuales y el historial de cambios en las lecturas. <br><br>  Pero con la integraci√≥n en el Home Assistant se han producido dificultades.  El componente existente para el sensor de temperatura de ninguna manera quiso tomar datos del dispositivo y se quej√≥ del formato de datos incorrecto.  Bueno, no hay nada que hacer, sacamos una pala y comenzamos a cavar. <br><br>  El primer pensamiento fue familiarizarse con el dispositivo del protocolo BLE, pero despu√©s de evaluar el tama√±o de la documentaci√≥n, se decidi√≥ cambiar al popular m√©todo de empuje. <br><a name="habracut"></a><br><h2>  El primer acercamiento al caparaz√≥n </h2><br>  Para comenzar, abra la terminal en ubuntu y ejecute bluetoothctl.  Vemos lo siguiente: <br><br><pre><code class="plaintext hljs">[NEW] Controller 00:1A:7D:DA:71:13 fett [default] [NEW] Device 3F:59:C8:80:70:BE LYWSD02 [NEW] Device 4C:65:A8:DC:0D:AF MJ_HT_V1</code> </pre> <br>  MJ_HT_V1 es un sensor de temperatura antiguo, LYWSD02 es uno nuevo.  La diferencia en el formato de nombre del modelo es algo alarmante. <br><br>  Entonces necesita leer de alguna manera, y qu√© tipo de datos en general se pueden obtener de nosotros.  Abri√≥ las fuentes de la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mitemp</a> , que se utiliza en el Asistente de inicio para recibir datos del sensor anterior.  All√≠ descubr√≠ que se usa la biblioteca blewrap, que, a su vez, es un contenedor en dos bibliotecas de Python para trabajar con BLE.  No necesito tantas capas, usaremos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bluepy</a> .  Hay documentaci√≥n, no es mucho ni poco, leemos y escribimos un script que pasa por todos los campos de datos que est√°n en el dispositivo. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> bluepy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> btle mac = <span class="hljs-string"><span class="hljs-string">'3F:59:C8:80:70:BE'</span></span> p = btle.Peripheral(mac) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> p.getServices(): print(<span class="hljs-string"><span class="hljs-string">'Service:'</span></span>, s.uuid) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> s.getCharacteristics(): print(<span class="hljs-string"><span class="hljs-string">'\tCharacteristic:'</span></span>, c.uuid) print(<span class="hljs-string"><span class="hljs-string">'\t\t'</span></span>, c.propertiesToString()) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> c.supportsRead(): print(<span class="hljs-string"><span class="hljs-string">'\t\t'</span></span>, c.read())</code> </pre> <br>  En general, todo es simple: un dispositivo BLE proporciona un conjunto de servicios, cada uno de los cuales consiste en un conjunto de caracter√≠sticas.  Cada caracter√≠stica puede ser uno de los 8 tipos, para una caracter√≠stica puede especificar varios tipos al mismo tiempo.  Los servicios y caracter√≠sticas se identifican de dos maneras: una direcci√≥n en forma de un valor HEX y un UUID.  Estoy m√°s familiarizado con trabajar con UUID. <br><br>  Entonces, consider√© todas las especificaciones para ambos sensores, las mir√© y me di cuenta de que nuevamente los dispositivos de fabricantes completamente diferentes se venden bajo la marca Xiaomi.  Entre los valores del antiguo sensor, se encontr√≥ "Cleargrass Inc", y en el nuevo, "miaomiaoce.com".  La estructura de servicios y caracter√≠sticas de estos dos sensores tambi√©n es completamente diferente, y la lista de caracter√≠sticas del nuevo sensor es el doble.  Luego qued√≥ claro que necesita escribir su propia biblioteca para la integraci√≥n con el sensor (no, por supuesto que busqu√© en Google al principio, tal vez hay algo √∫til a pedido LYWSD02, pero no le di a Google nada sensato). <br><br><h2>  Entonces, ¬øc√≥mo se obtienen los datos? </h2><br>  Entre los tipos de caracter√≠sticas disponibles, adem√°s de LEER, tambi√©n hay ESCRIBIR y NOTIFICAR.  ESCRIBIR - para enviar datos al dispositivo, y NOTIFICAR - para recibir datos.  Tambi√©n hay WRITE NOTIFY al mismo tiempo: el dispositivo solo enviar√° datos despu√©s de suscribirse enviando el byte deseado con el comando WRITE. <br><br>  Los intentos de hacer algo con mis manos no dieron ning√∫n resultado, se lleg√≥ a la primera l√≠nea de desesperaci√≥n, pero en ese momento le√≠ art√≠culos sobre artesan√≠as basadas en chips de Nordic Semiconductors y puse el programa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">nRF Connect</a> en mi tel√©fono inteligente.  Con su ayuda, pude suscribirme a todos los servicios que proporcionaba el dispositivo, guard√© los registros de respuestas y comenc√© a tratar de comprender qu√© hay en ellos. <br><br> <a href=""><img src="https://habrastorage.org/webt/gy/xz/ak/gyxzakm5oinigfzudk_u7zvs6tw.png"></a> <br><br>  Estas flechas triples activan la suscripci√≥n. <br><br>  La peculiaridad del antiguo sensor era que los datos sobre temperatura y humedad se presentaban en forma de una cadena UTF, mientras que el nuevo devolv√≠a todo en forma binaria. <br><br><h2>  Suscr√≠base a las notificaciones </h2><br>  Para recibir datos del sensor, debe enviar una solicitud de suscripci√≥n.  En la biblioteca mitemp, se enviaron dos bytes para la caracter√≠stica para esto, pero no est√° claro d√≥nde obtenerla. Aqu√≠ mir√© c√≥mo se ve la estructura de datos para el sensor anterior en nRF Connect y not√© que la direcci√≥n deseada se especifica para la caracter√≠stica con datos, como un descriptor.  Luego comenc√© a leer la documentaci√≥n para bluepy nuevamente y me di cuenta de que la direcci√≥n del descriptor se puede obtener f√°cilmente del objeto de caracter√≠sticas.  Solo queda escribir una clase con un m√©todo de devoluci√≥n de llamada, que recibir√° datos de la notificaci√≥n. <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyDelegate</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(btle.DefaultDelegate)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleNotification</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, cHandle, data)</span></span></span><span class="hljs-function">:</span></span> print(data) mac_addr = <span class="hljs-string"><span class="hljs-string">'3F:59:C8:80:70:BE'</span></span> p = btle.Peripheral(mac_addr) p.setDelegate(MyDelegate()) uuid = <span class="hljs-string"><span class="hljs-string">'EBE0CCC1-7A0A-4B0C-8A1A-6FF2997DA3A6'</span></span> <span class="hljs-comment"><span class="hljs-comment">#    ,        ch = p.getCharacteristics(uuid=uuid)[0] #     desc = ch.getDescriptors(forUUID=0x2902)[0] #  ,         desc.write(0x01.to_bytes(2, byteorder="little"), withResponse=True) while True: p.waitForNotifications(5.0)</span></span></code> </pre> <br><h2>  Separamos los granos de la paja </h2><br>  Afortunadamente, solo tres caracter√≠sticas se marcaron como ESCRIBIR NOTIFICACI√ìN, mientras que los datos llegaron con diferentes frecuencias y, um ..., caracter√≠sticas visuales. <br><br>  La primera solicitud envi√≥ inmediatamente una gran superficie de datos y luego se atasc√≥.  En este caso, el primer byte fue un n√∫mero mon√≥tonamente creciente.  Esto parece ser una historia acumulada de promedios. <br><br>  El segundo y el tercero se enviaron peri√≥dicamente, pero mirando de cerca, vi que uno de ellos no cambia, y en los datos del segundo solo se cambia un byte.  Bueno, entonces esta es la hora actual (les recuerdo que este term√≥metro tiene un reloj. Deber√≠a haber un reloj en cualquier dispositivo que se respete para una casa inteligente). <br><br>  Supongamos que la tercera caracter√≠stica son datos √∫tiles sobre temperatura y humedad.  Para confirmar la hip√≥tesis, se realiz√≥ un experimento f√≠sico: fue al sensor y respir√≥ bruscamente.  Los valores de los datos aumentaron considerablemente en la pantalla y los bytes cambiaron en el terminal.  Hurra, los datos est√°n en alg√∫n lugar cercano. <br><br><h2>  An√°lisis de datos </h2><br>  Por lo general, trabajo con datos de texto (obtengo datos HTTP en forma de JSON / xml, los pongo en un archivo o en una base de datos), por lo que realmente no entend√≠ c√≥mo abordar la tarea.  Por lo tanto, comenc√© a tratar de transformar los datos de diferentes maneras que se pueden hacer desde python.  Escrib√≠ aqu√≠ una funci√≥n de conversi√≥n y comenc√© a ver c√≥mo esto se correlaciona con los datos en la pantalla del sensor. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v)</span></span></span><span class="hljs-function">:</span></span> print([x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> v]) print(<span class="hljs-string"><span class="hljs-string">'{0:#x}'</span></span>.format(int.from_bytes(data, byteorder=<span class="hljs-string"><span class="hljs-string">'big'</span></span>))) print(<span class="hljs-string"><span class="hljs-string">'{0:#x}'</span></span>.format(int.from_bytes(data, byteorder=<span class="hljs-string"><span class="hljs-string">'little'</span></span>)))</code> </pre> <br>  L√≠neas de diversos grados de oscuridad se vertieron en la consola, pero el tercer byte siempre fue un n√∫mero, y este n√∫mero coincidi√≥ con el valor de humedad.  En aras de la fidelidad, una vez m√°s respir√© en el sensor, ¬°y los valores de humedad en la pantalla y en el tercer byte cambiaron igual! <br><br>  Luego suger√≠ que la temperatura se almacenara en los primeros dos bytes.  Para que los datos cambien, transfer√≠ el sensor a un toallero calentado en el ba√±o.  Pero no importa c√≥mo intent√© transformar los resultados, los n√∫meros requeridos no funcionaron. <br><br><h2>  En el camino al exito </h2><br>  En ese momento, volv√≠ a mirar la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descripci√≥n del sensor</a> y vi que dentro hab√≠a un sensor de Swiss Sensirion.  Probablemente valga la pena comenzar con esto, pero este no es nuestro m√©todo.  Se encontraron un mont√≥n de sensores en el sitio web de Swiss Sensirion, y hojas de datos para ellos.  En la hoja de datos, entre otras cosas, se encontr√≥ una f√≥rmula para convertir bytes transmitidos a trav√©s del bus I2C a un n√∫mero. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>T</mi><mo stretchy=&quot;false&quot;>[</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xB0;</mo></mrow><mi>C</mi><mo stretchy=&quot;false&quot;>]</mo><mo>=</mo><mo>&amp;#x2212;</mo><mn>45</mn><mo>+</mo><mn>175</mn><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>S</mi><mi>T</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn><mo>&amp;#x2212;</mo><mn>1</mn></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="39.529ex" height="3.021ex" viewBox="0 -987.6 17019.5 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-5B" x="704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-B0" x="983" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-43" x="1483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-5D" x="2244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-3D" x="2800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-2212" x="3856" y="0"></use><g transform="translate(4635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-35" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-2B" x="5858" y="0"></use><g transform="translate(6859,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-35" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-63" x="8610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-64" x="9044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-6F" x="9567" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-74" x="10053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-66" x="10664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-72" x="11215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-61" x="11666" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-63" x="12196" y="0"></use><g transform="translate(12629,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-54" x="867" y="-213"></use></g><g transform="translate(13841,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-31" x="707" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-36" x="954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-2212" x="1677" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-31" x="2677" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>T</mi><mo stretchy="false">[</mo><mrow class="MJX-TeXAtom-ORD"><mo>¬∞</mo></mrow><mi>C</mi><mo stretchy="false">]</mo><mo>=</mo><mo>‚àí</mo><mn>45</mn><mo>+</mo><mn>175</mn><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>S</mi><mi>T</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn><mo>‚àí</mo><mn>1</mn></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> T [¬∞ C] = -45 + 175 \ cdot \ frac {S_T} {2 ^ 16-1} </script></p><br><br>  Pero ... Result√≥ valores muy extra√±os.  Algo as√≠ como -34.66, pero estaba claramente m√°s c√°lido.  De tristeza y tristeza, incluso abr√≠ el sensor y verifiqu√© si el sensor de Swiss Sensirion era cierto all√≠.  Result√≥ que era cierto, pero con el √≠ndice SHTC3, y necesitaba una f√≥rmula ligeramente diferente. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>T</mi><mo stretchy=&quot;false&quot;>[</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xB0;</mo></mrow><mi>C</mi><mo stretchy=&quot;false&quot;>]</mo><mo>=</mo><mo>&amp;#x2212;</mo><mn>45</mn><mo>+</mo><mn>175</mn><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>S</mi><mi>T</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.526ex" height="3.021ex" viewBox="0 -987.6 15296.1 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-5B" x="704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-B0" x="983" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-43" x="1483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-5D" x="2244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-3D" x="2800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-2212" x="3856" y="0"></use><g transform="translate(4635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-35" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-2B" x="5858" y="0"></use><g transform="translate(6859,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-35" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-63" x="8610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-64" x="9044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-6F" x="9567" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-74" x="10053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-66" x="10664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-72" x="11215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-61" x="11666" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-63" x="12196" y="0"></use><g transform="translate(12629,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMATHI-54" x="867" y="-213"></use></g><g transform="translate(13841,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-31" x="707" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiIY1bP-BnK5095X1WogKI84fMZmA#MJMAIN-36" x="954" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>T</mi><mo stretchy="false">[</mo><mrow class="MJX-TeXAtom-ORD"><mo>¬∞</mo></mrow><mi>C</mi><mo stretchy="false">]</mo><mo>=</mo><mo>‚àí</mo><mn>45</mn><mo>+</mo><mn>175</mn><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>S</mi><mi>T</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> T [¬∞ C] = -45 + 175 \ cdot \ frac {S_T} {2 ^ 16} </script></p><br><br>  Sin embargo, de todos modos, los datos despu√©s de la conversi√≥n ni siquiera se parec√≠an mucho a los reales.  Aqu√≠ estaba a√∫n m√°s triste, abr√≠ el c√≥digo fuente de la biblioteca para SHTC3 de Adfruit y comenc√© a tratar de adaptar el c√≥digo de transformaci√≥n de C ++ a Python.  Traje todo a la tableta: datos en bruto, estructura convertida y resultado. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleNotification</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, cHandle, data)</span></span></span><span class="hljs-function">:</span></span> temp = data[:<span class="hljs-number"><span class="hljs-number">2</span></span>] humid = data[<span class="hljs-number"><span class="hljs-number">2</span></span>] unpacked = struct.unpack(<span class="hljs-string"><span class="hljs-string">'H'</span></span>, temp)[<span class="hljs-number"><span class="hljs-number">0</span></span>] print(data, unpacked, <span class="hljs-number"><span class="hljs-number">-45</span></span> + <span class="hljs-number"><span class="hljs-number">175</span></span> * unpacked / <span class="hljs-number"><span class="hljs-number">2</span></span> ** <span class="hljs-number"><span class="hljs-number">19</span></span>, sep=<span class="hljs-string"><span class="hljs-string">'\t'</span></span>)</code> </pre> <br>  Tengo algo como esto: <br><br><pre> <code class="plaintext hljs">b',\n2' 2604 -44.130821228027344 b'-\n2' 2605 -44.1304874420166 b'+\n2' 2603 -44.131155014038086 b',\n2' 2604 -44.130821228027344</code> </pre> <br>  S√≠ ... hace un poco de fr√≠o ... Pero, espera, espera, ¬øqu√© es 2604?  ¬°Esto es, 26.0 grados en la pantalla!  Para confirmar la hip√≥tesis, volvi√≥ a llevar el sensor a la bater√≠a y comprob√≥ que los valores coinciden. <br><br>  Como resultado, obtenemos el siguiente c√≥digo de conversi√≥n de datos: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleNotification</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, cHandle, data)</span></span></span><span class="hljs-function">:</span></span> humid_bytes = data[<span class="hljs-number"><span class="hljs-number">2</span></span>] temp_bytes = data[:<span class="hljs-number"><span class="hljs-number">2</span></span>] humidity = humid_bytes temperature = struct.unpack(<span class="hljs-string"><span class="hljs-string">'H'</span></span>, temp_bytes)[<span class="hljs-number"><span class="hljs-number">0</span></span>] / <span class="hljs-number"><span class="hljs-number">100</span></span> print(temperature, humidity)</code> </pre><br><h2>  Ep√≠logo </h2><br>  La operaci√≥n para conectarse al sensor y buscar el algoritmo de transformaci√≥n correcto tom√≥ un par de noches.  Varias veces quise dejarlo todo, pero al mismo tiempo surgieron nuevas ideas y continu√© intent√°ndolo. <br><br>  Ahora los datos se transfieren al Asistente de inicio, entonces debe finalizar el c√≥digo de integraci√≥n y, posiblemente, reescribirlo de bluepy a bleak, ya que bleak usa async / wait y es m√°s adecuado para el Asistente de inicio escrito por aiohttp. <br><br><img src="https://habrastorage.org/webt/jm/eb/ij/jmebijgiosb2hpbfup3agswpsgu.png"><br><br><h3>  Referencias </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">P√°gina de sensores en mi.com</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Documentaci√≥n de Bluepy</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sensor SHTC3</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Servicios y caracter√≠sticas MJ_HT_V1</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Servicios y caracter√≠sticas LYWSD02</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Repositorio con borrador de integraci√≥n de Home Assistant</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/452558/">https://habr.com/ru/post/452558/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452546/index.html">AirSelfie 2 Power Edition - C√°mara Valik. O no?</a></li>
<li><a href="../452548/index.html">¬øY para qu√© est√°s preparado para un iPhone?</a></li>
<li><a href="../452550/index.html">Frontend Weekly Digest (13-19 de mayo de 2019)</a></li>
<li><a href="../452552/index.html">Scala de compilaci√≥n cruzada en un proyecto Gradle</a></li>
<li><a href="../452556/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 365 (13-19 de mayo de 2019)</a></li>
<li><a href="../452560/index.html">PHP Digest No. 156 (6-20 de mayo de 2019)</a></li>
<li><a href="../452562/index.html">Escribir c√≥digo JavaScript limpio y escalable: 12 consejos</a></li>
<li><a href="../452564/index.html">Caracter√≠sticas de Python 3 que vale la pena usar</a></li>
<li><a href="../452566/index.html">Node.js para principiantes: los fundamentos de trabajar con archivos</a></li>
<li><a href="../452568/index.html">Un an√°lisis detallado de las nuevas caracter√≠sticas de React 16+, parte 1: informaci√≥n general</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>