<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค ๐ฉ๐พโ๐คโ๐จ๐ฟ ๐ Levenshtein ุงููุณุงูุฉ ูุงูุจุญุซ ุนู ูุญุฏุงุช ุงูุชุญูู ๐ง โช๏ธ ๐ต</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฑุจูุง ุ ูู ูู ูุฏููุฉ ูู ุจููุงุฑูุณูุง ุญูุซ ุชูุฌุฏ ุนุฑุจุงุช ุชุฑููู ุ ุชูุฌุฏ ูุฌููุนุงุช VK ุฃู ุฏุฑุฏุดุงุช ุนูู Telegram ูุชุนูุจ ูููุง ุงูุฃุดุฎุงุต ูููุน ูุญุฏุงุช ุงูุชุญูู. ูุชู ุฐูู ุจุดูู ุฃุณุงุณู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Levenshtein ุงููุณุงูุฉ ูุงูุจุญุซ ุนู ูุญุฏุงุช ุงูุชุญูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/478490/" style=";text-align:right;direction:rtl">  ุฑุจูุง ุ ูู ูู ูุฏููุฉ ูู ุจููุงุฑูุณูุง ุญูุซ ุชูุฌุฏ ุนุฑุจุงุช ุชุฑููู ุ ุชูุฌุฏ ูุฌููุนุงุช VK ุฃู ุฏุฑุฏุดุงุช ุนูู Telegram ูุชุนูุจ ูููุง ุงูุฃุดุฎุงุต ูููุน ูุญุฏุงุช ุงูุชุญูู.  ูุชู ุฐูู ุจุดูู ุฃุณุงุณู ุญุชู ูุง ุชุฏูุน ููุงุจู ุงูุณูุฑ ูุงูุณูุฑ ูุฌุงููุง ุ ุนูู ุงูุฑุบู ูู ุฃู ูุตู ุงููุฌููุนุงุช ุฏุงุฆููุง ูุง ูุญุชูู ุนูู ุญุงุดูุฉ "ุงูุฏูุน ููุงุจู ุงูุณูุฑ". <br><a name="habracut"></a><br>  ูู VC ุ ูุจุฏู ุนุงุฏุฉู ููุง ููู: <br><br><img src="https://habrastorage.org/webt/ti/eh/cd/tiehcdyeskmccfofp3adt2ko_qe.png" alt="ุตูุฑุฉ"><br><br>  ุชุนููู ูููุฐุฌู ูุดุจู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/ki/kp/s0/kikps0wwqqptfwyro8hrf81rtzg.png" alt="ุตูุฑุฉ"><br><br>  ุงููููู ุจุณูุท ููุบุงูุฉ.  ูู ุงูุชุนููู ุ ุชูุฌุฏ ุฃุณูุงุก ููุฅููุงู ุญูุซ ุชู ููุงุญุธุฉ ูุญุฏุงุช ุงูุชุญูู ุญุงูููุง ุ ูููุงู ุฃูุถูุง ุงูุงุชุฌุงู ุงูุฐู ููููู ููู: <br><br><img src="https://habrastorage.org/webt/no/gy/2l/nogy2l1lrraa8gte90lcyuwsume.png" alt="ุตูุฑุฉ"><br><br>  ููุชูุฌุฉ ูุฐูู ุ ูุฅู ุงูุชุนููู ูู ูุงุฆู ุฐู ุชููู ูููุช ูุชุงุฑูุฎ ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุนุฑู ูุฑูุฏ ูููููุง ูู ุฎูุงูู ุงูุชุนุฑู ุนููู.  ุจุงุณุชุฎุฏุงู ูุฐุง ุ ููููู ุญุณุงุจ ุงููููุน ุงูุฃูุซุฑ ุงุญุชูุงููุง ุญูุซ ุชูุฌุฏ ูุญุฏุงุช ุงูุชุญูู ุงูุขู. <br><br><h4 style=";text-align:right;direction:rtl">  ุชุฏุฑูุจ </h4><br>  ุชุญุชุงุฌ ุฃููุงู ุฅูู ุชุญุฏูุฏ ุงูุฌูููุฑ ุงููุณุชูุฏู ุ ุงูุฐู ุณูููู ูู ุฎูุงูู ุจุชุญููู ุงูุจูุงูุงุช.  ูุฌุจ ุฃู ูููู ูููุฌููุนุฉ ูุดุงุท ูุจูุฑ ูู ุงูุชุนูููุงุช ุ ูุฅูุง ูุฅููุง ูุฌุงุฒู ุจุงูุญุตูู ุนูู ุงููููู ุฌุฏูุง ูู ุงูุจูุงูุงุช <br><br>  ูู ุญุงูุชู ุ ูุฐู ูู ูุฌููุนุฉ "Control Gomel". <br><br>  ุณูููู ุจุชุญููู ุงูุชุนูููุงุช ุจุงุณุชุฎุฏุงู ูุงุฌูุฉ VKontakte API ุงูุฑุณููุฉ ูุจูุซูู <br><br>  ูุญู ูููู ุจุงููุตุงุฏูุฉ ุจุงุณุชุฎุฏุงู ููุชุงุญ ูุตูู ุงููุณุชุฎุฏู ุ ุญูุซ ูุฏ ูุชู ุฅุบูุงู ุจุนุถ ุงููุฌููุนุงุช ุ ููุง ูููู ุงููุตูู ุฅูู ุชุนูููุงุชูู ุฅูุง ุฅุฐุง ุชู ูุจููู ูู ุงููุฌููุนุฉ. <br>  ุจุนุฏ ุฐูู ุ ููููู ุงูุจุฏุก ูู ุงุณุชุฎุฑุงุฌ ุงูุชุนูููุงุช: <br><br><h4 style=";text-align:right;direction:rtl">  ุชููู ุงูุชุนูููุงุช </h4><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูุญุตู ุนูู ุขุฎุฑ ููุดูุฑ ูุชุงุญ ูู ุงููุฌููุนุฉ ูุณุญุจ ุงูุชุนูููุงุช ูู ุฎูุงู vk.wall.getComments ุ ูุชููุฆุฉ DataFrame ุ ุญูุซ ุณูููู ุจุญูุธ ุงูุจูุงูุงุช. <br><br>  ูุญุชูู ูู ููุดูุฑ ููุชุนููู ุนูู ููุด "ุฃุชููู ูู ููููุง ุณุนูุฏูุง ุ ูุงุฏูุน ุงูุฃุฌุฑุฉ ููุง ุชูุน ุชุญุช ุงูุณูุทุฑุฉ" ุ ูุฐุง ูู ุจุชูุฒูู ุงูุชุนูููุงุช ุ ูุงูุชุญูู ูู ูุญุชููุงุช ุงูููุดูุฑ ูุงูุญุตูู ุนูู ูุฌููุนุฉ ูู ุงูุชุนูููุงุช ุงูุชู ููููู ูู ุฎูุงููุง ุฃุฎุฐ ุงูุจูุงูุงุช. <br><br>  ุฃุฎุฐุช ุชุนูููุงุช ูู ุงููุดุงุฑูุงุช ุนูู ูุฏุงุฑ ุงูุซูุงุซุฉ ุฃุดูุฑ ุงููุงุถูุฉ ุ ุจุงููุธุฑ ุฅูู ุฃู ููุงู ููุดูุฑูุง ูุงุญุฏูุง ูุชู ูุดุฑู ูููููุง (ุงูุขู ูู ููุงูุฉ ููููุจุฑ ุ ูุชุจุฏุฃ ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ ูู ุณุจุชูุจุฑ ุ ูุนูู ุงูุฃุฑุฌุญ ุฃู ูุฃุฎุฐ ุงููุชุญูููู ุฐูู ูู ุงูุงุนุชุจุงุฑ ููุบูุฑูู ุฃูุงูููู ุงูุนุงุฏูุฉ).  ูู ุญูุซ ุงููุจุฏุฃ ุ ูููู ุฃุฎุฐ ุนูุงูุงุช ุฃุฎุฑู ูู ุงูุงุนุชุจุงุฑ ุ ูุซู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูููุช ูู ุงูุณูุฉ. <br><br>  ุจุนุถ ุงูุชุนูููุงุช ูุณุฏูุฏุฉ ุจุฑุณุงุฆู ูุซู "ูู ููุฌุฏ ุฃุญุฏ ุนูู ุจุงุฑููููุ"  ุฅุฐุง ูุธุฑุช ุฅูู ูุฐู ุงูุชุนูููุงุช (ุบูุฑ ุงูุถุฑูุฑูุฉ) ุ ููููู ุชุณููุท ุงูุถูุก ุนูู ุจุนุถ ุงูุนูุงูุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุชูู ุงููุต ุนูู ุงููููุงุช "ุงููุธููุฉ" ุ "ุงููุณุงุฑ" ุ "ูุง ุฃุญุฏ" ููุง ุดุงุจู </li><li style=";text-align:right;direction:rtl">  ุงููููุงุช "ูู ูู" ุ "ูู" ุ "ูุงุฐุง" ุ "ููู" </li><li style=";text-align:right;direction:rtl">  ุงูุฑููุฒ ุ ูุซู ุงูุฑููุฒ ุ ุนูู ุณุจูู ุงููุซุงู </li></ul><br>  ุจุนุฏ ุฐูู ุ ูุชุตูุญ ูุฌููุนุฉ ูู ุงูุชุนูููุงุช ููุณุชุฎุฑุฌ ูููุง ูุนุฑููุง ูุฑูุฏูุง ููุตูุง ูููุชูุง ูุชุงุฑูุฎูุง ูููููุง ูู ุงูุฃุณุจูุน ุ ูุถุนูุง ูู DataFrame ุงูุฐู ุชู ุฅูุดุงุคู ุจุงููุนู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชููู ุงูุชุนูููุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lp <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> vk_api <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> check_correctness <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">auth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> vk_session = vk_api.VkApi(lp.login, lp.password) vk_session.auth() vk = vk_session.get_api() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> vk <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDataFromComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(vk, groupID)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#     posts = vk.wall.get(owner_id=groupID, offset=1, count=90) print("\n") data = pd.DataFrame(columns=['text', 'post_id', "date", "day_in_week", "hour","minute", "day_in_month"]) for post in posts.get("items"): # id     postID = post.get("id") if "  ,       " not in post.get("text"): continue #  commentary       comments = vk.wall.getComments(owner_id=groupID, post_id=postID, count=200) #           dataframe for comment in comments.get("items"): text = comment.get("text") text = re.sub(r"A-Za-z--0123456789 ", "", str(text)) commentaryIsNice = check_correctness.detection(text) if commentaryIsNice: print(text) date = comment.get("date") time_struct = time.gmtime(date) post_id = comment.get("post_id") data = data.append({"text": text, "post_id" : post_id, "date": date,"day_in_week" : time_struct.tm_wday, "hour": (time_struct.tm_hour+3), "minute": time_struct.tm_min, "day_in_month": time_struct.tm_mday}, ignore_index=True) # print(data[:10]) # print(data.info()) print("dataset is ready") return data</span></span></code> </pre> <br></div></div><br>  ูุจุงูุชุงูู ุ ุชููููุง DataFrame ูุน ูุต ุงูุชุนูููุงุช ููุนุฑููู ูููู ุงูุฃุณุจูุน ูุงูุณุงุนุฉ ูุงูุฏูููุฉ ุงูุชู ููุชุจ ูููุง ุงูุชุนููู.  ูุญุชุงุฌ ููุท ุฅูู ููู ุงูุฃุณุจูุน ูุณุงุนุฉ ุงููุชุงุจุฉ ูุงููุต.  ูุจุฏู ุดูุก ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/cd/hs/cy/cdhscyg3rx4f5kejgvjdguuscui.png" alt="ุตูุฑุฉ"><br><br><h4 style=";text-align:right;direction:rtl">  ุชุทููุฑ ุงูุจูุงูุงุช </h4><br>  ุงูุขู ูุญู ุจุญุงุฌุฉ ููุณุญ ุงูุจูุงูุงุช.  ูู ุงูุถุฑูุฑู ุฅุฒุงูุฉ ุงูุงุชุฌุงู ูู ุงูุชุนููู ูู ุฃุฌู ุชูููู ุงูุฃุฎุทุงุก ุนูุฏ ุงูุจุญุซ ุนู ูุณุงูุฉ Levenshtein.  ูุฌุฏ ุงูุชุนุจูุฑุงุช "ุฅูู ุงูุฌุงูุจ" ุ ู "ุงุฐูุจ" ุ ู "ููู" ุ ู "ูุฑูุจ" ุ ุญูุซ ูุชู ุงุชุจุงุนูุง ุนุงุฏุฉู ุจุงุณู ุงููุญุทุฉ ุงูุซุงููุฉ ุ ููุญุฐููุง ูุน ูุง ูุฃุชู ุจุนุฏูุง ุ ููุฐูู ูุณุชุจุฏู ุจุนุถ ุฃุณูุงุก ุงููุตุทูุญุงุช ูู ุงููุญุทุงุช ุจุงูุขุชู . <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุณุญ ุงูุจูุงูุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> fuzzywuzzy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> process <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clear_commentary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(text)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""    -     """</span></span> index = <span class="hljs-number"><span class="hljs-number">0</span></span> splitted = text.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i, s <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(splitted): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(splitted) == <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> np.NaN <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> s) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> (<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> s) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> ( <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> s) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> ( <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> s)) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> s <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>): index = i <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> index <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> index &lt; len(splitted) - <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>): splitted.remove(splitted[index]) string = <span class="hljs-string"><span class="hljs-string">" "</span></span>.join(splitted) text = (string.lower()) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> index <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: splitted = splitted[:index] string = <span class="hljs-string"><span class="hljs-string">" "</span></span>.join(splitted) text = string.lower() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: text = <span class="hljs-string"><span class="hljs-string">" "</span></span>.join(splitted).lower() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> text <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clean_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function">:</span></span> data.dropna(inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) data[<span class="hljs-string"><span class="hljs-string">"text"</span></span>] = data[<span class="hljs-string"><span class="hljs-string">"text"</span></span>].map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> s: clear_commentary(s)) data.dropna(inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) print(<span class="hljs-string"><span class="hljs-string">"cleaned"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data</code> </pre> <br></div></div><br><h4 style=";text-align:right;direction:rtl">  ุชุญููู ุจุงุณุชุฎุฏุงู ุงููุณุงูุฉ Levenshtein </h4><br>  ููุชูู ูุจุงุดุฑุฉ ุฅูู ูุณุงูุฉ ูููููุดุงู.  ุงููููู ูู ุงููุณุงุนุฏุฉ: ูุณุงูุฉ Levenshtein - ุงูุญุฏ ุงูุฃุฏูู ูุนุฏุฏ ุงูุนูููุงุช ูุฅุฏุฎุงู ุญุฑู ูุงุญุฏ ุ ูุญุฐู ุญุฑู ูุงุญุฏ ูุงุณุชุจุฏุงู ุญุฑู ูุงุญุฏ ุจุขุฎุฑ ุ ุถุฑูุฑู ูุชุญููู ุณุทุฑ ูุงุญุฏ ุฅูู ุขุฎุฑ. <br><br>  ุณูู ูุฌุฏูุง ุจุงุณุชุฎุฏุงู ููุชุจุฉ <a href="https://github.com/seatgeek/fuzzywuzzy">fuzzywuzzy</a> .  ุงููุง ุชุณุงุนุฏู ุจุณุฑุนุฉ ูุณูููุฉ ุญุณุงุจ ุงููุณุงูุฉ Levenshtein.  ูุชุณุฑูุน ุงูุนูู ุ ููุตู ูุคููู ุงูููุชุจุฉ ุฃูุถูุง ุจุชุซุจูุช ููุชุจุฉ ุจูุซูู ูููููุดุชุงูู. <br><br>  ูู ุฃุฌู ุงูุญุตูู ุนูู ููุงุท ุชููู ูู ุงูุชุนูููุงุช ุ ูุญุชุงุฌ ุฅูู ูุงุฆูุฉ ูู ุงููุญุทุงุช.  ุชู ุชูุฏููู ูู ูู ูุจู ูุทูุฑ ุชุทุจูู GoTrans ุ ุฃููุณูุฏุฑ ููุฒููู. <br><br>  ูุฌุจ ุชูุณูุน ุงููุงุฆูุฉ ุ ูุน ุฅุถุงูุฉ ุจุนุถ ุงูุชูููุงุช ุงูุชู ูู ุชูู ููุฌูุฏุฉ ุ ูุชุบููุฑ ุฌุฒุก ูู ุงูุฃุณูุงุก ุจุญูุซ ุชููู ูู ูููุน ุฃูุถู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชููู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุชููู = ["ุณูุจุฑ ูุงุฑูุช" ุ "ูุฑุฌ" ุ "ุฑูููุจุชุฎูููุง" ุ "ูููููุบุฑุงุฏ" ุ "ูุงุฑูุณูุงูู" ุ "ุจูููุณูุงูุง" ุ <br>  "ูุงุฑูุณูุงูู" ุ "ุชูููููููู" ุ "8 ูุงุฑุณ" ุ <br>  "ุจูุช ุงูุชุฌุงุฑุฉ Rechitsky" ุ "ุดุงุฑุน Rechitsky" ุ "ุงูุณูุฑู" ุ "ูุชุฌุฑ ูุจูุฑ" ุ "Chongarskaya" ุ <br>  "chongarka" ุ "ggu" ุ "skorina" ุ "ุงูุฌุงูุนุฉ" ุ "ุงูุฃุฌูุฒุฉ" ุ "1000 ุงูุฃุดูุงุก ุงูุตุบูุฑุฉ" ุ "maya" ุ "station" ุ <br>  "ุญุฏููุฉ ุงูุฎุฑูุฌูู" ุ "ุงูุชุฌุงุฑุฉ ูุงูุงูุชุตุงุฏูุฉ" ุ "ุงูุฐูุฑู" ุ "ุงูููุงุทุนุฉ ุงูุตุบูุฑุฉ 18" ุ "ุงููุทุงุฑ" ุ "ูุฏูู" ุ <br>  "gomelgeodezcentr" ุ "Crystal" ุ "ุจุญูุฑุฉ lyubenskoye" ุ "ุณูู davydovsky" ุ "davydovka" ุ <br>  "ููุฑ sozh" ุ "gomeldrev" ุ <br>  "Sevruki" ุ "gmu ุฑูู 1" ุ "ุฅูุฎ Rechitsky" ุ "ุงูุฒู" ุ "ูุณุชุดูู ุงูุฃูุฑุงุถ ุงููุนุฏูุฉ" ุ "ูุนุณูุฑ ุงูููุฑุณ" ุ <br>  ููููุชููุง ุ ููุฑุงู ุ ุบููููุชูุฑุบูุงุด ุ ุบููููุจุฑููุช ุ ููุดุบูููุณุชุฑูู ุ ุตุญููุฉ ุ <br>  "ูุงูููููููุง" ุ "ุฅุฑููููู" ุ "ุชูุทูุฑ" ุ "ุฃุชูุชุฉ ุตูุงุนูุฉ ุฎุงุตุฉ" ุ "ุงููุฏุฑุณุฉ ุงูุซุงููุฉ" ุ "ุจุงุฑููููุง" ุ <br>  "ูุญุฏุงุช ุงูุขูุฉ" ุ "ุงูุดุจุงุจ" ุ "ููุฆุฉ ุงูุตุจ" ุ "ุงูููููุงุฆููู" ุ "golovatsky" ุ "budenny" ุ <br>  "spu67" ุ "35" ุ "gagarin" ุ ู 50 ุนุงููุง ุฅูู ูุตูุน Gomselmash "ุ" ุงูุชู "ุ" ูุตูุน ุงูุฑุงุฏูู "ุ <br>  "ุงูุฌุฏุฉ" ุ "ุงูุฃุนูุงู ุงูุฒุฌุงุฌูุฉ" ุ "ุงููุณุชูุงุก" ุ "ุชุดุบูู ุงููุญุฑูุงุช" ุ "ุฑูุงุฏ ุงููุถุงุก" ุ <br>  "rtsrm ุงูุฃููู" ุ "bykhovskaya" ุ "ูุนูุฏ ูุฒุงุฑุฉ ุญุงูุงุช ุงูุทูุงุฑุฆ" ุ "dk gomselmash" ุ "store" ุ "rechitsky" <br>  "Sevruks" ุ "Osovtsy" ุ "ุณุงุฆุญ" ุ "ูุตูุน ูุญูู" ุ "Holy Trinity" ุ "ูุฏููุฉ ุทุจูุฉ" ุ "ุฃูุชูุจุฑ" ุ <br>  "ูุณุชูุฏุน ุงูุฒูุช" ุ "gomelloblavtotrans" ุ "milkavita" ุ "bakunin" ุ "zip" ุ "oma" ุ "ุงูุฑุงุชูุฌ" ุ <br>  "ุณูู ุงูุจูุงุก ksk" ุ "ุจูุงุก ุงูุทุฑู" ุ "ุงูุญูู" ุ "kamenetskaya" ุ "ุงูุจูุดููุฉ" ุ "jakubovka" ุ <br>  "Borodina" ุ "ูุงูุจุฑู ูุงูุจุฑ ูุงุฑูุช" ุ "ุงูุฃุจุทุงู ุงูุณุฑููู" ุ "9 ูุงูู" ุ "ุงููุณุชูุงุก" ุ "ุงูุฃุทุฑุงู ุงูุตูุงุนูุฉ" ุ <br>  "ูุญุทุฉ iput" ุ "ุดููุนูุฉ ุฏูููุฉ" ุ "ูููุฉ ุชุฑุจููุฉ ููุณูููุฉ" ุ "ุดุฑูุฉ ุฒุฑุงุนูุฉ" ุ "ุทุฑูู ุงูุงูุชูุงู" ุ "ุงููุตุฑ" ุ <br>  "ุงูุบุฑุจู" ุ "ุงููุคูุค" ุ "ููุงุฏูููุฑ" ุ "ุฌุงู" ุ "ูุณุชูุตู" ุ "ุฅููุงูููุง" ุ <br>  "ุจูุงุก ุงูุขูุงุช" ุ "ุงูุจุชููุงูู" ุ "60 ุนุงููุง" ุ "ูููุฏุณ ููุฑุจุงุก" ุ "ุณูุชุฑูููุช" ุ <br>  "ุนูุงุฏุฉ ุงูุฃูุฑุงู" ุ "ูุฌููุนุฉ ุงูุฑูุงูุฉ" ุ "golovintsy" ุ "ุงููุฑุฌุงู" ุ "ุงูุฌููุจูุฉ" ุ "ุงูุฑุจูุน" ุ <br>  Efremova ุ ุงูุญุฏูุฏ ุ Belgut ุ ุฌููููุณุชุฑูู ุ ุจูุฑูุณูููู ุ ูุตุฑ ุฃูุนุงุจ ุงูููู ุ <br>  "Michurinsky" ุ "ุงูุทุงูุฉ ุงูุดูุณูุฉ" ุ "gastello" ุ "ุงูุนุณูุฑูุฉ" ุ "ูุฑูุฒ ุงูุณูุงุฑุงุช" ุ "ุงูุณุจุงูุฉ" ุ "Uza" ุ <br>  "ูููุฉ ุงูุทุจ" ุ "ุฑูุงุถ ุงูุฃุทูุงู 11" ุ "ุงูุจูุดููุฉ" ุ "ุงูุฌุฑุงุก" ุ "ุฏุงููุฏููุณูู" ุ "ุงููุญูุท" ุ "ุงูุชูุฏู" ุ <br>  "Dobrushskaya" ุ "ุงูุฃุจูุถ" ุ "GSK" ุ "davydovka" ุ "ุงููุนุฏุงุช ุงูููุฑุจุงุฆูุฉ" ุ "ุงูุตุฏุงูุฉ" ุ <br>  "70 ุณูุฉ" ุ "ุฅุตูุงุญ ุณูุงุฑุฉ" ุ "ุชู ุณููุฏู" ุ "ุฏุงุฆุฑุฉ" ุ "ููุงุฉ ููุงู" ุ "ุขูุฉ ุบูููู" ุ <br>  Volotovaุ Pioneerุ RCMุ Khimtorgุ 2nd Meadow Laneุ Bochkinaุ ุญูุงูุงุชุ <br>  "ุนูุงุฏุฉ ุงูุฃูุฑุงู" ุ "ุงููุฑุจุน" ุ "ููููู" ุ "ุงููุฏุฑุณุฉ ุงูุฃููู" ุ "ุงููุชุฌุฑ ุงูุฌููุจู" ุ <br>  "gomelagrotrans" ุ "millers" ุ "lyubensky" ุ "ููุชุจ ุชุฌููุฏ ุนุณูุฑู" ุ "ูุณุชุดูู" ุ "Uza" ุ "rtsrm" ุ <br>  'lysyukovyh' ุ 'ูุชุฌุฑ iput' ุ 'raton' ุ 'ูุญุทุฉ ูููุฏ' ุ 'randovsky' ุ 'ูุฒุฑุนุฉ' ุ 'ูุณุชูุงุก' ุ 'ropovsky' ุ <br>  "ุฑููุงููููุชุดู" ุ "ุฅูููุชุด" ุ "ุงูุชุฌุฏูู" ุ "ูุคุณุณุฉ ุงูุจูุงุก" ุ "ุงููุนุฏูุฉ" ุ <br>  "ูุตูุน ุงูุฏููู" ุ "ุฎุฏูุฉ ุงูุณูุงุฑุงุช" ุ "ุงูุฎุฏูุงุช ุงูุฒุฑุงุนูุฉ" ุ "ูุฒุฌุฉ" ุ "ูููููุณูุงูุง" ุ <br>  "ุงูุญุตุงุฏุงุช ุฐุงุชูุฉ ุงูุฏูุน" ุ "ุงูุจูุงุฆูู" ุ "ููุงุฏ ุงูุจูุงุก" ุ "ุขูุงุช ุงูุฅุตูุงุญ" ุ "ุงูุฅุฏุงุฑุฉ" ุ <br>  "ุฃูุชูุจุฑ" ุ "ุญูุงูุฉ ุฎุฑุงููุฉ ุงูุบุงุจุงุช" ุ "ุชุงุชูุงูุง" ุ "ุจูุฑูุณ ุชุณุงุฑูููู" ุ "ุฒุงุฑูููุณูู" ุ "ุฒุงูุชุณููุง" ุ <br>  "ุงูููู" ุ "Karpovich" ุ "ูุญุทุฉ ุจูุงุก ุงูููุงุฒู" ุ "ุงูููู ุงูููุฑุจุงุฆู ูู ุงููุฏููุฉ" ุ "zlin" ุ <br>  "ููุนุจ gomselmash" ุ "ap 6" ุ "ูุญุฑู ููุฏุฑููููู" ุ "ูุณุชูุฏุน ูุงุทุฑุฉ" ุ "osovtsy ุณูู ุงูุณูุงุฑุงุช" ุ <br>  "ุญูุงุฉ ุฌุฏูุฏุฉ" ุ "ุฌููููุง" ุ "ูุญุฏุฉ ุนุณูุฑูุฉ" ุ "ูุฏุฑุณุฉ ุซุงูุซุฉ" ุ "ุบุงุจุฉ" ุ "ููุงุฑุฉ ุญูุฑุงุก" ุ <br>  "ุงูุฅูููููุฉ" ุ "ุฏุงููุฏููุณูุงูุง" ุ "ูุงุฑุจูุดููุง" ุ "ููุฑ ุงูุนุงูู" ุ "ุงูุดุจุงุจ" ุ "ูุงุทุฑุฉ ุงูุงุณุชุงุฏ" ุ <br>  "ุงูุทุงูุฉ ุงูุดูุณูุฉ" ุ "ูุงุฏูุณูุฑููุณู" ุ "21 ุฑุฑ" ุ "ุขุฑูุณุง" ุ "ุงูุฏููููู" ุ "ููุณุงุฑููุง" ุ <br>  "ุจูุบุฏุงูููุง" ุ "ุบูููู ููุญุฏูุฏ ูุงูุฎุฑุณุงูุฉ" ุ "20 ุฃ" ุ "ุฑูุชุดูุชุณูู" ุ "ูุนุฏุงุช ุทุจูุฉ" ุ "ุฌูุฑุงููุง" ุ <br>  "ูููุฉ ุงูุญุฑู ุงููููุฉ" ุ "ุงูุฌููุฏ" ุ "ููุฑุฌุงู ุฏุจู ููุชุณูู" ุ "ูุฑูุฒ ุงูุชุณูู" ุ <br>  "ูููุจูุดููุณูู" ุ "ููุฑุฌุงู" ุ "ูุฑุขุจ ูููุจ 27" ุ "ููุฏุณุฉ ุฒูุฒุงููุฉ" ุ "ูููุดุง" ุ "ูุณุชุดูู ุฃูุจูุจ" ุ <br>  "ptu179" ุ "ุงูููุชุฌุงุช ุงููููุงููุฉ" ุ "ุฅุฏุงุฑุฉ ุงูุฅุทูุงุก" ุ "ุงููุณุชุดูู" ุ "ูุณุชูุฏุน ุงูุญุงููุงุช" ุ <br>  "ูุฌูุน ุงูุตุญู" ุ "ุงููุตุฑ" ุ "klenkovsky" ุ "ุงููุงุณ" ุ "ุฅุตูุงุญ ุงููุญุฑู" ุ "mkr 19"] <br></div></div><br>  ุจุงุณุชุฎุฏุงู .map ู fuzzywuzzy.process.extractOne ุ ูุฌุฏ ุงููุญุทุฉ ูุน ุงูุญุฏ ุงูุฃุฏูู ููุณุงูุฉ Levenshtein ูู ุงููุงุฆูุฉ ุ ูุจุนุฏ ุฐูู ูุณุชุจุฏู ูุต ุงูุชุนููู ุจุงุณู ุงููุญุทุฉ ุ ููุง ูุณูุญ ููุง ุจุงูุญุตูู ุนูู ูุฌููุนุฉ ุจูุงูุงุช ุจุฃุณูุงุก ุงููุญุทุงุช. <br><br>  ุชุจุฏู ูุฌููุนุฉ ุงูุจูุงูุงุช ุงููุงุชุฌุฉ ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/gd/pd/c8/gdpdc8lwdppzpastghnasxbqsbi.png"><br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุชุนูููุงุช ุชุชุญูู ุฅูู ุชููู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_category_from_comment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(text)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""              """</span></span> dict = process.extractOne(text.lower(), stops) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> dict[<span class="hljs-number"><span class="hljs-number">1</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">75</span></span>: text = dict[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: text = np.nan print(<span class="hljs-string"><span class="hljs-string">"wait"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> text <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_category_dataset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""      """</span></span> print(<span class="hljs-string"><span class="hljs-string">"remap started. wait"</span></span>) data.text = data.text.map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> comment: get_category_from_comment(str(comment))) print(<span class="hljs-string"><span class="hljs-string">"remap ends"</span></span>) data.dropna(inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) data[<span class="hljs-string"><span class="hljs-string">"text"</span></span>] = data.text.map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> s: <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> s) data[<span class="hljs-string"><span class="hljs-string">"text"</span></span>] = data.text.map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> s: <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> s) data[<span class="hljs-string"><span class="hljs-string">"text"</span></span>] = data.text.map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> s: <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> s) data[<span class="hljs-string"><span class="hljs-string">"text"</span></span>] = data.text.map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> s: <span class="hljs-string"><span class="hljs-string">" "</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s==<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> s) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data</code> </pre> <br></div></div><br><h4 style=";text-align:right;direction:rtl">  ุฅุฎุฑุงุฌ ุงูุจูุงูุงุช </h4><br>  ุงูุขู ูููููุง ุฃู ููุชุฑุถ ุฃูู ุณุชููู ูุญุฏุงุช ุงูุชุญูู ุนูู ุงูุฃุฑุฌุญ ูู ุณุงุนุฉ ูุนููุฉ. <br><br>  ูุญู ูุจุญุซ ูู ุณุฌูุงุช ุงูุจูุงูุงุช ุงููุงุชุฌุฉ ููุฏุฉ ุณุงุนุฉ ูููู ูุนูู ูู ุงูุฃุณุจูุน.  ุนูู ุณุจูู ุงููุซุงู ุ ููู ุงูุซูุงุซุงุก ุ ุงูุณุงุนุฉ 9 ุตุจุงุญูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">&lt;code&gt;data[(data[<span class="hljs-string"><span class="hljs-string">"day_in_week"</span></span>] == day) &amp; (data[<span class="hljs-string"><span class="hljs-string">"hour"</span></span>] == hour)]&lt;/code&gt;</code> </pre> <br><img src="https://habrastorage.org/webt/t4/gg/dg/t4ggdgmwezje8lgllisorbqrqwa.png"><br>  <i>(ูุฐู ููุณุช ุฌููุน ุงูุจูุงูุงุช)</i> <br><br>  ุจุนุฏ ุฐูู ุ ูุฌุฏ ุนุฏุฏ ููุงุท ุงูุชููู ุงููุฑูุฏุฉ ุ ููุนุฑุถ ููุท ููุงุท ุงูุชููู ูุนุฏุฏูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">df[(df[<span class="hljs-string"><span class="hljs-string">"day_in_week"</span></span>] == <span class="hljs-number"><span class="hljs-number">2</span></span>) &amp; (df[<span class="hljs-string"><span class="hljs-string">"hour"</span></span>] == <span class="hljs-number"><span class="hljs-number">9</span></span>)][<span class="hljs-string"><span class="hljs-string">"text"</span></span>].value_counts()</code> </pre> <br><img src="https://habrastorage.org/webt/yq/az/if/yqazifl3gkclyqw4ifykvemsrky.png"><br><br>  ุงูุขู ูููููุง ุฃู ูููู ุฃูู ูู ุชูุงู ุงูุณุงุนุฉ ุงูุชุงุณุนุฉ ุตุจุงุญูุง ุ ููู ุงูุซูุงุซุงุก ุ ูู ุงููุฑุฌุญ ุฃู ูุชู ุฑุตุฏ ูุญุฏุงุช ุงูุชุญูู ุนูุฏ ููุงุท ุชููู Myasokombinat ุ ul.  Lugovaya ุ BelGUT ุ TD "Oma". <br><br>  ุงูุนูุจ ุงูุฑุฆูุณู ูู ูุฐู ุงูุทุฑููุฉ ูู ููุต ุงูุจูุงูุงุช.  ููุณ ููู ุงูุฃูุงู ูุงูุณุงุนุงุช ุ ููุงู ุฅุฏุฎุงูุงุช ูู ุงูุชุนูููุงุช ุงูููุฏูุฉ ุฎูุงู ุณุงุนุฉ ุงูุฐุฑูุฉ ุ ุนูุฏูุง ูุณุชุฎุฏู ุงููุงุณ ูุณุงุฆู ุงูููู ุงูุนุงู ุฃูุซุฑ ูู ุงูุจูุงูุงุช ูู ุณุงุนุงุช ุฃูู ุดุนุจูุฉ ุ ูููู ุฅุฐุง ููุช ุจุฅุถุงูุฉ ุงูุจูุงูุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุณ ููุท ูู ุชุนูููุงุช ูุฌููุนุฉ ูุงุญุฏุฉ ุ ูููู ุฃูุถูุง ูู ุงููุฌููุนุงุช ุงูุจุฏููุฉ ุ ุฃู ูุญุงุฏุซุงุช ุงูุฏุฑุฏุดุงุช ุงูุจุฑููุฉ ุ ูุน ุนุฏุฏ ุงูุฅุฏุฎุงูุงุช ุ ุณูุตุจุญ ูู ุดูุก ุฃุณูู. <br><br><h4 style=";text-align:right;direction:rtl">  ุจูุช ูุน VK LongPoll API </h4><br>  ูุฅุชุงุญุฉ ุงููุฑุตุฉ ูุชููู ุงูุจูุงูุงุช ุนูู ูููุน ูุญุฏุงุช ุงูุชุญูู ุ ุจูุงุกู ุนูู ุงูููุช ุ ูุจุฏูู ุฑุจุทู ุจุฌูุงุฒ ููุจููุชุฑ ุ ููุช ุจุนูู ุฑูุจูุช ููุฌููุนุฉ ุนูู ููููุชุงูุชู ุชุณุชุฌูุจ ูุฃู ุฑุณุงูุฉ ุนู ุทุฑูู ุฅุฑุณุงู ุนุฏุฏ ุงูุชูููุงุช ูู ุงูุณุฌูุงุช ุ ุจุงููุธุฑ ุฅูู ุงูุณุงุนุฉ ูุงูููู ุงูุญุงูููู ูู ุงูุฃุณุจูุน. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ุจูุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> random <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> randint <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> vk_api <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> get_stops_from_data <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> get_stops_by_time <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start_bot</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data, token)</span></span></span><span class="hljs-function">:</span></span> vk_session = vk_api.VkApi(token=token) vk = vk_session.get_api() print(<span class="hljs-string"><span class="hljs-string">"bot started"</span></span>) longPoll = vk.groups.getLongPollServer(group_id=<span class="hljs-number"><span class="hljs-number">183524419</span></span>) server, key, ts = longPoll[<span class="hljs-string"><span class="hljs-string">'server'</span></span>], longPoll[<span class="hljs-string"><span class="hljs-string">'key'</span></span>], longPoll[<span class="hljs-string"><span class="hljs-string">'ts'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-comment"><span class="hljs-comment">#  :   ts longPoll = post('%s' % server, data={'act': 'a_check', 'key': key, 'ts': ts, 'wait': 25}).json() if longPoll['updates'] and len(longPoll['updates']) != 0: for update in longPoll['updates']: if update['type'] == 'message_new': #        vk.messages.markAsRead(peer_id=update['object']['user_id']) user = update['object']["user_id"] text = get_stops_by_time(data) if text is None or text == {}: message = "รญรฅรฒ รงรรฏรจรฑรฅรฉ" vk.messages.send(user_id=user, random_id=randint(-2147483648, 2147483647), message=message) print(message) ts = longPoll['ts'] continue message = "   -     \n" \ "\n \n" for i in text.items(): message += i[0] + " " message += str(i[1]) message += "\n" #    vk.messages.send(user_id=user, random_id=randint(-2147483648, 2147483647), message=message) ts = longPoll['ts']</span></span></code> </pre> <br></div></div><br><h4 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h4><br>  ุชู ุงุฎุชุจุงุฑ ุฌูุฏุฉ ูุฐู ุงููุฑุถูุงุช ูู ูุจูู ุฃูุซุฑ ูู ูุฑุฉ ูู ุงูููุงุฑุณุฉ ุ ููู ุดูุก ูุนูู ุจุดูู ุฌูุฏ.  ุงุชุถุญ ุฃู ูุญุฏุงุช ุงูุชุญูู ุ ูู ุงูุฃุณุงุณ ุ ูู ูู ุงููุญุทุงุช ููุณูุง ุ ุนูู ุงูุฑุบู ูู ุฃูู ูุง ูููู ุฅุนุทุงุก ุชูุจุคุงุช ุตุญูุญุฉ ุชูุงููุง ุ ูุงุญุชูุงู ุงููุฌุงุญ ููุณ 100ูช.  ุชุดุชูู ูุณุงูุฉ Levenshtein ุนูู ุงูุนุฏูุฏ ูู ุงูุชุทุจููุงุช ุงููุฎุชููุฉ ุ ุจุฏุกูุง ูู ุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ูููุฉ ูุงุญุฏุฉ ุ ููุงุฑูุฉ ุงูุฌููุงุช ูุงููุฑูููุณููุงุช ูุงูุจุฑูุชููุงุช ุ ูููููุง ุชูุทูู ุฃูุถูุง ุนูู ุฅููุงูุงุช ูู ูุซู ูุฐู ุงููุดููุงุช ุงูุชุทุจูููุฉ. <br><br>  ุฃุชููู ูู ููููุง ุณุนูุฏูุง ูุงุฏูุน ุงูุฃุฌุฑุฉ. <br><br>  ูุชู ูุดุฑ ุฌููุน ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุฑูุจูุชุงุช ุงูุชูุงุนุจ <a href="https://github.com/dingdongyouarewrong/vk_controllers_bot">ููุง</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar478490/">https://habr.com/ru/post/ar478490/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar478474/index.html">ููุง ุฃุตุฏุฑ ุงูุฃุฎ ุจุงุจูู ุฅุณููุจุงุฑ ูุงุชููุง ุฐูููุง ูุฑููุง</a></li>
<li><a href="../ar478480/index.html">ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุ ITSM ุ ูุจุดูู ุนุงู ุ ุฃูู ุงูุนุฌุงูุ</a></li>
<li><a href="../ar478482/index.html">ูุงู ุงููุทูุฑ ุจูุชุญ ุดุฑูุท ูููุทูุฑูู ูุงุณุชุถุงูุฉ ุงูุงุฌุชูุงุนุงุช ููุงู ุนูู ุงูุฒุงูู ุ ุงูุชุฎุทูุท ุ PHP</a></li>
<li><a href="../ar478484/index.html">SCADA ุนูู ุชูุช ุงูุนููู: ุฃุณุทูุฑุฉ ุฃู ุญูููุฉุ</a></li>
<li><a href="../ar478486/index.html">ุนุตุฑ ุฑูุงุฆู 10 ูุงูููุชุฑ - ุงูุฐู ูุทูุฑ ูุฐู ุงููุนุงูุฌุงุช ููุง ููุชุธุฑ ูุฐู ุงูุตูุงุนุฉ ูู ุงููุณุชูุจู</a></li>
<li><a href="../ar478492/index.html">ุงูุฅุดุฑูููุฉ ุงูููููููุฉ ุนูู ูุธุงู ุบุฐุงุฆู ูุซุงูู ุฃูุณูุฏ ุงููุฑุจูู: ุฃุฏุงุฉ ุฌุฏูุฏุฉ ูู ููุงูุญุฉ ุธุงูุฑุฉ ุงูุงุญุชุจุงุณ ุงูุญุฑุงุฑูุ</a></li>
<li><a href="../ar478494/index.html">Winnum TRP ุงููุนุงูุฌุฉ ุงูุญุฑุงุฑูุฉ ุงูุญู: ุงูุฅุนุฏุงุฏ ูุงูุงุณุชุฎุฏุงู</a></li>
<li><a href="../ar478496/index.html">ูุจู 50 ุนุงููุง ูู ุงูุบุฑูุฉ ุฑูู 3420 ุ ูููุฏ ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar478498/index.html">1. Fortinet ุจุฏุก ุงูุชุดุบูู 6.0. ููุฏูุฉ</a></li>
<li><a href="../ar478500/index.html">ููุงุฐุง ูุง ููุฌุฏ ุณูู ุนุฏุฏ ูููู ูู ุงููุคุชูุฑุงุช ูู ุงูุตููุ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>