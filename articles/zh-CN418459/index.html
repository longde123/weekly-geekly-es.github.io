<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💪🏼 🧖🏼 👐🏼 具有两个DisplayPort接口的LVDS定标器的开发 🤸🏻 🆘 ♐️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="美好的一天，哈伯！ 

 在Realtek芯片-RTD2662上开发的用于两个通道矩阵的定标器板的项目说明。 对此主题感兴趣的人，欢迎关注。 

 图像输出到矩阵的主题一直吸引着我。 之前，我开发了基于TSUMV59芯片（与TSUMV29兼容）的缩放器板，这是MStar的一个非常有趣的实例。 我认为...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>具有两个DisplayPort接口的LVDS定标器的开发</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418459/"><img src="https://habrastorage.org/webt/et/y-/ts/ety-tsmwzffna3ek4xrmvt6flpi.jpeg"><br><br> 美好的一天，哈伯！ <br><br> 在Realtek芯片-RTD2662上开发的用于两个通道矩阵的定标器板的项目说明。 对此主题感兴趣的人，欢迎关注。 <br><a name="habracut"></a><br> 图像输出到矩阵的主题一直吸引着我。 之前，我开发了基于TSUMV59芯片（与TSUMV29兼容）的缩放器板，这是MStar的一个非常有趣的实例。 我认为我将为此主题撰写另一篇文章。 该芯片似乎一切都很好，但是缺少一些东西，即能够编写自己的软件以显示屏幕菜单和GPIO处理的功能。 所有固件均以二进制形式分发，并通过USB刷新，但是找不到源代码（如果有人知道/听到了什么，请编写，因为该主题非常有趣）。 直到某个时间，这足以满足其某些需求。 有时候，无法为特定矩阵选择固件，例如，具有不寻常的宽高比，但是这些都是微不足道的事情，直到开发设备的订单出现之前，其中必须有严格定义的菜单，徽标以及设备操作的逻辑。整体。 然后我们开始思考如何做以及走哪条路。 主要问题是时间不足，因此有必要在最短的时间内获得第一批设备-100件。 第二个是板载两个DisplayPort接口。 第三，设备数量少，不允许工作/从芯片制造商/分销商处接收文件和样品。 <br><br> 我将列出需要支持的主要硬件/软件问题： <br><br>  -DisplayPort-2个; <br>  -以太网10/100-1个; <br>  -用于32英寸矩阵的两通道LVDS-1个； <br>  -支持4个按钮的电容式键盘-1个； <br>  -板上的温度传感器-1个； <br>  -WEB界面； <br>  -OS Linux； <br>  -外部电源24V。 <br><br> 现在，一切都按顺序进行。 <br><br><h2> 显示端口 </h2><br> 这里的一切似乎都相对简单，您需要选择一个具有HDMI输入的芯片，放置一个开关以及从DisplayPort到HDMI的转换器。 同一芯片应具有到矩阵的双通道LVDS输出，并支持FullHD。 同样，希望他拥有RMII（以太网）和能够在图像顶部绘制菜单的能力。 然后问题开始了。 不可能找到类似的东西，因此您可以快速购买，模拟并启动一批。 <br><br> 作为一项业余爱好，我从事设备的维修工作，这与收入无关，而对获得技能的学习至关重要，这些技能对于开发项目以及挖掘思想和技术非常有用。 那些拆解索尼和松下原始设备的人将了解。 我对音频/视频/汽车设备特别感兴趣。 填埋场的质量（甚至在上层），模拟地面和电源，板子上馈线的相对位置，RAM的轨迹，HF ...我的头在旋转着多么美妙而周到地完成了所有工作（当然，这并不总是发生）。 <br><br> 好吧，我在说什么？ 因此，如果您回想一下廉价电视通常配备的设备，首先想到的是TSUMV29 / TSUMV59，但正如我们所记得的，它们不适合我们。 电视和显示器还可以做什么，但是您可以按件购买什么呢？ 一位同事建议Realtek，即使它有资料来源，也将大大简化这项工作。 事实证明，RTD2662芯片确实有Keil的资源。 该芯片不是最新的，但具有两个HDMI输入并支持FullHD。 <br><br><img src="https://habrastorage.org/webt/1j/sb/ii/1jsbiiulx1uflgj4mserw8zrels.jpeg"><br>  <i>图1。</i>  <i>RTD2662</i> <br><br> 所有电视机箱中的包含方案。 该芯片由3.3V和1.8V两个电压供电。 不可能找到完整的数据表，因此没有必要。 只需要从DisplayPort添加转换器。 简短搜索后，选择了德州仪器（TI）的变送器-SN75DP139。 我建议在开发中，好的芯片。 微电路位于电路板的底部（我必须这样做以避免数据线的十字准线，也许我会尝试在一侧重新繁殖）。 <br><br><img src="https://habrastorage.org/webt/n-/zm/s5/n-zms5emqefe2hqb8bcw3lwxodq.png"><br>  <i>图2。</i>  <i>接线图SN75DP139</i> <br><br> 包含方案如下。 我是第一次接触DisplayPort，这让我发现该接口的输入和输出具有不同的引脚，也就是说，它在PC连接器上是一个，而在显示器上是另一个。 尽管这有一些逻辑。 <br>  Realtek固件存储在单独的SPIFlash中。 <br><br><h2> 以太网10/100 </h2><br> 以太网在以下几方面是必需的：设备监视，配置和更新； 因此10/100物理就足够了。 我安装了Microchip的LAN8742AI，是第一次使用它，并且选择它的原因恰恰是因为客户在没有此需求之前需要某种“局域网唤醒”功能。 简而言之，WoL支持使您可以通过以太网唤醒设备。 <br><br><img src="https://habrastorage.org/webt/ry/x6/qp/ryx6qpawkmsu7e1xx2isdk2r22e.jpeg"><br>  <i>图3。</i>  <i>以太网10/100</i> <br><br> 物理几乎不需要绑定，并且易于跟踪。 它运行稳定，没有一个网络滚降。 <br><br><h2>  LVDS </h2><br> 需要两个通道来连接32英寸的AUO矩阵。 连接器和引出线使用标准。 电源12V，由DC / DC TPS54560DDAR制成-这是TI的一款出色的5A馈线。 背光矩阵24V，取自输入电压。 该矩阵具有一个内置的背光驱动器，具有调整和关闭功能。 该评估板分为4层，因此LVSD，HDMI和DisplayPort跟踪没有问题。 <br><br><img src="https://habrastorage.org/webt/f9/_g/yp/f9_gypswe0nt1krr_orqcx-pkxu.png"><br>  <i>图4。</i>  <i>LVDS跟踪</i> <br><br> 正如您在此处直接看到的那样，长度的微小差异根本不会影响图像质量。 <br><br><h2> 钥匙 </h2><br> 这些按钮在Semtech Corporation的SX8634芯片上实现-这在工作中有点模糊。 程序员必须重写整个驱动程序才能获得预期的结果。 结果是这样的：有4个用于浏览菜单的按钮，它们是触摸感应式（电容式透过玻璃），其内部通过板上的孔通过RGB背光。 仅底部按钮一直点亮，它也进入睡眠模式，反之亦然（发光改变）。 当您的手按住5厘米时，其余按钮将突出显示，并且菜单将在其对面弹出。 我们移开手，3秒钟后菜单消失，按钮熄灭。 看起来很有趣。 <br><br><img src="https://habrastorage.org/webt/sn/v2/ob/snv2obul-ajfho1ynqmhwym0u5k.jpeg"><br>  <i>图5。</i>  <i>触控板</i> <br><br> 板子的顶部（顶部）与玻璃相邻，因此上面没有任何组件，它们都位于底部。 设置和校准的困难是由于电路板的宽度，只有12mm。 如果某人无聊，可以在项目中使用该芯片。 <br><br><h2> 温度 </h2><br> 使用NXP LM75AD温度传感器通过I2C总线测量外壳内部的温度。 它已交付，因为它易于交付，并且大量存放在仓库中。 <br><br><h2> 网页 </h2><br>  Web界面和项目本身是在一个由11人组成的独立团队诞生的年轻引擎的基础上实现的-这是我们为基于Linux的系统开发软件的合作伙伴。 <br> 该平台有很多模块，提供技术支持和保证，有可能进行改进和更新。 <br><br> 更简单的是，这是一个具有高级功能的框架项目，该功能正在不断改进和扩展功能。 在主要功能块中，您可以注意到网络管理器，动态WEB界面，更新和项目构建器。 基于引擎，您可以实现从mp3播放器到多端口10Gbit SIP服务器的各种设备。 这正是我们在该项目中需要的。 <br><br> 通过基于Web的界面，您不仅可以控制面板参数，还可以更改设置，例如亮度，对比度，图像清晰度，监视PC连接到哪个端口以及当前哪个端口处于活动状态，并在它们之间进行切换。 <br><br> 同样在该项目中，还支持SNMP 1.2和3版本，并支持SET，GET命令以及按时间间隔或事件发送陷阱。 即 关于任何参数的信息，例如亮度/对比度，可以通过更改参数的按钮或例如每10秒一次通过SNMP传输到服务器。 您可以使用SNMP SET命令关闭显示或远程更改参数。  SNMP也是引擎的一部分。 <br><br><h2>  iMX6ULL </h2><br> 由于Realtek芯片上没有以太网，因此在此项目中安装了NXP iMX6ULL处理器，在该处理器上运行OS Linux，并执行基本工作逻辑。  iMX和Realtek通过UART互连，并在它们之间交换命令。 对于快速事件，有几个GPIO。 <br><br><img src="https://habrastorage.org/webt/xp/mo/jf/xpmojf9gpi6fjizzmdwrfcxjrag.jpeg"><br>  <i>图6。</i>  <i>iMX6ULL</i> <br><br> 所有信息都存储在NAND中，u-boot从SPIFlash加载。 一个RAM芯片，仅此而已。 显示SD卡以更新软件（这是能够从Web执行此操作的补充）。 <br><br><h2> 威力 </h2><br>  5V次级电源与矩阵电源-TPS54560DDAR在同一DC / DC上实现。 二极管的AP3418上的电源为1.8V和1.35V，ST的ST1S10PHR上的电源为3.3V。 <br><br><img src="https://habrastorage.org/webt/gn/av/lp/gnavlpdfwa-5o9aqewktkf1xlnm.jpeg"><br>  <i>图7。</i>  <i>直流/直流</i> <br><br> 选择DC / DC微电路的裕度很大，因为矩阵具有用于功率和照明的大峰值电流，并且由于只有一次迭代，所以我真的不想冒险。 <br> 除矩阵电源外，所有电源均在单独的层中由多边形隔开，因为我真的不希望使用该导体切断主电源。 除非有人会对任何界面感兴趣，否则跟踪屏幕快照是没有用的。 我还想单独撰写有关食物和陆地多边形的文章，例如，在此项目中，总共有27个多边形，在我的iMX7上的新项目中，将有大约100个，这根本不适合本文。 <br><br> 如果您深入了解董事会的逻辑。  iMX与以太网和前面板按钮一起使用。 它与Realtek关联，后者从活动的DisplayPorta中获取图像并将其发布到LVDS矩阵。 来自按钮，SNMP和Web的命令会飞到Realtek，Realtek再对它们作出反应并更改显示参数，显示菜单等。 <br><br> 结果是在短时间内完成了一个相当有趣的项目。 它可能包含太多模块，但是在我看来，按照条款，成本和风险，这是最佳的解决方案。 <br><br> 感谢您的关注！ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN418459/">https://habr.com/ru/post/zh-CN418459/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN418449/index.html">适用于Python的二进制模块</a></li>
<li><a href="../zh-CN418451/index.html">3D打印课程。 在实践中通过3Dtool进行有效的支撑和层高更改</a></li>
<li><a href="../zh-CN418453/index.html">引力观测进一步验证了广义相对论</a></li>
<li><a href="../zh-CN418455/index.html">公开网络研讨会“掌舵专家：初次经验和错误”</a></li>
<li><a href="../zh-CN418457/index.html">感谢帖子：系统管理员之日</a></li>
<li><a href="../zh-CN418463/index.html">在Angular中处理数据</a></li>
<li><a href="../zh-CN418465/index.html">发现了新的Spectre攻击选项，能够通过网络远程接收数据</a></li>
<li><a href="../zh-CN418467/index.html">武术发展商分类</a></li>
<li><a href="../zh-CN418469/index.html">什么时候不使用STL算法。 设置例子</a></li>
<li><a href="../zh-CN418475/index.html">Windows 10使用机器学习技术来确定是否可以升级</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>