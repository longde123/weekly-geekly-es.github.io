<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍⚕️ 👈🏿 🎧 Eclipse #include <Arduino.h> 🤰🏻 🛶 🔕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="大家好！
 最近发表了几篇文章对GT 对抗和对的东西比闪烁的灯光和家庭气象站的发展更有利可图的Arduino应用。我们知道，当技术变得越来越普及给公众时，我们通常会从技术世界中进行这样的讨论。
 我了解与微控制器编程直接相关的技术教育和大学专业知识。不仅在我自己的商业化方面拥有多年的经验，而且在很大...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eclipse #include <Arduino.h></h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/390441/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大家好！</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最近发表了几篇文章对GT </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对抗</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的东西比闪烁的灯光和家庭气象站的发展更有利可图的Arduino应用。我们知道，当技术变得越来越普及给公众时，我们通常会从技术世界中进行这样的讨论。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我了解与微控制器编程直接相关的技术教育和大学专业知识。不仅在我自己的商业化方面拥有多年的经验，而且在很大程度上还具有国外知识和技能的商业化经验，我完全理解那些人。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
你说的没错，你也是对的，但事实总是有某个地方</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">靠近</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中间。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，您需要了解参数的含义。 Arduino不仅被意大利人精美地包装在印刷电路板和微控制器盒中，而且不仅是Arduino IDE开发环境。首先，这些是用于快速开发的库，我认为它们具有最大的价值。如果您查看Arduino板的电路图，那么我们将看不到任何特别令人印象深刻的东西。开发环境...让我们说，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它还不能完全达到1994年的Borland C ++模型</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
众所周知，这些库是在GNU许可下分发的，可以在不向其创建者支付版税的情况下使用和使用它们。</font><font style="vertical-align: inherit;">这样的商业模式需要用特许权使用费以外的其他钱来赚钱。</font><font style="vertical-align: inherit;">因此，他们通过以20美元的精美包装来生产和销售产品而赚钱，而电子工程师将以20美分的价格购买它们。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这里重要的不是他们不是这样的贪婪的资产阶级，他们在剥夺劳动人民，并且在整个进步的人类中应受谴责，而是为什么他们可以这样做。</font><font style="vertical-align: inherit;">因为：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们在正确的时间在正确的地方，看到了其他人没有看到的第一个机会。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们向消费者提供了以前有限的有限个人所能获得的东西。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一切都包装精美，并以即用型形式呈现给消费者。</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在介绍为什么以及如何将娱乐性电子消费领域的成就与商业项目的开发周期相结合。</font><font style="vertical-align: inherit;">在这个周期中，Arduino生态系统具有一个非常有价值的特性-开发速度。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
速度是行进距离与时间的比率。</font><font style="vertical-align: inherit;">越大速度越快，我们将做的工作，或者那些使用</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更大的工作中，我们将在规定的时间做，我们假设赚更多的钱每单位时间。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
想象一下，客户转向您，他有一些愿望，而您在国土的垃圾箱中没有一个具有相似功能特征的近86％的已完成项目。</font><font style="vertical-align: inherit;">任何客户都有两个基本问题：</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多少钱？</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">什么时候准备好？</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（他经常需要第二个问题的“昨天”答案）</font></font><br>
<table>
<tbody><tr>
<td>  </td>
<td> </td>
</tr>
<tr>
<td>    ,   ,                              .</td>
<td>    ,    ,    .      M    X  Y    Z .</td>
</tr>
</tbody></table><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
根据业务经验，我敢说客户会选择</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">吸烟者</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的路径</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
进一步介绍如何使用Arduino达到自私的目的，进行</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二十一点和</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小组开发，版本控制，记录项目以及来自商业开发领域的其他填充天鹅。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际上，一切都很简单。为此，除了开发人员之外，我们还需要一个开发环境和一个可以在其上进行开发的平台。 C ++，它在非洲C ++，AVR中，在Arduino中仍然是AVR。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为一种环境，请考虑使用Eclipse。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一篇很好的文章</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，介绍如何首先配置Eclipse以使其与AVR工具链配合使用，然后连接Arduino库并使Uno上的LED闪烁。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而且这里甚至更好</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但是用英语。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我会补充一些我踩过的耙子，也许这样可以节省一个人几个小时的时间。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下是针对Linux和Leonardo的所有描述。</font><font style="vertical-align: inherit;">对于Windows，必须首先安装</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MinGW / msys</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要构建Arduino核心中包含的所有源，您需要正确设置预处理器常量。</font><font style="vertical-align: inherit;">如果查看这些库的源代码，则可以看到许多条件编译结构#ifdef #else #endif。</font><font style="vertical-align: inherit;">在本文中，作者通过引用由Arduino IDE编译的最终.a文件对所有内容进行了评分。</font><font style="vertical-align: inherit;">但是并不是所有的库都属于内核，例如，SPI和以太网并不属于它们，并且带有条件编译的相同笑话也在其中等待着我们。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
找出哪些常量以及如何设置非常简单。</font></font><br>
<ol>
<li> Arduino IDE</li>
<li> ,     </li>
<li> —  —    — </li>
<li>     ,   <br>
<pre><code class="bash hljs">*** avr-g++ -c -g -Os -w -std=gnu++11 -fno-exceptions -ffunction-sections -fdata-sections -fno-threadsafe-statics  -w -x c++ -E -CC -mmcu=atmega32u4 -DF_CPU=16000000L -DARDUINO=10607 -DARDUINO_AVR_LEONARDO -DARDUINO_ARCH_AVR  -DUSB_VID=0x2341 -DUSB_PID=0x8036 <span class="hljs-string"><span class="hljs-string">'-DUSB_MANUFACTURER="Unknown"'</span></span> <span class="hljs-string"><span class="hljs-string">'-DUSB_PRODUCT="Arduino Leonardo"'</span></span> ***
</code></pre><br>
,     -D ( F_CPU,  Eclipse  )       Eclipse.<br>
</li>
</ol><br>
<img src="https://habrastorage.org/files/b65/27d/dc8/b6527ddc8f374bd193b728fb70856b5b.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了使编译器能够找到我们要在项目中使用的所有.h文件，我们需要在设置中指定它们的路径。有两种方法。您可以指定Arduino IDE文件夹的绝对路径，也可以将库链接到项目，并从{workspase} / {ProjName}指定相对路径。第二种方法将允许您在Eclipse中编译内核，尽管没有根本区别，并且在Arduino IDE和Eclipse中，avr-g ++负责编译。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另外，为我们在项目中使用的板子指定pins_arduino.h的路径。</font></font><br>
<img src="https://habrastorage.org/files/23d/006/16a/23d00616a5b04c96b3d33ade8789b44f.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了不违反main.cpp库文件的和谐结构，我们将不对其进行编辑。只需将其从内核中直接包含到项目中，我们就将文件命名为其他名称。不必在其中声明main（）函数，它已经在main.cpp中，初始化所需的所有内容并在无限循环中调用loop（）函数，链接器将按需收集所有内容。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
环境已经准备就绪。我们的编写方式与Arduino IDE中的编写方式几乎相同，但是在这里，它们更加严格地监视对C ++规范的遵守情况。在任何时候，我们都可以从高级编程深入到下面。如果通过digitalWrite使用端口的速度还不够，我们将直接写入端口。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
las，习惯通过电话挂断处理器</font></font><pre><code class="cpp hljs">delay(<span class="hljs-number"><span class="hljs-number">5000</span></span>);</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eclipse无法治愈。这是在高中或初中的某个地方教授的，它深刻地渗透了人格，以至于没有道德可以带领人走上正确的道路。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了填充Arduino IDE和Eclipse，请使用编程器实用程序AVRDude。她确实很了解像Uno这样的董事会，名称是“ arduino”，但是她坚决拒绝承认像Leonardo这样的便宜董事会。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们转到boards.txt，发现对于</font><font style="vertical-align: inherit;">
程序员来说，AVRDude设置中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">程序员称为“ Atmel AppNote AVR109引导加载程序”，这是：</font><font style="vertical-align: inherit;">
给您带来的一个小麻烦是Eclipse不会执行此操作</font><font style="vertical-align: inherit;">
。</font><font style="vertical-align: inherit;">
好吧，总而言之，在Arduino IDE中组装的同一项目</font></font><br>
<code>leonardo.upload.protocol=avr109<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<img src="https://habrastorage.org/files/a47/e6b/bd4/a47e6bbd4afe47da8374653d5c7792ed.png"><br><font style="vertical-align: inherit;"></font><br>
<code>leonardo.upload.use_1200bps_touch=true<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<code>  28&nbsp;432  (99%)  .   28&nbsp;672 .<br>
   1&nbsp;254  (48%)  ,  1&nbsp;306    . : 2&nbsp;560 .<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
而且在Eclipse中</font><font style="vertical-align: inherit;">
有点琐事，但仅完成一磅，还不够。</font></font><br>
<code>Invoking: Print Size<br>
avr-size --format=avr --mcu=atmega32u4 EthernetController.elf<br>
AVR Memory Usage<br>
----------------<br>
Device: atmega32u4<br>
<br>
Program: 27834 bytes (84.9% Full)<br>
(.text + .data + .bootloader)<br>
<br>
Data: 1257 bytes (49.1% Full)<br>
(.data + .bss + .noinit)<br>
<br>
Finished building: sizedummy<br>
</code><br><font style="vertical-align: inherit;"></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN390441/">https://habr.com/ru/post/zh-CN390441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN390429/index.html">制作简单的RC航空船</a></li>
<li><a href="../zh-CN390431/index.html">爱普生EH-TW5210，EH-TW5300和EH-TW5350家用投影机-更好，更快，更明亮</a></li>
<li><a href="../zh-CN390435/index.html">数学家在“星球大战”的宇宙中建立了联系图</a></li>
<li><a href="../zh-CN390437/index.html">带有声光报警信号的自制电子高度计</a></li>
<li><a href="../zh-CN390439/index.html">范德华接触石墨烯和硒化铌之间的带间Andreev反射镜</a></li>
<li><a href="../zh-CN390447/index.html">所有航空公司和机场都应做好准备的技术趋势</a></li>
<li><a href="../zh-CN390451/index.html">伊利诺伊州学校机器人竞赛</a></li>
<li><a href="../zh-CN390453/index.html">鼠标升级-增加滚轮倾斜度，更换电子设备</a></li>
<li><a href="../zh-CN390455/index.html">作为水壶，遥控器读取</a></li>
<li><a href="../zh-CN390457/index.html">引力波首次记录：现在正式</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>