<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค๐พ ๐ง๐ป โฟ ุฎูู ุจุฑุฌ ุงูุฏูุงุน ูู ุงููุญุฏุฉ: ุงูุฃุนุฏุงุก ๐ โ๏ธ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[ ุงูุฌุฒุก ุงูุฃูู: ุงูุจูุงุท ูุฅูุฌุงุฏ ุงูุทุฑูู ] 



- ูุถุน ููุงุท ุฎูู ุงูุนุฏู. 
- ุธููุฑ ุงูุฃุนุฏุงุก ูุญุฑูุชูู ุนุจุฑ ุงูููุฏุงู. 
- ุฎูู ุญุฑูุฉ ุณูุณุฉ ุจุณุฑุนุฉ ุซุงุจุชุฉ. 
- ุชุบููุฑ ุญุฌู ูุณุฑุนุฉ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฎูู ุจุฑุฌ ุงูุฏูุงุน ูู ุงููุญุฏุฉ: ุงูุฃุนุฏุงุก</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452756/" style=";text-align:right;direction:rtl">  <i>[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก ุงูุฃูู: ุงูุจูุงุท ูุฅูุฌุงุฏ ุงูุทุฑูู</a> ]</i> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุถุน ููุงุท ุฎูู ุงูุนุฏู. </li><li style=";text-align:right;direction:rtl">  ุธููุฑ ุงูุฃุนุฏุงุก ูุญุฑูุชูู ุนุจุฑ ุงูููุฏุงู. </li><li style=";text-align:right;direction:rtl">  ุฎูู ุญุฑูุฉ ุณูุณุฉ ุจุณุฑุนุฉ ุซุงุจุชุฉ. </li><li style=";text-align:right;direction:rtl">  ุชุบููุฑ ุญุฌู ูุณุฑุนุฉ ููุถุน ุงูุฃุนุฏุงุก. </li></ul><br>  ูุฐุง ูู ุงูุฌุฒุก ุงูุซุงูู ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุนูู ูุนุจุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุฑุฌ ุงูุฏูุงุน</a> ุจุณูุทุฉ.  ููุญุต ุนูููุฉ ุฅูุดุงุก ุงูุฃุนุฏุงุก ูุญุฑูุชูู ุฅูู ุฃูุฑุจ ููุทุฉ ุงูููุงูุฉ. <br><br>  ูุชููู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ูู ุงููุญุฏุฉ 2018.3.0f2. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/2db/cf3/311/2dbcf331117740aa403cb12a757ae6fd.jpg" width="512" height="256"></div><br>  <i>ุฃุนุฏุงุก ูู ุงูุทุฑูู ุฅูู ููุทุฉ ุงูููุงูุฉ.</i> <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุฎูู ุงูุนุฏู (ุชูุฑุฎ) ููุงุท </h2><br>  ูุจู ุฃู ูุจุฏุฃ ูู ุฎูู ุงูุฃุนุฏุงุก ุ ูุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ููุงู ูุถุนูู ูู ุงูููุฏุงู.  ููููุงู ุจุฐูู ุ ุณูููู ุจุฅูุดุงุก ููุงุท ุชูุฑุฎ. <br><br><h3 style=";text-align:right;direction:rtl">  ุจูุงุท ุงููุญุชูู </h3><br>  ููุทุฉ ุงูุชูุฑุฎ ูู ููุน ุขุฎุฑ ูู ูุญุชูู ุงูุชุฌุงูุจ ุ ูุฐุง ุฃุถู ุฅุฏุฎุงููุง ูู ูู <code>GameTileContentType</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> GameTileContentType { Empty, Destination, Wall, SpawnPoint }</code> </pre> <br>  ุซู ูู ุจุฅูุดุงุก ุงูุฌุงูุฒุฉ ูุชุตูุฑ ุฐูู.  ูุณุฎุฉ ููุฑุฑุฉ ูู ุงูุจุฏุงูุฉ ุงูุฌุงูุฒุฉ ูููุทุฉ ุงูุจุฏุงูุฉ ููุงุณุจุฉ ุชูุงููุง ููุง ุ ูุง ุนููู ุณูู ุชุบููุฑ ููุน ุงููุญุชูู ูุฅุนุทุงุฆู ูุงุฏุฉ ุฃุฎุฑู.  ุฃูุง ุฌุนูุช ูู ุงูุจุฑุชูุงูู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e39/522/28d/e3952228dacd6801a6f5d2fb53826cc2.png" width="320" height="104"></div><br>  <i>ุชูููู ููุทุฉ ุชูุฑุฎ.</i> <br><br>  ุฅุถุงูุฉ ุฏุนู ููุทุฉ ุชูุฑุฎ ุฅูู ูุตูุน ุงููุญุชูู ูููุญูุง ูุตูุฉ ุฅูู ุงูุฌุงูุฒุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] GameTileContent spawnPointPrefab = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameTileContent </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTileContentType type</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GameTileContentType.Destination: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Get(destinationPrefab); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GameTileContentType.Empty: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Get(emptyPrefab); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GameTileContentType.Wall: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Get(wallPrefab); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> GameTileContentType.SpawnPoint: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Get(spawnPointPrefab); } Debug.Assert(<span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-string"><span class="hljs-string">"Unsupported type: "</span></span> + type); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/10f/036/a17/10f036a17ae271cf7b7f7c9694e01782.png" width="320" height="142"></div><br>  <i>ูุตูุน ูุน ุฏุนู ูููุงุท ุชูุฑุฎ.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ุชูููู ุฃู ุชุนุทูู ููุงุท ุชูุฑุฎ </h3><br>  ุทุฑููุฉ ุชุจุฏูู ุญุงูุฉ ููุทุฉ <code>GameBoard</code> ุ ูุซู ุทุฑู ุงูุชุญููู ุงูุฃุฎุฑู ุ ุณูุถูู ุฅูู <code>GameBoard</code> .  ููู ููุงุท ุงูุชูุฑูุฎ ูุง ุชุคุซุฑ ุนูู ุงูุจุญุซ ุนู ุงููุณุงุฑ ุ ูุฐูู ุจุนุฏ ุงูุชุบููุฑ ูุง ูุญุชุงุฌ ููุจุญุซ ุนู ูุณุงุฑุงุช ุฌุฏูุฏุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToggleSpawnPoint</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.SpawnPoint) { tile.Content = contentFactory.Get(GameTileContentType.Empty); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Empty) { tile.Content = contentFactory.Get(GameTileContentType.SpawnPoint); } }</code> </pre> <br>  ุงููุนุจุฉ ูุง ูุนูู ููุง ุฅูุง ุฅุฐุง ูุงู ูุฏููุง ุฃุนุฏุงุก ุ ููู ุจุญุงุฌุฉ ุฅูู ููุงุท ุชูุฑุฎ.  ูุฐูู ุ ูุฌุจ ุฃู ูุญุชูู ุญูู ุงููุนุจุฉ ุนูู ููุทุฉ ุชูุฑุฎ ูุงุญุฏุฉ ุนูู ุงูุฃูู.  ุณูุญุชุงุฌ ุฃูุถูุง ุฅูู ุงููุตูู ุฅูู ููุงุท ุงูุชูุงุซุฑ ูู ุงููุณุชูุจู ุ ุนูุฏูุง ูุถูู ุฃุนุฏุงุก ุ ูุฐูู ุฏุนููุง ูุณุชุฎุฏู ุงููุงุฆูุฉ ูุชุชุจุน ุฌููุน ุงููุฑุจุนุงุช ูุน ูุฐู ุงูููุงุท.  ุณูููู ุจุชุญุฏูุซ ุงููุงุฆูุฉ ุนูุฏ ุชุจุฏูู ุญุงูุฉ ููุทุฉ ุงูุชูุฑุฎ ูููุน ุฅุฒุงูุฉ ุขุฎุฑ ููุทุฉ ุชูุฑุฎ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> List&lt;GameTile&gt; spawnPoints = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;GameTile&gt;(); โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToggleSpawnPoint</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.SpawnPoint) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (spawnPoints.Count &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { spawnPoints.Remove(tile); tile.Content = contentFactory.Get(GameTileContentType.Empty); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile.Content.Type == GameTileContentType.Empty) { tile.Content = contentFactory.Get(GameTileContentType.SpawnPoint); spawnPoints.Add(tile); } }</code> </pre> <br>  ูุฌุจ ุฃู ุชููู ุทุฑููุฉ <code>Initialize</code> ุงูุขู ุจุชุนููู ููุทุฉ ุงูุชูุฑุฎ ูุฅูุดุงุก ุงูุญุงูุฉ ุงูุตุญูุญุฉ ุงูุฃูููุฉ ููุญูู.  ุฏุนููุง ููุท ุชุถููู ุงูุจูุงุท ุงูุฃูู ุ ุงูุฐู ูู ูู ุงูุฒุงููุฉ ุงููุณุฑู ุงูุณููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> Vector2Int size, GameTileContentFactory contentFactory </span></span></span><span class="hljs-function">)</span></span> { โฆ ToggleDestination(tiles[tiles.Length / <span class="hljs-number"><span class="hljs-number">2</span></span>]); ToggleSpawnPoint(tiles[<span class="hljs-number"><span class="hljs-number">0</span></span>]); }</code> </pre> <br>  ุณูุฌุนู ููุณุฉ ุจุฏููุฉ ุงูุขู ุชุจุฏูู ุญุงูุฉ ููุงุท ุชูุฑุฎ ุ ูููู ุนูุฏ ุงูุถุบุท ุนูู ููุชุงุญ Shift ุงูุฃูุณุฑ (ูุชู ูุญุต ุถุบุท ุงูููุงุชูุญ ุจูุงุณุทุฉ ุฃุณููุจ <code>Input.GetKey</code> ) ุ ูุญุงูุฉ ููุทุฉ ุงูููุงูุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleAlternativeTouch</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { GameTile tile = board.GetTile(TouchRay); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tile != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Input.GetKey(KeyCode.LeftShift)) { board.ToggleDestination(tile); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { board.ToggleSpawnPoint(tile); } } }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/2f9/cd6/22b/2f9cd622bf1aa41023e5204e1f4caa9a.png" width="230" height="230"></div><br>  <i>ุงูููุฏุงู ูุน ุชูุฑุฎ ุงูููุงุท.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุตูู ุฅูู ููุงุท ุชูุฑุฎ </h3><br>  ูุชุนุงูู ุงูุญูู ูุน ูู ุฃุดูุงูู ุ ููู ุงูุฃุนุฏุงุก ููุณูุง ูุณุคูููุชู.  ุณูุนูู ุนูู ุงููุตูู ุฅูู ููุงุท <code>GetSpawnPoint</code> ุฎูุงู ุทุฑููุฉ <code>GetSpawnPoint</code> ุงูุดุงุฆุนุฉ ุจุงุณุชุฎุฏุงู ูุนููุฉ ููุฑุณ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameTile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetSpawnPoint</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> index</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> spawnPoints[index]; }</code> </pre> <br>  ููุนุฑูุฉ ุฃู ุงููุคุดุฑุงุช ุตุญูุญุฉ ุ ููุงู ุญุงุฌุฉ ุฅูู ูุนูููุงุช ุญูู ุนุฏุฏ ููุงุท ุงูุชูุงุซุฑ ุ ูุฐูู ุณูุฌุนููุง ุนุงูุฉ ุจุงุณุชุฎุฏุงู ุฎุงุตูุฉ getter ุงูุนุงูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SpawnPointCount =&gt; spawnPoints.Count;</code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ุชูุฑุฎ ุงูุนุฏู </h2><br>  ุงูุชูุฑูุฎ ููุนุฏู ูุดุจู ุฅูู ุญุฏ ูุง ุฅูุดุงุก ูุญุชููุงุช ุงูุจูุงุท.  ูุฎูู ูุซูู ุงูุฌุงูุฒุฉ ูู ุฎูุงู ุงููุตูุน ุ ูุงูุชู ูุถุนูุง ุจุนุฏ ุฐูู ูู ุงูููุฏุงู. <br><br><h3 style=";text-align:right;direction:rtl">  ูุตูุน </h3><br>  ุณูููู ุจุฅูุดุงุก ูุตูุน ููุฃุนุฏุงุก ูุถุนูู ูู ูุง ูุฎููู ุนูู ุฎุดุจุฉ ุงููุณุฑุญ.  ูุฐู ุงููุธููุฉ ุดุงุฆุนุฉ ูุน ุงููุตูุน ุงูุฐู ูุฏููุง ุจุงููุนู ุ ูุฐูู ุฏุนููุง ูุถุน ุงูููุฏ ุงูุฎุงุต ุจู ูู ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ุงูุดุงุฆุนุฉ <code>GameObjectFactory</code> .  ุณูู ูุญุชุงุฌ ุฅูู ุฃุณููุจ ูุงุญุฏ ููุท <code>CreateGameObjectInstance</code> ูุน ูุนููุฉ prefab ุดุงุฆุนุฉ ุ ูุงูุชู ุชููู ุจุฅูุดุงุก ูุซูู <code>CreateGameObjectInstance</code> ุ ููุฐูู ุฅุฏุงุฑุฉ ุงููุดูุฏ ุจุฃูููู.  ูุญู ูุตูุน ุงูุทุฑููุฉ <code>protected</code> ุ ุฃู ุฃููุง ุณุชููู ูุชุงุญุฉ ููุท ูููุฆุฉ ูุฌููุน ุงูุฃููุงุน ุงูุชู ุชุฑุซูุง.  ูุฐุง ูู ูู ูุง ููุนูู ุงููุตู ุ ูููุณ ุงูููุตูุฏ ุงุณุชุฎุฏุงูู ููุตูุน ูุนูู ุจูุงูู ุทุงูุชู.  ูุฐูู ุ ูููู ุจุชูููุฒูุง ุนูู ุฃููุง <code>abstract</code> ุ ูุงูุชู ูู ุชุณูุญ ููุง ุจุฅูุดุงุก ูุซููุงุช ูู ูุงุฆูุงุชูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.SceneManagement; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GameObjectFactory</span></span> : <span class="hljs-title"><span class="hljs-title">ScriptableObject</span></span> { Scene scene; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> T CreateGameObjectInstance&lt;T&gt; (T prefab) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : MonoBehaviour { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!scene.isLoaded) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Application.isEditor) { scene = SceneManager.GetSceneByName(name); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!scene.isLoaded) { scene = SceneManager.CreateScene(name); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { scene = SceneManager.CreateScene(name); } } T instance = Instantiate(prefab); SceneManager.MoveGameObjectToScene(instance.gameObject, scene); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; } }</code> </pre> <br>  ุชุบููุฑ <code>GameTileContentFactory</code> ุจุญูุซ <code>GameTileContentFactory</code> ูุฐุง ุงูููุน ูู ุงููุตูุน ููุณุชุฎุฏู <code>CreateGameObjectInstance</code> ูู ุฃุณููุจ <code>Get</code> ุงูุฎุงุต ุจู ุ ุซู ูู ุจุฅุฒุงูุฉ ุฑูุฒ ุงูุชุญูู ูู ุงููุดูุฏ ููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; [CreateAssetMenu] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">GameTileContentFactory</span></span> : <span class="hljs-title"><span class="hljs-title">GameObjectFactory</span></span> { โฆ <span class="hljs-comment"><span class="hljs-comment">//Scene contentScene; โฆ GameTileContent Get (GameTileContent prefab) { GameTileContent instance = CreateGameObjectInstance(prefab); instance.OriginFactory = this; //MoveToFactoryScene(instance.gameObject); return instance; } //void MoveToFactoryScene (GameObject o) { // โฆ //} }</span></span></code> </pre> <br>  ุจุนุฏ ุฐูู ุ ูู ุจุฅูุดุงุก ููุน <code>EnemyFactory</code> ุฌุฏูุฏ ูููู ุจุฅูุดุงุก ูุซูู ูู <code>EnemyFactory</code> <code>Enemy</code> ูุงุญุฏ ุจุงุณุชุฎุฏุงู ุงูุฃุณููุจ <code>Get</code> ุฌูุจูุง ุฅูู ุฌูุจ ูุน ุทุฑููุฉ <code>Reclaim</code> ุงููุตุงุญุจุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; [CreateAssetMenu] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">EnemyFactory</span></span> : <span class="hljs-title"><span class="hljs-title">GameObjectFactory</span></span> { [SerializeField] Enemy prefab = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Enemy </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Enemy instance = CreateGameObjectInstance(prefab); instance.OriginFactory = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Reclaim</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Enemy enemy</span></span></span><span class="hljs-function">)</span></span> { Debug.Assert(enemy.OriginFactory == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-string"><span class="hljs-string">"Wrong factory reclaimed!"</span></span>); Destroy(enemy.gameObject); } }</code> </pre> <br>  ููุน <code>Enemy</code> ุงูุฌุฏูุฏ ูู ุงูุจุฏุงูุฉ ูุงู ุนููู ููุท ุชุชุจุน ูุตูุนู ุงูุฃุตูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Enemy</span></span> : <span class="hljs-title"><span class="hljs-title">MonoBehaviour</span></span> { EnemyFactory originFactory; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> EnemyFactory OriginFactory { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> =&gt; originFactory; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { Debug.Assert(originFactory == <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Redefined origin factory!"</span></span>); originFactory = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } }</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ููุฒู ุฌุงูุฒ </h3><br>  ูุญุชุงุฌ ุงูุฃุนุฏุงุก ุฅูู ุงูุชุตูุฑ ุ ูุงูุฐู ูููู ุฃู ูููู ุฃู ุดูุก - ุฑูุจูุช ุ ุนููุจูุช ุ ุดุจุญ ุ ุดูุก ุฃุจุณุท ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุนุจ ุ ูุณุชุฎุฏูู.  ูููู ุจุดูู ุนุงู ุ ูุฏู ุงูุนุฏู ูููุฐุฌ ุซูุงุซู ุงูุฃุจุนุงุฏ ูุฃู ุชุนููุฏ.  ูุถูุงู ุฏุนููุง ุงููุฑูุญ ุ ุณูู ูุณุชุฎุฏู ุงููุงุฆู ุงูุฌุฐุฑ ููุชุณูุณู ุงููุฑูู ููุนุฏู ุงูุฌุงูุฒุฉ ุ ูุงูุฐู ูุฑุชุจุท ุจู ูููู <code>Enemy</code> ููุท. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/7c6/348/428/7c6348428b50732e0a13efcdadfc9fff.png" width="320" height="160"></div><br>  <i>ุงูุฌุงูุฒุฉ ุงูุฌุฐุฑ</i> <br><br>  ุฏุนูุง ููุดุฆ ูุฐุง ุงูุนูุตุฑ ุงูุนูุตุฑ ุงููุฑุนู ุงููุญูุฏ ุ ูุงูุฐู ุณูููู ุฌุฐุฑ ุงููููุฐุฌ.  ูุฌุจ ุฃู ุชุญุชูู ุนูู ููู ุชุญููู ูุญุฏุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ce7/691/330/ce7691330dd6c6813d2a64398c582c2a.png" width="320" height="120"></div><br>  <i>ุฌุฐุฑ ุงููููุฐุฌ.</i> <br><br>  ุชุชูุซู ูููุฉ ูุฐุง ุงูุฌุฐุฑ ุงููููุฐุฌู ูู ูุถุน ุงููููุฐุฌ ุงูุซูุงุซู ุงูุฃุจุนุงุฏ ุจุงููุณุจุฉ ุฅูู ููุทุฉ ุงูุฃุตู ุงููุญููุฉ ูุฅุญุฏุงุซูุงุช ุงูุนุฏู ุ ุจุญูุซ ูุนุชุจุฑูุง ููุทุฉ ูุฑุฌุนูุฉ ููู ุนูููุง ุงูุนุฏู ุฃู ูุฎูู ุนููู.  ูู ุญุงูุชูุง ุ ุณูููู ุงููููุฐุฌ ุนุจุงุฑุฉ ุนู ููุนุจ ููุงุณู ุจุญุฌู ูุตู ุ ูุณุฃุนุทูู ููููุง ุฃุฒุฑู ุฏุงูู.  ูุฌุนููุง ูู ุฌุฐุฑ ุงููููุฐุฌ ููุถุน ุงูููุถุน Y ุนูู 0.25 ุจุญูุซ ููู ุนูู ุงูุฃุฑุถ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/65b/7a3/808/65b7a3808f469e2723b344afccd94f8f.png" width="320" height="206"></div><br>  <i>ูููุฐุฌ ุงูููุนุจ</i> <br><br>  ูุจุงูุชุงูู ุ ูุชููู ุงูุฌุงูุฒุฉ ููุนุฏู ูู ุซูุงุซุฉ ุฃุดูุงุก ูุชุฏุงุฎูุฉ: ุงูุฌุฐุฑ ุงูุฌุงูุฒ ุ ุงูุฌุฐุฑ ุงููููุฐุฌู ุ ูุงูููุนุจ.  ูุฏ ูุจุฏู ููุฃูู ุชูุซุงู ูุตูู ูููุนุจ ุจุณูุท ุ ูููู ูุซู ูุฐุง ุงููุธุงู ูุณูุญ ูู ุจุชุญุฑูู ูุชุญุฑูู ุฃู ุนุฏู ุฏูู ุงูููู ุจุดุฃู ูุนุงููู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/62a/0c9/abb/62a0c9abb59605150235ba6cec73eeb2.png" width="225" height="74"></div><br>  <i>ุงูุชุณูุณู ุงููุฑูู ููุนุฏู ุงูุฌุงูุฒุฉ.</i> <br><br>  ุฏุนููุง ุฅูุดุงุก ูุตูุน ุงูุนุฏู ูุชุนููู ุงูุฌุงูุฒุฉ ูุฐูู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ae3/ee2/345/ae3ee23456931ac6f989a763deb8b7b1.png" width="320" height="88"></div><br>  <i>ูุตูุน ุงูุฃุตูู.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ูุถุน ุงูุฃุนุฏุงุก ูู ุงูููุฏุงู </h3><br>  ููุถุน ุงูุฃุนุฏุงุก ูู ุงูููุฏุงู ุ ูุฌุจ ุฃู ุชุชููู <code>Game</code> ุฑุงุจุทูุง ุฅูู ูุตูุน ุงูุฃุนุฏุงุก.  ูุธุฑูุง ูุฃููุง ูุญุชุงุฌ ุฅูู ุงููุซูุฑ ูู ุงูุฃุนุฏุงุก ุ ูุณูุถูู ุฎูุงุฑ ุชููุฆุฉ ูุถุจุท ุณุฑุนุฉ ุงูุชูุฑูุฎ ุ ูุนุจุฑุงู ุนููุง ุจุนุฏุฏ ุงูุฃุนุฏุงุก ูู ุงูุซุงููุฉ.  ุงููุทุงู ุงูููุจูู ูู 0.1-10 ูุน ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ 1. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] EnemyFactory enemyFactory = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>; [SerializeField, Range(<span class="hljs-number"><span class="hljs-number">0.1f</span></span>, <span class="hljs-number"><span class="hljs-number">10f</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> spawnSpeed = <span class="hljs-number"><span class="hljs-number">1f</span></span>;</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/201/56b/338/20156b3384b45ab95d7aef5ed5397480.png" width="320" height="144"></div><br>  <i>ูุนุจุฉ ูุน ูุตูุน ุงูุนุฏู ูุณุฑุนุฉ ุงูุชูุฑูุฎ 4.</i> <br><br>  ุณูููู ุจุชุชุจุน ุชูุฏู ุนูููุฉ ุงูุชูุฑูุฎ ูู <code>Update</code> ุ ููุฒูุฏู ุจุณุฑุนุฉ ุฃููุงุช ุฏูุชุง ุงูููุช.  ุฅุฐุง ุชุฌุงูุฒุช ูููุฉ prggress 1 ุ ูุฅููุง <code>SpawnEnemy</code> ุงูุนุฏู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <code>SpawnEnemy</code> ุงูุฌุฏูุฏุฉ.  ูุณุชูุฑ ูู ุงูููุงู ุจุฐูู ุญุชู ูุชุฌุงูุฒ ุงูุชูุฏู 1 ูู ุญุงู ูุงูุช ุงูุณุฑุนุฉ ุนุงููุฉ ุฌุฏูุง ูููุช ุงูุฅุทุงุฑ ุทููู ุฌุฏูุง ุจุญูุซ ูุง ูุชู ุฅูุดุงุก ุงูุนุฏูุฏ ูู ุงูุฃุนุฏุงุก ูู ููุณ ุงูููุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> spawnProgress; โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ spawnProgress += spawnSpeed * Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (spawnProgress &gt;= <span class="hljs-number"><span class="hljs-number">1f</span></span>) { spawnProgress -= <span class="hljs-number"><span class="hljs-number">1f</span></span>; SpawnEnemy(); } }</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฃููุณ ูู ุงูุถุฑูุฑู ุชุญุฏูุซ ุงูุชูุฏู ูู FixedUpdateุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูุนู ุ ูุฐุง ูููู ุ ููู ูุซู ูุฐู ุงูููุงุนูุฏ ุงูุฏูููุฉ ููุณุช ูุทููุจุฉ ููุนุจุฉ ุงูุฏูุงุน ุนู ุงูุจุฑุฌ.  ุณูููู ุจุจุณุงุทุฉ ุจุชุญุฏูุซ ุญุงูุฉ ุงููุนุจุฉ ูู ูู ุฅุทุงุฑ ูุฌุนููุง ุชุนูู ุจุดูู ุฌูุฏ ุจูุง ูููู ูุฃู ุฏูุชุง ุงูููุช. </div></div><br>  ูุงุณูุญูุง <code>SpawnEnemy</code> ุงูุญุตูู ุนูู ููุทุฉ ุชูุฑุฎ ุนุดูุงุฆู ูู ุงูููุฏุงู ูุฎูู ุนุฏู ูู ูุฐุง ุงูุจูุงุท.  ุณูู ูุนุทู <code>Enemy</code> ุทุฑููุฉ <code>SpawnOn</code> ููุณู ุจุดูู ุตุญูุญ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpawnEnemy</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { GameTile spawnPoint = board.GetSpawnPoint(Random.Range(<span class="hljs-number"><span class="hljs-number">0</span></span>, board.SpawnPointCount)); Enemy enemy = enemyFactory.Get(); enemy.SpawnOn(spawnPoint); }</code> </pre> <br>  ูู ุงูููุช ุงูุญุงูู ุ ูู ูุง ุนูู <code>SpawnOn</code> ูุนูู ูู ุชุนููู ูููุนูุง ุงูุฎุงุต ูุณุงูู ููุฑูุฒ ุงูุจูุงุท.  ููุฐ ุฃู ุชู ูุถุน ูููุฐุฌ ุงูุฌุงูุฒุฉ ุจุดูู ุตุญูุญ ุ ุณูููู ุงูููุนุจ ุงูุนุฏู ุฃุนูู ูุฐุง ุงูุจูุงุท. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpawnOn</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile</span></span></span><span class="hljs-function">)</span></span> { transform.localPosition = tile.transform.localPosition; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8b5/74a/ce9/8b574ace93bd2c7f7829d41f9208a138.png" width="230" height="230"></div><br>  <i>ุฃุนุฏุงุก ุชุธูุฑ ูู ููุงุท ุชูุฑุฎ.</i> <br><br><h2 style=";text-align:right;direction:rtl">  ููู ุงูุฃุนุฏุงุก </h2><br>  ุจุนุฏ ุธููุฑ ุงูุนุฏู ุ ูุฌุจ ุฃู ูุจุฏุฃ ุงูุชุญุฑู ุนูู ุทูู ุงูุทุฑูู ุฅูู ุฃูุฑุจ ููุทุฉ ููุงูุฉ.  ูุชุญููู ุฐูู ุ ุชุญุชุงุฌ ุฅูู ุชุญุฑูู ุงูุฃุนุฏุงุก.  ูุจุฏุฃ ูุน ุงูุฒูุงู ุณูุณ ุจุณูุท ูู ุงูุจูุงุท ุฅูู ุงูุจูุงุท ุ ุซู ูุฌุนู ุญุฑูุชูู ุฃูุซุฑ ุตุนูุจุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ูู ุงูุฃุนุฏุงุก </h3><br>  ูุชุญุฏูุซ ุญุงูุฉ ุงูุฃุนุฏุงุก ุ ุณูุณุชุฎุฏู ููุณ ุงูุทุฑููุฉ ุงูุชู ุชู ุงุณุชุฎุฏุงููุง ูู ุณูุณูุฉ ุงูุจุฑุงูุฌ ุงูุชุนููููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฅุฏุงุฑุฉ ุงููุงุฆูุงุช</a> .  ูุถูู <code>Enemy</code> ุทุฑููุฉ <code>GameUpdate</code> ุงูุนุงูุฉ ุ ูุงูุชู ุชุนุฑุถ ูุนูููุงุช ุญูู ูุง ุฅุฐุง ูุงู ุนูู ููุฏ ุงูุญูุงุฉ ุ ูุงูุฐู ุณูููู ุฏุงุฆููุง ุตุญูุญูุง ูู ูุฐู ุงููุฑุญูุฉ.  ุงูุขู ุ ููุท ุงุฌุนูู ูุชุญุฑู ููุฃูุงู ููููุง ูุฏูุชุง ุงูููุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { transform.localPosition += Vector3.forward * Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุญุชุงุฌ ุฅูู ุงูุงุญุชูุงุธ ุจูุงุฆูุฉ ูู ุงูุฃุนุฏุงุก ุงูุฃุญูุงุก ูุชุญุฏูุซูู ุฌููุนูุง ุ ูุฅุฒุงูุชูู ูู ูุงุฆูุฉ ุงูุฃุนุฏุงุก ุงููุชูู.  ูููููุง ูุถุน ูู ูุฐุง ุงูุฑูุฒ ูู <code>Game</code> ุ ูููู ุจุฏูุงู ูู ุฐูู ุ ุนุฒูู ูุฅูุดุงุก ููุน <code>EnemyCollection</code> .  ูุฐู ูุฆุฉ ูุงุจูุฉ ููุชุณูุณู ููุง ุชุฑุซ ูู ุฃู ุดูุก.  ููุฏู ูู ุทุฑููุฉ ุนุงูุฉ ูุฅุถุงูุฉ ุนุฏู ูุทุฑููุฉ ุฃุฎุฑู ูุชุญุฏูุซ ุงููุฌููุนุฉ ุจุฃููููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; [System.Serializable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">EnemyCollection</span></span> { List&lt;Enemy&gt; enemies = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Enemy&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Add</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Enemy enemy</span></span></span><span class="hljs-function">)</span></span> { enemies.Add(enemy); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; enemies.Count; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!enemies[i].GameUpdate()) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lastIndex = enemies.Count - <span class="hljs-number"><span class="hljs-number">1</span></span>; enemies[i] = enemies[lastIndex]; enemies.RemoveAt(lastIndex); i -= <span class="hljs-number"><span class="hljs-number">1</span></span>; } } } }</code> </pre> <br>  ุณุชููู <code>Game</code> ุงูุขู ูุงููุฉ ูุฅูุดุงุก ูุฌููุนุฉ ูุงุญุฏุฉ ููุท ุ ูู ูู ุฅุทุงุฑ ูููู ุจุชุญุฏูุซูุง ูุฅุถุงูุฉ ุฃุนุฏุงุก ุชู ุฅูุดุงุคูุง ุฅูููุง.  ุณูููู ุจุชุญุฏูุซ ุงูุฃุนุฏุงุก ูุจุงุดุฑุฉ ุจุนุฏ ูุถุน ุงูุจูุถ ุงููุญุชูู ูุนุฏู ุฌุฏูุฏ ุญุชู ูุชู ุงูุชุญุฏูุซ ุนูู ุงูููุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> EnemyCollection enemies = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EnemyCollection(); โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ enemies.GameUpdate(); } โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpawnEnemy</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ enemies.Add(enemy); }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/25f/eb8/dc6/25feb8dc6f0d3a5a66be43f311cd7818.png" width="230" height="230"></div><br>  <i>ุฃุนุฏุงุก ูุชุญุฑููู ุฅูู ุงูุฃูุงู.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ุญุฑูุฉ ุนูู ุทูู ุงูุทุฑูู </h3><br>  ุงูุฃุนุฏุงุก ูุชุญุฑููู ุจุงููุนู ุ ูููู ุญุชู ุงูุขู ูุง ุชุชุจุน ุงููุณุงุฑ.  ููููุงู ุจุฐูู ุ ูุญุชุงุฌูู ุฅูู ูุนุฑูุฉ ุฅูู ุฃูู ูุฐูุจูู ุจุนุฏ ุฐูู.  ูุฐูู ุ ุฏุนููุง ูุนุทู <code>GameTile</code> ุฎุงุตูุฉ getter ุดุงุฆุนุฉ ููุญุตูู ุนูู ุงูุชุฌุงูุจ ุงูุชุงูู ุนูู ุงููุณุงุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameTile NextTileOnPath =&gt; nextOnPath;</code> </pre> <br>  ุนูุฏ ูุนุฑูุฉ ุงูุชุฌุงูุจ ุงูุฐู ุชุฑุบุจ ูู ุงูุฎุฑูุฌ ููู ุ ูุงูุจูุงุท ุงูุฐู ุชุฑูุฏ ุงูุญุตูู ุนููู ุ ูููู ููุฃุนุฏุงุก ุชุญุฏูุฏ ููุงุท ุงูุจุฏุงูุฉ ูุงูููุงูุฉ ูุชุญุฑูู ุจูุงุทุฉ ูุงุญุฏุฉ.  ูููู ููุนุฏู ุงุณุชููุงุก ุงููููู ุจูู ูุงุชูู ุงูููุทุชูู ุ ูุชุชุจุน ุญุฑูุชูู.  ุจุนุฏ ุงูุชูุงู ุงูุฎุทูุฉ ุ ุชุชูุฑุฑ ูุฐู ุงูุนูููุฉ ููุจูุงุท ุงูุชุงูู.  ููู ุงููุณุงุฑุงุช ูููู ุฃู ุชุชุบูุฑ ูู ุฃู ููุช.  ุจุฏูุงู ูู ุชุญุฏูุฏ ุฃูู ูุชุญุฑู ุฃูุซุฑ ูู ุนูููุฉ ุงูุญุฑูุฉ ุ ููุงุตู ุจุจุณุงุทุฉ ุงูุชุญุฑู ุนูู ุทูู ุงูุทุฑูู ุงููุฎุทุท ูู ูุงูุชุญูู ููู ุ ูุงููุตูู ุฅูู ุงูุจูุงุท ุงูุชุงูู. <br><br>  ุฏุน <code>Enemy</code> ูุชุนูุจ ููุง ุงูุชุฌุงูุจูู ุจุญูุซ ูุง ูุชุฃุซุฑ ุจุชุบููุฑ ูู ุงููุณุงุฑ.  ููุง ุณูุชุชุจุน ุงูููุงูู ุญุชู ูุง ูุถุทุฑ ุฅูู ุงุณุชูุงููุง ูู ูู ุฅุทุงุฑ ุ ูุชุชุจุน ุนูููุฉ ุงูุชุญุฑู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> GameTile tileFrom, tileTo; Vector3 positionFrom, positionTo; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> progress;</code> </pre> <br>  ุชููุฆุฉ ูุฐู ุงูุญููู ูู <code>SpawnOn</code> .  ุงูููุทุฉ ุงูุฃููู ูู ุงูุจูุงุท ุงูุฐู ููุชูู ููู ุงูุนุฏู ุ ูููุทุฉ ุงูููุงูุฉ ูู ุงูุจูุงุท ุงูุชุงูู ุนูู ุงููุณุงุฑ.  ูุฐุง ููุชุฑุถ ูุฌูุฏ ุงููุฑุจุน ุงูุชุงูู ุ ุฅูุง ุฅุฐุง ุชู ุฅูุดุงุก ุงูุนุฏู ูู ููุทุฉ ุงูููุงูุฉ ุ ููู ูุง ูุฌุจ ุฃู ูููู ูุณุชุญูููุง.  ุซู ูููู ุจุงูุชุฎุฒูู ุงููุคูุช ูููุงูู ุงูุจูุงุท ูุฅุนุงุฏุฉ ุถุจุท ุงูุชูุฏู.  ูุง ูุญุชุงุฌ ุฅูู ุชุนููู ููุถุน ุงูุนุฏู ููุง ุ ูุฃู ุทุฑููุฉ <code>GameUpdate</code> ุชุณูู ูู ููุณ ุงูุฅุทุงุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpawnOn</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//transform.localPosition = tile.transform.localPosition; Debug.Assert(tile.NextTileOnPath != null, "Nowhere to go!", this); tileFrom = tile; tileTo = tile.NextTileOnPath; positionFrom = tileFrom.transform.localPosition; positionTo = tileTo.transform.localPosition; progress = 0f; }</span></span></code> </pre> <br>  ุณูุชู ุชูููุฐ ุฒูุงุฏุฉ ุงูุชูุฏู ูู <code>GameUpdate</code> .  ุฏุนูุง ูุถูู ุฏูุชุง ููุช ุซุงุจุช ุญุชู ูุชุญุฑู ุงูุฃุนุฏุงุก ุจุณุฑุนุฉ ูุงุญุฏุฉ ูู ุงูุซุงููุฉ ุงููุงุญุฏุฉ.  ุนูุฏ ุงูุชูุงู ุงูุชูุฏู ุ ูููู ุจุชุญููู ุงูุจูุงูุงุช ุจุญูุซ ุชุตุจุญ ุงููููุฉ <code>From</code> ุ <code>To</code> ุงูุฌุฏูุฏุฉ ูู ุงููุฌููุนุฉ ุงูุชุงููุฉ ุนูู ุงููุณุงุฑ.  ุซู ูุฎูุถ ุงูุชูุฏู.  ุนูุฏูุง ุชุตุจุญ ุงูุจูุงูุงุช ุฐุงุช ุตูุฉ ุ ูุฅููุง ููุญู ููุถุน ุงูุนุฏู ุจูู <code>From</code> ู <code>To</code> .  ูุธุฑูุง ูุฃู ุงููุชุฑุฌู ููุฏ ุงูุชูุฏู ุ ูุฅู ูููุชู ูู ุจุงูุถุฑูุฑุฉ ูู ุญุฏูุฏ 0 ู 1 ุ ูุฐูู ูููููุง ุงุณุชุฎุฏุงู s <code>Vector3.LerpUnclamped</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { progress += Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (progress &gt;= <span class="hljs-number"><span class="hljs-number">1f</span></span>) { tileFrom = tileTo; tileTo = tileTo.NextTileOnPath; positionFrom = positionTo; positionTo = tileTo.transform.localPosition; progress -= <span class="hljs-number"><span class="hljs-number">1f</span></span>; } transform.localPosition = Vector3.LerpUnclamped(positionFrom, positionTo, progress); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br>  ูุฐุง ููุฑุถ ุนูู ุงูุฃุนุฏุงุก ุงุชุจุงุน ุงููุณุงุฑ ุ ูููู ูู ูุชุตุฑู ุนูุฏ ุงููุตูู ุฅูู ููุทุฉ ุงูููุงูุฉ.  ูุฐูู ุ ูุจู ุชุบููุฑ ููุงุถุน <code>From</code> ู <code>To</code> ุ ุชุญุชุงุฌ ุฅูู ููุงุฑูุฉ ุงูุชุฌุงูุจ ุงูุชุงูู ุนูู ุงููุณุงุฑ ูุน <code>null</code> .  ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ููุฏ ูุตููุง ุฅูู ููุทุฉ ุงูููุงูุฉ ูุงูุนุฏู ูุฏ ุฃููู ุงูุญุฑูุฉ.  ูููุฐ ุงุณุชุนุงุฏุฉ ูุฐูู ููุนูุฏ <code>false</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (progress &gt;= <span class="hljs-number"><span class="hljs-number">1f</span></span>) { tileFrom = tileTo; tileTo = tileTo.NextTileOnPath; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tileTo == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { OriginFactory.Reclaim(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } positionFrom = positionTo; positionTo = tileTo.transform.localPosition; progress -= <span class="hljs-number"><span class="hljs-number">1f</span></span>; }</code> </pre> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>ุฃุนุฏุงุก ุงุชุจุงุน ุฃูุตุฑ ุทุฑูู.</i> <br><br>  ุงูุฃุนุฏุงุก ููุชูููู ุงูุขู ูู ูุณุท ุงูุจูุงุท ุฅูู ุขุฎุฑ.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃููู ูุบูุฑูู ุญุงูุฉ ุญุฑูุชูู ููุท ูู ูุฑุงูุฒ ุงูุชุฌุงูุจ ุ ูุจุงูุชุงูู ูุง ูููููู ุงูุงุณุชุฌุงุจุฉ ุนูู ุงูููุฑ ููุชุบูุฑุงุช ูู ูุฐุง ุงููุฌุงู.  ูุฐุง ูุนูู ุฃูู ูู ุจุนุถ ุงูุฃุญูุงู ูุชุญุฑู ุงูุฃุนุฏุงุก ูู ุฎูุงู ุงูุฌุฏุฑุงู ููุท  ุจูุฌุฑุฏ ุฃู ูุจุฏุฃูุง ุงูุชุญุฑู ูุญู ุงูุฎููุฉ ุ ูู ูููุนูู ุดูุก.  ููุฐุง ุงูุณุจุจ ุชุญุชุงุฌ ุงูุฌุฏุฑุงู ุฃูุถูุง ุฅูู ูุณุงุฑุงุช ุญููููุฉ. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>ุฑุฏ ูุนู ุงูุฃุนุฏุงุก ูุชุบููุฑ ุงููุณุงุฑุงุช.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ุญุฑูุฉ ูู ุงูุญุงูุฉ ุฅูู ุงูุญุงูุฉ </h3><br>  ุชุจุฏู ุงูุญุฑูุฉ ุจูู ูุฑุงูุฒ ุงูุจูุงุท ูุงูุชุบููุฑ ุงูุญุงุฏ ูู ุงูุงุชุฌุงู ุฃูุฑูุง ุนุงุฏููุง ุจุงููุณุจุฉ ููุนุจุฉ ูุฌุฑุฏุฉ ูุญุฑู ูููุง ุงูุฃุนุฏุงุก ููุนุจุงุช ุ ูููู ุนุงุฏุฉู ูุง ุชููู ุงูุญุฑูุฉ ุงูุณูุณุฉ ุฃูุซุฑ ุฌูุงูุง.  ุงูุฎุทูุฉ ุงูุฃููู ูุชูููุฐู ูู ุงูุญุฑูุฉ ููุณ ูู ุงููุฑุงูุฒ ุ ูููู ุนูู ุทูู ุญูุงู ุงูุจูุงุท. <br><br>  ูููู ุงูุนุซูุฑ ุนูู ููุทุฉ ุงูุญุงูุฉ ุจูู ุงูุจูุงุท ุงููุฌุงูุฑ ุนู ุทุฑูู ุญุณุงุจ ูุชูุณุท โโููุงูุนูุง.  ุจุฏูุงู ูู ุญุณุงุจูุง ูู ูู ุฎุทูุฉ ููู ุนุฏู ุ <code>GameTile.GrowPathTo</code> ููุท ุนูุฏ ุชุบููุฑ ุงููุณุงุฑ ูู <code>GameTile.GrowPathTo</code> .  ุงุฌุนูู ูุชุงุญูุง ุจุงุณุชุฎุฏุงู ุฎุงุตูุฉ <code>ExitPoint</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector3 ExitPoint { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } โฆ <span class="hljs-function"><span class="hljs-function">GameTile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GrowPathTo</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile neighbor</span></span></span><span class="hljs-function">)</span></span> { โฆ neighbor.ExitPoint = (neighbor.transform.localPosition + transform.localPosition) * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> neighbor.Content.Type != GameTileContentType.Wall ? neighbor : <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }</code> </pre> <br>  ุงูุญุงูุฉ ุงูุฎุงุตุฉ ุงููุญูุฏุฉ ูู ุงูุฎููุฉ ุงูููุงุฆูุฉ ุ ูุงูุชู ุณุชููู ููุทุฉ ุงูุฎุฑูุฌ ูููุง ูุฑูุฒูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BecomeDestination</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { distance = <span class="hljs-number"><span class="hljs-number">0</span></span>; nextOnPath = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; ExitPoint = transform.localPosition; }</code> </pre> <br>  ุชุบููุฑ <code>Enemy</code> ุจุญูุซ ูุณุชุฎุฏู ููุงุท ุงูุฎุฑูุฌ ุ ูููุณ ูุฑุงูุฒ ุงูุชุฌุงูุจ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { progress += Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (progress &gt;= <span class="hljs-number"><span class="hljs-number">1f</span></span>) { โฆ positionTo = tileFrom.ExitPoint; progress -= <span class="hljs-number"><span class="hljs-number">1f</span></span>; } transform.localPosition = Vector3.Lerp(positionFrom, positionTo, progress); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpawnOn</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile</span></span></span><span class="hljs-function">)</span></span> { โฆ positionTo = tileFrom.ExitPoint; progress = <span class="hljs-number"><span class="hljs-number">0f</span></span>; }</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>ุงูุฃุนุฏุงุก ูุชุญุฑููู ุจูู ุงูุญูุงู.</i> <br><br>  ูุชูุซู ุฃุญุฏ ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ ููุฐุง ุงูุชุบููุฑ ูู ุฃูู ุนูุฏูุง ูุชุญูู ุงูุฃุนุฏุงุก ุจุณุจุจ ุงูุชุบููุฑ ูู ุงููุณุงุฑ ุ ูุธููู ุจูุง ุญุฑุงู ููุฏุฉ ุซุงููุฉ. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>ุนูุฏูุง ุชุญูู ุ ุชุชููู ุงูุฃุนุฏุงุก.</i> <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุฌูู </h3><br>  ุนูู ุงูุฑุบู ูู ุฃู ุงูุฃุนุฏุงุก ูุชุญุฑููู ุนูู ุทูู ุงููุณุงุฑุงุช ุญุชู ูุบูุฑูุง ุงุชุฌุงููู.  ุญุชู ูุชููููุง ูู ุงููุธุฑ ูู ุงุชุฌุงู ุงูุญุฑูุฉ ุ ููู ุจุญุงุฌุฉ ุฅูู ูุนุฑูุฉ ุงุชุฌุงู ุงููุณุงุฑ ุงูุฐู ูุชุจุนููู.  ุณูุญุฏุฏ ูุฐุง ุฃูุถูุง ุฃุซูุงุก ุงูุจุญุซ ุนู ุทุฑู ุ ุจุญูุซ ูุง ูุชุนูู ุนูู ุงูุฃุนุฏุงุก ุงูููุงู ุจุฐูู. <br><br>  ูุฏููุง ุฃุฑุจุนุฉ ุงุชุฌุงูุงุช: ุงูุดูุงู ูุงูุดุฑู ูุงูุฌููุจ ูุงูุบุฑุจ.  ุฏุนููุง ูุนุฏุฏูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Direction { North, East, South, West }</code> </pre> <br>  ุซู ูุนุทู ุฎุงุตูุฉ <code>GameTile</code> ูุชุฎุฒูู ุงุชุฌุงู ูุณุงุฑูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Direction PathDirection { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }</code> </pre> <br>  ุฅุถุงูุฉ ูุนููุฉ ุงุชุฌุงู ุฅูู <code>GrowTo</code> ุ ูุงูุฐู ูุนูู ุงูุฎุงุตูุฉ.  ูุธุฑูุง ูุฃููุง ูุฒุฑุน ุทุฑูููุง ูู ุงูููุงูุฉ ุฅูู ุงูุจุฏุงูุฉ ุ ูุฅู ุงูุงุชุฌุงู ุณูููู ุนูุณ ุงูููุงู ุงูุฐู ูุฒุฑุน ููู ุงููุณุงุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameTile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GrowPathNorth</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; GrowPathTo(north, Direction.South); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameTile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GrowPathEast</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; GrowPathTo(east, Direction.West); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameTile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GrowPathSouth</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; GrowPathTo(south, Direction.North); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> GameTile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GrowPathWest</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; GrowPathTo(west, Direction.East); <span class="hljs-function"><span class="hljs-function">GameTile </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GrowPathTo</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile neighbor, Direction direction</span></span></span><span class="hljs-function">)</span></span> { โฆ neighbor.PathDirection = direction; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> neighbor.Content.Type != GameTileContentType.Wall ? neighbor : <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }</code> </pre> <br>  ูุญู ุจุญุงุฌุฉ ุฅูู ุชุญููู ุงูุงุชุฌุงูุงุช ุฅูู ุงูููุนุทูุงุช ุงูุชู ูุชู ุงูุชุนุจูุฑ ุนููุง ูุฑุจุงุนู.  ุณูููู ูู ุงููุฑูุญ ุฅุฐุง ุงุณุชุทุนูุง ููุท ุงุณุชุฏุนุงุก <code>GetRotation</code> ููุญุตูู ุนูู ุงูุงุชุฌุงู ุ ูุฐูู ุฏุนููุง ููุนู ุฐูู ุนู ุทุฑูู ุฅูุดุงุก ุทุฑููุฉ ุชูุฏูุฏ.  ุฃุถู ุงูุฃุณููุจ ุงูุซุงุจุช ุงูุนุงู <code>DirectionExtensions</code> ุ ุฃุนุทู ุตููููุง ููุชุฎุฒูู ุงููุคูุช <code>GetRotation</code> ุงูุถุฑูุฑูุฉ ุ ููุฐูู ุทุฑููุฉ <code>GetRotation</code> ูุฅุฑุฌุงุน ูููุฉ ุงูุงุชุฌุงู ุงูููุงุจูุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูู ุงูููุทูู ูุถุน ูุฆุฉ ุงูุงูุชุฏุงุฏ ูู ููุณ ุงูููู ูุซู ููุน ุงูุชุนุฏุงุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Direction { North, East, South, West } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DirectionExtensions</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Quaternion[] rotations = { Quaternion.identity, Quaternion.Euler(<span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">90f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>), Quaternion.Euler(<span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">180f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>), Quaternion.Euler(<span class="hljs-number"><span class="hljs-number">0f</span></span>, <span class="hljs-number"><span class="hljs-number">270f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>) }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Quaternion </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetRotation</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Direction direction</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rotations[(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)direction]; } }</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุง ูู ุทุฑููุฉ ุงูุชูุฏูุฏุ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุทุฑููุฉ ุงูุชูุฏูุฏ ูู ุทุฑููุฉ ุซุงุจุชุฉ ุฏุงุฎู ูุฆุฉ ุซุงุจุชุฉ ุชุชุตุฑู ูุทุฑููุฉ ูุซูู ูู ููุน ูุง.  ูููู ุฃู ูููู ูุฐุง ุงูููุน ูุฆุฉ ุฃู ูุงุฌูุฉ ุฃู ุจููุฉ ุฃู ูููุฉ ุฃูููุฉ ุฃู ุชุนุฏุงุฏ.  ูุฌุจ ุฃู ุชุญุชูู ุงููุณูุทุฉ ุงูุฃููู ูุทุฑููุฉ ุงูุงูุชุฏุงุฏ ุนูู <code>this</code> .  ุฅูู ูุญุฏุฏ ูููุฉ ุงูููุน ูุงููุซูู ุงูุฐู ุณุชุนูู ุจู ุงูุทุฑููุฉ.  ูุฐุง ุงูููุฌ ูุนูู ุฃู ุชูุณูุน ุงูุฎุตุงุฆุต ุบูุฑ ูููู. <br><br>  ูู ูุฐุง ูุณูุญ ูู ุจุฅุถุงูุฉ ุทุฑู ุฅูู ุฃู ุดูุกุ  ูุนู ุ ุชูุงููุง ููุง ููููู ูุชุงุจุฉ ุฃู ุทุฑููุฉ ุซุงุจุชุฉ ููุง ุฃู ููุน. </div></div><br>  ุงูุขู ูููููุง ุชุฏููุฑ <code>Enemy</code> ุนูุฏ ุงูุชูุฑูุฎ ููู ูู ูุฑุฉ ูุฏุฎู ูููุง ุจูุงุทุฉ ุฌุฏูุฏุฉ.  ุจุนุฏ ุชุญุฏูุซ ุงูุจูุงูุงุช ุ ูุนุทููุง ุงูุจูุงุท <code>From</code> ุงูุงุชุฌุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { progress += Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (progress &gt;= <span class="hljs-number"><span class="hljs-number">1f</span></span>) { โฆ transform.localRotation = tileFrom.PathDirection.GetRotation(); progress -= <span class="hljs-number"><span class="hljs-number">1f</span></span>; } transform.localPosition = Vector3.LerpUnclamped(positionFrom, positionTo, progress); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpawnOn</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile</span></span></span><span class="hljs-function">)</span></span> { โฆ transform.localRotation = tileFrom.PathDirection.GetRotation(); progress = <span class="hljs-number"><span class="hljs-number">0f</span></span>; }</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุชุบููุฑ ุงูุงุชุฌุงู </h3><br>  ุจุฏูุงู ูู ุชุบููุฑ ุงูุงุชุฌุงู ุนูู ุงูููุฑ ุ ูู ุงูุฃูุถู ุฃู ุฃูุญู ุงูููู ุจูู ุงูููุนุทูุงุช ุ ุนูู ุบุฑุงุฑ ุงูุทุฑููุฉ ุงูุชู ุชู ุจูุง ุชูุฑูุจ ุงูููุงูู ุจูู ุงูููุงูุน.  ููุงูุชูุงู ูู ุงุชุฌุงู ุฅูู ุขุฎุฑ ุ ูุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุงูุชุบููุฑ ูู ุงูุงุชุฌุงู ุงูุฐู ูุฌุจ ุงูููุงู ุจู: ุจุฏูู ุงูุฏูุฑุงู ุฃู ุงูุฏูุฑุงู ูููููุง ุฃู ุงูุฏูุฑุงู ูุณุงุฑูุง ุฃู ุงูุฑุฌูุน ุฅูู ุงูุฎูู.  ูุถูู ููุฐุง ุงูุชุนุฏุงุฏ ุ ูุงูุฐู ูููู ูุถุนู ูุฑุฉ ุฃุฎุฑู ูู ููุณ ุงูููู ูุซู <code>Direction</code> ุ ูุฃููุง ุตุบูุฑุฉ ูุฐุงุช ุตูุฉ ูุซููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Direction { North, East, South, West } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> DirectionChange { None, TurnRight, TurnLeft, TurnAround }</code> </pre> <br>  ุฃุถู ุทุฑููุฉ ุชูุฏูุฏ ุฃุฎุฑู ุ ููุฐู ุงููุฑุฉ <code>GetDirectionChangeTo</code> ุ ูุงูุชู ุชุฑุฌุน ุชุบููุฑ ุงูุงุชุฌุงู ูู ุงูุงุชุฌุงู ุงูุญุงูู ุฅูู ุงูุชุงูู.  ุฅุฐุง ูุงูุช ุงูุงุชุฌุงูุงุช ุชุชุฒุงูู ุ ููุง ููุฌุฏ ุชุญูู.  ุฅุฐุง ูุงู ุงููุงุฏู ูุงุญุฏ ุฃูุซุฑ ูู ุงูุญุงูู ุ ููุฐุง ุจุฏูุฑู ุฅูู ุงููููู.  ูููู ุจูุง ุฃู ุงูุชูุฌููุงุช ุชุชูุฑุฑ ุ ูุฅู ููุณ ุงููููู ุณูููู ุนูุฏูุง ูููู ุงููุถุน ุงูุชุงูู ุซูุงุซุฉ ุฃูู ูู ุงููุถุน ุงูุญุงูู.  ูุน ุงูููุนุทู ุงูุฃูุณุฑ ุ ุณุชููู ูู ููุณูุง ุ ููุท ุงูุชุจุฏูู ูุงูุทุฑุญ ุณูู ูุญููุงู ุงูุฃูุงูู.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุญุงูุฉ ุงููุญูุฏุฉ ุงููุชุจููุฉ ูู ุงูุนูุฏุฉ ุฅูู ุงููุฑุงุก. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> DirectionChange </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetDirectionChangeTo</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Direction current, Direction next </span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (current == next) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DirectionChange.None; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (current + <span class="hljs-number"><span class="hljs-number">1</span></span> == next || current - <span class="hljs-number"><span class="hljs-number">3</span></span> == next) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DirectionChange.TurnRight; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (current - <span class="hljs-number"><span class="hljs-number">1</span></span> == next || current + <span class="hljs-number"><span class="hljs-number">3</span></span> == next) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DirectionChange.TurnLeft; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DirectionChange.TurnAround; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญู ูููู ุจุงูุชูุงูุจ ูู ุจุนุฏ ูุงุญุฏ ููุท ุ ูุฐุง ูุฅู ุงูุงุณุชููุงุก ุงูุฎุทู ููุฒูุงูุง ุณูููู ูุงููุงู ุจุงููุณุจุฉ ููุง. </font><font style="vertical-align: inherit;">ุฃุถู ุทุฑููุฉ ุชูุณูุน ุฃุฎุฑู ุชุญุตู ุนูู ุฒุงููุฉ ุงูุงุชุฌุงู ุจุงูุฏุฑุฌุงุช.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetAngle</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Direction direction</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)direction * <span class="hljs-number"><span class="hljs-number">90f</span></span>; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ูุฌุจ ุนููู </font></font><code>Enemy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุชุจุน ุงูุงุชุฌุงู ูุชุบููุฑ ุงูุงุชุฌุงู ูุงูุฒูุงูุง ุงูุชู ุชุญุชุงุฌ ุฅูู ุฅุฌุฑุงุก ุงูุงุณุชููุงุก ุจูููุง.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> Direction direction; DirectionChange directionChange; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> directionAngleFrom, directionAngleTo;</code> </pre> <br> <code>SpawnOn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฒุฏุงุฏ ุตุนูุจุฉ ุ ูุฐูู ุฏุนููุง ููู ุฑูุฒ ุฅุนุฏุงุฏ ุงูุญุงูุฉ ุฅูู ุทุฑููุฉ ุฃุฎุฑู. </font><font style="vertical-align: inherit;">ุณูููู ุจุชุนููู ุงูุญุงูุฉ ุงูุฃูููุฉ ููุนุฏู ูุฏููุฉ ุชูููุฏูุฉ ุ ูุฐูู ุณูู ูุณูููุง </font></font><code>PrepareIntro</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูู ูุฐู ุงูุญุงูุฉ ุ ููุชูู ุงูุนุฏู ูู ุงููุฑูุฒ ุฅูู ุญุงูุฉ ุจูุงุทู ุงูุฃููู ุ ูุฐูู ูุง ููุฌุฏ ุชุบููุฑ ูู ุงูุงุชุฌุงู. </font><font style="vertical-align: inherit;">ูู ุงูุฒูุงูุง </font></font><code>From</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>To</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ููุณู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpawnOn</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameTile tile</span></span></span><span class="hljs-function">)</span></span> { Debug.Assert(tile.NextTileOnPath != <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Nowhere to go!"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); tileFrom = tile; tileTo = tile.NextTileOnPath; <span class="hljs-comment"><span class="hljs-comment">//positionFrom = tileFrom.transform.localPosition; //positionTo = tileFrom.ExitPoint; //transform.localRotation = tileFrom.PathDirection.GetRotation(); progress = 0f; PrepareIntro(); } void PrepareIntro () { positionFrom = tileFrom.transform.localPosition; positionTo = tileFrom.ExitPoint; direction = tileFrom.PathDirection; directionChange = DirectionChange.None; directionAngleFrom = directionAngleTo = direction.GetAngle(); transform.localRotation = direction.GetRotation(); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฐู ุงููุฑุญูุฉ ุ ูููู ุจุฅูุดุงุก ุดูุก ูุดุจู ุขูุฉ ุงูุญุงูุฉ ุงูุตุบูุฑุฉ. </font><font style="vertical-align: inherit;">ูุฅุจูุงุก ุงูุฃููุฑ ุจุณูุทุฉ </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุงููู ุฑูุฒ ุงูุญุงูุฉ ุฅูู ุทุฑููุฉ ุฌุฏูุฏุฉ </font></font><code>PrepareNextState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุชุฑู ููุท ุชุบููุฑ ุงูุจูุงุท </font></font><code>From</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>To</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุณุชุฎุฏููุง ููุง ูุงุฎุชุจุงุฑ ูุง ุฅุฐุง ูุงู ุงูุนุฏู ูุฏ ุงูุชูู ุงูุทุฑูู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { progress += Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (progress &gt;= <span class="hljs-number"><span class="hljs-number">1f</span></span>) { โฆ <span class="hljs-comment"><span class="hljs-comment">//positionFrom = positionTo; //positionTo = tileFrom.ExitPoint; //transform.localRotation = tileFrom.PathDirection.GetRotation(); progress -= 1f; PrepareNextState(); } โฆ }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏ ุงูุงูุชูุงู ุฅูู ุญุงูุฉ ุฌุฏูุฏุฉ ุ ุชุญุชุงุฌ ุฏุงุฆููุง ุฅูู ุชุบููุฑ ุงูููุงุถุน ุ ูุงูุนุซูุฑ ุนูู ุชุบููุฑ ูู ุงูุงุชุฌุงู ุ ูุชุญุฏูุซ ุงูุงุชุฌุงู ุงูุญุงูู ุ ูุชุญููู ุงูุฒุงููุฉ </font></font><code>To</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู </font></font><code>From</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุญู ูู ูุนุฏ ูุฌููุนุฉ ุจุฏูุฑู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareNextState</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { positionFrom = positionTo; positionTo = tileFrom.ExitPoint; directionChange = direction.GetDirectionChangeTo(tileFrom.PathDirection); direction = tileFrom.PathDirection; directionAngleFrom = directionAngleTo; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฌุฑุงุกุงุช ุฃุฎุฑู ุชุนุชูุฏ ุนูู ุชุบููุฑ ุงูุงุชุฌุงู. </font><font style="vertical-align: inherit;">ุฏุนูุง ูุถูู ุทุฑููุฉ ููู ุฎูุงุฑ. </font><font style="vertical-align: inherit;">ูู ุญุงูุฉ ุงููุถู ูุฏููุง ุ </font></font><code>To</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุชุฒุงูู </font><font style="vertical-align: inherit;">ุงูุฒุงููุฉ </font><font style="vertical-align: inherit;">ูุน ุงุชุฌุงู ูุณุงุฑ ุงูุฎููุฉ ุงูุญุงููุฉ. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุญุชุงุฌ ุฅูู ุถุจุท ุงูุชูุงูุจ ุจุญูุซ ูุชุทูุน ุงูุนุฏู ุฅูู ุงูุฃูุงู ูุจุงุดุฑุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareForward</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { transform.localRotation = direction.GetRotation(); directionAngleTo = direction.GetAngle(); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุญุงูุฉ ูุฌูุฏ ููุนุทู ุ ูุฅููุง ูุง ูุชุญูู ุนูู ุงูููุฑ. </font><font style="vertical-align: inherit;">ูุญุชุงุฌ ุฅูู ุงูุงูุชูุงู ุฅูู ุฒุงููุฉ ูุฎุชููุฉ: 90 ุฏุฑุฌุฉ ููุงูุนุทุงู ุฅูู ุงููููู ุ ู 90 ุฏุฑุฌุฉ ููุงูุนุทุงู ูููุณุงุฑ ุ ู 180 ุฏุฑุฌุฉ ููุฑุฌูุน ุฅูู ุงูุฎูู. </font><font style="vertical-align: inherit;">ูุชุฌูุจ ุงูุงูุนุทุงู ูู ุงูุงุชุฌุงู ุงูุฎุงุทุฆ ุจุณุจุจ ุงูุชุบููุฑ ูู ููู ุงูุฒุงููุฉ ูู 359 ุฏุฑุฌุฉ ุฅูู 0 ุฏุฑุฌุฉ ุ </font></font><code>To</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฌุจ ุงูุฅุดุงุฑุฉ ุฅูู </font><font style="vertical-align: inherit;">ุงูุฒุงููุฉ </font><font style="vertical-align: inherit;">ุจุงููุณุจุฉ ุฅูู ุงูุงุชุฌุงู ุงูุญุงูู. </font><font style="vertical-align: inherit;">ูุง ุฏุงุนู ููููู ูู ุฃู ุชุตุจุญ ุงูุฒุงููุฉ ุฃูู ูู 0 ุฏุฑุฌุฉ ุฃู ุฃูุซุฑ ูู 360 ุฏุฑุฌุฉ ุ ูุฃููุง ูุณุชุทูุน </font></font><code>Quaternion.Euler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุนุงูู ูุนูุง.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnRight</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom + <span class="hljs-number"><span class="hljs-number">90f</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnLeft</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom - <span class="hljs-number"><span class="hljs-number">90f</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnAround</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom + <span class="hljs-number"><span class="hljs-number">180f</span></span>; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูููุงูุฉ ุ </font></font><code>PrepareNextState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููููุง ุงุณุชุฎุฏุงู </font></font><code>switch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุบููุฑ ุงูุงุชุฌุงูุงุช ูุชุญุฏูุฏ ุฃู ูู ุงูุทุฑู ุงูุฃุฑุจุนุฉ ููุงุชุตุงู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareNextState</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (directionChange) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> DirectionChange.None: PrepareForward(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> DirectionChange.TurnRight: PrepareTurnRight(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> DirectionChange.TurnLeft: PrepareTurnLeft(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: PrepareTurnAround(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ูู ุงูููุงูุฉ </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชุงุฌ ุฅูู ุงูุชุญูู ููุง ุฅุฐุง ูุงู ุงูุงุชุฌุงู ูุฏ ุชุบูุฑ. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ูุญุฑู ุจูู ุงูุฒุงููุชูู ูุงุถุจุท ุงูุฏูุฑุงู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ transform.localPosition = Vector3.LerpUnclamped(positionFrom, positionTo, progress); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (directionChange != DirectionChange.None) { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> angle = Mathf.LerpUnclamped( directionAngleFrom, directionAngleTo, progress ); transform.localRotation = Quaternion.Euler(<span class="hljs-number"><span class="hljs-number">0f</span></span>, angle, <span class="hljs-number"><span class="hljs-number">0f</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุนุฏุงุก ูุชุญูููู.</font></font></i> <br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญุฑูุฉ ุงูููุญูู </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููููุง ุชุญุณูู ุงูุญุฑูุฉ ุจุฌุนู ุงูุฃุนุฏุงุก ูุชุญุฑููู ุนูู ุทูู ุงูููุญูู ุนูุฏ ุงูุฏูุฑุงู. </font><font style="vertical-align: inherit;">ุจุฏูุงู ูู ุงููุดู ูู ุงูุญุงูุฉ ุฅูู ุงูุญุงูุฉ ูู ุงูุจูุงุท ุ ุฏุนูู ููุดูู ุฑุจุน ุงูุฏุงุฆุฑุฉ. </font><font style="vertical-align: inherit;">ููุน ูุฑูุฒ ูุฐู ุงูุฏุงุฆุฑุฉ ูู ุฒุงููุฉ ูุดุชุฑูุฉ ุจูู ุงูุจูุงุท </font></font><code>From</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนูู </font></font><code>To</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุณ ุงูุญุงูุฉ ุงูุชู ุฏุฎู ุงูุนุฏู ูู ุฎูุงููุง ุงูุจูุงุท </font></font><code>From</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/1d7/8a6/3a5/1d78a63a58d34a1d8cc9ff56a0b23cc3.png" width="256" height="256"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑุจุน ุฏุงุฆุฑุฉ ุฏูุฑุงู ุฅูู ุงููููู. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููููุง ุฃู ูุฏุฑู ูุฐุง ูู ุฎูุงู ุชุญุฑูู ุงูุนุฏู ูู ููุณ ุจุงุณุชุฎุฏุงู ุนูู ุงููุซูุซุงุช ุ ููู ููุณ ุงูููุช ุชุญูููู. </font><font style="vertical-align: inherit;">ูููู ูููู ุชุจุณูุท ุฐูู ุจุงุณุชุฎุฏุงู ุงูุชูุงูุจ ููุท ุ ูููู ุงูุฃุตู ุงููุญูู ูุฅุญุฏุงุซูุงุช ุงูุนุฏู ุฅูู ูุณุท ุงูุฏุงุฆุฑุฉ. </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ูุญุชุงุฌ ุฅูู ุชุบููุฑ ููุถุน ูููุฐุฌ ุงูุนุฏู ุ ูุฐูู ุณููุฏู </font></font><code>Enemy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑุงุจุทูุง ููุฐุง ุงููููุฐุฌ ุ ูููู ุงููุตูู ุฅููู ูู ุฎูุงู ุญูู ุงูุชูููู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] Transform model = <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>;</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/72b/13c/28e/72b13c28ed9d6a8d34f3e17536e964cd.png" width="320" height="56"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุนุฏู ูุน ุงูุฅุดุงุฑุฉ ุฅูู ุงููููุฐุฌ. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชุนุฏุงุฏูุง ูููุถู ูุฏููุง ุฃู ุงูุฑุฌูุน ููุฎูู ุ ูุฌุจ ุฃู ููุชูู ุงููููุฐุฌ ุฅูู ุงูููุถุน ุงูููุงุณู ุ ุฅูู ุงูุฃุตู ุงููุญูู ูุฅุญุฏุงุซูุงุช ุงูุนุฏู. </font><font style="vertical-align: inherit;">ุฎูุงู ุฐูู ุ ูุฌุจ ุฅุฒุงุญุฉ ุงููููุฐุฌ ุจููุฏุงุฑ ูุตู ูุญุฏุฉ ุงูููุงุณ - ูุตู ูุทุฑ ุฏุงุฆุฑุฉ ุงูุฏูุฑุงู ุ ุจุนูุฏูุง ุนู ููุทุฉ ุงูุชุญูู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareForward</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { transform.localRotation = direction.GetRotation(); directionAngleTo = direction.GetAngle(); model.localPosition = Vector3.zero; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnRight</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom + <span class="hljs-number"><span class="hljs-number">90f</span></span>; model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(<span class="hljs-number"><span class="hljs-number">-0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnLeft</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom - <span class="hljs-number"><span class="hljs-number">90f</span></span>; model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(<span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnAround</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom + <span class="hljs-number"><span class="hljs-number">180f</span></span>; model.localPosition = Vector3.zero; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ูุฌุจ ุฃู ููุชูู ุงูุนุฏู ููุณู ุฅูู ููุทุฉ ุงูุชุญูู. </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ูุฌุจ ุฃูุถูุง ูููู ูุตู ูุญุฏุฉ ุงูููุงุณ ุ ููู ุงูุฅุฒุงุญุฉ ุงูุฏูููุฉ ุชุนุชูุฏ ุนูู ุงูุงุชุฌุงู. </font><font style="vertical-align: inherit;">ุฏุนููุง ูุถูู </font></font><code>Direction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุทุฑููุฉ ุชูุฏูุฏ ูุณุงุนุฏุฉ ููุฐุง </font></font><code>GetHalfVector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Vector3[] halfVectors = { Vector3.forward * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, Vector3.right * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, Vector3.back * <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, Vector3.left * <span class="hljs-number"><span class="hljs-number">0.5f</span></span> }; โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Vector3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetHalfVector</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Direction direction</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> halfVectors[(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)direction]; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃุถู ุงููุชุฌู ุงูููุงุจู ุนูุฏ ุงูุฏูุฑุงู ุงูุฃููู ุฃู ุงูุฃูุณุฑ. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnRight</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom + <span class="hljs-number"><span class="hljs-number">90f</span></span>; model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(<span class="hljs-number"><span class="hljs-number">-0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>); transform.localPosition = positionFrom + direction.GetHalfVector(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnLeft</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom - <span class="hljs-number"><span class="hljs-number">90f</span></span>; model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(<span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>); transform.localPosition = positionFrom + direction.GetHalfVector(); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุนูุฏ ุงูุนูุฏุฉ ุฅูู ุงููุฑุงุก ุ ููุจุบู ุฃู ูููู ุงููููู ูู ููุทุฉ ุงูุจุฏุงูุฉ ุงููุนุชุงุฏุฉ. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnAround</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom + <span class="hljs-number"><span class="hljs-number">180f</span></span>; model.localPosition = Vector3.zero; transform.localPosition = positionFrom; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุนูุฏ ุญุณุงุจ ููุทุฉ ุงูุฎุฑูุฌ ุ ูููููุง ุงุณุชุฎุฏุงู </font></font><code>GameTile.GrowPathTo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุตู ุงููุชุฌู ุจุญูุซ ูุง ูุญุชุงุฌ ุฅูู ุงููุตูู ุฅูู ูููุนู ุงูุชุฌุงูุจ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> neighbor.ExitPoint = neighbor.transform.localPosition + direction.GetHalfVector();</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุ ุนูุฏ ุชุบููุฑ ุงูุงุชุฌุงูุงุช ุ ูุง ูุชุนูู ุนูููุง ุงุณุชููุงุก ุงููููู ููู </font></font><code>Enemy.GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุฃู ุงูุฏูุฑุงู ูุดุงุฑู ูู ุงูุญุฑูุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (directionChange == DirectionChange.None) { transform.localPosition = Vector3.LerpUnclamped(positionFrom, positionTo, progress); } <span class="hljs-comment"><span class="hljs-comment">//if (directionChange != DirectionChange.None) { else { float angle = Mathf.LerpUnclamped( directionAngleFrom, directionAngleTo, progress ); transform.localRotation = Quaternion.Euler(0f, angle, 0f); } return true; }</span></span></code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุนุฏุงุก ููุญูู ุจุณูุงุณุฉ ุญูู ุงูุฒูุงูุง.</font></font></i> <br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุณุฑุนุฉ ุซุงุจุชุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุชู ูุฐู ุงูููุทุฉ ุ ูุงูุช ุณุฑุนุฉ ุงูุฃุนุฏุงุก ุฏุงุฆููุง ูุณุงููุฉ ูุจูุงุทุฉ ูุงุญุฏุฉ ูู ุงูุซุงููุฉ ุ ุจุบุถ ุงููุธุฑ ุนู ููููุฉ ุชุญุฑููุง ุฏุงุฎู ุงูุชุฌุงูุจ. </font><font style="vertical-align: inherit;">ููู ุงููุณุงูุฉ ุงูุชู ูุบุทููููุง ุชุนุชูุฏ ุนูู ุญุงูุชูู ุ ูุฐูู ุชุฎุชูู ุณุฑุนุชูุง ุ ูุนุจุฑุงู ุนููุง ุจูุญุฏุงุช ูู ุงูุซุงููุฉ ุงููุงุญุฏุฉ. </font><font style="vertical-align: inherit;">ููู ุชููู ูุฐู ุงูุณุฑุนุฉ ุซุงุจุชุฉ ุ ูุญุชุงุฌ ุฅูู ุชุบููุฑ ุณุฑุนุฉ ุงูุชูุฏู ููููุง ููุญุงูุฉ. </font><font style="vertical-align: inherit;">ูุฐูู ุ ุฃุถู ูุฌุงู ูุถุงุนู ุงูุชูุฏู ูุงุณุชุฎุฏูู ูููุงุณ ุงูุฏูุชุง </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> progress, progressFactor; โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { progress += Time.deltaTime * progressFactor; โฆ }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฅุฐุง ุชุบูุฑ ุงูุชูุฏู ููููุง ููุญุงูุฉ ุ ููุง ูููู ุงุณุชุฎุฏุงู ูููุฉ ุงูุชูุฏู ุงููุชุจููุฉ ูุจุงุดุฑุฉ ููุญุงูุฉ ุงูุชุงููุฉ. </font><font style="vertical-align: inherit;">ูุฐูู ุ ูุจู ุงูุชุญุถูุฑ ูุฏููุฉ ุฌุฏูุฏุฉ ุ ูุญุชุงุฌ ุฅูู ุชุทุจูุน ุงูุชูุฏู ูุชุทุจูู ุงููุถุงุนู ุงูุฌุฏูุฏ ุจุงููุนู ูู ุญุงูุฉ ุฌุฏูุฏุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { progress += Time.deltaTime * progressFactor; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (progress &gt;= <span class="hljs-number"><span class="hljs-number">1f</span></span>) { โฆ <span class="hljs-comment"><span class="hljs-comment">//progress -= 1f; progress = (progress - 1f) / progressFactor; PrepareNextState(); progress *= progressFactor; } โฆ }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูุชุทูุจ ุงูุชูุฏู ุฅูู ุงูุฃูุงู ุชุบููุฑุงุช ุ ูุฐูู ุ ูุณุชุฎุฏู ุนุงูู 1. ุนูุฏ ุงูุฏูุฑุงู ูููููุง ุฃู ูุณุงุฑูุง ุ ููุฑ ุงูุนุฏู ุจุฑุจุน ุฏุงุฆุฑุฉ ูุตู ูุทุฑูุง ยฝ ุ ูุจุงูุชุงูู ูุฅู ุงููุณุงูุฉ ุงููุบุทุงุฉ ูู ยผฯ. </font></font><code>progress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุงูู ูุงุญุฏ ููุณููุง ุนูู ูุฐู ุงููููุฉ. </font><font style="vertical-align: inherit;">ูุง ูุฌุจ ุฃู ุชุณุชุบุฑู ุนูููุฉ ุงูุนูุฏุฉ ุฅูู ุงููุฑุงุก ุงููุซูุฑ ูู ุงูููุช ุ ูุฐูู ุถุงุนู ุงูุชูุฏู ุจุญูุซ ูุณุชุบุฑู ูุตู ุซุงููุฉ. </font><font style="vertical-align: inherit;">ุฃุฎูุฑูุง ุ ุชุบุทู ุงูุญุฑูุฉ ุงูุชูููุฏูุฉ ูุตู ุงูุจูุงุท ููุท ุ ูุจุงูุชุงูู ููุญูุงุธ ุนูู ุณุฑุนุฉ ุซุงุจุชุฉ ุ ูุฌุจ ุฃูุถูุง ูุถุงุนูุฉ ุชูุฏูู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareForward</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = <span class="hljs-number"><span class="hljs-number">1f</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnRight</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = <span class="hljs-number"><span class="hljs-number">1f</span></span> / (Mathf.PI * <span class="hljs-number"><span class="hljs-number">0.25f</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnLeft</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = <span class="hljs-number"><span class="hljs-number">1f</span></span> / (Mathf.PI * <span class="hljs-number"><span class="hljs-number">0.25f</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnAround</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = <span class="hljs-number"><span class="hljs-number">2f</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareIntro</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = <span class="hljs-number"><span class="hljs-number">2f</span></span>; }</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุฐุง ุงููุณุงูุฉ ุชุณุงูู 1/4 * piุ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญูุท 2 ุฃุถุนุงู ูุตู ุงููุทุฑ. </font><font style="vertical-align: inherit;">ูุง ูุบุทู ุงูุงูุชูุงู ุฅูู ุงููููู ุฃู ุงููุณุงุฑ ุฑุจุน ูุฐุง ุงูุทูู ููุท ุ ููุตู ุงููุทุฑ ูู ยฝ ุ ูุจุงูุชุงูู ูุฅู ุงููุณุงูุฉ ูู ยฝฯ ร ยฝ.</font></font></div></div><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุญุงูุฉ ุงูููุงุฆูุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ูุฏููุง ุญุงูุฉ ุชูููุฏูุฉ ุ ุฏุนูุง ูุถูู ุญุงูุฉ ููุงุฆูุฉ. </font><font style="vertical-align: inherit;">ูุฎุชูู ุงูุฃุนุฏุงุก ุญุงูููุง ููุฑ ูุตูููู ุฅูู ููุทุฉ ุงูููุงูุฉ ุ ูููู ุฏุนูุง ูุคุฌู ุงุฎุชูุงุฆูู ุฅูู ุฃู ูุตููุง ุฅูู ููุชุตู ุงููุฑุจุน ุงูููุงุฆู. </font><font style="vertical-align: inherit;">ูููู ุจุฅูุดุงุก ุทุฑููุฉ ูุฐูู </font></font><code>PrepareOutro</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูู ุจุชุนููู ุงูุญุฑูุฉ ุงูุฃูุงููุฉ ุ ูููู ููุท ูู ูุฑูุฒ ุงูุจูุงุท ูุน ุชูุฏู ูุถุงุนู ููุญูุงุธ ุนูู ุณุฑุนุฉ ุซุงุจุชุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareOutro</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { positionTo = tileFrom.transform.localPosition; directionChange = DirectionChange.None; directionAngleTo = direction.GetAngle(); model.localPosition = Vector3.zero; transform.localRotation = direction.GetRotation(); progressFactor = <span class="hljs-number"><span class="hljs-number">2f</span></span>; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุฃุฌู </font></font><code>GameUpdate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุฏู ุชุฏููุฑ ุงูุนุฏู ูู ููุช ูุจูุฑ ุฌุฏุง ุ ุณูููู ุจุฅุฒุงูุฉ ุชุญูู ุงูุจูุงุท ููู. </font><font style="vertical-align: inherit;">ุณููุนู ุฐูู ุงูุขู </font></font><code>PrepareNextState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ุงูุชุญูู ูู </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุงุฆุฏ </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุท ุจุนุฏ ููุงูุฉ ุงูุญุงูุฉ ุงูููุงุฆูุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GameUpdate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { progress += Time.deltaTime * progressFactor; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (progress &gt;= <span class="hljs-number"><span class="hljs-number">1f</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//tileFrom = tileTo; //tileTo = tileTo.NextTileOnPath; if (tileTo == null) { OriginFactory.Reclaim(this); return false; } โฆ } โฆ }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู </font></font><code>PrepareNextState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุจุฏุฃ ูุน ุงูุชุญูู ูู ุงูุจูุงุท. </font><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ ุจุนุฏ ุชุนููู ุงูููุถุน </font></font><code>From</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูููู ูุจู ุชุนููู ุงูููุถุน ุ </font></font><code>To</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูู ูุชุญูู ููุง ุฅุฐุง ูุงูุช ุงูุจูุงุทุฉ ุชุณุงูู </font></font><code>To</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููููุฉ </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ููู ุจุฅุนุฏุงุฏ ุงูุญุงูุฉ ุงูููุงุฆูุฉ ูุชุฎุทู ุจุงูู ุงูุทุฑููุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareNextState</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { tileFrom = tileTo; tileTo = tileTo.NextTileOnPath; positionFrom = positionTo; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (tileTo == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { PrepareOutro(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } positionTo = tileFrom.ExitPoint; โฆ }</code> </pre> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุนุฏุงุก ุจุณุฑุนุฉ ุซุงุจุชุฉ ูุงูุญุงูุฉ ุงูููุงุฆูุฉ.</font></font></i> <br><br><h2 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชููุจ ุงูุนุฏู </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฏููุง ูุฌููุนุฉ ูู ุงูุฃุนุฏุงุก ุ ููู ูููู โโููุณ ุงูููุนุจ ุ ูุชุญุฑููู ุจููุณ ุงูุณุฑุนุฉ. </font><font style="vertical-align: inherit;">ูุงููุชูุฌุฉ ุฃุดุจู ุซุนุจุงู ุทููู ูู ุงูุฃุนุฏุงุก ุงููุฑุฏูุฉ. </font><font style="vertical-align: inherit;">ููุฌุนููู ูุฎุชูููู ุฃูุซุฑ ุนู ุทุฑูู ุชุฎุตูุต ุญุฌููู ููุฒูุญูู ูุณุฑุนุชูู ุจุดูู ุนุดูุงุฆู.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุนููู ูุทุงู ุงููููุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูููู ุจุชุบููุฑ ูุนุงูู ุงูุฃุนุฏุงุก ุ ูุงุฎุชูุงุฑ ุนุดูุงุฆู ุฎุตุงุฆุตูุง ูู ูุฌููุนุฉ ูู ุงูููู. </font><font style="vertical-align: inherit;">ุณุชููู ุงูุจููุฉ </font></font><code>FloatRange</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชู ุฃูุดุฃูุงูุง ูู ููุงูุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฏุงุฑุฉ ุงููุงุฆูุงุช ุ ุชูููู ุงูุฃุดูุงู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููุฏุฉ ููุง </font><font style="vertical-align: inherit;">ุ ูุฐูู ููููุณุฎูุง. </font><font style="vertical-align: inherit;">ุงูุชุบููุฑุงุช ุงููุญูุฏุฉ ูู ุฅุถุงูุฉ ูููุดุฆ ุฐู ูุนููุฉ ูุงุญุฏุฉ ููุชุญ ุงููุตูู ุฅูู ุงูุญุฏ ุงูุฃุฏูู ูุงูุญุฏ ุงูุฃูุตู ุจุงุณุชุฎุฏุงู ุงูุฎุตุงุฆุต ูููุฑุงุกุฉ ููุท ุ ุจุญูุซ ูุงู ุงููุงุตู ุงูุฒููู ุบูุฑ ูุงุจู ููุชุบููุฑ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; [System.Serializable] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> FloatRange { [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> min, max; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Min =&gt; min; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Max =&gt; max; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> RandomValueInRange { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Random.Range(min, max); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FloatRange</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { min = max = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FloatRange</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> min, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> max</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.min = min; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.max = max &lt; min ? min : max; } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููู ุฃูุถูุง ุจูุณุฎ ุงูุณูุฉ ุงูุชู ุชู ุชุนููููุง ุฅูููุง ููุญุฏ ูู ุงููุงุตู ุงูุฒููู. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">FloatRangeSliderAttribute</span></span> : <span class="hljs-title"><span class="hljs-title">PropertyAttribute</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Min { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Max { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FloatRangeSliderAttribute</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> min, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> max</span></span></span><span class="hljs-function">)</span></span> { Min = min; Max = max &lt; min ? min : max; } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญู ุจุญุงุฌุฉ ููุท ูุชุตูุฑ ุดุฑูุท ุงูุชูุฑูุฑ ุ ูุฐุง ุงูุณุฎู </font></font><code>FloatRangeSliderDrawer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู ูุฌูุฏ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฑุฑ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEditor; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; [CustomPropertyDrawer(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(FloatRangeSliderAttribute))] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">FloatRangeSliderDrawer</span></span> : <span class="hljs-title"><span class="hljs-title">PropertyDrawer</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnGUI</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> Rect position, SerializedProperty property, GUIContent label </span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> originalIndentLevel = EditorGUI.indentLevel; EditorGUI.BeginProperty(position, label, property); position = EditorGUI.PrefixLabel( position, GUIUtility.GetControlID(FocusType.Passive), label ); EditorGUI.indentLevel = <span class="hljs-number"><span class="hljs-number">0</span></span>; SerializedProperty minProperty = property.FindPropertyRelative(<span class="hljs-string"><span class="hljs-string">"min"</span></span>); SerializedProperty maxProperty = property.FindPropertyRelative(<span class="hljs-string"><span class="hljs-string">"max"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> minValue = minProperty.floatValue; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> maxValue = maxProperty.floatValue; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> fieldWidth = position.width / <span class="hljs-number"><span class="hljs-number">4f</span></span> - <span class="hljs-number"><span class="hljs-number">4f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sliderWidth = position.width / <span class="hljs-number"><span class="hljs-number">2f</span></span>; position.width = fieldWidth; minValue = EditorGUI.FloatField(position, minValue); position.x += fieldWidth + <span class="hljs-number"><span class="hljs-number">4f</span></span>; position.width = sliderWidth; FloatRangeSliderAttribute limit = attribute <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> FloatRangeSliderAttribute; EditorGUI.MinMaxSlider( position, <span class="hljs-keyword"><span class="hljs-keyword">ref</span></span> minValue, <span class="hljs-keyword"><span class="hljs-keyword">ref</span></span> maxValue, limit.Min, limit.Max ); position.x += sliderWidth + <span class="hljs-number"><span class="hljs-number">4f</span></span>; position.width = fieldWidth; maxValue = EditorGUI.FloatField(position, maxValue); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (minValue &lt; limit.Min) { minValue = limit.Min; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (maxValue &lt; minValue) { maxValue = minValue; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (maxValue &gt; limit.Max) { maxValue = limit.Max; } minProperty.floatValue = minValue; maxProperty.floatValue = maxValue; EditorGUI.EndProperty(); EditorGUI.indentLevel = originalIndentLevel; } }</code> </pre> <br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููุงุณ ุงููููุฐุฌ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุจุฏุฃ ุจุชุบููุฑ ุญุฌู ุงูุนุฏู. </font><font style="vertical-align: inherit;">ุฃุถู </font></font><code>EnemyFactory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุฏุงุฏุงุช ุงููููุงุณ ููุฎูุงุฑ. </font><font style="vertical-align: inherit;">ูุฌุจ ุฃูุง ูููู ุงููุงุตู ุงูุฒููู ูููููุงุณ ูุจูุฑูุง ุฌุฏูุง ุ ูููู ูููู ูุฅูุดุงุก ุฃููุงุน ูุตุบุฑุฉ ูู ุงูุฃุนุฏุงุก. </font><font style="vertical-align: inherit;">ุฃู ุดูุก ุถูู 0.5โ2 ุจูููุฉ ููุงุณูุฉ 1. ุณูุฎุชุงุฑ ูููุงุณูุง ุนุดูุงุฆููุง ูู ูุฐู ุงููุชุฑุฉ ุงูุฒูููุฉ </font></font><code>Get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููููุง ุฅูู ุงูุนุฏู ูู ุฎูุงู ุทุฑููุฉ ุฌุฏูุฏุฉ </font></font><code>Initialize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField, FloatRangeSlider(0.5f, 2f)</span></span>] FloatRange scale = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FloatRange(<span class="hljs-number"><span class="hljs-number">1f</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Enemy </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Enemy instance = CreateGameObjectInstance(prefab); instance.OriginFactory = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; instance.Initialize(scale.RandomValueInRange); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชููู ุงูุทุฑููุฉ </font></font><code>Enemy.Initialize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุจุณุงุทุฉ ุจุชุนููู ูููุงุณ ููููุฐุฌูุง ููู ููุณู ุนุจุฑ ุฌููุน ุงูุฃุจุนุงุฏ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> scale</span></span></span><span class="hljs-function">)</span></span> { model.localScale = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(scale, scale, scale); }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/1a7/cc3/f08/1a7cc3f082406d5c8672125ceb94913c.png" width="320" height="60" alt="ููุชุด"></div><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ffe/396/7cf/ffe3967cfcfb6391269a5a7691317c60.png" width="230" height="230" alt="ูุดูุฏ"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุทุงู ุงูููุงููุณ ูุชุฑุงูุญ ูู 0.5 ุฅูู 1.5.</font></font></i> <br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุฒุงุญุฉ ุงููุณุงุฑ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฒูุฏ ูู ุชุฏููุฑ ุชูุญูุฏ ุชุฏูู ุงูุฃุนุฏุงุก ุ ูููููุง ุชุบููุฑ ูููููู ุงููุณุจู ุฏุงุฎู ุงูุจูุงุท. ุฅููู ูุชุญุฑููู ููุฃูุงู ุ ูุจุงูุชุงูู ูุฅู ุงูุชุบููุฑ ูู ูุฐุง ุงูุงุชุฌุงู ูุบูุฑ ููุท ุชูููุช ุญุฑูุชูู ุ ููู ุฃูุฑ ุบูุฑ ููุญูุธ. ูุฐูู ุ ุณูุญูููู ุฅูู ุงูุฌุงูุจ ุ ุจุนูุฏูุง ุนู ุงููุณุงุฑ ุงููุซุงูู ุงูุฐู ููุฑ ุนุจุฑ ูุฑุงูุฒ ุงูุจูุงุท. ุฅุถุงูุฉ </font></font><code>EnemyFactory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฒุงุญุฉ ูุณุงุฑ </font><font style="vertical-align: inherit;">ุฅูู </font><font style="vertical-align: inherit;">ุงููุงุตู ูุชูุฑูุฑ ุงูุฅุฒุงุญุฉ ุงูุนุดูุงุฆูุฉ ุฅูู ุงูุฃุณููุจ </font></font><code>Initialize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูููู ุฃู ุชููู ุงูุฅุฒุงุญุฉ ุณุงูุจุฉ ุฃู ููุฌุจุฉ ุ ููู ูุง ุชุฒูุฏ ุนู ยฝ ุ ูุฃู ูุฐุง ูู ุดุฃูู ุฃู ูููู ุงูุนุฏู ุฅูู ุจูุงุท ูุฌุงูุฑ. ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ูุฑูุฏ ุฃู ูุชุฌุงูุฒ ุงูุฃุนุฏุงุก ุงููุฑุจุนุงุช ุงูุชู ูุชุจุนูููุง ุ ูุฐูู ูู ุงููุงูุน ุณูููู ุงููุงุตู ุฃูู ุ ุนูู ุณุจูู ุงููุซุงู ุ 0.4 ุ ูููู ุงูุญุฏูุฏ ุงูุญููููุฉ ุชุนุชูุฏ ุนูู ุญุฌู ุงูุนุฏู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField, FloatRangeSlider(-0.4f, 0.4f)</span></span>] FloatRange pathOffset = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FloatRange(<span class="hljs-number"><span class="hljs-number">0f</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Enemy </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Enemy instance = CreateGameObjectInstance(prefab); instance.OriginFactory = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; instance.Initialize( scale.RandomValueInRange, pathOffset.RandomValueInRange ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ุฅุฒุงุญุฉ ุงููุณุงุฑ ูุคุซุฑ ุนูู ุงููุณุงุฑ </font></font><code>Enemy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฐู ุชู ูููู </font><font style="vertical-align: inherit;">ุ </font><font style="vertical-align: inherit;">ููู ุงูุถุฑูุฑู ุชุชุจุนู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> pathOffset; โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> scale, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pathOffset</span></span></span><span class="hljs-function">)</span></span> { model.localScale = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(scale, scale, scale); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.pathOffset = pathOffset; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏ ุงูุชุญุฑู ูุณุชููููุง ุชูุงููุง (ุฃุซูุงุก ุงูุญุฑูุฉ ุงูุฃูุงููุฉ ุฃู ุงูููุงุฆูุฉ ุฃู ุงูุนุงุฏูุฉ ููุฃูุงู) ุ ูุฅููุง ุจุจุณุงุทุฉ ูุทุจู ุงูุฅุฒุงุญุฉ ูุจุงุดุฑุฉ ุนูู ุงููููุฐุฌ. </font><font style="vertical-align: inherit;">ูุญุฏุซ ุงูุดูุก ููุณู ุนูุฏ ุงูุนูุฏุฉ ุฅูู ุงููุฑุงุก. </font><font style="vertical-align: inherit;">ุจุงุณุชุฎุฏุงู ุงูููุนุทู ุงูุฃููู ุฃู ุงูุฃูุณุฑ ุ ูููุง ุจุงููุนู ุจุงุณุชุจุฏุงู ุงููููุฐุฌ ุ ุงูุฐู ูุตุจุญ ูุณุจุฉู ุฅูู ุฅุฒุงุญุฉ ุงููุณุงุฑ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareForward</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { transform.localRotation = direction.GetRotation(); directionAngleTo = direction.GetAngle(); model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(pathOffset, <span class="hljs-number"><span class="hljs-number">0f</span></span>); progressFactor = <span class="hljs-number"><span class="hljs-number">1f</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnRight</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom + <span class="hljs-number"><span class="hljs-number">90f</span></span>; model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(pathOffset - <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>); transform.localPosition = positionFrom + direction.GetHalfVector(); progressFactor = <span class="hljs-number"><span class="hljs-number">1f</span></span> / (Mathf.PI * <span class="hljs-number"><span class="hljs-number">0.25f</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnLeft</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom - <span class="hljs-number"><span class="hljs-number">90f</span></span>; model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(pathOffset + <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0f</span></span>); transform.localPosition = positionFrom + direction.GetHalfVector(); progressFactor = <span class="hljs-number"><span class="hljs-number">1f</span></span> / (Mathf.PI * <span class="hljs-number"><span class="hljs-number">0.25f</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnAround</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom + <span class="hljs-number"><span class="hljs-number">180f</span></span>; model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(pathOffset, <span class="hljs-number"><span class="hljs-number">0f</span></span>); transform.localPosition = positionFrom; progressFactor = <span class="hljs-number"><span class="hljs-number">2f</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareIntro</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(pathOffset, <span class="hljs-number"><span class="hljs-number">0f</span></span>); transform.localRotation = direction.GetRotation(); progressFactor = <span class="hljs-number"><span class="hljs-number">2f</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareOutro</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(pathOffset, <span class="hljs-number"><span class="hljs-number">0f</span></span>); transform.localRotation = direction.GetRotation(); progressFactor = <span class="hljs-number"><span class="hljs-number">2f</span></span>; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ุฅุฒุงุญุฉ ุงููุณุงุฑ ุฃุซูุงุก ุงูุฏูุฑุงู ูุบูุฑ ูุตู ุงููุทุฑ ุ ูุญุชุงุฌ ุฅูู ุชุบููุฑ ุนูููุฉ ุญุณุงุจ ูุถุงุนู ุงูุชูุฏู. </font><font style="vertical-align: inherit;">ูุฌุจ ุทุฑุญ ุฅุฒุงุญุฉ ุงููุณุงุฑ ูู ยฝ ููุญุตูู ุนูู ุฏุงุฆุฑุฉ ูุตู ูุทุฑูุง ุฅูู ุงููููู ุ ูุฅุถุงูุชูุง ูู ุญุงูุฉ ุงูุนุทุงู ุฅูู ุงููุณุงุฑ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnRight</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = <span class="hljs-number"><span class="hljs-number">1f</span></span> / (Mathf.PI * <span class="hljs-number"><span class="hljs-number">0.5f</span></span> * (<span class="hljs-number"><span class="hljs-number">0.5f</span></span> - pathOffset)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnLeft</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = <span class="hljs-number"><span class="hljs-number">1f</span></span> / (Mathf.PI * <span class="hljs-number"><span class="hljs-number">0.5f</span></span> * (<span class="hljs-number"><span class="hljs-number">0.5f</span></span> + pathOffset)); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุตู ุฃูุถูุง ุนูู ูุตู ูุทุฑ ุงูุฏูุฑุงู ุนูุฏ ุงูุฏูุฑุงู 180 ุฏุฑุฌุฉ. ูู ูุฐู ุงูุญุงูุฉ ุ ูุบุทู ูุตู ุงูุฏุงุฆุฑุฉ ุจูุตู ูุทุฑ ูุณุงูู ุฅุฒุงุญุฉ ุงููุณุงุฑ ุ ูุจุงูุชุงูู ูุฅู ุงููุณุงูุฉ ูู ฯ ุฃุถุนุงู ุงูุฅุฒุงุญุฉ. ููุน ุฐูู ุ ูุง ูุนูู ูุฐุง ุนูุฏูุง ูููู ุงูุฅุฒุงุญุฉ ุตูุฑูุง ุ ููู ุญุงูุงุช ุงููุฒูุญ ุงูุตุบูุฑุฉ ุ ุชููู ุงูููุนุทูุงุช ุณุฑูุนุฉ ุฌุฏูุง. ูุชุฌูุจ ุงูููุนุทูุงุช ุงูููุฑูุฉ ุ ูููููุง ูุฑุถ ุงูุญุฏ ุงูุฃุฏูู ููุตู ุงููุทุฑ ูุญุณุงุจ ุงูุณุฑุนุฉ ุ ุนูู ุณุจูู ุงููุซุงู 0.2.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnAround</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { directionAngleTo = directionAngleFrom + (pathOffset &lt; <span class="hljs-number"><span class="hljs-number">0f</span></span> ? <span class="hljs-number"><span class="hljs-number">180f</span></span> : <span class="hljs-number"><span class="hljs-number">-180f</span></span>); model.localPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(pathOffset, <span class="hljs-number"><span class="hljs-number">0f</span></span>); transform.localPosition = positionFrom; progressFactor = <span class="hljs-number"><span class="hljs-number">1f</span></span> / (Mathf.PI * Mathf.Max(Mathf.Abs(pathOffset), <span class="hljs-number"><span class="hljs-number">0.2f</span></span>)); }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/1db/8b2/b16/1db8b2b164cba05ff6f8fe7ffa0eed71.png" width="320" height="40" alt="ููุชุด"></div><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ุฅุฒุงุญุฉ ุงููุณุงุฑ ูู ุงููุทุงู .250.25โ0.25.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุญุธ ุฃู ุงูุฃุนุฏุงุก ุงูุขู ูุง ูุบูุฑูู ูุณุงุฑ ุงููุฒูุญ ุงููุณุจู ุ ุญุชู ุนูุฏ ุงูุฏูุฑุงู ูุฐูู ุ ูุฅู ุงูุทูู ุงูููู ูููุณุงุฑ ููู ุนุฏู ูู ุทุฑููุชู ุงูุฎุงุตุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุน ุงูุฃุนุฏุงุก ูู ุงููุตูู ุฅูู ุงููุฑุจุนุงุช ุงููุฌุงูุฑุฉ ุ ูุฌุจ ุนูู ุงููุฑุก ุฃูุถูุง ูุฑุงุนุงุฉ ุงูุญุฏ ุงูุฃูุตู ููููุงุณู ุงููููู. ููุฏ ุญุฏุฏุช ุงูุญุฌู ููุท ุจุญุฏ ุฃูุตู ูุฏุฑู 1 ุ ูุจุงูุชุงูู ูุฅู ุงูุญุฏ ุงูุฃูุตู ุงููุณููุญ ุจู ููุฅุฒุงุญุฉ ููููุนุจ ูู 0.25. ุฅุฐุง ูุงู ุงูุญุฌู ุงูุฃูุตู 1.5 ุ ููุฌุจ ุชูููู ุงูุญุฏ ุงูุฃูุตู ูููุฒูุญ ุฅูู 0.125.</font></font><br><br><h3 style=";text-align:right;direction:rtl">  ุณุฑุนุฉ </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุขุฎุฑ ุดูุก ูุญู ุนุดูุงุฆูุง ูู ุณุฑุนุฉ ุงูุฃุนุฏุงุก. </font><font style="vertical-align: inherit;">ูุถูู ูุงุตููุง ุฅุถุงูููุง ูุฐูู </font></font><code>EnemyFactory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุณูููู ุงููููุฉ ุฅูู ุงููุณุฎุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุงูุนุฏู. </font><font style="vertical-align: inherit;">ุฏุนูุง ูุฌุนููุง ุงูุญุฌุฉ ุงูุซุงููุฉ ููุฐู ุงูุทุฑููุฉ </font></font><code>Initialize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุฌุจ ุฃู ูุง ูููู ุงูุฃุนุฏุงุก ุจุทูุฆูู ุฃู ุณุฑูุนูู ุจุญูุซ ูุง ุชุตุจุญ ุงููุนุจุฉ ุจุณูุทุฉ ุฃู ุตุนุจุฉ ุงููุณุชุญูู. </font><font style="vertical-align: inherit;">ูููุตุฑ ุงููุงุตู ุงูุฒููู ุนูู 0.2-5. </font><font style="vertical-align: inherit;">ูุชู ุงูุชุนุจูุฑ ุนู ุงูุณุฑุนุฉ ุจูุญุฏุงุช ูู ุงูุซุงููุฉ ุ ูุงูุชู ุชุชูุงูู ูุน ุงูุจูุงุท ูู ุงูุซุงููุฉ ููุท ุนูุฏ ุงูุชุญุฑู ููุฃูุงู.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">SerializeField, FloatRangeSlider(0.2f, 5f)</span></span>] FloatRange speed = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FloatRange(<span class="hljs-number"><span class="hljs-number">1f</span></span>); [SerializeField, FloatRangeSlider(<span class="hljs-number"><span class="hljs-number">-0.4f</span></span>, <span class="hljs-number"><span class="hljs-number">0.4f</span></span>)] FloatRange pathOffset = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FloatRange(<span class="hljs-number"><span class="hljs-number">0f</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Enemy </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Get</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Enemy instance = CreateGameObjectInstance(prefab); instance.OriginFactory = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; instance.Initialize( scale.RandomValueInRange, speed.RandomValueInRange, pathOffset.RandomValueInRange ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ูุง </font></font><code>Enemy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฏ </font><font style="vertical-align: inherit;">ูู ูู </font><font style="vertical-align: inherit;">ุชุชุจุน ูุงูุณุฑุนุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed; โฆ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> scale, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> speed, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pathOffset</span></span></span><span class="hljs-function">)</span></span> { model.localScale = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(scale, scale, scale); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.speed = speed; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.pathOffset = pathOffset; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนูุฏูุง ูู ููู ุจุชุนููู ุงูุณุฑุนุฉ ุจุดูู ุตุฑูุญ ุ ุงุณุชุฎุฏููุง ุฏุงุฆููุง ุงููููุฉ 1. ูุญุชุงุฌ ููุท ุงูุขู ุฅูู ุฅูุดุงุก ุงุนุชูุงุฏ ูุถุงุนู ุงูุชูุฏู ุนูู ุงูุณุฑุนุฉ. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareForward</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = speed; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnRight</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = speed / (Mathf.PI * <span class="hljs-number"><span class="hljs-number">0.5f</span></span> * (<span class="hljs-number"><span class="hljs-number">0.5f</span></span> - pathOffset)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnLeft</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = speed / (Mathf.PI * <span class="hljs-number"><span class="hljs-number">0.5f</span></span> * (<span class="hljs-number"><span class="hljs-number">0.5f</span></span> + pathOffset)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareTurnAround</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = speed / (Mathf.PI * Mathf.Max(Mathf.Abs(pathOffset), <span class="hljs-number"><span class="hljs-number">0.2f</span></span>)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareIntro</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = <span class="hljs-number"><span class="hljs-number">2f</span></span> * speed; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PrepareOutro</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { โฆ progressFactor = <span class="hljs-number"><span class="hljs-number">2f</span></span> * speed; }</code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/0b8/e55/eeb/0b8e55eeb25d36349f606f0da60d3720.png" width="320" height="60"></div><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุณุฑุนุฉ ูู ุญุฏูุฏ 0.75-1.25. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐูู ุ ุญุตููุง ุนูู ุฏูู ุฌููู ูู ุงูุฃุนุฏุงุก ููุชูููู ุฅูู ููุทุฉ ุงูููุงูุฉ. </font><font style="vertical-align: inherit;">ูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุงูุชุงูู ุณูุชุนูู ููููุฉ ุงูุชุนุงูู ูุนูู. </font><font style="vertical-align: inherit;">ุชุฑูุฏ ุฃู ุชุนุฑู ูุชู ุณูุชู ุฅุตุฏุงุฑูุ </font><font style="vertical-align: inherit;">ุงุชุจุน ุตูุญุชู ุนูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Patreon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุชูุฏุน </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุดุนุจู ุงููุงุฏุฉ</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar452756/">https://habr.com/ru/post/ar452756/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar452746/index.html">ูุชุงุจ "ูู ุงูุจุฑูุฌุฉ ูู R. ุงูุงูุบูุงุณ ูู ุงูุจูุงูุงุช ุงููุจูุฑุฉ"</a></li>
<li><a href="../ar452748/index.html">ูุจุงุฏุฆ ุชุทููุฑ ุงูุชุทุจููุงุช ุงูุญุฏูุซุฉ ูู NGINX. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar452750/index.html">Nextcloud ุฏุงุฎู ูุฎุงุฑุฌ OpenLiteSpeed: ุชูููู ุงููููู ุงูุนูุณู</a></li>
<li><a href="../ar452752/index.html">BigData ูุญููุฉ ุงูุตูุน. ุงูุฌุฒุก 1. ุดุฑุงุฑุฉ ุงูุฌุฑู ุงูููุงุฑุณุฉ ุนูู ูุฌููุนุฉ AWS</a></li>
<li><a href="../ar452754/index.html">19ูช ูู ุตูุฑ Docker ุงูุฃูุซุฑ ุดุนุจูุฉ ููุณ ููุง ูููุฉ ูุฑูุฑ ุฌุฐุฑ</a></li>
<li><a href="../ar452760/index.html">ููุชุงููู (ุฏ) ููุดุฑุจ ุฃู ูุง ููุดุฑุจ ุ ูุฐุง ูู ุงูุณุคุงู. (ุฃู ูุตุฉ ุนู ููููุฉ ูุฑุฑุช ุจุชุญููู ูู ูุดุฑุน ูู)</a></li>
<li><a href="../ar452762/index.html">MVCC-7. ุชูุธูู ุงูุณูุงุฑุงุช</a></li>
<li><a href="../ar452764/index.html">[ุจูุชุฑ] ููุงุก JUG.ru ูุน ุณูุฑุฌู ููููููู - ุงูุชูููุท ุจุณุฑุนุฉ ูุงุฆูุฉ: ุงููุธุฑูุฉ ูุงูุชุทุจูู</a></li>
<li><a href="../ar452766/index.html">ุชูููุฉ ุงูุจุซ ุงูุชุฏุฑูุฌู ุ ุฃู ููููุฉ ูุดุงูุฏุฉ ููุฏูู ุจุฏูุฉ 4k ุนุจุฑ ุงูุดุจูุฉ ุ ุฏูู ุฃูุงุฑูุฒ</a></li>
<li><a href="../ar452768/index.html">ููููุฉ ุชุตููู ุงูููุชุฌ ุฅุฐุง ูุฑุฑุช ุงูุฏุฎูู ุฅูู ุงูุณูู ุงูุฃุฌูุจู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>