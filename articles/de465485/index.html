<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï∏Ô∏è ‚úçÔ∏è ‚õπüèø Drucken Sie mit Python einen Wandteppich Game of Thrones auf einem Steuerdrucker ‚ôëÔ∏è üë≤üèº üé∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Einmal fiel mir in einem der Projekte ein Steuerdrucker in die H√§nde. Jeden Tag begegnen wir diesen Ger√§ten, wenn wir in Gesch√§ften bezahlen, aber nur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Drucken Sie mit Python einen Wandteppich Game of Thrones auf einem Steuerdrucker</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465485/"> Einmal fiel mir in einem der Projekte ein Steuerdrucker in die H√§nde.  Jeden Tag begegnen wir diesen Ger√§ten, wenn wir in Gesch√§ften bezahlen, aber nur wenige Menschen erkennen, was sie wirklich sind.  Ich werde nicht auf Details ihrer Arbeit eingehen, ich m√∂chte nur sagen, dass dies die Dinge sind, die Quittungen mit Kaufdaten auf speziellem Thermopapier drucken (ja, fast alle Steuerdrucker haben keine Tinte!). <br><br>  Ich musste herausfinden, wie ich den Funktionszustand des Steuerdruckers und seine internen Einstellungen ermitteln konnte.  Die Aufgabe ist schon lange erledigt und der Steuerdrucker wurde f√ºr eine lange Zeit in der hinteren Ecke aufgegeben ... Bis ich auf die Idee kam, ein wenig nachzubauen: D. <br><br>  Mit solchen Druckern k√∂nnen Sie monochrome Bilder drucken.  Als ich genug von gen√ºgend Drucken von Siegeln, Emblemen und Fotos von Kollegen hatte, beschloss ich, dem Druck eines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">langen Wandteppichs</a> zu winken, der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf der Serie basiert, in der sie st√§ndig jemanden mit den Worten ‚ÄûWinter ist nahe‚Äú get√∂tet haben</a> . <br><br>  Die Ausgabe war so ein Video: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/D2Nch_KXD4U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Detaillierte Schritte zum Drucken eines Wandteppichs in <b>Python</b> unter der Katze unten. <br><a name="habracut"></a><br>  In diesem Artikel werde ich das Verfahren kurz mit detaillierten Kommentaren beschreiben, vorausgesetzt, die Ausgabe ist ein Schulungsartikel mit mehreren n√ºtzlichen praktischen F√§higkeiten: <br><br><ul><li>  Laden Sie das Tapisserie-Video von YouTube herunter </li><li>  Erstellen Sie ein langes monochromes Wandteppichbild zum Drucken auf einem Steuerdrucker </li><li>  Stellen Sie eine Verbindung zum Steuerdrucker her </li><li>  Drucken Sie einen Wandteppich auf einem Steuerdrucker </li><li>  Wir mounten den resultierenden Videoclip zur Ver√∂ffentlichung in sozialen Netzwerken </li></ul><br><h3>  Laden Sie das Tapisserie-Video von YouTube herunter </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dies</a> geschieht ganz einfach mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pytube-</a> Bibliothek. Sie m√ºssen lediglich den Index des Videostreams ermitteln, den Sie herunterladen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">m√∂chten</a> . <br><br><div class="spoiler">  <b class="spoiler_title">Funktion zum Herunterladen von Videos von YouTube:</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time, pytube <span class="hljs-comment"><span class="hljs-comment">#         def load_bmp_from_video(video_url, filename): t1 = time.clock() #     video = pytube.YouTube(video_url) #        streams = video.streams.all() for stream in streams: print(stream) #       ,  18: 360p mp4 video.streams.get_by_itag(18).download("./", filename = filename ) t2 = time.clock() #      print('download done', t2-t1) #       got.mp4   360x640 load_bmp_from_video(video_url = 'https://www.youtube.com/watch?v=aZV4PclhHeA&amp;', filename = 'got')</span></span></code> </pre> <br>  Wenn die Zeile <code>for stream in streams: print(stream)</code> ausgef√ºhrt wird, wird in der Konsole eine Liste aller im Video enthaltenen Videostreams angezeigt: <br><br><pre> &lt;Stream: itag = "22" mime_type = "video / mp4" res = "720p" fps = "30fps" vcodec = "avc1.64001F" acodec = "mp4a.40.2"&gt;
 &lt;Stream: itag = "43" mime_type = "video / webm" res = "360p" fps = "30fps" vcodec = "vp8.0" acodec = "vorbis"&gt;
 &lt;Stream: itag = "18" mime_type = "video / mp4" res = "360p" fps = "30fps" vcodec = "avc1.42001E" acodec = "mp4a.40.2"&gt;
 &lt;Stream: itag = "137" mime_type = "video / mp4" res = "1080p" fps = "30fps" vcodec = "avc1.640028"&gt;
 &lt;Stream: itag = "248" mime_type = "video / webm" res = "1080p" fps = "30fps" vcodec = "vp9"&gt;
 &lt;Stream: itag = "136" mime_type = "video / mp4" res = "720p" fps = "30fps" vcodec = "avc1.4d401f"&gt;
 &lt;Stream: itag = "247" mime_type = "video / webm" res = "720p" fps = "30fps" vcodec = "vp9"&gt;
 &lt;Stream: itag = "135" mime_type = "video / mp4" res = "480p" fps = "30fps" vcodec = "avc1.4d401e"&gt;
 &lt;Stream: itag = "244" mime_type = "video / webm" res = "480p" fps = "30fps" vcodec = "vp9"&gt;
 &lt;Stream: itag = "134" mime_type = "video / mp4" res = "360p" fps = "30fps" vcodec = "avc1.4d401e"&gt;
 &lt;Stream: itag = "243" mime_type = "video / webm" res = "360p" fps = "30fps" vcodec = "vp9"&gt;
 &lt;Stream: itag = "133" mime_type = "video / mp4" res = "240p" fps = "30fps" vcodec = "avc1.4d4015"&gt;
 &lt;Stream: itag = "242" mime_type = "video / webm" res = "240p" fps = "30fps" vcodec = "vp9"&gt;
 &lt;Stream: itag = "160" mime_type = "video / mp4" res = "144p" fps = "30fps" vcodec = "avc1.4d400c"&gt;
 &lt;Stream: itag = "278" mime_type = "video / webm" res = "144p" fps = "30fps" vcodec = "vp9"&gt;
 &lt;Stream: itag = "140" mime_type = "audio / mp4" abr = "128 kbps" acodec = "mp4a.40.2"&gt;
 &lt;Stream: itag = "249" mime_type = "audio / webm" abr = "50 kbps" acodec = "opus"&gt;
 &lt;Stream: itag = "250" mime_type = "audio / webm" abr = "70 kbps" acodec = "opus"&gt;
 &lt;Stream: itag = "251" mime_type = "audio / webm" abr = "160 kbps" acodec = "opus"&gt;
</pre><br>  Ich habe Thread mit ID 18 ausgew√§hlt, weil  es ist eine kleine Aufl√∂sung - wir drucken sie immer noch auf ein Scheckband und laden sie schneller herunter)) <br></div></div><br><h3>  Erstellen Sie ein langes monochromes Wandteppichbild zum Drucken auf einem Steuerdrucker </h3><br>  F√ºr die Videoverarbeitung ben√∂tigen wir die bekannte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OpenCV-</a> Bibliothek und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pillow (eine moderne Abzweigung von PIL)</a> (obwohl wir hier anstelle von OpenCV das Dienstprogramm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">avconv</a> aus dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">libav-</a> Tool verwenden k√∂nnten, mehr dazu im letzten Abschnitt dieses Artikels).  Vielen Dank an den Autor f√ºr das Schreiben von Python oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Python-OpenCV</a> , einem Python-Rad, das √ºber PIP installiert wurde und keine Installation von OpenCV selbst erfordert ( <b>Hurra!</b> ). <br><br>  Ein Steuerdrucker kann nur spezielle Bilder drucken - monochrome BMP-Dateien mit einer festen Breite von 528 Pixel (aber unbegrenzte L√§nge, ho-ho-ho!).  Au√üerdem bewegt sich das Gobelinbild im Videoclip st√§ndig, sodass wir die Rahmen sorgf√§ltig ausschneiden m√ºssen, damit wir ein langes Bild erhalten. <br><br><div class="spoiler">  <b class="spoiler_title">All dies wird durch die folgende Funktion erledigt:</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os, cv2, numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PIL <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Image <span class="hljs-comment"><span class="hljs-comment">#            def save_frames_from_vide(filename): #          real_filename = filename.rsplit('.', 1)[0] #         for file in os.listdir('./'): if file.startswith('frame'): os.remove('./' + file) #         frames_list = [] vidcap = cv2.VideoCapture(filename) try: success, frame = vidcap.read() count = 1 while success: # and count &lt; 500: #    #     1  100,     if count in [1, 100, 30945, 31000] or count % 370 == 0: #      (  ) mono_frame = frame if count == 370: mono_frame = mono_frame[0:mono_frame.shape[0], 172:mono_frame.shape[1]] if count == 30710: mono_frame = mono_frame[0:mono_frame.shape[0], 0:mono_frame.shape[1] - 200] mono_frame = mono_frame[20:-20, :] frames_list.append(mono_frame) print('read a new frame: ', success, count) success, frame = vidcap.read() count += 1 finally: vidcap.release() #     gobelin = np.concatenate((frames_list), axis = 1) #   -    cv2.imwrite('%s.png' % real_filename, gobelin) #        image = Image.open('%s.png' % real_filename) #  1        bmp fn = lambda x : 255 if x &gt; 135 else 0 image = image.convert('L').point(fn, mode = '1') #       528  coef = 528. / image.height new_w = int(image.width * coef) new_h = int(image.height * coef) image = image.resize((new_w, new_h)) #    270         image = image.transpose(Image.ROTATE_270) image.save('%s_for_print.bmp' % real_filename) #       'got.png'  'got_for_print.bmp' save_frames_from_vide('got.mp4')</span></span></code> </pre><br></div></div><br>  Bei der Ausgabe erhalten wir ein langes Bild mit dem Bild des gesamten Wandteppichs. Unten ist nur ein Fragment dargestellt. Das Originalbild hat eine Breite von 55.000 Pixel und entspricht nicht den Ver√∂ffentlichungsregeln: <br><br> <a href=""><img src="https://habrastorage.org/webt/yr/kj/b6/yrkjb6b5mtmmmo0w9d_4amiye6q.png"></a> <br><br>  Ein solches Bild wird jedoch nach monochromen Transformationen nur ohne Rotation erhalten: <br><br> <a href=""><img src="https://habrastorage.org/webt/dh/ik/k3/dhikk3rlit92sc_zvhee0vadzem.png"></a> <br><br><h3>  Wir drucken einen Wandteppich auf einem Steuerdrucker </h3><br>  Ich habe einen bestimmten Steuerdrucker des Atol fprint-22-Modells zur Verf√ºgung, aber die allgemeinen Regeln gelten f√ºr andere Steuerdruckermodelle.  Dar√ºber hinaus ist mein Finanzbuch ziemlich alt und unterst√ºtzt noch nicht die neuen Anforderungen von FZ-54 (ich erinnere mich, dass alle Finanzbeamten nach Inkrafttreten dieses Gesetzes verpflichtet waren, Daten √ºber das OFD an das Finanzamt zu senden, was Schmerzen und Leiden mit sich brachte - ein Aufblitzen jedes Ger√§ts). <br><br>  Ein kleiner Exkurs √ºber Steuerdrucker.  Sie beziehen sich auf POS-Ger√§te - dies sind alle Arten von Peripherieger√§ten f√ºr den Handel, die an einen PC angeschlossen und in ein einziges Buchhaltungs- und Zahlungssystem integriert sind.  Von diesen bekannten Ger√§ten haben Sie definitiv Barcode-Scanner und Kreditkartenzahlungsterminals gesehen.  F√ºr alle diese Ger√§te wurde ein einheitliches UnifiedPOS-Interaktionsprotokoll erfunden. <br><br>  Kurz gesagt, dies ist ein separates Thema und ein sehr enger Kreis von Spezialisten f√ºr POS-Ger√§te.  Die Situation wird durch die Tatsache kompliziert, dass die meisten dieser Ger√§te f√ºr den Betrieb ausschlie√ülich unter Windows √ºber COM-Objekte ausgelegt sind - DLL-Dateien mit einer sehr schlechten dokumentarischen Beschreibung der Funktionalit√§t.  Obwohl ich von den unter FreeBSD laufenden Cash-Systemen geh√∂rt habe, habe ich bei der Arbeit mit POS-Ger√§ten so etwas noch nicht gesehen. Zum Gl√ºck brauchte ich kein detailliertes Eintauchen in die Welt der POS-Gesch√§ftsprozesse im Einzelhandel ... <br><br>  Daher ist das Verfahren zum Arbeiten mit den meisten dieser Ger√§te wie folgt: <br><br><ul><li>  Treiber wird vom Hersteller installiert </li><li>  Die Verbindung zum Ger√§t √ºber das Dienstprogramm des Herstellers ist konfiguriert </li><li>  Suche nach dem gew√ºnschten Registrierungsschl√ºssel mit dem gew√ºnschten Ger√§t </li><li>  Suche nach den notwendigen Verbindungsparametern dazu <br>  (Die meisten arbeiten an der seriellen RS-232-Softwareschnittstelle.) </li><li>  Stellen Sie √ºber das COM-Objekt des Treibers des Herstellers eine Verbindung zum Ger√§t her </li><li>  Arbeiten mit dem Ger√§t √ºber das API-COM-Objekt </li><li>  Das COM-Objekt und der physische Port des Ger√§ts werden freigegeben <br>  ( <b>wichtiger Punkt</b> ) </li></ul><br>  Da mir ein altes Finanzbuch zur Verf√ºgung steht, wird der Treiber daf√ºr speziell f√ºr die 8. Version verwendet.  Jetzt hat der Hersteller einen Treiber der 10. Version hinzugef√ºgt, der die Arbeit mit einem Steuerdrucker √ºber ein separates Python-Wrapper-Modul erheblich vereinfacht. Dies ist eine gute Nachricht. <br><br>  Der folgende Code zeigt eine Funktion, die mithilfe des oben beschriebenen Algorithmus eine Verbindung zu einem Steuerdrucker herstellt, einen Piepton erzeugt und das zuvor erhaltene monochrome Wandteppichbild druckt.  Wir m√ºssen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pywin32</a> installieren. <br><br><div class="spoiler">  <b class="spoiler_title">Der Code erwies sich als ziemlich lang und langweilig, also habe ich ihn unter den Spoiler gestellt:</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> win32com.client <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> _winreg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> HKEY_CURRENT_USER, OpenKey, EnumValue <span class="hljs-comment"><span class="hljs-comment">#         class FiscallError(Exception) #     COM  , #  COM     def fiscal_print(filename): driver = None try: #      #         8.16. try: hKey = OpenKey(HKEY_CURRENT_USER, r"Software\Atol\Drivers\8.0\KKM\Devices") except Exception as err: raise FiscallError('      ' + '  ' + '   FPrint22-') #       , #       com  try: device_name,device_connect_params,device_connect_dt=EnumValue(hKey,0) except Exception as err: raise FiscallError('     ' + '     ' + '  FPrint22-') #       try: connect_dir = dict([tup.split(u'=') for tup in device_connect_params]) except Exception as err: raise FiscallError('     ' + '    FPrint22-') #    COM  try: driver = win32com.client.Dispatch("AddIn.FPrnM8") except Exception as err: raise FiscallError(' COM  AddIn.FPrnM8   ' + ' FPrint22-    , ' + '    ') #         add_code = driver.AddDevice() if driver.ResultCode != 0: raise FiscallError('     FPrint22-' + ' [ %s] - %s'% (driver.ResultCode, driver.ResultDescription)) #       COM  driver.Model = connect_dir['Model'] driver.PortNumber = connect_dir['PortNumber'] driver.UseAccessPassword = connect_dir['UseAccessPassword'] driver.DefaultPassword = connect_dir['UseAccessPassword'] driver.PortNumber = connect_dir['PortNumber'] driver.BaudRate = connect_dir['BaudRate'] #         #       COM  driver.DeviceEnabled = 1 #         GetStatus, #       . 61    v8.0 res = driver.GetStatus() if driver.ResultCode != 0: raise FiscallError('     FPrint22- ' + '[ %s] - %s' % (driver.ResultCode, driver.ResultDescription)) ###   #  ,       #   ,       driver.Beep() #  ,      (528) print('driver.PixelLineLength:', driver.PixelLineLength) # !!!       # (    COM ) driver.Alignment = 0 driver.LeftMargin = 0 driver.PrintPurpose = 1 driver.AutoSize = False driver.Scale = 100 #      driver.FileName = filename #    bmp  driver.PrintBitmapFromFile #        10  for i in range(10): driver.PrintString() #      driver.FullCut() # ! except FiscallError as err: raise err except Exception as err: raise FiscallError('    ' + '   FPrint22- - %s' % str(err)) finally: if driver: driver.DeviceEnabled = 0 fiscal_print('got_for_print.bmp')</span></span></code> </pre><br></div></div><br>  Das Ergebnis war ein solches Manuskript, eine Auff√ºhrung zu ‚ÄûEin Lied von Eis und Feuer‚Äú: <br><br><img src="https://habrastorage.org/webt/kv/cl/21/kvcl21w306fwxuqqbu1hawqqyhm.png"><br><br>  Der Drucker am Ende heulte vollst√§ndig, druckte langsam und schwach und druckte dann nur die letzte Szene vollst√§ndig aus - kein Steuerdrucker hat jemals eine solche Belastung gesehen: D. <br><br>  Es bleibt, das Video vorzubereiten und im sozialen Netzwerk zu posten.  Als Audioserie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">fand</a> ich eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Amateurkomposition</a> im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">8-Bit-</a> Netzwerk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">- das Titelthema der Serie</a> .  Die Idee war, sich gegenseitig zu √ºberlagern, ohne einen Video-Editor zu verwenden. Ich werde sp√§ter im letzten Teil des Artikels dar√ºber schreiben. <br><br><h3>  Wir stellen den resultierenden Videoclip zur Ver√∂ffentlichung in sozialen Netzwerken bereit </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">F√ºr diese Zwecke gibt es ein sehr n√ºtzliches und leistungsstarkes Konsolentool, das den gesamten Video-Editor ersetzt - libav</a> .  Es enth√§lt die Dienstprogramme avconf und ffmpeg f√ºr die Arbeit mit Video- und Audiodateien.  Ehrlich gesagt, f√ºr mich war dieses Tool eine echte Entdeckung, ich kann es jedem empfehlen! <br><br>  Die Grundidee der Installation: <br><br><ul><li>  Ausschnitt aus dem auf dem Smartphone aufgenommenen Video am Anfang und am Ende <br>  (passend f√ºr MP3-Datei mit 8-Bit-Musik f√ºr 3 Spiele) </li><li>  Schreiben Sie 3 Audiodateiverluste in eine Datei </li><li>  √úberlagern Sie Videodateien und Audiodateien in eine neue Videodatei </li><li>  Konvertieren Sie die Videodatei vom Mov-Format in das MP4-Format <br>  (Mein Smartphone nimmt Videos mit der Erweiterung mov auf.) </li></ul><br><div class="spoiler">  <b class="spoiler_title">Zu diesem Zweck habe ich ein Skript f√ºr die Befehlszeile geschrieben, das sowohl unter Linux als auch unter Win ausgef√ºhrt werden kann (die Unterschiede sind in den Skriptkommentaren angegeben):</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#     avconv -ss 00:00:10 -i got_print.mov -t 00:06:00 -c:v copy got_print_tmp.mov #      ( win) (echo file 'got_8bit.mp3' &amp; echo file 'got_8bit.mp3' &amp; echo file 'got_8bit.mp3') &gt; list.txt #      ( linux) # cat list.txt # file 'got_8bit.mp3' # file 'got_8bit.mp3' # file 'got_8bit.mp3' #     3  ffmpeg -f concat -i list.txt -acodec copy got_8bit_3.mp3 #         avconv -i got_print_tmp.mov -i got_8bit_3.mp3 -c copy got_print_final.mov #       mp4 avconv -i got_print_final.mov -c:v libx264 got_print_final.mp4 #    (windows) del got_8bit_3.mp3 del got_print_tmp.mov #    (linux) # rm got_8bit_3.mp3 # rm got_print_tmp.mov</code> </pre><br></div></div><br>  Das ist alles, das Video wird erstellt: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/D2Nch_KXD4U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  PS: Mein erster Artikel √ºber Habr√©, der zun√§chst einen kurzen Artikel schreiben sollte, schnitt so viel wie m√∂glich ab. Ich hoffe, dass die Lekt√ºre angenehm und das Ergebnis meiner Arbeit interessant war. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de465485/">https://habr.com/ru/post/de465485/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de465471/index.html">Haben Sie versucht, Ihre Site als Netzwerkpublikation in Roskomnadzor zu registrieren?</a></li>
<li><a href="../de465475/index.html">Mini-Interview mit Oleg Anastasiev: Fehlertoleranz bei Apache Cassandra</a></li>
<li><a href="../de465477/index.html">Wie ich einer Schlange beigebracht habe, sich mit Q-Network selbst zu spielen</a></li>
<li><a href="../de465479/index.html">Pixel Lo-Fi in Unity</a></li>
<li><a href="../de465483/index.html">Antiquit√§ten: Windows 3.1 und Leben ohne Startknopf</a></li>
<li><a href="../de465487/index.html">Erstellen Sie eine Kubernetes-Plattform auf Pinterest</a></li>
<li><a href="../de465489/index.html">Checkliste f√ºr die Produktionsbereitschaft</a></li>
<li><a href="../de465491/index.html">Zabbix + Voximplant: √úberwachung mit Anrufen oder wie Sie aufh√∂ren, sich Sorgen zu machen, und diese schnell einrichten</a></li>
<li><a href="../de465493/index.html">Schnelle Programmiersprache auf Raspberry Pi</a></li>
<li><a href="../de465495/index.html">So verlieren Sie keinen Datenverkehr beim Wechsel zu einer neuen Domain: case "Vse10"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>