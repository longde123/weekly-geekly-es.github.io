<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì© ‚ú® üñãÔ∏è Sua pesquisa retornou: implementa√ß√£o de pesquisa difusa üëê üóº üë®üèø‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Todos cometemos erros: nesse caso, estamos falando de consultas de pesquisa. O n√∫mero de sites para venda de bens e servi√ßos est√° crescendo junto com ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sua pesquisa retornou: implementa√ß√£o de pesquisa difusa</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432892/">  Todos cometemos erros: nesse caso, estamos falando de consultas de pesquisa.  O n√∫mero de sites para venda de bens e servi√ßos est√° crescendo junto com as necessidades dos usu√°rios, mas eles nem sempre conseguem encontrar o que est√£o procurando - apenas porque inserem incorretamente o nome do produto necess√°rio.  A solu√ß√£o para esse problema √© alcan√ßada atrav√©s da implementa√ß√£o de uma pesquisa difusa, ou seja, usando o algoritmo para encontrar os valores mais pr√≥ximos, levando em considera√ß√£o poss√≠veis erros ou erros de digita√ß√£o do usu√°rio.  O escopo dessa pesquisa √© amplo o suficiente - conseguimos trabalhar na pesquisa de uma grande loja on-line no segmento de varejo de alimentos. <br><a name="habracut"></a><br>
<h3>  Estado da pesquisa inicial </h3><br>  A loja online foi desenvolvida na plataforma 1C-Bitrix: Site Management.  Para implementar a pesquisa, usamos o m√≥dulo de pesquisa bitrix padr√£o e o mecanismo de texto completo sphinxsearch.  Na pesquisa sphinx, foi utilizado o tipo de √≠ndice Tempo Real (RT), que n√£o requer uma fonte de dados est√°tica, mas pode ser preenchido a qualquer momento em tempo real.  Isso permite que voc√™ atualize com flexibilidade o √≠ndice de pesquisa sem reindex√°-lo completamente.  Como o √≠ndice RT utiliza apenas o SphinxQL como protocolo de consulta, a integra√ß√£o foi realizada por meio dele.  O SphinxQL √© um protocolo de consulta do tipo mysql que implementa a capacidade de conectar-se atrav√©s de clientes mysql padr√£o, fornecendo sintaxe sql com algumas limita√ß√µes e suas pr√≥prias peculiaridades.  O m√≥dulo de pesquisa usa consultas de sele√ß√£o / inser√ß√£o / substitui√ß√£o / exclus√£o. <br><br>  No sistema bitrix, foi realizado o processo de indexa√ß√£o dos dados de mercadorias, categorias e marcas.  As informa√ß√µes sobre essas entidades foram transferidas para a esfinge, que por sua vez atualizou o √≠ndice RT.  Quando os dados s√£o atualizados na loja online, √© acionado um evento que atualiza os dados no Sphinx.  A consist√™ncia dos dados √© realizada atrav√©s do identificador da entidade na loja online. <br><br>  Quando um usu√°rio pesquisa em uma loja online, o sistema faz uma solicita√ß√£o com uma frase de pesquisa no Sphinx e obt√©m identificadores de entidades, tamb√©m seleciona as informa√ß√µes do banco de dados e forma uma p√°gina com os resultados dos resultados da pesquisa. <br>  No momento em que a solu√ß√£o para o problema de pesquisa difusa come√ßou, o esquema geral da arquitetura de pesquisa no projeto era o seguinte: <br><br><img src="https://habrastorage.org/webt/eg/wr/zb/egwrzb1_6dhcjpe5qlshpalyyxy.jpeg"><br><br><h3>  Sele√ß√£o de tecnologia </h3><br>  Nossa tarefa era adivinhar a solicita√ß√£o do usu√°rio, que pode conter erros de digita√ß√£o.  Para fazer isso, precisamos analisar cada palavra na solicita√ß√£o e decidir se o usu√°rio a escreveu corretamente ou n√£o.  Em caso de erro, as op√ß√µes mais adequadas devem ser selecionadas.  Determinar a grafia correta das palavras √© imposs√≠vel sem um banco de dados de palavras e formas de palavras do idioma em que queremos adivinhar.  Simplisticamente, esse banco de dados pode ser chamado de dicion√°rio - era ele quem precis√°vamos. <br><br>  Para selecionar op√ß√µes de substitui√ß√£o de palavras digitadas com erro, foi escolhida a popular f√≥rmula de c√°lculo de dist√¢ncia Damerau - Levenshtein.  Esta f√≥rmula √© um algoritmo para comparar duas palavras.  O resultado da compara√ß√£o √© o n√∫mero de opera√ß√µes para converter uma palavra em outra.  Inicialmente, a dist√¢ncia de Levenshtein envolve o uso de tr√™s opera√ß√µes: <br><br><ul><li>  inser√ß√£o </li><li>  exclus√£o </li><li>  substitui√ß√£o </li></ul><br>  A dist√¢ncia Damerau-Levenshtein √© uma vers√£o estendida da dist√¢ncia Levenshtein e acrescenta outra opera√ß√£o: transposi√ß√£o, isto √©, uma permuta√ß√£o de dois caracteres adjacentes. <br><br>  Assim, o n√∫mero de opera√ß√µes recebidas se torna o n√∫mero de erros cometidos pelo usu√°rio ao escrever a palavra.  Escolhemos a limita√ß√£o de dois erros, pois um n√∫mero maior n√£o fazia sentido: nesse caso, temos muitas op√ß√µes de substitui√ß√£o, o que aumenta a probabilidade de uma falha. <br><br>  Para uma pesquisa mais relevante de variantes de palavras semelhantes no som, foi utilizada a fun√ß√£o metafone - essa fun√ß√£o converte uma palavra em sua forma fon√©tica.  Infelizmente, o metafone funciona apenas com as letras do alfabeto ingl√™s; portanto, antes de calcular a forma fon√©tica, transliteramos a palavra.  O valor da forma fon√©tica √© armazenado no dicion√°rio e tamb√©m √© calculado na solicita√ß√£o do usu√°rio.  Os valores resultantes s√£o comparados pela fun√ß√£o de dist√¢ncia Damerau-Levenshtein. <br><br>  O dicion√°rio √© armazenado no banco de dados MySQL.  Para n√£o carregar o dicion√°rio na mem√≥ria do aplicativo, foi decidido calcular a dist√¢ncia Damerau-Levenshtein no lado da base.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A fun√ß√£o definida pelo usu√°rio para calcular a dist√¢ncia Damerau-Levenshtein</a> , escrita com base <a href="">na fun√ß√£o C escrita por Linus Torvalds</a> , atendeu totalmente aos nossos requisitos.  Criado por Diego Torres. <br><br>  Ap√≥s o c√°lculo da dist√¢ncia Damerau-Levenshtein, foi necess√°rio classificar os resultados por grau de similaridade para selecionar o mais adequado.  Para fazer isso, usamos o algoritmo Oliver: calculando a semelhan√ßa de duas linhas.  No php, esse algoritmo √© representado pela fun√ß√£o similar_text.  Os dois primeiros par√¢metros da fun√ß√£o aceitam as linhas de entrada que precisam ser comparadas.A ordem de compara√ß√£o das strings √© importante, pois a fun√ß√£o fornece valores diferentes, dependendo da ordem em que as linhas s√£o passadas para a fun√ß√£o.  O terceiro par√¢metro deve receber a vari√°vel na qual o resultado da compara√ß√£o √© colocado.  Este ser√° um n√∫mero de 0 a 100, o que significa a porcentagem de similaridade entre as duas linhas.  Ap√≥s o c√°lculo, os resultados s√£o classificados em ordem decrescente de similaridade e, em seguida, as op√ß√µes com os melhores valores s√£o selecionadas. <br><br>  Como o c√°lculo da dist√¢ncia Damerau-Levenshtein foi realizado de acordo com a transcri√ß√£o da palavra, as palavras com significados n√£o inteiramente relevantes ca√≠ram nos resultados.  Nesse sentido, limitamos a sele√ß√£o de op√ß√µes com uma porcentagem de correspond√™ncia superior a 70%. <br><br>  Durante o processo de desenvolvimento, percebemos que nosso algoritmo pode adivinhar palavras em diferentes layouts.  Portanto, precis√°vamos expandir o dicion√°rio adicionando o significado das palavras no layout reverso.  Os requisitos de pesquisa apresentavam apenas dois layouts: russo e ingl√™s.  Duplicamos cada palavra da consulta de pesquisa do usu√°rio no layout reverso e adicionamos processamento para calcular a dist√¢ncia Damerau-Levenshtein.  As op√ß√µes de layout direto e reverso s√£o processadas independentemente uma da outra, op√ß√µes com a maior porcentagem de similaridade s√£o selecionadas.  Somente para op√ß√µes de layout reverso, o valor no layout direto ser√° o valor da consulta de pesquisa corrigida. <br><br><h3>  Algoritmo de pesquisa difusa </h3><br>  Assim, um algoritmo de a√ß√µes de 6 etapas principais foi formado.  Durante o teste, descobrimos que nem todas as palavras nas solicita√ß√µes do usu√°rio precisam ser processadas em sua forma original ou processadas em geral.  Para resolver esses casos, uma etapa adicional foi introduzida, que chamamos de conversor ou filtro.  Como resultado, o algoritmo final consistiu em 7 etapas: <br><br><ol><li>  Divida a consulta em palavras separadas; </li><li>  Passe cada palavra pelo conversor (mais adiante); </li><li>  Para cada palavra, fa√ßa sua forma em um layout diferente; </li><li>  Componha uma transcri√ß√£o; </li><li>  Fa√ßa uma consulta de pesquisa na tabela do dicion√°rio, comparando cada entrada pela dist√¢ncia Damerau-Levenshtein; </li><li>  Deixe apenas registros com uma dist√¢ncia menor ou igual a dois; </li><li>  Atrav√©s do algoritmo Oliver, deixe apenas palavras com uma porcentagem de similaridade superior a 70% </li></ol><br>  Esquematicamente, esse algoritmo √© o seguinte: <br><br><img src="https://habrastorage.org/webt/jv/_e/zi/jv_ezix9ooxqmvb5qjwfdzpjho8.jpeg"><br><br><h3>  Funcionalidade de convers√£o e filtragem de palavras </h3><br>  Quando come√ßamos a testar o primeiro prot√≥tipo sem um conversor, ficou √≥bvio que n√£o havia necessidade de tentar adivinhar todas as palavras na solicita√ß√£o do usu√°rio.  Um conversor foi criado para essas restri√ß√µes.  Permite converter palavras para a forma que precisamos e filtrar aquelas que, em nossa opini√£o, n√£o precisam ser adivinhadas. <br><br>  Inicialmente, foi decidido que o comprimento m√≠nimo da palavra que deveria ser passado pelo algoritmo deveria ter pelo menos dois caracteres.  Afinal, se o usu√°rio digitar um pretexto ou uma uni√£o de um caractere, a probabilidade de adivinhar √© praticamente m√≠nima.  O segundo passo foi dividir a consulta em palavras.  Primeiro, escolhemos um conjunto de caracteres que podem conter palavras: letras, n√∫meros, ponto final e h√≠fen (tra√ßo).  Espa√ßos e outros caracteres s√£o delimitadores de palavras. <br><br>  Muitas vezes, os usu√°rios inserem n√∫meros para indicar volume ou quantidade.  Nesse caso, ser√° incorreto corrigir essa solicita√ß√£o.  Por exemplo, um usu√°rio inseriu a consulta "√°gua 1,1 litros".  Se corrigirmos sua solicita√ß√£o em 1,5 ou 1,0, estar√° errado.  Nesses casos, decidimos pular palavras com um n√∫mero.  Eles, ignorando nosso algoritmo, s√£o transferidos para a pesquisa Sphinx de texto completo. <br><br>  Outra convers√£o est√° associada a pontos nos nomes de marcas - por exemplo: Dr. Pepper ou Mr.Proper.  Nos casos em que existe um s√≠mbolo de ponto no meio da palavra, dividimos em dois, adicionando um espa√ßo.  O segundo caso com um ponto no meio da palavra - aqui lembramos as marcas de abrevia√ß√£o.  Por exemplo, a marca ROCS - nesse caso, cortamos os pontos e obtemos uma √∫nica palavra.  Essa convers√£o funciona se houver apenas uma letra entre os pontos. <br><br>  Nos casos em que um h√≠fen (tra√ßo) est√° presente na palavra, voc√™ deve dividi-la em v√°rias e tentar adivinhar individualmente e, em seguida, colar as melhores op√ß√µes. <br><br>  Como resultado, um conversor foi desenvolvido para o reconhecimento mais preciso da solicita√ß√£o - a maior parte do trabalho de configura√ß√£o de toda a funcionalidade foi realizada por esse desenvolvimento em particular.  Em grande parte gra√ßas a ele, √© realizado o ajuste e a sintonia de toda a pesquisa difusa.  Repita brevemente as regras pelas quais a triagem e a convers√£o de palavras s√£o realizadas: <br><br><ul><li>  a palavra deve ter mais de 2 caracteres </li><li>  a palavra deve conter apenas letras, um caractere de ponto e um h√≠fen (tra√ßo) </li><li>  se o ponto estiver no meio da palavra, um espa√ßo ser√° adicionado depois </li><li>  se for uma abrevia√ß√£o, os pontos s√£o cortados e as letras s√£o coladas </li><li>  n√£o tente adivinhar a palavra se houver um n√∫mero nela </li><li>  se a palavra contiver um h√≠fen (tra√ßo), divida-o em v√°rios, pesquise separadamente e cole no final </li></ul><br><h3>  Compila√ß√£o de Dicion√°rio </h3><br>  Como mencionado anteriormente, para corrigir a solicita√ß√£o de um usu√°rio, √© necess√°rio determinar quais palavras est√£o escritas incorretamente e quais n√£o.  Para isso, foi criado um dicion√°rio no sistema em que as palavras com a grafia correta devem estar contidas. <br><br>  Na primeira etapa, surgiu a quest√£o de preencher o dicion√°rio - como resultado, decidimos usar o conte√∫do do cat√°logo para compil√°-lo.  Como as informa√ß√µes sobre mercadorias eram importadas periodicamente de um sistema externo e indexadas para o sistema de pesquisa de texto completo do Sphinx, decidiu-se adicionar a funcionalidade de compila√ß√£o do dicion√°rio nesse est√°gio.  Seguimos a seguinte l√≥gica: se a palavra n√£o est√° no conte√∫do dos produtos, por que tentar adivinhar? <br>  As informa√ß√µes do produto foram combinadas em um texto comum e conduzidas atrav√©s de um conversor.  O modo de opera√ß√£o do conversor foi ligeiramente modificado: ao quebrar palavras atrav√©s de um h√≠fen (tra√ßo), cada parte foi salva no dicion√°rio separadamente, ao substituir pontos no dicion√°rio, os dados originais e alterados s√£o adicionados.  E como na compara√ß√£o de palavras para calcular a dist√¢ncia Damerau-Levenshtein, a transcri√ß√£o de palavras √© usada, al√©m do dicion√°rio, a transcri√ß√£o √© adicionada. <br><br>  Houve muitos erros de digita√ß√£o no conte√∫do dos produtos; para esse efeito, uma bandeira foi colocada no dicion√°rio, quando instalada, a palavra n√£o √© mais usada na pesquisa.  O conte√∫do de 35 mil produtos permitiu criar um dicion√°rio de 100 mil palavras √∫nicas, o que, no final, n√£o foi suficiente para algumas consultas dos usu√°rios.  Nesse sentido, era necess√°rio fornecer uma fun√ß√£o de carregamento para seu enriquecimento.  Um comando do console foi criado para carregar dicion√°rios.  O formato dos arquivos com os dados dos dicion√°rios deve corresponder ao csv.  Cada entrada cont√©m apenas um campo com o pr√≥prio campo de dicion√°rio.  Para distinguir os dados baixados dos dados gerados com base no conte√∫do das mercadorias, foi adicionada uma bandeira especial. <br>  Como resultado, a tabela de dicion√°rio possui o seguinte esquema: <br><br><table><tbody><tr><th>  Nome do campo </th><th>  Tipo de campo </th></tr><tr><td>  A palavra </td><td>  corda </td></tr><tr><td>  Transcri√ß√£o </td><td>  corda </td></tr><tr><td>  Adicionado manualmente </td><td>  bool </td></tr><tr><td>  N√£o use </td><td>  bool </td></tr></tbody></table><br>  Antes do desenvolvimento da funcionalidade de pesquisa difusa, havia campos nos produtos que continham um conjunto de palavras com erros de digita√ß√£o.  Na primeira etapa da gera√ß√£o do dicion√°rio, eles entraram no seu conte√∫do.  Como resultado, foi obtido um dicion√°rio com erros de digita√ß√£o, cujo conte√∫do n√£o era adequado para o funcionamento funcional.  Portanto, foi adicionado outro comando do console que tinha a funcionalidade de gera√ß√£o inversa de dicion√°rio.  Usando o conte√∫do de um determinado campo de mercadorias, a equipe procurou por palavras no dicion√°rio e as limpou do dicion√°rio.  Ap√≥s a limpeza, esses campos foram exclu√≠dos da indexa√ß√£o. <br><br><h3>  Integra√ß√£o Bitrix </h3><br>  Para implementar a funcionalidade m√≠nima exigida, tr√™s classes foram criadas: <br><br><ul><li>  DictionaryTable - sistemas Bitrix ORM para trabalhar com um dicion√°rio </li><li>  Dicion√°rio - classe de gera√ß√£o de dicion√°rio </li><li>  Pesquisa - classe de implementa√ß√£o de pesquisa </li></ul><br>  Para integra√ß√£o no Bitrix, foi necess√°rio fazer altera√ß√µes em 2 componentes: <br><br><ul><li>  bitrix: search.page </li><li>  bitrix.search.title </li></ul><br>  Antes de executar a solicita√ß√£o, o m√©todo de processamento √© chamado para detectar erros e selecionar as op√ß√µes apropriadas: <br><br><img src="https://habrastorage.org/webt/8r/zg/9j/8rzg9jwnaetecysp7xqbqq1px-k.jpeg"><br><br>  Para compilar um dicion√°rio, um evento foi registrado para indexa√ß√£o pelo m√≥dulo de pesquisa dos elementos do bloco de informa√ß√µes com mercadorias (search: BeforeIndex). <br><br><img src="https://habrastorage.org/webt/ph/gw/ex/phgwexmqmprsu7sti7-hjn5if5s.jpeg"><br><br><img src="https://habrastorage.org/webt/a6/et/a3/a6eta39r-sxk3mwlgk4e6at4npa.jpeg"><br><br><h3>  Planos futuros </h3><br>  Essa abordagem n√£o √© ideal em termos de desempenho.  Com o aumento do tamanho do dicion√°rio para mais de 1 milh√£o de palavras, o tempo de resposta do banco de dados pode aumentar significativamente.  Embora o dicion√°rio seja pequeno, o desempenho nos conv√©m.  Pode ser necess√°rio implementar o algoritmo no futuro atrav√©s de um aut√¥mato de Levenshtein ou de uma √°rvore de prefixos. <br><br><h3>  Conclus√£o </h3><br>  Portanto, nenhum mecanismo de pesquisa √© poupado da apar√™ncia de consultas que violam as regras de ortografia geralmente aceitas - seja um erro de digita√ß√£o aleat√≥rio ou uma falta real de conhecimento da ortografia das palavras.  Portanto, sem nem mesmo recorrer √†s op√ß√µes cl√°ssicas de pesquisa difusa Google ou Yandex, voc√™ pode criar as suas pr√≥prias, gra√ßas √†s quais o usu√°rio e o propriet√°rio do site poder√£o obter o resultado desejado. <br><br>  O c√≥digo de nossa implementa√ß√£o pode ser visualizado no reposit√≥rio: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/qsoft-dev/damlev-bitrix</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt432892/">https://habr.com/ru/post/pt432892/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt432880/index.html">O que voc√™ sabe sobre eletricidade no atacado e no varejo?</a></li>
<li><a href="../pt432882/index.html">Flocos de neve fa√ßa voc√™ mesmo no estilo StarWars (atualiza√ß√£o 2018)</a></li>
<li><a href="../pt432886/index.html">Como atualizar sua equipe de produtos: cultura, experimenta√ß√£o e estrutura</a></li>
<li><a href="../pt432888/index.html">Como √© Heisenbug</a></li>
<li><a href="../pt432890/index.html">Linux, Microsoft e Marxismo</a></li>
<li><a href="../pt432894/index.html">19 de dezembro de Moscou - OpsFormations</a></li>
<li><a href="../pt432896/index.html">AXIS P1425-LE Mk II vs IDIS DC-T3233HRXL: Compare C√¢meras CFTV</a></li>
<li><a href="../pt432898/index.html">Panoramas no StereoPi</a></li>
<li><a href="../pt432900/index.html">Caracter√≠sticas do trabalho em equipe internacional. Jap√£o</a></li>
<li><a href="../pt432902/index.html">Falha no voo para a lua: o que ficou conhecido sobre uma das miss√µes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>