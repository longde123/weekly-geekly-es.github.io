<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍮 👩🏽‍🎤 🦔 Leçons sur SDL 2: Leçon 1 - Bonjour, SDL 2 🔡 👾 👨🏾‍🔧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour à tous! J'ai décidé de regarder SDL 2, mais je n'ai rien trouvé de sensé en russe. J'ai décidé d'écrire le mien, en m'inspirant d'ici . 

 Je ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Leçons sur SDL 2: Leçon 1 - Bonjour, SDL 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453700/">  Bonjour à tous!  J'ai décidé de regarder SDL 2, mais je n'ai rien trouvé de sensé en russe.  J'ai décidé d'écrire le mien, en m'inspirant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'ici</a> . <br><br>  Je vais sauter l'installation de SDL 2, et je vais commencer tout de suite en écrivant des programmes, donc: <br><br><h2>  Votre première fenêtre </h2><br><br><a name="habracut"></a><br>  Commençons par connecter SDL 2. <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SDL2/SDL.h&gt;</span></span></span></span></code> </pre> <br>  Ici, nous déclarerons plusieurs variables globales. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SCREEN_WIDTH = <span class="hljs-number"><span class="hljs-number">640</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> SCREEN_HEIGHT = <span class="hljs-number"><span class="hljs-number">480</span></span>;</code> </pre><br>  Ensuite, ouvrez la fonction principale familière à tout le monde. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ** args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( SDL_Init( SDL_INIT_EVERYTHING ) != <span class="hljs-number"><span class="hljs-number">0</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } SDL_Surface* screen_surface = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; SDL_Window* window = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>;</code> </pre><br>  Regardons un peu le code.  En général, les paramètres de ligne de commande sont acceptés à partir de la ligne de commande, ils doivent être acceptés.  Ensuite, nous initialisons SDL 2 avec la fonction <b>SDL_Init ()</b> .  Nous lui avons transmis <b>SDL_INIT_EVERYTHING</b> , ce qui signifie que nous initialisons tous les modules SDL (vidéo, audio, etc.).  Il existe quelques autres indicateurs pour SDL_Init: <br><br><div class="spoiler">  <b class="spoiler_title">Drapeaux</b> <div class="spoiler_text">  <b>SDL_INIT_TIMER</b> - connexion temporisée; <br>  <b>SDL_INIT_AUDIO</b> - connexion audio; <br>  <b>SDL_INIT_VIDEO</b> - connexion vidéo, les événements sont automatiquement connectés; <br>  <b>SDL_INIT_JOYSTICK</b> - connexion de commande du joystick; <br>  <b>SDL_INIT_HAPTIC</b> - sous-système tactile (je ne sais pas ce que c'est, pour être honnête); <br>  <b>SDL_INIT_GAMECONTROLER</b> - connecte le contrôle, le joystick est automatiquement connecté; <br>  <b>SDL_INIT_EVENTS</b> - <b>active le</b> traitement des événements; <br>  <b>SDL_INIT_EVERYTHING</b> - connecte tout ce qui est indiqué ci-dessus; <br>  <b>SDL_INIT_NOPARACHUTE</b> - vérification de compatibilité. <br></div></div><cut text=":  "></cut><br>  Ensuite, créez une fenêtre avec la fonction <b>SDL_CreateWindow ()</b> .  Si quelque chose s'est mal passé, retournez 1. <br><br><pre> <code class="cpp hljs"> window = SDL_CreateWindow(<span class="hljs-string"><span class="hljs-string">"Hello, SDL 2!"</span></span>,SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SDL_SCREEN_WIDTH, SDL_SCREEN_HEIGHT, SDL_WINDOW_SHOWN); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (window == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre><br>  La fonction <b>SDL_CreateWindow ()</b> accepte le nom de la fenêtre, la position de la fenêtre OX, la position de la fenêtre OY, la largeur de la fenêtre, la hauteur de la fenêtre et les indicateurs.  Nous allons maintenant contourner le drapeau <b>SDL_WINDOW_SHOWN</b> . <br><br>  Il existe d'autres indicateurs pour créer une fenêtre. <br><br><div class="spoiler">  <b class="spoiler_title">Drapeaux</b> <div class="spoiler_text">  <b>SDL_WINDOW_FULLSCREEN</b> - ouvre une fenêtre en mode plein écran, change la résolution du bureau; <br>  <b>SDL_WINDOW_FULLSCREEN_DESKTOP</b> - ouvre une fenêtre en mode plein écran avec la permission de ce bureau; <br>  <b>SDL_WINDOW_OPENGL</b> - une fenêtre <b>prenant en</b> charge OpenGL; <br>  <b>SDL_WINDOW_HIDDEN</b> - la fenêtre est masquée; <br>  <b>SDL_WINDOW_BORDERLESS</b> - une fenêtre sans cadre; <br>  <b>SDL_WINDOW_RESIZABLE</b> - vous pouvez redimensionner la fenêtre; <br>  <b>SDL_WINDOW_MINIMIZED</b> - la fenêtre est réduite; <br>  <b>SDL_WINDOW_MAXIMIZED</b> - la fenêtre est <b>agrandie</b> ; <br></div></div><br>  Si nous compilons et exécutons le programme maintenant, nous verrons une fenêtre 640x480 remplie de blanc, qui se fermera après un moment.  Magnifique!  Pour profiter un peu de ce miracle, nous pouvons écrire <b>SDL_Delay (2000)</b> .  Cela fera geler le programme pendant 2 secondes. <br><br>  Juste une fenêtre, bien sûr, c'est bien, mais il serait encore plus cool de la dessiner, non?  Pour ce faire, créez une surface sur laquelle nous allons tout dessiner, car directement dans la fenêtre, le dessin est en quelque sorte moche ou quelque chose. <br><br><pre> <code class="cpp hljs"> screen_surface = SDL_GetWindowSurface(window); SDL_FillRect(screen_surface, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, SDL_MapRGB(screen_surface-&gt;format, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)); SDL_UpdateWindowSurface(window);</code> </pre><br>  Nous obtenons d'abord la surface de la fenêtre avec la fonction <b>SDL_GetWindowSurface ()</b> .  Il a été fait de sorte qu'il n'était pas nécessaire d'indiquer les dimensions de la surface, son format, mais d'obtenir immédiatement la surface finie.  De plus, cette surface n'a pas besoin d'être dessinée dans la fenêtre - elle fera tout elle-même. <br><br>  Ensuite, nous utilisons <b>SDL_FillRect ()</b> pour peindre notre surface en vert.  Nous avons écrit <b>SDL_MapRGB</b> , indiquant au programme que nous utiliserions RGB (Red Green Blue) pour définir la couleur. <br><br>  Et à la fin, nous devrions mettre à jour la fenêtre avec la fonction <b>SDL_UpdateWindowSurface ()</b> afin qu'elle affiche ce que nous lui avons dit. <br><br>  À ce stade, lorsque vous démarrez le programme affichera une fenêtre remplie de couleur vert vif, qui ne se fermera pas dans les 2 secondes. <br><br>  Après avoir terminé le programme, nous devons effacer la RAM des fichiers inutiles, fermer la fenêtre, en général, déterminer la terminaison correcte du programme.  En cela, des fonctions spécialement préparées nous aideront. <br><br><pre> <code class="cpp hljs"> SDL_DestroyWindow(window); SDL_Quit();</code> </pre><br>  La fonction <b>SDL_DestroyWindow ()</b> ferme la fenêtre et la fonction <b>SDL_Quit () désinitialise</b> tous les modules précédemment connectés à la fonction <b>SDL_Init ()</b> . <br><br>  Eh bien, la leçon numéro 1 est terminée, j'espère que tout était clair.  Voici le code que j'ai obtenu à la fin: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SDL2/SDL.h&gt; const int SCREEN_WIDTH = 640; const int SCREEN_HEIGHT = 480; int main (int argc, char ** args) { if( SDL_Init( SDL_INIT_EVERYTHING ) != 0 ) { return 1; } SDL_Surface* screen_surface = NULL; SDL_Window* window = NULL; window = SDL_CreateWindow("Hello, SDL 2!",SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SCREEN_WIDTH, SCREEN_HEIGHT, SDL_WINDOW_SHOWN); if (window == NULL) { return 1; } screen_surface = SDL_GetWindowSurface(window); SDL_FillRect(screen_surface, NULL, SDL_MapRGB( screen_surface-&gt;format, 0, 255, 0)); SDL_UpdateWindowSurface(window); SDL_Delay(2000); SDL_DestroyWindow(window); SDL_Quit(); return 0; };</span></span></span></span></code> </pre><br>  Bonne chance à tous! <br><br>  Prochaine leçon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">&gt;&gt;</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr453700/">https://habr.com/ru/post/fr453700/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr453688/index.html">Java n'est pas seulement une entreprise sanglante, mais aussi des applications sensibles à la latence rapide</a></li>
<li><a href="../fr453692/index.html">Shaders de jeu 3D pour débutants: Effets</a></li>
<li><a href="../fr453694/index.html">Connectez-vous à Windows via SSH comme sous Linux</a></li>
<li><a href="../fr453696/index.html">Reliure angulaire bidirectionnelle, un peu plus de compréhension</a></li>
<li><a href="../fr453698/index.html">L'information quantique dans la conscience quantique</a></li>
<li><a href="../fr453706/index.html">Comment j'ai réussi l'examen de certification Google Cloud Professional Data Engineer</a></li>
<li><a href="../fr453708/index.html">Système d'exploitation en temps réel AQUA RTOS pour MK AVR dans l'environnement BASCOM AVR</a></li>
<li><a href="../fr453710/index.html">Pratique de développement dans les grands projets: mitap SberPractice iOS # 1</a></li>
<li><a href="../fr453712/index.html">Comment eBay a fait un scanner de codes-barres sur WebAssembly</a></li>
<li><a href="../fr453714/index.html">Client de test TON (Telegram Open Network) et le nouveau langage Fift pour les contrats intelligents</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>