<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⛹🏻 🤾🏻 👶🏼 Héritage JavaScript du point de vue d'un nerd ennuyé: Constructors Factory 👩🏼‍🚒 👩🏻‍🎨 🧗🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="C'est l'histoire d'une pièce très spéciale de JavaScript, le langage artificiel le plus utilisé au monde aujourd'hui (2019). 

 L'article présente une...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Héritage JavaScript du point de vue d'un nerd ennuyé: Constructors Factory</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470994/"><img src="https://habrastorage.org/webt/vn/qj/01/vnqj01fce5bbthmmo8gkl-6bawe.png" alt="lampe de lumière et pomme de discorde" align="left">  C'est l'histoire d'une pièce très spéciale de JavaScript, le langage artificiel le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>plus utilisé</u></a> au monde aujourd'hui (2019). <br><br>  L'article présente une sorte de vision philosophique de l'héritage en JavaScript, et j'ose seulement espérer qu'il est basé sur la source de connaissances la plus impressionnante: la vie elle-même dans toutes ses manifestations.  Je ne sais pas si cela a été une inspiration lors de la création de la conception de la chaîne prototype en JavaScript. <br><br>  Mais si c'est le cas, alors il est si important et puissant que lorsque je commence à y penser, il devient parfois même difficile de respirer ... <br><br>  <i>(tous les liens sont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>soulignés</u></a> )</i> <a name="habracut"></a><br><hr><br>  Je suis également sûr qu’aucun d’entre nous ne doutera que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Brendan Ike</u></a> (Eich) - l’auteur du langage de programmation JavaScript - est un génie exceptionnel!  Et pas seulement parce qu'il répète souvent: <br><blockquote>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Pariez toujours sur JavaScript!</u></a> </blockquote>  <b>Commençons!</b>  Et notre premier point de départ sera l'Imagination, dans laquelle nous désactiverons d'abord tous les préjugés, omissions et autres effets secondaires. <br><br>  Nous retournons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>vers le futur</u></a> , l'ère précédant la création de l'Internet moderne au début des années 1990. <br><br>  Depuis l'époque des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>premiers pirates</u></a> qui ont inventé tout ce que nous ( <i>les employés informatiques</i> ) <i>utilisons</i> maintenant, nous sommes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>passés</u></a> à un croquis impressionnant: à propos de la guerre entre les navigateurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Netstcape Navigator</u></a> 2 et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Internet Explorer</u></a> 3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Java</u></a> vient de sortir, et presque tout de l'Internet moderne n'a pas encore été inventé ou pas pré-ouvert.  Il est possible que, comme moi, dans ce «bon vieux temps», vous étiez jeune et que vous vous souveniez de ce merveilleux sentiment d'implication dans toute la splendeur qui se crée sous vos yeux. <br><br>  Donc, vous avez un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>PC</u></a> très puissant sur le plus moderne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Intell Pentium 200 MMX</u></a> avec 32 Mo de RAM, Windows 3.11 ou même Windows 95 et vous envisagez l'avenir avec espoir!  Et, bien sûr, les deux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>navigateurs sont</u></a> également installés.  Vous avez un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>accès commuté</u></a> , à travers lequel vous vous connectez au réseau pour de nouvelles ordures, aussi, pour étudier ou simplement discuter, discuter.  Bien que vous ne puissiez toujours pas discuter directement dans le navigateur, vous utilisez probablement des systèmes de livraison de messages différés, quelque chose comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>EMail</u></a> ou peut-être <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>UseNet</u></a> , ou, très probablement, vous avez déjà maîtrisé la livraison instantanée via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>IRC</u></a> . <br><br>  Quelques années s'écoulent et TOUT change littéralement ... Soudain, vous regardez l'animation de flocons de neige sur les pages Web pour vous féliciter pour le Nouvel An et Noël.  Bien sûr, vous êtes intéressé par la façon dont cela se fait, et vous découvrez un nouveau langage - JavaScript.  Puisque le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>HTML</u></a> n'est pas nouveau pour vous, vous commencez à apprendre ce techno-métier séduisant.  Bientôt, vous découvrez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>CSS</u></a> et il s'avère que c'est également important, car tout est maintenant fait à partir d'une combinaison de ces trois: HTML, JavaSript et CSS.  Ouah. <br><br>  À peu près à la même époque, vous remarquerez peut-être quelques grandes choses dans Windows lui-même, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>CScript</u></a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>HTA y</u></a> sont apparus, et même alors, il est devenu possible de créer des applications de bureau à part entière directement sur JS (et cela fonctionne toujours). <br><br>  Et vous avez donc commencé à créer votre premier serveur Web, peut-être en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Perl</u></a> ou en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>C</u></a> ~ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>C ++</u></a> .  Peut-être même que vous avez commencé à utiliser des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>systèmes d'</u></a> exploitation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>type Unix</u></a> et à le faire sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>bash</u></a> .  Et tout cela "spin-spinning" grâce à la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Common Gateway Interface</u></a> (ne le confondez pas avec cet autre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>CGI</u></a> ).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>PHP</u></a> n'existe presque toujours pas, mais vous l'aimerez peut-être bientôt. <br><br>  Ère 200x.  Vous faites maintenant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>ASP</u></a> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>JScript</u></a> .  Ceci est très similaire au JavaScript qui fonctionne à l'intérieur de vos pages Web.  C'est trop cool!  Vous envisagez de créer votre propre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>moteur de modèle</u></a> , une sorte de parodie de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>XML</u></a> .  Et soudain, quelqu'un appelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>AJAX</u></a> toutes ces façons amusantes de charger <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>dynamiquement du</u></a> contenu que vous utilisez depuis plusieurs années.  Et tous pensent maintenant qu'il n'y a que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>XMLHTTPRequest</u></a> , mais vous vous souvenez que les données peuvent être transférées vers <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>BMP</u></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>IFrame</u></a> ou même en insérant la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>balise &lt;script&gt;</u></a> .  Et puis quelqu'un parle soudainement avec enthousiasme de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>JSON</u></a> et de son utilité, lorsque vous avez conduit des données pendant une <i>éternité</i> avec quelque chose comme ceci: <br><br><pre><code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.write(<span class="hljs-string"><span class="hljs-string">"&lt;"</span></span> + <span class="hljs-string"><span class="hljs-string">"script src="</span></span> + path + <span class="hljs-string"><span class="hljs-string">"&gt;"</span></span>);</code> </pre> <br>  Ce n'est pas grave <b>maintenant</b> , mais vous pouvez toujours vous rappeler <b>comment</b> ... <br><br>  Lorsque vous reprenez vos esprits, de temps en temps, vous commencez à vous retrouver à fouiner avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Rhino</u></a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Nashorn</u></a> pour tenter de satisfaire les souhaits des clients Java en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Alfresco</u></a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Asterisk</u></a> .  Et vous avez déjà entendu parler de l'avènement imminent de JavaScript dans le monde des micropuces, et vous êtes très inspiré par cette nouvelle.  Et bien sûr, vous avez maintenant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>jQuery</u></a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Backbone</u></a> . <br><br>  En observant les chutes de neige de l'année 2010 à venir, vous savez déjà que dans votre monde toutes les règles du jeu vont bientôt changer, car «Player No. 1» est entré dans le champ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Node.js.</u></a>  Et les 10 prochaines années, vous passerez avec ce nouveau jouet, et même maintenant, en 2019, vous ne pouvez toujours pas en avoir assez de la fraîcheur. <br><br>  En général, vous êtes satisfait de tout, tout vous convient, tous ces jouets et jeux en eux constituent une grande partie de vos intérêts de vie. <br><br>  <b><i>Mais il y a une petite question que vous vous posez jour après jour, nuit après nuit depuis deux décennies maintenant:</i></b> <br><br><h3>  Si vous deviez le faire, comment expliqueriez-vous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Empathy en</u></a> utilisant JavaScript? </h3><br>  Vous savez que l'un des sujets les plus compliqués de JavaScript est l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>héritage de prototypes et la chaîne de prototypes</u></a> .  Et vous aimez ce sujet, vous pouvez expliquer comment tout cela fonctionne et fonctionne, tout simplement parce que vous l'avez appris presque dès le début, avant même la naissance de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>première version de la norme</u></a> , et où, comme vous vous en souvenez, il y en a <b>4,2 .1 Objets</b> : <br><blockquote>  ECMAScript prend en charge l'héritage basé sur un prototype.  Chaque constructeur a un prototype associé, et <b>chaque objet créé par</b> ce constructeur a <b>une référence implicite</b> au prototype (appelé prototype de l'objet) associé à son constructeur.  En outre, un prototype peut avoir une référence implicite non nulle à son prototype, etc.  <b>c'est ce qu'on appelle la chaîne prototype</b> . </blockquote>  <i>Chaque objet est créé avec une référence implicite au prototype.</i>  <i>C'est ce qu'on appelle la chaîne d'héritage du prototype, que vous pouvez continuer aussi longtemps que vous le souhaitez.</i> <br><br>  Wow ... Et si tout à coup, comme moi, vous pensez peut-être que c'est l'une des plus grandes inventions de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">science informatique</a> , comment exprimeriez-vous l'effet que la lecture de cette déclaration a eu sur vous? <br><br>  Revenons au début.  Dans la cour 1995.  Vous êtes Brendan Ike et vous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>devez inventer un</u></a> nouveau langage de programmation.  Peut-être que vous aimez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Lisp</u></a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Scheme</u></a> , au moins certaines de leurs parties préférées.  Et vous êtes confronté à la nécessité de résoudre le problème de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>héritage</u></a> , car vous devez prétendre que le langage a une certaine implémentation de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>POO</u></a> .  <i>Réfléchissons</i> : vous devez mélanger toutes les choses que vous aimez, peut-être aussi certaines choses que vous n'aimez pas, et le cocktail résultant devrait être assez bon pour que personne ne remarque un truc jusqu'à ce qu'il y ait un réel besoin de comprendre comment c'est disposé à l'intérieur. <br><br>  Et maintenant, la question est: <b>qu'arriverait-il à l'héritage?</b> <br><br>  Revenons un instant à la réalité.  Que savons-nous tous de l'héritage?  Quelques réponses évidentes à cette question: <br><br><ol><li>  La plupart des formes vivantes sont basées sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>génome</u></a> .  Il s'agit d'un tel référentiel d'informations sur les caractéristiques probables et le comportement présumé des êtres vivants.  Lorsque vous êtes une créature vivante, vous portez une partie du génome en vous, vous pouvez le distribuer, mais vous l'avez reçu des générations précédentes. </li><li>  Vous pouvez créer une créature vivante en utilisant deux techniques: mélanger (génomes) de deux ancêtres ou, éventuellement, utiliser le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>clonage monoïque de l'</u></a> un d'eux.  Bien sûr, aujourd'hui, nous sommes des technologies disponibles qui permettent de mélanger les génomes de plus d'une créature, mais cela est beaucoup moins évident et moins naturel. </li><li>  Le facteur temps est important.  S'il n'y a pas de propriété héritée, ou pas déjà, alors notre seule issue est de la créer à partir de zéro.  En plus de cela, il y a aussi l'héritage, ce qui passe à l'être de ses ancêtres non pas à travers le génome, mais à travers les lois de la propriété, et cela peut aussi être significatif. </li></ol><br>  Pour en revenir au passé, et la bonne question que nous devons nous poser est maintenant: <b>Et, en fait, l'héritage Que voulons-nous obtenir?</b> <br><br>  Eh bien, en tout cas, dans le processus de résolution du problème de l'héritage, nous devons au moins combler le fossé entre la programmation et la vie réelle, sinon, en général, nous n'aurons pas le droit de l'appeler héritage. <br><br>  Finissons-en maintenant: nous sommes dans les années 1995, nous avons le PC le plus puissant avec seulement 32 mégaoctets de RAM, et nous essayons de créer un langage interprété, nous devons donc prendre grand soin de cette mémoire.  Chaque élément de données, en particulier les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>objets String</u></a> , consomme beaucoup de mémoire, et nous devrions être en mesure de déclarer cet élément une seule fois, et dans la mesure du possible à l'avenir, n'utilisez que des pointeurs vers la zone de mémoire occupée par cet élément.  <b>Nous résumons: une question très difficile.</b> <br><br>  Il y a une opinion populaire: " <i>JavaScript est créé à partir d'objets</i> ."  En utilisant cette trivialité, nous pouvons très facilement répondre à la question « <b>de quoi</b> » hériter et « <b>quoi</b> »: d'Objets en Objets.  Pour des raisons d'économie de mémoire, il s'avère que toutes les données doivent être stockées dans ces objets, et tous ces liens vers les données doivent également être stockés dans les propriétés héritées de ces objets.  Peut-être que maintenant, il est clair pourquoi en 1995 nous avions vraiment besoin de créer un design basé sur une chaîne de prototype: il économise la mémoire le plus longtemps possible!  Et en général, je pense que cela peut encore être un aspect très important. <br><br>  Sur la base du design indiqué et de l'avis « <i>tout est un objet</i> », nous pouvons essayer de cloner quelque chose comme ça.  Mais qu'est-ce que le clonage ici maintenant?  Je pense qu'en suivant les exigences de nos exigences, nous pouvons supposer quelque chose comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Structural ou Surface Copy</u></a> , quelque chose de similaire aux prédécesseurs de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Object.assign</u></a> moderne. <br>  Implémentons une simple copie structurelle en 1995 en utilisant <b><i>for (var i in) {}</i></b> , car la norme le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>permettait déjà</u></a> : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// back in 1995 cloning // it is not deep clone, // though we might not need deep at all var cloneProps = function (clonedObject, destinationObject) { for (var key in clonedObject) { destinationObject[key] = clonedObject[key]; } };</span></span></code> </pre><br>  Comme vous pouvez le voir, cette approche "fonctionne" toujours, bien qu'en général, bien sûr, je recommanderais de regarder le module approfondi pour une compréhension plus détaillée de la façon de faire du clonage en JavaScript, mais pour les besoins de l'article, une application cohérente nous convient tout à fait. décrit par <b><i>cloneProps</i></b> , car nous pourrions bien l'utiliser dans ces temps anciens: <br><br><ul><li>  clonage d'objets à l'aide du constructeur: <i>à l'aide du constructeur, créez au moins deux clones différents</i> <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// cloneProps is described above var SomeConstructor = function (clonedObject) { cloneProps(clonedObject, this); }; var someExistingObjectToClone = { foo : 'bar' }; var clone1 = new SomeConstructor(someExistingObjectToClone); var clone2 = new SomeConstructor(someExistingObjectToClone); // clone1.foo == clone2.foo</span></span></code> </pre></li><li>  clonage d'un constructeur à partir d'un constructeur: nous <i>implémentons l'utilisation du comportement d'un constructeur à partir d'un autre constructeur</i> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> SomeConstructor = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.a = <span class="hljs-string"><span class="hljs-string">'cloned'</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> AnotherConstructor = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Function.prototype.call // was already invented in 1st ECMA-262 SomeConstructor.call(this); };</span></span></code> </pre></li><li>  clonage d'un constructeur à l'aide d'un objet: <i>nous utiliserons le même objet pour implémenter le clonage dans au moins deux constructeurs</i> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> existentObject = { <span class="hljs-attr"><span class="hljs-attr">foo</span></span> : <span class="hljs-string"><span class="hljs-string">'bar'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> SomeConstructor = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ cloneProps(foo, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> OtherConstructor = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ cloneProps(foo, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); };</code> </pre></li><li>  clonage d'un objet à partir d'un autre objet: <i>utilisez un objet pour créer plusieurs de ses clones</i> .  Il n'y a rien à décrire ici, prenez-le comme nos <b><i>cloneProps</i></b> du premier exemple ci-dessus. </li></ul><br>  <i>Avec le clonage, en général, tout est simple, comme on le voit, tout est clair et en général, mais ...</i> <br><br>  Est-il si facile pour nous de faire l'héritage des entités, en utilisant une combinaison de leurs prédécesseurs? <br><br><ul><li>  Héritage d'un objet à l'aide du constructeur: <i>c'est le but même des concepteurs, nous allons simplement montrer comment il a été initialement conçu</i> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> existentObject = { <span class="hljs-attr"><span class="hljs-attr">foo</span></span> : <span class="hljs-string"><span class="hljs-string">'bar'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> SomeConstructor = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}; SomeConstructor.prototype = existentObject; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> inheritedObject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomeConstructor(); <span class="hljs-comment"><span class="hljs-comment">// we have no instanceof yet in ECMA 262 of 1995 // therefore we are unable to rely on this window.alert(inheritedObject.foo); // bar</span></span></code> </pre></li><li>  Héritage du constructeur d'un autre constructeur: sans aucun doute, le premier qui a remarqué que c'était un génie exceptionnel.  <i>Dans l'ensemble, c'est un autre exemple classique de partout</i> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> FirstConstructor = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.foo = <span class="hljs-string"><span class="hljs-string">'bar'</span></span>; }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> InheritedConstructor = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ FirstConstructor.call(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }; InheritedConstructor.prototype = { <span class="hljs-attr"><span class="hljs-attr">bar</span></span> : <span class="hljs-string"><span class="hljs-string">'foo'</span></span> }; InheritedConstructor.prototype.constructor = FirstConstructor; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> inherited = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InheritedConstructor(); <span class="hljs-comment"><span class="hljs-comment">// { foo : 'bar', bar : 'foo' }</span></span></code> </pre><br>  <i>il serait possible de dire quelque chose de sophistiqué, mais pourquoi</i> <br></li><li>  Héritage du constructeur de l'objet: encore une fois, nous utilisons simplement <b><i>.prototype = object</i></b> chaque fois que nous en avons besoin, il n'y a rien à décrire, nous devons toujours assigner <b><i>Constructor.prototype</i></b> car il est censé y placer l'objet, et par un lien implicite nous obtenons toutes ses propriétés . </li><li>  Hériter d'un objet d'un objet: la même chose.  Nous plaçons simplement le premier objet dans <b><i>Constructor.prototype</i></b> et dès que nous disons <b><i>nouveau constructeur,</i></b> nous créerons une copie héritée dans laquelle il y aura des références implicites aux propriétés de notre premier objet. </li></ul><br>  Et bien sûr, dans toutes ces situations avec héritage, nous aurons l'occasion de vérifier en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><i><u>instanceof à partir de</u></i></b></a> quel constructeur nous avons créé les objets, bien que, bien sûr, il convient de noter que <b><i>instanceof</i></b> lui-même est apparu dans les normes près de quatre ans plus tard. <br><br>  Certes, il restait un si petit détail du paragraphe 4.2.1: <br>  être en mesure de le faire aussi longtemps que nécessaire, comme il est dit: <br><blockquote>  <b>et ainsi de suite</b> </blockquote>  Eh bien, <b>essayons de rendre l'héritage vraiment sans fin</b> , en utilisant la technologie <b>de 1995</b> . <br><br>  En fait, imaginons que nous avons deux Entités, et <i>non des</i> Constructeurs, mais des objets simples.  Et nous voulions hériter l'un de l'autre, et puis peut-être de l'autre, et de l'autre, et ainsi de suite ... <br><br><h3>  Mais comment? </h3><br>  Jetez un œil un peu plus loin, plus profondément. <br>  Ici encore, la bonne réponse est: l' <b>héritage de ce que nous devons créer?</b> <br><br>  Après tout, nous n'avons pas besoin de ces entités par nous-mêmes.  Nous avons besoin de leurs propriétés: données associées consommant de la mémoire;  et aussi, nous avons probablement besoin d'un certain comportement: des méthodes utilisant ces données.  Et ce sera tout aussi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>honnête</u></a> , si nous avons la possibilité de vérifier où et où nous avons hérité et en utilisant quoi.  En général, ce serait tout aussi cool si nous pouvions reproduire la conception inhérente des modèles d'héritage à l'avenir, ce qui implique que si nous héritons l'un de l'autre plusieurs fois, nous obtiendrons toujours le même résultat, selon ce que nous avons écrit (contrat) .  Bien que ce soit encore, il peut être tout aussi utile pour nous de fixer en quelque sorte le moment de la création, car nos entités "précédentes" peuvent changer avec le temps, et les "héritiers", en leur donnant du respect en cela, changent toujours avec eux pourrait bien ne pas vouloir. <br><br>  Et, puisque tout notre code est une combinaison de données et de comportement, est-il généralement normal d'utiliser la même méthode - combinant données et présentation - lors de la conception d'un système d'héritage? <br><br>  Quant à moi, tout cela ressemble à ce que nous voyons en observant la vie sous toutes ses formes incroyables.  Du premier unicellulaire au multicellulaire et à leurs descendants, et plus loin aux animaux, aux gens, à l'humanisme et aux tribus, aux civilisations, à l'intellect et à ses formes artificielles, et plus loin à l'espace, à la galaxie, aux étoiles!  et: <br><blockquote>  "... Tout ce que nous devons faire, c'est nous assurer de continuer à parler ..." </blockquote>  <i>(tout ce que nous devons faire est de continuer la communication)</i> <br><br>  Incroyable dans sa prévenance, une citation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Stephen Hawking</u></a> , par la suite popularisée dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>ce</u></a> chef-d'œuvre de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Pind Floyd</u></a> . <br><br>  Les langages de programmation basés sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>passage de messages</u></a> et un concept basé sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Flow</u></a> implémenté via une API interne robuste vous permettent de passer de <i>données simples</i> à des abstractions, des descriptions et tout le reste.  Je pense que c'est de l'Art pur, et comment cela fonctionne en particulier dans les structures JavaScript profondément cachées à travers des relations implicites entre les données dans les chaînes de prototypes. <br><br>  Imaginez à nouveau deux ancêtres, ils communiquent et à un moment leurs émotions et leurs sentiments créent un enfant.  L'enfant grandit, rencontre un autre enfant, ils communiquent et le prochain descendant apparaît, et ainsi de suite ... Et nous avons toujours besoin de deux parents, sinon ce n'est pas naturel, ce sera déjà du génie génétique.  Deux, ni plus ni moins.  Un descendant reçoit la même chose que son héritage, c'est donc simple et compréhensible. <br><br>  Je comprends que cela puisse sembler étrange, mais oui, nous avons tout ce dont nous avons besoin pour créer ce modèle d'héritage en 1995.  Et la base de tout cela est précisément <b>4.2.1 Objets</b> , référencement implicite via prototype. <br><br>  Et c'est exactement comme ça, en combinant <i><b>ParentObject</b></i> avec <i><b>ParentConstructor</b></i> en spécifiant <i><b>.prototype</b></i> puis <i><b>Constructor</b></i> va probablement nous créer un <i><b>ChildObject</b></i> , bien sûr, si nous disons le mot magique " <b><i>nouveau</i></b> ": <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ParentObject = { <span class="hljs-attr"><span class="hljs-attr">foo</span></span> : <span class="hljs-string"><span class="hljs-string">'bar'</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ParentConstructor = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}; ParentConstructor.prototype = ParentObject; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ChildObject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ParentConstructor(); <span class="hljs-comment"><span class="hljs-comment">// starting from 1995 and then ECMA 262 // we are able to say new // each time we need a ChildObject</span></span></code> </pre> <br>  Nous pouvons discerner ici nos deux ancêtres.  Au moment où nous avons dit le mot magique " <b><i>nouveau</i></b> ", nous leur avons demandé de discuter.  S'ils ne veulent pas communiquer, Life s'arrêtera, le processus tombera avec une erreur et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>compilateur</u></a> (interprète) nous en parlera. <br><br>  Bien sûr, oui, mais nous avons demandé l’ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>arbre d’héritage</u></a> ou l’avons laissé être beaucoup plus simple, du moins pour l’arbre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>généalogique</u></a> .  Et la réponse est toujours la même ... notre <i><b>objet enfant</b></i> grandit, et il <i><b>devient un objet parent</b></i> , puis il rencontre un nouvel <i><b>objet constructeur</b></i> et dès que nous disons le mot convoité " <b><i>nouveau</i></b> " - magie: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// this Assignment is just to show it grew up var ChildObjectGrownToParent = ChildObject; var AnotherConstructor = function () {}; AnotherConstructor.prototype = ChildObjectGrownToParent; var SequentialChildObject = new AnotherConstructor(); // checking Life Cycle ;^) console.log(ChildObject instanceof ParentConstructor); // true console.log(SequentialChildObject instanceof ParentConstructor); // true console.log(SequentialChildObject instanceof AnotherConstructor); // true</span></span></code> </pre> <br>  Et nous pouvons continuer à le faire à l'infini.  Et je crois peut-être vraiment que c'était l'idée principale lors du développement de la conception de la chaîne de prototypes, car comme nous le savons tous, cette approche crée des <b>problèmes</b> <b>très soignés</b> mais non moins désagréables ... <br><br>  <b>1: Communauté ...</b> Comme vous pouvez facilement le vérifier par vous-même, spécifier dans <i><b>.prototype</b></i> <i><b>ParentConstructor '</b></i> a ou <i><b>AnotherConstructor'</b></i> a est un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>contrat social</u></a> très sérieux et strict dans notre tribu.  Il crée une référence aux <b><b>propriétés ParentObject</b></b> ( <i><b>.foo</b></i> ) pour les héritiers: <i><b>ChildObject</b></i> et <i><b>SequentialChildObject</b></i> .  Et si nous nous débarrassons de cette indication, ces liens disparaîtront.  Si nous inventons et réaffectons cette référence à un autre objet, nos héritiers hériteront instantanément d'autres propriétés.  Par conséquent, en combinant les ancêtres à travers <i><b>.prototype</b></i> , nous pourrions probablement dire que nous créons une sorte de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>cellule de la société</u></a> , parce que ces «ancêtres» peuvent reproduire de nombreux descendants identiques chaque fois que nous leur en parlons en utilisant <i><b>new</b></i> .  Et ainsi, ayant détruit la "famille", nous ruinons les qualités héréditaires de ses descendants, un tel drame; ^) <br><br>  Peut-être que tout cela parle d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Héritage</u></a> dans notre code, nous devons nous en occuper lorsque nous allons créer un code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>sûr</u></a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>pris en charge</u></a> !  Bien sûr, aucun <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>SOLID</u></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>principe de Liskov</u></a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>conception par contrat</u></a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>GRASP</u></a> n'ont été discutés en 1995, mais il est évident que ces méthodologies n'ont pas été créées «à partir de zéro», tout a commencé bien plus tôt. <br><br>  <b>2: Famille ...</b> Nous pouvons facilement vérifier que notre <u><b>ParentObject peut</b></u> être très frivole avec d'autres Constructos.  Ce n'est pas juste, mais nous pouvons utiliser autant de constructeurs que nous le souhaitons dans l'héritage de notre ParentObject et ainsi créer autant de familles que nous le souhaitons.  D'un autre côté, chaque constructeur est très étroitement associé à ParentObject à travers la tâche .prototype, et si nous ne voulons pas nuire à nos héritiers, nous devons maintenir cette connexion aussi longtemps que possible.  Nous pourrions l'appeler l'art de la tragédie dans l'histoire de notre tribu.  Bien que, bien sûr, cela nous protège de l'amnésie - l'oubli de ce dont nous avons hérité et de qui, et pourquoi nos héritiers obtiennent un tel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>héritage</u></a> .  Et, en faisant l'éloge du grand <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Mnemosyne</u></a> !, Nous pouvons vraiment facilement tester notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>arbre de</u></a> chaîne de prototype et trouver des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>artefacts</u></a> de ce que nous avons fait de mal. <br><br>  <b>3: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Vieillesse</u></a> ...</b> Notre <i><b>ParentObject</b></i> et <i><b>Constructor sont</b></i> certainement susceptibles d'être endommagés pendant le cycle de vie de notre programme.  Nous pouvons essayer de nous en occuper, mais personne n'est à l'abri des erreurs.  Et tous ces changements peuvent nuire aux héritiers.  Nous devons prendre soin des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>fuites</u></a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>mémoire</u></a> .  Bien sûr, nous pouvons très bien détruire les parties inutiles du code lors de l'exécution et ainsi libérer de la mémoire qui n'est plus utilisée dans notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>cycle de vie</u></a> .  De plus, nous devons nous débarrasser de toutes les possibilités de créer des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Paradoxes Temporaires</u></a> dans les chaînes de prototypes, car en fait il est assez simple d'hériter l'Ancêtre de son propre Descendant.  Mais cela peut déjà être très dangereux, car de telles techniques de flirt avec le passé du futur peuvent créer des tas entiers de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Heisenbags</u></a> difficiles à reproduire, surtout si nous essayons de mesurer quelque chose qui peut lui-même changer avec le temps. <br><br><h2>  Chronique des décisions </h2><br>  Que ce soit simple, évident et pas très utile, mais au lieu de penser à notre constructeur et ParentObject comme maman et papa, décrivons-les comme un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>œuf</u></a> et ... du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>pollen</u></a> .  Ensuite, à l'avenir, lorsque nous créerons le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Zygote en</u></a> utilisant le mot précieux " <i><b>nouveau</b></i> ", cela ne fera plus de mal à notre imagination! <br><br>  Dès que nous ferons cela, nous nous débarrasserons immédiatement des trois problèmes ci-dessus!  Bien sûr, pour cela, nous avons besoin de pouvoir créer les zygotes eux-mêmes, ce qui signifie que nous avons besoin de la Factory of Designers.  Et maintenant, appelez-le comme vous voulez, mères, pères, quelle différence cela fait-il, car en fin de compte, si nous voulons dire " <i><b>nouveau</b></i> ", nous devons créer une "toute nouvelle" cage de créateur de fleurs, y mettre du pollen, et seulement cela nous permettra pour faire pousser un nouveau «bon» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Snowdrop</a> dans le lointain et si enneigé 2020m: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Pollen = { <span class="hljs-attr"><span class="hljs-attr">season</span></span> : <span class="hljs-string"><span class="hljs-string">'Spring'</span></span> }; <span class="hljs-comment"><span class="hljs-comment">// factory of constructors var FlowersFactory = function (proto) { var FlowerEggCell = function (sort) { this.sort = sort; }; FlowerEggCell.prototype = proto; return FlowerEggCell; }; var FlowerZygote = FlowersFactory(Pollen); var galanthus = new FlowerZygote('Galanthus');</span></span></code> </pre> <br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(et oui, n'oubliez pas de vérifier la saison avec ce perce-neige, sinon les flocons de neige tomberaient ou tomberaient, et un perce-neige serait une fleur de printemps ...)</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bien sûr, la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">complexité cyclomatique des</font></font></u></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> décisions que vous essayez de créer en utilisant cette approche sera assez comparable à l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">énigme Einstein</font></font></u></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Par conséquent, ici j'ai «concocté» une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bibliothèque</font></font></b></u></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cela peut aider à la création de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chaînes de</font></font></u></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> designers et à la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mémorisation</font></font></u></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , (ndlr: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bien, takoe, prenez une tarte sur une étagère, bla-bla-bla</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ...</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et bien que je ne puisse pas le prouver, cette approche a été utilisée avec succès de temps en temps pendant deux décennies maintenant, si vous devez être sûr à 146% que tout est normal avec l'héritage. Vous pouvez facilement constater par vous-même qu'il est élémentairement testé, reproduit et pris en charge (NDLR: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oui, en ce moment, vous avez tout quitté et vous êtes allé vous en assurer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien sûr, ce n'est pas toute l'histoire, nous avons simplement déclaré le fait: JavaScript est suffisamment bien conçu pour décrire le graphique de généalogie directement via l'héritage. Bien sûr, ici, nous n'avons pas abordé sournoisement le sujet de la </font><font style="vertical-align: inherit;">dégradation </font><font style="vertical-align: inherit;">des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classes</font></font></u></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais je suis sûr que vous pouvez vous-même facilement remplacer </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlowerEggCell</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlowerEggCellClass</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlowersFactory</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: l'essence restera la même si vous voulez vérifier vos fleurs par </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exemple,</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous verrez qu'ils sont tous des descendants de </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlowerEggCell</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auxquels vous vous référez via </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlowerZygote</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Et bien sûr, vous pouvez maintenant modifier les propriétés de </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlowerZygote</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lui </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">même </font><font style="vertical-align: inherit;">, car cela ne nuira pas à </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlowersFactory</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lui </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">même </font><font style="vertical-align: inherit;">, il restera capable de créer d'autres constructeurs FlowerEggCell ou FlowerEggCellClass à l'avenir selon la </font><font style="vertical-align: inherit;">conception </font><font style="vertical-align: inherit;">originale de " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">référence</font></font></u></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " que vous y avez </font><font style="vertical-align: inherit;">mise </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'espère que cet article a dissipé tous les doutes sur l'importance du mot </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.prototype la</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prochaine fois que vous verrez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">null</font></font></b></i></u></a>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u><i><b>this</b></i></u></a> ,  <i><b>. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>call</u></a> (null</b></i> , <i><b>. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>apply</u></a> (null</b></i>  <i><b>. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>bind</u></a> (null</b></i>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u></u></a>      code style  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u> </u></a> (. .: <i>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><u>Sorrow</u></a>   ,    ,  ,         </i> ). <br><br>   ! <br><br>   ! <br><br>   V </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470994/">https://habr.com/ru/post/fr470994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470980/index.html">Les tâches que les robots logiciels (RPA) résolvent dans le secteur bancaire</a></li>
<li><a href="../fr470982/index.html">Analyse des validations et des demandes d'extraction dans Travis CI, Buddy et AppVeyor à l'aide de PVS-Studio</a></li>
<li><a href="../fr470984/index.html">Analyse des validations et des demandes d'extraction dans Travis CI, Buddy et AppVeyor à l'aide de PVS-Studio</a></li>
<li><a href="../fr470988/index.html">L'inscription est ouverte pour Slerm DevOps à Moscou</a></li>
<li><a href="../fr470990/index.html">Boîte à outils de marketing en ligne: 3 applications pour booster la communication visuelle</a></li>
<li><a href="../fr470996/index.html">Comment une simple balise <img> peut-elle devenir un risque élevé pour une entreprise?</a></li>
<li><a href="../fr470998/index.html">Jouets en bois, dixième partie - 1996</a></li>
<li><a href="../fr471000/index.html">Jouets en bois, dernière partie - 1997</a></li>
<li><a href="../fr471004/index.html">Jouets en bois - un épilogue qui reste cloué au plafond</a></li>
<li><a href="../fr471006/index.html">500 $ par mois: sur quoi les bénéficiaires d'un revenu de base inconditionnel dépensent-ils leur argent?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>