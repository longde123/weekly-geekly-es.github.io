<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉ üíáüèø üíë Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 16: Ataques a trav√©s del canal lateral, Parte 2 üëàüèª üò∂ üë©‚Äç‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnolog√≠a de Massachusetts. Conferencia Curso # 6.858. "Seguridad de los sistemas inform√°ticos". Nikolai Zeldovich, James Mickens. A√±o 2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 16: Ataques a trav√©s del canal lateral, Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/429392/"><h3>  Instituto de Tecnolog√≠a de Massachusetts.  Conferencia Curso # 6.858.  "Seguridad de los sistemas inform√°ticos".  Nikolai Zeldovich, James Mickens.  A√±o 2014 </h3><br>  Computer Systems Security es un curso sobre el desarrollo e implementaci√≥n de sistemas inform√°ticos seguros.  Las conferencias cubren modelos de amenazas, ataques que comprometen la seguridad y t√©cnicas de seguridad basadas en trabajos cient√≠ficos recientes.  Los temas incluyen seguridad del sistema operativo (SO), caracter√≠sticas, gesti√≥n del flujo de informaci√≥n, seguridad del idioma, protocolos de red, seguridad de hardware y seguridad de aplicaciones web. <br><br>  Lecci√≥n 1: "Introducci√≥n: modelos de amenaza" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 2: "Control de ataques de hackers" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 3: ‚ÄúDesbordamientos del b√∫fer: exploits y protecci√≥n‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 4: ‚ÄúSeparaci√≥n de privilegios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 5: ‚Äú¬øDe d√≥nde vienen los sistemas de seguridad?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> <br>  Lecci√≥n 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 7: ‚ÄúSandbox de cliente nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 8: "Modelo de seguridad de red" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 9: "Seguridad de aplicaciones web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 10: ‚ÄúEjecuci√≥n simb√≥lica‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 11: "Ur / Lenguaje de programaci√≥n web" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 12: Seguridad de red <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 13: "Protocolos de red" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 14: "SSL y HTTPS" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 15: "Software m√©dico" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <br>  Lecci√≥n 16: "Ataques de canal lateral" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  <b>Audiencia:</b> ¬øc√≥mo determinar x e y primero? <br><br>  <b>Profesor:</b> para esto debes mirar al expositor en representaci√≥n binaria.  Supongamos que trato de calcular el valor de c <sup>1011010</sup> , el grado tambi√©n puede consistir en un mayor n√∫mero de bits.  Si queremos volver a cuadrar, entonces necesitamos mirar el bit m√°s bajo, aqu√≠ est√° 0. <br><br><img src="https://habrastorage.org/webt/w_/6d/9i/w_6d9ilu4jpxs9k9sa-myz5wlog.jpeg"><br><br>  Por lo tanto, obtenemos la igualdad c <sup>1011010</sup> = (c <sup>101101</sup> ) <sup>2</sup> <br><br>  A continuaci√≥n, necesitamos calcular c <sup>101101</sup> , aqu√≠ no podemos usar esta regla, porque no es 2x, ser√° x m√°s 1. Por lo tanto, escribimos esta igualdad: <br><br>  c <sup>101101</sup> = (c <sup>10110</sup> ) <sup>2</sup> c, porque este prefijo 101101 = 10110 + 1. <br><br>  Por lo tanto, multiplicamos el cuadrado por c, por lo que lo usamos para volver a cuadrado. <br><br>  Para las "ventanas deslizantes" necesitamos capturar m√°s bits del extremo inferior.  Si quieres hacer un truco aqu√≠ con una "ventana deslizante" en lugar de extraer uno de aqu√≠, entonces teniendo en cuenta esta enorme tabla, podemos tomar 3 bits a la vez, aferr√°ndonos a c7.  Si tomamos los primeros 3 bits de un grado, obtenemos c <sup>101101</sup> = (c <sup>101</sup> ) <sup>8</sup> c <sup>101</sup> . <br><br>  En este caso, realmente tenemos la misma cantidad de c√°lculos para (c <sup>101</sup> ) <sup>8</sup> , pero puede ver el valor de c <sup>101</sup> en la tabla.  Y la parte en forma de (c <sup>101</sup> ) <sup>8</sup> dice que va a usar "ventanas deslizantes" para calcular su valor. <br><br><img src="https://habrastorage.org/webt/zw/ok/iz/zwokizdxzsucmo17lyvarjp0m1o.jpeg"><br><br>  Esto ahorra mucho tiempo, ya que permite utilizar valores multiplicados previamente.  Hace 10 a√±os se cre√≠a que una tabla de valores de hasta 32 grados es el plan √≥ptimo en t√©rminos de eficiencia computacional, porque hay alg√∫n tipo de compromiso aqu√≠, ¬øverdad?  Dedica tiempo a crear esta tabla, pero no deber√≠a ser demasiado grande si no va a utilizar algunos registros con frecuencia.  Suponga que si crea una tabla de valores de hasta c <sup>500</sup> grados, pero no va a utilizar exponentes con un valor superior a 128, simplemente pierda su tiempo. <br><br>  <b>P√∫blico:</b> ¬øhay alguna raz√≥n para no crear una mesa tan gigante de antemano?  Es decir, calcular los valores de un n√∫mero limitado de grados que se pueden eludir en los c√°lculos. <br><br>  <b>Profesor:</b> si no desea realizar c√°lculos volum√©tricos por adelantado ... bueno, hay dos cosas.  Una es que debe tener un c√≥digo para verificar si el registro requerido en la tabla est√° lleno o no, y esto probablemente reducir√° la precisi√≥n de la predicci√≥n de las ramas de los procesos de la CPU.  Al mismo tiempo, en el caso general, el procesador funcionar√° m√°s lentamente, ya que tendr√° que verificar si el registro requerido est√° en la tabla.  La segunda cosa, que es algo molesta, podr√≠a ser la p√©rdida de entradas de la tabla a trav√©s de varios canales laterales, es decir, a trav√©s de patrones de acceso a cach√©.  Entonces, si tiene alg√∫n otro proceso ejecut√°ndose en el mismo procesador, puede ver qu√© direcciones de cach√© se eliminan del cach√© o se ralentizan porque alguien tiene acceso a grabar c <sup>3</sup> o grabar c <sup>31</sup> .  Y cuanto m√°s grande sea esta tabla, m√°s f√°cil ser√° determinar qu√© bits de exponente se utilizan para crear la clave RSA. <br><br>  Esta tabla gigante puede decir qu√© direcci√≥n de cach√© se perdi√≥ para el procesador, es decir, indica que el proceso de cifrado debe tener acceso a esta entrada en la tabla.  A su vez, esto le indica que la secuencia de bits dada aparece en el exponente de su clave privada.  Por lo tanto, supongo que matem√°ticamente puede completar esta tabla tanto como sea necesario, pero en la pr√°ctica no desea que resulte de un tama√±o gigantesco.  Adem√°s, no podr√° utilizar eficazmente entradas de tabla enormes.  Es mucho m√°s √∫til usar los registros de una tabla relativamente peque√±a repetidamente, por ejemplo, para calcular c <sup>7,</sup> puede usar el valor c <sup>3</sup> dos veces y as√≠ sucesivamente. <br><br>  Por lo tanto, aqu√≠ est√° la optimizaci√≥n de RSA mediante el reencuadre y los m√©todos de "ventana deslizante".  No s√© si todav√≠a usan este tama√±o de "ventanas deslizantes", pero en cualquier caso, acelera el proceso de c√°lculo, porque de lo contrario tendr√≠a que cuadrar cada bit del exponente y luego multiplicarlo por cada bit.  Por lo tanto, si tiene un exponente de 500 bits, entonces tendr√≠a que completar 500 cuadrados y aproximadamente 256 multiplicaciones por c.  Con las "ventanas deslizantes" todav√≠a tiene que hacer 512 cuadrados, porque esto no se puede evitar, pero el n√∫mero de multiplicaciones por c disminuir√° de 256 a aproximadamente 32 debido al uso de entradas de la tabla. <br><br>  Este es el plan de optimizaci√≥n general, que acelera el proceso de c√°lculo aproximadamente una vez y media.  Esta es una optimizaci√≥n bastante simple.  Hay dos trucos inteligentes con n√∫meros que hacen que el proceso de multiplicaci√≥n sea m√°s eficiente. <br><br>  La primera es la transformaci√≥n de Montgomery, en un segundo veremos por qu√© esto es especialmente importante para nosotros.  Esta optimizaci√≥n est√° tratando de resolver un problema para nosotros, que es que cada vez que hacemos la multiplicaci√≥n, obtenemos un n√∫mero que contin√∫a creciendo y creciendo en orden creciente.  En particular, tanto en las "ventanas deslizantes" como en el nuevo cuadratura, en realidad multiplicaste 2 n√∫meros juntos cuando elevaste c a la potencia de y. <br><br>  El problema es que si los datos de entrada c <sup>x</sup> y c <sup>y</sup> para la multiplicaci√≥n fueran, digamos, 512 bits cada uno, entonces el tama√±o del resultado de la multiplicaci√≥n ser√≠a 1000 bits.  Despu√©s de eso, toma este resultado de 1000 bits y lo multiplica nuevamente por algo as√≠ como 512 bits, se convierte en el tama√±o de 1500, 2000, 2500 bits y todo crece y crece. <br><br>  Sin embargo, no desea esto, porque la multiplicaci√≥n aumenta el orden de los n√∫meros multiplicados.  Debido a esto, debemos mantener el tama√±o de nuestro n√∫mero lo m√°s peque√±o posible, b√°sicamente igual a 512 bits, porque todos estos c√°lculos son mod p o mod q. <br><br>  Podemos reducir este n√∫mero, por ejemplo, queremos calcular (((c <sup>x</sup> ) <sup>2</sup> ) <sup>2</sup> ) <sup>2</sup> .  Lo que podr√≠a hacer es, por ejemplo, calcular cx m√≥dulo p, luego volverlo al cuadrado nuevamente m√≥dulo p y nuevamente al cuadrado m√≥dulo p.  Este m√©todo es relativamente bueno, porque nos permite mantener el tama√±o de nuestro n√∫mero dentro de 512 bits, es decir, lo m√°s peque√±o que podamos obtener.  Esto es bueno en el sentido de reducir el tama√±o de los n√∫meros que necesitamos multiplicar, pero de hecho, la operaci√≥n con este m√≥dulo p "aumenta significativamente el costo" del c√°lculo. <br><br><img src="https://habrastorage.org/webt/j2/8z/p2/j28zp2waavtrlhxb_agi5dedmh8.jpeg"><br><br>  Porque la forma de obtener mod p es en divisi√≥n.  Y la divisi√≥n es peor que la multiplicaci√≥n.  No enumerar√© los algoritmos para la divisi√≥n, pero es muy lento.  Por lo general, intenta evitar las operaciones de divisi√≥n siempre que sea posible, porque esta no es una programaci√≥n f√°cil.  El hecho es que necesita usar alg√∫n tipo de algoritmos de aproximaci√≥n, m√©todos de Newton y similares, y todo esto ralentizar√° el proceso de c√°lculo. <br><br>  La multiplicaci√≥n es mucho m√°s rentable, pero usar las operaciones mod p o mod q para reducir el tama√±o de los n√∫meros costar√° m√°s que la multiplicaci√≥n.  Le mostrar√© una forma de evitar esto y c√≥mo hacer c√°lculos r√°pidos utilizando la transformaci√≥n Montgomery. <br><br>  La idea b√°sica es representar los enteros que vas a multiplicar en forma de transformaci√≥n de Montgomery.  Esto es realmente muy f√°cil.  Para hacer esto, simplemente multiplicamos nuestro n√∫mero a por un cierto valor m√°gico R. Despu√©s de un segundo te dir√© de qu√© se trata.  Pero primero descubramos qu√© sucede cuando seleccionamos un valor arbitrario de R. <br><br>  Entonces, tomamos 2 n√∫meros, a y b, y los convertimos a la representaci√≥n de Montgomery, multiplicando cada uno por R. Entonces el producto de a y b en la transformaci√≥n de Montgomery se ver√° as√≠: <br><br>  ab &lt;-&gt; (aR) (bR) / R = abR <br><br>  Es decir, multiplicas aR por bR y obtienes el producto de ab por R al cuadrado.  Ahora tenemos dos R, esto es un poco molesto, pero puede dividirlo por R. Como resultado, obtenemos el producto de ab por R. No est√° claro por qu√© necesit√°bamos multiplicar este n√∫mero una vez m√°s.  Primero descubramos si esto es correcto, y luego entenderemos por qu√© ser√° m√°s r√°pido. <br>  Esto es correcto en el sentido de que es muy f√°cil.  Si desea multiplicar algunos n√∫meros, debe multiplicarlos por este valor de R y obtener la transformaci√≥n Montgomery.  Cada vez que multiplicamos estos 2 n√∫meros, debemos dividirlos entre R y luego observar la forma resultante de la transformaci√≥n de la forma abR.  Luego, cuando terminemos de cuadrar, multiplicar y todas estas cosas, volveremos a la forma normal y ordinaria del resultado, simplemente dividiendo por R por √∫ltima vez. <br><br><img src="https://habrastorage.org/webt/mi/jh/jo/mijhjogewp0y5aant8x9lk61gpg.jpeg"><br><br>  Ahora considere c√≥mo elegir el n√∫mero m√°s adecuado para R para que la divisi√≥n por R sea una operaci√≥n muy r√°pida.  Y lo mejor aqu√≠ es que si la divisi√≥n por R es muy r√°pida cuando es un n√∫mero peque√±o, y no tenemos que hacer este mod q con demasiada frecuencia.  En particular, aR, digamos, tambi√©n tendr√° un tama√±o de aproximadamente 500 bits, porque todo esto es en realidad mod p o mod q.  Por lo tanto, aR es de 500 bits, bR tambi√©n ser√° de 500 bits, de modo que el producto (aR) (bR) ser√° de 1000 bits.  R tambi√©n ser√° un n√∫mero conveniente de 500 bits, el tama√±o de p.  Y si podemos hacer que la operaci√≥n de divisi√≥n sea lo suficientemente r√°pida, entonces el resultado de ab tambi√©n ser√° aproximadamente un n√∫mero de 500 bits, de modo que podamos multiplicar sin la necesidad de una divisi√≥n adicional.  Dividir por R es mucho m√°s rentable y nos da un peque√±o resultado, lo que evita el uso de mod p en la mayor√≠a de las situaciones. <br><br>  Entonces, ¬øcu√°l es este extra√±o n√∫mero R del que estoy hablando todo el tiempo?  Tiene un valor de 2 a 512 grados: <br><br>  R = 2 <sup>512</sup> <br><br>  Ser√° 1 y un mont√≥n de ceros, por lo que es f√°cil multiplicar por ese n√∫mero, porque es suficiente para agregar un mont√≥n de ceros al resultado.  La divisi√≥n tambi√©n puede ser simple si los bits menos significativos del resultado son cero.  Entonces, si tiene un valor de un mont√≥n de bits acompa√±ado de 512 ceros, dividir entre 2 y 512 grados ser√° muy simple: simplemente coloca ceros en el lado derecho, y esta es una operaci√≥n de divisi√≥n completamente correcta. <br><br>  El peque√±o problema es que en realidad no tenemos ceros en el lado derecho cuando haces esta multiplicaci√≥n.  Tenemos n√∫meros reales de 512 bits con los 512 bits. <br><br>  El producto de (aR) por (bR) tambi√©n es un n√∫mero real del orden de 1000 bits, por lo que no podemos soltar los bits menos significativos.  Pero un enfoque razonable se basa en el hecho de que lo √∫nico que nos preocupa es el valor de mod p.  Por lo tanto, siempre puede agregar m√∫ltiples p a este valor sin cambiar su equivalente de mod p.  Como resultado, podemos agregar m√∫ltiplos de valores de p para que todos los bits menos significativos se conviertan en ceros.  Veamos algunos ejemplos simples.  No voy a escribir 512 bits en la pizarra, pero solo dar√© un breve ejemplo. <br><br>  Supongamos que en nuestra situaci√≥n R = 2 <sup>4</sup> = 10000. Este es un tama√±o mucho m√°s peque√±o de lo que realmente es.  Veamos c√≥mo funciona esta transformaci√≥n de Montgomery.  Intentamos calcular mod q, donde q = 7.  En forma binaria q = 7 es (111). <br><br>  Supongamos adem√°s que realizamos alguna multiplicaci√≥n (aR) (bR), y en representaci√≥n binaria el resultado es 11010, es decir, este ser√° el valor del producto (aR) (bR).  ¬øC√≥mo lo dividimos por R? <br><br>  Obviamente, no los cuatro bits menos significativos son ceros, por lo que no podemos separarlos, sino que podemos agregar cantidades que son m√∫ltiplos de q.  En particular, podemos agregar 2 veces en q, con 2q = 1110 en representaci√≥n binaria.  Como resultado de la suma, obtenemos 101000, espero haber hecho todo bien. <br><br><img src="https://habrastorage.org/webt/yy/vp/8f/yyvp8ffoelgybgl_ntariqw3uvi.jpeg"><br><br>  Entonces obtuvimos la suma (aR) (bR) + 2q.  De hecho, no nos importa + 2q, porque lo √∫nico que nos importa es el valor de mod q.  Ahora estamos m√°s cerca de la meta, porque tenemos tres ceros a la derecha.  Ahora podemos agregar m√°s q.  Digamos que esta vez ser√° 8q, que ser√° 111000. Nuevamente, sume nuestras l√≠neas y obtenga 1100000. Ahora tenemos el original (aR) (bR) + 2q + 8q = 1100000. Finalmente, podemos dividir esto f√°cilmente en R, solo bajando cuatro ceros bajos. <br><br><img src="https://habrastorage.org/webt/r_/vd/n-/r_vdn-ktqvqa5oojy35pnml5hsm.jpeg"><br><br>  <b>Audiencia: ¬øel</b> producto (aR) (bR) siempre terminar√° con 1024 ceros? <br><br>  <b>Profesor:</b> no, y explicar√© cu√°l podr√≠a ser la confusi√≥n.  Digamos que el n√∫mero a es 512 bits, lo multiplicamos por R y obtuvimos un n√∫mero de 1000 bits.  En este caso, tiene raz√≥n, aR es el n√∫mero en el que los bits altos son a, y los bits bajos son todos ceros.  Pero luego ejecutamos mod q para hacerlo m√°s peque√±o.  Por lo tanto, el tama√±o de 1024 bits es generalmente una coincidencia, ya que este n√∫mero tiene estos ceros bajos solo durante la primera conversi√≥n, pero despu√©s de hacer algunas multiplicaciones, ser√°n bits arbitrarios. <br><br>  Para no confundirlo, tuve que escribir mod q aqu√≠ despu√©s de aR y despu√©s de bR, aqu√≠ lo estoy agregando, y calcular este mod q tan pronto como realice la conversi√≥n para reducir el valor. <br><br><img src="https://habrastorage.org/webt/nc/en/7o/ncen7oailgwdxhdlosl-fmds1oo.jpeg"><br><br>  La conversi√≥n inicial es bastante laboriosa, o al menos tan costosa como la modulaci√≥n convencional en la multiplicaci√≥n.  Lo bueno es que pagas este precio una vez cuando haces la conversi√≥n de Montgomery, y luego, en lugar de volver a convertirlo en cada paso de los c√°lculos, simplemente lo mantienes en forma de vista de Montgomery. <br>  Recuerda que para elevar a una potencia que tiene 512 bits, tendr√°s que hacer m√°s de 500 multiplicaciones, porque tenemos que hacer al menos 500 cuadrados y algunos m√°s.  Entonces haces mod q dos veces y luego obtienes muchas operaciones de divisi√≥n simples si te quedas en esta forma de representar n√∫meros.  Y al final, haces una divisi√≥n por R para volver a esta forma ab. <br><br>  Entonces, en lugar de hacer mod q 500 veces para cada paso de la multiplicaci√≥n, haces mod q dos veces y luego contin√∫as haciendo estas divisiones por R a un costo m√≠nimo. <br>  P√∫blico: cuando agrega m√∫ltiplos de q y luego divide por R, ¬øtenemos un resto? <br>  Profesor: en realidad mod q significa el resto cuando se divide por q.  En pocas palabras, x + yq mod q = x.  En este caso, hay otra propiedad √∫til: que todos los m√≥dulos son primos.  Esto es tan cierto como el hecho de que si tiene (x + yq / R) mod q, entonces es igual a x / R mod q. <br><br><img src="https://habrastorage.org/webt/pk/s_/mq/pks_mqcl8worhpd4rrek3pamwzy.jpeg"><br><br>  La raz√≥n para pensarlo es que no hay operaciones de divisi√≥n real en aritm√©tica modular, es solo inversi√≥n.  De hecho, esto significa que si tenemos (x + yq) multiplicado por R invertido calculado por mod q, entonces es igual a la suma de dos productos: el producto x del R invertido por mod q y el producto de yq por el R invertido por mod q.  Adem√°s, el √∫ltimo t√©rmino se reduce, porque es algo multiplicado por q. <br><br><img src="https://habrastorage.org/webt/vg/ky/iz/vgkyizet0a_ne58agxvlks8ommk.jpeg"><br><br>  Para cosas como sumar 2q, 8q, etc., existe una f√≥rmula que acelera el proceso de c√°lculo.  Lo hice gradualmente, primero calcul√© 2q, luego 8q y as√≠ sucesivamente, pero los materiales de la conferencia tienen una f√≥rmula completa que se puede usar, simplemente no quiero perder el tiempo escribi√©ndolo en la pizarra.  Le permite calcular qu√© valor de m√∫ltiplo de q debe agregar para que todos los bits menos significativos se conviertan en 0. Luego resulta que para hacer la divisi√≥n por R, solo necesita calcular este m√∫ltiplo m√°gico de q, agregarlo y luego descartar el valor bajo cero bits, y esto devolver√° su n√∫mero a 512 bits sin importar el tama√±o del resultado que obtenga. <br><br>  Pero hay una sutileza.  La √∫nica raz√≥n por la que estamos hablando de esto es porque algo extra√±o est√° sucediendo aqu√≠, lo que nos permite encontrar informaci√≥n sobre los tiempos.  En particular, aunque dividimos por R, todav√≠a sabemos que el resultado ser√° de aproximadamente 512 bits.  Pero a√∫n puede ser m√°s que q, porque q no es un n√∫mero de 512 bits, puede ser ligeramente menor que R. <br><br>  Entonces puede ser que despu√©s de hacer esta divisi√≥n ventajosa por R, tengamos que restar q nuevamente, porque obtenemos algo peque√±o, pero a√∫n no lo suficientemente peque√±o.  Entonces existe la posibilidad de que despu√©s de esta divisi√≥n tengamos que restar q nuevamente.  Y esta resta se puede usar como parte del ataque, porque la operaci√≥n de resta agrega el tiempo de c√°lculo. <br><br><img src="https://habrastorage.org/webt/js/3b/bq/js3bbqk4o3wsvylxkgaatijeh_k.jpeg"><br><br>  Y alguien descubri√≥, no estos tipos, sino alguien en el trabajo anterior, que existe la posibilidad de hacer algo llamado reducci√≥n adicional o reducci√≥n adicional.      ,    . ,    xd mod q,     -        x mod q,   2R.        . <br><br><img src="https://habrastorage.org/webt/it/si/iw/itsiiweom0jn8nlm8tyidksk3ty.jpeg"><br><br>    ,    x mod q   ,         .       ,        cd. <br><br><img src="https://habrastorage.org/webt/ty/b3/ig/tyb3igh49ab4o2u8pgvydckrzh8.jpeg"><br><br>    ,  extra reduction   ,   X ,   , ,   q. <br><br><img src="https://habrastorage.org/webt/6k/bd/4s/6kbd4spmlvgepzklkfxrm4ebso0.jpeg"><br><br>  ,        c,   extra reduction   ,   c     ‚Äî q.  ,     ,      q  .     ,    extra reduction, , ,  X mod q  ,  = q + Œ≠,     .         ,      .    ,    , ,   ,    extra reduction   . <br><br> <b>:</b>  ,       ? <br><br> <b>:</b>  ,      extra reduction?    ,  , ,        .  ,             . ,               ,        extra reduction, , ,     .       ,    . ,     ,      mod q.       , , ,   .  ,      mod q  ,  ,      . <br><br>  ,    . ,    - ,   .  ‚Äî         ,       . ,  -  ,   extra reduction  . <br><br> ,    .  ,   OpenSSL,      ,  .  ,          mod q    .    ,         ,       . <br><br> ,     ,     ,      , a  b.    ‚Äî 512- .     ,      32-  ,      ,    64-  ?       ? <br><br><img src="https://habrastorage.org/webt/ir/qp/p3/irqpp3-qwmtd5ny6id59a12tw3w.jpeg"><br><br>  -    ?  ,     ,    a  b             . <br><br>     , ,    512  ,    64- ,      32- .    a     : a <sub>1</sub>  a <sub>0</sub> ,  a <sub>0</sub>    ,  a <sub>1</sub> ‚Äî  .      b ‚Äì     b <sub>1</sub>  b <sub>0</sub> . <br><br>     ab      3- :       a <sub>1</sub> b <sub>1</sub> ,        a <sub>0</sub> b <sub>0</sub> ,     a <sub>1</sub> b <sub>0</sub> + a <sub>0</sub> b <sub>1</sub> .         . <br><br><img src="https://habrastorage.org/webt/9d/sd/dz/9dsddzqrr7zvczt8rh0noqpyuh8.jpeg"><br><br> 55:00  <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Curso MIT "Seguridad de sistemas inform√°ticos".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> 16: ¬´   ¬ª,  3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3v5Von-oNUg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La versi√≥n completa del curso est√° disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps hasta diciembre de forma gratuita</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> al pagar por un per√≠odo de seis meses, puede ordenar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los EE. UU.</b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es429392/">https://habr.com/ru/post/es429392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es429382/index.html">De Alibaba a Pyaterochka: qui√©n y c√≥mo usa el sistema de reconocimiento facial en los negocios</a></li>
<li><a href="../es429384/index.html">Componentes de bicicletas el√©ctricas: motor</a></li>
<li><a href="../es429386/index.html">El proveedor de AT&T se convierte en el mayor titular de derechos de autor y comenzar√° a desconectar a los usuarios acusados ‚Äã‚Äãde pirater√≠a</a></li>
<li><a href="../es429388/index.html">C√≥mo hacer un redise√±o de un sitio web y no crear problemas: 4 pasos importantes</a></li>
<li><a href="../es429390/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 16: "Ataques de canal lateral", Parte 1</a></li>
<li><a href="../es429394/index.html">Curso MIT "Seguridad de sistemas inform√°ticos". Lecci√≥n 16: "Ataques de canal lateral", Parte 3</a></li>
<li><a href="../es429396/index.html">C√≥mo probar una aplicaci√≥n cuando interact√∫a con la API usando SoapUI</a></li>
<li><a href="../es429400/index.html">Seals vs red neuronal 2. O ejecuta SqueezeNet v.1.1 en Raspberry Zero en tiempo real (casi)</a></li>
<li><a href="../es429402/index.html">ML.NET 0.7 (Machine Learning .NET)</a></li>
<li><a href="../es429404/index.html">8 segundos y medio para priorizar la funcionalidad</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>