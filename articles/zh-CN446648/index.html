<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸšµğŸ¼ ğŸ® ğŸ© ä½¿ç”¨Operator Frameworkå¼€å‘Kubernetesè¿è¥å•† ğŸ‘¨ğŸ¿â€ğŸ“ ğŸ˜™ ğŸ‘ŠğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ­£å¦‚Radar Technologyæ–‡ç« ä¸­æåˆ°çš„é‚£æ ·ï¼ŒLamodaæ­£åœ¨ç§¯æå‘å¾®æœåŠ¡æ¶æ„è¿ˆè¿›ã€‚ æˆ‘ä»¬çš„å¤§å¤šæ•°æœåŠ¡éƒ½ä½¿ç”¨Helmæ‰“åŒ…å¹¶éƒ¨ç½²åˆ°Kubernetesã€‚ è¿™ç§æ–¹æ³•åœ¨99ï¼…çš„æƒ…å†µä¸‹å®Œå…¨å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚ å½“æ ‡å‡†çš„KubernetesåŠŸèƒ½ä¸å¤Ÿç”¨æ—¶ï¼ˆä¾‹å¦‚ï¼Œå½“æ‚¨éœ€è¦ä¸ºç‰¹å®šäº‹ä»¶é…ç½®å¤‡ä»½æˆ–æ›´æ–°æœåŠ¡æ—¶ï¼‰ï¼Œ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨Operator Frameworkå¼€å‘Kubernetesè¿è¥å•†</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lamoda/blog/446648/"><p><img src="https://habrastorage.org/getpro/habr/post_images/352/5c8/f16/3525c8f16510afa2b61b0ff9b8434a02.png" alt="å›¾ç‰‡"></p><br><p> æ­£å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Radar Technology</a>æ–‡ç« ä¸­æåˆ°çš„é‚£æ ·ï¼ŒLamodaæ­£åœ¨ç§¯æå‘å¾®æœåŠ¡æ¶æ„è¿ˆè¿›ã€‚ æˆ‘ä»¬çš„å¤§å¤šæ•°æœåŠ¡éƒ½ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Helm</a>æ‰“åŒ…å¹¶éƒ¨ç½²åˆ°Kubernetesã€‚ è¿™ç§æ–¹æ³•åœ¨99ï¼…çš„æƒ…å†µä¸‹å®Œå…¨å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚ å½“æ ‡å‡†çš„KubernetesåŠŸèƒ½ä¸å¤Ÿç”¨æ—¶ï¼ˆä¾‹å¦‚ï¼Œå½“æ‚¨éœ€è¦ä¸ºç‰¹å®šäº‹ä»¶é…ç½®å¤‡ä»½æˆ–æ›´æ–°æœåŠ¡æ—¶ï¼‰ï¼Œå‰©ä½™1ï¼…ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿ç®—ç¬¦æ¨¡å¼ã€‚ åœ¨æœ¬ç³»åˆ—æ–‡ç« ä¸­ï¼ŒI- Gmodory Mikhalkinï¼ˆæ‹‰è«è¾¾ç ”å‘å›¢é˜Ÿçš„å¼€å‘äººå‘˜ï¼‰å°†è®²è¿°æˆ‘ä»ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ“ä½œå‘˜æ¡†æ¶</a>å¼€å‘K8sæ“ä½œå‘˜çš„ç»éªŒä¸­å­¦åˆ°çš„ç»éªŒæ•™è®­ã€‚ </p><a name="habracut"></a><br><h2 id="chto-takoe-operator"> ä»€ä¹ˆæ˜¯è¿ç®—ç¬¦ï¼Ÿ </h2><br><p> æ‰©å±•KubernetesåŠŸèƒ½çš„ä¸€ç§æ–¹æ³•æ˜¯åˆ›å»ºè‡ªå·±çš„æ§åˆ¶å™¨ã€‚  Kubernetesä¸­çš„ä¸»è¦æŠ½è±¡æ˜¯å¯¹è±¡å’Œæ§åˆ¶å™¨ã€‚ å¯¹è±¡æè¿°é›†ç¾¤çš„æœŸæœ›çŠ¶æ€ã€‚ ä¾‹å¦‚ï¼Œä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Pod</a>æè¿°äº†éœ€è¦å¯åŠ¨å“ªäº›å®¹å™¨ä»¥åŠå¯åŠ¨å‚æ•°ï¼Œè€Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ReplicaSet</a>å¯¹è±¡å‘Šè¯‰æ‚¨éœ€è¦å¯åŠ¨ç»™å®šPodçš„å¤šå°‘ä¸ªå‰¯æœ¬ã€‚ æ§åˆ¶å™¨åŸºäºå¯¹è±¡çš„æè¿°æ¥æ§åˆ¶ç¾¤é›†çš„çŠ¶æ€ï¼Œåœ¨ä¸Šè¿°æƒ…å†µä¸‹ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ReplicationController</a>å°†æ”¯æŒReplicaSetä¸­æŒ‡å®šçš„Podå‰¯æœ¬çš„æ•°é‡ã€‚ å€ŸåŠ©æ–°çš„æ§åˆ¶å™¨ï¼Œæ‚¨å¯ä»¥å®æ–½å…¶ä»–é€»è¾‘ï¼Œä¾‹å¦‚å‘é€äº‹ä»¶é€šçŸ¥ï¼Œä»æ•…éšœä¸­æ¢å¤æˆ–ç®¡ç†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¬ä¸‰æ–¹èµ„æº</a> ã€‚ </p><br><p>æ“ä½œå‘˜æ˜¯ä¸€ä¸ªkubernetesåº”ç”¨ç¨‹åºï¼Œå®ƒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªä¸ºç¬¬ä¸‰æ–¹èµ„æºæä¾›æœåŠ¡çš„æ§åˆ¶å™¨ã€‚ è¯¥æ¦‚å¿µ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç”±CoreOSå›¢é˜Ÿ</a>äº2016å¹´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å‘æ˜</a> ï¼Œæœ€è¿‘ï¼Œè¿è¥å•†çš„çŸ¥ååº¦è¿…é€Ÿå¢é•¿ã€‚ æ‚¨å¯ä»¥å°è¯•<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨kubedex</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åˆ—è¡¨</a> ï¼ˆæ­¤å¤„åˆ—å‡ºäº†100å¤šä¸ªå…¬å…±å¯ç”¨çš„è¿ç®—ç¬¦ï¼‰ä»¥åŠ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">OperatorHub</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸Š</a>çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åˆ—è¡¨ä¸­</a>æ‰¾åˆ°æ‰€éœ€çš„è¿ç®—<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç¬¦</a> ã€‚ æœ‰3ç§æµè¡Œçš„ç”¨äºæ“ä½œå‘˜å¼€å‘çš„å·¥å…·ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Kubebuilder</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Operator SDK</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Metacontroller</a> ã€‚ åœ¨Lamodaä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Operator SDKï¼Œå› æ­¤ç¨åå†è®¨è®ºã€‚ </p><br><h2 id="operator-sdk"> è¿è¥å•†SDK </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/f7e/56d/194/f7e56d1948a2f5291ef189e7a03df9be.png" alt="å›¾ç‰‡"></p><br><p>  Operator SDKæ˜¯Operator Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œè¯¥æ¡†æ¶åŒ…æ‹¬ä¸¤ä¸ªé‡è¦éƒ¨åˆ†ï¼šOperator Lifecycle Managerå’ŒOperator Meteringã€‚ </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Operator SDK</a>æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ§åˆ¶å™¨è¿è¡Œæ—¶</a>çš„åŒ…è£…ï¼Œè¿™æ˜¯ç”¨äºå¼€å‘æ§åˆ¶å™¨çš„æµè¡Œåº“ï¼ˆè€Œåè€…åˆæ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">client-go</a>çš„åŒ…è£…ï¼‰ï¼Œæ˜¯ç”¨äºç¼–å†™E2Eæµ‹è¯•çš„ä»£ç ç”Ÿæˆå™¨+æ¡†æ¶ã€‚ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿è¥å•†ç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨</a> -ç”¨äºç®¡ç†ç°æœ‰è¿è¥å•†çš„æ¡†æ¶ï¼› è§£å†³äº†æ“ä½œå‘˜è¿›å…¥åƒµå°¸æ¨¡å¼æˆ–æ¨å‡ºæ–°ç‰ˆæœ¬æ—¶çš„æƒ…å†µã€‚ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ“ä½œå‘˜è®¡é‡</a> -é¡¾åæ€ä¹‰ï¼Œå®ƒæ”¶é›†æœ‰å…³æ“ä½œå‘˜å·¥ä½œçš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥åŸºäºè¿™äº›æ•°æ®ç”ŸæˆæŠ¥å‘Šã€‚ </li></ul><br><h2 id="sozdanie-novogo-proekta"> åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›® </h2><br><p> ä¸€ä¸ªç¤ºä¾‹æ˜¯æ“ä½œå‘˜ï¼Œè¯¥æ“ä½œå‘˜ç›‘è§†èµ„æºåº“ä¸­å¸¦æœ‰configçš„æ–‡ä»¶ï¼Œå¹¶åœ¨æ›´æ–°åé‡æ–°å¯åŠ¨å…·æœ‰æ–°configçš„æœåŠ¡çš„éƒ¨ç½²ã€‚ å®Œæ•´çš„ç¤ºä¾‹ä»£ç å¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨æ­¤å¤„è·å¾—</a> ã€‚ </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4c0/e84/ebc/4c0e84ebcba8cad49b2bea8506f79d32.png" alt="å›¾ç‰‡"></p><br><p> ä½¿ç”¨æ–°çš„è¿ç®—ç¬¦åˆ›å»ºé¡¹ç›®ï¼š </p><br><pre><code class="plaintext hljs">operator-sdk new config-monitor</code> </pre> <br><p> ä»£ç ç”Ÿæˆå™¨å°†ä¸ºåœ¨åˆ†é…çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åç§°ç©ºé—´ä¸­</a>å·¥ä½œçš„æ“ä½œå‘˜åˆ›å»ºä»£ç ã€‚ æ­¤æ–¹æ³•ä¼˜äºæä¾›å¯¹æ•´ä¸ªç¾¤é›†çš„è®¿é—®æƒé™ï¼Œå› ä¸ºåœ¨å‘ç”Ÿé”™è¯¯çš„æƒ…å†µä¸‹ï¼Œé—®é¢˜å°†è¢«éš”ç¦»åœ¨åŒä¸€åç§°ç©ºé—´å†…ã€‚ å¯ä»¥é€šè¿‡<code>--cluster-scoped</code>æ·»åŠ <code>--cluster-scoped</code>ç”Ÿæˆ<code>cluster-wide</code>è¿ç®—ç¬¦ã€‚ ä»¥ä¸‹ç›®å½•å°†ä½äºåˆ›å»ºçš„é¡¹ç›®å†…ï¼š </p><br><ul><li>  cmd-åŒ…å«<code>main package</code> ï¼Œåœ¨è¯¥<code>main package</code>ä¸­åˆå§‹åŒ–å’Œå¯åŠ¨<code>Manager</code> ï¼› </li><li>  deploy-åŒ…å«æ“ä½œå‘˜ï¼ŒCRDçš„å£°æ˜ä»¥åŠè®¾ç½®RBACæ“ä½œå‘˜æ‰€éœ€çš„å¯¹è±¡ï¼› </li><li>  pkg-è¿™å°†æ˜¯æˆ‘ä»¬æ–°å¯¹è±¡å’Œæ§åˆ¶å™¨çš„ä¸»è¦ä»£ç ã€‚ </li></ul><br><p>  <a href=""><code>cmd/manager/main.go</code></a>åªæœ‰ä¸€ä¸ª<a href=""><code>cmd/manager/main.go</code></a>æ–‡ä»¶ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">ç¨‹å¼ç ç‰‡æ®µ</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">// Become the leader before proceeding err = leader.Become(ctx, "config-monitor-lock") if err != nil { log.Error(err, "") os.Exit(1) } // Create a new Cmd to provide shared dependencies and start components mgr, err := manager.New(cfg, manager.Options{ Namespace: namespace, MetricsBindAddress: fmt.Sprintf("%s:%d", metricsHost, metricsPort), }) ... // Setup Scheme for all resources if err := apis.AddToScheme(mgr.GetScheme()); err != nil { log.Error(err, "") os.Exit(1) } // Setup all Controllers if err := controller.AddToManager(mgr); err != nil { log.Error(err, "") os.Exit(1) } ... // Start the Cmd if err := mgr.Start(signals.SetupSignalHandler()); err != nil { log.Error(err, "Manager exited non-zero") os.Exit(1) }</code> </pre> </div></div><br><p> åœ¨ç¬¬ä¸€è¡Œä¸­ï¼š <code>err = leader.Become(ctx, "config-monitor-lock")</code> -é€‰æ‹©äº†ä¸€ä¸ªé¢†å¯¼è€…ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä»…éœ€è¦ä¸€ä¸ªå…³äºåç§°ç©ºé—´/é›†ç¾¤çš„æ´»åŠ¨å®ä¾‹ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒOperator SDKä½¿ç”¨<a href="">Leaderç”Ÿå‘½</a>ç­–ç•¥-è¿è¥å•†çš„ç¬¬ä¸€ä¸ªå¯åŠ¨å®ä¾‹å°†ä¸€ç›´ä¿æŒ<a href="">Leaderèº«ä»½</a> ï¼Œç›´åˆ°å°†å…¶ä»é›†ç¾¤ä¸­åˆ é™¤ä¸ºæ­¢ã€‚ </p><br><p> åœ¨æŒ‡å®šè¯¥æ“ä½œå‘˜å®ä¾‹ä¸ºé¢†å¯¼è€…ä¹‹åï¼Œå°†åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„<code>Manager</code> - <code>mgr, err := manager.New(...)</code> ã€‚ ä»–çš„èŒè´£åŒ…æ‹¬ï¼š </p><br><ul><li>  <code>err := apis.AddToScheme(mgr.GetScheme())</code> -æ–°èµ„æºæ–¹æ¡ˆçš„æ³¨å†Œï¼› </li><li>  <code>err := controller.AddToManager(mgr)</code> -æ§åˆ¶å™¨æ³¨å†Œï¼› </li><li>  <code>err := mgr.Start(signals.SetupSignalHandler())</code> -å¯åŠ¨å¹¶æ§åˆ¶æ§åˆ¶å™¨ã€‚ </li></ul><br><p> ç›®å‰ï¼Œæˆ‘ä»¬æ—¢æ²¡æœ‰æ–°èµ„æºï¼Œä¹Ÿæ²¡æœ‰æ³¨å†Œæ§åˆ¶è€…ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ·»åŠ æ–°èµ„æºï¼š </p><br><pre> <code class="plaintext hljs">operator-sdk add api --api-version=services.example.com/v1alpha1 --kind=MonitoredService</code> </pre> <br><p> æ­¤å‘½ä»¤ä¼šå°†<code>MonitoredService</code>èµ„æºæ¨¡å¼å®šä¹‰æ·»åŠ åˆ°<code>pkg/apis</code>ç›®å½•ä¸­ï¼Œå¹¶å°†yamlå’Œ<code>CRD</code>å®šä¹‰æ·»åŠ åˆ°<code>deploy/crds</code> ã€‚ åœ¨æ‰€æœ‰ç”Ÿæˆçš„æ–‡ä»¶ä¸­ï¼Œæ‚¨åº”è¯¥åªæ‰‹åŠ¨æ›´æ”¹Monitoredservice_types.goä¸­çš„æ¶æ„å®šä¹‰ã€‚  <code>MonitoredServiceSpec</code>ç±»å‹å®šä¹‰èµ„æºçš„æ‰€éœ€çŠ¶æ€ï¼šç”¨æˆ·åœ¨yamlä¸­ä½¿ç”¨èµ„æºå®šä¹‰æŒ‡å®šçš„å†…å®¹ã€‚ åœ¨æˆ‘ä»¬çš„æ“ä½œå‘˜çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œâ€œ <code>Size</code>å­—æ®µç¡®å®šæ‰€éœ€çš„å‰¯æœ¬æ•°ï¼Œâ€œ <code>ConfigRepo</code>æŒ‡ç¤ºå¯ä»¥ä»ä¸­æå–å½“å‰é…ç½®çš„ä½ç½®ã€‚  <code>MonitoredServiceStatus</code>ç¡®å®šè§‚å¯Ÿåˆ°çš„èµ„æºçŠ¶æ€ï¼Œä¾‹å¦‚ï¼Œå®ƒå­˜å‚¨å±äºè¯¥èµ„æºçš„Podçš„åç§°å’Œå½“å‰<code>spec</code> Podsã€‚ </p><br><p> ç¼–è¾‘æ–¹æ¡ˆåï¼Œéœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š </p><br><pre> <code class="plaintext hljs">operator-sdk generate k8s</code> </pre> <br><p> å®ƒå°†æ›´æ–°<code>deploy/crds</code>çš„<code>CRD</code>å®šä¹‰ã€‚ </p><br><p> ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºè¿ç®—ç¬¦çš„ä¸»è¦éƒ¨åˆ†ï¼Œå³æ§åˆ¶å™¨ï¼š </p><br><pre> <code class="plaintext hljs">operator-sdk add controller --api-version=services.example.com/v1alpha1 --kind=Monitor</code> </pre> <br><p>  <a href=""><code>monitor_controller.go</code></a>æ–‡ä»¶å°†å‡ºç°åœ¨<code>pkg/controller</code> <a href=""><code>monitor_controller.go</code></a> ï¼Œæˆ‘ä»¬åœ¨å…¶ä¸­æ·»åŠ äº†æ‰€éœ€çš„é€»è¾‘ã€‚ </p><br><h2 id="razrabotka-kontrollera"> æ§åˆ¶å™¨å¼€å‘ </h2><br><p> æ§åˆ¶å™¨æ˜¯æ“ä½œå‘˜çš„ä¸»è¦å·¥ä½œå•ä½ã€‚ åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ§åˆ¶å™¨ï¼š </p><br><ul><li> ç›‘è§†æ§åˆ¶å™¨ç›‘è§†æœåŠ¡é…ç½®æ›´æ”¹ï¼› </li><li> å‡çº§æ§åˆ¶å™¨æ›´æ–°æœåŠ¡å¹¶å°†å…¶ç»´æŒåœ¨æ‰€éœ€çŠ¶æ€ã€‚ </li></ul><br><p> æ§åˆ¶å™¨çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªæ§åˆ¶å¾ªç¯ï¼Œå®ƒç›‘è§†é˜Ÿåˆ—åŠå…¶è®¢é˜…çš„äº‹ä»¶å¹¶è¿›è¡Œå¤„ç†ï¼š </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/220/2e6/a09/2202e6a0931df3e5b87c4442dd839615.png" alt="å›¾ç‰‡"></p><br><p> ç®¡ç†å‘˜åœ¨<code>add</code>æ–¹æ³•ä¸­åˆ›å»ºå¹¶æ³¨å†Œäº†ä¸€ä¸ªæ–°æ§åˆ¶å™¨ï¼š </p><br><pre> <code class="plaintext hljs">c, err := controller.New("monitor-controller", mgr, controller.Options{Reconciler: r})</code> </pre> <br><p> ä½¿ç”¨<code>Watch</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å°†å…¶è®¢é˜…ä¸åˆ›å»ºæ–°èµ„æºæˆ–ç°æœ‰<code>MonitoredService</code>èµ„æºçš„<code>Spec</code>æ›´æ–°æœ‰å…³çš„äº‹ä»¶ï¼š </p><br><pre> <code class="plaintext hljs">err = c.Watch(&amp;source.Kind{Type: &amp;servicesv1alpha1.MonitoredService{}}, &amp;handler.EnqueueRequestForObject{}, common.CreateOrUpdateSpecPredicate)</code> </pre> <br><p> å¯ä»¥ä½¿ç”¨<code>src</code>å’Œ<code>predicates</code>å‚æ•°é…ç½®äº‹ä»¶çš„ç±»å‹ã€‚  <code>src</code>æ¥å—<code>Source</code>ç±»å‹çš„å¯¹è±¡ã€‚ </p><br><ul><li>  <code>apiserver</code> <code>Informer</code> -å®šæœŸè½®è¯¢<code>apiserver</code>ä»¥æŸ¥æ‰¾ä¸è¿‡æ»¤å™¨åŒ¹é…çš„äº‹ä»¶ï¼Œå¦‚æœå­˜åœ¨æ­¤ç±»äº‹ä»¶ï¼Œåˆ™å°†å…¶æ”¾å…¥æ§åˆ¶å™¨çš„é˜Ÿåˆ—ä¸­ã€‚ åœ¨<code>controller-runtime</code>è¿™æ˜¯æ¥è‡ª<code>client-go</code>çš„<code>SharedIndexInformer</code>çš„åŒ…è£…ã€‚ </li><li>  <code>Kind</code>è¿˜æ˜¯<code>SharedIndexInformer</code>çš„åŒ…è£…å™¨ï¼Œä½†æ˜¯ä¸<code>Informer</code>ä¸åŒï¼Œå®ƒæ˜¯æ ¹æ®ä¼ é€’çš„å‚æ•°ï¼ˆå—ç›‘è§†èµ„æºçš„æ–¹æ¡ˆï¼‰ç‹¬ç«‹åˆ›å»ºä¸€ä¸ªå‘Šå¯†å®ä¾‹ã€‚ </li><li>  <code>chan event.GenericEvent</code>æ¥å—<code>chan event.GenericEvent</code>ä½œä¸ºå‚æ•°ï¼Œé€šè¿‡å®ƒä¼ é€’çš„äº‹ä»¶æ”¾ç½®åœ¨æ§åˆ¶å™¨çš„é˜Ÿåˆ—ä¸­ã€‚ </li></ul><br><p>  <code>redicates</code>æœŸæœ›æ»¡è¶³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>Predicate</code></a>æ¥å£çš„å¯¹è±¡ã€‚ å®é™…ä¸Šï¼Œè¿™æ˜¯äº‹ä»¶çš„é™„åŠ è¿‡æ»¤å™¨ï¼Œä¾‹å¦‚ï¼Œåœ¨è¿‡æ»¤<code>UpdateEvent</code>æ‚¨å¯ä»¥ç¡®åˆ‡åœ°çœ‹åˆ°å¯¹èµ„æº<code>spec</code>è¿›è¡Œäº†å“ªäº›æ›´æ”¹ã€‚ </p><br><p> å½“äº‹ä»¶åˆ°è¾¾æ—¶ï¼Œ <code>EventHandler</code>æ¥å—å®ƒ<code>EventHandler</code>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°-å®ƒä»¥<code>Reconciler</code>æœŸæœ›çš„è¯·æ±‚æ ¼å¼åŒ…è£…äº‹ä»¶ï¼š </p><br><ul><li>  <code>EnqueueRequestForObject</code>ä½¿ç”¨å¯¼è‡´äº‹ä»¶çš„å¯¹è±¡çš„åç§°å’Œåç§°ç©ºé—´åˆ›å»ºè¯·æ±‚ï¼› </li><li>  <code>EnqueueRequestForOwner</code>ä½¿ç”¨å¯¹è±¡çš„çˆ¶å¯¹è±¡çš„æ•°æ®åˆ›å»ºè¯·æ±‚ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœå·²åˆ é™¤èµ„æºæ§åˆ¶çš„<code>Pod</code> ï¼Œå¹¶ä¸”æ‚¨éœ€è¦å¼€å§‹å¯¹å…¶è¿›è¡Œæ›¿æ¢ï¼Œåˆ™è¿™æ˜¯å¿…éœ€çš„ã€‚ </li><li>  <code>EnqueueRequestsFromMapFunc</code>å°†æ¥æ”¶äº‹ä»¶ï¼ˆåŒ…è£…åœ¨<code>MapObject</code> ï¼‰å¹¶è¿”å›è¯·æ±‚åˆ—è¡¨çš„<code>map</code>å‡½æ•°ä½œä¸ºå‚æ•°ã€‚  <a href="">ä¸€ä¸ªéœ€è¦æ­¤å¤„ç†ç¨‹åºçš„ç¤ºä¾‹</a> -æœ‰ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œæ‚¨éœ€è¦ä¸ºæ¯ä¸ªæ»´ç­”è®¡æ—¶å™¨æ‹¨å‡ºæ‰€æœ‰å¯ç”¨æœåŠ¡çš„æ–°é…ç½®ã€‚ </li></ul><br><p> è¯·æ±‚è¢«æ”¾ç½®åœ¨æ§åˆ¶å™¨é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¸”å…¶ä¸­ä¸€ä¸ªå·¥ä½œå™¨ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæ§åˆ¶å™¨æœ‰ä¸€ä¸ªï¼‰å°†äº‹ä»¶ä»é˜Ÿåˆ—ä¸­æ‹‰å‡ºå¹¶å°†å…¶ä¼ é€’ç»™<code>Reconciler</code> ã€‚ </p><br><p>  <strong>åè°ƒå™¨</strong>ä»…å®ç°ä¸€ç§æ–¹æ³•- <code>Reconcile</code> ï¼Œå…¶ä¸­åŒ…å«äº‹ä»¶å¤„ç†çš„åŸºæœ¬é€»è¾‘ï¼š </p><br><div class="spoiler">  <b class="spoiler_title">å’Œè§£æ–¹æ³•</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">func (r *ReconcileMonitor) Reconcile(request reconcile.Request) (reconcile.Result, error) { reqLogger := log.WithValues("Request.Namespace", request.Namespace, "Request.Name", request.Name) reqLogger.Info("Checking updates in repo for MonitoredService") // fetch the Monitor instance instance := &amp;servicesv1alpha1.MonitoredService{} err := r.client.Get(context.Background(), request.NamespacedName, instance) if err != nil { if errors.IsNotFound(err) { // Request object not found, could have been deleted after reconcile request. // Owned objects are automatically garbage collected. For additional cleanup logic use finalizers. // Return and don't requeue return reconcile.Result{}, nil } // Error reading the object - requeue the request. return reconcile.Result{}, err } // check if service's config was updated // if it was, send event to upgrade controller if podSpec, ok := r.isServiceConfigUpdated(instance); ok { // Update instance Spec instance.Status.PodSpec = *podSpec instance.Status.ConfigChanged = true err = r.client.Status().Update(context.Background(), instance) if err != nil { reqLogger.Error(err, "Failed to update service status", "Service.Namespace", instance.Namespace, "Service.Name", instance.Name) return reconcile.Result{}, err } r.eventsChan &lt;- event.GenericEvent{Meta: &amp;servicesv1alpha1.MonitoredService{}, Object: instance} } return reconcile.Result{}, nil }</code> </pre> </div></div><br><p> è¯¥æ–¹æ³•æ¥å—å¸¦æœ‰<code>NamespacedName</code>å­—æ®µçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>Request</code></a>å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡è¯¥å¯¹è±¡ä»ç¼“å­˜ä¸­æ‹‰å–èµ„æºï¼š <code>r.client.Get(context.TODO(), request.NamespacedName, instance)</code> ã€‚ åœ¨è¯¥ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨èµ„æº<code>spec</code> <code>ConfigRepo</code>å­—æ®µå¼•ç”¨çš„æœåŠ¡é…ç½®å¯¹æ–‡ä»¶è¿›è¡Œè¯·æ±‚ã€‚ å¦‚æœé…ç½®å·²æ›´æ–°ï¼Œåˆ™ä¼š<code>GenericEvent</code>ç±»å‹çš„æ–°äº‹ä»¶å¹¶å°†å…¶å‘é€åˆ°<code>Upgrade</code>æ§åˆ¶å™¨ä¾¦å¬çš„é€šé“ã€‚ </p><br><p> å¤„ç†è¯·æ±‚åï¼Œ <code>Reconcile</code>è¿”å›<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>Result</code></a>å’Œ<code>error</code>ç±»å‹çš„å¯¹è±¡ã€‚ å¦‚æœ<code>Result</code>å­—æ®µä¸º<code>Requeue: true</code>æˆ–<code>error != nil</code> ï¼Œåˆ™æ§åˆ¶å™¨å°†ä½¿ç”¨<code>queue.AddRateLimited</code>æ–¹æ³•å°†è¯·æ±‚è¿”å›åˆ°é˜Ÿåˆ—ã€‚ è¯¥è¯·æ±‚å°†å»¶è¿Ÿè¿”å›åˆ°é˜Ÿåˆ—ï¼Œè¯¥å»¶è¿Ÿç”±<code>RateLimiter</code>ç¡®å®šã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>ItemExponentialFailureRateLimiter</code></a> ï¼Œå®ƒéšç€è¯·æ±‚â€œè¿”å›â€æ¬¡æ•°çš„å¢åŠ è€ŒæŒ‡æ•°å¢åŠ å»¶è¿Ÿæ—¶é—´ã€‚ å¦‚æœæœªè®¾ç½®<code>Requeue</code>å­—æ®µï¼Œå¹¶ä¸”åœ¨å¤„ç†è¯·æ±‚æœŸé—´æœªå‘ç”Ÿé”™è¯¯ï¼Œåˆ™æ§åˆ¶å™¨å°†è°ƒç”¨<code>Queue.Forget</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†ä»<code>RateLimiter</code>ç¼“å­˜ä¸­åˆ é™¤è¯·æ±‚ï¼ˆä»è€Œé‡ç½®è¿”å›æ•°ï¼‰ã€‚ åœ¨è¯·æ±‚å¤„ç†ç»“æŸæ—¶ï¼Œæ§åˆ¶å™¨ä½¿ç”¨<code>Queue.Done</code>æ–¹æ³•å°†å…¶ä»é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚ </p><br><h2 id="zapusk-operatora"> è¿è¥å•†å¯åŠ¨ </h2><br><p> ä¸Šé¢æè¿°äº†æ“ä½œå‘˜çš„ç»„ä»¶ï¼Œä»ç„¶å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•å¯åŠ¨å®ƒã€‚ é¦–å…ˆï¼Œæ‚¨éœ€è¦ç¡®ä¿å®‰è£…äº†æ‰€æœ‰å¿…éœ€çš„èµ„æºï¼ˆå¯¹äºæœ¬åœ°æµ‹è¯•ï¼Œæˆ‘å»ºè®®<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è®¾ç½®minikube</a> ï¼‰ï¼š </p><br><pre> <code class="plaintext hljs"># Setup Service Account kubectl create -f deploy/service_account.yaml # Setup RBAC kubectl create -f deploy/role.yaml kubectl create -f deploy/role_binding.yaml # Setup the CRD kubectl create -f deploy/crds/services_v1alpha1_monitoredservice_crd.yaml # Setup custom resource kubectl create -f deploy/crds/services_v1alpha1_monitoredservice_cr.yaml</code> </pre> <br><p> æ»¡è¶³å…ˆå†³æ¡ä»¶åï¼Œæœ‰ä¸¤ç§ç®€å•çš„æ–¹æ³•å¯ä»¥è¿è¡Œè¯­å¥è¿›è¡Œæµ‹è¯•ã€‚ æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨é›†ç¾¤å¤–éƒ¨å¯åŠ¨å®ƒï¼š </p><br><pre> <code class="plaintext hljs">operator-sdk up local --namespace=default</code> </pre> <br><p> ç¬¬äºŒç§æ–¹æ³•æ˜¯åœ¨é›†ç¾¤ä¸­éƒ¨ç½²æ“ä½œå‘˜ã€‚ é¦–å…ˆï¼Œæ‚¨éœ€è¦ä½¿ç”¨è¿ç®—ç¬¦æ„å»ºDockeræ˜ åƒï¼š </p><br><pre> <code class="plaintext hljs">operator-sdk build config-monitor-operator:latest</code> </pre> <br><p> åœ¨<code>deploy/operator.yaml</code>æ–‡ä»¶ä¸­ï¼Œå°†<code>REPLACE_IMAGE</code>æ›¿æ¢ä¸º<code>config-monitor-operator:latest</code> ï¼š </p><br><pre> <code class="plaintext hljs">sed -i "" 's|REPLACE_IMAGE|config-monitor-operator:latest|g' deploy/operator.yaml</code> </pre> <br><p> ä½¿ç”¨ä»¥ä¸‹è¯­å¥åˆ›å»ºéƒ¨ç½²ï¼š </p><br><pre> <code class="plaintext hljs">kubectl create -f deploy/operator.yaml</code> </pre> <br><p> ç°åœ¨ï¼Œåœ¨ç¾¤é›†ä¸Šçš„<code>Pod</code>åˆ—è¡¨ä¸­ï¼Œåº”è¯¥æ˜¾ç¤ºå¸¦æœ‰æµ‹è¯•æœåŠ¡çš„<code>Pod</code> ï¼Œåœ¨ç¬¬äºŒç§æƒ…å†µä¸‹-å¦ä¸€ä¸ªå¸¦æœ‰æ“ä½œå‘˜çš„<code>Pod</code> ã€‚ </p><br><h2 id="vmesto-zaklyucheniya-ili-best-practices"> è€Œä¸æ˜¯ç»“è®ºæˆ–æœ€ä½³åšæ³• </h2><br><p> å½“å‰ï¼Œæ“ä½œå‘˜å¼€å‘çš„å…³é”®é—®é¢˜æ˜¯å·¥å…·çš„æ–‡æ¡£è–„å¼±ä»¥åŠç¼ºä¹æ—¢å®šçš„æœ€ä½³å®è·µã€‚ å½“æ–°å¼€å‘äººå‘˜å¼€å§‹å¼€å‘æ“ä½œå‘˜æ—¶ï¼Œä»–æ— å¤„å¯å»å®é™…åœ°ç ”ç©¶å®ç°ç‰¹å®šéœ€æ±‚çš„ç¤ºä¾‹ï¼Œå› æ­¤é”™è¯¯æ˜¯ä¸å¯é¿å…çš„ã€‚ ä»¥ä¸‹æ˜¯æˆ‘ä»¬ä»é”™è¯¯ä¸­å­¦åˆ°çš„ä¸€äº›æ•™è®­ï¼š </p><br><ul><li> å¦‚æœæœ‰ä¸¤ä¸ªç›¸å…³çš„åº”ç”¨ç¨‹åºï¼Œåˆ™åº”é¿å…å°†å®ƒä»¬ä¸å•ä¸ªè¿ç®—ç¬¦ç»„åˆçš„æ„¿æœ›ã€‚ å¦åˆ™ï¼Œå°†è¿åæ¾æ•£è€¦åˆæœåŠ¡çš„åŸåˆ™ã€‚ </li><li> æ‚¨éœ€è¦è®°ä½æœ‰å…³å…³æ³¨ç‚¹åˆ†ç¦»çš„é—®é¢˜ï¼šæ‚¨ä¸åº”å°è¯•åœ¨ä¸€ä¸ªæ§åˆ¶å™¨ä¸­å®ç°æ‰€æœ‰é€»è¾‘ã€‚ ä¾‹å¦‚ï¼Œå€¼å¾—æ•£å¸ƒç›‘è§†é…ç½®å’Œåˆ›å»º/æ›´æ–°èµ„æºçš„åŠŸèƒ½ã€‚ </li><li> åœ¨<code>Reconcile</code>æ–¹æ³•ä¸­åº”é¿å…é˜»å¡è°ƒç”¨ã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä»å¤–éƒ¨æ¥æºæå–é…ç½®ï¼Œä½†æ˜¯å¦‚æœæ“ä½œè¾ƒé•¿ï¼Œè¯·ä¸ºæ­¤åˆ›å»ºä¸€ä¸ªgoroutineï¼Œç„¶åå°†è¯·æ±‚å‘é€å›é˜Ÿåˆ—ï¼Œå¹¶åœ¨å“åº”ä¸­<code>Requeue: true</code> ã€‚ </li></ul><br><p> åœ¨è¯„è®ºä¸­ï¼Œå¾ˆé«˜å…´å¬åˆ°æ‚¨åœ¨å¼€å‘æ“ä½œå‘˜æ–¹é¢çš„ç»éªŒã€‚ åœ¨ä¸‹ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºæ“ä½œå‘˜æµ‹è¯•ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN446648/">https://habr.com/ru/post/zh-CN446648/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN446638/index.html">æ€ç§‘HyperFlexä¸ ç«äº‰å¯¹æ‰‹ï¼šæµ‹è¯•æ€§èƒ½</a></li>
<li><a href="../zh-CN446640/index.html">20ä¸ªé¡¹ç›®ï¼Œ20ç§è¯­è¨€ï¼Œæˆªæ­¢æ—¥æœŸä¸ºæ˜¨å¤©ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN446642/index.html">ç”¨äºåˆ›å»ºå’Œå‘å¸ƒWebåº”ç”¨ç¨‹åºçš„æ¸…å•</a></li>
<li><a href="../zh-CN446644/index.html">å¦‚ä½•åœ¨2019å¹´è¿è¡ŒSMMï¼šNeil Patelçš„17ä¸ªå›¾è¡¨</a></li>
<li><a href="../zh-CN446646/index.html">InterSystems IRIS 2019.1å‘è¡Œç‰ˆ</a></li>
<li><a href="../zh-CN446650/index.html">æµ‹è¯•äººå‘˜è¦èŠ±å¤šå°‘é’±ï¼Œå·¥èµ„å–å†³äºä»€ä¹ˆï¼Ÿ å»ºç«‹æˆåŠŸçš„è´¨é‡æ£€æŸ¥ä¸“å®¶çš„ç”»åƒ</a></li>
<li><a href="../zh-CN446654/index.html">æˆ‘ä»¬å¦‚ä½•ä¿å­˜ä»£ç å®¡æŸ¥</a></li>
<li><a href="../zh-CN446656/index.html">ç”¨ç¥ç»å£°ç å™¨LPCNetè¿›è¡Œ1600bit / sè¯­éŸ³ç¼–ç </a></li>
<li><a href="../zh-CN446664/index.html">è·SAPè®ºå›2019åªæœ‰2å‘¨çš„è·¯ç¨‹ï¼ é‚£é‡Œä¼šæœ‰ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="../zh-CN446666/index.html">å……åˆ†åˆ©ç”¨å›¾å½¢è®¡ç®—å™¨ï¼šTI-83ä¸Šçš„æ¸¸æˆ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>