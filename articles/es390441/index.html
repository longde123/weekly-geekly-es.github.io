<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï§ üÖ∞Ô∏è üëñ Eclipse #include <Arduino.h> ‚úçüèº üçµ üìª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! 
 Recientemente, se publicaron un par de art√≠culos sobre el GT contra y por usar el Arduino para algo m√°s rentable que las luces intermi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eclipse #include <Arduino.h></h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/390441/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hola a todos! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recientemente, se publicaron un par de art√≠culos sobre el GT </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contra</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usar el Arduino para algo m√°s rentable que las luces intermitentes y la creaci√≥n de estaciones meteorol√≥gicas dom√©sticas. El discurso habitual del mundo de la tecnolog√≠a, cuando la tecnolog√≠a se vuelve cada vez m√°s accesible para el p√∫blico en general, nadamos, lo sabemos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con una educaci√≥n t√©cnica y una especialidad universitaria directamente relacionadas con la programaci√≥n de microcontroladores, entiendo a quienes est√°n en contra. Y teniendo muchos a√±os de experiencia en la comercializaci√≥n no solo de la m√≠a, sino tambi√©n en mayor medida de conocimientos y habilidades extranjeras, entiendo perfectamente a quienes est√°n a su favor. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tienes raz√≥n, y tambi√©n tienes raz√≥n, y la verdad, como siempre, est√° en alg√∫n lugar </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cercano</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el medio.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En primer lugar, debe comprender de qu√© se trata el argumento. Arduino no solo est√° bellamente empaquetado por los italianos en placas de circuito impreso y cajas de microcontroladores, y no solo en el entorno de desarrollo Arduino IDE. En primer lugar, se trata de bibliotecas para un desarrollo r√°pido y, en mi opini√≥n, son de gran valor. Si observa los diagramas de circuitos de las placas Arduino, no veremos nada particularmente impresionante. Entorno de desarrollo ... Digamos que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no alcanza el modelo Borland C ++ de 1994</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como sabemos, estas bibliotecas se distribuyen bajo la licencia GNU, se pueden tomar y usar sin pagar regal√≠as a sus creadores. </font><font style="vertical-align: inherit;">Tal modelo de negocio requiere ganar dinero en algo que no sea regal√≠as. </font><font style="vertical-align: inherit;">Entonces ganan ganando produciendo y vendiendo en un hermoso paquete por 20 d√≥lares lo que un ingeniero electr√≥nico comprar√° por 20 centavos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y lo importante aqu√≠ no es que sean una burgues√≠a tan codiciosa, robando a los trabajadores y reprensibles de toda la humanidad progresista, sino por qu√© pueden hacer esto. </font><font style="vertical-align: inherit;">Porque:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estaban en el momento correcto en el lugar correcto y vieron las primeras oportunidades que otros no vieron;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pusieron a disposici√≥n del consumidor lo que antes estaba disponible para un c√≠rculo estrecho de individuos limitados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo estaba muy bien embalado y presentado al consumidor en una forma lista para usar.</font></font></li>
</ul><br>
<br>
  ,              .     Arduino      ‚Äî  .<br>
 ‚Äî      .   ,        <b></b>               .<br>
<br>
,    ,    - -,           86%     .       :<br>
<ol>
<li>  ?</li>
<li>  ?</li>
</ol><br>
(        ¬´¬ª)<br>
<table>
<tbody><tr>
<td>  </td>
<td> </td>
</tr>
<tr>
<td>    ,   ,                              .</td>
<td>    ,    ,    .      M    X  Y    Z .</td>
</tr>
</tbody></table><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con base en la experiencia comercial, me atrevo a decir que el cliente elegir√° el camino del </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fumador del</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> arduino. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√°s informaci√≥n sobre c√≥mo usar Arduino para sus propios fines ego√≠stas, con </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blackjack y</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> desarrollo grupal, control de versiones, documentaci√≥n del proyecto y otros cisnes de peluche del mundo del desarrollo comercial. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De hecho, todo es muy simple. Para esto, aparte de los desarrolladores, necesitamos un entorno de desarrollo y un soporte en el que puedan desarrollarse. C ++, se encuentra en √Åfrica C ++, AVR y en Arduino sigue siendo AVR. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como entorno, considere Eclipse. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqu√≠ hay un muy buen art√≠culo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre c√≥mo configurar Eclipse primero para trabajar con AVR Toolchain, y luego conectar las bibliotecas Arduino y parpadear el LED en Uno.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y aqu√≠ est√° a√∫n mejor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pero en ingl√©s. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los complementar√© con algunos rastrillos que he pisado, tal vez esto le ahorrar√° a alguien un par de horas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo lo siguiente se describe para Linux y Leonardo. </font><font style="vertical-align: inherit;">Para Windows, primero debe instalar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MinGW / msys</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para compilar todas las fuentes incluidas en el n√∫cleo Arduino, debe establecer las constantes del preprocesador correctamente. </font><font style="vertical-align: inherit;">Si observa el c√≥digo fuente de las bibliotecas, puede ver muchas estructuras de compilaci√≥n condicional #ifdef #else #endif. </font><font style="vertical-align: inherit;">En un art√≠culo de referencia, el autor lo calific√≥ todo tomando un archivo .a listo y compilado por el IDE de Arduino. </font><font style="vertical-align: inherit;">Pero no todas las bibliotecas caen en el n√∫cleo, por ejemplo, SPI y Ethernet no caen en ellas, y las mismas bromas con compilaci√≥n condicional nos esperan en ellas.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Averiguar qu√© constantes y c√≥mo establecer puede ser muy simple.</font></font><br>
<ol>
<li> Arduino IDE</li>
<li> ,     </li>
<li> ‚Äî  ‚Äî    ‚Äî </li>
<li>     ,   <br>
<pre><code class="bash hljs">*** avr-g++ -c -g -Os -w -std=gnu++11 -fno-exceptions -ffunction-sections -fdata-sections -fno-threadsafe-statics  -w -x c++ -E -CC -mmcu=atmega32u4 -DF_CPU=16000000L -DARDUINO=10607 -DARDUINO_AVR_LEONARDO -DARDUINO_ARCH_AVR  -DUSB_VID=0x2341 -DUSB_PID=0x8036 <span class="hljs-string"><span class="hljs-string">'-DUSB_MANUFACTURER="Unknown"'</span></span> <span class="hljs-string"><span class="hljs-string">'-DUSB_PRODUCT="Arduino Leonardo"'</span></span> ***
</code></pre><br>
,     -D ( F_CPU,  Eclipse  )       Eclipse.<br>
</li>
</ol><br>
<img src="https://habrastorage.org/files/b65/27d/dc8/b6527ddc8f374bd193b728fb70856b5b.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que el compilador encuentre todos los archivos .h que queremos usar en el proyecto, necesitamos especificar la ruta a ellos en la configuraci√≥n. Hay dos formas Puede especificar rutas absolutas a las carpetas IDE de Arduino o vincular la biblioteca al proyecto y especificar la ruta relativa desde {workspase} / {ProjName}. El segundo m√©todo le permitir√° compilar el n√∫cleo en Eclipse, aunque no hay una diferencia fundamental, y en Arduino IDE y Eclipse, avr-g ++ es responsable de la compilaci√≥n. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, especifique la ruta a pins_arduino.h para el tablero que usamos en el proyecto.</font></font><br>
<img src="https://habrastorage.org/files/23d/006/16a/23d00616a5b04c96b3d33ade8789b44f.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para no violar la estructura armoniosa de los archivos de la biblioteca main.cpp, no lo editaremos. Simplemente incl√∫yalo tal como es desde el n√∫cleo en el proyecto, y llamaremos a nuestro archivo con otro nombre. No es necesario declarar la funci√≥n main () en ella, ya est√° en main.cpp, inicializa todo lo que se necesita y llama a la funci√≥n loop () en un bucle infinito, el enlazador recopilar√° todo como deber√≠a. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El ambiente est√° listo para funcionar. Escribimos de la misma manera que en el IDE de Arduino, pero aqu√≠ supervisan el cumplimiento de los c√°nones de C ++ un poco m√°s estrictamente. Y en cualquier momento podemos bajar de la programaci√≥n de alto nivel al piso de abajo. Si la velocidad de trabajar con puertos a trav√©s de digitalWrite no es suficiente, escribimos directamente en los puertos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por desgracia, la costumbre de colgar el procesador con una llamada</font></font><pre><code class="cpp hljs">delay(<span class="hljs-number"><span class="hljs-number">5000</span></span>);</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eclipse no cura. Esto se ense√±a en alg√∫n lugar, ya sea en la escuela secundaria o en la escuela secundaria, penetra tan profundamente en la personalidad que ninguna moralizaci√≥n puede llevar a una persona por el camino correcto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para llenar tanto Arduino IDE como Eclipse, use la utilidad de programaci√≥n AVRDude. Ella realmente conoce tableros como Uno bajo el nombre de "arduino", pero se niega categ√≥ricamente a reconocer los m√°s baratos como Leonardo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos a boards.txt y descubrimos que para el programador, el </font><font style="vertical-align: inherit;">
Programador en la configuraci√≥n de AVRDude se llama "Atmel AppNote AVR109 Boot Loader", aqu√≠ est√°: </font><font style="vertical-align: inherit;">
Un peque√±o inconveniente es que Eclipse no har√° esto. Deber√° </font><font style="vertical-align: inherit;">
presionar reset con los l√°pices antes de cargar. </font><font style="vertical-align: inherit;">
Bueno, en conclusi√≥n, el mismo proyecto, ensamblado en el IDE Arduino</font></font><br>
<code>leonardo.upload.protocol=avr109<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<img src="https://habrastorage.org/files/a47/e6b/bd4/a47e6bbd4afe47da8374653d5c7792ed.png"><br><font style="vertical-align: inherit;"></font><br>
<code>leonardo.upload.use_1200bps_touch=true<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<code>  28&nbsp;432  (99%)  .   28&nbsp;672 .<br>
   1&nbsp;254  (48%)  ,  1&nbsp;306    . : 2&nbsp;560 .<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
y en Eclipse A </font><font style="vertical-align: inherit;">
, pero para terminar son solo medio kilo y no lo suficiente.</font></font><br>
<code>Invoking: Print Size<br>
avr-size --format=avr --mcu=atmega32u4 EthernetController.elf<br>
AVR Memory Usage<br>
----------------<br>
Device: atmega32u4<br>
<br>
Program: 27834 bytes (84.9% Full)<br>
(.text + .data + .bootloader)<br>
<br>
Data: 1257 bytes (49.1% Full)<br>
(.data + .bss + .noinit)<br>
<br>
Finished building: sizedummy<br>
</code><br><font style="vertical-align: inherit;"></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es390441/">https://habr.com/ru/post/es390441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es390429/index.html">Hacer un simple aerobote RC</a></li>
<li><a href="../es390431/index.html">Epson EH-TW5210, EH-TW5300 y EH-TW5350 proyectores dom√©sticos: mejor, m√°s r√°pido, m√°s brillante</a></li>
<li><a href="../es390435/index.html">Los matem√°ticos han construido un mapa de conexiones en el universo de "Star Wars"</a></li>
<li><a href="../es390437/index.html">Alt√≠metro-vari√≥metro electr√≥nico hecho en casa con las se√±ales de advertencia de sonido y luz.</a></li>
<li><a href="../es390439/index.html">Reflejos entre bandas de Andreev sobre los contactos de van der Waals entre el grafeno y el seleniuro de niobio</a></li>
<li><a href="../es390447/index.html">Tendencias tecnol√≥gicas para las que todas las aerol√≠neas y aeropuertos deben estar preparados</a></li>
<li><a href="../es390451/index.html">Concurso de rob√≥tica de la escuela de Illinois</a></li>
<li><a href="../es390453/index.html">Actualizaci√≥n del mouse: agregar la inclinaci√≥n de las ruedas, reemplazar la electr√≥nica</a></li>
<li><a href="../es390455/index.html">Como hervidor de agua, el control remoto le√≠a</a></li>
<li><a href="../es390457/index.html">Ondas gravitacionales registradas por primera vez: ahora oficialmente</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>