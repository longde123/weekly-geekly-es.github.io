<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🤝‍👨🏼 🏰 📦 Penerbangan tempur di Meteor-e 👨‍👨‍👧 👎🏽 👩🏽‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Diskusi topik tentang Meteor jarang terlihat di antara penutur Rusia (dinilai oleh saluran di kereta dan VK publik, Habr). Pertukaran pengalaman mungk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Penerbangan tempur di Meteor-e</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437166/">  Diskusi topik tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Meteor</a> jarang terlihat di antara penutur Rusia (dinilai oleh saluran di kereta dan VK publik, Habr).  Pertukaran pengalaman mungkin dilakukan, tetapi sebagian besar di forum meteor resmi. <br><br>  Untuk waktu yang lama tidak ada artikel tentang Habré di Meteor, oleh karena itu saya ingin berbagi cerita kami. <br><br><img src="https://habrastorage.org/webt/yb/eg/iz/ybegizyju6wrvw5gliiixdzxyoa.png"><br><br>  Saya akan memberi tahu Anda tentang proyek kami, bagaimana kami datang ke Meteor dan bagaimana kami terbang di atasnya.  Saya akan mencoba untuk tidak masuk ke detail atau hal-hal yang sangat spesifik - saya akan meninggalkan mereka untuk diskusi, atau artikel terpisah. <br><a name="habracut"></a><br><h3>  Tentang proyek </h3><br>  Kami memiliki sekolah pemrograman online untuk anak-anak.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">PolinaV telah</a> menulis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> tentang cara kami melakukan ini secara online.  Pada awal 2018, kami mulai aktif mengembangkan sistem kami - Gena. <br><br>  Kami membutuhkan gen karena beberapa alasan: <br><br><ul><li>  sejumlah besar alat yang berbeda - unggul, layanan untuk mempertahankan jadwal, formulir, dll.; </li><li>  bekerja dengan alat secara terpisah tidak nyaman. </li></ul><br>  Untuk versi pertama, kami menyoroti fungsi utama: <br><br><ul><li>  manajemen jadwal; </li><li>  manajemen siswa / pelatih; </li><li>  manajemen tugas internal. </li></ul><br>  Kami menghitung jumlah pengguna, serta jumlah data yang akan dihasilkan.  Informasi ini dan rencana pengembangan yang kasar telah membantu kami meletakkan arsitektur Gen di masa depan. <br><br><h3>  Gene dan Meteor </h3><br>  Saya mencoba Meteor pada tahun 2016 ketika saya perlu membuat beberapa prototipe sederhana.  Pada saat itu, saya memiliki keterampilan C # (tetapi bukan ASP), PHP, dan sedikit JS. <br><br>  Saya ingin memiliki satu bahasa untuk bagian depan dan belakang, agar tidak menyulitkan proyek dan tidak menduplikasi logika (mungkin saya berbohong sedikit tentang prototipe sederhana :)).  Oleh karena itu, saya memutuskan untuk memilih hanya JS, dan NodeJS dan MongoDB untuk itu. <br><br>  Bagi saya, dan juga pahlawan dari artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ini</a> , pengembangan web adalah sekelompok nama yang tidak dikenal.  Dan karena sudah ada pengalaman pengembangan, saya mengerti bahwa ada solusi siap pakai yang memungkinkan Anda untuk "hanya melakukan pekerjaan" tanpa mengkhawatirkan sisanya. <br><br>  Saya tidak ingat bagaimana Meteor ditemukan, tetapi menyuap saya dengan beberapa hal: <br><br><ul><li>  Mudah dipasang / dikonfigurasi.  Satu perintah di konsol - dan itu milik Anda; </li><li>  saluran transfer data siap pakai (WebSocket + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DDP</a> ); </li><li>  built-in database - MongoDB (+ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">minimongo</a> ); </li><li>  alat sederhana untuk menulis UI - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Blaze</a> ; </li><li>  dokumentasi yang baik dan artikel / video terkait. </li></ul><br>  Setelah menerapkan beberapa prototipe, saya mulai mengikuti pengembangan Meteor, mempelajari bagian dalam dan melihat proyek-proyek kecil untuk saya sendiri. <br><br>  Dan sekarang tiba saatnya untuk memilih alat untuk implementasi Gen.  Saya akan menghilangkan rincian pencarian instrumen lain, saya akan meninggalkan argumen yang mendukung meteor: <br><br><ul><li>  seperti yang saya tulis di atas - semua dalam satu kotak; </li><li>  Kami dapat mengorbankan kinerja dan konsumsi sumber daya dengan imbalan kemudahan pengembangan; </li><li>  kami ingin cepat mendapatkan fitur baru, sehingga nantinya dapat ditingkatkan atau dibuang; </li><li>  dimungkinkan untuk periode waktu yang singkat (2-3 hari) untuk menghubungkan JS pengembang ke proyek; </li><li>  Ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">database</a> paket yang sudah jadi. </li></ul><br>  Saya akan secara terpisah mengatakan tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Blaze</a> - Saya sengaja mengambil solusi yang lebih sederhana agar tidak membuang waktu mempelajari React / Vue yang lebih kompleks (ya, mereka tidak melompat ke kereta hype). <br><br>  Untuk mempertahankan tugas dan dokumentasi, kami menggunakan Jira + Confluence.  Kode diselesaikan di Bitbucket. <br><br>  Akibatnya, ada pendapat seperti itu: <br><br><ul><li>  jika Anda memiliki sesuatu yang sangat sederhana, ambil JS / CSS / HTML mentah dan lakukan (pendaratan, misalnya); </li><li>  jika ada persyaratan khusus untuk kinerja, sumber daya, fungsi - mencarinya; </li><li>  dalam kasus lain - ambil kerangka kerja yang sudah jadi, misalnya, Meteor.  Jika Anda memasak dengan benar, maka seharusnya tidak ada masalah. </li></ul><br><h3>  Proses pengembangan </h3><br>  Setelah memilih alat, fase implementasi rencana dimulai.  Kami tidak selalu memikirkan persyaratan sampai akhir, jadi terkadang kami harus mengulang fitur beberapa kali.  Kami juga memiliki banyak ide, dan kami mencoba untuk meluncurkan dan mengujinya pada pengguna nyata sesegera mungkin. <br><br>  Struktur proyek (struktur folder dan file) membantu menghindari pertanyaan tentang apa dan di mana seharusnya.  Ini ditulis dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> .  Menulis kode yang mudah didukung dan extensible lebih mudah ketika ada pemisahan yang jelas.  Fungsionalitas UI dibagi menjadi beberapa komponen, yang memungkinkan Anda mengisolasi blok fungsi dan menggunakannya kembali, dan ketika refactoring Anda tidak merusak lantai proyek :). <br><br>  Ada banyak <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">paket siap pakai</a> yang memecahkan masalah tertentu.  Misalnya, di luar kotak, Meteor menyediakan manajemen akun (pendaftaran, otorisasi, dll.), Mengirim Email.  Pihak ketiga menyelesaikan masalah lain.  Beberapa dari mereka adalah lapisan untuk paket <i>npm</i> , sehingga basis data dari solusi siap pakai sangat besar. <br><br>  Kesalahan saya adalah menolak tes.  Keputusan ini untuk menghemat waktu, karena "pelanggan tidak melihat tes."  Namun, mengamati situasi dengan bug yang muncul di Jire, saya menyadari bahwa sudah waktunya untuk mengubah pendekatan.  Mereka mengembalikan tes dan mulai menulis pada TDD.  Selain itu, setelah kode masuk ke cabang pengembangan, mereka mulai menjalankan tes melalui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CircleCI</a> untuk memastikan bahwa tidak ada yang memecahkan apa pun. <br><br>  Untuk mempertahankan Gaya Kode, ESLint + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lebih cantik telah dikonfigurasi</a> .  Ini menghindari koreksi gaya dan kesalahan konyol pada tahap pertimbangan PR (permintaan tarik).  Dan agar kode "buruk" tidak mencapai git, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Husky</a> dikonfigurasikan - alat yang dapat melakukan tugas yang diperlukan pada tahap komit (dan tidak hanya).  Jadi, sebelum kode masuk ke komit, ia melewati pemeriksaan melalui eslint dan lebih cantik. <br><br>  Perlu disebutkan secara terpisah tentang minus penting - kecepatan membangun proyek.  Pertama kali perakitan membutuhkan waktu sekitar 30 detik, tergantung pada setrika.  Selanjutnya, ketika mengubah kode, prosesnya memakan waktu sekitar 5-10 detik.  Pada setrika yang lemah, jumlahnya bisa lebih besar.  Saya menggunakan MacBook pro mid 15, i7, 16gb, saya baik-baik saja. <br><br>  Mereka memutuskan untuk meluncurkan gen di Digital Ocean.  Ada satu alasan - harga.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Hosting resmi</a> untuk meteor sayang.  AWS lebih murah, tetapi lebih rumit daripada DO.  Ada alternatif lain, tetapi memutuskan untuk DO. <br><br><h3>  Penerbangan </h3><br>  Saat ini, kami dapat secara bersamaan memiliki hingga 100 pengguna yang terhubung ke Gene.  Ini tidak banyak, tetapi kami juga memiliki margin keselamatan yang besar.  Kami berharap dapat menahan 1000CCU pada konfigurasi saat ini. <br><br>  Sejauh ini, dua server $ 10 + $ 5 proksi sudah cukup untuk kita (untuk menyeimbangkan).  Setiap server adalah aplikasi simpul + MongoDB.  Server untuk pemantauan diluncurkan secara terpisah.  Kami telah memperkirakan pertumbuhan lalu lintas, jadi kami akan punya waktu untuk menyebarkan server baru (naikkan tetesan dan tambahkan garis ke hulu). <br><br>  Mencurahkan Gen versi baru adalah suatu kesenangan.  Untuk melakukan ini, sebuah skrip kecil ditulis yang mengumpulkan proyek dalam tar (dengan perintah <i>meteor build</i> ), mengunggahnya ke server, membukanya, menjalankan <i>npm i</i> dan memulai daemon.  Biasanya butuh 1 menit. <br>  Jika Anda menghilangkan detail, maka sesuatu seperti ini (jika menarik, saya akan mempersiapkan intinya): <br><br><div class="spoiler">  <b class="spoiler_title">biola</b> <div class="spoiler_text"><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># meteor build --architecture=os.linux.x86_64 --server-only $BUILD_PATH scp $TAR_FILE_PATH $SERVER_APP_PATH #  cd $APP_ROOT rm -r bundle tar -xzf $TAR_NAME cd $APP_ROOT/bundle/programs/server/ &amp;&amp; npm i -q cd $APP_ROOT/bundle sudo forever-service install $SERVICE_NAME --script $APP_ROOT/bundle/main.js --envVars "$ENV_VARS" sudo service $SERVICE_NAME start</span></span></code> </pre> <br></div></div><br>  Kami mengamati Gena melalui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kadira</a> (gambar di awal posting).  Saya harus menari sedikit dengan rebana untuk berlari di fasilitas saya, tetapi itu sepadan.  Semuanya jelas dan bisa dimengerti. <br><br>  Belum ada masalah dengan stabilitas.  Kecelakaan atau kebocoran memori yang tidak disengaja tidak diamati. <br><br><h3>  Kesimpulan </h3><br>  Kami meluncurkan gen setengah tahun setelah dimulainya.  Tim telah tumbuh, seperti halnya Gene.  Kemungkinan besar, kami akan melampaui monolith dan akan ada layanan microser, antrian, paket individu, dll.  Tapi ini adalah kisah yang sangat berbeda ... <br><br>  Meteor berubah.  Bagi yang sudah mencobanya di versi 1.4 dan di bawah, saya sarankan melihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">daftar perubahan</a> .  Saya harap Anda akan terkejut. <br><br>  Daftar bahan yang berguna di Meteor: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">panduan resmi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">membahas masalah kinerja dan cara menyelesaikannya</a> </li><li>  <a href="">rencana pengembangan</a> </li></ul><br>  Siapa yang bekerja dengan meteor atau tertarik - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bergabunglah</a> dengan ruang obrolan kami di telegram. <br><br>  Saya minta maaf jika saya tidak mengungkapkan topik penting, saya akan mencoba menjawab di komentar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id437166/">https://habr.com/ru/post/id437166/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id437154/index.html">Lebih positif</a></li>
<li><a href="../id437156/index.html">Pendongeng masa depan</a></li>
<li><a href="../id437158/index.html">Tiga persen</a></li>
<li><a href="../id437160/index.html">Devops</a></li>
<li><a href="../id437164/index.html"># 10yearschallenge untuk programmer</a></li>
<li><a href="../id437170/index.html">Facebook menyarankan penggunaan laser luar angkasa untuk komunikasi global</a></li>
<li><a href="../id437172/index.html">IBM MQ dan JMeter: Kontak Pertama</a></li>
<li><a href="../id437174/index.html">.NET, TensorFlow, dan kincir angin Kaggle - perjalanan dimulai</a></li>
<li><a href="../id437176/index.html">Aplikasi untuk iOS dan Android di Kotlin + Flutter UI</a></li>
<li><a href="../id437180/index.html">Harsh Siberian JVM: wawancara hebat tentang Excelsior JET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>