<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õîÔ∏è üôÜ üèáüèº NVIDIA Jetson Nano: tests et premi√®res impressions üíµ üöñ üë∂üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut, Habr. 

 Relativement r√©cemment, en 2019, NVIDIA a annonc√© un ordinateur √† carte unique compatible avec le facteur de forme Raspberry Pi, ax√© s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>NVIDIA Jetson Nano: tests et premi√®res impressions</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460723/">  Salut, Habr. <br><br>  Relativement r√©cemment, en 2019, NVIDIA a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">annonc√© un ordinateur √† carte unique</a> compatible avec le facteur de forme Raspberry Pi, ax√© sur l'IA et les calculs gourmands en ressources. <br><br><img src="https://habrastorage.org/webt/bi/vg/8i/bivg8imtn2iscz1yprcgtrbieyc.png"><br><br>  Apr√®s sa mise en vente, il est devenu int√©ressant de voir comment cela fonctionne et ce qui peut √™tre fait.  Il n'est pas si int√©ressant d'utiliser des benchmarks standard, nous allons donc trouver les n√¥tres; pour tous les tests, le code source est donn√© dans le texte.  Pour ceux qui s'int√©ressent √† ce qui s'est pass√©, a continu√© sous la coupe. <br><a name="habracut"></a><br><h2>  Mat√©riel informatique </h2><br>  Pour commencer, les sp√©cifications du site Web de NVIDIA: <br><br><img src="https://habrastorage.org/webt/c_/uc/o4/c_uco4wwzwcoek-t_zrex76dvxi.png"><br><br>  Parmi les int√©ressants, voici quelques points. <br><br>  Le premier est un GPU avec 128 c≈ìurs, respectivement, sur la carte, vous pouvez ex√©cuter des t√¢ches orient√©es GPU, telles que CUDA (pris en charge et install√© imm√©diatement) ou Tensorflow.  Le processeur principal est √† 4 c≈ìurs et, comme indiqu√© ci-dessous, est assez bon.  4 Go de m√©moire partag√©e entre le processeur et le GPU. <br><br>  Le second est la compatibilit√© avec le Raspberry Pi.  La carte dispose d'un connecteur √† 40 broches avec diff√©rentes interfaces (I2C, SPI, etc.), il y a aussi un connecteur de cam√©ra, qui est √©galement compatible avec le Raspberry Pi.  On peut supposer qu'un grand nombre d'accessoires existants (√©crans, cartes de commande de moteur, etc.) fonctionneront (vous devrez peut-√™tre utiliser une rallonge, car Jetson Nano est toujours de taille diff√©rente). <br><br>  Troisi√®mement, la carte dispose de 2 sorties vid√©o, Gigabit-Ethernet et USB 3.0, c'est-√†-dire  Jetson Nano dans son ensemble est m√™me un peu plus fonctionnel que le prototype.  L'alimentation 5 V peut √™tre prise √† la fois via Micro USB et via un connecteur s√©par√©, ce qui est recommand√© pour <s>extraire des bitcoins de</s> t√¢ches gourmandes en ressources.  Comme dans le Raspberry Pi, le logiciel est charg√© √† partir de la carte SD, dont l'image doit d'abord √™tre enregistr√©e.  En g√©n√©ral, id√©ologiquement, la carte est assez similaire au Raspberry Pi, qui a apparemment √©t√© con√ßu dans NVIDIA.  Mais il n'y a pas de WiFi sur la carte, il y a un inconv√©nient certain, ceux qui le souhaitent devront utiliser un module USB-WiFi. <br><br>  Si vous regardez de pr√®s, vous pouvez voir que la structure de l'appareil se compose de deux modules - le module Jetson Nano lui-m√™me et la carte inf√©rieure avec connecteurs, la connexion se fait via un connecteur. <br><br><img src="https://habrastorage.org/webt/ie/m4/ez/iem4ezwrbnirpwpg_ehw50cnv8c.png"><br><br>  C'est-√†-dire  la carte peut √™tre d√©connect√©e et utilis√©e s√©par√©ment, elle peut √™tre pratique pour les solutions int√©gr√©es. <br><br>  En parlant de prix.  Le prix d'origine de Jetson Nano aux √âtats-Unis est de 99 $, le prix en Europe avec une majoration dans les magasins locaux est d'environ 130 euros (si vous obtenez des rabais, vous pouvez probablement trouver moins cher).  On ne sait pas combien co√ªte Nano en Russie. <br><br><h2>  Logiciels </h2><br>  Comme mentionn√© ci-dessus, le t√©l√©chargement et l'installation ne sont pas tr√®s diff√©rents du Raspberry Pi.  Nous chargeons l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">image</a> sur la carte SD via Etcher ou Win32DiskImager, entrons dans Linux, mettons les biblioth√®ques n√©cessaires.  Un excellent guide √©tape par √©tape est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , je l'ai utilis√©.  Passons tout de suite aux tests - essayez d'ex√©cuter diff√©rents programmes sous Nano et voyez comment ils fonctionnent.  √Ä titre de comparaison, j'ai utilis√© trois ordinateurs - mon ordinateur portable de travail (Core I7-6500U 2,5 GHz), le Raspberry Pi 3B + et le Jetson Nano. <br><br>  <b>Test CPU</b> <br><br>  Pour commencer, une capture d'√©cran de la commande lscpu. <br><br>  Raspberry Pi 3B +: <br><br><img src="https://habrastorage.org/webt/nc/7d/ty/nc7dty-b1eczrbutlzhqyvkwsgu.png"><br><br>  Jetson nano: <br><br><img src="https://habrastorage.org/webt/n1/lf/y2/n1lfy2jogjcjgr3z1fyuogmymye.png"><br><br>  Pour les calculs, commen√ßons par quelque chose de simple, mais qui n√©cessite du temps processeur.  Par exemple, en calculant le nombre Pi.  J'ai pris un simple programme Python avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stackoverflow</a> . <br><br>  Je ne sais pas si c'est optimal ou pas, mais cela n'a pas d'importance pour nous - nous sommes int√©ress√©s par le <i>temps relatif</i> . <br><br><div class="spoiler">  <b class="spoiler_title">Code source sous le spoiler</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-comment"><span class="hljs-comment"># Source: https://stackoverflow.com/questions/9004789/1000-digits-of-pi-in-python def make_pi(): q, r, t, k, m, x = 1, 0, 1, 1, 3, 3 for j in range(10000): if 4 * q + r - t &lt; m * t: yield m q, r, t, k, m, x = 10*q, 10*(rm*t), t, k, (10*(3*q+r))//t - 10*m, x else: q, r, t, k, m, x = q*k, (2*q+r)*x, t*x, k+1, (q*(7*k+2)+r*x)//(t*x), x+2 t1 = time.time() pi_array = [] for i in make_pi(): pi_array.append(str(i)) pi_array = pi_array[:1] + ['.'] + pi_array[1:] pi_array_str = "".join(pi_array) print("PI:", pi_array_str) print("dT:", time.time() - t1)</span></span></code> </pre> <br></div></div><br>  Comme pr√©vu, le programme ne fonctionne pas rapidement.  R√©sultat pour Jetson Nano: 0.8c. <br><br><img src="https://habrastorage.org/webt/na/_i/um/na_iump9k2cwwpmi6gicrblbeie.png"><br><br>  Le Raspberry Pi 3B + a montr√© un temps sensiblement plus long: 3.06c.  L'ordinateur portable ¬´exemplaire¬ª a termin√© la t√¢che en 0,27 s.  En g√©n√©ral, m√™me sans utiliser de GPU, le processeur principal de Nano est assez bon pour son facteur de forme.  Ceux qui le souhaitent peuvent v√©rifier sur le Raspberry Pi 4, je ne l'ai pas disponible. <br><br>  Il y a s√ªrement ceux qui veulent √©crire dans les commentaires que Python n'est pas le meilleur choix pour de tels calculs, je r√©p√®te encore une fois qu'il √©tait important pour nous de <i>comparer le</i> temps, il n'est pas n√©cessaire de le minimiser.  Il est clair qu'il existe des programmes qui calculent le nombre de Pi beaucoup plus rapidement. <br><br>  <b>Pycuda</b> <br><br>  Passons √† des calculs plus int√©ressants en utilisant le GPU, pour lequel bien s√ªr (la carte est de NVIDIA), nous utiliserons CUDA.  La biblioth√®que PyCUDA a n√©cessit√© un certain chamanisme lors de l'installation, elle n'a pas trouv√© cuda.h, l'utilisation de la commande "sudo env" PATH = $ PATH "pip install pycuda" a aid√©, il y a peut-√™tre une autre fa√ßon (plus d'options ont √©t√© discut√©es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur le forum devtalk.nvidia.com</a> ). <br><br>  Pour le test, j'ai pris le programme simple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SimpleSpeedTest</a> pour PyCUDA, qui compte simplement les sinus dans une boucle, il ne fait rien d'utile, mais il est tout √† fait possible de l'√©valuer, et son code est simple et clair. <br><br><div class="spoiler">  <b class="spoiler_title">Code source sous le spoiler</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># SimpleSpeedTest.py # https://wiki.tiker.net/PyCuda/Examples/SimpleSpeedTest import pycuda.driver as drv import pycuda.autoinit from pycuda.compiler import SourceModule import numpy import time blocks = 64 block_size = 128 nbr_values = blocks * block_size n_iter = 100000 print("Calculating %d iterations" % (n_iter)) print() ##################### # SourceModule SECTION # create two timers so we can speed-test each approach start = drv.Event() end = drv.Event() mod = SourceModule("""__global__ void gpusin(float *dest, float *a, int n_iter) { const int i = blockDim.x*blockIdx.x + threadIdx.x; for(int n = 0; n &lt; n_iter; n++) { a[i] = sin(a[i]); } dest[i] = a[i]; }""") gpusin = mod.get_function("gpusin") # create an array of 1s a = numpy.ones(nbr_values).astype(numpy.float32) # create a destination array that will receive the result dest = numpy.zeros_like(a) start.record() # start timing gpusin(drv.Out(dest), drv.In(a), numpy.int32(n_iter), grid=(blocks,1), block=(block_size,1,1) ) end.record() # end timing # calculate the run length end.synchronize() secs = start.time_till(end)*1e-3 print("PyCUDA time and first three results:") print("%fs, %s" % (secs, str(dest[:3]))) print() ############# # CPU SECTION # use numpy the calculate the result on the CPU for reference a = numpy.ones(nbr_values).astype(numpy.float32) t1 = time.time() for i in range(n_iter): a = numpy.sin(a) print("CPU time and first three results:") print("%fs, %s" % (time.time() - t1, str(a[:3])))</span></span></code> </pre> <br></div></div><br>  Comme vous pouvez le voir, le calcul est effectu√© en utilisant le GPU via CUDA et en utilisant le CPU via numpy. <br><br>  R√©sultats: <br>  Jetson nano - GPU 0,67c, CPU 13,3c. <br>  Raspberry Pi 3B + - CPU 41.85c, GPU - pas de donn√©es, CUDA sur RPi ne fonctionne pas. <br>  Ordinateur portable - GPU 0,05 s, processeur 3,08 c. <br><br>  Tout est assez attendu.  Les calculs sur le GPU sont beaucoup plus rapides que les calculs sur le CPU (toujours 128 c≈ìurs), le Raspberry Pi est assez en retard.  Eh bien, bien s√ªr, peu importe <s>combien vous nourrissez le loup, l'√©l√©phant a toujours une</s> carte vid√©o pour ordinateur portable beaucoup plus rapide que la carte de Jetson Nano - il est probable qu'il y ait beaucoup plus de c≈ìurs de traitement. <br><br><h2>  Conclusion </h2><br>  Comme vous pouvez le voir, la carte NVIDIA s'est av√©r√©e assez int√©ressante et tr√®s productive.  Il est un peu plus grand et plus cher que le Raspberry Pi, mais si quelqu'un a besoin de plus de puissance de calcul avec une taille compacte, cela en vaut la peine.  Bien s√ªr, ce n'est pas toujours n√©cessaire - par exemple, pour envoyer la temp√©rature √† narodmon, le Raspberry Pi Zero est suffisant, et avec plusieurs marges.  Jetson Nano ne pr√©tend donc pas <i>remplacer la</i> framboise et les clones, mais pour les t√¢ches gourmandes en ressources, il est tr√®s int√©ressant (il peut s'agir non seulement de drones ou de robots mobiles, mais aussi, par exemple, d'une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cam√©ra pour sonnette</a> avec reconnaissance faciale). <br><br>  D'une part, tout ce qui √©tait con√ßu ne convenait pas.  Dans la deuxi√®me partie, il y aura des tests de la partie AI - tests de Keras / Tensorflow et des t√¢ches sur la classification et la reconnaissance d'image. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr460723/">https://habr.com/ru/post/fr460723/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr460709/index.html">R√©flexions sur Agile</a></li>
<li><a href="../fr460711/index.html">R√©seaux de neurones et apprentissage profond, chapitre 3, partie 3: comment choisir les hyperparam√®tres de r√©seaux de neurones?</a></li>
<li><a href="../fr460713/index.html">D√©veloppement d'applications sur SwiftUI. Partie 1: flux de donn√©es et Redux</a></li>
<li><a href="../fr460717/index.html">Nouvelles hebdomadaires: tests du r√©seau satellite OneWeb, interfaces neuronales Ilona Mask et appareils √©lectroniques non espions</a></li>
<li><a href="../fr460719/index.html">Classes de base de l'industrie. Br√®ve introduction</a></li>
<li><a href="../fr460725/index.html">Le code d'auto-documentation est (g√©n√©ralement) un non-sens</a></li>
<li><a href="../fr460727/index.html">Cryptage de texte simple - un tuple de nombres, avec contr√¥le de la complexit√©</a></li>
<li><a href="../fr460729/index.html">Agr√©able et utile dans l'enseignement</a></li>
<li><a href="../fr460731/index.html">Les autorit√©s am√©ricaines ach√®vent une enqu√™te sur un accident de bus robotis√© en 2017</a></li>
<li><a href="../fr460735/index.html">CI \ CD pour les startups: quels outils existe-t-il et pourquoi pas seulement les grandes entreprises bien connues les utilisent</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>