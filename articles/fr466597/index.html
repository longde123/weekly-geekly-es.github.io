<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîò üññüèΩ üì° Historique de la deuxi√®me place dans la Mini AI Cup 4: Paper IO üç© üóùÔ∏è ‚ù£Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je m'appelle Igor Volkov. Je travaille dans une soci√©t√© de conseil en tant que d√©veloppeur Java, architecte, chef d'√©quipe, responsable technique. Dif...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Historique de la deuxi√®me place dans la Mini AI Cup 4: Paper IO</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466597/"><p>  Je m'appelle Igor Volkov.  Je travaille dans une soci√©t√© de conseil en tant que d√©veloppeur Java, architecte, chef d'√©quipe, responsable technique.  Diff√©rents r√¥les en fonction des besoins actuels du projet.  Il a attir√© l'attention sur les concours de mail.ru pendant longtemps, mais il s'est av√©r√© ne participer activement qu'√† Paper IO. </p><br><p><img width="120" height="120" align="left" src="https://habrastorage.org/webt/nd/gt/uf/ndgtufwihri2t-l1ehiq6pbr_ce.png"></p><p>  Cette fois, les organisateurs ont propos√© de mettre en ≈ìuvre une strat√©gie de gestion des bots bas√©e sur le jeu populaire.  En savoir plus sur les r√®gles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Le code de ma strat√©gie se trouve <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , et des exemples de jeux sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le site du championnat</a> . <br></p><br><a name="habracut"></a><br><hr><br><p> Au tout d√©but du concours, comme il me semblait, l'id√©e d'impl√©mentation de pop-up la plus courante √©tait l'utilisation des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SCTM</a> .  Par cons√©quent, j'ai pass√© un peu de temps √† exp√©rimenter cet algorithme.  Et sans avoir compris comment l'utiliser efficacement pour r√©soudre le probl√®me, j'ai d√©cid√© de commencer par g√©n√©rer de nombreux itin√©raires rectangulaires (avec deux, puis avec trois tours) et leur √©valuation ult√©rieure. </p><br><h2 id="algoritm-strategii">  Algorithme de strat√©gie </h2><br><p>  L'algorithme de haut niveau de la strat√©gie peut √™tre repr√©sent√© par les 6 points suivants: </p><br><ol><li>  Lisez l'√©tat du monde </li><li>  Convertir des objets de message en objets de travail </li><li>  Former un ensemble de routes rectangulaires </li><li>  √âvaluez chacun des itin√©raires g√©n√©r√©s </li><li>  Choisissez le meilleur itin√©raire </li><li>  Envoyer l'√©quipe </li></ol><br><p>  Cet algorithme n'a pas chang√© pendant la comp√©tition.  Seule la m√©thode de formation des routes des bots et leur √©valuation ont √©t√© modifi√©es. </p><br><p>  La classe <a href="">SimpleStrategy</a> contient la version initiale de la strat√©gie, et la classe <a href="">BestStrategy est</a> une version am√©lior√©e, qui a pris la 2e place dans la comp√©tition. </p><br><h3 id="chtenie-sostoyaniya-mira">  Lire l'√©tat du monde </h3><br><p>  L'√©tat du monde est transmis en tant qu'objet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JSON</a> via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">STDIN</a> .  J'ai vu dans <a href="">pom.xml</a> que vous pouvez utiliser la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gson</a> et la t√¢che de lire l'√©tat du monde a √©t√© grandement simplifi√©e.  √Ä l'aide de la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gson,</a> d√©s√©rialis√© la cha√Æne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JSON</a> lue √† partir du flux d'entr√©e standard dans une instance de la classe <a href="">Message</a> .  Le code est dans <a href="">Main.java (lignes 44-49)</a> . </p><br><h3 id="sozdanie-rabochih-obektov">  Cr√©er des objets de travail </h3><br><p>  L'utilisation d'objets de transport dans le code du programme principal n'est g√©n√©ralement pas tr√®s pratique et incorrecte sur le plan architectural.  Par exemple, les organisateurs, pour une raison ou une autre, peuvent changer le format des messages.  Par cons√©quent, il est n√©cessaire de transformer les objets de transport en travailleurs, qui seront utilis√©s dans le code de programme principal.  Les <a href="">classes</a> <a href="">Player</a> et <a href="">PlayerState</a> pr√©servent l'√©tat du bot, et la classe utilitaire <a href="">MessagePlayer2PlayerConverter</a> aide √† cr√©er ces classes en fonction des donn√©es du message de transport.  La classe <a href="">Bonus</a> contient des informations sur le bonus d'une cellule sur le terrain.  Le code pour cr√©er des objets de travail se trouve dans <a href="">Main.java (lignes 61-74)</a> . </p><br><h3 id="formirovanie-marshrutov">  Formation d'itin√©raire </h3><br><p>  Dans les premi√®res versions de la strat√©gie ( <a href="">SimpleStrategy</a> ), le chemin √©tait d√©fini √† l'aide des classes <a href="">MovePlanWithScore</a> et <a href="">Move</a> .  <a href="">Move</a> d√©finit la direction du mouvement et le nombre de cellules que le bot doit d√©placer dans cette direction, et <a href="">MovePlanWithScore</a> contient l'itin√©raire sp√©cifi√© par le tableau <a href="">Move</a> et une estimation de cet itin√©raire.  Un tableau peut contenir de un √† quatre objets <a href="">Move</a> .  Malgr√© le fait que seuls les itin√©raires rectangulaires avec pas plus de trois tours sont pris en compte, en fait l'itin√©raire du bot est obtenu sous la forme d'une ligne bris√©e.  Ceci est r√©alis√© en choisissant un nouveau meilleur itin√©raire rectangulaire √† chaque tour.  <a href="">La fonction de g√©n√©ration de route</a> , impl√©ment√©e sous forme de boucles imbriqu√©es, forme une liste √† partir de <a href="">MovePlanWithScore</a> pour son √©valuation ult√©rieure. </p><br><p>  Une telle formation des trajectoires du bot n'√©tait pas tr√®s efficace en termes de performance de l'√©valuation suivante, car il fallait calculer plusieurs fois les m√™mes trajectoires, mais elle √©tait tr√®s utile pour comprendre la m√©canique du jeu. </p><br><p>  Dans les versions ult√©rieures de la strat√©gie, <a href="">BestStrategy a</a> commenc√© √† utiliser l'arborescence des itin√©raires.  La classe <a href="">MoveNode</a> refl√®te le n≈ìud de cet arbre.  L'arbre est enti√®rement form√© au d√©but de la strat√©gie.  Faites attention √† la m√©thode <a href="">init de la classe MoveNode</a> .  C'est tr√®s similaire √† la g√©n√©ration de routes √† partir de la classe <a href="">SimpleStrategy</a> .  Fondamentalement, l'itin√©raire en question n'est pas tr√®s diff√©rent de la premi√®re version. </p><br><p>  Je pense que la formation des routes aurait pu √™tre am√©lior√©e un peu plus en ajoutant une autre tournure.  Mais il n'y avait pas assez de temps pour l'optimisation. </p><br><h3 id="ocenka-marshruta">  √âvaluation de l'itin√©raire </h3><br><p>  O√π que se trouve le bot, le meilleur itin√©raire se terminant sur son territoire a toujours √©t√© choisi pour lui.  Pour √©valuer l'itin√©raire, j'ai introduit deux indicateurs: le score et le risque.  Score - refl√®te approximativement le nombre de points marqu√©s par tick du chemin, et risque - le nombre de ticks qui ne suffisent pas pour terminer le chemin (par exemple, du fait que l'adversaire peut attraper par la queue).  Le risque n'est pas apparu imm√©diatement.  Dans la premi√®re version, si le bot d√©couvrait soudainement au milieu du chemin qu'il n'avait pas le temps de terminer le parcours, il ¬´devenait fou¬ª, car tous les chemins dangereux √©taient √©galement mauvais pour lui.  De tous les itin√©raires consid√©r√©s, le plus ¬´s√ªr¬ª est s√©lectionn√© avec le nombre maximum de points par tick du chemin. </p><br><p>  Pour √©valuer la s√©curit√© de l'itin√©raire, je calcule la matrice d'accessibilit√©: pour chaque cellule du terrain de jeu, je trouve une coche sur laquelle le bot de l'adversaire peut y appara√Ætre.  Tout d'abord, seulement une coche, puis ajout√© un calcul de longueur de queue.  Les bonus r√©cup√©rables en cours de route n'√©taient pas non plus pris en compte dans les premi√®res versions de la strat√©gie.  La classe <a href="">TimeMatrixBuilder</a> calcule les matrices de tiques et les longueurs de queue des bots rivaux.  Ces matrices sont ensuite utilis√©es pour √©valuer le risque.  Si mon bot est sur son territoire au moment du calcul du prochain mouvement - le niveau de risque maximum est attribu√© aux routes dangereuses, si le bot √©tait d√©j√† en route sur un territoire √©tranger ou neutre, le risque est √©valu√© comme la diff√©rence entre les tiques de l'ach√®vement du chemin (le bot est arriv√© sur son territoire) et la tique quand il le peut menacer le danger (par exemple, le robot de quelqu'un d'autre peut marcher sur la queue). </p><br><p>  Dans les premi√®res versions de la strat√©gie, le score n'√©tait consid√©r√© que sur la base du territoire captur√© et les bonus √©taient l√©g√®rement pris en compte.  Pour trouver les cellules captur√©es, j'utilise un <a href="">algorithme r√©cursif</a> .  De nombreux concurrents se sont plaints de l'√©tranget√© et de la complexit√© de calcul excessive de l'algorithme utilis√© par les organisateurs de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Local Runner</a> .  Je suppose que cela a √©t√© fait intentionnellement afin de ne pas donner aux participants du concours des solutions toutes faites. </p><br><p>  √âtrange, mais malgr√© la primitivit√© des premi√®res versions de la strat√©gie, elle se montre plut√¥t bien: 10e place dans le bac √† sable.  Certes, lors de la ronde pr√©finale, il a commenc√© √† baisser rapidement: les autres participants ont am√©lior√© leurs strat√©gies. </p><br><p>  Mon robot est souvent mort.  Tout d'abord, en raison du fait qu'une route √©tait en cours de construction vers le territoire qui a √©t√© captur√© par des robots rivaux.  Le chemin s'est allong√© de fa√ßon inattendue et mon robot a √©t√© attrap√© par la queue.  Souvent d√©c√©d√© en raison d'une pr√©vision incorrecte de la longueur de la queue et de la vitesse du bot de l'adversaire.  Par exemple, le robot d'un adversaire prenant un ralentissement √©tait dangereux, car dans le calcul approximatif, la strat√©gie supposait qu'il aurait d√©j√† d√ª quitter la cellule et qu'il √©tait toujours l√†.  Pour lutter contre ces probl√®mes, j'ai commenc√© √† calculer un plus grand nombre d'indicateurs pour chaque cellule du terrain de jeu (classes <a href="">AnalyticsBuilder</a> et <a href="">CellDetails</a> ). </p><br><p>  <strong>Compter les cellules du terrain de jeu</strong> </p><br><ol><li>  Coche √† laquelle le robot adverse peut occuper la cage (coche √† la queue) </li><li>  Cochez √† partir de laquelle le bot adverse peut entrer dans la cellule </li><li>  La longueur de la queue lors de l'entr√©e dans la cage </li><li>  Coche √† laquelle le bot adverse peut sortir de la cage </li><li>  Longueur de queue en quittant la cage </li><li>  Coche √† laquelle une cellule peut √™tre captur√©e par le bot d'un adversaire </li><li>  Cochez la case o√π la cellule peut √™tre la cible pour capturer un territoire </li><li>  Cochez sur laquelle la cellule peut √™tre frapp√©e avec une scie </li></ol><br><p>  La profondeur de l'analyse est limit√©e √† 10 mouvements.  Je pense qu'il √©tait possible d'atteindre une plus grande profondeur en abandonnant le calcul des rivaux individuels ou en introduisant une profondeur flottante, mais il n'y avait pas assez de temps pour l'optimisation.  En plus d' <a href="">AnalyticsBuilder,</a> il a commenc√© √† utiliser <a href="">SimpleTickMatrixBuilder</a> s'il y avait un manque de profondeur de rendu pour <a href="">AnalyticsBuilder</a> .  Les r√©sultats d'analyse sont utilis√©s par <a href="">BestStrategy</a> . </p><br><p>  La fonction de notation s'est √©galement l√©g√®rement am√©lior√©e: </p><br><ol><li>  J'ai commenc√© √† prendre en compte les bonus: une p√©nalit√© pour avoir pris un bonus de d√©c√©l√©ration et un bonus pour avoir pris des acc√©l√©rations et vu des bonus.  En cons√©quence, le bot a commenc√© √† √©viter les mauvais bonus et en a ramass√© de bons en cours de route. </li><li>  Il a commenc√© √† prendre en compte le choc des t√™tes.  Ajout de quelques points pour le choc de la victoire.  Plus une collision est possible, moins il y a de points. </li><li>  Pour r√©duire la probabilit√© de l'environnement, il a ajout√© quelques points pour prendre les cellules limites de l'adversaire. </li><li>  R√©duction de la valeur des cellules vides √† la fronti√®re: plus le centre est √©loign√©, plus la valeur est basse.  En regardant les combats de la finale, je suis arriv√© √† la conclusion que pour le fait m√™me de capturer une cellule vide, il n'√©tait pas n√©cessaire d'accumuler des points.  La valeur d'une cellule vide doit d√©pendre de la proximit√© de grands groupes de cellules ennemies.  Malheureusement, en finale, il n'√©tait plus possible de modifier la strat√©gie. </li><li>  Ajout de points pour entourer la t√™te du bot de l'adversaire.  Je ne sais pas si cela a aid√© en quelque sorte.  Peut-√™tre avec les strat√©gies les plus simples. </li><li>  Il a ajout√© des points m√™me pour une saisie futile de la queue (le bot de l'adversaire a r√©ussi √† capturer le territoire au m√™me tick dans lequel mon bot a march√© sur sa queue).  Je ne suis certainement pas s√ªr, mais je pense que cela a emp√™ch√© les robots de l'adversaire de capturer le territoire de quelqu'un d'autre et ils ont souvent d√ª retourner dans le leur. </li><li>  En cas de d√©tection de mort possible par capture, le co√ªt des cellules limites du territoire de l‚Äôopposant augmente consid√©rablement. </li></ol><br><h2 id="otladka-strategii">  D√©bogage de strat√©gie </h2><br><p> Les premi√®res versions de la strat√©gie contenaient un grand nombre de fautes de frappe et d'erreurs: apparemment, le r√©sultat d'une programmation nocturne.  Par exemple, dans la classe <a href="">Cell</a> , l'index a √©t√© consid√©r√© de mani√®re incorrecte: au lieu de <code>this.index = x * Game.sizeY + y</code> , <code>this.index = x * Game.width + y</code> .  Au d√©but, j'ai essay√© de ne compter que sur des tests, mais mon intuition sugg√©rait que sans visualisation et sans jouer des matchs jou√©s pr√©c√©demment, il serait difficile de trouver des erreurs dans le code et d'analyser les raisons des d√©cisions erron√©es.  En cons√©quence, le visualiseur <a href="">DebugWindow est apparu</a> , dans lequel vous pouvez afficher les jeux jou√©s pr√©c√©demment √©tape par √©tape, ainsi que commencer le d√©bogage sur la coche souhait√©e.  Le code n'est pas tr√®s beau, √©crit √† la h√¢te, mais il m'a beaucoup aid√© lors du d√©bogage.  Par exemple, une erreur a √©t√© imm√©diatement d√©tect√©e avec un calcul incorrect de l'indice de cellule.  De nombreux concurrents ont affich√© des informations de d√©bogage dans la console, mais cela ne m'a pas sembl√© suffisant. </p><br><img src="https://habrastorage.org/webt/rz/ys/k3/rzysk31_gefvqcgq4vjbyosotqe.png"><br><br><h2 id="optimizaciya">  Optimisation </h2><br><p>  Afin de ne pas perdre de temps √† cr√©er des objets et √† ex√©cuter le GC, j'ai essay√© de cr√©er certains objets √† l'avance.  Ce sont les cellules du terrain de jeu (classe <a href="">Cell</a> ).  De plus, pour chaque cellule, des voisins identifi√©s.  Cr√©√© un arbre de chemins possibles √† l'avance (classe <a href="">MoveNode</a> ). </p><br><p>  J'ai suppos√© que de nombreux sc√©narios devraient √™tre simul√©s, et dans le processus, l'√©tat actuel se d√©t√©riorerait et devrait √™tre restaur√© √† chaque fois.  Par cons√©quent, pour pr√©server l'√©tat du monde, j'ai essay√© d'utiliser autant que possible des structures compact√©es.  Pour stocker le territoire occup√© - BitSet (classe <a href="">PlayerTerritory</a> ).  Chaque cellule du terrain de jeu est num√©rot√©e et le num√©ro de cellule correspond au num√©ro de bit dans BitSet.  Pour stocker la queue, j'ai utilis√© BitSet avec ArrayDeque (classe <a href="">PlayerTail</a> ). <br></p><p>  Certes, je n'ai pas pu jouer √† diff√©rents sc√©narios par manque de temps.  Et comme la fonction principale de calcul du chemin est devenue r√©cursive et que tout l'√©tat peut √™tre stock√© sur la pile, les derni√®res optimisations ne m'ont pas √©t√© tr√®s utiles. </p><br><h2 id="nerealizovannye-idei">  Id√©es non r√©alis√©es </h2><br><p>  Lors de l'√©valuation du risque de l'itin√©raire de mon bot, j'ai pris en compte chaque adversaire ind√©pendamment.  En fait, chacun des rivaux a √©galement peur de mourir.  Par cons√©quent, il serait utile d'en tenir compte dans une √©valuation des risques.  Au moins, cela devait absolument √™tre pris en compte lors des derniers matchs. </p><br><p>  Prise en compte de la mort future d'un adversaire.  Parfois, il arrivait que le bot capture le territoire de l'adversaire, et l'adversaire meurt de fa√ßon inattendue.  C'est dommage, car en cons√©quence, vous ne capturez que des cellules vides. </p><br><p>  Comptabilisation des cellules vides qui seront captur√©es dans un proche avenir en tant que fonction d'√©valuation. </p><br><h2 id="rekomendacii-i-blagodarnosti">  Recommandations et remerciements </h2><br><p>  Je recommande √† tous les d√©veloppeurs de participer activement aux concours AI Cups.  Cela d√©veloppe la r√©flexion et aide √† travers le jeu √† apprendre de nouveaux algorithmes.  Et comme mon exp√©rience l'a montr√©, un peu de z√®le suffit pour occuper une place de choix et m√™me un code simple et peu optimal peut apporter des r√©sultats. </p><br><p>  Un grand merci aux organisateurs.  Malgr√© quelques probl√®mes techniques, la comp√©tition s'est av√©r√©e int√©ressante.  J'attends avec impatience la prochaine! </p><p></p><p></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466597/">https://habr.com/ru/post/fr466597/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466585/index.html">Comprendre les courtiers de messages. Apprentissage de la m√©canique de la messagerie via ActiveMQ et Kafka. Chapitre 3. Kafka</a></li>
<li><a href="../fr466587/index.html">Variables CSS et th√®me de couleur pour le site en plusieurs lignes</a></li>
<li><a href="../fr466589/index.html">Comment recevoir des donn√©es de Google Analytics √† l'aide de R dans Microsoft SQL Server</a></li>
<li><a href="../fr466591/index.html">MVC sans C: Qu'est-ce qui changera SwiftUI dans l'architecture d'application?</a></li>
<li><a href="../fr466593/index.html">Situation: perspectives du cloud hybride et de l'IaaS</a></li>
<li><a href="../fr466599/index.html">Comment contourner le captcha en utilisant la reconnaissance sonore</a></li>
<li><a href="../fr466601/index.html">Livres psychologiques d'auto-assistance: ont-ils m√™me un sens, et si oui, lesquels choisir?</a></li>
<li><a href="../fr466603/index.html">Outil de comparaison des frameworks CSS</a></li>
<li><a href="../fr466605/index.html">Laboratoire radio de Nizhny Novgorod et communication radio amateur sur HF</a></li>
<li><a href="../fr466607/index.html">"Tout ce que vous lirez sera utilis√© contre vous": comment la musique rap est entr√©e dans la salle d'audience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>