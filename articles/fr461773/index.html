<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö± üëåüèº üíª Airtest IDE - une nouvelle fa√ßon de tester l'automatisation des jeux mobiles? üï∞Ô∏è üñï ü§öüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, je veux vous parler d'un tout nouvel outil open-source pour les tests automatis√©s appel√© Airtest . √Ä l'avenir, je ferai quelques articles...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Airtest IDE - une nouvelle fa√ßon de tester l'automatisation des jeux mobiles?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461773/"><p>  Aujourd'hui, je veux vous parler d'un tout nouvel outil open-source pour les tests automatis√©s appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Airtest</a> .  √Ä l'avenir, je ferai quelques articles suppl√©mentaires avec une histoire d√©taill√©e sur les √©l√©ments individuels de cette bo√Æte √† outils et comment travailler avec eux, mais maintenant j'ai pour objectif de vous le pr√©senter et de vous donner une id√©e g√©n√©rale de celui-ci. </p><br><p>  Ceci est le premier de trois articles.  La deuxi√®me partie d√©crit le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cadre de reconnaissance d'image (Image Recognition)</a> - <strong>AirTest</strong> , et la troisi√®me et derni√®re partie est consacr√©e √† <strong>Poco</strong> - le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cadre d'automatisation de</a> l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">interface utilisateur en √©crivant du code</a> . </p><br><p> AirTest IDE a √©t√© d√©velopp√© par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NetEase</a> et est destin√© aux applications "difficiles √† automatiser", comme par exemple les jeux.  En fait, ils sont le principal objectif des d√©veloppeurs, bien que cela ne cesse pas d'utiliser AirTest pour d'autres applications. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AirTest IDE</a> fonctionne sur Windows, MacOS X et Linux et contient 2 frameworks: AirTest et Poco.  Ce d√©veloppement a √©t√© pr√©sent√© par Xin Liu lors du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Android Game Developer Summit 2018</a> .  Python 2.7 et Python 3.3+ sont utilis√©s pour √©crire des tests.  Des choses aussi importantes que la prise en charge de l'ex√©cution imm√©diate de tests sur un grand nombre d'appareils, du code source ouvert et des applications gratuites, ainsi que des tests √©crits faciles - tels sont les avantages mis en √©vidence par les d√©veloppeurs.  L'application peut √™tre utilis√©e √† la fois sur Windows et MacOS et vous permet d'automatiser les applications √† partir du syst√®me d'exploitation suivant: Windows, iOS, Android. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le projet AirTest</a> sur GitHub contient 4 projets: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Airtest</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Poco</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">iOS-Tangent</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">multi-device-runner</a> . <br>  Il convient √©galement de mentionner que NetEase fournit sa propre batterie de p√©riph√©riques physiques pour les tests automatis√©s appel√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AirLab</a> . </p><br><img src="https://habrastorage.org/webt/go/fi/bj/gofibjhnktjohm0yb4m6jczbrfg.png" alt="image"><a name="habracut"></a><br><p>  Bri√®vement sur les cadres. </p><br><p>  <strong>Airtest</strong> est un cadre multiplateforme de reconnaissance d'images pour les jeux et applications mobiles bas√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la conservation d'images</a> .  AirTest IDE vous permet d'interagir avec l'application √† l'aide des commandes suivantes: <br>  toucher, attendre, glisser, existe, texte, √©v√©nement cl√©, instantan√©, sommeil, assert_exists, assert_not_exists, assert_equal, assert_not_equal.  Je parlerai des caract√©ristiques et des param√®tres des commandes dans un article s√©par√© consacr√© √† une √©tude plus d√©taill√©e des cadres AirTest et Poco.  Il convient maintenant de mentionner que la commande keyevent est responsable de ¬´l‚Äôappui sur les boutons physiques¬ª de l‚Äôappareil, tels que Accueil, Alimentation, Menu, Retour.  Lors de l'utilisation de la plupart des commandes, l'utilisateur est invit√© √† mettre en surbrillance une partie de l'√©cran du p√©riph√©rique de travail, dont une capture d'√©cran sera utilis√©e pour la commande correspondante (toucher, glisser, affirmer, etc.). </p><br><img src="https://habrastorage.org/webt/cm/ad/ko/cmadko_9kom-sbotvmbodeawito.gif" alt="image"><br><p>  Les avantages d'Airttest que je peux souligner apr√®s le travail: </p><br><ol><li>  √âcriture de code rapide et claire.  Tout se fait, en pratique, en mode automatique, il suffit de s√©lectionner les param√®tres n√©cessaires, d'ajuster les timings et de faire attention au choix de l'image. </li><li>  La d√©finition exacte de l'image, qui est utilis√©e dans le code, sur l'appareil de travail actif.  De plus, le rapport indique le pourcentage de co√Øncidence (comparaison) de l'image utilis√©e dans le code et de l'image de l'√©cran de l'appareil de travail. </li><li>  En parlant de rapports.  Apr√®s chaque lancement, vous pouvez cr√©er un rapport √† l'aide du raccourci clavier Ctrl \ Cmd + L.  Un rapport pratique fournit des informations telles que: les types d'assertions, leurs r√©sultats, et chaque √©tape de test est mise en √©vidence dans une sous-section distincte avec des informations sur l'endroit o√π AirTest a cliqu√©, o√π il s'attendait √† une image, le pourcentage d'images correspondantes, etc. </li><li>  Une fois que vous avez √©crit le code, vous pouvez l'utiliser sur n'importe quel appareil. </li><li>  Multithreading: connectez plusieurs p√©riph√©riques de test et ex√©cutez-les en parall√®le. </li></ol><br><p>  Airtest, que je peux souligner apr√®s le travail: </p><br><ol><li>  Si dans le processus, il y a des √©l√©ments qui se ressemblent visuellement, par exemple des curseurs, des boutons, etc., alors avec une probabilit√© √©lev√©e, AirTest ne comprendra pas quel contr√¥le vous souhaitez utiliser.  Cela sera indiqu√© dans l'erreur correspondante.  Mais ce moins est facilement supprim√© en utilisant le deuxi√®me cadre (Poco), qui sera discut√© ci-dessous. </li><li>  La comparaison des images (√† partir du code et des images r√©elles √† l'√©cran) se produit en noir et blanc.  Cela vaut la peine de consid√©rer si vous √™tes important, par exemple, l'apparence visuelle du personnage (sa couleur, ses diff√©rents v√™tements, etc.).  Si les personnages sont visuellement diff√©rents, mais qu'ils sont affich√©s √† l'√©cran de la m√™me mani√®re (une pose, etc.), la v√©rification r√©ussira tr√®s probablement.  Les options de reconnaissance d'image ont une coche ¬´rgb¬ª que vous pouvez utiliser, mais cela ne fonctionne pas tr√®s bien si vous avez une petite image. </li><li>  Vous ne pouvez pas ¬´figer¬ª l'√©cran lorsque vous utilisez l'application pour prendre avec pr√©cision les captures d'√©cran dont vous avez besoin.  De temps en temps, vous devez "attraper" le cadre dont vous avez besoin. </li><li>  Parce que  application en version b√™ta ouverte, vous pouvez rencontrer diverses erreurs ou inexactitudes g√™nantes, par exemple, comme l'impossibilit√© de redimensionner une fen√™tre avec une application int√©gr√©e sous Windows.  Les auteurs mettent d√©sormais √† jour l'IDE AirTest tous les quelques mois, et j'esp√®re que ces oublis seront bient√¥t corrig√©s. </li></ol><br><p>  <strong>Poco</strong> est un cadre universel pour automatiser l'interface utilisateur (UI), qui fournit de puissantes API ind√©pendantes du moteur (de jeu).  Ceux-ci, √† leur tour, r√©cup√®rent la hi√©rarchie des √©l√©ments de l'interface utilisateur lors de l'ex√©cution.  Gr√¢ce √† cela, l'utilisateur peut "acc√©der" √† toute la hi√©rarchie des √©l√©ments sur la page en cours en quelques clics vers l'√©l√©ment dont il a besoin, etc.  En outre, ce cadre vous permet de ¬´figer¬ª l'√©cran actuel pour √©crire du code en fonction de la hi√©rarchie des √©l√©ments de la fen√™tre actuelle.  Poco est con√ßu pour aider AirTest √† comprendre de quel type d'√©l√©ment d'interface utilisateur les tests parlent, mais personne ne vous d√©range pour √©crire tous les tests en utilisant uniquement ce framework. <br>  Tous les tests sont √©crits en Python.  Les impl√©mentations de commandes peuvent √™tre trouv√©es dans les API correspondantes: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">module</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">airtest.core.api</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">package</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">airtest.core.android, package airtest.core.ios, package airtest.core.win</a> </p><br><p><img src="https://habrastorage.org/webt/fl/-j/m-/fl-jm-i8pxvlejgwf_a2wcj__fy.gif" alt="image"></p><br><p>  Avantages Poco que je peux souligner apr√®s le travail: </p><br><ol><li>  Un certain nombre de moteurs de jeu importants sont pris en charge, notamment Unity3D, cocos2dx-js, cocos2dx-lua, les moteurs internes NetEase, ainsi que la prise en charge des applications natives Android / iOS.  Si vous souhaitez utiliser un moteur qui ne figure pas dans la liste des moteurs "pris en charge", vous pouvez √©crire le v√¥tre en suivant les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">instructions appropri√©es</a> .  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation officielle,</a> il est fait mention de l'Unreal Engine, mais jusqu'√† pr√©sent, tout est limit√© √† la phrase "Coming soon". </li><li>  La hi√©rarchie des √©l√©ments de l'interface utilisateur √† l'√©cran revient en temps r√©el. </li><li>  D√©marrage rapide et ex√©cution de tests. </li><li>  Comme dans AirTest, j'ai √©crit le code une fois - utilisez-le partout.  Prise en charge de Python 2.7 et 3.3+ </li><li>  Il est possible de connecter n'importe quelle biblioth√®que externe √† votre projet </li><li>  √Ä en juger par la documentation, il existe un support pour les capteurs GPS, acc√©l√©rom√®tre et gyroscopique, ainsi que pour les modes d'affichage portrait et paysage. </li></ol><br><p>  Poco par contre que je peux souligner apr√®s le travail: </p><br><ol><li>  Pendant le travail sur Windows 7, je n'ai pas trouv√© de probl√®mes fondamentaux.  ce qui interf√©rerait avec le travail √† part enti√®re, mais ils le sont actuellement avec Windows 10. L'essentiel est un mouvement incorrect des objets (commande de balayage) dans certains cas.  Par exemple, j'indique l'objet √† d√©placer et les coordonn√©es du deuxi√®me objet, qui est le point final.  Dans ces rares cas, Poco manque l'emplacement final, mais les rapports montrent les donn√©es de d√©placement correctes (vecteur) et l'√©tape est consid√©r√©e comme r√©ussie. </li><li>  Lorsque vous s√©lectionnez des √©l√©ments avec de grandes dispositions (disposition), la s√©lection peut chevaucher la fen√™tre de Poco Assistant et vous ne pourrez pas s√©lectionner d'autres √©l√©ments tant que la s√©lection n'est pas supprim√©e de la fen√™tre actuelle.  Pour supprimer la s√©lection, vous pouvez utiliser le raccourci clavier Alt + F4 </li></ol><br><p>  Pour compl√©ter l'image, il convient de mentionner que Airtest IDE poss√®de son propre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong>plug-in Selenium</strong></a> , avec lequel vous pouvez automatiser votre projet Web, mais en utilisant uniquement un navigateur Chrome.  Le reste, pour le moment, n'est pas pris en charge.  Personnellement, je n'ai pas encore travaill√© avec lui, donc je ne peux pas parler de son travail, mais il √©tait impossible de le manquer dans cette br√®ve description. </p><br><p><img src="https://habrastorage.org/webt/dy/vu/fq/dyvufqnt6-ayoctow3pff4xi0s0.png" alt="image"></p><br><p>  En cons√©quence, je dirais que AirTest IDE est un d√©veloppement tr√®s prometteur con√ßu pour automatiser l'interface utilisateur dans les jeux, mais, pour le moment, ne convient pas pour tester le processus de jeu en tant que tel.  Si vous avez beaucoup d'√©l√©ments d'interface utilisateur et / ou de nombreux appareils √† v√©rifier et que vous ne voulez pas passer beaucoup d'heures-homme, cet IDE pourrait bien devenir votre bou√©e de sauvetage.  Pour commencer √† √©crire les tests les plus simples, vous n'avez pas besoin de connaissances approfondies en automatisation et en programmation, il vous suffit d'avoir une compr√©hension de base de l'utilisation de Python.  Bien s√ªr, de cette fa√ßon, vous n'irez pas loin et vous devrez apprendre ce langage de programmation, mais pour commencer et comprendre √† quel point ce programme vous convient, c'est suffisant pour vos yeux.  La seule chose qui est frustrante maintenant est diverses erreurs g√™nantes associ√©es, par exemple, √† l'impossibilit√© de redimensionner une fen√™tre avec un p√©riph√©rique de travail (application Windows) apr√®s l'avoir incorpor√©e, chevauchant un grand objet s√©lectionn√© de l'interface du programme principal, etc., mais c'est tout √† fait possible se r√©concilier, surtout compte tenu du fait que l'application est en phase b√™ta. </p><br><p><img src="https://habrastorage.org/webt/ej/bg/qg/ejbgqgnierz11rcdas3evm9bzoy.png" alt="image"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr461773/">https://habr.com/ru/post/fr461773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr461763/index.html">Les agences de publicit√© peuvent-elles tuer des entreprises au d√©but du voyage</a></li>
<li><a href="../fr461765/index.html">Nous traversons des k8 avec Kafka, √©conomisons des conteneurs, √©chappons aux d√©chets dans Ansible: les 10 meilleurs rapports de DevOops 2018</a></li>
<li><a href="../fr461767/index.html">Algorithme de moteur de recherche SVLAB</a></li>
<li><a href="../fr461769/index.html">Comment j'ai rendu la webcam Javascript (presque) inutile</a></li>
<li><a href="../fr461771/index.html">Dites non au silence: de la p√©pini√®re au bureau</a></li>
<li><a href="../fr461775/index.html">3 cas pour utiliser Celery dans une application Django</a></li>
<li><a href="../fr461779/index.html">80% des donn√©es de votre entreprise ne vous sont pas accessibles. Que faire √† ce sujet?</a></li>
<li><a href="../fr461781/index.html">"Ycombinator Startup School 2019." Vid√©o des trois premi√®res semaines</a></li>
<li><a href="../fr461785/index.html">Inconv√©nients de RISC-V</a></li>
<li><a href="../fr461787/index.html">Affichage de texte Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>