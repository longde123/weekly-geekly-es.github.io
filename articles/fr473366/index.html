<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍✈️ 👍 🗓️ Qu'y a-t-il dans ma smart tv? Ou qu'est-ce qui peut être entassé dans le téléviseur? 📨 🚃 🦃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Au lieu de l'avant-propos 
 Bonjour, chers collègues! Je m'appelle Aleksey et je suis engagé dans les téléviseurs, à savoir le développement d'applica...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Qu'y a-t-il dans ma smart tv? Ou qu'est-ce qui peut être entassé dans le téléviseur?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473366/"><h3>  Au lieu de l'avant-propos </h3><br>  Bonjour, chers collègues!  Je m'appelle Aleksey et je suis engagé dans les téléviseurs, à savoir le développement d'applications Smart TV (" <s>Let's pat Aleksey</s> "). <br><br>  Mais qu'est-ce qu'un téléviseur intelligent?  Qu'est-ce qu'une application sphérique Smart TV dans le vide? <br><br>  Je ne vais pas vous déranger avec cette attente: fondamentalement, ce type d'applications est conçu pour afficher du contenu vidéo.  Dans toutes les variantes.  Enregistrements, retransmissions en direct, émissions de télévision, films, dessins animés, publicités, etc., et ainsi de suite ... Des milliers! <br><br>  Mais la Smart TV est-elle juste pour ça? <br><br><img src="https://habrastorage.org/webt/3r/q5/bn/3rq5bny8hepvkwz46w5708gt1kc.png"><br><a name="habracut"></a><br>  Oui, bien sûr, le téléviseur montre le meilleur contenu vidéo, et il s'en sort bien, mais est-ce seulement pour cela que nous pouvons l'utiliser? <br><br>  ( <s>Maintenant, tous les heureux propriétaires de consoles et de câbles HDMI me lanceront leurs tomates pourries, diront "Désabonnez-vous!" Et les heureux partiront et nous continuerons</s> .) <br><br>  En effet, la grande majorité des applications que nous avons dû développer sont principalement destinées à montrer des vidéos, mais il y a eu quelques exceptions remarquables entre elles.  De plus, souffrant de la maladie bien connue «Alêne dans un endroit juste en dessous du dos», je voulais extraire quelque chose de plus des téléviseurs que tout le monde attend d'eux. <br><br>  Mes (et pas seulement) modestes tentatives seront discutées ci-dessous. <br><br><h3>  TV - Jeu? </h3><br>  En effet, la première chose qui me vient à l'esprit est le jeu!  Le grand écran, la possibilité de requêtes inter-domaines (puisque l'application Smart TV, en fait, est une page HTML locale), et à tout le moins un contrôle standard (télécommande) nous permettent d'implémenter un scénario de jeu. <br><br>  Pour la plupart, ce sont des jeux occasionnels comme «1024» ou des variations sur le thème de «Tower Defense».  Ce n'est pas épais.  Malheureusement, emballer la super 3D avec des shaders, des ombres et un éclairage dynamique ne fonctionnera que sur les derniers modèles ... l'année prochaine.  La télévision n'est généralement pas la version la plus avancée du navigateur et, pire encore, elle est rarement mise à jour ou pas du tout mise à jour.  De plus, la différence entre la puissance d'un téléviseur, même l'année dernière et celle actuelle, peut être multiple. <br><br>  Par conséquent, si vous souhaitez couvrir le nombre maximum de modèles, préparez-vous à l'optimisation sanglante de tout et de tout.  Une toile propre et native sera votre meilleure amie.  Les emballages y travaillent, mais c'est extrêmement gourmand.  Le travail insatisfaisant des méthodes de rotation et de transformation est particulièrement déprimant, alors planifiez l'animation des sprites et n'implémentez les virages des sprites que dans les cas les plus extrêmes. <br><br>  Une fois, nous avons fait un jeu sur Career Night.  Elle a réussi à se rendre auprès de merveilleux collègues des Web Standarts Days et à faire une présentation. <br><br>  Visuellement, le jeu est un terrain de jeu, s'adapte à la taille de l'écran, sans défilement, sans barrières.  L'arrière-plan est divisé en plusieurs couches pour réaliser l'effet 3D.  Sur scène, des cibles volantes (canards) sont générées, sur lesquelles l'utilisateur peut tirer. <br><br><img src="https://habrastorage.org/webt/97/yi/gd/97yigdlbtlowmegovq2mpjgyhfo.png"><br><br><img src="https://habrastorage.org/webt/lk/w-/g3/lkw-g30ajdq4qnipfymeldmkvxa.jpeg"><br>  <i>Fig.</i>  <i>1. Vue générale de l'application.</i> <br><br>  La tâche principale était de donner la possibilité de jouer au jeu à tout le monde, ce qui excluait immédiatement l'interaction avec la télécommande.  La console en est une, mais il y a beaucoup de joueurs.  La gestion a été mise en œuvre à l'aide du téléphone, et pour une couverture maximale des appareils mobiles, il a été décidé de mettre en œuvre le client sous la forme d'un site Web adaptatif.  Nous l'avons implémenté sur WebSockets et ajouté une gestion des puces en changeant la position du téléphone. <br><br>  Ensuite, de nombreuses fonctionnalités intéressantes sont apparues, des capteurs d'orientation de faible qualité et d'autres problèmes.  Nous avons dû appliquer des algorithmes de réduction du bruit, sinon la «vue» du joueur sur l'écran du téléviseur a souffert d'un tremblement terrible.  Il s'est également avéré que le jeu "soufflait le vent": une erreur accumulée dans les calculs sur les téléphones et les viseurs "soufflaient" progressivement dans une direction, ce qui obligeait les joueurs à tourner progressivement.  Certains ont joué dos à la télé. <br><br><blockquote>  <b>Moralité</b> : utilisez le moins possible les capteurs d'orientation dans les navigateurs des téléphones. </blockquote><br><img src="https://habrastorage.org/webt/zg/03/jd/zg03jdiceixvc0vruqh9jtlx3gi.jpeg"><br>  <i>Fig.</i>  <i>2. Les tueurs de canards au travail</i> <br><br>  L'application utilise l'animation en remplaçant les sprites.  Cette méthode était assez productive.  Nous avons testé l'application avec des centaines ou plus de canards volants.  En réalité, il n'y en avait que 10 dans le jeu. Des problèmes de performance sont survenus lorsque le designer est arrivé et s'est écrié: «Je veux que la planète tourne»! <br><br>  Twist le sprite n'était pas un problème.  Le problème est survenu lorsque nous avons lancé l'application sur un téléviseur relativement ancien.  Il s'est avéré qu'il n'a pas supprimé un peu plus que rien une rotation de sprite de 900 × 900 pixels.  En conséquence, l'utilisateur le plus grand aux yeux peut remarquer que la planète en arrière-plan est coupée en 9 parties qui tournent autour d'un centre.  Cela a résolu le problème de performances. <br><br><blockquote>  D'où une autre <b>morale</b> : ne faites pas tourner les grands sprites. </blockquote><br>  Une autre caractéristique du projet était que la logique du jeu est calculée ... à la télévision.  Dans ce cas, le serveur agit simplement comme un transmetteur de données entre les clients et le téléviseur.  Nous l'avons fait pour que même en cas de perte de connexion, les canards continuent de voler à travers l'écran, et après avoir restauré Internet, il n'était pas nécessaire de redémarrer l'application.  Un cas curieux, mais toujours facultatif. <br><br><h3>  Écran TV? </h3><br>  Il semblerait que ce soit déjà banal, mais non.  Comme d'habitude, tout est caché dans les détails.  Écran pour quoi?  Quelle fonction exerce-t-il?  À quoi ça sert? <br><br>  Je ne donnerai que quelques exemples. <br><br>  <b>Félicitations</b> <br><br>  Un jour, nous avons décidé de la Saint-Valentin de réduire les félicitations en ligne dans l'entreprise et d'utiliser les téléviseurs disponibles comme traducteurs de félicitations.  L'application a été implémentée dans une version minimaliste avec une demande au serveur renvoyant une liste de félicitations.  Le principal problème était la caractéristique désagréable des téléviseurs de passer en mode veille.  Si Samsung vous permet de désactiver cette fonctionnalité à l'aide de la méthode setScreenSaver, les autres plates-formes ne le permettent pas vraiment.  Alternativement, vous pouvez exécuter en arrière-plan toute vidéo en boucle - le téléviseur en mode d'affichage vidéo s'éteint beaucoup moins souvent.  En conséquence, l'application a rempli sa fonction: dans toutes les parties du bureau sur plusieurs étages, les félicitations des employés ont été diffusées en ligne. <br><br>  <b>La carte</b> <br><br>  Pour être tout à fait précis - une carte de combat avec une liste des meilleurs joueurs. <br><br>  Nous avons de nouveau fait le jeu sur Career Night et cette fois, nous avons décidé de combiner téléviseurs, téléphones et VR.  L'essentiel était que le joueur dans le casque VR vole sur le dragon et tire sur les princesses, qui sont contrôlées par les joueurs depuis les téléphones.  Celui qui a tué le dragon met un casque.  Et donc en cercle.  Je note modestement que l'application a fait face à sa fonction (collecter le maximum de personnes sur notre stand et les garder le plus longtemps possible).  En savoir plus sur les dragons détruisant les princesses <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br><img src="https://habrastorage.org/webt/kt/nr/tv/ktnrtvmwvhid7pgdgllpgwse4vq.png"><br><br><img src="https://habrastorage.org/webt/xh/if/py/xhifpyaxj0kpfa9grfviuqkq_w8.jpeg"><br>  <i>Fig.</i>  <i>3. Vue générale du stand</i> <br><br>  L'application TV a fourni une démonstration de la scène de bataille générale pour tous les arrivants. <br><br>  Dans ce projet, nous avons été confrontés à la nécessité d'optimiser un code auparavant stable et fonctionnant correctement.  Avec une augmentation du nombre d'acteurs, les indicateurs de performance des applications se sont nettement dégradés.  Nous avons identifié les principaux moyens d'optimisation: <br><br><ul><li>  réduire la quantité d'informations transmises du serveur aux clients et des clients au serveur; </li><li>  minimiser la création de nouveaux objets dans l'application. </li></ul><br>  La création de chaque nouvelle instance de la classe est perceptible à l'œil nu, de sorte que toutes les instances doivent être créées à l'avance et montrées à l'utilisateur si nécessaire. <br><br>  Sur le téléviseur à gauche est une vue depuis les lunettes VR, sur le téléviseur au centre est une carte de scène. <br><br><img src="https://habrastorage.org/webt/qh/ft/pn/qhftpndjjruxpuiwzu2wjszxdze.jpeg"><br>  <i>Fig.</i>  <i>4. Le gameplay.</i>  <i>À la télévision à gauche - vue depuis des lunettes VR, à la télévision au centre - plan de la scène</i> <br><br>  <b>Arrière-plan interactif</b> <br><br>  Vous pouvez à juste titre demander: "Travaillez-vous même là-bas, non?!"  A quoi je répondrai par un manque de sommeil sincère sur mon visage: "Bien sûr, je travaille!"  Mais plus à ce sujet plus tard.  Entre-temps, nous ne nous sommes pas assis et voulions mettre en place un arrière-plan interactif pour le quadricoptère.  Plus de détails sur le projet peuvent être trouvés <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  L'idée était de montrer à la télévision la succession même du Père Noël, qui répondrait au départ / arrivée du quadricoptère. <br><br>  Le principal intérêt était d'étirer l'image sur trois téléviseurs.  Différents fabricants. <br><br>  Nous l'avons fait en divisant toute la scène en «pièces».  Chaque téléviseur montrait une «pièce» avec son numéro.  Les numéros des "pièces" pourraient être modifiés, de sorte que les téléviseurs, en principe, pourraient montrer les mêmes parties d'une scène, mais nous avons montré la scène entière dans l'ordre.  Des commandes pour déplacer l'environnement des scènes (animaux, mouvement de la lune et fumée des cheminées) ont été transmises depuis le serveur via leurs WebSockets préférées. <br><br><img src="https://habrastorage.org/webt/ee/8o/rs/ee8orstkplgpslz-loybzdjx9xa.png"><br><br><img src="https://habrastorage.org/webt/t0/yt/m9/t0ytm9jrq4bz8xacsuc-dhqznhe.jpeg"><br>  <i>Fig.</i>  <i>5. Une scène s'étalant sur trois téléviseurs</i> <br><br>  Puisque nous connaissions l'heure d'arrivée / de départ du quadricoptère, l'idée est venue de faire du «vent» sur les téléviseurs, qui «soufflerait» la fumée des tuyaux avec un fonctionnement serré des vis. <br><br>  Encore une fois, la commande de décollage du quadricoptère via le serveur est descendue aux clients. <br><br>  Et là aussi, nous avons eu des difficultés de performance.  Le «vieux» webOS de 2013 a rendu une image extrêmement difficile (5760 × 1080).  J'ai dû couper la toile de fond à la taille de l'écran spécialement pour lui et la remplacer strictement. <br><br><blockquote>  <b>Moralité</b> : n'essayez pas de dessiner des images beaucoup plus grandes que l'écran du téléviseur.  Il ne survivra pas à cela. </blockquote><br>  Néanmoins, nous avons réussi à mettre en œuvre tout ce qui concerne la Smart TV et le backend. <br><br>  <b>TV - Garde?</b> <br><br>  Cependant, le projet le plus intéressant était complètement non-fictionnel, et quoi qu'il en soit, utile. <br><br>  L'application était engagée dans la sécurité à domicile.  Oui, c'est la télévision.  Oui, c'était gardé. <br><br>  L'essence de l'application est que l'appareil photo existant prend tout ce qui se passe devant lui, et en cas de changement brusque de l'image, il prend des mesures pour choisir: <br><br><ul><li>  crier fort; </li><li>  envoie des SMS à l'utilisateur; </li><li>  écrit une lettre avec des photos jointes de l'incident; </li><li>  écrit également un message à FB avec des images; </li><li>  fait tout cela à la fois ou dans des variantes. </li></ul><br>  En ce moment, la télévision elle-même prétend lourdement être une botte en feutre et ne fonctionne pas du tout.  Dans l'application, les cas de mise hors tension du téléviseur à partir d'Internet ou simplement de l'alimentation ont été traités.  L'application prend en charge le multilinguisme. <br><br>  Des dizaines de milliers de personnes l'ont installé pour eux-mêmes. <br><br>  Mais ici, ce n'était pas simple. <br><br>  Lorsque vous connectez la caméra et essayez d'en obtenir un flux dans le navigateur, comme vous le savez, la fenêtre contextuelle du système disparaît avec la confirmation de l'action.  La particularité est que les téléviseurs bloquent toutes les fenêtres pop-up.  Par conséquent, notre application a été mise en œuvre uniquement sur la plate-forme Samsung à l'aide de la caméra TV intégrée ou d'une caméra spéciale fournie par le même Samsung. <br><br>  Un autre inconvénient était, encore une fois, les performances du téléviseur.  Sur des téléviseurs relativement anciens (2013), on pourrait se faufiler devant la caméra et le téléviseur «giflerait» ce moment. <br><br>  Mais dans l'ensemble, l'idée est tout simplement géniale. <br><br><h3>  Conclusion </h3><br>  Les téléviseurs ont depuis longtemps dépassé leur fonction principale - pour afficher une image d'une chaîne, pour montrer vidosiki ou pour être un deuxième moniteur. <br><br>  Leurs capacités et leurs performances ne cessent de croître, et le champ d'application n'est limité que par votre imagination.  Toutes les tâches peuvent être résolues en tenant dûment compte de l'idée et de la mise en œuvre appropriée.  Osez et réussissez! <br><br>  Télévision tout le monde! <br><br>  Z.Y.  Peut-être que vous, lecteur, avez eu des tâches inhabituelles pour la télévision intelligente lorsque vous avez dû utiliser la télévision dans un rôle inhabituel?  Partagez-le!  Dis moi! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr473366/">https://habr.com/ru/post/fr473366/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr473352/index.html">Collections simultanées en 10 minutes</a></li>
<li><a href="../fr473354/index.html">À propos des bizarreries de la habrostatistique</a></li>
<li><a href="../fr473358/index.html">Installer et configurer Nexus Sonatype en utilisant l'infrastructure comme approche de code</a></li>
<li><a href="../fr473362/index.html">Expérience GSoC: Comment deux (trois) étudiants ont vraiment amélioré le code CRIU</a></li>
<li><a href="../fr473364/index.html">Il y a un gobie qui se balance: une liste de contrôle pour le commerce électronique pendant la saison des ventes</a></li>
<li><a href="../fr473368/index.html">MIRO est une plate-forme de robot intérieure ouverte. Partie 3 - Composant logiciel: ESP8266</a></li>
<li><a href="../fr473372/index.html">Création d'un service de suivi d'appels simple, partie 1</a></li>
<li><a href="../fr473374/index.html">Comment nous avons intégré YouTube Live avec Zoom</a></li>
<li><a href="../fr473376/index.html">Fuite de documentation sur Windows 10X sur le réseau - une nouvelle version du système d'exploitation pour les appareils à deux écrans</a></li>
<li><a href="../fr473378/index.html">Accords de licence de logiciels malveillants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>