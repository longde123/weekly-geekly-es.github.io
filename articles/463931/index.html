<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ñ´Ô∏è üöà üì¨ Explorando las profundidades de las anotaciones de tipo en Python. Parte 2 üë©üèº‚Äçü§ù‚Äçüë®üèæ üôÉ üë™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy publicamos la segunda parte de una traducci√≥n del material, que se dedica a las anotaciones de tipo en Python. 

  

 ‚Üí La primera parte 

 ¬øC√≥mo ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Explorando las profundidades de las anotaciones de tipo en Python. Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/463931/">  Hoy publicamos la segunda parte de una traducci√≥n del material, que se dedica a las anotaciones de tipo en Python. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/wr/lw/bq/wrlwbqu0zinltnd22qtfjqnhsb4.jpeg"></a> <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La primera parte</a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">¬øC√≥mo admite Python los tipos de datos?</font> </h2><br>  Python es un lenguaje de tipo din√°mico.  Esto significa que los tipos de variables utilizadas se verifican solo durante la ejecuci√≥n del programa.  En el ejemplo dado en la parte anterior del art√≠culo, se pod√≠a ver que un programador que escribe en Python no necesitaba planificar los tipos de variables y pensar cu√°nta memoria se necesitar√≠a para almacenar sus datos. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Esto es</a> lo que sucede cuando prepara su c√≥digo Python para su ejecuci√≥n: ‚ÄúEn Python, el c√≥digo fuente se convierte, usando CPython, a una forma mucho m√°s simple llamada bytecode.  El c√≥digo de bytes consta de instrucciones que, en esencia, son similares a las instrucciones del procesador.  Pero no son ejecutados por el procesador, sino por un sistema de software llamado m√°quina virtual.  (No se trata de m√°quinas virtuales cuyas capacidades le permiten ejecutar sistemas operativos completos en ellas. En nuestro caso, este es un entorno que es una versi√≥n simplificada del entorno disponible para los programas que se ejecutan en el procesador) ". <br><br>  ¬øC√≥mo sabe CPython qu√© tipos de variables deber√≠an ser cuando prepara un programa para su ejecuci√≥n?  Despu√©s de todo, no indicamos estos tipos.  CPython no sabe sobre esto.  Solo sabe que las variables son objetos.  Todo en Python es un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">objeto</a> , al menos hasta que resulta que algo tiene un tipo m√°s espec√≠fico. <br><br>  Por ejemplo, Python considera como una cadena todo lo que est√° encerrado entre comillas simples o dobles.  Si Python encuentra un n√∫mero, considera que el valor correspondiente es de tipo num√©rico.  Si intentamos hacer algo con una entidad que no se puede hacer con una entidad de su tipo, Python nos lo har√° saber m√°s tarde. <br><br>  Considere el siguiente mensaje de error que aparece cuando intenta agregar una cadena y un n√∫mero: <br><br><pre><code class="python hljs">name = <span class="hljs-string"><span class="hljs-string">'Vicki'</span></span> seconds = <span class="hljs-number"><span class="hljs-number">4.71</span></span>; --------------------------------------------------------------------------- TypeError                 Traceback (most recent call last) &lt;ipython-input<span class="hljs-number"><span class="hljs-number">-9</span></span><span class="hljs-number"><span class="hljs-number">-71805</span></span>d305c0b&gt; <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt;       <span class="hljs-number"><span class="hljs-number">3</span></span>       <span class="hljs-number"><span class="hljs-number">4</span></span> ----&gt; <span class="hljs-number"><span class="hljs-number">5</span></span> name + seconds TypeError: must be str, <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> float</code> </pre> <br>  El sistema nos dice que no puede agregar cadenas y n√∫meros de punto flotante.  Adem√°s, el hecho de que <code>name</code> es una cadena y <code>seconds</code> es un n√∫mero, no interes√≥ al sistema hasta que se intent√≥ agregar <code>name</code> y <code>seconds</code> . <br><br>  En otras palabras, se puede describir de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">siguiente manera</a> : ‚ÄúLa escritura de pato se usa cuando se realiza la suma.  Python no est√° interesado en qu√© tipo tiene un objeto en particular.  Todo lo que le interesa al sistema es si devuelve una llamada significativa al m√©todo de adici√≥n.  Si no es as√≠, se emite un error ". <br><br>  ¬øQu√© significar√≠a eso?  Esto significa que si escribimos programas en Python, no recibiremos un mensaje de error hasta que el int√©rprete de CPython participe en la ejecuci√≥n de la misma l√≠nea en la que hay un error. <br><br>  Este enfoque era inconveniente cuando se aplicaba en equipos que trabajaban en grandes proyectos.  El hecho es que en tales proyectos no trabajan con variables separadas, sino con estructuras de datos complejas.  En tales proyectos, algunas funciones son llamadas por otras, y esas, a su vez, son llamadas por algunas otras funciones.  Los miembros del equipo deber√≠an poder verificar r√°pidamente el c√≥digo de sus proyectos.  Si no pueden escribir buenas pruebas que detecten errores en los proyectos antes de que se pongan en producci√≥n, esto significa que dichos proyectos pueden esperar grandes problemas. <br><br>  Hablando estrictamente, aqu√≠ llegamos a la conversaci√≥n sobre las anotaciones de tipo en Python. <br><br>  Podemos decir que, en general, el uso de anotaciones de tipo tiene muchas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">fortalezas</a> .  Si trabaja con estructuras o funciones de datos complejas que toman muchos valores de entrada, el uso de anotaciones simplifica enormemente el trabajo con estructuras y funciones similares.  Especialmente, alg√∫n tiempo despu√©s de su creaci√≥n.  Si solo tiene una funci√≥n con un par√°metro, como en los ejemplos dados aqu√≠, entonces trabajar con dicha funci√≥n es, en cualquier caso, muy simple. <br><br>  ¬øQu√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sucede</a> si necesitamos trabajar con funciones complejas que toman muchos valores de entrada que son similares a esto de la documentaci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PyTorch</a> : <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">train</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args, model, device, train_loader, optimizer, epoch)</span></span></span><span class="hljs-function">:</span></span>    model.train()    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> batch_idx, (data, target) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(train_loader):        data, target = data.to(device), target.to(device)        optimizer.zero_grad()        output = model(data)        loss = F.nll_loss(output, target)        loss.backward()        optimizer.step()        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> batch_idx % args.log_interval == <span class="hljs-number"><span class="hljs-number">0</span></span>:            print(<span class="hljs-string"><span class="hljs-string">'Train Epoch: {} [{}/{} ({:.0f}%)]\tLoss: {:.6f}'</span></span>.format(                epoch, batch_idx * len(data), len(train_loader.dataset), <span class="hljs-number"><span class="hljs-number">100.</span></span> * batch_idx / len(train_loader), loss.item()))</code> </pre> <br>  ¬øQu√© es el <code>model</code> ?  Por supuesto, podemos profundizar en la base del c√≥digo y descubrir: <br><br><pre> <code class="python hljs">model = Net().to(device)</code> </pre> <br>  Pero ser√≠a bueno si pudiera especificar el tipo de <code>model</code> en la firma de la funci√≥n y salvarse del an√°lisis de c√≥digo innecesario.  Quiz√°s se ver√≠a as√≠: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">train</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args, model </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(type Net)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, device, train_loader, optimizer, epoch)</span></span></span><span class="hljs-function">:</span></span></code> </pre> <br>  ¬øQu√© pasa con el <code>device</code> ?  Si revisa el c√≥digo, puede averiguar lo siguiente: <br><br><pre> <code class="python hljs">device = torch.device(<span class="hljs-string"><span class="hljs-string">"cuda"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> use_cuda <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"cpu"</span></span>)</code> </pre> <br>  Ahora nos enfrentamos a la pregunta de qu√© <code>torch.device</code> .  Este es un tipo especial de PyTorch.  Su descripci√≥n se puede encontrar en la <a href="">secci√≥n correspondiente de</a> la documentaci√≥n de PyTorch. <br><br>  Ser√≠a bueno si pudi√©ramos especificar el tipo de <code>device</code> en la lista de argumentos de la funci√≥n.  Por lo tanto, ahorrar√≠amos mucho tiempo para aquellos que tendr√≠an que analizar este c√≥digo. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">train</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args, model </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(type Net)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, device </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(type torch.Device)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, train_loader, optimizer, epoch)</span></span></span><span class="hljs-function">:</span></span></code> </pre> <br>  Estas consideraciones pueden continuar por mucho tiempo. <br><br>  Como resultado, resulta que las anotaciones de tipo son muy √∫tiles para alguien que escribe c√≥digo.  Pero tambi√©n benefician a quienes leen el c√≥digo de otras personas.  Es mucho m√°s f√°cil leer el c√≥digo escrito que el c√≥digo, para entender cu√°l tiene que lidiar con lo que es una entidad.  Las anotaciones de tipo mejoran la legibilidad del c√≥digo. <br><br>  Entonces, ¬øqu√© se ha hecho en Python para llevar el c√≥digo al mismo nivel de legibilidad que distingue el c√≥digo escrito en lenguajes est√°ticamente escritos? <br><br><h2>  <font color="#3AC1EF">Escribir anotaciones en Python</font> </h2><br>  Ahora estamos listos para hablar en serio sobre las anotaciones de tipo en Python.  Al leer los programas escritos en Python 2, se puede ver que los programadores proporcionaron su c√≥digo con sugerencias que les dicen a los lectores del c√≥digo qu√© tipo de variables o valores devuelven las funciones. <br><br>  C√≥digo similar originalmente se ve√≠a as√≠: <br><br><pre> <code class="python hljs">users = [] <span class="hljs-comment"><span class="hljs-comment"># type: List[UserID] examples = {} # type: Dict[str, Any]</span></span></code> </pre> <br>  Las anotaciones de tipo sol√≠an ser simples comentarios.  Pero sucedi√≥ que Python comenz√≥ a cambiar gradualmente hacia una forma m√°s uniforme de manejar las anotaciones.  En particular, estamos hablando de la aparici√≥n del documento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PEP 3107</a> , dedicado a la anotaci√≥n de funciones. <br><br>  A continuaci√≥n, se comenz√≥ a trabajar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PEP 484</a> .  Este documento, dedicado a las anotaciones de tipo, se desarroll√≥ en estrecha relaci√≥n con mypy, el proyecto DropBox, que tiene como objetivo verificar los tipos antes de ejecutar scripts.  Con mypy, vale la pena recordar que la verificaci√≥n de tipo no se realiza durante la ejecuci√≥n del script.  Se puede recibir un mensaje de error en tiempo de ejecuci√≥n si, por ejemplo, intenta hacer algo de un tipo que este tipo no admite.  Diga: si intenta cortar un diccionario o llamar al m√©todo <code>.pop()</code> para una cadena. <br><br>  Esto es lo que puede aprender de PEP 484 sobre los detalles de la implementaci√≥n de la anotaci√≥n: ‚ÄúAunque estas anotaciones est√°n disponibles en tiempo de ejecuci√≥n a trav√©s del atributo de <code>annotations</code> regulares, no se realizan verificaciones de tipo en tiempo de ejecuci√≥n.  En cambio, esta propuesta prev√© la existencia de una herramienta de verificaci√≥n de tipos independiente, con la cual el usuario, si lo desea, puede verificar el c√≥digo fuente de sus programas.  En general, una herramienta de comprobaci√≥n de tipo similar funciona como un linter muy potente.  "Aunque, por supuesto, los usuarios individuales pueden usar una herramienta similar para verificar los tipos en tiempo de ejecuci√≥n, ya sea para la implementaci√≥n de la metodolog√≠a de Dise√±o por Contrato o para la implementaci√≥n de la optimizaci√≥n JIT. Pero debe tenerse en cuenta que dichas herramientas a√∫n no han alcanzado la madurez suficiente". <br><br>  ¬øC√≥mo es trabajar con anotaciones de tipo en la pr√°ctica? <br><br>  Por ejemplo, su uso significa la posibilidad de facilitar el trabajo en varios IDE.  Por lo tanto, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PyCharm</a> ofrece, seg√∫n la informaci√≥n de tipo, la finalizaci√≥n del c√≥digo y la verificaci√≥n.  Caracter√≠sticas similares est√°n disponibles en VS Code. <br><br>  Las anotaciones de tipo son √∫tiles por una raz√≥n m√°s: protegen al desarrollador de errores est√∫pidos.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay un</a> gran ejemplo de tal protecci√≥n. <br><br>  Supongamos que agregamos los nombres de personas al diccionario: <br><br><pre> <code class="python hljs">names = {<span class="hljs-string"><span class="hljs-string">'Vicki'</span></span>: <span class="hljs-string"><span class="hljs-string">'Boykis'</span></span>,         <span class="hljs-string"><span class="hljs-string">'Kim'</span></span>: <span class="hljs-string"><span class="hljs-string">'Kardashian'</span></span>} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dict, first_name, last_name)</span></span></span><span class="hljs-function">:</span></span>    dict[first_name] = last_name   append_name(names,<span class="hljs-string"><span class="hljs-string">'Kanye'</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>)</code> </pre> <br>  Si permitimos esto, habr√° muchas entradas formadas incorrectamente en el diccionario. <br>  Vamos a arreglar esto: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> typing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Dict names_new: Dict[str, str] = {<span class="hljs-string"><span class="hljs-string">'Vicki'</span></span>: <span class="hljs-string"><span class="hljs-string">'Boykis'</span></span>,                             <span class="hljs-string"><span class="hljs-string">'Kim'</span></span>: <span class="hljs-string"><span class="hljs-string">'Kardashian'</span></span>} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dic: Dict[str, str] , first_name: str, last_name: str)</span></span></span><span class="hljs-function">:</span></span>    dic[first_name] = last_name append_name(names_new,<span class="hljs-string"><span class="hljs-string">'Kanye'</span></span>,<span class="hljs-number"><span class="hljs-number">9.7</span></span>) names_new</code> </pre> <br>  Ahora verifique este c√≥digo con mypy y obtenga lo siguiente: <br><br><pre> <code class="python hljs">(kanye) mbp-vboykis:types vboykis$ mypy kanye.py kanye.py:<span class="hljs-number"><span class="hljs-number">9</span></span>: error: Argument <span class="hljs-number"><span class="hljs-number">3</span></span> to <span class="hljs-string"><span class="hljs-string">"append_name"</span></span> has incompatible type <span class="hljs-string"><span class="hljs-string">"float"</span></span>; expected <span class="hljs-string"><span class="hljs-string">"str"</span></span></code> </pre> <br>  Se puede ver que mypy no le permite usar el n√∫mero donde se espera la cadena.  Se recomienda a aquellos que quieran usar tales pruebas de manera regular que incluyan mypy donde se realizan pruebas de c√≥digo en sus sistemas de integraci√≥n continua. <br><br><h2>  <font color="#3AC1EF">Escriba sugerencias en varios IDE</font> </h2><br>  Uno de los beneficios m√°s importantes del uso de anotaciones de tipo es que permiten a los programadores de Python usar las mismas funciones de finalizaci√≥n de c√≥digo en varios IDE que est√°n disponibles para lenguajes est√°ticamente escritos. <br><br>  Por ejemplo, suponga que tiene un fragmento de c√≥digo similar al siguiente.  Este es un par de funciones de ejemplos anteriores envueltos en clases. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> typing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Dict <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rainfallRate</span></span></span><span class="hljs-class">:</span></span>    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, hours, inches)</span></span></span><span class="hljs-function">:</span></span>        self.hours= hours        self.inches = inches    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculateRate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, inches:int, hours:int)</span></span></span><span class="hljs-function"> -&gt; float:</span></span>        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> inches/hours rainfallRate.calculateRate() <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">addNametoDict</span></span></span><span class="hljs-class">:</span></span>    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, first_name, last_name)</span></span></span><span class="hljs-function">:</span></span>        self.first_name = first_name        self.last_name = last_name        self.dict = dict    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dict:Dict[str, str], first_name:str, last_name:str)</span></span></span><span class="hljs-function">:</span></span>        dict[first_name] = last_name addNametoDict.append_name()</code> </pre> <br>  Lo bueno es que nosotros, por iniciativa propia, agregamos descripciones de tipo al c√≥digo, podemos observar lo que sucede en el programa cuando se llaman los m√©todos de clase: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8dd/b42/ded/8ddb42ded904ffe516a90d990a7ff856.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/731/336/a7a/731336a7aa97c55b1e60930ada747ac0.png"></div><br>  <i><font color="#999999">Sugerencias de tipo IDE</font></i> <br><br><h2>  <font color="#3AC1EF">Comenzando con las anotaciones de tipo</font> </h2><br>  Puede encontrar buenas recomendaciones en la documentaci√≥n de mypy con respecto a qu√© comenzar al comenzar a escribir la base de c√≥digo: <br><br><ol><li>  Comience con algo peque√±o: aseg√∫rese de que algunos archivos que contienen varias anotaciones est√©n validados con mypy. </li><li>  Escribe un script para ejecutar mypy.  Esto ayudar√° a lograr resultados de prueba consistentes. </li><li>  Ejecute mypy en las canalizaciones de CI para evitar errores de tipo. </li><li>  Anote gradualmente los m√≥dulos que se utilizan con mayor frecuencia en el proyecto. </li><li>  Agregue anotaciones de tipo al c√≥digo existente que est√° modificando;  equ√≠palos con el nuevo c√≥digo que escribes. </li><li>  Use MonkeyType o PyAnnotate para anotar autom√°ticamente el c√≥digo antiguo. </li></ol><br>  Antes de embarcarse en anotar su propio c√≥digo, le ser√° √∫til lidiar con algo. <br><br>  Primero, necesitar√° importar el m√≥dulo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mecanograf√≠a</a> en el c√≥digo si usa algo distinto de cadenas, enteros, booleanos y los valores de otros tipos b√°sicos de Python. <br><br>  En segundo lugar, este m√≥dulo permite trabajar con varios tipos complejos.  Entre ellos est√°n <code>Dict</code> , <code>Tuple</code> , <code>List</code> y <code>Set</code> .  Una construcci√≥n de la forma <code>Dict[str, float]</code> significa que desea trabajar con un diccionario cuyos elementos usan una cadena como clave y un n√∫mero de coma flotante como valor.  Tambi√©n hay tipos llamados <code>Optional</code> y <code>Union</code> . <br><br>  En tercer lugar, debe familiarizarse con el formato de las anotaciones de tipo: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> typing <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(variable: type)</span></span></span><span class="hljs-function"> -&gt; return_type:</span></span>  do_something</code> </pre> <br>  Si desea saber m√°s acerca de c√≥mo comenzar a aplicar anotaciones de tipo en sus proyectos, me gustar√≠a se√±alar que se dedican muchos buenos tutoriales a esto.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> est√° uno de ellos.  Lo considero el mejor.  Una vez dominado, aprender√° sobre la anotaci√≥n de c√≥digo y su verificaci√≥n. <br><br><h2>  <font color="#3AC1EF">Los resultados</font>  <font color="#3AC1EF">¬øVale la pena usar anotaciones de tipo en Python?</font> </h2><br>  Ahora pregunt√©monos si deber√≠a usar anotaciones de tipo en Python.  En realidad, depende de las caracter√≠sticas de su proyecto.  Esto es lo que dice Guido van Rossum sobre esto en la documentaci√≥n para mypy: ‚ÄúEl prop√≥sito de mypy no es convencer a todos de escribir c√≥digo Python est√°ticamente escrito.  La escritura est√°tica es completamente opcional ahora y en el futuro.  El objetivo de Mypy es dar a los programadores de Python m√°s opciones.  Es hacer de Python una alternativa m√°s competitiva a otros lenguajes de tipo est√°tico utilizados en grandes proyectos.  Es aumentar la productividad de los programadores y mejorar la calidad del software ". <br><br>  El tiempo requerido para configurar mypy y planificar los tipos necesarios para un determinado programa no se justifica en proyectos peque√±os y durante experimentos (por ejemplo, los realizados en Jupyter).  ¬øQu√© proyecto debe considerarse peque√±o?  Probablemente aquel cuyo volumen, seg√∫n estimaciones cuidadosas, no exceda de 1000 l√≠neas. <br><br>  Las anotaciones de tipo tienen sentido en proyectos m√°s grandes.  All√≠ pueden, en particular, ahorrar mucho tiempo.  Estamos hablando de proyectos desarrollados por grupos de programadores, sobre paquetes, sobre c√≥digo, que se utilizan en el desarrollo de sistemas de control de versiones y canalizaciones CI. <br><br>  Creo que las anotaciones de tipo en los pr√≥ximos a√±os se volver√°n mucho m√°s comunes que ahora, sin mencionar el hecho de que bien pueden convertirse en una herramienta cotidiana.  Y creo que alguien que comienza a trabajar con ellos antes que los dem√°s no perder√° nada. <br><br>  <b>Estimados lectores!</b>  ¬øUtiliza anotaciones de tipo en sus proyectos de Python? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/463931/">https://habr.com/ru/post/463931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../463921/index.html">(No muy) costos ocultos de la base de c√≥digo com√∫n de iOS y Android</a></li>
<li><a href="../463923/index.html">.container ya no es necesario</a></li>
<li><a href="../463925/index.html">Vivaldi: ¬øC√≥mo contamos el n√∫mero de usuarios?</a></li>
<li><a href="../463927/index.html">Elusi√≥n de seguridad y censura: 5 VPN y proxies para Google Chrome</a></li>
<li><a href="../463929/index.html">Explorando las profundidades de las anotaciones de tipo en Python. Parte 1</a></li>
<li><a href="../463933/index.html">Un script de Python de 20 l√≠neas que les desea a los padres buenos d√≠as todos los d√≠as a trav√©s de WhatsApp</a></li>
<li><a href="../463937/index.html">No tengo nada que esconder</a></li>
<li><a href="../463939/index.html">SimbirSoft ha lanzado una soluci√≥n m√≥vil para compa√±√≠as de seguros</a></li>
<li><a href="../463943/index.html">Las desventuras del unicornio negro</a></li>
<li><a href="../463951/index.html">c.tech: Cassandra Meetup # 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>