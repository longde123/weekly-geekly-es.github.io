<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โน๐ฝ ๐ ๐ธ ุงูููุงุทุนุงุช ูู ุงูุฃุฌูุฒุฉ ุงูุฎุงุฑุฌูุฉ ูู ูุธุงู x86. ุงูุฌุฒุก 3. ุชูููู ุชูุฌูู ุงูููุงุทุนุฉ ูู ุดุฑุงุฆุญ ุจุงุณุชุฎุฏุงู ุงููุซุงู ุงูุฃุณุงุณูุฉ ๐จ๐ฟโ๐ ๐ฆ ๐จโ๐ฉโ๐งโ๐ง</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุณุชูุฑ ูู ุงููุธุฑ ูู ุชูููู ุงูููุงุทุนุงุช ูู ุฃุฌูุฒุฉ ุฎุงุฑุฌูุฉ ูู ูุธุงู x86. 
 ูู ุงูุฌุฒุก 1 ( ุชุทูุฑ ูุญุฏุงุช ุชุญูู ุงูููุงุทุนุฉ ) ุ ุฏุฑุณูุง ุงูุฃุณุณ ุงููุธุฑูุฉ ููุญุฏุงุช ุงูุชุญูู ูู ุงูููุงุท...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูููุงุทุนุงุช ูู ุงูุฃุฌูุฒุฉ ุงูุฎุงุฑุฌูุฉ ูู ูุธุงู x86. ุงูุฌุฒุก 3. ุชูููู ุชูุฌูู ุงูููุงุทุนุฉ ูู ุดุฑุงุฆุญ ุจุงุณุชุฎุฏุงู ุงููุซุงู ุงูุฃุณุงุณูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440304/" style=";text-align:right;direction:rtl"> ูุณุชูุฑ ูู ุงููุธุฑ ูู ุชูููู ุงูููุงุทุนุงุช ูู ุฃุฌูุฒุฉ ุฎุงุฑุฌูุฉ ูู ูุธุงู x86. <br>  ูู ุงูุฌุฒุก 1 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุทูุฑ ูุญุฏุงุช ุชุญูู ุงูููุงุทุนุฉ</a> ) ุ ุฏุฑุณูุง ุงูุฃุณุณ ุงููุธุฑูุฉ ููุญุฏุงุช ุงูุชุญูู ูู ุงูููุงุทุนุฉ ูุงููุตุทูุญุงุช ุงูุนุงูุฉ ุ ูู ุงูุฌุฒุก 2 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฎูุงุฑุงุช ุงูุชูููุฏ kernel Linux</a> ) ุ ุจุญุซูุง ูู ููููุฉ ููุงู ูุธุงู ุงูุชุดุบูู ุจุงุฎุชูุงุฑ ุจูู ูุญุฏุงุช ุงูุชุญูู ูู ุงูููุงุฑุณุฉ.  ูู ูุฐุง ุงูุฌุฒุก ุ ุณููุธุฑ ูู ููููุฉ ููุงู BIOS ุจุชูููู ุชูุฌูู IRQ ููุญุฏุงุช ุงูุชุญูู ูู ุงูููุงุทุนุฉ ูู ูุฌููุนุฉ ุงูุดุฑุงุฆุญ. <br><br>  ูุง ุชูุฌุฏ ุดุฑูุงุช ุชุทููุฑ BIOS ุญุฏูุซุฉ (AwardBIOS / AMIBIOS / Insyde) ุชูุดู ุนู ุงูููุฏ ุงููุตุฏุฑู ูุจุฑุงูุฌูุง.  ูููู ูุญุณู ุงูุญุธ ุ ููุฌุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Coreboot</a> ุ ููู ูุดุฑูุน ูุงุณุชุจุฏุงู BIOS ุงูุฎุงุต ุจุจุฑูุฌูุงุช ูุฌุงููุฉ.  ูู ุงูููุฏ ุ ุณูุฑู ููู ูุชู ุชูููู ุชูุฌูู ุงูููุงุทุนุฉ ูู ูุฌููุนุฉ ุงูุดุฑุงุฆุญ. <br><br><img src="https://habrastorage.org/webt/mx/vi/wu/mxviwuisp5rglec_kgsk872hmy8.png"><br><br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุงููุธุฑูุฉ </h2><br>  ุฃููุงู ุ ูู ุจุชุญุฏูุซ ูุงุณุชููุงู ุงููุนุฑูุฉ ุงููุธุฑูุฉ ูุฏููุง.  ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1 ุ</a> ุญุฏุฏูุง ูุณุงุฑ ููุงุทุนุฉ ูุดุชุฑู ูุญุงูุฉ PIC ู APIC. <br><br>  <b>ุงูููุงููุฉ ุงููุณุจูุฉ ุนู ุนูู:</b> <br><br><img src="https://habrastorage.org/webt/u_/jr/u9/u_jru9pemdeda2xvvbqihvgtp3y.png"><br><br>  <b>APIC:</b> <br><br><img src="https://habrastorage.org/webt/mc/ra/hj/mcrahjn-owk9qrcmyiixcmhomcq.png"><br><br>  ูู ูุฐู ุงูุฃุดูุงู ุ ูุชู ุนุฑุถ ุชุฎุทูุท PCI โ PCI ุจุดูู ุชุฌุฑูุฏู ุ ูู ุงููุงูุน ุ ูู ุฃูุซุฑ ุชุนููุฏูุง ุฅูู ุญุฏ ูุง.  ูู ุงููุงูุน ุ ูุญุชูู ูู ุฌูุงุฒ PCI ุนูู 4 ุฎุทูุท ููุงุทุนุฉ (INTA # ู INTB # ู INTC # ู INTD #).  ูููู ุฃู ูุญุชูู ูู ุฌูุงุฒ PCI ุนูู ูุง ูุตู ุฅูู 8 ูุธุงุฆู ูููู ูุธููุฉ ุจุงููุนู ููุงุทุนุฉ INTx # ูุงุญุฏุฉ.  ุฃู ุณุทุฑ ูู INTx # ุณูุชู ุณุญุจ ูู ูุธููุฉ ูู ูุธุงุฆู ุงูุฌูุงุฒ ุฅูุง ุซุงุจุช ูู ุงูุฃุฌูุฒุฉ ุฃู ูุชู ุชุญุฏูุฏู ูู ุฎูุงู ุชูููู ุงูุฌูุงุฒ. <br><br><img src="https://habrastorage.org/webt/dk/ny/gh/dknyghwfo8gktn5l_lmmqb5awz0.png"><br><br>  ูู ุฌููุฑูุง ุ ูุธุงุฆู ูู ูุชู ููุทููุฉ ูููุตูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุฌูุงุฒ PCI ูุงุญุฏ ุ ูุฏ ุชููู ููุงู ูุธููุฉ ุฌูุงุฒ ุชุญูู Smbus ุ ููุญุฏุฉ ุชุญูู SATA ุ ููุธููุฉ ุฌุณุฑ LPC.  ุนูู ุฌุงูุจ ูุธุงู ุงูุชุดุบูู ุ ูู ูุธููุฉ ุนุจุงุฑุฉ ุนู ุฌูุงุฒ ูููุตู ุจู ูุณุงุญุฉ ุชูููู PCI Config ุงูุฎุงุตุฉ ุจู. <br><br>  ูู ุฃุจุณุท ุงูุญุงูุงุช (ูุฃูุซุฑูุง ุดููุนูุง) ูู ุฌูุงุฒ PCI ุ ููุงู ูุธููุฉ ูุงุญุฏุฉ ููุท ุ ุชุชู ุงูููุงุทุนุฉ ุนุจุฑ ุฎุท INTA #.  ูููู ุจุดูู ุนุงู ุ ูุฏ ูุญุชูู ุงูุฌูุงุฒ ุนูู ุฃูุซุฑ ูู 4 ูุธุงุฆู (ููุง ูููุง ูุจู 8) ุ ุซู ุณูุชุนูู ุฒุฑุน ุจุนุถูุง ุนูู ุณุทุฑ INTx # ูุงุญุฏ (ููุงุทุนุงุช PCI ูููู ุฃู ุชูุณู ุงูุฎุท).  ุฃูุถูุง ุ ุจุงููุณุจุฉ ูุฃุฌูุฒุฉ PCI ุงููุถููุฉ ูู ูุฌููุนุฉ ุงูุดุฑุงุฆุญ ุนู ุทุฑูู ุงููุชุงุจุฉ ุฅูู ุงูุณุฌูุงุช ุงูุฎุงุตุฉ ุ ูู ุงููููู ุบุงูุจูุง ุงูุฅุดุงุฑุฉ ุฅูู ุงููุธุงุฆู ุงูุชู ุชุณุชุฎุฏู ุฃุณุทุฑ INTx # (ููุง ุฅุฐุง ูุงูุช ุชุณุชุฎุฏู ุนูู ุงูุฅุทูุงู). <br><br>  ูููุฌูุฉ ูุนุฑูุชูุง ุ ูุดูุฑ ุฅูู ูุณุงุฑ (ุงูุชูุฌูู) ูู ุงูุงููุทุงุนุงุช ูู ุฃู ูุธููุฉ PCI ูู ุฎูุงู INTx # โ PIRQy โ IRQz ุ ุญูุซ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  INTx # - ุณุทุฑ INT # (INTA # ุ INTB # ุ INTC # ุ INTD #) ูุฌูุงุฒ PCI ุงูุฐู ุณุชุณุชุฎุฏูู ุงููุธููุฉ </li><li style=";text-align:right;direction:rtl">  PIRQy - ุฎุท PIRQ (PIRQA ุ PIRQB ุ ...) ูู PIR ุงูุฐู ูุชุตู ุจู ุฎุท INTx # </li><li style=";text-align:right;direction:rtl">  IRQz - ุฎุท IRQ (0 ุ 1 ุ 2 ุ ...) ุนูู ูุญุฏุฉ ุชุญูู ุงูููุงุทุนุฉ (APIC / PIC) ุ ููู ูุชุตู ุจุฎุท PIRQy </li></ul><br><h3 style=";text-align:right;direction:rtl">  ููุงุฐุง ูุง ููููู ุงูุงุชุตุงู ููุท ูู ูู ููุงู INTA # โ PIRQA ุ INTB # โ PIRQB ุ ...ุ </h3><br>  ููุงุฐุง ุชูุชู ุจุฅุนุฏุงุฏ ุงูุชูุฌูู ุนูู ุงูุฅุทูุงูุ  ูููุชุฑุถ ุฃููุง ูุฑุฑูุง ุนุฏู ุงูุฅุฒุนุงุฌ ูุงูุญุตูู ุนูู ุฌููุน ุฎุทูุท ุงูููุงุทุนุฉ ูู ุฌููุน ุฃุฌูุฒุฉ PCI ุฅูู ููุณ ุฎุทูุท PIRQ.  ุฏุนูุง ูููู ูุฐุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  INTA # โ PIRQA </li><li style=";text-align:right;direction:rtl">  INTB # โ PIRQB </li><li style=";text-align:right;direction:rtl">  INTC # โ PIRQC </li><li style=";text-align:right;direction:rtl">  INTD # โ PIRQD </li></ul><br>  ููุง ูููุง ุฃุนูุงู ุ ูุฅู ุงูุญุงูุฉ ุงูุฃูุซุฑ ุดููุนูุง ูู ุนูุฏูุง ูููู ูุฌูุงุฒ PCI ูุธููุฉ ูุงุญุฏุฉ ุ ูุงููุทุงุนู ูุชุตู ุจุฎุท INTA # (ููุงุฐุง ูุฌุจ ุนูู ูุทูุฑ ุงูุฌูุงุฒ ุชุดุบููู ุจุดูู ูุฎุชููุ).  ูุฐูู ุฅุฐุง ูุฑุฑูุง ูุฌุฃุฉ ุจุฏุก ุฌููุน ุงูุฎุทูุท ููุง ูุชุจูุง ุ ูุณูุชู ุชูุณูู ุฌููุน ุงูููุงุทุนุงุช ูู ุงูุฃุฌูุฒุฉ ุชูุฑูุจูุง ุฅูู ุฎุทูุท PIRQA.  ุฏุนูุง ูููู ุฃููุง ุฃููุช IRQ16.  ุซู ูู ูู ูุฑุฉ ูุชู ูููุง ุฅุจูุงุบ ุงููุนุงูุฌ ุจุญุฏูุซ ููุงุทุนุฉ ุนูู ุฎุท IRQ16 ุ ุณูุชุนูู ุนููู ุงุณุชุฌูุงุจ ุจุฑุงูุฌ ุชุดุบูู ุฌููุน ุงูุฃุฌูุฒุฉ ุงููุชุตูุฉ ุจุฎุท IRQ16 (PIRQA) ุฅุฐุง ูุงูุช ููุงู ููุงุทุนุฉ ููุง.  ุฅุฐุง ูุงู ููุงู ุงูุนุฏูุฏ ูู ูุฐู ุงูุฃุฌูุฒุฉ ุ ููู ูุคุฏู ุฐูู ุจุทุจูุนุฉ ุงูุญุงู ุฅูู ุชุณุฑูุน ุงุณุชุฌุงุจุฉ ุงููุธุงู ููููุงุทุนุฉ.  ูุณุชููู ุฎุทูุท PIRQB-PIRQD ูู ูุฐู ุงูุญุงูุฉ ูู ูุนุธููุง ุฎุงููุงู.  ููุชูุถูุญ ุ ููุถุญ ุงูุดูู ุงููุดููุฉ: <br><br><img src="https://habrastorage.org/webt/cz/dv/bf/czdvbfsnymw5xyyqujavawdcv_m.png"><br><br>  ูููู ูู ุดูุก ูููู ุงูููุงู ุจู ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/dk/3e/x6/dk3ex67xjmm_9h0q3miq2djqnti.png"><br><br>  ุงูุตูุฑุฉ ูุฑุจูุฉ ุจุนุถ ุงูุดูุก ุ ููู ุงูููุทุฉ ุงููููุฉ ูู ุฃููุง ุจุจุณุงุทุฉ ูุฑุจุท ุฎุทูุท INTx # ูุน PIRQy ุจุงูุฑูุจูุชุงุช ุงููุณุชุฏูุฑุฉ (PIRQA ุ PIRQB ุ PIRQC ุ PIRQD ุ PIRQA ุ PIRQB ุ PIRQC ุ PIRQD ุ PIRQA ุ PIRQB ุ PIRQD ุ. ..) <br><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูู ุงูุถุฑูุฑู ููุง ูุฑุงุนุงุฉ ููุณ ููุท ุชุญููู ููุณ ุนุฏุฏ ูุธุงุฆู PCI ุนูู ูู ุณุทุฑ PIRQ.  ุจุนุฏ ูู ุดูุก ุ ูููู ุฃู ุชูุดุฆ ุจุนุถ ุงููุธุงุฆู ุงูููุงุทุนุงุช ุจุดูู ูุงุฏุฑ ุฌุฏูุง ุ ูุงูุจุนุถ ุงูุขุฎุฑ ุจุดูู ุฏุงุฆู (ูุญุฏุฉ ุชุญูู Ethernet ุนูู ุณุจูู ุงููุซุงู).  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุญุชู ุชุจุฑูุฑ ุชุฎุตูุต ุฎุท PIRQ ูููุตู ููููุงุทุนุงุช ูุน ูุซู ูุฐู ุงููุธููุฉ. <br><br>  ุจูุงุกู ุนูู ูุง ุชูุฏู ุ ูุชููู ูุทูุฑ BIOS ุ ูู ุจูู ุฃุดูุงุก ุฃุฎุฑู ุ ูููุฉ ุงูุชุฃูุฏ ูู ุฃู ุฎุทูุท PIRQ ูุชู ุชุญููููุง ุจุดูู ููุญุฏ ูุน ุงูููุงุทุนุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ูุงุฐุง ูุฌุจ ุฃู ุชูุนู BIOS ุนูู ุงูุฅุทูุงูุ </h3><br>  ูุญู ููุธููู ูู ุงูุดูู: <br><br><img src="https://habrastorage.org/webt/pm/rq/xg/pmrqxgkdu0nkjz6yb44vdn79a8q.png"><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>1) ุญุฏุฏ ุฃู ุณุทุฑ ูู INTx # ููู ูุธููุฉ ูู ุฃุฌูุฒุฉ PCI ูุณุญุจ</b> <br>  ุจุงููุณุจุฉ ูุฃุฌูุฒุฉ PCI ุงูุฎุงุฑุฌูุฉ ุ ูุง ูุชู ุชูููุฐ ูุฐุง ุงูุนูุตุฑ ุ ูููู ูุฏ ูููู ุฐูู ูููุฏูุง ููุธุงุฆู ุฃุฌูุฒุฉ PCI ุงููุถููุฉ ูู ูุฌููุนุฉ ุงูุดุฑุงุฆุญ. </li><li style=";text-align:right;direction:rtl">  <b>2) ุชูููู INTx # โ ุชุนููู PIRQy ููู ุฌูุงุฒ PCI</b> <br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูููู ุฃู ูููู ููุงู ุฃูุซุฑ ูู ุฃุฑุจุน ุฅุดุงุฑุงุช PIRQy ููุงุณูุฉ (PIRQA ุ PIRQB ุ PIRQC ุ PIRQD).  ุนูู ุณุจูู ุงููุซุงู 8: PIRQA-PIRQH. </li></ul><br>  ุชูุชูู ุฅุดุงุฑุงุช PIRQy ุฅูู ุฎุท IRQz ููุญุฏุฉ ุงูุชุญูู ูู ุงูููุงุทุนุฉ ุงููุญุฏุฏุฉ (APIC / PIC).  ูุธุฑูุง ูุฃููุง ูุฑูุฏ ุฏุนู ุฌููุน ุทุฑู ุงูุชุญููู ุงูููููุฉ (ุงูุธุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 2</a> ) ุ ูุฅููุง ูุญุชุงุฌ ุฅูู ููุก ููุง ุงูุชุนููููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>3a) ุงููุฃ ุชุนููู PIRQy โ IRQz1 ููุงุชุตุงู PIR โ I / O APIC</b> <br>  ูููู ูุฐุง ููุณ ุถุฑูุฑููุง ูู ุงูุนุงุฏุฉ ุ ูุธุฑูุง ูุฃู ุฎุทูุท PIRQy ูุซุจุชุฉ ุนูู ุฎุท APIC.  ุงูุญู ุงููุดุชุฑู ูู PIRQA โ IRQ16 ุ PIRQB โ IRQ17 ุ ... ุงูุญู ุงูุฃุจุณุท ุ ูุฃู  ุจูุถุน ุฎุทูุท PIRQy ุนูู ุฎุทูุท ุงูุชุญูู โฅ 16 ุ ูุง ุฏุงุนู ููููู ุจุดุฃู ุงูุชุนุงุฑุถุงุช ูุน ุงูููุงุทุนุงุช ุบูุฑ ุงููููุตูุฉ ูู ุฃุฌูุฒุฉ ISA. </li><li style=";text-align:right;direction:rtl">  <b>3 ุจ) ุงููุฃ ุชุนููู PIRQy โ IRQz2 ููุงุชุตุงู PIR โ PIC</b> <br>  ูุฌุจ ุชูููุฑ ูุฐุง ูู ุญุงูุฉ ุงุณุชุฎุฏุงููุง ุงูุชูุฌูู ูู ุฎูุงู ูุญุฏุฉ ุชุญูู PIC.  ูุง ููุฌุฏ ุญู ูุง ูุจุณ ููู ููุง ูู ุญุงูุฉ APIC ุ ูุฃูู ูู ุญุงูุฉ ุงูููุงููุฉ ุงููุณุจูุฉ ุนู ุนูู ุ ููุจุบู ูููุฑุก ุฃู ูุชุฐูุฑ ุญูู ุงุญุชูุงู ูุฌูุฏ ุชุนุงุฑุถุงุช ูุน ุงูููุงุทุนุงุช ูุง ูููุตูุงู ูู ุฃุฌูุฒุฉ ISA. </li></ul><br>  ููุงู ุญุงุฌุฉ ุฅูู ุงูุนูุตุฑ ุงูุฑุงุจุน ุงูุฃุฎูุฑ ููุณุงุนุฏุฉ ูุธุงู ุงูุชุดุบูู ูู ุชุญุฏูุฏ ุชูุฌูู ุงูููุงุทุนุฉ.  ุงูุฌูุงุฒ ููุณู ุนุงุฏุฉ ูุง ูุณุชุฎุฏู ูุฐู ุงูุณุฌูุงุช. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>4) ุงููุฃ ุณุฌูุงุช ููุงุทุนุฉ ุงูุฎุท / ุงูููุงุทุนุฉ ููู ูุธููุฉ PCI</b> <br>  ุจุดูู ุนุงู ุ ูุชู ููุก ุณุฌู ุฏุจูุณ ุงูููุงุทุนุฉ ุชููุงุฆููุง ูุนุงุฏุฉ ูุง ูููู ูููุฑุงุกุฉ ููุท ุ ูุฐูู ุนูู ุงูุฃุฑุฌุญ ุณูุชุทูุจ ููุก ููุท ููุก ุณุฌู ุฎุท ุงูููุงุทุนุฉ.  ูุฌุจ ุชูููุฑ ุฐูู ูู ุญุงูุฉ ุงุณุชุฎุฏุงููุง ุงูุชูุฌูู ูู ุฎูุงู ูุญุฏุฉ ุชุญูู PIC ุฏูู ุชุฒููุฏ ูุธุงู ุงูุชุดุบูู ุจุฃู ุฌุฏูู ุญูู ููุงุทุนุงุช ุงูุชูุฌูู (ุงูุธุฑ ูุฑุฉ ุฃุฎุฑู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 2</a> ).  ุฅุฐุง ุชู ุชูููุฑ ุงูุฌุฏุงูู ููุงู ูุฐุง ุงูุชุนููู ูุชูุงูููุง ูุน ุฌุฏุงูู ุงูุชูุฌูู ($ PIR / ACPI) ุ ูุบุงูุจูุง ูุง ูุชุฑูู ูุธุงู ุงูุชุดุบูู. </li></ul><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃููุง ูุง ูููุณ ุฌุฏุงูู $ PIR / MPtable / ACPI ุญุชู ุงูุขู ูููุธุฑ ูู ููููุฉ ุชูููู ุณุฌูุงุช ุดุฑุงุฆุญ ูู ุญูุซ ููุงุทุนุงุช ุงูุชูุฌูู ูุจู ููู ุงูุชุญูู ุฅูู ูุญูู ุงููุธุงู.  ุชุนุฏ ุฌุฏุงูู ุงูููุงุทุนุฉ ููุถูุนูุง ูููุงูุฉ ูููุตูุฉ (ุฑุจูุง ููุงูุฉ ูุณุชูุจููุฉ). <br><br>  ูุฐูู ุ ูุชู ุฏุฑุงุณุฉ ุงูุฃุณุณ ุงููุธุฑูุฉ ุ ูุฃุฎูุฑุง ูุจุฏุฃ ูู ููุงุฑุณุฉ! <br><br><h2 style=";text-align:right;direction:rtl">  ุงูููุงุฑุณุฉ </h2><br>  ูููุซุงู ุนูู ุงูููุงูุงุช ูู ูุฐู ุงูุณูุณูุฉ ุ ุฃุณุชุฎุฏู ููุญุฉ ูุฎุตุตุฉ ุจูุนุงูุฌ Intel Haswell i7 ููุฌููุนุฉ ุดุฑุงุฆุญ LynxPoint-LP.  ูู ูุฐุง ุงูููุชุฏู ุ ุฃุทููุช ูุนุจุฉ coreboot ุจุงูุชุนุงูู ูุน SeaBIOS.  ูููุฑ Coreboot ุงูุชููุฆุฉ ุงูุฎุงุตุฉ ุจุงูุฃุฌูุฒุฉ ุ ูุชููุฑ ุญูููุฉ SeaBIOS ูุงุฌูุฉ BIOS ูุฃูุธูุฉ ุงูุชุดุบูู.  ูู ูุฐู ุงูููุงูุฉ ุ ูู ุฃุตู ุนูููุฉ ุชูููู ูุธุงู ุงูุชุดุบูู ุงูุฃุณุงุณู ุ ูููู ุญุงูู ููุท ุฃู ุฃููู ุจูุซุงู ุจููุน ุฅุนุฏุงุฏุงุช BIOS ุงูุชู ูุฌุจ ุฅุฌุฑุงุคูุง ูู ูุฌููุนุฉ ุงูุดุฑุงุฆุญ ูุชูุฌูู ููุงุทุนุงุช IRQ ูู ุงูุฃุฌูุฒุฉ ุงูุฎุงุฑุฌูุฉ. <br><br>  ูุธุฑูุง ูุชุทููุฑ ูุดุฑูุน coreboot ุจูุดุงุท ุญุชู ูุชู ุชุญุฏูุซ ุงูููุงูุฉ ุฏุงุฆููุง ุ ุณููุธุฑ ูู ุงูููุฏ ุจุงุณุชุฎุฏุงู ูุซุงู ุฃุญุฏุซ ุฅุตุฏุงุฑ ุซุงุจุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">4.9</a> (ุงูุฅุตุฏุงุฑ 2018-12-20). <br><br>  ุฃูุฑุจ ุงูููุญุงุช ุงูุฃู ุฅูู Google ูู Google Beltino ูุน ุชููุน ุงูููุฑ.  ุงููุฌูุฏ ุงูุฑุฆูุณู ููุฐู ุงูููุญุฉ ูู ุงููุฌูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"src \ mainboard \ google \ beltino"</a> .  ุชุชุฑูุฒ ุฌููุน ุงูุฅุนุฏุงุฏุงุช ููุง ูุงูุฑูุฒ ุงููุญุฏุฏ ููุฐุง ุงูููุชุฏู. <br><br>  ูุฐูู ุ ููุจุฏุฃ ูู ูุฑุฒ ุฃูุงูู ุชูููู ุงูุนูุงุตุฑ ุฃุนูุงู: <br><br><h4 style=";text-align:right;direction:rtl">  1) ุญุฏุฏ ุฃู ุณุทุฑ ูู INTx # ููู ูุธููุฉ ูู ุฃุฌูุฒุฉ PCI ูุณุญุจ </h4><br>  ูุชู ุชุนุฑูู ูุฐู ุงููุนูููุงุช ูู ููู <a href="">"src / mainboard / google / beltino / romstage.c"</a> ูู ุจููุฉ rcba_config ุนุจุฑ ุณุฌูุงุช DxxIP (Device xx Interrupt Pin Register (IP)).  ูุดูุฑ ูุฐุง ุงูุณุฌู ุฅูู ุงูุฑูู INTx # (A / B / C / D) ุงูุฐู ุชููู ูู ูุธููุฉ ูู ูุธุงุฆู ุงูุฌูุงุฒ ุจุฅุฎุฑุงุฌ ููุงุทุนุฉ ููู. <br><br>  ุงูุฎูุงุฑุงุช ุงูููููุฉ (ุงูุธุฑ ุงูููู <a href="">"src / southbridge / intel / lynxpoint / pch.h"</a> ): <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-number"><span class="hljs-number">0</span></span>h = No interrupt <span class="hljs-number"><span class="hljs-number">1</span></span>h = INTA# <span class="hljs-number"><span class="hljs-number">2</span></span>h = INTB# <span class="hljs-number"><span class="hljs-number">3</span></span>h = INTC# <span class="hljs-number"><span class="hljs-number">4</span></span>h = INTD#</code> </pre> <br>  ูู ุงูููุชุฑุถ ุฃู ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุชุณุชุฎุฏู ููุณ ุฏุจูุณ. <br><br>  ูู ุงูููุชุฑุถ ุฃู ุงููุธุงุฆู ูุฏ ูุง ุชุณุชุฎุฏู ุงูุฑูู ุงูุณุฑู ููููุงุทุนุงุช (ุจุฏูู ููุงุทุนุฉ). <br>  ูู ุดูุก ููุง ุฑุฃููุง ูู ุงูุดูู ูู ุจุฏุงูุฉ ุงูููุงู. <br><br>  ุงูููุฏ ุงููุงูู ูุณุคูู ุนู ุงูุนูุตุฑ ุงูุฐู ุญุฏุฏูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Device interrupt pin register (board specific) */</span></span> RCBA_SET_REG_32(D31IP, (INTC &lt;&lt; D31IP_TTIP) | (NOINT &lt;&lt; D31IP_SIP2) | (INTB &lt;&lt; D31IP_SMIP) | (INTA &lt;&lt; D31IP_SIP)), RCBA_SET_REG_32(D29IP, (INTA &lt;&lt; D29IP_E1P)), RCBA_SET_REG_32(D28IP, (INTA &lt;&lt; D28IP_P1IP) | (INTC &lt;&lt; D28IP_P3IP) | (INTB &lt;&lt; D28IP_P4IP)), RCBA_SET_REG_32(D27IP, (INTA &lt;&lt; D27IP_ZIP)), RCBA_SET_REG_32(D26IP, (INTA &lt;&lt; D26IP_E2P)), RCBA_SET_REG_32(D22IP, (NOINT &lt;&lt; D22IP_MEI1IP)), RCBA_SET_REG_32(D20IP, (INTA &lt;&lt; D20IP_XHCI)),</code> </pre> <br>  ูููู ุฃูุถู ุ ููุฑ ูู ุจุนุถ ุงูุฃูุซูุฉ: <br><br>  <b>ูุซุงู 1:</b> <br><br>  ูุญุชูู ุงูุฌูุงุฒ 0x1d (29 ูู ุงูุนุดุฑู) ูุธููุฉ ูุงุญุฏุฉ (ุชุญูู EHCI). <br><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูู ุจุชุนููู ููุงุทุนุฉ ุฅูู INTA #. <br><br>  00: 1d.0 - INTA # <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">RCBA_SET_REG_32(D29IP, (INTA &lt;&lt; D29IP_E1P)),</code> </pre> <br>  <b>ูุซุงู 2:</b> <br>  ูุญุชูู ุงูุฌูุงุฒ 0x1f (31 ูู ุนุดุฑู) ุนูู ูุธุงุฆู ุฌูุงุฒ ุงูุชุญูู ูู ุงููุณุชุดุนุฑ ุงูุญุฑุงุฑู (00: 1f.6) ุ ูุญุฏุฉ ุชุญูู SATA 2 (00: 1f.2) ุ ูุญุฏุฉ ุชุญูู SMBus (00: 1f.3) ุ ูุญุฏุฉ ุชุญูู SATA 1 (00: 1f) .2).  ูุฑูุฏ ููุท ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงูุชุญูู SMBus ููุญุฏุฉ ุงูุชุญูู SATA 1 ููุญุฏุฉ ุงูุชุญูู ูู ุงููุณุชุดุนุฑ ุงูุญุฑุงุฑู. <br><br>  00: 1f.2 - INTA # (ูุญุฏุฉ ุชุญูู SATA 1) <br>  00: 1f.3 - INTB # (ูุญุฏุฉ ุชุญูู SMBus) <br>  00: 1f.2 - ูุง ููุงุทุนุฉ (ูุง ูุชู ุงุณุชุฎุฏุงู ูุญุฏุฉ ุชุญูู SATA 2) <br>  00: 1f.6 - INTC # (ุฌูุงุฒ ุงูุชุญูู ูู ุงููุณุชุดุนุฑ ุงูุญุฑุงุฑู) <br><br>  ููุฐุง ุงูุชูููู ุ ูุฌุจ ุฃู ุชูุชุจ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">RCBA_SET_REG_32(D31IP, (INTC &lt;&lt; D31IP_TTIP) | (NOINT &lt;&lt; D31IP_SIP2) | (INTB &lt;&lt; D31IP_SMIP) | (INTA &lt;&lt; D31IP_SIP)),</code> </pre> <br>  <b>ูุซุงู 3:</b> <br><br>  ูู ุฌูุงุฒ ูุงุญุฏ ุ ูููู ุนุฏุฏ ุงููุธุงุฆู ุงูุชู ูุญุชุงุฌ ุฅูููุง ุฃูุซุฑ ูู 4. ูู ุฌูุงุฒ 0x1c ุ ุชููู ูู ูุธููุฉ ูุณุคููุฉ ุนู ูููุฐ PCI Express.  ููู ุชุนูู ุงูููุงูุฐ ูู 0 ุฅูู 5 ุ ููุชู ุชูุฒูุน ุงูููุงุทุนุงุช ุจูู ุงูุณุทูุฑ ุจุงูุชุณุงูู ุ ููููู ุชูููู ูุฐุง: <br><br>  00: 1c.0 - INTA # (ูููุฐ PCI Express 0) <br>  00.1c.1 - INTB # (ูููุฐ PCI Express 1) <br>  00.1c.2 - INTC # (ูููุฐ PCI Express 2) <br>  00.1c.3 - INTD # (ูููุฐ PCI Express 3) <br>  00.1c.4 - INTA # (ูููุฐ PCI Express 4) <br>  00.1c.5 - INTB # (ูููุฐ PCI Express 5) <br>  00.1c.6 - ูุง ููุฌุฏ ููุงุทุนุฉ (ุงููููุฐ ุบูุฑ ูุณุชุฎุฏู) <br>  00.1c.7 - ูุง ููุงุทุนุฉ (ุงููููุฐ ุบูุฑ ูุณุชุฎุฏู) <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">RCBA_SET_REG_32(D28IP, (INTA &lt;&lt; D28IP_P1IP) | (INTB &lt;&lt; D28IP_P2IP) | (INTC &lt;&lt; D28IP_P3IP) | (INTD &lt;&lt; D28IP_P4IP) | (INTA &lt;&lt; D28IP_P5IP) | (INTB &lt;&lt; D28IP_P6IP) | (NOINT &lt;&lt; D28IP_P7IP) | (NOINT &lt;&lt; D28IP_P8IP)),</code> </pre> <br><h4 style=";text-align:right;direction:rtl">  2) ุชูููู INTx # โ ุชุนููู PIRQy ููู ุฌูุงุฒ PCI </h4><br>  ูุชู ุชุนุฑูู ูุฐู ุงููุนูููุงุช ุฃูุถูุง ูู ุงูููู <a href="">"src \ mainboard \ google \ beltino \ romstage.c"</a> <br>  ูู ูููู rcba_config ุ ูููู ุจุงููุนู ูู ุฎูุงู ุณุฌูุงุช DxxIR (ุชุณุฌูู ูุณุงุฑ ุฌูุงุฒ ุงูููุงุทุนุฉ xx). <br><br>  ุชูุธูุฑ ุงููุนูููุงุช ุงูููุฌูุฏุฉ ูู ูุฐุง ุงูุณุฌู ุฎุท PIRQx (A / B / C / D / E / F / G / H) ุงูุฐู ูุชุตู ุจู ูู ุฎุท ููุงุทุนุฉ INTx #. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Device interrupt route registers */</span></span> RCBA_SET_REG_32(D31IR, DIR_ROUTE(PIRQG, PIRQC, PIRQB, PIRQA)),<span class="hljs-comment"><span class="hljs-comment">/* LPC */</span></span> RCBA_SET_REG_32(D29IR, DIR_ROUTE(PIRQD, PIRQD, PIRQD, PIRQD)),<span class="hljs-comment"><span class="hljs-comment">/* EHCI */</span></span> RCBA_SET_REG_32(D28IR, DIR_ROUTE(PIRQA, PIRQB, PIRQC, PIRQD)),<span class="hljs-comment"><span class="hljs-comment">/* PCIE */</span></span> RCBA_SET_REG_32(D27IR, DIR_ROUTE(PIRQG, PIRQG, PIRQG, PIRQG)),<span class="hljs-comment"><span class="hljs-comment">/* HDA */</span></span> RCBA_SET_REG_32(D22IR, DIR_ROUTE(PIRQA, PIRQA, PIRQA, PIRQA)),<span class="hljs-comment"><span class="hljs-comment">/* ME */</span></span> RCBA_SET_REG_32(D21IR, DIR_ROUTE(PIRQE, PIRQF, PIRQF, PIRQF)),<span class="hljs-comment"><span class="hljs-comment">/* SIO */</span></span> RCBA_SET_REG_32(D20IR, DIR_ROUTE(PIRQC, PIRQC, PIRQC, PIRQC)),<span class="hljs-comment"><span class="hljs-comment">/* XHCI */</span></span> RCBA_SET_REG_32(D23IR, DIR_ROUTE(PIRQH, PIRQH, PIRQH, PIRQH)),<span class="hljs-comment"><span class="hljs-comment">/* SDIO */</span></span></code> </pre> <br>  <b>ูุซุงู 1:</b> <br><br>  ุงูุฌูุงุฒ 0x1c (28 ูู ุงููุธุงู ุงูุนุดุฑู) ูู ููุงูุฐ PCIe ููุง ุงูุชุดููุง ุจุงููุนู. <br><br>  ูููู ุจุนูู ุงุชุตุงู "ูุจุงุดุฑ": <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  INTA # โ PIRQA </li><li style=";text-align:right;direction:rtl">  INTB # โ PIRQB </li><li style=";text-align:right;direction:rtl">  INTC # โ PIRQC </li><li style=";text-align:right;direction:rtl">  INTD # โ PIRQD </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">RCBA_SET_REG_32(D28IR, DIR_ROUTE(PIRQA, PIRQB, PIRQC, PIRQD))</code> </pre> <br>  <b>ูุซุงู 2:</b> <br><br>  0x1d ุงูุฌูุงุฒ (29 ูู ุงูุนุดุฑู) - ูุธููุฉ ูุงุญุฏุฉ (ูุญุฏุฉ ุชุญูู EHCI) ุนูู INTA # ุ ูุง ูุชู ุงุณุชุฎุฏุงู ุฎุทูุท ุฃุฎุฑู. <br><br>  ูู ุจุชูุตูู ุฎุท INTA # ุจู PIRQD: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">RCBA_SET_REG_32(D29IR, DIR_ROUTE(PIRQD, PIRQD, PIRQD, PIRQD))</code> </pre> <br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุณุฌู PIRQD ุงูุฃูู ููุท (ูู INTA #) ููุทูููุง ุ ูุงูุจุงูู ููุณ ููุทูููุง. <br><br><h4 style=";text-align:right;direction:rtl">  3a) ุงููุฃ ุงูุชุนููู PIRQy โ IRQz1 (PIR โ APIC) </h4><br>  ููุง ูููุง ุจุงููุนู ุ ุบุงูุจูุง ูุง ูุชู ุฅุตูุงุญ ุงูุชุนููู ููุง ุ ููุฐู ุงูุญุงูุฉ ููุณุช ุงุณุชุซูุงุก. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  PIRQA โ IRQ16 </li><li style=";text-align:right;direction:rtl">  PIRQB โ IRQ17 </li><li style=";text-align:right;direction:rtl">  ... </li><li style=";text-align:right;direction:rtl">  PIRQH โ IRQ23 </li></ul><br><h4 style=";text-align:right;direction:rtl">  3 ุจ) ุงููุฃ ุงูุชุนููู PIRQy โ IRQz2 (PIR โ PIC) </h4><br>  ูู ุงูุฃุณุงุณูุฉ ุ ูุชู ุชุนุฑูู ูุญุชููุงุช ููุก ูุฐู ุงูุณุฌูุงุช ูู ููู <a href="">devicetree.cb</a> ูู ูุฌูุฏ ุงูููุญุฉ ุงูุฃู "src \ mainboard \ google \ beltino \". <br><br>  devicetree.cb (ุงุณู devicetree ููุชูุงุตู ูุน ููููู ูุดุงุจู ูู Linux kernel ุ ู "cb" ูู ุงุฎุชุตุงุฑ ูู coreboot) ููู ููู ุฎุงุต ูุนูุณ ุชูููู ูุฐู ุงูููุญุฉ ุงูุฃู: ุฃู ูุนุงูุฌ ุ ูุชู ุงุณุชุฎุฏุงู ูุฌููุนุฉ ุงูุดุฑุงุฆุญ ุ ูุฃู ุงูุฃุฌูุฒุฉ ูุชู ุชุถููููุง ูููุง ุ ูุงูุชู ุฎุงุฑุฌ ุงูุฎ  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ุชุญุฏูุฏ ูุนูููุงุช ุฎุงุตุฉ ูุชูููู ุดุฑุงุฆุญ ูู ูุฐุง ุงูููู.  ูุฐู ูู ุงูุญุงูุฉ ุงูุชู ูุญุชุงุฌูุง ููุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">register <span class="hljs-string"><span class="hljs-string">"pirqa_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x8b"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqb_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x8a"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqc_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x8b"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqd_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x8b"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqe_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x80"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqf_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x80"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqg_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x80"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqh_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x80"</span></span></code> </pre> <br>  ุชุญุฏุฏ ูุฐู ุงูุฎุทูุท ุชุนููู PIRQy โ IRQz2.  ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ุจุนุฏ ุชุญููู ููู devicetree.cb ุ ูุชู ุชุญููููุง ุฅูู ูุชุบูุฑุงุช "config-&gt; pirqX_routing". <br><br>  ูุนูู ุงููุชุบูุฑ "config-&gt; pirqa_routing = 0x8b" ุฃู PIRQA ูุชุตู ุจุณุทุฑ ุงูููุงุทุนุฉ IRIC11 (0x0b = 11) ููุญุฏุฉ ุงูุชุญูู PIC ุ ููุน ุฐูู ุ ูุฅู ุงูุจุช ุงูุฃุนูู (ููู 0x80) ูุนูู ุนุฏู ุชูููุฐ ุชูุฌูู ุงูููุงุทุนุฉ.  ุจุตุฑุงุญุฉ ุ ูู ุชุฌุฑุจุชู ุ ูุนุฏ ูุฐุง ุฎุทุฃู ุ ููู ุงูุฌุฏูุฑ ุงูุชุฑุงุถููุง ุชุดุบูู ุชูุฌูู ุงูููุงููุฉ ุงููุณุจูุฉ ุนู ุนูู ุ ุณูููู ูุธุงู ุงูุชุดุบูู ููุณู ูุงุฏุฑูุง ุนูู ุงูุชุจุฏูู ุฅูู I / O APIC ุนู ุทุฑูู ุชุนููู ูุฐุง ุงูุจุช ุฅูู 1 ุฅุฐุง ูุฒู ุงูุฃูุฑ. <br><br>  ูุฐุง ูู ุ ูู ูุฐู ุงูุญุงูุฉ ุณูููู ูู ุงูุฃุตุญ ุงููุชุงุจุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">register <span class="hljs-string"><span class="hljs-string">"pirqa_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x0b"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqb_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x0a"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqc_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x0b"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqd_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x0b"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqe_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x80"</span></span> <span class="hljs-comment"><span class="hljs-comment"># not used register "pirqf_routing" = "0x80" # not used register "pirqg_routing" = "0x80" # not used register "pirqh_routing" = "0x80" # not used</span></span></code> </pre><br>  ูู ููู ุจุชูููู ุงูููุงุทุนุงุช ุงูุฃุฑุจุนุฉ ุงูุฃุฎูุฑุฉ ุ ูุฃู  ุชูุณุชุฎุฏู ุงูููุงุทุนุฉ IRQ0 ุฏุงุฆููุง ูู ุฅุทุงุฑ ูุคูุช ุงููุธุงู ููู ุบูุฑ ูุชููุฑุฉ ุจูุถูุญ (ุงูุธุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุนูููุงุช ุงูููุงุทุนุฉ ุงูุนุงูุฉ ุงููุชูุงููุฉ ูุน IBM-PC</a> ). <br><br>  ูููู ุฅุฐุง ุฃููููุง ูุธุฑุฉ ูุงุญุตุฉ ุนูู ุงูููุทุฉ 2) ุ ูุณูู ูุฑู ุฃู ุจุนุถ ุฃุฌูุฒุฉ PCI ุชุณุชุฎุฏู ุฎุทูุท PIRQE-PIRQH ุ ูุฐูู ูุฅู ุชุฑููุง ุฏูู ุงุชุตุงู ูู ุงูุทุฑููุฉ ุงูุตุญูุญุฉ ููุฃุฌูุฒุฉ ุงููุนุทูุฉ. <br><br>  ูุฐูู ูู ุงูุฃูุถู ูุชุงุจุฉ ุดูุก ูุซู ูุฐุง: <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">register <span class="hljs-string"><span class="hljs-string">"pirqa_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x03"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqb_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x04"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqc_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x05"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqd_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x06"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqe_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x0a"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqf_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x0b"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqg_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x0e"</span></span> register <span class="hljs-string"><span class="hljs-string">"pirqh_routing"</span></span> = <span class="hljs-string"><span class="hljs-string">"0x0f"</span></span></code> </pre> <br><br>  ูุญุฏุซ ุงูุชุนุจุฆุฉ ุงููุนููุฉ <a href="">ููุณุฌูุงุช</a> ุงูููุงุจูุฉ ูู ุงูููู <a href="">src \ southbridge \ intel \ lynxpoint \ lpc.c</a> ูู ุงููุธููุฉ pch_pirq_init. <br><br>  ููุชุทู ุงูุดูุฑุฉ ุงููุณุคูู ุนู ุชุนุจุฆุฉ ุงูุณุฌู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Get the chip configuration */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">config_t</span></span> *config = dev-&gt;chip_info; pci_write_config8(dev, PIRQA_ROUT, config-&gt;pirqa_routing); pci_write_config8(dev, PIRQB_ROUT, config-&gt;pirqb_routing); pci_write_config8(dev, PIRQC_ROUT, config-&gt;pirqc_routing); pci_write_config8(dev, PIRQD_ROUT, config-&gt;pirqd_routing); pci_write_config8(dev, PIRQE_ROUT, config-&gt;pirqe_routing); pci_write_config8(dev, PIRQF_ROUT, config-&gt;pirqf_routing); pci_write_config8(dev, PIRQG_ROUT, config-&gt;pirqg_routing); pci_write_config8(dev, PIRQH_ROUT, config-&gt;pirqh_routing);</code> </pre> <br>  ูุชู ูุตู ุซูุงุจุช ุนููุงู ุงูุณุฌู ูู ููุณ ููู <a href="">pch.h</a> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> PIRQA_ROUT 0x60 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> PIRQB_ROUT 0x61 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> PIRQC_ROUT 0x62 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> PIRQD_ROUT 0x63 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> PIRQE_ROUT 0x68 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> PIRQF_ROUT 0x69 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> PIRQG_ROUT 0x6A #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> PIRQH_ROUT 0x6B</span></span></code> </pre> <br>  ูุชู ุชุนููู ุชุนููู PIRQy โ IRQz2 ููุฌููุนุฉ ุงูุดุฑุงุฆุญ ูุฐู ุนูู ุฌูุงุฒ LPC PCI (ุงูุนููุงู 00: 1f.0) ูู ุณุฌูุงุช PIRQy_ROUT.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูุง ููุณูุญ ุจุงุณุชุฎุฏุงู ุฌููุน ุฎุทูุท IRQz2 ุงูุฎูุณุฉ ุนุดุฑ ูู ุงูููุงููุฉ ุงููุณุจูุฉ ุนู ุนูู ููุงุณุชุฎุฏุงู ุ ูููู ุฌุฒุกูุง ููุท (ุนูู ุณุจูู ุงููุซุงู ุ 3ุ4ุ5ุ6ุ7ุ9ุ10ุ11ุ12ุ14ุ15).  ูุฌุจ ุฃู ูุญุชูู ูุตู ูุฐู ุงูุณุฌูุงุช ุนูู ูุนูููุงุช ุญูู IRQs ุงููุชููุฑุฉ ูุชุนููู ุงูููุงุทุนุงุช ูู ุฎุทูุท PIRQ ุฅูููู.  ูุฐูู ุ ูุฅู ุงูุชุนููู ุงูููุชุฑุญ ูู ูุจููุง ุฃุนูุงู ูููู ููุท ุฅุฐุง ูุงู ุชุฎุตูุต PIRQ ุนูู ุงูุณุทุฑ IRQ3 ุ IRQ4 ุ IRQ5 ุ IRQ6 ุ IRQ10 ุ IRQ11 ุ IRQ14 ุ IRQ15 ูุชุงุญูุง.  ูููู ุฅุฐุง ูุธุฑูุง ุจุนูุงูุฉ ูู ุงูุชุนููู ูุจู ูุธููุฉ pch_pirq_init ุ ูุณูุฑู ุฃูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* PIRQ[n]_ROUT[3:0] - PIRQ Routing Control * 0x00 - 0000 = Reserved * 0x01 - 0001 = Reserved * 0x02 - 0010 = Reserved * 0x03 - 0011 = IRQ3 * 0x04 - 0100 = IRQ4 * 0x05 - 0101 = IRQ5 * 0x06 - 0110 = IRQ6 * 0x07 - 0111 = IRQ7 * 0x08 - 1000 = Reserved * 0x09 - 1001 = IRQ9 * 0x0A - 1010 = IRQ10 * 0x0B - 1011 = IRQ11 * 0x0C - 1100 = IRQ12 * 0x0D - 1101 = Reserved * 0x0E - 1110 = IRQ14 * 0x0F - 1111 = IRQ15 * PIRQ[n]_ROUT[7] - PIRQ Routing Control * 0x80 - The PIRQ is not routed. */</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  4) ุงููุฃ ุณุฌูุงุช ููุงุทุนุฉ ุงูุฎุท / ุงูููุงุทุนุฉ ููู ูุธููุฉ PCI </h4><br>  ููุฌุฏ ูู ูุณุงุญุฉ ุชูููู PCI (ููู PCI ูุธุงุฆู ููููุง ูููุนุงููุฑ) ููุงู ุณุฌูุงู ูููุงู ููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  3Ch: Interrupt Line - ููุง ุชุญุชุงุฌ ุฅูู ูุชุงุจุฉ ุฑูู IRQz2 (ุฑูู ูู 0 ุฅูู 15) ุ ููู ุฑูู ุงูููุงุทุนุฉ ุงูุฐู ุชุณุญุจู ุงููุธููุฉ ุฃุฎูุฑูุง ุนูุฏ ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงูุชุญูู PIC </li><li style=";text-align:right;direction:rtl">  3Dh: Interrupt Pin - ูุนุฑุถ ุงูุณุทุฑ INTx # (A / B / C / D) ุงูุฐู ุชุณุชุฎุฏูู ุงููุธููุฉ </li></ul><br>  ููุจุฏุฃ ูุน ุขุฎุฑ ูุงุญุฏ.  ุณูุชู ููุก ุณุฌู Interrupt Pin ุชููุงุฆููุง ุจูุงุกู ุนูู ุฅุนุฏุงุฏุงุช ุงูุดุฑุงุฆุญ (ุณุฌูุงุช DxxIP) ุงูุชู ุฃุนุฏูุงูุง ูู ุงูููุฑุฉ 1 ูุณูููู ูููุฑุงุกุฉ ููุท. <br><br>  ูู ูุง ุชุจูู ูู ุชุนุจุฆุฉ ุณุฌู ุงูููุงุทุนุฉ ูุน ููุงุทุนุฉ IRQz2 ููู ูุธููุฉ PCI. <br><br>  ูุนุฑูุฉ ุชุนููู PIRQy โ IRQz2 (ุงูุนูุตุฑ 3 ุจ) ุ ูุฑุณู ุงูุฎุฑุงุฆุท INTx # โ PIRQy (ุงูุจูุฏ 2) ุ ููููู ุจุณูููุฉ ููุก ุณุฌู ุฎุท ุงูููุงุทุนุฉ ููู ูุธููุฉ ุ ููุนุฑูุฉ ุฃู ููุงุทุนุฉ INTx # ุชุณุชุฎุฏูู (ุงูุจูุฏ 1). <br><br>  ูู ูุธุงู ุงูุชุดุบูู ุงูุฃุณุงุณูุฉ ุ ูุชู ุชุณุฌูู ุณุฌูุงุช Interrupt Line ุฃูุถูุง ูู ููู <a href="">src \ southbridge \ intel \ lynxpoint \ lpc.c</a> ูู ุฏุงูุฉ pch_pirq_init: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Eric Biederman once said we should let the OS do this. * I am not so sure anymore he was right. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (irq_dev = all_devices; irq_dev; irq_dev = irq_dev-&gt;next) { u8 int_pin=<span class="hljs-number"><span class="hljs-number">0</span></span>, int_line=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!irq_dev-&gt;enabled || irq_dev-&gt;path.type != DEVICE_PATH_PCI) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; int_pin = pci_read_config8(irq_dev, PCI_INTERRUPT_PIN); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (int_pin) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-comment"><span class="hljs-comment">/* INTA# */</span></span> int_line = config-&gt;pirqa_routing; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-comment"><span class="hljs-comment">/* INTB# */</span></span> int_line = config-&gt;pirqb_routing; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-comment"><span class="hljs-comment">/* INTC# */</span></span> int_line = config-&gt;pirqc_routing; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-comment"><span class="hljs-comment">/* INTD# */</span></span> int_line = config-&gt;pirqd_routing; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!int_line) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; pci_write_config8(irq_dev, PCI_INTERRUPT_LINE, int_line); }</code> </pre> <br>  ูุณุจุจ ูุง ุ ูุดูุฑ ูุฐุง ุงูุฑูุฒ ุฅูู ุฃู ุงูุชุนููู ูู ุฃู ุญุงู INTA # โ PIRQA ุ INTB # โ PIRQB ุ INTC # โ PIRQC ุ INTD # โ PIRQD.  ุนูู ุงูุฑุบู ูู ุฃููุง ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุฑุฃููุง ุฃูู ูุฏ ูููู ูุฎุชูููุง (ุงูุธุฑ ุงูููุฑุฉ 2) <br><br>  ุนูููุง "ุฅุฑูู ุจูุฏุฑูุงู ูุงู ุฐุงุช ูุฑุฉ" ุ ููููุง ุจูุณุฎู ูู ุฃู ููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ grep <span class="hljs-string"><span class="hljs-string">"Eric Biederman once said"</span></span> -r src/ src/southbridge/intel/fsp_bd82x6x/lpc.c: /* Eric Biederman once said we should <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> the OS <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> this. src/southbridge/intel/i82801gx/lpc.c: /* Eric Biederman once said we should <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> the OS <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> this. src/southbridge/intel/i82801ix/lpc.c: /* Eric Biederman once said we should <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> the OS <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> this. src/southbridge/intel/lynxpoint/lpc.c: /* Eric Biederman once said we should <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> the OS <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> this. src/southbridge/intel/sch/lpc.c: /* Eric Biederman once said we should <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> the OS <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> this.</code> </pre> <br>  ุจุดูู ุนุงู ุ ูุง ููุชู coreboot ุญููุง ุจุฏุนู ุงูููุงุทุนุฉ ุงููุฏูู.  ุงููุซูุฑ ูููุงุฌุฃ ูู ูุฐุง ุงูุฎุทุฃ ูุง ูุณุชุญู ูู ูุฐุง ุงูุนูุงุก.  ุนูุฏ ุชุญููู ูุธุงู ุชุดุบูู ุญุฏูุซ ุ ูู ูุฒุนุฌู ุฐูู ุ ูููู ุฅุฐุง ููุช ุจุญุงุฌุฉ ูุฌุฃุฉ ุฅูู ุชุญููู Linux ุจุฎูุงุฑุงุช "acpi = off nolapic" ุ ููู ุงูุตุนุจ ุงูููุงู ุจุฐูู. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎุงุชูุฉ </h2><br>  ูู ุงูุฎุชุงู ุ ุณููุฑุฑ ุงููุนูููุงุช ุงููููุฐุฌูุฉ ุงูุชู ูุฌุจ ุชูููููุง ูู ูุฌููุนุฉ ุงูุดุฑุงุฆุญ ูุชูุฌูู ููุงุทุนุงุช PCI: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุญุฏุฏ ุฃู ุณุทุฑ INTx ุชุณุญุจ ูู ูุธููุฉ ูู ูุธุงุฆู PCI </li><li style=";text-align:right;direction:rtl">  ุชูููู INTx # โ ุชุนููู PIRQy ููู ุฌูุงุฒ PCI </li><li style=";text-align:right;direction:rtl">  ุงููุฃ ุชุนููู PIRQy โ IRQz1 (PIR โ APIC) ูุฑุณู ุฎุฑุงุฆุท PIRQy โ IRQz2 (PIR โ PIC) </li><li style=";text-align:right;direction:rtl">  ุงููุฃ ุณุฌูุงุช ููุงุทุนุฉ ุงูุฎุท / ุงูููุงุทุนุฉ ููุณุงุญุฉ ุชูููู PCI ููู ูุธููุฉ ูู ูุธุงุฆู PCI. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar440304/">https://habr.com/ru/post/ar440304/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar440294/index.html">MIDI ุฌูุงุฒ ุงูุชูุฌูู ุนูู ุงูุชูุช ุจู</a></li>
<li><a href="../ar440296/index.html">6 ุชุทุจููุงุช ูุฅูุชุฑูุช ุงูุฃุดูุงุก ุงูุตูุงุนูุฉ</a></li>
<li><a href="../ar440298/index.html">ุชุทุจูู ุนูุฏ ุงูุญุจ ุนูู Libgdx</a></li>
<li><a href="../ar440300/index.html">10 ุฃูุงูุฑ ูุญุฏุฉ ุงูุชุญูู ูููุณุงุนุฏุฉ ูู ููุงูุดุฉ ุดูุฑุฉ ุฌุงูุง ุณูุฑูุจุช ูุซู PRO</a></li>
<li><a href="../ar440302/index.html">CRM - ุชูููุฉ ุงููุฌุงุญ ุ ุชูููุฉ ุงูุฎุทุฃ ุ ุชูููุฉ ุงูููููุฉ</a></li>
<li><a href="../ar440306/index.html">ุชุญุฌูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุงูุฃูุธูุฉ ุงููุญููุฉ ููุบุงูุฉ</a></li>
<li><a href="../ar440308/index.html">ูุฑู ุชุณุฏ ุ ุฃู ุชูุชุจ ุจุจุทุก - ุงูุฑุฃ ุจุณุฑุนุฉ</a></li>
<li><a href="../ar440310/index.html">ููููุฉ ุชุนููู ุงูุขูุฉ ูููู ุงูููุงุชูุฑ ูุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ูููุง</a></li>
<li><a href="../ar440312/index.html">Hackquest 2018. ุงููุชุงุฆุฌ ูุงููุชุงุจุฉ. ููู 4-7</a></li>
<li><a href="../ar440314/index.html">JDK 12 Release Candidate: Shenandoahุ G1ุ JMHุ Arm64. ุงูุจู ูู ุณูููุบ ุถุฑุจ ุงูุธูุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>