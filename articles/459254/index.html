<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§öüèø üë®üèø‚Äçü§ù‚Äçüë®üèΩ üõ≥Ô∏è Bomba Zip a√∫n mejor ‚≠êÔ∏è üç≠ üßùüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El art√≠culo muestra c√≥mo crear una bomba zip no recursiva que proporciona un alto grado de compresi√≥n mediante la superposici√≥n de archivos dentro de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bomba Zip a√∫n mejor</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459254/"> El art√≠culo muestra c√≥mo crear una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bomba zip</a> <i>no recursiva</i> que proporciona un alto grado de compresi√≥n mediante la superposici√≥n de archivos dentro de un contenedor zip.  "No recursivo" significa que no depende de que los descompresores descompriman archivos incrustados en archivos zip: solo hay una ronda.  El tama√±o de salida aumenta cuadr√°ticamente desde la entrada, alcanzando una relaci√≥n de compresi√≥n de m√°s de 28 millones (10 MB ‚Üí 281 TB) dentro del formato zip.  Es posible una mayor expansi√≥n con extensiones de 64 bits.  El dise√±o utiliza solo el algoritmo de compresi√≥n DEFLATE m√°s com√∫n y es compatible con la mayor√≠a de los analizadores zip. <br><br><a name="2"></a><ul><li>  <a href="">zbsm.zip</a> 42 kB ‚Üí 5.5 GB <br></li><li>  <a href="">zblg.zip</a> 10 MB ‚Üí 281 TB <br></li><li>  <a href="">zbxl.zip</a> 46 MB ‚Üí 4.5 PB (Zip64, menos compatible con analizadores) </li></ul><br>  C√≥digo fuente: <br><pre>  git clone https://www.bamsoftware.com/git/zipbomb.git </pre>  <a href="">zipbomb-20190702.zip</a> <br><br>  Datos y fuente de ilustraciones: <br><pre>  git clone https://www.bamsoftware.com/git/zipbomb-paper.git </pre><a name="habracut"></a><br><div class="scrollable-table"><table><thead><tr><td colspan="2"></td><th colspan="2">  no recursivo </th><th colspan="2">  recursivo </th></tr><tr><td></td><th>  tama√±o de archivo </th><th>  tama√±o sin comprimir </th><th>  la relaci√≥n </th><th>  tama√±o sin comprimir </th><th>  la relaci√≥n </th></tr></thead><tbody><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Quine Cox</a> </th><td>  440 </td><td>  440 </td><td>  1.0 </td><td>  ‚àû </td><td>  ‚àû </td></tr><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://web.archive.org/web/20160130230432/">Quine Ellingsen</a> </th><td>  28,809 </td><td>  42 569 </td><td>  1,5 </td><td>  ‚àû </td><td>  ‚àû </td></tr><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">42.zip</a> </th><td>  42,374 * </td><td>  558 432 </td><td>  13,2 </td><td>  4 507 981 343 026 016 </td><td>  106 mil millones </td></tr><tr><th>  esta tecnica </th><td>  42,374 </td><td>  5 461 307 620 </td><td>  129 mil </td><td>  5 461 307 620 </td><td>  129 mil </td></tr><tr><th>  esta tecnica </th><td>  9 893 525 </td><td>  281 395 456 244 934 </td><td>  28 millones </td><td>  281 395 456 244 934 </td><td>  28 millones </td></tr><tr><th>  esta t√©cnica (Zip64) </th><td>  45 876 ‚Äã‚Äã952 </td><td>  4 507 981 427 706 459 </td><td>  98 millones </td><td>  4 507 981 427 706 459 </td><td>  98 millones </td></tr></tbody></table></div><br>  <sub>* Hay dos versiones de 42.zip: el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://web.archive.org/web/20120222083624/">antiguo</a> 42 374 bytes y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://web.archive.org/web/20120301154142/">el nuevo</a> 42 428 bytes.</sub>  <sub>La diferencia es que la nueva requiere una contrase√±a antes de desempacar.</sub>  <sub>Solo comparamos con la versi√≥n anterior.</sub>  <sub>Aqu√≠ hay una copia del archivo si lo necesita: <a href="">42.zip</a> .</sub> <sub><br><br></sub>  <sub>** Me gustar√≠a saber e indicar el autor de 42.zip, pero no pude encontrarlo; av√≠seme si tiene alguna informaci√≥n.</sub> <br><br>  Las bombas Zip deben superar el hecho de que el algoritmo de compresi√≥n DEFLATE m√°s com√∫nmente soportado por los analizadores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">no puede exceder la</a> relaci√≥n de compresi√≥n de 1032 a 1. Por esta raz√≥n, las bombas Zip generalmente dependen de la descompresi√≥n recursiva al insertar archivos zip en archivos zip para obtener una relaci√≥n adicional 1032 con cada capa.  Pero el truco solo funciona en implementaciones que se descomprimen de forma recursiva, y la mayor√≠a no.  La bomba <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">42.zip</a> m√°s famosa se expande a un formidable 4.5 PB, si las seis capas se desempaquetan recursivamente, pero en la capa superior tiene 0.6 MB insignificantes.  Las quines zip, como las de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cox</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://web.archive.org/web/20160130230432/">Ellingsen</a> , emiten una copia de s√≠ mismas y, por lo tanto, se expanden indefinidamente cuando se desempaquetan recursivamente.  Pero tambi√©n son completamente seguros al desempacar una vez. <br><br>  Este art√≠culo muestra c√≥mo crear una bomba zip no recursiva, cuya relaci√≥n de compresi√≥n excede el l√≠mite DEFLATE de 1032. Funciona superponiendo archivos dentro de un contenedor zip para hacer referencia al "n√∫cleo" de datos altamente comprimidos en m√∫ltiples archivos sin hacer m√∫ltiples copias.  El tama√±o de salida de la bomba zip crece cuadr√°ticamente desde el tama√±o de entrada;  es decir, la relaci√≥n de compresi√≥n mejora al aumentar el tama√±o de la bomba.  El dise√±o depende de las caracter√≠sticas de zip y DEFLATE: no se puede transferir directamente a otros formatos de archivo o algoritmos de compresi√≥n.  La bomba es compatible con la mayor√≠a de los analizadores zip, excepto los de "transmisi√≥n", que analizan archivos en una sola pasada sin verificar el directorio central del archivo zip.  Intentamos equilibrar dos objetivos en conflicto: <br><br><ul><li>  Aumentar la relaci√≥n de compresi√≥n.  Definimos la relaci√≥n de compresi√≥n como la suma de los tama√±os de todos los archivos en el archivo dividido por el tama√±o del archivo zip en s√≠.  No tiene en cuenta los nombres de archivo u otros metadatos del sistema de archivos, sino solo el contenido. <br></li><li>  Mantener compatibilidad.  Zip es un formato complejo, y los analizadores difieren, especialmente en situaciones l√≠mite y funciones adicionales.  No utilice t√©cnicas que funcionen solo con ciertos analizadores sint√°cticos.  Observaremos algunas formas de aumentar la eficiencia de una bomba zip con una cierta p√©rdida de compatibilidad. </li></ul><br><h1>  Estructura del archivo zip </h1><br>  El archivo zip consta de un <i>directorio central de</i> enlaces <i>de</i> archivos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/896/5d8/074/8965d80745e0b95831b8e3f7c68c5386.svg"><br><br>  El directorio central est√° al final del archivo zip.  Esta es una lista de <i>encabezados del directorio central</i> .  Cada encabezado del directorio central contiene metadatos para un solo archivo, como el nombre del archivo y la suma de verificaci√≥n CRC-32, as√≠ como un puntero al encabezado del archivo local.  El encabezado del directorio central tiene una longitud de 46 bytes m√°s la longitud del nombre del archivo. <br><br>  El archivo consta del encabezado del archivo local, seguido de los datos del archivo comprimido.  La longitud del encabezado del archivo local es de 30 bytes m√°s la longitud del nombre del archivo.  Contiene una copia redundante de los metadatos del encabezado del directorio central, as√≠ como los tama√±os de los archivos de datos comprimidos y no comprimidos detr√°s de √©l.  Zip es un formato contenedor, no un algoritmo de compresi√≥n.  Los datos de cada archivo se comprimen utilizando el algoritmo especificado en los metadatos, generalmente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DEFLATE</a> . <br><br>  Esta descripci√≥n del formato zip omite muchos detalles que no son necesarios para comprender la bomba zip.  Para obtener informaci√≥n completa, consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">secci√≥n 4.3 APPNOTE.TXT</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Estructura de archivo PKZip" de</a> Florian Buchholz, o consulte el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥digo fuente</a> . <br><br>  La redundancia significativa y muchas ambig√ºedades en el formato zip abren oportunidades para travesuras de diferentes tipos.  Una bomba zip es solo la punta del iceberg.  Enlaces para lecturas adicionales: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Diez mil trampas de seguridad: un formato ZIP", por</a> Ginwael Coldwind <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El an√°lisis zip ambiguo le permite ocultar los archivos de complemento de Firefox de la interfaz y las personas</a> : mi vulnerabilidad en addons.mozilla.org </li></ul><br><h1>  Primer descubrimiento: archivos superpuestos </h1><br>  Al comprimir una larga cadena de bytes repetidos, podemos crear un <i>n√∫cleo de</i> datos altamente comprimidos.  La relaci√≥n de compresi√≥n del n√∫cleo en s√≠ no puede exceder el l√≠mite DEFLATE de 1032, por lo que necesitamos una forma de reutilizar el n√∫cleo en muchos archivos, sin crear una copia separada en cada archivo.  Podemos hacer esto superponiendo archivos: haga que muchos encabezados del directorio central apunten a un solo archivo cuyos datos son el n√∫cleo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f80/675/a85/f80675a8530b8adfc1d5847eaaf813ca.svg"><br><br>  Considere un ejemplo de c√≥mo este dise√±o afecta la relaci√≥n de compresi√≥n.  Supongamos que un n√∫cleo de 1000 bytes se desempaqueta en 1 MB.  Luego, el primer megabyte de salida "cuesta" 1078 bytes de datos de entrada: <br><br><ul><li>  31 bytes para el encabezado del archivo local (incluido el nombre de archivo de 1 byte) <br></li><li>  47 bytes para el encabezado del directorio central (incluido un nombre de archivo de 1 byte) <br></li><li>  1000 bytes por n√∫cleo </li></ul><br>  Pero cada 1 MB de salida despu√©s de la primera cuesta solo 47 bytes: no necesitamos otro encabezado del archivo local u otra copia del n√∫cleo, solo un encabezado adicional del directorio central.  Por lo tanto, mientras que el primer enlace desde el n√∫cleo tiene una relaci√≥n de compresi√≥n de 1,000,000 / 1,078 ‚âà 928, cada enlace adicional mueve el coeficiente m√°s cerca de 1,000,000 / 47 ‚âà 21,277, y un n√∫cleo grande eleva el techo. <br><br>  El problema con esta idea es la falta de compatibilidad.  Dado que muchos encabezados del directorio central apuntan a un encabezado del archivo local, los metadatos (en particular, el nombre del archivo) no pueden ser los mismos para cada archivo.  Algunos analizadores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">juran por esto</a> .  Por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Info-ZIP UnZip</a> (el programa de <code>unzip</code> est√°ndar en Unix) recupera archivos, pero con advertencias: <br><br><pre>  $ descomprimir overlap.zip
   inflado: A
 B: nombre de archivo "local" no coincidente (A),
          continuando con la versi√≥n del archivo "central"
   inflado: B
 ... </pre><br>  Python <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">zipfile</a> tambi√©n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">arroja una excepci√≥n</a> : <br><br><pre>  $ python3 -m archivo zip -e overlap.zip.
 Rastreo (√∫ltima llamada m√°s reciente):
 ...
 __main __. BadZipFile: El nombre del archivo en el directorio 'B' y el encabezado b'A 'difieren. </pre><br>  A continuaci√≥n, veremos c√≥mo redise√±ar la coherencia del nombre del archivo, al tiempo que conservamos la mayor√≠a de los beneficios de la superposici√≥n de archivos. <br><br><h1>  Segundo descubrimiento: citando los encabezados de los archivos locales </h1><br>  Necesitamos separar los encabezados de los archivos locales para cada archivo, mientras reutilizamos un n√∫cleo.  Simplemente combinar todos los encabezados no funciona, porque el analizador zip encontrar√° el encabezado del archivo local donde espera el inicio de la secuencia DEFLATE.  Pero la idea funcionar√°, con cambios menores.  Utilizaremos la funci√≥n DEFLATE de bloques sin comprimir para "citar" los encabezados de los archivos locales para que parezcan ser parte de la misma secuencia DEFLATE que termina en el n√∫cleo.  Cada encabezado del archivo local (excepto el primero) se interpretar√° de dos maneras: como c√≥digo (parte de la estructura del archivo zip) y como datos (parte del contenido del archivo). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1c1/668/e92/1c1668e92501880340aaf1651df25095.svg"><br><br>  Una secuencia DEFLATE es una secuencia de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bloques</a> donde cada bloque se puede comprimir o descomprimir.  Por lo general, solo pensamos en bloques comprimidos, por ejemplo, el n√∫cleo es un gran bloque comprimido.  Pero tambi√©n hay otros sin comprimir que comienzan con un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">encabezado de 5 bytes</a> con un campo de longitud, lo que simplemente significa: "imprime los siguientes <i>n</i> bytes al pie de la letra".  Desempaquetar un bloque sin comprimir significa solo eliminar el encabezado de 5 bytes.  Los bloques comprimidos y sin comprimir pueden mezclarse libremente en la secuencia DEFLATE.  La salida es una concatenaci√≥n de los resultados de desempaquetar todos los bloques en orden.  El concepto de "sin comprimir" solo importa en el nivel DEFLATE;  los datos del archivo a√∫n se consideran "comprimidos" en el nivel zip, independientemente de qu√© bloques se utilicen. <br><br>  La forma m√°s f√°cil de imaginar este dise√±o es como una superposici√≥n interna, desde el √∫ltimo archivo hasta el primero.  Comenzamos insertando un n√∫cleo que formar√° el final del archivo de datos para cada archivo.  Agregue el encabezado del archivo LFH <sub><i>N</i></sub> local y el encabezado del directorio central de CDH <sub><i>N</i></sub> que apunta a √©l.  Establezca el campo de metadatos "tama√±o comprimido" en LFH <sub><i>N</i></sub> y CDH <sub><i>N</i></sub> en el tama√±o del n√∫cleo comprimido.  Ahora agregue el encabezado de 5 bytes del bloque sin comprimir (en verde en el diagrama), cuyo campo de longitud es igual al tama√±o LFH <sub><i>N.</i></sub>  Agregue el segundo encabezado del archivo LFH local <sub><i>N</i> ‚àí1</sub> y el t√≠tulo del directorio central CDH <sub><i>N</i> ‚àí1</sub> , que apunta a √©l.  Establezca el campo de metadatos "tama√±o comprimido" como el nuevo encabezado para el tama√±o del n√∫cleo comprimido <i>m√°s el</i> tama√±o del encabezado del bloque sin comprimir (5 bytes) <i>m√°s el</i> tama√±o de LFH <sub><i>N.</i></sub> <br><br>  Por el momento, el archivo zip contiene dos archivos con los nombres Y y Z. Veamos qu√© ver√° el analizador al analizar.  Supongamos que el tama√±o del n√∫cleo comprimido es de 1000 bytes y el tama√±o LFH <sub><i>N</i></sub> es de 31 bytes.  Comenzamos con CDH <sub><i>N</i> ‚àí1</sub> y seguimos el signo de LFH <sub><i>N</i> ‚àí1</sub> .  El nombre del primer archivo es Y, y el tama√±o comprimido de su archivo de datos es 1036 bytes.  Al interpretar los siguientes 1036 bytes como una secuencia DEFLATE, primero encontramos un encabezado de 5 bytes de un bloque sin comprimir que dice copiar los siguientes 31 bytes.  Anotamos los siguientes 31 bytes, que son LFH <sub><i>N</i></sub> , que desempaquetamos y agregamos al archivo Y. Avanzando en la secuencia DEFLATE, encontramos el bloque comprimido (kernel) que desempaquetamos en el archivo Y. Ahora hemos llegado al final de los datos comprimidos y hemos terminado con el archivo Y. <br><br>  Pasando al siguiente archivo, seguimos el puntero desde CDH <sub><i>N</i></sub> a LFH <sub><i>N</i></sub> y encontramos un archivo llamado Z con un tama√±o comprimido de 1000 bytes.  Al interpretar estos 1000 bytes como una secuencia DEFLATE, inmediatamente encontramos un bloque comprimido (n√∫cleo nuevamente) y lo descomprimimos en un archivo Z. Ahora hemos llegado al final del archivo final y hemos terminado.  El archivo de salida Z contiene el kernel desempaquetado;  el archivo de salida Y es el mismo, pero opcionalmente con un prefijo de 31 bytes LFH <sub><i>N.</i></sub> <br><br>  Completamos la construcci√≥n repitiendo el procedimiento de citas hasta que el archivo zip incluya el n√∫mero requerido de archivos.  Cada archivo nuevo agrega un encabezado de directorio central, un encabezado de archivo local y un bloque sin comprimir para citar directamente desde el siguiente encabezado de archivo local.  Los datos de archivos comprimidos suelen ser una cadena de bloques DEFLATE sin comprimir (encabezados de archivos locales citados) seguidos de un n√∫cleo comprimido.  Cada byte en el n√∫cleo aporta aproximadamente 1032 <i>N</i> al tama√±o de salida, porque cada byte es parte de todos los <i>N</i> archivos.  Los archivos de salida tambi√©n son de diferentes tama√±os: los anteriores son m√°s grandes que los posteriores porque citan m√°s los encabezados de los archivos locales.  El contenido de los archivos de salida no tiene mucho sentido, pero nadie dijo que deber√≠a tener sentido. <br><br>  Este dise√±o de citas superpuestas tiene una mejor compatibilidad que el dise√±o de superposici√≥n completa de la secci√≥n anterior, pero la compatibilidad se logra mediante la compresi√≥n.  All√≠, cada archivo agregado cuesta solo el t√≠tulo del directorio central, aqu√≠ cuesta el t√≠tulo del directorio central, el encabezado del archivo local y otros 5 bytes para el encabezado de cita. <br><br><h1>  Optimizaci√≥n </h1><br>  Habiendo recibido el dise√±o b√°sico de la bomba Zip, intentaremos que sea lo m√°s eficiente posible.  Queremos responder dos preguntas: <br><br><ul><li>  ¬øCu√°l es la relaci√≥n de compresi√≥n m√°xima para un tama√±o de archivo zip dado? <br></li><li>  ¬øCu√°l es la relaci√≥n de compresi√≥n m√°xima dadas las limitaciones del formato zip? </li></ul><br><h3>  Compresi√≥n del n√∫cleo </h3><br>  Es beneficioso para nosotros comprimir el n√∫cleo tanto como sea posible, porque cada byte desempaquetado se multiplica por <i>N.</i>  Para este prop√≥sito, utilizamos un compresor DEFLATE personalizado llamado bulk_deflate, especializado en comprimir una cadena de bytes repetidos. <br><br>  Todos los archivadores DEFLATE decentes se acercan a la relaci√≥n de compresi√≥n de 1032 en una secuencia interminable de bytes repetidos, pero nos preocupa el tama√±o espec√≠fico.  En nuestro tama√±o de archivo, bulk_deflate contiene m√°s datos que los archivadores de uso general: aproximadamente 26 KB m√°s que zlib e Info-ZIP, y aproximadamente 15 KB m√°s que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Zopfli</a> , lo que sacrifica la velocidad en aras de la calidad de compresi√≥n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8b4/cac/e5b/8b4cace5b49ef6945fd1d1ddc8fd7310.svg"><br><br>  El precio de una alta relaci√≥n de compresi√≥n bulk_deflate: la falta de versatilidad.  Puede comprimir solo l√≠neas de bytes repetidos y solo una cierta longitud, es decir, 517 + 258 <i>k</i> para un entero <i>k</i> ‚â• 0. Adem√°s de una buena compresi√≥n, bulk_deflate funciona r√°pidamente, realizando el trabajo casi al mismo tiempo, independientemente del tama√±o de los datos de entrada, contando el trabajo de escribir realmente una cadena comprimida. <br><br><a name="1"></a><h3>  Nombres de archivo </h3><br>  Para nuestros prop√≥sitos, los nombres de los archivos son casi de peso muerto.  Aunque contribuyen al tama√±o de salida al ser parte de los encabezados de los archivos locales entre comillas, los bytes en el nombre del archivo contribuyen mucho menos que los bytes en el n√∫cleo.  Queremos que los nombres de los archivos sean lo m√°s cortos posible, a la vez que diferentes, sin olvidar la compatibilidad. <br><br>  Cada byte gastado en un nombre de archivo significa dos bytes no gastados en el n√∫cleo (dos porque cada nombre de archivo aparece dos veces: en el encabezado del directorio central y en el encabezado del archivo local).  Un byte de nombre de archivo da como resultado un promedio de solo ( <i>N</i> + 1) / 4 bytes de salida, mientras que un byte en el n√∫cleo cuenta como 1032 <i>N.</i>  Ejemplos: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3</a> . <br><br>  La primera consideraci√≥n de compatibilidad es la codificaci√≥n.  La especificaci√≥n del formato zip establece que los nombres de archivo deben interpretarse como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CP 437</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UTF-8</a> si se establece un bit de bandera espec√≠fico ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">APPNOTE.TXT, ap√©ndice D</a> ).  Este es el principal punto de incompatibilidad entre los analizadores zip, que pueden interpretar nombres de archivo en alguna codificaci√≥n fija o espec√≠fica de la localidad.  Por lo tanto, por compatibilidad, es mejor limitarse a caracteres con la misma codificaci√≥n tanto en CP 437 como en UTF-8.  A saber, estos son 95 caracteres imprimibles US-ASCII. <br><br>  Tambi√©n estamos sujetos a restricciones de nomenclatura del sistema de archivos.  Algunos sistemas de archivos no distinguen entre may√∫sculas y min√∫sculas, por lo que 'a' y 'A' no se consideran nombres diferentes.  Los sistemas de archivos comunes, como FAT32, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">proh√≠ben ciertos caracteres</a> , como '*' y '?'. <br><br>  Como un compromiso seguro, pero no necesariamente √≥ptimo, nuestra bomba zip utilizar√° nombres de archivo del alfabeto de 36 caracteres, que no incluye caracteres especiales y caracteres de may√∫sculas y min√∫sculas diferentes: <br><br><pre>  0 1 2 3 4 5 6 7 8 9 ABCDEFGHIJKLMNOPQRSTU VWXYZ </pre><br>  Los nombres de archivo se generan de manera obvia, todas las posiciones a su vez, con la adici√≥n de una posici√≥n al final del ciclo: <br><br><pre>  "0", "1", "2", ..., "Z",
 "00", "01", "02", ..., "0Z",
 ...
 "Z0", "Z1", "Z2", ..., "ZZ",
 "000", "001", "002", ... </pre><br>  Hay 36 nombres de archivo de un car√°cter, 36¬≤ nombres de dos caracteres, etc.  Cuatro bytes son suficientes para 1,727,604 nombres de archivo diferentes. <br><br>  Dado que los nombres de archivo en el archivo generalmente tendr√°n diferentes longitudes, ¬øc√≥mo puedo ordenarlos mejor: del m√°s corto al m√°s largo o viceversa?  Si piensa un poco, es mejor poner los nombres m√°s largos al final.  Esta clasificaci√≥n agrega m√°s de 900 MB de salida a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">zblg.zip</a> , en comparaci√≥n con el pedido m√°s largo al m√°s corto.  Sin embargo, esta es una optimizaci√≥n menor, porque 900 MB es solo el 0,0003% del tama√±o total del problema. <br><br><h3>  Tama√±o del n√∫cleo </h3><br>  El dise√±o de citas superpuestas le permite colocar un n√∫cleo de datos comprimido y luego copiarlo de forma econ√≥mica muchas veces.  Para un tama√±o espec√≠fico del archivo zip <i>X</i> , ¬øcu√°nto espacio es √≥ptimo para asignar para almacenar el n√∫cleo y cu√°nto para crear copias? <br><br>  Para encontrar el equilibrio √≥ptimo, necesita optimizar solo una variable <i>N</i> , el n√∫mero de archivos en el archivo zip.  Cada valor de <i>N</i> requiere una cierta cantidad de sobrecarga para los encabezados del directorio central, encabezados de archivos locales, encabezados de bloques de citas y nombres de archivos.  El resto del espacio estar√° ocupado por el n√∫cleo.  Dado que <i>N</i> debe ser un n√∫mero entero y solo puede colocar una cierta cantidad de archivos antes de que el tama√±o del kernel caiga a cero, es suficiente verificar todos los valores posibles de <i>N</i> y seleccionar el que proporcione el mayor rendimiento. <br><br>  La aplicaci√≥n del procedimiento de optimizaci√≥n a <i>X</i> = 42,374 para 42.zip encuentra un m√°ximo en <i>N</i> = 250. Estos 250 archivos requieren 21,195 bytes de sobrecarga, dejando 21,179 bytes para el n√∫cleo.  Un n√∫cleo de este tama√±o se descomprime en 21,841,249 bytes (relaci√≥n 1031.3 a 1).  250 copias del kernel desempaquetado m√°s algunos encabezados citados de archivos locales dan una salida total desempaquetada de 5,461,307,620 bytes y una relaci√≥n de compresi√≥n de 129,000. <br><br><ul><li>  <a href="">zbsm.zip</a> 42 kB ‚Üí 5.5 GB </li></ul><pre>  zipbomb --mode = quoted_overlap --num-files = 250 --compressed-size = 21179&gt; zbsm.zip </pre><br>  La optimizaci√≥n ha llevado a una distribuci√≥n casi uniforme del espacio entre el n√∫cleo y los encabezados de los archivos.  Esto no es una coincidencia.  Considere un modelo simplificado de una construcci√≥n de citas con superposici√≥n.  En un modelo simplificado, ignoramos los nombres de los archivos, as√≠ como un ligero aumento en el tama√±o del archivo de salida debido a la cita de los encabezados de los archivos locales.  El an√°lisis del modelo simplificado mostrar√° que la distribuci√≥n √≥ptima entre el n√∫cleo y los encabezados de los archivos es aproximadamente uniforme, y el tama√±o de salida con la distribuci√≥n √≥ptima crece de forma cuadr√°tica dependiendo del tama√±o de la entrada. <br><br>  Definici√≥n de algunas constantes y variables: <br><br><div class="scrollable-table"><table><tbody><tr><td>  X </td><td></td><td>  tama√±o del archivo zip (considerado fijo) </td></tr><tr><td>  N </td><td></td><td>  N√∫mero de archivos en el archivo zip (variable para la optimizaci√≥n) </td></tr><tr><td>  Cdh </td><td>  = 46 </td><td>  tama√±o del encabezado del directorio central (sin nombre de archivo) </td></tr><tr><td>  Lfh </td><td>  = 30 </td><td>  tama√±o del encabezado del archivo local (sin nombre de archivo) </td></tr><tr><td>  Q </td><td>  = 5 </td><td>  Tama√±o del bloque DEFLATE sin comprimir </td></tr><tr><td>  C </td><td>  ‚âà 1032 </td><td>  relaci√≥n de compresi√≥n del n√∫cleo </td></tr></tbody></table></div><br>  Deje <i>H (N)</i> ser el volumen de la sobrecarga de encabezados para <i>N</i> archivos.  Vea la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tabla</a> para comprender la esencia de la f√≥rmula. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">H</span><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">N</span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-6" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">N</span><span class="MJXp-mo" id="MJXp-Span-8" style="margin-left: 0.267em; margin-right: 0.267em;">‚ãÖ</span><span class="MJXp-mo" id="MJXp-Span-9" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">H</span><span class="MJXp-mo" id="MJXp-Span-13" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">L</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">H</span><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-18" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">N</span><span class="MJXp-mo" id="MJXp-Span-21" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-22">1</span><span class="MJXp-mo" id="MJXp-Span-23" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-24" style="margin-left: 0.267em; margin-right: 0.267em;">‚ãÖ</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">Q</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.802ex" height="2.66ex" viewBox="0 -832 18428.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4E" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="2166" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-3D" x="2833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4E" x="3890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-22C5" x="5000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="5501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-43" x="5891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-44" x="6651" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-48" x="7480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-2B" x="8590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4C" x="9591" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-46" x="10272" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-48" x="11022" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="11910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-2B" x="12522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="13523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4E" x="13912" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-2212" x="15023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-31" x="16024" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="16524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-22C5" x="17136" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-51" x="17637" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> H (N) = N ‚ãÖ (CDH + LFH) + (N - 1) ‚ãÖ Q </script></p><br>  Para el n√∫cleo, quedan lugares <i>X - H (N)</i> .  El tama√±o total desempaquetado <i>S <sub>X</sub> (N)</i> es igual al tama√±o de <i>N</i> copias del kernel desempaquetado con la proporci√≥n <i>C</i> (en este modelo simplificado, ignoramos la leve extensi√≥n adicional de los encabezados de archivo locales mencionados). <br><br><p><math> </math> $$ display $$ S_X (N) = (X - H (N)) CN \\ = (X - (N ‚ãÖ (CDH + LFH) + (N - 1) ‚ãÖ Q)) CN \\ = - (CDH + LFH + Q) CN ^ 2 + (X + Q) CN $$ display $$ </p><br>  S <sub>X</sub> (N) es un polinomio en la parte N, por lo tanto, el m√°ximo debe ser donde la derivada S ' <sub>X</sub> (N) es igual a cero.  Tomar la derivada y encontrar cero nos da N <sub>OPT</sub> , el n√∫mero √≥ptimo de archivos. <br><br><p><math> </math> $$ display $$ S‚Ä≤X (N_ {OPT}) = ‚àí2 (CDH + LFH + Q) C N_ {OPT} + (X + Q) C \\ 0 = ‚àí2 (CDH + LFH + Q) C N_ {OPT} + (X + Q) C \\ N_ {OPT} = (X + Q) / (CDH + LFH + Q) / 2 $$ display $$ </p><br>  <i>H (N <sub>OPT</sub> )</i> proporciona la cantidad √≥ptima de espacio para colocar encabezados de archivo.  Es independiente de CDH, LFH y C y est√° cerca de <i>X / 2</i> . <br><br><p><math> </math> $$ display $$ H (N_ {OPT}) = N_ {OPT} ‚ãÖ (CDH + LFH) + (N_ {OPT} - 1) ‚ãÖ Q \\ = (X - Q) / 2 $$ display $$ </p><br>  S <sub>X</sub> (N <sub>OPT</sub> ): tama√±o total desempaquetado con distribuci√≥n √≥ptima.  A partir de esto, vemos que el tama√±o de la salida aumenta cuadr√°ticamente al aumentar los datos de entrada. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-249"><span class="MJXp-msubsup" id="MJXp-Span-250"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-252" style="vertical-align: -0.4em;">X</span></span><span class="MJXp-mo" id="MJXp-Span-253" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255" style="margin-right: 0.05em;">N</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-256" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">T</span></span></span><span class="MJXp-mo" id="MJXp-Span-260" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-261" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-262" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">X</span><span class="MJXp-mo" id="MJXp-Span-264" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">Q</span><span class="MJXp-msubsup" id="MJXp-Span-266"><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-268" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">C</span><span class="MJXp-mrow" id="MJXp-Span-270"><span class="MJXp-mo" id="MJXp-Span-271" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-272" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">H</span><span class="MJXp-mo" id="MJXp-Span-276" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">L</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">H</span><span class="MJXp-mo" id="MJXp-Span-280" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">Q</span><span class="MJXp-mo" id="MJXp-Span-282" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-283"><span class="MJXp-mo" id="MJXp-Span-284" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-285">4</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="48.954ex" height="3.021ex" viewBox="0 -987.6 21077.5 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-58" x="867" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="1316" y="0"></use><g transform="translate(1705,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4E" x="0" y="0"></use><g transform="translate(803,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-50" x="763" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-54" x="1514" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="4178" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-3D" x="4846" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-58" x="6291" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-2B" x="7366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-51" x="8367" y="0"></use><g transform="translate(9158,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-43" x="10002" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-2F" x="10762" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="11263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-43" x="11652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-44" x="12413" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-48" x="13241" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-2B" x="14352" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4C" x="15353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-46" x="16034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-48" x="16784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-2B" x="17894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-51" x="18895" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="19687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-2F" x="20076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-34" x="20577" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> S_X (N_ {OPT}) = (X + Q) ^ 2C / (CDH + LFH + Q) / 4 </script></p><br>  Al aumentar el tama√±o del archivo zip, al final encontraremos los l√≠mites del formato zip: el archivo no puede tener m√°s de 2 <sup>16</sup> ‚àí1 archivos con un tama√±o de no m√°s de 2 <sup>32</sup> ‚àí1 bytes cada uno.  Peor a√∫n, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">algunas implementaciones</a> toman valores m√°ximos como un indicador de la presencia de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">extensiones</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">64 bits</a> , por lo que nuestros l√≠mites son en realidad 2 <sup>16</sup> ‚àí2 y 2 <sup>32</sup> ‚àí2.  Sucede que la primera vez que encontramos un l√≠mite en el tama√±o de un archivo sin comprimir.  Con un tama√±o de archivo zip de 8 319 377 bytes, la optimizaci√≥n ingenua nos dar√° la cantidad de archivos 47 837 y un archivo m√°ximo de 2 <sup>32</sup> +311 bytes. <br><br>  (En realidad, todo es un poco m√°s complicado, porque los l√≠mites exactos dependen de la implementaci√≥n. El archivo zip de Python <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ignora la</a> cantidad de archivos, archive / zip en Go <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">permite</a> aumentar la cantidad de archivos hasta que coincidan con los 16 bits inferiores. Pero para compatibilidad general, debemos adherirnos a l√≠mites establecidos). <br><br>  Si no podemos aumentar infinitamente <i>N</i> o el tama√±o del n√∫cleo, nos gustar√≠a encontrar la relaci√≥n de compresi√≥n m√°xima dentro del formato zip.  Debe hacer que el n√∫cleo sea lo m√°s grande posible con el n√∫mero m√°ximo de archivos.  A pesar del hecho de que ya no podemos mantener una separaci√≥n aproximadamente uniforme entre el n√∫cleo y los encabezados de los archivos, cada archivo agregado <i>todav√≠a</i> aumenta la relaci√≥n de compresi√≥n, pero no tan r√°pido como si pudi√©ramos continuar aumentando el n√∫cleo.  De hecho, a medida que se agregan archivos, necesitaremos <i>reducir el</i> tama√±o del kernel para liberar espacio para el tama√±o m√°ximo de archivo, que crece ligeramente con cada archivo agregado. <br><br>  El plan lleva a un archivo zip con 2 <sup>16</sup> ‚àí2 archivos y un n√∫cleo, que se descomprime en 2 <sup>32</sup> ‚àí2 178 825 bytes.  Los archivos ser√°n m√°s grandes hacia el comienzo del archivo zip: el primer y m√°s grande archivo se descomprime en 2 <sup>32</sup> ‚àí56 bytes.  Esto es lo m√°s cercano posible usando los par√°metros de salida aproximada de bulk_deflate: codificar los 54 bytes finales costar√° m√°s que su tama√±o (el archivo zip en su conjunto tiene una relaci√≥n de compresi√≥n de 28 millones, y los 54 bytes finales recibir√°n un m√°ximo de 54 ‚ãÖ 10 <sup>32</sup> ‚ãÖ ( 2 <sup>16</sup> - 2) ‚âà 36? 5 millones de bytes, por lo que esto solo ayuda si 54 bytes pueden codificarse en un byte, y no podr√≠a codificar menos de dos. Por lo tanto, si no puede codificar 54 bytes en 1 byte, solo reduce la relaci√≥n de compresi√≥n).  El tama√±o de salida de esta bomba Zip es 281,395,456,244,934 bytes, 99.97% del m√°ximo te√≥rico (2 <sup>32</sup> - 1) √ó (2 <sup>16</sup> - 1).  Cualquier mejora significativa en la relaci√≥n de compresi√≥n se puede lograr solo reduciendo el tama√±o de la se√±al de entrada y no aumentando la salida. <br><br><ul><li>  <a href="">zblg.zip</a> 10 MB ‚Üí 281 TB </li></ul><pre>  zipbomb --mode = quoted_overlap --num-files = 65534 --max-uncompressed-size = 4292788525&gt; zblg.zip </pre><br><h1>  Computaci√≥n eficiente CRC-32 </h1><br>  Entre los metadatos en el encabezado del directorio central y el encabezado del archivo local se encuentra una suma de verificaci√≥n de los datos del archivo sin comprimir: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CRC-32</a> .  Esto plantea un problema porque la cantidad de c√°lculos de CRC-32 para cada archivo es proporcional a su tama√±o, que es muy grande por defecto (despu√©s de todo, es una bomba zip).  Preferir√≠amos hacer un trabajo que sea al menos proporcional al tama√±o del archivo.  Dos factores funcionan a nuestro favor: todos los archivos tienen un n√∫cleo com√∫n y un n√∫cleo sin comprimir es una cadena de bytes repetidos.  Imagine CRC-32 como un producto matricial: esto nos permitir√° no solo calcular r√°pidamente la suma de comprobaci√≥n del n√∫cleo, sino tambi√©n reutilizar los c√°lculos entre archivos.  El m√©todo descrito en esta secci√≥n es una peque√±a extensi√≥n de la funci√≥n <a href="">crc32_combine</a> en zlib, que Mark Adler explica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  CRC-32 puede modelarse como una m√°quina de estado, actualizando un registro de estado de 32 bits para cada bit de entrada.  Las operaciones b√°sicas de actualizaci√≥n para los bits 0 y 1 son: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">uint32 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">crc32_update_0</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(uint32 state)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Shift out the least significant bit. bit b = state &amp; 1; state = state &gt;&gt; 1; // If the shifted-out bit was 1, XOR with the CRC-32 constant. if (b == 1) state = state ^ 0xedb88320; return state; } uint32 crc32_update_1(uint32 state) { // Do as for a 0 bit, then XOR with the CRC-32 constant. return crc32_update_0(state) ^ 0xedb88320; }</span></span></code> </pre> <br>  Si representa el registro de estado como un vector binario de 32 elementos y usa XOR para <code>crc32_update_0</code> y multiplicar, entonces <code>crc32_update_0</code> es un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mapeo lineal</a> ;  es decir, se puede representar como una multiplicaci√≥n por una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">matriz</a> binaria de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">transici√≥n</a> 32 √ó 32.  Para entender por qu√©, tenga en cuenta que multiplicar una matriz por un vector es simplemente sumar las columnas de la matriz despu√©s de multiplicar cada columna por el elemento correspondiente del vector.  El <code>state &gt;&gt; 1</code> operaci√≥n de cambio <code>state &gt;&gt; 1</code> simplemente toma cada bit <i>i</i> del vector de estado y lo multiplica por un vector que es cero en todas partes excepto el bit <i>i</i> - 1 (numerando los bits de derecha a izquierda).  Relativamente hablando, el <code>state ^ 0xedb88320</code> XOR final <code>state ^ 0xedb88320</code> ocurre solo cuando el bit <code>b</code> es igual a uno.  Esto se puede representar como la primera multiplicaci√≥n de b por 0xedb88320, y luego XORing a este estado. <br><br>  Adem√°s, <code>crc32_update_1</code> es solo una <code>crc32_update_0</code> plus (XOR).<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esto hace </font></font><code>crc32_update_1</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">una transformaci√≥n af√≠n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : multiplicaci√≥n de matrices seguida de mapeo (es decir, suma de vectores). Podemos imaginar la multiplicaci√≥n y el mapeo de matrices en un solo paso, si aumentamos el tama√±o de la matriz de transformaci√≥n a 33 √ó 33 y agregamos un elemento adicional al vector de estado, que siempre es 1 (esta representaci√≥n se denomina </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coordenadas homog√©neas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><br><img src="https://habrastorage.org/webt/sg/ay/or/sgayorbdqetnkmc1y-qm42uywic.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las matrices de transformaci√≥n son 33 √ó 33 M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que calculan el cambio de estado CRC-32 realizado por los bits 0 y 1, respectivamente. Los vectores de columna se almacenan con el bit m√°s significativo a continuaci√≥n: leyendo la primera columna de abajo hacia arriba, ver√° la constante polin√≥mica CRC-32 edb8832016 = </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00000 </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Estas dos matrices difieren solo en la columna final, que representa el vector de traducci√≥n en coordenadas homog√©neas. En M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0, la</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> traducci√≥n es cero, y en M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es edb88320 </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la constante polin√≥mica es CRC-32. Las unidades son inmediatamente por encima del estado diagonal de la operaci√≥n</font></font><code>state &gt;&gt; 1</code></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ambas operaciones</font></font><code>crc32_update_0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font><code>crc32_update_1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pueden ser representados por la matriz de transici√≥n de 33 √ó 33. Se muestran las matrices M</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y M</font><sub><font style="vertical-align: inherit;"> 1</font></sub><font style="vertical-align: inherit;"> .</font></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">La ventaja de la representaci√≥n matricial es que las matrices se pueden multiplicar. </font><font style="vertical-align: inherit;">Supongamos que queremos ver un cambio de estado realizado al procesar un car√°cter ASCII 'a', cuya representaci√≥n binaria es 01100001 </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Podemos imaginar el cambio acumulativo en el estado del CRC-32 de estos ocho bits en una matriz de transformaci√≥n:</font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-286"><span class="MJXp-msubsup" id="MJXp-Span-287"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-289" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-290" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-291"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-293" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-296" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-297"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-299" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-300"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-302" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-303"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-305" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-306"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-308" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-309"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-311" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-312"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-314" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.921ex" height="2.419ex" viewBox="0 -780.1 14174.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-3D" x="1722" y="0"></use><g transform="translate(2778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-30" x="1372" y="-213"></use></g><g transform="translate(4203,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-31" x="1372" y="-213"></use></g><g transform="translate(5627,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-31" x="1372" y="-213"></use></g><g transform="translate(7052,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-30" x="1372" y="-213"></use></g><g transform="translate(8476,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-30" x="1372" y="-213"></use></g><g transform="translate(9901,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-30" x="1372" y="-213"></use></g><g transform="translate(11325,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-30" x="1372" y="-213"></use></g><g transform="translate(12749,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-31" x="1372" y="-213"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-6">M_a = M_0 M_1 M_1 M_0 M_0 M_0 M_0 M_1</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y podemos imaginar un cambio en el estado de una fila repitiendo 'a' multiplicando muchas copias de M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , elevando la matriz a una potencia. </font><font style="vertical-align: inherit;">Podemos hacer esto de forma r√°pida utilizando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el algoritmo de exponenciaci√≥n r√°pida</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , lo que permite calcular el M </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√≥lo tiene que entrar </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></sub> <sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pasos. </font><font style="vertical-align: inherit;">Por ejemplo, aqu√≠ hay una matriz para cambiar el estado de una cadena de 9 caracteres 'a':</font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-315"><span class="MJXp-mo" id="MJXp-Span-316" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-317"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-319" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-320"><span class="MJXp-mo" id="MJXp-Span-321" style="margin-left: 0em; margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-322" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-323" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-324"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-326" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-327"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-329" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-330"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-332" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-333"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-335" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-336"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-338" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-339"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-341" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-342"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-344" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-345"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-347" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><font style="vertical-align: inherit;"><span class="MJXp-msubsup" id="MJXp-Span-348"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">M </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-348"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-350" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-345"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">M </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-345"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-347" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">a </font></span></span></font><span class="MJXp-msubsup" id="MJXp-Span-348"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-350" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span><span class="MJXp-mspace" id="MJXp-Span-351" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-352" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-353" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-354"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-356" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-357"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-359" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-360"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-362" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-363"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-365" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-366"><span class="MJXp-mo" id="MJXp-Span-367" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-368" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-369"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-371" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mspace" id="MJXp-Span-372" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-373" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-374" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-375" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-376"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-378" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-379"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-381" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-382"><span class="MJXp-mo" id="MJXp-Span-383" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-384" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-385"><span class="MJXp-mo" id="MJXp-Span-386" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-387" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-388"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-390" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mspace" id="MJXp-Span-391" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-392" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-393" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-394" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-395" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-396"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-397" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-398" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-399"><span class="MJXp-mo" id="MJXp-Span-400" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-401" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-402"><span class="MJXp-mo" id="MJXp-Span-403" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-404" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-405"><span class="MJXp-mo" id="MJXp-Span-406" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-407" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-408"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-410" style="vertical-align: -0.4em;">a</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="93.735ex" height="13.985ex" viewBox="0 -987.6 40358 6021.4" role="img" focusable="false" style="vertical-align: -11.691ex; max-width: 778px;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(11670,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(1834,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-39" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-3D" x="2955" y="0"></use><g transform="translate(4011,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(5456,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(6901,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(8346,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(9791,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(11236,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(12681,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(14126,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(15571,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g></g><g transform="translate(15422,-1567)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="1056" y="0"></use><g transform="translate(1445,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(2890,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(4335,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(5780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(7225,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(8068,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g></g><g transform="translate(16250,-3133)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="1056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="1445" y="0"></use><g transform="translate(1835,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(3280,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(4725,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(5568,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(6411,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g></g><g transform="translate(16356,-4699)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="1056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="1445" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-28" x="1835" y="0"></use><g transform="translate(2224,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(3669,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(4513,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(5356,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(6199,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-61" x="1372" y="-213"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-7">(M_a)^9 = M_a M_a M_a M_a M_a M_a M_a M_a M_a\\ = (M_a M_a M_a M_a)^2 M_a\\ = ((M_a M_a)^2)^2 M_a\\ = (((M_a)^2)^2)^2 M_a</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El algoritmo de multiplicaci√≥n r√°pida de matriz es √∫til para calcular el </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√∫cleo</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> M </font><font style="vertical-align: inherit;">, una matriz para un n√∫cleo sin comprimir, ya que el n√∫cleo es una cadena de bytes repetidos. Para obtener la suma de verificaci√≥n CRC-32 de la matriz, multiplique la matriz por el vector cero (el vector cero est√° en coordenadas uniformes, es decir 32 ceros, y luego la unidad; aqu√≠ omitimos la ligera complicaci√≥n del procesamiento previo y posterior de la suma de verificaci√≥n para verificar el cumplimiento). Para calcular la suma de verificaci√≥n para cada archivo, trabajamos en la direcci√≥n opuesta. Comenzamos inicializando </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M: = M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kernel</font></font></sub></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La suma de comprobaci√≥n del n√∫cleo tambi√©n es la suma de comprobaci√≥n del archivo final </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , por lo que multiplicamos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un vector y almacena cero la suma de comprobaci√≥n recibida en el CDH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y LFH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Los datos del archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N - 1 son los</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mismos que los del archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pero con el prefijo LFH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> agregado </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Por lo tanto, calculamos</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-411"><span class="MJXp-msubsup" id="MJXp-Span-412"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-414" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mrow" id="MJXp-Span-416"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-418"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-420" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , matriz de cambio de estado para LFH</font><sub><font style="vertical-align: inherit;">N</font></sub><font style="vertical-align: inherit;">y actualizaci√≥n</font></font><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.398ex" height="2.539ex" viewBox="0 -780.1 3185.3 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><g transform="translate(970,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4C" x="0" y="0"></use><g transform="translate(481,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-46" x="0" y="0"></use><g transform="translate(529,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4E" x="1175" y="-213"></use></g></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-8">M_{L{FH_N}}</script><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-421"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mo" id="MJXp-Span-423" style="margin-left: 0.111em; margin-right: 0.167em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-425"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-427" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mrow" id="MJXp-Span-429"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-431"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-433" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.028ex" height="2.539ex" viewBox="0 -780.1 6900.8 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><g transform="translate(1329,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-3A"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMAIN-3D" x="278" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="2664" y="0"></use><g transform="translate(3715,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4D" x="0" y="0"></use><g transform="translate(970,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4C" x="0" y="0"></use><g transform="translate(481,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-46" x="0" y="0"></use><g transform="translate(529,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhhwuM3z2Eg1TY85sGnuh1fSTtC8Rg#MJMATHI-4E" x="1175" y="-213"></use></g></g></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-9">M := M M_{L{FH_N}}</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahora </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> representa el cambio acumulativo en el estado del procesamiento de LFH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> detr√°s del n√∫cleo. </font><font style="vertical-align: inherit;">Calculamos la suma de comprobaci√≥n para el archivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N - 1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , multiplicando nuevamente </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por el vector cero. </font><font style="vertical-align: inherit;">Continuamos el procedimiento acumulando matrices de cambio de estado en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hasta que se procesen todos los archivos.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extensi√≥n: Zip64 </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anteriormente, nos enfrentamos al problema de la expansi√≥n debido a las limitaciones del formato zip: era imposible emitir m√°s de 281 TB, independientemente de cu√°n inteligente fuera el paquete zip. </font><font style="vertical-align: inherit;">Puedes trascender estos l√≠mites usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zip64</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, una extensi√≥n de formato zip que aumenta el tama√±o de algunos campos de encabezado a 64 bits. La compatibilidad con Zip64 no es universal, pero es una de las extensiones implementadas m√°s com√∫nmente. En cuanto a la relaci√≥n de compresi√≥n, el efecto de Zip64 es aumentar el tama√±o del encabezado del directorio central de 46 a 58 bytes, y el tama√±o del encabezado del directorio local de 30 a 50 bytes. Al observar la f√≥rmula del coeficiente de expansi√≥n √≥ptimo en un modelo simplificado, vemos que la bomba zip en el formato Zip64 todav√≠a crece de forma cuadr√°tica, pero m√°s lenta debido al denominador m√°s grande; esto se puede ver en el siguiente diagrama. Debido a la p√©rdida de compatibilidad y el retraso del crecimiento, eliminamos casi cualquier restricci√≥n en el tama√±o del archivo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Supongamos que necesitamos una bomba zip que se expande a 4.5 PB, como 42.zip. </font><font style="vertical-align: inherit;">¬øQu√© tan grande debe ser el archivo? </font><font style="vertical-align: inherit;">Usando la b√∫squeda binaria, encontramos que el tama√±o m√≠nimo de dicho archivo es de 46 MB.</font></font><br><br><ul><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zbxl.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 46 MB ‚Üí 4.5 PB (Zip64, menos compatible)</font></font></li></ul><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zipbomb --mode = quoted_overlap --num-files = 190023 --compressed-size = 22982788 --zip64&gt; zbxl.zip </font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5 petabytes: el telescopio Event Horizon registr√≥ aproximadamente la </font><font style="vertical-align: inherit;">misma </font><font style="vertical-align: inherit;">cantidad de datos para la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primera imagen de un agujero negro</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : bastidores y bastidores con discos duros en el centro de datos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Con Zip64, casi no es interesante considerar la relaci√≥n de compresi√≥n m√°xima, porque simplemente podemos continuar aumentando el tama√±o del archivo zip y la relaci√≥n de compresi√≥n con √©l, hasta que incluso el archivo zip comprimido se vuelva prohibitivo. Sin embargo, un umbral interesante es de 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bytes (18 EB o 16 EiB), por lo que muchos datos no caben en la mayor√≠a de los sistemas de archivos. La b√∫squeda binaria encuentra la bomba zip m√°s peque√±a que produce al menos la misma cantidad de salida: contiene 12 millones de archivos y un n√∫cleo comprimido de 1,5 GB. El tama√±o total del archivo zip es de 2.9 GB y se descomprime en 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+11 727 895 877 bytes con una relaci√≥n de compresi√≥n de m√°s de 6.2 mil millones a uno. </font><font style="vertical-align: inherit;">No cargu√© este archivo para descargarlo, pero puede generarlo usted mismo utilizando el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥digo fuente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tiene archivos de tal tama√±o que incluso un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">error</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fue revelado </font><font style="vertical-align: inherit;">en Info-ZIP UnZip 6.0.</font></font><br><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zipbomb --mode = quoted_overlap --num-files = 12056313 --compressed-size = 1482284040 --zip64&gt; zbxxl.zip </font></font></pre><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extensi√≥n: bzip2 </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DEFLATE es el algoritmo de compresi√≥n m√°s com√∫n para el formato zip, pero esta es solo una de las muchas opciones. Probablemente el segundo algoritmo m√°s com√∫n es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bzip2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Aunque no es tan compatible como DEFLATE. Te√≥ricamente, en bzip2, la relaci√≥n de compresi√≥n m√°xima es de aproximadamente 1,4 millones a uno, lo que permite un relleno m√°s denso del n√∫cleo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bzip2 primero codifica la "codificaci√≥n de longitud de ejecuci√≥n", reduciendo la longitud de la cadena de bytes repetidos en 51 veces. Luego, los datos se dividen en bloques de 900 KB y cada bloque se comprime por separado. Te√≥ricamente, un bloque puede comprimir hasta 32 bytes. 900 000 √ó 51/32 = 1 434 375. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ignorando la p√©rdida de compatibilidad, ¬øbzip2 hace una bomba m√°s efectiva?</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S√≠, pero solo para archivos peque√±os. El problema es que en bzip2 no hay nada como los bloques DEFLATE sin comprimir que utilizamos para citar los encabezados de los archivos locales. Por lo tanto, es imposible superponer archivos y reutilizar el kernel; para cada archivo debe escribir su propia copia, por lo que la relaci√≥n de compresi√≥n general no ser√° mejor que la relaci√≥n para un solo archivo. En el gr√°fico a continuaci√≥n, vemos que sin superposici√≥n, bzip2 es superior a DEFLATE solo para archivos de un tama√±o aproximado de megabytes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solo hay esperanza de un medio alternativo para citar encabezados en bzip2, que se discute en la siguiente secci√≥n. Adem√°s, si sabe que un analizador zip particular es compatible con bzip2 </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permite nombres de archivo no coincidentes, puede usar la construcci√≥n de superposici√≥n completa, que no necesita ser citada. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/350/bb1/aa1/350bb1aa131f71762b2ad03d4203ac66.svg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaci√≥n de la relaci√≥n de compresi√≥n de diferentes bombas zip. Presta atenci√≥n al eje logar√≠tmico. Cada dise√±o se muestra con y sin Zip64. Las estructuras sin superposici√≥n tienen una tasa de crecimiento lineal, que se puede ver a partir de la relaci√≥n constante de los ejes. El desplazamiento vertical del gr√°fico bzip2 significa que la relaci√≥n de compresi√≥n de bzip2 es aproximadamente mil veces mayor que la de DEFLATE. Las construcciones DEFLATE citadas tienen una tasa de crecimiento cuadr√°tica, como lo demuestra una inclinaci√≥n a los ejes 2: 1. La variante Zip64 es ligeramente menos efectiva, pero permite m√°s de 281 TB. Los gr√°ficos para bzip2 con comillas a trav√©s de un campo adicional van de cuadr√°tico a lineal cuando se alcanza el tama√±o m√°ximo de archivo (2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚àí2 bytes), o el n√∫mero m√°ximo permitido de archivos</font></font></font></i> <br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extensi√≥n: citando a trav√©s de un campo adicional </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hasta ahora, hemos utilizado la funci√≥n DEFLATE para citar los encabezados de los archivos locales, y acabamos de ver que este truco no funciona en bzip2. </font><font style="vertical-align: inherit;">Sin embargo, existe un m√©todo alternativo de citas, algo m√°s limitado, que usa solo funciones de formato zip y es independiente del algoritmo de compresi√≥n. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al final de la estructura de encabezado del archivo local, hay </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un campo adicional de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> longitud variable para almacenar informaci√≥n que no cabe en los campos de encabezado habituales ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APPNOTE.TXT, secci√≥n 4.3.7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">La informaci√≥n adicional puede incluir, por ejemplo, una marca de tiempo o uid / gid de Unix. </font><font style="vertical-align: inherit;">La informaci√≥n de Zip64 tambi√©n se almacena en un campo adicional. </font><font style="vertical-align: inherit;">Un campo adicional se representa como una estructura de valor de longitud; </font><font style="vertical-align: inherit;">Si aumenta la longitud sin agregar un valor, el campo adicional incluir√° lo que est√° detr√°s de √©l en el archivo zip, es decir, el siguiente encabezado del archivo local. </font><font style="vertical-align: inherit;">Con este m√©todo, cada encabezado del archivo local puede "citar" los siguientes encabezados, encerr√°ndolos en su propio campo adicional. </font><font style="vertical-align: inherit;">En comparaci√≥n con DEFLATE, hay tres ventajas:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Citar a trav√©s de un campo adicional requiere solo 4 bytes, no 5, dejando m√°s espacio para el n√∫cleo. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No aumenta el tama√±o del archivo, lo que significa un n√∫cleo m√°s grande, dadas las limitaciones del formato zip. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Proporciona citas en bzip2. </font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A pesar de estas ventajas, las citas a trav√©s de campos adicionales son menos flexibles. Esto no es una cadena, como en DEFLATE: cada encabezado de un archivo local debe contener no solo el encabezado inmediatamente siguiente, sino tambi√©n </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">todos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> los encabezados posteriores. Los campos adicionales aumentan a medida que se acerca al comienzo del archivo zip. Como la longitud m√°xima del campo es de 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚àí1 bytes, solo se pueden citar hasta 1808 encabezados de archivos locales (o 1170 en Zip64), suponiendo que los nombres se </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asignen como se esperaba</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(en el caso de DEFLATE, puede usar un campo adicional para citar los primeros encabezados (m√°s cortos) de los archivos locales y luego cambiar a citar DEFLATE para el resto). Otro problema: para corresponder con la estructura de datos interna del campo adicional, es necesario seleccionar una etiqueta de 16 bits para el tipo ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APPNOTE.TXT, secci√≥n 4.5.2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) que precede a los datos de citas. Queremos seleccionar una etiqueta de tipo que haga que los analizadores ignoren los datos entre comillas, en lugar de intentar interpretarlos como metadatos significativos. Los analizadores zip deben ignorar las etiquetas de un tipo desconocido, por lo que podemos seleccionar etiquetas al azar, pero existe el riesgo de que en el futuro alguna etiqueta viole la compatibilidad del dise√±o.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El diagrama anterior ilustra la posibilidad de usar campos adicionales en bzip2, c y sin Zip64. En ambos gr√°ficos hay un punto de inflexi√≥n, cuando el crecimiento pasa de cuadr√°tico a lineal. Sin Zip64, esto sucede cuando se alcanza el tama√±o m√°ximo del archivo sin comprimir (2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àí2 bytes); entonces solo puede aumentar la cantidad de archivos, pero no su tama√±o. El gr√°fico termina completamente cuando el n√∫mero de archivos llega a 1809, luego nos quedamos sin espacio en un campo adicional para citar encabezados adicionales. Con Zip64, se produce una fractura en 1171 archivos, despu√©s de lo cual solo se puede aumentar el tama√±o del archivo, pero no su n√∫mero. Un campo adicional ayuda en el caso de DEFLATE, pero la diferencia es tan peque√±a que no se nota visualmente. Aumenta la relaci√≥n de compresi√≥n de zbsm.zip en un 1,2%; zblg.zip en 0.019%; y zbxl.zip en 0.0025%.</font></font><br><br><h1>  La discusi√≥n </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En su trabajo sobre este tema, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pletz y sus colegas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilizan la superposici√≥n de archivos para crear un archivo zip casi autorreplicante. La superposici√≥n de archivos en s√≠ fue </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sugerida anteriormente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (diapositiva 47) por Ginvael Coldwind. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desarrollamos un dise√±o de una bomba zip con una superposici√≥n de citas teniendo en cuenta la compatibilidad, una serie de diferencias en las implementaciones, algunas de las cuales se muestran en la tabla a continuaci√≥n. El dise√±o resultante es compatible con los analizadores zip que funcionan de la manera habitual, es decir, primero verificando el directorio central y us√°ndolo como √≠ndice de archivos. Entre ellos, un exclusivo analizador zip de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nail</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que se genera autom√°ticamente a partir de la gram√°tica formal. Sin embargo, el dise√±o es incompatible con los analizadores de "transmisi√≥n", que analizan el archivo zip de principio a fin en una sola pasada sin leer primero el directorio central. Por su naturaleza, los analizadores de transmisi√≥n no permiten que los archivos se superpongan de ninguna manera. Lo m√°s probable es que solo extraigan el primer archivo. Adem√°s, incluso pueden </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arrojar un</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> error, como es el caso de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">sunzip</font></a><font style="vertical-align: inherit;"> , que analiza el directorio central al final y comprueba la coherencia con los encabezados de los archivos locales que ya ha visto.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si desea que los archivos extra√≠dos comiencen con un prefijo espec√≠fico que sea diferente de los bytes del encabezado del archivo local, puede insertar un bloque DEFLATE antes del bloque sin comprimir que cita el siguiente encabezado. No todos los archivos en el archivo zip deben participar en la creaci√≥n de la bomba: puede incluir archivos ordinarios en el archivo, si es necesario, para corresponder a alg√∫n formato especial (hay un par√°metro en el c√≥digo fuente </font></font><code>--template</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para este caso de uso). Muchos formatos usan zip como contenedor, como documentos Java JAR, Android APK y LibreOffice. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pdf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en muchos sentidos similar a zip. Tiene una tabla de referencia cruzada al final del archivo que apunta a objetos anteriores, y admite la compresi√≥n de objetos a trav√©s del filtro FlateDecode. No lo he intentado, pero puedes usar la idea de citar con superposici√≥n para hacer una bomba PDF. Quiz√°s ni siquiera tenga que trabajar mucho: binaryhax0r </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escribe en un blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que simplemente puede especificar varias capas de FlateDecode en un objeto, despu√©s de lo cual crear una bomba PDF se vuelve trivial. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definir una clase particular de bombas zip descritas en este art√≠culo es f√°cil: solo encuentre los archivos superpuestos. Mark Adler escribi√≥ un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parche</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para descomprimir Info-ZIP, que hace exactamente eso. </font><font style="vertical-align: inherit;">Sin embargo, en general, el bloqueo de archivos superpuestos no protege contra todas las clases de bombas zip. </font><font style="vertical-align: inherit;">Es dif√≠cil predecir de antemano si el archivo es una bomba zip o no si no tiene un conocimiento preciso sobre los componentes internos de los analizadores que se utilizar√°n para analizarlo. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mirar los encabezados y sumar los campos de "tama√±o sin comprimir" de todos los archivos no funciona</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , porque el valor en los encabezados puede no coincidir con el tama√±o real sin comprimir (en la tabla de compatibilidad, vea la l√≠nea "permite que el archivo sea demasiado peque√±o"). </font><font style="vertical-align: inherit;">La protecci√≥n confiable contra las bombas zip incluye l√≠mites de tiempo, memoria y espacio en disco en el analizador zip durante su funcionamiento. </font><font style="vertical-align: inherit;">Tome el an√°lisis de archivos zip, como cualquier operaci√≥n compleja con datos no confiables, con precauci√≥n.</font></font><br><br><div class="scrollable-table"><table><thead><tr><td></td><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Info-zip </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnZip 6.0</font></font></a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Python 3.7 <br> zipfile</a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Go 1.12 <br> archive/zip</a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">yauzl 2.10.0 <br> (Node.js)</a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Nail <br> examples/zip</a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Android 9.0.0 r1 <br> libziparchive</a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sunzip 0.4</a> <br> (streaming) </th></tr></thead><tbody><tr><th> DEFLATE </th><td>  ‚úì </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td></tr><tr><th> Zip64 </th><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚úì</a> </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚úì</a> </td></tr><tr><th> bzip2 </th><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚úì</a> </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚úì</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚úì</a> </td></tr><tr><th>     </th><td>  </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚àí</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚úì</a> </td></tr><tr><th>   CRC-32 </th><td> <abbr title="muestra el CRC esperado y real"></abbr> </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚àí</a> </td><td> <a href=""> </a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚àí</a> </td></tr><tr><th>      </th><td>  ‚úì </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚àí</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚àí</a> </td><td> <a href="">‚àí</a> </td></tr><tr><th>  2 <sup>32</sup> ‚àí1  </th><td>  ‚úì </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚àí</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td></tr><tr><th>  2 <sup>16</sup> ‚àí1  </th><td>  ‚úì </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">‚àí</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td><td> <a href="">‚úì</a> </td></tr></tbody><tbody><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">overlap.zip</a> </th><td>  </td><td> ‚àí </td><td>  ‚úì </td><td>  ‚úì </td><td>  ‚úì </td><td> ‚àí </td><td> ‚àí </td></tr><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">zbsm.zip  zblg.zip</a> </th><td>  ‚úì </td><td>  ‚úì </td><td>  ‚úì </td><td>  ‚úì </td><td>  ‚úì </td><td>  ‚úì </td><td> ‚àí </td></tr><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">zbxl.zip</a> </th><td>  ‚úì </td><td>  ‚úì </td><td>  ‚úì </td><td>  ‚úì </td><td> ‚àí </td><td> ‚àí </td><td> ‚àí </td></tr></tbody></table></div><br> <i><font color="gray">    zip-,    ,     zip-.      DEFLATE  Zip64,          ,    CRC     32-  16- .</font></i> <br><br><h1>  Agradecimientos </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gracias a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mark Adler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Russ Cox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brandon Enright</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marek Maykovsky</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Josh Wolfe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y los revisores de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USENIX WOOT 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por sus comentarios sobre el borrador de este art√≠culo. </font><font style="vertical-align: inherit;">Kaolan McNamara evalu√≥ el impacto de las bombas zip en la seguridad de LibreOffice. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se ha preparado una versi√≥n de este art√≠culo para el Taller </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USENIX WOOT 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El c√≥digo fuente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est√° disponible. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los artefactos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para la presentaci√≥n en el taller se encuentran en el archivo </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipbomb-woot19.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øEncontraste un sistema que arroja una de las bombas? </font><font style="vertical-align: inherit;">¬øLas bombas lo ayudaron a encontrar un error o ganar dinero en un programa de b√∫squeda de errores? </font><font style="vertical-align: inherit;">Av√≠same, intentar√© mencionarlo aqu√≠.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LibreOffice 6.1.5.2 </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s de cambiar el nombre de zblg.zip a zblg.odt o zblg.docx, LibreOffice crea y elimina una serie de archivos temporales de aproximadamente 4 GB, tratando de determinar el formato del archivo. </font><font style="vertical-align: inherit;">Finalmente, termina de hacer esto y elimina los archivos temporales a medida que llegan, por lo que la bomba zip solo causa un DoS temporal sin llenar el disco. </font><font style="vertical-align: inherit;">Kaolan McNamara respondi√≥ mi mensaje de error.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Servidor de complementos de Mozilla 2019.06.06 </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intent√© bombas zip contra la instalaci√≥n local de addons-server, que es parte del software addons.mozilla.org. </font><font style="vertical-align: inherit;">El sistema maneja con gracia la bomba, imponiendo un l√≠mite de tiempo de 110 segundos para la extracci√≥n de archivos. </font><font style="vertical-align: inherit;">La bomba zip se expande r√°pidamente, siempre que el disco permita este l√≠mite de tiempo, pero luego el proceso se anula y los archivos desempaquetados se borran autom√°ticamente.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Descomprimir 6.0 </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mark Adler escribi√≥ un parche para UnZip para detectar esta clase de bombas zip. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 de julio de 2019: not√© que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2019-13232 fue asignado a UnZip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Personalmente, dir√≠a que la capacidad / incapacidad de UnZip (o cualquier analizador zip) para procesar este tipo de bomba zip es necesariamente una vulnerabilidad o incluso un error. Esta es una implementaci√≥n natural que no viola la especificaci√≥n, ¬øqu√© puedo decir? El tipo de bomba en este art√≠culo es solo un tipo, y hay muchas otras formas en que puedes descifrar un analizador zip. Como se mencion√≥ anteriormente, si desea protegerse de los ataques de agotamiento de recursos, no debe intentar enumerar, detectar y bloquear cada ataque conocido; m√°s bien, es necesario establecer restricciones externas sobre el tiempo y otros recursos para que el analizador no entre en tal situaci√≥n, independientemente del tipo de ataque que haya encontrado. No hay nada de malo en tratar de detectar y rechazar ciertos dise√±os como una optimizaci√≥n del primer paso,pero no puedes parar ah√≠. A menos que termine aislando y restringiendo las operaciones con datos no confiables, su sistema probablemente a√∫n sea vulnerable. Considere la analog√≠a con las secuencias de comandos entre sitios en HTML: la protecci√≥n correcta no es tratar de filtrar bytes espec√≠ficos que se pueden interpretar como c√≥digo, sino evitar todo correctamente.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Motores antivirus </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El usuario de Twitter @TVqQAAMAAAAEAAA </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : "El antivirus de McAfee en mi m√°quina de prueba acaba de explotar". </font><font style="vertical-align: inherit;">No lo he probado yo mismo y no tengo detalles como el n√∫mero de versi√≥n. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tavis Ormandi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indica</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VirusTotal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tiene varios tiempos de espera </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">para zblg.zip</font></a><font style="vertical-align: inherit;"> ( </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">captura de pantalla del 6 de junio de 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ): AhnLab-V3, ClamAV, DrWeb, Endgame, F-Secure, GData, K7AntiVirus, K7GW, MaxSecure, McAfee, McAfee-GW -Edition, Panda, Qihoo-360, Sophos ML, VBA32. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultados para zbsm.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">captura de pantalla del 6 de junio de 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) son similares, pero con un conjunto diferente de motores de tiempo de espera: Baido, Bkav, ClamAV, CMC, DrWeb, Endgame, ESET-NOD32, F-Secure, GData, Kingsoft, McAfee-GW-Edition, NANO-Antivirus, Acronis. </font><font style="vertical-align: inherit;">Curiosamente, </font><font style="vertical-align: inherit;">no hay tiempos </font><font style="vertical-align: inherit;">de </font><font style="vertical-align: inherit;">espera </font><font style="vertical-align: inherit;">en los </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resultados de zbxl.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">captura de pantalla del 6 de junio de 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">¬øQuiz√°s algunos antivirus no son compatibles con Zip64? </font><font style="vertical-align: inherit;">Varios motores detectan archivos como una especie de "bomba de compresi√≥n". </font><font style="vertical-align: inherit;">Es interesante ver si continuar√°n haci√©ndolo con cambios menores, como cambiar los nombres de los archivos o agregar un prefijo ASCII a cada archivo.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Declaraci√≥n final </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es hora de poner fin a Facebook. </font><font style="vertical-align: inherit;">Este no es un trabajo neutral para ti: todos los d√≠as, cuando vienes a trabajar, est√°s haciendo algo mal. </font><font style="vertical-align: inherit;">Si tiene una cuenta de Facebook, elim√≠nela. </font><font style="vertical-align: inherit;">Si trabajas en Facebook, desp√≠dete. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y no olvide que la Agencia de Seguridad Nacional debe ser destruida.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/459254/">https://habr.com/ru/post/459254/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459244/index.html">Administrador de productos de Notes: comportamiento del usuario en las p√°ginas del juego en la tienda de aplicaciones. ¬øCu√°nto tiempo lleva descargar un juego?</a></li>
<li><a href="../459246/index.html">¬øPor qu√© est√° disminuyendo la conversi√≥n del sitio? Ejemplos de 60 errores de dise√±o y usabilidad</a></li>
<li><a href="../459248/index.html">Eventos digitales en Mosc√∫ del 9 al 14 de julio.</a></li>
<li><a href="../459250/index.html">WAL en PostgreSQL: 2. Registro previo</a></li>
<li><a href="../459252/index.html">Semana de la seguridad 28: hackear una casa inteligente</a></li>
<li><a href="../459256/index.html">C√≥mo optimizamos nuestro hospital tem√°tico para diferentes plataformas</a></li>
<li><a href="../459258/index.html">14,000 millas no enganchadas</a></li>
<li><a href="../459262/index.html">Retirado a los 22</a></li>
<li><a href="../459264/index.html">Salir de las redes de Tarantool. Sincronizaci√≥n de nodos al filtrar tr√°fico</a></li>
<li><a href="../459272/index.html">Escribir una API para componentes React, parte 1: no cree accesorios conflictivos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>