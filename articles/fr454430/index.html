<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úèÔ∏è üöÉ üòâ Vie de particules 3D üßóüèº üèùÔ∏è üåª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut! J'ai d√©cid√© de partager avec mes lecteurs mes petites exp√©riences avec les syst√®mes de particules dans l'espace tridimensionnel. J'ai pris comm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vie de particules 3D</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454430/"><p>  Salut!  J'ai d√©cid√© de partager avec mes lecteurs mes petites exp√©riences avec les syst√®mes de particules dans l'espace tridimensionnel.  J'ai pris comme base la publication sur Habr√© sur les exp√©riences avec des particules dans l'espace 2D. </p><br><p><img src="https://habrastorage.org/webt/zh/b_/nk/zhb_nkxul24vyztnd7cdg8snpss.gif"></p><a name="habracut"></a><br><p>  Commen√ßons par un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lien</a> vers un article qui m'a pouss√© √† l'action.  Mais il y a une autre raison, puisque r√©cemment je me suis de plus en plus d√©plac√© vers Ubuntu dans mes exp√©riences, beaucoup de choses ont √©t√© bonnes depuis l'installation gratuite de l'OS et ensuite sur la liste des avantages.  Il y a des inconv√©nients, j'ai du mal avec les pilotes pour une installation de syst√®me d'exploitation non standard comme deux cartes vid√©o et plusieurs moniteurs. </p><br><p>  J'ai pris C ++ comme base, ajout√© le support de CUDA en tant que plate-forme informatique, il y a beaucoup de particules et le processeur central ne peut √©videmment pas faire face √† une telle charge en temps r√©el, et le moteur graphique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ogre3D</a> pour eux dans l'entreprise.  Ils ont fait la bouillie, je vais assaisonner le r√©cit Gif avec des animations et des citations de l'article sur la version 2D de la simulation. </p><br><p>  "Premi√®rement, j'ai suivi les traces du jeu de la" vie ": chaque particule a un compteur de" surpopulation ", qui est √©gal √† la somme des carr√©s inverses des distances aux autres particules. Si ce compteur est inf√©rieur √† une certaine limite, c'est-√†-dire qu'il y a peu de voisins, alors la particule est attir√©e par d'autres particules, et s'il y a beaucoup de voisins, √ßa repousse, si les particules se croisent, alors elles se repoussent en tout cas, pour ne pas se traverser. </p><br><p>  Nous dispersons au hasard des particules sur le terrain et voyons ce qui se passe. " </p><br><p><img src="https://habrastorage.org/webt/g-/q0/vy/g-q0vygmvnjfjbcsc0j3umxlyym.gif"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vid√©o avanc√©e</a> <br>  Maintenant, un peu sur la logique de ce qui se passe dans le programme.  Un tableau de particules avec certains param√®tres est cr√©√©.  Certains param√®tres sont responsables des propri√©t√©s physiques: rayon, masse, vitesse, etc., partie pour cr√©er des liaisons entre particules, telles que: type de particules, nombre de connexions de particules avec d'autres particules, etc.  En moyenne, j'ai utilis√© de 700 √† 3000 particules dans la simulation, car je voulais compter en temps r√©el, une valeur plus √©lev√©e entra√Ænait l'inhibition de l'image en raison de l'augmentation du volume des calculs.  Ensuite, tout cela est transf√©r√© dans la m√©moire de la carte vid√©o, o√π le GPU, en mode de forte parall√©lisation, traite trois sous-programmes principaux: simulation du mouvement des particules, traitement des collisions de particules (collisions) et formation et destruction de liaisons entre particules. </p><br><p>  "Nous changeons les r√®gles du jeu. Nous ne compterons plus les voisins. Laissons les particules simplement attirer ou repousser selon leur type. Si toutes les particules sont du m√™me type, alors il n'y a que 2 options: elles repoussent toutes ou toutes attirent." </p><br><p>  J'ai essay√© plusieurs options pour les forces attractives-r√©pulsives, les d√©pendances lin√©aires sur les distances entre particules, inversement proportionnelles √† la distance, etc.  r√©gl√© sur la d√©pendance quadratique inverse, mais avec une restriction sur le rayon d'action, quelque chose comme 45 rayons de particules. </p><br><p><img src="https://habrastorage.org/webt/ht/6o/bf/ht6obffhxom4jfaguqnx2kp1tuo.gif"></p><br><p>  "Nous ne changerons pas beaucoup les r√®gles. Au lieu de cela, nous allons ajouter une nouvelle fonctionnalit√©. Maintenant, les particules formeront des liaisons √† courte distance. Si les particules sont connect√©es, elles sont constamment attir√©es les unes vers les autres. Cette attraction ne s'affaiblit pas avec la distance. Mais, si la distance est au-dessus d'un certain seuil, alors la connexion est rompue. " </p><br><p>  Ici, la r√®gle a un peu chang√©, introduit la distance de formation de la liaison, c'est la distance de destruction de la liaison et la distance de repos de la particule dans la liaison, c'est-√†-dire que la particule essaie constamment de prendre une position proche de la position de repos, donc, √† un moment discret, la particule oscille pr√®s de la position z√©ro.  Ceci est visible sur toutes les vid√©os.  Il est possible d'appliquer des lois plus complexes lors de la formation d'une liaison comme l'√©lasticit√©, mais pour l'instant je l'ai simplifi√©e, mais nous avons une "soupe primaire" et pas une substance solide. </p><br><p><img src="https://habrastorage.org/webt/wy/q1/go/wyq1gohfiedu4tcioy4pie5do68.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vid√©o avanc√©e</a> </p><br><p>  ou comme image </p><br><p><img src="https://habrastorage.org/webt/-e/3n/mf/-e3nmf1pxpvg3scspkxdvakax70.png"></p><br><p>  Puis le processus d'essais et d'erreurs a commenc√©.  Premi√®rement, la programmation sur le GPU n√©cessite une attention particuli√®re dans les soi-disant "courses sur lecture-modification-√©criture de donn√©es partag√©es", ce qui signifie qu'il peut y avoir des probl√®mes lorsque plusieurs threads essaient simultan√©ment de changer la variable.  Des instabilit√©s surviennent comme celles-ci: </p><br><p><img src="https://habrastorage.org/webt/3x/sq/-v/3xsq-vepy_ejq_zunzmomdptzji.gif"></p><br><p>  Ensuite, il a fallu limiter la zone d'espace dans laquelle se d√©roule l'exp√©rience, la premi√®re chose qui m'est venue √† l'esprit est un cube.  Mais gr√¢ce aux bugs des premi√®res versions du programme, des particules en ont ramp√© hardiment, formant quelque chose de similaire aux stations spatiales de la fiction des ann√©es 70. </p><br><p><img src="https://habrastorage.org/webt/r6/3m/dp/r63mdpkzq2rwvaieczouhm1bn7w.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">version √©tendue de la vid√©o</a> </p><br><p>  Comme dit le proverbe, si ce n'est pas un cube, alors qu'il y ait une balle: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ypqrbYji0EM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Ici, la logique est qu'apr√®s le d√©part du centre de la particule, une force commence √† agir en face de son mouvement, qui ressemble m√™me √† la gravit√©. </p><br><pre><code class="cpp hljs">__device__ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Links[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">3</span></span>] = {{<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>},{<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>},{<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>}}; __device__ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LinksField[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">3</span></span>] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>}}; __device__ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LinkTypeSize[<span class="hljs-number"><span class="hljs-number">3</span></span>] = {<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}; __device__ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> LinkTypePP[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">3</span></span>] = {{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>},{<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>},{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}};</code> </pre> <br><p>  Il a apport√© un morceau de code tel qu'il est, ce sont des matrices d'interaction de trois types de particules entre elles. <br>  -la premi√®re ligne est le principe de la formation des liaisons: 1 il y a une possibilit√© d'√©tablir une connexion avec une autre particule, respectivement 0, non. <br>  -la deuxi√®me ligne est la loi d'attraction de la r√©pulsion des particules.  En fait, dans ce mode de r√©alisation, tous se repoussent, sauf pour l'attraction du deuxi√®me type de particules vers le troisi√®me.  Vous pouvez bien s√ªr refl√©ter la matrice, mais dans ce cas. <br>  -la troisi√®me ligne est le nombre de liaisons de particules communes par type. <br>  -quatri√®me est le nombre de liaisons de particules avec chaque type de particules. Le premier type, par exemple, ne peut pas former une liaison avec lui-m√™me. </p><br><p>  Nous obtenons des particules dans un fort mouvement brownien: </p><br><p><img src="https://habrastorage.org/webt/j_/iy/vd/j_iyvdxbsntezeqol8l7ivt9r00.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">version √©tendue de la vid√©o</a> </p><br><p>  J'ai d√ª introduire une perte d'√©nergie dans les collisions. </p><br><p><img src="https://habrastorage.org/webt/bg/q-/hf/bgq-hfkwa32xdpwpc1-atcehfci.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">version √©tendue de la vid√©o</a> </p><br><p>  Tout est devenu trop statique, on r√©duit les forces d'interaction des particules. </p><br><p><img src="https://habrastorage.org/webt/uf/uw/dj/ufuwdjlrskkimt5gn_buvzr-iru.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">version √©tendue de la vid√©o</a> </p><br><p>  Si vous regardez la vid√©o, vous pouvez voir comment le cadre est en cours de construction.  Ensuite, il reste statique de toute fa√ßon. </p><br><p>  Nous changeons les r√®gles concernant les coefficients matriciels. </p><br><p><img src="https://habrastorage.org/webt/kg/tb/hh/kgtbhhsuv3sdfzlmyz5nrpm3aje.gif"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">version √©tendue de la vid√©o</a> <br>  Nous voyons la formation de la ressemblance des mol√©cules organiques.  Il y a m√™me des anneaux de benz√®ne. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/NYph8fnI8PM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Une autre vid√©o montre ce qui se passera si vous modifiez la longueur des liaisons entre les particules dans la dynamique, √† partir de la deuxi√®me minute de la vid√©o, cela est particuli√®rement prononc√©. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/lQ47AbIBMdU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Mais il faut essayer de r√©p√©ter la version de l'auteur 2D, dont les citations se trouvent dans le corps de l'article.  Il existe une variante d'une telle "vie": </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/jrNFiYIp8i0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  ou tel </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2IHz97Kv5-o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Que peut-on ajouter?  Premi√®rement, les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sources</a> du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">programme</a> .  Deuxi√®mement, il y a plusieurs articles sur le hub qui d√©crivent les automates cellulaires ou les syst√®mes libres (en th√©orie, un automate cellulaire est l'√©quivalent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'une machine de Turing</a> ) avec un titre rendu qui inclut le mot "vie", j'ai donc d√©cid√© de l'utiliser aussi, un peu comme une tradition.  Bien qu'il s'agisse plut√¥t d'un kal√©doscope, des r√®gles simples donnent lieu √† des comportements complexes comme des particules et un syst√®me de miroirs dans un jouet pour enfant. </p><br><p>  Et la vid√©o a ajout√©, en fait, une image envo√ªtante, il semble que ce soit des mol√©cules, puis des r√©seaux de neurones, mais la vie n'est pas encore l√†.  En tant qu'option de d√©veloppement, la g√©n√©tique doit √™tre ajout√©e, mais il n'est pas clair quelle peut √™tre une fonction de fitness pour ces "cr√©atures". </p><br><p><img src="https://habrastorage.org/webt/9i/mt/d8/9imtd8is7h9hiq0ehvziunrympu.png"></p><br><p>  J'esp√®re que quelqu'un l'aimera et qu'il s'√©loignera de la 3D car l'auteur est pass√© de la 2D.  L'essentiel pour moi √©tait de r√©p√©ter les le√ßons sur CUDA et Ogre3D sous Ubuntu. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/vBcIUxPkhtA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Et il y aura des id√©es √† √©crire, peut-√™tre que nous trouverons quelque chose d'int√©ressant :) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr454430/">https://habr.com/ru/post/fr454430/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr454420/index.html">Sauvegarde, Partie 3: Pr√©sentation et test de la duplicit√©, duplicati</a></li>
<li><a href="../fr454422/index.html">Sur l'interpr√©tation perverse de la premi√®re loi de Newton en physique moderne</a></li>
<li><a href="../fr454424/index.html">5 erreurs courantes lors de l'utilisation de composants architecturaux Android</a></li>
<li><a href="../fr454426/index.html">ARTificial: √† l'aube de l'intelligence artificielle</a></li>
<li><a href="../fr454428/index.html">Ce qu'Apple a pr√©sent√© √† la WWDC et ce qu'en pensent les d√©veloppeurs iOS</a></li>
<li><a href="../fr454432/index.html">Arch√©ologie divertissante: le guide de style R sous la loupe</a></li>
<li><a href="../fr454434/index.html">PDA (Pocket Travel Computer): Enregistreur de circuits GPS</a></li>
<li><a href="../fr454436/index.html">Petty Petty Joy # 1: loguru</a></li>
<li><a href="../fr454440/index.html">Petty Little Fun # 2: Starlette</a></li>
<li><a href="../fr454442/index.html">Comment choisir un r√©seau proxy pour votre entreprise: 3 conseils pratiques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>