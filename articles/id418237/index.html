<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‰‘ ğŸ‘©ğŸ¿â€ğŸ¤â€ğŸ‘©ğŸ¼ ğŸŒ› Mengembangkan Aplikasi Multi-Penyewa pada Platform SAP Cloud di Neo, Bagian 2: Otorisasi dan Otentikasi âœï¸ ğŸ© ğŸ§šğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam artikel kedua dalam seri tentang pengembangan aplikasi pada SAP Cloud Platform di lingkungan Neo, kami akan membahas salah satu aspek terpenting...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mengembangkan Aplikasi Multi-Penyewa pada Platform SAP Cloud di Neo, Bagian 2: Otorisasi dan Otentikasi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sap/blog/418237/">  Dalam artikel kedua dalam seri tentang pengembangan aplikasi pada SAP Cloud Platform di lingkungan Neo, kami akan membahas salah satu aspek terpenting - otorisasi dan manajemen otentikasi pengguna. <br><br>  Pada artikel ini, kami akan menunjukkan cara membuat koneksi antara SAP Cloud Platform dan penyedia identitas (IDP) dari klien ABC PetroCorp imajiner, dan juga menambahkan pengguna ke IDP.  Selanjutnya, kita akan melihat bagaimana menetapkan peran untuk pengguna dari perusahaan klien dalam aplikasi spesifik (dari IDP), serta cara mengkonfigurasi atribut SAML untuk transfer mereka dari IDP ke aplikasi platform cloud SCP. <br><a name="habracut"></a><br>  Dalam subaccount klien ABC PetroCorp fiktif <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari artikel pertama</a> , berlangganan aplikasi pemantauan polusi SCP yang disediakan oleh ITeLO Consulting telah diinstal.  Sekarang karyawan ABC PetroCorp perlu membuat aplikasi ini tersedia untuk kolega lain. <br><br>  Pengguna SAP Cloud Platform dapat menghubungkan IDP perusahaan mereka ke platform cloud dan mengonfigurasi manajemen keamanan dan otentikasi untuk aplikasi mereka yang dimuat ke dalam SCP. <br><br>  ABC PetroCorp telah mengaktifkan layanan SAP Cloud Platform Identity Authentication, yang menyediakan akses ke proses bisnis, aplikasi, dan data.  Layanan ini menyediakan penyewa SCI, di dalamnya terdapat konfigurasi aplikasi dan manajemen otorisasi pengguna. <br><br>  Emily, pahlawan imajiner dari artikel pertama, memiliki akses ke penyewa SCI ini - dia adalah administratornya dan dapat mengonfigurasi otorisasi pengguna dalam aplikasi tertentu.  Dia ingin mengetahui cara membuat konfigurasi ini menggunakan layanan Identity Authentication. <br><br>  Persyaratan: <br><br><ul><li>  Akun SCP global yang produktif (bukan percobaan) dengan layanan Identity Authentication yang terhubung dengannya (sebagai IDP untuk subaccount ABC PetroCorp); </li><li>  Pengguna sub-akun klien harus menjadi administrator penyewa SCI, sehingga ia akan memiliki akses ke konsol administrasi layanan Identity Authentication. </li></ul><br>  Emily perlu menyelesaikan langkah-langkah berikut di konsol administrasi layanan Otentikasi Identitas dan panel kontrol SCP untuk membuat aplikasi di platform cloud tersedia bagi karyawan ABC PetroCorp lainnya: <br><br>  <i>Langkah 1: Membangun hubungan kepercayaan antara penyewa SCI dan sub-akun SCP.</i> <i><br></i>  <i>Langkah 2: Impor pengguna ke penyewa SCI dan perbarui (tambahkan) atribut yang diperlukan.</i> <i><br></i>  <i>Langkah 3: Tetapkan peran untuk pengguna tingkat aplikasi di SCP.</i> <i><br></i>  <i>Langkah 4: Konfigurasikan atribut di penyewa SCI dan panel kontrol SCP untuk mentransfernya ke aplikasi.</i> <i><br></i>  <i>Langkah 5: Verifikasi Pengaturan.</i> <br><br>  <b><i>Langkah 1: Membangun kepercayaan antara penyewa SCI dan sub-akun SCP</i></b> <b><i><br></i></b> <br>  Emily adalah administrator sub-akun ABC PetroCorp dan penyewa SCI, yang memungkinkannya untuk menerapkan pengaturan yang diperlukan untuk menggunakan penyewa SCI sebagai "repositori pengguna" untuk aplikasi multi penyewa yang disediakan oleh penyedia ITeLO Consulting. <br><br>  Pertama, Emily perlu membangun hubungan saling percaya antara penyewa SCI dan sub-akun SCP dari klien ABC PetroCorp. <br><br>  Kami akan pergi ke konsol administrasi layanan Identity Authentication menggunakan tautan "https: //.accounts.ondemand.com/admin", di mana pengidentifikasi penyewa SCI.  Tautan ini dapat ditemukan dalam surat registrasi yang datang ke administrator penyewa layanan Identity Authentication.  Identifier penyewa juga ditunjukkan di sana. <br><br>  Konsol administrasi layanan Identity Authentication adalah sebagai berikut: <br><br><img src="https://habrastorage.org/webt/cp/co/sg/cpcosgfcvdxme2noud-nmpiu9z8.png"><br><br>  Di tab browser lain, buka panel kontrol untuk subkount klien "ABC PetroCorp" dan buka tab "Keamanan" -&gt; "Kepercayaan". <br><br><img src="https://habrastorage.org/webt/6w/xx/m0/6wxxm0jlg4ba0p4j6cin6m2n4by.png"><br><br>  Di menu "Manajemen Kepercayaan" yang terbuka, buka tab "Penyedia Layanan Lokal" dan klik "Edit." <br><br><img src="https://habrastorage.org/webt/8r/r5/gt/8rr5gt5cef-3zbr4bh-xwapupuu.png"><br><br>  Kemudian kami melakukan langkah-langkah berikut: <br><br><ul><li>  Di bidang "Tipe Konfigurasi", ubah tipe menjadi "Kustom"; </li><li>  Klik "Hasilkan Pasangan Kunci" untuk membuat kunci dan sertifikat untuk akun; </li><li>  Ubah nilai di bidang "Propagasi Utama" menjadi "Aktifkan"; </li><li>  Klik "Simpan." </li></ul><br><img src="https://habrastorage.org/webt/pj/i_/yt/pji_ytcjevq_bzd5odtcvdchclm.png"><br><br>  Klik "Get Metadata" untuk mengunduh file metadata dalam format "xml", yang berisi konfigurasi yang dijelaskan sebelumnya.  Ini akan digunakan untuk membangun kepercayaan dengan penyewa SCI. <br><br>  Mari kita kembali ke konsol administrasi layanan Identity Authentication dan pergi ke "Aplikasi &amp; Sumber Daya" -&gt; "Aplikasi" tab di menu di sebelah kiri.  Di area "Aplikasi", klik tombol "Tambah" untuk menunjukkan aplikasi baru yang digunakan dalam subkount "ABC PetroCorp". <br><br><img src="https://habrastorage.org/webt/en/a4/ow/ena4owiid3yz0_qdn5ch4c2vexe.png"><br><br>  Di jendela yang muncul, masukkan nama aplikasi (misalnya, ABC_PetroCorp_IDP) dan klik "Simpan".  Setelah itu, titik baru akan dibuat di penyewa untuk aplikasi kita. <br><br>  Di aplikasi yang dibuat, buka tab "Trust" dan pilih parameter "SAML 2.0 Configuration". <br><br><img src="https://habrastorage.org/webt/oi/cy/fg/oicyfgksa9mue9msaysvy_7asyq.png"><br><br>  Di bagian â€œDefine from Metadataâ€, klik â€œBrowseâ€ dan pilih file metadata dalam format â€œxmlâ€, yang telah kami unduh sebelumnya ketika mengatur kepercayaan pada sub-akun SCP.  Rincian mengenai konfigurasi SAML 2.0 akan secara otomatis diisi setelah file diunduh.  Klik "Simpan" - sekarang konfigurasi SAML 2.0 dibuat dan disimpan untuk aplikasi ini. <br><br><img src="https://habrastorage.org/webt/eu/dv/se/eudvsepyrbw9drrqhzl6ydstbhe.png"><br><br>  Kembali ke titik aplikasi bernama ABC_PetroCorp_IDP di penyewa, klik "Beranda URL" dan masukkan URL seperti "https: // polusimonitoringui- &lt;subaccount_name&gt; .dispatcher. &lt;region_host&gt;". <br><br>  URL ini dapat ditemukan dalam deskripsi aplikasi HTML5 tempat klien berlangganan (subaccount "ABC PetroCorp").  Untuk melakukan ini, buka sub-akun klien di tab "Aplikasi" -&gt; "Langganan" dan pilih aplikasi HTML5 yang ditandatangani. <br><br><img src="https://habrastorage.org/webt/ys/6l/bb/ys6lbbnjrqqh1tnwwsfufr_tmpe.png"><br><br>  Pada tab "Gambaran Umum" akan menjadi URL yang kita butuhkan. <br><br><img src="https://habrastorage.org/webt/zx/sg/_j/zxsg_jrg0wntfrttlqjlv5l2q3y.png"><br><br>  Kemudian kita kembali ke titik aplikasi di penyewa SCI, menunjuk URL aplikasi di "Beranda URL" dan klik "Simpan". <br><br><img src="https://habrastorage.org/webt/rm/ie/od/rmieoddhrh-rj2wopqy9llz_dqm.png"><br><br>  Sekarang buka tab "Aplikasi &amp; Sumber Daya" -&gt; "Pengaturan Penyewa" di konsol administrasi layanan Otentikasi Identitas.  Pada halaman pengaturan penyewa, pilih "SAML 2.0 Configuration". <br><br><img src="https://habrastorage.org/webt/nj/yf/fx/njyffxlfgdvcp5y3m-nyeqznqde.png"><br><br>  Di jendela yang terbuka, klik "Unduh File Metadata" untuk mengunduh file "xml" yang berisi konfigurasi penyewa SCI.  Ini akan digunakan di masa depan untuk membangun kepercayaan dengan sub-akun klien di SCP. <br><br>  Kembali ke sub-akun "ABC PetroCorp" dan buka menu "Keamanan" -&gt; "Percaya", di jendela yang terbuka, pilih tab "Penyedia Identitas Aplikasi".  Klik "Tambahkan Penyedia Identitas Tepercaya" untuk menambahkan detail tentang penyewa SCI. <br><br><img src="https://habrastorage.org/webt/ai/x9/yg/aix9ygszpkfu5bhbmalbvyj0hpk.png"><br><br>  Di tab "Umum", klik "Jelajahi" dan pilih file metadata dalam format "xml" yang diunduh dari konsol administrasi layanan Identity Authentication.  Rincian konfigurasi secara otomatis diisi setelah file diunduh.  Hapus centang pada kotak "Hanya untuk SSO yang Diprakarsai IDP" dan klik "Simpan". <br><br><img src="https://habrastorage.org/webt/il/ob/nw/ilobnwscixyn19_7dfsdjifo_pm.png"><br><br>  Sekarang hubungan saling percaya antara sub-akun klien ABC PetroCorp dan penyewa SCInya telah berhasil dibangun.  Pengaturan yang sama dapat diterapkan ke sub-akun klien lain (misalnya, untuk klien XYZ EnergyCorp). <br><br>  <i><b>Langkah 2: Impor pengguna ke penyewa SCI dan perbarui (tambahkan) atribut yang diperlukan</b></i> <i><b><br></b></i> <br>  Emily perlu memastikan bahwa pengguna aplikasi terdaftar di IDP korporat ABC PetroCorp. <br><br>  Idealnya, IDP korporat (dalam kasus kami, penyewa SCI) sudah termasuk daftar semua pengguna di perusahaan.  Untuk kejelasan, kami mengimpor beberapa pengguna ke penyewa SCI, setelah itu mereka akan menerima izin yang sesuai untuk mengakses aplikasi. <br>  Demo untuk aplikasi disimpan dalam file "csv" di github - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di Github</a> . <br><br>  Unduh file "CSV" untuk "ABC PetroCorp" dari GitHub.  Dua pengguna ditunjukkan dalam file "csv": <br><br><ul><li>  ABCPlantSupervisor: Pengguna ini akan menjadi manajer pabrik PetroCorp ABC tertentu dan hanya akan dapat melihat data tentang pabriknya; </li><li>  ABCAreaManager: Pengguna ini akan menjadi manajer seluruh area, yang mungkin mencakup beberapa pabrik ABC PetroCorp.  Dia akan dapat melihat data semua tanaman di daerahnya. </li></ul><br><img src="https://habrastorage.org/webt/1g/jj/kg/1gjjkg_amk9yp8nu-ht9j8ju5yg.png"><br><br>  File .csv untuk ABC PetroCorp berisi alamat email pengguna fiktif.  Mereka harus diganti dengan yang asli, karena kemudian surat akan datang kepada mereka untuk mengaktifkan akun.  Misalnya, jika email asli Anda adalah "john.smith@sap.com", maka Anda perlu mengganti penunjukan &lt;&gt; dengan "john.smith", dan &lt;&lt;insert_your_company&gt;&gt; dengan "getah". <br><br><img src="https://habrastorage.org/webt/-g/z_/jt/-gz_jtxt7lwrrhkqrsrxggowp6s.png"><br><br>  Buka konsol administrasi layanan Identity Authentication dan pilih tab "Pengguna &amp; Otorisasi" -&gt; "Impor Pengguna".  Pilih titik aplikasi yang sebelumnya dibuat "ABC_PetroCorp_IDP" dan klik "Browse", lalu pilih file "ABCPetroCorp.csv" yang menggambarkan pengguna demo kami - dan klik tombol "Impor". <br><br><img src="https://habrastorage.org/webt/ah/dv/k2/ahdvk2otnkhjwdfueyubevzd0vk.png"><br><br>  Pengguna harus mengaktifkan akun mereka.  Untuk menerima email dengan tautan aktivasi, Anda harus mengklik "Kirim" di jendela "Kirim Email". <br><br>  Sebelum Anda mengaktifkan pengguna, Anda perlu mengubah beberapa konfigurasi. <br>  Buka tab "Pengguna &amp; Otorisasi" -&gt; "Manajemen Pengguna".  Dua pengguna muncul di daftar pengguna: "Manajer Area" dan "Pembimbing Pabrik".  Mereka secara otomatis diberi pengidentifikasi: P000011 dan P000010.  Pengidentifikasi ini dapat digunakan sebagai login untuk memasuki penyewa (dan ke dalam aplikasi, ketika semua pengaturan yang diperlukan dibuat). <br><br><img src="https://habrastorage.org/webt/kr/5n/ns/kr5nnsayi-h_uzenvlbkvzvttds.png"><br><br>  Mari kita pergi ke pengguna P000011 atau "Manajer Area" dan menambahkan nama yang juga dapat digunakan sebagai login untuk masuk.  Untuk melakukan ini, klik pada ikon edit di bidang "Informasi Pribadi" dan isi "Nama Login" (dalam kasus kami, itu adalah Johan). <br><br><img src="https://habrastorage.org/webt/cr/qa/vg/crqavg4m8ids9ec4eqifslnuwu0.png"><br><br>  Kemudian klik "Simpan". <br><br>  Sekarang, mari kita lakukan hal yang sama dengan pengguna P000010 atau Plant Supervisor, tetapi panggil dia Smith. <br><br><img src="https://habrastorage.org/webt/8-/yr/-k/8-yr-klcft-lnsvvfxtg_gyphfc.png"><br><br>  Pengguna Pengawas Pabrik harus dapat melihat informasi hanya tentang pabriknya, maka pada bagian dengan informasi tentang perusahaan perlu untuk menunjukkan pengenal perusahaan (bagaimana pengidentifikasi ini akan digunakan akan dijelaskan pada Langkah 4). <br><br>  Untuk melakukan ini, buka bagian "Informasi Perusahaan" dan masukkan pengidentifikasi pabrik, yaitu "101", di bidang "Perusahaan". <br><br>  Sekarang informasi tentang pengguna kami telah diubah.  Untuk mengaktifkannya, buka kotak surat yang ditentukan dalam file "csv" dan klik tautan aktivasi, atau klik "Klik di sini untuk mengaktifkan akun Anda". <br><br><img src="https://habrastorage.org/webt/us/nr/jr/usnrjrph5ur5oawb8yamdoir3zg.png"><br><br>  Jadi, kami telah berhasil mengimpor pengguna ke penyewa SCI, memperbarui informasi tentang mereka dan mengaktifkannya. <br><br>  <b><i>Langkah 3: Menetapkan peran kepada pengguna di tingkat aplikasi di SAP Cloud Platform</i></b> <b><i><br></i></b> <br>  Aplikasi Multi-tenant Pollution Monitoring, yang dibuat oleh Robert dari ITeLO Consulting, menyediakan dua peran yang telah ditentukan, PlantSupervisor dan AreaManager, yang mengontrol otorisasi pengguna dalam aplikasi dan menentukan apa yang dilihat pengguna akhir. <br><br><ul><li>  Peran PlantSupervisor: Pengguna yang diberi peran ini hanya akan dapat melihat data dari pabrik yang diidentifikasi dalam Informasi Perusahaan di penyewa SCI. </li><li>  Peran "AreaManager": Pengguna yang diberi peran ini akan dapat melihat data dari semua pabrik di area mereka. </li></ul><br>  Mari kita lihat bagaimana pemisahan peran dicapai pada level kode proyek. <br><br>  Mari kita beralih ke file web.xml yang terletak di sepanjang jalur / pemantauan polusi <br>  /src/main/webapp/WEB-INF/web.xml â€di folder proyek. <br><br>  Buka file dan pastikan bahwa dua peran di atas didefinisikan dalam aplikasi. <br><br><img src="https://habrastorage.org/webt/vm/jy/4r/vmjy4ruivum6qlp-a2kw-6nsar4.png"><br><br>  Sekarang mari kita pergi ke file "PollutionDataService.java" yang terletak di sepanjang jalan "/pollutionmonitoring/src/main/java/com/sap/hana/cloud/samples/pollutionmonitoring/api/PollutionDataService.java" dari proyek dan buka. <br><br>  Metode "getCompanyPollutionData ()" ditunjukkan dalam file ini.  Ini memungkinkan Anda untuk memeriksa apakah pengguna adalah administrator (manajer).  Jika ya, maka aplikasi menampilkan data untuk semua tanaman, jika tidak, data difilter oleh ID tanaman (plant_id).  Selain itu, aplikasi hanya akan menampilkan informasi untuk pabrik yang pengidentifikasinya sesuai dengan yang ditunjukkan dalam informasi pengguna. <br><br><img src="https://habrastorage.org/webt/wb/nr/-1/wbnr-1xbi_tiqah2efsv4444tn4.png"><br><br>  Untuk lebih jelasnya, Anda bisa merujuk ke metode isUserAdmin (), yang memungkinkan Anda untuk menentukan berdasarkan peran apakah pengguna adalah administrator (manajer) atau tidak. <br><br><img src="https://habrastorage.org/webt/hg/az/25/hgaz25dqc9shpbzdjr8szqb81dc.png"><br><br>  Algoritma serupa digunakan untuk mengekstrak data tanaman dari sistem lokal. <br><br><img src="https://habrastorage.org/webt/im/ds/qa/imdsqalrzqvuubw7e9lx1ppwgo0.png"><br><br>  Sekarang Emily, sebagai karyawan ABC PetroCorp, perlu mengidentifikasi manajer area dan manajer pabrik dengan menugaskan mereka peran yang sesuai (ABCPlantSupervisor dan ABCAreaManager) dalam aplikasi di SCP. <br><br>  Kami akan pergi ke sub-akun klien ABC PetroCorp dan memilih aplikasi Java yang memantau polusi yang disediakan oleh penyedia ITeLO Consulting (terletak di tab Aplikasi -&gt; tab Langganan). <br><br><img src="https://habrastorage.org/webt/py/ql/b_/pyqlb_s5jxwjw3amjgu3z2lzcus.png"><br><br>  Selanjutnya, buka tab "Peran" (di tingkat aplikasi). <br><br>  Di jendela yang terbuka, daftar peran yang ditunjukkan dalam aplikasi muncul.  Pilih peran "PlantSupervisor" dan klik "Tetapkan".  Di jendela yang muncul, masukkan ID pengguna, ditunjukkan dalam penyewa SCI sebagai "ABCPlantSupervisor".  Dalam kasus kami, pengidentifikasi pengguna tersebut adalah P000010. <br><br>  Kemudian pilih peran "AreaManager" dan klik "Tetapkan".  Di jendela yang muncul, masukkan pengidentifikasi pengguna yang ditunjukkan dalam penyewa SCI sebagai "ABCAreaManager" (dalam kasus kami, pengidentifikasi pengguna tersebut adalah P000011). <br><br><img src="https://habrastorage.org/webt/pw/k2/qr/pwk2qre0nnl8iyytqg8szu9wwhc.png"><br><br>  Jadi, kami telah berhasil membandingkan peran aplikasi dengan pengguna yang sesuai dari ABC PetroCorp dari penyewa SCI. <br><br>  Pengaturan yang sama dapat diterapkan di sub-akun klien lain (misalnya, "XYZ EnergyCorp"). <br><br>  <i><b>Langkah 4: Mengkonfigurasi Atribut dalam Tenant SCI dan Panel Kontrol SCP untuk Mentransfer ke Aplikasi</b></i> <i><b><br></b></i> <br>  Robert dari ITeLO Consulting memprogram aplikasi multi-penyewa sedemikian rupa sehingga ia harus menyerahkan ID pengguna PlantSupervisor ke pabrik sehingga data tanaman dapat disaring dalam aplikasi untuk ID tanaman spesifik ini. <br>  Pada langkah-langkah sebelumnya, kami menambahkan pengidentifikasi tanaman ke pengguna "PlantSupervisor" di penyewa SCI di bidang "Informasi Perusahaan", yang sekarang kami perlu transfer ke aplikasi multi-penyewa.  Kemudian dapat digunakan dalam aplikasi untuk menampilkan data yang terkait dengan pabrik tertentu.  Pengguna AreaManager pada dasarnya adalah seorang administrator yang dapat melihat data dari semua instalasi. <br><br>  Mari kita lihat bagaimana ini diatur pada level kode aplikasi. <br><br>  Buka file "PollutionDataService.java" yang terletak di jalur "/pollutionmonitoring/src/main/java/com/sap/hana/cloud/samples/pollutionmonitoring/api/PollutionDataService.java" di proyek. <br><br>  File ini menjelaskan metode getPlantId ().  Metode ini menjelaskan tentang mendapatkan nama pengguna dan memeriksa atribut "PLANT_ID", yang digunakan untuk menyaring data polusi dan menanam data. <br><br><img src="https://habrastorage.org/webt/oo/5k/8f/oo5k8fcedmqrdjgd1qc3b1jink8.png"><br><br>  Kami dapat mentransfer atribut pengguna dari penyewa SCI ke aplikasi melalui SAML Assertion Attributes.  Ini diperlukan agar atribut pengguna dari penyewa SCI yang berisi informasi perusahaan dibaca oleh SCP pada saat pengguna masuk.  Yang disebut "Atribut Pernyataan" (atribut persetujuan) yang ditentukan untuk pengguna perlu ditransfer ke aplikasi pemantauan polusi. <br><br>  Untuk melakukan ini, pertama-tama buat "Atribut Pernyataan" di penyewa SCI, kemudian - tentukan atribut persetujuan dalam atribut utama ("Atribut Utama") di sub-akun "ABC PetroCorp", yang dapat dibaca oleh kode aplikasi, seperti yang ditunjukkan di atas. <br><br>  Pergi ke konsol administrasi layanan Identity Authentication dan pilih tab "Aplikasi &amp; Sumber Daya" -&gt; "Aplikasi".  Pilih aplikasi yang kami butuhkan (ABC_PetroCorp_IDP) dan di tab "Percaya", klik "Atribut Pernyataan". <br><br><img src="https://habrastorage.org/webt/aj/vx/a1/ajvxa1wkg_edv7_a4s8peeug_ge.png"><br><br>  Daftar atribut yang ada akan muncul, kita perlu satu lagi di dalamnya.  Untuk melakukan ini, klik tombol "Tambah" dan pilih atribut "Perusahaan". <br><br>  Kemudian kami menambahkan "plant_id" (case sensitif) ke nilai atribut dan klik "Simpan". <br><br><img src="https://habrastorage.org/webt/gq/_0/g7/gq_0g7ulur1s6brsmvessvvt-2e.png"><br><br>  Sekarang, masuklah ke sub-akun "ABC PetroCorp" di SCP dan buka tab "Keamanan" -&gt; "Percaya".  Di jendela "Trust Management", buka tab "Application Identity Provider" dan pilih IdP yang terkait dengan subaccount. <br><br><img src="https://habrastorage.org/webt/wd/bo/x8/wdbox8lmoxamqgwybxzrsugpmru.png"><br><br>  Di jendela yang terbuka, buka tab "Atribut" dan klik "Tambahkan Atribut Berbasis Pernyataan".  Di bidang "Atribut Pernyataan" kami memasukkan nilai "plant_id" (seperti dalam penyewa SCI), dan di bidang "Atribut Utama" kami masukkan "PLANT_ID" (nilai ini akan ditransfer ke aplikasi sebagai kode pabrik) - dan klik "Simpan". <br><br>  Jadi, kami telah berhasil mengkonfigurasi atribut di penyewa SCI dan di panel kontrol SCP untuk mentransfernya ke aplikasi. <br><br>  <b><i>Langkah 5: Verifikasi Pengaturan</i></b> <b><i><br></i></b>  Emily sekarang dapat memverifikasi bahwa pengaturan SCI Tenant (IdP) telah ditentukan dengan benar untuk subakun â€œABC PetroCorpâ€ di SCP dan untuk aplikasi yang disediakan penyedia. <br><br>  Untuk melakukan ini, buka sub-akun "ABC PetroCorp" dan buka aplikasi HTML5 "polusimonitoringui" (terletak di tab "Aplikasi" -&gt; "Langganan"). <br><br><img src="https://habrastorage.org/webt/ys/6l/bb/ys6lbbnjrqqh1tnwwsfufr_tmpe.png"><br><br>  Salin tautan ke aplikasi.  Buka tab baru di browser dalam mode penyamaran dan masukkan tautan ke aplikasi HTML5.  Sebuah jendela akan muncul untuk memasuki aplikasi, di mana nama yang ditunjukkan dalam penyewa SCI akan ditampilkan. <br><br>  Jika semuanya sudah diatur dengan benar, maka Anda harus dapat memasukkan aplikasi di bawah pengguna "AreaManager" dan "PlantSupervisor", ditunjukkan dalam penyewa SCI. <br><br>  Dalam kasus kami, manajer wilayah adalah pengguna Johan (P000011), dan kepala pabrik adalah Smith (P000010).  Anda dapat memasukkan aplikasi di bawah pengguna ini menggunakan nama pengguna atau pengenalnya sebagai login. <br><br>  <i>Catatan: saat memasuki aplikasi pada tahap ini, tidak ada data yang akan ditampilkan.</i>  <i>Ini normal karena konfigurasi belum selesai dan sistem lokal tidak terhubung.</i> <i><br></i> <br><br>  Jadi, kami telah menyiapkan koneksi Penyedia Identitas (IDP) dengan aplikasi pemantauan polusi SCP kami.             ,        . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id418237/">https://habr.com/ru/post/id418237/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id418225/index.html">Kursus MIT "Keamanan Sistem Komputer". Kuliah 7: Native Client Sandbox Bagian 2</a></li>
<li><a href="../id418227/index.html">Kursus MIT "Keamanan Sistem Komputer". Kuliah 7: Kotak Native Client, Bagian 3</a></li>
<li><a href="../id418229/index.html">Kursus MIT "Keamanan Sistem Komputer". Kuliah 8: Model Keamanan Jaringan, Bagian 1</a></li>
<li><a href="../id418233/index.html">BMW mnemonics untuk menemukan nilai batas</a></li>
<li><a href="../id418235/index.html">Saga yang diatur atau cara membangun transaksi bisnis dalam layanan dengan database per pola layanan</a></li>
<li><a href="../id418239/index.html">48 megapiksel untuk smartphone</a></li>
<li><a href="../id418241/index.html">Mengapa Gauss? (100 cara untuk menyelesaikan sistem persamaan)</a></li>
<li><a href="../id418243/index.html">Sejarah astronomi yang populer salah</a></li>
<li><a href="../id418245/index.html">Bagaimana tidak mengembangkan proyek di Bitrix</a></li>
<li><a href="../id418247/index.html">Mempercepat penggandaan matriks 4x4 dengan SIMD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>