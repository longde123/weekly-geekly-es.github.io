<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👧‍👧 😇 🙀 Kami menghubungkan peta online ke navigator di smartphone. Bagian 1 - peta raster standar 🎰 👩🏼‍🔬 👨🏾‍🤝‍👨🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seperti apa kartu online? Bagaimana cara mengetahui alamat server kartu yang Anda minati? Bagaimana cara membuat file pengaturan yang memungkinkan nav...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami menghubungkan peta online ke navigator di smartphone. Bagian 1 - peta raster standar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461031/"><p>  Seperti apa kartu online?  Bagaimana cara mengetahui alamat server kartu yang Anda minati?  Bagaimana cara membuat file pengaturan yang memungkinkan navigator di smartphone terhubung ke peta ini? </p><a name="habracut"></a><br><h3 id="soderzhanie">  Konten: </h3><br><p>  1 - Pendahuluan.  Peta raster standar <br>  2 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lanjutan.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Menulis rasterizer sederhana untuk peta vektor</a> <br>  3 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kasus khusus.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kami menghubungkan kartu OverpassTurbo</a> </p><br><h3 id="vstuplenie">  Entri </h3><br><p> Di antara aplikasi navigasi untuk smartphone, ada yang dirancang untuk pariwisata dan semua jenis kegiatan pinggiran kota.  Di antara yang paling terkenal adalah OsmAnd, Locus dan GuruMaps.  Semuanya dibedakan oleh sejumlah besar fungsi khusus yang dapat berguna di sepanjang jalan.  Dan juga jumlah yang lebih besar dari semua jenis pengaturan (terkadang sangat membingungkan).  Tapi sekarang kami paling tertarik pada satu hal: kemampuan untuk menambahkan kartu tambahan dan dengan cepat beralih di antara mereka. </p><br><p>  Saya perhatikan bahwa ini adalah fitur yang sangat berguna.  Lagi pula, satu dan area yang sama dari suatu medan dapat digambarkan dengan sangat berbeda pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">peta-peta dari tipe yang berbeda</a> .  Dan karena itu, sebelum mengatasi daerah-daerah yang sulit, ada baiknya untuk memeriksa masing-masing.  Namun, jika untuk ini diperlukan untuk menjalankan beberapa aplikasi terpisah pada smartphone, ini akan sangat merepotkan.  Performa memburuk, dan baterai dikonsumsi lebih cepat.  Jadi, sangat bagus bahwa ada peluang untuk bertahan hanya dengan satu aplikasi: semacam agregator kartografi dengan antarmuka yang nyaman yang dirancang khusus untuk pergantian cepat antar kartu. </p><br><p>  Jadi disini.  Sebagai aturan, menambahkan kartu baru relatif sederhana.  Folder aplikasi memiliki subfolder dengan <strong>preset</strong> .  Yaitu, dengan menyimpan file, di mana pengaturan untuk mengunduh kartu tertentu ditunjukkan.  Mari kita lihat apa itu. </p><br><p>  Saya perhatikan bahwa untuk semua aplikasi, preset kurang lebih sama.  Jadi, sebagai contoh, kami akan mempertimbangkan GuruMaps, karena itu baik untuk Android dan iOS.  Jadi, mari kita bayangkan bahwa kita masuk ke folder dengan preset-nya, menemukan ada file bernama <em>openstreetmaps.ms</em> , dan kemudian membukanya menggunakan editor teks biasa. </p><br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">customMapSource</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>OpenStreetMaps<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">minZoom</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">minZoom</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maxZoom</span></span></span><span class="hljs-tag">&gt;</span></span>18<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maxZoom</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url</span></span></span><span class="hljs-tag">&gt;</span></span>http://{$serverpart}.tile.openstreetmap.org/{$z}/{$x}/{$y}.png<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">serverParts</span></span></span><span class="hljs-tag">&gt;</span></span>ab c<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">serverParts</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">customMapSource</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Bahkan, kami hanya memiliki daftar beberapa nilai.  Mari kita pertimbangkan mereka secara berurutan: </p><br><p>  <strong>name</strong> - Nama peta yang akan ditampilkan dalam aplikasi <br>  <strong>minZoom</strong> - Dari level zoom berapa peta ini akan ditampilkan <br>  <strong>maxZoom</strong> - Hingga tingkat zoom apa yang akan ditampilkan peta ini <br>  <strong>url</strong> - Templat untuk mengakses file peta <br>  <strong>serverParts</strong> - Jika server tempat file peta disimpan memiliki beberapa mirror, maka Anda perlu mencantumkan namanya </p><br><p>  Sebelum pindah, saya perhatikan bahwa untuk penyimpanan di server, kartu besar dipecah menjadi potongan-potongan kecil.  Biasanya ini adalah gambar png dengan ukuran 256x256 piksel.  Fragmen-fragmen ini disebut <strong>ubin</strong> . </p><br><p><img src="https://habrastorage.org/webt/f7/vd/gs/f7vdgskm8jqcztskwkp3eo-efgo.png"></p><br><p>  Sekarang mari kita melihat lebih dekat pada template url. </p><br><p> <code>http://{$serverpart}.tile.openstreetmap.org /{$z}/{$x}/{$y}.png</code> </p> <br><p>  Navigator secara otomatis mengganti kata-kata dalam kurung kurawal dengan "koordinat" fragmen peta yang saat ini diperlukan.  Inilah yang tepatnya akan diganti untuk bertopik: </p><br><p>  <strong>{$ serverpart}</strong> - Salah satu nilai serverParts akan diganti di sini. <br>  <strong>{$ z}</strong> - Level zoom tempat Anda ingin mengunduh fragmen peta <br>  <strong>{$ x}</strong> - Jumlah horisontal fragmen peta <br>  <strong>{$ y}</strong> - Jumlah fragmen peta secara vertikal </p><br><p>  Setelah mengganti nilainya, navigator akan menerima tautan, yang kemudian mengunduh file dengan fragmen peta yang diperlukan.  Sebagai contoh, ini: </p><br><p> <code>http://a.tile.openstreetmap.org /12/2478/1265.png</code> </p> <br><p>  Saat unduhan selesai, ubin yang diunduh akan ditampilkan di layar ponsel cerdas. </p><br><h3 id="dobavlyaem-svoyu-kartu">  Tambahkan kartu Anda </h3><br><p>  Jadi, katakanlah Anda menemukan di Internet kartu yang menarik bagi Anda dan bahwa Anda benar-benar ingin terhubung ke ponsel cerdas Anda.  Ayo kita coba.  Pertama, menggunakan browser di komputer Anda, buka situs dengan jendela untuk melihat peta ini.  Misalnya yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">ini</a> . </p><br><p><img src="https://habrastorage.org/webt/o9/7j/n4/o97jn4dv55rqiauzbul5nrixoci.png"></p><br><p>  Buka panel dengan alat pengembang (Ctrl + Alt + I untuk Google Chrome) </p><br><p>  Di panel yang terbuka, buka tab Sumber. </p><br><p>  Kami membuka semua folder secara berurutan sampai kami menemukan folder dengan gambar irisan peta yang ditampilkan. </p><br><p>  Klik kanan pada nama file.  Di menu yang terbuka, pilih Salin alamat tautan </p><br><p><img src="https://habrastorage.org/webt/o2/wy/jh/o2wyjhv9srqwqfq0789r-ggttws.png"></p><br><p>  Misalnya, kami mendapat tautan seperti itu <br> <code>http://anygis.herokuapp.com/Combo_Best_Genshtab/1242/639/11</code> </p> <br><p>  Anda perlu memahami apa sebenarnya angka-angka ini.  Kami memeriksa dari kartu referensi kami - OpenStreetMaps. </p><br><p> <code>http://a.tile.openstreetmap.org/1242/639/11.png</code> </p> <br><p>  Tidak memuat.  Mari kita coba menukar angkanya. <br> <code>http://a.tile.openstreetmap.org/11/1242/639.png</code> </p> <br><p>  Dimuat!  Sekarang bandingkan ubin yang diperoleh dengan tautan pertama dan kedua: </p><br><p><img src="https://habrastorage.org/webt/ad/gs/eb/adgseb703cdamjohxfosiuu8po4.png"></p><br><p>  Kami memastikan bahwa ubin kedua kartu ini menunjukkan tempat yang sama.  Dan yang paling penting, tidak ada offset.  Jadi peta yang kami temukan dibuat dalam proyeksi standar dan cocok untuk koneksi. </p><br><p>  Nah, dan sekarang, mengetahui dalam urutan apa koordinat OpenStreetMaps berjalan - <strong>z, x, y</strong> - kita dapat dengan yakin mengatakan di mana mereka pergi di peta kita. </p><br><p> <code>http://anygis.herokuapp.com/Combo_Best_Genshtab/{$x}/{$y}/{$z}</code> </p> <br><p>  Sekarang perbesar dan perkecil peta di viewport.  Jadi kami mengetahui bahwa kartu hanya dimuat dari zoom 0 dan 15. </p><br><p>  Lebih lanjut, jika url dimulai dengan satu huruf atau angka, maka akan mungkin untuk mengganti nilai-nilai lain di sana.  Tetapi biasanya ada <strong>a, b, c</strong> atau <strong>0,1,2,3</strong> . </p><br><p>  Jadi, sekarang kami telah menemukan semua parameter yang diperlukan dan dapat membuat preset untuk peta baru kami. </p><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">customMapSource</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>.   <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">minZoom</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">minZoom</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maxZoom</span></span></span><span class="hljs-tag">&gt;</span></span>15<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">maxZoom</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url</span></span></span><span class="hljs-tag">&gt;</span></span>http://anygis.herokuapp.com/Combo_Best_Genshtab/{$x}/{$y}/{$z}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">url</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">customMapSource</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Tetap menyimpan file dengan nama baru dan menambahkannya ke aplikasi navigasi Anda.  Untuk iOS - cukup seret dan jatuhkan file ke folder aplikasi (via iTunes).  Untuk Android - salin file ke direktori berikut: </p><br><p> <code>Android\data\com.bodunov.GalileoPro\files\Imported</code> </p> <br><p>  Sekarang, ketika Anda membuka navigator, apa yang telah Anda lakukan muncul di daftar peta.  Selamat! </p><br><p><img src="https://habrastorage.org/webt/ei/qp/qf/eiqpqfzt3mntr2p9g68ewvhnf04.png"></p><br><p>  Seperti yang Anda lihat, itu sangat sederhana.  Dan yang terbaik dari semuanya, seluruh prosesnya kurang lebih sama untuk semua navigator di atas.  Cepat, serbaguna, lintas platform. </p><br><p>  Tentu saja, ada kartu dalam proyeksi non-standar.  Atau dengan penomoran non-standar.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Pada artikel ini,</a> saya menjelaskan cara mengatasi masalah ini.  Namun demikian, sebagian besar kartu yang ditemukan di Internet terhubung dengan mudah dan tanpa masalah tambahan. </p><br><p>  Ngomong-ngomong, di situs web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">AnyGIS</a> saya, Anda dapat mengunduh preset yang sudah jadi.  Mereka secara otomatis dihasilkan dalam format semua navigator di atas berdasarkan database yang saya kumpulkan.  Dan diperbarui secara berkala.  Jadi, jika perlu, unduh dan gunakan. </p><br><p>  Nah, sudah berakhir dengan pengantar.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pada artikel selanjutnya</a> saya akan memberi tahu Anda cara menghubungkan peta online vektor. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id461031/">https://habr.com/ru/post/id461031/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id461015/index.html">Hidup dan belajar. Bagian 2. Universitas: 5 tahun atau 5 koridor?</a></li>
<li><a href="../id461017/index.html">Algoritma Pelacakan GPU Baru: Wavefront Path Tracing</a></li>
<li><a href="../id461019/index.html">Bagaimana kehidupan para pengembang di Iran</a></li>
<li><a href="../id461027/index.html">Java REPL Anda tidak menggunakan ScriptEngine</a></li>
<li><a href="../id461029/index.html">Danau data pemasaran - dari tabel mengerikan hingga laporan dan visualisasi</a></li>
<li><a href="../id461033/index.html">Dari mana konfigurasi ini berasal? [Debian / Ubuntu]</a></li>
<li><a href="../id461035/index.html">Episode instruktif dari seri Silicon Valley (Musim 1)</a></li>
<li><a href="../id461037/index.html">Dan di sinilah aku "nyata"</a></li>
<li><a href="../id461039/index.html">Buku “Algoritma Sempurna. Algoritma Grafik dan Struktur Data "</a></li>
<li><a href="../id461041/index.html">Bulat atau sudut akut?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>