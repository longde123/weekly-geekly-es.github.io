<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค ๐๏ธ ๐๐ฟ ุฃููุงุน ุชุนุชูุฏ ูุงุณูู: ููุงุฐุง ูู ูุณุชูุจู ุชุทููุฑ ุงูุจุฑูุฌูุงุช โ๐ฟ ๐ด๐พ ๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู Serokell ุ ูุญู ูุง ูุดุงุฑู ููุท ูู ูุดุงุฑูุน ุชุฌุงุฑูุฉ ุ ูููููุง ูุณุนู ุฃูุถูุง ูุชุบููุฑ ุงูุนุงูู ูุญู ุงูุฃูุถู. ุนูู ุณุจูู ุงููุซุงู ุ ูุญู ูุนูู ุนูู ุชุญุณูู ุงูุฃุฏุงุฉ ุงูุฑุฆูุณูุฉ ูุฌู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฃููุงุน ุชุนุชูุฏ ูุงุณูู: ููุงุฐุง ูู ูุณุชูุจู ุชุทููุฑ ุงูุจุฑูุฌูุงุช</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485174/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/fce/995/232/fce99523266b5bc548c3d1730c70b885.jpg"></p><br><p style=";text-align:right;direction:rtl"> ูู Serokell ุ ูุญู ูุง ูุดุงุฑู ููุท ูู ูุดุงุฑูุน ุชุฌุงุฑูุฉ ุ ูููููุง ูุณุนู ุฃูุถูุง ูุชุบููุฑ ุงูุนุงูู ูุญู ุงูุฃูุถู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุญู ูุนูู ุนูู ุชุญุณูู ุงูุฃุฏุงุฉ ุงูุฑุฆูุณูุฉ ูุฌููุน Haskelists - Glasgow Haskell Compiler (GHC).  ุฑูุฒูุง ุนูู ุชูุณูุน ูุธุงู ุงููุชุงุจุฉ ุชุญุช ุชุฃุซูุฑ ุนูู ุฑูุชุดุงุฑุฏ ุฃูุฒูุจุฑุบ ุ <a href="https://github.com/goldfirere/thesis/blob/master/built/thesis.pdf" rel="nofollow">"ุงูุฃููุงุน ุงูุชุงุจุนุฉ ูู ูุงุณูู: ุงููุธุฑูุฉ ูุงูุชุทุจูู"</a> . </p><br><p style=";text-align:right;direction:rtl">  ูู <a href="https://serokell.io/blog/why-dependent-haskell" rel="nofollow">ูุฏููุชูุง ุ</a> ุชุญุฏุซ ููุงุฏูุณูุงู ุจุงููุนู ุนู ุณุจุจ ุงูุชูุงุฑ ูุงุณูู ุฅูู ุงูุฃููุงุน ุงูุชุงุจุนุฉ ูููู ูุฎุทุท ูุฅุถุงูุชูุง.  ูุฑุฑูุง ุชุฑุฌูุฉ ูุฐุง ุงูููุดูุฑ ุฅูู ุงูุฑูุณูุฉ ุญุชู ูุชููู ุฃูุจุฑ ุนุฏุฏ ูููู ูู ุงููุทูุฑูู ูู ุงุณุชุฎุฏุงู ุงูุฃููุงุน ุงูุชุงุจุนุฉ ูุชูุฏูู ูุณุงููุฉ ุฅุถุงููุฉ ูู ุชุทููุฑ Haskell ููุบุฉ. </p><a name="habracut"></a><br><h1 id="tekuschee-polozhenie-del" style=";text-align:right;direction:rtl">  ุงููุถุน ุงูุญุงูู </h1><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6d3/260/bba/6d3260bbad59d047ba6f10b1fffd5383.jpg" alt="ุฎูุงุฑุฒููุฉ ุงุฎุชูุงุฑ ูุบุฉ ุงูุจุฑูุฌุฉ"></p><br><p style=";text-align:right;direction:rtl">  ุงูุฃููุงุน ุงูุชุงุจุนุฉ ูู ุฃูุซุฑ ูุง ุฃูุชูุฏู ูู ูุงุณูู.  ูููุงูุด ุงูุณุจุจ.  ูู ุงูููุฏ ุงูุฐู ูุฑูุฏู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฃุฏุงุก ุ ุฃู ุณุฑุนุฉ ุงูุชูููุฐ ูุงูุฎูุงุถ ุงุณุชููุงู ุงูุฐุงูุฑุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุงูุตูุงูุฉ ูุณูููุฉ ุงูููู ุ </li><li style=";text-align:right;direction:rtl">  ุตุญุฉ ูุถูููุฉ ูู ุทุฑููุฉ ุชุฌููุนูุง. </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ุฎูุงู ุงูุชูููุงุช ุงูุญุงููุฉ ุ ูุงุฏุฑุงู ูุง ูููู ูู ุงููููู ุชุญููู ุงูุฎุตุงุฆุต ุงูุซูุงุซ ุ ูููู ูุน ุฏุนู ุงูุฃููุงุน ุงูุชู ุชุนุชูุฏ ุนูู Haskell ุ ูุชู ุชุจุณูุท ุงููููุฉ. </p><br><h2 id="standartnyy-haskell-ergonomika--proizvoditelnost" style=";text-align:right;direction:rtl">  ูุงุณูู ููุงุณู: ุจูุฆุฉ ุงูุนูู + ุงูุฃุฏุงุก </h2><br><p style=";text-align:right;direction:rtl">  ูุณุชูุฏ Haskell ุฅูู ูุธุงู ุจุณูุท: ุญุณุงุจ ุงูุชูุงุถู ูุงูุชูุงูู ูุชุนุฏุฏ ุงูุฃุดูุงู lambda ูุน ุญุณุงุจุงุช ูุณูู ุ ูุฃููุงุน ุงูุจูุงูุงุช ุงูุฌุจุฑูุฉ ุ ููุฆุงุช ุงููุชุงุจุฉ.  ูุฐุง ุงููุฒูุฌ ูู ุงูููุฒุงุช ุงููุบููุฉ ูู ุงูุฐู ูุชูุญ ููุง ูุชุงุจุฉ ุฑูุฒ ุฃููู ููุฏุนูู ููู ููุณ ุงูููุช ุฅูุชุงุฌู.  ูุฅุซุจุงุช ูุฐุง ุงูุงุฏุนุงุก ุ ูููุง ุจููุงุฑูุฉ ุจุงุฎุชุตุงุฑ Haskell ูุน ูุบุงุช ุฃูุซุฑ ุดุนุจูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุบุงุช ุฐุงุช ุงููุตูู ุบูุฑ ุงูุขูู ููุฐุงูุฑุฉ ุ ูุซู C ุ ุชุคุฏู ุฅูู ุฃุฎุทุฑ ุงูุฃุฎุทุงุก ูููุงุท ุงูุถุนู (ุนูู ุณุจูู ุงููุซุงู ุ ุชุฌุงูุฒ ุณุนุฉ ุงููุฎุฒู ุงููุคูุช ุ ุชุณุฑุจ ุงูุฐุงูุฑุฉ).  ูู ุจุนุถ ุงูุฃุญูุงู ุชููู ููุงู ุญุงุฌุฉ ุฅูู ูุซู ูุฐู ุงููุบุงุช ุ ูููู ูู ุฃุบูุจ ุงูุฃุญูุงู ูููู ุงุณุชุฎุฏุงููุง ูุฌุฑุฏ ููุฑุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุดูู ูุบุงุช ุงููุตูู ุฅูู ุงูุฐุงูุฑุฉ ุงูุขููุฉ ูุฌููุนุชูู: ุชูู ุงูุชู ุชุนุชูุฏ ุนูู ุฃุฏุงุฉ ุชุฌููุน ูุฌูุนู ุงูุจูุงูุงุช ุงูููููุฉ ู Rust.  ูุจุฏู Rust ุฃูู ูุฑูุฏ ูู ููุนู ูู ุชูููุฑ <a href="https://pcwalton.github.io/2013/05/20/safe-manual-memory-management.html" rel="nofollow">ูุตูู ุขูู ุฅูู ุงูุฐุงูุฑุฉ ุฏูู ุชุฌููุน ุงูุจูุงูุงุช ุงูููููุฉ</a> .  ูู ูุนุฏ ููุงู ุฃูุถูุง ุฅุนุตุงุฑ ูุนุชูุฏ ููุบุงุช ุจุญุซ ุฃุฎุฑู ูู ูุฐู ุงููุฌููุนุฉ.  ูููู ุนูู ุนูุณูู ุ ุฑูุณุช ูู ุทุฑููู ุฅูู ุงูุดุนุจูุฉ.  ุงูุนูุจ ูู ุฃูู ุนูู ุงูุฑุบู ูู ุงูุฃูุงู ุ ูุฅู ุฅุฏุงุฑุฉ ุฐุงูุฑุฉ Rust ุบูุฑ ุชุงููุฉ ูุฏูููุฉ.  ูู ุงูุชุทุจููุงุช ุงูุชู ูููููุง ุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุชุฌููุน ูุฌูุนู ุงูุจูุงูุงุช ุงูููููุฉ ุ ูู ุงูุฃูุถู ูุถุงุก ููุช ูููุทูุฑูู ูู ููุงู ุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ูุบุงุช ูุชุจููุฉ ูุน ุฌุงูุนู ุงูููุงูุฉ ุ ูุงูุชู ุณููุณููุง ุฅูู ูุฆุชูู ุนูู ุฃุณุงุณ ูุธุงู ุงููุชุงุจุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุชูุฏู ุงููุบุงุช ุงูููุชูุจุฉ ุฏููุงูููููุง (ุฃู ุจุงูุฃุญุฑู <a href="https://existentialtype.wordpress.com/2011/03/19/dynamic-languages-are-static-languages/" rel="nofollow">ุฃุญุงุฏูุฉ ุงูููุท</a> ) ุ ูุซู JavaScript ุฃู Clojure ุ ุชุญููููุง ุซุงุจุชูุง ุ ูุจุงูุชุงูู ูุง ูููููุง ุชูููุฑ ููุณ ูุณุชูู ุงูุซูุฉ ูู ุตุญุฉ ุงูููุฏ (ููุง ุ ุงูุงุฎุชุจุงุฑุงุช ูุง ูููู ุฃู ุชุญู ูุญู ุงูุฃููุงุน - ูุฃูุช ุจุญุงุฌุฉ ุฅูู ูููููุง) !). </p><br><p style=";text-align:right;direction:rtl">  ุบุงูุจูุง ูุง ูููู ููุบุงุช ุงููุทุจูุนุฉ ุจุดูู ุซุงุจุช ูุซู Java ุฃู Go ูุธุงู ูุชุงุจุฉ ูุญุฏูุฏ ููุบุงูุฉ.  ูุฐุง ููุฑุถ ุงููุจุฑูุฌูู ููุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฒุงุฆุฏุฉ ููุถุน ููุฒุงุช ูุบุฉ ุบูุฑ ุขููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุคุฏู ุงูุงูุชูุงุฑ ุฅูู ุงูุฃููุงุน ุงูุนุงูุฉ ูู Go ุฅูู ูุฑุถ ุงุณุชุฎุฏุงู <a href="https://tour.golang.org/methods/14" rel="nofollow">ุงููุงุฌูุฉ {}</a> <a href="https://golang.org/ref/spec" rel="nofollow">ูุชุชุจุน ุฃููุงุน ููุช ุงูุชุดุบูู</a> .  ูุง ููุฌุฏ ุฃูุถูุง ูุตู ุจูู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุฐุงุช ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ (ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช) ูุงูุญุณุงุจุงุช ุงูุจุญุชุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฃุฎูุฑูุง ุ ูู ุจูู ุงููุบุงุช ุงูุชู ุชุชูุชุน ุจุงููุตูู ุงูุขูู ููุฐุงูุฑุฉ ุ ูุฌุงูุน ุงูููุงูุฉ ุ ููุธุงู ุงููุชุงุจุฉ ุงูููู ุ ุชููุฒ Haskell ุนู ุงููุณู.  <a href="https://augustss.blogspot.com/2011/05/more-points-for-lazy-evaluation-in.html" rel="nofollow">ุงูุญูุณุจุฉ ุงููุณููุฉ</a> ูููุฏุฉ ููุบุงูุฉ ููุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุฑูุจุฉ <a href="https://augustss.blogspot.com/2011/05/more-points-for-lazy-evaluation-in.html" rel="nofollow">ุงููุงุจูุฉ</a> ููุชูููู.  ุฃููุง ุชุฌุนู ูู ุงููููู ุฃู ุชุชุญูู ุฅูู ุชุนุฑููุงุช ูุณุงุนุฏุฉ ุฃู ุฃุฌุฒุงุก ูู ุงูุชุนุจูุฑุงุช ุ ุจูุง ูู ุฐูู ุงูููุดุขุช ุงูุชู ุชุญุฏุฏ ุชุฏูู ุงูุชุญูู. </p><br><p style=";text-align:right;direction:rtl">  ุชุจุฏู ูุงุณูู ูุบุฉ ูุซุงููุฉ ุชูุฑูุจูุง ุฅูู ุฃู ุชุฏุฑู ูุฏู ุจุนูุฏูุง ุนู ุฅุทูุงู ุฅููุงูุงุชูุง ุงููุงููุฉ ูู ุญูุซ ุงูุชุญูู ุงูุซุงุจุช ููุงุฑูุฉ ุจุฃุฏูุงุช ุฅุซุจุงุช ุงููุธุฑูุฉ ูุซู <a href="https://agda.readthedocs.io/en/latest/" rel="nofollow">Agda</a> . </p><br><p style=";text-align:right;direction:rtl"> ููุซุงู ุจุณูุท ุนูู ุนุฏู ูุฌูุฏ ูุธุงู ููุน Haskell ุจูุง ูููู ุ ููุฑ ูู ุนุงูู <a href="http://hackage.haskell.org/package/base-4.12.0.0/docs/Prelude.html" rel="nofollow">ููุฑุณุฉ ุงููุงุฆูุฉ</a> ูู <code>Prelude</code> (ุฃู <a href="http://hackage.haskell.org/package/primitive-0.6.4.0/docs/Data-Primitive-Array.html" rel="nofollow">ููุฑุณุฉ ุตููู</a> ูู ุญุฒูุฉ <code>primitive</code> ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs">(!!) :: [a] -&gt; <span class="hljs-type"><span class="hljs-type">Int</span></span> -&gt; a indexArray :: <span class="hljs-type"><span class="hljs-type">Array</span></span> a -&gt; <span class="hljs-type"><span class="hljs-type">Int</span></span> -&gt; a</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ููุฌุฏ ูู ูุฐู ุงูุชูุงููุน ุงูููุนูุฉ ูุง ูุนูุณ ุงุดุชุฑุงุท ุฃู ูููู ุงูููุฑุณ ุบูุฑ ุณุงูุจ ูุฃูู ูู ุทูู ุงููุฌููุนุฉ.  ุจุงููุณุจุฉ ููุจุฑุงูุฌ ุฐุงุช ูุชุทูุจุงุช ุงูููุซูููุฉ ุงูุนุงููุฉ ุ ูุฐุง ุฃูุฑ ุบูุฑ ููุจูู. </p><br><h2 id="agda-ergonomika--korrektnost" style=";text-align:right;direction:rtl">  Agda: ุจูุฆุฉ ุงูุนูู + ุตุญุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุฃุฏูุงุช ุฅุซุจุงุช ุงููุธุฑูุงุช (ุนูู ุณุจูู ุงููุซุงู ุ <a href="https://coq.inria.fr/" rel="nofollow">Coq</a> ) ูู ุฃุฏูุงุช ุจุฑูุฌูุฉ ุชุณูุญ ุจุงุณุชุฎุฏุงู ุงูููุจููุชุฑ ูุชุทููุฑ ุฃุฏูุฉ ุฑุณููุฉ ูููุธุฑูุงุช ุงูุฑูุงุถูุฉ.  ุจุงููุณุจุฉ ูุนุงูู ุงูุฑูุงุถูุงุช ุ ูุฅู ุงุณุชุฎุฏุงู ูุฐู ุงูุฃุฏูุงุช ูุดุจู ูุชุงุจุฉ ุงูุฃุฏูุฉ ุนูู ุงููุฑู.  ุงููุฑู ูู ุงูุฏูุฉ ุบูุฑ ุงููุณุจููุฉ ุงูุชู ูุชุทูุจูุง ุงูููุจููุชุฑ ูุฅุซุจุงุช ุตุญุฉ ูุฐู ุงูุฃุฏูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูููุจุฑูุฌ ุ ูุฅู ูุณุงุฆู ุฅุซุจุงุช ุงููุธุฑูุงุช ูุง ุชุฎุชูู ูุซูุฑุงู ุนู ุงููุชุฑุฌู ุงูุฎุงุต ุจูุบุฉ ุงูุจุฑูุฌุฉ ุงูุจุงุทููุฉ ุจูุธุงู ูุชุงุจุฉ ูุง ูุตุฏู (ูุฑุจูุง ุจูุฆุฉ ุชุทููุฑ ูุชูุงููุฉ) ุ ููุชูุณุท โโ(ุฃู ุญุชู ุบุงุฆุจ) ููู ุดูุก ุขุฎุฑ.  ุฅู ูุณููุฉ ุฅุซุจุงุช ุงููุธุฑูุงุช ูู ุ ูู ุงููุงูุน ุ ูุบุงุช ุงูุจุฑูุฌุฉ ุ ุงูุชู ูุถู ูุคููููุง ูู ููุชูู ูู ุชุทููุฑ ูุธุงู ูููุชุงุจุฉ ููุณูุง ุฃูู ูุง ูุฒุงู ูุชุนูู ุชุดุบูู ุงูุจุฑุงูุฌ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุญูู ุงูุฐู ูุนุชุฒ ุจู ูุทูุฑู ุงูุจุฑูุฌูุงุช ุงูุฐูู ุชู ุงูุชุญูู ูููู ูู ูุณููุฉ ูุฅุซุจุงุช ุงููุธุฑูุงุช ุ ูุงูุชู ุณุชููู ูุบุฉ ุจุฑูุฌุฉ ุฌูุฏุฉ ูุน ูููุฏ ุฑูุฒ ุนุงูู ุงูุฌูุฏุฉ ูููุช ุชุดุบูู.  ูู ูุฐุง ุงูุงุชุฌุงู ุ ุจูุง ูู ุฐูู ุงููุจุฏุนูู ูู <a href="https://www.idris-lang.org/" rel="nofollow">ุฅุฏุฑูุณ</a> ุฌุฑุจุช.  ููู ูุฐู ูุบุฉ ุฐุงุช ุญุณุงุจุงุช ุตุงุฑูุฉ (ุญูููุฉ) ุ ูุชูููุฐูุง ูู ุงูููุช ุงูุญุงูู ุบูุฑ ูุณุชูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุจูู ุฌููุน ูุณุงุฆู ุฅุซุจุงุช ุงููุธุฑูุงุช ุ ูุฅู ุฃุบุฏุง ูุงุณููููุณุชุณ ูู ุงูุฃูุซุฑ ุฅุนุฌุงุจูุง.  ูู ููุงุญ ูุซูุฑุฉ ุ ูุดุจู Haskell ุ ูููู ูุน ูุธุงู ุงููุชุงุจุฉ ุฃูุซุฑ ููุฉ.  ูุญู ูู Serokell ูุณุชุฎุฏููุง ูุฅุซุจุงุช ุงูุฎุตุงุฆุต ุงููุฎุชููุฉ ูุจุฑุงูุฌูุง.  ูุชุจุช ุฒูููุชู ุฏุงููุง ุฑูุบูุฒูู <a href="https://serokell.io/blog/2018/11/14/logical-background" rel="nofollow">ุณูุณูุฉ ูู ุงูููุงูุงุช</a> ุญูู ูุฐุง ุงูููุถูุน. </p><br><p style=";text-align:right;direction:rtl">  ูููุง ููู ููุน ูุธููุฉ <a href="" rel="nofollow">ุจุญุซ</a> ูุดุจู ูุดุบู Haskell <code>(!!)</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">lookup</span></span> : โ (xs : <span class="hljs-type"><span class="hljs-type">List</span></span> <span class="hljs-type"><span class="hljs-type">A</span></span>) โ <span class="hljs-type"><span class="hljs-type">Fin</span></span> (length xs) โ <span class="hljs-type"><span class="hljs-type">A</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุนููุฉ ุงูุฃููู ููุง ูู ูู ุงูููุน <code>List A</code> ุ ุงูุฐู ูุชูุงูู ูุน <code>[a]</code> ูู ูุงุณูู.  ููุน ุฐูู ุ ูุฅููุง ูุนุทููุง ุงูุงุณู <code>xs</code> ููุฅุดุงุฑุฉ ุฅูููุง ูููุชุฑุฉ ุงููุชุจููุฉ ูู ุชูููุน ุงููุชุงุจุฉ.  ูู Haskell ุ ูููููุง ุงููุตูู ุฅูู ูุณูุทุงุช ุงููุธููุฉ ููุท ูู ูุต ุงูุฏุงูุฉ ุนูู ูุณุชูู ุงููุตุทูุญ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs">(!!) :: [a] -&gt; <span class="hljs-type"><span class="hljs-type">Int</span></span> -&gt; a <span class="hljs-comment"><span class="hljs-comment">--   xs  (!!) = \xs i -&gt; ... --   xs </span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ูู Agda ุ ูููููุง ุงูุฅุดุงุฑุฉ ุฅูู ูููุฉ <code>xs</code> ูุฐู ุนูู ูุณุชูู ุงููุชุงุจุฉ ุ ููู ูุง ููุนูู ูู ูุนููุฉ <code>lookup</code> ุงูุซุงููุฉ ุ <code>Fin (length xs)</code> .  ุชุณูู ุงูุฏุงูุฉ ุงูุชู ุชุดูุฑ ุฅูู ุงููุนููุฉ ุงูุฎุงุตุฉ ุจูุง ูู ูุณุชูู ุงููุชุงุจุฉ <em>ุฏุงูุฉ ุชุงุจุนุฉ</em> ููู ูุซุงู ููุฃููุงุน ุงูุชุงุจุนุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุนููุฉ ุงูุซุงููุฉ ูู <code>lookup</code> ูู ุงูููุน <code>Fin n</code> ูู <code>n ~ length xs</code> .  ุชุชุทุงุจู ูููุฉ ุงูููุน <code>Fin n</code> ูุน ุฑูู ูู ุงููุทุงู <code>[0, n)</code> ุ ูุฐูู <code>Fin (length xs)</code> ูู ุฑูู ุบูุฑ ุณุงูุจ ุฃูู ูู ุทูู ูุงุฆูุฉ ุงูุฅุฏุฎุงู.  ูุฐุง ูู ุจุงูุถุจุท ูุง ูุญุชุงุฌู ูุชูุฏูู ููุฑุณ ุตุงูุญ ูุนูุตุฑ ูุงุฆูุฉ.  ุชุญุฏุซ ุชูุฑูุจูุง ุ <code>lookup ["x","y","z"] 2</code> ูุญุต ุงูููุน ุ ูููู <code>lookup ["x","y","z"] 42</code> ุณููุดู. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ูุชุนูู ุงูุฃูุฑ ุจุชุดุบูู ุจุฑุงูุฌ Agda ุ ูููููุง ุชุฌููุนูุง ูู Haskell ุจุงุณุชุฎุฏุงู <a href="http://wiki.portal.chalmers.se/agda/pmwiki.php%3Fn%3DDocs.MAlonzo" rel="nofollow">ุฎูููุฉ</a> MAlonzo.  ููู ุฃุฏุงุก ุงูููุฏ ุงูุฐู ุชู ุฅูุดุงุคู ุณูููู ุบูุฑ ูุฑุถู.  ูุฐุง ููุณ ุฎุทุฃ MAlonzo: ูุฌุจ ุนููู ุฅุฏุฑุงุฌ ุงูุนุฏูุฏ ูู <code>unsafeCoerce</code> ุจุญูุซ <code>unsafeCoerce</code> GHC ุงูููุฏ ุงูุฐู ุชู ุงูุชุญูู ููู ุจุงููุนู ุจูุงุณุทุฉ Agda.  ููู ููุณ <code>unsafeCoerce</code> <a href="https://dspace.library.uu.nl/bitstream/handle/1874/357868/3800296.pdf" rel="nofollow">ุชููู ูู ุงูุฃุฏุงุก</a> <em>(ุจุนุฏ ููุงูุดุฉ ูุฐู ุงูููุงูุฉ ุ ุงุชุถุญ ุฃู ูุดุงูู ุงูุฃุฏุงุก ูุฏ ุชููู ูุงุฌูุฉ ุนู ุฃุณุจุงุจ ุฃุฎุฑู - ููุงุญุธุฉ ุงููุคูู)</em> . </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูุถุนูุง ูู ูููู ุตุนุจ: ูุฌุจ ุนูููุง ุงุณุชุฎุฏุงู Agda ููููุฐุฌุฉ ูุงูุชุญูู ุงูุฑุณูู ุ ุซู ุฅุนุงุฏุฉ ุชูููุฐ ููุณ ุงููุธููุฉ ุนูู Haskell.  ูู ุฎูุงู ุชูุธูู ุณูุฑ ุงูุนูู ูุฐุง ุ ุชุนูู ุดูุฑุฉ Agda ูููุงุตูุงุช ูุชู ุงูุชุญูู ูููุง ุจูุงุณุทุฉ ุงูููุจููุชุฑ.  ูุฐุง ุฃูุถู ูู ุงูููุงุตูุงุช ูู ุงููุบุฉ ุงูุทุจูุนูุฉ ุ ูููู ุจุนูุฏ ุนู ุงููุซุงููุฉ.  ุงููุฏู ูู ุฃูู ุฅุฐุง ุชู ุชุฌููุน ุงูุดูุฑุฉ ุ ูุณุชุนูู ููููุง ููููุงุตูุงุช. </p><br><h2 id="haskell-s-rasshireniyami-korrektnost--proizvoditelnost" style=";text-align:right;direction:rtl">  ูุงุณูู ูุน ููุญูุงุช: ุชุตุญูุญ + ุงูุฃุฏุงุก </h2><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/954/0e8/735/9540e8735ab539e67787046735ee5789.jpg"></p><br><p style=";text-align:right;direction:rtl">  ุชูุฏู ุถูุงูุงุช ุซุงุจุชุฉ ููุบุงุช ูุน ุฃููุงุน ุชุงุจุนุฉ ุ GHC ูุทุนุช ุดูุทุง ุทูููุง.  ุชูุช ุฅุถุงูุฉ ููุญูุงุช ุฅูููุง ูุฒูุงุฏุฉ ุงูุชุนุจูุฑ ุนู ูุธุงู ุงููุชุงุจุฉ.  ููุฏ ุจุฏุฃุช ุจุงุณุชุฎุฏุงู Haskell ุนูุฏูุง ูุงู GHC 7.4 ูู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู ุงููุชุฑุฌู.  ูุญุชู ูุน ุฐูู ุ ูุงูุช ุชุญุชูู ุนูู ุงูุงูุชุฏุงุฏุงุช ุงูุฑุฆูุณูุฉ ููุจุฑูุฌุฉ ุงููุชูุฏูุฉ ุนูู ูุณุชูู ุงูููุน: <code>RankNTypes</code> ู <code>PolyKinds</code> ู <code>PolyKinds</code> ู <code>PolyKinds</code> ู <code>PolyKinds</code> . </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูุง ููุฌุฏ ุญุชู ุงูุขู ุฃููุงุน ูุณุชููุฉ ูุงููุฉ ูู Haskell: ูุง ุชูุฌุฏ ูุธุงุฆู ุชุงุจุนุฉ (ุฃููุงุน)) ููุง ุฃุฒูุงุฌ ุชุงุจุนุฉ (ุฃููุงุน)).  ูู ูุงุญูุฉ ุฃุฎุฑู ุ ุนูู ุงูุฃูู ูุฏููุง ุชุฑููุฒ ููู! </p><br><p style=";text-align:right;direction:rtl">  ุงูููุงุฑุณุงุช ุงูุญุงููุฉ ูู ููุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุดููุฑ ูุธุงุฆู ูุณุชูู ุงููุชุงุจุฉ ูุนุงุฆูุงุช ูู ุงูููุน ุงูุฎุงุต ุ </li><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏุงู ุงููุธูููุฉ ูุชูููู ุงููุธุงุฆู ุบูุฑ ุงููุดุจุนุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุณุฏ ุงููุฌูุฉ ุจูู ุงููุตุทูุญุงุช ูุงูุฃููุงุน ุจุงุณุชุฎุฏุงู ุฃููุงุน ูุงุญุฏุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุคุฏู ูุฐุง ุฅูู ูุฏุฑ ูุจูุฑ ูู ุงูุดูุฑุฉ ุงูุฒุงุฆุฏุฉ ุนู ุงูุญุงุฌุฉ ุ ููู ููุชุจุฉ <code>singletons</code> ุจุฃุชูุชุฉ <code>singletons</code> ูู ุฎูุงู Template Haskell. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/003/56f/e2a/00356fe2af43f034df850dbb556fb82f.jpg"></p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ูููู ููุฃูุซุฑ ุฌุฑุฃุฉ ูุญุงุณูุง ุฑูุฒ ุงูุฃููุงุน ุงููุนุชูุฏุฉ ูู ูุงุณูู ุงูุขู.  ูุชูุถูุญ ุ ููุง ูู ุชุทุจูู ูุธููุฉ <code>lookup</code> ููุงุซูุฉ ูููุชุบูุฑ ุนูู Agda: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-meta"><span class="hljs-meta">{-# OPTIONS -Wall -Wno-unticked-promoted-constructors -Wno-missing-signatures #-}</span></span> <span class="hljs-meta"><span class="hljs-meta">{-# LANGUAGE LambdaCase, DataKinds, PolyKinds, TypeFamilies, GADTs, ScopedTypeVariables, EmptyCase, UndecidableInstances, TypeSynonymInstances, FlexibleInstances, TypeApplications, TemplateHaskell #-}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">module</span></span> ListLookup <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Data.Singletons.TH <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Data.Singletons.Prelude singletons [d| data N = Z | SN len :: [a] -&gt; N len [] = Z len (<span class="hljs-title"><span class="hljs-title">_</span></span>:<span class="hljs-title"><span class="hljs-title">xs</span></span>) = S (<span class="hljs-title"><span class="hljs-title">len</span></span> <span class="hljs-title"><span class="hljs-title">xs</span></span>) |] data Fin n where FZ :: Fin (<span class="hljs-type"><span class="hljs-type">S</span></span> <span class="hljs-title"><span class="hljs-title">n</span></span>) FS :: Fin n -&gt; Fin (<span class="hljs-type"><span class="hljs-type">S</span></span> <span class="hljs-title"><span class="hljs-title">n</span></span>) lookupS :: SingKind a =&gt; SList (<span class="hljs-title"><span class="hljs-title">xs</span></span> :: [<span class="hljs-title"><span class="hljs-title">a</span></span>]) -&gt; Fin (<span class="hljs-type"><span class="hljs-type">Len</span></span> <span class="hljs-title"><span class="hljs-title">xs</span></span>) -&gt; Demote a lookupS SNil = \case{} lookupS (<span class="hljs-type"><span class="hljs-type">SCons</span></span> <span class="hljs-title"><span class="hljs-title">x</span></span> <span class="hljs-title"><span class="hljs-title">xs</span></span>) = \case FZ -&gt; fromSing x FS i' -&gt; lookupS xs i'</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููุง ุฌูุณุฉ GHCi ุชูุธูุฑ ุฃู ุนูููุงุช ุงูุจุญุซ ุชุฑูุถ ุจุงููุนู ุงูููุงุฑุณ ูุจูุฑุฉ ุฌุฏูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-type"><span class="hljs-type">GHCi</span></span>, version <span class="hljs-number"><span class="hljs-number">8.6</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>: http://www.haskell.org/ghc/ :? for help [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-type"><span class="hljs-type">Compiling</span></span> <span class="hljs-type"><span class="hljs-type">ListLookup</span></span> ( <span class="hljs-type"><span class="hljs-type">ListLookup</span></span>.hs, interpreted ) <span class="hljs-type"><span class="hljs-type">Ok</span></span>, one <span class="hljs-keyword"><span class="hljs-keyword">module</span></span> loaded. *ListLookup&gt; :set -XTypeApplications -XDataKinds *ListLookup&gt; lookupS (<span class="hljs-title"><span class="hljs-title">sing</span></span> @["<span class="hljs-title"><span class="hljs-title">x</span></span>", "<span class="hljs-title"><span class="hljs-title">y</span></span>", "<span class="hljs-title"><span class="hljs-title">z</span></span>"]) FZ "x" *ListLookup&gt; lookupS (<span class="hljs-title"><span class="hljs-title">sing</span></span> @["<span class="hljs-title"><span class="hljs-title">x</span></span>", "<span class="hljs-title"><span class="hljs-title">y</span></span>", "<span class="hljs-title"><span class="hljs-title">z</span></span>"]) (<span class="hljs-type"><span class="hljs-type">FS</span></span> <span class="hljs-type"><span class="hljs-type">FZ</span></span>) "y" *ListLookup&gt; lookupS (<span class="hljs-title"><span class="hljs-title">sing</span></span> @["<span class="hljs-title"><span class="hljs-title">x</span></span>", "<span class="hljs-title"><span class="hljs-title">y</span></span>", "<span class="hljs-title"><span class="hljs-title">z</span></span>"]) (<span class="hljs-type"><span class="hljs-type">FS</span></span> (<span class="hljs-type"><span class="hljs-type">FS</span></span> <span class="hljs-type"><span class="hljs-type">FZ</span></span>)) "z" *ListLookup&gt; lookupS (<span class="hljs-title"><span class="hljs-title">sing</span></span> @["<span class="hljs-title"><span class="hljs-title">x</span></span>", "<span class="hljs-title"><span class="hljs-title">y</span></span>", "<span class="hljs-title"><span class="hljs-title">z</span></span>"]) (<span class="hljs-type"><span class="hljs-type">FS</span></span> (<span class="hljs-type"><span class="hljs-type">FS</span></span> (<span class="hljs-type"><span class="hljs-type">FS</span></span> <span class="hljs-type"><span class="hljs-type">FZ</span></span>))) &lt;interactive&gt;:5:34: error: โข Couldn't match type ''S n0' with ''Z' Expected type: Fin (<span class="hljs-type"><span class="hljs-type">Len</span></span> '["<span class="hljs-title"><span class="hljs-title">x</span></span>", "<span class="hljs-title"><span class="hljs-title">y</span></span>", "<span class="hljs-title"><span class="hljs-title">z</span></span>"]) Actual type: Fin ('<span class="hljs-type"><span class="hljs-type">S</span></span> ('<span class="hljs-type"><span class="hljs-type">S</span></span> ('<span class="hljs-type"><span class="hljs-type">S</span></span> ('<span class="hljs-type"><span class="hljs-type">S</span></span> <span class="hljs-title"><span class="hljs-title">n0</span></span>)))) โข In the second argument of 'lookupS', namely '(<span class="hljs-type"><span class="hljs-type">FS</span></span> (<span class="hljs-type"><span class="hljs-type">FS</span></span> (<span class="hljs-type"><span class="hljs-type">FS</span></span> <span class="hljs-type"><span class="hljs-type">FZ</span></span>)))' In the expression: lookupS (<span class="hljs-title"><span class="hljs-title">sing</span></span> @["<span class="hljs-title"><span class="hljs-title">x</span></span>", "<span class="hljs-title"><span class="hljs-title">y</span></span>", "<span class="hljs-title"><span class="hljs-title">z</span></span>"]) (<span class="hljs-type"><span class="hljs-type">FS</span></span> (<span class="hljs-type"><span class="hljs-type">FS</span></span> (<span class="hljs-type"><span class="hljs-type">FS</span></span> <span class="hljs-type"><span class="hljs-type">FZ</span></span>))) In an equation for 'it': it = lookupS (<span class="hljs-title"><span class="hljs-title">sing</span></span> @["<span class="hljs-title"><span class="hljs-title">x</span></span>", "<span class="hljs-title"><span class="hljs-title">y</span></span>", "<span class="hljs-title"><span class="hljs-title">z</span></span>"]) (<span class="hljs-type"><span class="hljs-type">FS</span></span> (<span class="hljs-type"><span class="hljs-type">FS</span></span> (<span class="hljs-type"><span class="hljs-type">FS</span></span> <span class="hljs-type"><span class="hljs-type">FZ</span></span>)))</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุถุญ ูุฐุง ุงููุซุงู ุฃู ุงูุฌุฏูู ูุง ุชุนูู ุงูุนูููุฉ.  ุฃูุง ุณุนูุฏ ูุฃู ูุฏู ูุงุณูู ูุฏุฑุงุช ูุบููุฉ ูุชูููุฐ <code>lookupS</code> ุ ููู ูู ููุณ ุงูููุช ุฃุดุนุฑ ุจุงูููู ุฅุฒุงุก ุงูุชุนููุฏ ุบูุฑ ุงูุถุฑูุฑู ุงูุฐู ููุดุฃ.  ุฎุงุฑุฌ ุงููุดุฑูุนุงุช ุงูุจุญุซูุฉ ุ ูุง ุฃูุตู ุจูุฐุง ุงูููุท ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุจุงูุฐุงุช ุ ูููู ุฃู ูุญูู ููุณ ุงููุชูุฌุฉ ุจุชูููู ุงูุชุนููุฏ ุจุงุณุชุฎุฏุงู ูุชุฌูุงุช ูููุฑุณุฉ ุงูุทูู.  ููุน ุฐูู ุ ูุฅู ุชุฑุฌูุฉ ุงูุดูุฑุฉ ุงููุจุงุดุฑุฉ ูู Agda ุชูุดู ุจุดูู ุฃูุถู ุนู ุงููุดููุงุช ุงูุชู ูุฌุจ ุฃู ุชูุงุฌููุง ูู ุธุฑูู ุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูุคูุงุก ุจุนุถ ูููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุฎุชูู ุนูุงูุฉ ุงููุชุงุจุฉ <code>a :: t</code> ูุนูุงูุฉ ุงููุฌูุฉ ูููููุฐุฌ <code>t :: k</code> .  <code>5 :: Integer</code> ุตุญูุญ ูู ุญูุซ ุ ูููู ููุณ ูู ุงูุฃููุงุน.  <code>"hi" :: Symbol</code> ุตุญูุญ ูู ุงูุฃููุงุน ุ ููู ููุณ ูู ุงููุงุญูุฉ.  ูุฐุง ูุชุทูุจ <code>Demote</code> ููุน <code>Demote</code> ูุชุนููู ุฃููุงุน <code>Demote</code> ูุฃููุงุนูุง. </li><li style=";text-align:right;direction:rtl">  ุชุณุชุฎุฏู ุงูููุชุจุฉ ุงูููุงุณูุฉ <code>Int</code> ูููุงุฑุณ ุงููุงุฆูุฉ (ูุชุณุชุฎุฏู <code>singletons</code> <code>Nat</code> ูู ุงูุชุนุงุฑูู ุงููุฑุชูุนุฉ).  <code>Int</code> ู <code>Nat</code> ุฃููุงุน ุบูุฑ ุญุซู.  ุนูู ุงูุฑุบู ูู ููููุง ุฃูุซุฑ ููุงุกุฉ ูู ุงูุชุฑููุฒ ุงูุฃุญุงุฏู ููุฃุฑูุงู ุงูุทุจูุนูุฉ ุ ุฅูุง ุฃููุง ูุง ุชุนูู ุจุดูู ุฌูุฏ ูุน ุงูุชุนุฑููุงุช ุงูุงุณุชูุฑุงุฆูุฉ ูุซู <code>Fin</code> ุฃู <code>lookupS</code> .  ูุจุณุจุจ ูุฐุง ุ ูุฅููุง ูุนูุฏ ุชุญุฏูุฏ <code>length</code> <code>len</code> . </li><li style=";text-align:right;direction:rtl">  ููุณ ูุฏู Haskell ุขููุงุช ูุฏูุฌุฉ ูุฑูุน ุงููุธุงุฆู ุฅูู ูุณุชูู ุงูุฃููุงุน.  <code>singletons</code> ูุนุงุฆูุงุช ูู ุงูููุน ุงูุฎุงุต ูุชุทุจู ูุธุงุฆู ููุชุญุงูู ุนูู ุนุฏู ุงูุงุณุชุฎุฏุงู ุงูุฌุฒุฆู ูุนุงุฆูุงุช ุงูููุน.  ูุฐุง ุงูุชุฑููุฒ ูุนูุฏ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุงู ุนูููุง ุฃู ูุถุน ุชุนุฑูู <code>len</code> ูู ุงูุชุจุงุณ Template Haskell ุญุชู ูููุฏ <code>singletons</code> ูุธูุฑู ุนูู ูุณุชูู ุงูููุน ุ <code>Len</code> . </li><li style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ูุธุงุฆู ุชุงุจุนุฉ ูุฏูุฌุฉ.  ุนูู ุงููุฑุก ุงุณุชุฎุฏุงู <a href="https://repository.brynmawr.edu/cgi/viewcontent.cgi%3Farticle%3D1009%26context%3Dcompsci_pubs" rel="nofollow">ุฃููุงุน ุงููุญุฏุงุช</a> ูุณุฏ ุงููุฌูุฉ ุจูู ุงููุตุทูุญุงุช ูุงูุฃููุงุน.  ุจุฏูุงู ูู ุงููุงุฆูุฉ ุงููุนุชุงุฏุฉ ุ ูููู ุจุชูุฑูุฑ <code>SList</code> ุฅูู ูุฏุฎูุงุช ุงูุจุญุซ.  ูุฐูู ุ ูุฌุจ ุฃู ูุถุน ูู ุงูุงุนุชุจุงุฑ ุงูุนุฏูุฏ ูู ุงูุชุนุงุฑูู ููููุงุฆู ูู ููุช ูุงุญุฏ.  ููุง ุฃูู ูุคุฏู ุฅูู ุงููููุงุช ุงูุนุงูุฉ ุฃุซูุงุก ุชูููุฐ ุงูุจุฑูุงูุฌ.  ุชูุดุฃ ุจุณุจุจ ุงูุชุญููู ุจูู ุงูููู ุงูุนุงุฏูุฉ ูููู ุฃููุงุน ุงููุญุฏุงุช ( <code>toSing</code> ุ <code>fromSing</code> ) ูุจุณุจุจ ููู ุฅุฌุฑุงุก ุงูุชุญููู (ุชูููุฏ <code>SingKind</code> ). </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุฅุฒุนุงุฌ ูู ุงููุดููุฉ ุงูุฃูู.  ูุงูุฃุณูุฃ ูู ุฐูู ุ ุฃู ููุฒุงุช ุงููุบุฉ ูุฐู ุบูุฑ ููุซููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฃุจูุบุช ุนู ุงููุดููุฉ <a href="https://gitlab.haskell.org/ghc/ghc/issues/12564" rel="nofollow">ุฑูู 12564</a> ูู ุนุงู 2016 ุ ูููุงู ุฃูุถูุง <a href="https://gitlab.haskell.org/ghc/ghc/issues/12088" rel="nofollow">ุฑูู 12088</a> ูู ููุณ ุงูุนุงู.  ุชุนูู ููุชุง ุงููุดููุชูู ุชูููุฐ ุจุฑุงูุฌ ุฃูุซุฑ ุชูุฏููุง ูู ุฃูุซูุฉ ูู ุงููุชุจ ุงููุฏุฑุณูุฉ (ูุซู ููุงุฆู ุงูููุฑุณุฉ).  ูุง ุชุฒุงู ุฃุฎุทุงุก ูุธุงู GHC ูุฐู ุบูุฑ ุซุงุจุชุฉ ุ ูุงูุณุจุจ ุ ููุง ูุจุฏู ูู ุ ูู ุฃู ุงููุทูุฑูู ูุง ูููููู ููุชูุง ูุงูููุง.  ุนุฏุฏ ุงูุฃุดุฎุงุต ุงูุฐูู ูุนูููู ุจูุดุงุท ุนูู GHC ุตุบูุฑ ุจุดูู ูุฏูุด ุ ูุฐูู ูุง ุชุชูุงุฏู ุจุนุถ ุงูุฃุดูุงุก. </p><br><h2 id="rezyume" style=";text-align:right;direction:rtl">  ููุฎุต </h2><br><p style=";text-align:right;direction:rtl">  ุฐูุฑุช ูู ููุช ุณุงุจู ุฃููุง ูุฑูุฏ ุงูุฎุตุงุฆุต ุงูุซูุงุซุฉ ูู ุงูููุฏ ุ ูุฐูู ููุฌุฏ ููุง ุฌุฏูู ููุถุญ ุงูุญุงูุฉ ุงูุฑุงููุฉ: </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th></th><th>  ูุนูุงุฑ ูุงุณูู </th><th>  AGDA </th><th>  ูุงุณูู ูุน ููุญูุงุช </th></tr></thead><tbody><tr><td>  ุจูุฆุฉ ุงูุนูู ูุงูุตูุงูุฉ </td><td>  + </td><td>  + </td><td>  - </td></tr><tr><td>  ุฅูุชุงุฌูุฉ </td><td>  + </td><td>  - </td><td>  + </td></tr><tr><td>  ุตุญุฉ ูุถูููุฉ ุจูุงุณุทุฉ ุทุฑููุฉ ุงูุตูุงุบุฉ </td><td>  - </td><td>  + </td><td>  + </td></tr></tbody></table></div><br><h1 id="svetloe-buduschee" style=";text-align:right;direction:rtl">  ูุณุชูุจู ูุดุฑู </h1><br><p style=";text-align:right;direction:rtl">  ูู ุจูู ุงูุฎูุงุฑุงุช ุงูุซูุงุซุฉ ุงููุชุงุญุฉ ุ ููู ูููุง ุนููุจู.  ููุน ุฐูู ุ ูููููุง ุฅุตูุงุญูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู Haskell ุงูููุงุณู ูุฃุถู ุฃููุงุนูุง ูุณุชููุฉ ูุจุงุดุฑุฉู ุจุฏูุงู ูู ุงูุชุฑููุฒ ุบูุฑ ุงูููุงุณุจ ุนุจุฑ <code>singletons</code> .  (ูุงู ุฃุณูู ูู ุงูููุงู ุจู.) </li><li style=";text-align:right;direction:rtl">  ุฎุฐ Agda ูุชูููุฐ ููุดุฆ ุฑูุฒ ูุนุงู ู RTS ูุฐูู.  (ูุงู ุฃุณูู ูู ุงูููุงู ุจู.) </li><li style=";text-align:right;direction:rtl">  ุฎุฐ Haskell ูุน ููุญูุงุช ุ ูุฅุตูุงุญ ุงูุฎูู ูุงูุงุณุชูุฑุงุฑ ูู ุฅุถุงูุฉ ููุญูุงุช ุฌุฏูุฏุฉ ูุชุจุณูุท ุชุฑููุฒ ุงูุฃููุงุน ุงูุชุงุจุนุฉ.  (ูุงู ุฃุณูู ูู ุงูููุงู ุจู.) </li></ul><br><p style=";text-align:right;direction:rtl">  ูุงูุฎุจุฑ ุงูุณุงุฑ ูู ุฃู ุงูุฎูุงุฑุงุช ุงูุซูุงุซุฉ ุชุชูุงูู ุนูุฏ ููุทุฉ ูุงุญุฏุฉ (ุจูุนูู ูุง).  ุชุฎูู ุฃุตุบุฑ ุงูุชุฏุงุฏ ูู Haskell ุงูููุงุณู ุงูุฐู ูุถูู ุฃููุงุนูุง ุชุงุจุนุฉ ุ ูุจุงูุชุงูู ุ ูุณูุญ ูู ุจุถูุงู ุตุญุฉ ุงูููุฏ ุจุงูุทุฑููุฉ ุงูููุชูุจุฉ ุจู.  ูููู ุชุฌููุน ููุฏ <code>unsafeCoerce</code> (ูููู) ุฅูู ูุฐู ุงููุบุฉ ุฏูู <code>unsafeCoerce</code> .  ู Haskell ูุน ุงูุงูุชุฏุงุฏุงุช ุ ุฅูู ุญุฏ ูุง ุ ูู ูููุฐุฌ ุบูุฑ ููุชูู ููุฐู ุงููุบุฉ.  ูุฌุจ ุชุญุณูู ุดูุก ูุง ุ ููุฌุจ ุฅุฒุงูุฉ ุดูุก ูุง ุ ูููู ูู ุงูููุงูุฉ ุ ุณูุญูู ุงููุชูุฌุฉ ุงููุฑุฌูุฉ. </p><br><h2 id="izbavlenie-ot-singletons" style=";text-align:right;direction:rtl">  ุงูุชุฎูุต ูู <code>singletons</code> </h2><br><p style=";text-align:right;direction:rtl">  ูุคุดุฑ ุฌูุฏ ููุชูุฏู ูู ุชุจุณูุท ููุชุจุฉ <code>singletons</code> .  ูุธุฑูุง ูุฃูู ูุชู ุชูููุฐ ุฃููุงุน ุชุงุจุนุฉ ูู Haskell ุ ูู ุชุนุฏ ููุงู ุญุงุฌุฉ ุฅูู ุญููู ุฎุงุตุฉ ููุนุงูุฌุฉ ุฎุงุตุฉ ููุญุงูุงุช <code>singletons</code> .  ูู ุงูููุงูุฉ ุ ุณุชุฎุชูู ุงูุญุงุฌุฉ ุฅูู ูุฐู ุงูุญุฒูุฉ ุชูุงููุง.  ุนูู ุณุจูู ุงููุซุงู ุ ูู ุนุงู 2016 ุ ุจุงุณุชุฎุฏุงู ููุญู <code>-XTypeInType</code> ููุช <a href="https://github.com/goldfirere/singletons/pull/148/files" rel="nofollow">ุจุฅุฒุงูุฉ KProxy</a> ูู <code>SingKind</code> ู <code>SomeSing</code> .  ุชู ุฅุฌุฑุงุก ูุฐุง ุงูุชุบููุฑ ูู ุฎูุงู ุงุชุญุงุฏ ุงูุฃููุงุน ูุงูุฃููุงุน.  ูุงุฑู ุจูู ุงูุชุนุฑููุงุช ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">kparam</span></span></span><span class="hljs-class"> ~ '</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">KProxy</span></span></span><span class="hljs-class">) =&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SingKind</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">kparam</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">KProxy</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">DemoteRep</span></span></span><span class="hljs-class"> kparam :: * fromSing :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SingKind</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> :: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">DemoteRep</span></span></span><span class="hljs-class"> kparam toSing :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">DemoteRep</span></span></span><span class="hljs-class"> kparam -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SomeSing</span></span></span><span class="hljs-class"> kparam </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Demote</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> :: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">) = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">DemoteRep</span></span></span><span class="hljs-class"> ('</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">KProxy</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">KProxy</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SomeSing</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">kproxy</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">KProxy</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">) where </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SomeSing</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Sing</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> :: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SomeSing</span></span></span><span class="hljs-class"> ('</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">KProxy</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">KProxy</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">)</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงูุชุนุฑููุงุช ุงููุฏููุฉ ุ ูุญุฏุซ <code>k</code> ุจุดูู ุญุตุฑู ูู ููุงุถุน ุงูุนุฑุถ ุ ุฅูู ูููู ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ูููููุฐุฌ <code>t :: k</code> .  ูุญู ูุณุชุฎุฏู <code>kparam :: KProxy k</code> ูููู <code>k</code> ุฅูู ุงูุฃููุงุน. </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SingKind</span></span></span><span class="hljs-class"> k </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">DemoteRep</span></span></span><span class="hljs-class"> k :: * fromSing :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SingKind</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> :: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">DemoteRep</span></span></span><span class="hljs-class"> k toSing :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">DemoteRep</span></span></span><span class="hljs-class"> k -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SomeSing</span></span></span><span class="hljs-class"> k </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Demote</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> :: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">) = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">DemoteRep</span></span></span><span class="hljs-class"> k </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SomeSing</span></span></span><span class="hljs-class"> k where </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SomeSing</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Sing</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> :: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SomeSing</span></span></span><span class="hljs-class"> k</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงูุชุนุงุฑูู ุงูุฌุฏูุฏุฉ ุ ุชูุชูู <code>k</code> ุจุญุฑูุฉ ุจูู ุนุฑุถ ูููุน ุงูููุงุถุน ุ ูุฐูู ูู ูุนุฏ ุจุญุงุฌุฉ ุฅูู <code>KProxy</code> .  ูุงูุณุจุจ ูู ุฃูู ุ ุจุฏุกูุง ูู GHC 8.0 ุ ุชูุฏุฑุฌ ุงูุฃููุงุน ูุงูุฃููุงุน ูู ููุณ ุงููุฆุฉ ุงููุญููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุซูุงุซุฉ ุนูุงูู ูููุตูุฉ ุชูุงููุง ูู Haskell ุงูููุงุณูุฉ: ุงููุตุทูุญุงุช ุ ุงูุฃููุงุน ุ ูุฌูุงุช ุงููุธุฑ.  ุฅุฐุง ูุธุฑุช ุฅูู ุงูููุฏ ุงููุตุฏุฑู ูู GHC 7.10 ุ ููููู ุฑุคูุฉ <a href="" rel="nofollow">ูุญูู</a> ูููุตู ููุฌูุงุช ุงููุธุฑ <a href="" rel="nofollow">ููุญุต</a> ูููุตู.  ูู ูุนุฏ ูุฏููู GHC 8.0: ูุนุฏ <a href="" rel="nofollow">ุงููุญูู ุงููุบูู</a> <a href="" rel="nofollow">ูุงูุชุญูู ูู ุตุญุฉ</a> ุงูุฃููุงุน ูุทุฑู ุงูุนุฑุถ ุดุงุฆุนูุง. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d01/37e/387/d0137e3870470beb4b2aee56240926cf.jpg"></p><br><p style=";text-align:right;direction:rtl">  ูู Haskell ูุน ุงูุฅุถุงูุงุช ุ ูุนุฏ ุงูุนุฑุถ ูุฌุฑุฏ ุงูุฏูุฑ ุงูุฐู ููุนุจู ุงูููุน: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">f</span></span> :: <span class="hljs-type"><span class="hljs-type">T</span></span> z -&gt; ... <span class="hljs-comment"><span class="hljs-comment">-- 'z'   g :: T (a :: z) -&gt; ... -- 'z'   h :: T z -&gt; T (a :: z) -&gt; ... -- 'z'   ,  </span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู GHC 8.0-8.4 ุ ูุง ุชุฒุงู ููุงู ุจุนุถ ุงูุงุฎุชูุงูุงุช ุจูู ุชุญููู ุงูุงุณู ูู ุงูุฃููุงุน ูุงูุฃููุงุน.  ููููู ููุช <code>StarIsType</code> ุฅูู GHC 8.6: ููุช ุจุฅูุดุงุก ููุญู <code>TypeInType</code> ูุฃุฏุฎูุช ูุธููุฉ <code>PolyKinds</code> ูู <code>PolyKinds</code> .  ุงูุฎูุงูุงุช ุงููุชุจููุฉ <a href="https://github.com/ghc/ghc/commit/8df24474d0194d28b8273c1539af05793156e23f" rel="nofollow">ุงูุชู</a> ูุฌูุชูุง ุฅูู GHC 8.8 ุ ูุชู <a href="https://github.com/ghc/ghc/commit/5bc195b1fe788e9a900a15fbe473967850517c3e" rel="nofollow">ุฅุฒุงูุชูุง ุชูุงููุง</a> ูู GHC 8.10 </p><br><p style=";text-align:right;direction:rtl">  ูุง ูู ุงูุฎุทูุฉ ุงูุชุงููุฉุ  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู <code>SingKind</code> ูู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู <code>singletons</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SingKind</span></span></span><span class="hljs-class"> k </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Demote</span></span></span><span class="hljs-class"> k = (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">r</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Type</span></span></span><span class="hljs-class">) | r -&gt; k fromSing :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Sing</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> :: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Demote</span></span></span><span class="hljs-class"> k toSing :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Demote</span></span></span><span class="hljs-class"> k -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SomeSing</span></span></span><span class="hljs-class"> k</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>Demote</code> ููุน <code>Demote</code> ุถุฑูุฑูุฉ ูุญุณุงุจ ุงูุชุจุงููุงุช ุจูู ุนูุงูุฉ ุงููุชุงุจุฉ <code>a :: t</code> ูุนูุงูุฉ ุงููุฌูุฉ ูููููุฐุฌ <code>t :: k</code> .  ูู ูุนุธู ุงูุฃุญูุงู (ูุฃููุงุน ุงูุจูุงูุงุช ุงูุฌุจุฑูุฉ) ุ ูุนุฏ <code>Demote</code> ุจูุซุงุจุฉ ูุฎุทุท <code>Demote</code> ุงููููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>type Demote Bool = Bool</code> </li> <li style=";text-align:right;direction:rtl"> <code>type Demote [a] = [Demote a]</code> </li> <li style=";text-align:right;direction:rtl"> <code>type Demote (Either ab) = Either (Demote a) (Demote b)</code> </li> </ul><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ <code>Demote (Either [Bool] Bool) = Either [Bool] Bool</code> .  ูุฐู ุงูููุงุญุธุฉ ุชุทุงูุจูุง ุจุงูููุงู ุจุงูุชุจุณูุท ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SingKind</span></span></span><span class="hljs-class"> k </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fromSing :: <span class="hljs-type"><span class="hljs-type">Sing</span></span> (a :: k) -&gt; k toSing :: k -&gt; <span class="hljs-type"><span class="hljs-type">SomeSing</span></span> k</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุณุช ููุงู ุญุงุฌุฉ <code>Demote</code> !  ููู ุงููุงูุน ุ ูุฏ ููุฌุญ ูุฐุง ูุน ูู ูู <code>Either [Bool] Bool</code> ูุฃููุงุน ุงูุจูุงูุงุช ุงูุฌุจุฑูุฉ ุงูุฃุฎุฑู.  ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ููุน ุฐูู ุ ูุฅููุง ูุชุนุงูู ูุน ุฃููุงุน ุงูุจูุงูุงุช ุบูุฑ ุงูุฌุจุฑูุฉ: <code>Integer,</code> <code>Natural</code> ุ <code>Char</code> ุ <code>Text</code> ุ ูููู ุฌุฑุง.  ุฅุฐุง ุชู ุงุณุชุฎุฏุงููุง ูููุน ุ ููู ุบูุฑ ูุฃูููุฉ ุจุงูุณูุงู: <code>1 :: Natural</code> ุตุญูุญ ุนูู ูุณุชูู ุงููุตุทูุญุงุช ุ ูููู ููุณ ุนูู ูุณุชูู ุงูุฃููุงุน.  ููุฐุง ุงูุณุจุจ ุ ูุญู ูุชุนุงูู ูุน ูุซู ูุฐู ุงูุชุนุฑููุงุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Demote</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Nat</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Natural</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Demote</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Symbol</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Text</span></span></span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุญู ููุฐู ุงููุดููุฉ ูู ุฑูุน ุฃููุงุน ุจุฏุงุฆูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ <code>Text</code> ุชุนุฑูู <code>Text</code> ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-comment"><span class="hljs-comment">-- | A space efficient, packed, unboxed Unicode text type. data Text = Text {-# UNPACK #-} !Array -- payload (Word16 elements) {-# UNPACK #-} !Int -- offset (units of Word16, not Char) {-# UNPACK #-} !Int -- length (units of Word16, not Char) data Array = Array ByteArray# data Int = I# Int#</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูููุง ุจุฑูุน <code>ByteArray#</code> ู <code>Int#</code> ุจุดูู ุตุญูุญ ุฅูู ูุณุชูู ุงูุฃููุงุน ุ ููููููุง ุงุณุชุฎุฏุงู <code>Text</code> ุจุฏูุงู ูู <code>Symbol</code> .  ูู ุฎูุงู ุงูููุงู ุจุงูุดูุก ููุณู ูุน <code>Natural</code> ูุฑุจูุง ุจุถุนุฉ ุฃููุงุน ุฃุฎุฑู ุ ููููู ุงูุชุฎูุต ูู <code>Demote</code> ุ ุฃููุณ ูุฐููุ </p><br><p style=";text-align:right;direction:rtl">  ููุฃุณู ุ ููุณ ูุฐูู.  ูู ูุง ุณุจู ุ ุบุถุช ุงูุทุฑู ุนู ุฃูู ุฃููุงุน ุงูุจูุงูุงุช: ุงููุธุงุฆู.  ูุฏููู ุฃูุถูุง ูุซูู <code>Demote</code> ุฎุงุต: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Demote</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k1</span></span></span><span class="hljs-class"> ~&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k2</span></span></span><span class="hljs-class">) = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Demote</span></span></span><span class="hljs-class"> k1 -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Demote</span></span></span><span class="hljs-class"> k2 </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span><span class="hljs-class"> a ~&gt; b = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">TyFun</span></span></span><span class="hljs-class"> ab -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Type</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">TyFun</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Type</span></span></span><span class="hljs-class"> -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Type</span></span></span><span class="hljs-class"> -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Type</span></span></span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>~&gt;</code> ูุฐุง ูู ุงูููุน ุงูุฐู ูุชู ุจู ุชุฑููุฒ ูุธุงุฆู ูุณุชูู ุงููุชุงุจุฉ ูู ุฃุญุฑู ููุฑุฏุฉ ุจูุงุกู ุนูู ุนุงุฆูุงุช ูู ุงูููุน ุงูุฎุงุต ูุงูุชุดุบูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุจุฏุงูุฉ ุ ูุฏ ูุจุฏู ุงูุฌูุน ุจูู <code>~&gt;</code> ู <code>-&gt;</code> ููุฑุฉ ุฌูุฏุฉ ุ ูุฃู ููุงููุง ูุนูู ุงูููุน (ุงูููุน) ูู ุงููุธููุฉ.  ุงููุดููุฉ ูู ุฃู <code>-&gt;</code> ูู ููุถุน ุงููุชุงุจุฉ ู <code>-&gt;</code> ูู ููุถุน ุงูุนุฑุถ ุชุนูู ุฃุดูุงุก ูุฎุชููุฉ.  ุนูู ูุณุชูู ุงููุฏู ุ ุชููู ุฌููุน ุงููุธุงุฆู ูู <code>a</code> ุฅูู <code>b</code> ูู ุงูููุน <code>a -&gt; b</code> .  ุนูู ูุณุชูู ุงููุชุงุจุฉ ุ ูููู <em>ุงููููุดุฆูู</em> ููุท ูู <code>a</code> ุฅูู <code>b</code> ูู ูู ุงูููุน <code>a -&gt; b</code> ุ ููููู ููุณูุง ูุฑุงุฏูุงุช ููุฃููุงุน ูููุณูุง ุนุงุฆูุงุช.  ูู ุฃุฌู ุงุณุชูุชุงุฌ ุงูุฃููุงุน ุ ููุชุฑุถ GHC ุฃู <code>f ~ g</code> ู <code>a ~ b</code> ูุชุจุนุงู <code>fa ~ gb</code> ุ ููุฐุง ุตุญูุญ ุจุงููุณุจุฉ ูููููุดุฆูู ุ ูููู ููุณ ูููุธุงุฆู - ูููุฐุง ุงูุณุจุจ ููุฌุฏ ูููุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูู ุฃุฌู ุฑูุน ุงููุธุงุฆู ุฅูู ูุณุชูู ุงูุฃููุงุน ุ ูููู ููุญูุงุธ ุนูู ุงุณุชูุชุงุฌ ุงููุชุงุจุฉ ุ ุณูุชุนูู ุนูููุง ููู ุงูููุดุฆุงุช ุฅูู ููุน ูููุตู.  ูุณูููุง <code>a :-&gt; b</code> ุ ูุฃูู ุณูููู ุตุญูุญูุง ุญููุง ุฃู <code>f ~ g</code> ู <code>a ~ b</code> ูุชุจุน ูู <code>fa ~ gb</code> .  ุณุชุธู ุงููุธุงุฆู ุงูุฃุฎุฑู ูู ุงูููุน <code>a -&gt; b</code> .  ุนูู ุณุจูู ุงููุซุงู ุ <code>Just :: a :-&gt; Maybe a</code> ุ ููู ูู ุงูููุช ููุณู <code>isJust :: Maybe a -&gt; Bool</code> . </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุงูุชูุงุก ูู <code>Demote</code> ุ ูุฅู ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ูู ุงูุชุฎูุต ูู <code>Sing</code> ููุณู.  ููููุงู ุจุฐูู ุ ูุญุชุงุฌ ุฅูู ูููุงุณ ุฌุฏูุฏ ุ ูุฌูู ุจูู <code>forall</code> ู <code>-&gt;</code> .  ุฏุนููุง ูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ูุธููุฉ isJust: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">isJust</span></span> :: <span class="hljs-keyword"><span class="hljs-keyword">forall</span></span> a. <span class="hljs-type"><span class="hljs-type">Maybe</span></span> a -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span> isJust = \x -&gt; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">False</span></span> <span class="hljs-type"><span class="hljs-type">Just</span></span> _ -&gt; <span class="hljs-type"><span class="hljs-type">True</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู <code>isJust</code> ูุธููุฉ <code>isJust</code> ุจุงูููุน <code>a</code> ุซู ุจุงููููุฉ <code>x :: Maybe a</code> .  ูุฐู ุงููุนููุชูู ููุง ุฎุตุงุฆุต ูุฎุชููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุถูุญ.  ูู <code>isJust (Just "hello")</code> ุ ูุนุจุฑ <code>x = Just "hello"</code> ุจุดูู ุตุฑูุญ ุ ู <code>a = String</code> ูุชู ุฅุฎุฑุงุฌูุง ุถููููุง ุจูุงุณุทุฉ ุงููุญูู ุงูุจุฑูุฌู.  ูู Haskell ุงูุญุฏูุซุฉ ุ ูููููุง ุฃูุถูุง ูุฑุถ ุงูุชูุฑูุฑ ุงูุตุฑูุญ ูููุชุง ุงููุนููุชูู: <code>isJust @String (Just "hello")</code> . </li><li style=";text-align:right;direction:rtl">  ุฃูููุชูุง.  ุณูุชู ุฃูุถูุง ููู ุงููููุฉ ุงูุชู ุชู ุชูุฑูุฑูุง ุฅูู ุงูุฅุฏุฎุงู ุฅูู <code>isJust</code> ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฃุซูุงุก ุชูููุฐ ุงูุจุฑูุงูุฌ: ููุญู <code>isJust</code> ูุน <code>case</code> ููุชุญูู ูู ุฃูู <code>Nothing</code> ุฃู <code>Just</code> .  ูุฐูู ุ ุชุนุชุจุฑ ุงููููุฉ ุฐุงุช ุตูุฉ.  ูููู ูุชู ูุณุญ ููุนู ููุง ูููู ููุงุฑูุชู ุจุงูููุท: ุชุชุนุงูู ุงููุธููุฉ ูุน <code>Maybe Int</code> ุ ู <code>Maybe String</code> ุ ู <code>Maybe Bool</code> ุ ุฅูุฎ.  ูุฐูู ุ ููู ูุนุชุจุฑ ุบูุฑ ุฐู ุตูุฉ.  ูุชุณูู ูุฐู ุงูุฎุงุตูุฉ ุฃูุถุง parametricity. </li><li style=";text-align:right;direction:rtl">  ุงูุงุนุชูุงุฏ.  ูู <code>forall a. t</code>  <code>forall a. t</code> ุ ูุฏ ูุดูุฑ ุงูููุน <code>t</code> ุฅูู <code>a</code> ุ ูุจุงูุชุงูู ุ ูุนุชูุฏ ุนูู ุงููุนุจุฑ ุงูุฎุงุต <code>a</code> .  ุนูู ุณุจูู ุงููุซุงู ุ <code>isJust @String</code> ูู ุงูููุน <code>Maybe String -&gt; Bool</code> ุ ู <code>isJust @Int</code> ูู ุงูููุน <code>Maybe Int -&gt; Bool</code> .  ููุฐุง ูุนูู ุฃู <code>forall</code> ูู ุงูููู <code>forall</code> .  ูุงุญุธ ุงููุฑู ูุน ูุนููุฉ ุงููููุฉ: ูุง ููู ูุง ุฅุฐุง ููุง ูุณูููุง <code>isJust (Just โฆ)</code> <code>isJust Nothing</code> ุฃู <code>isJust (Just โฆ)</code> ุ ููุน ุงููุชูุฌุฉ ูู ุฏุงุฆููุง <code>Bool</code> .  ูุฐูู ุ <code>-&gt;</code> ูู ุงูููู ุงููุณุชูู. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฅุฎุฑุงุฌ <code>Sing</code> ุ ูุญุชุงุฌ ุฅูู ุฃุฏุงุฉ ููุงุณ ูููุฉ ุตุฑูุญุฉ ูุฐุงุช ุตูุฉ ุ ูุซู <code>a -&gt; b</code> ุ ููู ุงูููุช ููุณู ุชุนุชูุฏ ุ ูุซู <code>forall (a :: k). t</code>  <code>forall (a :: k). t</code> .  ุชุฏู ุนูู ุฃููุง <code>foreach (a :: k) -&gt; t</code> .  ูุฅุฎุฑุงุฌ <code>SingI</code> ุ ููุฏู ุฃูุถูุง <code>SingI</code> ุชุงุจุนูุง ุฐู ุตูุฉ ุถููููุง ุ <code>foreach (a :: k). t</code>  <code>foreach (a :: k). t</code> .  ูุชูุฌุฉ ูุฐูู ุ ูู ุชููู ููุงู ุญุงุฌุฉ ุฅูู ููุฑุฏุงุช ูุฃููุง ุฃุถููุง ููุชู ูุธุงุฆู ุชุงุจุนุฉ ุฅูู ุงููุบุฉ. </p><br><h2 id="kratkiy-vzglyad-na-haskell-s-zavisimymi-tipami" style=";text-align:right;direction:rtl">  ูุธุฑุฉ ุณุฑูุนุฉ ุนูู ูุงุณูู ูุน ุฃููุงุน ุชุงุจุนุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูุน ุตุนูุฏ ุงููุธุงุฆู ุฅูู ูุณุชูู ุงูุฃููุงุน <code>lookupS</code> ุ ูููููุง ุฅุนุงุฏุฉ ูุชุงุจุฉ <code>lookupS</code> ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">N</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Z</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">SN</span></span></span><span class="hljs-class"> len :: [a] -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">N</span></span></span><span class="hljs-class"> len [] = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Z</span></span></span><span class="hljs-class"> len (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">_</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xs</span></span></span><span class="hljs-class">) = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">S</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">len</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xs</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fin</span></span></span><span class="hljs-class"> n where </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">FZ</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fin</span></span></span><span class="hljs-class"> (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">S</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">n</span></span></span><span class="hljs-class">) </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">FS</span></span></span><span class="hljs-class"> :: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fin</span></span></span><span class="hljs-class"> n -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fin</span></span></span><span class="hljs-class"> (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">S</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">n</span></span></span><span class="hljs-class">) lookupS :: foreach (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xs</span></span></span><span class="hljs-class"> :: [</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">]) -&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fin</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">len</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xs</span></span></span><span class="hljs-class">) -&gt; a lookupS [] = \case{} lookupS (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xs</span></span></span><span class="hljs-class">) = \case </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">FZ</span></span></span><span class="hljs-class"> -&gt; x </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">FS</span></span></span><span class="hljs-class"> i' -&gt; lookupS xs i'</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงุฎุชุตุงุฑ ุ ูู ููุนู ุงูููุฏ ุ ููู <code>singletons</code> ุฌูุฏุฉ ูู ุฅุฎูุงุก ุงูุดูุฑุฉ ุงูุฒุงุฆุฏุฉ ุนู ุงูุญุงุฌุฉ.  ููุน ุฐูู ุ ูุฅู ุงูููุฏ ุงูุฌุฏูุฏ ุฃุจุณุท ุจูุซูุฑ: ูู ูุนุฏ ููุงู <code>SingKind</code> ุ <code>SList</code> ุ <code>SNil</code> ุ <code>SCons</code> ุ <code>fromSing</code> ุ <code>fromSing</code> .  ูุง ููุฌุฏ ุงุณุชุฎุฏุงู ูู <code>TemplateHaskell</code> ุ ุญูุซ ูููููุง ุงูุขู ุงุณุชุฏุนุงุก ุงูุฏุงูุฉ <code>len</code> ูุจุงุดุฑุฉู ุจุฏูุงู ูู ุฅูุดุงุก ุนุงุฆูุฉ ููุน <code>Len</code> .  ุณูููู ุงูุฃุฏุงุก ุฃูุถูุง ุฃูุถู ุ ุญูุซ ุฃูู ูู ุชุนุฏ ุจุญุงุฌุฉ ุฅูู ุงูุชุญููู ูู <code>fromSing</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุง ูุฒุงู ูุชุนูู ุนูููุง ุฅุนุงุฏุฉ ุชุนุฑูู <code>length</code> ุฃูู <code>len</code> ูุฅุฑุฌุงุน <code>N</code> ูุนุฑู ุชุนุฑูููุงู ุจุฏูุงู ูู <code>Int</code> .  ุฑุจูุง ูุง ููุจุบู ุงุนุชุจุงุฑ ูุฐู ุงููุดููุฉ ูู ุฅุทุงุฑ ุฅุถุงูุฉ ุฃููุงุน ุชุงุจุนุฉ ุฅูู Haskell ุ ูุฃู Agda ูุณุชุฎุฏู ุฃูุถูุง <code>N</code> ูุญุฏุฏ ุชุนุฑูููุง ูู ูุธููุฉ <code>lookup</code> . </p><br><p style=";text-align:right;direction:rtl">  ูู ุจุนุถ ุงูุฌูุงูุจ ุ ุชุนุฏ Haskell ุฐุงุช ุงูุฃููุงุน ุงูุชุงุจุนุฉ ุฃุจุณุท ูู Haskell ุงูููุงุณูุฉ.  ูุง ูุฒุงู ุ ูู ุงููุตุทูุญุงุช ุ ูุชู ุฏูุฌ ุงูุฃููุงุน ูุงูุฃููุงุน ูู ูุบุฉ ูุงุญุฏุฉ ููุญุฏุฉ.  ูููููู ุจุณูููุฉ ุชุฎูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ูุฐุง ุงูููุท ูู ูุดุฑูุน ุชุฌุงุฑู ูุฅุซุจุงุช ุตุญุฉ ุงูููููุงุช ุงูุฃุณุงุณูุฉ ููุชุทุจููุงุช ุฑุณูููุง.  ูููู ุฃู ุชููุฑ ุงูุนุฏูุฏ ูู ููุชุจุงุช Haskell ูุงุฌูุงุช ุฃูุซุฑ ุฃูุงููุง ุฏูู ุชุนููุฏ <code>singletons</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ูููู ุณููุง.  ููุงุฌู ุงูุนุฏูุฏ ูู ุงููุดููุงุช ุงูููุฏุณูุฉ ุงูุชู ุชุคุซุฑ ุนูู ุฌููุน ููููุงุช GHC: ุงููุญูู ุงููุบูู ุ ุชุญููู ุงูุงุณู ุ ูุญุต ุงูููุน ุ ูุญุชู ุงููุบุฉ ุงูุฃุณุงุณูุฉ.  ูู ุดูุก ุณูู ุชุญุชุงุฌ ุฅูู ุชุนุฏูู ุ ุฃู ุญุชู ุฅุนุงุฏุฉ ุชุตููููุง ุจุงููุงูู. </p><br><hr><br><h1 id="tezaurus" style=";text-align:right;direction:rtl">  ูุงููุณ </h1><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <strong>ูุตุทูุญ</strong> <br></td><td>  <strong>ุชุฑุฌูุฉ</strong> <br></td><td>  <strong>ุชูุถูุญ</strong> <br></td></tr><tr><td> correct by construction <br></td><td> ,       <br></td><td>  ,         (,   ),   . <br></td></tr><tr><td> memory unsafe <br></td><td>      <br></td><td>         ,    . <br></td></tr><tr><td> unityped <br></td><td>  <br></td><td> ,   Bob Harper     ,    .           . <br></td></tr><tr><td> boilerplate <br></td><td>   <br></td><td>       ,    -   . <br></td></tr><tr><td> generics <br></td><td>   <br></td><td>       . ,     ยซยป  ยซยป,     ,    &lt;&gt;  &lt;&gt;. <br></td></tr><tr><td> runtime cast <br></td><td>     <br></td><td>              . <br></td></tr><tr><td> effectful computation <br></td><td>     <br></td><td> ,          . <br></td></tr><tr><td> composable <br></td><td>  <br></td><td>  ,          . <br></td></tr><tr><td> control structures <br></td><td> ,    <br></td><td>  ,       . <br></td></tr><tr><td> proof assistant <br></td><td>    <br></td><td>       . <br></td></tr><tr><td> strict (eager) evaluation <br></td><td>  ()  <br></td><td>   ,         . <br></td></tr><tr><td> backend <br></td><td>  <br></td><td>  ,         . <br></td></tr><tr><td> singleton type <br></td><td>   <br></td><td> ,   ,       . <br></td></tr><tr><td> promoted definitions <br></td><td>   <br></td><td>    ,         . <br></td></tr></tbody></table></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar485174/">https://habr.com/ru/post/ar485174/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar485158/index.html">ูููููุงู ูุงููููู. ุงูุฑุฌู ุงูุฐู ุฃุฑุงุฏ ุฅุทุนุงู ุงูุนุงูู ููู ูุชููู ุฌูุนุง ูู ุฒูุฒุงูุฉ ุงูุณุฌู</a></li>
<li><a href="../ar485160/index.html">ูุง ูู ุฃูุง ูู ุญูุถ ุฃู ูุฌูุฉ ูุธุฑ ูุฎุชููุฉ</a></li>
<li><a href="../ar485162/index.html">ููู ุชุทูุฑุช ุชุนูููุงุช ุงูููุฏ ูู 1940 ุฅูู 2020</a></li>
<li><a href="../ar485164/index.html">ุงููุญููุงุช ูุงููุฑุงููุฉ ูู ูุงููููุฑ: ููู ุชุชุตุฏู ูุนุงุฏุงุฉ ุงูุงูุชุญุงู ูุนุจุฉ NeurIPS-2019</a></li>
<li><a href="../ar485172/index.html">ูุถุงูุง ุงูุนูุงุฑุฉ ูู ุงููุดุงุฑูุน ุงููุจูุฑุฉ</a></li>
<li><a href="../ar485176/index.html">ุณุชุฉ ูุฎุทุทุงุช ูููุณุงุนุฏุฉ ูู ุดุฑุญ ููุงููู ุฅุฏุงุฑุฉ ุงูููุชุฌ</a></li>
<li><a href="../ar485178/index.html">ูููุฌูุฉ ุฅุนุงุฏุฉ ุจูุงุก ุงููุจุงูู ุงูููููุฏุฉ ูู ุงูุตูุฑ ุงูููุชูุบุฑุงููุฉ</a></li>
<li><a href="../ar485180/index.html">ูู ูุญุชุงุฌ ุฅูู ุจุญูุฑุฉ ุจูุงูุงุชุ ูุงุฐุง ุชูุนู ูุน ูุณุชูุฏุน ุงูุจูุงูุงุชุ</a></li>
<li><a href="../ar485182/index.html">ุณูููุณุฑ ูู ุนุงู 2020 - ุชู ุชุญุฏูุซ ุณูุงุนุงุช ุงูุฑุฃุณ ุงููุงุณูููุฉ ููุงุญุชูุงู ุจุงูุฐูุฑู ุงูุณูููุฉ</a></li>
<li><a href="../ar485184/index.html">ูุชุงุฆุฌ ุงูุงุณุชุทูุงุน ุงููุจูุจ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>