<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç® ‚òòÔ∏è üî∫ Monitoreo de seguridad en la nube. Parte 2 üèáüèΩ üë∂ üàπ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Por lo tanto, continuar√© el art√≠culo sobre el monitoreo de la seguridad de los proveedores de la nube. En la primera parte, habl√© sobre la experiencia...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Monitoreo de seguridad en la nube. Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cisco/blog/468395/">  Por lo tanto, continuar√© el art√≠culo sobre el monitoreo de la seguridad de los proveedores de la nube.  En la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">primera parte,</a> habl√© sobre la experiencia de Cisco al trabajar con servicios externos en la nube, as√≠ como las observaciones de Cisco que encontramos al construir o auditar los SOC de nuestros clientes.  Tomando en la primera parte, como ejemplo, las tres soluciones m√°s populares de Amazon, Microsoft y Google, que son plataformas IaaS / PaaS, hoy es hora de hablar sobre el monitoreo de las plataformas SaaS: Dropbox, Salesforce.com, Slack y Apple Business Manager, y tambi√©n sobre qu√© SIEM son m√°s adecuados para monitorear plataformas en la nube hoy en d√≠a. <br><br><h2>  Ejemplo: monitoreo de IS en SaaS basado en Dropbox </h2><br>  Si sobre la base de AWS, Azure o GCP puede crear un an√°logo casi completo de su infraestructura corporativa, solo en la nube, es decir, servicios en la nube que realizan una tarea espec√≠fica, por ejemplo, el almacenamiento de archivos, como lo hace Dropbox.  Este servicio ha ido mucho m√°s all√° del almacenamiento de usuario habitual, proporcionando a sus usuarios corporativos un conjunto completo de mecanismos de seguridad: <br><br><ul><li>  identificaci√≥n de usuario y autenticaci√≥n </li><li>  control de acceso a archivos </li><li>  eliminaci√≥n remota de datos </li><li>  gesti√≥n de dispositivos de confianza </li><li>  integraci√≥n con soluciones externas de seguridad de la informaci√≥n (DLP, SSO, DRM, eDiscovery, SIEM, etc.) </li><li>  registro de eventos de seguridad. </li></ul><a name="habracut"></a><br><img src="https://habrastorage.org/webt/e6/mp/0f/e6mp0fkximevl7v-0pcek8b8ije.png" alt="imagen"><br><br>  Los registros de Dropbox Business (que no es posible en la versi√≥n B√°sica o Pro) registran los siguientes tipos de eventos de seguridad: <br><br><ul><li>  configuraci√≥n de protecci√≥n con contrase√±a </li><li>  intentos exitosos y no exitosos de ingresar al almacenamiento de archivos </li><li>  controlar el acceso privilegiado y las acciones del administrador </li><li>  acciones de archivo (agregar, editar, eliminar, transferir, cargar, etc.) </li><li>  conexi√≥n al almacenamiento de archivos de aplicaciones de terceros </li><li>  dispositivos que acceden a Dropbox </li><li>  agregar / eliminar miembros para acceder a grupos </li><li>  crear carpetas / archivos accesibles externamente </li></ul><br><img src="https://habrastorage.org/webt/xd/ut/nv/xdutnvl5fjtokbs8ixramn1bzvo.jpeg" alt="imagen"><br><br>  Puede analizar eventos de seguridad en Dropbox ya sea a trav√©s de la consola administrativa de Dropbox Business (pero no espere grandes revelaciones) o utilizando la soluci√≥n de monitoreo externo que opera con la API de Dropbox Business.  El acceso a los registros no est√° disponible en ninguna tarifa comercial de Dropbox, pero solo comienza con una licencia avanzada (recuerde Office365, que tampoco inicia el acceso a los registros con una licencia comercial b√°sica).  Al igual que con AWS, ¬øvale la pena preguntar si su SIEM es compatible con Dropbox?  Por ejemplo, Splunk tiene un m√≥dulo separado para trabajar con Dropbox que, gracias a la API REST, le permite monitorear los siguientes eventos de seguridad: <br><br><ul><li>  iniciar sesi√≥n </li><li>  actividad al agregar / eliminar / solicitudes de usuario </li><li>  actividad de dispositivos que se conectan a Dropbox </li><li>  actividad de intercambio de archivos dentro y fuera de la empresa </li><li>  actividad de aplicaci√≥n </li><li>  etc. </li></ul><br>  Otros SIEM no tienen soporte integrado de Dropbox; tendr√° que escribir su propio conector. <br><br><h2>  Ejemplo, monitoreo de IS en SaaS basado en Slack y Salesforce.com </h2><br>  Entendemos que hoy en d√≠a existe una gran cantidad de plataformas en la nube que las empresas pueden usar para resolver sus problemas y que nos gustar√≠a monitorear desde el punto de vista de su seguridad.  No nos sumergiremos en cada una de estas plataformas (y no establec√≠ tal tarea, solo queriendo prestar atenci√≥n a los detalles de las tareas de monitoreo de la seguridad de la informaci√≥n de la plataforma en la nube), pero trataremos de completar la discusi√≥n con el ejemplo de plataformas espec√≠ficas con dos soluciones comerciales m√°s comunes: Slack y Salesforce.com . <br><br>  Slack se integra con m√°s de 50 herramientas de seguridad (desde protecci√≥n de contenido y privacidad hasta monitoreo de certificados y control de acceso), pero desde el punto de vista de monitorear una amplia gama de eventos de seguridad, Slack tiene pocas integraciones listas: en el sitio, esta lista se limita al poco conocido Symantec CloudSOC, Cisco CloudLock (m√°s sobre eso a continuaci√≥n) y Chronicle.  Eso es probablemente todo.  Pero con la certificaci√≥n de ISO 27001, SOC2 / 3, Fed-RAMP y otros, Slack no pudo evitar implementar la funcionalidad avanzada para monitorear su infraestructura, algunas de las cuales est√°n disponibles para los clientes.  En particular, utilizando la API de registros de auditor√≠a (disponible solo para usuarios de Slack Enterprise Grid y no disponible en planes Free, Standard, Plus), puede "extraer" una amplia gama de datos de su infraestructura de Slack y cargarlos en su SIEM relacionados con la actividad del usuario, pero no con monitoreo de contenido (para estas tareas es necesario usar soluciones DLP o eDiscovery especializadas).  Al mismo tiempo, Slack no tiene un mecanismo similar a AWS GuardDuty: env√≠a eventos "tal cual" y no le dice si son malos o buenos, solo usted puede determinarlo escribiendo sus propias reglas de correlaci√≥n en su SIEM o utilizando soluciones externas que tengan un conjunto de patrones predefinidos de actividad no autorizada en Slack (como, por ejemplo, en Cisco CloudLock). <br><br>  Cada evento en el libro de registro de Slack tiene 4 elementos clave: una acci√≥n, el usuario que lo gener√≥ (actor), la entidad asociada con el evento (espacio de trabajo, aplicaci√≥n, usuario, canal, archivo) y ubicaci√≥n (contexto) dentro de la cual ocurri√≥ esta acci√≥n (un espacio de trabajo separado o toda la organizaci√≥n).  En total, Slack captura alrededor de 70 acciones diferentes.  Por ejemplo, as√≠ es como se ve un evento de registro de usuario en Slack: <br><br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"entries"</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-string"><span class="hljs-string">"0123a45b-6c7d-8900-e12f-3456789gh0i1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"date_create"</span></span>:<span class="hljs-number"><span class="hljs-number">1521214343</span></span>, <span class="hljs-attr"><span class="hljs-attr">"action"</span></span>:<span class="hljs-string"><span class="hljs-string">"user_login"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"actor"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"user"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-string"><span class="hljs-string">"W123AB456"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"Charlie Parker"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"email"</span></span>:<span class="hljs-string"><span class="hljs-string">"bird@slack.com"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"entity"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"user"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"user"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-string"><span class="hljs-string">"W123AB456"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"Charlie Parker"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"email"</span></span>:<span class="hljs-string"><span class="hljs-string">"bird@slack.com"</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">"context"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"location"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"enterprise"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-string"><span class="hljs-string">"E1701NCCA"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"Birdland"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"domain"</span></span>:<span class="hljs-string"><span class="hljs-string">"birdland"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"ua"</span></span>:<span class="hljs-string"><span class="hljs-string">"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/64.0.3282.186 Safari\/537.36"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ip_address"</span></span>:<span class="hljs-string"><span class="hljs-string">"1.23.45.678"</span></span> } } ] }</code> </pre> <br>  Con Salesforce, la situaci√≥n es similar: con la API, puede acceder a toda la actividad del usuario en este CRM en la nube y, en particular, a los siguientes eventos: <br><br><ul><li>  iniciar sesi√≥n </li><li>  cerrar sesi√≥n </li><li>  informe de carga </li><li>  Llamadas a la API </li><li>  URI (clics web en Salesforce Classic) </li><li>  Lightning (clics web en la aplicaci√≥n m√≥vil Lightning Experience y Salesforce) </li><li>  Descargas de p√°ginas de Visualforce </li><li>  Ejecuci√≥n de Apex </li><li>  Y otros </li></ul><br>  Adem√°s, puede supervisar la seguridad de su instancia de Salesforce y trabajar con registros de eventos en la consola de administraci√≥n de Salesforce.  Tienes 4 opciones: <br><br><ul><li>  Supervisi√≥n de todos los intentos de acceso al portal SFDC.  La p√°gina Historial de inicio de sesi√≥n muestra 20,000 entradas sobre c√≥mo ingresar al portal en los √∫ltimos 6 meses (indicando el m√©todo de inicio de sesi√≥n HTTP: GET, POST u otros).  Si necesita una historia m√°s larga, el registro correspondiente se puede descargar en formato .csv o .gzip. </li><li>  Seguimiento del trabajo de campo en CRM.  A trav√©s de la consola de administraci√≥n, puede realizar un seguimiento del historial de trabajo con campos CRM en la nube est√°ndar y personalizados durante los √∫ltimos 18 meses, y a trav√©s de la API obtenga acceso a un historial de dos a√±os de cambios de campo.  Tambi√©n puede archivar esta historia por hasta 10 a√±os y, si es necesario, acceder a ella. </li><li>  Seguimiento de cambios administrativos.  Usando la funci√≥n Setup Audit Trail, puede monitorear m√°s de 100 acciones de todos sus administradores (especialmente si hay varias) durante los √∫ltimos 180 d√≠as. </li><li>  Monitoreo de transacciones  Con el servicio Transaction Security, puede capturar eventos de Salesforce en tiempo real y aplicarles notificaciones y alarmas con la l√≥gica de procesamiento adecuada. </li></ul><br><img src="https://habrastorage.org/webt/ft/kw/eq/ftkweqnlfp4v-n7sa4hsec4ykgu.jpeg" alt="imagen"><br><br>  Recientemente, Salesforce ha desarrollado una soluci√≥n de monitoreo de seguridad especializada para su plataforma: Salesforce Shield.  Incluye tres componentes: administrar el cifrado de toda la informaci√≥n almacenada, monitorear la seguridad y el uso de datos, y administrar las pol√≠ticas de seguridad.  En el caso de la supervisi√≥n de la seguridad de la informaci√≥n, esta funci√≥n en Salesforce Shield es similar a las extensiones de Azure Monitor, que no solo muestran eventos, sino que tambi√©n debido a su procesamiento y visualizaci√≥n le indican qu√© buscar.  Por ejemplo, ¬øpuede averiguar desde qu√© dispositivos y plataformas los usuarios acceden con mayor frecuencia a SFDC?  ¬øO cu√°ndo, con mayor frecuencia, y desde d√≥nde los usuarios ingresan su copia de Salesforce (esto puede ayudar a identificar puntos de entrada at√≠picos)?  ¬øQui√©n ve la informaci√≥n confidencial?  ¬øQui√©n suele descargar informes a su computadora?  Las respuestas a estas preguntas se pueden obtener utilizando 16 paneles preinstalados, cuya entrada es analizada por el subsistema Einstein Event Monitoring Analytics con licencia por separado (buen nombre, ¬øno?).  Con su ayuda, tambi√©n puede modelar sus paneles, cargar datos en sistemas de BI externos, etc. <br><br><h2>  Ejemplo: monitoreo de seguridad de la informaci√≥n en iPhone y iPad </h2><br>  Vaya ... ¬øY de d√≥nde viene el iPhone y el monitoreo en la nube?  Todo es simple aqu√≠.  Por ejemplo, ninguno de los SIEM al momento de escribir este art√≠culo ten√≠a un conector para la plataforma Apple Business Manager (o el Apple School Manager, que es m√°s conocido en las universidades de EE. UU.), Que le permite administrar dispositivos corporativos de Apple: iPhone, iPad, Mac.  Para esta tarea, puede usar cualquiera de las soluciones de MDM, o puede usar el Apple Business Manager (si participa en el Programa de inscripci√≥n de dispositivos de Apple o el Programa de compras por volumen, que no son v√°lidos en Rusia).  Las soluciones MDM se pueden instalar localmente e integrarlas con su SIEM es b√°sicamente f√°cil, al igual que los MDM en la nube (por ejemplo, Cisco Meraki), pero la historia con Apple Business Manager tiene un color de nube pronunciado y en el contexto de este art√≠culo es interesante Vea c√≥mo uno de los mayores fabricantes de TI resuelve el problema de proporcionar la capacidad de monitorear la seguridad de sus soluciones. <br><br>  En general, es desde este punto de vista que las decisiones de Apple en Rusia no son muy conocidas (aunque en Occidente nos enfrentamos a ellas en proyectos SOC).  De ah√≠ la opini√≥n predominante de que Apple es una empresa puramente de consumo que no ha recurrido a los clientes corporativos en t√©rminos de integraci√≥n en sus SOC.  Esto no es as√≠ al mismo tiempo.  El hecho es que, al tener un sistema de protecci√≥n suficientemente potente para iOS y MacOS, Apple contin√∫a siendo una empresa conjunta cerrada y no permite de manera muy activa a terceros la informaci√≥n sobre la seguridad de sus productos.  Aunque la imagen est√° cambiando gradualmente.  Por ejemplo, Apple Business Manager le permite ver informaci√≥n sobre la actividad en los dispositivos corporativos de Apple, que se combina en tres bloques de informaci√≥n: el evento, el estado y la fecha de inicio del evento (con la fecha de finalizaci√≥n, por desgracia, problemas).  Los eventos controlados (el Apple School Manager tiene un poco m√°s, pero est√°n relacionados con estudiantes / estudiantes) incluyen: <br><br><ul><li>  Enviar nuevos registros por correo electr√≥nico </li><li>  Crear nuevos inicios de sesi√≥n </li><li>  Enviar nuevos c√≥digos de verificaci√≥n por correo electr√≥nico </li><li>  Asignar roles </li><li>  Eliminar cuentas </li><li>  Desactivar cuentas </li><li>  Cuentas reactivas </li><li>  Asignar dispositivos </li><li>  Desasignar dispositivos </li><li>  Dispositivos de liberaci√≥n </li><li>  Anular asignaci√≥n y eliminar servidor </li><li>  Reasignar y eliminar servidor. </li></ul><br>  Para ser sincero, no hay mucha informaci√≥n.  Puede trabajar con √©l en el panel de control de Apple Business Manager o carg√°ndolo como un archivo .csv en su computadora para su posterior an√°lisis.  Debo admitir que la orientaci√≥n principal de esta funci√≥n en Apple todav√≠a se centra en encontrar problemas en el plano de TI, en lugar de abordar problemas de seguridad: Apple no tiene ninguna recopilaci√≥n o an√°lisis de registros automatizados.  Puede obtener mucha m√°s informaci√≥n si integra Apple Business Manager con cualquier soluci√≥n de MDM; luego puede obtener informaci√≥n sobre usuarios activos, ID de usuario y dispositivos, incluida la direcci√≥n Wi-Fi, datos sobre aplicaciones instaladas y sus versiones, presencia de actualizaciones desinstaladas, operador de telecomunicaciones, punto de acceso personal, funci√≥n habilitada "Buscar iPhone", cifrado de datos, jailbreak, certificados instalados, disponibilidad y configuraci√≥n de una ITU personal, configuraci√≥n de PIN cuando, control remoto  fen√≥menos, etc.  Esto es suficiente para las tareas de monitoreo de IS, pero requerir√° ciertos gestos para integrar sus dispositivos Apple corporativos en su SOC. <br><br><h2>  SIEM para monitoreo en la nube </h2><br>  Cabe se√±alar que Amazon, como muchas otras nubes p√∫blicas, prestando mucha atenci√≥n a su seguridad, se centra principalmente en los mecanismos para detectar y prevenir amenazas bastante simples en su infraestructura, as√≠ como para proporcionar acceso a eventos que pueden analizarse utilizando decisiones externas  Microsoft estuvo m√°s cerca de crear un sistema para monitorear y analizar eventos de seguridad en la nube, pero usar su soluci√≥n requerir√° inversiones financieras adicionales.  Si usa solo las nubes de esta empresa, quiz√°s pueda limitarse a Azure Security Center con extensiones.  Pero si tiene un entorno de m√∫ltiples nubes, entonces vale la pena considerar el uso de soluciones independientes: SIEM, que, tal vez, ya est√© utilizando para monitorear la seguridad de la informaci√≥n de su infraestructura interna.  Y aqu√≠ debe comprender c√≥mo seleccion√≥ o eligi√≥ SIEM admite la nube que usa (y sus diversos servicios) como fuente de datos.  Por ejemplo, Splunk, QRadar, ArcSight, ELK admiten AWS y esto se indica directamente en la documentaci√≥n de estos sistemas de monitoreo, pero el mismo RuSIEM o PT SIEM no es compatible. <br><br>  Debe tenerse en cuenta que diferentes SIEM pueden tomar datos de diferentes servicios en la nube de diferentes maneras.  Tomemos por ejemplo ELK y Amazon.  Muchos servicios y aplicaciones en la nube pueden reenviar sus eventos al bucket de S3, y Logstash puede recogerlos a pedido.  AWS CloudWatch mencionado anteriormente tambi√©n puede enviar datos a S3, y puede transmitirlos a AWS Lambda (y Logstash los toma para su an√°lisis) o alojarlos en la nube ElasticSearch.  Bueno, por supuesto, hay aplicaciones que pueden enviar datos directamente a ELK, sin pasar por S3, Lambda o CloudWatch.  IBM QRadar recopila los datos del mismo AWS GuardDuty a trav√©s de AWS CloudWatch, los registros de registros de flujo de VPC de Amazon al publicarlos en la cesta S3 seguidos de capturas en QRadar, y los datos de AWS CloudTrail a trav√©s de la cesta S3 o a trav√©s de AWS CloudWatch.  Dependiendo de los datos que necesite para monitorear, este conocimiento puede ayudarlo a no cometer un error fatal al elegir SIEM, que despu√©s de la implementaci√≥n no podr√° trabajar con las aplicaciones y servicios en la nube que necesita. <br><br>  A pesar de la popularidad de AWS o Azure, varios SIEM no tienen conectores integrados para trabajar con nubes de Amazon y Microsoft, pero es posible crear uno propio, ya sea de forma independiente o con la ayuda del fabricante, como, por ejemplo, en el caso de PT SIEM con conector personalizado.  Vale la pena se√±alar que AWS no es el ejemplo correcto para tener una idea de c√≥mo funciona SIEM con las nubes.  AWS es la plataforma de negocios en la nube m√°s popular del mundo y, por lo tanto, muchos fabricantes, incluidos aquellos en el campo de la tecnolog√≠a de la informaci√≥n, est√°n tratando de integrar sus productos con ella.  Pero incluso en este caso, debemos admitir que, en general, SIEM hoy en d√≠a no le permite monitorear plataformas en la nube.  Por ejemplo, IBM QRadar solo funciona con los siguientes servicios en la nube (sin incluir los servicios en la nube IB como Cisco Umbrella, Cisco Meraki, Cisco Threat Grid, etc.): <br><br><ul><li>  AWS GuardDuty y AWS CloudTrail (otros servicios de AWS a√∫n no compatibles) </li><li>  Caja </li><li>  Cloudera </li><li>  Sra. Azul </li><li>  Salesforce </li></ul><br>  La lista no es muy larga.  La misma base de m√≥dulos Splunk para trabajar con nubes es mucho m√°s amplia.  Adem√°s de lo mencionado anteriormente para IBM Qradar, la soluci√≥n de Splunk tambi√©n admite: <br><br><ul><li>  Office365 </li><li>  ServiceNow </li><li>  Kinesis amaz√≥nica </li><li>  Holgura </li><li>  Jira </li><li>  Google drive </li><li>  Nube de Google </li><li>  Nagios </li><li>  Aplicaci√≥n G Suite </li><li>  Docker </li><li>  Kubernetes </li><li>  y otros </li></ul><br>  Tenga en cuenta que nadie admite GCP todav√≠a. <br><br>  Usando la aplicaci√≥n Splunk para la extensi√≥n AWS (la idea ser√° similar para ArcSight o QRadar), puede implementar, por ejemplo, los siguientes escenarios de monitoreo de casos de uso que le permitir√°n responder preguntas importantes desde el punto de vista de la seguridad de la informaci√≥n: <br><br><ul><li>  ¬øQui√©n agreg√≥ la regla al grupo de seguridad que protege nuestros servidores de aplicaciones? </li><li>  ¬øDe d√≥nde viene el tr√°fico bloqueado a VPC? </li><li>  ¬øCu√°l fue la actividad de un usuario en particular antes y despu√©s del incidente? </li><li>  Notificarme cuando un grupo de seguridad permita el acceso desde todos los puertos </li><li>  ¬øQu√© grupos de seguridad est√°n definidos pero no est√°n asociados con ning√∫n recurso? </li><li>  Notificarme cuando se acceder√° a la consola desde una direcci√≥n IP externa </li><li>  Notificarme cuando se comete un agente de usuario t√≠pico de ataques web </li><li>  ¬øCu√°ndo se exceden los recursos de la instancia en X%? </li></ul><br>  Algunos SIEM dise√±ados espec√≠ficamente para la red corporativa pueden tener problemas arquitect√≥nicos con las nubes.  Como m√≠nimo, deber√° abrir una serie de reglas para todos sus sistemas en la nube que env√≠en registros a su SIEM en el per√≠metro ITU.  Otro problema, y ‚Äã‚Äãm√°s grave, es el hecho de que tener conectores para trabajar con las nubes no significa que SIEM est√© listo para usar en este rol.  Si prestamos atenci√≥n a los componentes del sistema de monitoreo mencionados al comienzo de 6, resulta que el conector a SIEM lo ayuda a resolver dos tareas necesarias, pero claramente insuficientes: recopilar y procesar eventos de seguridad de la informaci√≥n.  El almacenamiento es proporcionado por el propio SIEM, pero con el an√°lisis a√∫n tenemos una gran pregunta.  Si un SIEM corporativo t√≠pico tiene una proporci√≥n de reglas de correlaci√≥n ‚Äúlistas para usar‚Äù realmente √∫tiles y funcionales con respecto al n√∫mero total de reglas es de 20 a 80, entonces, para monitorear la seguridad de la informaci√≥n en la nube, esta proporci√≥n ser√° de alrededor de 5 a 95, o incluso menos.  Por lo tanto, no olvide que la presencia de SIEM trabajando con nubes no es todo lo que se necesita para monitorear su seguridad real.  Necesitar√° mucho m√°s esfuerzo (sin mencionar personal calificado) para escribir reglas de correlaci√≥n de eventos para su nube, para sus nubes, as√≠ como para las nubes y el entorno corporativo (porque probablemente querr√° correlacionar los datos de ubicaci√≥n del usuario conectado a la plataforma en la nube con caracter√≠sticas de seguridad corporativas). <br><br>  Si la situaci√≥n con el monitoreo de IaaS / PaaS es m√°s o menos buena: la cantidad de fuentes, el volumen de registros creados y los tipos de eventos son suficientes para su an√°lisis, entonces, para muchos SaaS, esto todav√≠a causa dificultades.  Por lo tanto, quiero prestar atenci√≥n a las siguientes actividades / eventos que est√°n disponibles para los jugadores SaaS m√°s serios y que deben analizarse en su SIEM al monitorear SaaS: <br><br><ul><li>  Acceso de usuario y administrador <br><ul><li>  Intentos de inicio de sesi√≥n exitosos y fallidos </li><li>  Hora y lugar de entrada. </li><li>  Tipo de dispositivo de entrada y atributos </li><li>  Intentos de inicio de sesi√≥n fallidos seguidos de un √©xito </li><li>  Actividad de SSO </li><li>  Actividad de AD </li></ul></li><li>  Comportamiento del usuario <br><ul><li>  Actividad del archivo de usuario (descarga, eliminaci√≥n, copia, impresi√≥n, transferencia, env√≠o) </li><li>  "Compartir" archivos con usuarios externos e internos </li><li>  Crear enlaces abiertos / compartidos </li><li>  Actividad desde dispositivos m√≥viles no autorizados / no confiables </li><li>  Actividad de red </li></ul></li><li>  Acceso a API de terceros <br><ul><li>  Cambios de privilegios de API </li><li>  Actividad relacionada con el certificado OAuth </li><li>  Actividad asociada con el token OAuth. </li></ul></li></ul><br>  Como m√≠nimo, un an√°lisis de estos eventos, que, por ejemplo, Salesforce.com, Box o Dropbox le proporcionar√°, le permitir√° identificar una gran cantidad de incidentes con sus datos y usuarios de la nube. <br><br>  ¬øC√≥mo explicar tal brecha en la capacidad de monitorear entornos corporativos y en la nube con SIEM?  Baja prevalencia de nubes?  Entendemos que esto no es as√≠.  M√°s bien, la pregunta es la madurez de los clientes que ya est√°n listos para las nubes, pero que no est√°n listos para monitorear su seguridad, como escrib√≠ al comienzo del art√≠culo.  Y sin esto, no se recluta el n√∫mero requerido de casos de negocios y los desarrolladores de SIEM no tienen prisa por iniciativa propia para implementar el soporte en la nube en sus productos;  especialmente en el contexto de cambios regulares en los mecanismos de trabajo y la devoluci√≥n de eventos de seguridad de los proveedores de la nube (recordemos la historia de AzLog con Azure). <br><br><h2>  Qu√© hacer cuando su proveedor no tiene herramientas de monitoreo </h2><br>  Pero, ¬øqu√© sucede si su proveedor de la nube tiene registros, pero no tiene sus propias herramientas para analizarlos y monitorearlos, su SIEM no es compatible con su nube elegida y no hay forma de escribirle un conector?  Existe una opci√≥n que le permite utilizar intermediarios especializados que, utilizando la API de nube existente (deber√≠a serlo), acceden a su proveedor de nube y luego extraen registros de √©l, les aplican varias herramientas anal√≠ticas, identificando varios incidentes y otras irregularidades, cuyos datos entonces puede ser entregado a su SIEM. <br><br>  Ejemplos de tales intermediarios son Cloud Access Security Broker, soluciones CASB (por ejemplo, Cisco CloudLock), o algunas soluciones MFA de autenticaci√≥n multifactor con capacidades avanzadas de control de acceso (por ejemplo, Cisco Duo).  Es cierto, CASB o MFA, al resolver un problema, agregar otro, obtener otra consola de administraci√≥n, que debe integrarse en su SOC.  Pero resolver este problema suele ser m√°s simple.  SIEM, a menudo sin un conector en la nube, puede trabajar con herramientas de seguridad de la informaci√≥n, incluidos CASB y MFA (despu√©s de todo, esta es su tarea principal).  En este caso, las API de CASB y MFA ayudan, lo que le permite enviar eventos de seguridad recopilados y analizados a SIEM corporativos e incrustarlos en sus SOC.  Resulta un sistema de tres niveles en el que SIEM, que no tiene que integrarse directamente con la nube, utiliza CASB / MFA para esto (en el caso anterior con Cisco Stealthwatch Cloud, la misma historia). <br><br><img src="https://habrastorage.org/webt/dt/ik/wk/dtikwkoswpgt7obqzfojzsj4uvk.jpeg" alt="imagen"><br><br>  Es cierto que CASB tampoco es una panacea.  No todos los proveedores de la nube tienen API en sus plataformas que permiten enviar datos a SOC y SIEM corporativos.  Por lo general, es este atributo el que distingue las decisiones corporativas.  A veces, incluso las soluciones en la nube populares no tienen tales API, como se pod√≠a ver al principio, cuando mencion√© las soluciones Bitrix, "My Office" o SKB Kontur. <br><br><h2>  Ejemplo: monitoreo de seguridad con Cisco CloudLock </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cisco CloudLock</a> es una soluci√≥n basada en API que se integra con una amplia gama de populares plataformas SaaS en la nube, como G Suite, Salesforce, Office 365, Dropbox, Box, ServiceNow, Slack, Okta, etc., as√≠ como con IaaS / PaaS plataformas como Salesforce y AWS.  A diferencia del proxy CASB, la soluci√≥n basada en API le permite trabajar con datos que ya est√°n cargados en la nube, analizar el tr√°fico entre nubes y controlar el acceso desde dispositivos personales y corporativos m√≥viles y no administrados.  Al mismo tiempo, Cisco CloudLock, que gradualmente se est√° convirtiendo en una parte integral de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cisco Umbrella</a> , no interfiere con el trabajo del usuario y se conecta a nubes controladas debido a su API, lo que le permite monitorear violaciones como: <br><br><ul><li>  adivinar la contrase√±a </li><li>  iniciar sesi√≥n desde una ubicaci√≥n at√≠pica (robo de cuenta) <br><br><img src="https://habrastorage.org/webt/nx/gk/mk/nxgkmkp55esraqlfmhp2sn8nraa.jpeg" alt="imagen"></li><li>  violaci√≥n de las reglas para trabajar con informaci√≥n confidencial (almacenamiento en la nube de informaci√≥n que no deber√≠a estar all√≠) <br><br><img src="https://habrastorage.org/webt/1i/m1/lg/1im1lgaiyiog04rtveec3b_emvo.jpeg" alt="imagen"></li><li>  malware en la nube </li><li>  fuga de datos <br><br><img src="https://habrastorage.org/webt/l9/z2/n8/l9z2n8vob06xqc_n3cbtjazb5dc.jpeg" alt="imagen"></li><li>  violaci√≥n de los requisitos reglamentarios </li><li>  Acceso desde aplicaciones prohibidas o caducadas. <br><br><img src="https://habrastorage.org/webt/4-/3z/yn/4-3zyn_yld4gpua7dvxgj7-ja_e.jpeg" alt="imagen"></li></ul><br>  El acceso a estos incidentes es posible tanto desde el propio servicio Cisco CloudLock como a trav√©s de SIEM, a lo que CloudLock proporciona la informaci√≥n necesaria a trav√©s de la API existente.  Actualmente, Cisco CloudLock puede integrarse con Splunk, QRadar y Arcsight. <br><br><img src="https://habrastorage.org/webt/1c/-j/-2/1c-j-2kb2hhg8ory-0y8hh1ecbw.jpeg" alt="imagen"><br><br><h2>  SOC </h2><br>  Entonces, tenemos una idea de c√≥mo funciona el monitoreo de seguridad de la informaci√≥n en entornos de nube populares en Rusia.  Ahora comprende qu√© datos y c√≥mo puede cargarlos en su SIEM.  Pero, ¬øsignifica esto que puede hablar sobre un sistema de monitoreo de nube IS integrado?  Por supuesto que no.  Es suficiente recordar que seg√∫n el concepto popular, pero no del todo correcto, SOC es una combinaci√≥n de personas, procesos y tecnolog√≠as.  Hablamos arriba solo sobre tecnolog√≠a.  Ha llegado el momento de hablar un poco sobre otros componentes. <br><br>  Para empezar, el mundo de la nube de hoy no tiene un claro favorito y l√≠der.  Las empresas usan diferentes nubes para diferentes tareas.  Arriba, di un ejemplo de Cisco, que utiliza alrededor de 700 proveedores de nube en todo el mundo en sus actividades.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y todos son diferentes, con diferentes enfoques para garantizar la seguridad de la informaci√≥n y su monitoreo. </font><font style="vertical-align: inherit;">Con el fin de integrarlos a todos en nuestro centro de monitoreo de SI, es necesario mirar m√°s all√° de las formas de cargar datos en SIEM y construir una estrategia completa de monitoreo de m√∫ltiples nubes, que necesariamente incluye los siguientes pasos:</font></font><br><br><ol><li>  ,        ( use case).     use case  Splunk.        ,    .        ,      ,  -      ‚Äú‚Äù. ,             ?     use case   .       ‚Äî      ,   . <br><br><img src="https://habrastorage.org/webt/-e/o6/p4/-eo6p4dv16ixueyatffdm-ncfbc.png" alt="imagen"></li><li>        playbook'  runbook',   . </li><li>  ,     use case,    .         ,  ,      .   Amazon       ‚Äî  (        , ,    ..),  (      , ,  Amazon EC2  VPC)   (,   ,   ).    ,        ,        . </li><li>  ,    , ,    ,           . </li><li>  ,        .          ,   ,   Threat Intelligence,      ,   ,     (  Cisco Stealthwatch Cloud),     (,   Amazon Web Services        ),     ,    - .               . </li><li>      ,        . </li><li>   ,        ,   ,        -  .      ,   -  osquery. </li><li>        ,        (,   WORM ‚Äî Write Once, Read Many),       (, AWS Key Management System)       (, Amazon S3 Glacier). </li><li>   , ,   Threat Intelligence,        (, GCP  Azure),   .         ,     .  ,          ,      . </li><li>               (SIEM),          CASB   NTA (, Cisco Stealthwatch Cloud). <br><br><img src="https://habrastorage.org/webt/td/d4/tt/tdd4ttcsylgeesvgl5vadmlyez0.png" alt="imagen"></li><li> Threat Hunting,      ,            . , ,     ‚Äî       .      . </li><li>    . </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debe tenerse en cuenta que algunos de estos componentes se superpondr√°n con otras tareas de monitoreo que su organizaci√≥n pueda enfrentar: monitoreo de SLA, monitoreo de disponibilidad, monitoreo de rendimiento de la aplicaci√≥n, monitoreo de uso para la facturaci√≥n posterior, etc. Por lo tanto, cuando construya el sistema de monitoreo de seguridad de la informaci√≥n de su nube, primero especifique lo que ya se ha hecho y lo que planean hacer sus colegas de otros departamentos: puede usar los logros o herramientas ya realizados o compartir varias tareas con otros.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parece que no escrib√≠ nada especial y nuevo. </font><font style="vertical-align: inherit;">Si su SOC est√° dise√±ado correctamente inicialmente, entonces agregar una nueva entidad controlada (ya sea la nube, ICS o dispositivos m√≥viles) no deber√≠a conducir a una fuerte alteraci√≥n de los documentos y procesos desarrollados previamente. </font><font style="vertical-align: inherit;">Cuando dise√±amos o realizamos una auditor√≠a SOC, intentamos inicialmente tener en cuenta todos estos aspectos en nuestro trabajo.</font></font><br><br><h2>  Conclusi√≥n </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En resumen, vale la pena repetir nuevamente que el monitoreo de la seguridad de la informaci√≥n en entornos de nube es un tema relativamente nuevo incluso para los "viejos" del mercado de la nube. </font><font style="vertical-align: inherit;">Por lo tanto, se est√°n produciendo cambios constantemente en este segmento, y algo que no era posible hasta hace poco aparece en la cartera del proveedor de la nube. </font><font style="vertical-align: inherit;">Lo mismo se aplica a las funciones de monitoreo de SI. </font><font style="vertical-align: inherit;">Independientemente del proveedor del que estemos hablando, pueden brindarle una de varias opciones de monitoreo:</font></font><br><ul><li>        ‚Äî            . </li><li>            SIEM      .       ,     ‚Äú‚Äù          /. </li><li>   API,   ‚Äú‚Äù        .        . </li><li>           . </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Acceda a trav√©s de intermediarios que recopilan los datos de la nube que le interesan, los enriquecen con informaci√≥n adicional y aplican diversas herramientas y algoritmos anal√≠ticos, despu√©s de lo cual transfieren el resultado del an√°lisis a su SIEM o al sistema de an√°lisis de eventos de seguridad de la informaci√≥n. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todas estas cinco opciones difieren en la complejidad de trabajar con ellas, el precio y la velocidad del monitoreo y la respuesta. </font><font style="vertical-align: inherit;">No puedo decir cu√°l elegir, ya que depende mucho no solo de la nube con la que est√© trabajando, sino tambi√©n de cu√°l es su estrategia de monitoreo. </font><font style="vertical-align: inherit;">IB. </font><font style="vertical-align: inherit;">Solo puedo ayudarlo con una lista de preguntas que debe hacerse usted y su proveedor de la nube, con quien decide ‚Äúconectar su vida‚Äù:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬øTrabaja / planea trabajar con una nube o con varias? </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© mecanismos de protecci√≥n ofrece su proveedor de nube? </font><font style="vertical-align: inherit;">Depende de lo que pueda monitorear y lo que no.</font></font></li><li>      ISO 27001, Fed-RAMP, SOC2/3?      ,  -        - . </li><li>           ?                   . </li><li>     ?            (   )? </li><li>       /  ?    ,             ,      . </li><li>         ?           ?      ?    threat hunting?     -  Threat Intelligence? </li><li>      ?       / ? </li><li>      API    ? </li><li>  SIEM      ?  /API   (   )? </li><li>   ‚Äú‚Äù    SIEM?       use case        ? </li><li>   SIEM     ?    ‚Äî    SIEM? </li><li>  SIEM    CASB? </li><li>  SIEM  TI-   ? </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqu√≠ hay una breve lista de preguntas, cuyas respuestas le permitir√°n comenzar a construir el proceso de monitoreo de la seguridad de la informaci√≥n de los entornos de nube que usted o su empresa decidieron usar. </font><font style="vertical-align: inherit;">Cuanto antes se interese en responder estas preguntas, m√°s barato le costar√° construir un sistema de monitoreo y menos incidentes ocurrir√°n con sus recursos dados a proveedores externos de la nube. </font><font style="vertical-align: inherit;">Como lo demuestra la experiencia de Cisco en la construcci√≥n o auditor√≠a de los SOC, incluso los centros de monitoreo de SI m√°s exitosos que se ocupan de incidentes dentro de la red corporativa no siempre promueven las capacidades de monitoreo de la nube en su arquitectura, lo que requiere su reestructuraci√≥n. </font><font style="vertical-align: inherit;">Espero que las observaciones y recomendaciones descritas en estas dos partes ayuden a garantizar la ciberseguridad.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/468395/">https://habr.com/ru/post/468395/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../468381/index.html">Regreso al futuro? Borrador Pendiente Cu√°ntico</a></li>
<li><a href="../468383/index.html">Ruby meme generator para atraer inter√©s en el idioma</a></li>
<li><a href="../468385/index.html">El escritorio est√° muerto, ¬°viva el escritorio! Colecciono habrastatistiki</a></li>
<li><a href="../468389/index.html">Artyom Galonsky, Oficina de STO de la Oficina: "Estoy en contra de un ingeniero de DevOps"</a></li>
<li><a href="../468393/index.html">Con un buen microcontrolador y el tiempo vuela r√°pido o un osciloscopio de fin de semana</a></li>
<li><a href="../468397/index.html">Noticias del mundo de OpenStreetMap No. 477 (09/09/2019 - 09.09.2019)</a></li>
<li><a href="../468399/index.html">C / C ++. C√≥mo usar los recursos de aplicaciones integradas cuando se trabaja en GCC en Linux</a></li>
<li><a href="../468401/index.html">Forma segura de intercambiar JWT en ASP.NET Core + SPA</a></li>
<li><a href="../468403/index.html">Controles de tiempo de ejecuci√≥n de aplicaciones de software incorporados</a></li>
<li><a href="../468407/index.html">5G: una tecnolog√≠a que probablemente ralentice la web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>