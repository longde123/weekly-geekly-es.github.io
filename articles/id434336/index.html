<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍀 🐈 👩🏾‍💼 Bekerja dengan API KOMPAS-3D → Pelajaran 13 → Paragraf 🧕🏻 👎🏾 🚅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sebelum beralih ke cara terdokumentasi untuk membuat string majemuk, kita perlu membiasakan diri dengan objek seperti paragraf. Ini adalah blok teks y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bekerja dengan API KOMPAS-3D → Pelajaran 13 → Paragraf</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ascon/blog/434336/">  Sebelum beralih ke cara terdokumentasi untuk membuat string majemuk, kita perlu membiasakan diri dengan objek seperti paragraf.  Ini adalah blok teks yang diformat secara otomatis yang terdiri dari beberapa baris.  Dalam pelajaran ini, kita akan melihat membangun paragraf sederhana. <br><br><img src="https://habrastorage.org/webt/m7/wu/vw/m7wuvw0aeqqqfed0yocjongme0g.png"><br><a name="habracut"></a><br><blockquote><h4>  Isi seri pelajaran “Bekerja dengan API KOMPAS-3D” </h4><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dasar-dasarnya</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Desain gambar</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Koneksi yang benar ke KOMPAS</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Prasasti utama</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Primitif grafis</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Menyimpan dokumen dalam berbagai format</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mengenal pengaturan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Metode penulisan yang lebih canggih di blok judul</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Membaca sel teks</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Karakter khusus termasuk string</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Label teks sederhana</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Senar majemuk</a> </li><li>  <b>Paragraf</b> </li><li>  Teks multiline </li></ol></blockquote><h2>  <font color="#00B2FF">Parameter Paragraf ( <b>ksParagraphParam</b> )</font> </h2><br>  Paragraf dijelaskan oleh antarmuka <b>ksParagraphParam</b> .  Untuk mendapatkannya, Anda harus menggunakan metode <b>GetParamStruct</b> dari antarmuka <b>KompasObject</b> , untuk ini Anda harus meneruskan <b>ko_ParagraphParam</b> ( <i>0x0000001B</i> ) konstan ke sana.  Pertimbangkan properti dari antarmuka <b>ksParagraphParam</b> . <br><br>  <b>ang</b> - sudut teks dalam derajat.  Ditunda dari garis horizontal berlawanan arah jarum jam.  Mirip dengan parameter <b>ang</b> dari metode <b>ksText</b> . <br><br>  <b>tinggi</b> - ketinggian paragraf dalam milimeter. <br><br>  <b>hFormat</b> - memformat teks secara horizontal.  Properti ini digunakan ketika teks tidak sesuai dengan lebar paragraf.  Nilai yang valid tercantum dalam tabel di bawah ini. <br><br><img src="https://habrastorage.org/webt/-s/mj/m9/-smjm9ygdwb7dufeynhaolmpvuo.png"><br><br>  <b>gaya</b> - gaya teks (dijelaskan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pelajaran 11</a> ). <br><br>  <b>vFormat</b> - memformat teks secara vertikal.  Properti ini digunakan ketika teks tidak sesuai dengan tinggi paragraf.  Nilai yang valid tercantum dalam tabel di bawah ini. <br><br><img src="https://habrastorage.org/webt/jc/hj/9r/jchj9re-6fbg2cp6vc_x6dvsl2o.png"><br><br>  Ada dua <b>hal yang</b> perlu diingat ketika bekerja dengan properti <b>vFormat</b> : <br><br><ol><li>  Menurut dokumentasi KOMPAS, nilai valid properti <b>vFormat</b> adalah <i>0</i> dan <i>-1</i> , tetapi tidak demikian.  Nilai yang valid adalah <i>0</i> dan <i>1</i> . </li><li>  COMPASS tidak mengubah ketinggian karakter.  Itu hanya mengubah jarak antara garis.  Jika tinggi baris kurang dari tinggi paragraf, maka mereka bisa tumpang tindih.  Contoh overlay seperti itu ada pada gambar di bawah ini. </li></ol><br> <a href=""><img src="https://habrastorage.org/webt/bk/hp/se/bkhpsesuq36ncmmwbotgfwuxdla.png"></a> <br><br>  <b>width</b> - lebar paragraf dalam milimeter. <br>  Properti <b>tinggi</b> , <b>hFormat</b> , <b>vFormat</b> dan <b>lebar</b> memungkinkan kita untuk memecahkan masalah menempatkan teks dalam persegi panjang yang diberikan.  Metode ini jauh lebih dapat diandalkan dan efisien daripada metode <b>ksGetTextLength</b> yang dibahas dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pelajaran 11</a> . <br><br>  <i>x</i> dan <i>y</i> adalah koordinat titik jangkar.  Posisi paragraf relatif terhadap titik jangkar sepanjang sumbu horizontal disesuaikan dengan metode <b>ksSetTextAlign</b> dari antarmuka <b>ksDocument2D</b> (meskipun kemungkinan ini tidak didokumentasikan).  Titik jangkar vertikal selalu cocok dengan bagian bawah baris pertama paragraf.  Perilaku ini tidak dapat diubah. <br>  Antarmuka <b>ksParagraphParam</b> hanya <b>memiliki</b> satu metode: <b>Init ()</b> .  Ini menginisialisasi nilai properti antarmuka.  Tidak memiliki parameter input.  Jika berhasil, mengembalikan <i>true</i> . <br><br><h2>  <font color="#00B2FF">Bangunan paragraf</font> </h2><br>  Membuat paragraf terdiri dari tiga langkah berurutan. <br><br><ol><li>  Deklarasi awal paragraf.  Untuk melakukan ini, metode <b>ksParagraph</b> dari antarmuka <b>ksDocument2D</b> <b>disebut</b> .  Sebagai satu-satunya parameter, metode ini menerima antarmuka <b>ksParagraphParam</b> , yang menetapkan parameter paragraf.  Jika berhasil, metode <b>ksParagraph</b> mengembalikan satu, dan jika terjadi kesalahan, mengembalikan <i>nol</i> . </li><li>  Mengisi paragraf.  Untuk setiap baris yang ditampilkan dalam paragraf, metode <b>ksTextLine</b> dari antarmuka <b>ksDocument2D</b> <b>disebut</b> .  Sebagai satu-satunya parameter, ia menerima <b>antarmuka ksTextItemParam</b> atau <b>ksTextLineParam</b> (dibahas dalam pelajaran sebelumnya di loop) yang menggambarkan string.  Harap dicatat bahwa garis output tidak boleh mengandung karakter <i>@</i> , <i>$</i> , <i>&amp;</i> , <i>~</i> , <i>^</i> dan <i>#</i> , karena mereka adalah karakter kontrol.  Bekerja dengan mereka akan dipertimbangkan dalam pelajaran siklus berikutnya. </li><li>  Akhir paragraf.  Untuk melakukan ini, metode <b>ksEndObj ()</b> dari antarmuka <b>ksDocument2D</b> <b>disebut</b> .  Tidak memiliki parameter input dan, jika berhasil, mengembalikan pointer integer ke objek yang dibuat (paragraf).  Jika terjadi kesalahan, ia mengembalikan <i>nol</i> . </li></ol><br><h2>  <font color="#00B2FF">Sebuah contoh</font>  <font color="#00B2FF">Paragraf paling sederhana</font> </h2><br><div class="spoiler">  <b class="spoiler_title">Di bawah ini adalah kode sumber program, menunjukkan konstruksi paragraf sederhana.</b> <div class="spoiler_text"><pre><code class="plaintext hljs">//  ksTextItemParam TextItemParamPtr textItemParam; textItemParam = static_cast&lt;TextItemParamPtr&gt;(kompas-&gt;GetParamStruct(ko_TextItemParam)); //    ParagraphParamPtr paragraphParam; paragraphParam = static_cast&lt;ParagraphParamPtr&gt;(kompas-&gt;GetParamStruct(ko_ParagraphParam)); paragraphParam-&gt;Init(); paragraphParam-&gt;set_x(100.0); paragraphParam-&gt;set_y(100.0); //  Document2D-&gt;ksParagraph(paragraphParam); //  BSTR str = SysAllocString(L" "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); str = SysAllocString(L" "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); //  Document2D-&gt;ksEndObj(); paragraphParam.Unbind(); textItemParam.Unbind();</code> </pre> <br></div></div><br>  Seperti biasa, di sini, untuk kesederhanaan, kode yang bertanggung jawab untuk pembuatan dan pelaksanaan dokumen dihilangkan (topik ini dibahas dalam pelajaran sebelumnya). <br><br>  Dalam contoh ini, KOMPAS sendiri menentukan ukuran paragraf berdasarkan isinya.  Gambar di bawah ini menunjukkan paragraf yang dihasilkan. <br><br><img src="https://habrastorage.org/webt/jz/hi/b-/jzhib-bs44smvqvokcomp3shwmg.png"><br><br>  Harap dicatat: teks ditampilkan sebagai satu baris.  Kami tidak menentukan lebar paragraf, sehingga KOMPAS secara otomatis meningkatkannya sesuai kebutuhan.  Jika lebarnya ditetapkan, maka perilaku COMPASS akan ditentukan oleh nilai properti <b>hFormat</b> dari antarmuka <b>ksParagraphParam</b> . <br><br>  Untuk membentuk teks multi-baris dan majemuk, Anda perlu menggunakan fitur menggambar yang sebagian dibahas dalam pelajaran sebelumnya. <br><br><h2>  <font color="#00B2FF">Sebuah contoh</font>  <font color="#00B2FF">Teks multiline</font> </h2><br>  Untuk <b>membungkus</b> secara eksplisit ke baris baru, gunakan bendera <b>NEW_LINE</b> ( <i>0x1000</i> ). <br><br><div class="spoiler">  <b class="spoiler_title">Berikut ini adalah contoh program yang menunjukkan pembuatan paragraf multi-baris menggunakan bendera ini.</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">//  ksTextItemParam TextItemParamPtr textItemParam; textItemParam = static_cast&lt;TextItemParamPtr&gt;(kompas-&gt;GetParamStruct(ko_TextItemParam)); //    ParagraphParamPtr paragraphParam; paragraphParam = static_cast&lt;ParagraphParamPtr&gt;(kompas-&gt;GetParamStruct(ko_ParagraphParam)); paragraphParam-&gt;Init(); paragraphParam-&gt;set_x(100.0); paragraphParam-&gt;set_y(100.0); //  Document2D-&gt;ksParagraph(paragraphParam); //  BSTR str = SysAllocString(L" "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); TextItemFontPtr textItemFont; textItemFont = static_cast&lt;TextItemFontPtr&gt;(textItemParam-&gt;GetItemFont()); textItemFont-&gt;SetBitVectorValue(NEW_LINE, true); str = SysAllocString(L" "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); textItemFont.Unbind(); str = SysAllocString(L" "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); //  Document2D-&gt;ksEndObj(); paragraphParam.Unbind(); textItemParam.Unbind();</code> </pre><br></div></div><br>  Dalam contoh ini, paragraf tiga baris dibuat.  Baris pertama ditampilkan seperti biasa.  Untuk yang kedua, bendera <b>NEW_LINE diatur</b> .  Dia berbicara tentang awal dari sebuah baris baru.  Yang ketiga ditampilkan seperti biasa, tetapi flag <b>NEW_LINE</b> masih aktif untuk itu, karena kami bekerja dengan instance yang sama dari antarmuka <b>ksTextItemParam</b> .  Gambar di bawah ini menunjukkan paragraf yang dihasilkan oleh program ini. <br><br> <a href=""><img src="https://habrastorage.org/webt/sw/3e/xl/sw3exlx1wgbxrnw6s7fmjshf4qm.png"></a> <br>  Sekarang garis ditampilkan dengan benar. <br><br><h1>  <font color="#00B2FF">Tantangan untuk bekerja dengan paragraf</font> </h1><br><h2>  <font color="#00B2FF">Perataan teks</font> </h2><br>  Perataan teks diatur oleh metode <b>ksSetTextLineAlign</b> dari antarmuka <b>ksDocument2D</b> .  Hanya memiliki satu parameter integer - atur perataan.  Nilai yang valid tercantum dalam tabel di bawah ini. <br><br><img src="https://habrastorage.org/webt/f2/yu/vd/f2yuvdi3o2kl2f7a5nsgglbsdli.png"><br><br>  Jika berhasil, metode <b>ksSetTextLineAlign</b> mengembalikan bendera penyelarasan sebelumnya, dan jika terjadi kesalahan, mengembalikan <i>-1</i> . <br><br>  Perhatikan bahwa metode <b>ksSetTextLineAlign</b> hanya dapat digunakan di dalam blok (dalam kasus kami, ini digunakan di dalam paragraf).  Ini berarti bahwa itu tidak dapat digunakan untuk mengatur perataan untuk keluaran teks dengan metode <b>ksText</b> .  Keterbatasan ini disebabkan oleh fakta bahwa dalam kasus ini, KOMPAS tidak tahu sehubungan dengan batas mana teks perlu disejajarkan. <br>  Poin penting lainnya terkait dengan ruang lingkup metode <b>ksSetTextLineAlign</b> - garis output yang <b>terpengaruh</b> .  Pertimbangkan sebuah contoh (sintaks yang sangat sederhana digunakan di sini dibandingkan dengan aslinya): <br><br><pre> <code class="plaintext hljs">ksSetTextLineAlign(1); ksTextLine(“ ”); ksSetTextLineAlign(2); ksTextLine(“  ”);</code> </pre><br>  Bagaimana garis-garis akan diluruskan?  Bertentangan dengan harapan kami, kedua baris akan disejajarkan dengan kanan.  Mengapa  Faktanya adalah bahwa metode <b>ksSetTextLineAlign</b> pertama-tama mengubah perataan garis keluaran terakhir.  Inilah yang terjadi dalam contoh kita: baris pertama mengatur perataan tengah.  Karena tidak ada jalur output sebelumnya, panggilan ini mengubah perataan standar (kiri). <br><br>  Kemudian kami mencetak garis "Tengah".  Awalnya, ia menggunakan perataan tengah yang ditetapkan sebelumnya. <br><br>  Di baris ketiga, kami kembali mengubah perataan.  Pertama-tama, metode ini mengubah perataan garis sebelumnya ("Tengah").  Oleh karena itu, itu sejajar dengan kanan, dan bukan ke pusat, seperti yang kami rencanakan.  Alignment yang sama menjadi sejajar secara default. <br>  Kami menampilkan baris "Benar".  Karena metode <b>ksSetTextLineAlign</b> tidak lagi dipanggil, ia menggunakan perataan yang ditetapkan sebelumnya (ke kanan). <br>  Dengan demikian, kedua garis selaras ke kanan.  Sekarang mari kita ubah sedikit contoh: <br><br><pre> <code class="plaintext hljs">ksSetTextLineAlign(1); ksTextLine(“ ”); ksTextLine(“”); ksSetTextLineAlign(2); ksTextLine(“  ”);</code> </pre><br>  Yang kami ubah hanyalah menambahkan output dari string kosong tanpa mengubah perataan.  Sekarang garis ditampilkan dengan benar.  Ini terjadi karena output dari string kosong "menyerap" perataan yang benar.  Panggilan kedua ke metode <b>ksSetTextLineAlign</b> memengaruhi garis kosong dan tidak memengaruhi garis tengah dengan cara apa pun. <br>  Contoh di bawah ini menunjukkan perataan yang benar tanpa menampilkan string kosong. <br><br><pre> <code class="plaintext hljs">ksTextLine(“ ”); ksSetTextLineAlign(1); ksTextLine(“  ”); ksSetTextLineAlign(2);</code> </pre><br>  Panggilan <b>ksTextLine</b> dan <b>ksSetTextLineAlign</b> ditukar.  Karena metode <b>ksSetTextLineAlign</b> terutama mempengaruhi baris yang terakhir ditampilkan, keberpihakan diatur dengan benar, dan garis ditampilkan seperti yang kita inginkan. <br><br><h2>  <font color="#00B2FF">Contoh</font> </h2><br><div class="spoiler">  <b class="spoiler_title">Berikut ini adalah kode sumber program yang menunjukkan perataan teks dalam paragraf.</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">//  ksTextItemParam TextItemParamPtr textItemParam; textItemParam = static_cast&lt;TextItemParamPtr&gt;(kompas-&gt;GetParamStruct(ko_TextItemParam)); //    ParagraphParamPtr paragraphParam; paragraphParam = static_cast&lt;ParagraphParamPtr&gt;(kompas-&gt;GetParamStruct(ko_ParagraphParam)); paragraphParam-&gt;Init(); paragraphParam-&gt;set_x(100.0); paragraphParam-&gt;set_y(100.0); paragraphParam-&gt;set_width(60.0); paragraphParam-&gt;set_hFormat(2); //  Document2D-&gt;ksParagraph(paragraphParam); //  BSTR str = SysAllocString(L"    "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); TextItemFontPtr textItemFont; textItemFont = static_cast&lt;TextItemFontPtr&gt;(textItemParam-&gt;GetItemFont()); textItemFont-&gt;SetBitVectorValue(NEW_LINE, true); str = SysAllocString(L""); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); textItemFont.Unbind(); str = SysAllocString(L" "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); Document2D-&gt;ksSetTextLineAlign(1); str = SysAllocString(L""); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); str = SysAllocString(L"    "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); Document2D-&gt;ksSetTextLineAlign(3); //  Document2D-&gt;ksEndObj(); paragraphParam.Unbind(); textItemParam.Unbind();</code> </pre><br></div></div><br>  Dalam contoh ini, selain perataan teks, penggunaan properti <b>width</b> dan <b>hFormat</b> dari antarmuka <b>ksParagraphParam</b> juga diperlihatkan.  Mereka digunakan untuk membatasi lebarnya.  Jika kami tidak mengubahnya, KOMPAS akan menambah lebar paragraf, dan kami tidak akan melihat perataan ke kiri dan ke lebar. <br><br>  Baris kosong ditampilkan untuk meningkatkan keterbacaan paragraf.  Mereka tidak mempengaruhi perataan yang benar. <br><br>  Gambar di bawah ini menunjukkan paragraf yang dihasilkan oleh program ini. <br><br> <a href=""><img src="https://habrastorage.org/webt/jh/kh/bx/jhkhbxlyjawnod_y31k2re1vuz8.png"></a> <br><br><h2>  <font color="#00B2FF">Hidupkan atau matikan gayanya</font> </h2><br>  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pelajaran ke 11 dari siklus,</a> kami memeriksa bendera yang mengontrol gaya ( <i>ITALIC_ON</i> , <i>ITALIC_OFF</i> , <i>BOLD_ON</i> , <i>UNDERLINE_ON</i> dan <i>UNDERLINE_OFF</i> ).  Kemudian kami memeriksanya sehubungan dengan metode <b>ksText</b> .  Perbedaan penting antara penggunaannya dalam paragraf adalah bahwa tindakan tidak terbatas pada memanggil metode <b>ksTextLine</b> , tetapi meluas ke seluruh paragraf.  Mari kita lihat beberapa contoh. <br><br><pre> <code class="plaintext hljs">TextItemFont-&gt;SetBitVectorValue(BOLD_ON, true); TextItemParam-&gt;s = SysAllocString(L” ”); Document2D-&gt;ksTextLine(TextItemParam); TextItemFont-&gt;Init(); TextItemParam-&gt;s = SysAllocString(L” ”); Document2D-&gt;ksTextLine(TextItemParam);</code> </pre><br>  Baris pertama akan ditampilkan dalam huruf tebal.  Tidak ada pertanyaan dengan ini.  Tetapi bagaimana baris kedua akan ditampilkan?  Bendera <i>BOLD_ON telah</i> disetel ulang untuknya.  Karena itu, kita dapat mengasumsikan bahwa itu akan ditampilkan dalam font biasa.  Tapi ini tidak benar.  Setelah memenuhi bendera <i>BOLD_ON</i> , KOMPAS memahami perintah sebagai berikut: semua baris paragraf berikutnya ditampilkan dalam huruf tebal.  Oleh karena itu, semua baris berikutnya ditampilkan dalam huruf tebal hingga paragraf selesai atau KOMPAS menemukan bendera <i>BOLD_OFF yang dipasangkan dengannya</i> .  Pertimbangkan sebuah contoh: <br><br><pre> <code class="plaintext hljs">TextItemFont.SetBitVectorValue(BOLD_ON, true); TextItemParam.s = SysAllocString(L” ”); Document2D.ksTextLine(TextItemParam); TextItemFont.Init(); TextItemFont.SetBitVectorValue(BOLD_OFF, true); TextItemParam.s = SysAllocString(L“ ”); Document2D.ksTextLine(TextItemParam); TextItemFont.Init(); TextItemParam.s = SysAllocString(L” ”); Document2D.ksTextLine(TextItemParam);</code> </pre><br>  Baris pertama ditampilkan dalam huruf tebal.  Untuk baris kedua, kami <i>menghapus</i> bendera <i>BOLD_ON</i> dan mengibarkan bendera BOLD_OFF yang <i>dipasangkan dengannya</i> , yang membatalkan gaya tebal.  Karena ini, baris kedua dan ketiga ditampilkan tanpa huruf tebal. <br><br>  Perilaku ini berlaku untuk bendera <i>ITALIC_ON</i> , <i>ITALIC_OFF</i> , <i>UNDERLINE_ON</i> dan <i>UNDERLINE_OFF</i> , tetapi tidak berlaku untuk bendera <i>NEW_LINE</i> , karena tidak memiliki sepasang bendera yang menimpa. <br><br><h2>  <font color="#00B2FF">Contoh</font> </h2><br><div class="spoiler">  <b class="spoiler_title">Berikut ini adalah kode sumber program, menampilkan output teks dengan gaya yang berbeda menggunakan paragraf.</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">//  ksTextItemParam TextItemParamPtr textItemParam; textItemParam = static_cast&lt;TextItemParamPtr&gt;(kompas-&gt;GetParamStruct(ko_TextItemParam)); //    ParagraphParamPtr paragraphParam; paragraphParam = static_cast&lt;ParagraphParamPtr&gt;(kompas-&gt;GetParamStruct(ko_ParagraphParam)); paragraphParam-&gt;Init(); paragraphParam-&gt;set_x(100.0); paragraphParam-&gt;set_y(100.0); //  Document2D-&gt;ksParagraph(paragraphParam); //  BSTR str = SysAllocString(L" "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); TextItemFontPtr textItemFont; textItemFont = static_cast&lt;TextItemFontPtr&gt;(textItemParam-&gt;GetItemFont()); textItemFont-&gt;set_bitVector(NEW_LINE | ITALIC_OFF); // str = SysAllocString(L"  "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); textItemFont-&gt;set_bitVector(NEW_LINE | ITALIC_ON | BOLD_ON); // str = SysAllocString(L" "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); textItemFont-&gt;set_bitVector(NEW_LINE | BOLD_OFF | UNDERLINE_ON); // str = SysAllocString(L" "); textItemParam-&gt;set_s(str); Document2D-&gt;ksTextLine(textItemParam); SysFreeString(str); //  Document2D-&gt;ksEndObj(); paragraphParam.Unbind(); textItemFont.Unbind(); textItemParam.Unbind();</code> </pre><br></div></div><br>  Bagian terpenting dari program ini adalah pengaturan flag yang tepat untuk jalur output.  Mari kita menganalisisnya lebih terinci (baris yang sesuai dari program ditandai dengan sepasang karakter " <i>//</i> "). <br><br>  Baris pertama ditampilkan tanpa perubahan apa pun.  Karenanya, tidak ada flag yang ditetapkan untuk itu. <br><br>  Baris kedua harus ditampilkan tanpa kemiringan dan dengan garis baru.  Oleh karena itu, tanda ditetapkan untuk itu: <i>NEW_LINE</i> (mulai pada baris baru) dan <i>ITALIC_OFF</i> (nonaktifkan <i>miring</i> ). <br><br>  Baris ketiga harus muncul dalam huruf miring dan tebal.  Untuk melakukan ini, kami mengibarkan bendera: <i>NEW_LINE</i> , <i>ITALIC_ON</i> ( <i>aktifkan</i> huruf miring) dan <i>BOLD_ON</i> ( <i>aktifkan</i> wajah tebal).  Semua flag lainnya disetel ulang. <br><br>  Baris keempat harus dicetak miring, bergaris bawah dan tidak tebal.  Untuk melakukan ini, kami mengibarkan bendera: <i>NEW_LINE</i> , <i>BOLD_OFF</i> (nonaktifkan huruf tebal, yang tersisa dari baris sebelumnya) dan <i>UNDERLINE_ON</i> (aktifkan bergaris bawah). <br><br>  Jika ada lebih banyak baris dalam paragraf, mereka akan ditampilkan dalam huruf miring bergaris miring.  Untuk menonaktifkan gaya yang digarisbawahi, Anda harus menghapus bendera UNDERLINE_ON dan mengibarkan bendera <i>UNDERLINE_OFF</i> . <br><br>  Gambar di bawah ini menunjukkan hasil dari program ini. <br><br> <a href=""><img src="https://habrastorage.org/webt/p-/gc/sy/p-gcsy8wpi5wz8gxaa69q55uut4.png"></a> <br><br><h2>  <font color="#00B2FF">Memisahkan informasi dari presentasi</font> </h2><br>  Jika Anda mengikuti struktur program Anda, Anda mungkin melihat kelemahan serius dari contoh sebelumnya: kode yang bertanggung jawab untuk menghasilkan output dicampur dengan kode yang bertanggung jawab untuk mengimplementasikan outputnya.  Dengan gaya pemrograman yang baik, biasanya memisahkan informasi dari presentasinya. <br><br>  Jika informasi output terdiri dari beberapa baris <b>ksTextItemParam</b> , maka mereka dapat digabungkan menjadi satu antarmuka <b>ksTextLineParam</b> .  Metode <b>ksTextLine</b> dapat menangani kedua antarmuka ini.  Tetapi pendekatan ini memiliki batasan yang tidak menyenangkan: jika metode <b>ksTextLine</b> menerima antarmuka <b>ksTextLineParam</b> , maka flag <i>NEW_LINE</i> (dan <i>SPECIAL_SYMBOL_END</i> ) diabaikan.  Yaitu, semua informasi akan ditampilkan pada satu baris, bahkan jika flag <b>NEW_LINE</b> <i>diatur</i> untuk beberapa <i>instance</i> <b>ksTextItemParam</b> .  Untuk mengatasi batasan ini, Anda harus secara manual memanggil <b>ksTextLine</b> untuk setiap baris. <br><br><div class="spoiler">  <b class="spoiler_title">Berikut ini adalah kode sumber untuk contoh yang menunjukkan teknik ini.</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">//    DynamicArrayPtr dynamicArray; dynamicArray = static_cast&lt;DynamicArrayPtr&gt;(kompas-&gt;GetDynamicArray(TEXT_ITEM_ARR)); dynamicArray-&gt;ksClearArray(); //  ksTextItemParam TextItemParamPtr textItemParam; textItemParam = static_cast&lt;TextItemParamPtr&gt;(kompas-&gt;GetParamStruct(ko_TextItemParam)); //   BSTR str = SysAllocString(L" "); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); TextItemFontPtr textItemFont; textItemFont = static_cast&lt;TextItemFontPtr&gt;(textItemParam-&gt;GetItemFont()); textItemFont-&gt;set_bitVector(NEW_LINE | ITALIC_OFF); str = SysAllocString(L"  "); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); textItemFont-&gt;set_bitVector(NEW_LINE | ITALIC_ON | BOLD_ON); str = SysAllocString(L" "); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); textItemFont-&gt;set_bitVector(NEW_LINE | BOLD_OFF | UNDERLINE_ON); str = SysAllocString(L" "); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); //    ParagraphParamPtr paragraphParam; paragraphParam = static_cast&lt;ParagraphParamPtr&gt;(kompas-&gt;GetParamStruct(ko_ParagraphParam)); paragraphParam-&gt;Init(); paragraphParam-&gt;set_x(100.0); paragraphParam-&gt;set_y(100.0); //  Document2D-&gt;ksParagraph(paragraphParam); //     for(unsigned int i = 0; i &lt; dynamicArray-&gt;ksGetArrayCount(); ++i) { dynamicArray-&gt;ksGetArrayItem(i, textItemParam); Document2D-&gt;ksTextLine(textItemParam); } //  Document2D-&gt;ksEndObj(); //  textItemFont.Unbind(); textItemParam.Unbind(); paragraphParam.Unbind(); dynamicArray-&gt;ksDeleteArray(); dynamicArray.Unbind();</code> </pre><br></div></div><br>  Dalam contoh ini, baris output pertama kali ditulis ke <b>DynamicArray</b> , dan hanya kemudian output ke paragraf.  Ini memungkinkan Anda untuk memisahkan informasi dari presentasinya.  Jika flag <i>NEW_LINE</i> tidak digunakan dalam contoh kita, maka kita bisa bertahan dengan satu panggilan ke metode <b>ksTextLine</b> . <br><br>  Hasil dari program ini mirip dengan hasil dari contoh sebelumnya. <br><br>  <b>Kesimpulan</b> <br><br>  Dalam pelajaran ini, kami melihat bagaimana membangun paragraf dan bagaimana menggunakannya untuk menampilkan teks multi-baris.  Kami juga belajar memisahkan informasi dari presentasinya.  Sayangnya, output teks multi-baris yang benar membutuhkan lintasan string array secara manual.  Ini sangat tidak nyaman.  Dalam pelajaran selanjutnya saya akan menunjukkan cara mengatasi masalah ini. <br><br>  <b>Untuk dilanjutkan, ikuti berita blog.</b> <br><br> <a href=""><img align="left" src="https://habrastorage.org/web/595/eee/f27/595eeef271b24830b3578751fcb52716.png"></a>  Sergey Norseev, Ph.D., penulis buku "Pengembangan Aplikasi untuk COMPAS di Delphi." </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id434336/">https://habr.com/ru/post/id434336/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id434326/index.html">Balet di udara: levitasi partikel yang dikendalikan karena gelombang suara</a></li>
<li><a href="../id434328/index.html">Tanda tangan elektronik untuk partisipasi dalam pengadaan</a></li>
<li><a href="../id434330/index.html">Apa yang Baru di YouTrack 2018.4</a></li>
<li><a href="../id434332/index.html">Dan sekali lagi tentang KIB SearchInform: kami berurusan dengan yang terbaru</a></li>
<li><a href="../id434334/index.html">Bagaimana baghunter mencegat surat pos udara di ZeroNights</a></li>
<li><a href="../id434338/index.html">Qt News, Mei 2018 - Desember 2018</a></li>
<li><a href="../id434340/index.html">Bagaimana kami mengaudit Wi-Fi di metro Delhi dan apa yang terjadi</a></li>
<li><a href="../id434342/index.html">Kursus MIT "Keamanan Sistem Komputer". Kuliah 22: "MIT Keamanan Informasi", bagian 1</a></li>
<li><a href="../id434344/index.html">Kursus MIT "Keamanan Sistem Komputer". Kuliah 22: "MIT Keamanan Informasi", bagian 2</a></li>
<li><a href="../id434346/index.html">Kursus MIT "Keamanan Sistem Komputer". Kuliah 22: "MIT Keamanan Informasi", bagian 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>