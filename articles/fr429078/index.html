<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☪️ 👨‍❤️‍💋‍👨 🧥 Comment créer de l'art procédural en moins de 100 lignes de code 🏇🏼 📋 👼🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'art génératif (art génératif ou procédural) peut vous faire peur si vous ne l'avez jamais rencontré auparavant. En bref, c'est un concept d'art qui ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment créer de l'art procédural en moins de 100 lignes de code</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pixonic/blog/429078/"><img src="https://habrastorage.org/webt/yc/sn/ki/ycsnkiwttkv6sfe8f2bsnfxxdie.jpeg"><br><br>  L'art génératif (art génératif ou procédural) peut vous faire peur si vous ne l'avez jamais rencontré auparavant.  En bref, c'est un concept d'art qui se crée littéralement et ne nécessite pas de connaissances en programmation hardcore pour la première fois.  J'ai donc décidé de diluer un peu notre bande, ils ont roulé. <br><a name="habracut"></a><br><h3>  Qu'est-ce que l'art génératif? </h3><br>  C'est le résultat d'un système qui prend ses propres décisions concernant un objet au lieu d'une personne.  Un système peut être aussi simple qu'un programme Python unique s'il a des règles et un moment de chance. <br><br>  Avec la programmation, il est assez facile de trouver des règles et des restrictions.  Il existe des déclarations conditionnelles pour cela.  Mais trouver des moyens de faire en sorte que ces règles créent quelque chose d'intéressant n'est peut-être pas aussi simple. <br><br><img src="https://habrastorage.org/webt/u6/am/ia/u6amiajkl8adxyjgisdudv7cld4.gif"><br>  <i>Le jeu de la vie de Conway</i> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le</a> jeu de la vie de Conway est un ensemble bien connu de quatre règles simples qui définissent la "naissance" et la "mort" de chaque cellule du système.  Chaque règle joue un rôle dans la promotion du système à chaque génération.  Bien que les règles soient simples et faciles à comprendre, des modèles complexes émergent rapidement et produisent finalement des résultats intéressants. <br><br>  Les règles peuvent être responsables de jeter les bases de quelque chose d'intéressant, mais même quelque chose d'aussi excitant que le jeu de la vie de Conway est prévisible.  Les quatre règles sont les facteurs déterminants pour chaque génération.  Par conséquent, pour obtenir des résultats inattendus, vous devez introduire la randomisation dans l'état initial des cellules.  En commençant par une matrice aléatoire, chaque exécution sera unique sans avoir besoin de changer les règles. <br><br>  Les meilleurs exemples d'art génératif sont ceux qui trouvent une combinaison de prévisibilité et de hasard pour créer quelque chose d'intéressant qui est statistiquement impossible à répéter. <br><br><h3>  Pourquoi devriez-vous essayer cela? </h3><br>  L'art génératif ne sera pas toujours ce sur quoi vous voulez passer du temps.  Mais si vous décidez d'y travailler, vous pouvez compter sur les avantages suivants: <br><br><ul><li>  Expérience.  L'art génératif est une autre occasion de perfectionner des compétences nouvelles et anciennes.  Il peut servir d'entrée pour l'élaboration de concepts tels que les algorithmes, les structures de données et même de nouveaux langages. </li><li> Des résultats tangibles.  En programmation, nous voyons rarement les résultats physiques de nos efforts.  Eh bien, ou du moins je ne le vois pas.  En ce moment dans mon salon, il y a plusieurs affiches avec des impressions de mon art procédural.  Et j'aime que cela se fasse par code. </li><li>  Des designs attrayants.  Tout le monde a eu l'expérience d'expliquer un projet personnel à quelqu'un, peut-être même lors d'un entretien.  L'art génératif parle de lui-même.  La plupart des gens apprécieront les résultats, même s'ils ne peuvent pas pleinement comprendre les méthodes. </li></ul><br><h3>  Par où commencer? </h3><br>  Commencer avec l'art génératif est le même processus que commencer avec n'importe quel autre projet.  L'étape la plus importante est de proposer une idée ou de la trouver pour un développement ultérieur.  Une fois que vous avez un objectif, vous pouvez commencer à travailler sur sa réalisation. <br><br>  La plupart de mes projets créatifs sont en Python.  C'est un langage assez simple avec de nombreux packages utiles qui aident au traitement d'image.  Par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Oreiller</a> . <br><br>  Heureusement, vous n'avez pas à chercher longtemps par où commencer - ci-dessous, je partagerai mon code. <br><br><h3>  Générateur de sprites </h3><br>  Ce projet a commencé lorsque j'ai vu un article avec un générateur de sprites écrit en JavaScript.  Le programme a créé des sprites d'art 5 × 5 pixels avec des options de couleurs aléatoires, et son résultat ressemblait à des envahisseurs spatiaux multicolores. <br><br>  Je voulais pratiquer le traitement d'image en Python, j'ai donc décidé de recréer ce concept moi-même.  De plus, j'ai pensé que je pouvais l'étendre, car le projet d'origine était très limité dans la taille des sprites.  Et je veux indiquer non seulement la taille des sprites, mais aussi leur nombre et même la taille de l'image. <br><br>  Voici deux résultats différents de mon programme: <br><br><img src="https://habrastorage.org/webt/xo/6t/l0/xo6tl0t--2_lw44aybj8wg1osi8.jpeg"><br>  <i>7x7-30–1900</i> <br><br><img src="https://habrastorage.org/webt/zt/5k/fd/zt5kfdwpmldq669jxraxhrrpob4.jpeg"><br>  <i>43x43-6–1900</i> <br><br>  Ces deux images sont complètement différentes l'une de l'autre, mais elles sont toutes deux le résultat du même système.  Sans parler du fait qu'en raison de la complexité et de la génération aléatoire de sprites, il y a une forte probabilité que, même avec les mêmes arguments, ces images soient toujours uniques.  Je l'adore. <br><br><h3>  L'environnement </h3><br>  Avant de vous familiariser avec le générateur de sprites, vous devez préparer une petite base pour le travail. <br><br>  Si vous n'avez jamais travaillé avec Python auparavant, téléchargez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Python 2.7.10</a> .  Au début, j'ai eu des problèmes avec la configuration de l'environnement, si vous les rencontrez également, regardez dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des environnements virtuels</a> .  Et assurez-vous que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pillow</a> est également installé. <br><br>  Après avoir configuré l'environnement, vous pouvez copier mon code dans un fichier avec l'extension <i>.py</i> et exécuter la commande suivante: <br><br><pre><code class="python hljs">python spritething.py [SPRITE_DIMENSIONS] [NUMBER] [IMAGE_SIZE]</code> </pre> <br>  Par exemple, la commande pour créer la première matrice de sprites serait: <br><br><pre> <code class="python hljs">python spritething.py <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">1900</span></span></code> </pre> <br><h3>  Code </h3><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PIL, random, sys <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PIL <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Image, ImageDraw origDimension = <span class="hljs-number"><span class="hljs-number">1500</span></span> r = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: random.randint(<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">215</span></span>) rc = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: (r(), r(), r()) listSym = [] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_square</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(border, draw, randColor, element, size)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (element == int(size/<span class="hljs-number"><span class="hljs-number">2</span></span>)): draw.rectangle(border, randColor) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> (len(listSym) == element+<span class="hljs-number"><span class="hljs-number">1</span></span>): draw.rectangle(border,listSym.pop()) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: listSym.append(randColor) draw.rectangle(border, randColor) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_invader</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(border, draw, size)</span></span></span><span class="hljs-function">:</span></span> x0, y0, x1, y1 = border squareSize = (x1-x0)/size randColors = [rc(), rc(), rc(), (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>)] i = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">0</span></span>, size): I *= <span class="hljs-number"><span class="hljs-number">-1</span></span> element = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">0</span></span>, size): topLeftX = x*squareSize + x0 topLeftY = y*squareSize + y0 botRightX = topLeftX + squareSize botRightY = topLeftY + squareSize create_square((topLeftX, topLeftY, botRightX, botRightY), draw, random.choice(randColors), element, size) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (element == int(size/<span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> element == <span class="hljs-number"><span class="hljs-number">0</span></span>): I *= <span class="hljs-number"><span class="hljs-number">-1</span></span>; element += I <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(size, invaders, imgSize)</span></span></span><span class="hljs-function">:</span></span> origDimension = imgSize origImage = Image.new(<span class="hljs-string"><span class="hljs-string">'RGB'</span></span>, (origDimension, origDimension)) draw = ImageDraw.Draw(origImage) invaderSize = origDimension/invaders padding = invaderSize/size <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">0</span></span>, invaders): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">0</span></span>, invaders): topLeftX = x*invaderSize + padding/<span class="hljs-number"><span class="hljs-number">2</span></span> topLeftY = y*invaderSize + padding/<span class="hljs-number"><span class="hljs-number">2</span></span> botRightX = topLeftX + invaderSize - padding botRightY = topLeftY + invaderSize - padding create_invader((topLeftX, topLeftY, botRightX, botRightY), draw, size) origImage.save(«Examples/Example-«+str(size)+»x»+str(size)+»-«+str(invaders)+»-«+str(imgSize)+».jpg») <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == «__main__»: main(int(sys.argv[<span class="hljs-number"><span class="hljs-number">1</span></span>]), int(sys.argv[<span class="hljs-number"><span class="hljs-number">2</span></span>]), int(sys.argv[<span class="hljs-number"><span class="hljs-number">3</span></span>]))</code> </pre> <br>  Cette solution est encore loin d'être parfaite, mais elle montre que la création d'art génératif ne nécessite pas une tonne de code.  Je vais vous expliquer les points clés. <br><br>  La fonction principale commence par la création de l'image d'origine et la détermination de la taille des sprites.  Deux boucles <i>for</i> sont chargées de déterminer la bordure de chaque image-objet, en divisant essentiellement la taille de l'image par le nombre d'images-objets demandées.  Ces valeurs sont utilisées pour déterminer les coordonnées de chacune d'entre elles. <br><br>  Jetez un œil à l'image ci-dessous.  Imaginez que chacun des quatre carrés est un sprite de taille 1. La bordure qui est passée à la fonction suivante fait référence aux coordonnées des coins supérieur gauche et inférieur droit.  Ainsi, le tuple dans le sprite supérieur gauche sera (0,0,1,1), et le tuple dans le coin supérieur droit sera (1,0,2,1).  Ils seront utilisés comme dimensions et coordonnées de base pour les carrés de chaque sprite. <br><br><img src="https://habrastorage.org/webt/i7/9c/5o/i79c5o71ea2a0imbraebexfxn6g.png"><br>  <i>Exemple de définition de bordures de sprite</i> <br><br>  La fonction <i>create_invader</i> définit la bordure de chaque carré à l'intérieur du sprite.  Le même processus de détermination de la frontière est appliqué ici et est présenté ci-dessous, seulement au lieu de l'image complète, nous utilisons une bordure prédéfinie pour travailler à l'intérieur.  Ces coordonnées finales pour chaque carré seront utilisées dans la fonction suivante pour dessiner un sprite. <br><br><img src="https://habrastorage.org/webt/il/pc/qi/ilpcqit8jiymmnclabgsdfhfpzs.png"><br>  <i>Exemple de panne de sprite 3 × 3</i> <br><br>  Pour déterminer la couleur, un simple tableau de trois tuples RVB aléatoires et de trois noirs est utilisé pour simuler 50% de chances d'être dessiné.  Les fonctions lambda en haut du code sont responsables de la génération des valeurs RVB. <br><br>  Le véritable truc de cette fonction est de créer une symétrie.  Chaque carré est associé à une valeur d'élément.  La figure ci-dessous montre comment les valeurs des éléments augmentent lorsqu'ils atteignent le centre, puis diminuent.  Les carrés avec des valeurs d'élément correspondantes sont affichés dans la même couleur. <br><br><img src="https://habrastorage.org/webt/c5/ut/sw/c5utswyhwljn2jj9piqns9hahmw.png"><br>  <i>Valeurs des éléments et couleurs symétriques pour une chaîne dans un sprite 7 × 7</i> <br><br>  Comme <i>create_square</i> obtient ses paramètres de <i>create_invader</i> , il utilise la file d'attente et les valeurs des éléments précédents pour assurer la symétrie.  Lorsque les valeurs apparaissent pour la première fois, leurs couleurs sont placées dans la file d'attente et les carrés de miroir suppriment les couleurs. <br><br><img src="https://habrastorage.org/webt/v5/q2/bi/v5q2bijipth0eyvrag79dpuw6li.gif"><br>  <i>Processus de création complet</i> <br><br>  Je comprends à quel point il est difficile de lire la solution de quelqu'un d'autre au problème et le code tordu, mais j'espère que vous trouverez cette application.  Ce sera cool si vous abandonnez complètement mon code et trouvez une solution complètement différente. <br><br><h3>  Conclusion </h3><br>  L'art génératif met du temps à atteindre son plein potentiel.  En général, il peut y avoir plus de projets utiles que l'art génératif, ce qui ne vaut pas toujours le temps.  Mais c'est très amusant et on ne sait jamais où cela peut être utile. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr429078/">https://habr.com/ru/post/fr429078/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr429068/index.html">Un poste très corporate: ouverture à Moscou ou pourquoi les 10 et 11 novembre sont de bons jours pour acheter de l'électronique</a></li>
<li><a href="../fr429070/index.html">Linux ne peut pas être chargé sur de nouveaux MacBook en raison de la puce T2</a></li>
<li><a href="../fr429072/index.html">Pourquoi Kodak est mort et Fujifilm s'est épanoui: l'histoire de deux cinéastes</a></li>
<li><a href="../fr429074/index.html">Bonnes actions pour Google Money: nouveau défi d'impact sur l'IA</a></li>
<li><a href="../fr429076/index.html">L'évolution de la recherche - comment acheter un piano en trois clics</a></li>
<li><a href="../fr429082/index.html">La Thaïlande sans stéréotypes</a></li>
<li><a href="../fr429084/index.html">La deuxième vie du four électrique "Kharkov"</a></li>
<li><a href="../fr429086/index.html">Fête de la bière de sauvegarde</a></li>
<li><a href="../fr429088/index.html">Exécution de requêtes GraphQL avec OdataToEntity</a></li>
<li><a href="../fr429090/index.html">Introduction à l'apprentissage renforcé</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>