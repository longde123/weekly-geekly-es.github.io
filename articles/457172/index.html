<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñêüèº üë©üèº‚Äçüéì üë∂üèΩ ScreenLogger - sonr√≠e, una c√°mara oculta te filma üë®üèæ‚Äçüéì üëáüèΩ üë©‚Äç‚ù§Ô∏è‚Äçüë®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entonces bienvenido. En este art√≠culo, analizaremos el proceso de escribir un programa que permita el monitoreo en tiempo real de todas las acciones q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ScreenLogger - sonr√≠e, una c√°mara oculta te filma</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457172/">  Entonces bienvenido.  En este art√≠culo, analizaremos el proceso de escribir un programa que permita el monitoreo en tiempo real de todas las acciones que ocurren en una computadora remota, sin el conocimiento del usuario final.  El autor del art√≠culo advierte que no es responsable del uso ilegal de las siguientes tecnolog√≠as y no recomienda su uso con fines ilegales.  Vamos! <br><a name="habracut"></a><br>  Al escribir cualquier producto de software lo suficientemente grande, debe dividir la tarea global en varias m√°s simples.  Entonces, en este caso, he identificado varios procesos pr√°cticamente no relacionados que, trabajando juntos, nos permiten lograr el resultado deseado.  En particular, para implementar la tarea se requiere implementar: <br><br>  0) Agregar archivos de servicio en la primera ejecuci√≥n a las carpetas del sistema <br>  1) Tome una captura de pantalla de la pantalla <br>  2) Enviar una captura de pantalla a un servidor remoto <br><br>  En consecuencia, se seleccion√≥ la plataforma .NET para su implementaci√≥n, que tiene toda la funcionalidad necesaria.  La aplicaci√≥n est√° escrita en WindowsForms con el prop√≥sito de visualizaci√≥n y depuraci√≥n, en general podr√≠a ser una consola. <br><br>  Descripci√≥n de funciones: <br><br>  SetConfig: proporciona par√°metros de configuraci√≥n de lectura del archivo de configuraci√≥n adjunto <br>  Enviar: responsable de enviar una captura de pantalla al correo electr√≥nico <br>  MakeScreen: responsable de tomar una captura de pantalla <br>  C√≠rculo: es responsable de repetir la toma y enviar una captura de pantalla en segundo plano a una frecuencia especificada <br>  CasualStart: define acciones en el pr√≥ximo lanzamiento del programa <br>  FirstStart: garantiza la correcta instalaci√≥n del programa <br><br>  Ahora, un poco m√°s de detalle sobre cada una de las funciones.  Configuraci√≥n de configuraci√≥n: <br><br>  Como el software debe ser flexible, deber√≠a ser posible cambiar los par√°metros internos del programa desde fuera de su c√≥digo.  En cada inicio, este software intenta encontrar el archivo SaveScreen.ini, actualizar su configuraci√≥n y solo entonces comenzar a funcionar en modo normal.  En el caso de que sea imposible actualizar los par√°metros, se utilizan los valores predeterminados. <br><br>  (qu√© par√°metro es responsable de lo que estar√° al final del art√≠culo) <br><br>  Por razones t√©cnicas, en lugar de un espacio, tuve que usar el gui√≥n bajo y en lugar de @ - #, pero dentro del programa se realiza el reemplazo inverso. <br><br>  La ejecuci√≥n del programa comienza en el bloque Form1_load y puede desarrollarse en dos modos: inicio normal (si la computadora tiene un directorio de instalaci√≥n) e instalaci√≥n (si no hay un directorio de instalaci√≥n).  Consideremos cada uno de ellos. <br><br>  Primera ejecuci√≥n: <br>  En el primer inicio, debe crear un directorio en el que se colocar√°n los archivos del programa, transferir el archivo ejecutable y el archivo de configuraci√≥n all√≠, as√≠ como agregar las entradas necesarias al registro para agregar software para la ejecuci√≥n autom√°tica. <br><br>  En consecuencia, esto es implementado por la funci√≥n FirstStart () <br><br><img src="https://d.radikal.ru/d14/1906/04/f4ee4587b18b.png" alt="imagen"><br><br>  Despu√©s de la instalaci√≥n, la aplicaci√≥n se cierra; la pr√≥xima vez que reinicie la computadora, funcionar√° como siempre. <br><br>  Lanzamiento regular: <br>  Un lanzamiento regular inicia un subproceso en segundo plano que toma capturas de pantalla y las env√≠a, adem√°s de borrar la carpeta con capturas de pantalla tomadas durante la √∫ltima sesi√≥n.  Despu√©s de lo cual, espera un per√≠odo considerable de tiempo antes de la terminaci√≥n forzada de la aplicaci√≥n.  Antes de comenzar el subproceso en segundo plano, es posible una pausa, que debe establecerse en computadoras relativamente lentas para acelerar la carga del sistema y la ausencia de conflictos en el inicio. <br>  asualStart () <br><br><img src="https://a.radikal.ru/a13/1906/76/bae96b8edc05.png" alt="imagen"><br><br>  Circulaci√≥n: <br>  Todo es prosaico para deshonrar: en el ciclo eterno que tomamos y enviamos capturas de pantalla, luego de lo cual esperamos el tiempo especificado.  Un orden de magnitud m√°s interesante es el proceso de tomar y enviar una pantalla. <br><br><img src="https://a.radikal.ru/a02/1906/52/b42de775c12e.png" alt="imagen"><br><br>  Toma una captura de pantalla: <br>  En C #, es posible guardar una imagen en un mapa de bits utilizando la funci√≥n de copia desde la pantalla.  Por lo tanto, todo lo que debe hacerse es crear un objeto para almacenar una captura de pantalla con una resoluci√≥n igual a la resoluci√≥n de pantalla actual, adjuntarle un objeto que pueda recibir un mapa de bits de la pantalla y guardarlo en un directorio creado previamente. <br><br><img src="https://b.radikal.ru/b33/1906/5a/acc9a1d27cab.png" alt="imagen"><br><br>  Enviando por correo: <br>  En C #, es posible trabajar con el correo utilizando clases predefinidas que le permiten completar los campos del mensaje, especificar el destinatario y el destinatario y, de hecho, enviar llamando a un m√©todo.  Envuelva este m√©todo en un bloque try-catch en caso de que no haya conexi√≥n de red; incluso en este caso, el programa no dar√° un mensaje de error, sino que esperar√° obedientemente hasta que tenga la oportunidad de acceder al servidor.  El servidor de correo se eligi√≥ por razones de simplicidad, en principio: puede lanzar im√°genes en cualquier lugar. <br><br><img src="https://c.radikal.ru/c40/1906/2c/396fb8a589af.png" alt="imagen"><br><br>  Interacci√≥n general: <br>  El lanzamiento del programa, repito, se lleva a cabo en el m√©todo Form1_Load.  El programa intenta actualizar la configuraci√≥n, luego determina si se inici√≥ por primera vez, si es as√≠, se agrega a la carpeta correcta y al inicio y se deshabilita, y si no, inicia un proceso en segundo plano que arroja de manera estable la imagen de la pantalla al servidor de correo en un intervalo determinado.  Nada complicado o inusual, solo la interacci√≥n de varias clases integradas. <br><img src="https://c.radikal.ru/c43/1906/a6/31a4a5264634.png" alt="imagen"><br><br>  Y, finalmente, una explicaci√≥n del archivo de autoconfiguraci√≥n: todos los nombres de variables coinciden con los nombres en el programa, por lo tanto, al explicar los campos en el archivo int, tambi√©n describo las variables mismas. <br><br><img src="https://c.radikal.ru/c29/1906/d0/cac30403952c.png" alt="imagen"><br><br>  wayToDir: el nombre de la subcarpeta en la que se sueltan las capturas de pantalla <br>  finalDir = -name del directorio al que se transfiere el programa <br>  nameOfApp = nombre del archivo ejecutable <br>  subKeyAdress = ruta a la entrada del registro para agregar a la ejecuci√≥n autom√°tica <br>  reservado - campo reservado <br>  nombre: nombre de la entrada del registro <br>  startPause: pausa antes de grabar capturas de pantalla <br>  exitPause - pausa antes de la salida forzada del programa <br>  adressFrom - direcci√≥n del remitente <br>  nameFrom - firma del remitente <br>  nameTo: direcci√≥n de correo del destinatario <br>  mailSubject - Asunto del correo electr√≥nico <br>  mailBody - mensaje de texto <br>  smtpAdress: direcci√≥n SMTP del servidor de correo del remitente <br>  smtpPort - puerto para enviar correo <br>  mailPassword: contrase√±a del correo del remitente <br>  exp - extensi√≥n de archivo <br>  timeBetweenScreens: el tiempo entre tomar dos capturas de pantalla. <br><br>  En resumen: <br><br>  El proceso de escribir una aplicaci√≥n para el seguimiento de acciones en una computadora remota se acaba de describir.  Al conectar aqu√≠, recibir un archivo con una lista de comandos del servidor y dividirlo, obtenemos un TeamViewer auto-escrito simplificado.  Pero esto no est√° en este art√≠culo. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥digo fuente</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/457172/">https://habr.com/ru/post/457172/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457154/index.html">Dise√±o de aplicaci√≥n receptiva para cada usuario</a></li>
<li><a href="../457156/index.html">¬øCu√°les pueden ser los sistemas inform√°ticos del futuro?</a></li>
<li><a href="../457160/index.html">Mi enfoque para implementar delegados en C ++: llamar a una funci√≥n con par√°metros desconocidos en tiempo de ejecuci√≥n</a></li>
<li><a href="../457164/index.html">Navegaci√≥n en una aplicaci√≥n multiplataforma .NET Core con guardar estado en disco usando el ejemplo de ReactiveUI y Avalonia</a></li>
<li><a href="../457168/index.html">An√°lisis de sentimiento de prototipo con Python y TextBlob</a></li>
<li><a href="../457178/index.html">C√≥mo se dise√±an y fabrican los procesadores: dise√±o de CPU</a></li>
<li><a href="../457180/index.html">El sitio oficial Node.js ahora est√° en ruso</a></li>
<li><a href="../457182/index.html">Lengua REXX, 40 aniversario</a></li>
<li><a href="../457184/index.html">Crear din√°micamente robots.txt para sitios principales de ASP.NET</a></li>
<li><a href="../457186/index.html">Python en Visual Studio Code - Versi√≥n de junio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>