<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèø‚Äçü§ù‚Äçüßëüèø ü§≥üèª üë®üèΩ‚Äçüé§ Criando sua pr√≥pria rede de dispositivos caseiros com base no Arduino (Parte 1) üçÑ üëµüèº üßëüèΩ‚Äçü§ù‚ÄçüßëüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Boa tarde, habravchane! Hoje vou falar sobre a integra√ß√£o do Arduino com um PC no Windows e outros dispositivos. J√° era em 2018, minhas placas Arduino...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Criando sua pr√≥pria rede de dispositivos caseiros com base no Arduino (Parte 1)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414225/"> Boa tarde, habravchane!  Hoje vou falar sobre a integra√ß√£o do Arduino com um PC no Windows e outros dispositivos.  J√° era em 2018, minhas placas Arduino de v√°rios modelos finalmente chegaram at√© mim. <br><br>  H√° muito que eu queria construir uma casa inteligente e decidi usar essa plataforma em particular.  Porque  Bem, eu conhe√ßo C # muito bem e um pouco de C ++, mas como voc√™ sabe, o firmware do Arduino est√° escrito nas vantagens alteradas.  Al√©m disso, a plataforma possui um conversor digital-anal√≥gico, que simplifica o trabalho com sensores anal√≥gicos.  Al√©m disso, a plataforma √© muito famosa e possui uma grande base modular. <br><br>  Com todo o meu amor por microcontroladores, prefiro calcular tudo no Windows e toda a minha for√ßa est√° em aplicativos .NET.  Este foi o meu problema.  Eu simplesmente n√£o conseguia entender o ambiente de desenvolvimento do Arduino IDE.  Eu tive que me acostumar com isso.  No entanto, projetos simples de aquecimento ainda funcionavam principalmente em um PC.  Quem estiver interessado no t√≥pico, pe√ßo um recorte! <br><a name="habracut"></a><br>  Meu primeiro experimento foi uma simples troca de informa√ß√µes via USB (porta serial), atrav√©s da qual enviei pacotes com comandos simples para executar a√ß√µes no microcontrolador.  Por exemplo, usei o modelo UNO do Arduino. <br><br><img src="https://habrastorage.org/webt/pj/us/mt/pjusmt29ih62p-so_z-w39qp9z0.png"><br><br>  Essa √© a interface do programa para Windows.  "Squeak" - sinal para um pino (pino do Arduino) no n√∫mero 10 de um sinal el√©trico constante, que √© acionado pela campainha que eu conectei.  ‚ÄúLED‚Äù - fonte de corrente direta para o pino 13, que por padr√£o no controlador est√° conectado ao LED embutido, que serve para depurar esbo√ßos (firmware). <br><br><img src="https://habrastorage.org/webt/qw/x8/f2/qwx8f2zmtv89uux3hspqyzs9npc.png"><br><br>  No entanto, toda essa funcionalidade est√° exatamente no controlador. <br><br>  O que o programa faz?  Apenas envia n√∫meros para a porta!  "0" significa desativar <br>  LED, ‚Äú1‚Äù - acenda o LED, ‚Äú2‚Äù - desligue a campainha, ‚Äú3‚Äù - acenda <br>  campainha.  Tudo √© feito usando os elementos b√°sicos do Windows Forms.  Se <br>  quem estiver interessado, a taxa de c√¢mbio de dados √© de 115200 baud.  Obrigado <br>  Para isso, posso visualizar facilmente o conte√∫do das mensagens do microcontrolador em <br>  Arduino IDE. <br><br><img src="https://habrastorage.org/webt/gg/md/dh/ggmddh_s_sbhimmmxqzghlpkpeg.png"><br><br>  Eu acho que muitos agora queriam saber o que havia no firmware do microcontrolador.  Como fazia muito tempo, n√£o era f√°cil procurar o c√≥digo de firmware do Arduino, mas o arquivo ainda foi encontrado! <br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo inteiro</b> <div class="spoiler_text">  Comi alguma coisa, esta √© uma vers√£o antiga do arquivo, sem uma campainha, apenas com um LED. <br><br><pre><code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; //       <span class="hljs-type"><span class="hljs-type">int</span></span> led = <span class="hljs-number"><span class="hljs-number">13</span></span>; <span class="hljs-type"><span class="hljs-type">void</span></span> setup() {  <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>(<span class="hljs-number"><span class="hljs-number">115200</span></span>);   //      pinMode(led, OUTPUT); //    <span class="hljs-number"><span class="hljs-number">13</span></span>-      } <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>() {  i = i + <span class="hljs-number"><span class="hljs-number">1</span></span>; //         String stringOne = "Info from Arduino ";  stringOne +=i; //  <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println(stringOne); //     <span class="hljs-type"><span class="hljs-type">char</span></span> incomingChar;  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-type"><span class="hljs-type">Serial</span></span>.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>)  {    //           incomingChar = <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>();   //        LED    switch (incomingChar)    {      <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'1'</span></span>: digitalWrite(led, HIGH);        break;      <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>: digitalWrite(led, LOW);        break;    }  }  delay(<span class="hljs-number"><span class="hljs-number">300</span></span>); }</code> </pre> <br></div></div><br>  No entanto, este √© apenas um exemplo.  A √∫nica coisa - esse sistema deve ter um hub - ou seja, o ponto de interse√ß√£o de todos os dispositivos.  E isso destr√≥i instantaneamente toda a descentraliza√ß√£o do sistema. <br><br>  Da√≠ a conclus√£o - o m√©todo de usar o hub √© adequado apenas para coleta e gerenciamento de informa√ß√µes.  Um hub √© necess√°rio, por exemplo, para acessar dispositivos na Internet, mas n√£o como um ponto chave de comunica√ß√£o entre eles. <br><br>  Suponha que possamos conectar todos os dispositivos usando I2C ou usando nosso pr√≥prio protocolo.  Mas como soltar dados no hub?  E, em geral, o que servir√° como hub?  Op√ß√£o 3: <br><br><ul><li>  Hub do roteador. </li><li>  Hub de outra placa Arduino. </li><li>  Hub de Raspberry Pi. </li></ul><br>  <b>Vamos considerar tudo por sua vez.</b>  <b>Ent√£o, o roteador.</b>  Para come√ßar, o roteador √© necess√°rio n√£o apenas, mas com o Linux integrado e uma porta USB para conectar <u>qualquer</u> placa Arduino do sistema.  Isso porque a rede consiste em um grande n√∫mero de dispositivos e um "bate-papo" geral, onde todos os dispositivos enviam mensagens sobre seu status.  Nos roteadores, por exemplo, ‚ÄúLinksys E2100L 802.11b / g / n‚Äù √© adequado. <br><br><img src="https://habrastorage.org/webt/37/gq/sn/37gqsn0qkoare2okc36gtp8pipi.png"><br><br>  Como voc√™ pode ver, este roteador possui um conector USB, e as caracter√≠sticas mostram que tudo est√° girando no Linux.  Eu pessoalmente n√£o o usei, mas de acordo com as caracter√≠sticas que nos servir√£o.  E isso <u><i>n√£o</i></u> √© <u><i>um</i></u> an√∫ncio. <br><br>  No caso de um roteador, voc√™ pode soltar dados em uma porta serial, como no Windows, e executar um script - um manipulador de mensagens no Linux (desculpe, se algo n√£o √© chamado dessa maneira, eu n√£o estou familiarizado com o Linux). <br><br>  <b>Considere a op√ß√£o 2.</b> Outra placa Arduino.  Os modelos Nano, Mini, Micro n√£o s√£o mais adequados aqui.  Precisa de um modelo Arduino, UNO ou MEGA.  Mas simplesmente n√£o conecte a placa √† rede.  Como op√ß√£o, use o Arduino UNO WI-FI, ou o que √© mais confi√°vel, o Arduino Yun ou Tian.  Os problemas deste √∫ltimo s√£o um pre√ßo e um download relativamente longos e, por funcionalidade, parecem o mesmo roteador, porque funcionam no Linux. <br><br>  √â melhor usar o chamado Ethernet Shield.  Esta √© uma placa de expans√£o para o Arduino, que √© usada por cima e permite que voc√™ crie um servidor WEB simples no seu dispositivo com scripts PHP simples para processar informa√ß√µes de outros dispositivos na rede. <br><br><img src="https://habrastorage.org/webt/9g/f-/bm/9gf-bmua1brpvp5tqgirzwzgleq.png"><br><br>  Alguns modelos desta placa de expans√£o est√£o equipados com um slot para cart√£o de mem√≥ria micro-sd, que permite o registro local al√©m do controle remoto. <br><br>  <b>Op√ß√£o 3.</b> Quase o mesmo que o anterior e muito menos o que eu gosto.  Usando um micro <u>computador</u> Raspberry Pi.  √â um computador.  Concorde em desligar um computador inteiro para esta tarefa, embora muito fraco - um desperd√≠cio extra de recursos.  Monet√°rio e computacional.  Pessoalmente, eu usaria o Raspberry Pi apenas como um servidor de vigil√¢ncia por v√≠deo ou como um programa pronto para gerenciar uma casa inteligente como o Major DoMo e similares.  Voc√™ tamb√©m pode executar tarefas como bots em mensageiros e algoritmos complexos para controlar o microclima ou, no caso mais improv√°vel, colocar intelig√™ncia artificial l√°. <br><br><img src="https://habrastorage.org/webt/bm/ur/-t/bmur-tucs_em_ilga0wnixv0uby.png"><br><br>  Como voc√™ pode ver, o Raspberry Pi 3 possui: <br><br><ul><li>  4 portas USB </li><li>  1 porta Ethernet; </li><li>  1 porta HDMI </li><li>  Wi-Fi </li><li>  Interface DSI para conectar um monitor Raspberry Pi a uma tela sens√≠vel ao toque; </li><li>  Slot para cart√µes micro-SD. </li></ul><br>  E muito mais  Mas, apesar de todas as vantagens, o Raspberry Pi n√£o √© adequado como um hub. <br><br>  <b>Conclus√£o: O</b> Arduino UNO + Ethernet Shield √© mais adequado como um hub para mim pessoalmente.  De todas as op√ß√µes consideradas, essa √© a mais barata e mais f√°cil de implementar. <br><br><img src="https://habrastorage.org/webt/th/bc/yb/thbcybmw3avkwfa91mr38xgduua.png"><br><br>  Nesta configura√ß√£o, a operabilidade do sistema n√£o depende do hub.  E mesmo se o hub travar, n√£o afetar√° o desempenho da pr√≥pria rede.  A rede perder√° apenas o acesso √† Internet. <br><br>  Eu acho que a primeira parte pode ser conclu√≠da sobre isso.  At√© breve! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt414225/">https://habr.com/ru/post/pt414225/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt414215/index.html">Blocos personalizados em chips (Silicon IP): como funciona</a></li>
<li><a href="../pt414217/index.html">Smartphones locais da Vertex: primeiro em qualidade, primeiro em chips, primeiro em design</a></li>
<li><a href="../pt414219/index.html">A experi√™ncia de usar energia solar na regi√£o de Moscou: a favor, contra e quem precisa</a></li>
<li><a href="../pt414221/index.html">Analisando e trabalhando com Codable no Swift 4</a></li>
<li><a href="../pt414223/index.html">C #: compatibilidade com vers√µes anteriores e sobrecarga</a></li>
<li><a href="../pt414227/index.html">Um novo estudo dos indicadores de telegrama ap√≥s o bloqueio: os assinantes est√£o crescendo, a cobertura est√° caindo</a></li>
<li><a href="../pt414229/index.html">An√°lise de v√°rios m√©todos de treinamento de TI</a></li>
<li><a href="../pt414231/index.html">Como fiz um computador completamente silencioso</a></li>
<li><a href="../pt414233/index.html">1. Baseado em Meyers ‚Äúc ++ efetivo e moderno‚Äù - infer√™ncia de tipo de modelo</a></li>
<li><a href="../pt414235/index.html">A misteriosa hist√≥ria de um esquizofr√™nico e um xam√£</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>