<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💫 ✌️ ✖️ 后端开发人员的前端 🌲 🎭 🤛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我想马上保留一点，即本文不适合那些进行前端开发主要活动的人员。 这篇文章面向急需固定Web UI的后端开发人员或仅对新领域感兴趣的后端开发人员，以及全栈开发人员。 

 因此，让我们继续解决这个问题。 我记得有一篇文章 ，而且在哈勃（Habr）的开放空间中，还有更多类似的文章。 它们全都以喜剧形式呈...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>后端开发人员的前端</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438584/">我想马上保留一点，即本文不适合那些进行前端开发主要活动的人员。 这篇文章面向急需固定Web UI的后端开发人员或仅对新领域感兴趣的后端开发人员，以及全栈开发人员。 <br><br> 因此，让我们继续解决这个问题。 我记得<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有一篇文章</a> ，而且在哈勃（Habr）的开放空间中，还有更多类似的文章。 它们全都以喜剧形式呈现，但是正如他们所说的“在每个笑话中都有一点道理”，而在这里甚至没有一点……但这是一个问题，所有这些框架有多么有用？ <br><br> 我想提出的问题主要是关于组装。 正是在这个阶段，js社区提供了数量惊人的工具，对这些工具的需求一点也不明显。 例如，社区提供了使用模块的各种选项，这在当时是很有意义的，但目前，所有现代浏览器（甚至边缘浏览器）都支持<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">导入</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">导出</a>规范。 由于我们前面提到过，我们没有理由使用旧库，因此我们将研究导入/导出规范。 但是我们真正需要的是某种与依赖项相关的工作。 <br><a name="habracut"></a><br> 我将做一点题外话，说明在示例中将为前端本身使用的技术的选择。 为了不深入研究各种各样的框架，让我们从一个出色的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">标准</a>着手。 因此，一切都变得非常简单，没有虚拟DOM，有Web组件。 可以完成，但是仍然是js。 如果我们决定摆脱<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">纯</a> js，那么我们将不得不以某种方式解决基础架构问题，摆脱锅炉代码等。 换句话说，让您的自行车有点...为了不这样做，我想采取一些已经完成且质量足够的事情。 因此，我的选择落在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Polymer</a>上<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-Google</a>的框架，该框架将Web组件推向了标准。 <br><br> 回到组装。 你们中的许多人（无论如何都是Java开发人员）都习惯于使用诸如maven和gradle之类的工具，并且您可能设法发现他们在资源操纵方面做得很好（对于maven，这当然要差一些，但是对于gradle而言，根本没有问题）任何东西）。 前端社区为我们提供了npm，需要它的nodeJ，但这还不够，webpack还是最重要的。 他们仍然必须理解并交付给每个开发人员。 嗯...我只想缩小存储库，构建gradlew并开始工作，所以让我们停在通常的gradle上。 <br><br> 当然，我们根本不能没有npm，至少我们需要一个可以从其中获取js库的仓库，而npm可以提供它，但是该实用程序是可选的。 您可以找到诸如此类的一些好的解决方案，但是它们总是下载nodeJ并运行npm任务。 一个选项，但是我想在与存储库等交互之前，尽量减少与npm的通信。 作为解决方案，编写自己的gradle插件。 尽管为gradle编写插件非常简单，但是由于为npm存储库指定版本的选项多种多样，因此任务有些复杂。 幸运的是，这里有明确的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文档</a> 。 <br><cut></cut><br> 因此，让我们编写一个gradle脚本来加载依赖项。  kotlin dsl使用它的原因是，重写groovy dsl足够简单，但是相反，如果没有以前的经验，则需要时间。 <br><br><pre><code class="kotlin hljs">repositories { mavenLocal() jcenter() } dependencies { classpath(<span class="hljs-string"><span class="hljs-string">"com.github.artfable.gradle:gradle-npm-repository-plugin:0.0.3"</span></span>) } apply(plugin = <span class="hljs-string"><span class="hljs-string">"artfable.npm"</span></span>) configure&lt;GradleNpmRepositoryExtension&gt; { output = <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$projectDir</span></span></span><span class="hljs-string">/src/libs/"</span></span> dependencies = mapOf( Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/polymer"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.5"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/app-layout"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/paper-toolbar"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/paper-icon-button"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/iron-icons"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@webcomponents/webcomponentsjs"</span></span>, <span class="hljs-string"><span class="hljs-string">"2.1.3"</span></span>) ) }</code> </pre> <br> 这个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">插件</a>将为我们添加<i>npmLoad</i> 。 为了让IDE分组更好，请在一个分组中对其进行定义 <br><br><pre> <code class="kotlin hljs">tasks[<span class="hljs-string"><span class="hljs-string">"npmLoad"</span></span>].group = <span class="hljs-string"><span class="hljs-string">"frontend"</span></span></code> </pre> <br> 太好了，您可以尝试为我们的前端编写代码。 默认情况下，内置的Intellij服务器会告诉您“ <i>不允许的方法”</i>正在尝试通过导入连接脚本。 为避免这种情况，请选中“ <i>允许使用请求”</i>复选框。  （在最新版本中，没有它就可以使用）。 <br><br><img src="https://habrastorage.org/webt/xq/pv/h5/xqpvh57s9uum5zynuqx_muf0rc4.png" alt="设置（图1）"><br><br> 让我们尝试从现在开始，然后...仍然没有任何效果。 聚合物组分内部的依赖性下降。 事实是，许多js库在导入某种导入式编译器（如babel）的情况下都会进行导入。 这样的导入看起来像这样： <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'@polymer/polymer/polymer-legacy.js'</span></span>;</code> </pre> <br> 此语法导入不正确，因为对于浏览器，路径应仅以“ /”、“./”或“ ../”开头。 此外，以这种形式不能将其视为相对的或绝对的，因为此处的计算是从根目录开始的库目录的开始。 因此，需要固定这些路径，并且为了自己避免这样做，可以使用准备好的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">插件</a> 。 <br><br> 根据 <br><br><pre> <code class="kotlin hljs">classpath(<span class="hljs-string"><span class="hljs-string">"com.github.artfable.gradle:gradle-js-import-fix-plugin:0.0.1"</span></span>)</code> </pre><br><pre> <code class="kotlin hljs">apply(plugin = <span class="hljs-string"><span class="hljs-string">"artfable.js.import.fix"</span></span>) configure&lt;GradleJsImportFixExtension&gt; { directory = <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$projectDir</span></span></span><span class="hljs-string">/src/libs"</span></span> }</code> </pre><br> 任务<i>jsImportFix</i>将被<i>添加</i> ，它将按顺序将所有导入。 <br><cut></cut><br> 就像这样，无需处理大量新工具，您就可以放在一起。 但是，让我们再次看一下样式问题。 坦白地说，Web组件摆脱了样板，并且标准中已经包含了CSS中的变量，这提供了许多可能性，因此不再需要诸如sass之类的东西。 但是突然之间，例如，您非常喜欢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">自举</a> ，并想要基于它进行设计。 <br><br> 找到任何可以在此主题上构建的插件都是没有问题的，基本上，它们都以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">libsass</a>为基础，并且java- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">jsass中</a>有一个包装器。 每个人（至少在我考虑它们的时候）唯一的问题是复制依赖文件。 <br><br> 一个例子： <br><br> 档案a： <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> “b”; @<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> “c”;</code> </pre><br>  _B和_c文件： <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> “d”;</code> </pre> <br> 结果，我们从_c文件中获取了两个相同的主块。 如果将<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">导入器</a>添加到jsass，则api允许，您可以非常简单地对其进行修复。 因此，实际上，我还是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在这里</a>做出决定（如果没有这样的要求，那么最好使用其他解决方案）。 <br><br> 将npm依赖项添加到列表中 <br><br><pre> <code class="kotlin hljs">Pair(<span class="hljs-string"><span class="hljs-string">"bootstrap"</span></span>, <span class="hljs-string"><span class="hljs-string">"4.1.3"</span></span>)</code> </pre> <br> 插件依赖 <br><br><pre> <code class="kotlin hljs">classpath(<span class="hljs-string"><span class="hljs-string">"com.github.artfable.gradle:gradle-sass-plugin:0.0.1"</span></span>)</code> </pre> <br><pre> <code class="kotlin hljs">apply(plugin = <span class="hljs-string"><span class="hljs-string">"artfable.sass"</span></span>) configure&lt;GradleLibsassPluginExtension&gt; { group(delegateClosureOf&lt;GradleLibsassPluginGroup&gt; { sourceDir = <span class="hljs-string"><span class="hljs-string">"src/sass"</span></span> outputDir = <span class="hljs-string"><span class="hljs-string">"src/css"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Closure&lt;Any&gt;) } tasks.create(<span class="hljs-string"><span class="hljs-string">"processResources"</span></span>)</code> </pre><br> 如果未连接Java插件，则必须创建processResources伪造任务（我们在这里不需要）。 这当然是一个缺陷，那么我一定会解决。 <br><br> 请注意，生成的css文件一定不能连接到<i>head</i> ，因为从那以后它在组件内部将是不可见的，而是直接进入组件本身的模板中。 <br><br> 最后一步是稍微修改脚本，以获取通常的<i>构建</i>目录，并带有可以部署到生产中的现成项目。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">完整的代码已</a>上传到github（稍后可能需要迁移到gitlab ...）。 <br><br> 我希望基本思路清楚，然后可以添加任何您喜欢的内容。 感谢您的阅读。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN438584/">https://habr.com/ru/post/zh-CN438584/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN438574/index.html">Flutter应用程序架构基础：香草，范围模型，BLoC</a></li>
<li><a href="../zh-CN438576/index.html">流行的开源-第三部分：面向开发人员的5种工具</a></li>
<li><a href="../zh-CN438578/index.html">音频巨头IT巨头如何第二次被“规避”</a></li>
<li><a href="../zh-CN438580/index.html">在iOS 12中自动生成的密码</a></li>
<li><a href="../zh-CN438582/index.html">AntiRating 2018</a></li>
<li><a href="../zh-CN438588/index.html">网站的自定义googleTranslate小部件</a></li>
<li><a href="../zh-CN438590/index.html">雷霆天堂或为什么不应该使用FlylinkDC ++</a></li>
<li><a href="../zh-CN438592/index.html">选择阅读器时要寻找的内容-我们正在谈论外形尺寸和显示</a></li>
<li><a href="../zh-CN438594/index.html">工作场所和4k @ 60Hz</a></li>
<li><a href="../zh-CN438596/index.html">页面重新加载后保存用户数据</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>