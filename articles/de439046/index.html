<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîã ü§∏üèø üö£üèª So kombinieren Sie die Netzwerksegmente von drei gro√üen Banken sicher: Tricks teilen üç† üåÑ üóÉÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor einiger Zeit haben sich unter der Marke VTB drei gro√üe Banken zusammengeschlossen: VTB, Ex-VTB24 und Ex-Bank of Moscow. F√ºr externe Beobachter arb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So kombinieren Sie die Netzwerksegmente von drei gro√üen Banken sicher: Tricks teilen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vtb/blog/439046/">  Vor einiger Zeit haben sich unter der Marke VTB drei gro√üe Banken zusammengeschlossen: VTB, Ex-VTB24 und Ex-Bank of Moscow.  F√ºr externe Beobachter arbeitet die kombinierte VTB-Bank jetzt als Ganzes, aber von innen sieht alles viel komplizierter aus.  In diesem Beitrag werden wir √ºber Pl√§ne sprechen, ein einheitliches Netzwerk der integrierten VTB-Bank zu schaffen, Life-Hacks √ºber die Organisation der Interaktion von Firewalls auszutauschen, Netzwerksegmente zu verbinden und zu kombinieren, ohne die Dienste zu unterbrechen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c50/429/465/c50429465565f4cf1ec0ee1d62097102.png"><br><a name="habracut"></a><br><h2>  Schwierigkeiten beim Zusammenspiel unterschiedlicher Infrastrukturen </h2><br>  Die Aktivit√§ten von VTB werden derzeit von drei bestehenden Infrastrukturen unterst√ºtzt: Ex-Bank of Moscow, Ex-VTB24 und VTB selbst.  Die Infrastrukturen von jedem von ihnen haben ihre eigenen Netzwerkperimeter, an deren Grenze sich Schutzausr√ºstung befindet.  Eine der Bedingungen f√ºr die Integration von Infrastrukturen auf Netzwerkebene ist das Vorhandensein einer konsistenten IP-Adressierungsstruktur. <br><br>  Unmittelbar nach dem Zusammenf√ºhren haben wir begonnen, die Adressr√§ume auszurichten, und jetzt steht die Fertigstellung kurz bevor.  Der Prozess ist jedoch zeitaufw√§ndig und schnell, und die Fristen f√ºr die Organisation des Querzugriffs zwischen Infrastrukturen waren sehr eng.  Daher haben wir in der ersten Phase die Infrastrukturen verschiedener Banken in ihrer jetzigen Form miteinander verbunden - durch Firewalling f√ºr eine Reihe von Hauptsicherheitszonen.  Gem√§√ü diesem Schema ist es zum Organisieren des Zugriffs von einem Netzwerkperimeter zu einem anderen erforderlich, den Verkehr durch viele Firewalls und andere Schutzmittel zu leiten, die unter Verwendung von NAT- und PAT-Technologien an die gemeinsamen Adressen von Ressourcen und Benutzern gesendet werden.  Dar√ºber hinaus sind alle Firewalls an den Kreuzungen sowohl lokal als auch geografisch reserviert. Dies muss bei der Organisation von Interaktionen und beim Aufbau von Serviceketten immer ber√ºcksichtigt werden. <br><br>  Ein solches Schema ist ziemlich funktional, aber Sie k√∂nnen es sicherlich nicht als optimal bezeichnen.  Es gibt sowohl technische als auch organisatorische Probleme.  Es ist notwendig, die Interaktionen vieler Systeme zu koordinieren und zu dokumentieren, deren Komponenten √ºber verschiedene Infrastrukturen und Sicherheitszonen verteilt sind.  Gleichzeitig ist es bei der Umgestaltung von Infrastrukturen erforderlich, diese Dokumentation f√ºr jedes System schnell zu aktualisieren.  Die Durchf√ºhrung dieses Prozesses belastet unsere wertvollste Ressource - hochqualifizierte Spezialisten - erheblich. <br><br>  Technische Probleme √§u√üern sich in der Multiplikation des Datenverkehrs auf den Verbindungen, der hohen Anzahl an Sicherheitstools, der Komplexit√§t der Organisation von Netzwerkinteraktionen und der Unf√§higkeit, einige Interaktionen ohne Adress√ºbersetzung zu erstellen. <br><br>  Das Problem der Verkehrsmultiplikation entsteht haupts√§chlich aufgrund der vielen Sicherheitszonen, die √ºber Firewalls an verschiedenen Standorten miteinander interagieren.  Unabh√§ngig vom geografischen Standort der Server selbst wird der Datenverkehr, wenn er √ºber den Umfang der Sicherheitszone hinausgeht, eine Reihe von Sicherheitsfunktionen durchlaufen, die sich m√∂glicherweise an anderen Standorten befinden.  Zum Beispiel haben wir zwei Server in einem Rechenzentrum, aber einen im Umkreis von VTB und den anderen im Umkreis des Ex-VTB24-Netzwerks.  Der Datenverkehr zwischen ihnen erfolgt nicht direkt, sondern √ºber 3-4 Firewalls, die in anderen Rechenzentren aktiv sein k√∂nnen. Der Datenverkehr wird mehrmals √ºber das Trunk-Netzwerk an die Firewall und zur√ºck √ºbertragen. <br><br>  Um eine hohe Zuverl√§ssigkeit zu gew√§hrleisten, ben√∂tigen wir jede Firewall in 3-4 Kopien - zwei an einem Standort in Form eines HA-Clusters und eine oder zwei Firewalls an einem anderen Standort, zu denen der Datenverkehr umgeschaltet wird, wenn der Haupt-Firewall-Cluster oder der Standort insgesamt unterbrochen wird. <br><br>  Wir fassen zusammen.  Drei unabh√§ngige Netzwerke sind eine <b>Menge Probleme</b> : √ºberm√§√üige Komplexit√§t, der Bedarf an zus√§tzlichen teuren Ger√§ten, Engp√§sse, Redundanzschwierigkeiten und infolgedessen hohe Kosten f√ºr den Betrieb der Infrastruktur. <br><br><h2>  Allgemeiner Integrationsansatz </h2><br>  Da wir uns entschlossen haben, die Transformation der Netzwerkarchitektur zu √ºbernehmen, werden wir mit den grundlegenden Dingen beginnen.  Lassen Sie uns von oben nach unten gehen und zun√§chst die Anforderungen des Unternehmens, der Bewerber, der Systemingenieure und des Sicherheitspersonals analysieren. <br><br><ul><li>  Basierend auf ihren Anforderungen entwerfen wir die Zielstruktur von Sicherheitszonen und die Prinzipien der Verbindung zwischen diesen Zonen. <br></li><li>  Wir legen diese Zonenstruktur auf die Geografie unserer Hauptverbraucher - Rechenzentren und gro√üe B√ºros. <br></li><li>  Als n√§chstes bilden wir das Transport-MPLS-Netzwerk. <br></li><li>  Darunter bringen wir bereits das prim√§re Netzwerk, das Dienste f√ºr die physische Schicht bereitstellt. <br></li><li>  Wir w√§hlen Standorte f√ºr die Platzierung von Edge-Modulen und Firewall-Modulen. <br></li><li>  Nachdem das Zielbild gekl√§rt ist, erarbeiten und genehmigen wir die Migrationsmethode von der vorhandenen Infrastruktur zur Zielinfrastruktur, damit der Prozess f√ºr funktionierende Systeme transparent ist. <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/c50/429/465/c50429465565f4cf1ec0ee1d62097102.png"><br>  <i>Zielnetzwerkkonzept</i> <br><br>  Wir werden ein prim√§res Backbone-Netzwerk haben - dies ist eine Telekommunikations-Transportinfrastruktur, die auf Glasfaser-Kommunikationsleitungen (FOCL), passiven und aktiven kanalbildenden Ger√§ten basiert.  Es kann auch das xWDM-Subsystem f√ºr die optische Kanalverdichtung und m√∂glicherweise ein SDH-Netzwerk verwenden. <br><br>  Basierend auf dem prim√§ren Netzwerk bauen wir das sogenannte <i><b>Kernnetzwerk auf</b></i> .  Es wird einen einzelnen Adressplan und einen einzelnen Satz von Routing-Protokollen haben.  Das Kernnetz umfasst: <br><br><ul><li>  MPLS - Multiservice-Netzwerk; <br></li><li>  DCI - Verbindungen zwischen Rechenzentren; <br></li><li>  EDGE-Module - verschiedene Verbindungsmodule: Firewall, Partnerorganisationen, Internetkan√§le, Rechenzentren, LANs, regionale Netzwerke. <br></li></ul><br>  Wir <i>erstellen ein</i> Multiservice-Netzwerk <i>nach einem hierarchischen Prinzip mit der Zuordnung von Transit- (P) und Endknoten (PE)</i> .  Bei einer vorl√§ufigen Analyse der heute auf dem Markt verf√ºgbaren Ger√§te wurde klar, dass es wirtschaftlicher ist, die Pegel von P-Knoten auf separate Ger√§te zu √ºbertragen, als die P / PE-Funktionalit√§t in einem Ger√§t zu kombinieren. <br><br>  Ein Multiservice-Netzwerk bietet hohe Verf√ºgbarkeit, Fehlertoleranz, minimale Konvergenzzeit, Skalierbarkeit, hohe Leistung und Funktionalit√§t, insbesondere IPv6- und Multicast-Unterst√ºtzung. <br><br>  W√§hrend des Aufbaus des Backbone-Netzwerks beabsichtigen wir <i>, propriet√§re Technologien aufzugeben</i> (soweit dies m√∂glich ist, ohne die Qualit√§t zu beeintr√§chtigen), da wir uns bem√ºhen, die L√∂sung flexibel und nicht an einen bestimmten Anbieter gebunden zu machen.  Gleichzeitig wollen wir aber keine ‚ÄûVinaigrette‚Äú aus den Ger√§ten verschiedener Anbieter herstellen.  Unser grundlegendes Konstruktionsprinzip besteht darin, bei Verwendung von Ger√§ten die maximale Anzahl von Diensten bereitzustellen, die f√ºr diese Anzahl von Anbietern minimal ausreicht.  Dies erm√∂glicht es unter anderem, die Wartung der Netzwerkinfrastruktur mit einer begrenzten Anzahl von Mitarbeitern zu organisieren.  Es ist auch wichtig, dass die neuen Ger√§te mit vorhandenen Ger√§ten kompatibel sind, um einen nahtlosen Migrationsprozess zu gew√§hrleisten. <br><br>  Die Struktur der Sicherheitszonen der Netze VTB, Ex-VTB24 und Ex-Bank von Moskau im Rahmen des Projekts soll komplett neu gestaltet werden, um funktional doppelte Segmente zu kombinieren.  Eine einheitliche Struktur von Sicherheitszonen mit gemeinsamen Routing-Regeln und einem einheitlichen Konzept f√ºr den Zugang zum Internetwork ist geplant.  Wir planen, eine Firewall zwischen Sicherheitszonen mithilfe separater Hardware-Firewalls durchzuf√ºhren, die an zwei Hauptstandorten verteilt sind.  Wir planen au√üerdem, alle Edge-Module unabh√§ngig voneinander an zwei verschiedenen Standorten mit automatischer Redundanz zwischen ihnen basierend auf standardisierten dynamischen Routing-Protokollen zu implementieren. <br><br>  Wir organisieren die Verwaltung der Ger√§te des Kernnetzwerks √ºber ein separates physisches Netzwerk (Out-of-Band).  Der administrative Zugriff auf alle Netzwerkger√§te erfolgt √ºber einen einzigen Dienst f√ºr Authentifizierung, Autorisierung und Buchhaltung (AAA). <br><br>  Um Probleme im Netzwerk schnell zu finden, ist es sehr wichtig, den Datenverkehr von jedem Punkt im Netzwerk zur Analyse kopieren und √ºber einen unabh√§ngigen Kommunikationskanal an den Analysator senden zu k√∂nnen.  Zu diesem Zweck erstellen wir ein isoliertes Netzwerk f√ºr den SPAN-Verkehr, mit dessen Hilfe wir Verkehrsstr√∂me sammeln, filtern und an Analyseserver √ºbertragen. <br><br>  Um die vom Netzwerk bereitgestellten Dienste und die M√∂glichkeit der Kostenverteilung zu standardisieren, werden wir einen einzigen Katalog mit SLA-Indikatoren einf√ºhren.  Wir gehen weiter zum Servicemodell, in dem wir die Verkn√ºpfung der Netzwerkinfrastruktur mit angewandten Aufgaben, die Verkn√ºpfung von Elementen von Steuerungsanwendungen und deren Auswirkungen auf Services ber√ºcksichtigen.  Dieses Servicemodell wird von einem Netzwerk√ºberwachungssystem unterst√ºtzt, damit wir die IT-Kosten korrekt zuordnen k√∂nnen. <br><br><h2>  Von der Theorie zur Praxis </h2><br>  Jetzt gehen wir eine Ebene tiefer und informieren Sie √ºber die interessantesten L√∂sungen in unserer neuen Infrastruktur, die f√ºr Sie n√ºtzlich sein k√∂nnen. <br><br><h3>  Ressourcenwald: Details </h3><br>  Wir haben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die Einwohner von</a> Chabrowsk bereits mit dem VTB-Ressourcenwald <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vertraut</a> gemacht.  Versuchen Sie nun, eine detailliertere technische Beschreibung zu geben. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a4/b23/d21/3a4b23d2100cddffa97e76603577a207.png"><br><br>  Angenommen, wir haben zwei (der Einfachheit halber) Netzwerkinfrastrukturen verschiedener Organisationen, die kombiniert werden m√ºssen.  Innerhalb jeder Infrastruktur kann in der Regel unter den funktionalen Netzwerksegmenten (Sicherheitszonen) das wichtigste produktive Netzwerksegment unterschieden werden, in dem sich die wichtigsten industriellen Systeme befinden.  Wir verbinden diese Produktivzonen mit einer bestimmten Struktur von Sperrsegmenten, die wir als <i>‚ÄûRessourcenwald‚Äú bezeichnen</i> .  Diese Gateway-Segmente ver√∂ffentlichen die gemeinsam genutzten Ressourcen, die von den beiden Infrastrukturen verf√ºgbar sind. <br><br>  Das Konzept einer Ressourcengesamtstruktur besteht aus Netzwerksicht darin, eine Gateway-Sicherheitszone zu erstellen, die aus zwei IP-VPNs besteht (f√ºr den Fall von zwei Banken).  Diese IP-VPNs werden frei untereinander geroutet und √ºber Firewalls mit produktiven Segmenten verbunden.  Die IP-Adressierung f√ºr diese Segmente wird aus einem disjunkten Bereich von IP-Adressen ausgew√§hlt.  Somit wird ein Routing in Richtung der Ressourcenstruktur aus den Netzwerken beider Organisationen m√∂glich. <br><br>  Beim Routing vom Ressourcenwald zu den Industriesegmenten ist die Situation jedoch etwas schlimmer, da sich die Adressierung in diesen h√§ufig √ºberschneidet und es unm√∂glich ist, eine einzige Tabelle zu bilden.  Um dieses Problem zu l√∂sen, ben√∂tigen wir nur zwei Segmente in der Ressourcengesamtstruktur.  In jedem der Segmente der Ressourcengesamtstruktur wird eine Standardroute in Richtung des industriellen Netzwerks "ihrer" Organisation geschrieben.  Das hei√üt, Benutzer k√∂nnen √ºber PAT zugreifen, ohne Adressen in ihr ‚Äûeigenes‚Äú Segment der Ressourcengesamtstruktur und in ein anderes Segment zu √ºbersetzen. <br><br>  Somit stellen zwei Segmente der Ressourcengesamtstruktur eine einzelne Gateway-Sicherheitszone dar, wenn Sie die Grenze entlang der Firewalls zeichnen.  Jeder von ihnen hat sein eigenes Routing: Das Standard-Gateway blickt auf "seine" Bank.  Wenn wir eine Ressource in einem Segment der Ressourcengesamtstruktur platzieren, k√∂nnen Benutzer der entsprechenden Bank ohne NAT damit interagieren. <br><br>  Die Interaktion ohne NAT ist f√ºr viele Systeme und vor allem f√ºr Microsoft-Dom√§neninteraktionen sehr wichtig. Schlie√ülich verf√ºgen wir in der Ressourcenstruktur √ºber Active Directory-Server f√ºr die neue gemeinsame Dom√§ne, mit denen von beiden Organisationen Vertrauensstellungen eingerichtet werden.  Ohne NAT-Interaktion sind auch Systeme wie Skype for Business, ABS ‚ÄûMBANK‚Äú und viele andere verschiedene Anwendungen erforderlich, bei denen der Server zur Adresse des Clients zur√ºckkehrt.  Und wenn sich der Client hinter PAT befindet, wird die umgekehrte Verbindung nicht mehr hergestellt. <br><br>  Die Server, die wir in den Segmenten der Ressourcengesamtstruktur installieren, sind in zwei Kategorien unterteilt: Infrastruktur (z. B. MS AD-Server) und Zugriff auf einige Informationssysteme.  Der letzte Servertyp, den wir Data Marts nennen.  Storefronts sind normalerweise Webserver, deren Backend sich bereits hinter der Firewall im Produktionsnetzwerk der Organisation befindet, die diese Storefront in der Ressourcengesamtstruktur erstellt hat. <br><br>  Und wie werden <i>Benutzer</i> beim Zugriff auf ver√∂ffentlichte Ressourcen <i>authentifiziert</i> ?  Wenn wir einfach einem oder zwei Benutzern in einer anderen Dom√§ne Zugriff auf einige Anwendungen gew√§hren, k√∂nnen wir f√ºr sie separate Konten f√ºr die Authentifizierung in unserer Dom√§ne erstellen.  Wenn wir jedoch √ºber den Massenzusammenschluss von Infrastrukturen sprechen - beispielsweise 50.000 Benutzer - ist es v√∂llig unrealistisch, separate Cross-Accounts f√ºr diese zu starten und zu verwalten.  Das Erstellen direkter Vertrauensstellungen zwischen Gesamtstrukturen verschiedener Organisationen ist sowohl aus Sicherheitsgr√ºnden als auch aufgrund der Notwendigkeit, PAT-Benutzer unter den Bedingungen sich √ºberschneidender Adressr√§ume zu machen, nicht immer m√∂glich.  Um das Problem der einheitlichen Benutzerauthentifizierung zu l√∂sen, wird daher im Umfang der Ressourcengesamtstruktur eine neue MS AD-Gesamtstruktur erstellt, die aus einer Dom√§ne besteht.  In dieser neuen Dom√§ne authentifizieren sich Benutzer beim Zugriff auf Dienste.  Um dies zu erm√∂glichen, werden bilaterale Vertrauensstellungen auf Forstebene zwischen der neuen Gesamtstruktur und den Dom√§nenw√§ldern jeder Organisation eingerichtet.  Somit kann sich der Benutzer einer der Organisationen bei jeder ver√∂ffentlichten Ressource authentifizieren. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5d9/79b/c38/5d979bc3857f12b2c7d2169fdd579326.png"><br><br><h3>  Netzwerkintegration erhalten </h3><br>  Nachdem wir die Interaktion von Systemen √ºber die Infrastruktur des Ressourcenwaldes hergestellt und damit die akuten Symptome beseitigt hatten, war es an der Zeit, die direkte Integration von Netzwerken aufzunehmen. <br><br>  Zu diesem Zweck haben wir in der ersten Phase die Produktsegmente von drei Banken mit einer einzigen leistungsstarken Firewall verbunden (logisch vereinheitlicht, aber physisch oft an verschiedenen Standorten reserviert).  Die Firewall bietet eine direkte Interaktion zwischen den Systemen verschiedener Banken. <br><br>  Mit ex-VTB24 ist es uns bereits gelungen, die Adressr√§ume auszurichten, bevor direkte Interaktionen zwischen den Systemen organisiert wurden.  Nachdem wir die Routing-Tabellen in der Firewall erstellt und die entsprechenden Zugriffe ge√∂ffnet hatten, konnten wir die Interaktion zwischen Systemen in zwei verschiedenen Infrastrukturen sicherstellen. <br><br>  Bei der Ex-Bank von Moskau waren die Adressr√§ume zum Zeitpunkt der Organisation der angewandten Interaktionen nicht aufeinander abgestimmt, und wir mussten das gegenseitige NAT verwenden, um die Interaktion der Systeme zu organisieren.  Die Verwendung von NAT verursachte eine Reihe von DNS-Aufl√∂sungsproblemen, die durch die Pflege doppelter DNS-Zonen behoben wurden.  Dar√ºber hinaus gab es aufgrund von NAT Schwierigkeiten beim Betrieb einer Reihe von Anwendungssystemen.  Jetzt haben wir die Schnittpunkte von Adressr√§umen fast beseitigt, aber wir sind mit der Tatsache konfrontiert, dass viele Systeme von VTB und Ex-Bank of Moscow eng miteinander verbunden sind, um an den √ºbersetzten Adressen zu interagieren.  Jetzt m√ºssen wir diese Interaktionen auf echte IP-Adressen migrieren und gleichzeitig die Gesch√§ftskontinuit√§t gew√§hrleisten. <br><br><h3>  NAT-Abschaffung </h3><br>  Hier ist es unser Ziel, den Betrieb von Systemen in einem einzigen Adressraum f√ºr die weitere Integration von Infrastrukturdiensten (MS AD, DNS) und Anwendungen (Skype for Business, MBANK) sicherzustellen.  Da einige der Anwendungssysteme bereits an den √ºbersetzten Adressen miteinander verbunden sind, ist leider eine individuelle Arbeit mit jedem Anwendungssystem erforderlich, um NAT f√ºr bestimmte Interaktionen zu eliminieren. <br><br>  Manchmal k√∂nnen Sie <i>sich f√ºr einen solchen Trick entscheiden</i> : Stellen Sie denselben Server zur gleichen Zeit sowohl unter der √ºbersetzten als auch unter der realen Adresse ein.  So k√∂nnen Anwendungsadministratoren die Arbeit vor der Migration an einer realen Adresse testen, versuchen, selbst auf Nicht-NAT-Interaktion umzuschalten und bei Bedarf ein Rollback durchzuf√ºhren.  Gleichzeitig √ºberwachen wir die Firewall mithilfe der Paketerfassungsfunktion, um festzustellen, ob jemand √ºber die √ºbersetzte Adresse mit dem Server kommuniziert.  Sobald eine solche Kommunikation unterbrochen wird, beenden wir im Einvernehmen mit dem Eigent√ºmer der Ressource die √úbertragung: Der Server hat nur eine echte Adresse. <br><br>  Nach dem Parsen von NAT muss die Firewall leider einige Zeit zwischen funktionsidentischen Segmenten gewartet werden, da nicht alle Zonen denselben Sicherheitsstandards entsprechen.  Nach der Standardisierung der Segmente wird die Firewall zwischen den Segmenten durch Routing ersetzt und funktional identische Sicherheitszonen werden zusammengef√ºhrt. <br><br><h3>  Firewall </h3><br>  Kommen wir zum Problem der Internetwork-Firewall.  Grunds√§tzlich ist es f√ºr jede gro√üe Organisation relevant, in der es erforderlich ist, sowohl lokale als auch globale Fehlertoleranz f√ºr Schutzausr√ºstung bereitzustellen. <br><br><img src="https://habrastorage.org/webt/ui/l2/mq/uil2mq95zf7o-4uipsjevhk5-j8.png"><br><br>  Versuchen wir, das Problem der Firewall-Reservierung im Allgemeinen zu formulieren.  Wir haben zwei Standorte: Standort 1 und Standort 2. Es gibt mehrere (z. B. drei) MPLS-IP-VPNs, die √ºber eine zustandsbehaftete Firewall miteinander kommunizieren.  Diese Firewall muss lokal und geografisch reserviert werden. <br><br>  Wir werden das Problem der lokalen Sicherung von Firewalls nicht ber√ºcksichtigen, da fast jeder Hersteller die M√∂glichkeit bietet, Firewalls zu einem lokalen HA-Cluster zusammenzusetzen.  Bei der geografischen Reservierung von Firewalls hat praktisch kein Anbieter diese Aufgabe sofort erledigt. <br><br> ,  ¬´¬ª  L2     ,                  .       -  ,     split brain -  L2-  . -       L2   . <br><br>     ,                  .     . <br><br>      Active/Standby,         .          ,       L3 VPN. <br><br>    -      .         OSPF      ()    /32.     1              (, 0.0.0.0 /0),     .   -   ( )    MP BGP      .     ,     OSPF  ,    ,                IP VPN. <br><br>        ,           ,          ,        . <br><br>      1 - ,    ,    1      ,     2  ‚Äî       .    ,    ,     VPN'    . ,      ,     ,      . <br><br>    ,          active/standby.      active-.             ,     .   ,          (, IP-    ).          .       .         . <br><br>        L3 ,         .    . <br><br><h3>   </h3><br>          . ,     ,     ‚Äî  , ,   .            L3-,         . <br><br>             ,         IP-.           MPLS VPN.     MPLS VPN ¬´IN¬ª    VPN ¬´OUT¬ª.   VPN     HUB-and-spoke VPN.   Spoke   HUB'       VPN,      . <br><br>  ¬´IN¬ª <b> </b> -     Spoke VPN'        VPN.  ¬´OUT¬ª <b> </b>      Spoke VPN'    . <br><br>       MPLS VPN ¬´IN¬ª.     VPN    .          VPN  HUB-VPN ¬´IN¬ª    .          .           ,       Policy Based  Routing.      VPN ¬´OUT¬ª,           VPN ¬´OUT¬ª   Spoke-VPN. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f8/3f3/b13/4f83f3b1381bcc6e34a05b94736210f2.png"><br><br>        VPN,     .           MPLS import / export    HUB VPN. <br><br>      VPN     ,          ‚Äî      ,  VLAN,    .. <br><br><h2>  Fazit </h2><br>           ,     ,          .     ,         ,       ,      .          . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439046/">https://habr.com/ru/post/de439046/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439032/index.html">Amazon und Google planen den Eintritt in den Energiemarkt</a></li>
<li><a href="../de439034/index.html">Webinar von Group-IB: ‚ÄûRotes Team oder Pentest‚Äú 02/12/2019</a></li>
<li><a href="../de439036/index.html">Die Hauptsache ist, nicht unter √úberpr√ºfung der Stunden in das Einkaufszentrum zu gelangen</a></li>
<li><a href="../de439038/index.html">Ein neuronales Netzwerk aufbauen: Wie man das Gehirn nicht bricht</a></li>
<li><a href="../de439042/index.html">Puma sucht Betatester f√ºr Fi-Traktionsschuhe</a></li>
<li><a href="../de439050/index.html">Schulung Cisco 200-125 CCNA v3.0. Cisco Certified Network Specialist (CCNA). Tag 2. OSI- und TCP-IP-Modelle</a></li>
<li><a href="../de439056/index.html">Integration der Zementmarke</a></li>
<li><a href="../de439060/index.html">7 Arten von Kunden</a></li>
<li><a href="../de439062/index.html">Anisoprint Composer: Hochfester 3D-Druck</a></li>
<li><a href="../de439064/index.html">Ein typischer Rasterfehler (Bootstrap-Raster) oder warum sich Designer und Layout-Designer nicht verstehen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>