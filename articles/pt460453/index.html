<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò∞ üöê üíáüèª Impressora inteligente. Melhorando o Octoprint üêÇ üôåüèº üëÉüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ao desenvolver um projeto aberto para a impressora Z-Bolt de 4 extrusoras, enfrentamos o problema de escolher uma tela para controlar a impressora. Da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Impressora inteligente. Melhorando o Octoprint</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460453/"> Ao desenvolver um projeto aberto para a impressora Z-Bolt de 4 extrusoras, enfrentamos o problema de escolher uma tela para controlar a impressora.  Das telas dispon√≠veis, apenas a solu√ß√£o Duet Wifi pode controlar mais de 2 extrusoras.  A solu√ß√£o, para dizer o m√≠nimo, n√£o √© or√ßament√°ria e a interface n√£o √© para todos.  Por isso, decidimos procurar uma alternativa com prefer√™ncia e cortes√£s.  Esta hist√≥ria √© sobre ele ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7_/sw/2y/7_sw2yntvfmulg1gpfxuxmozkkw.png" alt="imagem"></div><a name="habracut"></a><br>  Na Internet, existem muitas informa√ß√µes sobre o uso do Octoprint.  H√° pouco mais de meio ano, nos tornamos usu√°rios desta solu√ß√£o, apreciando imediatamente suas vantagens.  √â dif√≠cil superestimar a capacidade de controlar a impressora atrav√©s de uma pessoa da web.  O Octoprint possui muitos plug-ins, e o mais importante para n√≥s - o Octoprint √© muito bem controlado com o n√∫mero de extrusoras maior que 2. Mas ainda resta resolver um problema. <br><br>  Muitos amantes da Octoprint afirmam com confian√ßa que n√£o precisam mais de uma tela com a palavra ‚Äúcompletamente‚Äù, que essa √© uma parte absolutamente sup√©rflua da impressora que apenas os incomoda. <br><br>  No entanto, estou convencido de que h√° outra parte dos usu√°rios do OctoPrint.  Todo mundo tem seus pr√≥prios h√°bitos e requisitos para o uso di√°rio de uma impressora 3D e h√° opera√ß√µes mais convenientes para executar com uma tela: <br><br><ul><li>  Substitui√ß√£o de filamentos </li><li>  Calibra√ß√£o no n√≠vel da tabela </li><li>  Comece a imprimir um arquivo que foi impresso anteriormente </li><li>  Ative o pr√©-aquecimento da impressora </li><li>  Capacidade de ver o status de impress√£o </li><li>  ... </li></ul><br>  Agora, a tela padr√£o nas impressoras Z-Bolt √© o MKS TFT.  Voc√™ pode colocar TFT24, TFT32 ou TFT35.  Essas s√£o boas telas, mas n√£o podem ser integradas ao Octoprint.  Se o Octoprint come√ßar a imprimir, a tela n√£o saber√° nada sobre isso.  Eles usam diferentes reposit√≥rios de arquivos, etc.  E as telas MKS TFT n√£o desejam trabalhar com impressoras 3D de tr√™s ou mais cabe√ßas. <br><br>  Meu objetivo era encontrar / criar / configurar uma tela para Octoprint, capaz de controlar mais de 2 extrusoras. <br><br>  Pesquisando um pouco, me deparei com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um plugin TouchUI</a> . <br><br><img src="https://habrastorage.org/webt/nv/xy/km/nvxykmxddlaote4dyr_2y5buxzi.png"><br><br>  A primeira impress√£o foi: aqui est√° - uma solu√ß√£o !!! <br><br>  Instalei imediatamente o plug-in e abri o Octoprint pelo telefone.  A interface TouchUI √© est√∫pida: /.  √Äs vezes, os bot√µes eram pressionados normalmente, √†s vezes diminu√≠am a velocidade e √†s vezes n√£o eram pressionados desde o in√≠cio.  Em uma tela conectada, o TouchUI se comportou t√£o mal quanto em um telefone. <br><br>  Paralelamente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">outra solu√ß√£o</a> foi encontrada. <br><br><img src="https://habrastorage.org/webt/ts/hs/bj/tshsbju0jb-yc_bhwhrdqwckcr8.png"><br><br>  A descri√ß√£o foi encorajadora, ao contr√°rio do TouchUI, este √© um aplicativo independente que √© executado sem um navegador, o que significa que exigia significativamente menos recursos de computa√ß√£o. <br><br>  Instala√ß√£o e configura√ß√£o n√£o causou problemas.  A interface realmente funcionou muito mais previs√≠vel e responsiva. <br><br><img src="https://habrastorage.org/webt/ul/74/hm/ul74hma5vmolt27mkxjemypegly.jpeg"><br><br>  Mas aqui, nem tudo saiu bem.  O aplicativo falhou regularmente ao iniciar a impress√£o.  No github, houve um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">problema para esse erro</a> , criado h√° quase um ano e discutido ativamente, mas n√£o fechado. <br><br>  O principal problema acabou sendo que o autor do aplicativo, aparentemente, perdeu o interesse nele e atualmente n√£o est√° mais se desenvolvendo. <br><br>  Como, na minha opini√£o, o aplicativo foi escrito bem o suficiente e tem potencial, foi decidido fazer um ‚Äútrabalho duro‚Äù e levar o projeto a fundo. <br><br>  Aqui est√° o que temos: <br><br><ul><li>  As telas ideais para o projeto s√£o selecionadas </li><li>  Criou um ‚Äúhard-fork‚Äù da Octoprint-TFT </li><li>  Vis√£o revisada da arquitetura de hardware e software da impressora </li><li>  Criou seu pr√≥prio tema para a interface Octoprint </li></ul><br>  Mas as primeiras coisas primeiro ... <br><br><h2>  Sele√ß√µes de tela </h2><br>  Come√ßamos com a tela TFT 3.5, que, para dizer o m√≠nimo, n√£o resistiu √†s cr√≠ticas.  Sem √¢ngulos de vis√£o, a imagem est√° desbotada.  Portanto, foi decidido escolher uma solu√ß√£o melhor. <br><br>  Os principais crit√©rios foram: <br><br><ul><li>  Matriz IPS </li><li>  tamanho 4-5 polegadas </li><li>  tela capacitiva (opcional) </li><li>  pre√ßo razo√°vel </li></ul><br>  Como resultado, decidimos por duas op√ß√µes: <br><br>  <b>1. A op√ß√£o √© mais simples.</b>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ecr√£ t√°ctil resistivo IPS de 4 ''</a> <br><br><img src="https://habrastorage.org/webt/z1/a9/mt/z1a9mtjght1zjnhicro9kxr-r5u.png"><br><br>  <b>2. A op√ß√£o √© mais rica.</b>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ecr√£ t√°ctil capacitivo IPS de 4,3 ''</a> <br><img src="https://habrastorage.org/webt/g_/9v/w8/g_9vw8lo2wcf7yaqvbrhdzklhqg.png"><br><br>  Ambas as telas t√™m uma resolu√ß√£o de 800x400.  Ambos t√™m uma √≥tima imagem, reprodu√ß√£o de cores e √¢ngulo de vis√£o.  Sua principal diferen√ßa √© a tela sens√≠vel ao toque capacitiva.  Voc√™ se acostuma (como tudo de bom) muito rapidamente e usa-o muito mais agrad√°vel do que resistivo.  No entanto, uma tela com uma tela sens√≠vel ao toque resistiva tamb√©m √© bastante vi√°vel. <br><br><h2>  Isso √© Hard-Fork, baby! </h2><br><img src="https://habrastorage.org/webt/7z/vu/bu/7zvubucla5slvvru1y4twjg8u3u.jpeg"><br><br>  O aplicativo foi seriamente modificado.  E quase deixou de se parecer com o pai.  Portanto (e tamb√©m porque o criador do Octoprint-TFT congelou oficialmente o desenvolvimento de sua ideia), decidiu-se fazer um hard-fork e nomear o novo projeto como Octoscreen. <br><br><ul><li>  Primeiro de tudo, o problema de congelamento de tela sofrido pelo Octoprint-TFT foi completamente eliminado. </li><li>  - O design e o layout mudaram visivelmente: <br><br><img src="https://habrastorage.org/webt/bn/xi/t9/bnxit9g6bg9q159i9be0bjr7tuc.png"></li><li>  A tela aprendeu a entender o status da impressora (espera / impress√£o): <br><br><img src="https://habrastorage.org/webt/2t/e2/ak/2te2akaxbfvwn24mibfcpmqmncu.png"></li><li>  Adicionada a fun√ß√£o de pr√©-aquecimento / desligamento r√°pido do aquecimento pressionando o √≠cone da extrusora ou da mesa, enquanto a tela destaca o status: <br><br><img src="https://habrastorage.org/webt/76/ve/fi/76vefiden4g_zfzjvqcjlnjwfto.png"></li><li>  Tela de calibra√ß√£o de mesa manual adicionada: <br><br><img src="https://habrastorage.org/webt/a6/ju/9z/a6ju9zxji49wqlb8egb8okzhymg.png"></li><li>  O item ‚ÄúMenu‚Äù √© exibido em uma tela separada: <br><br><img src="https://habrastorage.org/webt/-g/ku/ic/-gkuicaqwncsdwhatapnmqoevm8.png"></li><li>  Fun√ß√£o de controle WiFi adicionada: <br><br><img src="https://habrastorage.org/webt/gc/_v/jc/gc_vjck9hnu7-ovt7xpgw0y1mj0.png"></li><li>  O aplicativo em si agora suporta at√© 4 extrusoras, raz√£o pela qual foi criado: <br><br><img src="https://habrastorage.org/webt/tt/yf/am/ttyfammo6_gtvdtbnxis9f9dr3c.png"></li></ul><br>  Voc√™ pode baixar o aplicativo e encontrar breves instru√ß√µes de instala√ß√£o no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nosso GitHub</a> . <br><br>  H√° tamb√©m uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">instru√ß√£o detalhada para a tela 3.5</a> , pela qual agradecemos especialmente ao nosso colega Denis (@ negativ72rus). <br><br><h2>  Revise suas opini√µes sobre as altera√ß√µes de firmware ou sapato da impressora em movimento </h2><br><img src="https://habrastorage.org/webt/et/tj/ze/ettjzezztdvncbw2ov2c9l0py2q.png"><br><br>  Inicialmente, planejamos usar o Marlin em nossa impressora multi-extrusora, mas no final, a escolha recaiu sobre a Klipper.  Existem v√°rias raz√µes: <br><br>  1. Uma das principais raz√µes para n√≥s, como desenvolvedores, √© a sua flexibilidade.  O Marlin e seu c√≥digo de "massas" tornam o processo de aprimoramentos e, ainda mais, seu apoio adicional, um verdadeiro desafio. <br><br>  Klipper a esse respeito √© exatamente o oposto de Marlin.  Primeiramente, toda a configura√ß√£o do Klipper √© retirada do c√≥digo do programa.  O c√≥digo em si √© bem estruturado.  Mas o mais importante, Klipper fornece modularidade !!!  Voc√™ pode adicionar sua l√≥gica ao firmware sem fazer altera√ß√µes em seu n√∫cleo e, assim, simplificar bastante o suporte adicional ao seu c√≥digo. <br><br>  2. Toda a configura√ß√£o do firmware pode ser feita diretamente atrav√©s da interface da web OctoPrint.  E, ao mesmo tempo, as configura√ß√µes s√£o muito mais poderosas que as do Marlin ou Smootheiware. <br><br>  3. Como n√£o posso dizer sobre os bits que todo mundo est√° perseguindo recentemente)).  A pr√≥pria arquitetura Klipper pressup√µe que a carga computacional esteja no PI de framboesa.  A fun√ß√£o do painel de controle MKS Gen L (no caso de impressoras Z-Bolt) permanece na transmiss√£o de sinais de / para a periferia (motores, sensores, aquecedores, controles). <br><br>  Mas o Raspberry Pi 3 Modelo B + est√° equipado com um chip Broadcom BCM2837B0 A53 de 1,4 GHz e 4 bits de 64 bits. <br><br>  Essencialmente Octoprint + Klipper rodando no Raspberry Pi + o mesmo MKS Gen L - <br>  uma ordem de magnitude mais funcional e progressiva do que o Marlin executando em algum chip de 32 bits. <br><br>  Os arquivos de configura√ß√£o das impressoras Klipper para Z-Bolt tamb√©m podem ser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">encontrados aqui</a> . <br><br><h2>  Um pequeno b√¥nus no final! </h2><br>  Tamb√©m criamos nosso pr√≥prio tema para a interface Octoprint: <br><br><img src="https://habrastorage.org/webt/ul/ab/7y/ulab7ylxsog55kjtqjbbqtixprq.png"><br><br>  O chap√©u pode ser configurado com o seletor de cores nativo na se√ß√£o Apar√™ncia: <br><br><img src="https://habrastorage.org/webt/yp/bn/qg/ypbnqg7glksmku-buyzlc6g8uhc.png"><br><br>  Instru√ß√µes sobre como instalar o tema podem ser encontradas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no nosso GitHub</a> . <br><br>  Escreva nos coment√°rios quais recursos da tela voc√™ achar mais √∫teis e necess√°rios para adicionar. <br><br>  <b>Todos os elementos bons, positivos e bons soprando pendentes!</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt460453/">https://habr.com/ru/post/pt460453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt460439/index.html">Linguagem de programa√ß√£o P4</a></li>
<li><a href="../pt460441/index.html">Gleb Nitzman: ‚ÄúEncontrei o final de uma era em que as pessoas ainda n√£o haviam perseguido o ouro contido nos elementos radioel√©tricos‚Äù</a></li>
<li><a href="../pt460443/index.html">Designers vs desenvolvedores: sobre a hist√≥ria da cria√ß√£o do aplicativo ‚ÄúMy smart city‚Äù</a></li>
<li><a href="../pt460445/index.html">Palestra "Fundamentos do Processamento Digital de Sinais"</a></li>
<li><a href="../pt460451/index.html">O homem fez seu terceiro ouvido para o mundo inteiro usar - pelo bem da arte</a></li>
<li><a href="../pt460457/index.html">Esta√ß√£o de energia solar DIY 200 m2</a></li>
<li><a href="../pt460459/index.html">Arquivo de configura√ß√£o htaccess</a></li>
<li><a href="../pt460461/index.html">Simula√ß√£o de ataques direcionados como uma avalia√ß√£o de seguran√ßa. Instru√ß√µes de Cyber ‚Äã‚Äãdo Teaming vermelho</a></li>
<li><a href="../pt460463/index.html">O que aconteceu com o GALILEO - Vers√£o do Programador GNSS</a></li>
<li><a href="../pt460465/index.html">Sombras digitais - ajuda a reduzir os riscos digitais com compet√™ncia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>