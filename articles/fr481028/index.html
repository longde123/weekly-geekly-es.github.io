<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉüèΩ ü§üüèº üéà Guide d'organisation d'une connexion √† distance √† un automate industriel √† l'aide d'OpenVPN üïµüèæ üëéüèª ü§πüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, je veux parler de l'exp√©rience acquise dans l'organisation de l'acc√®s √† distance √† un contr√¥leur logique programmable industriel (ci...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Guide d'organisation d'une connexion √† distance √† un automate industriel √† l'aide d'OpenVPN</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481028/"><img src="https://habrastorage.org/webt/3i/sk/nc/3isknctx60njaa-migvm12k3hli.png" alt="image"><br><br>  Dans cet article, je veux parler de l'exp√©rience acquise dans l'organisation de l'acc√®s √† distance √† un contr√¥leur logique programmable industriel (ci-apr√®s - PLC) gr√¢ce √† une solution budg√©taire bas√©e sur le centre Internet KEENETIC 4G. <br><br>  Cet article sera particuli√®rement int√©ressant pour les sp√©cialistes du domaine des syst√®mes de contr√¥le de processus, qui ont pos√© des questions sur l'organisation de l'acc√®s √† distance, mais ne savaient pas par o√π commencer. <br><a name="habracut"></a><br><h2>  Commen√ßons donc! </h2><br>  Dans cet exemple, nous consid√©rons l'option la plus courante, √† savoir: <br><br><ol><li>  L'ordinateur local qui sera le serveur OpenVPN avec le package TIA Portal install√© pour la programmation de l'automate.  (LAN 192.168.1.0) </li><li>  Un routeur d'entreprise avec une adresse IP blanche externe (par exemple, 217.196.58.128). </li><li>  Centre Internet KEENETIC 4G avec un client OpenVPN install√© connect√© aux communications mobiles. </li><li>  Contr√¥leur logique programmable SIMATIC S7-1500 (LAN 192.168.112.0). </li></ol><br>  La pr√©sence d'une adresse IP blanche externe d'un c√¥t√© est une condition pr√©alable au fonctionnement du serveur OpenVPN (le serveur OpenVPN doit √™tre situ√© du c√¥t√© de l'adresse IP blanche). <br><br>  Pour √©tablir une connexion VPN entre le KEENETIC Internet Center et la station de travail, nous devons installer les logiciels suivants: <br><br><ol><li>  <a href="https://openvpn.net/community-downloads/">OpenVPN - un programme pour cr√©er des r√©seaux priv√©s virtuels s√©curis√©s, connexion √† distance au serveur</a> </li><li>  <a href="https://www.hohnstaedt.de/xca/index.php/download">XCA - un programme pour cr√©er facilement des certificats avec une interface graphique</a> </li><li>  <a href="https://notepad-plus-plus.org/downloads/">Notepad ++ - √©diteur de texte (facultatif)</a> </li></ol><br><h3>  Installation du package OpenVPN sous Windows. </h3><br>  Installez le composant EasyRSA (pour cr√©er des certificats √† l'aide des outils int√©gr√©s (facultatif). <br><br><img src="https://habrastorage.org/webt/bf/7g/xa/bf7gxa6zvllo29oail2qstdg-co.jpeg" alt="image"><br><br>  Dans le cas d'un message sur l'installation du pilote, cliquez sur "installer". <br><br><img src="https://habrastorage.org/webt/r2/s5/rh/r2s5rh8r8ornoxklsgxhfvaprg4.jpeg" alt="image"><br><br>  Si vous devez installer plusieurs adaptateurs virtuels ou si l'adaptateur virtuel n'a pas √©t√© install√© correctement, allez √† l'adresse ci-dessous et ex√©cutez le script ¬´addtab.bat¬ª: <br>  C: \ Program Files \ TAP-Windows \ bin <br><br><img src="https://habrastorage.org/webt/ge/m0/dp/gem0dp_mchsh0vkis-bmlhzqboy.jpeg" alt="image"><br><br><h2>  Cr√©ation de certificats X.509 </h2><br><h4>  1. Installez XCA </h4><br>  <a href="https://www.hohnstaedt.de/xca/index.php/download">XCA - un programme pour cr√©er facilement des certificats avec une interface graphique</a> <br><br><h4>  2. Cr√©ez une base de donn√©es </h4><br>  "Fichier" -&gt; "Nouvelle base de donn√©es", le programme vous demandera un mot de passe, entrez un mot de passe ou laissez les champs vides et cliquez sur "OK". <br><br><img src="https://habrastorage.org/webt/er/fl/3s/erfl3ss-uhrge4kzooky7r0998i.jpeg" alt="image"><br><br><h4>  3. Cr√©ez un certificat d'une autorit√© de certification (CA) </h4><br>  Pour ce faire, passez dans l'onglet "Certificats" et cliquez sur le bouton "Nouveau certificat" <br><br><img src="https://habrastorage.org/webt/az/dg/ex/azdgexomfppvs1tqbl9wqpro2ki.jpeg" alt="image"><br><br>  Ensuite, passez √† l'onglet ¬´Objet¬ª et remplissez les champs obligatoires (ce qui est surlign√© en rouge doit avoir un nom unique). <br><br><img src="https://habrastorage.org/webt/fz/ko/lt/fzkoltel9co6savlmnvuyvgdcdc.jpeg" alt="image"><br><br>  Cliquez sur "G√©n√©rer une nouvelle cl√©" et confirmez l'action en cliquant sur le bouton "cr√©er". <br><br><img src="https://habrastorage.org/webt/jf/xz/ce/jfxzceulmlnzxbwovjjm19d9ucw.jpeg" alt="image"><br><br>  Basculez vers l'onglet "Extensions", s√©lectionnez le type de certificat "Autorit√© de certification" et configurez la p√©riode de validit√© du certificat (le certificat CA doit avoir une p√©riode de validit√© plus longue que les certificats informatiques qui seront cr√©√©s ult√©rieurement.) <br><br><img src="https://habrastorage.org/webt/88/2n/zu/882nzumclm0gokjy8sfioql74jg.jpeg" alt="image"><br><br>  Cliquez sur "OK" et maintenant nous pouvons commencer √† configurer les certificats informatiques. <br><br><h4>  4. Cr√©ation de mod√®les de certificats informatiques </h4><br>  Pour simplifier la cr√©ation de certificats machine, nous utiliserons un mod√®le pr√©-pr√©par√©.  Passez √† l'onglet ¬´Mod√®les¬ª et cliquez sur le bouton ¬´Nouveau mod√®le¬ª. <br><br><img src="https://habrastorage.org/webt/cd/qh/xj/cdqhxjo7h1jhlf_ohhdm5fjgw2s.jpeg" alt="image"><br><br>  Choisissez "Mod√®le vide" et continuez √† modifier notre mod√®le, les noms entre crochets devraient √™tre uniques √† l'avenir. <br><br><img src="https://habrastorage.org/webt/1j/0r/xm/1j0rxmktxgsn-2uuqbqqbkbx0ek.jpeg" alt="image"><br><br>  Nous allons dans l'onglet "Extensions", d√©finissons le type sur "Objet final" et configurons la p√©riode de validit√© du certificat informatique (il ne doit pas d√©passer le certificat du centre de certification). <br><br><img src="https://habrastorage.org/webt/pm/ft/ms/pmftmsgb6zuerbm0jx9aekbrbxm.jpeg" alt="image"><br><br>  Cliquez sur OK pour cr√©er le mod√®le. <br>  Ce mod√®le peut d√©sormais √™tre utilis√© comme mod√®le de base pour cr√©er des certificats de machine sign√©s par notre centre de certification. <br><br><h4>  5. Cr√©ation de certificats informatiques √† l'aide d'un mod√®le </h4><br>  Passez √† l'onglet "Certificats" et cliquez sur le bouton "Nouveau certificat", s√©lectionnez l'option "Utiliser ce certificat pour la signature", s√©lectionnez notre mod√®le &lt;My_Machine&gt; comme mod√®le et cliquez sur le bouton "Appliquer tout". <br><br><img src="https://habrastorage.org/webt/r6/lj/i8/r6lji8nwfwn-0bjq8isxvtqt2nq.jpeg" alt="image"><br><br>  Ensuite, allez dans l'onglet "Objet", entrez un nom unique, par exemple, "Mon_Serveur", g√©n√©rez une cl√©. <br><br><img src="https://habrastorage.org/webt/xi/9z/jk/xi9zjkd6fblpi8zntftye3eqfco.jpeg" alt="image"><br><br>  Ainsi, nous avons cr√©√© un certificat de serveur.  Nous effectuons la m√™me proc√©dure pour le certificat client (My_Client). <br><br><img src="https://habrastorage.org/webt/la/xk/6c/laxk6cujtstogpz5cqwr0z5nmfc.jpeg" alt="image"><br><br><h4>  6. Exportation de certificats et de cl√©s de machine </h4><br>  Pour cr√©er le fichier de configuration du client OpenVPN (KEENETIC) et du serveur (PC Windows), nous devons exporter le certificat du centre de certification, le certificat du serveur, le certificat client, la cl√© priv√©e du serveur, la cl√© priv√©e du client. <br><br>  Pour ce faire, allez dans l'onglet ¬´Certificats¬ª, s√©lectionnez le certificat de l'autorit√© de certification My_CA, cliquez sur le bouton ¬´Exporter¬ª et t√©l√©chargez dans un dossier cr√©√© pr√©c√©demment, par exemple My_Keys, situ√© sur le bureau. <br><br><img src="https://habrastorage.org/webt/kf/fv/_b/kffv_bjghn_sirpt851efwjnmag.jpeg" alt="image"><br><br>  Nous faisons de m√™me pour le certificat client (My_Client) et le certificat serveur (My_Server). <br><br>  Basculez vers l'onglet "Cl√©s priv√©es", s√©lectionnez la cl√© My_Client, cliquez sur exporter et t√©l√©charger vers notre dossier. <br><br><img src="https://habrastorage.org/webt/t8/ns/ms/t8nsmsnb0szgsaenlfzmaxcrffi.jpeg" alt="image"><br><br>  Nous effectuons la m√™me proc√©dure pour la cl√© du serveur. <br><br><h4>  7. Cr√©ation du param√®tre Diffie-Hellman </h4><br>  Pour configurer les param√®tres du serveur, nous avons √©galement besoin du param√®tre Diffie-Hellman <br>  Pour cr√©er un param√®tre, cliquez sur l'onglet ¬´Avanc√©¬ª et s√©lectionnez l'option ¬´G√©n√©rer les param√®tres Diphia-Hellman¬ª. <br><br><img src="https://habrastorage.org/webt/ij/54/gv/ij54gvdkpwzzlpi1edtkrk3udbu.jpeg" alt="image"><br><br>  Ensuite, s√©lectionnez la longueur du param√®tre, par exemple 2048. Ensuite, t√©l√©chargez notre param√®tre dans le dossier avec les cl√©s. <br><br><img src="https://habrastorage.org/webt/fp/pu/ax/fppuaxshiqd8gnsl-g1sueq_pye.jpeg" alt="image"><br><br>  Par cons√©quent, les fichiers suivants doivent se trouver dans notre dossier: <br><br><ol><li>  Certificat d'autorit√© de certification My_CA.crt </li><li>  Certificat client My_Client.crt </li><li>  Certificat de serveur My_Server.crt </li><li>  Cl√© priv√©e client My_Client.pem </li><li>  La cl√© priv√©e du serveur My_Server.pem </li><li>  Param√®tre Diphia-Hellman dh2048.pem </li></ol><br><img src="https://habrastorage.org/webt/k4/k1/ng/k4k1ng5oqqcd_1fgzp_ub3frntg.jpeg" alt="image"><br><br><h2>  Cr√©ation de fichiers de configuration client et serveur </h2><br>  Parce que  Le protocole de communication industriel S7-1500 √©tant Profinet, pour √©tablir une connexion avec l'automate, nous devons organiser une connexion L2, qui est dans ce cas l'interface TAP. <br><br><h3>  Configuration du serveur OpenVPN </h3><br>  Pour cr√©er un fichier de configuration de serveur, acc√©dez au dossier contenant les fichiers de configuration OpenVPN [C: \ Program Files \ OpenVPN \ config] et cr√©ez un fichier TAP_Server avec l'extension .ovpn <br><br><img src="https://habrastorage.org/webt/l6/se/y8/l6sey8_ftv5zvrjj8lm7ccxu_ew.jpeg" alt="image"><br><br>  Ouvrez le fichier TAP_Server.ovpn avec une visionneuse de fichiers texte (par exemple, Notepad ++) et copiez le texte suivant: <br><br><pre><code class="plaintext hljs">#    L2  dev tap # ,   Windows  #    TAP-Windows  dev-node MyTap #       TAP  server-bridge #       IP proto udp4 #   ,     OpenVPN port 50501 #   10       120  #     ,  . keepalive 10 120 #    cipher AES-256-CBC #    verb 3 #       &lt;ca&gt; &lt;/ca&gt; #      &lt;cert&gt; &lt;/cert&gt; #      &lt;key&gt; &lt;/key&gt; #     () Diffie-Hellman (-). &lt;dh&gt; &lt;/dh&gt;</code> </pre> <br>  Ouvrez ensuite la visionneuse de fichiers texte My_CA.crt, My_Server.crt, My_Server.pem, dh2048.pem et copiez le texte depuis: <br>  My_CA.crt dans &lt;ca&gt; &lt;/ca&gt; <br>  My_Server.crt dans &lt;cert&gt; &lt;/cert&gt; <br>  My_Server.pem dans &lt;key&gt; &lt;/key&gt; <br>  dh2048.pem dans &lt;dh&gt; &lt;/dh&gt; <br><br><img src="https://habrastorage.org/webt/x5/tk/ow/x5tkowkf3whirnr8gfan-a8cola.jpeg" alt="image"><br><br>  en cons√©quence, nous obtenons ce qui suit: <br><pre> <code class="plaintext hljs">dev tap dev-node MyTap server-bridge proto udp4 port 50501 keepalive 10 120 cipher AES-256-CBC verb 3 &lt;ca&gt; -----BEGIN CERTIFICATE----- MIIDqjCCApKgAwIBAgIIJJ8tf67Csf4wDQYJKoZIhvcNAQELBQAwgYsxCzAJBgNV BAYTAlJVMRQwEgYDVQQIEwtLUkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFS U0sxDjAMBgNVBAoTBU15T1JHMQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlf Q0ExIDAeBgkqhkiG9w0BCQEWEW15ZW1haWxAbXlob3N0Lnh4MB4XDTE5MTIxMzAw MDAwMFoXDTQ5MTIxMjIzNTk1OVowgYsxCzAJBgNVBAYTAlJVMRQwEgYDVQQIEwtL UkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFSU0sxDjAMBgNVBAoTBU15T1JH MQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlfQ0ExIDAeBgkqhkiG9w0BCQEW EW15ZW1haWxAbXlob3N0Lnh4MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC AQEA3dJoAVl7foXZMavZIr9RTB59h+El26OYll7KMBHritf+x8DEVjcg86uyDSf0 yzLtAR+8J013W3SRDVpl3gqdk3t1qb7Paz1OUrV2Hu3N5Ws1s4elpENTQAe1HFZS u0NRhXBCxTTyToNdb1pKcIJziVNLXdTL+pud0T8FNs6q37t14XFkfDOw85m7y3py vU8+ucmQEd5vOKPjcY1jklVZkQJKcGTI77x/R2k6HK7ryul5uIepi/RrVrgTNe5W rYWuk6wlmmFLvgdzoVaBJO8edo89M7oJIQFMNN9x3cpbths6/3ZummBktfgVa7xy 3fs//M5v1pjnYeJ5wd5tiCXkpQIDAQABoxAwDjAMBgNVHRMEBTADAQH/MA0GCSqG SIb3DQEBCwUAA4IBAQDbNhPy3IftjPVNyaUH/5AW6R0Fjqoct/55ZMDrdWlLY1mo iTTxhFPv1DbilUE/nr+SwGvZV2MQs4G1hi9PgGqY5a+lJCSios8BJ7zlrt/LLQQ/ st0r2wzpCYROxoi+zu9YNGZJPP9GI3KdcVye9Rt3vbLbL8LQ8kKKwn3Ju5i1SUMy gzvGTNUPtqOKVJid39IIdva3iMUBspfMGv2EcaGaRWekW9Pni/gBS2eHkBH1/X6n KiopjtZw7A4RPHzC58jp+ypT/X63tPwf5+kWsMDeLG1XTKnLoPeAVNtszMhGsgzE DoZUuL4pb8XbpcnrPlgp0WSkrf1RJrJGuArvUDLu -----END CERTIFICATE----- &lt;/ca&gt; &lt;cert&gt; -----BEGIN CERTIFICATE----- MIIDyzCCArOgAwIBAgIIINPrUqBedY8wDQYJKoZIhvcNAQELBQAwgYsxCzAJBgNV BAYTAlJVMRQwEgYDVQQIEwtLUkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFS U0sxDjAMBgNVBAoTBU15T1JHMQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlf Q0ExIDAeBgkqhkiG9w0BCQEWEW15ZW1haWxAbXlob3N0Lnh4MB4XDTE5MTIxMzAw MDAwMFoXDTQ5MTIxMjIzNTk1OVowgY8xCzAJBgNVBAYTAlJVMRQwEgYDVQQIEwtL UkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFSU0sxDjAMBgNVBAoTBU15T1JH MQ4wDAYDVQQLEwVNeU9SRzESMBAGA1UEAwwJTXlfU2VydmVyMSAwHgYJKoZIhvcN AQkBFhFNeUVtYWlsQE15SG9zdC54eDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC AQoCggEBAJhJYVC8WJneQTTO9p7NJvS803W1lq/8Z78Vx8J5jejVhXXZa0NYfXX8 iiXUr26vdhXN5htSNgktz9Tr5zUHwKhzpq+yYICPS44AmzMJByPBhjHUq7/HjnOA e78k80OTzqL5XH8olrQc7690K1GW3b0PduH+bYykDGijQ8vlkwBKQhgxeo7zkTrm VWsgmFJEbrdGoZPnwyHrStMHM0f6UMkEWqooughphaxtJWzS4GJES09z3VSN/3CV FuV2Jn3UGyoEHKrZUa/kFgRx9j9AqRx3//WFusm2KPUim+IA4SLoXP5M6pZXaxvA Z4y5b2xIc/OFFX5DfaCSpAMFwzZFYXkCAwEAAaMtMCswCQYDVR0TBAIwADAeBglg hkgBhvhCAQ0EERYPeGNhIGNlcnRpZmljYXRlMA0GCSqGSIb3DQEBCwUAA4IBAQAZ EXHnqu9Ilz6+w4SB/wfl5HG3UyS2n8oNpTHbFkX1Sn2+2FFuSCZlxhQYyhZKUjRq NsbWMMcwRDST9V6cPw6iaTPfz2G8zaBFjsemnyYD6YttNmdqXgv5wiik3btP2Jk2 3msmg8MlA/EgeZWSFe0ee4yE+L145JgtEQeg0xb7t8J9OOt3W1GVnoX1hQa2GePH PlKqc5ooPAuzIW4kWzxQefqcV5j1Rof98/dQJwJwCatRYgFciOZe26rcsu0R1iKF yS6NB+HwJxZY1ExPcSDmiVu5cyeasSLp1bxcqb9V7a3e9YxNZ8AVmjh/NfOcb2a/ /Mx8QxPEP7g+B6tWfF/Q -----END CERTIFICATE----- &lt;/cert&gt; &lt;key&gt; -----BEGIN RSA PRIVATE KEY----- MIIEpAIBAAKCAQEAmElhULxYmd5BNM72ns0m9LzTdbWWr/xnvxXHwnmN6NWFddlr Q1h9dfyKJdSvbq92Fc3mG1I2CS3P1OvnNQfAqHOmr7JggI9LjgCbMwkHI8GGMdSr v8eOc4B7vyTzQ5POovlcfyiWtBzvr3QrUZbdvQ924f5tjKQMaKNDy+WTAEpCGDF6 jvOROuZVayCYUkRut0ahk+fDIetK0wczR/pQyQRaqii6CGmFrG0lbNLgYkRLT3Pd VI3/cJUW5XYmfdQbKgQcqtlRr+QWBHH2P0CpHHf/9YW6ybYo9SKb4gDhIuhc/kzq lldrG8BnjLlvbEhz84UVfkN9oJKkAwXDNkVheQIDAQABAoIBAGZFmapr4yDqx2Xc vHmnk0r3aRf7LMjhvRbyXKZ5ldlRVIDx0/x1eER9ppWDgZHXGnnIPooIqyt87b+z 8iGGJFe826vRIsgT9AzY0WHz5SyZMjNS/Ukdjsh4+CJFgW3X3QVMbFclfhhV+o4d eV4g8KegtBlQEmhKX98CDmznr9KYAxBtiMODkG3gi523+8qgOH5Nqgr+0CGxwcJU 4fDHadjbSj7+12ZrY3TVZm451fEzgh2nPAseyAoNYe0CM9hExmq4jeNxjZFQHNBv refghZaPmyuRWSOfzNbEwRsLCZeLUHDdrNvsPRnFvmLcFhtFKwctngvkGK5lPs1w dCgs8pUCgYEAyJOsi+ZTAWTjJC1pCr3FRJEjoqfqZGw/OLCKV7PBF8Yf2DIB+LDD gfgoMi39sK/HkaH1H6CqD1Gter8WE67gAURvo5UjK4vFAGhmQSbiwhRUCRKRljwT zB4k649XpD8fiOzd9S12uKyr8EvvDbOz9x1XcxQELcqURIunTuDH4CsCgYEAwl3F twSkSOPYG2AeLnuwf8sYtFbcvSYL/8cGovOuZ0GlSLpHO2k1qhUzl6HrpIhEyVom IQRJW9S5lB7z5lU/CVcbGmYLwu4y5/tl4MeG8NOEj1o8FR9RzUw92dSSKoMfCMad lz/RmOrBnX4pwqICs7r7h7VsnOsr/AYn5H04zusCgYEAwHHv+8rhmVTTGsL3Jfcu brtTFZ1Gp1O01Q+NrNgrTEQsCaLxgUsYSntvFbZK0lvVf0WFivL8N/aGHF97Lyd6 hbzD4JAXTpCsU9fXRGuq5cvbVVkblqnN1OqXQewmitCF0TpzO+qDHm2OCuDQXLUu 1sqwPRnXaJgV6i6UOHozTEECgYEAgmguFqxrmWgdf8iOl3tvoV5f1eeNtO7JEDS1 1DEQ68CUp+YrksX1NoeBFRSTqNGw7TOp728T1SQ12xalZ/38DEVALwcWjxQIXbND 2HumowAXqaLOOxHHbangub0w0IsnEFlKNMeh1ipz+zpBxI+0pmgnCReFpwb2fOKY c2o86j8CgYAWTWn/Y1/bNgtStzya6fbxpc4Mc2nCZu6bTQpAgA44r+nRJuHpVm0T cGDKj4NZ8H4wqMmk58GoOreAVsX4qXeN9QkdfAR5dA8eWVz42faC328W3G4VA5cc GvTqDMzq0j3bz+4csHMn3BHatHymjgsg0sgc8FshuD6dQk0NNruk9A== -----END RSA PRIVATE KEY----- &lt;/key&gt; &lt;dh&gt; -----BEGIN DH PARAMETERS----- MIIBCAKCAQEAlpVUnvCTJ1XF9mnwhf+P+QZhVWsNyRaqEgLuO2a/fGUqPESU9KRo bDa489awzJs6j/JCKh1xR5H5JLE+Ho6XdgIXH9LTr03BV3PsPQiA28ZiluekBGGY ps7dTLr0Ex4V6Ae3+E+Z7lM/Yhsa4w6fl+GNRkastD42Nx4g4iN+cIerLMFCRPl1 P7Go36VbEtO/aNX/zNExmcDsYSqiLkBeGrNxXen2Loqex5AlwE9WOliUbak6Ra/W vf21Wi03TvBBfjEDKtM/Bsyo8Ar2lgBYIrANvylU/0Gg8OyRWqcIoQjwPyjavAHd v14V1igYDa1xP9WQ262DMHfHLhqwjOW2GwIBAg== -----END DH PARAMETERS----- &lt;/dh&gt;</code> </pre><br><br><h3>  Configuration de la configuration du client OpenVPN </h3><br>  Pour cr√©er un fichier de configuration client, acc√©dez au dossier contenant les fichiers de configuration OpenVPN [C: \ Program Files \ OpenVPN \ config] et cr√©ez un fichier TAP_Client avec l'extension .ovpn <br>  Ouvrez le fichier TAP_Server.ovpn avec une visionneuse de fichiers texte (par exemple Notepad ++) et copiez le texte suivant: <br><br><pre> <code class="plaintext hljs"># ,      client #    L2  dev tap0 #       IP proto udp4 #   ,     OpenVPN port 50501 #  ,      #    IP  DNS. remote 217.196.58.128 #    cipher AES-256-CBC #    verb 3 #       &lt;ca&gt; &lt;/ca&gt; #      &lt;cert&gt; &lt;/cert&gt; #       &lt;key&gt; &lt;/key&gt;</code> </pre><br>  Ouvrez ensuite la visionneuse de fichiers texte My_CA.crt, My_Client.crt, My_Client.pem et copiez le texte depuis: <br>  My_CA.crt dans &lt;ca&gt; &lt;/ca&gt; <br>  My_Client.crt dans &lt;cert&gt; &lt;/cert&gt; <br>  My_Client.pem dans &lt;key&gt; &lt;/key&gt; <br><br><img src="https://habrastorage.org/webt/lk/pr/yy/lkpryyecjvigt-pko17zttdl9pu.jpeg" alt="image"><br><br>  en cons√©quence, nous obtenons ce qui suit: <br><br><pre> <code class="plaintext hljs">client dev tap0 proto udp4 port 50501 remote 217.196.58.128 cipher AES-256-CBC verb 3 &lt;ca&gt; -----BEGIN CERTIFICATE----- MIIDqjCCApKgAwIBAgIIJJ8tf67Csf4wDQYJKoZIhvcNAQELBQAwgYsxCzAJBgNV BAYTAlJVMRQwEgYDVQQIEwtLUkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFS U0sxDjAMBgNVBAoTBU15T1JHMQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlf Q0ExIDAeBgkqhkiG9w0BCQEWEW15ZW1haWxAbXlob3N0Lnh4MB4XDTE5MTIxMzAw MDAwMFoXDTQ5MTIxMjIzNTk1OVowgYsxCzAJBgNVBAYTAlJVMRQwEgYDVQQIEwtL UkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFSU0sxDjAMBgNVBAoTBU15T1JH MQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlfQ0ExIDAeBgkqhkiG9w0BCQEW EW15ZW1haWxAbXlob3N0Lnh4MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC AQEA3dJoAVl7foXZMavZIr9RTB59h+El26OYll7KMBHritf+x8DEVjcg86uyDSf0 yzLtAR+8J013W3SRDVpl3gqdk3t1qb7Paz1OUrV2Hu3N5Ws1s4elpENTQAe1HFZS u0NRhXBCxTTyToNdb1pKcIJziVNLXdTL+pud0T8FNs6q37t14XFkfDOw85m7y3py vU8+ucmQEd5vOKPjcY1jklVZkQJKcGTI77x/R2k6HK7ryul5uIepi/RrVrgTNe5W rYWuk6wlmmFLvgdzoVaBJO8edo89M7oJIQFMNN9x3cpbths6/3ZummBktfgVa7xy 3fs//M5v1pjnYeJ5wd5tiCXkpQIDAQABoxAwDjAMBgNVHRMEBTADAQH/MA0GCSqG SIb3DQEBCwUAA4IBAQDbNhPy3IftjPVNyaUH/5AW6R0Fjqoct/55ZMDrdWlLY1mo iTTxhFPv1DbilUE/nr+SwGvZV2MQs4G1hi9PgGqY5a+lJCSios8BJ7zlrt/LLQQ/ st0r2wzpCYROxoi+zu9YNGZJPP9GI3KdcVye9Rt3vbLbL8LQ8kKKwn3Ju5i1SUMy gzvGTNUPtqOKVJid39IIdva3iMUBspfMGv2EcaGaRWekW9Pni/gBS2eHkBH1/X6n KiopjtZw7A4RPHzC58jp+ypT/X63tPwf5+kWsMDeLG1XTKnLoPeAVNtszMhGsgzE DoZUuL4pb8XbpcnrPlgp0WSkrf1RJrJGuArvUDLu -----END CERTIFICATE----- &lt;/ca&gt; &lt;cert&gt; -----BEGIN CERTIFICATE----- MIIDyzCCArOgAwIBAgIII6a7Y3h+sS0wDQYJKoZIhvcNAQELBQAwgYsxCzAJBgNV BAYTAlJVMRQwEgYDVQQIEwtLUkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFS U0sxDjAMBgNVBAoTBU15T1JHMQ4wDAYDVQQLEwVNeU9SRzEOMAwGA1UEAwwFTXlf Q0ExIDAeBgkqhkiG9w0BCQEWEW15ZW1haWxAbXlob3N0Lnh4MB4XDTE5MTIxMzAw MDAwMFoXDTQ5MTIxMjIzNTk1OVowgY8xCzAJBgNVBAYTAlJVMRQwEgYDVQQIEwtL UkFTTk9ZQVJTSzEUMBIGA1UEBxMLS1JBU05PWUFSU0sxDjAMBgNVBAoTBU15T1JH MQ4wDAYDVQQLEwVNeU9SRzESMBAGA1UEAwwJTXlfQ2xpZW50MSAwHgYJKoZIhvcN AQkBFhFNeUVtYWlsQE15SG9zdC54eDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC AQoCggEBAM1xGkTl0fTge3jacEgSkrMoN3wgIr94Y1uD574XqxKYdH11hEdldTLa gx8MGLIYaXN/HQTEYuhxpk+EX0Mqns9TazGouvE2/poP4KiO8iSHVO9PaaKO0OKq Y7ctt4TVBdnD2UjiHCq5DfQ/T6UGv4bOR61RCqymyBnnVQ/KyR0DX4/U+jLx9wxS d5OLD0SSqOjdLTnI1gBpEphRuPo6705I+eM7cATyoL17GMgAQ1W4zLzq3ojNPCo3 U/P0tPvQi6hHoJv5Rj8EfgK7eID7kUqvCrG4Vvg+iKjC7m1ABweOjBXVpk7UsKin 97I/Gz0PGOwnsh3a3J/WNZu1DuPfw9UCAwEAAaMtMCswCQYDVR0TBAIwADAeBglg hkgBhvhCAQ0EERYPeGNhIGNlcnRpZmljYXRlMA0GCSqGSIb3DQEBCwUAA4IBAQDd v4iq13jCqRI6yeFlB8ouMVtuVpI+p7w6KBYyc+phbDuzqI4iFkMyhj0H+cx/760M ziQMuLR/pRrSPKPI03JgFI5dFh1txnNFkelQutZ+6qe4c1y9OhKhwg3n6jS2PevG Tvlrl1utoiNOVXhcvH0CxuD5AJEyQa9SH/vO3TRQC9g5zbfULTgOhpUmaVPYBkX/ tBnvnKFdmsLqwgrKvdqfJF3WqJuQSdHtyp4MVZN1d/T+HoQ5YfN5nGXpLLgLdGaq KvtAtFACkltO0A7R2WeLw1WNiXGHNxd3OFuVedapub1zXCSiYZNC+8MX7PkQnV9e p1JB/AWXg/Z7uQSua3+c -----END CERTIFICATE----- &lt;/cert&gt; &lt;key&gt; -----BEGIN RSA PRIVATE KEY----- MIIEpAIBAAKCAQEAzXEaROXR9OB7eNpwSBKSsyg3fCAiv3hjW4PnvherEph0fXWE R2V1MtqDHwwYshhpc38dBMRi6HGmT4RfQyqez1NrMai68Tb+mg/gqI7yJIdU709p oo7Q4qpjty23hNUF2cPZSOIcKrkN9D9PpQa/hs5HrVEKrKbIGedVD8rJHQNfj9T6 MvH3DFJ3k4sPRJKo6N0tOcjWAGkSmFG4+jrvTkj54ztwBPKgvXsYyABDVbjMvOre iM08KjdT8/S0+9CLqEegm/lGPwR+Art4gPuRSq8KsbhW+D6IqMLubUAHB46MFdWm TtSwqKf3sj8bPQ8Y7CeyHdrcn9Y1m7UO49/D1QIDAQABAoIBAQC6dsyL+jf9VX5b 6497qvfhikAJ9jTzqjYsCuXcwCiygRNCB9ae4rRkCrZ2CImlo8iaXqYc/I51QSnd BF1eXiG0NZeWg/nhE7Q0avLSqqOWigqKBn7vX0ayZEqLKQBnnN1pkHv3zdoY4MuM g6YrN5vApBukcGkK2XnHIRMweTLek9/qAeDgcE4ZVXIgHkNjqAc9y/kd5Sx+fL+N k/dGQeTne2xgzJZsiu4uoS9jnBE7g1hQpfLpbyoREaRjWob/KP2IDFIjInjnHrb9 mO5Xuqsv8mHp4+67Ium8IN5jDldoObayEd8giE6x3r/3x60RSmV8IDHKPIs507qD 2hoCXz8hAoGBAObhKqowjp5TuqPt9Nrm+cVZKroDvz8bXb8ejOMn22Wj171cdNy3 gxbt5ksLXsHmjPWm9fK5ZL8m33U+uMwcgqIUbHILo40AQK9FtwkjyeTQne1OBjJa 2tjCc3ySo0icEswRFJrCu9Rcszehj56WlJzmvE0CiM2QGG3ExOxl8LNtAoGBAOPL Zv5nkG0RAuOg5w+tLi2H14BcD1ICpPcq232mXdqzEeeXSysvgpwDaOWPGXtgWvIK ScIw9xqW7tonk5EjKnsgPajV8OvG+vAqC2liHy00IxZ+YB+vzE66uUEpYXUpzI2n F+pb+rQDSQo3beyamjeL1wYEjntDyWqfRmQfQSkJAoGAMP1CIk6fVHULu1D4jaJJ CVj8OfAlmmxiHfWLi3+fjBeR5XpCybqetDTSksXc22PiMRW2RkSUXgMPkz810wmR pnaS9DgIAhk1oHs4dVYEtuqVOA9APVsN6MSJ4Lr0rql/S5GsP5JmbI8m7/z2Dn6B FjHXbrfE82lJ5bDE4CxZQJkCgYAvmtJrWDlWkbeI2pdvL0H3QexHZvXMrcDL5qj4 GUyD5+hV/cg3vjYNZKkHUGCC6CAZdQz1CEabx+8iqCKusiqukI5SOmOe4naOujqo S1k4mSy8Bq0P8i1ARsVwWLWFRrb443KcB5zdAdLBz9OpHqYb9Z16JHmiSQhOv/p1 8hIsAQKBgQCvHQu6NKsdNDogXCiwEt52jlqBRs4NEjspupOKzV+HlEfek6ijKMce P9o4U+vpiG5ZmIYPzgTfAlaWxoMi5ynRZhiMA8dFzX53uyJiYJetXm+zb71l9BW8 kmsch0B5z5yAjEA+CWIqDJ05O7QTLMLC69QU4UICswbyJy1MFUfrbg== -----END RSA PRIVATE KEY----- &lt;/key&gt;</code> </pre><br>  Sur ce point, la cr√©ation des fichiers de configuration client et serveur sera consid√©r√©e comme termin√©e. <br><br><h2>  Configuration du routeur d'entreprise </h2><br>  Parce que  √âtant donn√© que notre ordinateur personnel n'est pas connect√© directement √† la ligne avec une IP blanche externe, mais via un routeur d'entreprise, puis pour acc√©der √† un ordinateur avec une adresse IP locale √† partir d'un r√©seau externe, il est n√©cessaire de transf√©rer le port que nous avons sp√©cifi√© dans la configuration du serveur (50501). <br><br>  Les proc√©dures de redirection de port peuvent varier selon le mod√®le de votre routeur. <br>  La capture d'√©cran ci-dessous montre un exemple de configuration d'un routeur d'entreprise (pas notre KEENETIC 4G). <br><br><img src="https://habrastorage.org/webt/vj/sz/1j/vjsz1j1gklcppxcucvsndpuwiui.png" alt="image"><br><br><h2>  Ex√©cution du serveur OpenVPN sur un ordinateur personnel </h2><br>  Nos fichiers de configuration sont pr√™ts, il reste √† passer aux nuances de configuration d'OpenVPN sur un syst√®me Windows, pour cela nous allons continuer √† configurer les param√®tres de l'adaptateur et renommer l'adaptateur TAP-Windows V9 en MyTap (selon le nom dev-node). <br><br><img src="https://habrastorage.org/webt/e5/gl/yz/e5glyzs2wksvc55oaceguxsisne.jpeg" alt="image"><br><br>  Et configurez √©galement l'adresse locale de notre adaptateur (elle doit √™tre affect√©e √† l' <u><b>adresse IP inoccup√©e</b></u> du r√©seau local <u><b>de</b></u> notre contr√¥leur, par exemple 192.168.112.230) <br><br><img src="https://habrastorage.org/webt/3o/jq/lu/3ojqlus9g_e1elkqinnswm8l1rs.jpeg" alt="image"><br><br>  Ensuite, lancez le serveur OpenVPN: <br><br>  1. Lancez l'application situ√©e dans C: \ Program Files \ OpenVPN \ bin \ openvpn-gui.exe (ou cliquez sur le raccourci sur le bureau) <br><br><img src="https://habrastorage.org/webt/mh/dr/6q/mhdr6q3rhquwfqrkfzwig-ph42s.jpeg" alt="image"><br><br>  2. Acc√©dez au bac, s√©lectionnez le fichier de configuration cr√©√© "TAP_Server" et cliquez sur "se connecter" <br><br><img src="https://habrastorage.org/webt/yl/xt/_y/ylxt_yc5yhzg44stx5pkilyftkc.jpeg" alt="image"><br><br>  3.Assurez-vous que notre serveur fonctionne et passez √† la configuration du Centre Internet KEENETIC 4G <br><br><img src="https://habrastorage.org/webt/sc/y1/ta/scy1taywqsvhcn9y3lavnfvll_u.jpeg" alt="image"><br><br><h2>  Configuration du Centre Internet KEENETIC 4G </h2><br>  Par d√©faut, le client OpenVPN n'est pas inclus dans KEENETIC 4G, nous devons donc l'installer en premier.  Pour ce faire, nous connectons le KEENETIC 4G √† Internet de diff√©rentes mani√®res (via le c√¢ble, le Wi-Fi ou en utilisant un modem 4G), puis allez dans ¬´Param√®tres g√©n√©raux¬ª et cliquez sur le bouton ¬´Changer le jeu de composants¬ª. <br><br><img src="https://habrastorage.org/webt/sk/g0/qs/skg0qsorsk9yqnb3aqslphvnbm8.jpeg" alt="image"><br><br>  Nous s√©lectionnons les composants dont nous avons besoin (dans ce cas, le client OpenVPN a d√©j√† √©t√© install√©, donc un autre composant est affich√© par exemple) et cliquez sur le bouton "Installer la mise √† jour". <br><br><img src="https://habrastorage.org/webt/iy/xq/tl/iyxqtlsyavy1on1ki9geari-5k0.jpeg" alt="image"><br><br>  Ensuite, passons √† la configuration de notre r√©seau, pour cela, nous s√©lectionnons ¬´R√©seau domestique¬ª et configurons l'adresse IP de notre routeur, par exemple 192.168.112.101 (il devrait √©galement √™tre gratuit). <br><br><img src="https://habrastorage.org/webt/5q/jl/vc/5qjlvc-edpe_n4io3ey_nvd3t-c.jpeg" alt="image"><br><br>  Ensuite, nous devons configurer notre connexion OpenVPN, pour cela nous s√©lectionnons "Autres connexions", cliquez sur le bouton "Ajouter une connexion". <br>  Saisissez le nom de la connexion (arbitraire, par exemple, TAP_Client_PLC), s√©lectionnez le type de connexion (OpenVPN), copiez le texte de notre fichier cr√©√© pour le client dans la configuration OpenVPN (TAP_Client.ovpn) et cliquez sur le bouton Enregistrer pour appliquer les modifications. <br><br><img src="https://habrastorage.org/webt/nb/lz/vz/nblzvzf-cr3x9_2uf3qsozjpdeq.jpeg" alt="image"><br><br>  Ensuite, nous devons inclure l'interface OpenVPN dans le pont principal, mais avant de faire cette proc√©dure, nous devrons installer le client telnet.  Pour ce faire, acc√©dez au panneau de configuration, puis "Activer ou d√©sactiver les composants Windows", s√©lectionnez Telnet Client et cliquez sur "OK". <br><br><img src="https://habrastorage.org/webt/va/al/fa/vaalfa3q9qrsd395ea2r2fiapwa.jpeg" alt="image"><br><br>  Une fois le client telnet install√© - connectez-vous √† notre KEENETIC 4G: sur le clavier, appuyez sur la combinaison de touches WIN + R, entrez cmd <br><br><img src="https://habrastorage.org/webt/hp/st/ua/hpstuakyh_1nmtscsbtznc5jt78.png" alt="image"><br><br>  Entrez la commande telnet [IP_OUR_KEENETIC] (par exemple, telnet 192.168.112.101) <br><br><img src="https://habrastorage.org/webt/gw/bd/yw/gwbdywgl0qlvpi9zw4cjjs9ocpg.jpeg" alt="image"><br><br>  Nous allons passer par le processus d'autorisation (entrez le nom d'utilisateur et le mot de passe (s'il a √©t√© configur√©)) et entrez les commandes suivantes: <br><br><pre> <code class="plaintext hljs">interface Bridge0 include OpenVPN0 system configuration save</code> </pre><br>  V√©rifiez l'exactitude de notre configuration: <br><br><pre> <code class="plaintext hljs">show running-config</code> </pre><br>  En fin de compte, nous devrions voir quelque chose comme ceci: <br><br><img src="https://habrastorage.org/webt/f7/uw/th/f7uwthmd7v0c5bdvjgyp6duoye0.jpeg" alt="image"><br><br>  Je note que l'interface OpenVPN0 n'est cr√©√©e qu'apr√®s avoir cr√©√© la connexion OpenVPN. <br><br>  Nous incluons notre client OpenVPN. <br><br><img src="https://habrastorage.org/webt/fz/of/qg/fzofqgta_w1xth5a1lldhf9eawm.jpeg" alt="image"><br><br>  Nous constatons que KEENETIC 4G s'est connect√© √† notre serveur et proc√©dons √† la configuration de notre contr√¥leur S7-1500. <br><br><img src="https://habrastorage.org/webt/bt/ye/ex/btyeexdlihyf-06asr7viqhjea0.jpeg" alt="image"><br><br><h2>  Configuration du contr√¥leur logique programmable S7-1500 </h2><br>  Dans les param√®tres de notre contr√¥leur, il suffit de d√©finir l'adresse locale de notre routeur: <br><br><ol><li>  Cochez la case ¬´Utiliser le routeur¬ª </li><li>  Nous conduisons √† l'adresse du r√©seau domestique de notre KEENETIC 4G (192.168.112.101) </li></ol><br><img src="https://habrastorage.org/webt/0h/vb/cd/0hvbcdeyy8ttar8t0qykw4zkugi.jpeg" alt="image"><br><br>  Apr√®s avoir charg√© la configuration, le contr√¥leur deviendra disponible pour l'acc√®s via une connexion √† distance. <br><br><img src="https://habrastorage.org/webt/xd/s_/wv/xds_wvc2mq1_q8ga5mfuusnaklc.jpeg" alt="image"><br><br>  Ceci termine la configuration de notre connexion √† distance. <br><br>  Merci de votre attention! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr481028/">https://habr.com/ru/post/fr481028/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr481014/index.html">Je / WE n'h√©berge pas Ayhor. Ou comment cracher face √† l'industrie</a></li>
<li><a href="../fr481016/index.html">Exp√©rience VonmoTrade. Partie 1: √âchanges et technologie moderne</a></li>
<li><a href="../fr481018/index.html">Et encore une fois sur la protection des infrastructures virtuelles</a></li>
<li><a href="../fr481020/index.html">√âcrire un simulateur de saisie tactile en utilisant du JavaScript pur: Partie 2</a></li>
<li><a href="../fr481024/index.html">Pourquoi j'ai abandonn√© l'API Google Maps</a></li>
<li><a href="../fr481030/index.html">Quel genre de cyberdec voudrais-je faire pour moi</a></li>
<li><a href="../fr481032/index.html">Pourquoi √©tait-il possible de pirater? Probablement parce que l'attaquant</a></li>
<li><a href="../fr481034/index.html">Tunnel VPN direct entre ordinateurs via des fournisseurs NAT (sans VPS, en utilisant un serveur STUN et Yandex.Disk)</a></li>
<li><a href="../fr481036/index.html">30 utilitaires pour les outils de d√©veloppement Firefox</a></li>
<li><a href="../fr481038/index.html">Confession d'un accro au design. Comment nous avons fait le jeu "IT Alchemy" en un mois</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>