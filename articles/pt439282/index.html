<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèπ üë©‚Äçüëß üë®üèΩ‚Äç‚úàÔ∏è Efeitos de filtragem SVG. Parte 1. Filtros SVG 101 ‚úùÔ∏è üë©üèº‚Äçüîß üëÇüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A s√©rie de artigos proposta, " SVG Filtering Effects " , de Sara Soueidan, desenvolvedora de interfaces UI / UX freelancer e autora de muitos artigos ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Efeitos de filtragem SVG. Parte 1. Filtros SVG 101</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439282/"><p>  A s√©rie de artigos proposta, " <strong>SVG Filtering Effects</strong> " <strong>,</strong> de Sara Soueidan, desenvolvedora de interfaces UI / UX freelancer e autora de muitos artigos t√©cnicos com base no L√≠bano, concentra-se no trabalho de filtros SVG e consiste nos seguintes artigos: </p><br><h1 id="effekty-filtracii-svg">  Efeitos de filtragem SVG </h1><br><ol><li>  Efeitos dos filtros SVG.  Parte 1. Filtros SVG 101. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Efeitos dos filtros SVG.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2. Contorne o texto usando feMorphology</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Efeitos de filtragem SVG.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3. O efeito da posteriza√ß√£o de imagem usando feComponentTransfer</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Efeitos de filtragem SVG.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 4. Imagens em duas cores com <strong>feComponentTransfer</strong></a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Efeitos de filtragem SVG.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 5. Correspondendo o texto √† superf√≠cie da textura com <strong>feDisplacementMap</strong></a> </li></ol><br><hr><br><p>  Este √© o primeiro artigo de uma s√©rie sobre filtros SVG.  Este guia ir√° ajud√°-lo a entender o que √© e mostrar como us√°-los para criar seus pr√≥prios efeitos visuais. </p><br><p><img src="https://habrastorage.org/webt/_8/ka/is/_8kaisnavnh_qmr3tvdsxofq0ii.png"></p><a name="habracut"></a><br><p>  Atualmente, o <strong>CSS</strong> nos fornece uma maneira de aplicar efeitos de cores √†s imagens, como satura√ß√£o, brilho e contraste, entre outros efeitos, usando a propriedade <strong>filter</strong> e suas fun√ß√µes que acompanham. </p><br><p>  Agora, temos 11 fun√ß√µes de filtro em CSS que realizam v√°rios efeitos, desde o desfoque at√© a altera√ß√£o do contraste e satura√ß√£o da cor, e muito mais.  Para mais informa√ß√µes sobre isso, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">consulte a refer√™ncia CSS</a> . </p><br><p>  Embora poderosos e muito convenientes, os filtros CSS tamb√©m s√£o muito limitados.  Os efeitos que podemos criar com eles geralmente s√£o aplic√°veis ‚Äã‚Äã√†s imagens e s√£o limitados √† manipula√ß√£o de cores e simples desfoque.  Assim, para criar efeitos mais poderosos que podemos aplicar a uma gama maior de elementos, precisamos de uma gama maior de fun√ß√µes.  Esses recursos est√£o dispon√≠veis hoje e est√£o dispon√≠veis h√° mais de dez anos no SVG.  Neste artigo, que √© o primeiro de uma s√©rie de filtros SVG, voc√™ aprender√° sobre as fun√ß√µes dos filtros SVG, conhecidas como "primitivas" e como us√°-las. </p><br><p>  Os filtros CSS s√£o importados do SVG.  S√£o vers√µes bastante otimizadas de um subconjunto dos efeitos de filtragem introduzidos no SVG e existentes na especifica√ß√£o SVG por muitos anos. </p><br><p>  O SVG possui mais efeitos de filtragem que o CSS, e as vers√µes do SVG s√£o mais poderosas e executam efeitos muito mais complexos do que seus atalhos de CSS.  Por exemplo, atualmente voc√™ pode desfocar um elemento usando a fun√ß√£o de filtro CSS <strong>blur ()</strong> .  A aplica√ß√£o do efeito de desfoque com esta fun√ß√£o criar√° um desfoque gaussiano uniforme do elemento ao qual √© aplicado.  A figura a seguir mostra o resultado da aplica√ß√£o do desfoque 6px a uma imagem em CSS: </p><br><p><img src="https://habrastorage.org/webt/b0/qa/fy/b0qafyst_uc08euvuxzilp13-wi.png" alt="Efeito da aplica√ß√£o da fun√ß√£o ** blur () ** - Gaussian blur"><br>  <em>Fig_1.</em>  <em>O efeito da aplica√ß√£o da fun√ß√£o CSS <strong>blur ()</strong> √© o Gaussian blur.</em> </p><br><p>  A fun√ß√£o <strong>desfoque ()</strong> cria um efeito de desfoque aplicado uniformemente nas duas dire√ß√µes (X e Y) na imagem.  Mas essa fun√ß√£o √© simplesmente uma redu√ß√£o simplificada e limitada da primitiva de filtro de desfoque dispon√≠vel no SVG, que nos permite desfocar a imagem uniformemente ou aplicar um efeito de desfoque unidirecional ao longo dos eixos X ou Y. </p><br><p><img src="https://habrastorage.org/webt/e5/gp/rr/e5gprr6riymt0ede8sxusumcyfk.png" alt="O efeito da aplica√ß√£o da fun√ß√£o SVG ** blur () ** separadamente ao longo dos eixos"><br>  <em>Fig_2.</em>  <em>O efeito de aplicar a fun√ß√£o SVG de <strong>desfoque ()</strong> separadamente ao longo dos eixos.</em> </p><br><p>  Os filtros SVG podem ser aplicados aos elementos HTML e SVG.  O efeito de filtragem SVG pode ser aplicado a um elemento HTML em CSS usando a fun√ß√£o de filtro url ().  Por exemplo, se voc√™ tiver um efeito de filtro com o identificador <strong>myAwesomeEffect</strong> definido no SVG (falaremos sobre definir efeitos de filtro no SVG em um futuro pr√≥ximo), poder√° aplicar esse efeito a um elemento HTML ou imagem como esta: </p><br><pre><code class="plaintext hljs">.el { filter: url(#myAwesomeEffect); }</code> </pre> <br><p>  O melhor de tudo √© que, como voc√™ ver√° nesta s√©rie de artigos, os filtros SVG s√£o capazes de criar efeitos no n√≠vel do Photoshop em um navegador usando algumas linhas de c√≥digo.  Espero que esta s√©rie ajude a dissipar o halo do sigilo e a liberar parte do potencial dos filtros SVG, o que o inspirar√° a us√°-los em seus pr√≥prios projetos. </p><br><p>  Mas e o suporte ao navegador, voc√™ pergunta ..? </p><br><h2 id="podderzhka-brauzerami">  Suporte do navegador </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O suporte do navegador para a</a> maioria dos filtros SVG √© impressionante.  No entanto, o m√©todo de aplica√ß√£o do efeito pode diferir em alguns navegadores, dependendo do suporte a primitivas de filtro individuais usadas no efeito de filtragem SVG, bem como de poss√≠veis erros do navegador.  O suporte ao navegador tamb√©m pode diferir quando um filtro SVG √© aplicado aos elementos SVG ou HTML. </p><br><p>  Eu recomendo que voc√™ considere a filtragem de efeitos como uma extens√£o: quase sempre √© poss√≠vel aplicar um efeito como uma melhoria, al√©m de uma experi√™ncia completamente √∫til sem um filtro.  Muitas pessoas sabem que eu apoio a abordagem progressiva para criar a interface do usu√°rio sempre que poss√≠vel.  Portanto, n√£o vamos nos preocupar muito com o suporte ao navegador nesta s√©rie de artigos. </p><br><p>  Finalmente, embora o suporte a filtros SVG seja geralmente bom, lembre-se de que alguns dos efeitos que discutiremos posteriormente podem ser considerados experimentais.  Vou indicar quaisquer problemas ou erros graves, se e quando eles o fizerem. </p><br><p>  Ent√£o, como definir e criar um efeito de filtragem no SVG? </p><br><h2 id="element--filter">  Elemento &lt;Filter&gt; </h2><br><p>  Assim como gradientes lineares, m√°scaras, padr√µes e outros efeitos gr√°ficos em SVGs, os filtros t√™m um elemento especializado chamado convenientemente: <strong>&lt;filtro&gt;</strong> . </p><br><p>  Ele nunca √© exibido diretamente, mas √© usado apenas como um objeto que pode ser referenciado usando o atributo <strong>filter</strong> no SVG ou a fun√ß√£o <strong>url ()</strong> no CSS.  Elementos que n√£o s√£o exibidos sem uma refer√™ncia expl√≠cita geralmente s√£o definidos como modelos dentro dos elementos <strong>&lt;defs&gt;</strong> no SVG.  Mas o SVG <strong>&lt;filtro&gt;</strong> n√£o precisa ser envolvido em um elemento <strong>defs</strong> .  Se voc√™ envolver o filtro em um elemento <strong>defs</strong> ou n√£o, ele n√£o ser√° exibido de qualquer maneira. </p><br><p>  A raz√£o para isso √© que o <strong>filtro requer que a imagem original seja processada</strong> .  E se voc√™ n√£o definir explicitamente essa imagem de origem chamando o filtro, o filtro n√£o ter√° nada para renderizar e, portanto, n√£o funcionar√°. </p><br><p>  Um exemplo de c√≥digo m√≠nimo muito simples que define um filtro SVG e o aplica √† imagem original no SVG ter√° a seguinte apar√™ncia: </p><br><pre> <code class="plaintext hljs">&lt;svg width="600" height="450" viewBox="0 0 600 450"&gt; &lt;filter id="myFilter"&gt; &lt;!-- filter effects go in here --&gt; &lt;/filter&gt; &lt;image xlink:href="..." width="100%" height="100%" x="0" y="0" filter="url(#myFilter)"&gt;&lt;/image&gt; &lt;/svg&gt;</code> </pre> <br><p>  O filtro no exemplo de c√≥digo acima n√£o faz nada no momento, pois est√° vazio.  Para criar um efeito de filtro, voc√™ deve definir uma s√©rie de uma ou mais opera√ß√µes de filtragem que criam esse efeito dentro do filtro.  Em outras palavras, o elemento <strong>&lt;filter&gt;</strong> √© um cont√™iner para uma s√©rie de opera√ß√µes de filtragem que juntas criam um efeito de filtro.  Essas opera√ß√µes de filtragem no SVG s√£o chamadas de " <strong>primitivas de filtro</strong> ". </p><br><h2 id="primitivy-filtra">  Primitivas de filtro </h2><br><p>  Assim, no SVG, cada elemento <strong>&lt;filter&gt;</strong> cont√©m um conjunto de primitivas de filtro como elementos filho.  Cada primitiva de filtro executa uma opera√ß√£o gr√°fica elementar em uma ou v√°rias entradas, criando um resultado gr√°fico. </p><br><p>  As primitivas de filtro s√£o convenientemente nomeadas ap√≥s as opera√ß√µes gr√°ficas que elas executam.  Por exemplo, uma primitiva que aplica o efeito Gaussian Blur a uma fonte gr√°fica √© chamada <strong>feGaussianBlur</strong> .  Todas as primitivas t√™m o mesmo prefixo: fe, abrevia√ß√£o de " <em>efeito de filtro</em> ".  Novamente, os nomes no SVG s√£o convenientes para escolher o que √© esse elemento ou o que ele faz. </p><br><p>  O seguinte trecho de c√≥digo mostra como ser√° um filtro simples se voc√™ aplicar um desfoque Gaussiano de 5px √† imagem: </p><br><pre> <code class="plaintext hljs">&lt;svg width="600" height="450" viewBox="0 0 600 450"&gt; &lt;filter id="myFilter"&gt; &lt;feGaussianBlur stDeviation="5"&gt;&lt;/feGaussianBlur&gt; &lt;/filter&gt; &lt;image xlink:href="..." width="100%" height="100%" x="0" y="0" filter="url(#myFilter)"&gt;&lt;/image&gt; &lt;/svg&gt;</code> </pre> <br><p>  Atualmente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a</a> especifica√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><strong>Filtro SVG</strong></a> define 17 primitivas de filtro capazes de criar efeitos gr√°ficos extremamente poderosos, incluindo, entre outros, gera√ß√£o de ru√≠do e textura, efeitos de ilumina√ß√£o, manipula√ß√£o de cores (canal a canal) e muito mais. </p><br><p>  A primitiva de filtro funciona aceitando uma fonte gr√°fica para entrada e sa√≠da para outra.  E a sa√≠da de um efeito de filtro pode ser usada como entrada para outra.  Isso √© muito importante e muito eficaz, porque com quase in√∫meras combina√ß√µes de efeitos de filtragem, voc√™ pode criar quase in√∫meros efeitos gr√°ficos. </p><br><p>  Cada primitiva de filtro pode aceitar uma ou duas entradas e gerar apenas um resultado.  A entrada da primitiva do filtro √© definida no atributo in.  O resultado da opera√ß√£o √© definido no atributo <strong>result</strong> .  Se o efeito do filtro exigir uma segunda entrada, ele ser√° especificado no atributo <strong>in2</strong> .  O resultado da opera√ß√£o pode ser usado como entrada para qualquer outra opera√ß√£o, mas se a entrada da opera√ß√£o n√£o for especificada no atributo in, o resultado da opera√ß√£o anterior ser√° automaticamente usado como entrada.  Se voc√™ n√£o especificar o <strong>resultado da</strong> primitiva, seu resultado ser√° usado automaticamente como entrada para a pr√≥xima primitiva.  Isso ficar√° mais claro quando come√ßarmos a estudar exemplos de c√≥digo. </p><br><p>  A primitiva de filtro pode usar outros tipos de dados como entrada, dos quais os mais importantes s√£o: </p><br><ul><li>  <strong>SourceGraphic</strong> : elemento ao qual o filtro inteiro √© aplicado;  por exemplo, uma imagem ou um peda√ßo de texto. </li><li>  <strong>SourceAlpha</strong> : √© o mesmo que <strong>SourceGraphic</strong> , exceto que este gr√°fico cont√©m apenas o canal alfa do elemento.  Por exemplo, para uma imagem JPEG, esse √© um ret√¢ngulo preto do tamanho da pr√≥pria imagem. </li></ul><br><p>  Voc√™ ver√° que, √†s vezes, deseja usar a fonte gr√°fica como entrada e, √†s vezes, apenas seu canal alfa.  Os exemplos que abordaremos neste e nos artigos subsequentes fornecer√£o uma compreens√£o clara de quando e o que usar. </p><br><p>  Esse snippet de c√≥digo √© um exemplo de como um filtro pode parecer com um pacote de primitivas de filtro como filhos.  N√£o se preocupe com os primitivos e o que eles fazem.  Nesse ponto, basta prestar aten√ß√£o em como as entradas e sa√≠das de certas primitivas s√£o definidas e usadas.  Eu adicionei alguns coment√°rios para obter ajuda. </p><br><pre> <code class="plaintext hljs">&lt;svg width="600" height="400" viewBox="0 0 850 650"&gt; &lt;filter id="filter"&gt; &lt;feOffset in="SourceAlpha" dx="20" dy="20"&gt;&lt;/feOffset&gt; &lt;!-- since the previous filter did not have a result defined and this following one does not have the input set, the result of the above primitive is automatically used as input to the following filter --&gt; &lt;feGaussianBlur stdDeviation="10" result="DROP"&gt;&lt;/feGaussianBlur&gt; &lt;!-- setting/defining the result names in all caps is a good way to make them more distinguishable and the overall code more readable --&gt; &lt;feFlood flood-color="#000" result="COLOR"&gt;&lt;/feFlood&gt; &lt;!-- This primitive is using the outputs of the previous two primitives as input, and outputting a new effect --&gt; &lt;feComposite in="DROP" in2="COLOR" operator="in" result="SHADOW1"&gt;&lt;/feComposite&gt; &lt;feComponentTransfer in="SHADOW1" result="SHADOW"&gt; &lt;feFuncA type="table" tableValues="0 0.5"&gt;&lt;/feFuncA&gt; &lt;/feComponentTransfer&gt; &lt;!-- You can use ANY two results as inputs to any primitive, regardless of their order in the DOM.--&gt; &lt;feMerge&gt; &lt;feMergeNode in="SHADOW"&gt;&lt;/feMergeNode&gt; &lt;feMergeNode in="SourceGraphic"&gt;&lt;/feMergeNode&gt; &lt;/feMerge&gt; &lt;/filter&gt; &lt;image xlink:href="..." x="0" y="0" width="100%" height="100%" filter="url(#filter)"&gt;&lt;/image&gt; &lt;/svg&gt;</code> </pre> <br><p>  Agora, o √∫ltimo conceito que quero explicar brevemente antes de passar para o nosso primeiro exemplo de filtro √© o conceito da regi√£o de <strong>filtro</strong> . </p><br><h2 id="oblast-filtracii">  √Årea de filtra√ß√£o </h2><br><p>  Um conjunto de opera√ß√µes de filtragem requer uma √°rea para processar, uma √°rea na qual elas podem ser aplicadas.  Por exemplo, voc√™ pode ter um SVG complexo com muitos elementos e deseja aplicar o efeito de filtragem apenas a uma √°rea espec√≠fica ou a um ou um grupo de elementos no mesmo SVG. </p><br><p>  No SVG, os elementos t√™m "regi√µes" cujos limites s√£o definidos pelas arestas do ret√¢ngulo que delimitam o elemento.  Uma caixa delimitadora (tamb√©m abreviada como "bbox") √© o menor ret√¢ngulo envolvente em torno de um elemento.  Por exemplo, na figura a seguir, para um peda√ßo de texto, esse ret√¢ngulo √© destacado em rosa. </p><br><p><img src="https://habrastorage.org/webt/hu/uy/i1/huuyi1kr0i8ldvfpggxgwpdi6sm.png" alt="O menor ret√¢ngulo envolvente em torno de um peda√ßo de texto"><br>  <em>Fig_3.</em>  <em>O menor ret√¢ngulo fechado em torno de um peda√ßo de texto.</em> </p><br><p>  Observe que esse ret√¢ngulo pode conter mais alguns espa√ßos verticais, pois a altura da linha do texto √© levada em considera√ß√£o ao calcular a altura do ret√¢ngulo delimitador. </p><br><p>  Por padr√£o, a √°rea de filtro do elemento √© o quadro do elemento lim√≠trofe.  Portanto, se voc√™ aplicar um efeito de filtro ao nosso fragmento de texto, o efeito ser√° limitado a esse ret√¢ngulo e qualquer resultado de filtragem que estiver fora dele ser√° cortado.  Embora isso seja razo√°vel, n√£o √© muito pr√°tico, porque muitos filtros afetar√£o alguns pixels fora da caixa delimitadora e, por padr√£o, esses pixels ser√£o cortados. </p><br><p>  Por exemplo, se voc√™ aplicar um efeito de desfoque ao nosso fragmento de texto, poder√° ver que ele √© cortado ao longo das bordas esquerda e direita do ret√¢ngulo que delimita o texto: </p><br><p><img src="https://habrastorage.org/webt/ll/ih/e4/llihe4hbwx94zl3xk-w9zmcmmkq.png" alt="O efeito de desfoque aplicado ao texto √© cortado nos lados direito e esquerdo do ret√¢ngulo que delimita o texto."><br>  <em>Fig_4.</em>  <em>O efeito de desfoque aplicado ao texto √© cortado nos lados direito e esquerdo do ret√¢ngulo que delimita o texto.</em> </p><br><p>  Ent√£o, como podemos evitar isso?  A resposta √©: expandindo a √°rea de filtro.  Podemos expandir o escopo ao qual o filtro √© aplicado alterando os atributos <strong>x</strong> , <strong>y</strong> , <strong>width</strong> e <strong>height</strong> do elemento &lt;filter&gt;. </p><br><p>  De acordo com a especifica√ß√£o, </p><br><blockquote>  Frequentemente, √© necess√°rio fornecer campos na √°rea de filtro, pois o efeito do filtro pode afetar alguns bits fora da caixa delimitadora para um determinado objeto.  Para fazer isso, voc√™ pode fornecer valores negativos em porcentagem para as propriedades <strong>X</strong> e <strong>Y</strong> e valores maiores que 100% para as propriedades de <strong>largura</strong> e <strong>altura</strong> . </blockquote><p>  Por padr√£o, os filtros t√™m √°reas que estendem 10% da largura e altura da caixa delimitadora nas quatro dire√ß√µes.  Em outras palavras, os valores padr√£o para os atributos <strong>x</strong> , <strong>y</strong> , <strong>width</strong> e <strong>height</strong> s√£o: </p><br><pre> <code class="plaintext hljs">&lt;filter x="-10%" y="-10%" width="120%" height="120%" filterUnits="objectBoundingBox"&gt; &lt;!-- filter operations here --&gt; &lt;/filter&gt;</code> </pre> <br><p>  Se voc√™ n√£o incluir esses atributos no elemento <strong>&lt;filter&gt;</strong> , os valores padr√£o ser√£o usados.  Voc√™ tamb√©m pode substitu√≠-los para expandir ou reduzir a √°rea, conforme necess√°rio. </p><br><p>  Lembre-se de que as unidades usadas nos atributos <strong>x</strong> , <strong>y</strong> , <strong>largura</strong> e <strong>altura</strong> dependem do <strong>valor do</strong> atributo <strong>filterUnits</strong> usado.  Ele define o sistema de coordenadas dos atributos <strong>x</strong> , <strong>y</strong> , <strong>largura</strong> e <strong>altura</strong> e pode assumir um dos dois valores: </p><br><ul><li>  <strong>objectBoundingBox</strong> .  Este √© o valor padr√£o.  Quando <strong>filterUnits</strong> √© definido como <strong>objectBoundingBox</strong> , os valores dos atributos <strong>x</strong> , <strong>y</strong> , <strong>width</strong> e <strong>height</strong> s√£o porcentagens ou fra√ß√µes do tamanho da caixa delimitadora do elemento.  Isso tamb√©m significa que voc√™ pode usar valores fracion√°rios em vez de porcentagens, se preferir. </li><li>  <strong>userSpaceOnUse</strong> Se <strong>filterUnits</strong> estiver definido como <strong>userSpaceOnUse</strong> , as coordenadas dos atributos x, y, width e height ser√£o relativas ao sistema de coordenadas atual usado pelo usu√°rio.  Em outras palavras, isso √© relativo ao sistema de coordenadas atual usado no SVG, que usa pixels como unidade de medida, e geralmente em rela√ß√£o ao tamanho do pr√≥prio SVG, assumindo que os valores do <strong>viewBox</strong> correspondam aos valores do sistema de coordenadas original. </li></ul><br><blockquote>  Tudo o que voc√™ precisa saber sobre sistemas de coordenadas no SVG pode ser encontrado neste artigo, que escrevi h√° v√°rios anos. </blockquote><br><pre> <code class="plaintext hljs">&lt;!-- Using objectBoundingBox units --&gt; &lt;filter id="filter" x="5%" y="5%" width="100%" height="100%"&gt; &lt;!-- Using userSpaceOnUse units --&gt; &lt;filter id="filter" filterUnits="userSpaceOnUse" x="5px" y="5px" width="500px" height="350px"&gt;</code> </pre> <br><h3 id="bystryy-sovet-vizualizaciya-tekuschey-oblasti-filtra-s-pomoschyu-feflood">  Dica r√°pida: visualizando a √°rea de filtro atual com o feFlood </h3><br><p>  Se voc√™ precisar visualizar os limites de uma √°rea de filtro, poder√° visualiz√°-la preenchendo-a com um pouco de cor.  Convenientemente, existe uma primitiva de filtro chamada <strong>feFlood</strong> , cujo √∫nico objetivo √© precisamente este: preencher a √°rea atual do filtro com a cor especificada no atributo <strong>flood-color</strong> . </p><br><p>  Portanto, se assumirmos que temos um peda√ßo de texto, cuja √°rea de filtro queremos ver, o c√≥digo pode ser algo assim: </p><br><pre> <code class="plaintext hljs">&lt;svg width="600px" height="400px" viewBox="0 0 600 400"&gt; &lt;filter id="flooder" x="0" y="0" width="100%" height="100%"&gt; &lt;feFlood flood-color="#EB0066" flood-opacity=".9"&gt;&lt;/feFlood&gt; &lt;/filter&gt; &lt;text dx="100" dy="200" font-size="150" font-weight="bold" filter="url(#flooder)"&gt;Effect!&lt;/text&gt; &lt;/svg&gt;</code> </pre> <br><p>  Como voc√™ pode ver no snippet de c√≥digo acima, a primitiva <strong>feFlood</strong> tamb√©m aceita o atributo <strong>opacidade de inunda√ß√£o</strong> , que pode ser usado para criar a transpar√™ncia da camada de cor de preenchimento. </p><br><p>  O snippet acima preenche a √°rea do filtro com rosa.  Mas eis o seguinte: quando voc√™ preenche a √°rea com cor, voc√™ literalmente a preenche com cor, o que significa que a cor cobrir√° tudo na √°rea do filtro, incluindo todos os elementos e efeitos que voc√™ criou anteriormente, bem como o pr√≥prio texto.  Afinal, esse √© o conceito de preenchimento, certo? </p><br><p><img src="https://habrastorage.org/webt/aj/pc/qc/ajpcqctctaikdiirvjexjeuh6yg.png" alt="Antes e depois de preencher a √°rea de texto do filtro com cores"><br>  <em>Fig_5.</em>  <em>Antes e depois de preencher a √°rea de texto do filtro com cores.</em> </p><br><p>  Para mudar isso, precisamos mover a camada de cor abaixo e mostrar a camada de texto original por cima. </p><br><p>  Se voc√™ tiver v√°rias camadas de contexto que devem ser exibidas umas sobre as outras no filtro SVG, poder√° usar a primitiva de filtro <strong>&lt;feMerge&gt;</strong> .  Como o nome indica, a primitiva <strong>feMerge √©</strong> usada para combinar camadas de elementos ou efeitos. </p><br><p>  O primitivo <strong>n√£o possui um atributo in.</strong>  <strong>Para mesclar as camadas dentro de <strong>&lt;feMerge&gt;</strong> , dois ou mais <strong>&lt;feMergeNode&gt; s√£o usados</strong> , cada um com seu pr√≥prio atributo, que representa a camada que queremos adicionar.</strong> <br></p><p>  A disposi√ß√£o da camada (ou "n√≥") depende da ordem da origem <strong>&lt;feMergeNode&gt;</strong> - o primeiro <strong>&lt;feMergeNode&gt; √©</strong> exibido "atr√°s" ou "abaixo" do segundo.  O √∫ltimo <strong>&lt;feMergeNode&gt;</strong> representa a camada superior.  E assim por diante </p><br><p>  Portanto, em nosso exemplo com texto, o preenchimento de cor √© uma camada, e a fonte de texto (fonte de gr√°ficos) √© uma camada diferente, e queremos colocar o texto em cima do preenchimento de cor.  Nosso c√≥digo ficar√° assim: </p><br><pre> <code class="plaintext hljs">&lt;svg width="600px" height="400px" viewBox="0 0 600 400"&gt; &lt;filter id="flooder"&gt; &lt;feFlood flood-color="#EB0066" flood-opacity=".9" result="FLOOD"&gt;&lt;/feFlood&gt; &lt;feMerge&gt; &lt;feMergeNode in="FLOOD" /&gt; &lt;feMergeNode in="SourceGraphic" /&gt; &lt;/feMerge&gt; &lt;/filter&gt; &lt;text dx="100" dy="200" font-size="150" font-weight="bold" filter="url(#flooder)"&gt;Effect!&lt;/text&gt; &lt;/svg&gt;</code> </pre> <br><p>  Observe como nomeei o resultado de <strong>feFlood</strong> no atributo <strong>result</strong> , para que eu possa usar esse nome na camada <strong>&lt;feMergeNode&gt;</strong> como entrada.  Como queremos exibir o texto de origem na parte superior da cor do fluxo, fazemos refer√™ncia a esse texto usando <strong>SourceGraphic</strong> .  A seguinte demonstra√ß√£o mostra o resultado: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/SaraSoueidan/embed/preview/dJddbK" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2 id="primenenie-teni-k-izobrazheniyu">  Aplique uma sombra a uma imagem </h2><br><p>  Deixe-me come√ßar com um breve aviso: √© melhor criar uma sombra simples usando a fun√ß√£o de filtragem CSS <strong>drop-shadow ()</strong> .  O caminho do filtro SVG √© muito mais detalhado.  Afinal, como mencionamos anteriormente, as fun√ß√µes de filtro CSS s√£o atalhos convenientes.  Mas ainda quero considerar este exemplo como um ponto de entrada simples para efeitos de filtro mais complexos, que abordaremos em artigos futuros. </p><br><p>  Ent√£o, como √© criada a sombra? </p><br><p>  Uma sombra √© geralmente uma camada cinza clara atr√°s ou abaixo de um elemento que tem a mesma forma (ou forma) que o pr√≥prio elemento.  Em outras palavras, voc√™ pode considerar isso uma c√≥pia cinza emba√ßada do elemento. </p><br><p>  Ao criar filtros SVG, voc√™ precisa raciocinar em etapas.  Que medidas s√£o necess√°rias para alcan√ßar esse ou aquele efeito?  Para uma sombra, uma c√≥pia cinza borrada de um elemento pode ser criada borrando uma c√≥pia preta do elemento e colorindo essa c√≥pia preta, ou seja,  fa√ßa-a cinza.  Em seguida, esta c√≥pia cinza borrada rec√©m-criada √© colocada atr√°s do elemento original e √© ligeiramente deslocada nas duas dire√ß√µes. </p><br><p>  Ent√£o, <strong>come√ßaremos obtendo uma c√≥pia em preto do nosso elemento e desfocando-o</strong> .  Uma c√≥pia em preto pode ser criada usando o canal alfa do elemento, usando <strong>SourceAlpha</strong> como entrada de filtro. </p><br><p>  A primitiva <strong>feGaussianBlur</strong> ser√° usada para aplicar o desfoque Gaussiano a essa camada SourceAlpha.  A quantidade de desfoque necess√°ria √© definida no atributo <strong>stdDeviation</strong> (abrevia√ß√£o de Desvio padr√£o).  Se voc√™ definir um valor do atributo <strong>stdDeviation</strong> , esse valor ser√° usado para aplicar o desfoque uniforme dos dados de entrada.  Voc√™ tamb√©m pode especificar dois valores num√©ricos, o primeiro ser√° usado para desfocar o elemento na dire√ß√£o horizontal e o segundo para desfoque vertical.  Para a sombra, precisamos aplicar um desfoque uniforme, para que nosso c√≥digo comece com isso: </p><br><pre> <code class="plaintext hljs">&lt;svg width="600" height="400" viewBox="0 0 850 650"&gt; &lt;filter id="drop-shadow"&gt; &lt;-- Grab a blakc copy of the source image and blur it by 10 --&gt; &lt;feGaussianBlur in="SourceAlpha" stdDeviation="10" result="DROP"&gt;&lt;/feGaussianBlur&gt; &lt;/filter&gt; &lt;image xlink:href="..." x="0" y="0" width="100%" height="100%" filter="url(#drop-shadow)"&gt;&lt;/image&gt; &lt;/svg&gt;</code> </pre> <br><p>  O snippet de c√≥digo acima leva ao seguinte efeito, onde apenas o canal alfa desfocado da imagem √© exibido no momento: </p><br><p><img src="https://habrastorage.org/webt/zd/e9/ye/zde9ye5ycftyjmi_cru94ty3jde.png" alt="Imagem criada em preto com borr√£o (sombra)"><br>  <em>Fig_6.</em>  <em>Criou a c√≥pia em preto da imagem com blur (sombra).</em> </p><br><p>  Ent√£o, queremos <strong>mudar a cor da sombra e torn√°-la cinza</strong> .  Para fazer isso, aplique um preenchimento de cor na √°rea de filtro e, em seguida, combine essa camada de preenchimento de cor com a camada de sombra que criamos. </p><br><p>  Alinhamento √© a conex√£o de um elemento gr√°fico com um fundo desfocado.  O fundo desfocado √© o conte√∫do por tr√°s do elemento com o qual o elemento est√° alinhado.  Em nosso filtro, a cor de preenchimento √© a camada superior e a sombra emba√ßada √© o plano de fundo, porque est√° por tr√°s dela.  Consideraremos a primitiva <strong>feComposite em</strong> mais detalhes nos artigos a seguir. Portanto, se voc√™ n√£o estiver familiarizado com a composi√ß√£o e como ela funciona, recomendamos que voc√™ leia um <strong>artigo detalhado</strong> sobre esse t√≥pico no meu blog. </p><br><p>  A primitiva <strong>feComposite</strong> possui um atributo de <strong>operador</strong> , que √© usado para indicar qual opera√ß√£o composta queremos usar. </p><br><p>  Usando o operador <strong>em composto</strong> , a camada de preenchimento de cores ser√° ‚Äúcortada‚Äù e somente a regi√£o de cores que corresponde √† nossa camada de sombras ser√° exibida.  Ambas as camadas ser√£o misturadas onde elas se cruzam, ou seja,  a cor cinza ser√° usada para colorir nossa sombra preta. </p><br><p>  <strong>feComposite</strong>      ,    <strong>in</strong>  <strong>in2</strong> .   ‚Äî    ,   ‚Äî   .    ,    <strong>operator</strong> ,      : </p><br><pre> <code class="plaintext hljs">&lt;svg width="600" height="400" viewBox="0 0 850 650"&gt; &lt;filter id="drop-shadow"&gt; &lt;feGaussianBlur in="SourceAlpha" stdDeviation="10" result="DROP"&gt;&lt;/feGaussianBlur&gt; &lt;feFlood flood-color="#bbb" result="COLOR"&gt;&lt;/feFlood&gt; &lt;feComposite in="COLOR" in2="DROP" operator="in" result="SHADOW"&gt;&lt;/feComposite&gt; &lt;/filter&gt; &lt;image xlink:href="..." x="0" y="0" width="100%" height="100%" filter="url(#drop-shadow)"&gt;&lt;/image&gt; &lt;/svg&gt;</code> </pre> <br><p>  ,   <strong>feGaussianBlur</strong>   <strong>feFlood</strong>       .     : </p><br><p><img src="https://habrastorage.org/webt/_c/c7/an/_cc7an_zj43v7gv4jka--6mpnpi.png" alt="Agora a sombra est√° cinza"><br> <em>_7.   .</em> </p><br><p>  ,        ,       / .          .     ,      ,       ,          . </p><br><p>     SVG   <strong>feOffset</strong> .    <strong>in</strong>  <strong>result</strong>      : <strong>dx</strong>  <strong>dy</strong> ,   ,         X  Y . </p><br><p>   ,       ,  <strong>feMerge</strong> ,  ,           ‚Äî  <strong>mergeNode</strong>       ,    <strong>mergeNode</strong>    ,  <strong>SourceGraphic</strong>    .     : </p><br><pre> <code class="plaintext hljs">&lt;svg width="600" height="400" viewBox="0 0 850 650"&gt; &lt;filter id="drop-shadow"&gt; &lt;!-- Get the source alpha and blur it; we'll name the result "DROP" --&gt; &lt;feGaussianBlur in="SourceAlpha" stdDeviation="10" result="DROP"&gt;&lt;/feGaussianBlur&gt; &lt;!-- flood the region with a ligh grey color; we'll name this layer "COLOR" --&gt; &lt;feFlood flood-color="#bbb" result="COLOR"&gt;&lt;/feFlood&gt; &lt;!-- Composite the DROP and COLOR layers together to colorize the shadow. The result is named "SHADOW" --&gt; &lt;feComposite in="COLOR" in2="DROP" operator="in" result="SHADOW"&gt;&lt;/feComposite&gt; &lt;!-- Move the SHADOW layer 20 pixels down and to the right. The new layer is now called "DROPSHADOW" --&gt; &lt;feOffset in="SHADOW" dx="20" dy="20" result="DROPSHADOW"&gt;&lt;/feOffset&gt; &lt;!-- Layer the DROPSHADOW and the Source Image, ensuring the image is positioned on top (remember: MergeNode order matters) --&gt; &lt;feMerge&gt; &lt;feMergeNode in="DROPSHADOW"&gt;&lt;/feMergeNode&gt; &lt;feMergeNode in="SourceGraphic"&gt;&lt;/feMergeNode&gt; &lt;/feMerge&gt; &lt;/filter&gt; &lt;!-- Apply the filter to the source image in the `filter` attribute --&gt; &lt;image xlink:href="..." x="0" y="0" width="100%" height="100%" filter="url(#drop-shadow)"&gt;&lt;/image&gt; &lt;/svg&gt;</code> </pre> <br><p>      : </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/SaraSoueidan/embed/preview/qpoqwQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>         SVG,   SVG.  ,        . </p><br><h2 id="est-drugoy-sposob">   ‚Ä¶ </h2><br><p>  ,     .  ,         ,    ,      ,    , , . </p><br><p>     ,     ,  <strong>feFlood</strong> ,  ,  , ,      .    ,    .    ,    ,     , ,  - ,  , ,    . </p><br><p>         <strong>feColorMatrix</strong> ,  <strong>feComponentTransfer</strong> .   <strong>feComponentTransfer</strong>       ,    <strong>feColorMatrix</strong> ,     . </p><br><p>  <strong>feColorMatrix</strong>   .         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Una Kravet</a> ,        . </p><br><p>  ,        R(), G(), B()  A()              -.  ,       .     : </p><br><pre> <code class="plaintext hljs">&lt;filter id="myFilter"&gt; &lt;feColorMatrix type="matrix" values="R 0 0 0 0 0 G 0 0 0 0 0 B 0 0 0 0 0 A 0 "/&gt; &lt;/feColorMatrix&gt; &lt;/filter&gt;</code> </pre> <br><p>      ,      . </p><br><p>        ,     ,     RGB,     -   : </p><br><pre> <code class="plaintext hljs">&lt;filter id="filter"&gt; &lt;!-- Get the source alpha and blur it, --&gt; &lt;feGaussianBlur in="SourceAlpha" stdDeviation="10" result="DROP"&gt;&lt;/feGaussianBlur&gt; &lt;!-- offset the drop shadow --&gt; &lt;feOffset in="SHADOW" dx="20" dy="20" result="DROPSHADOW"&gt;&lt;/feOffset&gt; &lt;!-- make the shadow translucent by reducing the alpha channel value to 0.3 --&gt; &lt;feColorMatrix type="matrix" in="DROPSHADOW" result="FINALSHADOW" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.3 0"&gt; &lt;/feColorMatrix&gt; &lt;!-- Merge the shadow and the source image --&gt; &lt;feMerge&gt; &lt;feMergeNode in="FINALHADOW"&gt;&lt;/feMergeNode&gt; &lt;feMergeNode in="SourceGraphic"&gt;&lt;/feMergeNode&gt; &lt;/feMerge&gt; &lt;/filter&gt;</code> </pre> <br><p>     : </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/SaraSoueidan/embed/preview/opEZee" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2 id="zaklyuchenie">  Conclus√£o </h2><br><p>                   .         ,    .         ,         .  ,       ,   ,   ,   ,    .       ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> .   ,     ,  ,         .             . </p><br><p> ,     SVG-      ,            .  Fique conosco. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt439282/">https://habr.com/ru/post/pt439282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt439268/index.html">Como as impress√µes VR, AR e 3D funcionam juntas: experi√™ncia do VR Concept</a></li>
<li><a href="../pt439270/index.html">Um exemplo de an√°lise de c√≥digo C ++ usando libclang em Python</a></li>
<li><a href="../pt439272/index.html">Jupyter Notebook na Netflix</a></li>
<li><a href="../pt439278/index.html">ACS do meu LCD - seguran√ßa em dois parafusos</a></li>
<li><a href="../pt439280/index.html">Traut√¥nio: a onda alem√£ na hist√≥ria dos sintetizadores</a></li>
<li><a href="../pt439286/index.html">Sobre a an√°lise est√°tica com toda a honestidade</a></li>
<li><a href="../pt439288/index.html">SciPy, otimiza√ß√£o</a></li>
<li><a href="../pt439290/index.html">Acelere a compila√ß√£o no Xcode rapidamente</a></li>
<li><a href="../pt439294/index.html">Revis√£o da tradu√ß√£o ‚ÄúSe o software for criado com dinheiro p√∫blico, o c√≥digo dever√° estar aberto‚Äù</a></li>
<li><a href="../pt439296/index.html">Matr√≠cula sovi√©tica e complexidade Kolmogorov</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>