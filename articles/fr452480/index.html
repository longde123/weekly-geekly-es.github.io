<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•â ‚ÜóÔ∏è ü§¥üèæ Phoenix LiveView: lorsque vous n'avez plus besoin de JavaScript * üë©üèº‚Äçüîß üìì ‚è±Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="* pour cr√©er une page dynamique 



 Il n'y a pas si longtemps, le 12/12/2018, la sortie d'une nouvelle biblioth√®que pour les fans du framework Phoeni...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Phoenix LiveView: lorsque vous n'avez plus besoin de JavaScript *</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452480/">  <i>* pour cr√©er une page dynamique</i> <br><br><p>  Il n'y a pas si longtemps, le 12/12/2018, la sortie d'une nouvelle biblioth√®que pour les fans du framework <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Phoenix</a> appel√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Phoenix LiveView a</a> √©t√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">annonc√©e</a> .  Je voudrais partager avec vous mes impressions sur son utilisation et le ph√©nix en g√©n√©ral, et dans le prochain article essayer d'√©crire un jeu par navigateur simple.  La partie de l'article avec une opinion personnelle n'est pas exclusivement vraie, je vais essayer d'expliquer les avantages du d√©veloppement web en utilisant l'exemple de phoenix par rapport √† php </p><br><a name="habracut"></a><br><h3>  Partie th√©orique </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Phoenix</a> est un framework dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©lixir du</a> langage fonctionnel.  Veuillez ne pas confondre avec Phalcon pour php. <br></p><br><p>  Phoenix LiveView est une nouvelle biblioth√®que formidable qui vous permet de cr√©er des pages Web dynamiques sans √©crire de code javascript via une communication bidirectionnelle sur les sockets Web et le rendu c√¥t√© serveur.  Comme nous le savons bien, les sockets web phoenix sont bien <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">impl√©ment√©s</a> , donc il y aura suffisamment de performances pour la plupart des id√©es que vous pr√©voyez de mettre en ≈ìuvre. <br></p><br><p>  Il existe plusieurs options pour utiliser LiveView: <br><br></p><ul><li>  V√©rification de la saisie des donn√©es dans les formulaires (validation), appui sur les boutons, masquage et affichage des blocs, auto-compl√©tion. </li><li>  √âv√©nements du serveur, tels que notifications, tableaux de bord, compteurs. </li></ul><br>  Actuellement limit√© et disponible dans le futur: <br><br><ul><li>  Navigation et pagination des pages.  Ils peuvent √™tre construits en utilisant LiveView, mais pour le moment, vous perdrez la fonctionnalit√© de la transition "arri√®re / avant".  La prise en charge de ¬´pushState¬ª est incluse dans le plan. </li><li>  Affichez des donn√©es en constante augmentation - chats, journaux en ligne, etc.  peut √™tre cr√©√© √† l'aide de LiveView, mais actuellement, vous devez stocker toutes les donn√©es dans l'√©tat de l'application sur le serveur.  La prise en charge de la mise √† jour partielle des donn√©es d'√©tat est en cours de d√©veloppement. </li><li>  Travailler avec des retards lorsqu'un √©tat change.  LiveView stocke l'√©tat de l'application c√¥t√© serveur et cela garantit le bon fonctionnement de l'interface avec de s√©rieux retards. </li><li>  Un ensemble complet de fonctions de mod√©lisation de ces situations appara√Ætra dans les futures versions. </li></ul><br>  Ce qui est mauvais avec LiveView: <br><br><ul><li>  Des animations  Par exemple, l'affichage du menu par clic peut √™tre impl√©ment√© via LiveView, mais une apparence lisse est pr√©f√©rable de donner en css ou js. </li><li>  Interface utilisateur optimiste.  L'application est con√ßue pour fonctionner en continu avec l'√©tat du serveur et cet √©tat n'est pas sur le client.  Tout le code html pour tout √©v√©nement est pr√©par√© sur le serveur avec un nouvel √©tat et vole via des sockets web vers le client, tous les changements visibles se produisent en rempla√ßant le code html. </li></ul><br><h4>  Comment fonctionne liveview? </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/5ca/88c/26e/5ca88c26e0a9670aeb1bb491e0133741.png" alt="image"><br>  <i>Image prise depuis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">elixirschool</a></i> <br><br><p>  LiveView commence par une requ√™te HTTP normale et une r√©ponse HTML, puis continue de surveiller l'√©tat de l'application sur le serveur via des sockets Web, tout en garantissant l'affichage d'une page HTML r√©guli√®re, m√™me si JavaScript est d√©sactiv√©.  Chaque fois que l'√©tat de l'application change, il redessine automatiquement l'affichage et les mises √† jour sont envoy√©es au client.  Sur le client, √† l'aide de la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">morphdom</a> , le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">contenu</a> est mis √† jour.  En fait, la logique est assez proche des frameworks js modernes, mais sans utiliser de DOM virtuel. <br>  Pour √©viter que la session de communication ne soit perdue lors de la reconnexion, une session utilisateur avec les donn√©es n√©cessaires est initi√©e depuis le contr√¥leur et transmise au client.  Seule une session sign√©e avec des donn√©es primaires est stock√©e sur le client, elle est envoy√©e au serveur lors de la connexion, ou de la reconnexion en cas d'√©chec, √† l'√©tat de l'application. <br></p><br><h3>  Impression et opinion personnelle sur Phoenix lui-m√™me </h3><br><p>  Par exp√©rience personnelle, je dirai que j'ai rarement rencontr√© des candidatures clairement √©crites en √©quipes de 3 personnes ou plus.  Souvent, il y a un m√©li-m√©lo de services sur php (serveur) nodejs (websocker) react / vue (front), il y a aussi des choses qui fonctionnent "lentement" sur php.  Nous mettrons les files d'attente dans redis, puis nous connecterons rabbitmq, et l'un des d√©veloppeurs ne sait pas comment les utiliser et les a impl√©ment√©s en sql.  Quelqu'un sait comment utiliser correctement la couronne via flock et ne fait pas la logique de protection de relance dans le code, tandis que d'autres ex√©cutent des d√©mons en php, ce qui met parfois des b√¢tons dans les roues lors de la mise √† jour du code et de la structure de la base de donn√©es.  L'√©tat d'application commence √† √™tre stock√© partout et partout, en statique de classe, en singleton, parfois m√™me dans une variable de m√©thode statique, les r√®gles d'√©criture du code commencent √† se multiplier afin de lutter contre l'ignorance du langage et la construction correcte de l'architecture, mais que se passe-t-il si le projet a √©t√© d√©marr√© par un programmeur de niveau interm√©diaire ou junior sur le genou, sans penser que tout cela deviendra une v√©ritable entreprise?  G√©rer cela seul n'est pas si simple, une partie de la logique est dupliqu√©e √† la fois sur le client et sur le serveur (validation par exemple).  Dans SPA, lorsque le front commence √† utiliser l'API publique, nous commen√ßons √† penser au versioning.  Le soutien devient plus difficile car  vous devez satisfaire non seulement les besoins des services externes et des clients, mais aussi votre front souvent changeant, et vous ne voulez pas dupliquer le code.  Graphql viss√©.  Au fil du temps, le zoo des biblioth√®ques se d√©veloppe et les entreprises commencent √† embaucher plus de d√©veloppeurs. <br></p><br><p>  Ici, je vois la sup√©riorit√© du ph√©nix.  Hors de la bo√Æte, nous avons le remplacement php (√©lixir + Phoenix), nodejs (websockets sur Phoenix.Socket), react / vue (Phoenix.LiveView), redis (ets), rabbitmq (ets), cron (√©ventuellement via GenServer), daemons (GenServer ), base de donn√©es tronqu√©e (mnesia).  Nous avons mis en cache dans la langue elle-m√™me √† travers mnesia ou ets, couronnes ou d√©mons sans aucun probl√®me.  multit√¢che et travailler en arri√®re-plan pendant des ann√©es √† ¬´l'√©lixir dans le sang¬ª.  Le stockage d'√©tat est le plus souvent dans le serveur de g√®nes.  API publique exclusivement pour les besoins de services externes, le spa sera bient√¥t √©crit sur LiveView.  La prise en charge de l'API sera beaucoup plus facile.  √âvolutivit√© dans toutes les directions gr√¢ce √† la langue, la vitesse de travail n'est limit√©e que par la source de stockage des donn√©es, tout le reste fonctionne tr√®s rapidement.  Un sch√©ma de fonctionnement assez clair si vous apprenez une fois comment fonctionne la fiche et quelle est sa conn.  G√©n√©ration de code, "architecture de microservice" - regardez vers l'application parapluie.  Ils essaient de r√©soudre tout cela avec des dockers avec orchestration, etc.  cr√©er des emplois pour un grand nombre d'ing√©nieurs devops. <br></p><br><h3>  R√©sum√© </h3><br><p>  Essayez d'installer elixir et d'ex√©cuter phoenix.  Dans cet article, j'ai essay√© d'√©noncer ¬´l'eau¬ª, l'opinion personnelle et la partie th√©orique, de sorte que dans le prochain je me limiterai uniquement au code et √† la logique.  Nous allons √©crire un jeu simple au format DogView de DogView mais sans fonctionnalit√© de clicker.  Ceci est mon premier article, je vous demande de ne pas juger strictement et de ne pas le prendre trop au s√©rieux, j'ai intentionnellement montr√© unilat√©ralement les avantages de Phoenix et manqu√© ses lacunes.  Il vaut mieux les ressentir dans la pratique que comme √ßa de l'avis d'un inconnu. <br></p><br>  Rejoignez la communaut√© des d√©veloppeurs de proelixir dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">elixir</a> ou trouvez @proelixir sur t√©l√©gramme.  De nouvelles informations sur les langues sont collect√©es par le bot sur la cha√Æne @proelixir_news. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr452480/">https://habr.com/ru/post/fr452480/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr452464/index.html">Si votre projet est "Th√©√¢tre", utilisez des acteurs</a></li>
<li><a href="../fr452466/index.html">Clavier braille</a></li>
<li><a href="../fr452468/index.html">"Si vous devez tuer quelqu'un, alors vous √™tes venu √† l'adresse"</a></li>
<li><a href="../fr452474/index.html">Analyse des ondelettes. 2e partie</a></li>
<li><a href="../fr452478/index.html">Cr√©ation de tableaux dans le syst√®me de conception Figma et impl√©mentation dans le Storybook (React)</a></li>
<li><a href="../fr452486/index.html">Le consensus est un mensonge</a></li>
<li><a href="../fr452490/index.html">Comment fonctionne VRRP</a></li>
<li><a href="../fr452492/index.html">D√©montez le serpent</a></li>
<li><a href="../fr452494/index.html">Diversit√© spatiale MIMO: Alamouti, DET et autre diversit√© spatiale</a></li>
<li><a href="../fr452496/index.html">Qu'entend-on d'autre sur l'air? Diffusion HF (DXing)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>