<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÜüèΩ üßòüèæ üèÇüèæ Accesibilidad de Android: ¬øun lobo con piel de cordero? Conferencia de Yandex üòå üÉè üë©üèæ‚Äçü§ù‚Äçüë®üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hace un mes, en la pr√≥xima Fiesta Droid, el desarrollador senior Danila Fetisov examin√≥ en detalle el principio del servicio, que es responsable de la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Accesibilidad de Android: ¬øun lobo con piel de cordero? Conferencia de Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/417865/">  Hace un mes, en la pr√≥xima <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fiesta Droid,</a> el desarrollador senior Danila Fetisov examin√≥ en detalle el principio del servicio, que es responsable de las funciones de accesibilidad de Android.  Aprender√° c√≥mo usarlo para mejorar la accesibilidad de sus proyectos, as√≠ como una vulnerabilidad peligrosa llamada clickjacking. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dxbv5EoiRxc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  - Mi nombre es Danila Fetisov, soy de la oficina de Mosc√∫ de Yandex, m√°s espec√≠ficamente de Taxi, m√°s espec√≠ficamente de Tax√≠metro.  Hoy hablaremos sobre qu√© es la accesibilidad de Android y por qu√© decid√≠ llamar a una cosa tan sagrada para las personas con discapacidad un lobo con piel de cordero. <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/cv/vo/zp/cvvozpr20mbka0ypbsfbidevqg4.jpeg"><br><br>  Entonces, el resumen del informe.  Primero, veremos c√≥mo se puede usar, crear y personalizar esta cosa.  Tal vez te cuente un par de trucos para la vida, nishtyaks de supermercado.  Y luego sobre lo m√°s interesante: sobre por qu√© esto es peligroso. <br><img src="https://habrastorage.org/webt/a9/ey/rl/a9eyrlotqmcnesi28xvqz-eccf4.jpeg"><br>  ¬øC√≥mo podemos aplicar esto?  En general, ¬øqu√© es para aquellos que no saben?  Cualquier evento ocurre en el sistema, cae en nuestro servicio y los procesamos. <br><br>  Una vez que algo se enamora de nosotros, podemos tomar el contenido desde all√≠ y expresarlo usando el mismo Yandex SpeechKit, Google Text-to-Speech o algo m√°s que le guste.  Pero lo que es m√°s interesante, no solo podemos recibir, sino tambi√©n lanzar un evento del sistema.  A√∫n puedes decir algo.  Lanz√≥ el evento, presion√≥ el bot√≥n, y todo est√° bien, disfruta de la vida. <br><br>  Si hablamos de estos dos puntos, de hecho, est√°n predeterminados.  Google lanz√≥ esta funci√≥n para que las personas con discapacidad puedan usar su aplicaci√≥n.  Pero como todos saben, los desarrolladores no queremos aburrirnos: nos sentamos, miramos el c√≥digo y pensamos: ¬øc√≥mo podemos aplicarlo?  Y nos vamos. <br><br>  Automatizaci√≥n, pruebas simulando acciones del usuario, publicidad contextual.  Usted comprende: dado que obtenemos contenido de la pantalla, podemos entender c√≥mo frustrar a este usuario. <br><br>  ¬øQu√© m√°s es interesante?  Procesamiento de solicitudes USSD.  Desafortunadamente, la API normal apareci√≥ solo desde el 26 SDK, y los desarrolladores de alguna manera necesitan sobrevivir.  Y te imaginas, est√°n analizando seriamente las solicitudes de USSD, analizando las IU utilizando el servicio de accesibilidad. <br><br>  El sexto punto es la elipsis.  Por qu√©  Porque despu√©s de este informe, comprender√° c√≥mo aplicarlo y para qu√©.  Y luego, literalmente, abre su flujo de imaginaci√≥n, toma una taza de t√©, caf√© y conduce para codificar sus caracter√≠sticas geniales. <br><br>  Por donde empezar  La pr√≥xima diapositiva ser√° dolorosamente com√∫n. <br><img src="https://habrastorage.org/webt/u8/jc/wx/u8jcwxc0utuf1cuifynebg6ln-i.jpeg"><br><br>  Tomamos un servicio, heredamos de AccessibilityService y disfrutamos de la vida. <br><br>  Luego lanzamos este servicio en Manifiesto, y ¬øqu√© es lo interesante aqu√≠?  Esencialmente un registro de servicio regular.  Pero preste atenci√≥n al campo de la etiqueta.  Ahora no dir√© de qu√© se trata.  Recuerde, esto ser√° un poco m√°s tarde. <br><img src="https://habrastorage.org/webt/u3/0x/_r/u30x_rwrhhj5ofyohytu0m97zua.jpeg"><br><img src="https://habrastorage.org/webt/qk/8p/yd/qk8pydxidl1roqfqjecast4wtns.jpeg"><br><br>  M√°s adelante, en Manifiesto, solo tenemos un archivo de configuraci√≥n, nada interesante tampoco. <br><img src="https://habrastorage.org/webt/51/g8/eo/51g8eoxbsuo4pug8fio8_cltyhu.jpeg"><br><br>  Y el archivo de configuraci√≥n en s√≠ parece un poco m√°s terrible.  De lo que necesitar√°, lo m√°s probable es que el 85‚Äì90 por ciento sea el campo de configuraci√≥n de filtro para los eventos entrantes. <br><br>  Digamos que vale la pena que queramos recibir absolutamente todos los eventos.  Puede colocar un filtro solo en los clics, en el cambio de contenido o en otra cosa. <br><br>  El siguiente es un filtro para paquetes de aplicaciones.  ¬øPara qu√© es esto?  Usted mismo comprende perfectamente que recibir eventos de absolutamente todas las aplicaciones en el sistema ser√≠a demasiado para una sola aplicaci√≥n.  Por lo tanto, Google decidi√≥ limitarlo de alguna manera.  Se agreg√≥ un filtro. <br><br>  Descripci√≥n adicional  Hab√≠a un campo de etiqueta, y ahora usa la descripci√≥n.  De hecho, crean un par, que luego le dice al usuario por qu√© necesita habilitar su servicio. <br><br>  Y el √∫ltimo punto: el contenido es necesario o no desde la ventana abierta actual.  Si solo desea comprender que se ha producido un evento, config√∫relo como falso y no vuelva a atormentar al usuario. <br><img src="https://habrastorage.org/webt/qi/xf/n8/qixfn8lb2tnrxvzvsedyjhp26v4.jpeg"><br><br>  La inclusi√≥n del servicio.  Desafortunadamente, para habilitar esta funci√≥n, tendr√°s que torturar al usuario y obligarlo a pasar por siete c√≠rculos de infierno, relativamente hablando. <br><br>  Primero, abrimos oportunidades especiales para √©l.  Cool AccessibilityService: esta es exactamente la misma etiqueta del manifiesto, de la que te habl√© en las diapositivas anteriores. <br><img src="https://habrastorage.org/webt/ys/kn/5d/yskn5d7xfrtm1xumv1s7qoiah3y.jpeg"><br><br>  M√°s lejos.  El usuario debe seleccionar su servicio, y luego comienza a leer la descripci√≥n, ¬øpor qu√© desea habilitar este servicio y obtener cierto control sobre el dispositivo? <br><img src="https://habrastorage.org/webt/hl/1c/ge/hl1cge-ths25xe4nd9idmbs4vzk.jpeg"><br><br>  OK, incluye.  Pero ah√≠ estaba.  Aparece alg√∫n tipo de di√°logo aterrador que dice: "Amigo, si lo enciendes ahora, tomaremos el control total de tu aplicaci√≥n, en t√©rminos relativos, todo ser√° aterrador".  Los usuarios no siempre leen todo esto, simplemente haga clic en "Aceptar" para que estemos detr√°s de ellos.  Entonces vivimos. <br><br>  Bueno, ¬ød√≥nde est√° el procesamiento del evento de hecho?  La siguiente diapositiva es un poco m√°s inteligente que la primera diapositiva sobre el servicio, pero no obstante. <br><img src="https://habrastorage.org/webt/az/l9/w2/azl9w2qudcqjphygfi-60a0dniy.jpeg"><br><br>  Aqu√≠ est√° nuestro DummyAccessibilityService, y colocamos dos m√©todos all√≠, en los que escribiremos todo.  De hecho, la interrupci√≥n es un m√©todo en el que tienes que limpiar tus enlaces, detener las suscripciones u otra cosa. <br><br>  Lo m√°s interesante es la clase AccessibilityEvent, que nos corresponde.  ¬øQu√© podemos sacar de eso? <br><img src="https://habrastorage.org/webt/no/xx/vc/noxxvcfn4y0yml08swcmvl2xfa8.jpeg"><br>  Para empezar, podemos entender lo que realmente sucedi√≥ en su sistema.  Tomamos EventType, y ¬øqu√© obtenemos aqu√≠? <br><br>  Y entendemos que tenemos alg√∫n tipo de Actividad abierta, o Di√°logo, o Ventana emergente, o en general, la notificaci√≥n ha ca√≠do.  Todo cae justo all√≠ en window_state_changed. <br><br>  Adem√°s, entendemos que el contenido de algunas vistas ha cambiado.  Lo movieron, arrojaron una l√≠nea en la vista de texto o algo as√≠. <br><br>  Y luego descubrimos cu√°ndo el usuario hace clic o selecciona una vista.  En mi opini√≥n, 85, e incluso 98, probablemente, el porcentaje de las principales tareas del producto que cubre con estos tipos de eventos. <br><br>  Pero si no tiene suficientes, por favor, puede ir a la documentaci√≥n, le mostrar√© un enlace al final del informe y, por supuesto, descargar√° el informe, puede continuar.  Es solo una lectura para toda la noche, hay una lista enorme.  En serio, no lo dominar√°s a la vez. <br><img src="https://habrastorage.org/webt/f5/ja/fz/f5jafzlevas63xsqrin83inyxhc.jpeg"><br>  Ahora tenemos una pregunta: ¬øc√≥mo encontrar una vista?  Descubrimos lo que pas√≥.  Y ahora comprendamos con qu√© vista, con qu√© componente sucedi√≥ esto. <br><br>  Tome nuestro Evento de Accesibilidad. <br><br>  Tomamos Source de √©l y, voila, ya tenemos meta-informaci√≥n visual. <br><br>  Pero, ¬øqu√© pasa si eres un desarrollador incondicional y no tienes suficiente informaci√≥n sobre una vista, quieres entender qu√© est√° sucediendo b√°sicamente en la pantalla ahora?  Hay una limitaci√≥n en el SDK, pero es peque√±o. <br><img src="https://habrastorage.org/webt/zk/op/5-/zkop5-6exzqeskitmmqwurgzjg0.jpeg"><br>  Tomamos nuestro AccessibilityService y, de hecho, obtenemos una referencia al elemento ra√≠z en toda la jerarqu√≠a en la pantalla actual.  Y solo entonces tenemos nuestra metainformaci√≥n a la vista. <br><img src="https://habrastorage.org/webt/rb/re/bb/rbrebb7swp7d2y33m_hfmukf_dc.jpeg"><br>  Esto, por supuesto, es genial, pero ahora deber√≠as tener una pregunta en tu cabeza: bueno, tenemos un enlace al elemento ra√≠z.  ¬øQu√© hacemos a continuaci√≥n? <br><br>  Si quieres ir por el camino seguro, entonces, por favor, la primera opci√≥n.  Tome una vista de ID y solo encuentre un m√©todo. <br><br>  Si le parece que de alguna manera es aburrido, cazar es algo m√°s divertido, entonces tomamos el texto de la vista, lo encontramos en el texto. <br><br>  Si esto no es lo suficientemente interesante para ustedes, bueno, muchachos, tomen Child and Recursion, p√°rense sobre √©l.  Entonces entender√°s exactamente lo que est√° sucediendo. <br><br>  Genial  T√∫ y yo descubrimos c√≥mo encontrar una vista.  ¬øC√≥mo ahora interactuar con ella? <br><br>  Una vez m√°s, tomamos nuestro AccessibilityNodeInfo, y ahora ya estamos lanzando Action en √©l.  ¬øQu√© acci√≥n podemos lanzar all√≠? <br><img src="https://habrastorage.org/webt/gq/fg/wt/gqfgwtmaht-gksrhpzagim1siww.jpeg"><br>  Para empezar, podemos lanzar Click.  ¬øPor qu√© al final puse aqu√≠ no solo despu√©s de Click, sino tambi√©n Click and Select?  S√≠, porque hay un mont√≥n de casos de esquina, cuando el clic habitual no te salva.  Supongamos que un usuario selecciona un texto y al hacer clic en la vista eliminar√° limpiamente la selecci√≥n de ese texto.  O, en algunos dispositivos, en principio, no se puede hacer clic en la vista hasta que llame a Seleccionar en ella.  En general, muchos problemas.  Y si solo desea tomar un ba√±o de vapor, seleccione Seleccionar, haga clic.  Dos acciones, y eso es todo, hay felicidad. <br><br>  ¬øQu√© sigue con nosotros?  Y luego tenemos la instalaci√≥n de texto.  Aqu√≠, tambi√©n, todo es simple.  Tome Action_set_text, cree un paquete con nuestra l√≠nea y viva. <br><br>  Y el tercer punto es ir a la documentaci√≥n.  Nuevamente, esta es la segunda noche que tendr√°.  Un mont√≥n de acciones directamente, en mi opini√≥n, incluso m√°s que eventos. <br><br>  ¬°Hurra!  La parte m√°s aburrida del informe ha terminado.  Ahora es el momento para todo tipo de nishtyachkov. <br><br>  Suponga que cre√≥ un servicio, lo configur√≥ y lanz√≥ alg√∫n tipo de procesamiento de eventos.  Ahora debe comprender c√≥mo forzar al usuario, c√≥mo pedirle que todav√≠a habilite este servicio.  Para comprender esto, debe averiguar, en principio, que el servicio est√° activado o no. <br><img src="https://habrastorage.org/webt/bt/ns/dk/btnsdk2nbs59tbxcdsxh1tpdeh8.jpeg"><br><br>  Todo es simple hasta el punto de banalidad.  Tomamos el AccessibilityManager y le pedimos todos los servicios incluidos actualmente en el sistema, y ‚Äã‚Äãall√≠ encontramos el nuestro. <br><br>  Pero, por supuesto, todo ser√≠a genial si el AccessibilityManager fuera un chico normal, y no hubiera tal cosa que le preguntes: "Amigo, dame, por favor, todos los servicios disponibles", y √©l dice: "Lo siento, no estoy hoy en el estado de animo  Aqu√≠ hay una lista vac√≠a para ti.  Y est√°s tan sentado y pensando: "Maldici√≥n, hemos hablado normalmente". <br><img src="https://habrastorage.org/webt/1d/fg/hb/1dfghb7xfautjz-mkrs0pdkjdd4.jpeg"><br><br>  Bueno, hay buenos viejos amigos: estos son Settings.Secure.getInt y getString.  Primero preguntamos si los servicios est√°n incluso incluidos en el sistema.  Si se incluye, todo se lanza en una l√≠nea, y all√≠ ya estamos buscando el nuestro a trav√©s de alg√∫n tipo de contenido. <br><br>  Y aqu√≠ nos encontramos con el hecho de que hicimos todo bien.  Creamos la configuraci√≥n, creamos la construcci√≥n de cualquier evento, activamos el servicio.  Vemos con certeza que activamos el servicio, y los eventos no nos llegan.  Y entonces, o llegan o no llegan.  En ese momento, pens√© que en mi vida hab√≠a aparecido una especie de raya negra.  Justo no hab√≠a opciones. <br><br>  Pens√©, pens√©, investig√©, investigu√©, y luego, bingo, me di cuenta de que esto es Xiaomi con su MIUI.  Eso es solo muchachos dolor!  Eso es serio <br><br>  De acuerdo, entiende cu√°l es el problema.  ¬øC√≥mo resolverlo ahora?  Desafortunadamente, en algunos firmware en MIUI todo se hace de modo que si su aplicaci√≥n no est√° en el inicio autom√°tico, el sistema ni siquiera iniciar√° su servicio en principio. <br><img src="https://habrastorage.org/webt/3b/_k/pm/3b_kpmlnpiqfih6eecs3v8w3x-q.jpeg"><br><br>  Pero aqu√≠ hay una soluci√≥n: le pedimos al usuario que agregue su aplicaci√≥n al inicio autom√°tico, y seguimos viviendo, disfrutando la vida. <br><img src="https://habrastorage.org/webt/y-/qq/zh/y-qqzhgxuwg7vj9hvrilasjw5es.jpeg"><br>  Y luego vino la guinda del pastel.  ¬øPor qu√© este servicio, tan amable para las personas con discapacidad, es un lobo con piel de cordero? <br><br>  Me parece que muchos de ustedes ya han adivinado que si un usuario activa este servicio, podemos robar f√°cilmente mucha informaci√≥n confidencial de su dispositivo.  No solo podemos robarlo, sino que tambi√©n podemos soltarlo en alg√∫n lugar, por ejemplo, desbloquear la pantalla si est√° bloqueado con un c√≥digo PIN.  Bueno, ok, desbloquea la pantalla.  Que sigue  Nos publicitamos a nosotros mismos, ganaremos mucho dinero, viviremos de inmediato.  Y, al final, b√°sicamente podemos imitar absolutamente cualquier acci√≥n del usuario y, por ejemplo, poner alg√∫n tipo de aplicaci√≥n, otorgarle derechos de administrador y decirle al usuario: ‚ÄúAdi√≥s.  Diga adi√≥s a su dispositivo ". <br><img src="https://habrastorage.org/webt/29/pe/c0/29pec0si917-v1ig0uot2phee9s.jpeg"><br>  Bien, podemos hacer todo esto, pero ahora dir√°s: ‚ÄúT√∫, por supuesto, bien hecho.  Nos dijo c√≥mo podemos robar qu√© tipo de datos.  ¬øPero c√≥mo hace que el usuario encienda su AccessibilityService y si la aplicaci√≥n es zurda?  Bien, el usuario, me parece, simplemente abre la configuraci√≥n, entiende que hay alg√∫n tipo de tonter√≠a escrita all√≠, cierra, desinstala la aplicaci√≥n y se olvida.  Y sabes, tendr√°s raz√≥n en que la primera forma de activar la configuraci√≥n del sistema es "no", porque, ya sabes, esto es una especie de tonter√≠a.  Y aqu√≠ viene una vulnerabilidad en nuestra ayuda, que, en esencia, se llama clickjacking.  ¬øCu√°ntos de ustedes est√°n familiarizados con el clickjacking?  Genial, ser√° interesante. <br><br>  Entonces, en base a esta vulnerabilidad, algunos tipos, pongo una peque√±a referencia, porque todas las siguientes capturas de pantalla ser√°n de los recursos de estos tipos, se les ocurri√≥ un ataque llamado Cloak and Dagger.  De hecho, con solo dos permisos y una m√≠nima interacci√≥n del usuario, obtienes acceso a toda la aplicaci√≥n directamente desde la palabra "completamente". <br>  Pero bueno, ¬øqu√© debemos hacer para hackear al usuario? <br><br>  Estamos lanzando nuestra aplicaci√≥n en Google Play.  Esperamos que el usuario de la versi√≥n de Android tenga menos de 8. <br><br>  Entiendes, un poco - 95% en este momento.  Y eso es todo, el usuario descarga nuestra aplicaci√≥n. <br><img src="https://habrastorage.org/webt/9v/dn/he/9vdnhevjsiqymsps9saljmvqbxo.jpeg"><br><br>  En resumen, este malware le dice al usuario c√≥mo convertirse en un buen tipo, muestra un video al final.  Ahora ver√°s todo por ti mismo. <br><img src="https://habrastorage.org/webt/gd/7z/mr/gd7zmrvvkntjwcemk7yutwncngi.jpeg"><br><br>  Ok, empecemos.  Un peque√±o texto  Se nos dice: "Si comienzas el tutorial ahora, te convertir√°s en un buen tipo".  Bien, por supuesto, estamos empezando. <br><img src="https://habrastorage.org/webt/pl/sv/hm/plsvhmpjsbzpt3bgzrue8sxz9uw.jpeg"><br><br>  Alg√∫n otro texto.  Adem√°s, las personas se presentar√°n en forma de hombres verdes.  Bueno, ok, hagamos clic en Siguiente. <br><img src="https://habrastorage.org/webt/lb/ma/eu/lbmaeuozr-ryujmjavqj0qkxile.jpeg"><br><br>  Otro texto  Bien  Ahora terminar√© de leerlo y definitivamente ver√© un video en el que me dir√°n c√≥mo convertirme en un buen tipo. <br><img src="https://habrastorage.org/webt/cm/ip/6_/cmip6_hmlgvpcgaye7vxyx61jbs.jpeg"><br><img src="https://habrastorage.org/webt/oj/9h/ad/oj9hadtoyv97xptkrep1llofyok.jpeg"><br><br>  Hago clic en "Aceptar" y ah√≠ comienza el video.  Esto no es tan importante para nosotros.  Es importante lo que realmente sucedi√≥ en el dispositivo en ese momento.  El usuario inicia la aplicaci√≥n, y desde que la instalamos desde Google Play, autom√°ticamente se nos otorga permiso para superponer.  Voila, abrimos la ventana de accesibilidad, y en la parte superior solo se superpone.  El usuario hace clic en el Tutorial de inicio, pero en realidad selecciona nuestro Servicio de accesibilidad.  Bueno, entiendes lo que sigue. <br><img src="https://habrastorage.org/webt/wn/mz/ao/wnmzaoxeynacfz_ndt0yqwxqipq.jpeg"><br><br>  A continuaci√≥n, hacemos clic en Siguiente, seleccionamos el interruptor de palanca. <br><img src="https://habrastorage.org/webt/bl/-h/ei/bl-hei-modlm3kl0v_jdimivloo.jpeg"><br><br>  Al final, activamos el AccessibilityService, y el usuario ni siquiera se da cuenta de que esto sucedi√≥. <br><br>  ¬øSabes cu√°l es el problema?  La superposici√≥n se organiza de tal manera que absorben completamente todos los eventos, todos los toques ya est√°n muy lejos o se pierden por completo.  Y el objetivo de este ataque en particular es que llenamos la superposici√≥n, toda la pantalla, excepto un espacio.  En este caso, este es el bot√≥n Aceptar.  Este bot√≥n es realmente del di√°logo.  Cuando hacemos clic en √©l, tenemos un evento que dice que ha ocurrido un toque externo y que todo est√° bien. <br><br>  ¬øC√≥mo responde Google a todos estos problemas?  Entiendes, esta es una vulnerabilidad bastante brutal. <br><img src="https://habrastorage.org/webt/mn/mz/hx/mnmzhxn22qbitijiqknvxdeycxm.jpeg"><br>  Todo comenz√≥ de manera bastante interesante, todo con ocho a√±os de silencio.  Google dio a conocer esta peque√±a cosa, dijo: "Chicos, √∫sela.  Es seguro  Lo digo con seguridad.  Bien  Google lanz√≥.  Los mismos tipos que Cloak y Dagger inventaron, brindaron apoyo, rastreadores de problemas y rastreadores de errores. <br><br>  Entonces Google dijo: "Est√° bien, est√° bien chicos, c√°lmense.  Cerrar√© clickjacking en Oreo ".  Bueno, ap√°galo.  Todav√≠a se sientan all√≠, piensan: ‚ÄúBueno, maldici√≥n, muchachos, de todos modos, si los atacantes obligan al usuario a habilitar la accesibilidad, ser√° malo.  Vamos a burlarnos un poco de los desarrolladores. <br><br>  Y env√≠an una carta: "Hazlo, no s√© qu√©, de lo contrario tu aplicaci√≥n se eliminar√° de Google Play".  En resumen, la carta era la siguiente: "Chicos, d√≠ganos a nosotros y a los usuarios por qu√© necesita AccessibiiltyService".  ¬øC√≥mo saberlo?  ¬øEn que formato?  Donde  En general no hay comprensi√≥n.  Y en la carta, por supuesto, esto no est√° indicado. <br><br>  Bien  Enormes hilos en reddit, un mont√≥n de cartas para apoyar.  Y luego, un desarrollador pone una carta en reddit y dice: ‚ÄúS√≠, muchachos, nada complicado.  P√≥ngalo en la descripci√≥n que le mostr√©, en manifiesto, p√≥ngalo en la descripci√≥n en Google Play, y todo estar√° bien, lo dejar√© solo ". <br><br>  En ese momento pens√©: bueno, est√° bien, encontr√© esta carta al margen de Reddit.  Pero, ¬øqu√© sucede si soy un desarrollador joven y me acabo de familiarizar con AccessibilityService y quiero lanzar la aplicaci√≥n con esto?  ¬øC√≥mo debo saber que necesito realizar tales acciones? ¬øTengo que incluirlo en la descripci√≥n de Google Play, etc.?  Pens√©, pens√©, busqu√©, busqu√© y, ya saben, muchachos, no encontr√© nada, de la palabra en absoluto. <br><br>  Bueno, en serio, no hay nada.  Solo hay una descripci√≥n en la documentaci√≥n principal: "Chicos, esto es solo para personas con discapacidades, ese es el punto.  Ya no puedes usarlo ".  Pero de hecho, resulta que es posible. <br><img src="https://habrastorage.org/webt/5b/lw/_3/5blw_3tvoiwpbotsie5ilkmemve.jpeg"><br>  Bueno, t√∫ y yo hemos llegado a su fin.  ¬øQu√© podr√≠amos hablar contigo?  Hablamos sobre c√≥mo usarlo, entendimos c√≥mo crearlo todo, configurarlo y c√≥mo manejar eventos de IU.  Y, por supuesto, entendimos c√≥mo es posible, pero no necesita interactuar con el AccessibilityService.  Por supuesto, no te recomiendo que hagas esto, fue solo para informaci√≥n.  Aqu√≠ est√°n las fuentes prometidas: <br><br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">developer.android.com/guide/topics/ui/accessibility/services</a> <br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">developer.android.com/reference/android/view/accessibility/AccessibilityEvent</a> <br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">developer.android.com/reference/android/view/accessibility/AccessibilityNodeInfo</a> <br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cloak-and-dagger.org</a> <br><br>  Chicos, muchas gracias por su atenci√≥n! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es417865/">https://habr.com/ru/post/es417865/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es417855/index.html">El "Moon Palace" chino estableci√≥ un nuevo r√©cord</a></li>
<li><a href="../es417857/index.html">$ 225 GPS spoofer capaz de redirigir robomobiles al tr√°fico que se aproxima</a></li>
<li><a href="../es417859/index.html">Integraci√≥n 3CX con Microsoft Dynamics 365</a></li>
<li><a href="../es417861/index.html">Patr√≥n principal sin fin</a></li>
<li><a href="../es417863/index.html">¬øNi√±os para ordenar pronto? El Consejo de √âtica del Reino Unido autoriza la ingenier√≠a gen√©tica de embriones humanos.</a></li>
<li><a href="../es417867/index.html">C√≥mo evaluar la duraci√≥n de un proyecto de TI y cu√°ndo no vale la pena hacerlo</a></li>
<li><a href="../es417869/index.html">C√≥mo depurar WebRTC</a></li>
<li><a href="../es417871/index.html">En la meta del turismo suborbital</a></li>
<li><a href="../es417873/index.html">Formas de crear ventanas emergentes</a></li>
<li><a href="../es417875/index.html">Salir del Rabbit Hole SPA con rieles modernos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>