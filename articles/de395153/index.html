<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌝 ⤵️ ✍🏽 Fügen Sie Furigan zum Kanji Python Macro für LibreOffice hinzu 🌊 👶🏿 🤛🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Meine Damen und Herren, der Plan ist folgender:
 
 

- Alles, was Sie über japanisches Schreiben wissen wollten, aber Angst hatten zu fragen
- Was ist...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fügen Sie Furigan zum Kanji Python Macro für LibreOffice hinzu</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395153/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meine Damen und Herren, der Plan ist folgender:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alles, was Sie über japanisches Schreiben wissen wollten, aber Angst hatten zu fragen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Was ist Rubintext? </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wie man Addons für libreoffice in Python schreibt</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wie man lesungen für kanzi generiert</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alles in einem Furiganizer zusammenfügen!</font></font></li>
</ul><br>
<img src="https://habrastorage.org/files/cc5/24f/513/cc524f513715442397b9e3abaff3612f.png"><br>
<br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das moderne Japanisch verwendet hauptsächlich drei Schriftsysteme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstens sind dies zwei Silbenalphabete: Hiragana und Katakana. Hiragana ist runder, sieht ungefähr so ​​aus: こ れ は ひ ら が な で す und ist sozusagen das Hauptalphabet. Ak Katakana ist eckiger (カ タ カ ナ デ ス) und wird hauptsächlich für geliehene Wörter verwendet. Im Allgemeinen sind die Zeichen für Hiragana und Katakana fast gleich. Weiter werden wir das alles einfach "Kana" nennen. "Silbenalphabet" bedeutet, dass anstelle unserer Vokale und Konsonanten "a", "b" und "c" nur ganze Silben wie "ka", "sa" und "das" verwendet werden. Es gibt aber auch Vokale, es gibt fünf Stücke ("a", "und", "y", "e", "o" + "i", "u" und "e") und nur einen Konsonanten "n" in Ausnahmereihenfolge.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deshalb ist es für die Japaner sehr schwierig, Wörter mit aufeinanderfolgenden Konsonanten auszusprechen - sie sind einfach nicht daran gewöhnt, aber das ist für uns jetzt nicht wichtig. Mit einer Cana können Sie im Prinzip jede Phrase auf Japanisch schreiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein anderes System sind die aus China entliehenen Charaktere, die wir weiterhin </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kanji</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nennen werden </font><font style="vertical-align: inherit;">, dann wie sie genannt werden. Nach dem Ausleihen haben sich auch Japanisch, Ja, Schluchzen und Chinesisch, Kanji erheblich verändert, und jetzt sind sie ganz anders, obwohl sie sich natürlich weitgehend ähneln. Sagen wir einfach, wenn ein Japaner einen chinesischen Text betrachtet, kann er mehr oder weniger verstehen, wovon er spricht. Kanji sieht ungefähr so ​​aus:, 達 、 日本 日本 、 世界。 Ja, auf Japanisch ist es ein runder Punkt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein wichtiger Punkt für das Verständnis: Japanisch und Chinesisch auf Grammatikebene sind im Allgemeinen überhaupt nicht miteinander verbunden. So war es einfach unmöglich, chinesische Schriftzeichen zu nehmen und sie zu schreiben. Tatsächlich können Sie mit Hilfe von Kanji einzelne Wörter schreiben, eher sogar die Grundlagen von Wörtern, und Kana wird immer noch verwendet, um grammatikalische Formen und die Verbindung von Wörtern untereinander anzuzeigen. Es sieht ungefähr so ​​aus: 送 り が な は と っ て も 便利 便利 で. Wenn Sie genau hinschauen, können Sie sehen, dass das erste Zeichen Kanji ist, gefolgt von mehreren Zeichen von Kana usw. Dieser Trick macht es einfach, visuell zwischen japanischem und chinesischem Text zu unterscheiden, die grafisch „dichter“ aussehen, weil Es gibt nur Kanji. Dieses Kana, das an Kanji angehängt ist, um die grammatikalische Form anzuzeigen, wird "Okurigan" genannt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier und schließlich ... Die Anzahl der Kanji ist ziemlich groß, und wenn Sie kein Roboter sind, ist es schwierig, sich an alles zu erinnern. Wenn das Wort von Kanji geschrieben wird, ist es oft nicht offensichtlich, wie man es persönlich liest, obwohl das Wort in der gesprochenen Sprache gut gefunden werden kann und die Person es kennt. Um in dieser Situation zu helfen, insbesondere bei seltenen Kanji oder wenn der Text für Kinder, Ausländer oder andere geistig eingeschränkte Kategorien von Bürgern bestimmt ist, wird das Lesen eines Kanji von oben mit einem Kana signiert. Dies wird als " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Furigana</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " bezeichnet. Es sieht aus wie auf dem Bild am Anfang des Beitrags. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fuh, gehe zum nächsten Punkt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Anmerkungen über Text hinzuzufügen, wird der sogenannte Rubin verwendet. Es hat nichts mit der Programmiersprache zu tun. Wie ich gerade aus Wikipedia gelernt habe, heißt es auf Russisch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„Achat“.</font></font></a> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ruby-Unterstützung ist in HTML über das Ruby-Tag verfügbar:</font></font><br>
<pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ruby</span></span></span><span class="hljs-tag">&gt;</span></span><font></font>
 <font></font>
 <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rt</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rt</span></span></span><span class="hljs-tag">&gt;</span></span>
<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ruby</span></span></span><span class="hljs-tag">&gt;</span></span>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber jetzt interessieren wir uns für LibreOffice. </font><font style="vertical-align: inherit;">Im manuellen Modus können Sie dem Text über das Menü Format -&gt; Asian Phonetic Guide Rubinanmerkungen hinzufügen. </font><font style="vertical-align: inherit;">Dies ist etwas seltsam, da Sie das Reibungsfeld nicht nur für die Phonetik verwenden können, sondern auch für Feigen. </font><font style="vertical-align: inherit;">Wenn dies nicht im Menü enthalten ist, können Sie versuchen, die Unterstützung für asiatische Sprachen unter Extras -&gt; Optionen -&gt; Spracheinstellungen hinzuzufügen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes möchten wir dies automatisch für den ausgewählten Text tun. </font><font style="vertical-align: inherit;">LibreOffice ist insofern wunderbar, als Sie darin Makros in Python schreiben können. </font><font style="vertical-align: inherit;">Dazu sollte das libreoffice-script-provider-python-Modul installiert sein (installiert über apt-get), was die Standardeinstellung nicht wert ist. </font><font style="vertical-align: inherit;">Oh ja, ich mache alles unter Ubuntu, wenn du ein anderes Betriebssystem hast, dann kannst du das Rezept dafür in den Kommentaren teilen :)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Makro selbst wird als reguläre Funktion auf einem Python geschrieben. Das Dokument ist durch eine globale Variable mit einer Instanz der entsprechenden Klasse und tatsächlich allen erforderlichen Methoden sichtbar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein einfaches Beispiel:</font></font><br>
 <pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HelloWorldPython</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span><font></font>
    desktop = XSCRIPTCONTEXT.getDesktop()<font></font>
    model = desktop.getCurrentComponent()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> hasattr(model, <span class="hljs-string"><span class="hljs-string">"Text"</span></span>):<font></font>
        model = desktop.loadComponentFromURL(<span class="hljs-string"><span class="hljs-string">"private:factory/swriter"</span></span>,<span class="hljs-string"><span class="hljs-string">"_blank"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, () )<font></font>
    text = model.Text<font></font>
    tRange = text.End<font></font>
    tRange.String = <span class="hljs-string"><span class="hljs-string">"Hello World (in Python)"</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span><font></font>
g_exportedScripts = HelloWorldPython,<font></font>
</code></pre> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir speichern in einer Datei, legen sie ab oder erstellen einen symbolischen Link in dem Ordner, in dem LibreOffice Skripte enthält. In meinem Fall ist es "~ / .config / libreoffice / 4 / user / Scripts / python". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Öffnen Sie LibreOffice Writer (OpenOffice sollte auch funktionieren), gehen Sie zu Extras -&gt; Makros -&gt; Makro ausführen und sehen Sie dort unser Skript, wenn alles geklappt hat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es bleibt ein Skript zu schreiben, das Kanji aus dem Dokument entnimmt und dessen Messwerte in Rubel der entsprechenden Zeichen hinzufügt. Alles ist einfach: Es gibt spezielle Programme zur Leseerzeugung. Wir führen sie einfach über unser Makroskript aus, über die Standardeingabe und -ausgabe, führen japanischen Text aus und fügen die Ausgabe in das Dokument ein.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Programm namens kakasi nimmt japanischen Text und gibt eine ganze Lesung, aber das ist nicht genau das, was Sie brauchen, weil </font><font style="vertical-align: inherit;">Ich möchte phonetische Hinweisfragmente zwischen den Rubinfeldern der entsprechenden Zeichen verteilen. </font><font style="vertical-align: inherit;">Zu diesem Zweck können Sie mit Mecab den japanischen Text tokenisieren und ihn daher bereits in Teilen kakasi füttern. </font><font style="vertical-align: inherit;">Tatsächlich verschlechtert sich die Genauigkeit der Leseerzeugung geringfügig, aber das Layout des Dokuments verbessert sich. </font><font style="vertical-align: inherit;">Einige Fehler können dann manuell behoben werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist sobsno und das war's, setzen Sie apt-get install kakasi, mecab, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gehen Sie zu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/undertherain/furiganize</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , laden Sie das ungeschickte Skript herunter, das ich von dort geschrieben habe, und welches schluchzt alles. </font><font style="vertical-align: inherit;">Legen Sie es in den gewünschten Ordner und genießen Sie. </font><font style="vertical-align: inherit;">Wenn jemand seine Erfahrungen mit anderen Betriebssystemen teilt, ist dies im Allgemeinen wunderbar.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de395153/">https://habr.com/ru/post/de395153/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de395143/index.html">Ist es möglich, Ethik in den Algorithmus von Robomobilen einzuführen?</a></li>
<li><a href="../de395145/index.html">Спросите Итана №59: что такое тёмная энергия?</a></li>
<li><a href="../de395147/index.html">Mitsubishi Outlander SUV bricht problemlos über WLAN ein</a></li>
<li><a href="../de395149/index.html">Eine neue Erklärung des Prinzips der "unmöglichen" Engine EmDrive: Das sind alles Photonen</a></li>
<li><a href="../de395151/index.html">Klima in Ihrem Zuhause. TION MagicAir Ankündigung</a></li>
<li><a href="../de395155/index.html">Smart Light: Beleuchtungssteuerungsfunktionen</a></li>
<li><a href="../de395157/index.html">Fortschritt der Auto-DVRs und Vergleich mit Action-Kameras</a></li>
<li><a href="../de395159/index.html">Sonderprojekt: Solarkraftwerk auf einem Wohnmobil. Teil 1</a></li>
<li><a href="../de395161/index.html">Amazon-Roboter erledigen ihre Arbeit viermal schneller als Menschen</a></li>
<li><a href="../de395163/index.html">Auswahl: Über 50 Materialien zum Verständnis der Börse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>