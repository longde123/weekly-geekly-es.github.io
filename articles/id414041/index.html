<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💟 🐤 ☂️ Di musim dingin dan musim panas dalam satu warna? Cari data musiman 👩🏻‍🎤 🧑🏽‍🤝‍🧑🏽 🐮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setelah kami memutuskan untuk melihat minat musiman apa yang dimiliki pengguna 2GIS di kota yang berbeda. Ledakan minat pada bunga, hadiah dan ban Tah...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Di musim dingin dan musim panas dalam satu warna? Cari data musiman</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/414041/"><img src="https://habrastorage.org/webt/3m/jp/jn/3mjpjnj7rqfzdr01mo8jsoesomy.jpeg"><br><br>  Setelah kami memutuskan untuk melihat minat musiman apa yang dimiliki pengguna 2GIS di kota yang berbeda.  Ledakan minat pada bunga, hadiah dan ban Tahun Baru sangat diharapkan.  Kami memutuskan untuk tidak membatasi diri pada mereka dan melangkah lebih jauh dengan memeriksa semua bidang kegiatan di 113 kota yang ada. <br><br>  Pada artikel ini saya akan memberi tahu Anda bagaimana kami mencari musiman dan apa fitur perilaku pengguna di dalamnya yang ditemukan. <br><a name="habracut"></a><br><h4>  Mengapa Anda perlu mengukur musiman? </h4><br>  Kebutuhan pengguna 2GIS berubah sepanjang tahun: barang konsumen, layanan, konstruksi, layanan publik.  Pengetahuan musiman berguna karena beberapa alasan: <br><br><ul><li>  Kami mulai memahami lebih lanjut tentang nilai dan minat pengguna kami saat ini dan dalam waktu dekat. </li><li>  Kami dapat "memprediksi" permintaan pengguna. </li><li>  Manajer penjualan fokus pada bidang kegiatan yang relevan bagi pengguna. </li></ul><br><h3>  Jenis lalu lintas </h3><br>  Sebelum berbicara tentang bagaimana kami memproses lalu lintas, ada baiknya mengklarifikasi bahwa kami membaginya menjadi beberapa jenis. <br><br>  Pemulihan adalah jenis lalu lintas di mana pengguna tahu persis perusahaan yang ingin ia hubungi.  Dia perlu mengklarifikasi alamat, jadwal kerja atau menemukan pintu masuk.  Dalam hal ini, pencarian dilakukan berdasarkan nama perusahaan, nomor telepon, dan atribut lain dari perusahaan itu sendiri. <br><br>  Lalu lintas penemuan adalah ketika pengguna merumuskan permintaan dalam istilah yang lebih umum: "furnitur berlapis kain", "makan di Lenin", "mandi".  Artinya, pengguna mengeksplorasi opsi dan penawaran pasar, sering menelepon organisasi atau mengunjungi situs mereka. <br><br>  Lalu lintas geo terjadi ketika pengguna bekerja dengan peta.  Sebagai contoh, ia mencari apotek atau stasiun layanan terdekat dengan rumah. <br><img src="https://habrastorage.org/webt/a7/da/xs/a7daxskkn-arknmjqpz-av2d1pe.jpeg"><br>  Semua permintaan pengguna dan semua tindakan selanjutnya ditandai pada lalu lintas.  Untuk mencari musiman, analisis mengambil penemuan + geo-traffic.  Karena mereka, pertama, sesuai dengan manifestasi kepentingan pengguna, dan kedua, mereka dapat dikendalikan.  Anda tidak dapat mengatur lalu lintas pemulihan. <br><br><h3>  Tentang tren </h3><br><img src="https://habrastorage.org/webt/av/we/sx/avwesx7puvrhmwfvo9ubshrperg.png" alt="Bagan 1: Apakah Anda melihat musim?"><br>  <font color="gray"><i>Bagan 1: Apakah Anda melihat musim?</i></font> <br><br>  Sebelum Anda mulai mencari musiman, Anda perlu memperhitungkan perubahan volume lalu lintas di berbagai jenis perangkat.  Kami memperhitungkan bahwa pemirsa versi WinPhone dan PC terus menurun.  Sedangkan online, Android, iOS terus berkembang. <br><br><h4>  Pengujian Hipotesis </h4><br>  Kriteria untuk menentukan musim dikembangkan untuk seri stasioner.  Adalah perlu untuk menguji hipotesis bahwa seri berisi tren.  Kami akan mempertimbangkan deret waktu sebagai proses acak.  Kemudian elemen-elemen dari seri ini adalah realisasi dari beberapa variabel acak. <br><br>  Kita dapat menguji hipotesis bahwa semua nilai sampel milik populasi yang sama dengan rata-rata m.  Maka hipotesis utamanya adalah: <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>H</mi><mn>0</mn></msub><mo>:</mo><msub><mi>m</mi><mi>i</mi></msub><mo>=</mo><mi>m</mi><mo>,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>,</mo><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.429ex" height="2.419ex" viewBox="0 -780.1 12240 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-30" x="1175" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-3A" x="1563" y="0"></use><g transform="translate(2119,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMATHI-69" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-3D" x="3620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMATHI-6D" x="4676" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-2C" x="5554" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMATHI-69" x="5999" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-3D" x="6623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-31" x="7679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-2C" x="8180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-32" x="8625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-2C" x="9125" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-2E" x="9570" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-2E" x="10016" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-2E" x="10461" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMAIN-2C" x="10906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/2gis/blog/414041/&amp;usg=ALkJrhiXTMzEPNM7DgvsyycDcJHWAn0FEQ#MJMATHI-4E" x="11351" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>H</mi><mn>0</mn></msub><mo>:</mo><msub><mi>m</mi><mi>i</mi></msub><mo>=</mo><mi>m</mi><mo>,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>,</mo><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> H_0: m_i = m, i = 1,2, ..., N </script><br>  melawan hipotesis tren saingan <br><math> </math> $ inline $ H_1: ∣m_ {i + 1} −m_i∣&gt; 0, i = 1,2, ..., N - 1 $ inline $ <br>  di mana N adalah jumlah elemen dalam satu baris. <br><br>  Untuk menguji hipotesis, Anda perlu menggunakan salah satu kriteria untuk signifikansi tren.  Berdasarkan penelitian, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kriteria inversi</a> dipilih. <br><br>  Jika hipotesis tidak ditolak, maka perlu untuk menghapus tren dari data.  Kami berasumsi bahwa dalam data kami hanya ada tren linier.  Oh, itu akan eksponensial!  Kami juga akan menganggap bahwa kami tidak dapat memiliki lebih dari satu titik belok. <br><br><img src="https://habrastorage.org/webt/xo/vp/rh/xovprhfclo4duighdd7eibfieig.png" alt="Bagan 2: Rangkaian waktu (dari Bagan 1) dan trennya"><br>  <font color="gray"><i>Bagan 2: Rangkaian waktu (dari Bagan 1) dan trennya</i></font> <br><br><h4>  Tentang menyapu dan penemuan </h4><br>  Kami menguraikan batas-batas penelitian dan mengatur tentang pengujian hipotesis.  Tentu saja, itu bukan tanpa garu dan penemuan: karena tugas itu tidak terbatas pada layanan populer di kota-kota dengan lebih dari satu juta orang, kami telah menyusun daftar kasus khusus yang patut diperhatikan. <br><br><ol><li>  Kesenjangan data.  Di area aktivitas yang sempit, beberapa tanggal mungkin tidak memiliki data.  Kasus ini sangat relevan untuk kota-kota kecil.  Fitur ini harus diperhitungkan untuk konstruksi regresi yang benar. </li><li>  Jika titik belok ditemukan, pertimbangkan kedekatannya dengan awal atau akhir baris.  Salah tafsir tentang perilaku serangkaian dalam kondisi batas adalah mungkin.  Sebagai contoh, dalam bagan 2, 120 poin pertama tampaknya mengindikasikan pertumbuhan linear yang sejalan.  Tetapi, pada kenyataannya, itu menunjukkan dirinya musiman, yang akan kita lihat nanti. </li><li>  Memilih titik referensi yang tepat.  Untuk mendapatkan koefisien yang benar, Anda perlu menggunakan seri, mulai dari titik signifikan pertama, dan ingat koordinat X dari titik ini (tanggal data muncul dalam seri).  Tren akan dibangun dalam sistem koordinat dengan 0 pada titik ini.  Kasus ini relevan untuk membandingkan bola satu sama lain.  Misalnya, di 2GIS kota tidak diluncurkan secara bersamaan dan, karenanya, mereka mulai mengirim statistik pada waktu yang berbeda.  Hal yang sama berlaku untuk kemunculan bisnis baru, seperti, misalnya, pangkas rambut. </li><li>  Mungkin hal yang paling sulit adalah menemukan kompromi antara tingkat detail dan kecukupan jumlah data.  Kami menetapkan tiga dimensi: kota, bidang aktivitas, platform perangkat pengguna. </li></ol><br><img src="https://habrastorage.org/webt/sg/-m/gc/sg-mgcxzvjd16e8aodxfv4ikixq.png" alt="Bagan 3: Serangkaian tanpa tren"><br>  <font color="gray"><i>Bagan 3: Serangkaian tanpa tren</i></font> <br><br><h3>  Pencarian Musiman </h3><br>  Setelah mengurangi tren yang sesuai dari deret waktu, kita dapat melanjutkan ke tugas menemukan musiman.  Ini terdiri dari dua subtugas: <br><br><ol><li>  Deteksi fakta kehadiran musiman dalam satu seri. </li><li>  Definisi musim tinggi dan rendah - inilah yang memiliki nilai praktis. </li></ol><br><h4>  Deteksi korelasi </h4><br>  Ada fungsi pencarian korelasi siap pakai di R dan Python.  Kami menggunakan korelasi Pearson.  Saat bekerja dengan vektor minat pengguna, perhatikan yang berikut: <br><br><ul><li>  Setelah mengurangi tren dari seri aslinya, nilai negatif dapat diperoleh.  Ini normal pada tahap ini. </li><li>  Untuk tugas kami, memeriksa korelasi deret waktu 365 hari sudah cukup.  Ya, pengaruh tahun kabisat tidak signifikan dan kami tidak memperhitungkannya. </li><li>  Untuk mencari musiman, Anda harus memiliki data setidaknya selama dua periode penuh.  Perhitungan kami menggunakan data selama empat periode. </li></ul><br>  Kami mencari korelasi dua vektor: X: [0;  N-365], Y: [366;  N].  Di mana N adalah panjang baris. <br><br><img src="https://habrastorage.org/webt/pm/ht/-6/pmht-6_tiwi8bek3cu6vly95pzg.png" alt="Bagan 4: Deteksi Korelasi"><br>  <font color="gray"><i>Bagan 4: Deteksi Korelasi</i></font> <br><br><h4>  Dapatkan manfaatnya </h4><br>  Fakta keberadaan musiman tidak membawa nilai praktis.  Anda perlu memahami apa yang akan dibayarkan ke bidang kegiatan bulan depan: meningkat, diturunkan atau normal. <br><br>  Skala multiplikatif dipilih sebagai hasil akhir.  Di mana unit adalah tingkat "normal" dari minat pengguna di bidang aktivitas.  Nilai selain dari satu mencirikan peningkatan ganda atau penurunan minat. <br><br>  Dalam kasus kami, [untuk saat ini] skala sementara yang cukup bertahan sebulan sudah cukup.  Untuk menentukan level 1, median perhatian pengguna bulanan digunakan.  Kemudian dihitung deviasi berganda dari median ini. <br><br><img src="https://habrastorage.org/webt/rv/pj/rr/rvpjrrnufdxhm3hmtnacnfvsu10.png" alt="Bagan 5: Musiman Tahunan"><br>  <font color="gray"><i>Bagan 5: Musiman Tahunan</i></font> <br><br>  Saatnya untuk mengungkapkan rahasia data apa yang ditampilkan grafik artikel.  Pada ini dan semua grafik sebelumnya - klik di museum St. Petersburg.  Seperti yang dapat dilihat dari jadwal terakhir, museum populer selama liburan Januari, ketika ada banyak hari libur, dan di musim panas. <br><br><h4>  Bagaimana jika ... </h4><br>  ... untuk mengambil dan memberi makan algoritme bukan untuk kepentingan pengguna, tetapi, misalnya, penjualan? <br><br>  Algoritme tindakannya sama: <br><br><ol><li>  Kami mencari tren.  Penonton kota bertambah, dan dengan itu jumlah pengiklan bertambah.  Penting untuk mengurangi tren yang terkait dengan semakin populernya 2GIS sebagai platform periklanan untuk mendapatkan lonjakan dan penurunan industri. </li><li>  Kami menemukan korelasi penjualan dari tahun ke tahun, dan kemudian musim tinggi dan rendah. </li></ol><br><h4>  Butuh sejumlah penyesuaian </h4><br>  Beriklan di 2GIS dijual setiap bulan, sehingga mereka membutuhkan waktu satu bulan untuk skala, tetapi musiman pengguna dianalisis hingga satu hari.  Untuk kompatibilitas mundur, kami mengadaptasi algoritme agar bekerja dengan seri arbitrer, di mana di sepanjang sumbu X adalah nomor seri titik, dan di sepanjang sumbu Y ada nilai tertentu (pada level ini, semantik nilai tidak menjadi masalah). <br><br>  Titik referensi dari serangkaian penjualan (asal), sebagai suatu peraturan, tidak sesuai dengan titik referensi musiman pengguna.  Setelah semua, pada awalnya kota mendapatkan audiens, dan baru kemudian iklan muncul.  Pada tahap ini, Anda tidak harus menggabungkan hasil dua musim. <br><br>  Karena penjualan adalah bulanan, kami memiliki poin yang jauh lebih sedikit di jajaran.  Dalam hal ini, korelasi harus dipertimbangkan pada 12 poin, bukan 365. <br><br><img src="https://habrastorage.org/webt/zg/sv/lo/zgsvlogmzxvi347x9mlbs9dmdyw.png" alt="Bagan 6: Musiman penjualan"><br>  <font color="gray"><i>Bagan 6: Musiman penjualan</i></font> <br><br>  Sebagai langkah terakhir, kami memutuskan untuk mengenakan musiman penjualan pada musiman pengguna.  Sekarang Anda dapat melihat di mana kami menjual iklan lebih lama dari yang diperlukan, dan tertinggal dari permintaan pengguna. <br><br>  Sebagai contoh, pengguna tertarik untuk membeli beton di Nizhny Novgorod dari bulan April hingga Oktober.  Sementara perusahaan hanya bergerak dalam promosi dari Mei hingga September. <br><br><img src="https://habrastorage.org/webt/fy/n7/mc/fyn7mcluv1duddq8a2hueb-idj8.png" alt="Bagan 7: Persimpangan musim pengguna dan musim penjualan"><br>  <font color="gray"><i>Bagan 7: Perpotongan musiman pengguna dan musiman penjualan (pengguna hijau, penjualan biru, kebetulan merah)</i></font> <br><br><h4>  Apa yang terjadi </h4><br>  Segala sesuatu yang dijelaskan di atas diimplementasikan dalam MS SQL Server 2016. Untuk mencari regresi linier dan korelasi, R digunakan, yang telah dimasukkan dalam server sejak versi 2016. Dan karena kami memiliki Gudang Data dan analisis statistik pengguna yang sudah ada di SQL Server, ternyata sangat nyaman untuk menggunakan R untuk perhitungan matematis. <br><img src="https://habrastorage.org/webt/zo/uv/fi/zouvfihpufdsdoywofaz85qvra4.jpeg"><br>  Contoh menggunakan R dari TSQL: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> <span class="hljs-comment"><span class="hljs-comment">#tmp EXEC sp_execute_external_script @language = N'R', @script = @R, @input_data_1 = N'SELECT DataId, Number, Value FROM #data ORDER BY 1, 2'</span></span></code> </pre> <br>  Dimana: <br><br><ul><li>  variabel R berisi langsung kode R; </li><li>  language = N'R '- menunjukkan bahwa skrip yang diteruskan dalam variabel R berisi kode bahasa R. Di SQL Server 2017, Anda dapat menggunakan bahasa = N'Python' di samping R.  Kemudian, sesuai, kode Python harus dilewatkan ke parameter skrip. </li><li>  input_data_1 - berisi kueri SQL, yang hasilnya di dalam kode-R dapat diakses sebagai InputDataSet; </li><li>  Hasil dari prosedur adalah RecordDataSet, dibentuk sebagai OutputDataSet &lt;- calcAllTrend (data = InputDataSet); </li><li>  Pastikan untuk menentukan format catatan yang dihasilkan: jumlah dan jenis kolom.  Dalam hal ini, format OutputDataSet ditentukan oleh tabel #tmp di mana hasilnya dicatat.  Atau Anda dapat menggunakan DENGAN SET HASIL untuk menggambarkan set rekaman yang dihasilkan. </li></ul><br>  Dalam kasus kami, ternyata sebagian besar runtime sp_execute_external_script ditempati secara langsung dengan mengakses Layanan R.  R-code itu sendiri bekerja dengan cepat. <br><br>  Biarkan saya mengingatkan Anda, kami ingin menghitung tren dan musiman untuk semua kota yang mencakup 2GIS dan semua bidang kegiatan.  Oleh karena itu, kami memutuskan untuk mengirim tidak satu baris (Angka, Nilai) ke InputDataSet, tetapi beberapa sekaligus, dikelompokkan berdasarkan DataId.  Dan siklus DataId diselenggarakan di dalam R. Dengan demikian, kami secara signifikan menghemat memanggil Layanan R. <br><br><h3>  Fakta dari kehidupan </h3><br>  Anda membaca artikel sampai akhir, itu terpuji.  Untuk menghibur Anda sebelum hasilnya, kami membagikan fakta menarik yang diidentifikasi selama analisis musim. <br><br><h4>  Fakta No. 1 </h4><br>  Pengemudi tahu dari pengalaman pribadi bahwa musim mencari ban dan pemasangan ban adalah musim semi dan musim gugur.  Tapi, tepatnya, musim di berbagai kota bisa sangat berbeda.  Karenanya, saat membuat koleksi dan dasbor (layar pembuka dalam produk), penting untuk mempertimbangkan musim di setiap kota tertentu. <br><br><img src="https://habrastorage.org/webt/r4/6j/q4/r46jq4en-rsrns97h1tsqk-ae18.png" alt="Bagan 8: Musiman ban di Krasnodar, Novosibirsk dan Norilsk"><br>  <font color="gray"><i>Bagan 8: Musiman ban di Krasnodar, Novosibirsk dan Norilsk</i></font> <br><br><h4>  Fakta No. 2 </h4><br>  Musiman dapat berbeda bahkan dalam bidang kegiatan yang sama - pada berbagai jenis perangkat.  Misalnya, "Hadiah Tahun Baru" di layar lebar mulai mencari di bulan Oktober.  Sedangkan dalam versi seluler pencarian dimulai sebulan kemudian dan puncaknya semakin mendekati Tahun Baru. <br><br><img src="https://habrastorage.org/webt/hk/ke/rc/hkkercsmeaa9svqjoplu3pvgjyk.png" alt="Bagan 9: Cari hadiah Natal online dan dalam versi seluler 2GIS"><br>  <font color="gray"><i>Bagan 9: Cari hadiah Natal online dan dalam versi seluler 2GIS</i></font> <br><br><h4>  Fakta No. 3 </h4><br>  Dalam proses mengerjakan musiman, kami menemukan bidang kegiatan, minat yang ditunjukkan setiap tiga bulan sekali.  Dan ini berlaku untuk berbagai kota di Rusia. <br>  Coba tebak bisnis apa ini. <br><br><div class="spoiler">  <b class="spoiler_title">Tip spoiler</b> <div class="spoiler_text">  Berbagai kota di Rusia.  Jadi, bukan cuaca, atau kawasan, atau bisnis lokal, tetapi sesuatu yang umum secara global. <br>  3 bulan = seperempat.  Perhatikan April ... <br></div></div><br><img src="https://habrastorage.org/webt/nj/dj/rv/njdjrv7h0mgsoyo5coff1uvkxle.png" alt="Bagan 10"><br>  <font color="gray"><i>Bagan 10</i></font> <br><br><div class="spoiler">  <b class="spoiler_title">Jawabannya</b> <div class="spoiler_text">  Ini adalah dana asuransi sosial - laporan triwulanan disampaikan kepada FSS setiap tiga bulan sekali, dan puncaknya pada bulan April dijelaskan oleh perubahan dalam formulir pelaporan mulai 1 Januari setiap tahun. <br></div></div><br><h3>  Sekali lagi tentang hal utama </h3><br>  Apakah Anda akan mencari korelasi dalam data?  Jangan lupa untuk menyiapkan data ini: selisih proses, bersih dari tren dan emisi.  Ingatlah bahwa persiapan akan menghabiskan sebagian besar waktu. <br><br>  Pada tahap bekerja dengan baris, abstrak sebanyak mungkin dari semantik: bekerja dengan nilai dan nomor seri, maka kode akan lebih mudah untuk digunakan kembali.  Visualisasi pada setiap tahap pemrosesan akan sangat membantu. <br><br>  PS: tugas menemukan tren dan musiman dilakukan sebagai bagian dari tugas lain - memprediksi perubahan dalam perhatian pengguna setelah memperoleh iklan di 2GIS.  Saya siap memberi tahu Anda bagaimana kami membuat ramalan, jika Anda tertarik. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id414041/">https://habr.com/ru/post/id414041/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id414027/index.html">Bisakah teman saya dianggap teman sejati?</a></li>
<li><a href="../id414029/index.html">Cahaya misterius di sekitar bintang yang baru terbentuk, dan apa pendapat para astronom tentang itu</a></li>
<li><a href="../id414031/index.html">Mengikuti pertemuan "PostgreSQL 11 Fitur Baru"</a></li>
<li><a href="../id414037/index.html">Sekali di sebuah perusahaan HFT ...</a></li>
<li><a href="../id414039/index.html">Kisah-kisah tentang awan</a></li>
<li><a href="../id414049/index.html">Permainan utama E3 2018: Fallout 76, Metro Exodus, Doom Eternal, dan lainnya</a></li>
<li><a href="../id414053/index.html">5 kesalahpahaman tentang GDPR</a></li>
<li><a href="../id414055/index.html">Trans-PRK: salah satu standar koreksi visi</a></li>
<li><a href="../id414057/index.html">Pendinginan Pusat Data: A Song of Ice and Fire</a></li>
<li><a href="../id414059/index.html">Persentase pernikahan di antara lampu LED. Pilihan 27.000 lampu terjual</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>