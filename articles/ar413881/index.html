<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸšŸ ğŸ“¹ ğŸ‘ğŸ¼ ØµÙˆØ±Ø© Ø¹Ø§Ù…Ù„ Ø¥Ø±Ø³Ø§Ø¡ 5.94 Ù…ØªØ± Ù…Ø¹ Telegram MTProxy ğŸˆ ğŸ¥ ğŸ’¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ÙƒÙ…Ø§ Ø³Ù…Ø¹ Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø¨Ø§Ù„ÙØ¹Ù„ ØŒ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ù…Ø§ÙŠÙˆ Ø£Ø·Ù„Ù‚Øª Telegram Ø®Ø§Ø¯Ù… MTProto Proxy Ø§Ù„Ø±Ø³Ù…ÙŠ (Ø§Ù„Ù…Ø¹Ø±ÙˆÙ Ø£ÙŠØ¶Ù‹Ø§ Ø¨Ø§Ø³Ù… MTProxy) ØŒ Ø§Ù„Ù…ÙƒØªÙˆØ¨ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„ØªØ§Ù„ÙŠØ© . ÙÙŠ Ø¹Ø§Ù… 2018 ØŒ Ù„...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ØµÙˆØ±Ø© Ø¹Ø§Ù…Ù„ Ø¥Ø±Ø³Ø§Ø¡ 5.94 Ù…ØªØ± Ù…Ø¹ Telegram MTProxy</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413881/" style=";text-align:right;direction:rtl">  ÙƒÙ…Ø§ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø³Ù…Ø¹</a> Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø¨Ø§Ù„ÙØ¹Ù„ ØŒ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ù…Ø§ÙŠÙˆ Ø£Ø·Ù„Ù‚Øª Telegram Ø®Ø§Ø¯Ù… MTProto Proxy Ø§Ù„Ø±Ø³Ù…ÙŠ (Ø§Ù„Ù…Ø¹Ø±ÙˆÙ Ø£ÙŠØ¶Ù‹Ø§ Ø¨Ø§Ø³Ù… MTProxy) ØŒ Ø§Ù„Ù…ÙƒØªÙˆØ¨ Ø¨Ø§Ù„Ù„ØºØ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„ØªØ§Ù„ÙŠØ©</a> .  ÙÙŠ Ø¹Ø§Ù… 2018 ØŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ù„ÙƒØ«ÙŠØ± Ø¨Ø¯ÙˆÙ† Docker ØŒ Ù„Ø£Ù†Ù‡ Ù…ØµØ­ÙˆØ¨ Ø¨Ù†ÙØ³ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©</a> "Ø§Ù„Ø±Ø³Ù…ÙŠØ©" Ø¨ØªÙ†Ø³ÙŠÙ‚ ØµÙØ± Ø§Ù„ØªÙƒÙˆÙŠÙ†.  ÙƒÙ„ Ø´ÙŠØ¡ Ø³ÙŠÙƒÙˆÙ† Ø¹Ù„Ù‰ Ù…Ø§ ÙŠØ±Ø§Ù… ØŒ Ù„ÙƒÙ† Ø«Ù„Ø§Ø«Ø© "Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª" Ø£ÙØ³Ø¯Øª Ø§Ù†Ø·Ø¨Ø§Ø¹ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹: Ø§Ù„ØµÙˆØ±Ø© ØªØ²Ù†&gt; 130 Ù…ÙŠØ¬Ø§ Ø¨Ø§ÙŠØª (Ù‡Ù†Ø§Ùƒ Ø¯Ø¨ÙŠØ§Ù† Ù…Ù…ØªÙ„Ø¦ Ø§Ù„Ø¬Ø³Ù… ØŒ ÙˆÙ„ÙŠØ³ Ø¬Ø¨Ø§Ù„ Ø§Ù„Ø£Ù„Ø¨ Ø§Ù„Ù…Ø¹ØªØ§Ø¯Ø©) ØŒ Ø¨Ø³Ø¨Ø¨ "Ø§Ù„ØªÙƒÙˆÙŠÙ† ØµÙØ±" Ù„Ø§ ÙŠØªÙ… ØªÙƒÙˆÙŠÙ†Ù‡ Ø¨Ø´ÙƒÙ„ Ù…Ù„Ø§Ø¦Ù… Ø¯Ø§Ø¦Ù…Ù‹Ø§ (ÙÙ‚Ø· Ù…Ù† Ø®Ù„Ø§Ù„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©) ÙˆÙ†Ø³ÙŠ Ø§Ù„Ø±Ø¬Ø§Ù„ Ø§Ù„Ø­Ù…Ù„Ø© ØŒ ÙˆÙˆØ¶Ø¹ÙˆØ§ Ù…Ù„Ù Dockerfile. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/rz/xw/_i/rzxw_ixdvdpolcg2lifulaagwoq.png"></div><br><br>  <b>TL Ø› DR</b> Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¹Ù…Ù„ ØµÙˆØ±Ø© Ø¹Ø§Ù…Ù„ Ø¥Ø±Ø³Ø§Ø¡ Ø±Ø³Ù…ÙŠ Ø¹Ù„Ù‰ Ø£Ø³Ø§Ø³ Ø¬Ø¨Ø§Ù„ Ø§Ù„Ø£Ù„Ø¨ Ø¹Ù…Ù„ÙŠØ§ 1 ÙÙŠ 1 Ø¨Ø­Ø¬Ù… 5.94 Ù…ÙŠØ¬Ø§ Ø¨Ø§ÙŠØª ÙˆÙˆØ¶Ø¹Ù‡Ø§ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù‡Ù†Ø§</a> (ÙˆÙ…Ù„Ù Dockerfile <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù‡Ù†Ø§</a> ) Ø›  Ø¹Ù„Ù‰ Ø·ÙˆÙ„ Ø§Ù„Ø·Ø±ÙŠÙ‚ ØŒ Ø³Ù†ÙƒØªØ´Ù ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ùƒ ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø­ÙŠØ§Ù† ØªÙƒÙˆÙŠÙ† ØµØ¯Ø§Ù‚Ø§Øª Ù…Ø¹ Ø¨Ø±Ù†Ø§Ù…Ø¬ Alpine Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù‚ØµØ§ØµØ§Øª ÙˆØ§Ù„Ù…Ù„Ù ØŒ ÙˆØ³Ù†Ù„Ø¹Ø¨ Ù‚Ù„ÙŠÙ„Ø§Ù‹ ÙÙŠ Ø§Ù„Ø­Ø¬Ù… ØŒ Ø­ØµØ±ÙŠÙ‹Ø§ Ù…Ù† Ø£Ø¬Ù„ Ø§Ù„Ù…ØªØ¹Ø©. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙˆØ±Ø© </h2><br>  Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ØŒ Ø¨Ø³Ø¨Ø¨ ÙƒÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ø¶Ø¬Ø©ØŸ  Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ø±Ù‰ Ù…Ø§ ØªÙ…Ø«Ù„Ù‡ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù…Ø¹ Ø§Ù„Ø£Ù…Ø± <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">history</a> : <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">$ docker <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> --no-trunc --format <span class="hljs-string"><span class="hljs-string">"{{.Size}}\t{{.CreatedBy}}"</span></span> telegrammessenger/proxy</code> </pre> <br>  ØªØªÙ… Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§Ù„ÙŠ: <br><br><img src="https://habrastorage.org/webt/ev/ma/nj/evmanj5adycr0whpsksqgyivw70.png"><br><br>  Ø£Ø«Ù‚Ù„Ù‡Ø§ Ù‡Ùˆ Debian Jessie ØŒ Ø§Ù„Ø°ÙŠ ÙˆØ±Ø«Øª Ù…Ù†Ù‡ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© ØŒ ÙŠØ¬Ø¨ Ø£Ù† Ù†ØªØ®Ù„Øµ Ù…Ù†Ù‡ Ø£ÙˆÙ„Ø§Ù‹ (alpine: 3.6 ØŒ Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø© ØŒ ÙŠØ²Ù† 3.97 Ù…ÙŠØºØ§Ø¨Ø§ÙŠØª) Ø›  Ù…ØªØ¨ÙˆØ¹Ø© Ø¨Ø£Ø¨Ø¹Ø§Ø¯ Ù‡ÙŠ Ø­Ù„ÙŠÙ‚Ø© ÙˆØ´Ù‡Ø§Ø¯Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©.  Ù„ÙÙ‡Ù… Ù…Ø§ ÙŠØ¹Ù†ÙŠÙ‡ Ø§Ù„Ù…Ù„ÙØ§Ù† Ø§Ù„Ø¢Ø®Ø±Ø§Ù† ÙˆØ§Ù„Ø¯Ù„ÙŠÙ„ ØŒ Ø³Ù†Ù†Ø¸Ø± ÙÙŠ Ø§Ù„Ø¯Ø§Ø®Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø± <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">run</a> ØŒ ÙˆØ§Ø³ØªØ¨Ø¯Ø§Ù„ CMD Ø¨Ù€ bash (Ø³ÙŠØ³Ù…Ø­ Ù„Ùƒ Ù‡Ø°Ø§ Ø¨Ø§Ù„ØªØ¬ÙˆÙ„ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªÙ… Ø¥Ø·Ù„Ø§Ù‚Ù‡Ø§ ØŒ ÙˆØ§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø¨Ø¹Ø¶ÙƒÙ…Ø§ Ø¹Ù† ÙƒØ«Ø¨ ØŒ ÙˆØªØ´ØºÙŠÙ„ Ø£Ø¬Ø²Ø§Ø¡ Ù…Ø¹ÙŠÙ†Ø© ØŒ ÙˆÙ†Ø³Ø® Ø´ÙŠØ¡ Ù…ÙÙŠØ¯): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ docker run -it --rm telegrammessenger/proxy /bin/bash</code> </pre> <br>  Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø§Ø³ØªØ¹Ø§Ø¯Ø© ØµÙˆØ±Ø© Ø§Ù„Ø­Ø§Ø¯Ø« - Ø´ÙŠØ¡ ÙŠØ´Ø¨Ù‡ Ù…Ù„Ù Dockerfile Ø§Ù„Ø±Ø³Ù…ÙŠ Ø§Ù„Ù…ÙÙ‚ÙˆØ¯: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">FROM debian:jessie<span class="hljs-literal"><span class="hljs-literal">-20180312</span></span> RUN set <span class="hljs-literal"><span class="hljs-literal">-eux</span></span> \ &amp;&amp; apt<span class="hljs-literal"><span class="hljs-literal">-get</span></span> update \ &amp;&amp; apt<span class="hljs-literal"><span class="hljs-literal">-get</span></span> install <span class="hljs-literal"><span class="hljs-literal">-y</span></span> -<span class="hljs-literal"><span class="hljs-literal">-no</span></span><span class="hljs-literal"><span class="hljs-literal">-install</span></span><span class="hljs-literal"><span class="hljs-literal">-recommends</span></span> curl ca<span class="hljs-literal"><span class="hljs-literal">-certificates</span></span> \ &amp;&amp; rm <span class="hljs-literal"><span class="hljs-literal">-rf</span></span> /var/lib/apt/lists/* COPY ./mtproto<span class="hljs-literal"><span class="hljs-literal">-proxy</span></span> /usr/local/bin RUN mkdir /<span class="hljs-keyword"><span class="hljs-keyword">data</span></span> COPY ./secret/ /etc/telegram/ COPY ./run.sh /run.sh CMD [<span class="hljs-string"><span class="hljs-string">"/bin/sh"</span></span>, <span class="hljs-string"><span class="hljs-string">"-c"</span></span>, <span class="hljs-string"><span class="hljs-string">"/bin/bash /run.sh"</span></span>]</code> </pre><br>  Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† mtproto-proxy Ø®Ø§Ø¯Ù…Ù‹Ø§ Ù…ØªØ±Ø¬Ù…Ù‹Ø§ ØŒ ÙŠØ­ØªÙˆÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø³Ø±ÙŠ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ù…Ù„Ù hello-explorers-how-you-do-do Ù…Ø¹ Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ´ÙÙŠØ± AES (Ø§Ù†Ø¸Ø± Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø®Ø§Ø¯Ù… ØŒ Ù‡Ù†Ø§Ùƒ Ø¨Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© ØŒ Ù‡Ù†Ø§Ùƒ ØªÙˆØµÙŠØ© Ø±Ø³Ù…ÙŠØ© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙØªØ§Ø­ Ù…Ù† Ø®Ù„Ø§Ù„ ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ØŒ ÙˆÙ„ÙƒÙ† Ø¶Ø¹Ù‡ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø­Ùˆ Ø±Ø¨Ù…Ø§ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ù Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªÙ… Ø­Ø¸Ø± ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø£ÙŠØ¶Ù‹Ø§) ØŒ ÙˆÙŠÙ‚ÙˆÙ… run.sh Ø¨ÙƒÙ„ Ø§Ù„Ø§Ø³ØªØ¹Ø¯Ø§Ø¯Ø§Øª Ù„Ø¨Ø¯Ø¡ Ø§Ù„ÙˆÙƒÙŠÙ„. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ù…Ø­ØªÙˆÙŠØ§Øª run.sh Ø§Ù„Ø£ØµÙ„ÙŠ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash if [ ! -z "$DEBUG" ]; then set -x; fi mkdir /data 2&gt;/dev/null &gt;/dev/null RANDOM=$(printf "%d" "0x$(head -c4 /dev/urandom | od -t x1 -An | tr -d ' ')") if [ -z "$WORKERS" ]; then WORKERS=2 fi echo "####" echo "#### Telegram Proxy" echo "####" echo SECRET_CMD="" if [ ! -z "$SECRET" ]; then echo "[+] Using the explicitly passed secret: '$SECRET'." elif [ -f /data/secret ]; then SECRET="$(cat /data/secret)" echo "[+] Using the secret in /data/secret: '$SECRET'." else if [[ ! -z "$SECRET_COUNT" ]]; then if [[ ! ( "$SECRET_COUNT" -ge 1 &amp;&amp; "$SECRET_COUNT" -le 16 ) ]]; then echo "[F] Can generate between 1 and 16 secrets." exit 5 fi else SECRET_COUNT="1" fi echo "[+] No secret passed. Will generate $SECRET_COUNT random ones." SECRET="$(dd if=/dev/urandom bs=16 count=1 2&gt;&amp;1 | od -tx1 | head -n1 | tail -c +9 | tr -d ' ')" for pass in $(seq 2 $SECRET_COUNT); do SECRET="$SECRET,$(dd if=/dev/urandom bs=16 count=1 2&gt;&amp;1 | od -tx1 | head -n1 | tail -c +9 | tr -d ' ')" done fi if echo "$SECRET" | grep -qE '^[0-9a-fA-F]{32}(,[0-9a-fA-F]{32}){,15}$'; then SECRET="$(echo "$SECRET" | tr '[:upper:]' '[:lower:]')" SECRET_CMD="-S $(echo "$SECRET" | sed 's/,/ -S /g')" echo -- "$SECRET_CMD" &gt; /data/secret_cmd echo "$SECRET" &gt; /data/secret else echo '[F] Bad secret format: should be 32 hex chars (for 16 bytes) for every secret; secrets should be comma-separated.' exit 1 fi if [ ! -z "$TAG" ]; then echo "[+] Using the explicitly passed tag: '$TAG'." fi TAG_CMD="" if [[ ! -z "$TAG" ]]; then if echo "$TAG" | grep -qE '^[0-9a-fA-F]{32}$'; then TAG="$(echo "$TAG" | tr '[:upper:]' '[:lower:]')" TAG_CMD="-P $TAG" else echo '[!] Bad tag format: should be 32 hex chars (for 16 bytes).' echo '[!] Continuing.' fi fi curl -s https://core.telegram.org/getProxyConfig -o /etc/telegram/backend.conf || { echo '[F] Cannot download proxy configuration from Telegram servers.' exit 2 } CONFIG=/etc/telegram/backend.conf IP="$(curl -s -4 "https://digitalresistance.dog/myIp")" INTERNAL_IP="$(ip -4 route get 8.8.8.8 | grep '^8\.8\.8\.8\s' | grep -Po 'src\s+\d+\.\d+\.\d+\.\d+' | awk '{print $2}')" if [[ -z "$IP" ]]; then echo "[F] Cannot determine external IP address." exit 3 fi if [[ -z "$INTERNAL_IP" ]]; then echo "[F] Cannot determine internal IP address." exit 4 fi echo "[*] Final configuration:" I=1 echo "$SECRET" | tr ',' '\n' | while read S; do echo "[*] Secret $I: $S" echo "[*] tg:// link for secret $I auto configuration: tg://proxy?server=${IP}&amp;port=443&amp;secret=${S}" echo "[*] t.me link for secret $I: https://t.me/proxy?server=${IP}&amp;port=443&amp;secret=${S}" I=$(($I+1)) done [ ! -z "$TAG" ] &amp;&amp; echo "[*] Tag: $TAG" || echo "[*] Tag: no tag" echo "[*] External IP: $IP" echo "[*] Make sure to fix the links in case you run the proxy on a different port." echo echo '[+] Starting proxy...' sleep 1 exec /usr/local/bin/mtproto-proxy -p 2398 -H 443 -M "$WORKERS" -C 60000 --aes-pwd /etc/telegram/hello-explorers-how-are-you-doing -u root $CONFIG --allow-skip-dh --nat-info "$INTERNAL_IP:$IP" $SECRET_CMD $TAG_CMD</span></span></code> </pre> </div></div><br><h2 style=";text-align:right;direction:rtl">  Ø§Ù„ØªØ¬Ù…Ø¹ </h2><br>  ØªØ­Øª CentOS 7 MTProxy Ø¹Ù„Ù‰ HabrÃ© Ø§Ù„ØªÙŠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ØªÙ… Ø¬Ù…Ø¹Ù‡Ø§</a> Ø¨Ø§Ù„ÙØ¹Ù„ ØŒ Ø³Ù†Ø­Ø§ÙˆÙ„ Ø¬Ù…Ø¹ ØµÙˆØ±Ø© ØªØ­Øª Alpine ÙˆØ­ÙØ¸ 130 Ù…ÙŠØºØ§Ø¨Ø§ÙŠØª ØŒ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© ØŒ 130 ÙÙŠ ØµÙˆØ±Ø© Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„Ù†Ø§ØªØ¬. <br><br>  Ø§Ù„Ø³Ù…Ø© Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ù„Ù€ Alpine Linux Ù‡ÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… musl Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† glibc.  ÙƒÙ„Ø§Ù‡Ù…Ø§ Ù…ÙƒØªØ¨Ø§Øª C Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©.  Musl ØµØºÙŠØ± (Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ‡ Ø®Ù…Ø³ "Ø§Ù„Ù…Ø¹ÙŠØ§Ø±" ÙÙŠÙ‡) ØŒ Ù„ÙƒÙ† Ø§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡ (Ø§Ù„Ù…ÙˆØ¹ÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„) ÙŠÙ‚Ø±Ø±Ø§Ù† Ù…ØªÙ‰ ÙŠØªØ¹Ù„Ù‚ Ø§Ù„Ø£Ù…Ø± Ø¨Ù€ Docker.  Ø¥Ù† ÙˆØ¶Ø¹ glibc Ø¹Ù„Ù‰ Ø¬Ø¨Ø§Ù„ Ø§Ù„Ø£Ù„Ø¨ Ù„ÙŠØ³ ØµØ­ÙŠØ­Ù‹Ø§ Ù…Ù† Ø§Ù„Ù†Ø§Ø­ÙŠØ© Ø§Ù„Ø¹Ø±Ù‚ÙŠØ© ØŒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ÙˆÙ„Ù† ÙŠÙÙ‡Ù…</a> Ø§Ù„Ø¹Ù… Ø¬Ø§ÙƒÙˆØ¨ Ø¬ÙˆØªÙŠØ±ÙƒØ§ ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„. <br><br>  Ø³Ù†Ù‚ÙˆÙ… Ø£ÙŠØ¶Ù‹Ø§ Ø¨Ø¨Ù†Ø§Ø¡ Ø¹Ø§Ù…Ù„ Ù…ÙŠÙ†Ø§Ø¡ Ù„Ø¹Ø²Ù„ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª ÙˆØ§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø­Ø±ÙŠØ© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ ØŒ Ù„Ø°Ù„Ùƒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Dockerfile Ø¬Ø¯ÙŠØ¯: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">FROM alpine:<span class="hljs-number"><span class="hljs-number">3.6</span></span> RUN apk add -<span class="hljs-literal"><span class="hljs-literal">-no</span></span><span class="hljs-literal"><span class="hljs-literal">-cache</span></span> git make gcc musl<span class="hljs-literal"><span class="hljs-literal">-dev</span></span> linux<span class="hljs-literal"><span class="hljs-literal">-headers</span></span> openssl<span class="hljs-literal"><span class="hljs-literal">-dev</span></span> RUN git clone -<span class="hljs-literal"><span class="hljs-literal">-single</span></span><span class="hljs-literal"><span class="hljs-literal">-branch</span></span> -<span class="hljs-literal"><span class="hljs-literal">-depth</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> https://github.com/TelegramMessenger/MTProxy.git /mtproxy/sources RUN cd /mtproxy/sources \ &amp;&amp; make <span class="hljs-literal"><span class="hljs-literal">-j</span></span><span class="hljs-variable"><span class="hljs-variable">$</span></span>(getconf _NPROCESSORS_ONLN)</code> </pre> <br>  Ù…Ù† Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª ØŒ Ø³ÙŠÙƒÙˆÙ† git ÙÙŠ Ù…ØªÙ†Ø§ÙˆÙ„ Ø§Ù„ÙŠØ¯ (ÙˆÙ„ÙŠØ³ ÙÙ‚Ø· Ù„Ø§Ø³ØªÙ†Ø³Ø§Ø® Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ Ø§Ù„Ø±Ø³Ù…ÙŠ ØŒ Ø³ÙŠØ­Ø¯Ø¯ Ù…Ù„Ù make sha Ø§Ù„ØªØ²Ø§Ù…Ù‹Ø§ Ø¨Ø§Ù„Ø¥ØµØ¯Ø§Ø±) ØŒ ÙˆØ¥Ù†Ø´Ø§Ø¡ ØŒ ÙˆÙ…Ù„ÙØ§Øª gcc ØŒ ÙˆØ±Ø£Ø³ (ØªÙ… Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù…Ù† Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© ØªØ¬Ø±ÙŠØ¨ÙŠÙ‹Ø§).  Ù†Ø­Ù† Ù†Ø³ØªÙ†Ø³Ø® Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙÙ‚Ø· Ø¨Ø¹Ù…Ù‚ Ø§Ù„ØªØ²Ø§Ù… ÙˆØ§Ø­Ø¯ (Ø¨Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ù„Ø§ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ®).  Ø­Ø³Ù†Ù‹Ø§ ØŒ Ø¯Ø¹Ù†Ø§ Ù†Ø­Ø§ÙˆÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ù…ÙŠØ¹ Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø¶ÙŠÙ Ø¹Ù†Ø¯ Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… -j.  Ù‚Ù…Øª Ø¨ØªÙ‚Ø³ÙŠÙ…Ù‡Ø§ Ø¹Ù…Ø¯Ø§Ù‹ Ø¥Ù„Ù‰ Ø¹Ø¯Ø¯ Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ù…Ù† Ø£Ø¬Ù„ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø°Ø§ÙƒØ±Ø© ØªØ®Ø²ÙŠÙ† Ù…Ø¤Ù‚Øª Ù…Ù†Ø§Ø³Ø¨Ø© Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡ (Ø¹Ø§Ø¯Ø© Ù…Ø§ ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù†Ù‡Ø§). <br><br>  Ø³Ù†Ù‚ÙˆÙ… Ø¨ØªØ´ØºÙŠÙ„ Ø£Ù…Ø± <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø§Ù„Ø¨Ù†Ø§Ø¡</a> (ÙŠØ¬Ø±ÙŠ ÙÙŠ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ù…Ø¹ Ù…Ù„Ù Dockerfile): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ docker build -t mtproxy:<span class="hljs-built_in"><span class="hljs-built_in">test</span></span> .</code> </pre> <br>  ÙˆÙ‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">In</span></span> file included <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> ./net/net-connections.h:<span class="hljs-number"><span class="hljs-number">34</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> mtproto/mtproto-config.c:<span class="hljs-number"><span class="hljs-number">44</span></span>: ./jobs/jobs.h:<span class="hljs-number"><span class="hljs-number">234</span></span>:<span class="hljs-number"><span class="hljs-number">23</span></span>: error: field <span class="hljs-string"><span class="hljs-string">'rand_data'</span></span> has incomplete <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> struct drand48_data rand_data; ^~~~~~~~~</code> </pre><br>  ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ ØŒ Ø³ÙŠØªÙ… Ø±Ø¨Ø· Ø¬Ù…ÙŠØ¹ ØªÙ„Ùƒ Ø§Ù„Ù„Ø§Ø­Ù‚Ø© Ø¨Ù‡.  Ø£ÙˆÙ„Ø§Ù‹ ØŒ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø£ÙˆÙ„Ø¦Ùƒ Ø§Ù„Ø°ÙŠÙ† Ù„ÙŠØ³ÙˆØ§ Ø¹Ù„Ù‰ Ø¯Ø±Ø§ÙŠØ© Ø¨Ø£Ù†ÙØ³Ù‡Ù… ØŒ ÙØ¥Ù† Ø§Ù„Ù…ØªØ±Ø¬Ù… ÙŠÙ‚Ø³Ù… Ø¨Ø§Ù„ÙØ¹Ù„ Ø¹Ù„Ù‰ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø¥Ø¹Ù„Ø§Ù† Ø¹Ù† Ø¨Ù†ÙŠØ© Ø¨ÙŠØ§Ù†Ø§Øª drand48_data.  Ø«Ø§Ù†ÙŠØ§Ù‹ ØŒ Ø³Ø¬Ù„ Ù…Ø·ÙˆØ±Ùˆ musl ÙˆØ¸Ø§Ø¦Ù Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¢Ù…Ù†Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø®ÙŠØ· (Ù…Ø¹ postr _r) ÙˆØ¹Ù„Ù‰ ÙƒÙ„ Ù…Ø§ ÙŠØªØ¹Ù„Ù‚ Ø¨Ù‡Ø§ (Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„Ù‡ÙŠØ§ÙƒÙ„).  ÙƒÙ…Ø§ Ø£Ù† Ù…Ø·ÙˆØ±ÙŠ Telegram ØŒ Ø¨Ø¯ÙˆØ±Ù‡Ù… ØŒ Ù„Ù… ÙŠÙƒÙ„ÙÙˆØ§ Ø£Ù†ÙØ³Ù‡Ù… Ø¹Ù†Ø§Ø¡ ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ØªÙŠ Ù„Ù… ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ø¹Ø´ÙˆØ§Ø¦ÙŠ_r ÙˆÙ†Ø¸Ø±Ø§Ø¦Ù‡Ø§ (ÙÙŠ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ù…ÙƒØªØ¨Ø§Øª Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø±Ø¤ÙŠØ© Ø¥Ø´Ø§Ø±Ø© HAVE_RANDOM_R Ø£Ùˆ ÙˆØ¬ÙˆØ¯Ù‡Ø§ Ø§Ù„ØªØ¹Ø³ÙÙŠ Ø£Ùˆ ØºÙŠØ§Ø¨Ù‡Ø§ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø¹Ø§Ø¯Ø© Ù…Ø§ ÙŠØ¤Ø®Ø° ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± ÙÙŠ Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ). <br><br>  Ø­Ø³Ù†Ù‹Ø§ ØŒ Ø§Ù„Ø¢Ù† Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¨ØªØ«Ø¨ÙŠØª glibcØŸ  Ù„Ø§!  Ø³Ù†Ù‚ÙˆÙ… Ø¨Ù†Ø³Ø® Ù…Ø§ Ù†Ø­ØªØ§Ø¬Ù‡ Ù…Ù† glibc Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ ÙˆÙ†Ù‚ÙˆÙ… Ø¨Ø¹Ù…Ù„ ØªØµØ­ÙŠØ­ Ù„Ù…ØµØ§Ø¯Ø± MTProxy. <br><br>  Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ù€ random_r ØŒ ÙØ¥Ù†Ù†Ø§ Ù†ÙˆØ§Ø¬Ù‡ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ ÙˆØ¸ÙŠÙØ© backtrace (execinfo.h) ØŒ ÙˆØ§Ù„ØªÙŠ ØªÙØ³ØªØ®Ø¯Ù… Ù„Ø¥Ø®Ø±Ø§Ø¬ Ù…ÙƒØ¯Ø³ backtrace ÙÙŠ Ø­Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ Ø§Ø³ØªØ«Ù†Ø§Ø¡: ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡Ø§ Ø¨Ø§Ù„ØªÙ†ÙÙŠØ° Ù…Ù† libunwind ØŒ ÙˆÙ„ÙƒÙ† Ø§Ù„Ø£Ù…Ø± Ù„Ø§ ÙŠØ³ØªØ­Ù‚ Ø°Ù„Ùƒ ØŒ Ù„Ø£Ù†Ù‡ ØªÙ… ØªØ£Ø·ÙŠØ± Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† __GLIBC__. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Random_compat.patch Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„ØªØµØ­ÙŠØ­</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="diff hljs"><span class="hljs-comment"><span class="hljs-comment">Index: jobs/jobs.h IDEA additional info: Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP &lt;+&gt;UTF-8 =================================================================== --- jobs/jobs.h (revision cdd348294d86e74442bb29bd6767e48321259bec) +++ jobs/jobs.h (date 1527996954000) @@ -28,6 +28,8 @@ #include "net/net-msg.h" #include "net/net-timers.h" +#include "common/randr_compat.h" + #define __joblocked #define __jobref Index: common/server-functions.c IDEA additional info: Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP &lt;+&gt;UTF-8 =================================================================== --- common/server-functions.c (revision cdd348294d86e74442bb29bd6767e48321259bec) +++ common/server-functions.c (date 1527998325000) @@ -35,7 +35,9 @@ #include &lt;arpa/inet.h&gt; #include &lt;assert.h&gt; #include &lt;errno.h&gt; +#ifdef __GLIBC__ #include &lt;execinfo.h&gt; +#endif #include &lt;fcntl.h&gt; #include &lt;getopt.h&gt; #include &lt;grp.h&gt; @@ -168,6 +170,7 @@ } void print_backtrace (void) { +#ifdef __GLIBC__ void *buffer[64]; int nptrs = backtrace (buffer, 64); kwrite (2, "\n------- Stack Backtrace -------\n", 33); @@ -178,6 +181,7 @@ kwrite (2, s, strlen (s)); kwrite (2, "\n", 1); } +#endif } pthread_t debug_main_pthread_id; Index: common/randr_compat.h IDEA additional info: Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP &lt;+&gt;UTF-8 =================================================================== --- common/randr_compat.h (date 1527998264000) +++ common/randr_compat.h (date 1527998264000) @@ -0,0 +1,72 @@ +/* + The GNU C Library is free software. See the file COPYING.LIB for copying + conditions, and LICENSES for notices about a few contributions that require + these additional notices to be distributed. License copyright years may be + listed using range notation, eg, 2000-2011, indicating that every year in + the range, inclusive, is a copyrightable year that would otherwise be listed + individually. +*/ + +#pragma once + +#include &lt;endian.h&gt; +#include &lt;pthread.h&gt; + +struct drand48_data { + unsigned short int __x[3]; /* Current state. */ + unsigned short int __old_x[3]; /* Old state. */ + unsigned short int __c; /* Additive const. in congruential formula. */ + unsigned short int __init; /* Flag for initializing. */ + unsigned long long int __a; /* Factor in congruential formula. */ +}; + +union ieee754_double +{ + double d; + + /* This is the IEEE 754 double-precision format. */ + struct + { +#if __BYTE_ORDER == __BIG_ENDIAN + unsigned int negative:1; + unsigned int exponent:11; + /* Together these comprise the mantissa. */ + unsigned int mantissa0:20; + unsigned int mantissa1:32; +#endif /* Big endian. */ +#if __BYTE_ORDER == __LITTLE_ENDIAN + /* Together these comprise the mantissa. */ + unsigned int mantissa1:32; + unsigned int mantissa0:20; + unsigned int exponent:11; + unsigned int negative:1; +#endif /* Little endian. */ + } ieee; + + /* This format makes it easier to see if a NaN is a signalling NaN. */ + struct + { +#if __BYTE_ORDER == __BIG_ENDIAN + unsigned int negative:1; + unsigned int exponent:11; + unsigned int quiet_nan:1; + /* Together these comprise the mantissa. */ + unsigned int mantissa0:19; + unsigned int mantissa1:32; +#else + /* Together these comprise the mantissa. */ + unsigned int mantissa1:32; + unsigned int mantissa0:19; + unsigned int quiet_nan:1; + unsigned int exponent:11; + unsigned int negative:1; +#endif + } ieee_nan; +}; + +#define IEEE754_DOUBLE_BIAS 0x3ff /* Added to exponent. */ + +int drand48_r (struct drand48_data *buffer, double *result); +int lrand48_r (struct drand48_data *buffer, long int *result); +int mrand48_r (struct drand48_data *buffer, long int *result); +int srand48_r (long int seedval, struct drand48_data *buffer); \ No newline at end of file Index: Makefile IDEA additional info: Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP &lt;+&gt;UTF-8 =================================================================== --- Makefile (revision cdd348294d86e74442bb29bd6767e48321259bec) +++ Makefile (date 1527998107000) @@ -40,6 +40,7 @@ DEPENDENCE_NORM := $(subst ${OBJ}/,${DEP}/,$(patsubst %.o,%.d,${OBJECTS})) LIB_OBJS_NORMAL := \ + ${OBJ}/common/randr_compat.o \ ${OBJ}/common/crc32c.o \ ${OBJ}/common/pid.o \ ${OBJ}/common/sha1.o \ Index: common/randr_compat.c IDEA additional info: Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP &lt;+&gt;UTF-8 =================================================================== --- common/randr_compat.c (date 1527998213000) +++ common/randr_compat.c (date 1527998213000) @@ -0,0 +1,120 @@ +/* + The GNU C Library is free software. See the file COPYING.LIB for copying + conditions, and LICENSES for notices about a few contributions that require + these additional notices to be distributed. License copyright years may be + listed using range notation, eg, 2000-2011, indicating that every year in + the range, inclusive, is a copyrightable year that would otherwise be listed + individually. +*/ + +#include &lt;stddef.h&gt; +#include "common/randr_compat.h" + +int __drand48_iterate (unsigned short int xsubi[3], struct drand48_data *buffer) { + uint64_t X; + uint64_t result; + + /* Initialize buffer, if not yet done. */ + if (!buffer-&gt;__init == 0) + { + buffer-&gt;__a = 0x5deece66dull; + buffer-&gt;__c = 0xb; + buffer-&gt;__init = 1; + } + + /* Do the real work. We choose a data type which contains at least + 48 bits. Because we compute the modulus it does not care how + many bits really are computed. */ + + X = (uint64_t) xsubi[2] &lt;&lt; 32 | (uint32_t) xsubi[1] &lt;&lt; 16 | xsubi[0]; + + result = X * buffer-&gt;__a + buffer-&gt;__c; + + xsubi[0] = result &amp; 0xffff; + xsubi[1] = (result &gt;&gt; 16) &amp; 0xffff; + xsubi[2] = (result &gt;&gt; 32) &amp; 0xffff; + + return 0; +} + +int __erand48_r (unsigned short int xsubi[3], struct drand48_data *buffer, double *result) { + union ieee754_double temp; + + /* Compute next state. */ + if (__drand48_iterate (xsubi, buffer) &lt; 0) + return -1; + + /* Construct a positive double with the 48 random bits distributed over + its fractional part so the resulting FP number is [0.0,1.0). */ + + temp.ieee.negative = 0; + temp.ieee.exponent = IEEE754_DOUBLE_BIAS; + temp.ieee.mantissa0 = (xsubi[2] &lt;&lt; 4) | (xsubi[1] &gt;&gt; 12); + temp.ieee.mantissa1 = ((xsubi[1] &amp; 0xfff) &lt;&lt; 20) | (xsubi[0] &lt;&lt; 4); + + /* Please note the lower 4 bits of mantissa1 are always 0. */ + *result = temp.d - 1.0; + + return 0; +} + +int __nrand48_r (unsigned short int xsubi[3], struct drand48_data *buffer, long int *result) { + /* Compute next state. */ + if (__drand48_iterate (xsubi, buffer) &lt; 0) + return -1; + + /* Store the result. */ + if (sizeof (unsigned short int) == 2) + *result = xsubi[2] &lt;&lt; 15 | xsubi[1] &gt;&gt; 1; + else + *result = xsubi[2] &gt;&gt; 1; + + return 0; +} + +int __jrand48_r (unsigned short int xsubi[3], struct drand48_data *buffer, long int *result) { + /* Compute next state. */ + if (__drand48_iterate (xsubi, buffer) &lt; 0) + return -1; + + /* Store the result. */ + *result = (int32_t) ((xsubi[2] &lt;&lt; 16) | xsubi[1]); + + return 0; +} + +int drand48_r (struct drand48_data *buffer, double *result) { + return __erand48_r (buffer-&gt;__x, buffer, result); +} + +int lrand48_r (struct drand48_data *buffer, long int *result) { + /* Be generous for the arguments, detect some errors. */ + if (buffer == NULL) + return -1; + + return __nrand48_r (buffer-&gt;__x, buffer, result); +} + +int mrand48_r (struct drand48_data *buffer, long int *result) { + /* Be generous for the arguments, detect some errors. */ + if (buffer == NULL) + return -1; + + return __jrand48_r (buffer-&gt;__x, buffer, result); +} + +int srand48_r (long int seedval, struct drand48_data *buffer) { + /* The standards say we only have 32 bits. */ + if (sizeof (long int) &gt; 4) + seedval &amp;= 0xffffffffl; + + buffer-&gt;__x[2] = seedval &gt;&gt; 16; + buffer-&gt;__x[1] = seedval &amp; 0xffffl; + buffer-&gt;__x[0] = 0x330e; + + buffer-&gt;__a = 0x5deece66dull; + buffer-&gt;__c = 0xb; + buffer-&gt;__init = 1; + + return 0; +} \ No newline at end of file</span></span></code> </pre></div></div><br>  Ø¶Ø¹Ù‡ ÙÙŠ Ù…Ø¬Ù„Ø¯ ./patches ÙˆÙ‚Ù… Ø¨ØªØ¹Ø¯ÙŠÙ„ Ù…Ù„Ù Dockerfile Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØµØ­ÙŠØ­ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§ÙŠØ±: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs powershell">FROM alpine:<span class="hljs-number"><span class="hljs-number">3.6</span></span> COPY ./patches /mtproxy/patches RUN apk add -<span class="hljs-literal"><span class="hljs-literal">-no</span></span><span class="hljs-literal"><span class="hljs-literal">-cache</span></span> -<span class="hljs-literal"><span class="hljs-literal">-virtual</span></span> .build<span class="hljs-literal"><span class="hljs-literal">-deps</span></span> \ git make gcc musl<span class="hljs-literal"><span class="hljs-literal">-dev</span></span> linux<span class="hljs-literal"><span class="hljs-literal">-headers</span></span> openssl<span class="hljs-literal"><span class="hljs-literal">-dev</span></span> \ &amp;&amp; git clone -<span class="hljs-literal"><span class="hljs-literal">-single</span></span><span class="hljs-literal"><span class="hljs-literal">-branch</span></span> -<span class="hljs-literal"><span class="hljs-literal">-depth</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> https://github.com/TelegramMessenger/MTProxy.git /mtproxy/sources \ &amp;&amp; cd /mtproxy/sources \ &amp;&amp; patch <span class="hljs-literal"><span class="hljs-literal">-p0</span></span> <span class="hljs-literal"><span class="hljs-literal">-i</span></span> /mtproxy/patches/randr_compat.patch \ &amp;&amp; make <span class="hljs-literal"><span class="hljs-literal">-j</span></span><span class="hljs-variable"><span class="hljs-variable">$</span></span>(getconf _NPROCESSORS_ONLN) \ &amp;&amp; cp /mtproxy/sources/objs/bin/mtproto<span class="hljs-literal"><span class="hljs-literal">-proxy</span></span> /mtproxy/ \ &amp;&amp; rm <span class="hljs-literal"><span class="hljs-literal">-rf</span></span> /mtproxy/{sources,patches} \ &amp;&amp; apk add -<span class="hljs-literal"><span class="hljs-literal">-no</span></span><span class="hljs-literal"><span class="hljs-literal">-cache</span></span> -<span class="hljs-literal"><span class="hljs-literal">-virtual</span></span> .rundeps libcrypto1.<span class="hljs-number"><span class="hljs-number">0</span></span> \ &amp;&amp; apk del .build<span class="hljs-literal"><span class="hljs-literal">-deps</span></span></code> </pre> <br>  Ø§Ù„Ø¢Ù† ØªÙ… Ø¥Ø·Ù„Ø§Ù‚ Ø«Ù†Ø§Ø¦ÙŠ mtproto-proxy Ø§Ù„Ù…Ø¬Ù…Ù‘Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ ØŒ ÙˆÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ù„Ù…Ø¶ÙŠ Ù‚Ø¯Ù…Ù‹Ø§. <br><br><h2 style=";text-align:right;direction:rtl">  Ø¥Ø²Ø§Ù„Ø© </h2><br>  Ø­Ø§Ù† Ø§Ù„ÙˆÙ‚Øª Ù„ØªØ­ÙˆÙŠÙ„ run.sh Ø§Ù„Ø£ØµÙ„ÙŠ Ø¥Ù„Ù‰ docker-entrypoint.sh.  ÙÙŠ Ø±Ø£ÙŠÙŠ ØŒ Ù‡Ø°Ø§ Ø£Ù…Ø± Ù…Ù†Ø·Ù‚ÙŠ Ø¹Ù†Ø¯Ù…Ø§ ÙŠØ¯Ø®Ù„ "Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠ" Ø¥Ù„Ù‰ ENTRYPOINT (ÙŠÙ…ÙƒÙ† Ø¯Ø§Ø¦Ù…Ù‹Ø§ ØªØ­Ù…ÙŠÙ„Ù‡ Ù…Ù† Ø§Ù„Ø®Ø§Ø±Ø¬) ØŒ ÙˆØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ø­Ø¬Ø¬ Ø§Ù„Ø®Ø§ØµØ© Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø­Ù…ÙŠ Ø¨Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ ÙÙŠ CMD (+ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© ÙƒØ¯Ø±Ø§Ø³Ø©). <br><br>  ÙŠÙ…ÙƒÙ†Ù†Ø§ ØªØ«Ø¨ÙŠØª bash Ùˆ grep Ø§Ù„ÙƒØ§Ù…Ù„ ÙÙŠ ØµÙˆØ±ØªÙ†Ø§ Ø§Ù„Ø£Ù„Ø¨ÙŠØ© (Ø³Ø£Ø´Ø±Ø­ Ù„Ø§Ø­Ù‚Ù‹Ø§) Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØµØ¯Ø§Ø¹ ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ØµÙ„ÙŠ ÙƒÙ…Ø§ Ù‡Ùˆ ØŒ Ù„ÙƒÙ†Ù‡ Ø³ÙŠØ¶Ø®Ù… ØµÙˆØ±Ù†Ø§ Ø§Ù„Ù…ØµØºØ±Ø© Ù„Ù„Ø¹Ø§Ø± ØŒ Ù„Ø°Ù„Ùƒ Ø³Ù†Ù†Ù…Ùˆ Ø­Ù‚ÙŠÙ‚ÙŠÙ‹Ø§ ØŒ ÙˆØ§Ù„Ø¯ØªÙ‡ ØŒ Ø¨ÙˆÙ†Ø³Ø§ÙŠ. <br><br>  Ù„Ù†Ø¨Ø¯Ø£ Ù…Ø¹ shebang ØŒ Ø§Ø³ØªØ¨Ø¯Ù„ <code>#!/bin/bash</code> Ø¨Ù€ <code>#!/bin/sh</code> .  Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø§Ù„Ø±Ù…Ø§Ø¯ Ø§Ù„Ø£Ù„Ø¨ÙŠ Ù‚Ø§Ø¯Ø± Ø¹Ù„Ù‰ Ù‡Ø¶Ù… ÙƒÙ„ Ø¨Ù†ÙŠØ© bash "ÙƒÙ…Ø§ Ù‡ÙŠ" ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§ ØŒ Ù„ÙƒÙ†Ù†Ø§ Ù…Ø§ Ø²Ù„Ù†Ø§ Ù†ÙˆØ§Ø¬Ù‡ Ù…Ø´ÙƒÙ„Ø© ÙˆØ§Ø­Ø¯Ø© - Ù„Ø£Ø³Ø¨Ø§Ø¨ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ© ØŒ Ø±ÙØ¶ Ù‚Ø¨ÙˆÙ„ Ù‚ÙˆØ³ ÙÙŠ Ø£Ø­Ø¯ Ø§Ù„Ø´Ø±ÙˆØ· ØŒ Ù„Ø°Ù„Ùƒ Ø³Ù†Ù‚ÙˆÙ… Ø¨ØªÙˆØ³ÙŠØ¹Ù‡ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø¹ÙƒØ³ Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©: <br><br><img src="https://habrastorage.org/webt/si/2-/so/si2-soeeicodmjyjpdo0f4u0sma.png"><br><br>  Ù†Ø­Ù† Ø§Ù„Ø¢Ù† ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ù…ÙˆØ§Ø¬Ù‡Ø© Ù…Ø¹ grep ØŒ ÙˆØ§Ù„ØªÙŠ ØªØ®ØªÙ„Ù ÙÙŠ ØªØ³Ù„ÙŠÙ… Ù…Ø´ØºÙˆÙ„ boxbox Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù† Ø§Ù„Ù…Ø¹ØªØ§Ø¯ (ÙˆØ¨Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© ØŒ Ø£Ø¨Ø·Ø£ ÙƒØ«ÙŠØ±Ù‹Ø§ ØŒ Ø¶Ø¹ ÙÙŠ Ø§Ø¹ØªØ¨Ø§Ø±Ùƒ ÙÙŠ Ù…Ø´Ø§Ø±ÙŠØ¹Ùƒ).  Ø£ÙˆÙ„Ø§Ù‹ ØŒ Ø¥Ù†Ù‡ Ù„Ø§ ÙŠÙÙ‡Ù… Ø§Ù„ØªØ¹Ø¨ÙŠØ± <code>{,15}</code> ØŒ ÙˆØ³ÙŠØªØ¹ÙŠÙ† Ø¹Ù„ÙŠÙ‡ ØªØ­Ø¯ÙŠØ¯ <code>{0,15}</code> Ø¨Ø´ÙƒÙ„ ØµØ±ÙŠØ­.  Ø«Ø§Ù†ÙŠÙ‹Ø§ ØŒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø¹Ù„Ø§Ù…Ø© <code>-P</code> (Ù†Ù…Ø· perl) ØŒ ÙˆÙ„ÙƒÙ†Ù‡ ÙŠÙ‡Ø¶Ù… Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø¨Ù‡Ø¯ÙˆØ¡ Ø¹Ù†Ø¯ ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù…ÙˆØ³Ø¹ (-E). <br><br>  ÙÙŠ ØªØ¨Ø¹ÙŠØ§ØªÙ†Ø§ ØŒ Ù„Ø§ ÙŠØ²Ø§Ù„ Ù‡Ù†Ø§Ùƒ ØªØ¬Ø¹ÙŠØ¯ ÙÙ‚Ø· (Ù„ÙŠØ³ Ù‡Ù†Ø§Ùƒ Ø¬Ø¯ÙˆÙ‰ Ù…Ù† Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ Ø¨Ù€ wget Ù…Ù† busybox) Ùˆ libcrypto (Ù‡Ø°Ø§ ÙŠÙƒÙÙŠ ØŒ opensl ØºÙŠØ± Ù…Ø·Ù„ÙˆØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªØ¬Ù…ÙŠØ¹). <br><br>  Ø¸Ù‡Ø± <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø¨Ù†Ø§Ø¡</a> Ø¬Ù…ÙŠÙ„ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Ø­Ù„</a> ÙÙŠ Docker Ù‚Ø¨Ù„ Ø¨Ø¶Ø¹ Ø³Ù†ÙˆØ§Øª ØŒ ÙˆÙ‡Ùˆ Ù…Ø«Ø§Ù„ÙŠ ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Go Ø£Ùˆ ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ù‚Ù Ø§Ù„ØªÙŠ ÙŠÙƒÙˆÙ† ÙÙŠÙ‡Ø§ Ø§Ù„ØªØ¬Ù…ÙŠØ¹ Ù…Ø¹Ù‚Ø¯Ù‹Ø§ ÙˆÙŠØ³Ù‡Ù„ Ù†Ù‚Ù„ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù…Ù† ØµÙˆØ±Ø© Ø¥Ù„Ù‰ ØµÙˆØ±Ø© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ.  Ø³ÙˆÙ Ù†Ø³ØªØ®Ø¯Ù…Ù‡ Ù„Ø²Ø±Ø¹ Ø¨ÙˆÙ†Ø³Ø§ÙŠ Ù„Ø¯ÙŠÙ†Ø§ ØŒ ÙˆÙ‡Ø°Ø§ Ø³ÙŠÙˆÙØ± Ø§Ù„Ù‚Ù„ÙŠÙ„. <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs 1c">FROM alpine:<span class="hljs-number"><span class="hljs-number">3.6</span></span> <span class="hljs-meta"><span class="hljs-meta">#       </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  ( ) RUN apk add --no-cache --virtual .build-deps \ # ... ,    &amp;&amp; make -j$(getconf _NPROCESSORS_ONLN) FROM alpine:3.6 #   ,  ,   WORKDIR /mtproxy COPY --from=0 /mtproxy/sources/objs/bin/mtproto-proxy . #    </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">      #      </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   </span></span></code> </pre><br>  ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨ÙˆÙ†Ø³Ø§ÙŠ Ø¨ÙˆÙ†Ø³Ø§ÙŠ - ØªØ®Ù„Øµ Ù…Ù† ØªØ«Ø¨ÙŠØª libcrypto.  Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ù†Ø§Ø¡ ØŒ ÙƒÙ†Ø§ Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ Ù…Ù„ÙØ§Øª Ø§Ù„Ø±Ø£Ø³ Ù…Ù† Ø­Ø²Ù…Ø© openssl-dev ØŒ ÙˆØ§Ù„ØªÙŠ Ø³ØªØ³Ø­Ø¨ ÙÙŠ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª libcrypto ÙˆØ³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡ Ù…Ù„ÙÙ†Ø§ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ Ù†Ø­Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… libcrypto.so.1.0.0.  ÙˆÙ„ÙƒÙ† Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„ØªØ¨Ø¹ÙŠØ© Ø§Ù„ÙˆØ­ÙŠØ¯Ø© ØŒ Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„Ùƒ ØŒ ÙŠØªÙ… ØªØ«Ø¨ÙŠØªÙ‡ Ù…Ø³Ø¨Ù‚Ù‹Ø§ ÙÙŠ Alpine (ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø± 3.6 Ù‡Ùˆ libcrypto.so.41 ØŒ 3.7 - libcrypto.so.42 ØŒ Ø¥Ù†Ù‡ ÙÙŠ / lib /).  Ù„Ù‚Ø¯ ÙˆØ¨Ø®ÙˆÙ†ÙŠ Ø§Ù„Ø¢Ù† ØŒ Ù‡Ø°Ù‡ Ù„ÙŠØ³Øª Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ù…ÙˆØ«ÙˆÙ‚ÙŠØ© ØŒ Ù„ÙƒÙ†Ù‡Ø§ ØªØ³ØªØ­Ù‚ Ø°Ù„Ùƒ ÙˆÙ…Ø§ Ø²Ù„Ù†Ø§ Ù†Ø¶ÙŠÙ Ø±Ø§Ø¨Ø·Ù‹Ø§ Ø±Ù…Ø²ÙŠÙ‹Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ Ø·Ø±ÙŠÙ‚Ø© Ø£ÙØ¶Ù„ ØŒ Ø³Ø£Ù‚Ø¨Ù„ Ø¨ÙƒÙ„ Ø³Ø±ÙˆØ± Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©). <br><br>  Ø§Ù„Ù„Ù…Ø³Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØ§Ù„Ù†ØªÙŠØ¬Ø©: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù…Ø±ÙƒØ² Ø¹Ø§Ù…Ù„ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ø¬ÙŠØ«Ø¨</a> <br><br>  Ø³Ø£ÙƒÙˆÙ† Ù…Ù…ØªÙ†Ø§ Ù„Ø£ÙŠØ© Ù†ØµÙŠØ­Ø© ÙˆÙ…Ø³Ø§Ù‡Ù…Ø§Øª. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar413881/">https://habr.com/ru/post/ar413881/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar413871/index.html">Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª ÙˆØ§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª Ø§Ù„Ø±Ø´ÙŠÙ‚Ø© Ù„Ù„ÙØ±Ù‚ Ø§Ù„ÙÙ†ÙŠØ© ÙˆØºÙŠØ± Ø§Ù„ÙÙ†ÙŠØ©</a></li>
<li><a href="../ar413873/index.html">Ø³Ø§Ø¹Ø¯Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ±Ø¯Ø© Ù…Ù† Ù…Ù‡Ù…Ø© Ø£Ø¨ÙˆÙ„Ùˆ ÙÙŠ Ø­Ù„ Ù„ØºØ² "ØªØ³Ø®ÙŠÙ† Ø§Ù„Ù‚Ù…Ø±"</a></li>
<li><a href="../ar413875/index.html">Ø³ØªÙ‚ÙˆÙ… SpaceX Ø¨ØªØ·ÙˆÙŠØ± "Ù…Ø±ÙƒØ² ÙØ¶Ø§Ø¡ Ù„Ù„Ù…Ø³ØªÙ‚Ø¨Ù„"</a></li>
<li><a href="../ar413877/index.html">Ø§Ù†Øª ÙÙ‚Ø· ØªØ¹Ø·ÙŠ Ø³Ø¨Ø¨Ø§ Ø£Ùˆ ØªØ­Øª Ø£ÙŠ Ø°Ø±ÙŠØ¹Ø© ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠØ³Ø±Ù‚ÙˆÙƒ Ø§Ù„Ø¢Ù†ØŸ</a></li>
<li><a href="../ar413879/index.html">ØªØ¹Ù„Ù… Ø§Ù„Ø­ØµØ§Ù† (Ø§Ù„Ø¬Ø²Ø¡ 4)</a></li>
<li><a href="../ar413885/index.html">ØªÙ‚ÙŠÙŠÙ… Cavium ThunderX2: Ø­Ù„Ù… Ø®Ø§Ø¯Ù… Ø§Ù„Ø°Ø±Ø§Ø¹ ÙŠØµØ¨Ø­ Ø­Ù‚ÙŠÙ‚Ø© (Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø£ÙˆÙ„ ØŒ Ù…Ù‚Ø¯Ù…Ø©)</a></li>
<li><a href="../ar413889/index.html">Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù…ÙÙ‚ÙˆØ¯ ØŒ Ø£Ùˆ Ù„Ù…Ø§Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø£ÙƒØ«Ø± Ù…Ù† Ù†ØµÙ Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø¦Ø­Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</a></li>
<li><a href="../ar413891/index.html">ÙƒÙŠÙÙŠØ© ØªÙ†Ø¸ÙŠÙ… Ø³Ø¬Ù„ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…ÙˆØ­Ø¯ Ù„Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© - Ø³Ø¬Ù„ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„Ù…ÙˆØ­Ø¯ Ù„Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©</a></li>
<li><a href="../ar413893/index.html">Ø­ÙØ±Ø© ÙƒØ£Ø¯Ø§Ø© Ø£Ù…Ø§Ù† - 2 ØŒ Ø£Ùˆ ÙƒÙŠÙÙŠØ© Ø§Ù„ØªÙ‚Ø§Ø· APT "Ø§Ù„Ø·Ø¹Ù… Ø§Ù„Ø­ÙŠ"</a></li>
<li><a href="../ar413895/index.html">Ø§Ø®ØªØ±Ø§Ù‚ Ø³ÙˆØ§Ø± Ù„ÙŠØ§Ù‚Ø© Ø±Ø®ÙŠØµØ©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>