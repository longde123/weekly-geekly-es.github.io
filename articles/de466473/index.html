<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíí üßÄ üòâ Wie wir ein IoT-System zur Steuerung des Solarenergieverbrauchs geschaffen haben üëµüèæ üíáüèΩ ü•¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn Sie keine Ahnung von der Entwicklungsarchitektur und dem mechanischen / elektrischen Design hinter IoT-L√∂sungen haben, k√∂nnten diese als "scheinb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir ein IoT-System zur Steuerung des Solarenergieverbrauchs geschaffen haben</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466473/"><p>  Wenn Sie keine Ahnung von der Entwicklungsarchitektur und dem mechanischen / elektrischen Design hinter IoT-L√∂sungen haben, k√∂nnten diese als "scheinbar √ºbernat√ºrliche Eigenschaften oder Kr√§fte" erscheinen.  Wenn Sie beispielsweise Menschen des 18. Jahrhunderts ein funktionierendes IoT-System zeigen, denken sie, dass es magisch ist. Dieser Artikel zerst√∂rt einen solchen Mythos.  Oder, um es technisch auszudr√ºcken, Hinweise zur Feinabstimmung der IoT-Entwicklung f√ºr ein gro√üartiges Projekt im Bereich Solarenergiemanagement. <a name="habracut"></a></p><br><p>  <strong>Spoiler</strong> : Keine Zauber, nur analytische Ideen f√ºr die Entwicklung eines schnellen und einfachen Service. </p><br><p>  <strong>Haftungsausschluss</strong> : Wir bieten keine Komplettl√∂sung an (es gibt sie einfach nicht). Teilen Sie einfach die Dinge mit, die wir ernst nehmen.  Diese Punkte k√∂nnen Killer-Features sein, w√§hrend ihre Vernachl√§ssigung sie im Gegenteil t√∂ten kann.  Wortspiel beabsichtigt;) </p><br><h2>  Einf√ºhrung eines IoT-Systems zur Visualisierung und Optimierung des Solarenergieverbrauchs </h2><br><p>  Wir hatten das Vergn√ºgen, an einem Projekt zur Verbesserung des selbst erzeugten Energieverbrauchs zu arbeiten.  Der Kern liegt in der Visualisierung und Optimierung des Einsatzes von Photovoltaik (PV) -Systemen sowohl f√ºr Installateure als auch f√ºr Endkunden.  Wenn <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Solar Manager</a> als zentraler Hub f√ºr die Verteilung der erzeugten Sonnenenergie auf Haushaltsger√§te installiert ist, verbrauchen Sie maximal selbst erzeugte Energie. </p><br><p><img src="https://habrastorage.org/webt/hs/a8/er/hsa8erddmbqfskqctn9bp4vpcps.png"></p><br><p>  Wir haben bereits √ºber die gesch√§ftliche Perspektive der Nutzung von Solarenergie geschrieben und wollen uns nun mit technischen Herausforderungen und Hinweisen auf die Entwicklung befassen. </p><br><h2>  Absolute Voraussetzung </h2><br><p>  Bevor wir anfangen, lassen Sie uns klar werden.  Es gibt eine Sache, die f√ºr jedes einzelne Projekt gilt, unabh√§ngig davon, ob es sich um ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IoT-System</a> oder eine einfache Landung handelt. </p><br><p>  Beginnen Sie niemals mit der Implementierung, bevor Sie nicht vollst√§ndig verstanden haben, was Sie erreichen m√∂chten (und alle Beteiligten tun dies). </p><br><p>  Es ist so etwas nicht offensichtlich.  Nein, es gibt keine Telepathen und niemand liest deine Gedanken.  Kl√§ren Sie, diskutieren Sie, stellen Sie sicher, dass Sie auf derselben Seite sind. </p><br><p><img src="https://habrastorage.org/webt/-0/fg/cq/-0fgcqs7t8r5jqfhgani-esuyg8.png"></p><br><p>  Nat√ºrlich, wenn Sie nicht doppelt so viel Zeit und Geld ausgeben m√∂chten. </p><br><h2>  Die Mission </h2><br><p>  Also, was haben wir als Input?  Flexible Konnektivit√§t und zentralisierte Remote-Firmware, 5 Benutzerrollen mit unterschiedlichen UX- und Berechtigungss√§tzen, Konvertieren und Analysieren von Daten, eine gro√üe Anzahl von Anforderungen und als Sahneh√§ubchen das Zeichnen vieler Zeitwertdaten in Diagrammen. </p><br><h2>  Herausforderungen und Besonderheiten der Implementierung eines IoT-Systems f√ºr den Energieverbrauch </h2><br><p>  Bei der Entwicklung sind drei Dinge am wichtigsten: Stabilit√§t, Relevanz und Geschwindigkeit.  Besonders wenn das Projekt eine monolithische Architektur erfordert.  Aus diesem Grund sollten die Gesamtlogik, alle Benutzerabl√§ufe und das Datenbankdesign so einfach und optimiert wie m√∂glich sein.  Seien wir ehrlich, 2019 m√∂chte niemand 40 Sekunden warten, weil "Ihre Daten verarbeitet werden".  Hier ist die Frage- / Antwortliste f√ºr IoT-Plattformen, auf die wir uns beziehen: </p><br><ul><li>  Passt die Architektur zu den Anforderungen und Spezifikationen? </li><li>  Wie werden Sie gesammelte Daten konvertieren, verarbeiten und analysieren? </li><li>  Was sind die optimalsten Beziehungen zwischen Eltern-Kind-MVC / MVP-Schichten?  K√∂nnen sie dann skaliert werden, ohne unterbrochen zu werden? </li><li>  Gibt es Module, die √§hnliche / angrenzende Funktionen ausf√ºhren?  K√∂nnen sie zu einem einzigen Mehrzweckmodul zusammengefasst werden?  Wird dies die Komplexit√§t einf√ºhren oder verringern? </li><li>  Ist die Kommunikation zwischen den Stufen optimal? </li><li>  Wie werden Daten zwischengespeichert, bevor sie visualisiert werden? </li><li>  Ist die Benutzererfahrung (User Experience, UX) f√ºr jede Benutzerrolle einfach und selbstverst√§ndlich? </li></ul><br><p>  Teilen Sie, was verteilt werden muss, und vereinen Sie, was √§hnlich ist.  Verwechseln Sie dies jedoch nicht mit der Erstellung gro√üer Klassen, die mehrere Aufgaben l√∂sen (sollten).  Erstellen Sie stattdessen kleine f√ºr eine einzelne Aufgabe.  Erstellen Sie f√ºr komplexe Aufgaben mehrere Klassen, die jeweils eine Unteraufgabe l√∂sen, und eine andere, die diese verwendet. </p><br><ul><li><h3 id="architect-iot-solutions-smart">  Architekt IoT-L√∂sungen intelligent </h3><br></li></ul><br><p>  Smart bezieht sich hier auf die Erstellung einer schnellen, skalierbaren, optimierten und nachhaltigen Projektarchitektur, die den Projektanforderungen entspricht.  Die grundlegenden Fragen, die sich an dieser Stelle stellten: </p><br><ol><li>  Was ist der einfachste und direkteste Architekturfluss? </li><li>  Wie kann die Benutzererfahrung f√ºr jede Rolle am einfachsten gestaltet werden? </li><li>  K√∂nnen wir die urspr√ºngliche Architektur f√ºr eine bessere Skalierbarkeit und Leistungsoptimierung √ºberarbeiten? </li></ol><br><p>  Bei Web-Apps umfasst dies das Design des hierarchischen Model View Controllers (HMVC).  Um beispielsweise Ressourcen besser zuzuweisen und eine schnellere Reaktion zu erzielen, m√ºssen Sie die Verbindungen zwischen API, Back-End, Front-End und Edge durcharbeiten.  Konfigurieren Sie die Cloud-lokale Kommunikation, speichern und √ºbertragen Sie Daten, damit Sie schnell die richtige Antwort erhalten (Hallo, Captain Obvious!). </p><br><p><img src="https://habrastorage.org/webt/w4/6k/ct/w46kctha0qwbzkf1drtq6thgdcy.png"></p><br><ul><li><h3 id="design-database-with-performance-in-mind">  Entwerfen Sie die Datenbank unter Ber√ºcksichtigung der Leistung </h3><br></li></ul><br><p>  Untersch√§tzen Sie niemals die Wichtigkeit, das Datenbankdesign (DB) zu durchdenken.  Dies gilt auch f√ºr die Beziehungen zwischen Sammlungen in der Datenbank.  Sie haben viele Entit√§ten, die auf verschiedene Weise interagieren. Daher ist es wichtig, alle zugeh√∂rigen logischen Verbindungen an einem Ort zu halten. </p><br><p>  Wenn Sie also eine anf√§ngliche Struktur zur Hand haben, bestimmen Sie: </p><br><ol><li>  Ist dies (eins zu eins, eins zu viele, viele zu viele) der optimale Beziehungstyp f√ºr diese Sammlung?  L√∂st es die Aufgabe am effizientesten? </li><li>  Wie gut entspricht es der Aufgabe auf einem bestimmten Bildschirm? </li><li>  Passt es gut in die allgemeine Architektur des Projekts? </li></ol><br><p>  Optimieren Sie die Logik hinter jedem Modul und stellen Sie sicher, dass die allgemeine Architektur erhalten bleibt.  Denken Sie √ºber den Berechtigungssatz nach.  Dann √ºberlegen Sie noch einmal und optimieren Sie.  Denken Sie daran, die Verbindungstypen so festzulegen, dass Sie f√ºr jede Aufgabe alle erforderlichen Informationen an einem Ort haben und die Anforderungen richtig bearbeiten. </p><br><p>  Stellen Sie sich zum Beispiel vor, Ihre Datenbank ist ein Fast-Food-Restaurant.  Sie haben viele Kunden, Sie m√ºssen schnell und genau das servieren, was sie bestellt haben.  Oder Ihr Gesch√§ft ist erledigt.  Das ist genau das gleiche f√ºr DBs.  Ja, es gibt Dutzende von Sammlungen, und Sie ben√∂tigen Daten von 7 bis 8 gleichzeitig.  Entwerfen Sie die Beziehungen so, dass sie logisch verbunden sind, und geben Sie die Antwort schnell zur√ºck. </p><br><p>  Das IoT-System ist wie ein Restaurant.  Lassen Sie die Kunden nicht warten. </p><br><ul><li><h3 id="how-to-plot-gazillion-of-data">  Wie man [Unmengen] Daten zeichnet </h3><br></li></ul><br><p>  Erinnern Sie sich an die Zeiten, als Websites f√ºr ein paar Minuten geladen wurden?  Wir haben Apps gesehen, bei denen Dashboards noch langsamer geladen werden.  Und das ist ein Nein-Nein. </p><br><p>  Diagramme sind eine neue Normalit√§t.  Datenvisualisierung wird h√§ufig in SCADA, IoT und allen analytischen Projekten und aus einem bestimmten Grund verwendet.  Wenn Sie einen Anstieg des Energieverbrauchs, Markttrends, CO2 in der Luft und andere Dinge sehen, die Sie messen k√∂nnen (normalerweise im Laufe der Zeit), entsteht ein lebendiger Eindruck.  Sie sehen, Sie verstehen, Sie handeln.  Mit der Textdarstellung massiver Datenfelder wird Ihr Auge in k√ºrzester Zeit unscharf. </p><br><p>  Die Herausforderung liegt also darin, Diagramme mit einer gro√üen Anzahl von Wert-Zeit-Paaren schnell zu zeichnen.  Bevor Benutzer die Daten in der Tabelle sehen, muss das System alle Punkte f√ºr die Darstellung ermitteln.  Wir hatten ziemlich viel Brainstorming, um festzustellen, wie die Daten zwischengespeichert werden, sodass das Plotten eines Diagramms mit mehr als 50.000 Daten-Wert-Paaren weniger als 2 Sekunden dauert. </p><br><p><img src="https://habrastorage.org/webt/an/fb/xx/anfbxx4z6vhsqm4c3wzbi2pxpfu.png"></p><br><h2>  Von Grund auf zur Produktion und dar√ºber hinaus </h2><br><p>  Neben der Web-App entwickeln wir auch iOS- und Android-Apps f√ºr die Installation, √úberwachung und den Zugriff von unterwegs. </p><br><p>  Bei der Arbeit an IoT-Systemen ist es wichtig, die Einfachheit und Skalierbarkeit beizubehalten.  Die typische 5-stufige IoT-Architektur sollte gut durchdacht sein, um keine redundante Komplexit√§t zu verursachen. </p><br><p>  W√§hrend sich jedes Produkt weiterentwickelt, m√ºssen Sie √ºberlegen, wie Sie neue Funktionen √ºberlagern k√∂nnen, ohne die vorhandenen Funktionen zu unterbrechen.  Und vergessen Sie nat√ºrlich nie die Unit-Tests. </p><br><h2>  Weniger als ein Jahr nach dem Start </h2><br><p>  Seit seiner Einf√ºhrung im Oktober 2018 wird der Solar Manager von den f√ºhrenden Photovoltaik-Gro√ü- und Installationsunternehmen in der Schweiz √ºbernommen und eingesetzt. </p><br><p>  Durch die √úberpr√ºfung und Optimierung der Energieverbrauchsgewohnheiten holen die Verbraucher das Beste aus ihren PVs heraus und sparen so Kosten.  Auf globaler Ebene und laut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Deloitte</a> macht eine solche L√∂sung Solarenergie gegen√ºber herk√∂mmlichen Stromquellen wettbewerbsf√§hig.  Dies wiederum macht es f√ºr andere private Verbraucher und Unternehmen attraktiv.  Und schlie√ülich, klingt es nicht als Grundlage einer intelligenten Stadt, auf die wir alle warten? </p><br><h2>  Hinter dem Erfolg jedes IoT-Projekts </h2><br><p>  Es gibt keinen ‚Äûultimativen Leitfaden‚Äú f√ºr die Erstellung eines erfolgreichen Produkts.  Erstens ist jedes Projekt einzigartig und bringt seine eigenen Herausforderungen mit sich.  Zweitens, selbst wenn Sie eine Reihe von Projekten in der Region durchgef√ºhrt haben, entwickeln sich die Anforderungen an Technologie und Markt.  Die Erfahrung, die Sie vor zwei oder sogar einem halben Jahr gemacht haben, ist jetzt m√∂glicherweise nicht mehr relevant. </p><br><p>  Sie k√∂nnen auch in unserem GitHub nach vielen kostenlosen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Open-Source-Instrumenten f√ºr die IoT-Entwicklung suchen.</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466473/">https://habr.com/ru/post/de466473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466459/index.html">Postgresql Parallel Integration Tests in GO-Anwendung</a></li>
<li><a href="../de466461/index.html">Zabbix Summit 2019: Was erwartet Sie dieses Jahr?</a></li>
<li><a href="../de466463/index.html">Wie wir einen Prototyp f√ºr eine Stop-Repair-Anwendung erstellt haben</a></li>
<li><a href="../de466465/index.html">Summ3r 0f h4ck 2019: Forschungsergebnisse</a></li>
<li><a href="../de466467/index.html">Unterst√ºtzung f√ºr anonyme JWT-Token in IdentityServer4 mithilfe von AnonymousIdentity</a></li>
<li><a href="../de466475/index.html">So verwandeln Sie Traffic mithilfe von Site-Benutzerdaten in Verk√§ufe</a></li>
<li><a href="../de466477/index.html">PVS-Studio-Verwendung beim √úberpr√ºfen von Unreal Engine-Projekten unter Windows</a></li>
<li><a href="../de466479/index.html">Verwenden von PVS-Studio beim √úberpr√ºfen von Unreal Engine-Projekten unter dem Windows-Betriebssystem</a></li>
<li><a href="../de466485/index.html">Elektroautos aus den 90ern. Teil 1. Br√ºder Citroen und Peugeot</a></li>
<li><a href="../de466489/index.html">Koreanische Ingenieure schlagen vor, Hololens als Alternative zu Office-Partitionen zu verwenden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>