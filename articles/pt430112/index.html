<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôèüèæ üë∂üèª üìò Como ensinamos um carro a conversar com milh√µes de pessoas ‚ùé ‚õîÔ∏è üöö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O marketing no X5 √© um monte de dados. Pyaterochka, por exemplo, envia mais de 30 milh√µes de comunica√ß√µes todos os meses, e esse n√∫mero est√° crescendo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como ensinamos um carro a conversar com milh√µes de pessoas</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/430112/">  O marketing no X5 √© um monte de dados.  Pyaterochka, por exemplo, envia mais de 30 milh√µes de comunica√ß√µes todos os meses, e esse n√∫mero est√° crescendo constantemente.  V√°rias ofertas podem ser enviadas para um cliente de cada vez, e √© importante escolher quais delas corretamente.  As a√ß√µes da loja devem ser interessantes para o cliente e economicamente justificadas para o varejista.  Nesta postagem, mostraremos como come√ßamos a determinar ofertas realmente populares usando o aprendizado de m√°quina e a eliminar o efeito de spam. <br><br><img src="https://habrastorage.org/webt/j4/h3/pq/j4h3pqwpk3fbr80vohjqfuxh1ce.jpeg"><br><a name="habracut"></a><br>  Para melhorar a comunica√ß√£o com os clientes de Pyaterochka, Perekrestok e Karusel, uma grande equipe trabalha no X5 Retail Group. <br><br>  Agora, a manuten√ß√£o desse sistema requer o trabalho de dezenas de pessoas e sistemas: ac√∫mulo preciso de dados no Oracle, an√°lise de dados e cria√ß√£o de campanhas no SAS, configura√ß√£o de regras de b√¥nus no Comarch.  Todos os dias, os analistas tomam decis√µes sobre como escolher a oferta mais relevante no momento, escolhendo entre uma enorme variedade de op√ß√µes, com base em dados hist√≥ricos dos resultados das a√ß√µes.  Tamb√©m estamos trabalhando para garantir que as comunica√ß√µes sejam endere√ßadas e n√£o tenham nada a ver com spam. <br><br>  Pensamos em como traduzir o processo de sele√ß√£o de uma oferta relevante para o cliente no modo autom√°tico usando o aprendizado de m√°quina, para que: <br><br><ul><li>  informa√ß√µes acumuladas sobre clientes e campanhas anteriores </li><li>  o pr√≥prio sistema aprendeu com novos dados </li><li>  o planejamento foi calculado mais de um passo adiante </li></ul><br>  Ent√£o chegamos √† realiza√ß√£o de sistemas auto-organizados e a era do desenvolvimento do sistema de Aprendizagem por Refor√ßo no X5 come√ßou. <br><br>  <b>Um pouco sobre o aprendizado por refor√ßo</b> <br>  * RL (Aprendizagem por Refor√ßo) √© aprendizagem refor√ßada.  Uma das maneiras de aprendizado de m√°quina, durante as quais o sistema de teste (agente) √© treinado, interagindo com um determinado ambiente. <br><br>  A teoria da aprendizagem refor√ßada opera em dois conceitos: a√ß√£o e estado.  Com base no estado do objeto, o algoritmo decide sobre a escolha das a√ß√µes.  Como resultado da a√ß√£o perfeita, o objeto cai em um novo estado e assim por diante. <br><br><img src="https://habrastorage.org/webt/ad/wc/ce/adwcceygr-9khoxjow8pbuf0urg.png"><br><br>  Supondo que: <br><br><ul><li>  agente - cliente </li><li>  a√ß√£o - comunica√ß√£o com o cliente </li><li>  state - state (conjunto de m√©tricas) do cliente </li><li>  fun√ß√£o objetivo - comportamento adicional do cliente (por exemplo, aumentar a receita ou responder a uma campanha de destino) </li></ul><br>  ... ent√£o o sistema descrito deve resolver a meta estabelecida e os pr√≥prios agentes (clientes) escolher√£o suas a√ß√µes (recompensas e campanhas) por seu conforto e rela√ß√µes significativas com a loja. <br><br>  <b>O que a mente mundial oferece √† RL</b> <br>  Primeiro, procuramos exemplos de solu√ß√µes para esses problemas, descritos em fontes abertas. <br>  Encontraram alguns exemplos interessantes: <br><br>  <i>Sobre ferramentas:</i> <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.quora.com/What-frameworks-are-available-for-reinforcement-learning</a> </li></ul><br>  <i>Sobre a aplica√ß√£o da RL em tarefas de marketing semelhantes:</i> <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www.researchgate.net/publication/221653839_Cross_channel_optimized_marketing_by_reinforcement_learning</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cseweb.ucsd.edu/~elkan/254spring02/sequential.pdf</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">www0.cs.ucl.ac.uk/staff/d.silver/web/Publications_files/concurrent-rl.pdf</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">arxiv.org/pdf/1504.01840.pdf</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">habrahabr.ru/company/ods/blog/325416</a> </li></ul><br>  Mas todos eles n√£o se encaixavam no nosso caso ou n√£o inspiravam confian√ßa. <br><br>  <b>Etapa 1. Solu√ß√µes de prot√≥tipo</b> <br><br>  Portanto, decidimos desenvolver nossa abordagem. <br><br>  Para minimizar os riscos e n√£o entrar em uma situa√ß√£o em que o sistema foi desenvolvido por um longo tempo sem uso real e, em seguida, n√£o decolou, decidimos come√ßar com um prot√≥tipo que n√£o implementaria o m√©todo RL em sua forma pura, mas teve um resultado comercial compreens√≠vel. <br><br>  A base das implementa√ß√µes b√°sicas do aprendizado refor√ßado √© a matriz estado-a√ß√£o-resultado, que √© atualizada toda vez que novas informa√ß√µes s√£o recebidas do ambiente. <br><br>  Para reduzir o espa√ßo de estado, como parte do prot√≥tipo, foi feita uma transi√ß√£o do cliente para o segmento, onde todos os clientes foram divididos em 29 grupos com base nos par√¢metros: <br><br><ul><li>  verifica√ß√£o m√©dia </li><li>  frequ√™ncia de compras </li><li>  estabilidade do cesto </li><li>  enchimento de cestas </li><li>  lealdade do cliente (a propor√ß√£o do n√∫mero de semanas com compras pelo n√∫mero de semanas durante as quais uma pessoa participou do programa de lealdade da loja) </li></ul><br>  Assim, a tarefa foi reduzida ao aprendizado de uma matriz da seguinte forma: <br><br><img src="https://habrastorage.org/webt/xg/od/fy/xgodfykbktkdomfwiethcvsxn20.png"><br><br>  No cruzamento, a matriz deve ser preenchida com o valor da fun√ß√£o de destino. <br><br>  Na primeira vers√£o do algoritmo, a resposta espec√≠fica √† campanha foi selecionada como uma fun√ß√£o do alvo. <br><br>  O primeiro prot√≥tipo que desenvolvemos em algumas semanas em SQL (Oracle) e Python.  Como t√≠nhamos dados hist√≥ricos de comunica√ß√µes, pudemos preencher parcialmente a matriz com o peso estimado dos pares "oferta a oferta".  Infelizmente, para alguns pares, n√£o h√° dados suficientes.  Isso n√£o nos impediu: almejamos testes de combate. <br><br>  O Departamento de Marketing de Pyaterochka nos confiou dados de dois milh√µes de clientes para 10 semanas de experimentos.  No momento, esses clientes estavam desconectados de todas as outras comunica√ß√µes.  Identificamos metade dos clientes no grupo de controle, nos demais grupos testamos o prot√≥tipo. <br><br>  A teoria da RL nos disse que n√£o devemos apenas escolher a melhor a√ß√£o, mas tamb√©m continuar aprendendo.  Portanto, toda vez que testamos uma campanha aleat√≥ria em uma pequena porcentagem de clientes.  Dessa forma, os demais clientes receberam a melhor oferta (a melhor campanha).  Assim, obtivemos nossa implementa√ß√£o do m√©todo Œµ - ganancioso de escolher a oferta mais ideal. <br><br><img src="https://habrastorage.org/webt/uj/56/al/uj56aldamk8c6-xyunn7dvyndw8.png"><br><br>  Ap√≥s tr√™s lan√ßamentos do sistema, ficou claro que a escolha da melhor campanha de resposta n√£o leva a um aumento na RTO espec√≠fica por campanha (esse indicador √© a principal medida da efic√°cia de qualquer campanha direcionada em qualquer organiza√ß√£o). <br><br>  Ao alterar a fun√ß√£o da meta (e, portanto, o algoritmo para escolher a melhor campanha) diretamente para a RTO incremental, aprendemos que as campanhas mais bem-sucedidas desse ponto de vista n√£o s√£o lucrativas em termos de ROI. <br><br>  Ent√£o, para o oitavo lan√ßamento do sistema, alteramos a fun√ß√£o da meta pela terceira vez, agora no ROI. <br><br>  <b>Conclus√µes do desenvolvimento do prot√≥tipo</b> <br><br>  Abaixo est√£o os gr√°ficos de desempenho dos principais indicadores: <br><br><ul><li>  Resposta l√≠quida do cliente √† comunica√ß√£o </li><li>  RTO incremental </li><li>  Marginalidade </li></ul><br><img src="https://habrastorage.org/webt/3z/xi/ln/3zxilngdig1is0jilssemdqlof0.png"><br><br><img src="https://habrastorage.org/webt/q0/zq/t7/q0zqt7qlsvrfvadiva3wy6ff3ui.png"><br><br><img src="https://habrastorage.org/webt/b-/9a/ga/b-9aga-qsikuynb_u6r9hramzu8.png"><br><br>  Voc√™ pode notar que at√© o √∫ltimo lan√ßamento, a efici√™ncia do prot√≥tipo (em RTO incremental) excedeu o resultado m√©dio das campanhas lan√ßadas por analistas e, se considerarmos apenas os ‚Äúmelhores‚Äù segmentos e ofertas, a diferen√ßa √© mais que o dobro. <br><br>  Para o futuro, tiramos as seguintes conclus√µes para n√≥s mesmos: <br><br><ol><li>  Conversar com uma empresa de KPI com anteced√™ncia pode n√£o ser suficiente.  Os KPIs de um cliente comercial tamb√©m est√£o mudando.  (Ent√£o passamos da RTO para a marginalidade). </li><li>  Metas indiretas (no nosso caso, a resposta) s√£o boas, mas mais cedo ou mais tarde voc√™ ser√° solicitado a levar em considera√ß√£o os indicadores diretos de desempenho. </li><li>  Os melhores pares foram encontrados na campanha do segmento, que mostram consistentemente bons resultados.  Essas campanhas foram lan√ßadas em toda a base e geram receita regularmente. </li></ol><br>  Total: <br><br><ol><li>  circuito funciona </li><li>  vale a pena considerar os custos do cliente (a vit√≥ria no IRTI n√£o garantiu o crescimento do ROI) </li><li>  Eu gostaria de levar em considera√ß√£o o hist√≥rico de respostas </li><li>  agora n√£o √© t√£o assustador ir ao n√≠vel do cliente </li></ol><br>  <b>Etapa 2. Terminamos o sistema</b> <br><br>  Inspirados nos resultados da primeira etapa, decidimos finalizar o sistema e fazer as seguintes melhorias funcionais: <br><br>  1) passe da escolha de uma oferta para um segmento de clientes √† escolha de uma oferta individualmente para um cliente, descrevendo-a com um conjunto de m√©tricas: <br><br><ul><li>  Sinalizador de resposta da √∫ltima oferta </li><li>  A propor√ß√£o entre a tomada de for√ßa do cliente por 2 semanas e a tomada de for√ßa por 6 semanas </li><li>  A propor√ß√£o do n√∫mero de dias entre a √∫ltima compra e a dist√¢ncia m√©dia entre transa√ß√µes </li><li>  N√∫mero de semanas desde a √∫ltima comunica√ß√£o </li><li>  A propor√ß√£o entre a quantidade de b√¥nus usada por m√™s e a quantidade de RTO por m√™s </li><li>  Atingir a meta nas duas semanas anteriores </li><li>  Sinalizadores de resposta a ofertas com diferentes tipos de recompensas </li><li>  escolha n√£o 1, mas uma cadeia de duas campanhas subsequentes </li></ul><br>  2) esclarecer a fun√ß√£o da meta, acrescentando a ela, al√©m da resposta, o crescimento da TDF :). <br><br>  Agora, escolhendo uma oferta individual para o cliente, focamos no valor esperado da fun√ß√£o objetivo Q1: <br><br><ul><li>  Q = 1 se o cliente respondeu √† campanha e seu RTO de duas semanas durante o epis√≥dio cresceu m% </li><li>  Q = 0, se o cliente N√ÉO respondeu √† campanha e seu RTO de duas semanas durante o epis√≥dio cresceu m% </li><li>  Q = 0, se o cliente respondeu √† campanha e seu RTO de duas semanas durante o epis√≥dio cresceu menos que m% </li><li>  Q = -1, se o cliente N√ÉO respondeu √† campanha e seu RTO de duas semanas durante o epis√≥dio cresceu MENOS do que em% m </li></ul><br>  Agora, o piloto da segunda abordagem est√° em pleno andamento, mas j√° superamos os resultados anteriores. <br><br>  <b>O que vem a seguir</b> <br><br>  Felizmente, os resultados encantam n√£o apenas a equipe de implementa√ß√£o e desenvolvimento, mas tamb√©m os clientes corporativos; portanto, no futuro, al√©m das melhorias funcionais, est√° planejado a cria√ß√£o de sistemas semelhantes que funcionem para marketing on-line e em tempo real. <br><br>  Al√©m disso, um leitor atento perceber√° que at√© agora n√£o usamos a RL em sua forma mais pura, mas apenas em seu conceito.  Mesmo assim, mesmo com essa simplifica√ß√£o, observamos um resultado positivo e agora estamos prontos para seguir em frente, complicando nosso algoritmo.  Pelo nosso exemplo, queremos inspirar outras pessoas a irem "do simples ao complexo". <br><br>  <i>A edi√ß√£o Habr X5 agradece √† empresa Glowbyte Consulting pela ajuda na prepara√ß√£o de um post.</i>  <i>O piloto foi conclu√≠do por uma equipe combinada de seis especialistas de Pyaterochka e Glowbyte.</i> <i><br><br></i>  <i>A prop√≥sito, procuramos um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gerente de</a> desenvolvimento de produtos de Big Data, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">especialista em</a> dados, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">especialista em</a> an√°lise e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gerente de</a> programa de fidelidade.</i> <i><br></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430112/">https://habr.com/ru/post/pt430112/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430094/index.html">Chegou a prateleira Retroconsole: PC Classic para quem gosta de jogos DOS</a></li>
<li><a href="../pt430102/index.html">ENOG 15: ‚ÄúPor que a Internet ainda est√° online?‚Äù</a></li>
<li><a href="../pt430104/index.html">Dados m√©dicos N√£o emita um cart√£o m√©dico em suas m√£os</a></li>
<li><a href="../pt430106/index.html">Novo na XYZprinting na IMTS 2018: Rob√¥s e impressoras 3D</a></li>
<li><a href="../pt430108/index.html">Por que "Jovem T√©cnico" n√£o ser√° capaz de construir um laser</a></li>
<li><a href="../pt430114/index.html">Como criar mec√¢nica de jogo confi√°vel no Excel. Parte 2</a></li>
<li><a href="../pt430116/index.html">Os computadores escrevem prosa, mas ainda inferiores √†s pessoas. Porque</a></li>
<li><a href="../pt430118/index.html">Unity3D: modificar delegado de aplicativo para iOS</a></li>
<li><a href="../pt430120/index.html">Domar a fera. O que enfrentamos ao desenvolver um aplicativo de di√°rio pessoal no React Native</a></li>
<li><a href="../pt430122/index.html">O workaholismo √© uma condi√ß√£o dolorosa que n√£o √© habitual falar.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>