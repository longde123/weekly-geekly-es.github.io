<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛀🏼 ✳️ 🧟 小型组织的软件Internet网关 👩🏻‍🎤 🛤️ ⏏️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="任何商人都在努力降低成本。 IT基础架构也是如此。 

 当您打开新办公室时，某人的头发开始移动。 毕竟，有必要组织： 


- 局域网； 
- 互联网连接。 最好还是通过第二个提供商进行预订； 
- 到总部（或所有分支机构）的VPN； 
- 具有SMS授权的客户的HotSpot； 
- 过滤流量，...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>小型组织的软件Internet网关</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477530/"> 任何商人都在努力降低成本。  IT基础架构也是如此。 <br><br> 当您打开新办公室时，某人的头发开始移动。 毕竟，有必要组织： <br><ul><li> 局域网； </li><li> 互联网连接。 最好还是通过第二个提供商进行预订； </li><li> 到总部（或所有分支机构）的VPN； </li><li> 具有SMS授权的客户的HotSpot； </li><li> 过滤流量，以使员工不会坐在社交网络上并且不会在Skype上弹出； </li><li> 网络防御病毒和攻击。 提供入侵防护（IDS / IPS）； </li><li> 您的邮件服务器（如果您不信任各种pdd.yandex.ru）具有防病毒和防垃圾邮件功能； </li><li> 垃圾桶 </li><li> 可能您需要电话，即 组织PBX，将其他包子连接到SIP提供商... </li></ul><br><br> 但是enikeyschik将无法满足这种要求的企业网络...雇用昂贵的系统管理员？ <br> 一个非常大的卢布数字迫在眉睫。 <br><br> 但是，如果您关注现在数量巨大的<b>UTM解决方案</b> ，则可以大大降低这些成本。 由于我在解决问题时坚持“越简单越好”的策略，因此我的目光投向了UTM <a href="https://xserver.a-real.ru/" rel="nofollow">Internet Control Server</a> （IKS）。 <br><br><img src="https://habrastorage.org/webt/iw/rv/e4/iwrve4xuvgbol3pexom9mohycl8.png"><br><br> 该系统将如何帮助节省公司的预算，以及为什么不需要昂贵的系统管理员来进行维护-我在下面告诉您。 <br><br> 但是，展望未来，我会说-这是一个特定的产品，并且有其局限性。 您可以通过<a href="https://doc.a-real.ru/doku.php" rel="nofollow">查看官方网站上的文档来</a>更详细地评估网关的功能。 <br> 我为该文章设置了“俄语”文章，即，没有研究力气来了解多少东西在直观上是清晰的。 <br><a name="habracut"></a><br>  <b>初始安装</b> <br><br>  IKS既可以安装在实际硬件上，也可以安装在管理程序中。 您可以使用某种无风扇PC。 <div class="spoiler">  <b class="spoiler_title">例如这个。</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/o5/ve/nu/o5venur2uahcytuudm-bzo8oygy.png"><br></div></div><br> 该系统基于<a href="https://www.freebsd.org/" rel="nofollow">FreeBSD 11.3</a> ，应该可以在大多数硬件上顺利启动。 <br><br> 安装在空白磁盘上。 <div class="spoiler">  <b class="spoiler_title">更准确地说，如果那里有东西，那么您可以放心告别。</b> <div class="spoiler_text"> 不幸的是，安装程序仅支持英语。 但是安装后，主界面可能是俄语。 <br><img src="https://habrastorage.org/webt/je/ka/dy/jekady3fazrccvkf_z1fkkql5l0.png"><br><img src="https://habrastorage.org/webt/g4/vs/m6/g4vsm6h1-c3vv78v48y59mrnodw.png"><br><img src="https://habrastorage.org/webt/xb/z-/g7/xbz-g7yiibyssvo-m26wkhsdyqo.png"><br><img src="https://habrastorage.org/webt/x9/a6/zu/x9a6zut9wbads_fpifmgpcx0cv4.png"></div></div><br> 关于容错也没有忘记。 <div class="spoiler">  <b class="spoiler_title">如果系统中有多个磁盘，则可以使用ZFS将它们组合成一个RAID。</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ax/mp/mx/axmpmxtf7gqfxiorili91r-ue9s.png"><br><img src="https://habrastorage.org/webt/zr/qa/2m/zrqa2mcotzutkesun7olph36q5a.png"><br></div></div><div class="spoiler">  <b class="spoiler_title">我们选择网络接口并从所选网络中分配IP。</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/mz/s_/fb/mzs_fbstxa6usgweyqx1qywobf4.png"><br><img src="https://habrastorage.org/webt/8s/gj/7o/8sgj7opwkd-7ltvuvnjpfzwhgam.png"><br> 如果您打算举起邮件服务器，请注明真实姓名。 如果现在没有这种需要，那么您可以从推土机上写信。 进一步在界面中，可以进行校正。 <br><img src="https://habrastorage.org/webt/wo/hd/4v/wohd4vjxrbswqz4ccnz4bj3or-k.png"><br></div></div><br><br> 仅此而已！ 您可以通过设置中指定的ip和端口81访问Web界面。DHCP目前尚未启用，因此您必须从PC上的同一网络手动分配ip。 <br><br><img src="https://habrastorage.org/webt/rv/0y/3i/rv0y3iofo08psjkbnlp2ryp7joe.png"><br><br><h2> 我们连接到Internet并连接办公室。 </h2><br> 首次启动向导时，将<b>强制</b>您设置强密码。 <br><div class="spoiler">  <b class="spoiler_title">大师</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/xp/_s/px/xp_spxlkh6ral_ttcu05kzjfclm.png"><br><img src="https://habrastorage.org/webt/ci/_9/az/ci_9azcxbetwmgxrnsxvpuv6pow.png"><br><img src="https://habrastorage.org/webt/vn/tw/83/vntw83qgm6o47tqymml80v-3vbq.png"><br><img src="https://habrastorage.org/webt/6r/nf/zc/6rnfzche8wzvtu_5wbixdvjizu0.png"><br></div></div><br> 接下来，我们进入网络设置 <br><img src="https://habrastorage.org/webt/y-/wz/tk/y-wztk_rzlzxt2m4bpxxfet6eae.png"><br> 并配置与我们的提供商的连接以及所有网络接口的角色。 <br><img src="https://habrastorage.org/webt/i_/_c/9r/i__c9rqqqqkgr7_7alhxkp4mioc.png"><br><img src="https://habrastorage.org/webt/ig/sk/-9/igsk-9iqvpe29vfsf4gacfnliwo.png"><br><br> 您可以配置多个提供程序并安排平衡。 <br><br> 顺便说一句，如果您对界面的英语不满意，则可以在此处轻松进行更改。 <br><img src="https://habrastorage.org/webt/2l/yj/zx/2lyjzxv75dd4cbssztxnm8psm14.png"><br><br> 例如，如果要将办公室连接到总部。 <div class="spoiler">  <b class="spoiler_title">然后创建一个新的连接</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/me/s6/qy/mes6qyfnsfk8rnbvjky0t4uhrp8.png"><br><img src="https://habrastorage.org/webt/ja/5s/py/ja5spyesmhifxeymx3sx0efizzo.png"><br></div></div><div class="spoiler">  <b class="spoiler_title">并配置到远程网络上资源的路由。</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/nv/td/zf/nvtdzfkvkyhmcicqrkrpqacnwfg.png"></div></div><br><br> 您只能忘记动态路由-它不在这里。 <br> 也许我发现错了，但是恕我直言，这是一个很大的缺点... <br><br><h2> 员工上网 </h2><br><br> 通常，网关的主要任务是控制员工对Internet的访问。 <br> 您可以通过ip / mac或通过代理或强制门户的登录名/密码来标识员工。 <br><img src="https://habrastorage.org/webt/3b/-z/25/3b-z25leyoohjoma1r6rn-wdble.png"><br><br> 另外，如果您的组织使用Active Directory，则可以将IKS与它集成。 <br><img src="https://habrastorage.org/webt/jq/p3/vh/jqp3vh7i3gaiag85oujl1pawqgu.png"><br><br> 过滤设置（员工可以和不能使用的设置）非常广泛。 <br><img src="https://habrastorage.org/webt/tc/zv/pr/tczvprwqxookr06gn30lvt2dblm.png"><br><br> 大量现成的规则模板： <br><div class="spoiler">  <b class="spoiler_title">您可以允许youtube，但禁止在该处上传视频。</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/kn/68/hz/kn68hz76orsl_-eznv2u5-stv0o.png"><br><img src="https://habrastorage.org/webt/65/m9/nm/65m9nmryqzqpyldnrpz8fd-ncyu.png"><br><img src="https://habrastorage.org/webt/s6/xw/fb/s6xwfb6r3mzvu72rsnzh7numu_w.png"><br></div></div><br><br> 但是您不能限制它，并且ICS仍会通过其详尽的报告来告诉谁去了哪里以及去哪里： <br><img src="https://habrastorage.org/webt/mw/g8/z6/mwg8z6o96hniavmbb9qknyk2mps.png"><br><br><h2> 但是访客Wi-Fi呢？ </h2><br><br> 可以按照俄罗斯联邦关于强制识别用户的法律的要求来组织访客Wi-Fi。 <br>  ICS支持通过任何SMS提供程序通过SMPP协议发送SMS。 <br><br><img src="https://habrastorage.org/webt/7o/vk/wt/7ovkwty1clpowvyqwnpcpybbuya.png"><br><br><h2> 电话。 </h2><br><br> 是的，是的！ 无需使用Asterisk安装单独的服务器。 他已经在X中。 <br> 我已成功通过Megaphone（情感，多电话）连接了SIP。 <br><br><img src="https://habrastorage.org/webt/ea/vd/rc/eavdrccb7r8wzqgyaqp3mb-ygk8.png"><br><br> 如何从Megafon以个人的蜂窝资费获得SIP可以在文章<a href="https://habr.com/ru/post/441888/">“以家庭资费从Megaphone获得SIP”中找到</a> 。 <br><br><h2> 安全性 </h2><br>  ICS中有许多工具可让您根据需要配置安全级别：从免费的ClamAV防病毒软件和<a href="https://habr.com/ru/post/192884/">Suricata入侵检测系统</a>到<a href="https://www.kaspersky.ru/" rel="nofollow">Eugene Kaspersky的</a>产品，仅通过清晰的Web界面进行配置。 <br><br><img src="https://habrastorage.org/webt/9m/jo/xz/9mjoxzgg2tnj9nz_uocqcudq-5s.png"><br><br> 只需单击几下，即可配置相同的不可替代的fail2Ban <br><img src="https://habrastorage.org/webt/ue/oy/hz/ueoyhzdpb3joiyb1avp-k3i-ngo.png"><br><br> 而且，ICS可以使用来自网络设备的netflow协议监视流量，而无需通过自身传递流量。 <br><br><h2> 通信面包 </h2><br><br> 员工的沟通不仅可以通过电话和邮件进行组织 <br><img src="https://habrastorage.org/webt/du/74/t_/du74t_xyhkzuxfkvnezpofnuscg.png"><br><br> 还可以通过刺刀。 没错，很少有人记得这种协议。 <br><br>  <b>Web服务器：</b> <br> 在IKS上，甚至还有一个具有PHP支持的Web服务器。 如果您有HTTPS证书，则可以安装它，或者指定ICS接收免费的Let's Encrypt。 <br><img src="https://habrastorage.org/webt/qa/nc/3f/qanc3fjchmccdxxqzr6-9olycnm.png"><br><br> 这足以托管名片网站或广告登录页面。 但是您无法通过繁琐的门户网站使用自定义模块。 对我来说，这是愚蠢的。 尽管如此，网关仍应保留为网关。 <br><br> 灵活的监视和通知设置。 <br> 警报甚至可以发送到Telegram。 在俄罗斯联邦的现实中，甚至有可能通过代理发送消息。 <br><img src="https://habrastorage.org/webt/ao/2j/se/ao2jsergae_1i5g-t1ezutn00oe.png"><br><br><h2> 总结 </h2><br><br>  ICS Internet网关几乎包含操作小型办公室所需的所有组件。 <br> 同时，新手系统管理员可以配置所有这些。 <br><br> 尽管事实上FreeBSD都不构建该系统，但是没有ssh访问它。 也就是说，没有拐杖，您将无法安装PHP模块。 我们必须满足于我们所拥有的...或者要求支持来完成它。 <br><br> 无论如何，从一开始就<a href="https://xserver.a-real.ru/download" rel="nofollow">下载35天的试用版，</a>并检查此网关是否适合您。 <br><br> 许可证没有到期日期，但是尽管如此，其成本还是可以承受的<a href="https://xserver.a-real.ru/cost/" rel="nofollow">。</a> <br><br> 在综合测试的测试台上，该系统被证明是足够的。 <br><br> 如果客户批准了，您会很感兴趣的是该系统将如何“战斗”，那么3到6个月后，我将写一篇有关所有出现的问题和困难的评论。 如果可能，请检查技术支持的质量。 <br><br> 在评论中，我正在等待您的提问，这些问题需要在战斗使用中进行详细介绍。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN477530/">https://habr.com/ru/post/zh-CN477530/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN477518/index.html">骨微架构作为超轻耐用材料的基础</a></li>
<li><a href="../zh-CN477520/index.html">认识<细节></a></li>
<li><a href="../zh-CN477522/index.html">俄罗斯方块挑战赛被接受</a></li>
<li><a href="../zh-CN477524/index.html">在2019年为SEGA Mega Drive / Genesis创建游戏</a></li>
<li><a href="../zh-CN477526/index.html">太空级处理器：如何向太空发送更多的计算能力？</a></li>
<li><a href="../zh-CN477532/index.html">原子设计会议的材料：字母，颜色，形式，团队和金钱</a></li>
<li><a href="../zh-CN477534/index.html">在App Store和Google Play上推广应用</a></li>
<li><a href="../zh-CN477538/index.html">HP支持的工作方式-欢迎或未经授权</a></li>
<li><a href="../zh-CN477540/index.html">人工智能与人们进行了辩论，并坚信这并不危险</a></li>
<li><a href="../zh-CN477542/index.html">数据科学的纵向和横向职业</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>