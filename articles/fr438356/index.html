<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëà üë®‚Äçüë®‚Äçüëß üåõ Architecture certifi√©e Fast Track (DWFT) de SQL Server Data Warehouse: ce que cela signifie et comment cela fonctionne üë®üèª‚Äçüé® üëª üë©üèø‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les grands fabricants de logiciels populaires prennent soin de leurs clients de diff√©rentes mani√®res. Une fa√ßon consiste √† cr√©er un programme de certi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Architecture certifi√©e Fast Track (DWFT) de SQL Server Data Warehouse: ce que cela signifie et comment cela fonctionne</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bull/blog/438356/">  Les grands fabricants de logiciels populaires prennent soin de leurs clients de diff√©rentes mani√®res.  Une fa√ßon consiste √† cr√©er un programme de certification.  Pour que les clients r√©fl√©chissent entre les configurations mat√©rielles de logiciels sp√©cifiques, le fabricant de ce logiciel puisse venir et pointer du doigt avec confiance: "Prenez cela et tout ira bien." <br><br>  Un tel programme pour son serveur SQL a √©t√© d√©velopp√© par Microsoft - SQL Server Fast Track (DWFT).  Il certifie les configurations des entrep√¥ts de donn√©es - celles qui r√©pondent aux exigences de la charge de travail et peuvent √™tre mises en ≈ìuvre avec moins de risques, de co√ªts et de complexit√©.  Cela semble g√©nial, mais il est int√©ressant d'√©valuer ces crit√®res dans la pratique.  Pour ce faire, nous analyserons en d√©tail l'une des configurations disposant de la certification Fast Track de SQL Server Data Warehouse. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/12e/15b/2a9/12e15b2a946ab669b59875e70afb9210.png"><br><a name="habracut"></a><br>  Pour commencer - un peu plus sur DWFT.  Ce programme comprend non seulement la certification des architectures de r√©f√©rence des fournisseurs de syst√®mes, mais aussi un certain nombre de guides de bonnes pratiques - si vous souhaitez cr√©er votre propre architecture.  Microsoft met √† jour le programme pour le d√©veloppement de nouvelles fonctionnalit√©s et sur la base des commentaires des clients. <br><br>  Avec un stockage compatible DWFT, vous pouvez √™tre s√ªr que toutes les fonctionnalit√©s de SQL Server seront disponibles.  Les technologies de stockage en colonne en m√©moire am√©liorent les performances des charges de travail transactionnelles et analytiques.  Les m√©gadonn√©es relationnelles structur√©es traditionnelles et non structur√©es seront prises en charge - dans Hadoop, Spark ou Azure Data Lake.  Avec la fonctionnalit√© SQL Server PolyBase, vous pouvez combiner des donn√©es volumineuses dans SQL Server Universe, interroger des donn√©es relationnelles et non structur√©es, les fusionner sans avoir √† les d√©placer. <br><br>  Une liste g√©n√©rale des architectures certifi√©es se trouve au bas de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette page</a> .  Ensuite, nous allons pr√©senter l'un d'eux. <br><br><h2>  Architecture "de r√©f√©rence" </h2><br>  Maintenant - pour analyser une des architectures certifi√©es par DWFT.  Il est bas√© sur nos serveurs BullSequana S400 et S800 et sur le stockage Dell EMC VMAX.  Le stockage peut √™tre augment√© jusqu'√† 4 PB si vous faites √©voluer le serveur BullSequana S √† 32 processeurs. <br><br>  Pour garantir une haute disponibilit√© de la base de donn√©es, le clustering de basculement Windows est √©galement recommand√©.  Autrement dit, l'utilisation d'au moins deux serveurs.  Gr√¢ce aux services de mise en cluster Microsoft, un serveur de base de donn√©es est configur√© comme serveur principal (actif) et le second comme serveur secondaire (passif).  Le serveur passif doit avoir la m√™me configuration que le serveur principal. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f35/1eb/de5/f351ebde5469e6765a5a12651a1c4b6d.png"><br>  <i>Liste et caract√©ristiques des composants d'infrastructure</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/088/6ed/f56/0886edf56802b4666692121973837d1b.png"><br>  <i>Aper√ßu g√©n√©ral de deux configurations</i> <br><br><h2>  Composants mat√©riels </h2><br><h3>  Serveur BullSequana S800 </h3><br>  Le serveur BullSequana S800 est un serveur √† huit processeurs avec jusqu'√† 12 To de m√©moire, des E / S avanc√©es et des ajouts de modules avec stockage SSD / HDD / NVMe ou avec des GPU NVidia Tesla. <br><br>  La gamme BullSequana S est disponible en options du S200 avec deux processeurs au S3200 avec 32 processeurs.  L'√©tape d'√©chelle de la ligne est constitu√©e de deux processeurs.  Pour l'architecture DWFT SQL Server 2017, les mod√®les S200, S400 et S800 sont √©galement certifi√©s. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/446/511/28e/44651128e0526bf86c0665139ced4b2b.png"><br><br><h3>  Adaptateur de bus h√¥te Emulex LPe31002-M6 16 Gbps </h3><br>  Par rapport aux g√©n√©rations pr√©c√©dentes, les adaptateurs Emulex Gen 6 FC avec une architecture multic≈ìur dynamique offrent des performances sup√©rieures, une latence plus faible, de meilleurs diagnostics et une meilleure g√©rabilit√©.  Il fournit des vitesses allant jusqu'√† 12 800 Mo / s (deux ports 32GFC ou quatre ports 16GFC), un d√©bit de 1,6 million d'IOPS par adaptateur.  La version √† quatre ports du LPe32004 fournit jusqu'√† 3,2 millions d'IOPS par adaptateur. <br><br><h3>  Brocade 6510 Switch </h3><br>  Le commutateur Brocade 6510 de Broadcom est un commutateur Fibre Channel 1U, 48 ports mont√© sur serveur. <br><ul><li>  Performances Fibre Channel: 16 Gb / s <br></li><li>  Jusqu'√† 48 ports offrant un d√©bit total de 768 Gb / s <br></li><li>  Jusqu'√† 128 Gbps trunking de trame <br></li><li>  Consommation √©lectrique: 14 W / Gb / s <br></li></ul><br><h3>  Dell EMC VMAX 250F </h3><br>  VMAX All Flash se concentre sur les volumes de donn√©es en p√©taoctets et le traitement des transactions importantes.  VMAX All Flash met √† l'√©chelle et int√®gre des centaines de processeurs multic≈ìurs Intel pour des charges de travail mixtes dynamiques.  L'√©l√©ment central de VMAX All Flash est V-Brick, qui peut combiner jusqu'√† huit V-Bricks en un seul syst√®me avec des capacit√©s de connectivit√©, de traitement et de bande passante compl√®tement s√©par√©es.  Chaque V-Brick prend en charge jusqu'√† 72 c≈ìurs de processeur pour am√©liorer les performances - jusqu'√† 576 c≈ìurs par baie.  Pour la mise √† l'√©chelle, des modules Flash Capacity Packs sont utilis√©s. <br><br>  Le stockage doit clairement r√©pondre aux exigences du traitement des transactions en temps r√©el de haute pr√©cision (OLTP), des applications virtualis√©es et des bases de donn√©es Oracle et SQL.  Les exigences sont satisfaites pour des millions d'IOPS, une bande passante de p√©taoctets et des performances pr√©visibles (temps de r√©ponse de 350 Œºs). <br><br>  Enfin, l'architecture devrait avoir une meilleure isolation des erreurs, une v√©rification fiable de l'int√©grit√© des donn√©es et des mises √† jour mat√©rielles et logicielles √† s√©curit√© int√©gr√©e √©prouv√©es.  Autre exigence: disponibilit√© pour les op√©rations 24h / 24 et 7j / 7 √† l'aide du logiciel SRDF. <br><br><h2>  Comment le stockage est connect√© </h2><br>  Configuration du VMAX 250F (tout flash): <br><br><ul><li>  2 vBrick avec 2 To de cache par bloc. <br></li><li>  Ports h√¥tes FC 32 * 16 Gbps <br></li><li>  Flash 64 * 3,84 To (Raid5-7 + 1) + r√©serve <br></li></ul><br>  Apparence de VMAX vBricks dans un rack: <br><br><img src="https://habrastorage.org/webt/yb/aw/tg/ybawtgjefv2ri-qv9yh-ka_0rlo.jpeg"><br><br>  Emplacements des ports: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/902/5c3/d8c/9025c3d8cc9f68e072c8a29fe4e400ff.png"><br><br>  La configuration de la baie logique dans une architecture certifi√©e est align√©e sur la configuration Dell EMC et les meilleures pratiques. <br><br><ul><li>  Version HyperMaxOS: 5977.1131.1131 <br></li><li>  Cryptage: activ√© <br></li><li>  Compression: d√©sactiv√© <br></li><li>  Profil de performance du syst√®me: de base <br></li></ul><br>  Distribution principale: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9a4/e37/d6f/9a4e37d6fe21659c149817c2039458af.png" width="550" height="284"><br><img src="https://habrastorage.org/getpro/habr/post_images/f03/548/2e3/f035482e3c58abe81d2c92d5cc28e44d.png" width="550" height="353"><br><br><h3>  Configuration de LUN </h3><br>  Tous les LUN sont configur√©s en tant que LUNS MINCES dans un pool virtuel cr√©√© sur 64 lecteurs.  Les donn√©es sont r√©parties sur tous les lecteurs flash sur les deux vBricks.  Un total de 35 LUN sont d√©finis sur le Dell EMC VMAX: <br><br><ul><li>  16 LUN de 8 To pour les donn√©es utilisateur (128 To au total) <br></li><li>  16 LUN ou 2 To pour tempdb (32 To au total) <br></li><li>  2 LUN de 2 To pour le magazine (4 To au total) <br></li></ul><br>  Les ports frontaux Fibre Channel (FC) sont configur√©s pour utiliser quatre domaines de basculement en mode port virtuel.  Chaque port est connect√© un √† un √† un port du VMAX, qui ne dessert qu'un seul LUN de donn√©es et un LUN Tempdb.  Pour chacun d'eux, il existe un LUN pour s√©parer les op√©rations de lecture et d'√©criture sur le LUN (lors de l'ex√©cution de GROUP BY ou ORDER BY, les donn√©es sont d'abord √©crites dans Tempdb avant d'√™tre utilis√©es dans une autre partie de la requ√™te ou pr√©sent√©es √† l'utilisateur).  Chaque LUN est mapp√© sur quatre ports FA et est accessible de quatre mani√®res. <br><br>  Cartographie des ports: <br><br><img src="https://habrastorage.org/webt/27/qx/w7/27qxw7rwce63tllr2-sx0xfef10.png"><br><br><h3>  Groupes de stockage VMAX (SG) </h3><br>  Les groupes de stockage suivants ont √©t√© cr√©√©s: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/19e/02a/f23/19e02af23e89d960a182d53196d0c2b8.png"><br><br><h3>  Lecture et √©criture du cache </h3><br>  Le cache VMAX est global, utilis√© dynamiquement pour la lecture et l'√©criture.  Les param√®tres par d√©faut sont utilis√©s pour limiter l'attente de l'enregistrement dans le syst√®me.  Comme le syst√®me n'utilise qu'une seule application, il n'est pas n√©cessaire de cr√©er des partitions de cache. <br><br><h3>  Se connecter au serveur et MPIO </h3><br>  Windows Server 2016 a utilis√© son propre MPIO.  Son alternative est le logiciel PowerPath pour les applications Dell EMC. <br><br><h3>  Acheminement des c√¢bles </h3><br>  Les ports sup√©rieurs des commutateurs Brocade sont utilis√©s pour connecter le serveur BullSequana S800.  Chaque port pair d'Emulex HBA est connect√© aux ports sup√©rieurs √† gauche du commutateur Brocade.  Chacun des ports HBA Outbus Emulex est connect√© aux ports sup√©rieurs √† gauche du commutateur Brocade_2.  Les ports inf√©rieurs sont utilis√©s uniquement pour connecter les ports Dell EMC VMAX FC. <br><br><h3>  Configuration √† serveur unique </h3><br>  Le sch√©ma suivant montre le c√¢blage entre le BullSequana S800 et le Dell EMC VMAX 250F.  Le placement du HBA peut varier en fonction du placement des modules HBA. <br><br><img src="https://habrastorage.org/webt/tp/v_/n2/tpv_n21oqa-0yj-yjgjgddzt6sa.png"><br><br><h3>  Connexions par c√¢ble dans une configuration de serveur hautement disponible </h3><br>  Le sch√©ma ci-dessous montre comment connecter deux serveurs BullSequana S800 dans une configuration √† haute disponibilit√© avec un Dell EMC VMAX 250F.  L√† encore, l'emplacement du HBA peut varier en fonction de l'emplacement des modules HBA. <br><br><img src="https://habrastorage.org/webt/p0/la/qp/p0laqpph-_vtnh5brejensuzfb8.png"><br><br>  Au-dessus du c√¥t√© gauche du commutateur Brocade, la moiti√© gauche des ports du premier serveur S800 est mise en surbrillance, et du c√¥t√© droit de l'image se trouvent les ports droits, et le deuxi√®me serveur S800 y est connect√©. <br><br><h2>  Configuration du serveur BullSequana S800 </h2><br><h3>  BIOS syst√®me </h3><br>  Tous les param√®tres, √† l'exception de la configuration du r√©seau BMC, ont √©t√© conserv√©s aux param√®tres d'usine par d√©faut.  Le param√®tre Processeur logique dans la section Param√®tres du processeur reste activ√© par d√©faut.  Cela active la technologie Intel Hyper-Threading, qui maximise le nombre de processeurs logiques disponibles pour SQL Server. <br><br><h3>  Emulex LPe31002-M6 16 Gbit / s </h3><br>  Tous les HBA Emulex sont disponibles via Emulex OneCommand Manager.  Les versions de micrologiciel et de pilote utilis√©es lors de la certification Microsoft DWH Fast Track sont 12.0.193.13. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/447/81a/349/44781a34977a699e1b070560f0feb19f.png"><br><br>  Il est important que tous les HBA aient le m√™me firmware.  Le dernier firmware peut √™tre t√©l√©charg√© sur le site Web de Broadcom.  Les mises √† niveau du micrologiciel peuvent √™tre effectu√©es √† l'aide du bouton ¬´T√©l√©charger le micrologiciel¬ª dans Emulex OneCommand Manager.  La modification du pilote et / ou du micrologiciel peut n√©cessiter un red√©marrage du serveur. <br><br>  √Ä l'exception du param√®tre QueryDept, qui est pass√© de 32 √† 64, tous les autres param√®tres h√¥te et HBA sont rest√©s par d√©faut. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/576/2b9/26f/5762b926fabf810b5bfbcfc136c2b25a.png"><br><br><h2>  Configuration de Windows Server 2016 </h2><br><h3>  L'installation </h3><br>  L'installation de Windows a √©t√© effectu√©e avec les param√®tres par d√©faut.  Apr√®s l'installation, la fonction Windows MPIO a √©t√© activ√©e, comme illustr√© dans la figure ci-dessous. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d0f/432/266/d0f432266c604ae29130377f0fb24ca3.png"><br><br>  Apr√®s avoir install√© la fonction MPIO, Windows doit √™tre red√©marr√©. <br><br><h3>  Installation de pilotes et de packages </h3><br>  Il est important d'avoir des pilotes et des packages sur le stockage USB, car ils ne sont pas inclus dans le catalogue de pilotes Windows inclus sur le DVD d'installation (les cartes r√©seau sont plus r√©centes que Windows Server 2016).  Apr√®s l'installation de Windows et MPIO, les pilotes et packages suivants ont √©t√© install√©s (dans l'ordre sp√©cifi√©): <br><br><ol><li>  Intel INF Chipset version 10.1.17711.8088_PV ou version ult√©rieure (red√©marrage requis) </li><li>  Pilote MegaRAID pour Windows 2016 version 6.14-6.714.05.00-WHQL (red√©marrage requis) </li><li>  PROWinx64 pour la famille Intel XL7xx version 23_2 ou ult√©rieure </li><li>  OneInstall-Setep-12.0.193.18.exe ou version ult√©rieure </li></ol><br><h3>  Param√®tres d'alimentation </h3><br>  Pour maximiser les performances, le serveur a √©t√© configur√© pour utiliser un plan hautes performances. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c3a/ecb/ff8/c3aecbff80d68ec3fc5ae422d9ac7cc9.png"><br><br><h3>  Verrouiller les pages en m√©moire </h3><br>  Pour emp√™cher le syst√®me d'exploitation Windows d'envoyer des pages de donn√©es √† la m√©moire virtuelle sur le disque et SQL Server pourrait utiliser le processus pour enregistrer les donn√©es dans la m√©moire physique (RAM), l'option Verrouiller les pages en m√©moire pour le compte de service SQL Server a √©t√© activ√©e.  Vous devez red√©marrer SQL Server pour que cette option prenne effet. <br><br><h3>  Lecteurs Windows </h3><br>  Une fois le zonage termin√© dans les commutateurs VMAX et LUN, ils s'affichent dans la Gestion des disques Windows. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/46d/83a/b05/46d83ab059f166a677bd464779d7f0f1.png" width="500" height="366"><br><br>  Si tous les lecteurs sont format√©s correctement, la Gestion des disques Windows affiche la liste suivante: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f2f/f25/ccb/f2ff25ccba6e28ddcdb71ada57164c1c.png"><br><br>  Il y a 34 LUN au total: <br><br><ul><li>  16 LUN de 8 To pour les donn√©es utilisateur (128 To au total) <br></li><li>  16 LUN ou 2 To pour tempdb (32 To au total) <br></li><li>  2 LUN de 2 To pour le magazine (4 To au total) <br></li></ul><br>  Pour les architectures de r√©f√©rence DWFT, Dell EMC et moi recommandons d'utiliser des points de montage pour les volumes au lieu des lettres de lecteur.  Nous vous recommandons d'attribuer des noms de volume et de point de montage appropri√©s pour simplifier le d√©pannage et l'analyse des performances.  Id√©alement, les noms des points de montage doivent √™tre attribu√©s de mani√®re √† simplifier l'identification du volume VMAX pour ce volume Windows. <br><br>  Le tableau suivant pr√©sente les √©tiquettes de volume et les chemins d'acc√®s utilis√©s pour la configuration de r√©f√©rence: <br><br><img src="https://habrastorage.org/webt/9a/g1/sp/9ag1sppoc0gc9op8bzaxc8cjalg.png"><br><br>  Une fois tous les LUN pr√™ts, le r√©pertoire C: \ Storage ressemble √† ceci: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2fb/109/afd/2fb109afdaf5d746922ae22c1bc042df.png"><br><br><h3>  MPIO </h3><br>  La strat√©gie MPIO pour tous les volumes est d√©finie dans la section Least Queue Dept. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cdc/503/c25/cdc503c25e2efa569bd7fc1f73792a06.png" width="550" height="655"><br><h3>  Configuration de Windows Defender </h3><br>  Windows Defender est un composant antivirus et anti-spam standard.  Pour emp√™cher l'analyse des donn√©es et des fichiers journaux de SQL Server (pour les performances), les exceptions suivantes doivent √™tre ajout√©es. <br><br>  Dossiers sur un seul serveur: <br><br><ul><li>  C: \ Program Files (x86) \ Microsoft SQL Server <br></li><li>  C: \ Program Files \ Microsoft SQL Server <br></li><li>  C: \ Storage (solution √† serveur unique) <br></li></ul><br>  Dossiers dans une solution haute disponibilit√© (HA): <br><ul><li>  C: \ Program Files (x86) \ Microsoft SQL Server <br></li><li>  C: \ Program Files \ Microsoft SQL Server <br></li><li>  C: \ ClusterStorage (solution tr√®s abordable) <br></li><li>  C: \ Windows \ Cluster <br></li><li>  Lecteur de quorum <br></li><li>  Lecteur MSDTC <br></li></ul><br>  Types de fichiers: <br><ul><li>  .ldf <br></li><li>  .mdf <br></li><li>  .ndf <br></li></ul><br><h2>  Configuration de SQL Server 2017 Enterprise Edition </h2><br>  L'installation se fait principalement en utilisant les param√®tres par d√©faut.  Certaines exceptions sont r√©pertori√©es ci-dessous.  Lors de l'installation de SQL Server 2017, l'option Effectuer une t√¢che de maintenance des performances est s√©lectionn√©e. <br><br><h3>  Configuration de Tempdb </h3><br>  La base de donn√©es Tempdb est configur√©e pour utiliser 16 fichiers de m√™me taille.  Les fichiers de donn√©es Tempdb sont situ√©s sur 16 volumes.  Le fichier journal des transactions tempdb est plac√© sur le disque o√π les journaux sont conserv√©s.  Le zoom automatique est activ√©. <br><br><h3>  Options de d√©marrage pour une instance de SQL Server </h3><br>  SQL Server 2017 d√©finit automatiquement les indicateurs de trace -T1117 et -T1118, vous n'avez donc plus besoin de les ajouter aux options de d√©marrage de l'instance.  Si vous n'utilisez pas l'indicateur de trace -T834, de meilleures performances sont obtenues.  Microsoft recommande de ne pas utiliser cet indicateur lors de l'utilisation d'index de stockage de colonnes en cluster. <br><br>  Le seul param√®tre de d√©marrage est l'indicateur -E: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4e4/b12/008/4e4b120089f219131f2105e7bcfd56f4.png"><br><br>  Pour plus d'informations sur cette rubrique, consultez Microsoft <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DBCC TRACEON - Indicateurs de trace</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">options de d√©marrage du service du moteur de base de donn√©es</a> . <br><br><h3>  M√©moire SQL Server maximale </h3><br>  La m√©moire maximale du serveur pour cette architecture de r√©f√©rence doit √™tre d√©finie sur 11,534,336 Mo ou 11,264 Go, o√π 1,024 Go est allou√© au syst√®me d'exploitation.  Si des applications suppl√©mentaires partagent le serveur, vous devez ajuster la quantit√© de m√©moire disponible pour le syst√®me d'exploitation. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/11f/8bd/a17/11f8bda17baade55cca173555e3ee99c.png"><br><br><h3>  Concurrence maximale (MAXDOP) </h3><br>  Le degr√© maximal de parall√©lisme est fix√© √† 448, ce qui correspond au nombre de c≈ìurs logiques disponibles sur le serveur. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f9/648/f9e/2f9648f9e3adfac0b1aa229c29c6c78e.png"><br><br><h3>  Gestion des ressources </h3><br>  Selon le type de charge de travail utilis√© - le stockage avec le plus grand nombre de lignes (RS) ou le stockage de colonnes en cluster (CS) - vous devez configurer le gouverneur de ressources en cons√©quence. <br><br>  Pour le magasin de cha√Ænes, le param√®tre de r√©gulateur de ressources utilis√© pour limiter la quantit√© maximale de m√©moire est d√©fini sur 12%. <br><br><pre><code class="plaintext hljs">ALTER WORKLOAD GROUP [default] WITH (request_max_memory_grant_percent=12); ALTER RESOURCE GOVERNOR RECONFIGURE;</code> </pre> <br>  Pour le stockage sur colonne, le param√®tre du contr√¥leur de ressources utilis√© pour limiter la quantit√© maximale de m√©moire est d√©fini sur 25%. <br><br><pre> <code class="plaintext hljs">ALTER WORKLOAD GROUP [default] WITH (request_max_memory_grant_percent=25); ALTER RESOURCE GOVERNOR RECONFIGURE;</code> </pre> <br><h3>  Configuration de la base de donn√©es </h3><br>  La base de donn√©es de l'entrep√¥t de donn√©es a √©t√© configur√©e pour utiliser plusieurs groupes de fichiers, chacun contenant 16 fichiers r√©partis uniform√©ment sur seize volumes de donn√©es.  Tous les fichiers sont autoris√©s √† cro√Ætre automatiquement.  Les groupes de fichiers ont √©t√© configur√©s avec le param√®tre AUTOGROW_ALL_FILES pour garantir que tous les fichiers d'un groupe de fichiers donn√© restent les m√™mes. <br><br><pre> <code class="plaintext hljs">ALTER DATABASE &lt;database name&gt; MODIFY FILEGROUP &lt;file group name&gt; AUTOGROW_ALL_FILES;</code> </pre> <br><h3>  Modules compl√©mentaires d'architecture de lien haute disponibilit√© (HA) </h3><br>  L'architecture de r√©f√©rence HA utilise le clustering de basculement Windows pour fournir une haute disponibilit√©.  La configuration d'un cluster de basculement Windows pr√©sente des probl√®mes de stockage suppl√©mentaires.  La configuration recommand√©e permet √† toutes les voix de cluster de voter pour le quorum et d'utiliser le disque. <br><br>  Un volume suppl√©mentaire doit √™tre cr√©√© et configur√© comme disque t√©moin.  Dell EMC recommande d'utiliser 2 Go d'espace disque.  Tous les volumes doivent √™tre mapp√©s √† chaque n≈ìud de cluster, configur√©s en tant que ressource de cluster et ajout√©s au groupe de ressources de cluster SQL Server. <br><br><h2>  Conclusion </h2><br>  En conclusion, nous soulignerons probablement l'avantage le plus important de la configuration - la possibilit√© de connecter un grand nombre d'adaptateurs HBA.  Cela vous permet d'√©quilibrer l'augmentation des modules de stockage avec eux. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86e/f69/784/86ef697842f322cc25e54c25a3ebe296.png"><br>  <i>Et c'est le certificat pour la configuration de l'ATOS BullSequana S800 et Dell EMC VMAX 250F.</i>  <i>Vous pouvez y voir des mesures de test.</i> <br><br>  Dans un avenir proche, nous pr√©voyons de transf√©rer des solutions √† l'architecture de Cascade Lake.  Cela conduira au d√©marrage d'une nouvelle certification qui viendra compl√©ter la certification actuelle.  Nous nous ferons un plaisir de r√©pondre √† vos questions sur la certification et notre architecture dans les commentaires. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr438356/">https://habr.com/ru/post/fr438356/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr438346/index.html">Comment font-ils? Pr√©sentation des technologies d'anonymisation des crypto-monnaies</a></li>
<li><a href="../fr438348/index.html">Comment apprendre √† programmer √† 9 ans de fa√ßon autonome</a></li>
<li><a href="../fr438350/index.html">Guide complet de recherche professionnelle de cam√©ras cach√©es et d'appareils espions</a></li>
<li><a href="../fr438352/index.html">Vid√©o de la descente du rover "Yutu-2", ses premiers m√®tres √† la surface de la lune. Le sommeil de deux semaines sur la lune est termin√©</a></li>
<li><a href="../fr438354/index.html">Vue, Storybook, TypeScript - d√©marrer un nouveau projet avec les meilleures pratiques √† l'esprit</a></li>
<li><a href="../fr438358/index.html">D'anciens agents de la NSA espionnant les iPhones des victimes command√©s par les √âmirats arabes unis</a></li>
<li><a href="../fr438362/index.html">Comment nous avons traduit la configuration de nos services de XML en YAML</a></li>
<li><a href="../fr438364/index.html">R√©plication du premier brouilleur vocal num√©rique au monde</a></li>
<li><a href="../fr438366/index.html">Encore un autre examen de la fonctionnalit√© des jetons mat√©riels OATH dans Azure Cloud MFA</a></li>
<li><a href="../fr438368/index.html">Les ampoules intelligentes jet√©es √† la poubelle sont une pr√©cieuse source d'informations personnelles.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>