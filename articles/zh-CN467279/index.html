<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>âš ï¸ ğŸ¤¦ ğŸš UEFAå›½å®¶æ¯”ç‡è®¡ç®— ğŸ‘©ğŸ¾â€ğŸ’» ğŸ“½ï¸ ğŸ˜—</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="è¶³çƒä¸­æœ‰ä¸¤ç§æµè¡Œçš„é”¦æ ‡èµ›ï¼šå† å†›è”èµ›å’Œæ¬§ç½—å·´è”èµ›ã€‚ æ ¹æ®ä»–ä»¬çš„ç»“æœï¼Œè®¡ç®—å‡ºæ‰€è°“çš„è¶³çƒåä¼šç­‰çº§ ã€‚ æ ¹æ®æ­¤è¯„åˆ†ï¼Œè¿›ä¸€æ­¥ç¡®å®šæ¯ä¸ªå›½å®¶æœ‰å¤šå°‘æ”¯çƒé˜Ÿå‚åŠ éšåçš„æ¯”èµ›ã€‚ 

 åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†åŸºäºå¼€æ”¾å’Œå…è´¹çš„lsFusionå¹³å°åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå°†è®¡ç®—æ­¤è¯„çº§ã€‚ å®ƒå°†æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨PostgreSQLä¸­ï¼Œæ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UEFAå›½å®¶æ¯”ç‡è®¡ç®—</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lsfusion/blog/467279/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/jo/ja/xr/jojaxrvo8padbcbvfqrdsouex_e.jpeg" alt="å›¾ç‰‡"></div><br> è¶³çƒä¸­æœ‰ä¸¤ç§æµè¡Œçš„é”¦æ ‡èµ›ï¼šå† å†›è”èµ›å’Œæ¬§ç½—å·´è”èµ›ã€‚ æ ¹æ®ä»–ä»¬çš„ç»“æœï¼Œè®¡ç®—å‡ºæ‰€è°“<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">çš„è¶³çƒåä¼šç­‰çº§</a> ã€‚ æ ¹æ®æ­¤è¯„åˆ†ï¼Œè¿›ä¸€æ­¥ç¡®å®šæ¯ä¸ªå›½å®¶æœ‰å¤šå°‘æ”¯çƒé˜Ÿå‚åŠ éšåçš„æ¯”èµ›ã€‚ <br><br> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†åŸºäºå¼€æ”¾å’Œå…è´¹çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">lsFusion</a>å¹³å°åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå°†è®¡ç®—æ­¤è¯„çº§ã€‚ å®ƒå°†æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨PostgreSQLä¸­ï¼Œæä¾›ä¸€ä¸ªç”¨äºé€šè¿‡è¿‡æ»¤å’Œæ’åºåŠŸèƒ½æ›´æ”¹å’Œæ˜¾ç¤ºå®ƒä»¬çš„Webç•Œé¢ï¼Œä»¥åŠä½¿ç”¨ç‰¹æ®ŠAPIå¯¼å…¥åŒ¹é…ç»“æœã€‚ <br><br> ç”¨äºå®ç°æ­¤åº”ç”¨ç¨‹åºçš„æ‰€æœ‰ä»£ç å°†åŒ…å«çº¦300æ¡æœ‰æ•ˆè¡Œã€‚ <br><a name="habracut"></a><br><h3> åŸŸé€»è¾‘ </h3><br> ä»»ä½•ä¿¡æ¯ç³»ç»Ÿçš„åˆ›å»ºéƒ½å§‹äºåŸŸé€»è¾‘çš„ä»»åŠ¡ã€‚ <br> é¦–å…ˆï¼Œä»é€»è¾‘ä¸Šè¯´å‡ºåªæœ‰ä»£ç å’Œåç§°çš„æœ€ç®€å•ç›®å½•ï¼š <br><br><ul><li>  <b>æ¯”èµ›</b> æ¬§æ´²å† å†›è”èµ›æˆ–æ¬§ç½—å·´è”èµ›ã€‚ </li><li>  <b>å­£èŠ‚</b> ã€‚  2018-2019 / 2017-2018ç­‰ </li><li> <b>åœ†çš„</b> ã€‚ å†³èµ›ï¼ŒåŠå†³èµ›ï¼Œå°ç»„èµ›ç­‰ å®ƒå¯ä»¥çœ‹ä½œæ˜¯é”¦æ ‡èµ›çš„ç»„æˆï¼Œä½†åœ¨æ­¤å®ç°ä¸­ï¼Œæˆ‘å°†å…¶ä½œä¸ºå•ç‹¬çš„å®ä½“è¿›è¡Œäº†é€‰æ‹©ã€‚ </li><li>  <b>å›½åˆ«</b> æ­¤åº”ç”¨ç¨‹åºç”¨ä½œè¶³çƒåä¼šã€‚ ä¾‹å¦‚ï¼Œæ‘©çº³å“¥çš„ä¿±ä¹éƒ¨ä½äºæ‘©çº³å“¥çš„å›½å®¶ï¼Œä½†å‚åŠ æ³•å›½é”¦æ ‡èµ›ã€‚ </li><li>  <b>ä¼šæ‰€</b> å·´å¡ç½—é‚£ï¼Œçš‡é©¬ï¼Œæ›¼è”ç­‰ </li></ul><br> ç”±äºlsFusionä½¿ç”¨ç›¸åŒç±»å‹çš„é€»è¾‘è¿›è¡Œå£°æ˜ï¼Œå› æ­¤æˆ‘ä»¬å°†å£°æ˜ä¸€ä¸ªå…ƒä»£ç ï¼ˆæˆ–ä»£ç æ¨¡æ¿ï¼‰ï¼Œè¯¥å…ƒä»£ç å°†ç”Ÿæˆç›¸åº”çš„é€»è¾‘ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">ç›®å½•å£°æ˜å…ƒä»£ç </b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td><code><font color="#a626a4">META</font> defineMasterObject(object, caption, captions, nameLength) <br> <font color="#a626a4">CLASS</font> <font color="#4078f2">###</font> object caption; <br> <br> id <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> ( <font color="#4078f2">###</font> object); <br> object ( <font color="#a626a4">INTEGER</font> id) = <font color="#a626a4">GROUP</font> <font color="#a626a4">AGGR</font> <font color="#4078f2">###</font> object o <font color="#a626a4">BY</font> id(o); <font color="#808080"><i>//    </i></font> <br> <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> ( <font color="#4078f2">###</font> object) <font color="#a626a4">CHARWIDTH</font> nameLength; <br> object ( <font color="#a626a4">ISTRING</font> name) = <font color="#a626a4">GROUP</font> <font color="#a626a4">AGGR</font> <font color="#4078f2">###</font> object o <font color="#a626a4">BY</font> name(o); <font color="#808080"><i>//    </i></font> <br> <br> <font color="#a626a4">FORM</font> object caption <br> <font color="#a626a4">OBJECTS</font> o = <font color="#4078f2">###</font> object <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) id, name <br> <br> <font color="#a626a4">EDIT</font> <font color="#4078f2">###</font> object <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">FORM</font> object <font color="#4078f2">##</font> s captions <br> <font color="#a626a4">OBJECTS</font> o = <font color="#4078f2">###</font> object <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> id, name <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> ; <br> <br> <font color="#a626a4">FORM</font> dialog <font color="#4078f2">###</font> object <font color="#4078f2">##</font> s captions <br> <font color="#a626a4">OBJECTS</font> o = <font color="#4078f2">###</font> object <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> id, name <br> <br> <font color="#a626a4">LIST</font> <font color="#4078f2">###</font> object <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> object <font color="#4078f2">##</font> s; <br> } <br> <font color="#a626a4">END</font> <br></code> </td></tr></tbody></table></div><br></div></div><br> ä»–å°†å®£å¸ƒï¼š <br><br><ul><li> å…·æœ‰ç»™å®šåç§°çš„ç±» </li><li> å¸¦æœ‰ä»£ç å’Œåç§°çš„æ–°ç±»çš„å±æ€§ </li><li> ä¸‰ç§å½¢å¼ï¼šç¼–è¾‘ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯¹è±¡åˆ—è¡¨çš„è¡¨å•ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ°å¯¼èˆªå™¨ä¸­ï¼Œä¸€ä¸ªç”¨äºé€‰æ‹©è¯¥å¯¹è±¡çš„å¯¹è¯æ¡†ã€‚ ä½œä¸ºå¯¹è¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç¬¬äºŒç§å½¢å¼ï¼Œä½†æ˜¯ç”¨æˆ·åœ¨é€‰æ‹©æ—¶å°†æœ‰æœºä¼šæ›´æ”¹å¯¹è±¡ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç”¨æˆ·æ–¹é¢çš„é”™è¯¯ã€‚ </li></ul><br> å››ä¸ªå‚æ•°ä¼ é€’ç»™å…ƒä»£ç ï¼š <br><br><ul><li>  <b>æ ‡è¯†ç¬¦ï¼ˆå¯¹è±¡ï¼‰</b> ã€‚ ä½¿ç”¨æ­¤åç§°ï¼Œå°†åˆ›å»ºç±»å’Œè¡¨å•ã€‚  ###æ„é€ ç”¨äºåœ¨ç»“æœä»£ç ä¸­å°†æ ‡è¯†ç¬¦çš„é¦–å­—æ¯å¤§å†™ã€‚ </li><li>  <b>åç§°ä»¥å•æ•°è¡¨ç¤º</b> ã€‚ ç”¨äºç±»å’Œè¡¨å•çš„æ ‡é¢˜ã€‚ </li><li>  <b>åç§°ä»¥å¤æ•°å½¢å¼è¡¨ç¤º</b> ã€‚ ç”¨äºç»„åˆæ¡†å’Œå¯¹è¯æ¡†ã€‚ </li><li>  <b>åç§°é•¿åº¦</b> ã€‚ åœ¨ä¸åŒå¯¹è±¡çš„åç§°ä¸­ï¼ŒæœŸæœ›ä½¿ç”¨ä¸åŒçš„é•¿åº¦ï¼Œè¿™åœ¨æ„å»ºæ¥å£æ—¶å¾ˆé‡è¦ã€‚ </li></ul><br> ä½¿ç”¨åˆ›å»ºçš„å…ƒä»£ç ï¼Œæ·»åŠ ä¸Šè¿°äº”ä¸ªå®ä½“ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#4078f2">@defineMasterObject</font> (tournament, <font color="#50a14f">''</font> , <font color="#50a14f">''</font> , <font color="#986801">20</font> ); <br> <font color="#4078f2">@defineMasterObject</font> (season, <font color="#50a14f">''</font> , <font color="#50a14f">''</font> , <font color="#986801">5</font> ); <br> <font color="#4078f2">@defineMasterObject</font> (round, <font color="#50a14f">''</font> , <font color="#50a14f">''</font> , <font color="#986801">15</font> ); <br> <font color="#4078f2">@defineMasterObject</font> (country, <font color="#50a14f">''</font> , <font color="#50a14f">''</font> , <font color="#986801">10</font> ); <br> <font color="#4078f2">@defineMasterObject</font> (team, <font color="#50a14f">''</font> , <font color="#50a14f">''</font> , <font color="#986801">20</font> ); <br></code> </td></tr></tbody></table></div><br><br> ä¾‹å¦‚ï¼Œä¸ºé”¦æ ‡èµ›ç”Ÿæˆçš„ä»£ç å°†å¦‚ä¸‹æ‰€ç¤ºï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">CLASS</font> Tournament <font color="#50a14f">''</font> ; <br> <br> id <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (Tournament); <br> tournament ( <font color="#a626a4">INTEGER</font> id) = <font color="#a626a4">GROUP</font> <font color="#a626a4">AGGR</font> Tournament o <font color="#a626a4">BY</font> id(o); <br> <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> (Tournament) <font color="#a626a4">CHARWIDTH</font> <font color="#986801">20</font> ; <br> tournament ( <font color="#a626a4">ISTRING</font> name) = <font color="#a626a4">GROUP</font> <font color="#a626a4">AGGR</font> Tournament o <font color="#a626a4">BY</font> name(o); <br> <br> <font color="#a626a4">FORM</font> tournament <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Tournament <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) id, name <br> <br> <font color="#a626a4">EDIT</font> Tournament <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">FORM</font> tournaments <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Tournament <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> id, name <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> ; <br> <br> <font color="#a626a4">FORM</font> dialogTournaments <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Tournament <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> id, name <br> <br> <font color="#a626a4">LIST</font> Tournament <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> tournaments; <br> } <br></code> </td></tr></tbody></table></div><br> å°†å›½å®¶é“¾æ¥æ·»åŠ åˆ°ç”Ÿæˆçš„ä¿±ä¹éƒ¨é€»è¾‘ä¸­ã€‚ ä¸ºæ­¤ï¼Œé¦–å…ˆåˆ›å»ºç›¸åº”çš„å±æ€§ï¼Œç„¶åå°†å…¶æ”¾åœ¨ä¿±ä¹éƒ¨çš„ç¼–è¾‘å’ŒæŸ¥çœ‹è¡¨å•ä¸­ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>country = <font color="#a626a4">DATA</font> Country (Team); <br> nameCountry <font color="#50a14f">''</font> (Team t) = name(country(t)); <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> team <font color="#a626a4">PROPERTIES</font> (o) nameCountry; <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> teams <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> nameCountry; <br></code> </td></tr></tbody></table></div><br> æˆ‘ä»¬å°†æ‰€æœ‰åˆ›å»ºçš„é€»è¾‘æ”¾åœ¨å•ç‹¬çš„Masteræ¨¡å—ï¼ˆæ–‡ä»¶Master.lsfï¼‰ä¸­ã€‚ <br><br> ç°åœ¨åˆ›å»ºä¸€ä¸ªå®ä½“<i>è”èµ›</i> ã€‚ å¥¹å°†ç¡®å®šç‰¹å®šå­£èŠ‚çš„æ¯”èµ›ã€‚ ä¾‹å¦‚ï¼Œæ¬§æ´²å† å†›è”èµ›2017-18æˆ–æ¬§æ´²å† å†›è”èµ›2018-19ã€‚ è”èµ›æ²¡æœ‰åç§°ï¼Œè€Œåªæ˜¯æŒ‡å‘æ¯”èµ›å’Œèµ›å­£çš„é“¾æ¥ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å°†ä¸ä½¿ç”¨ä»¥å‰çš„å…ƒä»£ç ï¼Œä½†å°†æ‰§è¡Œç›¸åŒçš„é€»è¾‘å¹¶å°†å…¶æ”¾å…¥æ–°çš„Leagueæ¨¡å—ä¸­ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">MODULE</font> League; <br> <br> <font color="#a626a4">REQUIRE</font> Master; <br> <br> <font color="#a626a4">CLASS</font> League <font color="#50a14f">''</font> ; <br> <br> id <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (League); <br> league ( <font color="#a626a4">INTEGER</font> id) = <font color="#a626a4">GROUP</font> <font color="#a626a4">AGGR</font> League o <font color="#a626a4">BY</font> id(o); <br> <br> tournament = <font color="#a626a4">DATA</font> Tournament (League); <br> nameTournament <font color="#50a14f">''</font> (League l)= name(tournament(l)); <br> <br> season = <font color="#a626a4">DATA</font> Season(League); <br> nameSeason <font color="#50a14f">''</font> (League l)= name(season(l)); <br> <br> <font color="#a626a4">FORM</font> league <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = League <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) id, nameTournament, nameSeason <br> <br> <font color="#a626a4">EDIT</font> League <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">FORM</font> leagues <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = League <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> id, nameTournament, nameSeason <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> ; <br> <br> <font color="#a626a4">FORM</font> dialogLeagues <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = League <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> id, nameTournament, nameSeason <br> <br> <font color="#a626a4">LIST</font> League <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> leagues; <br> } <br></code> </td></tr></tbody></table></div><br> æœ€åï¼Œæ·»åŠ åŒ¹é…é€»è¾‘ã€‚ ä¸ºæ­¤ï¼Œåˆ›å»º<i>Match</i>ç±»ï¼Œè¯¥ç±»å°†å‚è€ƒè”èµ›å’Œå›åˆã€‚ å¯¹äºä»–æ¥è¯´ï¼Œå‚åŠ å®ƒçš„ä¿±ä¹éƒ¨ä»¥åŠç»“æœä¹Ÿå°†è¢«è¯¢é—®ã€‚ æˆ‘ä»¬å°†æ‰€æœ‰è¿™äº›æ”¾åœ¨å•ç‹¬çš„Matchæ¨¡å—ä¸­ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">MODULE</font> Match; <br> <br> <font color="#a626a4">REQUIRE</font> League; <br> <br> <font color="#a626a4">CLASS</font> Match <font color="#50a14f">''</font> ; <br> <br> id <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (Match); <br> match ( <font color="#a626a4">INTEGER</font> id) = <font color="#a626a4">GROUP</font> <font color="#a626a4">AGGR</font> Match o <font color="#a626a4">BY</font> id(o); <br> <br> dateTime <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATETIME</font> (Match); <br> <br> league = <font color="#a626a4">DATA</font> League (Match); <br> <br> tournament (Match m) = tournament(league(m)); <br> nameTournament <font color="#50a14f">''</font> (Match m) = name(tournament(m)); <br> <br> season(Match m) = season(league(m)); <br> nameSeason <font color="#50a14f">''</font> (Match m) = name(season(m)); <br> <br> round = <font color="#a626a4">DATA</font> Round (Match); <br> nameRound <font color="#50a14f">''</font> (Match m) = name(round(m)); <br> <br> homeTeam = <font color="#a626a4">DATA</font> Team (Match); <br> nameHomeTeam <font color="#50a14f">''</font> (Match m) = name(homeTeam(m)); <br> <br> awayTeam = <font color="#a626a4">DATA</font> Team (Match); <br> nameAwayTeam <font color="#50a14f">''</font> (Match m) = name(awayTeam(m)); <br> <br> goalsHome <font color="#50a14f">' ()'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (Match); <br> goalsAway <font color="#50a14f">' ()'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (Match); <br> <br> <font color="#a626a4">FORM</font> match <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Match <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) id, dateTime, nameTournament, nameSeason, nameRound, <br> nameHomeTeam, goalsHome, goalsAway, nameAwayTeam <br> <br> <font color="#a626a4">EDIT</font> Match <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">FORM</font> matches <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Match <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> id, dateTime, nameTournament, nameSeason, nameRound, <br> nameHomeTeam, goalsHome, goalsAway, nameAwayTeam <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> <br> <font color="#a626a4">LIST</font> Match <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> matches; <br> } <br></code> </td></tr></tbody></table></div><br><br><h3> èµ„æ–™æ±‡å…¥ </h3><br> ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘è®¾æ³•æ‰¾åˆ°äº†ä¸€ä¸ªæ”¯æŒæ‰€æœ‰Eurocupsçš„å…¬å…±å’Œå…è´¹APIã€‚ è¿™æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Football API</a> ã€‚ ä½†æ˜¯ï¼Œå­˜åœ¨ä¸€äº›é—®é¢˜ï¼š <br><br><ul><li> ç›´åˆ°2016å¹´éƒ½æ²¡æœ‰ç»“æœã€‚ </li><li> ç›´åˆ°2018å¹´æ‰æœ‰å‚åŠ æ¬§æ´²è”èµ›çš„èµ„æ ¼ã€‚ </li><li> æ•°æ®ä¸­å­˜åœ¨æŸäº›é”™è¯¯ã€‚ ä¾‹å¦‚ï¼Œé¢å°”é½æ–¯Â·å¸•å¤«æ´›è¾¾å°”ï¼ˆErtysh Pavlodarï¼‰è¢«åˆ†é…åˆ°ä¿„ç½—æ–¯ï¼Œå°½ç®¡è¯¥ä¿±ä¹éƒ¨ä»£è¡¨å“ˆè¨å…‹æ–¯å¦ã€‚ å¦å¤–ï¼Œæ¬§ç½—å·´è¶³çƒä¿±ä¹éƒ¨å‡ºäºæŸç§åŸå› æ˜¯æŒ‡è¥¿ç­ç‰™ï¼Œè€Œä¸æ˜¯ç›´å¸ƒç½—é™€ã€‚ </li></ul><br><br> å¯ä»¥ä½¿ç”¨ä»¥å‰åˆ›å»ºçš„è¡¨æ ¼æ‰‹åŠ¨çº æ­£æ•°æ®é”™è¯¯ã€‚ ä½†æ˜¯ï¼Œç”±äºæ€»ç³»æ•°çš„è®¡ç®—æ˜¯åŸºäºæœ€è¿‘äº”å¹´ï¼Œå› æ­¤ï¼Œæ ¹æ®API Footballæ•°æ®æ¥è®¡ç®—æ€»ç³»æ•°å°†ä¸èµ·ä½œç”¨ã€‚ å¦‚æœè¯„è®ºä¸­æœ‰äººå»ºè®®ä»å‰å‡ å¹´ä»¥ä»»ä½•æ ¼å¼è·å–å¿…è¦çš„æ•°æ®ï¼Œæˆ‘å°†ä¸èƒœæ„Ÿæ¿€ã€‚ ä½†æ˜¯ï¼Œç”±äºæœ‰å®Œæ•´çš„2018å¹´æ•°æ®ï¼Œå› æ­¤è‡³å°‘å¯ä»¥åœ¨ä»Šå¹´éªŒè¯è®¡ç®—çš„æ­£ç¡®æ€§ã€‚ <br><br> æˆ‘ä»¬éœ€è¦çš„APIä»¥HTTPè¯·æ±‚çš„å½¢å¼å®ç°ï¼Œå…¶ä¸­å‚æ•°æ˜¯é€šè¿‡urlä¼ è¾“çš„ï¼Œå¹¶ä¸”æ ‡å¤´ä¸­æŒ‡ç¤ºäº†ç‰¹æ®Šçš„è®¿é—®å¯†é’¥ã€‚ å£°æ˜ç›¸åº”çš„é€»è¾‘ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>host = <font color="#50a14f">'api-football-v1.p.rapidapi.com'</font> ; <br> key <font color="#50a14f">'  API Football'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">STRING</font> () <font color="#a626a4">CHARWIDTH</font> <font color="#986801">50</font> ; <br> <br> url = <font color="#50a14f">'https://'</font> + host() + <font color="#50a14f">'/v2'</font> ; <br> <br> headers( <font color="#a626a4">TEXT</font> name) = <font color="#a626a4">CASE</font> <br> <font color="#a626a4">WHEN</font> name = <font color="#50a14f">'x-rapidapi-host'</font> <font color="#a626a4">THEN</font> host() <br> <font color="#a626a4">WHEN</font> name = <font color="#50a14f">'x-rapidapi-key'</font> <font color="#a626a4">THEN</font> key(); <br></code> </td></tr></tbody></table></div><br> æ‰€æœ‰æ•°æ®å¯¼å…¥æ“ä½œå°†æ”¾ç½®åœ¨å…ˆå‰åˆ›å»ºçš„â€œ <i>è”èµ›â€</i>è¡¨å•ä¸Šã€‚ åœ¨é‚£é‡Œï¼Œæˆ‘ä»¬å°†æŠŠè®¿é—®å¯†é’¥ä¸è”èµ›åˆ—è¡¨ä¸€èµ·æ”¾åœ¨è¡¨æ ¼çš„å·¥å…·æ ä¸­ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> leagues <br> <font color="#a626a4">PROPERTIES</font> () key <font color="#a626a4">DRAW</font> o <font color="#a626a4">TOOLBAR</font> <br> ; <br></code> </td></tr></tbody></table></div><br><br> é¦–å…ˆï¼Œæˆ‘ä»¬æ‰§è¡Œè”èµ›åˆ—è¡¨ã€‚ ä¸ºæ­¤ï¼ŒFootball APIå…·æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ç½‘å€ï¼š/ Leaguesã€‚ å¯¹å…¶çš„GETè¯·æ±‚å°†è¿”å›ä»¥ä¸‹å½¢å¼çš„JSONï¼š <br><br><div class="spoiler">  <b class="spoiler_title">ç­”æ¡ˆ</b> <div class="spoiler_text"><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"api"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"results"</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"leagues"</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">"league_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018 Russia World Cup"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"country"</span></span>:<span class="hljs-string"><span class="hljs-string">"World"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"country_code"</span></span>:<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"season"</span></span>:<span class="hljs-number"><span class="hljs-number">2018</span></span>, <span class="hljs-attr"><span class="hljs-attr">"season_start"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-14"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"season_end"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-07-15"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"logo"</span></span>:<span class="hljs-string"><span class="hljs-string">"https://www.api-football.com/public/leagues/1.png"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"flag"</span></span>:<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">"standings"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"is_current"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"league_id"</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>:<span class="hljs-string"><span class="hljs-string">"Premier League"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"country"</span></span>:<span class="hljs-string"><span class="hljs-string">"England"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"country_code"</span></span>:<span class="hljs-string"><span class="hljs-string">"GB"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"season"</span></span>:<span class="hljs-number"><span class="hljs-number">2018</span></span>, <span class="hljs-attr"><span class="hljs-attr">"season_start"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-08-10"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"season_end"</span></span>:<span class="hljs-string"><span class="hljs-string">"2019-05-12"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"logo"</span></span>:<span class="hljs-string"><span class="hljs-string">"https://www.api-football.com/public/leagues/2.png"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"flag"</span></span>:<span class="hljs-string"><span class="hljs-string">"https://www.api-football.com/public/flags/gb.svg"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"standings"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"is_current"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span> } ] } }</code> </pre> </div></div><br><br> è¦å‘å…¶ç”ŸæˆGETè¯·æ±‚å¹¶è®°å½•å“åº”æ­£æ–‡ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ„é€ ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">LOCAL</font> result = <font color="#a626a4">FILE</font> (); <br> <font color="#a626a4">EXTERNAL</font> <font color="#a626a4">HTTP</font> <font color="#a626a4">GET</font> url() + <font color="#50a14f">'/leagues'</font> <font color="#a626a4">HEADERS</font> headers <font color="#a626a4">TO</font> result; <br></code> </td></tr></tbody></table></div><br> å®ƒå°†ç»“æœå†™å…¥ä¸å¸¦FILEç±»å‹å‚æ•°çš„æœ¬åœ°<i>ç»“æœ</i>å±æ€§ã€‚ <br><br> ä¸ºäº†è§£æJSONæ ¼å¼çš„æ–‡ä»¶ï¼Œå°†æ„å»ºä¸€ä¸ªè¡¨å•ï¼Œè¯¥è¡¨å•çš„ç»“æ„ä¸JSONç»“æ„ç›¸å¯¹åº”ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨èœå•é¡¹åœ¨IDEä¸­ç”Ÿæˆå®ƒï¼š <br><br><img src="https://habrastorage.org/webt/wx/zf/8o/wxzf8oy-hnpcpdffxhltnfrrwcy.png" alt="å›¾ç‰‡"><br><br> å¯¹äºä¸Šè¿°JSONï¼Œè¯¥è¡¨å•å°†å¦‚ä¸‹æ‰€ç¤ºï¼ˆä»…è€ƒè™‘å°†è¦å¯¼å…¥çš„é‚£äº›å€¼ï¼‰ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">GROUP</font> api; <br> <br> tournamentName = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">STRING</font> ( <font color="#a626a4">INTEGER</font> ); <br> seasonName = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">STRING</font> ( <font color="#a626a4">INTEGER</font> ); <br> leagueId = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">INTEGER</font> ( <font color="#a626a4">INTEGER</font> ); <br> <br> <font color="#a626a4">FORM</font> importLeagues <br> <font color="#a626a4">OBJECTS</font> leagues = <font color="#a626a4">INTEGER</font> <font color="#a626a4">IN</font> api <br> <font color="#a626a4">PROPERTIES</font> (leagues) name = tournamentName, season = seasonName, league_id = leagueId <br> ; <br></code> </td></tr></tbody></table></div><br> è¦ä»¥<i>importLeagues</i>è¡¨å•çš„æ ¼å¼ç›´æ¥ä»JSON <i>ç»“æœ</i>å±æ€§å¯¼å…¥<i>ï¼Œè¯·</i>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">IMPORT</font> importLeagues <font color="#a626a4">JSON</font> <font color="#a626a4">FROM</font> result(); <br></code> </td></tr></tbody></table></div><br> æ‰§è¡Œåï¼ŒJSONæ–‡ä»¶ä¸­çš„ç›¸åº”å€¼å°†æ”¾ç½®åœ¨<i>TournamentName</i> ï¼Œ <i>seasonName</i>å’Œ<i>LeagueId</i>å±æ€§ä¸­ï¼š <br><br><img src="https://habrastorage.org/webt/vg/va/sq/vgvasqm0awmpbqdweoumd2ha8ty.png" alt="å›¾ç‰‡"><br><br> å°±æ˜¯è¯´ï¼Œ <i>TournamentNameï¼ˆ0ï¼‰</i>çš„å€¼å°†æ˜¯â€œä¸–ç•Œæ¯â€ï¼Œè€Œåœ¨<i>TournamentNameï¼ˆ1ï¼‰ä¸­çš„å€¼å°†</i>æ˜¯â€œæ€»ç†è”èµ›â€ã€‚ <br><br> ä¸å¹¸çš„æ˜¯ï¼ŒAPI Footballæ ¹æœ¬æ²¡æœ‰æ¯”èµ›å®ä½“ã€‚ è¿æ¥æ‰€æœ‰è”èµ›çš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨ä¸ä¸åŒå­£èŠ‚çš„åŒä¸€è”èµ›çš„è”èµ›ç›¸åŒ¹é…çš„åç§°ã€‚ ä¸ºæ­¤ï¼Œåœ¨å¯¼å…¥ä¸­ï¼Œé¦–å…ˆæˆ‘ä»¬å°†å¯¼å…¥çš„è”èµ›çš„æ‰€æœ‰åç§°åˆ†ç»„ï¼Œå¦‚æœä¸åœ¨æ•°æ®åº“ä¸­ï¼Œåˆ™åˆ›å»ºæ–°çš„é”¦æ ‡èµ›ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FOR</font> [ <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">BY</font> tournamentName( <font color="#a626a4">INTEGER</font> i)]( <font color="#a626a4">STRING</font> tn) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> tournament(tn) <font color="#a626a4">DO</font> <font color="#a626a4">NEW</font> t = Tournament { <br> name(t) &lt;- tn; <br> } <br></code> </td></tr></tbody></table></div><br> ä¹Ÿæ²¡æœ‰å­£èŠ‚ä»£ç ï¼Œå› æ­¤åœ¨å¯¼å…¥è”èµ›æ—¶ï¼Œå®ƒä»¬çš„åˆ›å»ºæ–¹å¼ç›¸åŒã€‚ åˆ›å»ºç¼ºå°‘çš„å¯¹è±¡åï¼Œå°†è”èµ›ç›´æ¥å¯¼å…¥ã€‚ ä½¿ç”¨å…ˆå‰é€šè¿‡<i>GROUP AGGR</i>æ„å»ºçš„å±æ€§æŒ‰åç§°æœç´¢æ¯”èµ›å’Œå­£èŠ‚ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FOR</font> leagueId( <font color="#a626a4">INTEGER</font> i) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> league(leagueId(i)) <font color="#a626a4">DO</font> <font color="#a626a4">NEW</font> l = League { <br> id(l) &lt;- leagueId(i); <br> tournament(l) &lt;- tournament(tournamentName(i)); <br> season(l) &lt;- season(seasonName(i)); <br> } <br></code> </td></tr></tbody></table></div><br> é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†åŠ è½½æ•°æ®ï¼Œä½†æ˜¯ä»…å½“ç”¨æˆ·å•å‡»è¡¨å•ä¸Šçš„â€œä¿å­˜â€æŒ‰é’®æ—¶ï¼Œæ•°æ®æ‰ä¼šä¿å­˜åˆ°æ•°æ®åº“ã€‚ å¦‚æœ‰å¿…è¦ï¼Œå¯ä»¥åœ¨æ“ä½œç»“æŸæ—¶æ·»åŠ <i>APPLY</i>å‘½ä»¤ï¼Œä»¥ä¾¿ç«‹å³å°†å…¶ä¿å­˜åˆ°æ•°æ®åº“ä¸­è€Œä¸è¿›è¡Œé¢„è§ˆã€‚ <br><br> æœ€åï¼Œå°†å¯¼å…¥æ“ä½œæ·»åŠ åˆ°è”èµ›åˆ—è¡¨è¡¨å•ä¸­ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> leagues <br> <font color="#a626a4">PROPERTIES</font> () importLeagues <font color="#a626a4">DRAW</font> o <font color="#a626a4">TOOLBAR</font> <br> ; <br></code> </td></tr></tbody></table></div><br> åŒæ ·ï¼Œæˆ‘ä»¬å¯¼å…¥ä¿±ä¹éƒ¨å’Œæ¯”èµ›ã€‚ ä½†æ˜¯ï¼Œç”±äºAPIæä¾›äº†ä»…å°†å…¶å¯¼å…¥ç‰¹å®šè”èµ›çš„åŠŸèƒ½ï¼Œå› æ­¤æ“ä½œå¿…é¡»å°†è”èµ›ä½œä¸ºè¾“å…¥ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">å¯¼å…¥ä¿±ä¹éƒ¨å’Œæ¯”èµ›</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#808080"><i>//  </i></font> <br> teamId = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">INTEGER</font> ( <font color="#a626a4">INTEGER</font> ); <br> teamName = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">STRING</font> ( <font color="#a626a4">INTEGER</font> ); <br> countryName = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">STRING</font> ( <font color="#a626a4">INTEGER</font> ); <br> <br> <font color="#a626a4">FORM</font> importTeams <br> <font color="#a626a4">OBJECTS</font> teams = <font color="#a626a4">INTEGER</font> <font color="#a626a4">IN</font> api <br> <font color="#a626a4">PROPERTIES</font> (teams) team_id = teamId, name = teamName, country = countryName <br> ; <br> <br> importTeams <font color="#50a14f">' '</font> (League l) { <br> <font color="#a626a4">LOCAL</font> result = <font color="#a626a4">FILE</font> (); <br> <font color="#a626a4">EXTERNAL</font> <font color="#a626a4">HTTP</font> <font color="#a626a4">GET</font> url() + <font color="#50a14f">'/teams/league/'</font> + id(l) <font color="#a626a4">HEADERS</font> headers <font color="#a626a4">TO</font> result; <br> <br> <font color="#a626a4">IMPORT</font> importTeams <font color="#a626a4">JSON</font> <font color="#a626a4">FROM</font> result(); <br> <font color="#a626a4">FOR</font> [ <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">BY</font> countryName( <font color="#a626a4">INTEGER</font> i)]( <font color="#a626a4">STRING</font> cn) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> country(cn) <font color="#a626a4">DO</font> <font color="#a626a4">NEW</font> c = Country { <br> name(c) &lt;- cn; <br> } <br> <br> <font color="#a626a4">FOR</font> teamId( <font color="#a626a4">INTEGER</font> i) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> team(teamId(i)) <font color="#a626a4">DO</font> <font color="#a626a4">NEW</font> t = Team { <br> id(t) &lt;- teamId(i); <br> name(t) &lt;- teamName(i); <br> country(t) &lt;- country(countryName(i)); <br> } <br> } <br> <br> <font color="#808080"><i>//  </i></font> <br> <br> matchId = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">INTEGER</font> ( <font color="#a626a4">INTEGER</font> ); <br> dateTime = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">STRING</font> ( <font color="#a626a4">INTEGER</font> ); <br> roundName = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">STRING</font> ( <font color="#a626a4">INTEGER</font> ); <br> <br> <font color="#a626a4">GROUP</font> homeTeam; <br> homeTeamId = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">INTEGER</font> ( <font color="#a626a4">INTEGER</font> ); <br> <br> <font color="#a626a4">GROUP</font> awayTeam; <br> awayTeamId = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">INTEGER</font> ( <font color="#a626a4">INTEGER</font> ); <br> <br> goalsHome = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">INTEGER</font> ( <font color="#a626a4">INTEGER</font> ); <br> goalsAway = <font color="#a626a4">DATA</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">INTEGER</font> ( <font color="#a626a4">INTEGER</font> ); <br> <br> <font color="#a626a4">FORM</font> importMatches <br> <font color="#a626a4">OBJECTS</font> fixtures = <font color="#a626a4">INTEGER</font> <font color="#a626a4">IN</font> api <br> <font color="#a626a4">PROPERTIES</font> (fixtures) fixture_id = matchId, league_id = leagueId, event_date = dateTime, round = roundName, <br> homeTeamId <font color="#a626a4">IN</font> homeTeam <font color="#a626a4">EXTID</font> <font color="#50a14f">'team_id'</font> , <br> awayTeamId <font color="#a626a4">IN</font> awayTeam <font color="#a626a4">EXTID</font> <font color="#50a14f">'team_id'</font> , <br> goalsHomeTeam = goalsHome, goalsAwayTeam = goalsAway <br> ; <br> <br> importMatches <font color="#50a14f">' '</font> (League l) { <br> <font color="#a626a4">LOCAL</font> result = <font color="#a626a4">FILE</font> (); <br> <font color="#a626a4">EXTERNAL</font> <font color="#a626a4">HTTP</font> <font color="#a626a4">GET</font> url() + <font color="#50a14f">'/fixtures/league/'</font> + id(l) <font color="#a626a4">HEADERS</font> headers <font color="#a626a4">TO</font> result; <br> <br> <font color="#a626a4">IMPORT</font> importMatches <font color="#a626a4">JSON</font> <font color="#a626a4">FROM</font> result(); <br> <font color="#a626a4">FOR</font> [ <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">BY</font> awayTeamId( <font color="#a626a4">INTEGER</font> i)]( <font color="#a626a4">INTEGER</font> id) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> team(id) <font color="#a626a4">DO</font> { <br> <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'      '</font> + id; <br> <font color="#a626a4">RETURN</font> ; <br> } <br> <br> <font color="#a626a4">FOR</font> [ <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">BY</font> awayTeamId( <font color="#a626a4">INTEGER</font> i)]( <font color="#a626a4">INTEGER</font> id) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> team(id) <font color="#a626a4">DO</font> { <br> <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'      '</font> + id; <br> <font color="#a626a4">RETURN</font> ; <br> } <br> <br> <font color="#a626a4">FOR</font> [ <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">BY</font> roundName( <font color="#a626a4">INTEGER</font> i)]( <font color="#a626a4">STRING</font> rn) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> round(rn) <font color="#a626a4">DO</font> <font color="#a626a4">NEW</font> r = Round { <br> name(r) &lt;- rn; <br> } <br> <br> <font color="#a626a4">FOR</font> matchId( <font color="#a626a4">INTEGER</font> i) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> match(matchId(i)) <font color="#a626a4">DO</font> <font color="#a626a4">NEW</font> m = Match { <br> id(m) &lt;- matchId(i); <br> dateTime(m) &lt;- toDateTimeFormat(left(dateTime(i), <font color="#986801">19</font> ), <font color="#50a14f">'yyyy-MM-ddThh24:mi:ss'</font> ); <br> league(m) &lt;- league(leagueId(i)); <br> round(m) &lt;- round(roundName(i)); <br> homeTeam(m) &lt;- team(homeTeamId(i)); <br> awayTeam(m) &lt;- team(awayTeamId(i)); <br> goalsHome(m) &lt;- goalsHome(i); <br> goalsAway(m) &lt;- goalsAway(i); <br> } <br> } <br></code> </td></tr></tbody></table></div><br> æ¯”èµ›æœ‰ä¸€ä¸ªç‰¹æ®Šä¹‹å¤„ï¼šå›¢é˜Ÿä»£ç ä½äºå…¶ä»–<i>homeTeam</i>å’Œ<i>awayTeamæ ‡ç­¾å†…</i> ã€‚ é€šè¿‡ä¸apiç›¸ä¼¼çš„æ–¹å¼ä¸ºå®ƒä»¬åˆ›å»ºç›¸åº”çš„ç»„ã€‚ è€Œä¸”ï¼Œå®ƒä»¬å†…éƒ¨å…·æœ‰ç›¸åŒçš„<i>team_id</i>æ ‡è®°ã€‚ ç”±äºä¸èƒ½å°†å…·æœ‰ç›¸åŒåç§°çš„å±æ€§æ·»åŠ åˆ°è¡¨å•ï¼Œå› æ­¤ä½¿ç”¨ç‰¹æ®Šçš„<i>EXTID</i>å…³é”®å­—ï¼Œè¯¥å…³é”®å­—åœ¨å¯¼å…¥çš„JSONä¸­å®šä¹‰æ ‡ç­¾åç§°ã€‚ <br><br> ä¸ºäº†ä½¿æ‰€æœ‰è¿›å£å•†å“å…·æœ‰ç›¸åŒçš„å½¢å¼ï¼Œå¹¶ä¸”ç”±äºå®ƒä»¬ä¸è”ç›Ÿç»‘å®šï¼Œæˆ‘ä»¬å°†å®ƒä»¬å…¨éƒ¨å–ä¸ºç›¸åŒçš„å½¢å¼ã€‚ å¦å¤–ï¼Œæˆ‘ä»¬å°†å›¢é˜Ÿå’Œæ¯”èµ›æ·»åŠ åˆ°è¡¨å•ä¸­ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨ä¿å­˜ä¹‹å‰æŸ¥çœ‹å¯¼å…¥çš„å†…å®¹ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> leagues <br> <font color="#a626a4">OBJECTS</font> t = Team <br> <font color="#a626a4">PROPERTIES</font> (t) <font color="#a626a4">READONLY</font> id, name <br> <br> <font color="#a626a4">PROPERTIES</font> importTeams(o) <font color="#a626a4">DRAW</font> t <font color="#a626a4">TOOLBAR</font> <br> <br> <font color="#a626a4">OBJECTS</font> m = Match <br> <font color="#a626a4">PROPERTIES</font> (m) <font color="#a626a4">READONLY</font> id, dateTime, nameRound, nameHomeTeam, goalsHome, goalsAway, nameAwayTeam <br> <font color="#a626a4">FILTERS</font> league(m) = o <br> <br> <font color="#a626a4">PROPERTIES</font> importMatches(o) <font color="#a626a4">DRAW</font> m <font color="#a626a4">TOOLBAR</font> <br> ; <br> <br> <font color="#a626a4">DESIGN</font> leagues { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> leagueDetails { <br> fill = <font color="#986801">2</font> ; <br> type = <font color="#a626a4">SPLITH</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (t); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (m); <br> } <br> } <br> } <br></code> </td></tr></tbody></table></div></div></div><br><br> ç”Ÿæˆçš„è¡¨å•å°†å¦‚ä¸‹æ‰€ç¤ºï¼š <br><img src="https://habrastorage.org/webt/is/ot/y6/isoty6b7twgeg3zssi-8tdxkyv4.gif" alt="å›¾ç‰‡"><br><br> æ‰€æœ‰å¯¼å…¥éƒ½å°†æ”¾åœ¨å•ç‹¬çš„APIFootballæ¨¡å—ä¸­ã€‚ <br><br><h3> ç³»æ•°è®¡ç®— </h3><br> æˆ‘ä»¬ç›´æ¥è¿›è¡ŒUEFAå›½å®¶ç³»æ•°çš„è®¡ç®—ã€‚ ä¸ºæ­¤ï¼Œå°†æ‰€æœ‰ä»£ç æ”¾å…¥ä¸“é—¨å®‰è£…çš„UEFAæ¨¡å—ä¸­æ˜¯åˆä¹é€»è¾‘çš„ã€‚ <br><br> é¦–å…ˆï¼Œè¯·è®°ä½ï¼ŒFootball APIæä¾›äº†ç”¨äºå¯¼å…¥æ‰€æœ‰æ¯”èµ›ï¼ˆè€Œä¸ä»…ä»…æ˜¯Eurocupsï¼‰çš„æ¥å£ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬æ ¹æ®æ¯”èµ›çš„åç§°å°†Eurocupæ¯”èµ›åˆ†å¼€ï¼ˆä¸ºæ­¤ï¼Œæœ€å¥½æœ‰ä¸€ä¸ªå•ç‹¬çš„ä¸»è¦å±æ€§ï¼Œä½†æ˜¯å¯ä»¥éšæ—¶æ›´æ”¹å±æ€§çš„å®ç°è€Œæ— éœ€ä¿®æ”¹å…¶ä½™é€»è¾‘ï¼‰ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>isCL (Tournament t) = name(t) = <font color="#50a14f">'Champions League'</font> ; <br> isEL (Tournament t) = name(t) = <font color="#50a14f">'Europa League'</font> ; <br> <br> isUL (Tournament t) = isCL(t) <font color="#a626a4">OR</font> isEL(t); <br> isUL (Match m) = isUL(tournament(m)); <br></code> </td></tr></tbody></table></div><br> é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä¸ºç‰¹å®šæ¯”èµ›çš„ç»“æœè®¡ç®—æ¯ä¸ªä¿±ä¹éƒ¨åœ¨ä¸€ä¸ªèµ›å­£ä¸­è·å¾—çš„ç§¯åˆ†ã€‚ <br><blockquote> åœ¨æ­¤æœŸé—´ï¼Œæ¯ä¸ªå›¢é˜Ÿéƒ½ä¼šæ”¶åˆ°ï¼š <br> è·èƒœæ—¶å¾—2åˆ†ï¼› <br> å¦‚æœæ‰“æˆå¹³å±€ï¼Œåˆ™å¾—1åˆ†ã€‚ <br> è‡ª1999å¹´ä»¥æ¥ï¼Œå¦‚æœåœ¨èµ„æ ¼èµ›ä¸­è·å¾—è¿™äº›ç§¯åˆ†ï¼Œå®ƒä»¬å°†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå³ï¼š <br> å¦‚æœè·èƒœï¼Œåˆ™å¾—1åˆ†ï¼› <br> å¹¶åˆ—å¾—åˆ†0.5åˆ†ã€‚ <br></blockquote><br><br> åˆ›å»ºç”¨äºç¡®å®šæ¯”èµ›å’Œçƒæ†ä¹‹é—´å…³ç³»çš„è¾…åŠ©å±æ€§ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>played (Team t, Match m) = homeTeam(m) = t <font color="#a626a4">OR</font> awayTeam(m) = t; <br> won (Team t, Match m) = (homeTeam(m) = t <font color="#a626a4">AND</font> goalsHome(m) &gt; goalsAway(m)) <font color="#a626a4">OR</font> (awayTeam(m) = t <font color="#a626a4">AND</font> goalsHome(m) &lt; goalsAway(m)); <br> draw (Team t, Match m) = played(t, m) <font color="#a626a4">AND</font> goalsHome(m) = goalsAway(m); <br></code> </td></tr></tbody></table></div><br> ä¸ºäº†ç¡®å®šæ¯åœºæ¯”èµ›å¾—åˆ†å¤šå°‘ï¼Œæˆ‘ä»¬ä¸ºè¯¥å›åˆæ·»åŠ æ•°å­—ç±»å‹çš„ä¸»è¦å±æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å±æ€§ç­‰äº1ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>dataMatchCoeff = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">1</font> ] (Round); <br> matchCoeff <font color="#50a14f">' '</font> (Round r) = <font color="#a626a4">OVERRIDE</font> dataMatchCoeff(r), <font color="#986801">1.0</font> ; <br></code> </td></tr></tbody></table></div><br> ç„¶åï¼Œæˆ‘ä»¬è®¡ç®—å‡ºèƒœåˆ©å’Œå¹³å±€çš„åˆ†æ•°ï¼Œç„¶ååŠ åœ¨ä¸€èµ·ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>wonPoints <font color="#50a14f">'  '</font> (Season s, Team t) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">2</font> * matchCoeff(round(Match m)) <font color="#a626a4">IF</font> won(t, m) <font color="#a626a4">AND</font> season(m) = s <font color="#a626a4">AND</font> isUL(m); <br> drawPoints <font color="#50a14f">'  '</font> (Season s, Team t) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> * matchCoeff(round(Match m)) <font color="#a626a4">IF</font> draw(t, m) <font color="#a626a4">AND</font> season(m) = s <font color="#a626a4">AND</font> isUL(m); <br> matchPoints <font color="#50a14f">'  '</font> (Season s, Team t) = wonPoints(s, t) (+) drawPoints(s, t) <font color="#a626a4">MATERIALIZED</font> ; <br></code> </td></tr></tbody></table></div><br> åŒ¹é…ç‚¹æ ‡è®°ä¸ºMATERIALIZEDï¼Œä»¥ä¾¿å°†å®ƒä»¬ä¿å­˜åœ¨è¡¨ä¸­ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½è®¡ç®—ã€‚ <br><br> ç°åœ¨æ‚¨éœ€è¦è®¡ç®—å¥–åŠ±ç§¯åˆ†ï¼š <br><blockquote> æ­¤å¤–ï¼Œè¿˜ä¼šå¥–åŠ±ç§¯åˆ†ï¼š <br> å¦‚æœçƒé˜Ÿåœ¨æ¬§æ´²æ¯ä¸­é—¯å…¥å››åˆ†ä¹‹ä¸€å†³èµ›ï¼ŒåŠå†³èµ›å’Œå†³èµ›ï¼Œåˆ™è·å¾—1åˆ†ï¼› <br> è¿›å…¥æ¬§å† å°ç»„èµ›é˜¶æ®µè·å¾—4åˆ†ï¼ˆç›´åˆ°1996å¹´-2åˆ†ï¼Œä»1997å¹´è‡³2003å¹´-1åˆ†ï¼Œä»2004å¹´è‡³2008å¹´-3åˆ†ï¼‰ï¼› <br> å¦‚æœä¸€æ”¯çƒé˜Ÿç¦»å¼€æ¬§æ´²å† å†›è”èµ›1/8å†³èµ›åˆ™è·å¾—5åˆ†ï¼ˆ2008å¹´ä¹‹å‰ä¸º1åˆ†ï¼‰ã€‚ <br> ä»…è€ƒè™‘å‚åŠ æ¯”èµ›çš„æ¯”èµ›ï¼ˆä¸è€ƒè™‘æŠ€æœ¯æŸå¤±ï¼‰ã€‚ åœ¨è®¡ç®—ç³»æ•°æ—¶ï¼Œä¼šæ ¹æ®ç»“æœè€ƒè™‘ä»¥ä¸€ç³»åˆ—ç‚¹çƒå¤§æˆ˜ç»“æŸçš„æ¯”èµ›ï¼Œè¯¥ç»“æœç”±ä¸»è¦æ—¶é—´å’Œé¢å¤–æ—¶é—´çš„æ¸¸æˆç»“æœå†³å®šã€‚ <br></blockquote><br> åœ¨æ­¤å®æ–½æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬å‡è®¾ä¿±ä¹éƒ¨å‚åŠ äº†è‡³å°‘ä¸€åœºæ¯”èµ›ï¼Œå°±è¿›å…¥äº†æ¯”èµ›çš„è¿™ä¸€è½®ã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬è®¡ç®—ä¿±ä¹éƒ¨åœ¨ç‰¹å®šèµ›å­£ï¼ˆé”¦æ ‡èµ›ï¼‰çš„ä¸€è½®ä¸­è¿›è¡Œäº†å¤šå°‘åœºæ¯”èµ›ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>played <font color="#50a14f">''</font> (Season s, Tournament t, Round r, Team tm) = <br> <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">IF</font> played(tm, Match m) <font color="#a626a4">AND</font> round(m) = r <font color="#a626a4">AND</font> tournament(m) = t <font color="#a626a4">AND</font> season(m) = s; <br></code> </td></tr></tbody></table></div><br><br> ç°åœ¨ï¼Œæ‚¨éœ€è¦ç¡®å®šåœ¨ç‰¹å®šå›åˆä¸­è¦é€šè¿‡å¤šå°‘å¾—åˆ†ã€‚ ç”±äºè¿™å–å†³äºé”¦æ ‡èµ›ï¼ˆä¾‹å¦‚ï¼Œå† å†›è”èµ›ä¸­çš„æ®µè½è·å¾—5åˆ†ï¼Œè€Œæ¬§æ´²è”èµ›ä¸­åˆ™æ²¡æœ‰è·å¾—åˆ†æ•°ï¼‰ã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¼•å…¥ä¸»è¦å±æ€§ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>bonusPoints <font color="#50a14f">'  '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">10</font> , <font color="#986801">1</font> ] (Tournament, Round); <br></code> </td></tr></tbody></table></div><br> ç°åœ¨ï¼Œè®©æˆ‘ä»¬è®¡ç®—è¯¥èµ›å­£ä¿±ä¹éƒ¨çš„å¥–åŠ±ç§¯åˆ†å’Œç§¯åˆ†æ€»æ•°ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>bonusPoints <font color="#50a14f">' '</font> (Season s, Team tm) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> bonusPoints(Tournament t, Round r) <font color="#a626a4">IF</font> played(s, t, r, tm) <font color="#a626a4">MATERIALIZED</font> ; <br> <br> points <font color="#50a14f">''</font> (Season s, Team tm) = matchPoints(s, tm) (+) bonusPoints(s, tm); <br></code> </td></tr></tbody></table></div><br> æœ€åï¼Œæˆ‘ä»¬ç›´æ¥è½¬åˆ°å›½å®¶ç³»æ•°ã€‚ <br><blockquote> ä¸ºäº†è®¡ç®—åä¼šçš„ç­‰çº§ï¼Œå°†å‚åŠ å† å†›è”èµ›å’Œæ¬§ç½—å·´è”èµ›çš„ä¿±ä¹éƒ¨çš„æ‰€æœ‰å¾—åˆ†ç›¸åŠ ï¼Œç„¶åå°†ç»“æœé™¤ä»¥è¯¥åä¼šçš„ä¿±ä¹éƒ¨æ•°é‡[2] [3]ã€‚ <br></blockquote><br> è®©æˆ‘ä»¬è®¡ç®—å‡ºå‚åŠ æ¬§æ´²æ¯”èµ›çš„æ¯ä¸ªåä¼šçš„ä¿±ä¹éƒ¨æ•°é‡ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>matchesUL <font color="#50a14f">'  '</font> (Season s, Team t) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">IF</font> played(t, Match m) <font color="#a626a4">AND</font> season(m) = s <font color="#a626a4">AND</font> isUL(m); <br> teams <font color="#50a14f">''</font> (Season s, Country c) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">IF</font> matchesUL(s, Team t) <font color="#a626a4">AND</font> country(t) = c; <br></code> </td></tr></tbody></table></div><br> ç°åœ¨ï¼Œæˆ‘ä»¬è€ƒè™‘è¯¥èµ›å­£çš„å…³è”ç‚¹æ€»æ•°ï¼Œç„¶åé™¤ä»¥ä¿±ä¹éƒ¨æ•°ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>totalPoints <font color="#50a14f">' ()'</font> (Season s, Country c) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> points(s, Team t) <font color="#a626a4">IF</font> country(t) = c; <br> points <font color="#50a14f">''</font> (Season s, Country c) = trunc( <font color="#a626a4">NUMERIC</font> [ <font color="#986801">13</font> , <font color="#986801">4</font> ](totalPoints(s, c)) / teams(s, c), <font color="#986801">3</font> ); <br></code> </td></tr></tbody></table></div><br><br><blockquote> ä¸€ä¸ªå›½å®¶çš„è¯„çº§æ˜¯è¯¥å›½å®¶è¿‡å»5å¹´çš„ç³»æ•°ä¹‹å’Œã€‚ <br></blockquote><br><br> ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç”¨å†…éƒ¨ä»£ç å¯¹ä»æœ€åä¸€ä¸ªå¼€å§‹çš„æ‰€æœ‰å­£èŠ‚è¿›è¡Œç¼–å·ï¼ˆæˆ‘ä»¬å‡è®¾åè€…æ˜¯åœ¨ä»¥åæ·»åŠ çš„ï¼Œå¹¶ä¸”å…·æœ‰è¾ƒå¤§çš„ä»£ç ï¼‰ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>index <font color="#50a14f">''</font> (Season s) = <font color="#a626a4">PARTITION</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">IF</font> s <font color="#a626a4">IS</font> Season <font color="#a626a4">ORDER</font> <font color="#a626a4">DESC</font> s; <br></code> </td></tr></tbody></table></div><br> å¦‚æœ‰å¿…è¦ï¼Œå¯ä»¥æŒ‰åç§°è¾“å…¥å•ç‹¬çš„å­—æ®µæˆ–æ•°å­—ã€‚ <br> å®ƒä»…ç”¨äºè®¡ç®—è¯¥å›½å®¶/åœ°åŒºçš„æœ€ç»ˆè¯„åˆ†ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>rating <font color="#50a14f">''</font> (Country c) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> points(Season s, c) <font color="#a626a4">IF</font> index(s) &lt;= <font color="#986801">5</font> ; <br></code> </td></tr></tbody></table></div><br> ä»¥ä¸Šï¼Œæˆ‘ä»¬å®£å¸ƒäº†é”¦æ ‡èµ›å’Œå›åˆçš„èµ”ç‡ã€‚ å°†å®ƒä»¬æ·»åŠ åˆ°é”¦æ ‡èµ›ç¼–è¾‘è¡¨å•ä¸­ï¼ŒåŒæ—¶ä»…è¿‡æ»¤è¿™äº›é”¦æ ‡èµ›ä¸­çš„å›åˆï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code>matches (Tournament t, Round r) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">IF</font> tournament(Match m) = t <font color="#a626a4">AND</font> round(m) = r; <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> tournament <br> <font color="#a626a4">OBJECTS</font> r = Round <br> <font color="#a626a4">PROPERTIES</font> name(r) <font color="#a626a4">READONLY</font> , matchCoeff(r), bonusPoints(o, r) <br> <font color="#a626a4">FILTERS</font> matches(o, r) <br> ; <br></code> </td></tr></tbody></table></div><br><br> ä¾‹å¦‚ï¼Œå¯¹äºæ¬§æ´²å† å†›è”èµ›çš„èµ”ç‡è®¾ç½®ï¼Œæ‚¨éœ€è¦è¿™æ ·è®¾ç½®ï¼š <br><img src="https://habrastorage.org/webt/fi/yy/gl/fiyyglmdvm2zst_v58pebjpc3ai.png" alt="å›¾ç‰‡"><br><br> è®©æˆ‘ä»¬ç»˜åˆ¶ä¸€ä¸ªæ˜¾ç¤ºç­‰çº§çš„è¡¨æ ¼ï¼Œå…¶ä¸­å°†æ˜¾ç¤ºæ¯ä¸ªå›½å®¶/åœ°åŒºçš„çƒé˜Ÿä»¥åŠæ¯ä¸ªçƒé˜Ÿçš„æ¯”èµ›ï¼š <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">FORM</font> countryCoefficientUEFA <font color="#50a14f">'  UEFA'</font> <br> <font color="#a626a4">OBJECTS</font> s = Season <br> <font color="#a626a4">FILTERS</font> index(s) &lt;= <font color="#986801">5</font> <br> <br> <font color="#a626a4">OBJECTS</font> c = Country <br> <font color="#a626a4">PROPERTIES</font> (c) <font color="#a626a4">READONLY</font> name, rating <br> <font color="#a626a4">PROPERTIES</font> (s, c) <font color="#a626a4">COLUMNS</font> (s) points <font color="#a626a4">HEADER</font> <font color="#50a14f">' : '</font> + name(s), teams <font color="#a626a4">HEADER</font> <font color="#50a14f">' : '</font> + name(s) <br> <br> <font color="#a626a4">OBJECTS</font> t = Team <br> <font color="#a626a4">PROPERTIES</font> (t) <font color="#a626a4">READONLY</font> nameCountry, name <br> <font color="#a626a4">PROPERTIES</font> (s,t) <font color="#a626a4">COLUMNS</font> (s) <font color="#a626a4">HEADER</font> name(s) points <font color="#a626a4">BACKGROUND</font> matchesUL(s, t) <br> <font color="#a626a4">FILTERGROUP</font> country <br> <font color="#a626a4">FILTER</font> <font color="#50a14f">' '</font> country(t) = c <font color="#a626a4">DEFAULT</font> <br> <br> <font color="#a626a4">OBJECTS</font> m = Match <br> <font color="#a626a4">PROPERTIES</font> (m) <font color="#a626a4">READONLY</font> dateTime, nameTournament, nameSeason, nameRound, <br> nameHomeTeam, <br> goalsHome <font color="#a626a4">BACKGROUND</font> goalsHome(m) &gt; goalsAway(m), <br> goalsAway <font color="#a626a4">BACKGROUND</font> goalsHome(m) &lt; goalsAway(m), <br> nameAwayTeam <br> <font color="#a626a4">FILTERS</font> played(t, m) <br> <font color="#a626a4">ORDER</font> dateTime(m) <font color="#a626a4">DESC</font> <br> ; <br> <br> <font color="#a626a4">DESIGN</font> countryCoefficientUEFA { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> countryDetails { <br> type = <font color="#a626a4">SPLITH</font> ; <br> fill = <font color="#986801">0.5</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (t); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (m); <br> } <br> } <br> <br> } <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> countryCoefficientUEFA; <br> } <br></code> </td></tr></tbody></table></div><br> ç”Ÿæˆçš„è¡¨å•å°†å¦‚ä¸‹æ‰€ç¤ºï¼š <br><img src="https://habrastorage.org/webt/za/ps/ov/zapsovbiitv6s0ggc1i19l0kad0.gif" alt="å›¾ç‰‡"><br> ä¿±ä¹éƒ¨è¡¨ä¸­çš„é¢œè‰²æ˜¾ç¤ºäº†ä»–å‚åŠ èµ›å­£æ—¶å’Œæ¯”èµ›è¡¨ä¸­çš„é¢œè‰²-è°èµ¢å¾—äº†æ¯”èµ›ã€‚ <br> å›¾ä¸º2018å¹´çš„è¯„åˆ†ä¸Wikipediaä¸Šçš„è¯„åˆ†å®Œå…¨ç›¸åŒã€‚ å¦‚ä¸Šæ‰€è¿°ï¼Œå¯¹äºå‰å‡ å¹´ï¼ŒFootball APIå¹¶æœªæä¾›æ‰€æœ‰ä¿¡æ¯ã€‚ <br><br><h3> æ€»ç»“ </h3><br><br> æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªä¸Šé¢çš„ä»£ç å……åˆ†æè¿°çš„å°å‹åº”ç”¨ç¨‹åºï¼Œå¹¶å°†å…¶æ•°æ®å­˜å‚¨åœ¨PostgreSQLä¸­ï¼Œæä¾›äº†ç”¨äºæŸ¥çœ‹å’Œç¼–è¾‘æ•°æ®çš„Webç•Œé¢ã€‚ åŒæ—¶ï¼Œç”±äºæ‰€æœ‰è¡¨å•ä»…è¯»å–å¯è§çª—å£ï¼Œå› æ­¤å®ƒå°†åœ¨å¤§æ‰¹é‡ä¸Šæœ‰æ•ˆåœ°å·¥ä½œã€‚ å¼€ç®±å³ç”¨çš„è¿˜æœ‰è¿‡æ»¤å™¨ï¼Œæ’åºï¼Œä¸Šè½½åˆ°Excelç­‰ã€‚ <br><br> åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨å¹³å°å°†è®¡ç®—ç³»æ•°çš„ä»»åŠ¡åˆ†è§£ä¸ºå„ä¸ªå±æ€§çš„è¿‡ç¨‹æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚ åœ¨æ‰§è¡Œæ—¶ï¼Œæ‰€æœ‰è¿™äº›é€»è¾‘éƒ½å°†è½¬æ¢ä¸ºSQLæŸ¥è¯¢ï¼Œå¹¶ä¸”æ‰€æœ‰è®¡ç®—å°†ç›´æ¥ä½¿ç”¨æ‰€æœ‰DBMSä¼˜åŒ–åœ¨æ•°æ®åº“æœåŠ¡å™¨ä¸Šæ‰§è¡Œã€‚ <br><br> æœ‰å…³åº”ç”¨ç¨‹åºå¦‚ä½•å¤„ç†åŠ è½½åˆ°å…¶ä¸­çš„æ•°æ®çš„ç¤ºä¾‹ï¼Œè¯·å‚è§ï¼š <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">//demo.lsfusion.org/euroleague</a> ã€‚ æ²¡æœ‰å¯†ç çš„è®¿å®¢ç™»å½•ã€‚ ç”¨æˆ·å¤„äºåªè¯»æ¨¡å¼ã€‚ <br><br> é‚£äº›å¸Œæœ›çš„äººå¯ä»¥åœ¨æœ¬åœ°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è®¾ç½®</a>æ‰€æœ‰å†…å®¹ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡è¾“å…¥æœªæ¥æ¯”èµ›çš„ç»“æœæ¥å¯¹ç³»æ•°å»ºæ¨¡ã€‚ ä¸Šè¿°æ‰€æœ‰åº”ç”¨ç¨‹åºæ¨¡å—éƒ½æ‰˜ç®¡åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">githubä¸Š</a> ã€‚ è‡ªåŠ¨å®‰è£…åï¼Œæ‚¨åªéœ€è¦ä»è¯´æ˜ä¸­å°†è¿™äº›æ–‡ä»¶å¼¹å‡ºåˆ°é€‚å½“çš„æ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åé‡æ–°å¯åŠ¨æœåŠ¡å™¨å³å¯ã€‚ <br><br> ä¸ºäº†ä»Football APIä¸‹è½½æ•°æ®ï¼Œæ‚¨éœ€è¦å‘å®ƒä»¬æ³¨å†Œå¹¶è·å–APIå¯†é’¥ã€‚ å®ƒéœ€è¦ä¸€å¼ å¡ï¼Œä½†æ˜¯å¦‚æœæ‚¨æ¯å¤©è¿›è¡Œçš„è¯·æ±‚ä¸è¶…è¿‡50ä¸ªï¼Œåˆ™ä¸ä¼šä»ä¸­æ‰£é™¤ä»»ä½•è´¹ç”¨ã€‚ <br><br> æ­¤å¤–ï¼Œæ‚¨å¯ä»¥åœ¨ç½‘ç«™ä¸Šçš„ç›¸åº”<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">éƒ¨åˆ†</a>åœ¨çº¿è¿è¡Œæ­¤åº”ç”¨ç¨‹åºã€‚ åœ¨â€œå¹³å°â€é€‰é¡¹å¡ä¸Šï¼Œé€‰æ‹©â€œ UEFAèµ”ç‡è®¡ç®—â€ç¤ºä¾‹ï¼Œç„¶åå•å‡»â€œæ’­æ”¾â€ã€‚ <br><br> é¡ºä¾¿è¯´ä¸€å¥ï¼Œå¦‚æœæœ‰äººéœ€è¦å®ç°ä¸€äº›ä¸å†é€‚åˆä½¿ç”¨Excelçš„ç®€å•ç³»ç»Ÿï¼Œè¯·åœ¨æ³¨é‡Šä¸­ç¼–å†™ã€‚ ä¸ºäº†å­¦ä¹ å¹³å°çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†å°è¯•å®ç°å®ƒå¹¶ç¼–å†™ç›¸åº”çš„æ–‡ç« ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN467279/">https://habr.com/ru/post/zh-CN467279/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN467263/index.html">æˆ‘ä»¬ä»å¤ªé˜³èƒ½æˆ–è¢«åŠ¨æ”¶å…¥ä¸­è·å¾—æ¯å¹´25ï¼…çš„å®é™…ç»éªŒã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN467269/index.html">ä¿¡æ¯å®‰å…¨ä¸­çš„æ¨¡å‹</a></li>
<li><a href="../zh-CN467271/index.html">èŒä¸šç¨‹åºå‘˜ï¼Œä¸“ä¸šåŒ–å­¦å®¶</a></li>
<li><a href="../zh-CN467275/index.html">åˆ°äº†ç¨‹åºå‘˜ä¹‹æ—¥ã€‚ 2019å¹´ç¨‹åºå‘˜</a></li>
<li><a href="../zh-CN467277/index.html">pg_stat_statements + pg_stat_activity + loq_query = pg_ashï¼Ÿ</a></li>
<li><a href="../zh-CN467281/index.html">æ•°æ®ç§‘å­¦å®¶ç”»è±¡åœ¨ä¿„ç½—æ–¯ã€‚ ä»…äº‹å®</a></li>
<li><a href="../zh-CN467283/index.html">å¦‚ä½•å‘ç¥–æ¯è§£é‡ŠSQLå’ŒNoSQLä¹‹é—´çš„åŒºåˆ«</a></li>
<li><a href="../zh-CN467289/index.html">å¼€å‘å•ç‰‡ç±»Unixæ“ä½œç³»ç»Ÿ-GDTå’ŒIDTï¼ˆ5ï¼‰</a></li>
<li><a href="../zh-CN467291/index.html">iOSåˆ›é€ åŠ›ï¼šç»˜å›¾</a></li>
<li><a href="../zh-CN467295/index.html">æœŸå¾…å·²ä¹…çš„Androidä¸­çš„è§†å›¾ç»‘å®š</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>