<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🎓 🐠 🤦🏼 Nostalgia for Half Life - création d'un décodeur pour une station de radio pour recevoir la voix et le son final dans le style des moissonneuses-batteuses 🍁 👨🏼‍🔧 😴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il était une fois, lorsque les arbres étaient grands, il y avait un tel jeu de tir Half-Life, dont la poursuite est toujours attendue - c'est déjà un ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nostalgia for Half Life - création d'un décodeur pour une station de radio pour recevoir la voix et le son final dans le style des moissonneuses-batteuses</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443158/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/g3/bz/yx/g3bzyxms3axvba1v4b_wfskbvce.png"></div><br>  Il était une fois, lorsque les arbres étaient grands, il y avait un tel jeu de tir Half-Life, dont la poursuite est toujours attendue - c'est déjà un synonyme. <br><br>  Il y avait des adversaires tels que Combine (Combine Soldiers) - des gens changés par les envahisseurs. <br>  Pendant le jeu, vous pouviez entendre leurs conversations à la radio - et je rêvais juste d'une telle station de radio qui ferait ressembler la voix à eux et aurait le même son à la fin de l'émission. <br><br>  Après beaucoup de temps, j'ai quand même décidé de réaliser mon rêve. <br><a name="habracut"></a><br>  Les négociations étaient comme ça: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  A cette époque, je rêvais vraiment de faire émettre au moins le même bip roger à ma radio que dans ces négociations.  Qui ne sait pas ce qu'est un bip roger - un signal pour mettre fin à la transmission, celui qui retentit à la fin de chaque message. <br><br>  Dans le jeu, son ton change en fonction du soldat, voici quelque chose entre les deux: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ensuite, il m'a été difficile de le faire, mais le développement des microprocesseurs aujourd'hui a permis non seulement de le répéter facilement, mais aussi de ralentir la voix pour qu'elle soit encore plus similaire à ce qui était dans le jeu. <br><br>  Le cœur de ce schéma était le processeur de la société ATMEL - ATTINY85. <br><br>  Et oui - traitement audio en temps réel sur le minuscule ATTINY85 - c'est tout à fait possible :) <br><br><h2>  Le résultat du travail sur l'exemple de la voix de Geralt de Rivia </h2><br>  Son original <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Son modifié <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Le live ne semble pas si sourd et plus clair.  Ici, en raison des nombreuses transformations et transcodages, cela s'est produit, mais l'image globale, je pense, est compréhensible. <br><br>  Nous pouvons dire que tout cela est «juste pour le plaisir», mais si vous supprimez la transformation vocale, le schéma vous permet d'ajouter un bip roger à n'importe quelle station de radio si elle a un connecteur pour des accessoires comme «kenwood» (le même double connecteur). <br><br>  <i>Je l'ai testé sur des Baofeng-888, et il n'a tout simplement pas de bip roger, donc la possibilité de le faire, ou, par exemple, de brouiller, est assez amusante.</i> <br><br><h2>  Comment fonctionne le firmware? </h2><br>  En fait, il n'y a rien de compliqué là-bas. <br><br>  Un mode périphérique à basse vitesse est utilisé (via PLLCSR) - dans ce cas, ATTINY peut être alimenté à partir de 2,7 volts, ce qui donne une fréquence d'échantillonnage d'environ 9 kHz. <br><br>  Il était possible d'utiliser le mode haute vitesse, ce qui donnerait une fréquence d'environ 18 kHz, mais il faudrait alors utiliser une tension d'alimentation de 4,5 volts, et cela posait des problèmes. <br><br>  Lorsque vous appuyez sur le bouton de transmission de la tangente, une interruption est générée et ATTINY se réveille, active le mode de transmission vers les stations de radio et utilise l'ADC à une fréquence d'environ 8,9 kHz pour numériser la voix du microphone dans un tampon cyclique: <br><br><img src="https://habrastorage.org/webt/dl/ue/ix/dlueixlyg_8jgsraj9hhl4xtsyw.png"><br><br>  Lorsque la valeur suivante est entrée dans le tampon, elle est mélangée avec la précédente - la moyenne est trouvée, c'est-à-dire  la formule est: <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>a</mi><mi>n</mi><mi>c</mi><mi>i</mi><mi>e</mi><mi>n</mi><mi>n</mi><mi>e</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>e</mi><mi>u</mi><mi>r</mi><mo>+</mo><mi>n</mi><mi>o</mi><mi>u</mi><mi>v</mi><mi>e</mi><mi>l</mi><mi>l</mi><mi>e</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>e</mi><mi>u</mi><mi>r</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="39.242ex" height="2.66ex" viewBox="0 -832 16895.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-61" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6E" x="919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-63" x="1519" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-69" x="1953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="2298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6E" x="2765" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6E" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="3966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-56" x="4432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-61" x="5202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6C" x="5731" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="6030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-75" x="6496" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-72" x="7069" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMAIN-2B" x="7742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6E" x="8743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6F" x="9343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-75" x="9829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-76" x="10401" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="10887" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6C" x="11353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6C" x="11652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="11950" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-56" x="12417" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-61" x="13186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6C" x="13716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="14014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-75" x="14481" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-72" x="15053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMAIN-29" x="15505" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMAIN-2F" x="15894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMAIN-32" x="16395" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>a</mi><mi>n</mi><mi>c</mi><mi>i</mi><mi>e</mi><mi>n</mi><mi>n</mi><mi>e</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>e</mi><mi>u</mi><mi>r</mi><mo>+</mo><mi>n</mi><mi>o</mi><mi>u</mi><mi>v</mi><mi>e</mi><mi>l</mi><mi>l</mi><mi>e</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>e</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> (ancienneValeur + nouvelleValeur) / 2 </script>  . <br><br>  Cela nous donne l'occasion de découvrir le cas où l'ancien sens n'a pas encore été abandonné, et un nouveau a déjà pris sa place.  Et cela arrivera tôt ou tard, car  les vitesses de lecture et d'écriture sont différentes. <br>  Les pointeurs vers le tampon augmentent après chacune de ces opérations, lorsqu'ils atteignent le maximum, ils sont remis à zéro - c'est-à-dire  au début du tampon - c'est pourquoi il est appelé circulaire. <br><br>  ATTINY n'a pas beaucoup de mémoire - seulement 500 octets, dans ce cas 450 octets seront utilisés sous le tampon en anneau, car  la mémoire est également nécessaire pour les variables et la pile. <br><br>  Le tampon a deux pointeurs - l'un est des données écrites, l'autre est lu et le rapport de ceci définit juste la vitesse de lecture par rapport à la vitesse d'écriture. <br><br>  Lorsque les données de lecture sont transmises via PWM et après un filtre de lissage, elles se transforment en son, qui va dans le chemin du microphone de la station de radio. <br><br>  Soit dit en passant, grâce à PWM, il s'avère de très bonne qualité et il peut être utilisé pour n'importe quel endroit où vous devez jouer une sorte de son (boîtes à musique, cadeaux, etc.), et ATTINY a suffisamment de conclusions pour connecter même SD - et alors vous pouvez même compositions entières à jouer. <br><br>  Mais revenons à notre schéma: lorsque vous relâchez le bouton, ATTINY maintient toujours le mode de transmission, arrête la numérisation et donne le son numérique du roger par PWM, puis désactive le mode de transmission et se met en veille pour réduire la consommation d'énergie. <br><br>  Du son, car  prend beaucoup d'espace - environ 5 kilo-octets - occupe une partie de la mémoire du programme - parce que  cette mémoire est suffisante pour le code - cela résout le problème du manque de mémoire. <br><br>  En ce qui concerne le degré de ralentissement ou d'accélération de la voix, le coefficient souhaité doit être enregistré dans l'adresse 0 EEPROM ATTINY et, en conséquence, il peut être modifié dans la plage de 0 à 255. <br><br>  <u>Exemples de valeurs:</u> <br>  <b>30</b> accélérations de voix <br>  <b>55</b> inchangé <br>  <b>75</b> ralentissement de la voix <br><br><h2>  Schéma </h2><br>  L'appareil lui-même sera une tangente (ou plus correctement - un manipulateur) à la station de radio et fonctionnera avec elle via le connecteur d'accessoires Kenwood standard. <br><br>  Le schéma est très, très simple, facile à assembler «sur le genou». <br><br>  J'ai commandé le module amplificateur de microphone sur Aliexpress, et je recommande juste ce type de module, qui est ici sur la photo.  Il est alimenté par 3-5v, le coût est d'environ 2 $. <br><br>  Un haut-parleur a besoin d'environ 8 ohms, 0,5-1 watts. <br><br>  Bouton - tout, travaillant sur le circuit.  Toute LED capable de fonctionner à partir de 3 volts, ou avec une résistance appropriée. <br><br> <a href=""><img src="https://habrastorage.org/webt/r3/eg/de/r3egdebjp7mjth826itebhr9d7q.png" width="500"></a> <br><br>  Il y a une caractéristique qui n'est pas tombée dans ce circuit - une alimentation de 5 volts pour les accessoires est fournie dans le connecteur pour accessoires, mais spécifiquement, dans les Baofeng-888, quelque chose que les Chinois ont fait de mal.  Non seulement il y a 3 volts, il tombe également à 0,7 volts sous charge et, bien sûr, le circuit ne fonctionne pas. <br><br>  Afin de contourner cela, un minuscule convertisseur DC-DC de 1,2 à 3,3 volts avec Aliexpress et un connecteur externe pour connecter n'importe quelle batterie AA ont été ajoutés. <br><br>  Et par défaut, lorsque rien n'est inséré dans le connecteur, le circuit essaie d'être alimenté par la station radio. <br><br>  À quoi ressemble le circuit: <br><br> <a href=""><img src="https://habrastorage.org/webt/ho/oy/to/hooytoq6yfhr2pmog_9eze5jsvk.jpeg" width="320"></a> <br><br>  Coupable de la célébration: <br><br> <a href=""><img src="https://habrastorage.org/webt/ke/h6/4c/keh64ctc2adcu7lxkrchjmistlc.jpeg" width="320"></a> <br><br>  Comment faire une double prise (connecteur KENWOOD) pour une station de radio: <br><br><img src="https://habrastorage.org/webt/2w/kd/iw/2wkdiwkglbsmwnpxvggbhqxzsyg.jpeg" width="320"><br><br>  Deux fiches 3,5 et 2,5, enroulées ensemble avec du ruban électrique - bien sans elle. <br><br><h2>  Logement </h2><br>  Il n'y a rien de particulièrement compliqué ici, la seule chose que j'ai eu à bricoler est une fenêtre en forme de lambda.  Il s'est avéré assez tortueux, mais un peu comme :) <br><br>  Il a fait un dremel, puis l'a collé avec du ruban adhésif sur le côté avant, et a versé de la colle du pistolet à colle sur le côté opposé, a noyé la LED dedans, qui s'allume lorsque la transmission est en cours. <br><br>  Il n'y a pas encore de connecteur d'alimentation externe. <br><br>  À l'extérieur: <br><br> <a href=""><img src="https://habrastorage.org/webt/px/7q/qp/px7qqpfgmj4pgzj2xwazhq_n5gy.jpeg" width="320"></a> <br><br>  À l'intérieur: <br><br> <a href=""><img src="https://habrastorage.org/webt/20/fd/ml/20fdml5w1ajgw-urgyhpmhzkpnk.jpeg" width="320"></a> <br><br>  Tous ensemble: <br><br> <a href=""><img src="https://habrastorage.org/webt/sm/fy/-e/smfy-efgipxgeieezgy4yobmsfu.jpeg"></a> <br><br><h2>  Résumé </h2><br>  En général, j'ai réalisé mon rêve d'enfance et bien qu'il soit irrationnel, son accomplissement réchauffe mon âme adulte.  J'espère que quelqu'un éprouve des sentiments similaires.  :) <br><br><h2>  Firmware </h2><br>  Bits FUSE pour ATTINY85 (8Mhz, puissance&gt; = 2.7v): <br><br>  <b>0xE2</b> LOW <br>  <b>0xDD</b> HIGH <br>  <b>0xFF</b> EXTENDED <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Télécharger les fichiers du firmware</b></a> <br>  Dans un proche avenir, j'essaierai de peigner et de définir les sources de tout cela. <br><br><hr><br><h2>  Remarque </h2><br>  <i>Puisque mon frère n'a pas travaillé avec les OVNIS, j'ai décidé de publier cet article sur Habré en mon nom propre.</i>  <i>Quand je l'ai récupéré - vous savez - j'étais heureux quand j'étais enfant.</i>  <i>Et je pensais qu'elle méritait l'attention de la habrasociety.</i> <i><br><br></i>  <i>Elle vit avec moi avec la station de radio YAESU et fonctionne très bien, alimentée par la station elle-même.</i> <i><br><br></i>  <i>Les nouvelles versions du firmware et les fichiers qui s'y rapportent peuvent être trouvés sur le blog de mon frère, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>protocoloder.ru</b></a> .</i> <i><br><br></i>  <i>Eh bien, puisque j'ai été directement impliqué dans le développement et que j'ai monté la même chose moi-même, je vais essayer de répondre à toutes les questions à ce sujet.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443158/">https://habr.com/ru/post/fr443158/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443144/index.html">École Programmation 42 écoles aux Etats-Unis - le rêve américain accessible à tous</a></li>
<li><a href="../fr443146/index.html">Parking intelligent - navigation adaptative, éclairage et bornes de recharge pour véhicules électriques</a></li>
<li><a href="../fr443150/index.html">Angular vs React: bibliothèque complète avec un framework</a></li>
<li><a href="../fr443152/index.html">Comment bloquer Microsoft Edge en arrière-plan sous Windows 10</a></li>
<li><a href="../fr443154/index.html">Rétroéclairage du clavier DasKeyboard basé sur la glycémie à l'aide de l'API REST</a></li>
<li><a href="../fr443160/index.html">Le condensé de matériaux intéressants pour le développeur mobile # 289 (4 mars - 10 mars)</a></li>
<li><a href="../fr443162/index.html">Application de la matrice et des diagrammes de compétences</a></li>
<li><a href="../fr443164/index.html">Astuce de réseau de neurones pour les débutants</a></li>
<li><a href="../fr443166/index.html">Créer et mettre à jour des listes de diffusion dans Zimbra Collaboration OSE en fonction des groupes et des utilisateurs Active Directory</a></li>
<li><a href="../fr443174/index.html">hellOGL: OpenGL bonjour le monde</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>