<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüéì üê† ü§¶üèº Nostalgia for Half Life - cr√©ation d'un d√©codeur pour une station de radio pour recevoir la voix et le son final dans le style des moissonneuses-batteuses üçÅ üë®üèº‚Äçüîß üò¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il √©tait une fois, lorsque les arbres √©taient grands, il y avait un tel jeu de tir Half-Life, dont la poursuite est toujours attendue - c'est d√©j√† un ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nostalgia for Half Life - cr√©ation d'un d√©codeur pour une station de radio pour recevoir la voix et le son final dans le style des moissonneuses-batteuses</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443158/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/g3/bz/yx/g3bzyxms3axvba1v4b_wfskbvce.png"></div><br>  Il √©tait une fois, lorsque les arbres √©taient grands, il y avait un tel jeu de tir Half-Life, dont la poursuite est toujours attendue - c'est d√©j√† un synonyme. <br><br>  Il y avait des adversaires tels que Combine (Combine Soldiers) - des gens chang√©s par les envahisseurs. <br>  Pendant le jeu, vous pouviez entendre leurs conversations √† la radio - et je r√™vais juste d'une telle station de radio qui ferait ressembler la voix √† eux et aurait le m√™me son √† la fin de l'√©mission. <br><br>  Apr√®s beaucoup de temps, j'ai quand m√™me d√©cid√© de r√©aliser mon r√™ve. <br><a name="habracut"></a><br>  Les n√©gociations √©taient comme √ßa: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  A cette √©poque, je r√™vais vraiment de faire √©mettre au moins le m√™me bip roger √† ma radio que dans ces n√©gociations.  Qui ne sait pas ce qu'est un bip roger - un signal pour mettre fin √† la transmission, celui qui retentit √† la fin de chaque message. <br><br>  Dans le jeu, son ton change en fonction du soldat, voici quelque chose entre les deux: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ensuite, il m'a √©t√© difficile de le faire, mais le d√©veloppement des microprocesseurs aujourd'hui a permis non seulement de le r√©p√©ter facilement, mais aussi de ralentir la voix pour qu'elle soit encore plus similaire √† ce qui √©tait dans le jeu. <br><br>  Le c≈ìur de ce sch√©ma √©tait le processeur de la soci√©t√© ATMEL - ATTINY85. <br><br>  Et oui - traitement audio en temps r√©el sur le minuscule ATTINY85 - c'est tout √† fait possible :) <br><br><h2>  Le r√©sultat du travail sur l'exemple de la voix de Geralt de Rivia </h2><br>  Son original <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Son modifi√© <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Le live ne semble pas si sourd et plus clair.  Ici, en raison des nombreuses transformations et transcodages, cela s'est produit, mais l'image globale, je pense, est compr√©hensible. <br><br>  Nous pouvons dire que tout cela est ¬´juste pour le plaisir¬ª, mais si vous supprimez la transformation vocale, le sch√©ma vous permet d'ajouter un bip roger √† n'importe quelle station de radio si elle a un connecteur pour des accessoires comme ¬´kenwood¬ª (le m√™me double connecteur). <br><br>  <i>Je l'ai test√© sur des Baofeng-888, et il n'a tout simplement pas de bip roger, donc la possibilit√© de le faire, ou, par exemple, de brouiller, est assez amusante.</i> <br><br><h2>  Comment fonctionne le firmware? </h2><br>  En fait, il n'y a rien de compliqu√© l√†-bas. <br><br>  Un mode p√©riph√©rique √† basse vitesse est utilis√© (via PLLCSR) - dans ce cas, ATTINY peut √™tre aliment√© √† partir de 2,7 volts, ce qui donne une fr√©quence d'√©chantillonnage d'environ 9 kHz. <br><br>  Il √©tait possible d'utiliser le mode haute vitesse, ce qui donnerait une fr√©quence d'environ 18 kHz, mais il faudrait alors utiliser une tension d'alimentation de 4,5 volts, et cela posait des probl√®mes. <br><br>  Lorsque vous appuyez sur le bouton de transmission de la tangente, une interruption est g√©n√©r√©e et ATTINY se r√©veille, active le mode de transmission vers les stations de radio et utilise l'ADC √† une fr√©quence d'environ 8,9 kHz pour num√©riser la voix du microphone dans un tampon cyclique: <br><br><img src="https://habrastorage.org/webt/dl/ue/ix/dlueixlyg_8jgsraj9hhl4xtsyw.png"><br><br>  Lorsque la valeur suivante est entr√©e dans le tampon, elle est m√©lang√©e avec la pr√©c√©dente - la moyenne est trouv√©e, c'est-√†-dire  la formule est: <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>a</mi><mi>n</mi><mi>c</mi><mi>i</mi><mi>e</mi><mi>n</mi><mi>n</mi><mi>e</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>e</mi><mi>u</mi><mi>r</mi><mo>+</mo><mi>n</mi><mi>o</mi><mi>u</mi><mi>v</mi><mi>e</mi><mi>l</mi><mi>l</mi><mi>e</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>e</mi><mi>u</mi><mi>r</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="39.242ex" height="2.66ex" viewBox="0 -832 16895.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-61" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6E" x="919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-63" x="1519" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-69" x="1953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="2298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6E" x="2765" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6E" x="3365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="3966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-56" x="4432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-61" x="5202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6C" x="5731" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="6030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-75" x="6496" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-72" x="7069" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMAIN-2B" x="7742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6E" x="8743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6F" x="9343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-75" x="9829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-76" x="10401" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="10887" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6C" x="11353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6C" x="11652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="11950" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-56" x="12417" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-61" x="13186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-6C" x="13716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-65" x="14014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-75" x="14481" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMATHI-72" x="15053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMAIN-29" x="15505" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMAIN-2F" x="15894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/443158/&amp;usg=ALkJrhhkjUhEl1SYJqzGksZLCW-lfs_I6w#MJMAIN-32" x="16395" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>a</mi><mi>n</mi><mi>c</mi><mi>i</mi><mi>e</mi><mi>n</mi><mi>n</mi><mi>e</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>e</mi><mi>u</mi><mi>r</mi><mo>+</mo><mi>n</mi><mi>o</mi><mi>u</mi><mi>v</mi><mi>e</mi><mi>l</mi><mi>l</mi><mi>e</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>e</mi><mi>u</mi><mi>r</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> (ancienneValeur + nouvelleValeur) / 2 </script>  . <br><br>  Cela nous donne l'occasion de d√©couvrir le cas o√π l'ancien sens n'a pas encore √©t√© abandonn√©, et un nouveau a d√©j√† pris sa place.  Et cela arrivera t√¥t ou tard, car  les vitesses de lecture et d'√©criture sont diff√©rentes. <br>  Les pointeurs vers le tampon augmentent apr√®s chacune de ces op√©rations, lorsqu'ils atteignent le maximum, ils sont remis √† z√©ro - c'est-√†-dire  au d√©but du tampon - c'est pourquoi il est appel√© circulaire. <br><br>  ATTINY n'a pas beaucoup de m√©moire - seulement 500 octets, dans ce cas 450 octets seront utilis√©s sous le tampon en anneau, car  la m√©moire est √©galement n√©cessaire pour les variables et la pile. <br><br>  Le tampon a deux pointeurs - l'un est des donn√©es √©crites, l'autre est lu et le rapport de ceci d√©finit juste la vitesse de lecture par rapport √† la vitesse d'√©criture. <br><br>  Lorsque les donn√©es de lecture sont transmises via PWM et apr√®s un filtre de lissage, elles se transforment en son, qui va dans le chemin du microphone de la station de radio. <br><br>  Soit dit en passant, gr√¢ce √† PWM, il s'av√®re de tr√®s bonne qualit√© et il peut √™tre utilis√© pour n'importe quel endroit o√π vous devez jouer une sorte de son (bo√Ætes √† musique, cadeaux, etc.), et ATTINY a suffisamment de conclusions pour connecter m√™me SD - et alors vous pouvez m√™me compositions enti√®res √† jouer. <br><br>  Mais revenons √† notre sch√©ma: lorsque vous rel√¢chez le bouton, ATTINY maintient toujours le mode de transmission, arr√™te la num√©risation et donne le son num√©rique du roger par PWM, puis d√©sactive le mode de transmission et se met en veille pour r√©duire la consommation d'√©nergie. <br><br>  Du son, car  prend beaucoup d'espace - environ 5 kilo-octets - occupe une partie de la m√©moire du programme - parce que  cette m√©moire est suffisante pour le code - cela r√©sout le probl√®me du manque de m√©moire. <br><br>  En ce qui concerne le degr√© de ralentissement ou d'acc√©l√©ration de la voix, le coefficient souhait√© doit √™tre enregistr√© dans l'adresse 0 EEPROM ATTINY et, en cons√©quence, il peut √™tre modifi√© dans la plage de 0 √† 255. <br><br>  <u>Exemples de valeurs:</u> <br>  <b>30</b> acc√©l√©rations de voix <br>  <b>55</b> inchang√© <br>  <b>75</b> ralentissement de la voix <br><br><h2>  Sch√©ma </h2><br>  L'appareil lui-m√™me sera une tangente (ou plus correctement - un manipulateur) √† la station de radio et fonctionnera avec elle via le connecteur d'accessoires Kenwood standard. <br><br>  Le sch√©ma est tr√®s, tr√®s simple, facile √† assembler ¬´sur le genou¬ª. <br><br>  J'ai command√© le module amplificateur de microphone sur Aliexpress, et je recommande juste ce type de module, qui est ici sur la photo.  Il est aliment√© par 3-5v, le co√ªt est d'environ 2 $. <br><br>  Un haut-parleur a besoin d'environ 8 ohms, 0,5-1 watts. <br><br>  Bouton - tout, travaillant sur le circuit.  Toute LED capable de fonctionner √† partir de 3 volts, ou avec une r√©sistance appropri√©e. <br><br> <a href=""><img src="https://habrastorage.org/webt/r3/eg/de/r3egdebjp7mjth826itebhr9d7q.png" width="500"></a> <br><br>  Il y a une caract√©ristique qui n'est pas tomb√©e dans ce circuit - une alimentation de 5 volts pour les accessoires est fournie dans le connecteur pour accessoires, mais sp√©cifiquement, dans les Baofeng-888, quelque chose que les Chinois ont fait de mal.  Non seulement il y a 3 volts, il tombe √©galement √† 0,7 volts sous charge et, bien s√ªr, le circuit ne fonctionne pas. <br><br>  Afin de contourner cela, un minuscule convertisseur DC-DC de 1,2 √† 3,3 volts avec Aliexpress et un connecteur externe pour connecter n'importe quelle batterie AA ont √©t√© ajout√©s. <br><br>  Et par d√©faut, lorsque rien n'est ins√©r√© dans le connecteur, le circuit essaie d'√™tre aliment√© par la station radio. <br><br>  √Ä quoi ressemble le circuit: <br><br> <a href=""><img src="https://habrastorage.org/webt/ho/oy/to/hooytoq6yfhr2pmog_9eze5jsvk.jpeg" width="320"></a> <br><br>  Coupable de la c√©l√©bration: <br><br> <a href=""><img src="https://habrastorage.org/webt/ke/h6/4c/keh64ctc2adcu7lxkrchjmistlc.jpeg" width="320"></a> <br><br>  Comment faire une double prise (connecteur KENWOOD) pour une station de radio: <br><br><img src="https://habrastorage.org/webt/2w/kd/iw/2wkdiwkglbsmwnpxvggbhqxzsyg.jpeg" width="320"><br><br>  Deux fiches 3,5 et 2,5, enroul√©es ensemble avec du ruban √©lectrique - bien sans elle. <br><br><h2>  Logement </h2><br>  Il n'y a rien de particuli√®rement compliqu√© ici, la seule chose que j'ai eu √† bricoler est une fen√™tre en forme de lambda.  Il s'est av√©r√© assez tortueux, mais un peu comme :) <br><br>  Il a fait un dremel, puis l'a coll√© avec du ruban adh√©sif sur le c√¥t√© avant, et a vers√© de la colle du pistolet √† colle sur le c√¥t√© oppos√©, a noy√© la LED dedans, qui s'allume lorsque la transmission est en cours. <br><br>  Il n'y a pas encore de connecteur d'alimentation externe. <br><br>  √Ä l'ext√©rieur: <br><br> <a href=""><img src="https://habrastorage.org/webt/px/7q/qp/px7qqpfgmj4pgzj2xwazhq_n5gy.jpeg" width="320"></a> <br><br>  √Ä l'int√©rieur: <br><br> <a href=""><img src="https://habrastorage.org/webt/20/fd/ml/20fdml5w1ajgw-urgyhpmhzkpnk.jpeg" width="320"></a> <br><br>  Tous ensemble: <br><br> <a href=""><img src="https://habrastorage.org/webt/sm/fy/-e/smfy-efgipxgeieezgy4yobmsfu.jpeg"></a> <br><br><h2>  R√©sum√© </h2><br>  En g√©n√©ral, j'ai r√©alis√© mon r√™ve d'enfance et bien qu'il soit irrationnel, son accomplissement r√©chauffe mon √¢me adulte.  J'esp√®re que quelqu'un √©prouve des sentiments similaires.  :) <br><br><h2>  Firmware </h2><br>  Bits FUSE pour ATTINY85 (8Mhz, puissance&gt; = 2.7v): <br><br>  <b>0xE2</b> LOW <br>  <b>0xDD</b> HIGH <br>  <b>0xFF</b> EXTENDED <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>T√©l√©charger les fichiers du firmware</b></a> <br>  Dans un proche avenir, j'essaierai de peigner et de d√©finir les sources de tout cela. <br><br><hr><br><h2>  Remarque </h2><br>  <i>Puisque mon fr√®re n'a pas travaill√© avec les OVNIS, j'ai d√©cid√© de publier cet article sur Habr√© en mon nom propre.</i>  <i>Quand je l'ai r√©cup√©r√© - vous savez - j'√©tais heureux quand j'√©tais enfant.</i>  <i>Et je pensais qu'elle m√©ritait l'attention de la habrasociety.</i> <i><br><br></i>  <i>Elle vit avec moi avec la station de radio YAESU et fonctionne tr√®s bien, aliment√©e par la station elle-m√™me.</i> <i><br><br></i>  <i>Les nouvelles versions du firmware et les fichiers qui s'y rapportent peuvent √™tre trouv√©s sur le blog de mon fr√®re, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>protocoloder.ru</b></a> .</i> <i><br><br></i>  <i>Eh bien, puisque j'ai √©t√© directement impliqu√© dans le d√©veloppement et que j'ai mont√© la m√™me chose moi-m√™me, je vais essayer de r√©pondre √† toutes les questions √† ce sujet.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443158/">https://habr.com/ru/post/fr443158/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443144/index.html">√âcole Programmation 42 √©coles aux Etats-Unis - le r√™ve am√©ricain accessible √† tous</a></li>
<li><a href="../fr443146/index.html">Parking intelligent - navigation adaptative, √©clairage et bornes de recharge pour v√©hicules √©lectriques</a></li>
<li><a href="../fr443150/index.html">Angular vs React: biblioth√®que compl√®te avec un framework</a></li>
<li><a href="../fr443152/index.html">Comment bloquer Microsoft Edge en arri√®re-plan sous Windows 10</a></li>
<li><a href="../fr443154/index.html">R√©tro√©clairage du clavier DasKeyboard bas√© sur la glyc√©mie √† l'aide de l'API REST</a></li>
<li><a href="../fr443160/index.html">Le condens√© de mat√©riaux int√©ressants pour le d√©veloppeur mobile # 289 (4 mars - 10 mars)</a></li>
<li><a href="../fr443162/index.html">Application de la matrice et des diagrammes de comp√©tences</a></li>
<li><a href="../fr443164/index.html">Astuce de r√©seau de neurones pour les d√©butants</a></li>
<li><a href="../fr443166/index.html">Cr√©er et mettre √† jour des listes de diffusion dans Zimbra Collaboration OSE en fonction des groupes et des utilisateurs Active Directory</a></li>
<li><a href="../fr443174/index.html">hellOGL: OpenGL bonjour le monde</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>