<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëéüèº üîÖ üòæ Solu√ß√£o de escassez de endere√ßos com CGNAT üêü üÜó üå∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A Internet entrou em todos os aspectos de nossas vidas, sem exce√ß√£o. A partir do conhecimento de quais dispositivos t√™m portas para conectar-se √† rede...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Solu√ß√£o de escassez de endere√ßos com CGNAT</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nag/blog/410325/"><img src="https://habrastorage.org/webt/u_/sw/9z/u_sw9zekm8jepuprzoayoppwiye.jpeg"><br><br>  A Internet entrou em todos os aspectos de nossas vidas, sem exce√ß√£o.  A partir do conhecimento de quais dispositivos t√™m portas para conectar-se √† rede, voc√™ pode ficar louco.  Enquanto isso, o n√∫mero de endere√ßos IP diminui na propor√ß√£o direta. <br><a name="habracut"></a><br>  Um exemplo simples: sou bastante conservador a esse respeito, mas j√° conectei: <br><br><ul><li>  TV (2 pe√ßas); </li><li>  telefone (2 sim); </li><li>  DVR </li><li>  um carro; </li><li>  c√£o (coleira com GPS / GPRS). </li></ul><br>  Avan√ßar na fila: <br><br><ul><li>  luz na casa; </li><li>  chaleira; </li><li>  t√°bua de passar. </li></ul><br>  E no futuro, h√° muito mais.  Em casa, no trabalho, no carro, no transporte p√∫blico, no pa√≠s - em todos os lugares h√° acesso √† Internet.  √â mais f√°cil dizer onde n√£o est√° ... Embora, pelo contr√°rio, seja mais dif√≠cil, j√° que a Internet est√° em todo lugar. <br><br>  O n√∫mero de dispositivos "conectados" est√° crescendo em um ritmo exorbitante.  As estat√≠sticas e previs√µes de crescimento para hardware que precisam de um endere√ßo IP n√£o podem ser analisadas, mas todas as fontes concordam que o crescimento √© exponencial e essa tend√™ncia continuar√° nos pr√≥ximos 5 a 10 anos. <br><br>  Com a pr√≥xima expans√£o da rede, o pr√≥ximo bloco de endere√ßos IP entrou em produ√ß√£o e quase n√£o sobraram mordidas ... O LIR PI n√£o desiste (que j√° √© previsivelmente j√° com 5 anos), e o PA est√° ficando mais caro a cada ano, e o aluguel de um recurso cr√≠tico √© assustador, com riscos consider√°veis.  Havia praticamente a √∫ltima chance de obter o status LIR e o cobi√ßado / 22, e, a julgar pelas √∫ltimas not√≠cias do RIPE, logo n√£o haveria essa chance: o registrador europeu deu mais da metade do √∫ltimo bloco / 8. <br><br><img src="https://habrastorage.org/webt/xe/vt/pi/xevtpienobbeec7n7yuthbvtf78.png"><br><br>  E todo o estoque de endere√ßos est√° se esgotando: <br><br><img src="https://habrastorage.org/webt/mc/hr/dr/mchrdrds2wk-k6t814sjggs9_ss.jpeg"><br><br>  Observando o gr√°fico, fica claro que as previs√µes dos registradores se tornam realidade.  Apesar de todos os esfor√ßos do RIPE para prolongar a agonia, em 2017 foram emitidos cerca de 4 milh√µes de endere√ßos e 11 milh√µes no total.  E isso sugere que at√© 2020 elas n√£o ser√£o de todo.  E os operadores ter√£o que fazer uma escolha: salve o IPv4 intensivamente ou mude para o IPv6. <br><br>  Refletindo sobre a arquitetura futura da rede, concluo que, a julgar pelo ritmo da implementa√ß√£o do IPv6, nos pr√≥ximos (pelo menos) 10 a 15 anos, o tr√°fego principal ainda permanecer√° na vers√£o 4 do protocolo da Internet.  Hoje, na R√∫ssia, nos an√∫ncios do BGP, apenas cerca de 15% dos ASs t√™m IPv6 e no mundo - pouco mais de 25%, <br><br><img src="https://habrastorage.org/webt/v3/9x/6q/v39x6qekc0bo6msrsj9pyfmhaii.png"><br><br>  O tr√°fego IPv6 no MSK-IX √© inferior a 1% do IPv4 (origem), <br><br><img src="https://habrastorage.org/webt/0i/xk/ib/0ixkibpqzir39pvuanb3wrnrr4i.png"><br><br><img src="https://habrastorage.org/webt/1r/o_/tv/1ro_tvylgwt9ffb-osdbk3govvw.png"><br><br>  de acordo com o Google - pouco mais de 20% dos usu√°rios no mundo (e apenas 1,34% na R√∫ssia) s√£o provenientes do IPv6. <br><br><img src="https://habrastorage.org/webt/qe/bi/qx/qebiqxf0n-jssx4m-cryi8hx6ic.jpeg"><br><br>  H√° um aumento no tr√°fego IPv6, mas n√£o √© t√£o significativo que se preocupe seriamente e apresse-se com sua implementa√ß√£o.  Isso se deve ao fato de o suporte nativo ao IPv6 ainda n√£o estar implementado em todos os dispositivos clientes!  Mesmo os novos, mesmo em coisas supernovas, reivindicando uma nova gera√ß√£o de dispositivos IoT.  Ent√£o, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo de</a> um dos funcion√°rios do Google, Avery Pennarun, corretamente, ap√≥s a transi√ß√£o total de redes para o IPv6, ainda precisamos ... NAT.  Para que l√¢mpadas IPv4 desatualizadas possam acessar a Internet. <br><br>  Existem muitos artigos sobre a implementa√ß√£o do IPv6.  Com m√©dia de megabytes de texto lido e nossos pr√≥prios experimentos, a conclus√£o no final de 2017 √© a seguinte: voc√™ precisa implementar o IPv6, mas com cuidado.  Haver√° muitos ancinhos, e cada um ter√° o seu.  Com o suporte da v6, tudo ainda est√° ruim, mesmo no equipamento do operador (voc√™ pode ler sobre o rake de implementa√ß√£o pelo menos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ).  Voc√™ precisa implementar o DualStack, ou seja,  Emita endere√ßos IPv6 e IPv4 para o cliente ao mesmo tempo.  Isso significa que os remanescentes do IPv4 ainda precisam ser distribu√≠dos aos clientes, e logo valer√£o o seu peso em ouro e precisar√£o ser salvos.  Portanto, nos pr√≥ximos (pelo menos) 10 anos, o NAT n√£o ir√° a lugar algum, o que significa que voc√™ precisa planejar o desenvolvimento de redes levando em considera√ß√£o a implementa√ß√£o do Dual Stack, ou simplesmente comprar novas pe√ßas de ferro apenas com o suporte da v6, a fim de obter o m√≠nimo de problemas poss√≠vel. <br><br>  Prevendo o crescimento do tr√°fego e o n√∫mero de assinantes, estou convencido de que no hardware existente que implementa o NAT, os recursos acabar√£o em breve e ser√° necess√°rio expandir.  √â necess√°rio resolver as seguintes tarefas: <br><br><ul><li>  fornecer um determinado n√∫mero de transmiss√µes por assinante; </li><li>  fornecer pool de endere√ßos - todas as conex√µes de um cliente devem ser transmitidas para o mesmo IP branco; </li><li>  limitar o tempo de vida de uma transmiss√£o; </li><li>  mantenha um log de transmiss√£o (para SORM). </li></ul><br>  Que solu√ß√µes o mercado nos oferece? <br><br><img src="https://habrastorage.org/webt/l2/1k/zx/l21kzx7bdd6kfikn3s3inpyy9pg.jpeg"><br><br>  A escolha das solu√ß√µes de hardware √© a escolha da marca e a esperan√ßa de estabilidade e confiabilidade.  √â sobre como escolher um carro topo de gama - Ferrari, Lamborghini, Maclaren ... Todos eles certamente s√£o bons, mas o or√ßamento para a compra √© muito grande e a opera√ß√£o requer uma equipe de engenharia altamente qualificada.  E essa qualifica√ß√£o, al√©m de muito cara, deve ser adaptada a um fabricante espec√≠fico.  Por exemplo, Juniper est√° pronto para ensinar seu administrador a configurar o NAT em seu equipamento por um pouco mais de 700 USD (aqui) e sujeito apenas √† disponibilidade de um certificado AJSPR.  Portanto, se voc√™ j√° possui o Cisco ASR no n√∫cleo da rede, √© claro que n√£o faz sentido considerar, por exemplo, Ericcsson executar uma √∫nica fun√ß√£o nele. <br><br>  Por outro lado, a implementa√ß√£o do NAT em hardware puro (ASIC) √© bastante ex√≥tica e, como prova disso, o m√≥dulo CGSE para Cisco nada mais √© do que um servidor x.86 com software propriet√°rio baseado no FreeBSD, adaptado para funcionar como parte do roteador de hardware.  E, nesse sentido, seu pre√ßo parece completamente alto.  Mas a funcionalidade mais cobi√ßada das solu√ß√µes de hardware de marca √© "configurar e esquecer", √© uma pena, s√≥ que ainda n√£o foi 100% implementada por ningu√©m.  Vale a pena colocar plataformas virtualizadas, como NFWare Virtual Carrier Grade NAT, Juniper vSRX / vMX e outras solu√ß√µes NFV, para as quais NAT √© um caso interessante para o conceito de NFV distribu√≠do (dNFV), quando as fun√ß√µes de rede s√£o logicamente centralizadas (temos um √∫nico pool) endere√ßos e recursos e um √∫nico ponto de gerenciamento), mas ao mesmo tempo s√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">distribu√≠dos</a> geograficamente.  Mas este t√≥pico √© digno de uma revis√£o separada e suficientemente abrangente. <br><br>  Acredita-se que o futuro do NFV n√£o seja em v√£o interessante para esses t√≥picos: marcas eminentes tradicionalmente ocupam as primeiras posi√ß√µes no mercado de ferro da operadora e grandes investidores financiam ativamente tudo relacionado √† virtualiza√ß√£o, incluindo fun√ß√µes de rede (por exemplo, AFK Systems e NFWare).  Mas NFV, no quadro deste artigo, n√£o tocarei mais. <br><br>  Al√©m disso, o Mikrotik se destaca um pouco, o que pode ser implementado nas plataformas x.86 e n√£o x.86 (CCR) e em um ambiente virtualizado (CHR), mas, no entanto, este √© um roteador simples que processa quase todas as fun√ß√µes processadores id√™nticos.  Mas, tendo em vista que o CCR √© um dispositivo completo com software propriet√°rio - eu tamb√©m o inclu√≠ na se√ß√£o de hardware (a prop√≥sito, esta √© uma das poucas solu√ß√µes para redes pequenas - o limite de desempenho no modo NAT + √© de cerca de 4-5 Gb / s para modelos CCR-1036) e RouterOs para x.86 - software - acabou na se√ß√£o x.86. <br><br>  A automontagem no Linux / FreeBSD √©, se voc√™ voltar aos t√≥picos automotivos, um carro de rally.  Precisamos adotar uma plataforma que foi originalmente projetada para fins civis, mec√¢nicos competentes e vi, torcer, ajustar, ajustar, reconstruir e esperar que, no final, todos possamos ir muito rapidamente para encontrar a vit√≥ria ... Tudo depende de 90% daqueles que ser√£o implementar e apoiar.  Como regra, essa pessoa s√≥ na empresa.  E ele constr√≥i um sistema baseado em sua compreens√£o do processo.  E ele suporta o sistema.  O que acontecer√° se ele for embora?  Qu√£o bem documentada √© a funcionalidade?  Manter esse sistema de outra pessoa √© t√£o caro quanto escrev√™-lo do zero. <br><br>  Solu√ß√µes de software puras, como RDP.ru, Carbon Soft, VAS Experts, etc., s√£o uma alternativa √† auto-coleta e a marcas famosas.  Em termos de autom√≥veis, este √© um est√∫dio de ajuste que, por uma certa quantia de dinheiro, pode fazer um carro esportivo muito impressionante com um carro civil, que n√£o √© de forma alguma inferior √†s marcas famosas.  Hoje, para redes m√©dias e at√© grandes, essa op√ß√£o cativa muitas vantagens.  Ou seja: x.86 √© uma plataforma comum, cujos componentes podem ser comprados em quase qualquer cidade grande e geralmente est√£o em estoque no fornecedor.  O hardware √© visivelmente mais barato que os mesmos m√≥dulos para Cisco ou Juniper, o que permite mant√™-los em pe√ßas de reposi√ß√£o.  Voc√™ pode atualizar a plataforma substituindo o hardware por um mais produtivo e comprando licen√ßas, e usar o equipamento liberado para outros fins.  I.e.  os problemas de reserva s√£o facilmente resolvidos e o conceito de pagamento √† medida que cresce √© vis√≠vel em toda a sua gl√≥ria.  Al√©m disso, solu√ß√µes de software, como o SCAT DPI da VAS Experts, executam v√°rias tarefas que dever√£o ser implementadas separadamente em caso de solu√ß√µes de hardware.  Trata-se de cache de tr√°fego, prote√ß√£o contra DDOS e outras del√≠cias de um DPI completo, como o bloqueio de acordo com a Lei Federal 139, bloqueio e substitui√ß√£o de an√∫ncios, transmiss√£o de peri√≥dicos e exporta√ß√£o de dados para o SORM-3, coleta de estat√≠sticas sobre tipos de tr√°fego e a possibilidade de implementar outros adicionais.  servi√ßos, como "Internet para crian√ßas", etc.  √â importante ressaltar que os fabricantes nacionais est√£o muito bem representados no mercado de solu√ß√µes de software, e isso, al√©m do orgulho na p√°tria, tamb√©m √© um suporte ao idioma russo, que n√£o possui uma barreira de idioma com os desenvolvedores. <br><br>  As desvantagens das solu√ß√µes x.86 tamb√©m s√£o √≥bvias - em primeiro lugar, isso diz respeito √† sele√ß√£o competente de componentes de hardware.  Os erros est√£o repletos de problemas de desempenho e toler√¢ncia a falhas.  A instala√ß√£o de um sistema (se o fabricante n√£o fornecer esse servi√ßo) pode ser extremamente n√£o trivial.  No entanto, um fornecedor de software adequado deve sempre ajudar na sele√ß√£o de hardware, bem como na instala√ß√£o e comissionamento.  Separadamente, vale ressaltar que a solu√ß√£o deve ser certificada, acho que as perguntas "por que" e "por que" n√£o devem surgir. <br><br>  Concluindo, posso dizer que, para mim, a escolha √© √≥bvia - NAT e DPI em uma caixa s√£o a melhor solu√ß√£o para a combina√ß√£o de requisitos de custo, funcionalidade, escalabilidade e manuten√ß√£o. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt410325/">https://habr.com/ru/post/pt410325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt410315/index.html">Ideias para presentes em 23 de fevereiro - Canetas Smart Geek</a></li>
<li><a href="../pt410317/index.html">Observa√ß√£o de estrelas √† tarde ou astronomia diurna</a></li>
<li><a href="../pt410319/index.html">Por que alguns aplicativos n√£o usam barras de progresso reais</a></li>
<li><a href="../pt410321/index.html">Complementos para o Man: Empowerment</a></li>
<li><a href="../pt410323/index.html">Como passar pelo Intermedi√°rio e levar o Ingl√™s ao Avan√ßado</a></li>
<li><a href="../pt410327/index.html">Jeff Bezos come√ßou a instalar um rel√≥gio mec√¢nico de 150 metros que durar√° 10.000 anos</a></li>
<li><a href="../pt410329/index.html">Casos de espi√£o (parte 1)</a></li>
<li><a href="../pt410331/index.html">Administra√ß√£o Trump planeja privatizar o segmento ISS dos EUA ap√≥s 2024</a></li>
<li><a href="../pt410333/index.html">O navio estrangeiro Oumuamua gira aleatoriamente</a></li>
<li><a href="../pt410335/index.html">Os hackers invadiram a inst√¢ncia do Tesla na AWS e criptomoeda extra√≠da l√°</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>