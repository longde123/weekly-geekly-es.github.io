<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå≥ üîÄ üòë Authentification du dongle mat√©riel du p√©riph√©rique Linux sur les syst√®mes de niveau sup√©rieur ü•° üë©üèæ‚Äçüè´ üå°Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'IoT industriel surveille, planifie et automatise les syst√®mes d'ing√©nierie des installations industrielles, des b√¢timents et des installations comme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Authentification du dongle mat√©riel du p√©riph√©rique Linux sur les syst√®mes de niveau sup√©rieur</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/476304/">  L'IoT industriel surveille, planifie et automatise les syst√®mes d'ing√©nierie des installations industrielles, des b√¢timents et des installations commerciales.  Des capteurs de divers param√®tres, compteurs et contr√¥leurs collectent des donn√©es de ces objets, par exemple, la temp√©rature et l'humidit√© dans la salle des serveurs, les relev√©s des compteurs d'eau dans les immeubles √† appartements, le niveau de dioxyde de carbone dans les chambres.  Les contr√¥leurs traitent ces informations et envoient tout au "cloud". <br><br>  Wiren Board fabrique des contr√¥leurs Linux pour l'IoT industriel.  Les appareils collectent les donn√©es des puits de p√©trole et des succursales bancaires, surveillent le microclimat des serveurs et des supermarch√©s.  Les contr√¥leurs s'int√®grent aux syst√®mes de haut niveau des entreprises partenaires.  Les syst√®mes authentifient les appareils - ils comprennent qu'ils parlent avec leur capteur, et non avec quelqu'un d'autre, puis ils autorisent.  √Ä ce stade, un probl√®me se pose - il y a des milliers de contr√¥leurs, des centaines de clients, mais il n'y a pas de syst√®me d'int√©gration unique.  Les m√©thodes traditionnelles simples, telles que les paires login / mot de passe, sont vuln√©rables aux attaques et peu pratiques √† d√©ployer. <br><br><img src="https://habrastorage.org/webt/sk/xm/mt/skxmmtcf6uhcrlm0xkcqilqwjuo.jpeg"><br><br>  Par cons√©quent, la soci√©t√© a d√©velopp√© une authentification dans les syst√®mes de haut niveau √† l'aide de cl√©s mat√©rielles - bas√©e sur une cryptographie asym√©trique standard utilisant un √©l√©ment prot√©g√© par le mat√©riel pour stocker les cl√©s.  D√©sormais, un syst√®me d'int√©gration unifi√© n'est plus n√©cessaire - l'authentification et l'autorisation sont prot√©g√©es et fonctionnent d√®s le d√©part.  <b>Evgeny Boger</b> vous expliquera comment proc√©der: comment ils ont choisi la ¬´puce cryptographique¬ª, comment ils l'ont viss√©e au mat√©riel et √† Linux, comment les biblioth√®ques et les logiciels communs ont √©t√© cr√©√©s pour √™tre amis avec elle.  Accent particulier sur le d√©ploiement: introduction de l'initialisation des appareils en production, introduction de la prise en charge de divers logiciels de haut niveau, y compris chez quelqu'un d'autre et ferm√©. <br><a name="habracut"></a><br>  <b>√Ä propos de l'orateur:</b> <b>Eugene Boger</b> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">evgeny_boger</a> ) - CTO et co-fondateur de Wiren Board.  Engag√© dans des syst√®mes embarqu√©s et, en particulier, Linux embarqu√©. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/tbXmNAs5IrM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Les probl√®mes </h2><br>  Pour commencer, ce que nous faisons et d'o√π vient ce probl√®me.  Chez Wiren Board, nous concevons et fabriquons des √©quipements en Russie.  Il s'appelait auparavant M2M, mais maintenant - IoT industriel.  Il s'agit de l'automatisation des syst√®mes d'ing√©nierie du b√¢timent, de la surveillance et de la planification.  En bref, tout le travail ressemble √† ceci: capteurs de divers param√®tres, actionneurs, compteurs et contr√¥leurs (edge-computing ou IoT-gateway) collectent diff√©rentes donn√©es des objets, les traitent, ex√©cutent la logique locale, puis les rassemblent dans un grand syst√®me de r√©partition, de surveillance ou de contr√¥le . <br><br><img src="https://habrastorage.org/webt/ns/fh/xa/nsfhxa9qezcmcuuc9y8kijenyhw.jpeg"><br><br>  Nous n'avons pas tout un √©cosyst√®me, contrairement √† certains concurrents.  Nous fabriquons des √©quipements qui s'int√®grent √† plusieurs syst√®mes de haut niveau de nos partenaires.  Il existe de nombreuses entreprises partenaires et elles partagent la responsabilit√©.  Sans de bons moyens techniques, l'int√©gration ne fonctionnera pas - elle ne peut tout simplement pas √™tre n√©goci√©e. <br><br>  Il existe deux solutions simples pour r√©soudre ces probl√®mes.  La premi√®re consiste <b>√† donner le nom d'utilisateur / mot de passe au client</b> , comme tout le monde le fait, et la seconde consiste √† <b>g√©n√©rer et √† coudre le ¬´secret¬ª sur le lieu de travail</b> .  Les deux options ne nous convenaient pas - je vais vous dire pourquoi. <br><br><h2>  Solutions simples </h2><br>  <b>La premi√®re solution consiste √† attribuer un nom d'utilisateur et un mot de passe au client</b> .  Nous le faisons tous jusqu'√† r√©cemment. <br><br>  Pour authentifier un appareil qui envoie des donn√©es √† un syst√®me, vous pouvez cr√©er une cl√© secr√®te - conditionnellement identifiant / mot de passe ("secret").  Elle sera courante sur les contr√¥leurs et sur un syst√®me de niveau sup√©rieur qui collecte les donn√©es de plusieurs contr√¥leurs. <br><br>  Un couple de nom d'utilisateur / mot de passe (un ¬´secret¬ª commun) doit en quelque sorte √™tre donn√© au client - l'entreprise ou la personne.  Quelqu'un doit g√©n√©rer une paire secr√®te, l'envoyer par e-mail, authentifier le client par son num√©ro de compte.  Il s'agit de la proc√©dure standard - faible technologie. <br><br>  <b>Probl√®me</b> .  C'est que nous avons beaucoup de tels syst√®mes.  Notre client, et il peut envoyer des donn√©es au syst√®me de notre partenaire.  Il s'agit d'une interaction complexe entre toutes les parties concern√©es. <br><br>  En plus du probl√®me de nombreux syst√®mes, il y en a d'autres. <br><br><ul><li>  <b>Mauvaise livraison et livraison au client</b> . <br></li><li>  <b>Les identifiants et mots de passe sont stock√©s sur le serveur</b> .  Si nous stockons √©galement des hachages, cela nous prot√©gera un peu des fuites.  Mais m√™me ainsi, un sentiment d√©sagr√©able appara√Æt lorsque les cl√©s secr√®tes de tous les contr√¥leurs clients sont stock√©es sur le serveur.  Certains d'entre eux peuvent effectuer des t√¢ches critiques: √©clairage ext√©rieur, surveillance des plates-formes p√©troli√®res. <br></li><li>  <b>Synchronisation entre services</b> . <br></li><li>  <b>R√©cup√©ration des pertes</b> .  On ne sait pas quoi faire en cas de perte, lorsque le client a effac√© la m√©moire du contr√¥leur - dans quelle m√©moire dois-je √©crire?  Vous devez le r√©p√©ter encore une fois. <br></li><li>  <b>Protection contre la copie des d√©tails</b> .  Il existe des syst√®mes de surveillance payants qui fournissent au client un service et facturent des frais d'abonnement.  Je ne veux pas que le client final puisse contourner le syst√®me par notre interm√©diaire - payez une fois, mais utilisez-en deux. <br></li></ul><br>  <b>La deuxi√®me solution est de g√©n√©rer et de recoudre un ¬´secret¬ª de production</b> .  Il s'agit d'une am√©lioration par rapport √† la solution pr√©c√©dente. <br><br>  Le sch√©ma est le suivant: nous, en tant que fabricant de contr√¥leurs, pr√©-g√©n√©rons des noms d'utilisateur et des mots de passe pour tout le monde, les cousons dans notre syst√®me et les entrons dans l'√©quipement.  Les identifiants et mots de passe de l'√©quipement ne peuvent √™tre ni lus ni modifi√©s.  C'est mieux que l'option pr√©c√©dente, car elle ne n√©cessite pas d'interaction entre les personnes. <br><br>  <b>Les probl√®mes</b> .  Tous les probl√®mes subsistent, sauf le premier, mais le principal est la <b>synchronisation entre les services et l'intranet</b> .  Il y a beaucoup de services et on ne sait pas comment les synchroniser - pour cette raison, nous n'avons pas pu impl√©menter la deuxi√®me solution.  Nous avons des clients qui utilisent des √©quipements dans leurs r√©seaux ferm√©s.  Nous avons sorti un nouveau contr√¥leur, l'avons vendu √† un client et son syst√®me est ferm√©.  Il est mis en place, il fonctionne une fois, et il est difficile de transmettre davantage les ¬´secrets¬ª.  Signaler par lots?  Tout est compliqu√© dans les organisations, bien que techniquement simple. <br><br>  Les deux solutions ne nous convenaient pas.  Par cons√©quent, nous avons d√©cid√© de prendre un chemin diff√©rent.  Mais avant cela, ils ont d√©cid√© de d√©finir des buts et objectifs communs. <br><br><h2>  T√¢ches et objectifs </h2><br>  Premi√®res t√¢ches courantes. <br><br>  <b>Authentification</b>  C'est un moyen de comprendre qui parle au syst√®me de niveau sup√©rieur, qui se connecte exactement au syst√®me de r√©partition. <br><br><blockquote>  L'authentification n'est pas l'octroi ou la d√©limitation de droits d'acc√®s, mais une fa√ßon de comprendre qui nous parle. </blockquote><br>  <b>La t√¢che d'envoyer des donn√©es</b> .  Nos contr√¥leurs sont des ordinateurs Linux con√ßus pour une t√¢che sp√©ciale.  Nous avons besoin d'eux pour envoyer des donn√©es √† des syst√®mes de haut niveau, se connecter via VPN.  Dans le m√™me temps, nous voulons que la r√©partition fonctionne ¬´pr√™te √† l'emploi¬ª - sans les param√®tres et l'interaction de nos clients et utilisateurs finaux du syst√®me avec nous et avec les clients. <br><br>  <b>Autres t√¢ches</b> .  Il s'agit d'une connexion fiable, du cryptage du canal de donn√©es, mais un autre probl√®me est l' <b>autorisation</b> .  La t√¢che d'autorisation est associ√©e √† des services externes et est divis√©e en trois parties. <br><br><ul><li>  <b>Service constructeur gratuit</b> .  Fournissez l'acc√®s par le num√©ro de s√©rie de l'appareil. <br></li><li>  <b>Listes blanches de num√©ros de s√©rie</b> pour le service de nos partenaires - liez les achats et les acc√®s au compte du client. <br></li><li>  <b>Licences</b>  Autorisez ou refusez l'acc√®s en fonction des options sp√©cifi√©es dans le certificat. <br></li></ul><br>  Les objectifs sont ce que nous voulons atteindre lorsque nous r√©solvons des probl√®mes. <br><br>  <b>D√©livrance et livraison au client</b> .  Sans la participation des gens - l'information est cousue par des robots en production. <br><br>  <b>R√©cup√©ration des pertes</b> .  Nous voulons qu'il n'y ait aucune perte de d√©tails secrets. <br><br>  <b>Livraison de la production aux services</b> .  Nous voulons nous en passer, pour que vous n'ayez rien √† livrer aux services.  Lors du lancement de nouveaux √©quipements, nous ne souhaitons pas mettre √† jour les bases de donn√©es de tous les services qui devraient authentifier ces appareils. <br><br>  <b>Stockage sur le serveur</b> .  Il est conseill√© de ne rien y stocker du tout. <br><br>  <b>Synchronisation entre les services et l'intranet</b> .  Il est √©galement conseill√© de ne rien synchroniser - car nous ne stockerons rien. <br><br>  <b>Protection contre la copie des d√©tails</b> .  Nous voulons quelque chose de secret, pour lequel l'argent est pris, il √©tait impossible de copier et de recevoir gratuitement. <br><br><h2>  La signature num√©rique se pr√©cipite √† la rescousse </h2><br><blockquote>  La signature num√©rique √©lectronique (EDS) est une technologie autour de laquelle tout fonctionne pour nous. </blockquote><br>  C‚Äôest comme une signature ordinaire, uniquement num√©rique.  EDS est facile √† v√©rifier, mais difficile √† simuler.  Les v√©rit√©s famili√®res de la cryptographie, vieilles de plusieurs d√©cennies. <br><br>  Une signature √©lectronique est quelque chose qui peut √™tre compt√© par un message si vous connaissez la cl√© priv√©e secr√®te (cl√© priv√©e).  Si vous connaissez la cl√© publique (cl√© publique), il est facile de v√©rifier que la signature √©lectronique du message est correcte.  Le nom est clair - le public a coutume d'informer tout le monde, et le secret n'est que pour celui qui signe. <br><br><blockquote>  Toutes les signatures et cl√©s ne sont que des chiffres. </blockquote><br>  Dans notre cas, il s'agit de 32 octets de donn√©es, ce qui fonctionne sur la ¬´magie¬ª math√©matique.  Les math√©matiques garantissent que la signature est facile √† v√©rifier, mais difficile √† simuler. <br><br>  Nous utilisons la signature ECDSA-256 + SHA-256: <br><br><ul><li> <code>e = HASH(m)</code> - la fonction de hachage cryptographique convertit irr√©versiblement le message m en nombre e; <br></li><li>  <code>private key (dA)</code> - nombre al√©atoire; <br></li><li>  <code>public key (QA)</code> - g√©n√©r√©e √† partir d'une cl√© priv√©e, mais pas l'inverse; <br></li><li>  <code>signature (r,s) = sign(private key, e)</code> - signature; <br></li><li>  <code>verify(public key, signature, e)</code> - v√©rification de la signature. <br></li></ul><br><h3>  Authentification EDS.  Premi√®re tentative </h3><br>  Que peut-on faire pour notre t√¢che en utilisant ce m√©canisme d√©licat, qui fonctionne dans un sens simplement et dans l'autre difficile? <br><br>  <b>D√©livrance et livraison au client</b> .  Nous g√©n√©rons une cl√© priv√©e al√©atoire pour chaque appareil de la production.  Nous ne le disons √† personne, car nous ne le connaissons m√™me pas, et nous √©crivons sur l'appareil. <br><br>  <b>Livraison de la production aux services</b> .  Ensuite, nous utilisons uniquement la cl√© publique de cet appareil pour l'authentification sur les services.  Sur les services, nous stockons uniquement une liste de cl√©s publiques au lieu de mots de passe. <br><br>  Algorithme de contr√¥le de sant√© standard: <br><br><ul><li>  le service envoie un message al√©atoire <code>m</code> au contr√¥leur; <br></li><li>  contr√¥leur: <code>sign(private key, m)</code> ; <br></li><li>  le contr√¥leur envoie une signature au service; <br></li><li>  service: <code>verify(public key, signature, m)</code> . <br></li></ul><br>  La seule chose que nous avons d√©cid√© de cette mani√®re est que nous <b>ne stockons plus de "secrets" communs sur nos services</b> sous forme ouverte ou en cache.  Ce n'est pas ce que nous voulons. <br><br><h3>  Authentification EDS.  Deuxi√®me tentative </h3><br>  Nous ne voulons pas stocker quelque chose sur les services.  Pour ce faire, nous pouvons forcer nos appareils √† envoyer leurs cl√©s publiques au service. <br><br>  √Ä la derni√®re √©tape, nous avons r√©solu deux probl√®mes.  Le premier - nous avons <b>v√©rifi√© qu'ils avaient donn√© la cl√© du service</b> .  Nous avons une cl√© publique, ce qui signifie que nous avons √©galement cr√©√© une cl√© priv√©e.  La seconde - nous nous sommes assur√©s que l' <b>appareil poss√®de une cl√© priv√©e</b> , qui se trouve quelque part sur le lecteur flash USB.  Si l'appareil peut signer quelque chose, il poss√®de une cl√© priv√©e. <br><br>  Maintenant, l'appareil enverra √©galement la cl√© publique au service.  Comment v√©rifier que personne ne l'a intercept√©, ne l'a pas simul√© et que tout fonctionne? <br><br>  <b>V√©rification de la cl√© publique</b> .  Nous nous cr√©ons une autre cl√© publique.  Il sera notre cl√© en tant que fabricant.  Il s'agit de la cl√© racine "cl√© priv√©e racine + cl√© publique".  Avec cette cl√© secr√®te racine en production, nous signerons la cl√© publique de l'appareil et nous enregistrerons cette signature sur l'appareil.  L'appareil doit envoyer sa cl√© publique et la signature de sa cl√© publique au service.  Le service peut d√©sormais v√©rifier la cl√© publique de l'appareil.  S'il est sign√© avec la cl√© priv√©e racine, nous avons √©mis cette cl√©. <br><br><blockquote>  Seul le fabricant - nous pouvons cr√©er et stocker une signature sur l'appareil, mais tout v√©rifier. </blockquote>  Nous publions la cl√© publique sur le site dans la rubrique "Contacts".  Tout le monde peut le prendre et v√©rifier la cl√© publique de l'appareil qui a envoy√© l'appareil au service.  Ensuite, vous pouvez v√©rifier que l'appareil lui-m√™me poss√®de sa propre cl√© priv√©e. <br><br>  L'algorithme g√©n√©ral ressemble √† ceci. <br><br><ul><li>  <code>(once) random root private key</code> ; <br></li><li>  <code>factory: random device private key</code> ; <br></li><li>  <code>factory: sign(root private key, device public key) = signature_1</code> ; <br></li><li>  <code>device-&gt;service:  device public key + signature_1</code> ; <br></li><li> <code>service: verify(root public key, signature_1, device public key)?</code> <br> </li></ul><br><h3>  R√©sultat de la deuxi√®me tentative </h3><br>  Nous avons r√©solu le probl√®me de la <b>livraison</b> au client - les informations sont cousues sur le site de production et <b>rien n'a besoin d'√™tre restaur√©</b> . <br><br>  Il est important que nous ayons r√©solu le probl√®me de la <b>fourniture de ¬´secrets¬ª aux services de haut niveau</b> , car tout ce qui doit √™tre stock√© sur le service est la cl√© publique du fabricant.  La cl√© enti√®re fait 33 octets.  Avec leur aide et leur magie math√©matique, vous pouvez continuer √† √©tablir une connexion de prise de contact et v√©rifier que l'appareil poss√®de la cl√© priv√©e correspondante. <br><br>  <b>Sur le serveur,</b> nous stockons uniquement la cl√© du fabricant (cl√© publique racine). <br><br>  Nous n'avons pas de <b>synchronisation entre les services et l'intranet</b> , dont nous avons d√©j√† parl√©.  De plus, nous n'avons aucune <b>protection contre la copie de d√©tails</b> . <br><br>  La seule chose que nous avons oubli√©e est l' <b>authentification</b> .  L'appareil a envoy√© une cl√© priv√©e, et nous avons v√©rifi√© que nous l'avons fait et d√©livr√©, et v√©rifi√© que l'appareil en est le propri√©taire.  Mais nous ne savons pas de quel type d'appareil il s'agit et nous en produisons des milliers. <br><br>  Par cons√©quent, nous avons appliqu√© une astuce appel√©e ¬´Certificat¬ª. <br><br><h2>  Authentification et certificats </h2><br>  √Ä cette √©tape, dans toute la magie math√©matique avec les signatures et leurs contr√¥les, nous ajoutons <b>des informations suppl√©mentaires - un certificat</b> .  Pour ce faire, nous signons en usine non seulement la cl√© publique (cl√© publique de l'appareil), mais la cl√© avec des informations suppl√©mentaires. <br><br>  Informations suppl√©mentaires dans notre cas. <br><br><ul><li>  Date de fabrication et fabricant. <br></li><li>  Configuration du mod√®le et du mat√©riel. <br></li><li>  Num√©ro de s√©rie par lequel l'appareil peut √™tre authentifi√©. <br></li><li>  Options: mat√©riel et logiciel.  Diff√©rentes configurations peuvent ne pas diff√©rer physiquement les unes des autres, mais le certificat contiendra des informations sur ce que le client a pay√©. <br></li><li>  Nom du client et num√©ro de compte. <br></li></ul><br>  Nous signerons toutes ces informations avec la cl√© publique avec notre cl√© de producteur - cl√© publique racine.  Apr√®s cela, les informations iront aux services et ils pourront s'assurer qu'ils sont corrects.  Comme ce sont nos services et ceux de nos partenaires, ils nous font confiance. <br><br><h3>  Statut de l'objectif </h3><br>  Les informations sont √©galement cousues √† l'usine et la <b>livraison</b> aux services n'est pas n√©cessaire.  <b>Sur le serveur, nous</b> stockons uniquement la cl√© du fabricant. <br><br>  <b>R√©cup√©ration des pertes</b> .  Nous cousons toutes les informations des certificats dans la m√©moire flash de l'appareil.  Th√©oriquement, il peut √™tre supprim√© accidentellement ou intentionnellement, mais il n'y a rien de secret dans ces informations dans le certificat.  M√™me la signature elle-m√™me n'est pas secr√®te - il y a une cl√© publique et la signature avec notre cl√©.  Le seul secret du certificat est le volume des ventes d'appareils avec diff√©rentes options. <br><br>  Le certificat peut √™tre stock√© en usine et envoy√© au client s'il l'a perdu.  Les clients effacent rarement sp√©cifiquement la zone de service de la m√©moire.  Habituellement, nous le faisons pendant la proc√©dure de r√©cup√©ration de l'appareil: l'appareil est arriv√© du client, il est compl√®tement pass√© par l'initialisation, tout est effac√©, il est t√©l√©charg√© √† nouveau et le certificat est copi√© de la base de donn√©es d'usine. <br><br>  Nous n'avons pas de <b>r√©cup√©ration de</b> perte, de protection contre la copie et de <b>synchronisation entre les services</b> . <br><br>  <b>Au stade de l'authentification,</b> nous recevons et v√©rifions le certificat.  Nous savons de quel type d'appareil il s'agit - nous connaissons le fabricant, le mod√®le et le num√©ro de s√©rie, ce qu'il peut et ne peut pas. <br><br><h3>  Se connecter </h3><br>  Le certificat vous permet de stocker des informations pour autorisation. <br><br>  <b>Service constructeur gratuit</b> .  Connaissant le num√©ro de s√©rie de l'appareil, vous pouvez donner acc√®s √† tout le monde.  Dans nos services, nous donnons acc√®s √† tous nos clients de base. <br><br>  <b>Listes blanches de num√©ros de s√©rie</b> .  Pour le service de nos partenaires, vous pouvez cr√©er un tableau avec une liste blanche de num√©ros de s√©rie: ¬´Le client Vasily nous a achet√© deux contr√¥leurs avec de tels num√©ros de s√©rie associ√©s √† son compte¬ª <br><br>  <b>Licences</b>  Vous pouvez vendre quelque chose √† l'avance, puis autoriser ou refuser l'acc√®s en <b>fonction des options</b> sp√©cifi√©es dans le certificat - un contr√¥leur avec une licence pour le syst√®me X. <br><br>  Il n'y a pas de base commune entre les services, fabricant ou fabricant de syst√®mes.  Tout fonctionne exclusivement sur les informations du contr√¥leur qui sont sign√©es par nous, en tant que fabricant, lors de l'authentification dans le syst√®me. <br><br><h2>  Certificat interm√©diaire </h2><br>  Un autre probl√®me technique que nous avons r√©solu sur la route.  Dans le sch√©ma dont je viens de parler, il existe un certificat racine du fabricant - cl√© priv√©e racine.  Il est physiquement n√©cessaire √† chaque fois que vous cr√©ez un appareil.  Mais s'il existe de nombreux appareils, cette cl√© n√©cessite un acc√®s constant pour un cercle limit√© de personnes.  C'est mauvais, car si vous le perdez, vous devrez mettre √† jour les cl√©s publiques sur tous les services, et cela ne devrait pas arriver aux attaquants.  Ce sont de gros probl√®mes d'organisation.  Mais il y a une solution. <br><br><blockquote>  Nous introduisons des cl√©s interm√©diaires dans un lot d'appareils qui ne sont pas si effrayants √† perdre. </blockquote><br>  Nous avons fait de m√™me, seule la cha√Æne est plus longue. <br><br><img src="https://habrastorage.org/webt/x-/mb/s3/x-mbs3xfmihxr-qjdmpm7f5buey.jpeg"><br><br>  Avec un certificat constructeur, nous signons la cl√© interm√©diaire.  Physiquement, il s'agit d'un "lecteur flash", qui est remis au contrema√Ætre √† l'usine pendant une journ√©e.  Le mat√©riel limite le nombre d'appareils qu'une cl√© peut signer.  Au milieu du sch√©ma, nous avons ajout√© un certificat interm√©diaire, sinon rien n'a chang√©. <br><br><h2>  Magasin de cl√©s s√©curis√© </h2><br>  Dans tout cela, nous n'avons pas suffisamment de <b>protection pour la cl√© priv√©e de l'appareil</b> - c'est toujours un fichier qui se trouve sur une cl√© USB.  Un attaquant peut le copier, mais tr√®s probablement il le perdra ou ouvrira accidentellement l'acc√®s. <br><br>  Dans le cas id√©al, il serait bon de prot√©ger la cl√© priv√©e de l'appareil contre la copie - mettez-la dans une bo√Æte noire. <br><br>  La bo√Æte noire effectue 4 op√©rations: <br><br><ul><li>  √† l'int√©rieur de lui-m√™me g√©n√®re une cl√© sur demande, mais ne donne pas; <br></li><li>  donne la cl√© publique; <br></li><li>  Signe un message <br></li><li>  v√©rifie la signature. <br></li></ul><br><img src="https://habrastorage.org/webt/by/ck/zf/byckzfred-odhrigx-ayq2gkytk.jpeg"><br>  <i>Pour v√©rifier la signature, vous n'avez besoin que d'une cl√© publique, donc trois op√©rations suffisent.</i> <br><br>  √Ä ma connaissance, cela devrait √™tre une solution mat√©rielle, de pr√©f√©rence distincte du processeur.  Il existe plusieurs options, dont la meilleure est un <b>processeur cryptographique sp√©cial √† l'int√©rieur du SoC</b> ou en tant que puce distincte. <br><br>  La premi√®re option de bo√Æte noire que nous avons examin√©e est le <b>module CAAM</b> dans les processeurs NXP i.mx 6, 7, 8 que nous utilisons.  Le probl√®me est qu'il est impl√©ment√© par programme dans la ROM de d√©marrage du processeur. <br><br>  Il peut contenir des bogues qui peuvent √™tre trouv√©s et m√™me exploit√©s via d'autres fonctionnalit√©s du processeur.  Il y a quelques ann√©es, un trou a √©t√© d√©couvert dans ce module qui permettait de contourner la v√©rification de signature lors du t√©l√©chargement du firmware.  Ce n'est pas la fonctionnalit√© dont nous avons besoin, mais les s√©diments restent.  Un autre probl√®me est qu'il est difficile d'importer des processeurs avec ce module en Russie; ils n√©cessitent de remplir des documents. <br><br>  Par cons√©quent, nous avons pris une puce distincte.  J'avoue honn√™tement, je comptais sur le fait que si nous ne pouvons pas l'apporter en Russie, nous trouverons quelque chose - la puce est petite, elle co√ªte 1 $.  Mais tout s'est bien pass√© - ils ont trouv√© la puce <b>Microchip ATECC</b> , qui a d√©j√† tous les papiers. <br><br><h2>  Microchip ATECC608A </h2><br>  Il s'agit d'une petite puce s√©par√©e qui co√ªte un sou.  La puce est connect√©e via I2C - deux ¬´jambes¬ª du processeur, que vous pouvez √©galement partager avec d'autres p√©riph√©riques.  La puce a un brochage standard.  Nous avons utilis√© la puce dans les premi√®res versions de l'√©quipement et l'avons simplement soud√©e sur une autre puce avec le m√™me protocole et le m√™me brochage, car elle est standard. <br><br>  La puce peut faire ce dont nous avons besoin: lire les signatures, stocker les cl√©s et bien plus encore. <br><br><img src="https://habrastorage.org/webt/_h/sb/jb/_hsbjbw9dyvjo2ta5emvp_wuqk4.jpeg"><br><br>  CARACT√âRISTIQUES <br><br><ul><li>  16 emplacements pour cl√©s; <br></li><li>  peut lire les signatures ECSDSA, hachages, MAC et crypter AES, peut DH; <br></li><li>  poss√®de un g√©n√©rateur de nombres al√©atoires et des compteurs cryptographiques; <br></li><li>  Bo√Ætiers: SOIC-8, DFN6; <br></li><li>  protocoles: I2C, monofil; <br></li><li>  ~0,7$@1000pcs. <br></li></ul><br><h3>  Comment travailler avec un microcircuit </h3><br>  Il existe une <b>documentation</b> d√©cente <b>pour cela</b> , mais sous la NDA.  Si vous √©crivez imm√©diatement √† gamma.spb.ru, ils vous le donneront dans 2 semaines.  Si dans une autre entreprise - apr√®s 3 mois.  Nous avons √©crit √† deux soci√©t√©s, et lorsque nous avons tout fait, un autre revendeur Microchip nous a r√©pondu. <br><br>  <b>Il y a peu d'appendices</b> et ils sont pires que la moyenne.  Il existe un <b>logiciel</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur GitHub</a> - une biblioth√®que avec HAL.  C'est dr√¥le - la documentation est sous le NDA, et le logiciel qui y est √©crit est sur GitHub.  Le logiciel ne prend pas en charge Linux, mais prend en charge le Raspberry Pi et Atmel MK - c'est un peu diff√©rent.  Les d√©veloppeurs estiment que sur tous les √©quipements, il n'y a qu'un seul bus I2C, par exemple, les jambes sont appel√©es comme sur le Raspberry Pi. <br><br>  Il y a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">int√©gration</a> avec <b>OpenSSL</b> - cela ne fonctionne pas bien, mais c'est le cas.  <b>Il n'y a aucun exemple sous Linux</b> et aucun travail avec la <b>personnalisation</b> . <br><br><h3>  Personnalisation de la puce </h3><br><blockquote>  La personnalisation est le plus gros casse-t√™te avec la puce. </blockquote><br>  Le probl√®me est que la puce peut faire beaucoup de choses.  Il dispose de 16 emplacements dans lesquels 16 cl√©s sont stock√©es: donn√©es utilisateur ou cl√©s publiques, ou stockage temporaire pour d'autres emplacements - il existe de nombreuses options. <br><br>  Vous devez en quelque sorte restreindre l'acc√®s aux emplacements, et il existe √©galement de nombreuses options de configuration: restreindre par mot de passe, par authentification dans un autre emplacement, au moment de l'acc√®s aux usines. <br><br><img src="https://habrastorage.org/webt/-a/du/mm/-adumml8w8ijipo3nbep8jz5nry.jpeg"><br>  <i>Dans le tableau, le type de cl√©, l'acc√®s en lecture et en √©criture, la relation entre les emplacements - SlotConfig, KeyConfig.</i> <br><br>  Dans le masque de bits (16 bits) de chaque cl√© que nous utilisons, il y a des nombres diff√©rents partout. <br><br>  Le plus triste est que la zone de configuration est unique, ce qui d√©finit les fonctions des emplacements.  Nous avons rat√© 50 jetons avant de tout faire correctement.  La puce ne fonctionne <b>qu'apr√®s verrouillage de la configuration</b> .  S√©par√©ment, il y a un <b>verrou pour les emplacements individuels</b> <br><br>  Il n'y a pas de documentation dans les exemples ou dans le logiciel.  Il y a de la documentation pour des bits individuels, mais tout y est compliqu√©.  Dans tous les exemples de Microchip, il est √©crit: ¬´T√©l√©chargez un tel bloc, et cela fonctionnera en quelque sorte pour vous, comme dans l'exemple d'envoi de donn√©es √† Amazon.¬ª <br><br>  Cela a pris beaucoup de temps, mais dans le processus, ils ont fait un utilitaire cool. <br><br><h3>  Utilitaire Atecc-util </h3><br>  Il s'agit d'un utilitaire de console qui peut ex√©cuter la plupart des fonctions de la puce et vous permet de travailler un peu plus facilement.  Il est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur GitHub</a> sous une licence MIT. <br><br>  L'utilitaire utilise CryptoAuthLib.  Elle sait travailler plus amicalement avec la zone de configuration, elle sait travailler avec SHA, MAC, ECDSA, DH.  L'interface est conviviale par lots, car nous avons cr√©√© l'utilitaire pour une utilisation dans les scripts en premier lieu.  Le fait qu'une personne puisse la provoquer est une caract√©ristique secondaire.  L'utilitaire peut faire une liste - un plan de commandes: "Tout d'abord, personnalisez cette zone, puis notez une telle cl√©." <br><br>  Un exemple d'appel d'un utilitaire est tout √† fait lisible par l'homme. <br><br><pre> <code class="plaintext hljs">atecc - b 10 - c 'serial' - c 'read-config /tmp/config.dump'</code> </pre> <br>  L'utilitaire est construit sous Linux, sous AMD64 - il est dans le paquet Debian. <br><br><img src="https://habrastorage.org/webt/lc/yr/bs/lcyrbsjcuggnfwuzetwwjy3auxg.jpeg"><br><br><h3>  Autres outils de personnalisation </h3><br>  Nous avons une plaque Excel pour lire les bits.  Si vous nous montrez un scan NDA avec Microchip, nous vous le donnerons. <br><br><img src="https://habrastorage.org/webt/gs/j5/r9/gsj5r9tr6ngrcascp8tqxdq6dla.jpeg"><br><br>  Nous avons tout couvert avec des tests, car il existe de nombreuses options lorsque vous pouvez oublier un bit et qu'une commande de service lira votre cl√© priv√©e.  Les tests testent le v√©ritable appareil.  Ils se tournent vers le microcircuit et v√©rifient la configuration correcte sur l'appareil: peut-on lire cet emplacement, peut-on faire une telle signature? <br><br>  Parall√®lement aux bits, nous avons cr√©√© une liste de garanties que cet appareil doit satisfaire et v√©rifi√© le fonctionnement de tout.  Nous utilisons le <b>cadre des chauves</b> - <b>souris</b> - une chose tr√®s int√©ressante.  Cela ressemble √† ceci. <br><br><img src="https://habrastorage.org/webt/wr/kd/op/wrkdopidmf6zn2ko70ue36p7fxc.jpeg"><br>  <i>Liste de tests pour un exemple.</i>  <i>Les sup√©rieurs sont pass√©s, mais les inf√©rieurs ne le sont pas.</i> <br><br><h3>  Param√®tres dans les appareils </h3><br>  <b>Pour nous, nous n'utilisons que deux emplacements</b> pour la t√¢che dont je parle.  Dans les deux, nous stockons la cl√© priv√©e de l'appareil.  La diff√©rence est que le premier est associ√© √† un <b>certificat permanent</b> , d√©livr√© en 1970 pour 200 ans. <br><br>  Cela est d√ª au fait que dans IoT, le temps n'est pas toujours synchronis√©.  L'infrastructure de certificat implique de v√©rifier la validit√© d'un certificat.  Si la synchronisation sur les appareils est interrompue, certains services vitaux peuvent √©chouer, par exemple VPN. <br><br>  Par cons√©quent, <b>un emplacement est infini - permanent</b> .  Il est g√©n√©r√© une fois et ne change pas pendant la dur√©e de vie de l'appareil.  Pour cette cl√©, un certificat est g√©n√©r√© pendant 200 ans - pour les r√©seaux ferm√©s. <br><br>  Un autre emplacement est en cours de mise √† jour.  La dur√©e de vie maximale d'un certificat est d'un an.  Cela se fait au cas o√π quelque chose est compromis.  Une cl√© d'appareil pouvant √™tre mise √† jour priv√©e est g√©n√©r√©e lorsque la p√©riode de validit√© du certificat d'appareil expire.  Utilis√© pour l'authentification dans les r√©seaux ouverts, mis √† jour une fois par mois ou moins, avec un certificat. <br><br>  <b>Pour les utilisateurs, nous avons g√©n√©r√© diverses combinaisons</b> , dont plusieurs emplacements pour les cl√©s ECDSA priv√©es.  Les utilisateurs peuvent g√©n√©rer leur cl√© dans un emplacement s√©par√© s'ils ne font pas confiance √† notre cl√© priv√©e.  Pour cela, vous ne devez faire confiance qu'√† Microchip.  Les utilisateurs peuvent lire les signatures, chiffrer - nous avons donn√© tout ce que la puce peut faire. <br><br>  Jusqu'√† pr√©sent, malheureusement, personne n'a utilis√©, mais nous l'esp√©rons. <br><br><h3>  Infrastructure: cl√©s interm√©diaires </h3><br>  J'ai d√©j√† dit qu'√† un moment donn√©, nous avons impl√©ment√© des certificats interm√©diaires afin de ne pas briller avec un certificat racine qui ne devrait pas √™tre perdu.  Il n'appara√Æt jamais dans une usine. <br><br><img src="https://habrastorage.org/webt/uh/m0/dl/uhm0dl6mdkegvzwl2avlsqpe7kc.jpeg"><br><br>  Les certificats physiquement interm√©diaires sont une puce ATECC508A.  Il diff√®re l√©g√®rement du 608, mais en 508, il existe des fonctionnalit√©s utiles pour les touches, mais en 608, il n'est plus l√†. <br><br>  La puce est connect√©e via un adaptateur USB-I2C.  Il s'agit d'USBISP avec un micrologiciel USB-i2c minuscule - un programmeur qui peut √™tre flash√© dans un pont USB-I2C.  Les certificats interm√©diaires signent les certificats d'appareil avec leur cl√© priv√©e. <br><br>  Deux caract√©ristiques du microcircuit se sont av√©r√©es utiles pour nous. <br><br>  <b>Emplacement de protection par mot de passe mat√©riel</b> .  La puce ne peut √™tre programm√©e pour lire la signature que si deux conditions sont remplies: <br><br><ul><li>  lorsque l'appareil est coinc√© dans un ordinateur; <br></li><li>  mot de passe saisi. <br></li></ul><br>  Nous remettons au contrema√Ætre √† la production une cl√© interm√©diaire et un mot de passe pour plusieurs contr√¥leurs.  En cons√©quence, vous devez voler √† la fois la cl√© et le mot de passe pour y acc√©der.  Nous avons eu cette opportunit√© gratuitement, mais cela am√©liore la s√©curit√© du syst√®me. <br><br>  <b>Limite mat√©rielle du nombre d'utilisations</b> .  Le compteur cryptographique √† l'int√©rieur ne peut qu'augmenter.  Lorsqu'il atteint une fois une limite pr√©d√©termin√©e, le microcircuit ne signe rien d'autre. <br><br><img src="https://habrastorage.org/webt/tm/qv/4-/tmqv4-eakpcudfupub3oy6nt9bw.jpeg"><br><br><h2>  OpenSSL sur le client </h2><br>  Voyons comment tout fonctionne sur le client.  Nous avons OpenSSL sur le contr√¥leur.  Nous n'avons rien invent√© - c'est TLS ordinaire, PKI ordinaire.  Nous avions √©galement besoin d'une biblioth√®que cliente.  Dans la grande majorit√© des logiciels Linux, il est utilis√© pour une connexion s√©curis√©e. <br><br>  Nous avons pris le code de Microchip, l'avons ajout√© un peu, pris en charge le nouveau OpenSSL <br>  1.1.  Par cons√©quent, il sait comment travailler avec une cl√© mat√©rielle - le mat√©riel prend en charge les mots de passe pour les cl√©s priv√©es. <br><br>  Cela ressemble √† ceci. <br><br><pre> <code class="plaintext hljs">openssl req -new -engine ateccx08 -keyform engine -key ATECCx08:00:04:C0:00 -subj "/CN=wirenboard-AP6V5MDG" -out device AP6V5MDG.csr</code> </pre> <br>  Il s'agit d'un appel √† OpenSSL standard et d'une instruction d'utilisation du module moteur appropri√©.  La cl√© est d√©finie ici: adresse, mod√®le et les deux derniers octets sont le num√©ro de l'emplacement utilis√©.  Tout est transmis comme s'il s'agissait d'un fichier cl√©, mais ce n'est pas un fichier - vous devez entrer dans l'appareil. <br><br><h2>  SSL sur le serveur </h2><br>  Tout SSL fonctionne sur le serveur, y compris OpenSSL.  Aucune modification et builds personnalis√©s c√¥t√© serveur ne sont n√©cessaires.  Tout ce qui est n√©cessaire sur le serveur est <b>de pouvoir v√©rifier la cha√Æne du bundle de certificats</b> (certificat de p√©riph√©rique + certificat interm√©diaire), et <b>stocker notre cl√© publique</b> , que nous avons publi√©e sur le site - Wiren Board ROOT CA. <br><br>  TLS standard indique que les deux parties doivent s'authentifier mutuellement.    ‚Äî   ‚Äî   .    ‚Äî    handshake. <br><br>         :    .    ,         .   letsencrypt    SSL,   ,      . <br><br>       ,    ‚Äî MQTT. <br><br><h2> MQTT: mosquitto   </h2><br>          IBM.               . <br><br> Mosquitto ‚Äî       ,   ,  Linux.    ,   OpenSSL engine (  )    ¬´keyfile¬ª,     . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   ,  20 . <br><br>     bundle. <br><br><img src="https://habrastorage.org/webt/ea/ju/ge/eajugei4pidm4h7ramzyhh-vpkq.jpeg"><br><br>             . <br><br><pre> <code class="plaintext hljs">mosquitto_sub -h mqtt.wirenboard.com -p 8884 -cert /etc/ssl/device/device_bundle.crt.pem --key 'engine:ateccx08:ATECCx08:00:04:C0:00' --capath /etc/ssl/certs/ -t /# -v</code> </pre> <br>     .     ‚Äî    <code>-cert</code> .   bundle- ‚Äî .      <code>--key</code> .       . <br><br>  ,    <code>--capath</code> ,    .       SSL-,     letsencrypt. <br><br>   <b> </b> . <br><br><pre> <code class="plaintext hljs">root@wirenboard-AXXVJI62:~# cat /etc/mosquitto/conf.d/bridge-hw.conf connection wb_devices_cloud.wirenboard-AXXVJI62 address contactless.ru:8884 bridge_capath /etc/ssl/certs/ bridge_certfile /etc/ssl/device/device_bundle.crt.pem bridge_keyfile engine:ateccx08:ATECCx08:00:04:C0:00 notifications true notification_topic /client/wirenboard-AXXVJI62/bridge_status topic/# both 1 ""/dient/wirenboard-AXXVJI62</code> </pre> <br> Mosquito-     . <br><br> <b>   Mosquitto</b> ‚Äî    . <br><br><pre> <code class="plaintext hljs">per _listener_settings true listener 8884 0.0.0.0 cafile/etc/mosquitto/certs/WirenBoard_Root_CA.crt certfile /etc/letsencrypt/live/contactless.ru/fullchain.pem keyfile/etc/letsencrypt/live/contactless.ru/privkey.pem require.certificate true use_identity_as_username true password_file /etc/mosquitto/passwd.conf allow_anonymous false acl_file /etc/mosquitto/ad.conf :~$ cat /etc/mosquitto/acl.conf pattern write /client/%u/# pattern read /client/%u/#</code> </pre> <br>   ‚Äî  . <br><br><ul><li>  Root CA  letsencrypt-   ‚Äî   .     . <br></li><li>    Mosquitto.           <code>username</code>      MQTT. <br></li><li>  ,     , ,   (CN) wirenboard-AXXVJI62,   ,      . <br></li><li> <code>per_listener_settings:</code>   ,      / (&gt;1.5.5). <br></li></ul><br>    MQTT-  Wiren Board IoT Cloud Platform. <br><br><h2>  Openvpn </h2><br> OpenVPN  ,      ,     .   ,                . <br><br>  OpenVPN <b> </b>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ,   .       ,   : bundle,  , engine. <br><br><pre> <code class="plaintext hljs">openvpn --capath /etc/ssl/certs/ --cert /etc/ssl/device/device_bundle.crt.pem --key engine:ateccx08:ATECCx08:00:04:C0:00</code> </pre> <br> <b> </b>    letsencrypt. <br><br><pre> <code class="plaintext hljs">ca /etc/openvpn/WirenBoard_Root_CA.crt cert /etc/letsencrypt/live/vpn1.wirenboard.com/fullchain.pem key /etc/letsencrypt/live/vpn1.wirenboard.com/privkey.pem</code> </pre> <br>     ‚Äî       .      -  . <br><br><h2>  Nginx </h2><br>   . Nginx   ,    ,        , SSL.      nginx     web-,  reverse-proxy.   ‚Äî      nginx. <br><br> nginx   ,  HTTP-,       .   ,       : Common Name,      ,        .   ,   400. <br><br><pre> <code class="plaintext hljs">ssl_client_certificate WirenBoard_Root_CA.crt; ssl_verify_client on;</code> </pre> <br> <b>nginx  </b> .     ‚Äî ,     HTTP.  Linux-   nginx  ,        SSL,   ,   OpenSSL. <br><br>    wget  , bash    ,   HTTP-  TLS   .    10 . <br><br><pre> <code class="plaintext hljs">server { listen 8080; location / { proxy_pass https://example.com; proxy_ssl_name example.com; proxy_ssl_server_name on; proxy_ssl_certificate/etc/ssl/device/device_bundle.crt.pem; proxy_ssl_certificate_key engine:ateccx08;ATECCx08:00:04:C0:00; } }</code> </pre> <br><h2>   </h2><br>      <b>Wiren Board 6</b> ,     .     ,       . <br><br>         web-   cloud.wirenboard.com  OpenVPN  .     Grafana  InfluxDB,      MQTT.     saymon.info ‚Äî    (MQTT)  . <br><br>      ,  -  ,     , Grafana, MQTT-,   ,  , .   ‚Äî . <br><br>  ,    ,   : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> ‚Äî  OpenSSL    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> ‚Äî  .  ! <br><br><blockquote>           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">InoThings Conf 2019</a> .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">YouTube-</a>       2019 .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>  Telegram.     ,  ,       IoT. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr476304/">https://habr.com/ru/post/fr476304/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr476292/index.html">SVG ou toile?</a></li>
<li><a href="../fr476294/index.html">R√©seau de jeu distribu√© comme alternative √† GFN: comment et pourquoi il peut d√©coller, l√† o√π il fonctionne d√©j√† en F√©d√©ration de Russie</a></li>
<li><a href="../fr476296/index.html">21 novembre, Meetup d'ing√©nierie produit: qui est ing√©nieur produit?</a></li>
<li><a href="../fr476298/index.html">Parcourez les √©pines des v√©los, premi√®re partie: d√©couvrez les bases de la personnalisation du d√©bogueur Visual Studio √† l'aide de plugins</a></li>
<li><a href="../fr476300/index.html">Le magazine Tram est une star brillamment √©clair√©e et rapidement fan√©e de l'avant-garde russe pour enfants</a></li>
<li><a href="../fr476306/index.html">Instructions TelegramBot pour cr√©er des fonctionnalit√©s de base pour le bot. (Partie 1)</a></li>
<li><a href="../fr476308/index.html">Les 5 meilleures pratiques de d√©veloppement logiciel √† suivre en 2020</a></li>
<li><a href="../fr476310/index.html">CRM visage humain</a></li>
<li><a href="../fr476312/index.html">React ou Angular ou Vue.js - que choisir?</a></li>
<li><a href="../fr476316/index.html">Vue Storefront: Remplissez les donn√©es dans ES</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>