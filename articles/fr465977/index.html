<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÆ üåπ üîÅ Formation Cisco 200-125 CCNA v3.0. Jour 31. CDP, Syslog et NTP üíáüèæ ü§∞üèª üñáÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, nous allons examiner 3 concepts: le protocole propri√©taire Cisco CDP, le journal syst√®me Syslog et le protocole de temps r√©seau NTP. Nous...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Formation Cisco 200-125 CCNA v3.0. Jour 31. CDP, Syslog et NTP</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/465977/"> Aujourd'hui, nous allons examiner 3 concepts: le protocole propri√©taire Cisco CDP, le journal syst√®me Syslog et le protocole de temps r√©seau NTP.  Nous continuerons √©galement √† discuter du sujet des probl√®mes et √† examiner quelques outils pour les diagnostiquer, puis √† examiner Syslog et NTP et √† la fin de la le√ßon √† discuter CDP et LLDP. <br><br>  Dans la le√ßon pr√©c√©dente, nous avons examin√© la m√©thodologie de d√©pannage, et maintenant je vais parler de plusieurs outils int√©gr√©s au syst√®me d'exploitation et aux p√©riph√©riques Cisco qui peuvent vous aider √† r√©soudre les probl√®mes de r√©seau. <br><br>  Le premier outil est la commande ipconfig, et puisque la plupart des gens utilisent Windows 10, nous examinerons cette commande en utilisant cet OS comme exemple.  Si vous acc√©dez au terminal de ligne de commande de votre ordinateur et entrez la commande ipconfig, vous pouvez voir les param√®tres de configuration de toutes les interfaces r√©seau disponibles sur votre ordinateur. <br><br><img src="https://habrastorage.org/webt/f6/-9/6l/f6-96lo5pw0zenpcqovymdfxcjw.jpeg"><br><br>  Vous verrez une interface virtuelle logicielle VPN Ethernet Adapter et plusieurs autres interfaces logicielles, dont le nombre d√©pend des pilotes disponibles dans le syst√®me.  Voici mon adaptateur LAN sans fil Wi-Fi, avec lequel je suis maintenant connect√© √† Internet, les donn√©es sur l'adaptateur virtuel WMware Network WMnet1 sont situ√©es un peu plus haut.  L'adaptateur de tunnel est illustr√© ci-dessous, c'est-√†-dire que tous les adaptateurs install√©s par le logiciel VPN sont affich√©s ici. <a name="habracut"></a><br><br>  Le sujet du cours CCNA n√©cessite que vous connaissiez deux adaptateurs: un adaptateur Wi-Fi sans fil et un adaptateur Ethernet. <br><br><img src="https://habrastorage.org/webt/uq/tx/ek/uqtxekxqi20bmcytun7reeigss4.jpeg"><br><br>  Pour un r√©seau de bureau, l'adaptateur sans fil est plus important, et si l'un des utilisateurs vous contacte avec un probl√®me, vous devez d'abord utiliser la commande ipconfig et regarder l'adresse IP du p√©riph√©rique.  Vous devez v√©rifier si cette adresse est dans la plage d'adresses DHCP.  L'utilisateur a peut-√™tre d√©sactiv√© la dynamique et activ√© l'IP statique, qui ne fait pas partie de DHCP, ou le p√©riph√©rique est configur√© pour obtenir automatiquement une adresse IP et ne peut pas, pour une raison quelconque, contacter le serveur DHCP. <br><br>  Si vous avez besoin d'informations plus compl√®tes, utilisez la commande ipconfig / all.  Vous recevrez les m√™mes donn√©es, mais sous une forme plus d√©taill√©e, avec la description de la marque de l'adaptateur, les param√®tres DHCP, l'adresse locale du lien, l'adresse IP, la p√©riode de validit√© du bail du serveur, l'adresse de la passerelle par d√©faut, etc. <br><br><img src="https://habrastorage.org/webt/so/9f/h1/so9fh161ces0au1rr-7jbz00f5u.jpeg"><br><br>  Si, √† la suite de la v√©rification de ces informations, il s'av√®re que tout va bien avec l'adresse IP et que les param√®tres d'interface ne sont pas la cause du probl√®me, vous devez utiliser d'autres outils de diagnostic, tels que NSLookup.  Il s'agit d'un utilitaire qui vous permet d'acc√©der au syst√®me DNS via la ligne de commande.  Si cela ne r√©sout pas le probl√®me, utilisez ping.  J'utilise la commande ping 8.8.8.8, c'est-√†-dire que j'effectue une commande ping au DNS public de Google.  Si le ping r√©ussit, alors tout est en ordre avec la connexion et la raison doit √™tre cherch√©e ailleurs. <br><br>  Si le ping ne passe pas, vous devez utiliser un outil appel√© Trace Route, ou tracert.  Il s'agit d'une commande Windows pour tracer la route vers un h√¥te donn√©.  Si vous tapez tracert 8.8.8.8 sur la ligne de commande, vous obtiendrez ping avec une valeur de TTL = 1 avec une trace de route de jusqu'√† 30 n≈ìuds.  Comme vous pouvez le voir, le premier n≈ìud est mon routeur, le syst√®me a montr√© son micrologiciel DD-WRT et son adresse IP 192.168.1.1, le second est le serveur de mon fournisseur avec l'adresse IP 192.168.100.1, via laquelle je vais sur Internet, puis je pings sur d'autres n≈ìuds et atteint le serveur Google.  Dans notre cas, il s'est av√©r√© 14 espoirs, mais si, par exemple, un probl√®me survenait du c√¥t√© de mon fournisseur, la trace s'arr√™terait apr√®s le 3√®me n≈ìud caract√©risant le serveur ISP. <br><br><img src="https://habrastorage.org/webt/7i/qy/zy/7iqyzy7odxlbo85k9dtbk__eqou.jpeg"><br><br>  Ainsi, Trace Route est un excellent outil pour identifier les probl√®mes le long de la route du trafic. <br><br>  Examinons de plus pr√®s ce qu'est NSLookup.  Il s'agit d'une commande qui parle de votre serveur DNS.  Si vous tapez nslookup, j'obtiens deux lignes: le serveur par d√©faut est DD-WRT, c'est-√†-dire mon routeur, et son adresse est 192.168.1.1.  Si je sp√©cifie un serveur DNS sp√©cifique avec la commande server 8.8.8.8, le syst√®me me donnera sa description et son adresse IP.  De cette fa√ßon, vous pouvez v√©rifier n'importe quel serveur DNS donn√©.  De la m√™me mani√®re, je peux obtenir des donn√©es sur un domaine sp√©cifique en tapant, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.cisco.com</a> . <br><br><img src="https://habrastorage.org/webt/2c/hc/gc/2chcgcfg7mt1taavbtd_9qldsvs.jpeg"><br><br>  Comme vous pouvez le voir, Cisco utilise deux versions de l'adresse IP, et si je tape google.com, nous verrons de nombreuses adresses IP utilis√©es par ce serveur.  Il s'agit d'un service √©norme auquel tant de personnes acc√®dent qu'une seule adresse IP peut ne pas suffire. <br><br><img src="https://habrastorage.org/webt/v-/_v/bq/v-_vbqbx-0xm4xs_xb5pp_ph8qa.jpeg"><br><br>  Il y a une blague selon laquelle lorsque les gens veulent savoir si Internet fonctionne, ils tapent simplement google.com.  En plus des utilisateurs de PC, les propri√©taires de smartphones sous Android acc√®dent constamment √† ce service, il y a donc simplement un trafic √©norme passant par les serveurs de cette soci√©t√©. <br><br>  Ainsi, la commande nslookup vous permet de conna√Ætre l'adresse IP d'un nom de domaine sp√©cifique.  Tous les outils mentionn√©s ci-dessus ne r√©solvent pas les probl√®mes, mais servent √† les diagnostiquer.  Plus vous pratiquez dans l'industrie informatique, plus vous pourrez utiliser ces outils efficacement, car seules la pratique et l'exp√©rience peuvent vous apprendre √† diagnostiquer et √† r√©soudre rapidement les probl√®mes de r√©seau.  La pratique vous donnera l'occasion de comprendre quel est le probl√®me, en un coup d'≈ìil aux param√®tres r√©seau de la console de l'ordinateur.  Par cons√©quent, apr√®s avoir termin√© l'√©tude du sujet de l'ICND1, je publierai des travaux pratiques de laboratoire sur le site afin que vous puissiez appliquer les connaissances th√©oriques. <br><br>  Avant de parler du syslog, je veux parler de la commande Terminal Monitor du syst√®me d'exploitation Cisco IOS.  Je vais entrer dans le programme Packet Tracer (si vous ne l'avez pas d√©j√† install√©, vous pouvez vous inscrire aupr√®s de Network Academy et t√©l√©charger ce programme), prendre deux routeurs et les connecter avec un c√¢ble. <br><br>  Ensuite, je vais passer en mode de configuration globale et configurer √† tour de r√¥le ces routeurs, en leur donnant les noms R0 et R1. <br><br><img src="https://habrastorage.org/webt/pc/b_/rg/pcb_rg5syep3srml9bngkixaaku.jpeg"><br><br>  Ensuite, dans les param√®tres R1, j'entrerai la commande enable password enable pour d√©finir le mot de passe et configurer l'interface g0 / 0 en utilisant l'ip add 10.1.1.2 255.255.255.0 et aucune commande de fermeture.  De la m√™me mani√®re, je configurerai le routeur R0 en lui attribuant l'adresse IP 10.1.1.1.  Ensuite, j'active le protocole Telnet avec la commande line vty 0 4 et d√©finit le mot de passe pour entrer Telnet avec les commandes telnet de connexion et de mot de passe.  Ensuite, je vais aller dans les param√®tres de R0 et utiliser la commande telnet 10.1.1.2 pour √©tablir une connexion avec le routeur R1.  Apr√®s cela, le syst√®me demandera un mot de passe pour √©tablir une connexion et j'entrerai le mot telnet, que j'ai d√©fini comme mot de passe pour R1.  Comme vous pouvez le voir, apr√®s cela, sur la ligne de commande, le nom du routeur R0 est devenu R1 - cela signifie que je suis pass√© par le routeur R0 pour les param√®tres du routeur R1. <br><br><img src="https://habrastorage.org/webt/se/nu/y4/senuy4fu7fbkzerhi1y7g8noz7c.jpeg"><br><br>  Passons maintenant √† l'interface g0 / 1 et je vais vous montrer quelques choses.  Tout d'abord, j'utilise la commande no shut pour cela.  Vous voyez que le message de journal est apparu dans la fen√™tre CLI du deuxi√®me routeur, que l'√©tat de l'interface g0 / 1 a chang√© pour up. <br><br><img src="https://habrastorage.org/webt/st/jo/fd/stjofdzlgbi1f6tc_c_dgm1noqa.jpeg"><br><br>  Depuis que j'ai entr√© les param√®tres R1 √† partir du routeur R0, il s'est av√©r√© que j'avais connect√© un ordinateur portable ordinaire au deuxi√®me routeur avec un c√¢ble et que je l'avais contr√¥l√© √† distance.  Cependant, ce message de journal est apparu uniquement dans la fen√™tre R1, car j'√©tais connect√© au deuxi√®me routeur uniquement via le canal Telnet et il n'√©tait pas dupliqu√© dans la fen√™tre CLI du premier routeur.  Le fait est que si vous avez entr√© √† distance les param√®tres d'un appareil situ√©, par exemple, dans un autre b√¢timent, par d√©faut, les messages de journal de cet appareil ne seront pas affich√©s sur votre √©cran. <br><br>  Pour que ces messages de journal s'affichent sur l'√©cran de votre appareil, vous devez utiliser la commande Terminal Monitor.  En fait, cela signifie que si des messages du journal des √©v√©nements apparaissent sur l'√©cran d'un autre appareil, ils doivent √™tre envoy√©s sous forme de paquets via le protocole Telnet √† l'adresse IP de votre appareil.  Par d√©faut, les messages de journal ne sont pas envoy√©s √† l'adresse IP, mais apr√®s avoir entr√© la commande de surveillance du terminal, cela commencera √† se produire.  Si j'entre maintenant la commande d'arr√™t dans la fen√™tre des param√®tres du routeur R1, un message de journal sur la modification de l'√©tat de l'interface appara√Ætra simultan√©ment sur les deux √©crans. <br><br><img src="https://habrastorage.org/webt/n4/ex/sk/n4exskp970o-aj8-qp1b2c5l0jw.jpeg"><br><br>  Maintenant, je vais entrer dans le mode de param√®tres globaux R1 dans la premi√®re fen√™tre et commencer √† taper une commande, par exemple, int g0 / 0.  Supposons que j'ai r√©ussi √† imprimer uniquement int g0 /, et √† ce moment une sorte de message de journal est apparu.  Mon √©quipe sera d√©chir√©e par ce message, donc 0 sera sur la ligne suivante, et l'appareil peut ne pas le comprendre.  Cela est particuli√®rement g√™nant si je tape une commande longue ou si les messages du journal se composent de plusieurs lignes, car je ne saurai pas o√π arr√™ter de taper pour que mon √©quipe ne se d√©chire pas, ou je peux oublier o√π je me suis arr√™t√©. <br><br><img src="https://habrastorage.org/webt/ve/bi/qh/vebiqhnjmtg6uqdk0etrdsjfhcs.jpeg"><br><br>  Pour √©viter cela, la synchronisation des journaux est utilis√©e.  Je tape la commande line vty 0 4 dans la fen√™tre de droite pour acc√©der aux param√®tres Telnet, apr√®s quoi l'en-t√™te de ligne de commande passe de R1 (config-if) √† R1 (config-line).  Ensuite, j'entre la commande logging synchronous et retourne √† la fen√™tre de gauche. <br><br>  Maintenant, je r√©p√®te la m√™me situation - tapez int g0 / et pause, au cours de laquelle le message de journal appara√Æt √† nouveau.  Il appara√Æt √©galement sur les deux √©crans, mais maintenant son texte ne rompt pas ma commande, et en dessous il r√©p√®te simplement ce que j'ai commenc√© √† taper.  Maintenant, je peux tranquillement continuer √† taper l'√©quipe que j'ai commenc√©e, sans craindre qu'elle ne soit divis√©e en morceaux par les journaux qui apparaissent.  Pour moi, en tant qu'utilisateur, cela est tr√®s pratique, car vous n'avez pas besoin de r√©fl√©chir √† la mani√®re de taper une commande plus rapidement, jusqu'√† ce que soudainement un message du journal des √©v√©nements apparaisse.  C'est ce que fait la commande logging synchronous, ou ¬´synchroniser les journaux¬ª. <br><br><img src="https://habrastorage.org/webt/zk/r0/pv/zkr0pvyxzbst_gytdh3pth4mciy.jpeg"><br><br>  Chacun des messages de journal a un certain niveau de priorit√©, dans notre exemple c'est le niveau 5. Plus la valeur du niveau de journalisation est basse, plus le message est important.  Il existe au total 8 niveaux de priorit√© des journaux Cisco. <br><br><img src="https://habrastorage.org/webt/jl/7e/9g/jl7e9gtrfe9dtgdih32qqem42tq.jpeg"><br><br>  0 - urgence, le syst√®me n'est pas pleinement op√©rationnel, <br>  1 - une situation alarmante, une intervention urgente est n√©cessaire, <br>  2 - √©v√©nements critiques, le syst√®me peut tomber en panne, <br>  3 - messages d'erreur, <br>  4 - toutes sortes d'avertissements <br>  5 - diverses notifications importantes, <br>  6 - messages d'information, <br>  7 - messages de d√©bogage. <br><br>  Les trois premiers niveaux signalent des conditions dangereuses du syst√®me, le niveau 3 indique des probl√®mes dans le syst√®me, le quatri√®me niveau avertit que l'√©tat du syst√®me peut devenir instable, mais il fonctionne toujours.  Le niveau 5 informe sur divers √©v√©nements, par exemple, sur un changement de l'√©tat du lien, comme dans notre exemple.  Si vous utilisez le mode d√©bogage, l'√©cran affichera des messages de d√©bogage du 7e niveau.  Si vous √™tes une personne occup√©e et que vous ne souhaitez pas lire tous les journaux, vous pouvez choisir le niveau de messages de danger √† afficher √† l'√©cran. <br><br>  Par exemple, je veux voir uniquement les messages du journal jusqu'au 3e niveau de danger.  Dans ce cas, le syst√®me n'affichera que les messages des niveaux 0, 1, 2 et 3, en ignorant les messages des niveaux 4 √† 7.  Par d√©faut, le niveau 7 est d√©fini, vous verrez donc les journaux de tous les niveaux, de z√©ro √† septi√®me. <br><br>  Nous avons examin√© ce qu'est le moniteur de terminal et passons maintenant √† Syslog.  Si des messages de journal importants apparaissent sur votre √©cran, vous voudrez peut-√™tre les enregistrer d'une mani√®re ou d'une autre sur le serveur Syslog, car g√©n√©ralement ces messages sont stock√©s uniquement dans la m√©moire du routeur et vous ne pourrez pas les analyser apr√®s un certain temps. <br><br>  Revenons √† Packet Tracer et ajoutons un serveur au circuit qui est directement connect√© au premier routeur.  Dans la pratique, le commutateur doit √™tre situ√© entre eux, mais nous utilisons ce sch√©ma √† des fins de formation, afin que nous puissions nous passer du commutateur.  Je vais dans les param√®tres r√©seau du serveur et je lui attribue une adresse IP statique 10.1.2.10, un masque de sous-r√©seau de 255.255.255.0 et une adresse de passerelle par d√©faut de 10.1.2.1.  Cette adresse n'existe pas encore, mais je la configurerai lorsque je proc√©derai √† la configuration de l'interface du routeur R0. <br><br>  Ensuite, je vais aller dans les param√®tres de R0, utiliser la commande g0 / 1 et lui attribuer l'adresse 10.1.2.1 avec un masque de sous-r√©seau de 255.255.255.0.  Ainsi, le serveur et le routeur seront sur le m√™me r√©seau.  Ensuite, je dois entrer dans les param√®tres du deuxi√®me routeur R1 et configurer la connexion avec le premier routeur.  Vous pouvez configurer un RIP ou une route statique, dans ce cas, je choisis ce dernier. <br><br>  Pour ce faire, j'entre la commande ip route 0.0.0.0 0.0.0.0 10.1.1.1, c'est-√†-dire que j'indique que tout le trafic est envoy√© √† l'adresse 10.1.1.1.  J'entre alors dans do show ip route et je vois que la passerelle de la derni√®re file d'attente Gateway of last resort a l'adresse 10.1.1.1 pour le r√©seau 0.0.0.0. <br><br>  Je vais maintenant v√©rifier s'il est possible d'envoyer une requ√™te ping √† l'appareil au 10.1.2.10.  Si vous vous en souvenez, le ping est un outil de diagnostic, et comme vous pouvez le voir, le ping a r√©ussi.  Ensuite, j'active le mode d√©bogage avec la commande debug ip icmp, cela signifie que chaque fois que le routeur cingle, un message correspondant appara√Æt dans la fen√™tre de la console. <br><br>  Si je ping R1 √† partir du routeur gauche R0 √† l'aide de la commande ping 10.1.1.2, les messages de journal appara√Ætront dans la fen√™tre CLI du routeur droit, par d√©faut, niveau de priorit√© 7.  Je veux que tous les messages de journal qui apparaissent pendant le processus de configuration soient envoy√©s au serveur Syslog.  Pour ce faire, je vais dans l'onglet Services du panneau des param√®tres du serveur et je vois que le param√®tre Syslog est activ√© par d√©faut.  Eh bien, maintenant je dois dire √† R1: "chaque fois qu'un message de log appara√Æt, veuillez l'envoyer au serveur Syslog au 10.1.2.10!".  Pour ce faire, j'entre la commande logging 10.1.2.10.  Tous les messages du journal seront d√©sormais envoy√©s au serveur.  Voyons comment cela se produit. <br><br>  J'entre dans les param√®tres de R0 et encore une fois je ping le routeur R1.  Dans la fen√™tre CLI du serveur de droite, un message de d√©bogage appara√Æt, qui doit √™tre transmis au serveur Syslog.  Je vais dans l'onglet Syslog du serveur et je vois que tous ces messages y sont apparus. <br><br><img src="https://habrastorage.org/webt/rm/ar/ad/rmaradajb2w4sgipn5d5bhr44gc.jpeg"><br><br>  Ainsi, si des √©v√©nements se sont produits pendant le week-end, alors que vous √™tes arriv√© au travail le lundi, vous pourrez consulter tous les messages de journal dans lesquels ces √©v√©nements sont enregistr√©s.  Si vous avez des probl√®mes, vous pouvez analyser ce qui s'est pass√© et appliquer des mesures pour les √©liminer. <br><br>  Cependant, si vous regardez attentivement les messages Syslog, vous verrez une erreur: ils ont tous un horodatage le 1er janvier de z√©ro heure.  Cela signifie que je ne peux pas savoir quand les √©v√©nements enregistr√©s se sont r√©ellement produits.  Cela s'est produit parce que l'horloge syst√®me du routeur R1 affiche la mauvaise heure.  Si j'entre la commande show clock dans les param√®tres de ce routeur, je verrai le message 0: 26: 9.539 UTC lun 1 mars 1993. Cela signifie que 26 minutes 9 secondes se sont √©coul√©es depuis que le routeur a √©t√© allum√©, et l'horloge par d√©faut commence √† compter √† partir du 1er mars 1993 ann√©es. <br>  Je peux r√©gler manuellement l'heure correcte et commencer √† le faire avec le routeur R0.  J'entre la commande de r√©glage de l'horloge, puis je r√®gle l'heure correcte au format hh: mm: ss.  Apr√®s avoir entr√© 22:05:00, le syst√®me vous invite √† saisir le jour du mois de 1 √† 31 et le nom du mois.  J'imprime le 14 mars et je dois maintenant entrer l'ann√©e dans la plage de 1993 √† 2035. Par cons√©quent, je tape la ligne 22:05:00 le 14 mars 2017, apr√®s quoi j'appuie sur Entr√©e.  Si vous tapez maintenant show clock, le syst√®me affichera l'heure correcte. <br><br><img src="https://habrastorage.org/webt/ph/ss/bv/phssbvazbjjs3rdpmqjyvpt2vvg.jpeg"><br><br>  Vous pouvez vous demander pourquoi j'ai r√©gl√© l'heure sur le routeur R0, et non sur R1.  C'est parce que je veux vous montrer le r√©glage automatique de l'heure du deuxi√®me routeur.  Ensuite, j'entre les commandes debug ip icmp et logging 10.1.2.10 dans les param√®tres R0 afin que les journaux soient envoy√©s au serveur Syslog. <br><br>  Ensuite, je d√©sactive le d√©bogage du routeur R1 avec la commande un all et envoie une requ√™te ping √† l'appareil 10.1.1.1.  Le ping a r√©ussi, et si vous regardez maintenant les journaux du serveur, vous pouvez voir que de nouveaux messages ont √©t√© ajout√©s ici, mais pour une raison inconnue, avec une heure et une date z√©ro incorrectes.  C'est √©trange, car l'heure correcte est √©galement indiqu√©e dans les param√®tres du routeur R1.  J'ai de nouveau cingl√© le routeur R0 √† partir du routeur R1, les messages de journal apparaissent √† l'√©cran et dans le journal du serveur, mais √† nouveau avec la mauvaise date.  Les informations n'ont probablement pas encore √©t√© mises √† jour et je vais essayer de savoir pourquoi. <br>  Je vais dans les param√®tres du routeur R0 et j'√©teins les messages de d√©bogage avec la commande un all, apr√®s quoi je vais dans les param√®tres du routeur R1 et j'entre la commande de service timestamps, qui met un horodatage sur les messages de d√©bogage ou les messages de journal.  Dans notre cas, j'utilise le service horodatages log datetime ms. <br><br>  Ensuite, je reviens aux param√®tres de R0 et ping R1.  Vous voyez maintenant que les messages sont apparus sur le serveur avec la date et l'heure: 1er mars, 00:31:02 avec millisecondes.  Mais ce n'est pas la bonne date, puisque je n'ai pas fix√© le 1er mars, mais le 14 mars!  Je m'excuse d'avoir fait des erreurs dans ce didacticiel vid√©o, je vais maintenant les corriger. <br><br>  Je vais essayer de r√©gler l'heure correcte d'une mani√®re diff√©rente.  Le fait est que jusqu'√† ce que j'active le service d'horodatage, les messages sont arriv√©s avec l'heure et la date par d√©faut.  Ensuite, j'ai activ√© le service d'horodatage, mais apr√®s cela, je n'ai pas configur√© l'heure et la date correctes, c'est pourquoi l'horodatage dans les messages du journal s'est av√©r√© incorrect. <br><br>  Le probl√®me avec le r√©glage manuel de l'heure est que si vous avez des centaines d'appareils, vous devez entrer dans les param√®tres de chaque appareil et r√©gler l'heure et la date.  Pour √©viter cela, il existe un m√©canisme NTP automatique, ou protocole d'heure r√©seau, qui synchronise l'heure d'un ordinateur avec l'heure des p√©riph√©riques r√©seau.  Vous pouvez s√©lectionner un p√©riph√©rique r√©seau en tant que ma√Ætre NTP et r√©gler l'heure souhait√©e.  L'√©tude de ce protocole d√©passe le cadre du cours CCNA, et je ne suis pas s√ªr que la commande ntp master soit prise en charge par Packet Tracer.  Mais j'essaie toujours de r√©gler l'heure correcte, pour laquelle j'ajouterai un autre serveur √† notre r√©seau et lui assignerai un serveur NTP. <br><br>  Pour ce faire, je vais entrer dans ses param√®tres et v√©rifier l'onglet NTP.  Comme vous pouvez le voir, la date et l'heure correctes sont d√©finies ici et la fonction NTP est activ√©e. <br><br><img src="https://habrastorage.org/webt/nm/7e/49/nm7e499hdsmljca8zx-zvpvo6ac.jpeg"><br><br>  Ensuite, je vais dans les param√®tres r√©seau de Server1 et je lui attribue une adresse IP 10.1.3.10, un masque de sous-r√©seau de 255.255.255.0 et une passerelle par d√©faut de 10.1.3.1.  Comme je l'ai mentionn√© plus t√¥t, cette passerelle n'est pas configur√©e, donc j'entre dans les param√®tres du routeur R1 et configure l'interface g0 / 1 pour communiquer avec le serveur en √©mettant l'ip add 10.1.3.1 255.255.255.0 et aucune commande de fermeture. <br><br>  Ensuite, dans les param√®tres du routeur, j'entre la commande ntp server 10.1.3.10, apr√®s quoi le routeur R1 pourra recevoir l'heure correcte du serveur NTP.  Comme vous pouvez le voir, nous avons maintenant des messages de journal de niveau 5 avec le bon horodatage. <br><br><img src="https://habrastorage.org/webt/0v/qe/ek/0vqeekqk9j44hs8beajta_tukdo.jpeg"><br><br>    show clock, ,     .     ntp association,     ,      Packet Tracer,      ntp. <br><br><img src="https://habrastorage.org/webt/fq/y3/zi/fqy3zicegk9gizgj1i2cegdloz0.jpeg"><br><br>  ntp status    ,    .  ,    Stratum  2 ‚Äì  ,      NTP-,    R2    ,     1.       ,       R1,    stratum   3 (NTP- + R1 +  ),   R1     NTP-    2.  ,       . <br><br>      R0    R1   10.1.1.2,    ,      Server0     ,  . <br><br><img src="https://habrastorage.org/webt/ie/db/ep/iedbepi6kkhhb_rhw2bvhnt1bew.jpeg"><br><br>   ,   NTP  Syslog.        ‚Äì CDP,  Cisco Discovery Protocol.        . <br><br> ,      ,    ,      ,         .       Cisco,     ,   ,    IP-.  ,   LLDP,  Link Layer Discovery Protocol,      ,   CDP,            . <br><br>  CDP    Cisco  .      LLDP,        Cisco .          ,    LLDP,        Cisco,   CDP. <br><br>  ,    ,         Packet Tracer.   ,  ,  CDP     ,   Server0      R0. ,          ,    . <br><br>      CLI  R0    show cdp.  ,    cdp-  60 ,     180 ,     ‚Äì CDPv2. <br><br><img src="https://habrastorage.org/webt/fw/g-/xw/fwg-xwk2qngn5xvhyw4trnn5iai.jpeg"><br><br>  CDP    ,       , ,    .        60 .     show cdp neighbors,    ,   R0       CDP-. <br><br><img src="https://habrastorage.org/webt/wc/wq/oo/wcwqooo-dx6ng2e9j60kbeiyyf8.jpeg"><br><br>    ,   R0    ‚Äì  R1  .  R1   R    1900    R0   g0/0,    g0/0     R0. <br><br>  ,   show cdp neighbors    ,      , ,        .      ,            . <br><br>        R0 ‚Äì    2960,        g0/1.       , ,   ,   ,         ,    Capability,        : R ‚Äì , S ‚Äì , H-   ..      R0   FastEthernet 0/1. <br><br>    , CDP    .   ,   ,     ‚Äì  CDP   .   ,      ,     .     CDP?     config t         cdp run. ,     cdp    .   cdp    no cdp run.  ,    cdp,   show cdp ‚Äì  ,        CDP is not enable. <br><br>   ,     cdp    ,     .  ,   ,     cdp  cdp run,      , , int g0/1,     cdp enable,     ,  no cdp enable,       .    no cdp enable  cdp       ,      . ,   / cdp      run,     ‚Äì  enable. <br><br>      show cdp neighbors, ,         R0      ‚Äì  R1.     cdp   g0/1,   ¬´¬ª. <br><br>     LLDP      ,  CDP,  lldp run/no lldp run.  ,       Cisco  CDP ,  LLDP ‚Äì .    LLDP   , , g0/1,           lldp receive,      ,  lldp transmit,     LLDP -. <br><br>         ,    no lldp receive,     ‚Äì no lldp transmit.   CDP  LLDP   ,       ,    ‚Äì  ,        LLDP -. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YHa-dXBfUrE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?       , <b>30%        entry-level ,      :</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps  $20     ?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV √† partir de 199 $</a> aux Pays-Bas!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - √† partir de 99 $!</b></b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation d'un b√¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr465977/">https://habr.com/ru/post/fr465977/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr465961/index.html">Apprenez le marketing Internet par vous-m√™me: plus de 50 cours gratuits</a></li>
<li><a href="../fr465963/index.html">Salaire Biographie en Allemagne 2019</a></li>
<li><a href="../fr465969/index.html">La rectitude politique p√©n√®tre la Russie √† travers des livres sur la conception de puces sur SystemVerilog pour les non-d√©butants</a></li>
<li><a href="../fr465973/index.html">10 reportages vid√©o les plus populaires du 404fest 2018</a></li>
<li><a href="../fr465975/index.html">Guide SQL: comment mieux √©crire des requ√™tes (partie 2)</a></li>
<li><a href="../fr465979/index.html">N'oubliez pas que tout ^ W est exactement ce dont vous avez besoin. Exp√©rience avec Anki. Partie 1 (introduction, avant-derni√®re)</a></li>
<li><a href="../fr465981/index.html">Mon exp√©rience d'administration IBM DB2 Express-C lorsqu'il est utilis√© avec 1C: Enterprise</a></li>
<li><a href="../fr465983/index.html">Intel Comet Lake: un petit 14 nm √† la dixi√®me g√©n√©ration</a></li>
<li><a href="../fr465985/index.html">Nous acc√©l√©rons le traitement distribu√© de grands graphiques en utilisant des structures de donn√©es probabilistes et pas seulement</a></li>
<li><a href="../fr465987/index.html">Le perroquet a atterri. L'annonce du livre "G√©n√©ralisation du deep learning"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>