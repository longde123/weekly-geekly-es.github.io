<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖕🏾 🚵🏿 📴 Revue de code: mauvais conseils pour le contributeur et le réviseur ⬜️ 👨🏿‍🤝‍👨🏼 🍔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut Je m'appelle Nikolai Izhikov. Dans cet article, je veux parler d'un élément d'interaction important que nous rencontrons dans le processus de dé...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Revue de code: mauvais conseils pour le contributeur et le réviseur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/445440/">  Salut  Je m'appelle Nikolai Izhikov.  Dans cet article, je veux parler d'un élément d'interaction important que nous rencontrons dans le processus de développement de logiciels, en particulier en open source.  Il s'agit d'une procédure pas à pas et d'une révision de code. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f66/961/f2e/f66961f2edb745a1eb878a96ed620c37.jpg"></div><br>  Je donnerai <s>des</s> conseils <s>néfastes</s> sur la façon de créer ma fonctionnalité et de la fusionner dans l'assistant de projet open source dans le contexte des différences culturelles, temporelles, conceptuelles et autres entre les membres de la communauté.  C'est généralement une question délicate, surtout pour ceux qui débutent en open source. <br><a name="habracut"></a><br>  Commençons par une petite introduction.  Lorsque vous communiquez avec des personnes, en particulier par chat ou par courrier, en particulier en anglais, gardez toujours à l'esprit que votre message peut être perçu complètement différemment de ce que vous attendiez.  On ne sait pas qui lira la lettre.  Il peut être hindou, anglais ou simplement somnolent.  Il y aura toujours des différences dans la compréhension de mots spécifiques, et sans entrer dans les détails techniques, je vais vous dire comment les minimiser. <br><br>  Attention: l'histoire contient du sarcasme. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b54/30b/4dc/b5430b4dc996b905cf0bc8be46c8ad35.png"><br><br><h2>  Mauvais conseils pour un contributeur </h2><br><h4>  Ne discutez d'une nouvelle fonctionnalité avec personne </h4><br>  Si vous souhaitez implémenter une nouvelle fonctionnalité, ne discutez en aucun cas de votre révision avec qui que ce soit.  Quelqu'un peut écouter et le faire avant vous!  Ou, après avoir entendu les détails, ils peuvent vous dire que vous n'avez pas compris quelque chose - pour critiquer votre idée.  La critique fait très mal.  Peut-être qu'une fonctionnalité comme la vôtre a déjà été discutée, et vous en avez besoin d'une autre ... En général, en aucun cas, ne dites à personne ce que vous voulez faire.  Jamais. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af9/8b2/782/af98b278223872d47d0a28513325484b.png"><br><br><h4>  Ne faites jamais de documentation technique </h4><br>  Les passionnés et les gars expérimentés de la communauté aiment beaucoup comprendre le code du patch reçu.  Par conséquent, en aucun cas, ne faites pas de documentation technique.  Wiki, Jira, discussion sur la liste de diffusion - tout cela est complètement absurde.  Et les conneries ne sont pas pour toi! <br><br>  Lorsque vous envoyez un patch à [+5000, -3500] avec une description des améliorations sous la forme d '«améliorations des méthodes d'usine et d'autres améliorations», tout le monde le comprendra tout en comprenant à quel point vous êtes bon. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/df5/f4e/2c5/df5f4e2c5e4b566598e5052e45e36472.png"><br><br><h4>  Ne jamais exécuter de tests </h4><br>  Tous les tests sont dangereux car ils peuvent casser quelque chose.  Si vous avez quand même réussi à exécuter les tests, n'affichez pas leurs résultats.  Des erreurs dans les résultats peuvent entraîner le rejet du patch!  Et certainement jamais écrire de nouveaux tests.  Tout exécuter sera plus long, la consommation du processeur augmentera.  Quoi qu'il en soit, les bons développeurs écrivent du code sans bogues - tout collègue expérimenté examinera vos correctifs et comprendra qu'il n'y a aucune erreur. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f40/c6d/0ac/f40c6d0acfce007dae2bad5a621085a1.png"><br><br><h4>  Ne jamais lire le guide pratique </h4><br>  Dans un projet open source, ne lisez jamais aucun How-To.  Ils sont écrits pour des imbéciles, non? <br>  Concevez votre code à votre manière.  Sinon, comment tout le monde comprendra que vous êtes un bon développeur et une personne créative polyvalente avec un sens développé de la beauté? <br><br>  Envoyez des correctifs à votre convenance.  Par exemple, le projet est lié à l'infrastructure GitHub - envoyez-le tel qu'il est envoyé au noyau Linux, juste dans la lettre.  Vous pouvez même pas dans la pièce jointe, mais directement dans le texte.  Après tout, Linus Torvalds ne conseillera pas mal!  Et si le projet est adopté différemment, alors ce sont des problèmes du projet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/952/f16/116/952f16116b7e47ef6f040a9283184291.png"><br><br><h4>  N'hésitez pas à compliquer l'API publique </h4><br>  Lors du développement de la nouvelle API publique, essayez de la rendre aussi abstraite et complexe que possible.  Il est toujours possible de répondre à toutes les questions des utilisateurs sur le comportement non évident de l'API: «N'avez-vous pas lu le manuel?  Page 42, tout est écrit clairement!  Relisez-le! ”  Dans les projets sérieux, tout devrait être compliqué.  Nous avons un projet sérieux? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed8/a6b/6db/ed8a6b6db0196c7e61c5d8e80fcfee72.png"><br><br><h4>  Ne conseille pas ou ne parle pas des problèmes </h4><br>  Ne consultez personne et ne parlez à personne des problèmes rencontrés lors du développement.  C’est beaucoup plus amusant de comprendre une chose.  De toute façon, les bons développeurs réussissent toujours la première fois, ils n'ont aucun problème.  Si d'autres découvrent vos problèmes, ils deviendront plus intelligents et écriront du code plus rapidement que vous.  Cela ne devrait pas être autorisé.  Et en effet, il n’est pas habituel de parler de ses problèmes. <br><br>  Les limites de la décision finale ne valent pas non plus la peine d'être mentionnées.  Après tout, la solution peut être demandée de finaliser.  Qui se soucie des restrictions?  Lorsqu'un utilisateur commence à introduire votre produit dans le produit et rencontre des restrictions, il sera plus intéressé et plus amusant.  Il viendra vers vous et vous demandera de le terminer.  Et jusqu'à ce point, en aucun cas ne lui parlez des restrictions - et s'il décide de ne rien mettre en œuvre? <br><br>  Un très bon critique trouvera tout et il vous demandera des détails.  En aucun cas, ne lui dites rien. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d64/b19/b2d/d64b19b2df118fa93c0f3c29cde71472.png"><br><br><h4>  Si vous avez des questions, écrivez à la liste des développeurs </h4><br>  Cette astuce complète la précédente.  Il est préférable non seulement de ne rien dire à personne, mais aussi de poser des questions principalement sur la liste des développeurs. <br><br>  Voici des exemples de questions auxquelles tout le monde aime répondre.  Si vous écrivez une sorte de test, assurez-vous de demander: "Avez-vous besoin de vérifier la valeur null de cette collection?".  Vous n'avez pas besoin de le découvrir par vous-même, vous pouvez toujours demander sur la feuille de développement.  Après tout, il y a beaucoup de gens qui n'attendent que de se poser une telle question.  Ils chercheront à y répondre plus rapidement. <br><br>  "Comment faire la tâche?"  - Une autre grande question.  En aucun cas, n'indiquez aucun détail: l'ID de tâche sera suffisant.  Tous ceux qui en ont besoin verront par eux-mêmes. <br><br>  "Quel cadre utiliser?"  - également une très bonne question.  Il est toujours intéressant d'y répondre et vous pouvez débattre. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/84d/d90/71a/84dd9071ab1b361ecfc2d0936c3a87e9.png"><br><br><h4>  Résoudre tous les problèmes de projet en une seule demande de tirage </h4><br>  Ceci est mon conseil préféré.  Résolvez tous les problèmes du projet en une seule demande, surtout si vous travaillez en entreprise.  Il n'y avait que des imbéciles dans le projet avant vous, ils ont mal écrit le code.  Et tu écris bien.  En conséquence, vous devez simplement: <br><br><ul><li>  Refactorisez tout le code existant que vous ne comprenez pas; <br></li><li>  renommer toutes, à votre avis, les variables mal nommées; <br></li><li>  corriger tous les commentaires javadoc existants. <br></li></ul><br>  En général, vous pouvez prendre et retirer certaines classes, usines, etc., effectuer d'autres transformations pour que le code soit meilleur.  Cela semblera particulièrement impressionnant dans les domaines qui ne sont pas pertinents pour votre tâche.  Ainsi, vous pouvez révéler plus pleinement votre potentiel.  À la gloire de la POO!  Amen! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e79/af3/a38/e79af3a385de40800b65304b4b5009fa.png"><br><br><h4>  Demander une révision du code à l'avance </h4><br>  Lorsque vous effectuez une tâche, puis envoyez une demande de révision de code, le processus peut prendre un certain temps.  Tous les experts sont généralement occupés.  Profitez de l'astuce: lorsque votre tâche, comme il vous semble, se terminera bientôt, demandez une révision à l'avance.  Après tout, ils ne regarderont pas tout de suite - jusqu'à ce que vos mains vous atteignent, vous pouvez tout finir. <br><br>  Eh bien, si le réviseur a soudainement le temps, alors que la tâche n'est pas encore terminée, il n'a pas eu de chance.  Expliquez la situation, dites que demain tout sera prêt.  De cette façon, vous accélérez le processus (au moins par révision) et accélérez la fusion. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/da9/3fe/85f/da93fe85f9a093e2f283452bebd845b4.png"><br><br><h4>  Fatigué de la tâche - laissez tomber </h4><br>  Tous ceux qui travaillent en open source ont beaucoup de temps.  Pas besoin de finir quoi que ce soit.  Passé l'examen du code, reçu des commentaires.  Et pourquoi éditer et apporter quelque chose à fusionner?  Prenez le casse-tête suivant et faites-le.  C'est la voie du succès!  L'évaluateur a beaucoup de temps et le prochain patch sera sans résultat! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c7f/76f/468/c7f76f468fa689f4a4841816fe40810a.png"><br><br><h4>  Le critique est votre ennemi </h4><br>  Et quoi d'autre pour nommer la personne qui se tient entre vous et le commit en maître?  La critique du code est une critique de vous personnellement!  Qui pense-t-il être?  En communication personnelle, «bombardez» autant que possible!  Sinon, comment l'examinateur sait-il que vous vous souciez?  C'est la règle de base du développement! <br><br>  Je recommande ce conseil dans le développement quotidien.  Cela aide à atteindre le résultat et à le faire correctement. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b35/cc2/6a7/b35cc26a71ecc4fa80d51b73d0789ec9.jpg"><br><br><h2>  Mauvais conseils pour le critique </h2><br><h4>  N'automatisez pas les contrôles de routine </h4><br>  Si vous avez atteint le niveau dans le projet alors que des correctifs pour révision vous sont déjà envoyés, n'automatisez en aucun cas les contrôles de routine!  Il est beaucoup plus amusant de passer quelques cycles d'examen sur le dépannage et la discussion: <br><br><ul><li>  formatage du code; <br></li><li>  dénomination des variables; <br></li><li>  vérifie si ces variables sont marquées finales, ce qui peut être marqué par elles; <br></li><li>  ... et tout le reste. <br></li></ul><br>  En aucun cas, les contrôles de routine ne doivent être automatisés.  Oui, et des tests pour conduire à rien. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/181/763/e87/181763e878a864b49aff074117ad1c8b.png"><br><br><h4>  Ne révélez jamais toutes les règles du jeu jusqu'à la toute fin. </h4><br>  Pour être en avance, vous devez toujours garder une paire d'as dans votre manche.  Ne parlez à personne de la nécessité d'une compatibilité descendante.  Il vaut mieux dire juste avant le commit: «Ici, selon nos règles, la compatibilité descendante doit être assurée.  Veuillez corriger. "  Cela sera particulièrement efficace si vous avez déjà examiné cinq fois.  Le sixième, on peut toujours dire: "Je ne suis pas un expert, vous devez donc attendre l'examen de M. X, qui regardera à nouveau." <br><br>  De tels commentaires, en particulier au stade final de l'examen, ajoutent toujours de la motivation aux contributeurs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e66/80a/66e/e6680a66eb6d5e1299f09d9064eefbc8.jpg"><br><br><h4>  Émotions, autorités et non merci </h4><br>  Cette astuce chevauche la dernière astuce des contributeurs.  Rédigez des commentaires sur la demande de tirage aussi émotionnellement que possible.  Si quelque part n'est pas vérifié pour null ou si la variable n'est pas nommée de cette façon, ajoutez de la passion à vos commentaires.  Faites-leur voir que vous vous souciez. <br><br>  En cas de litige, ne donnez en aucun cas d'arguments techniques.  Avec des arguments techniques, il se peut que vous vous trompiez.  Référez-vous aux autorités - c'est le meilleur argument du différend, vous gagnerez toujours. <br><br>  Si quelqu'un a passé en revue votre avis, vous ne devriez jamais dire merci.  Ils veulent toujours s'engager dans l'open source!  En aucun cas, je ne dois remercier, et ils reviendront donc! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b92/260/83e/b9226083efc0f7cf90abd33ce83ca23d.png"><br><br><h2>  Maintenant, sérieusement: à quoi faut-il penser lors de la préparation et de la réalisation d'une révision de code? </h2><br>  J'espère que tout le monde a compris comment mener et réussir l'examen?  Dans chacun de ces conseils, en plus du sarcasme, il y a une douleur qui se produit souvent dans la pratique. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/54e/762/4a9/54e7624a9561e36f750d8f0178edf012.png"><br><br>  Je serai le capitaine d'Evidence et je vous dirai à quoi vous devez vraiment penser lors de la préparation et de la conduite d'une révision du code.  Des considérations s'appliquent en outre à la fois à celle qui développe la fonctionnalité et à celle qui la révisera.  Pourtant, ce sont les deux faces d'une même pièce. <br>  Le consensus dans la communication est, d'une part, réalisable, et d'autre part, il est nécessaire que le projet aille de l'avant.  Actuellement, peu de produits peuvent être développés seuls.  Il s'agit généralement d'un travail d'équipe. <br><br><h4>  Faites preuve de bon sens </h4><br>  C'est le conseil le plus important.  Faites preuve de bon sens, cela oriente.  Il me semble que ce conseil s'applique à toutes les situations de la vie.  Si vous faites quelque chose, demandez-vous si cela répond à la simple règle de bon sens? <br><br><h4>  Supposons ... </h4><br>  Il s'agit de culture.  Je suis allé dans plusieurs grandes communautés open source.  Je ne sais pas si cela fait partie de la mentalité russe, mais souvent une personne qui peut être perçue comme un patron est simultanément perçue comme une personne qui s'est accidentellement mise en place.  On pense qu'il vous veut du mal, par défaut il y a des doutes sur son professionnalisme.  Par conséquent, il est très important dans tout travail de supposer au moins une seconde que: <br><br><ul><li>  <i>Le réviseur (contributeur, votre patron ou collègue) n'est pas votre ennemi</i> .  Il ne veut pas que tu sois mauvais.  C'est une hypothèse simple, mais souvent elle n'est pas faite.  Je lui conseille de faire tout de même. <br></li><li>  <i>La personne qui vous écrit des commentaires est également un bon ingénieur.</i>  Vous, bien sûr, êtes bon, avez fait une telle fonctionnalité.  Mais il existe de nombreux autres bons ingénieurs dans le monde.  Et celui qui vous a envoyé des commentaires s'applique également à eux. <br></li><li>  <i>Cette personne souhaite également que votre tâche soit accomplie.</i> <i><br></i> <br>  Quand il demande quelque chose, il a une sorte de motivation.  Il le fait pour une raison.  Surtout si cette personne n'est pas le premier jour du projet.  Il y a sûrement une raison.  Vous pouvez poser des questions sur cette raison: pourquoi avez-vous besoin de faire exactement cela?  Pourquoi la compatibilité descendante est-elle nécessaire ici?  Si vous posez des questions simples calmement et raisonnablement et écoutez les réponses, vous pouvez en faire plus. <br></li></ul><br><h4>  Quelle valeur apportera le produit? </h4><br>  La revue n'est pas seulement des correctifs prêts à l'emploi, mais aussi des améliorations de projet, des corrections.  En fait, la révision du code commence au moment où vous venez de discuter de votre révision.  À ce stade, demandez-vous: quelle valeur le produit apportera-t-il au produit? <br><br><ul><li>  Sera-ce une nouvelle fonctionnalité? <br></li><li>  S'agit-il d'une amélioration existante? <br></li><li>  Extension d'une fonctionnalité existante? <br></li><li>  Sera-ce du refactoring de code?  Il n'y a rien de mal à cela.  Certains critiquent la refactorisation, mais c'est nécessaire.  Et vous devez savoir que vous le faites, et non une nouvelle fonctionnalité ou autre chose. <br></li><li>  Accélère-t-il un processus, améliore-t-il les performances? <br></li><li>  Est-ce une correction de bogue? <br></li></ul><br>  Il existe d'autres options.  Dans tous les cas, en commençant à développer quelque chose, à résoudre un problème, vous devez comprendre quelle valeur vous ajouterez au projet. <br><br><h4>  Pourquoi la révision (fonctionnalité) est-elle comme ça? </h4><br>  Il y a un certain nombre de questions utiles à poser. <br><br>  <i>Pourquoi créer une fonctionnalité?</i>  <i>Pourquoi cette fonctionnalité est-elle nécessaire?</i>  La réponse à cette question est importante. <br><br>  <i>Où est le début des travaux?</i>  Dans ma pratique, il m'est arrivé de me demander de refaire une certaine application.  Il y a une application A, vous devez faire une application B, qui fait presque la même chose avec des changements mineurs.  Je commence à faire le travail et il s'avère que A ne fonctionne pas.  En fait, il est utilisé quelque part dans la production en utilisant l'interface homme-machine - c'est-à-dire que quelqu'un s'assoit et redémarre constamment le programme, fixant littéralement l'exception du pointeur nul.  Où est le début des travaux?  Dans ce cas, il s'agira de fixer le programme A pour qu'il fonctionne de manière stable, puis d'écrire le programme B. <br><br>  <i>Où est l'achèvement complet des travaux?</i>  <i>Comment le travail effectué devrait-il être idéal?</i>  Il est important de formuler dès le début où vous allez. <br><br>  <i>Où est la fin de l'étape actuelle?</i>  Il est clair que vous ne pouvez pas manger un éléphant tout de suite et il vaut mieux décomposer le travail en étapes.  Il est important de comprendre où se trouve la fin de l'étape actuelle.  Souvent, les projets sont gonflés et ne se terminent pas simplement parce que la portée du projet devient infiniment grande. <br><br>  <i>Pourquoi la fonctionnalité est-elle décomposée précisément à ces étapes?</i>  Il s'agit de MVP et tout ça.  Pensez-y aussi. <br><br><h4>  Maintenant sur l'API publique </h4><br>  Il existe de nombreux articles sur les propriétés de l'API publique.  Lisez-le avant de l'implémenter.  Comme bon exemple, je peux citer le framework JQuery, Spring en Java.  Il existe également des exemples négatifs.  Ceux qui ont programmé en Java pendant des années se souviennent probablement du terrible du point de vue de l'API publique EJB 2.1.  La fonctionnalité peut être bonne, mais si l'API publique est mauvaise, personne ne peut convaincre les utilisateurs d'utiliser le produit. <br><br>  L'API publique n'est pas seulement un outil pour les utilisateurs tiers.  Ceci et l'API des composants internes, que vous réutilisez vous-même entre eux.  Propriétés importantes de l'API publique: <br><br><ul><li>  Simplicité. <br></li><li>  Les preuves. <br></li><li>  Les valeurs par défaut correctes.  Il vaut la peine d'y penser, si, par exemple, dans un environnement de test, vous créez 500 threads, comme en production.  Ou vice versa, en production par défaut il y a 3 threads, comme dans un environnement de test. <br></li><li>  Effacer les messages d'erreur.  C'est le fléau de tant de produits.  Quand quelque chose tombe à l'intérieur du système, il n'est pas clair ce qui est mal fait.  Hier travaillé, aujourd'hui une exception de pointeur nul.  Ce que vous avez fait de mal et comment y remédier n'est pas clair dans le message d'erreur. <br></li><li>  Il est difficile de se tromper.  Il y a beaucoup de recommandations à ce sujet.  Les contrôles de temps de compilation sont toujours meilleurs que les contrôles d'exécution, etc. <br></li><li>  Journaux clairs et suffisants.  Ceci est particulièrement important lorsque vous écrivez du code qui sera réutilisé et déployé quelque part sur le serveur. <br></li><li>  La capacité de surveiller.  Vous devez comprendre que les journaux et la surveillance font également partie de votre API publique.  Lors de l'analyse des erreurs, les utilisateurs verront comment les mesures que vous crachez dans la surveillance se comportent. <br></li></ul><br><h4>  Modifications du sous-système </h4><br>  Lorsque vous arrivez à la révision du code, il est important d'avoir en tête une liste complète des systèmes et sous-systèmes d'un grand produit que vous modifiez.  Dans les projets d'entreprise, cela peut ne pas être clair: qu'il s'agisse d'un schéma de base de données, ou d'un contrôleur, ou d'une présentation, d'une sorte de système de rapport, de téléchargements, de téléchargements, etc. <br><br>  Lorsque vous travaillez avec un produit en boîte, il est important de vous poser la question: comment les changements affectent-ils les processus existants dans le système?  Existe-t-il une rétrocompatibilité?  Cela affecte-t-il les performances?  Si cela affecte, alors la performance de quoi?  Comment cela affecte-t-il l'expérience utilisateur? <br><br><h4>  Processus système standard </h4><br>  Chaque système d'entreprise a des processus standard: démarrage, installation, une liste d'opérations.  Comment vont-ils couler maintenant?  Avant la révision du code, il est important de comprendre cela.  Vous devez parcourir le code qui implémente ces processus.  Dans le cas d'Ignite, c'est: <br><br><ul><li>  Démarrage / arrêt du nœud (serveur / client, coordinateur / régulier) - démarrer, arrêter un nœud, démarrer un serveur ou un nœud client, démarrer un coordinateur ou un nœud normal <br></li><li>  Node Join - en termes de nouveau nœud / coordinateur / serveur / client <br></li><li>  Activation (et désactivation) du cluster <br></li><li>  Changement de coordinateur <br></li><li>  Créer / supprimer le cache <br></li><li>  Persistance / BLT / MVCC <br></li></ul><br>  Il est clair que l'ensemble de ces processus est assez large.  Il est important de comprendre que de tels processus existent et comment ils changent. <br><br><h4>  Étuis d'angle </h4><br>  Dans votre application métier, la reprise après sinistre, l'initialisation initiale du système, l'arrêt du nœud, le redémarrage, la mise à jour de votre application, etc. peuvent se produire.  Dans le cas d'Ignite, nous avons les cas d'angle suivants: <br><br><ul><li>  changement de coordinateur; <br></li><li>  chute de nœud; <br></li><li>  problèmes de réseau - lorsque les messages réseau n'atteignent pas; <br></li><li>  fichiers cassés. <br></li></ul><br>  Nous devons vérifier et vérifier ces choses que tout est en ordre. <br><br><h4>  Bonnes fonctionnalités de code </h4><br>  Nous sommes donc arrivés au code.  Je vous conseille de ne pas être paresseux et de chercher en elle: <br><br><ul><li>  simplicité <br></li><li>  extensibilité <br></li><li>  testabilité <br></li><li>  la fiabilité <br></li><li>  grande vitesse de travail. <br></li></ul><br><h4>  Accès simultané </h4><br>  Java a ses propres particularités lors de l'écriture de code de concurrence.  Si vous avez un système d'entreprise et qu'il y a peu de concurrence, vous n'avez pas besoin de prendre en compte ces fonctionnalités.  Cependant, une synchronisation passe généralement par la base de données.  Dans des choses comme Ignite, c'est un peu plus compliqué.  Et ici, non seulement la fonctionnalité du code est importante, mais aussi ses propriétés: <br><br><ul><li>  Est-il difficile de comprendre votre modèle de simultanéité? <br></li><li>  Structure des données partagées - comment leur intégrité est-elle garantie? <br></li><li>  Serrures - quoi et pourquoi? <br></li><li>  Threads - quels pools sont utilisés?  Pourquoi? <br></li><li>  Garanties de visibilité des changements - à quoi servent-ils? <br></li></ul><br>  Ces questions doivent être posées avant de réviser le code de concurrence.  Il est clair que cette liste peut être prolongée très longtemps. <br><br><h4>  Tests de performance.  Repères </h4><br>  Si vous développez une sorte de système, il a des clients, des installations, alors cela fonctionne évidemment avec des performances.  Dans le monde d'aujourd'hui, il est impossible d'augmenter la puissance matérielle indéfiniment.  Nous avons besoin de tests et d'une surveillance des performances.  Lors de la révision d'un code, il est important de comprendre: <br><br><ul><li>  Les tests de performances sont-ils nécessaires?  C'est peut-être une sorte de raffinement qui n'a pas besoin de tests de performances? <br></li><li>  Si nécessaire, lequel?  Il existe de nombreuses techniques et méthodes de mesure, etc. <br></li><li>  Où-comment-que faut-il mesurer? <br></li><li>  Quels repères sont indicatifs?  Le nombre de nœuds?  Du fer?  Allumer la configuration?  La nature de la charge? <br></li></ul><br><h4>  Total </h4><br>  Dans l'ensemble, la révision du code est une pratique très enrichissante.  J'espère que tous les développeurs (y compris les produits d'entreprise) l'ont déjà implémenté à la maison.  Sinon, veuillez l'implémenter dès que possible.  Je serai heureux de discuter des pratiques de révision de code avec vous dans les commentaires. <br><br>  <i>Vidéo de la conférence:</i> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/Eihr5h5AETA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>La présentation est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr445440/">https://habr.com/ru/post/fr445440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr445428/index.html">Wi-Fi de haute qualité - la base de l'hospitalité moderne et le moteur des affaires</a></li>
<li><a href="../fr445432/index.html">Gestionnaire de packages Unity</a></li>
<li><a href="../fr445434/index.html">Meilleur pire travail au monde: à la recherche d'un Habraautor</a></li>
<li><a href="../fr445436/index.html">Recyclage dans DevOps - à quoi vous préparer</a></li>
<li><a href="../fr445438/index.html">Connaissance des éléments éclairés et des composants Web basés sur celui-ci</a></li>
<li><a href="../fr445444/index.html">Mise à jour des modules solaires haute performance de REC et Trina (solaire)</a></li>
<li><a href="../fr445446/index.html">Comment nous avons utilisé la réplication différée pour la reprise après sinistre avec PostgreSQL</a></li>
<li><a href="../fr445448/index.html">Configuration de la réception automatique des certificats Letsencrypt à l'aide de Docker sous Linux</a></li>
<li><a href="../fr445450/index.html">Extension de navigateur pour toster.ru</a></li>
<li><a href="../fr445452/index.html">Référentiels utiles avec Eloquent?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>