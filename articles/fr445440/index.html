<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñïüèæ üöµüèø üì¥ Revue de code: mauvais conseils pour le contributeur et le r√©viseur ‚¨úÔ∏è üë®üèø‚Äçü§ù‚Äçüë®üèº üçî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut Je m'appelle Nikolai Izhikov. Dans cet article, je veux parler d'un √©l√©ment d'interaction important que nous rencontrons dans le processus de d√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Revue de code: mauvais conseils pour le contributeur et le r√©viseur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/445440/">  Salut  Je m'appelle Nikolai Izhikov.  Dans cet article, je veux parler d'un √©l√©ment d'interaction important que nous rencontrons dans le processus de d√©veloppement de logiciels, en particulier en open source.  Il s'agit d'une proc√©dure pas √† pas et d'une r√©vision de code. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f66/961/f2e/f66961f2edb745a1eb878a96ed620c37.jpg"></div><br>  Je donnerai <s>des</s> conseils <s>n√©fastes</s> sur la fa√ßon de cr√©er ma fonctionnalit√© et de la fusionner dans l'assistant de projet open source dans le contexte des diff√©rences culturelles, temporelles, conceptuelles et autres entre les membres de la communaut√©.  C'est g√©n√©ralement une question d√©licate, surtout pour ceux qui d√©butent en open source. <br><a name="habracut"></a><br>  Commen√ßons par une petite introduction.  Lorsque vous communiquez avec des personnes, en particulier par chat ou par courrier, en particulier en anglais, gardez toujours √† l'esprit que votre message peut √™tre per√ßu compl√®tement diff√©remment de ce que vous attendiez.  On ne sait pas qui lira la lettre.  Il peut √™tre hindou, anglais ou simplement somnolent.  Il y aura toujours des diff√©rences dans la compr√©hension de mots sp√©cifiques, et sans entrer dans les d√©tails techniques, je vais vous dire comment les minimiser. <br><br>  Attention: l'histoire contient du sarcasme. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b54/30b/4dc/b5430b4dc996b905cf0bc8be46c8ad35.png"><br><br><h2>  Mauvais conseils pour un contributeur </h2><br><h4>  Ne discutez d'une nouvelle fonctionnalit√© avec personne </h4><br>  Si vous souhaitez impl√©menter une nouvelle fonctionnalit√©, ne discutez en aucun cas de votre r√©vision avec qui que ce soit.  Quelqu'un peut √©couter et le faire avant vous!  Ou, apr√®s avoir entendu les d√©tails, ils peuvent vous dire que vous n'avez pas compris quelque chose - pour critiquer votre id√©e.  La critique fait tr√®s mal.  Peut-√™tre qu'une fonctionnalit√© comme la v√¥tre a d√©j√† √©t√© discut√©e, et vous en avez besoin d'une autre ... En g√©n√©ral, en aucun cas, ne dites √† personne ce que vous voulez faire.  Jamais. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af9/8b2/782/af98b278223872d47d0a28513325484b.png"><br><br><h4>  Ne faites jamais de documentation technique </h4><br>  Les passionn√©s et les gars exp√©riment√©s de la communaut√© aiment beaucoup comprendre le code du patch re√ßu.  Par cons√©quent, en aucun cas, ne faites pas de documentation technique.  Wiki, Jira, discussion sur la liste de diffusion - tout cela est compl√®tement absurde.  Et les conneries ne sont pas pour toi! <br><br>  Lorsque vous envoyez un patch √† [+5000, -3500] avec une description des am√©liorations sous la forme d '¬´am√©liorations des m√©thodes d'usine et d'autres am√©liorations¬ª, tout le monde le comprendra tout en comprenant √† quel point vous √™tes bon. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/df5/f4e/2c5/df5f4e2c5e4b566598e5052e45e36472.png"><br><br><h4>  Ne jamais ex√©cuter de tests </h4><br>  Tous les tests sont dangereux car ils peuvent casser quelque chose.  Si vous avez quand m√™me r√©ussi √† ex√©cuter les tests, n'affichez pas leurs r√©sultats.  Des erreurs dans les r√©sultats peuvent entra√Æner le rejet du patch!  Et certainement jamais √©crire de nouveaux tests.  Tout ex√©cuter sera plus long, la consommation du processeur augmentera.  Quoi qu'il en soit, les bons d√©veloppeurs √©crivent du code sans bogues - tout coll√®gue exp√©riment√© examinera vos correctifs et comprendra qu'il n'y a aucune erreur. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f40/c6d/0ac/f40c6d0acfce007dae2bad5a621085a1.png"><br><br><h4>  Ne jamais lire le guide pratique </h4><br>  Dans un projet open source, ne lisez jamais aucun How-To.  Ils sont √©crits pour des imb√©ciles, non? <br>  Concevez votre code √† votre mani√®re.  Sinon, comment tout le monde comprendra que vous √™tes un bon d√©veloppeur et une personne cr√©ative polyvalente avec un sens d√©velopp√© de la beaut√©? <br><br>  Envoyez des correctifs √† votre convenance.  Par exemple, le projet est li√© √† l'infrastructure GitHub - envoyez-le tel qu'il est envoy√© au noyau Linux, juste dans la lettre.  Vous pouvez m√™me pas dans la pi√®ce jointe, mais directement dans le texte.  Apr√®s tout, Linus Torvalds ne conseillera pas mal!  Et si le projet est adopt√© diff√©remment, alors ce sont des probl√®mes du projet. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/952/f16/116/952f16116b7e47ef6f040a9283184291.png"><br><br><h4>  N'h√©sitez pas √† compliquer l'API publique </h4><br>  Lors du d√©veloppement de la nouvelle API publique, essayez de la rendre aussi abstraite et complexe que possible.  Il est toujours possible de r√©pondre √† toutes les questions des utilisateurs sur le comportement non √©vident de l'API: ¬´N'avez-vous pas lu le manuel?  Page 42, tout est √©crit clairement!  Relisez-le! ‚Äù  Dans les projets s√©rieux, tout devrait √™tre compliqu√©.  Nous avons un projet s√©rieux? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed8/a6b/6db/ed8a6b6db0196c7e61c5d8e80fcfee72.png"><br><br><h4>  Ne conseille pas ou ne parle pas des probl√®mes </h4><br>  Ne consultez personne et ne parlez √† personne des probl√®mes rencontr√©s lors du d√©veloppement.  C‚Äôest beaucoup plus amusant de comprendre une chose.  De toute fa√ßon, les bons d√©veloppeurs r√©ussissent toujours la premi√®re fois, ils n'ont aucun probl√®me.  Si d'autres d√©couvrent vos probl√®mes, ils deviendront plus intelligents et √©criront du code plus rapidement que vous.  Cela ne devrait pas √™tre autoris√©.  Et en effet, il n‚Äôest pas habituel de parler de ses probl√®mes. <br><br>  Les limites de la d√©cision finale ne valent pas non plus la peine d'√™tre mentionn√©es.  Apr√®s tout, la solution peut √™tre demand√©e de finaliser.  Qui se soucie des restrictions?  Lorsqu'un utilisateur commence √† introduire votre produit dans le produit et rencontre des restrictions, il sera plus int√©ress√© et plus amusant.  Il viendra vers vous et vous demandera de le terminer.  Et jusqu'√† ce point, en aucun cas ne lui parlez des restrictions - et s'il d√©cide de ne rien mettre en ≈ìuvre? <br><br>  Un tr√®s bon critique trouvera tout et il vous demandera des d√©tails.  En aucun cas, ne lui dites rien. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d64/b19/b2d/d64b19b2df118fa93c0f3c29cde71472.png"><br><br><h4>  Si vous avez des questions, √©crivez √† la liste des d√©veloppeurs </h4><br>  Cette astuce compl√®te la pr√©c√©dente.  Il est pr√©f√©rable non seulement de ne rien dire √† personne, mais aussi de poser des questions principalement sur la liste des d√©veloppeurs. <br><br>  Voici des exemples de questions auxquelles tout le monde aime r√©pondre.  Si vous √©crivez une sorte de test, assurez-vous de demander: "Avez-vous besoin de v√©rifier la valeur null de cette collection?".  Vous n'avez pas besoin de le d√©couvrir par vous-m√™me, vous pouvez toujours demander sur la feuille de d√©veloppement.  Apr√®s tout, il y a beaucoup de gens qui n'attendent que de se poser une telle question.  Ils chercheront √† y r√©pondre plus rapidement. <br><br>  "Comment faire la t√¢che?"  - Une autre grande question.  En aucun cas, n'indiquez aucun d√©tail: l'ID de t√¢che sera suffisant.  Tous ceux qui en ont besoin verront par eux-m√™mes. <br><br>  "Quel cadre utiliser?"  - √©galement une tr√®s bonne question.  Il est toujours int√©ressant d'y r√©pondre et vous pouvez d√©battre. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/84d/d90/71a/84dd9071ab1b361ecfc2d0936c3a87e9.png"><br><br><h4>  R√©soudre tous les probl√®mes de projet en une seule demande de tirage </h4><br>  Ceci est mon conseil pr√©f√©r√©.  R√©solvez tous les probl√®mes du projet en une seule demande, surtout si vous travaillez en entreprise.  Il n'y avait que des imb√©ciles dans le projet avant vous, ils ont mal √©crit le code.  Et tu √©cris bien.  En cons√©quence, vous devez simplement: <br><br><ul><li>  Refactorisez tout le code existant que vous ne comprenez pas; <br></li><li>  renommer toutes, √† votre avis, les variables mal nomm√©es; <br></li><li>  corriger tous les commentaires javadoc existants. <br></li></ul><br>  En g√©n√©ral, vous pouvez prendre et retirer certaines classes, usines, etc., effectuer d'autres transformations pour que le code soit meilleur.  Cela semblera particuli√®rement impressionnant dans les domaines qui ne sont pas pertinents pour votre t√¢che.  Ainsi, vous pouvez r√©v√©ler plus pleinement votre potentiel.  √Ä la gloire de la POO!  Amen! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e79/af3/a38/e79af3a385de40800b65304b4b5009fa.png"><br><br><h4>  Demander une r√©vision du code √† l'avance </h4><br>  Lorsque vous effectuez une t√¢che, puis envoyez une demande de r√©vision de code, le processus peut prendre un certain temps.  Tous les experts sont g√©n√©ralement occup√©s.  Profitez de l'astuce: lorsque votre t√¢che, comme il vous semble, se terminera bient√¥t, demandez une r√©vision √† l'avance.  Apr√®s tout, ils ne regarderont pas tout de suite - jusqu'√† ce que vos mains vous atteignent, vous pouvez tout finir. <br><br>  Eh bien, si le r√©viseur a soudainement le temps, alors que la t√¢che n'est pas encore termin√©e, il n'a pas eu de chance.  Expliquez la situation, dites que demain tout sera pr√™t.  De cette fa√ßon, vous acc√©l√©rez le processus (au moins par r√©vision) et acc√©l√©rez la fusion. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/da9/3fe/85f/da93fe85f9a093e2f283452bebd845b4.png"><br><br><h4>  Fatigu√© de la t√¢che - laissez tomber </h4><br>  Tous ceux qui travaillent en open source ont beaucoup de temps.  Pas besoin de finir quoi que ce soit.  Pass√© l'examen du code, re√ßu des commentaires.  Et pourquoi √©diter et apporter quelque chose √† fusionner?  Prenez le casse-t√™te suivant et faites-le.  C'est la voie du succ√®s!  L'√©valuateur a beaucoup de temps et le prochain patch sera sans r√©sultat! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c7f/76f/468/c7f76f468fa689f4a4841816fe40810a.png"><br><br><h4>  Le critique est votre ennemi </h4><br>  Et quoi d'autre pour nommer la personne qui se tient entre vous et le commit en ma√Ætre?  La critique du code est une critique de vous personnellement!  Qui pense-t-il √™tre?  En communication personnelle, ¬´bombardez¬ª autant que possible!  Sinon, comment l'examinateur sait-il que vous vous souciez?  C'est la r√®gle de base du d√©veloppement! <br><br>  Je recommande ce conseil dans le d√©veloppement quotidien.  Cela aide √† atteindre le r√©sultat et √† le faire correctement. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b35/cc2/6a7/b35cc26a71ecc4fa80d51b73d0789ec9.jpg"><br><br><h2>  Mauvais conseils pour le critique </h2><br><h4>  N'automatisez pas les contr√¥les de routine </h4><br>  Si vous avez atteint le niveau dans le projet alors que des correctifs pour r√©vision vous sont d√©j√† envoy√©s, n'automatisez en aucun cas les contr√¥les de routine!  Il est beaucoup plus amusant de passer quelques cycles d'examen sur le d√©pannage et la discussion: <br><br><ul><li>  formatage du code; <br></li><li>  d√©nomination des variables; <br></li><li>  v√©rifie si ces variables sont marqu√©es finales, ce qui peut √™tre marqu√© par elles; <br></li><li>  ... et tout le reste. <br></li></ul><br>  En aucun cas, les contr√¥les de routine ne doivent √™tre automatis√©s.  Oui, et des tests pour conduire √† rien. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/181/763/e87/181763e878a864b49aff074117ad1c8b.png"><br><br><h4>  Ne r√©v√©lez jamais toutes les r√®gles du jeu jusqu'√† la toute fin. </h4><br>  Pour √™tre en avance, vous devez toujours garder une paire d'as dans votre manche.  Ne parlez √† personne de la n√©cessit√© d'une compatibilit√© descendante.  Il vaut mieux dire juste avant le commit: ¬´Ici, selon nos r√®gles, la compatibilit√© descendante doit √™tre assur√©e.  Veuillez corriger. "  Cela sera particuli√®rement efficace si vous avez d√©j√† examin√© cinq fois.  Le sixi√®me, on peut toujours dire: "Je ne suis pas un expert, vous devez donc attendre l'examen de M. X, qui regardera √† nouveau." <br><br>  De tels commentaires, en particulier au stade final de l'examen, ajoutent toujours de la motivation aux contributeurs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e66/80a/66e/e6680a66eb6d5e1299f09d9064eefbc8.jpg"><br><br><h4>  √âmotions, autorit√©s et non merci </h4><br>  Cette astuce chevauche la derni√®re astuce des contributeurs.  R√©digez des commentaires sur la demande de tirage aussi √©motionnellement que possible.  Si quelque part n'est pas v√©rifi√© pour null ou si la variable n'est pas nomm√©e de cette fa√ßon, ajoutez de la passion √† vos commentaires.  Faites-leur voir que vous vous souciez. <br><br>  En cas de litige, ne donnez en aucun cas d'arguments techniques.  Avec des arguments techniques, il se peut que vous vous trompiez.  R√©f√©rez-vous aux autorit√©s - c'est le meilleur argument du diff√©rend, vous gagnerez toujours. <br><br>  Si quelqu'un a pass√© en revue votre avis, vous ne devriez jamais dire merci.  Ils veulent toujours s'engager dans l'open source!  En aucun cas, je ne dois remercier, et ils reviendront donc! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b92/260/83e/b9226083efc0f7cf90abd33ce83ca23d.png"><br><br><h2>  Maintenant, s√©rieusement: √† quoi faut-il penser lors de la pr√©paration et de la r√©alisation d'une r√©vision de code? </h2><br>  J'esp√®re que tout le monde a compris comment mener et r√©ussir l'examen?  Dans chacun de ces conseils, en plus du sarcasme, il y a une douleur qui se produit souvent dans la pratique. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/54e/762/4a9/54e7624a9561e36f750d8f0178edf012.png"><br><br>  Je serai le capitaine d'Evidence et je vous dirai √† quoi vous devez vraiment penser lors de la pr√©paration et de la conduite d'une r√©vision du code.  Des consid√©rations s'appliquent en outre √† la fois √† celle qui d√©veloppe la fonctionnalit√© et √† celle qui la r√©visera.  Pourtant, ce sont les deux faces d'une m√™me pi√®ce. <br>  Le consensus dans la communication est, d'une part, r√©alisable, et d'autre part, il est n√©cessaire que le projet aille de l'avant.  Actuellement, peu de produits peuvent √™tre d√©velopp√©s seuls.  Il s'agit g√©n√©ralement d'un travail d'√©quipe. <br><br><h4>  Faites preuve de bon sens </h4><br>  C'est le conseil le plus important.  Faites preuve de bon sens, cela oriente.  Il me semble que ce conseil s'applique √† toutes les situations de la vie.  Si vous faites quelque chose, demandez-vous si cela r√©pond √† la simple r√®gle de bon sens? <br><br><h4>  Supposons ... </h4><br>  Il s'agit de culture.  Je suis all√© dans plusieurs grandes communaut√©s open source.  Je ne sais pas si cela fait partie de la mentalit√© russe, mais souvent une personne qui peut √™tre per√ßue comme un patron est simultan√©ment per√ßue comme une personne qui s'est accidentellement mise en place.  On pense qu'il vous veut du mal, par d√©faut il y a des doutes sur son professionnalisme.  Par cons√©quent, il est tr√®s important dans tout travail de supposer au moins une seconde que: <br><br><ul><li>  <i>Le r√©viseur (contributeur, votre patron ou coll√®gue) n'est pas votre ennemi</i> .  Il ne veut pas que tu sois mauvais.  C'est une hypoth√®se simple, mais souvent elle n'est pas faite.  Je lui conseille de faire tout de m√™me. <br></li><li>  <i>La personne qui vous √©crit des commentaires est √©galement un bon ing√©nieur.</i>  Vous, bien s√ªr, √™tes bon, avez fait une telle fonctionnalit√©.  Mais il existe de nombreux autres bons ing√©nieurs dans le monde.  Et celui qui vous a envoy√© des commentaires s'applique √©galement √† eux. <br></li><li>  <i>Cette personne souhaite √©galement que votre t√¢che soit accomplie.</i> <i><br></i> <br>  Quand il demande quelque chose, il a une sorte de motivation.  Il le fait pour une raison.  Surtout si cette personne n'est pas le premier jour du projet.  Il y a s√ªrement une raison.  Vous pouvez poser des questions sur cette raison: pourquoi avez-vous besoin de faire exactement cela?  Pourquoi la compatibilit√© descendante est-elle n√©cessaire ici?  Si vous posez des questions simples calmement et raisonnablement et √©coutez les r√©ponses, vous pouvez en faire plus. <br></li></ul><br><h4>  Quelle valeur apportera le produit? </h4><br>  La revue n'est pas seulement des correctifs pr√™ts √† l'emploi, mais aussi des am√©liorations de projet, des corrections.  En fait, la r√©vision du code commence au moment o√π vous venez de discuter de votre r√©vision.  √Ä ce stade, demandez-vous: quelle valeur le produit apportera-t-il au produit? <br><br><ul><li>  Sera-ce une nouvelle fonctionnalit√©? <br></li><li>  S'agit-il d'une am√©lioration existante? <br></li><li>  Extension d'une fonctionnalit√© existante? <br></li><li>  Sera-ce du refactoring de code?  Il n'y a rien de mal √† cela.  Certains critiquent la refactorisation, mais c'est n√©cessaire.  Et vous devez savoir que vous le faites, et non une nouvelle fonctionnalit√© ou autre chose. <br></li><li>  Acc√©l√®re-t-il un processus, am√©liore-t-il les performances? <br></li><li>  Est-ce une correction de bogue? <br></li></ul><br>  Il existe d'autres options.  Dans tous les cas, en commen√ßant √† d√©velopper quelque chose, √† r√©soudre un probl√®me, vous devez comprendre quelle valeur vous ajouterez au projet. <br><br><h4>  Pourquoi la r√©vision (fonctionnalit√©) est-elle comme √ßa? </h4><br>  Il y a un certain nombre de questions utiles √† poser. <br><br>  <i>Pourquoi cr√©er une fonctionnalit√©?</i>  <i>Pourquoi cette fonctionnalit√© est-elle n√©cessaire?</i>  La r√©ponse √† cette question est importante. <br><br>  <i>O√π est le d√©but des travaux?</i>  Dans ma pratique, il m'est arriv√© de me demander de refaire une certaine application.  Il y a une application A, vous devez faire une application B, qui fait presque la m√™me chose avec des changements mineurs.  Je commence √† faire le travail et il s'av√®re que A ne fonctionne pas.  En fait, il est utilis√© quelque part dans la production en utilisant l'interface homme-machine - c'est-√†-dire que quelqu'un s'assoit et red√©marre constamment le programme, fixant litt√©ralement l'exception du pointeur nul.  O√π est le d√©but des travaux?  Dans ce cas, il s'agira de fixer le programme A pour qu'il fonctionne de mani√®re stable, puis d'√©crire le programme B. <br><br>  <i>O√π est l'ach√®vement complet des travaux?</i>  <i>Comment le travail effectu√© devrait-il √™tre id√©al?</i>  Il est important de formuler d√®s le d√©but o√π vous allez. <br><br>  <i>O√π est la fin de l'√©tape actuelle?</i>  Il est clair que vous ne pouvez pas manger un √©l√©phant tout de suite et il vaut mieux d√©composer le travail en √©tapes.  Il est important de comprendre o√π se trouve la fin de l'√©tape actuelle.  Souvent, les projets sont gonfl√©s et ne se terminent pas simplement parce que la port√©e du projet devient infiniment grande. <br><br>  <i>Pourquoi la fonctionnalit√© est-elle d√©compos√©e pr√©cis√©ment √† ces √©tapes?</i>  Il s'agit de MVP et tout √ßa.  Pensez-y aussi. <br><br><h4>  Maintenant sur l'API publique </h4><br>  Il existe de nombreux articles sur les propri√©t√©s de l'API publique.  Lisez-le avant de l'impl√©menter.  Comme bon exemple, je peux citer le framework JQuery, Spring en Java.  Il existe √©galement des exemples n√©gatifs.  Ceux qui ont programm√© en Java pendant des ann√©es se souviennent probablement du terrible du point de vue de l'API publique EJB 2.1.  La fonctionnalit√© peut √™tre bonne, mais si l'API publique est mauvaise, personne ne peut convaincre les utilisateurs d'utiliser le produit. <br><br>  L'API publique n'est pas seulement un outil pour les utilisateurs tiers.  Ceci et l'API des composants internes, que vous r√©utilisez vous-m√™me entre eux.  Propri√©t√©s importantes de l'API publique: <br><br><ul><li>  Simplicit√©. <br></li><li>  Les preuves. <br></li><li>  Les valeurs par d√©faut correctes.  Il vaut la peine d'y penser, si, par exemple, dans un environnement de test, vous cr√©ez 500 threads, comme en production.  Ou vice versa, en production par d√©faut il y a 3 threads, comme dans un environnement de test. <br></li><li>  Effacer les messages d'erreur.  C'est le fl√©au de tant de produits.  Quand quelque chose tombe √† l'int√©rieur du syst√®me, il n'est pas clair ce qui est mal fait.  Hier travaill√©, aujourd'hui une exception de pointeur nul.  Ce que vous avez fait de mal et comment y rem√©dier n'est pas clair dans le message d'erreur. <br></li><li>  Il est difficile de se tromper.  Il y a beaucoup de recommandations √† ce sujet.  Les contr√¥les de temps de compilation sont toujours meilleurs que les contr√¥les d'ex√©cution, etc. <br></li><li>  Journaux clairs et suffisants.  Ceci est particuli√®rement important lorsque vous √©crivez du code qui sera r√©utilis√© et d√©ploy√© quelque part sur le serveur. <br></li><li>  La capacit√© de surveiller.  Vous devez comprendre que les journaux et la surveillance font √©galement partie de votre API publique.  Lors de l'analyse des erreurs, les utilisateurs verront comment les mesures que vous crachez dans la surveillance se comportent. <br></li></ul><br><h4>  Modifications du sous-syst√®me </h4><br>  Lorsque vous arrivez √† la r√©vision du code, il est important d'avoir en t√™te une liste compl√®te des syst√®mes et sous-syst√®mes d'un grand produit que vous modifiez.  Dans les projets d'entreprise, cela peut ne pas √™tre clair: qu'il s'agisse d'un sch√©ma de base de donn√©es, ou d'un contr√¥leur, ou d'une pr√©sentation, d'une sorte de syst√®me de rapport, de t√©l√©chargements, de t√©l√©chargements, etc. <br><br>  Lorsque vous travaillez avec un produit en bo√Æte, il est important de vous poser la question: comment les changements affectent-ils les processus existants dans le syst√®me?  Existe-t-il une r√©trocompatibilit√©?  Cela affecte-t-il les performances?  Si cela affecte, alors la performance de quoi?  Comment cela affecte-t-il l'exp√©rience utilisateur? <br><br><h4>  Processus syst√®me standard </h4><br>  Chaque syst√®me d'entreprise a des processus standard: d√©marrage, installation, une liste d'op√©rations.  Comment vont-ils couler maintenant?  Avant la r√©vision du code, il est important de comprendre cela.  Vous devez parcourir le code qui impl√©mente ces processus.  Dans le cas d'Ignite, c'est: <br><br><ul><li>  D√©marrage / arr√™t du n≈ìud (serveur / client, coordinateur / r√©gulier) - d√©marrer, arr√™ter un n≈ìud, d√©marrer un serveur ou un n≈ìud client, d√©marrer un coordinateur ou un n≈ìud normal <br></li><li>  Node Join - en termes de nouveau n≈ìud / coordinateur / serveur / client <br></li><li>  Activation (et d√©sactivation) du cluster <br></li><li>  Changement de coordinateur <br></li><li>  Cr√©er / supprimer le cache <br></li><li>  Persistance / BLT / MVCC <br></li></ul><br>  Il est clair que l'ensemble de ces processus est assez large.  Il est important de comprendre que de tels processus existent et comment ils changent. <br><br><h4>  √âtuis d'angle </h4><br>  Dans votre application m√©tier, la reprise apr√®s sinistre, l'initialisation initiale du syst√®me, l'arr√™t du n≈ìud, le red√©marrage, la mise √† jour de votre application, etc. peuvent se produire.  Dans le cas d'Ignite, nous avons les cas d'angle suivants: <br><br><ul><li>  changement de coordinateur; <br></li><li>  chute de n≈ìud; <br></li><li>  probl√®mes de r√©seau - lorsque les messages r√©seau n'atteignent pas; <br></li><li>  fichiers cass√©s. <br></li></ul><br>  Nous devons v√©rifier et v√©rifier ces choses que tout est en ordre. <br><br><h4>  Bonnes fonctionnalit√©s de code </h4><br>  Nous sommes donc arriv√©s au code.  Je vous conseille de ne pas √™tre paresseux et de chercher en elle: <br><br><ul><li>  simplicit√© <br></li><li>  extensibilit√© <br></li><li>  testabilit√© <br></li><li>  la fiabilit√© <br></li><li>  grande vitesse de travail. <br></li></ul><br><h4>  Acc√®s simultan√© </h4><br>  Java a ses propres particularit√©s lors de l'√©criture de code de concurrence.  Si vous avez un syst√®me d'entreprise et qu'il y a peu de concurrence, vous n'avez pas besoin de prendre en compte ces fonctionnalit√©s.  Cependant, une synchronisation passe g√©n√©ralement par la base de donn√©es.  Dans des choses comme Ignite, c'est un peu plus compliqu√©.  Et ici, non seulement la fonctionnalit√© du code est importante, mais aussi ses propri√©t√©s: <br><br><ul><li>  Est-il difficile de comprendre votre mod√®le de simultan√©it√©? <br></li><li>  Structure des donn√©es partag√©es - comment leur int√©grit√© est-elle garantie? <br></li><li>  Serrures - quoi et pourquoi? <br></li><li>  Threads - quels pools sont utilis√©s?  Pourquoi? <br></li><li>  Garanties de visibilit√© des changements - √† quoi servent-ils? <br></li></ul><br>  Ces questions doivent √™tre pos√©es avant de r√©viser le code de concurrence.  Il est clair que cette liste peut √™tre prolong√©e tr√®s longtemps. <br><br><h4>  Tests de performance.  Rep√®res </h4><br>  Si vous d√©veloppez une sorte de syst√®me, il a des clients, des installations, alors cela fonctionne √©videmment avec des performances.  Dans le monde d'aujourd'hui, il est impossible d'augmenter la puissance mat√©rielle ind√©finiment.  Nous avons besoin de tests et d'une surveillance des performances.  Lors de la r√©vision d'un code, il est important de comprendre: <br><br><ul><li>  Les tests de performances sont-ils n√©cessaires?  C'est peut-√™tre une sorte de raffinement qui n'a pas besoin de tests de performances? <br></li><li>  Si n√©cessaire, lequel?  Il existe de nombreuses techniques et m√©thodes de mesure, etc. <br></li><li>  O√π-comment-que faut-il mesurer? <br></li><li>  Quels rep√®res sont indicatifs?  Le nombre de n≈ìuds?  Du fer?  Allumer la configuration?  La nature de la charge? <br></li></ul><br><h4>  Total </h4><br>  Dans l'ensemble, la r√©vision du code est une pratique tr√®s enrichissante.  J'esp√®re que tous les d√©veloppeurs (y compris les produits d'entreprise) l'ont d√©j√† impl√©ment√© √† la maison.  Sinon, veuillez l'impl√©menter d√®s que possible.  Je serai heureux de discuter des pratiques de r√©vision de code avec vous dans les commentaires. <br><br>  <i>Vid√©o de la conf√©rence:</i> <br><iframe width="560" height="315" src="https://www.youtube.com/embed/Eihr5h5AETA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i>La pr√©sentation est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr445440/">https://habr.com/ru/post/fr445440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr445428/index.html">Wi-Fi de haute qualit√© - la base de l'hospitalit√© moderne et le moteur des affaires</a></li>
<li><a href="../fr445432/index.html">Gestionnaire de packages Unity</a></li>
<li><a href="../fr445434/index.html">Meilleur pire travail au monde: √† la recherche d'un Habraautor</a></li>
<li><a href="../fr445436/index.html">Recyclage dans DevOps - √† quoi vous pr√©parer</a></li>
<li><a href="../fr445438/index.html">Connaissance des √©l√©ments √©clair√©s et des composants Web bas√©s sur celui-ci</a></li>
<li><a href="../fr445444/index.html">Mise √† jour des modules solaires haute performance de REC et Trina (solaire)</a></li>
<li><a href="../fr445446/index.html">Comment nous avons utilis√© la r√©plication diff√©r√©e pour la reprise apr√®s sinistre avec PostgreSQL</a></li>
<li><a href="../fr445448/index.html">Configuration de la r√©ception automatique des certificats Letsencrypt √† l'aide de Docker sous Linux</a></li>
<li><a href="../fr445450/index.html">Extension de navigateur pour toster.ru</a></li>
<li><a href="../fr445452/index.html">R√©f√©rentiels utiles avec Eloquent?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>