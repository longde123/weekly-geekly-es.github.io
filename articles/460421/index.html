<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚å®Ô∏è ‚úãüèΩ üë©üèº‚Äçüè≠ Interruptor √≥ptico TP-Link T2600G-28SQ para proveedores de servicios: una revisi√≥n detallada üöò ‚ôäÔ∏è üçô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La expansi√≥n de las grandes ciudades y la formaci√≥n de aglomeraciones es una de las tendencias importantes en el desarrollo social actual. Solo en 201...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Interruptor √≥ptico TP-Link T2600G-28SQ para proveedores de servicios: una revisi√≥n detallada</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tp_link_russia/blog/460421/">  La expansi√≥n de las grandes ciudades y la formaci√≥n de aglomeraciones es una de las tendencias importantes en el desarrollo social actual.  Solo en 2019, Mosc√∫ deber√≠a expandirse en 4 millones de metros cuadrados de vivienda (y esto sin contar los 15 asentamientos que se unir√°n en 2020).  En todo este vasto territorio, los operadores de telecomunicaciones deber√°n proporcionar a los usuarios acceso a Internet.  Pueden ser tanto microdistritos urbanos con densos edificios de varios pisos como m√°s aldeas rurales "descargadas".  Para estos casos, los requisitos de hardware son algo diferentes.  Analizamos cada uno de estos escenarios y creamos un modelo universal del interruptor √≥ptico: T2600G-28SQ.  En esta publicaci√≥n, analizaremos en detalle las capacidades del dispositivo que ser√°n de inter√©s para los operadores de telecomunicaciones en toda Rusia. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe2/fa3/5b7/fe2fa35b77d35846dc029f4e8f7fd6a9.png"><br><a name="habracut"></a><br><h2>  Ubicaci√≥n de red </h2><br>  El conmutador T2600G-28SQ est√° dise√±ado para funcionar en el nivel de acceso a la red y para agregar enlaces desde otros conmutadores de nivel de acceso.  Este es un conmutador de segundo nivel que realiza conmutaci√≥n y enrutamiento est√°tico.  Si tanto la agregaci√≥n como el acceso son conmutados por el operador (el enrutamiento es solo en el n√∫cleo de la red), el T2600G-28SQ se ajustar√° a cualquiera de los niveles.  En el caso de la agregaci√≥n enrutada din√°micamente, a√∫n debe considerar algunas restricciones en los escenarios de uso. <br><br>  El T2600G-28SQ es un conmutador Ethernet activo completo sin restricciones adicionales que aparecen cuando se usa xPON o similar.  Por ejemplo, sin la amenaza de una fuerte ca√≠da en la velocidad con un aumento en el n√∫mero de usuarios o una mala compatibilidad entre los equipos de varios proveedores y firmware.  Tanto los usuarios finales como los conmutadores de acceso subyacentes con enlaces √≥pticos ascendentes, por ejemplo, el modelo T2600G-28TS, pueden conectarse a las interfaces del dispositivo.  El siguiente diagrama muestra los ejemplos m√°s comunes de tales conexiones. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/95a/d0d/864/95ad0d864a5103c56af14a8ea1c01168.png"><br><br>  Se puede utilizar fibra √≥ptica o par trenzado para acceder a la red del usuario final.  En el lado del suscriptor, la fibra √≥ptica puede terminarse usando un convertidor de medios (convertidor de medios), por ejemplo, TP-Link MC220L;  y usando la interfaz √≥ptica en el enrutador SOHO. <br><br>  Para conectar un cliente cercano, puede usar cuatro puertos RJ-45 que funcionan a velocidades de 10/100/1000 Mbit / s.  Si por alguna raz√≥n esto no es suficiente, el operador puede "convertir" las interfaces √≥pticas del interruptor a cobre.  Esto se puede hacer utilizando SFP especializados de "cobre" con un conector RJ-45.  Pero esa soluci√≥n no se puede llamar t√≠pica. <br><br><h2>  Algunos casos de estudio </h2><br>  Para completar la imagen, aqu√≠ hay algunos ejemplos del uso de los interruptores modelo T2600G-28SQ. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El</a> proveedor de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Regi√≥n DIVO de</a> Mosc√∫, que, adem√°s de Internet, proporciona servicios de telefon√≠a y televisi√≥n por cable, utiliza el T2600G-28SQ en el nivel de acceso al construir redes en el sector privado (casas de campo y casas adosadas).  Desde el lado del cliente, la conexi√≥n se realiza a enrutadores con un puerto SFP, as√≠ como a convertidores de medios.  Por el momento, los enrutadores SOHO con un puerto SFP no est√°n disponibles comercialmente, pero, por supuesto, lo pensamos. <br><br>  El operador de telecomunicaciones <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ISS</a> del distrito de Pavlovo-Posadsky utiliza los conmutadores T2600G-28SQ como una "peque√±a agregaci√≥n" que utiliza los conmutadores T2600G-28TS y T2500G-10TS en el acceso. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Garantia</a> Group of Companies ofrece acceso a Internet, televisi√≥n, telefon√≠a y sistemas de videovigilancia en el sureste de la regi√≥n de Mosc√∫ (Kolomna, Lukhovitsy, Zaraysk, Silver Ponds, Ozyory).  La topolog√≠a aproximada aqu√≠ es la misma que la de la ISS: T2600G-28SQ en el nivel de agregaci√≥n, y T2600G-28TS y T2500G-10TS en el nivel de acceso. <br><br>  El proveedor de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SKTV</a> de Krasnoznamensk proporciona acceso a Internet a trav√©s de una red con una profunda penetraci√≥n de la √≥ptica.  Tambi√©n se basa en el T2600G-28SQ. <br><br>  En las siguientes secciones, describimos brevemente algunas de las caracter√≠sticas del T2600G-28SQ.  Para no inflar el material, dejamos una serie de opciones por la borda: QinQ (VLAN VPN), enrutamiento, QoS, etc. Creemos que ser√° posible volver a ellos en una de las siguientes publicaciones. <br><br><h2>  Caracter√≠sticas del interruptor </h2><br><h3>  Reserva - STP </h3><br>  STP - Protocolo de √°rbol de expansi√≥n.  El protocolo del √°rbol de expansi√≥n se conoce desde hace mucho tiempo, gracias a esto al distinguido Radie Perlman.  En las redes modernas, los administradores intentan evitar usar este protocolo en todos los sentidos.  S√≠, STP no est√° exento de defectos.  Y es muy bueno si hay una alternativa.  Sin embargo, como suele suceder, una alternativa a este protocolo depender√° en gran medida del proveedor.  Por lo tanto, hasta ahora, el Protocolo Spanning Tree sigue siendo casi la √∫nica soluci√≥n compatible con casi todos los fabricantes, y tambi√©n es conocida por todos los administradores de red. <br><br>  El conmutador TP-Link T2600G-28SQ admite tres versiones de STP: STP cl√°sico (IEEE 802.1D), RSTP (802.1W) y MSTP (802.1S). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41c/ad2/c56/41cad2c5602493ba2d2394bec61b100f.png"><br><br>  De estas opciones, para la mayor√≠a de los peque√±os proveedores de Internet en Rusia, el RSTP habitual es bastante adecuado, lo que tiene una ventaja innegable sobre la versi√≥n cl√°sica: un tiempo de convergencia significativamente m√°s corto. <br><br>  El m√°s flexible hoy en d√≠a es el protocolo MSTP, que admite redes virtuales (VLAN) y permite varios √°rboles diferentes, lo que le permite utilizar todas las rutas de respaldo disponibles.  El administrador crea varias instancias de √°rbol diferentes (hasta ocho), cada una de las cuales sirve a un conjunto espec√≠fico de redes virtuales. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bc7/27d/ad1/bc727dad104177f184a481010711223b.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/13d/095/cbd/13d095cbd0ce7c1298bf8b639cd64bb7.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/64b/a2a/3b7/64ba2a3b7988b24fb171207db4f6a605.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/7c8/69e/456/7c869e45605b77ea5fc0bca80b39f633.png"><br><br><div class="spoiler">  <b class="spoiler_title">Sutilezas de MSTP</b> <div class="spoiler_text">  Los administradores novatos deben tener mucho cuidado al usar MSTP.  Esto se debe al hecho de que el comportamiento del protocolo dentro de la regi√≥n y entre regiones es diferente.  Por lo tanto, al configurar los conmutadores, debe asegurarse de permanecer dentro de la misma regi√≥n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc9/1cb/6a3/fc91cb6a3559693a13e5c1e4a9cfa4f0.png"><br><br>  ¬øQu√© es esta notoria regi√≥n?  Una regi√≥n en t√©rminos de MSTP es un conjunto de conmutadores conectados entre s√≠, que tienen las siguientes caracter√≠sticas: el nombre de la regi√≥n, el n√∫mero de revisi√≥n y la distribuci√≥n de redes virtuales (VLAN) entre instancias de protocolo. <br></div></div><br>  Por supuesto, el protocolo Spanning Tree (de cualquier versi√≥n) permite no solo lidiar con los bucles que ocurren cuando se conectan canales redundantes, sino tambi√©n proteger contra errores de conmutaci√≥n de cables cuando un ingeniero conecta intencionalmente o no los puertos incorrectos, creando un bucle con sus acciones. <br><br>  Los administradores de red m√°s experimentados prefieren usar una variedad de opciones adicionales para proteger el protocolo STP de ataques o emergencias complejas.  El T2600G-28SQ ofrece una variedad de caracter√≠sticas: Loop Protect y Root Protect, TC Guard, BPDU Protect y BPDU Filter. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/63e/678/a51/63e678a511e5550c4c5655da933b507f.png"><br><br>  El uso correcto de las opciones anteriores junto con otros mecanismos de protecci√≥n admitidos estabilizar√° la red local y la har√° m√°s predecible. <br><br><h3>  Reserva - LAG </h3><br>  LAG - Grupo de agregaci√≥n de enlaces.  Esta es una tecnolog√≠a que le permite combinar m√∫ltiples canales f√≠sicos en un canal l√≥gico.  Todos los dem√°s protocolos dejan de usar los canales f√≠sicos incluidos en el LAG por separado y comienzan a "ver" una interfaz l√≥gica.  Un ejemplo de dicho protocolo es STP. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ee9/764/dc3/ee9764dc329e535c864b2991b696e251.png"><br><br>  El equilibrio del tr√°fico de usuarios entre canales f√≠sicos dentro del canal l√≥gico se basa en la cantidad de hash.  Para su c√°lculo, se pueden usar las direcciones MAC del remitente, destinatario o un par de ellas;  as√≠ como las direcciones IP del remitente, destinatario o un par de ellas.  La informaci√≥n del protocolo de capa 4 (puertos TCP / UDP) no se tiene en cuenta. <br><br>  El conmutador T2600G-28SQ admite LAG est√°ticos y din√°micos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b8f/b76/6c9/b8fb766c9ff66549204df206fd4076dc.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/8de/cbc/6c9/8decbc6c95f428d8a5423e80fb582288.png"><br><br>  Para coordinar los par√°metros del grupo din√°mico, se utiliza el protocolo LACP. <br><br><h3>  Seguridad - Listas de acceso (ACL) </h3><br>  Nuestro conmutador T2600G-28SQ le permite filtrar el tr√°fico de usuarios utilizando las Listas de control de acceso (ACL). <br><br>  Las listas de acceso admitidas pueden ser de varios tipos diferentes: MAC e IP (IPv4 / IPv6), combinadas, as√≠ como para realizar el filtrado de contenido.  El n√∫mero de listas de acceso admitidas de cada tipo depende de la plantilla SDM utilizada actualmente, que describimos en otra secci√≥n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2d5/124/762/2d5124762fa5f8b5826c715ec5173754.png"><br><br>  El operador puede usar esta opci√≥n para bloquear el tr√°fico no deseado en la red.  Un ejemplo de dicho tr√°fico puede ser paquetes IPv6 (usando el campo EtherType) si no se proporciona el servicio correspondiente;  o bloquee SMB en el puerto 445. En una red con direccionamiento DHCP / BOOTP est√°tico, no se requiere tr√°fico, por lo que al usar una ACL, un administrador puede filtrar datagramas UDP en los puertos 67 y 68. Tambi√©n puede deshabilitar el tr√°fico IPoE local usando una ACL.  Tal bloqueo puede ser solicitado en redes de operadores que usan PPPoE. <br><br>  El proceso de usar listas de acceso es extremadamente simple.  Despu√©s de crear la lista en s√≠, debe agregarle la cantidad necesaria de registros, cuyo tipo depende directamente de la hoja personalizada. <br><br><div class="spoiler">  <b class="spoiler_title">Configurar listas de acceso</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/b90/5b7/451/b905b7451faa375f95a6fbdfbd781e35.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/32e/c63/815/32ec6381581bac85c1c01aad57252750.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/a6a/6a6/c99/a6a6a6c990012603ddfdff5862dd229a.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/7e6/623/d2a/7e6623d2ae39ccf20906cc5c0f21fef2.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/097/83f/ca0/09783fca0c052cf8bbac7a8582bd4365.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/5c0/3ca/879/5c03ca879ff385da5d7c0cd34399132d.png"><br></div></div><br>  Vale la pena se√±alar que las listas de acceso pueden realizar no solo las operaciones habituales para permitir o prohibir el paso del tr√°fico, sino tambi√©n participar en su redirecci√≥n, duplicaci√≥n, as√≠ como realizar su cambio de marca o l√≠mite de velocidad. <br>  Despu√©s de crear todas las ACL necesarias, el administrador puede realizar su instalaci√≥n.  Puede adjuntar una lista de acceso tanto al puerto f√≠sico directo como a una red virtual espec√≠fica. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c7a/6eb/5b7/c7a6eb5b77f82b1c4dbe7130b6e37b76.png"><br><br><h3>  Seguridad: n√∫mero de direcciones MAC </h3><br>  A veces, los operadores necesitan limitar la cantidad de direcciones MAC que el switch aprende en un puerto en particular.  Las listas de acceso le permiten lograr este efecto, pero requieren una indicaci√≥n expl√≠cita de las propias direcciones MAC.  Si solo es necesario limitar el n√∫mero de direcciones de canal, pero no especificarlas expl√≠citamente, la seguridad del puerto vendr√° al rescate. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e17/551/de2/e17551de2a7713ddb1cc597645e4c5db.png"><br><br>  Tal restricci√≥n puede ser requerida, por ejemplo, para proteger contra la conexi√≥n de una red local completa a una interfaz de conmutador de proveedor.  Vale la pena mencionar aqu√≠ que esta es una conexi√≥n de acceso telef√≥nico, porque cuando se conecta usando un enrutador en el lado del cliente, el T2600G-28SQ aprender√° solo una direcci√≥n: esta es la MAC que pertenece al puerto WAN del enrutador del cliente. <br><br>  Hay toda una clase de ataques dirigidos contra la mesa de conmutaci√≥n.  Puede ser tanto desbordamiento de tabla como suplantaci√≥n de MAC.  La opci√≥n de seguridad del puerto le permitir√° protegerse de los desbordamientos de la mesa de bridge y de los ataques cuyo prop√≥sito es volver a entrenar intencionalmente el switch, envenenando su mesa de bridge. <br><br>  Uno no puede dejar de mencionar simplemente la falla del equipo del cliente.  No es raro que una tarjeta de red que funciona mal de una computadora o enrutador cree una secuencia de tramas con direcciones de remitente y receptor completamente arbitrarias.  Tal corriente puede agotar f√°cilmente CAM. <br><br>  Otra forma de limitar el n√∫mero de entradas utilizadas en la tabla de bridge es la herramienta de seguridad MAC VLAN, con la cual el administrador puede especificar el n√∫mero m√°ximo de entradas para una red virtual en particular. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6d7/30b/239/6d730b23964ac766cf0a4e79cdf06afc.png"><br><br>  Adem√°s de administrar entradas din√°micas en la tabla de conmutaci√≥n, el administrador tambi√©n puede crear entradas est√°ticas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bd7/814/9d1/bd78149d1851cc88356694ba6906a2c0.png"><br><br>  La tabla de puente m√°xima del modelo T2600G-28SQ le permite acomodar hasta 16K entradas. <br>  Otra opci√≥n dise√±ada para filtrar la transmisi√≥n del tr√°fico de usuarios es la funci√≥n de aislamiento de puertos, que le permite especificar expl√≠citamente en qu√© direcci√≥n se permite el reenv√≠o. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/799/763/658/7997636587fb0f2ce0809d5a96057bca.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/047/19c/14a/04719c14a1c988ef40b3f934508d0e28.png"><br><h3>  Seguridad - IMPB </h3><br>  En la inmensidad de nuestra vasta patria, el enfoque de los operadores de telecomunicaciones para garantizar la seguridad en la red var√≠a desde el desprecio completo hasta el uso m√°ximo posible de todas las opciones admitidas por el equipo. <br><br>  Las funciones IPv4 IMPB (IP-MAC-Port Binding) e IPv6 IMPB le permiten protegerse de una amplia gama de ataques relacionados con la sustituci√≥n de direcciones IP y MAC por suscriptores al vincular las direcciones IP y MAC del equipo del cliente a la interfaz del conmutador del proveedor.  Este enlace se puede hacer manualmente o utilizando las funciones de exploraci√≥n ARP y DHCP Snooping. <br><br><div class="spoiler">  <b class="spoiler_title">Configuraci√≥n b√°sica de IMPB</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/9a8/329/478/9a83294787cc7dbdb2bc3bf2a69edad4.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/50d/b73/7fc/50db737fc49b9712b7a2917a70f00d54.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f42/231/bca/f42231bca1a4eed40d25f1fb56b7df88.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f5f/b84/d11/f5fb84d11af8fed2617a9d0640ee6a7e.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/5cf/9d9/b79/5cf9d9b79407530dd8eaabad60387f89.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/6e8/053/6b7/6e80536b78bd0ad608b3e72b8468d54e.png"><br></div></div><br><br>  Para ser justos, debe decirse que se puede utilizar una funci√≥n especial para proteger el protocolo DHCP: el filtro DHCP. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/641/dba/94c/641dba94c8ec05a41321e5d789408a05.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/089/389/ad6/089389ad6a882663d2ad42839197f5c4.png"><br><br>  Con esta funci√≥n, el administrador de la red puede especificar manualmente las interfaces a las que est√°n conectados estos servidores DHCP.  Por lo tanto, los servidores DHCP falsos no pueden entrar en el proceso de negociaci√≥n de par√°metros IP. <br><br><h3>  Seguridad - Defensa </h3><br>  Este modelo le permite proteger a los usuarios de varios de los ataques DoS m√°s famosos y comunes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a1/40d/2c7/1a140d2c7f8b15784589a5ea17329a5b.png"><br><br>  La mayor√≠a de estos ataques no asustan en absoluto a los dispositivos con sistemas operativos modernos, pero hasta ahora puede haber aquellos en nuestras redes para los que se realiz√≥ la √∫ltima actualizaci√≥n de software hace muchos a√±os. <br><br><h3>  Soporte DHCP </h3><br>  El conmutador TP-Link T2600G-28SQ puede actuar como un servidor o rel√© DHCP y realizar una variedad de filtros de mensajes DHCP si otro dispositivo act√∫a como un servidor. <br><br>  La forma m√°s f√°cil de proporcionar a los usuarios los par√°metros IP necesarios para el trabajo es utilizar el servidor DHCP integrado en el conmutador.  Los par√°metros b√°sicos con su ayuda ya se pueden dar a los suscriptores. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5bc/f4a/0e3/5bcf4a0e39a212cef4b688bff62c826d.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/59a/9ca/6f6/59a9ca6f6fab4cf78d335a6693f41f4a.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c54/b92/75e/c54b9275ee0a39034e3c5bc6bd42c07b.png"><br><br>  Conectamos nuestro enrutador Archer C6 SOHO a una de las interfaces del conmutador y nos aseguramos de que el dispositivo cliente recibiera con √©xito la direcci√≥n. <br><br><div class="spoiler">  <b class="spoiler_title">Se parece a esto</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/467/a9f/aa2/467a9faa2b3d3c0baf27625d0daa1c0d.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/9ff/013/ff5/9ff013ff59ac0a28e004e82488d31e72.png"><br></div></div><br>  El servidor DHCP integrado en el conmutador quiz√°s no sea la soluci√≥n m√°s escalable y flexible: no hay soporte para opciones no est√°ndar, no hay conexi√≥n con IPAM.  Si el operador necesita m√°s control sobre el proceso de asignaci√≥n de direcciones IP, se utilizar√° un servidor DHCP dedicado. <br><br>  T2600G-28SQ permite que cada subred de usuario especifique un servidor DHCP dedicado por separado al que se redirigir√°n los mensajes del protocolo en discusi√≥n.  La subred se selecciona especificando la interfaz L3 apropiada: VLAN (SVI), puerto enrutado o puerto-canal. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/042/88c/38f/04288c38fe23c1d2b4b83aa538bc0508.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/1e5/3d3/8f7/1e53d38f7be6793fdc35b716e4bfc4b8.png"><br><br>  Para verificar el funcionamiento del rel√©, configuramos un enrutador separado de otro proveedor para que funcione como un servidor DHCP, cuya configuraci√≥n se presenta a continuaci√≥n. <br><br><pre><code class="plaintext hljs">R1#sho run | s pool ip dhcp pool test  network 192.168.0.0 255.255.255.0  default-router 192.168.0.1  dns-server 8.8.8.8</code> </pre> <br>  El enrutador del cliente nuevamente recibi√≥ con √©xito la direcci√≥n IP. <br><br><pre> <code class="plaintext hljs">R1#sho ip dhcp binding Bindings from all pools not associated with VRF: IP address     Client-ID/   Lease expiration Type                    Hardware address/                    User name 192.168.0.2     010c.8063.f0c2.6a   May 24 2019 05:07 PM Automatic</code> </pre> <br>  Debajo del spoiler: el contenido del paquete interceptado entre el conmutador y el servidor DHCP dedicado. <br><br><div class="spoiler">  <b class="spoiler_title">Contenido del paquete</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/819/0c5/995/8190c599520d6db8843a43b2258c78ea.png"></div></div><br>  Cabe se√±alar la disponibilidad de soporte de la Opci√≥n 82 del conmutador.  Cuando se activa, el conmutador agregar√° informaci√≥n sobre la interfaz de usuario desde la cual se recibi√≥ el mensaje DHCP Discover.  Adem√°s, el modelo T2600G-28SQ le permite configurar una pol√≠tica para procesar informaci√≥n adicional al insertar la opci√≥n No. 82.  La presencia de soporte para esta opci√≥n puede ser √∫til en una situaci√≥n en la que el suscriptor necesita emitir la misma direcci√≥n IP, independientemente de qu√© identificador informe el cliente (id-cliente) sobre s√≠ mismo. <br>  La siguiente figura muestra el mensaje DHCP Discover (retransmitido) con la opci√≥n 82 agregada. <br><br><div class="spoiler">  <b class="spoiler_title">Mensaje con la opci√≥n No. 82</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/fbc/b2e/926/fbcb2e926cf427de05d6cb3fe82add7f.png"></div></div><br>  Por supuesto, la opci√≥n 82 se puede controlar sin configurar un rel√© DHCP completo, las configuraciones correspondientes se presentan en el sub-elemento "Rel√© DHCP L2". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f38/4f8/788/f384f8788b409c52e91e052058b2ba94.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/38f/c33/5fa/38fc335fa397f7cbf11835f8b1224a2b.png"><br><br>  Y ahora cambiaremos la configuraci√≥n del servidor DHCP para demostrar el funcionamiento de la opci√≥n No. 82. <br><br><pre> <code class="plaintext hljs">R1#sho run | s dhcp ip dhcp pool test network 192.168.0.0 255.255.255.0 default-router 192.168.0.1 dns-server 8.8.8.8 class option82_test  address range 192.168.0.222 192.168.0.222 ip dhcp class option82_test relay agent information      relay-information hex 010e010c74702d6c696e6b5f746573740208000668ff7b66f675 R1#sho ip dhcp binding Bindings from all pools not associated with VRF: IP address     Client-ID/   Lease expiration Type                    Hardware address/                    User name 192.168.0.222    010c.8063.f0c2.6a   May 24 2019 05:33 PM Automatic</code> </pre> <br><br><div class="spoiler">  <b class="spoiler_title">Como este</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/532/650/697/532650697e80b46565cc5b596b056031.png"></div></div><br>  La funci√≥n de retransmisi√≥n de la interfaz DHCP ser√° √∫til en una situaci√≥n en la que el conmutador no solo tiene una interfaz L3 conectada a una red espec√≠fica, sino que tambi√©n tiene una direcci√≥n IP.  Si no hay una direcci√≥n en dicha interfaz, la funci√≥n de retransmisi√≥n VLAN de DHCP vendr√° al rescate.  La informaci√≥n sobre la subred en este caso se toma de la interfaz predeterminada, es decir, los espacios de direcciones en varias redes virtuales ser√°n los mismos (superposici√≥n). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/86f/d4a/54a/86fd4a54adcbbd79896ff5031f0bd253.png"><br><br>  A menudo, los operadores tambi√©n necesitan proteger a los suscriptores de la inclusi√≥n err√≥nea o maliciosa de un servidor DHCP en el equipo del cliente.  Decidimos analizar esta funcionalidad en una de las secciones dedicadas a problemas de seguridad. <br><br><h3>  IEEE 802.1X </h3><br>  Una forma de autenticar a los usuarios en la red es usar el protocolo IEEE 802.1X.  La popularidad de este protocolo en las redes de operadores de telecomunicaciones en Rusia ya est√° disminuyendo; todav√≠a se usa principalmente en las redes locales de grandes empresas para autenticar a los usuarios internos de una organizaci√≥n.  El conmutador T2600G-28SQ es compatible con 802.1X, por lo que, si es necesario, el proveedor puede usarlo f√°cilmente. <br><br>  Para que el protocolo IEEE 802.1X funcione, se requieren tres participantes: equipo del cliente (solicitante), conmutador de acceso del proveedor (autenticador) y servidor de autenticaci√≥n (generalmente un servidor RADIUS). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e7f/e71/f55/e7fe71f55de55dd783ceafd8fb3e9a72.png"><br><br>  La configuraci√≥n b√°sica en el lado del operador es extremadamente simple.  Solo necesita especificar la direcci√≥n IP del servidor RADIUS utilizado, en el que se almacenar√° la base de datos del usuario, as√≠ como seleccionar las interfaces para las que se requiere autenticaci√≥n. <br><br><div class="spoiler">  <b class="spoiler_title">Configuraci√≥n b√°sica 802.1X</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/af3/c21/9ad/af3c219ad24f3e165b21fd1cee325040.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/5d8/b50/6bb/5d8b506bb7838fe18bb47b60da27741c.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/359/a60/c14/359a60c14643bd58c9f72a9b799ec23f.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/6c3/37c/029/6c337c029602f0a049f2bc39165e7317.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/3d9/38e/b8e/3d938eb8ea09417511a09df25da1b6ee.png"><br></div></div><br>  En el lado del cliente, tambi√©n se requiere un peque√±o ajuste.  Todos los sistemas operativos modernos ya contienen el software necesario.  Pero si es necesario, puede instalar y usar TP-Link 802.1x Client, una aplicaci√≥n que permite la autenticaci√≥n del cliente en la red. <br><br>  Al conectar una PC de usuario directamente a la red del proveedor, la configuraci√≥n de autenticaci√≥n se debe activar para la tarjeta de red que se utiliza para conectarse. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/33d/79b/8b6/33d79b8b69f30fc185bf0df809aca139.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/834/6a8/f68/8346a8f68aebf5071a450f9537132252.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/cae/c05/edd/caec05eddc5fdc71a1393dbbc9f824a3.png"><br><br>  Sin embargo, en la actualidad, la red del operador generalmente est√° conectada no directamente a la computadora del usuario, sino a alg√∫n enrutador SOHO, lo que garantiza el funcionamiento de la red local del suscriptor (segmentos cableados e inal√°mbricos).  En este caso, todas las configuraciones del protocolo 802.1X deben realizarse directamente en el enrutador. <br><br><img src="https://habrastorage.org/webt/pn/tx/ni/pntxni9r8upees2yny2auonha6s.jpeg"><br><br>  Nos parece que en las redes de operadores este m√©todo de autenticaci√≥n se olvida inmerecidamente.  S√≠, el enlace estrecho del suscriptor al puerto del conmutador puede ser una soluci√≥n m√°s simple en t√©rminos de configuraci√≥n del equipo del usuario.  Pero si el uso de un nombre de usuario y contrase√±a es necesario, entonces 802.1X no ser√° un protocolo tan pesado en comparaci√≥n con las conexiones utilizadas basadas en t√∫neles PPTP / L2TP / PPPoE. <br><br><h3>  Inserci√≥n de ID de PPPoE </h3><br>  Muchos usuarios, no solo en nuestro pa√≠s, sino en todo el mundo, a√∫n prefieren usar contrase√±as extremadamente simples.  Y los casos de robo de identidad, por desgracia, no son infrecuentes.  Si el operador utiliza el protocolo PPPoE para la autenticaci√≥n del usuario en su red, entonces el conmutador TP-Link T2600G-28SQ ayudar√° a resolver el problema asociado con la fuga de credenciales.  Esto se logra al agregar una etiqueta especial al mensaje PPPoE Active Discovery.  Por lo tanto, el proveedor puede autenticar al suscriptor no solo por inicio de sesi√≥n y contrase√±a, sino tambi√©n por datos adicionales.  Dichos datos adicionales incluyen la direcci√≥n MAC del dispositivo cliente, as√≠ como la interfaz del conmutador al que est√° conectado. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ff8/8d5/d43/ff88d5d4337ef69fe658a26a128307c5.png"><br><br>  Algunos operadores, en principio, quieren prohibir al suscriptor (un par de nombre de usuario y contrase√±a) la capacidad de navegar por la red.  La funci√≥n de inserci√≥n de ID de PPPoE tambi√©n ayudar√° en este caso. <br><br><h3>  IGMP </h3><br>  IGMP (Internet Group Management Protocol) ha existido durante d√©cadas.  Su popularidad es comprensible y f√°cil de explicar.  Pero hay dos aspectos involucrados en la interacci√≥n IGMP: la PC del usuario (o cualquier otro dispositivo, por ejemplo, STB) y el enrutador IP que sirve a un segmento de red espec√≠fico.  Los interruptores no participan en este intercambio de ninguna manera.  Es cierto, la √∫ltima declaraci√≥n no es del todo cierto.  O en las redes modernas no es del todo cierto.  Se requiere la compatibilidad con Switch IGMP para optimizar el reenv√≠o del tr√°fico de multidifusi√≥n.  Al escuchar el tr√°fico del usuario, el conmutador detecta mensajes de informe IGMP en √©l, con la ayuda de los cuales determina los puertos para enviar tr√°fico de multidifusi√≥n.  La opci√≥n descrita se llama IGMP Snooping. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c62/eb6/6e5/c62eb66e52cbaedefb02958bb6fbd4f3.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a68/24e/abc/a6824eabce3b3d10dc377f87b153dc02.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a58/898/969/a588989694c57f1ce7563e50c40ca73a.png"><br><br>  El soporte para IGMP se puede usar no solo para optimizar el tr√°fico per se, sino tambi√©n para determinar los suscriptores a los que se puede proporcionar un servicio en particular, por ejemplo, IPTV.  Puede lograr el objetivo deseado ya sea ajustando manualmente los par√°metros de filtrado o utilizando la autenticaci√≥n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c3/9e9/425/7c39e9425ac44bfffd8b00c81dbd0cc4.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/df0/a8d/627/df0a8d6279702ddd686282b9b2c30ebd.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/de3/d7c/062/de3d7c0628fb0bdfc4962dbb630e57b4.png"><br><br>  El soporte para el tr√°fico grupal en los conmutadores TP-Link se implementa de manera bastante flexible.  Entonces, por ejemplo, todos los par√°metros se pueden configurar para cada red virtual individualmente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/de6/715/24b/de671524b34153cf9392ee7fa43c152d.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c4a/60d/7c9/c4a60d7c95daf645cc567648cccb6c23.png"><br><br>  Si varias subredes con destinatarios de tr√°fico grupal est√°n conectadas a una interfaz del enrutador, entonces este enrutador se ver√° obligado a enviar varias copias de paquetes a trav√©s de esta interfaz (una para cada red virtual). <br>  En este caso, es posible optimizar el procedimiento para enviar tr√°fico de grupo mediante la tecnolog√≠a MVR: registro de VLAN de multidifusi√≥n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/489/f37/43d/489f3743d00def0b27b1a68e5407d865.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/413/e20/ad9/413e20ad93a7ab228ea94930ea450711.png"><br><br>  La esencia de la soluci√≥n es que se crea una red virtual, que une a todos los destinatarios.  Sin embargo, esta red virtual se usa solo para el tr√°fico grupal.  Este enfoque permite que el enrutador env√≠e solo una copia del tr√°fico de multidifusi√≥n a trav√©s de la interfaz. <br><br><h3>  DDM, OAM y DLDP </h3><br>  DDM - Monitoreo de diagn√≥stico digital.  Durante el funcionamiento de los m√≥dulos √≥pticos, a menudo es necesario controlar el estado del m√≥dulo en s√≠, as√≠ como el canal √≥ptico al que est√° conectado.  La funci√≥n DDM ayudar√° a hacer frente a esta tarea.  Con su ayuda, los ingenieros del operador podr√°n monitorear la temperatura de cada m√≥dulo que admite esta funcionalidad, el voltaje y la corriente, as√≠ como la potencia de las se√±ales √≥pticas enviadas y recibidas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/785/8c2/3c4/7858c23c475c97a5fa92a16481c3358e.png"><br><br>  Establecer niveles de umbral para los par√°metros descritos anteriormente permitir√° que se genere un evento si van m√°s all√° del rango permitido. <br><br><div class="spoiler">  <b class="spoiler_title">Establecer umbrales DDM</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/271/ce1/79b/271ce179b47a5741bc258825e6284e30.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/35d/6b4/24f/35d6b424f0e39f286b6f28da419534c4.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/fa6/042/bde/fa6042bde45eb28b230346f0dcd32c15.png"><br></div></div><br>  Naturalmente, el administrador puede ver los valores actuales de los par√°metros especificados. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7b9/c67/8be/7b9c678bee6032fb6a82c52409738dda.png"><br><br>  El interruptor TP-Link T2600G-28SQ tiene un sistema de enfriamiento de aire activo.  Adem√°s, nunca hemos encontrado un sobrecalentamiento de los m√≥dulos SFP en nuestros conmutadores relacionados con la densidad de puertos.  Sin embargo, si es puramente te√≥rico permitir esta posibilidad (por ejemplo, debido a alg√∫n problema dentro del m√≥dulo SFP), entonces, con la ayuda de DDM, el administrador ser√° notificado de inmediato de una situaci√≥n potencialmente peligrosa.  El peligro aqu√≠, obviamente, no es para el interruptor en s√≠, sino para el diodo / l√°ser dentro del SFP, ya que con el aumento de la temperatura, la potencia de la se√±al √≥ptica emitida puede degradarse, lo que conducir√° a una disminuci√≥n en el presupuesto √≥ptico. <br><br>  Vale la pena se√±alar aqu√≠ que los conmutadores TP-Link no tienen una "funci√≥n" de bloqueo del proveedor, es decir, se admiten los m√≥dulos SFP compatibles, lo que, por supuesto, ser√° muy conveniente para los administradores de red. <br><br>  OAM - Operaci√≥n, Administraci√≥n y Mantenimiento (IEEE 802.3ah).  OAM es el protocolo de segunda capa del modelo OSI para monitorear y solucionar problemas de redes Ethernet.  Usando este protocolo, el conmutador puede monitorear el rendimiento de una conexi√≥n particular y errores, generar alertas para que el administrador de la red pueda administrar la red de manera m√°s efectiva. <br><br><div class="spoiler">  <b class="spoiler_title">OAM B√°sico</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/8c6/e65/87b/8c6e6587bacdda435f21d3ad6c89efe2.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/e37/212/2de/e372122dedd5321b2a55cba8425da9bb.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/b8e/61a/73b/b8e61a73bc8b73d53d1c37dc9e9dd377.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/601/34d/ab0/60134dab0bb0f37ca4246877cee540e8.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Detalles de operaci√≥n de OAM</b> <div class="spoiler_text">  Dos dispositivos vecinos habilitados para OAM intercambian peri√≥dicamente mensajes mediante el env√≠o de OAMPDU, que son de tres tipos: informativo, notificaci√≥n de eventos y control de bucle invertido.  Mediante el uso de OAMPDU informativos, los conmutadores vecinos se env√≠an informaci√≥n estad√≠stica entre s√≠, as√≠ como datos definidos por el administrador.  Este tipo de mensaje tambi√©n se usa para mantener la conexi√≥n OAM.  La funci√≥n de supervisi√≥n de la conexi√≥n utiliza los mensajes de notificaci√≥n de eventos para notificar a la otra parte las fallas que se han producido.  Los mensajes de control de bucle invertido se utilizan para definir un bucle en la l√≠nea. <br><br>  A continuaci√≥n, decidimos enumerar las caracter√≠sticas principales proporcionadas por el protocolo OAM: <br><br><ul><li>  monitoreo ambiental (detecci√≥n y conteo de cuadros muertos), <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/c16/195/671/c16195671d6d0c2f67fb16f4919c870f.png"><br><ul><li>  RFI - Indicaci√≥n de falla remota (env√≠o de notificaci√≥n de falla del canal), <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/06f/8b7/6b3/06f8b76b3ff83128a0bdb48cfe4766dd.png"><br><ul><li>  Remote Loopback (prueba de canal para medir el retraso, la variaci√≥n del retraso (jitter), el n√∫mero de cuadros perdidos). <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/d03/ee8/884/d03ee8884d3d90b863561e13d8166916.png"><br></div></div><br>  Otra opci√≥n que se requiere en los interruptores √≥pticos es la capacidad de detectar problemas en el canal de comunicaci√≥n, lo que hace que el canal se vuelva simple, es decir, los datos solo se pueden enviar en una direcci√≥n.  Nuestros conmutadores utilizan DLDP - Protocolo de detecci√≥n de enlace de dispositivo para la detecci√≥n de enlaces unidireccionales.  Para ser justos, vale la pena se√±alar que el protocolo DLDP es compatible con las interfaces √≥pticas y de cobre, sin embargo, en nuestra opini√≥n, ser√° el m√°s popular cuando se utilizan l√≠neas de fibra √≥ptica. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3aa/d4b/55b/3aad4b55bd377a6a9e7748fe14f44106.png"><br><br>  Si se detecta un canal unidireccional, el conmutador puede apagar autom√°ticamente la interfaz problem√°tica, lo que conducir√° a la reconstrucci√≥n del √°rbol STP y al uso de canales de comunicaci√≥n redundantes. <br><br>  En nuestro arsenal hay m√≥dulos SFP que reciben y transmiten una se√±al a trav√©s de una sola fibra.  Trabajan exclusivamente en pares y usan una se√±al √≥ptica a diferentes longitudes de onda para la transmisi√≥n dentro del par.  Un ejemplo es un par de TL-SM321A y TL-SM321B.  Cuando se usan estos tipos de m√≥dulos, el da√±o a una fibra conducir√° a la inoperancia completa de todo el canal √≥ptico.  Sin embargo, tambi√©n se requerir√° el protocolo DLDP en dichos canales, ya que, aunque esto ocurre extremadamente raramente, el canal puede tener diferentes caracter√≠sticas de transparencia para diferentes longitudes de onda.  Un problema m√°s probable es la diferente transparencia del canal dependiendo de la direcci√≥n de propagaci√≥n de la luz.  Un rastro puede ayudar a detectar estos problemas, pero esta es una historia completamente diferente. <br><br><h3>  LLDP </h3><br>  En grandes redes corporativas u operadores, peri√≥dicamente hay problemas con la obsolescencia de la documentaci√≥n de la red o imprecisiones en su preparaci√≥n.  El administrador de la red puede encontrarse con una situaci√≥n en la que es necesario averiguar qu√© equipo del operador est√° conectado a una interfaz de conmutador en particular.  LLDP: el protocolo de descubrimiento de capa de enlace (IEEE 802.1AB) vendr√° al rescate. <br><br><div class="spoiler">  <b class="spoiler_title">Par√°metros de rendimiento de LLDP</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/0e4/ce3/19b/0e4ce319b670d5d8e812ad0e50b5903c.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/575/745/4a4/5757454a492a1935350414650436edd9.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/ee5/cf2/347/ee5cf2347eb7ff6de5828f71aaaf59d1.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/74c/ad9/060/74cad9060abb53d19fbc42d3c4e94eb9.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/b30/bb4/70a/b30bb470a4a363115a607b45a963c820.png"><br><img src="https://habrastorage.org/getpro/habr/post_images/10e/988/5df/10e9885df902877ffb28874b4bdc543d.png"><br></div></div><br>  Nuestros conmutadores admiten el protocolo LLDP, no solo para descubrir conmutadores vecinos u otros dispositivos de red, sino tambi√©n para determinar sus capacidades. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b18/49a/23f/b1849a23f7bbbce9ebd312011ea52055.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d24/527/3dc/d245273dc43283f8fa8060f2a5af9b21.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fad/e39/649/fade396498f7c9da3b81a635151eddb6.png"><br><br>  Los hermanos de cobre de nuestro conmutador pueden usar LLDP-MED para simplificar el proceso de conexi√≥n de tel√©fonos IP.  Adem√°s, con esta opci√≥n, el interruptor PoE puede coordinar la configuraci√≥n de energ√≠a con el dispositivo alimentado.  Ya hemos hablado de esto con cierto detalle en uno de nuestros <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">materiales anteriores</a> . <br><br><h3>  SDM y suscripci√≥n excesiva </h3><br>  Casi todos los conmutadores modernos manejan marcos y paquetes que pasan sin usar un procesador central.  El procesamiento (c√°lculo de la suma de verificaci√≥n, aplicaci√≥n de listas de acceso y otras verificaciones de seguridad, as√≠ como la decisi√≥n de conmutaci√≥n / enrutamiento) se lleva a cabo utilizando microcircuitos especializados, lo que permite alcanzar altas velocidades de transmisi√≥n del tr√°fico de usuarios.  El interruptor en discusi√≥n le permite procesar el tr√°fico a una velocidad media.  Esto significa que el rendimiento del dispositivo es suficiente para enviar datos a las velocidades m√°s altas posibles de todos los puertos simult√°neamente.  El modelo T2600G-28SQ tiene 24 puertos de enlace descendente (hacia los usuarios) que operan a velocidades de 1 Gbit / s, as√≠ como 4 puertos de enlace ascendente (hacia el n√∫cleo de la red) de 10 Gbit / s.  Al mismo tiempo, el rendimiento del bus cruzado del conmutador es de 128 Gb / s, que es suficiente para manejar la cantidad m√°xima de tr√°fico entrante. <br><br>  Para ser justos, debe tenerse en cuenta que el rendimiento de la matriz de conmutaci√≥n es de 95,2 millones de paquetes por segundo.  Es decir, cuando se utilizan las tramas m√≠nimas posibles con una longitud de solo 64 bytes, el rendimiento total del dispositivo ser√° de 97,5 Gbit / s.  Sin embargo, dicho perfil de tr√°fico es casi incre√≠ble para las redes de operadores de telecomunicaciones. <br><br><div class="spoiler">  <b class="spoiler_title">¬øQu√© es la suscripci√≥n excesiva?</b> <div class="spoiler_text">  Otro tema importante es la relaci√≥n de las velocidades de los canales ascendentes y descendentes (sobresuscripci√≥n).  Aqu√≠, obviamente, todo depende de la topolog√≠a.  Si el administrador usa las cuatro interfaces de 10 GE para conectarse al n√∫cleo de la red y las combina usando el LAG (Grupo de agregaci√≥n de enlaces) o la tecnolog√≠a Port-Channel, entonces la velocidad obtenida estad√≠sticamente hacia el n√∫cleo ser√° de 40 Gb / s, que ser√° m√°s que suficiente para satisfacer Las necesidades de todos los suscriptores conectados.  Adem√°s, no es necesario que los cuatro enlaces ascendentes est√©n conectados al mismo dispositivo f√≠sico.  La conexi√≥n se puede hacer con la pila del conmutador o con dos dispositivos combinados en un cl√∫ster (utilizando tecnolog√≠a vPC o similar).  No hay una nueva suscripci√≥n en este caso. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/47b/213/84d/47b21384de6198a7a933977839d26f59.png"><br>  El uso de los cuatro canales ascendentes al mismo tiempo es posible no solo combin√°ndolos con el LAG.  Se puede lograr un efecto similar configurando adecuadamente MSTP, sin embargo, esta es una historia completamente diferente. <br><br>  El segundo m√©todo de conexi√≥n L2 com√∫n es usar dos LAG independientes (uno para cada conmutador de agregaci√≥n).  En este caso, lo m√°s probable es que uno de los enlaces virtuales est√© bloqueado por el protocolo STP (cuando se utiliza STP o RSTP).  La nueva suscripci√≥n ser√° 5: 6. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/660/246/dc2/660246dc20bfeb5562cc5263ee09acde.png"><br><br>  Una situaci√≥n m√°s rara pero a√∫n bastante probable: el T2600G-28SQ est√° conectado por canales independientes a un interruptor o interruptores de nivel superior.  STP / RSTP dejar√° solo uno de esos enlaces en un estado desbloqueado.  La nueva suscripci√≥n ser√° a las 5:12. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/16c/cb2/cf6/16ccb2cf6515e91deff79bd7df72a39d.png"><br><br>  Tarea con un asterisco: calcule la suscripci√≥n excesiva para las situaciones descritas en la secci√≥n STP, donde examinamos un ejemplo de topolog√≠a cuando dos conmutadores de acceso est√°n conectados al mismo dispositivo de agregaci√≥n y est√°n interconectados. <br></div></div><br>  Los microcircuitos programables, con la ayuda de los cuales se logra una velocidad de transferencia tan alta, son un recurso bastante costoso, por lo tanto, intentamos optimizar su uso debido a la distribuci√≥n correcta de los recursos entre varias funciones.  La distribuci√≥n es responsable de SDM - Switch Database Management. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/284/399/e98/284399e986a7e96bd1d1213e2e9af2cf.png"><br><br>  La distribuci√≥n se realiza utilizando el perfil SDM.  Los tres perfiles enumerados a continuaci√≥n est√°n actualmente disponibles para su uso. <br><br><ul><li>  Default ofrece una soluci√≥n equilibrada para usar listas de acceso MAC e IP, as√≠ como registros de detecci√≥n de ARP. <br></li><li>  EnterpriseV4 maximiza los recursos disponibles para su uso por las listas de acceso MAC e IP. <br></li><li>  EnterpriseV6 asigna parte de los recursos para su uso por las listas de acceso IPv6. <br></li></ul><br>  Para aplicar el nuevo perfil, se requiere reiniciar el interruptor. <br><br><h2>  Conclusi√≥n </h2><br>  De acuerdo con el posicionamiento inicial, este conmutador es el m√°s adecuado para los operadores de telecomunicaciones que se enfrentan a la tarea de proporcionar acceso a la red a largas distancias.  El dispositivo se puede utilizar tanto en el nivel de acceso, por ejemplo, en aldeas de caba√±as y casas de pueblo, como para la agregaci√≥n de canales que provienen de interruptores de acceso ubicados en edificios de apartamentos;  es decir, donde se requieran conexiones de objetos remotos.  Cuando se utilizan canales de comunicaci√≥n √≥pticos, el suscriptor conectado puede ubicarse a una distancia de varios kil√≥metros. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a20/399/84a/a2039984ab7377c33aaa14189f7c739c.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/4fa/e78/08f/4fae7808fe98d542c36ae18d413377ca.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/80e/aea/8b3/80eaea8b3a9ed5421e447330f9eff022.png"><br><br>  En el lado del cliente, los enlaces √≥pticos pueden terminarse en peque√±os conmutadores con interfaces √≥pticas o en convertidores de medios. <br><br>  Una gran cantidad de protocolos y opciones compatibles permitir√°n el uso del T2600G-28SQ en la red Ethernet del operador con cualquier topolog√≠a y cualquier conjunto de tecnolog√≠as y servicios proporcionados.      -   .        ,   T2600G-28SQ  : RJ-45  micro-USB.             . ,    -         . <br><br>       ,     ,    10 GE,           . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/460421/">https://habr.com/ru/post/460421/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460409/index.html">Arduino y teclados (gu√≠a completa)</a></li>
<li><a href="../460411/index.html">Mad Converter GIF'ok a stickers animados para Telegram</a></li>
<li><a href="../460413/index.html">7 sitios y aplicaciones √∫tiles para aprender ingl√©s</a></li>
<li><a href="../460415/index.html">Apple Watch 4 (44 mm, 2019) vs Pebble Steel Classic (2014)</a></li>
<li><a href="../460419/index.html">Recuperaci√≥n de calor de gases de combusti√≥n: respetuoso con el medio ambiente</a></li>
<li><a href="../460423/index.html">WAL en PostgreSQL: 3. Punto de control</a></li>
<li><a href="../460425/index.html">Fr√≠o infernal, levitaci√≥n y plasma: pasado, presente y futuro de la superconductividad</a></li>
<li><a href="../460431/index.html">Creaci√≥n de una canalizaci√≥n de pruebas automatizada en Azure DevOps</a></li>
<li><a href="../460433/index.html">Riesgos y amenazas en Internet de las cosas.</a></li>
<li><a href="../460435/index.html">Petty little joy # 8: peque√±os placeres por trabajar con la base de datos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>