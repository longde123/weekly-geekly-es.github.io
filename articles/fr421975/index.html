<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•• üöô üë® Nouvelles fonctionnalit√©s de FLProg - ESP8266 en tant que contr√¥leur, pas en tant que modem üí∂ ü§§ ü§πüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Source 

 Bon apr√®s-midi 

 Je n'ai pas parl√© de mon projet FLProg depuis tr√®s longtemps. Le dernier message √©tait toujours sur Geektimes. 
 Il est te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nouvelles fonctionnalit√©s de FLProg - ESP8266 en tant que contr√¥leur, pas en tant que modem</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flprog/blog/421975/"><img src="https://habrastorage.org/webt/ml/zd/fz/mlzdfzisukbpum1gd0ei-hgzahq.jpeg"><br><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source</a></i> <br><br>  Bon apr√®s-midi <br><br>  Je n'ai pas parl√© de mon projet FLProg depuis tr√®s longtemps.  Le dernier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">message</a> √©tait toujours sur Geektimes. <br>  Il est temps de r√©parer ce g√¢chis.  √Ä partir de ce post, je commence une s√©rie de le√ßons sur l'utilisation des nouvelles fonctionnalit√©s du programme. <br><br>  Si vous n'√™tes pas familier avec le projet, vous pouvez voir son historique sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">blog</a> . <br><br>  Maintenant, le site Web du programme teste la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">version</a> pr√©liminaire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">avec le num√©ro 3.1.4</a> .  √Ä partir de la version 3.1, le programme a introduit la prise en charge des contr√¥leurs ESP8266 en tant que contr√¥leur √† part enti√®re. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Pour ceux qui ne connaissent pas ces contr√¥leurs une petite description</b> <div class="spoiler_text">  L'ESP8266 est con√ßu pour √™tre utilis√© dans les prises intelligentes, les r√©seaux maill√©s, les cam√©ras IP, les capteurs sans fil, l'√©lectronique portable, etc.  En un mot, ESP8266 est n√© pour devenir le cerveau du futur ¬´Internet des objets¬ª. <br><br>  Il existe deux options pour utiliser la puce: <br><br>  1) sous la forme d'un pont UART-WIFI, lorsque le module bas√© sur l'ESP8266 est connect√© √† une solution existante bas√©e sur tout autre microcontr√¥leur et est contr√¥l√© par des commandes AT, fournissant √† la solution une infrastructure Wi-Fi; <br><br>  2) mise en ≈ìuvre d'une nouvelle solution utilisant la puce ESP8266 elle-m√™me comme microcontr√¥leur de contr√¥le. <br><br>  <i>Le premier sc√©nario a √©t√© impl√©ment√© depuis longtemps dans le projet FLProg.</i>  Il est impl√©ment√© √† l'aide de l'un des modules ESP8266 chinois peu co√ªteux.  Il convient aux amateurs d'arduino et √† ceux qui ont d√©j√† des sch√©mas pr√™ts √† l'emploi et un firmware d√©bogu√© sur la base de quelque chose de leur bien-aim√©. <br><br>  Le deuxi√®me sc√©nario consiste √† √©crire un firmware individuel pour contr√¥ler la puce ¬´de l'int√©rieur¬ª.  <i>(Avant la sortie de FLProg 3.1, le firmware doit √™tre √©crit pour le compilateur propri√©taire. √Ä partir de cette version, il est d√©sormais possible d'√©crire le firmware dans les langages FBD et LAD dans l'environnement FLProg)</i> . <br><br>  Le sc√©nario d'utilisation de la puce comme microcontr√¥leur de contr√¥le est int√©ressant en ce qu'il vous permet de cr√©er des appareils vraiment petits et fonctionnant tr√®s longtemps sur batterie.  Pour travailler avec des p√©riph√©riques √† bord, l'ESP8266 poss√®de toutes les fonctionnalit√©s n√©cessaires. <br><br>  Caract√©ristiques cl√©s <br><br>  La puce ESP8266 est l'une des solutions WiFi les plus int√©gr√©es.  √Ä l'int√©rieur de la puce, il y a beaucoup de tout ce qui, dans les solutions concurrentes, fait souvent partie de la liaison externe: <br><br><img src="https://habrastorage.org/webt/f5/4a/cm/f54acmts4n2raechilq0v-oz67o.png"><br><br>  En cons√©quence, un cerclage de copeaux typique ne comprend que quelques √©l√©ments.  Moins d'√©l√©ments = moindre co√ªt des composants, moins de co√ªt de soudure, moins de zone de placement, moins de co√ªt de carte de circuit imprim√©.  Ce qui est parfaitement confirm√© par les prix actuels des modules bas√©s sur le h√©ros de notre revue d'aujourd'hui. <br><br>  G√®re toute cette agriculture int√©gr√©e avec une version √©tendue du processeur 32 bits de la s√©rie L106 Diamond de Tensilica.  Qu'est-ce qui est int√©ressant √† l'int√©rieur? <br><br>  ‚Ä¢ Protocole 802.11 b / g / n <br>  ‚Ä¢ Wi-Fi Direct (P2P), soft-AP <br>  ‚Ä¢ Pile de protocoles TCP / IP int√©gr√©e <br>  ‚Ä¢ Commutateur TR, balun, LNA, amplificateur de puissance et r√©seau d'adaptation int√©gr√©s <br>  ‚Ä¢ PLL, r√©gulateurs et unit√©s de gestion de l'alimentation int√©gr√©s <br>  ‚Ä¢ Puissance de sortie de + 20,5 dBm en mode 802.11b <br>  ‚Ä¢ Prend en charge la diversit√© des antennes <br>  ‚Ä¢ Courant de fuite hors tension &lt;10uA <br>  ‚Ä¢ SDIO 2.0, SPI, UART <br>  ‚Ä¢ STBC, 1x1 MIMO, 2x1 MIMO <br>  ‚Ä¢ Agr√©gation A-MPDU et A-MSDU et intervalle de garde de 0,4 Œºs <br>  ‚Ä¢ R√©veil et transmission de paquets en &lt;22 ms <br>  ‚Ä¢ Consommation en veille de &lt;1,0 mW (DTIM3) <br><br>  <b>Technologie ultra basse</b> consommation <br><br>  La consommation d'√©nergie est l'une des caract√©ristiques les plus importantes d'une solution qui pr√©tend √™tre le cerveau de milliards d'appareils IoT.  Quelle est la raison de la popularit√© du BLE et des diverses impl√©mentations natives des interfaces radio?  Apr√®s tout, √† la fin, tous les appareils bas√©s sur ces impl√©mentations s'efforcent toujours d'acc√©der au Wi-Fi ordinaire √† l'aide de ponts sp√©ciaux. <br><br>  Le secret est simple - il est difficile de cr√©er un appareil connect√© au WiFi, suffisamment de temps, travaillant sur une alimentation autonome.  Les consommateurs ne sont pas pr√™ts √† changer les piles des capteurs tous les deux √† trois mois.  Par cons√©quent, ¬´l'acc√®s au r√©seau¬ª devait fournir des ponts connect√©s √† une √©lectricit√© constante.  ESP8266 devrait r√©soudre ce probl√®me.  D√©sormais, le Wi-Fi peut √™tre utilis√© m√™me dans des capteurs autonomes fonctionnant sur de petites batteries.  Gr√¢ce √† l'utilisation de m√©canismes avanc√©s de gestion de l'√©nergie pour la solution. <br><br>  Si vous regardez bri√®vement les caract√©ristiques de la consommation de la puce, vous pouvez rester dans le noir.  215mA en mode √©mission - rien de sp√©cial?  Oui, mais cela vaut la peine de lire la fiche technique et vous commencez √† comprendre les perspectives de la solution.  L'ESP8266 consomme environ 60 ¬µA en mode veille profonde (avec une horloge en temps r√©el) et moins de 1,0 mA (DTIM = 3) ou moins de 0,5 mA (DTIM = 10) en mode maintenance <br><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source</a></i> <br><br></div></div><br>  Le programme prend en charge la plupart des cartes existantes bas√©es sur le contr√¥leur ESP8266. <br><br><img src="https://habrastorage.org/webt/rj/is/19/rjis19uw5s43zlebk4vppg_hkjo.png"><img src="https://habrastorage.org/webt/lg/h1/uq/lgh1uqmexi8fyhl-unnqbkombdc.png"><br><br><div class="spoiler">  <b class="spoiler_title">Presque tous les blocs fonctionnels et p√©riph√©riques applicables √† la programmation des cartes Arduino sont disponibles pour la cr√©ation de firmware.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/0u/ng/cb/0ungcb98ovf2a70_8j-zzmj6eoq.png"><br><br><img src="https://habrastorage.org/webt/w3/wm/ik/w3wmikka6bby4dkvy7h1fhjyfow.png"><br><br><img src="https://habrastorage.org/webt/7i/1v/po/7i1vpofteeg3wnewb_reljz6b4c.png"><br><br><img src="https://habrastorage.org/webt/di/g4/fz/dig4fz-hnaxme_c_q_auqirovey.png"><br><br><img src="https://habrastorage.org/webt/cn/nb/_b/cnnb_buyax0fsjbkugezyhwuqja.png"><br><br><img src="https://habrastorage.org/webt/e7/eh/a3/e7eha3x9zhvnc5flppsdlj7dfla.png"><br><br><img src="https://habrastorage.org/webt/nv/kt/fb/nvktfbaaakn332vtwzuyy5-gubs.png"><br><br><img src="https://habrastorage.org/webt/vi/h_/em/vih_em1rdxtwq_rbkecryluuxds.png"><br><br><img src="https://habrastorage.org/webt/wi/kh/sj/wikhsjjpmxcpa4dlwf1aaelnm-q.png"><br></div></div><br>  De plus, lors du choix d'un contr√¥leur ESP8266, de nouveaux blocs sp√©cifiques lui apparaissent. <br><br><img src="https://habrastorage.org/webt/sb/ab/a8/sbaba8ajep8n4dgbejxfd-08irg.png"><br><br>  Compte tenu de la pr√©sence d'un contr√¥leur WiFi √† bord, l'arborescence du projet change √©galement. <br>  Tout d'abord, comme avec tous les contr√¥leurs, il existe des branches pour contr√¥ler l'antigel et la m√©moire EEPROM <br><br><img src="https://habrastorage.org/webt/kz/kf/ke/kzkfkenbq_ny9m4tlrlzezd0tgk.png"><br><br>  Viennent ensuite les param√®tres les plus sp√©cifiques. <br><br>  Configuration du client WiFi et du point d'acc√®s (leur fonctionnement simultan√© est possible). <br><br><img src="https://habrastorage.org/webt/qo/sb/f1/qosbf1tudriibqoq0xbrq3ucwiw.png"><br><br>  R√©glage du mode de mise √† jour sans fil (jusqu'√† pr√©sent, uniquement Arduino OTA, mais pr√©voit de mettre en ≈ìuvre et de mettre √† jour via le navigateur et de t√©l√©charger automatiquement le firmware depuis le serveur de mise √† jour) <br><br><img src="https://habrastorage.org/webt/ah/nf/vm/ahnfvmt1xisdq0fju6spqksczwo.png"><br><br>  Impl√©mentation de la possibilit√© de cr√©er une interface Web pour les param√®tres du contr√¥leur.  Vous pouvez cr√©er un nombre illimit√© de pages de param√®tres, avec le nombre de param√®tres requis.  En tant que param√®tres, les deux param√®tres syst√®me standard du contr√¥leur sont utilis√©s (voir les captures d'√©cran ci-dessus), et n'importe quel nombre de param√®tres utilisateur utilis√©s pour la communication entre le firmware et l'interface de configuration.  √Ä toutes les pages (sauf la principale), ainsi qu'aux param√®tres individuels, vous ne pouvez d√©finir l'acc√®s qu'√† certains utilisateurs (le nombre d'utilisateurs cr√©√©s n'est pas limit√©). <br><br><img src="https://habrastorage.org/webt/9u/q0/ku/9uq0kuzmsxyeigkk891qwl4ykcm.png"><br><br>  Et bien s√ªr, comme pour Arduino, la prise en charge des protocoles d'√©change Modbus RTU, Modbus TCP et Modbus RTU sur TCP est impl√©ment√©e. <br><br><img src="https://habrastorage.org/webt/gv/sf/uq/gvsfuq4ljfjsrucb_c5n0sejc1k.png"><br><br>  Le mode pont entre Modbus RTU et Modbus TCP est √©galement impl√©ment√©. <br><br><img src="https://habrastorage.org/webt/fc/5h/gd/fc5hgdtimmlsyxwppb-j3su_wkk.png"><br><br>  En g√©n√©ral, j'ai essay√© de maximiser les capacit√©s de ce merveilleux contr√¥leur.  Quelque chose a r√©ussi. <br><br>  Ce message est un aper√ßu, et √† partir de la s√©rie, et dans le prochain, nous envisagerons la cr√©ation d'une interface Web de param√®tres et l'obtention de temps √† partir des serveurs de temps exacts. <br><br>  Le projet FLProg est un projet √† but non lucratif, et vous pouvez t√©l√©charger le programme √† partir du site Web du projet comme on dit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"gratuitement et sans SMS"</a> .  Il n'y a aucune restriction dans le programme.  Des versions sont fournies pour Windows et OC Linux. <br><br>  <b>PS</b> <br><br>  Apr√®s de nombreuses plaintes concernant ma diction et la fa√ßon dont le mat√©riel a √©t√© pr√©sent√©, j'ai abandonn√© l'id√©e d'enregistrer des le√ßons vid√©o (les talents d'enseignement et de conf√©rencier ne m'ont pas √©t√© donn√©s). <br><br>  Mais l'un des utilisateurs du programme est venu √† mon aide. <br><br>  Je veux vous pr√©senter la cha√Æne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>¬´Arduino Prom¬ª et le</b></a> site Web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>¬´Arduino Prom¬ª</b></a> .  Ils sont enti√®rement consacr√©s au projet FLProg, et aujourd'hui une centaine de le√ßons vid√©o sont au programme. <br><br>  Voici la derni√®re vid√©o, sur la cr√©ation d'une montre avec synchronisation via Internet. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ITJ_JMc17XA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr421975/">https://habr.com/ru/post/fr421975/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr421963/index.html">Tenue de livres et comptable: leur r√¥le dans l'organisation</a></li>
<li><a href="../fr421965/index.html">¬´En plus de travailler, je travaille toujours¬ª - 10 questions pour le programmeur, troisi√®me √©dition</a></li>
<li><a href="../fr421967/index.html">Jouet pour enfants sur les √©l√©ments logiques</a></li>
<li><a href="../fr421969/index.html">G√©n√©ration de s√©quences de dates PostgreSQL et generate_series</a></li>
<li><a href="../fr421971/index.html">Le russe natif de Xorg chez rdesktop est une bagatelle, mais agr√©able</a></li>
<li><a href="../fr421977/index.html">GPS sous-marin sur deux √©metteurs-r√©cepteurs</a></li>
<li><a href="../fr421979/index.html">Th√®me Dracula - un th√®me universel pour presque tout</a></li>
<li><a href="../fr421983/index.html">L'apprentissage automatique aidera √† r√©duire la population de glossines afin de r√©duire l'incidence de la maladie du sommeil</a></li>
<li><a href="../fr421985/index.html">GraphQL est l'avenir des microservices?</a></li>
<li><a href="../fr421991/index.html">H√©bergez une application Web sur Amazon Web Services. Bon march√©. Est-ce possible?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>