<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕕 👨🏾‍🌾 🛴 Bagian 1: RISC-V / RocketChip di Habitat Tidak Alami 📕 🤷🏿 🔮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Baru-baru ini di Habré, sebuah artikel diterbitkan tentang cara bereksperimen dengan arsitektur RISC-V tanpa biaya perangkat keras. Tetapi bagaimana j...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagian 1: RISC-V / RocketChip di Habitat Tidak Alami</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455391/"><img src="https://habrastorage.org/webt/it/on/yz/itonyz90xq9l_bvyih5h20xhuds.png" alt="Mengkonfigurasi RocketChip" align="left"><br><p>  Baru-baru ini di Habré, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sebuah artikel</a> diterbitkan tentang cara bereksperimen dengan arsitektur RISC-V tanpa biaya perangkat keras.  Tetapi bagaimana jika Anda melakukan ini pada papan debug?  Ingat meme tentang generator game: sekitar 20 tanda centang dalam gaya "Grafik tidak lebih buruk daripada Krisis", "Anda dapat merampok corovans" dan tombol "Hasilkan".  Generator RocketChip SoC diatur kira-kira dengan cara yang sama, hanya saja tidak ada jendela dengan tanda centang, tetapi kode Scala dan sedikit assembler dan Membuat file.  Pada artikel ini, saya akan menunjukkan betapa mudahnya untuk mem-porting RocketChip ini dari Xilinx asalnya ke Altera / Intel. </p><a name="habracut"></a><br><p> <strong>PENOLAKAN:</strong> penulis tidak bertanggung jawab atas papan "terbakar" - perhatikan dengan cermat bagaimana Anda mengonfigurasi pin, apa yang Anda sambungkan secara fisik, dll.  Nah, perhatikan juga tindakan pencegahan keselamatan.  Anda seharusnya tidak berpikir bahwa karena semuanya terhubung melalui USB, maka itu pasti aman untuk seseorang: seperti yang saya pahami dalam percobaan sebelumnya, bahkan jika Anda bekerja dengan papan USB, Anda masih tidak harus menyentuh baterai pemanas dengan kaki Anda, karena perbedaan potensial ... Oh ya Saya hampir bukan plisovode profesional atau insinyur elektronik - saya hanya seorang programmer Scala. </p><br><p> Sejauh yang saya mengerti, platform awal untuk debugging RocketChip adalah Xilinx FPGA.  Dilihat oleh repositori, yang kami segera kloning, itu juga diangkut ke Microsemi.  Di suatu tempat saya mendengar tentang penggunaan Altera, tetapi tidak melihat sumbernya.  Ternyata, ini bukan masalah besar: dari saat kami menerima papan dan mulai mempelajari repositori <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SiFive Freedom</a> ke "memoryless" yang berfungsi (yaitu, hanya memiliki register prosesor, BootROM dan register yang dipetakan dengan memori) 32-bit "mikrokontroler" (walaupun ini sudah apa sesuatu <em>nanocontroller</em> ternyata ...) 3 hari libur dan 4 hari kerja berlalu, dan itu akan menjadi lebih sedikit jika itu datang kepada saya untuk segera mendefinisikan mendefinisikan <code>SYNTHESIS</code> secara global. </p><br><h1 id="materialy">  Material </h1><br><p>  Sebagai permulaan - daftar <em>materi</em> dalam arti luas dari kata tersebut.  Kami membutuhkan perangkat lunak berikut: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RocketChip</a> - berisi prosesor itu sendiri dan lingkungan perakitan (termasuk, menjelaskan beberapa sub-repositori).  Mampu membuat RocketChip dengan prosesor in-order Rocket core. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SiFive Freedom</a> - mengikat untuk berbagai papan debug - di sana kami akan menambahkan dukungan untuk kami </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">rocket-tools</a> - alat untuk membuat kode dan debugging untuk arsitektur RISC-V 32 dan 64-bit </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">openocd-riscv</a> - port <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OpenOCD</a> untuk bekerja pada JTAG dengan kernel RISC-V (setidaknya RocketChip) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IntelliJ IDEA Community</a> untuk mengedit kode Scala, yang merupakan mayoritas di RocketChip </li><li>  Toolchain pra-rakitan SiFive juga dapat berguna, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tautan</a> yang saya lihat di artikel yang telah disebutkan </li></ul><br><p>  Apa yang dibutuhkan dari besi: </p><br><ul><li>  Kit Zeowaa dari Aliexpress: board dengan Cyclone 4 EP4CE115 dan (clone?) USB Blaster </li><li>  RaspberryPi sebagai JTAG debugger untuk soft core </li></ul><br><p>  Mesin host diasumsikan sebagai komputer yang relatif kuat dengan Ubuntu dan Quartus Lite 18 diinstal. </p><br><p>  Sebenarnya, ada opsi untuk meluncurkan di cloud Amazon menggunakan FPGA-instance dari SiFive yang sama, yang disebut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">FireSim</a> , tetapi tidak begitu menarik, <del>  Ya, dan LEDnya kurang terlihat </del>  .  Selain itu, dalam hal ini, Anda perlu menentukan kunci API Anda pada contoh kontrol untuk meluncurkan mesin virtual lainnya, dan Anda harus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menjaganya dengan sangat baik</a> , jika tidak dikabarkan bahwa Anda dapat bangun suatu hari dengan hutang puluhan ribu dolar ... </p><br><h1 id="izuchaem-obstanovku">  Kami mempelajari situasinya </h1><br><p>  Untuk memulai, saya mengambil proyek pengujian <code>read_write_1G</code> dari vendor board dan mencoba menambahkan sumber yang diperlukan untuk itu.  Mengapa tidak membuat yang baru?  Karena saya baru, dan dalam proyek ini nama pin sudah dipetakan.  Jadi, Anda perlu mengambil kode sumber dari suatu tempat.  Untuk melakukan ini, kita akan memerlukan repositori <code>freedom</code> sudah ditentukan (jangan bingung dengan <code>freedom-e-sdk</code> ).  Untuk mendapatkan setidaknya sesuatu, kami akan mengumpulkan <code>rocket-tools</code> sesuai dengan instruksi (secara harfiah meluncurkan dua skrip dan banyak menunggu), dan kemudian jalankan </p><br><pre> <code class="plaintext hljs">RISCV=$(pwd)/../rocket-tools make -f Makefile.e300artydevkit verilog mcs</code> </pre> <br><p>  <code>verilog</code> target <code>verilog</code> menghasilkan file Verilog besar dengan sumber prosesor untuk kami, dan <code>mcs</code> mengkompilasi BootROM.  Tidak perlu khawatir bahwa <code>mcs</code> gagal - kami hanya tidak memiliki Xilinx Vivado, sehingga BootROM yang dikompilasi tidak dapat dikonversi ke format yang dibutuhkan Vivado. </p><br><p>  Melalui item menu <strong>Proyek</strong> Quartus <strong>-&gt; Tambah / Hapus File dalam Proyek ...</strong> tambahkan <code>freedom/builds/e300artydevkit/sifive.freedom.everywhere.e300artydevkit.E300ArtyDevKitConfig.v</code> , atur entitas <strong>Tingkat</strong> atas: <strong>E300ArtyDevKitFPGapengiriman</strong> pada tab Umum dan mulailah kompilasi pada tab Umum dan mulailah kompilasi pada tab Umum dan mulailah kompilasi , daftar penyelesaian otomatis entitas tingkat atas hanya akan muncul setelah kompilasi pertama).  Akibatnya, kami mendapatkan banyak kesalahan yang memberi tahu kami tentang tidak adanya modul <code>AsyncResetReg</code> , <code>IOBUF</code> , dll.  Jika tidak ada kesalahan, maka Anda lupa mengubah entitas Tingkat atas.  Jika Anda mencari-cari melalui sumbernya, Anda dapat langsung menemukan file <code>AsyncResetReg.v</code> , tetapi <code>IOBUF</code> adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pengikatan</a> inti IP <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Xilinx</a> .  Pertama, tambahkan <code>freedom/rocket-chip/src/main/resources/vsrc/AsyncResetReg.v</code> .  Dan <code>plusarg_reader.v</code> juga akan ditambahkan. </p><br><p>  Jalankan kompilasi dan dapatkan kesalahan lain: </p><br><pre> <code class="plaintext hljs">Error (10174): Verilog HDL Unsupported Feature error at plusarg_reader.v(18): system function "$value$plusargs" is not supported for synthesis</code> </pre> <br><p>  Pada prinsipnya, konstruksi yang tidak disintesis dapat diharapkan dari file dengan nama yang mirip. </p><br><div class="spoiler">  <b class="spoiler_title">plusarg_reader.v</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">// See LICENSE.SiFive for license details. //VCS coverage exclude_file // No default parameter values are intended, nor does IEEE 1800-2012 require them (clause A.2.4 param_assignment), // but Incisive demands them. These default values should never be used. module plusarg_reader #(parameter FORMAT="borked=%d", DEFAULT=0) ( output [31:0] out ); `ifdef SYNTHESIS assign out = DEFAULT; `else reg [31:0] myplus; assign out = myplus; initial begin if (!$value$plusargs(FORMAT, myplus)) myplus = DEFAULT; end `endif endmodule</code> </pre> </div></div><br><p>  Seperti yang dapat kita lihat, modul ini mungkin membaca opsi simulasi dari baris perintah, dan ketika mensintesisnya hanya mengembalikan nilai default.  Masalahnya adalah bahwa proyek kami tidak mendefinisikan define bernama <code>SYNTHESIS</code> .  Adalah mungkin untuk <code>ifdef</code> <code>`define SYNTHESIS</code> pada baris sebelumnya tepat sebelum <code>ifdef</code> , dan kemudian menghabiskan setengah minggu mencoba memahami mengapa kernel tidak memulai (dan setelah semua, infeksi disintesis ...).  Jangan ulangi kesalahan saya, tetapi cukup buka properti proyek lagi, dan pada <strong>pengaturan Compiler-&gt; Verilog HDL Input</strong> tab, tentukan makro <code>SYNTHESIS</code> , dan setidaknya 1, tidak dalam <code>&lt;NONE&gt;</code> (baris kosong). </p><br><p>  Di sini!  Sekarang Quartus bersumpah pada binding yang hilang - saatnya untuk mengatur proyek di Idea dan mulai porting. </p><br><h1 id="znakomimsya-s-proektom">  Mengenal proyek </h1><br><p>  Kami memberi tahu gagasan Impor proyek, tentukan jalur ke repositori <code>freedom</code> , tunjukkan jenis proyek sbt, periksa penggunaan sbt shell untuk impor, untuk kotak centang pembuatan.  Di sini, dongeng berakhir, sepertinya, tetapi tidak menemukan Ide setengah proyek - semua kode sumber ditandai dengan warna merah.  Berdasarkan informasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari sini</a> , saya mendapatkan prosedur berikut: </p><br><ul><li>  buka jendela sbt shell </li><li>  masukkan <code>clean</code> </li><li>  tekan tombol Restart hijau di sebelah kiri </li><li>  setelah memulai ulang sbt, kita masukkan perintah pertama <code>++2.12.4</code> , dengan demikian mengalihkan semua sub proyek ke Scala versi 2.12.4, lalu kita <code>compile</code> </li><li>  klik Refresh all sbt project Idea </li><li>  KEUNTUNGAN !, sekarang lampu latar bekerja dengan benar </li></ul><br><p>  Sejauh ini, saya akan mencoba untuk merakit proyek, setidaknya dalam mode semi-manual.  <strong>Ngomong-ngomong, seseorang, katakan <code>quartus_ipcreate</code> , apakah <code>quartus_ipcreate</code> dalam Edisi Lite sama sekali?</strong>  Kami akan membuat Variasi IP secara manual untuk saat ini, dan binding hanya akan ada di Scala dalam bentuk BlackBox. </p><br><p>  Dalam hal ini, kami tertarik dengan hierarki direktori berikut: </p><br><pre> <code class="plaintext hljs">fpga-shells () | +-src/main/scala | +- ip/intel &lt;--     IP Variations | | | +- Intel.scala | +- shell/intel &lt;--       | +- ZeowaaShell.scala src/main/scala | +- everywhere.e300artydevkit &lt;--   "" ,    | +- zeowaa/e115 &lt;--      "" SoC | +- Config +- FPGAChip +- Platform +- System</code> </pre> <br><p>  Anda juga perlu menambahkan Makefile yang mirip dengan <code>Makefile.e300artydevkit</code> , sesuatu seperti ini: </p><br><p>  <strong>Makefile.zeowaa-e115:</strong> </p><br><pre> <code class="plaintext hljs"># See LICENSE for license details. base_dir := $(patsubst %/,%,$(dir $(abspath $(lastword $(MAKEFILE_LIST))))) BUILD_DIR := $(base_dir)/builds/zeowaa-e115 FPGA_DIR := $(base_dir)/fpga-shells/intel MODEL := FPGAChip PROJECT := sifive.freedom.zeowaa.e115 export CONFIG_PROJECT := sifive.freedom.zeowaa.e115 export CONFIG := ZeowaaConfig export BOARD := zeowaa export BOOTROM_DIR := $(base_dir)/bootrom/xip rocketchip_dir := $(base_dir)/rocket-chip sifiveblocks_dir := $(base_dir)/sifive-blocks include common.mk</code> </pre> <br><h1 id="bindingi">  Binding </h1><br><p>  Untuk mulai dengan, kami menerapkan <code>IOBUF</code> ini - itu tidak akan sulit.  Dilihat oleh kode Scala, ini adalah modul yang mengontrol "kaki" fisik (bola?) Dari sirkuit mikro: dapat dinyalakan, dapat dinyalakan, atau dapat dimatikan sama sekali.  Di bagian kanan jendela Quartus, kita akan memasukkan "IOBUF" ke dalam Katalog IP, dan segera mendapatkan komponen bernama <code>ALTIOBUF</code> .  Mari kita tentukan beberapa nama untuk file variasi, pilih "Sebagai buffer dua arah".  Setelah itu, sebuah modul bernama <code>iobuf</code> akan muncul di proyek kami: </p><br><pre> <code class="plaintext hljs">// ... module obuf ( datain, oe, dataout); input [0:0] datain; input [0:0] oe; output [0:0] dataout; wire [0:0] sub_wire0; wire [0:0] dataout = sub_wire0[0:0]; obuf_iobuf_out_d5t obuf_iobuf_out_d5t_component ( .datain (datain), .oe (oe), .dataout (sub_wire0)); endmodule // ...</code> </pre> <br><p>  Mari kita menulis modul blackbox untuknya: </p><br><pre> <code class="scala hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ip.intel <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> chisel3._ <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> chisel3.core.{<span class="hljs-type"><span class="hljs-type">Analog</span></span>, <span class="hljs-type"><span class="hljs-type">BlackBox</span></span>} <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> freechips.rocketchip.jtag.<span class="hljs-type"><span class="hljs-type">Tristate</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IOBUF</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlackBox</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Bundle</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> datain = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> dataout = <span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> oe = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> dataio = <span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>) }) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">desiredName</span></span></span></span>: <span class="hljs-type"><span class="hljs-type">String</span></span> = <span class="hljs-string"><span class="hljs-string">"iobuf"</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IOBUF</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span></span>(a: <span class="hljs-type"><span class="hljs-type">Analog</span></span>, t: <span class="hljs-type"><span class="hljs-type">Tristate</span></span>): <span class="hljs-type"><span class="hljs-type">IOBUF</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> res = <span class="hljs-type"><span class="hljs-type">Module</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">IOBUF</span></span>) res.io.datain := t.data res.io.oe := t.driven a &lt;&gt; res.io.dataio res } }</code> </pre> <br><p>  Kami mendeskripsikan masukan Verilogue <code>inout</code> tipe <code>Analog</code> , dan metode <code>desiredName</code> yang <code>desiredName</code> memungkinkan <code>desiredName</code> untuk mengubah nama kelas modul.  Ini sangat penting karena kami menghasilkan binder, bukan implementasi. </p><br><p>  Kami juga membutuhkan BootROM - untuk ini kami membuat variasi <strong>ROM: 1-PORT</strong> (kata 2048 x 32-bit, hanya register alamat, buat port <code>rden</code> ).  Kami membuat blok dengan nama <code>rom</code> , karena dengan begitu kita harus menulis sebuah adaptor untuk antarmuka yang <code>ROMGenerator</code> kelas <code>ROMGenerator</code> : <code>ROMGenerator</code> bukan <code>me</code> dan kita hilang dari kita (masih melekat pada 1): </p><br><p>  <strong>BootROM.v:</strong> </p><br><pre> <code class="plaintext hljs">module BootROM( input wire [10:0] address, input wire clock, input wire me, input wire oe, output wire [31:0] q ); rom r( .address(address), .clock(clock), .rden(me), .q(q) ); endmodule</code> </pre><br><p>  Satu masalah lagi segera ditemukan: file hex yang dihasilkan oleh kolektor, untuk beberapa alasan, ternyata tidak sesuai dengan Quartus.  Setelah googling ringan pada topik file Intel HEX (Intel jauh sebelum pembelian Intel Altera ini, seperti yang saya mengerti), kita sampai pada perintah yang mengubah file biner ke HEX: </p><br><pre> <code class="plaintext hljs">srec_cat -Output builds/zeowaa-e115/xip.hex -Intel builds/zeowaa-e115/xip.bin -Binary -Output_Block_Size 128</code> </pre> <br><p>  Oleh karena itu, Makefile kami akan diubah sedikit: </p><br><div class="spoiler">  <b class="spoiler_title">Teks tersembunyi</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">base_dir := $(patsubst %/,%,$(dir $(abspath $(lastword $(MAKEFILE_LIST))))) BUILD_DIR := $(base_dir)/builds/zeowaa-e115 FPGA_DIR := $(base_dir)/fpga-shells/intel MODEL := FPGAChip PROJECT := sifive.freedom.zeowaa.e115 export CONFIG_PROJECT := sifive.freedom.zeowaa.e115 export CONFIG := ZeowaaConfig export BOARD := zeowaa export BOOTROM_DIR := $(base_dir)/bootrom/xip rocketchip_dir := $(base_dir)/rocket-chip sifiveblocks_dir := $(base_dir)/sifive-blocks all: verilog $(MAKE) -C $(BOOTROM_DIR) clean romgen || true srec_cat -Output $(BUILD_DIR)/xip.hex -Intel $(BUILD_DIR)/xip.bin -Binary -Output_Block_Size 128 include common.mk</code> </pre> </div></div><br><h1 id="ono-shevelitsyaw-sinteziruetsya">  Bergerak ^ W disintesis </h1><br><p>  Jadi, proyek secara keseluruhan disintesis, sekarang yang paling menarik adalah debugging.  Kucing pertama kali diizinkan masuk ke rumah, dan mungkin JTAG ke dalam mikrokontroler.  Mari kita buat sistem yang hampir minimal untuk debugging: BootROM untuk boot, GPIO ke LED berkedip, dan JTAG untuk memahami mengapa tidak ada yang memuat dan tidak berkedip.  Dengan analogi dengan <code>E300ArtyDevKit</code> buat paket dengan empat file di dalamnya.  Pertama </p><br><p>  <strong>Config.scala:</strong> </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DefaultZeowaaConfig</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Config</span></span></span><span class="hljs-class"> (</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params"> new </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">WithNBreakpoints</span></span></span></span><span class="hljs-class"><span class="hljs-params">(2</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">++</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WithNExtTopInterrupts</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">0</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">++</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WithJtagDTM</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">++</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TinyConfig</span></span></span><span class="hljs-class"> ) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Peripherals</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Config</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(site, here, up</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">=&gt;</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">PeripheryGPIOKey</span></span> =&gt; <span class="hljs-type"><span class="hljs-type">List</span></span>( <span class="hljs-type"><span class="hljs-type">GPIOParams</span></span>(address = <span class="hljs-type"><span class="hljs-type">BigInt</span></span>(<span class="hljs-number"><span class="hljs-number">0x64002000</span></span>L), width = <span class="hljs-number"><span class="hljs-number">6</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">PeripheryMaskROMKey</span></span> =&gt; <span class="hljs-type"><span class="hljs-type">List</span></span>( <span class="hljs-type"><span class="hljs-type">MaskROMParams</span></span>(address = <span class="hljs-number"><span class="hljs-number">0x10000</span></span>, name = <span class="hljs-string"><span class="hljs-string">"BootROM"</span></span>)) }) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ZeowaaConfig</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Config</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params"> new </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Peripherals</span></span></span></span><span class="hljs-class"><span class="hljs-params"> ++ new </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">DefaultZeowaaConfig</span></span></span></span><span class="hljs-class"><span class="hljs-params">(</span></span></span><span class="hljs-class">).</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alter</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(site, here, up</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">=&gt;</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-type"><span class="hljs-type">JtagDTMKey</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">JtagDTMConfig</span></span> ( idcodeVersion = <span class="hljs-number"><span class="hljs-number">2</span></span>, idcodePartNum = <span class="hljs-number"><span class="hljs-number">0xe31</span></span>, idcodeManufId = <span class="hljs-number"><span class="hljs-number">0x489</span></span>, debugIdleCycles = <span class="hljs-number"><span class="hljs-number">5</span></span>) }) )</code> </pre> <br><p>  Deskripsi untuk sebagian besar disalin dan dipotong dari E300: kami bertanya apa kernel kami terdiri dan di mana ia akan terletak di ruang alamat.  Harap dicatat bahwa meskipun kami tidak memiliki RAM (ini adalah <code>TinyConfig</code> default di <code>TinyConfig</code> ), ada ruang alamat, apalagi, 32-bit! </p><br><p>  Ada juga file yang membawa sejumlah boilerplate. <br>  <strong>System.scala:</strong> </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">System</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">implicit p: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Parameters</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RocketSubsystem</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">with</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HasPeripheryMaskROMSlave</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">with</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HasPeripheryDebug</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">with</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HasPeripheryGPIO</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> module = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">SystemModule</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SystemModule</span></span></span><span class="hljs-class">[+</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">L</span></span></span><span class="hljs-class"> &lt;: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">System</span></span></span><span class="hljs-class">](</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">_outer: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">L</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RocketSubsystemModuleImp</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">_outer</span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">with</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HasPeripheryDebugModuleImp</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">with</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HasPeripheryGPIOModuleImp</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Reset vector is set to the location of the mask rom val maskROMParams = p(PeripheryMaskROMKey) global_reset_vector := maskROMParams(0).address.U }</span></span></code> </pre> <br><p>  Sebenarnya, tata letak "motherboard" kami ada di tiga (sejauh) file sederhana: <br>  <strong>Platform.scala:</strong> </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PlatformIO</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">implicit val p: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Parameters</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bundle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> jtag = <span class="hljs-type"><span class="hljs-type">Flipped</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">JTAGIO</span></span>(hasTRSTn = <span class="hljs-literal"><span class="hljs-literal">false</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> jtag_reset = <span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>()) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> gpio = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">GPIOPins</span></span>(() =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">BasePin</span></span>(), p(<span class="hljs-type"><span class="hljs-type">PeripheryGPIOKey</span></span>)(<span class="hljs-number"><span class="hljs-number">0</span></span>)) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Platform</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">implicit p: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Parameters</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Module</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> sys = <span class="hljs-type"><span class="hljs-type">Module</span></span>(<span class="hljs-type"><span class="hljs-type">LazyModule</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">System</span></span>).module) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> io = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">PlatformIO</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> sjtag = sys.debug.systemjtag.get sjtag.reset := io.jtag_reset sjtag.mfr_id := p(<span class="hljs-type"><span class="hljs-type">JtagDTMKey</span></span>).idcodeManufId.<span class="hljs-type"><span class="hljs-type">U</span></span>(<span class="hljs-number"><span class="hljs-number">11.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>) sjtag.jtag &lt;&gt; io.jtag io.gpio &lt;&gt; sys.gpio.head }</code> </pre> <br><p>  <strong>FPGAChip.scala:</strong> </p><br><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FPGAChip</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">override implicit val p: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Parameters</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ZeowaaShell</span></span></span><span class="hljs-class"> </span></span>{ withClockAndReset(cpu_clock, cpu_rst) { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> dut = <span class="hljs-type"><span class="hljs-type">Module</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-type"><span class="hljs-type">Platform</span></span>) dut.io.jtag.<span class="hljs-type"><span class="hljs-type">TCK</span></span> := jtag_tck dut.io.jtag.<span class="hljs-type"><span class="hljs-type">TDI</span></span> := jtag_tdi <span class="hljs-type"><span class="hljs-type">IOBUF</span></span>(jtag_tdo, dut.io.jtag.<span class="hljs-type"><span class="hljs-type">TDO</span></span>) dut.io.jtag.<span class="hljs-type"><span class="hljs-type">TMS</span></span> := jtag_tms dut.io.jtag_reset := jtag_rst <span class="hljs-type"><span class="hljs-type">Seq</span></span>(led_0, led_1, led_2, led_3) zip dut.io.gpio.pins foreach { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> (led, pin) =&gt; led := <span class="hljs-type"><span class="hljs-type">Mux</span></span>(pin.o.oe, pin.o.oval, <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) } dut.io.gpio.pins.foreach(_.i.ival := <span class="hljs-literal"><span class="hljs-literal">false</span></span>.<span class="hljs-type"><span class="hljs-type">B</span></span>) dut.io.gpio.pins(<span class="hljs-number"><span class="hljs-number">4</span></span>).i.ival := key1 dut.io.gpio.pins(<span class="hljs-number"><span class="hljs-number">5</span></span>).i.ival := key2 } }</code> </pre> <br><p>  Seperti yang Anda lihat, Anda dapat menulis generator di Pahat dalam gaya fungsional (kasus yang sangat sederhana ditunjukkan di sini).  Tetapi Anda dapat menulis dan dengan jelas setiap kawat: </p><br><div class="spoiler">  <b class="spoiler_title">ZeowaaShell.scala</b> <div class="spoiler_text"><pre> <code class="scala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ZeowaaShell</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MemIf</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bundle</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_addr = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">14.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_ba = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">3.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_cas_n = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_cke = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">2.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_clk = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">2.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_clk_n = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">2.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_cs_n = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">2.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_dm = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">8.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_dq = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">64.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_dqs = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">8.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_odt = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">2.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_ras_n = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> mem_we_n = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ZeowaaShell</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">implicit val p: </span></span><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">Parameters</span></span></span></span></span><span class="hljs-class">) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RawModule</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> clk25 = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Clock</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> clk27 = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Clock</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> clk48 = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Clock</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> key1 = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> key2 = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> key3 = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> led_0 = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> led_1 = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> led_2 = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> led_3 = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Output</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> jtag_tdi = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> jtag_tdo = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> jtag_tck = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Clock</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> jtag_tms = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> uart_rx = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Input</span></span>(<span class="hljs-type"><span class="hljs-type">Bool</span></span>())) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> uart_tx = <span class="hljs-type"><span class="hljs-type">IO</span></span>(<span class="hljs-type"><span class="hljs-type">Analog</span></span>(<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-type"><span class="hljs-type">W</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// Internal wiring val cpu_clock = Wire(Clock()) val cpu_rst = Wire(Bool()) val jtag_rst = Wire(Bool()) withClockAndReset(cpu_clock, false.B) { val counter = Reg(UInt(64.W)) counter := counter + 1.U cpu_rst := (counter &gt; 1000.U) &amp;&amp; (counter &lt; 2000.U) jtag_rst := (counter &gt; 3000.U) &amp;&amp; (counter &lt; 4000.U) } cpu_clock &lt;&gt; clk25 }</span></span></code> </pre> </div></div><br><p>  Mengapa itu dibagi menjadi tiga file?  Yah, pertama-tama, itu seperti itu dalam prototipe :) Logika memisahkan <code>Shell</code> dari <code>FPGAChip</code> , ternyata, adalah bahwa Shell adalah deskripsi dari antarmuka ke dunia luar: kesimpulan apa yang kita miliki di papan tertentu (dan bagaimana mereka akan ditampilkan pada kesimpulan chip!), dan <code>FPGAChip</code> ditentukan oleh fakta bahwa kami ingin menjejalkan ke dalam SoC tertentu.  Nah, Platform dipisahkan cukup logis: catatan: <code>ZeowaaShell</code> (dan, oleh karena itu, <code>Platform</code> ) adalah <code>RawModule</code> , khususnya, mereka tidak memiliki <code>clock</code> implisit dan <code>reset</code> - ini wajar untuk "kabel papan", tetapi tidak nyaman untuk bekerja (dan, mungkin, penuh dengan kesalahan rumit dengan domain frekuensi produktif).  Nah, Platform sudah menjadi modul Pahat biasa, di mana Anda dapat dengan aman menggambarkan register, dll. </p><br><h1 id="jtag">  Jtag </h1><br><p>  Beberapa kata tentang cara mengkonfigurasi JTAG.  Karena saya sudah memiliki RaspberryPi 3 Model B +, solusi yang jelas adalah entah bagaimana mencoba menggunakan GPIO-nya.  Untungnya, <em>semuanya telah diimplementasikan di hadapan kita</em> : di OpenOCD baru ada deskripsi <code>interface/sysfsgpio-raspberrypi.cfg</code> , dengan mana Anda dapat memberitahu debugger untuk terhubung melalui blok (TCK = 11, TMS = 25, TDI = 10, TDO = 9, dan GND pergi sebagai latihan) - pinout di <a href="">sini</a> . </p><br><p>  Selanjutnya, dengan menggunakan <a href="">Freedom.cfg</a> sebagai dasar dari repositori <code>riscv-tests</code> , saya mendapatkan yang berikut: </p><br><pre> <code class="plaintext hljs">adapter_khz 10000 source [find interface/sysfsgpio-raspberrypi.cfg] set _CHIPNAME riscv jtag newtap $_CHIPNAME cpu -irlen 5 -expected-id 0x20e31913 set _TARGETNAME $_CHIPNAME.cpu target create $_TARGETNAME riscv -chain-position $_TARGETNAME -rtos riscv init halt echo "Ready for Remote Connections"</code> </pre> <br><p>  Agar berfungsi, Anda perlu port <a href="">riscv-openocd yang</a> dibangun di bawah ARM <del>  freebie tidak lulus </del>  alih-alih versi pra-rakitan dari SiFive, Anda harus mengkloning repositori dan mengumpulkan: </p><br><pre> <code class="plaintext hljs">./configure --enable-remote-bitbang --enable-sysfsgpio</code> </pre> <br><p>  Jika ada yang tahu cara menjalankan bitbang jarak jauh, maka Anda mungkin tidak perlu membangun port khusus untuk ARM ... </p><br><p>  Sebagai hasilnya, kami meluncurkan dari root di Malinka </p><br><pre> <code class="plaintext hljs">root@ubuntu:~/riscv-openocd# ./src/openocd -s tcl -f ../riscv.tcl Open On-Chip Debugger 0.10.0+dev-00614-g998fed1fe-dirty (2019-06-03-10:27) Licensed under GNU GPL v2 For bug reports, read http://openocd.org/doc/doxygen/bugs.html adapter speed: 10000 kHz SysfsGPIO nums: tck = 11, tms = 25, tdi = 10, tdo = 9 SysfsGPIO nums: swclk = 11, swdio = 25 Info : auto-selecting first available session transport "jtag". To override use 'transport select &lt;transport&gt;'. Info : SysfsGPIO JTAG/SWD bitbang driver Info : JTAG and SWD modes enabled Warn : gpio 11 is already exported Warn : gpio 25 is already exported Info : This adapter doesn't support configurable speed Info : JTAG tap: riscv.cpu tap/device found: 0x20e31913 (mfg: 0x489 (SiFive, Inc.), part: 0x0e31, ver: 0x2) Info : datacount=1 progbufsize=16 Info : Disabling abstract command reads from CSRs. Info : Examined RISC-V core; found 1 harts Info : hart 0: XLEN=32, misa=0x40001105 Info : Listening on port 3333 for gdb connections Ready for Remote Connections Info : Listening on port 6666 for tcl connections Info : Listening on port 4444 for telnet connections</code> </pre> <br><p>  Setelah masuk di sana pada SSH dengan port forwarding 3333, mengganti IP yang diinginkan: </p><br><pre> <code class="plaintext hljs">ssh -L 3333:127.0.0.1:3333 ubuntu@192.168.1.104</code> </pre> <br><p>  Sekarang di host Anda dapat menjalankan GDB di <strong>bawah arsitektur riscv32</strong> : </p><br><pre> <code class="plaintext hljs">$ ../../rocket-tools/bin/riscv32-unknown-elf-gdb -q (gdb) target remote :3333 Remote debugging using :3333 warning: No executable has been specified and target does not support determining executable automatically. Try using the "file" command. 0x00000000 in ?? ()</code> </pre> <br><p>  Kami akan melompati debugging buta dari JTAG yang tidak lengket karena fakta bahwa makro <code>SYNTHESIS</code> secara aktif digunakan dalam file utama yang dihasilkan, dan memundurkan situasi ke keadaan "JTAG terhubung, tetapi lampu tidak berkedip." </p><br><h1 id="pervyy-kod">  Kode pertama </h1><br><p>  Seperti yang kita lihat di Makefile, kode untuk bootrom diambil dari file <code>bootrom/xip/xip.S</code>  Sekarang terlihat seperti ini: </p><br><pre> <code class="plaintext hljs">// See LICENSE for license details. // Execute in place // Jump directly to XIP_TARGET_ADDR .section .text.init .option norvc .globl _start _start: csrr a0, mhartid la a1, dtb li t0, XIP_TARGET_ADDR jr t0 .section .rodata dtb: .incbin DEVICE_TREE</code> </pre> <br><p>  Saya mengerti bahwa harus ada pohon perangkat (isi dari file dtb) untuk dibaca oleh OS, tetapi OS macam apa yang ada tanpa RAM.  Oleh karena itu, gantilah untuk sementara waktu dengan lampu yang berkedip: </p><br><div class="spoiler">  <b class="spoiler_title">Teks tersembunyi</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> .section .text.init .option norvc .globl _start _start: li a5, 0x64002000 li a1, 0x0F li a2, 0x01 li a3, 0x30 li a6, 0x10 li a7, 0x20 sw zero, 0x38(a5) // iof_en sw a1, 0x08(a5) // output_en sw a2, 0x00(a5) // value sw a1, 0x14(a5) // drive sw a3, 0x04(a5) // input_en // a0 &lt;- timer // a1 &lt;- 0x0F // a2 &lt;- [state] // a3 &lt;- 0x30 // a4 &lt;- [buttons] // a5 &lt;- [gpio addr] // a6 &lt;- 0x10 // a7 &lt;- 0x20 loop: li a4, 0x1000 add a0, a0, a4 bgtu a0, zero, loop lw a4, 0x00(a5) // value beq a4, a6, plus beq a4, a7, minus j store plus: srai a2, a2, 1 beq a2, zero, pzero j store pzero: li a2, 0x08 j store minus: slli a2, a2, 1 beq a2, a6, mzero j store mzero: li a2, 0x01 store: sw a2, 0x0c(a5) // value j loop</code> </pre> </div></div><br><p>  Kode ini dikembangkan secara iteratif, jadi tolong permisi untuk penomoran register yang aneh.  Selain itu, saya jujur ​​mempelajari assembler RISC-V menggunakan metode "kompilasi sepotong kode ke file objek, membongkar, lihat."  Ketika saya membaca buku elektronik beberapa tahun yang lalu, ia berbicara tentang pemrograman ATTiny dalam bahasa assembly.  "Ini hal-hal yang membosankan dan rutin, mungkin," pikirku, tetapi sekarang, tampaknya, <em>efek dari satu toko Swedia telah muncul</em> : <del>  loker </del>  Prosesor dirakit dari suku cadang, bahkan assembler tampaknya asli dan menarik.  Sebagai hasil dari mengeksekusi kode ini, LED yang menyala harus “berlari” ke kiri atau ke kanan, tergantung pada tombol mana yang ditekan. </p><br><p>  Kita mulai ... Dan tidak ada apa-apa: semua lampu menyala, mereka tidak merespons tombol.  Mari terhubung melalui JTAG: penghitung program = 0x00000000 - entah bagaimana semuanya menyedihkan.  Tetapi pada <code>0x64002000</code> kami memiliki register GPIO yang tersedia: </p><br><div class="spoiler">  <b class="spoiler_title">GPIOCtrlRegs.scala</b> <div class="spoiler_text"><pre> <code class="scala hljs"><span class="hljs-comment"><span class="hljs-comment">// See LICENSE for license details. package sifive.blocks.devices.gpio object GPIOCtrlRegs { val value = 0x00 val input_en = 0x04 val output_en = 0x08 val port = 0x0c val pullup_en = 0x10 val drive = 0x14 val rise_ie = 0x18 val rise_ip = 0x1c val fall_ie = 0x20 val fall_ip = 0x24 val high_ie = 0x28 val high_ip = 0x2c val low_ie = 0x30 val low_ip = 0x34 val iof_en = 0x38 val iof_sel = 0x3c val out_xor = 0x40 }</span></span></code> </pre> </div></div><br><p>  Mari kita coba pindahkan secara manual: </p><br><pre> <code class="plaintext hljs">(gdb) set variable *0x64002038=0 (gdb) set variable *0x64002008=0xF (gdb) set variable *0x64002000=0x1 (gdb) set variable *0x64002014=0xF (gdb) set variable *0x6400200c=0x1</code> </pre> <br><p>  Jadi ... Salah satu LED mati ... Dan jika bukan <code>0x1</code> , tetapi <code>0x5</code> ... Itu benar, sekarang LED menyala melalui satu.  Juga menjadi jelas bahwa mereka perlu dibalik, tetapi Anda tidak perlu menulis untuk mendaftar 0x00 - Anda perlu membaca dari sana. </p><br><pre> <code class="plaintext hljs">(gdb) x/x 0x64002000 0x64002000: 0x00000030 //    (gdb) x/x 0x64002000 0x64002000: 0x00000020 //   (gdb) x/x 0x64002000 0x64002000: 0x00000010 //   (gdb) x/x 0x64002000 0x64002000: 0x00000000</code> </pre> <br><p>  Hebat, register yang dipetakan memori diperbarui tanpa memulai prosesor, Anda tidak dapat menekan cont + Ctrl-C setiap kali - agak, tapi bagus. </p><br><p>  Tetapi mengapa kita tidak berputar dalam satu lingkaran, tetapi berada pada <code>$pc=0x0000000</code> ? </p><br><pre> <code class="plaintext hljs">(gdb) x/10i 0x10000 0x10000: addi s1,sp,12 0x10002: fsd ft0,-242(ra) 0x10006: srli a4,a4,0x21 0x10008: addi s0,sp,32 0x1000a: slli t1,t1,0x21 0x1000c: lb zero,-1744(a2) 0x10010: nop 0x10012: addi a0,sp,416 0x10014: c.slli zero,0x0 0x10016: 0x9308</code> </pre> <br><p>  APA ITU Pokemon ???  Saya tidak menulis instruksi seperti itu, mereka melemparkan saya!  Mari kita lihat lebih dekat: </p><br><pre> <code class="plaintext hljs">(gdb) x/10x 0x10000 0x10000: 0xb7270064 0x9305f000 0x13061000 0x93060003 0x10010: 0x13080001 0x93080002 0x23ac0702 0x23a4b700 0x10020: 0x23a0c700 0x23aab700</code> </pre> <br><p>  Di sisi lain, apa yang seharusnya ada di sana? </p><br><pre> <code class="plaintext hljs">$ ../../rocket-tools/bin/riscv32-unknown-elf-objdump -d builds/zeowaa-e115/xip.elf builds/zeowaa-e115/xip.elf:   elf32-littleriscv   .text: 00010054 &lt;_start&gt;: 10054: 640027b7 lui a5,0x64002 10058: 00f00593 li a1,15 1005c: 00100613 li a2,1 10060: 03000693 li a3,48 10064: 01000813 li a6,16 10068: 02000893 li a7,32 1006c: 0207ac23 sw zero,56(a5) # 64002038 &lt;__global_pointer$+0x63ff0770&gt; 10070: 00b7a423 sw a1,8(a5) 10074: 00c7a023 sw a2,0(a5) 10078: 00b7aa23 sw a1,20(a5) 1007c: 00d7a223 sw a3,4(a5) ...</code> </pre> <br><p>  Seperti yang Anda lihat, Quartus dengan jujur ​​memasukkan kata-kata yang sama yang ada di file inisialisasi, tetapi mengubah endianness mereka.  Anda dapat google untuk waktu yang lama bagaimana menyelesaikannya, tetapi <em>saya seorang programmer</em> , kruk adalah milik kita, jadi saya hanya akan menulis ulang </p><br><div class="spoiler">  <b class="spoiler_title">BootROM.v</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">module BootROM( input wire [10:0] address, input wire clock, input wire me, input wire oe, output wire [31:0] q ); wire [31:0] q_r; rom r( .address(address), .clock(clock), .rden(me), .q(q_r) ); assign q[31:24] = q_r[7:0]; assign q[23:16] = q_r[15:8]; assign q[15:8] = q_r[23:16]; assign q[7:0] = q_r[31:24]; endmodule</code> </pre> </div></div><br><p>  Jadi, kami kumpulkan, kami mulai, tidak bersinar.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami terhubung melalui JTAG: itu dengan </font></font><code>$pc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jujur ​​menunjukkan suatu tempat di dalam siklus, topeng lampu menyala = 4, oh ya, Anda perlu mengatur </font></font><code>output_en</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:, </font></font><code>set variable *0x64002008=0xF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">klik </font></font><code>c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(lanjutkan) - semuanya berfungsi! </font><font style="vertical-align: inherit;">Oh, dan kami sudah memadamkannya. </font><font style="vertical-align: inherit;">Untuk beberapa alasan, tidak peduli bagaimana saya menyortir urutan penulisan ke register, itu tidak berhasil ... Oleh karena itu, untuk permulaan kita akan mendukungnya dengan tongkat penyangga sederhana, mentransfer pengaturan </font></font><code>output_en</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebelum menetapkan nilai aktual.</font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Total sumber daya yang saat ini digunakan: </font></font></p><br><pre> <code class="plaintext hljs">Total logic elements 17,370 / 114,480 ( 15 % ) Total registers 8357 Total pins 16 / 281 ( 6 % ) Total virtual pins 0 Total memory bits 264,000 / 3,981,312 ( 7 % ) Embedded Multiplier 9-bit elements 4 / 532 ( &lt; 1 % )</code> </pre> <br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumber tentang Pahat</font></font></a> </p><br><p> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dilanjutkan ...</font></font></em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id455391/">https://habr.com/ru/post/id455391/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id455377/index.html">Arsitektur IoT</a></li>
<li><a href="../id455379/index.html">(Statis) Pemilihan wadah optimal dalam program C ++</a></li>
<li><a href="../id455381/index.html">3CX merespon dukungan teknis: menangkap lalu lintas SIP di server PBX</a></li>
<li><a href="../id455387/index.html">Memahami Pembelajaran Mesin di Elastic Stack (alias Elasticsearch, alias ELK)</a></li>
<li><a href="../id455389/index.html">Haxe 4: Apa yang Baru?</a></li>
<li><a href="../id455393/index.html">Tentang penggunaan metode parametrik estimasi spektral dalam radar - metode MUSIC. Penambahan artikel</a></li>
<li><a href="../id455397/index.html">Bagaimana kami merancang dan mengimplementasikan jaringan baru pada Huawei di kantor Moskow, bagian 1</a></li>
<li><a href="../id455401/index.html">Tcl untuk Cisco IOS dalam Contoh Sederhana</a></li>
<li><a href="../id455403/index.html">Dari lima sen ke permainan dewa</a></li>
<li><a href="../id455405/index.html">Bagaimana sebuah program kecil mengubah sebuah kantor kecil menjadi perusahaan federal dengan keuntungan 100+ juta rubel / bulan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>