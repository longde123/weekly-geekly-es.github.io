<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¼â€ğŸ« ğŸ“¹ ğŸš Database di awan: kepada siapa dan mengapa - pendapat spesialis Data Egret ğŸ™‹ğŸ» ğŸ ğŸ³ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Diyakini bahwa masa depan adalah untuk DB sebagai Layanan. Apakah layak bagi semua orang untuk menembakkan DBA dan pergi ke cloud publik atau berusaha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Database di awan: kepada siapa dan mengapa - pendapat spesialis Data Egret</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/440332/"> Diyakini bahwa masa depan adalah untuk DB sebagai Layanan.  Apakah layak bagi semua orang untuk menembakkan DBA dan pergi ke cloud publik atau berusaha untuk membuat cloud pribadi di Docker dengan Kubernetes?  Tiga ahli dari Data Egret - Alexei Lesovsky, Viktor Yegorov, dan Andrey Salnikov - pada saluran #RuPostgres secara langsung berbagi pandangan tentang jenis proyek apa yang cocok untuk model cloud. <br><br>  Moderator dan moderator diskusi adalah Nikolay Samokhvalov, pendiri Postgres.ai dan salah satu pendiri komunitas RuPostgres.org. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/435/264/8c6/4352648c6057ce6a634580c2b3195212.jpg"><br><br>  Di bawah transkrip percakapan. <br><a name="habracut"></a><br>  <b>- Hari ini kita akan berbicara tentang Postgres di awan.</b>  <b>Dan saya akan mulai dengan pertanyaan rumit: benarkah Anda sudah memiliki lebih dari separuh klien di awan?</b> <br><br>  <b>Alexei:</b> kurasa tidak.  Rasanya kurang dari setengah.  Semua orang duduk di pusat data mereka sendiri, atau menyewa besi. <br><br>  Tetapi sebelum berbicara tentang awan, mari kita tentukan persyaratannya.  Apa yang kami maksud dengan "awan": Amazon, Google Cloud, DB sebagai Layanan? <br><br>  <b>- Saya akan membedakan Postgres di cloud, disiapkan dengan instance Amazon EC2 (atau analog dari Google), di mana Anda dapat, secara kasar berbicara, masuk melalui ssh dan memperbaiki konfigurasi, dan Postgres di bawah kendali (dalam bahasa Inggris "dikelola"), ketika akses langsung di tingkat file atau tidak ada ssh, tetapi hanya ada kemampuan untuk menghubungkan dan menjalankan query SQL.</b>  <b>Mereka pada prinsipnya harus dipertimbangkan secara terpisah.</b>  <b>Dan pertanyaan pertama saya adalah tentang Postgres yang dikelola.</b> <br><br>  <b>Alexei:</b> Pelanggan seperti itu secara substansial kurang dari setengah. <br><br>  <b>Victor:</b> Ya, dalam kasus pertama - keuntungan signifikan apa yang kita miliki dari cloud?  Apa arti dari cloud? <br><br>  <b>- Dalam kasus pertama, menggunakan berbagai alat modern, seperti patroni dan kubernetes (kita akan membicarakannya secara terpisah), Anda bisa mendapatkan elastisitas, layanan mikro dan semua itu.</b>  <b>Ini tidak sama dengan hanya sepotong besi.</b>  <b>Ini seperti "hewan peliharaan vs kawanan" - sikap untuk menyetrika sebagai hewan peliharaan tumbuh menjadi hubungan dengan mesin virtual seperti kawanan.</b>  <b>Anda sudah tidak tahu jenis kelenjar apa yang dipasang di sana.</b>  <b>Anda tidak memesannya, tidak bekerja dengan pemasok, tidak memikirkan topologi.</b>  <b>Anda dapat menghemat waktu.</b> <br><br>  <b>Victor:</b> Ya.  Menurut pendapat saya, kasus pertama hanya menyederhanakan proses pembelian besi baru.  Anda tahu apa yang Anda butuhkan: berapa banyak core dan RAM, drive apa.  Dan Anda memilih mesin virtual dari apa yang mereka tawarkan kepada Anda.  Itu cepat.  Tetapi sebaliknya, Anda masih harus mengkonfigurasi dan memelihara server ini secara normal. <br><br>  <b>- Dan bagaimana perasaan Anda tentang overhead yang ditambahkan oleh mesin virtual (untuk proses di dalam mesin virtual yang tidak menggunakan logam kosong, overhead kinerja atau kesulitan administrasi)?</b>  <b>Apakah ada di antara Anda yang mengukurnya?</b> <br><br>  <b>Alexei:</b> Overhead dapat diukur jika Anda memiliki kendali atas hypervisor.  Dalam layanan publik tidak - apa yang mereka berikan adalah apa yang Anda gunakan. <br><br>  Overhead dari sistem virtualisasi biasa yang dapat digunakan di rumah (KVM, Xen), saya ukur lima tahun lalu, dan kemudian sekitar 7-8%.  Selain itu, itu tergantung pada pengaturan mesin virtual dan beban kerja.  Sebagai contoh, ada lebih banyak overhead pada Redis dan Postgres daripada Unicorn, yang melayani backend Rails. <br><br>  Mungkin sekarang angkanya berbeda. <br><br>  <b>- Bahkan 5-7% adalah overhead yang dapat diterima dibandingkan dengan plus yang dibicarakan Victor.</b> <b><br><br></b>  <b>Dan bagaimana Anda mengubah komposisi klien: apakah ada gerakan menuju basis yang dikelola?</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eef/936/610/eef936610631c542266211cc32d168ae.png"><br><br>  <b>Alexey:</b> Tidak.  Trennya agak sebaliknya.  Orang yang bekerja dengan hal-hal seperti RDS tidak memiliki fleksibilitas untuk mengelola dan mengelola.  Sebagai hasilnya, kita mendapatkan sikap yang sama "suka binatang peliharaan", tetapi dalam contoh EC2. <br><br>  <b>Victor:</b> Situasi ini tampak.  Ada pelanggan yang basis produksi utamanya sangat sibuk.  Tentu, mereka ditempatkan pada potongan besi yang dialokasikan dan di bawah pengawasan konstan.  Tetapi ketika perusahaan tumbuh, pengembangan membutuhkan sejumlah besar uji dan contoh pengembangan, dan mereka masuk ke dalam virtualisasi.  Artinya, ini adalah kasus hybrid: di bawah pengujian dan lingkungan dev, perangkat keras dapat dibeli atau mesin virtual dapat disewa.  Tetapi produksi tetap pada perangkat keras serius normal. <br><br>  <b>- Apakah Amazon RDS digunakan untuk ini?</b> <br><br>  <b>Alexey:</b> Klien kami, sebaliknya, menolak RDS.  Alasannya, seperti yang saya katakan, adalah kurangnya fleksibilitas dalam manajemen. <br><blockquote>  Mesin virtual crash, dan dalam beberapa kasus masalah tidak diselesaikan hanya dengan menyewa sepotong besi yang lebih kuat. </blockquote><br>  Anda tidak dapat memecahkan banyak masalah sendiri - hanya dengan bantuan dukungan. <br><br>  <b>- Apakah mungkin memberi contoh?</b>  <b>Tampaknya baru-baru ini Amazon membeli OpenSCG - orang hebat yang seharusnya mengembangkan keahlian internal Postgres.</b>  <b>Dan saya tahu dari pengalaman saya sendiri bahwa ada pemeriksaan.</b>  <b>Jika Anda membuka tiket dengan dukungan Amazon RDS dan menemukan seseorang yang tidak dapat membantu Anda, tutup saja tiketnya dan buka lagi, dapatkan tiket yang lebih kompeten.</b> <br><br>  <b>Alexey:</b> OpenSCG tentu saja adalah tim profesional.  Tetapi membeli tim semacam itu tidak menutup 100% dari situasi yang mungkin.  Ada masalah yang mendukung wajah untuk pertama kalinya.  Ini juga terjadi pada kita. <br><br>  Dari yang terakhir, pada salah satu replika PostgreSQL 10.6, rata-rata beban pelanggan pada host tiba-tiba meningkat 30-40 unit, meskipun tidak ada beban.  Ketukan bawah tanah yang tidak bisa dipahami.  Ini tidak terlalu mempengaruhi, tetapi gambaran dari bouncing rata-rata beban tidak dapat dipahami.  Dan dia mengganggu admin pelanggan.  Kami memiliki beberapa hipotesis, apa yang menyebabkannya, tetapi sejauh ini kami belum dapat mengujinya, karena sistemnya produktif dan tidak semuanya dapat dengan cepat dilakukan di sana. <br><br>  Dan "ketukan bawah tanah" seperti itu keluar sekitar setahun sekali, dan Anda mulai secara kreatif mendekati tugas itu.  Dan Amazon RDS adalah jumlah instance yang lebih besar, jumlah instalasi dan tiket yang lebih besar, dan semua jenis situasi jauh lebih besar. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe0/652/ed5/fe0652ed54fd4fbc40ce73f159f001c7.png"><br><br>  <b>Andrew:</b> Saya ingin menambahkan tentang membandingkan contoh RDS dan EC2. <br>  Kami memiliki klien dengan produksi di RDS.  Dia mencari nasihat.  Dev-circuit berada di Microsoft Azure, rupanya, Azure pada awalnya dianggap sebagai layanan cloud utama. <br><br>  Saya menyeret basis rangkaian dev dari Azure ke Amazon di EC2 untuk mendekati produksi, dan meramalkan masalah semakin dekat ke basis data produk. <br><br><blockquote>  Meskipun server EC2 dua kali lebih sederhana dari pada contoh RDS, dan beban uji lebih tinggi dari produk, di sirkuit dev setelah setup saya hasilnya jauh lebih baik daripada di Amazon pada contoh RDS pada produksi. <br></blockquote><br>  Saya curiga bahwa karena kurangnya keahlian PostgreSQL dalam perusahaan pelanggan, RDS digunakan dengan konfigurasi default.  Kami memutar semua pengaturan. <br><br>  Hasilnya, klien sangat terkesan.  Saya menoleh ke manajemen dengan proposal alih-alih RDS untuk mengambil dan mengkonfigurasi contoh sederhana. <br><br>  <b>- Ngomong-ngomong, bagaimana diukur, mana yang lebih baik, mana yang lebih buruk?</b> <br><br>  <b>Andrew:</b> Klien melihat metrik aplikasinya, seberapa cepat data diunduh dan diproses. <br><br>  <b>- Kami sekarang memarahi RDS, tetapi ia memiliki keuntungan besar - ia menghilangkan banyak sakit kepala yang terkait dengan penyebaran, cadangan, replikasi.</b>  <b>Apakah kamu setuju?</b> <br><br>  <b>Andrew:</b> Ya.  Dan, kemungkinan besar, alasan utama mengapa klien tetap berada di RDS justru karena kurangnya keahlian PostgreSQL.  Mereka mendapatkan semua yang mereka butuhkan dengan RDS, mereka hanya membayar lebih untuk instans. <br><br>  <b>- Selain Amazon RDS, ada postgres terkelola berbasis cloud lainnya.</b>  <b>Pernahkah Anda menemui, misalnya, layanan Yandex?</b> <br><br>  <b>Andrei:</b> Saya menemukan mesin virtual mereka dan saya tidak benar-benar menyukainya - drive NVMe tidak terlalu jujur â€‹â€‹di sana.  Bahkan, ada drive yang terhubung melalui jaringan. <br><br>  <b>- Jujur NVMe (drive lokal) juga merupakan masalah.</b>  <b>Google dan Amazon memiliki NVMe, tetapi drive tersebut fana.</b>  <b>Jika Anda me-restart instance, Anda kehilangan semua data karena Anda diberi mesin virtual lain.</b> <br><br>  <b>Andrei:</b> Mereka mengomentari saya di Yandex Cloud bahwa mereka memiliki NVMe jujur â€‹â€‹di DB sebagai layanan, tetapi saya belum menemukan layanan ini.  Rupanya, ada arsitektur yang sedikit berbeda di tingkat penyediaan sumber daya. <br><br>  Mereka bekerja sangat keras pada DB sebagai layanan, karena mereka menggunakannya untuk layanan mereka.  Hanya saja ada titik masuk yang berbeda untuk pelanggan eksternal dan penggunaan internal. <br><br>  <b>- Dan apa yang Anda pikirkan, apakah ada prospek untuk Postgres Rusia di awan?</b>  <b>Akan lepas landas atau tidak lepas landas?</b> <br><br>  <b>Andrew:</b> <br><blockquote>  Yandex memiliki tim yang luar biasa, cukup berpengalaman, dengan keahlian yang baik.  Saya pikir mereka akan tinggal landas. </blockquote><br>  Pertama, mereka sendiri mengoperasikan banyak Postgres (lebih dari 1000 database pada proyek mereka), dan sejak itu  mengeksploitasi, semua kerucut dan bintik-bintik sakit akan bekerja dan memperbaiki lebih cepat.  Saya pikir klien akan diberikan layanan akhir dengan kualitas yang cukup baik. <br><br>  Dan ada permintaan untuk solusi semacam itu.  Ambillah startup yang pada awalnya tidak dapat memiliki keahlian yang diperlukan dalam Postgres karena berbagai alasan: mahal, mereka tidak mengerti intinya, mencoba berbagai teknologi.  Baginya, ini adalah solusi yang baik, karena dalam layanan seperti itu ada "tikungan" terbatas yang tidak boleh diputar, dan jika itu, saya pikir, akan ada dukungan teknis. <br><br>  Benar, Yandex Cloud masih di awal, dan tidak begitu banyak fungsionalitas yang disajikan saat ini. <br><br>  <b>- Kami memiliki pertanyaan dari ruang obrolan: apa pendapat Anda tentang fakta bahwa ketika mengeluarkan mesin virtual, seseorang secara fisik dapat duduk di mesin ini (pembatasan, mencuri waktu).</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd9/d21/08d/fd9d2108d4134177d49c1785c7336c9a.jpg"><br><br>  <b>Victor:</b> Ya, ada pengalaman seperti itu.  Saya hanya ingin menyebutkannya.  Ada klien yang menggunakan sistem virtualisasi sendiri.  Dari waktu ke waktu mereka meminta untuk melihat beberapa server non-produk, dan kami melihat situasi yang tidak dapat dipahami: kami tidak memperhatikan alasan mengapa harus rusak di server ini.  Kemudian kami mengarahkan pertanyaan ke admin mereka dengan permintaan untuk melihat apa yang terjadi pada tuan rumah. <br><br>  <b>- Dan apa yang harus dilakukan, apakah ada efek serupa di Amazon?</b>  <b>Apakah ada metode untuk menentukan bahwa Anda "diperas"?</b>  <b>pgbench untuk mengemudi?</b> <br><br>  <b>Alexei:</b> Saya tidak ingat itu.  Tetapi cara yang biasa adalah menentukan melalui mencuri waktu.  Pada grafik pemantauan, sebagai aturan, kami tidak melihat nilai besar apa pun. <br><br>  <b>- Saya merasa Anda tidak terlalu suka Postgres yang dikelola.</b>  <b>Apakah karena fakta bahwa RDS mengambil pekerjaan Anda?</b> <br><br>  <b>Alexey:</b> Tidak.  Ini lebih mungkin karena fakta bahwa kita tidak memilikinya.  Managed Postgres baik karena Anda dapat menggunakan infrastruktur dengan mengklik tombol.  Selama Anda adalah startup dan hanya menambah atau membaca data tanpa logika yang kompleks, semuanya baik-baik saja.  Dan ketika Anda melewati garis tertentu, misalnya, Anda mulai menjalankan banyak GABUNGAN, melakukan SQL kompleks, tugas muncul untuk mengoptimalkan kueri dan RDS berhenti menjadi cukup.  Dibutuhkan lebih banyak kebebasan dan pengaruh, tetapi alat yang tersedia tidak membantu Anda memecahkan masalah mendalam terkait dengan pembuangan sumber daya di dalam Postgres itu sendiri.  Hanya ada kesempatan untuk meningkatkan kekuatan potongan besi: membayar lebih banyak uang - diterima. <br><br>  <b>Andrew:</b> Tidak ada begitu banyak ketidaksukaan terhadap RDS dan ketakutan untuk bekerja.  Masalahnya berbeda.  Misalkan startup membutuhkan RDS, ia memberi mereka segalanya.  Tapi dia tidak menambah keahliannya dalam Postgres.  Selanjutnya, katakanlah bidikan startup.  Banyak yang tumbuh - menulis dan membaca telah meningkat.  Dengan tidak adanya keahliannya, startup harus mencari orang-orang di samping.  DBA yang parah datang dan melihat bahwa mereka tidak dapat memeras lebih banyak dari RDS, tetapi dari contoh EC2 biasa sangat mungkin untuk mendapatkan lebih banyak kinerja, seperti dalam contoh yang saya sebutkan sebelumnya.  Jika kami diizinkan menggunakan RDS, mungkin kami dapat mengubah dan meningkatkan basis data, tetapi kami tidak melakukannya. <br><br>  <b>- Masalah dengan akses sedang diselesaikan.</b>  <b>Ada Postgres yang dikelola yang menyediakan akses ssh (dan bahkan sepenuhnya root), misalnya, perusahaan kecil Aiven dari Finlandia.</b>  <b>Secara default, mereka tidak memberikan akses root, tetapi pendiri (dan saya berbicara dengannya beberapa kali) berbicara tentang kesiapannya untuk memberikan akses berdasarkan permintaan.</b> <br><br>  <b>Andrew:</b> Masalahnya bukan hanya akses.  Mengapa kita lebih baik dengan kelenjar murni?  Karena kami memiliki banyak pelanggan yang berbeda, dan masing-masing memiliki infrastruktur sendiri.  Dan infrastrukturnya sangat berjauhan sehingga metodologi umum yang bekerja sama di mana-mana, kita tidak bisa.  Karena ada orang-orang yang memiliki perangkat keras sendiri, dan mereka tidak dapat meng-host di suatu tempat (sesuai dengan beberapa aturan dan batasan mereka sendiri), dan ada orang-orang yang ada di awan. <br><br>  <b>- Anda ingin mengatakan bahwa definisi indeks yang tidak digunakan tergantung pada potongan besi?</b>  <b>Atau beberapa hal biasa lainnya?</b> <br><br>  <b>Andrew:</b> Dari sudut pandang administrasi, skema database dan definisi indeks yang tidak digunakan membuat awan tidak berbeda dari perangkat kerasnya.  Semuanya bersatu. <br><br>  Perbedaan antara cloud dan perangkat keras nyata - di lapisan antara basis dan khususnya perangkat keras yang ada di bawah - adalah sistem operasi dan virtualisasi yang digunakan.  Ketika Anda memiliki database besar, penting bagi Anda seberapa cepat drive mengirim dan menerima data, seberapa efisien memori dan prosesor yang digunakan, sehingga sangat penting untuk mengurangi pengaruh lapisan ini sehingga database bekerja paling efisien. <br><br>  <b>- Pertanyaan lain dari audiens: bagaimana dengan pengaturan kernel?</b> <br><br>  <b>Victor:</b> Dalam EC2, hal-hal seperti itu dapat disesuaikan. <br><br>  <b>- Ada solusi baru untuk kelas "dikelola Postgres" dari vendor terkenal, selain Amazon dan Google biasa.</b>  <b>Sebagai contoh, Nutanix dan SAP mengumumkan pada tahun 2018 penciptaan solusi berbasis Postgres.</b>  <b>Tidakkah Anda berpikir bahwa semua orang ini menuntun kita pada munculnya beberapa keputusan yang akan melakukan hal yang sama, tetapi hanya pada besi Anda?</b>  <b>Sehingga Anda dapat mengklik tombol dan menggunakan Postgres baru, di mana cadangan dan replikasi sudah dikonfigurasi.</b> <br><br>  <b>Alexei:</b> Sepertinya bagi saya SAP dan yang lainnya tidak sepenuhnya menguntungkan.  Ini adalah vendor besar besi dan perangkat lunak.  Mereka membuat produk dengan tujuan menghasilkan uang.  Jual dukungan setidaknya.  Karena itu, kita harus melihat bagaimana mereka akan mendapat untung dari ini.  Jika model pengiriman produk seperti itu bermanfaat bagi mereka, lalu mengapa tidak? <br><br>  <b>- Maksud saya sedikit berbeda.</b>  <b>Secara khusus, orang-orang ini tidak akan memposting apa pun di sumber terbuka dan memberikan secara gratis.</b>  <b>Tetapi tidakkah Anda berpikir bahwa seseorang dari yang lebih kecil, tetapi lincah akan melakukan sesuatu seperti itu?</b>  <b>Mungkin ini akan fokus pada Kubernetes, Operator Framework.</b>  <b>Sudah ada beberapa perkembangan yang dilakukan operator - Zalando, misalnya.</b>  <b>Dan tidakkah Anda berpikir bahwa RDS berbasis cloud membantu transisi bertahap ke solusi semacam itu?</b>  <b>Kami melihat bagaimana Anda bisa hidup tanpa memanjat konfigurasi dengan tangan Anda.</b> <br><br>  <b>Alexey:</b> Ternyata tidak cukup berhasil. <br><blockquote>  Semua sama, Anda perlu memiliki spesialis yang akan memantau semua ini dan memanjat di bawah tenda jika terjadi kesalahan. <br></blockquote><br>  Bahkan Kubernetes adalah mesin yang sangat kompleks, dengan banyak komponen di bawah kapnya.  Secara formal, ini hanya lima binari.  Tetapi interaksi mereka satu sama lain dijelaskan oleh volume dokumentasi dan banyak informasi di ruang obrolan, buletin dan Grup Google.  Yaitu  Anda masih membutuhkan spesialis yang akan mengikuti dapur ini. <br><br>  Plus, semua ini berkembang sangat dinamis.  Kompatibilitas mundur istirahat dari rilis ke rilis.  Yaitu  semuanya sangat tidak stabil dan tidak stabil.  Ketika semuanya beres, mungkin kita akan mendapatkan produk yang cocok, stabil dan dapat diandalkan.  Namun sejauh ini, semuanya tidak terlalu. <br><br>  <b>Victor:</b> Kami mulai membicarakan fakta bahwa kami memiliki lapisan infrastruktur tambahan yang perlu dikelola - untuk mengatur Kubernetes ini. <br><br><blockquote>  Saya tidak setuju bahwa dia akan selalu bekerja secara ajaib dengan mengklik tombol seperti yang kita inginkan.  Penting untuk mempertahankan spesialis yang relevan. <br></blockquote><br>  Dan yang kedua - pelanggan kami terus beradaptasi dengan perubahan bisnis.  Dengan demikian, beban dalam basis data terus berubah.  Dan jika kita menjilat semuanya tiga bulan lalu, sebagai hasilnya semua permintaan berfungsi seperti yang diharapkan, dan semuanya baik-baik saja, maka permintaan baru mungkin datang hari ini atau besok, atau karena perubahan data, permintaan yang ada akan berhenti berfungsi sebagaimana mestinya.  Dan kita perlu menganalisis situasi dan masuk ke pengaturan sistem.  Dan ini adalah otomatisasi itu, yang menurut saya, membuat contoh yang dikelola sangat sulit.  Ketika awan mencapai kondisi sedemikian rupa sehingga mereka juga akan beradaptasi dengan situasi seperti itu, saya tidak tahu.  Tetapi sementara ini adalah bagian penting dari pekerjaan yang perlu dilakukan, perlu untuk menyesuaikan pengaturan database dengan perubahan dalam pola permintaan yang masuk. <br><br>  Dan karena cloud itu sendiri adalah beban administrasi tambahan, lebih mudah bagi kita ketika lapisan ini tidak ada di sana, karena kita dapat berkonsentrasi pada masalah basis data. <br><br>  Jika klien ingin tinggal di cloud dan memiliki keahlian, kami tidak menentangnya.  Hal utama adalah bahwa kita memiliki kesempatan, ketika database menjadi tidak terlalu bagus, naik (sebaiknya dengan ssh), periksa semuanya dan dapatkan akses ke semua statistik. <br><br>  <b>Alexey:</b> Tidak harus dengan ssh.  Tetapi bagaimanapun juga, alat diagnostik dibutuhkan.  Karena diagnosis melalui email sangat panjang dan melelahkan.  Ini menjengkelkan ketika Anda mengirim tautan obrolan ke permintaan untuk dieksekusi, klien, di sisi lain, mengklik tautan ini, menyalin permintaan, lalu menyalin hasilnya kepada Anda atau mengirim tangkapan layar.  Ini sepanjang waktu. <br><br>  Jauh lebih mudah untuk terhubung dan melihat secara langsung, menguji beberapa hipotesis Anda dan bertindak lebih jauh darinya. <br><br>  <b>- Apakah Anda memiliki contoh aktif di mana Kubernetes sudah digunakan dan Postgres tinggal di dalamnya?</b> <br><br>  <b>Alexei:</b> Sayangnya, saya tidak.  Tapi saya sangat ingin.  Saya sangat suka Kubernetes, saya dekat dengan konsep dan filosofinya. <br><br><blockquote>  Menurut pendapat saya, Kubernetes adalah hal yang mendorong orang untuk lebih banyak memprogram, membuat lebih banyak produk, tanpa memikirkan hal-hal sampingan seperti struktur internal infrastruktur. </blockquote><br>  Peran serupa digunakan untuk dimainkan oleh OOP.  Tampaknya, dan banyak orang menjadi tertarik pada bidang ini, karena pemrograman menjadi agak lebih mudah.  Kubernetes juga menutup banyak hal pada dirinya sendiri, menyembunyikannya di bawah tenda dan memungkinkan seseorang untuk lebih fokus pada aspek kreatif dan program. <br><br>  Kubernet mengimplementasikan dukungan untuk instance, perapian, dan aplikasi berfungsi.  Jika tiba-tiba crash - yah, Kubernetes akan meluncurkannya lagi.  Yaitu  pengembang dan administrator bebas dari sakit kepala dan pelacakan konstan.  Saya suka respons ini terhadap situasi.  Ketika sesuatu jatuh, itu restart secara otomatis. <br><br>   , ,       .      â€”    ,       ,   .       . <br><br> <b>â€“ ,     ?</b> <br><br> <b>:</b>   ,   .  ,     .     -   ,        .     ,  ,     Kubernetes.   Kubernetes .   CNCF      . ,   . <br><br>        â€“      - kubernetes_ru.      github,        Kubernetes:      .    Postgres,    . <br><br> , , ,  .  , Kubernetes â€“    ,   .    -     IT. <br><br> <b>â€“      ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Amazon Aurora PostgreSQL Serverless</a> ?    ,    ,         .         ,  . ..      .</b> <br><br> <b>:</b> <br><blockquote>    .      . </blockquote><br> ,     .     ,  ,           .      :   ,    .    ,       - .    . <br><br> <b>â€“     .                    .       ,   ,    .</b> <br><br> <b>:</b>    .  ,     .  ,      , â€“     .    ,  ,      ,           ,      . <br><br><blockquote>  Yaitu  .     â€“  ,  ,   70% .         .      . <br><br>   ,  ,   Â« Â»,      . </blockquote><br> <b>â€“   .    ,   ,  DBA    : -    ,  - â€”  , ?</b> <br><br> <b>:</b>  , ,   , â€“    DBA,  SQL-developer.     Oracle   SQL-developer,      ,  ,   ,    .    ,     Oracle.          .   DBA     ,   - . <br><br> DBA â€”  -  Â«Â» ,        . <br><br>      Kubernetes.      ,     .        .     ,    Kubernetes    .       ,           volume   .  Yaitu     ,    .         ,    . <br><br> <b>â€“    ?</b> <br><br> <b>:</b> . <br><blockquote>   ,     . ,  ,       .      ,   Postgres (        ).      Postgres   - .  Yaitu    (,  ),      . </blockquote><br>       ,             . <br><br>         ,   ,      .       .      .             . <br><br> <b>â€“     ?</b> <br><br> <b>:</b>     - . ,    ,    . <br><br> ,     Cassandra.      .  Yaitu      â€”   ,    Kubernetes. <br><br><blockquote>   ,  ,   .   ,  ,      . <br><br>  Yaitu    .  DBA,  ,       â€“     .   ,    ,      -  â€“       . <br></blockquote><br> <b>â€“      ?</b> <br><br> <b>:</b>     . ,    . , ,  ,         Kubernetes .  ,  , ,  ,     - -         Kubernetes (       ). <br><br> <b>:</b>      Kubernetes.      â€“   patroni.    Zalando   Kubernetes.     ,    ,       (     â€“  ,   Amazon   ,    ).   ,          â€“   .    ,  â€“ .   â€“  - Kubernetes. <br><br> <b>â€“       RDS.    EC2   Postgres   .      patroni ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://github.com/zalando/patroni</a> ),      .</b> <br><br> <b>:</b> ,  ,     -  high availability. <br><br> <b>â€“ .   â€”   ,        ?</b> <br><br> <b>:</b>  ,       -  . <br>      Zalando     DBA,   patroni.  Yaitu   ,        Kubernetes     , DBA . <br><br> <b>â€“ .     DBA,   DBA  Â«Â»  Â«Â».</b> <br><br> <b>:</b> ,     .        .   ,   ,    . <br><br> <b>â€“    -  Kubernetes?    ?</b> <br><br> <b>:</b>      -  ,      .   Kubernetes     â€“     ,  .   Kubernetes  -     .                .          DBA.      Kubernetes (,    Kubernetes      ,        ,     ). <br><br>      -   ,       ,     -     -          -. <br><br> <b>:</b>      ( Kubernetes   ),    -   .       ,       â€”      â€”       .     - ,   ,  , , ,  ,         . <br><br> <b>:</b> <br><blockquote>       .    Kubernetes    ,        .     ,    .   . </blockquote><br>      ,      â€”   .    ,     Postgres-    ,    , .     . <br><br> <b>:</b>    â€¦ <br><br> <b>â€“ ..      :    -  â€”   dev environment,   production â€“    Kubernetes.  ...</b> <br><br> <b>:</b>     latency    ,    ,  .      . <br><br> <b>â€“   ,     .    . <br>    ,                <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> HighLoad++</a> .</b> <br><br> <i>PS      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a></i> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id440332/">https://habr.com/ru/post/id440332/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id440322/index.html">Mengapa HDD menjadi lebih kecil kemungkinannya untuk gagal</a></li>
<li><a href="../id440324/index.html">Yayasan baru Linux Foundation - itu akan mengembangkan komputasi tepi</a></li>
<li><a href="../id440326/index.html">Manajemen perubahan pelanggan dengan model ADKAR</a></li>
<li><a href="../id440328/index.html">Probabilitas memenangkan pertandingan dengan probabilitas yang diketahui untuk memenangkan poin II</a></li>
<li><a href="../id440330/index.html">Secara singkat tentang abstraksi</a></li>
<li><a href="../id440334/index.html">Buka webinar "Pengembangan sistem yang sangat dimuat dalam PHP"</a></li>
<li><a href="../id440336/index.html">HTML kami hilang</a></li>
<li><a href="../id440338/index.html">Cara memastikan ketersediaan layanan web di cloud jika terjadi kegagalan pusat data</a></li>
<li><a href="../id440342/index.html">Kode C # Universal untuk NET dan JavaScript</a></li>
<li><a href="../id440344/index.html">InterNyet - bagaimana Internet ditemukan di Uni Soviet dan mengapa itu tidak berhasil</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>