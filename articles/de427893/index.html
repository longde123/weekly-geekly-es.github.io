<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òÇÔ∏è üõåüèΩ üöΩ Bloody Lola auf Omega 2 oder Python an Halloween w√ºrgen ‚òØÔ∏è üíé üìà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich habe diesen Urlaub nie verstanden. Aber die Idee war geboren. Machen Sie eine gruselige Puppe, die mit ihren Augen funkelt und gruselige Ger√§usche...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bloody Lola auf Omega 2 oder Python an Halloween w√ºrgen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427893/"> Ich habe diesen Urlaub nie verstanden.  Aber die Idee war geboren.  Machen Sie eine gruselige Puppe, die mit ihren Augen funkelt und gruselige Ger√§usche macht. <br><br><img src="https://habrastorage.org/webt/v_/j7/ng/v_j7ngyryzuvabfo6rnfi58atsu.gif" alt="Bild" width="400" align="left">  Darunter tauchte ein cooler Kinderkopf auf (danke Anton) und ein Wettbewerb von Onion mit einer Auslosung von Sonderwalen, die ich aus Gewissensgr√ºnden nicht kaufen kann.  Wenn ja, dann habe ich das Gehirn des M√§dchens Lola auf Omega 2 untersucht und dabei meine Best Practices aus dem vorherigen Artikel verwendet. <br><br>  Jeder, der daran interessiert ist, wie man so etwas wiederholt, bitte unter Katze. <br><a name="habracut"></a><br>  Wir ben√∂tigen: zwei LEDs, einen Lautsprecher, ein 12-Volt-Netzteil, einen Bewegungssensor (es werden nur 12 Volt ben√∂tigt), einen 3,3-Volt-Stromrichter, einen 5-Volt-Stromrichter, einen einfachen Verst√§rker (jede Klasse D mit 3-12-Volt-Stromversorgung) und Omega 2. Optional ben√∂tigen Sie entweder ein USB-Flash-Laufwerk oder eine SD-Karte, um den Speicherplatz zu erweitern. <br><br>  Wir √∂ffnen die Puppe und setzen die LEDs in die Augen und den Lautsprecher mit Schmelzkleber in den Mundbereich.  Wir geben die Verkabelung an den Omega 2- <s>Gehirnbereich</s> aus. Wir l√∂ten den Lautsprecher an den Verst√§rker, verbinden die LEDs mit Feldeffekttransistoren ... Im Allgemeinen bauen wir die folgende Schaltung zusammen. <br><br><img src="https://habrastorage.org/webt/kr/cu/oy/krcuoy7-0pdep9pj8wyl99hkou8.jpeg" alt="Bild"><br><br>  Anstelle eines 5-Volt-Wandlers k√∂nnen Sie eine doppelte Stromversorgung f√ºr 5 und 12 Volt verwenden, was n√§her liegt. <br><br>  Fahren Sie als N√§chstes mit dem Software-Setup fort.  Wenn Sie den i2s-Sound verwenden m√∂chten, installieren wir die b193-Firmware auf Omega, da weitere i2s nicht funktionieren.  Wenn nicht, k√∂nnen Sie eine Soundkarte in den USB-Anschluss einstecken und dann den Sound <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">f√ºr diese Anleitung</a> konfigurieren.  Wenn Sie so machen wie ich, dann habe ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> √ºber die Arbeit mit i2s Sound geschrieben.  Wir stellen eine Verbindung zu WLAN her und erh√∂hen den Speicherplatz f√ºr Omega-2-Fetts√§uren. Alles ist im Handbuch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier beschrieben</a> . Danach f√ºhren wir durch <br><br><pre><code class="hljs sql">opkg <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> opkg <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> alsa-utils mpg123 python pyOnionGpio nano</code> </pre> <br>  Jetzt kann unser Omega schon fast sprechen und es bleibt nur noch ein Python-Code f√ºr dieses Gesch√§ft zu schreiben.  Die Logik ist einfach.  Der Bewegungssensor √∂ffnet den Stromkreis zwischen den beiden GPIOs.  Zum einen geben wir beim Einschalten eine logische Einheit ein (ich habe 15 Ausg√§nge), wir lesen den Wert des zweiten (ich verwende 17 Ausg√§nge).  Wenn es 0 gibt (weil der PIR-Sensor die Leitung ausgel√∂st und ge√∂ffnet hat), beginnen wir, schreckliche Ger√§usche abzuspielen und LEDs zu blinken.  Den Rest der Zeit schweigen wir und ber√ºhren niemanden.  Die Implementierung all dessen sieht so aus. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> onionGpio <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> subprocess <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random gpioOut = onionGpio.OnionGpio(<span class="hljs-number"><span class="hljs-number">15</span></span>) gpioOut.setOutputDirection(<span class="hljs-number"><span class="hljs-number">0</span></span>) gpioOut.setValue(<span class="hljs-number"><span class="hljs-number">1</span></span>) gpioObj = onionGpio.OnionGpio(<span class="hljs-number"><span class="hljs-number">17</span></span>) status = gpioObj.setInputDirection() <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-comment"><span class="hljs-comment">#   value = gpioObj.getValue() #   if int(value)==0: cmd = "fast-gpio pwm 18 " + str(random.randint(5,15)) + " 50" subprocess.call(cmd, shell=True) cmd = "fast-gpio pwm 19 " + str(random.randint(2,10)) + " 50" subprocess.call(cmd, stdout=subprocess.PIPE, shell=True) cmd = "mpg123 -f 256 -C /mnt/sda1/" + str(random.randint(1,6)) + ".mp3" subprocess.call(cmd, shell=True) #   else: subprocess.call("fast-gpio set 18 0", shell=True) subprocess.call("fast-gpio set 19 0", shell=True)</span></span></code> </pre><br>  Dateien mit gruseligen Sounds werden zu / mnt / sda1 unter den Namen 1.mp3, 2.mp3 hinzugef√ºgt ... Ich habe 6. und eine davon ist zuf√§llig aktiviert.  Die Frequenz der PWM-Ausg√§nge von Omega 2 wird ebenfalls zuf√§llig getrennt unter dem linken und rechten Auge eingeschaltet.  Es w√§re m√∂glich, Hardware-PWM zu verwenden, aber hier ist die m√∂gliche Frequenzinstabilit√§t ein Plus.  Dann schreiben wir zwei Zeilen in rc.local, indem wir den Befehl <code>nano /etc/rc.local</code> <br><br><pre> <code class="hljs pgsql">omega2-ctrl gpiomux <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> i2s i2s python /mnt/sda1/<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>.py</code> </pre><br>  Da Sie das oben zitierte Skript erraten haben, m√ºssen Sie es im Verzeichnis / mnt / sda1 unter dem Namen <i>start.py speichern</i> . <br><br>  Weiter ist der letzte Schritt.  Das kreativste.  Make-up.  Ich habe gerade meine Frau (Betr√ºgerin) gefragt und sie hat sich cool gemacht.  Vielen Dank! <br><br><img src="https://habrastorage.org/webt/tn/me/zh/tnmezhhstxnqumqhaeey7ni-vlu.jpeg" alt="Bild"><br><br>  Wie das alles mit Ton funktioniert, sehen Sie im Video unten.  Im Dunkeln sieht Lolas "Eater of Male Hearts" ziemlich gruselig aus, um ehrlich zu sein.  Ich hoffe es hat euch gefallen.  Vielen Dank f√ºr Ihre Aufmerksamkeit! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/f-GnMWJSe6k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Und welche schrecklichen hausgemachten Produkte haben Sie gemacht? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de427893/">https://habr.com/ru/post/de427893/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de427877/index.html">Rockstar-Programmiersprache: Wenn der Code wie Rock-Hit-Text aussieht</a></li>
<li><a href="../de427879/index.html">Wie ich von Python zu Julia gewechselt bin (und warum)</a></li>
<li><a href="../de427883/index.html">Einf√ºhrung in Virtualisierung, Container und Kubernetes: 18 Cloud-Ressourcen</a></li>
<li><a href="../de427889/index.html">Falsch, falsch, falsch! Methoden zur DDoS-Minderung</a></li>
<li><a href="../de427891/index.html">Millionen von Menschen k√∂nnen durch Sicherheitsl√ºcken in der Cisco WebEx Conference Platform angegriffen werden</a></li>
<li><a href="../de427895/index.html">Entfernen von Daten aus einer Shardable-Datenbank</a></li>
<li><a href="../de427897/index.html">Analyse eines Magnetresonanztomographen II: Metamaterialien in der MRT</a></li>
<li><a href="../de427899/index.html">JsonWriterSax - eine Bibliothek zum Erstellen von JSON</a></li>
<li><a href="../de427901/index.html">So verwenden Sie die Node.js Stream-API nicht</a></li>
<li><a href="../de427905/index.html">Food Mining oder Crossroads mit den Augen eines Hackers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>