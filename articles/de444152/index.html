<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😗 🦐 🙅🏻 Wiederbelebung eines Testers von Marcus 👊🏾 🧑🏾 👣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der Weihnachtsmann stellte mir einen Tester elektronischer Komponenten unter den Weihnachtsbaum in Form eines chinesischen Klons des Testers Marcus, d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wiederbelebung eines Testers von Marcus</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444152/"> Der Weihnachtsmann stellte mir einen Tester elektronischer Komponenten unter den Weihnachtsbaum in Form eines chinesischen Klons des Testers Marcus, der in engen Kreisen weithin bekannt ist. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5a2/ec5/96c/5a2ec596ca3b2bf0df5a8b1b7de4cc08.jpg" alt="Bild"></div><br>  Es hätte ein Bild von einem Tester geben sollen, der mit einem Bildschirm eingeschaltet war, der freudig mit allen Farben des Regenbogens leuchtete, aber Hände von einer Stelle steckten einen geladenen Kondensator hinein, der Tester schaltete sich freudig ein und sagte: "Oh!"  und weigerte sich zu arbeiten. <br><a name="habracut"></a><br>  Entschuldigung, verdammt.  Versuchen wir zu reparieren. <br><br>  1. Wir gehen auf die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Yandex-Festplatte</a> mit Schemata und Firmware für alle der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Community</a> bekannten Klone.  Zum Glück ist der TS-1-Klon bereits vorhanden. <br><br>  2. Wir untersuchen den Stromkreis und die Platine des Testers und stellen experimentell fest, dass am + 5V-Bus ein Kurzschluss (Kurzschluss) vorliegt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/712/9c8/db5/7129c8db5ebfbbe904e37293094cdab7.jpg" alt="Bild"></div><br>  Wenn sich der Tester beim Anschließen des Kondensators selbst einschaltete, wurde der Bus entweder über die eingebauten Sperrdioden an den Eingängen des Mikrocontrollers oder über die Schutzbaugruppe DZ2 mit Strom versorgt. <br><br>  Wir löten DZ2, die Baugruppe ist am Leben, der Kurzschluss ist vorhanden.  Das Schlimmste ist also, dass der Mikrocontroller durchgebrannt ist. <br><br>  3. Wir bestellen den Atmega644-Mikrocontroller, das TQFP-44-Gehäuse, 2 Stück, falls etwas schief geht. <br><br>  4. Während Atmega aus China anreist, bereiten wir die Werkzeuge vor und suchen den Programmierer. <br><br>  Wir werden brauchen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/06a/eeb/8a7/06aeeb8a7fb262ed0b011ca3092d5821.jpg" alt="Bild"></div><br>  4.1.  Lötstation, ein Satz Spitzen für einen Lötkolben, eine "dritte Hand" mit einer Lupe, eine dünne, dünne Pinzette, ein gutes Flussmittel (chinesisch, aber flüssig, besser als Kolophonium), ein wenig Lötmittel. <br><br>  Programmierer (danke an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Int_13h</a> für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">das</a> Verschenken einer ganzen Schachtel mit verschiedensten): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/946/2df/e24/9462dfe247aaa9ce25d0408341425611.jpg" alt="Bild"></div><br>  4.2.  USBasp ohne Gehäuse für Atmega, mit 10-poligem bis 6-poligem ISP-Adapter. <br><br>  4.3.  USB ISP im Fall für Atmega (Sie werden nie erraten, welches nützlich ist). <br><br>  4.4.  Ein USB / UART 5V-Wandler von einem Mobiltelefon zum Flashen des U4-Leistungsreglers (STC15L104W). <br><br>  Weil  Der Controller liebt 3,3 V, bei der Montage montieren wir einen 5-&gt; 3,3 V-Stabilisator basierend auf dem LM1117: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f99/e63/df7/f99e63df7e2a5939d1175ac5a2745e8e.jpg" alt="Bild"></div><br>  Es stellt sich heraus, dass der Stabilisator ohne Last nicht funktioniert.  Wir hängen einen Widerstand an den Ausgang, zum Beispiel 2,2 kOhm.  Wir installieren genau 3,3 V am Ausgang mit einem Voltmeter und einem Potentiometer. <br><br>  5. Schließlich warteten sie mit Mikrocontrollern auf den Umschlag. <br><br>  6. Wir entfernen den verbrannten Mikrocontroller mit einem Haartrockner, reinigen die Kontaktflächen, schmieren mit Flussmittel und löten einen neuen.  Mit einem dünnen Stich jedes Bein.  Aber zuerst in den Ecken.  Sie sagen, dass es mit einem Haartrockner möglich ist, aber es gibt keine Lötpaste. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b68/156/d0d/b68156d0d0f1108d842f5c8bd9d55475.jpg" alt="Bild"></div><br>  Zum ersten Mal sogar wunderschön. <br><br>  Löten Sie gleichzeitig den Stecker für die In-Circuit-Programmierung.  Wir stellen sicher, dass die Verkabelung für den Adapter 10to6 korrekt ist. Löten Sie den Stecker auf die andere Seite der Platine. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fc1/448/f05/fc1448f05d174508d61f3f041b9122de.jpg" alt="Bild"></div><br>  Und natürlich bieten wir einen Batterieanschluss an.  Das Ergebnis: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c95/6fd/4c0/c956fd4c05c84e32eb2e4917b1329ec2.jpg" alt="Bild"></div><br>  7. Wir bereiten das Flashen des U4-Leistungsreglers vor.  Löten Sie den USB-UART-Konverter mit Stabilisator auf die Platine: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d8/9c1/076/8d89c1076ed671e7554fdba4f62725c2.jpg" alt="Bild"></div><br>  3,3 V bis 3,3 V, Gnd bis Gnd, Tx bis P1, Rx bis P2. <br><br>  8. Wir suchen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf der Website des Herstellers</a> nach Software stc-isp6.86.rar. <br><br>  9. Schließen Sie den Konverter an, warten Sie, bis er vom System erkannt wird, starten Sie die Software, wählen Sie den Com-Port aus, wählen Sie die Firmware aus dem Archiv aus (Punkt 1), stellen Sie die Frequenz auf 12 MHz ein, schalten Sie die Stromversorgung ein, der Prozessor startet, wechselt nicht in den Startmodus, der Programmierer erkennt nicht . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e39/c99/808/e39c99808f38c73c210abb6fcca2b4e4.png" alt="Bild"></div><br>  9.1.  Wir experimentieren mit der Reihenfolge der Stromversorgung des Prozessors und drücken die Tasten „MCU prüfen“ und „Herunterladen / Programmieren“. <br><br>  9.2.  Wir studieren das Datenblatt auf U4 und stellen fest, dass die Testtaste des Testers mit dem Reset-Pin verbunden ist.  Klicken Sie auf "MCU prüfen", klicken Sie auf die Schaltfläche Test, der Mikrocontroller wird zurückgesetzt und erkannt.  Führen Sie auf die gleiche Weise die Firmware aus und flashen Sie schließlich das U4. <br><br>  10. Wir untersuchen die Fülle an Software für die Atmega-Firmware. <br><br>  10.1.  Wir installieren das leistungsstarke und praktische Atmel Studio 6.2 und stellen fest, dass es keine USBasp- und USB ISP-Programmierer unterstützt.  Abreißen. <br><br>  10.2.  Wir suchen nach Avrdude und der grafischen Shell dafür.  Von all der Fülle beschäftigen wir uns mit dem intuitiven Avrdude_prog 3.3, das USBasp versteht, die Firmware * .hex und * .eep versteht und die ausgewählten Sicherungen klar anzeigen kann.  Wir verbinden, laufen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/692/b1a/11d/692b1a11d8382671e34cc274f95c3c74.png" alt="Bild"></div><br>  Oblom-s, der Programmierer hat zu alte Firmware. <br><br>  10.3.  Hier kommt der USB-ISP ins Spiel, dessen Software nicht so benutzerfreundlich ist, aber den Programmierer flashen kann.  Oder vielleicht wird der Tester es flashen?  Leider: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5d1/af8/34d/5d1af834de5bfa36fcf8ab314a4875da.png" alt="Bild"></div><br>  10.4.  Wir suchen nach neuer Firmware auf USBasp, wir verbinden USB ISP und USBasp mit einem Kabel, wir schließen den J1-Jumper auf USBasp und rufen ihn im Programmiermodus auf.  Füllen Sie die Firmware.  Erfolg! <br><br>  10.5.  Inspiriert vom Erfolg versuchen wir auch, USB ISP in USBasp zu flashen.  Wir löten den Jumper gemäß der Methodik auf die Platine, sichern zuerst die Firmware und die Sicherungen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b58/382/143/b583821437b177b18dacb4622ac5e5c0.png" alt="Bild"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc1/cff/8d8/dc1cff8d85587bd329d1b2505a67f762.png" alt="Bild"></div><br>  10.6.  Wir nähen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b01/d69/041/b01d69041aee244899ecce25e52074e6.png" alt="Bild"></div><br>  Löten Sie den Jumper.  Wir verbinden den ehemaligen USB-ISP mit dem Computer und erkennen ihn nicht mit Software.  Vielleicht Verwechslung mit Fusion?  Dann werden wir es herausfinden.  Es tut mir leid!  Aber Sie haben Ihr Ziel erreicht und können sich bisher in Frieden ausruhen. <br><br>  10.7.  Gehe zu 10.2.  Aber jetzt näht unser Programmierer Atmega bereits erfolgreich. <br><br>  11. Wir sind besorgt über den Erfolg der Operation. <br><br>  12. Starten Sie den Tester.  Bingo! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/A1jE6GX5cuA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Es finden Messungen statt, aber es gab auch einige Mängel - der Tester schaltet sich fast sofort nach dem Messvorgang aus, und Sie haben möglicherweise keine Zeit, Messungen vorzunehmen. <br><br>  In der nächsten Serie: Versuche, eine eigene Firmware für den Tester zu erstellen, um den Effekt des sofortigen Herunterfahrens zu beseitigen.  Die Firmware basiert auf den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quellen von Marcus</a> .  Und auch, wie ich versucht habe, konnte mich aber nicht in AVR verlieben. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de444152/">https://habr.com/ru/post/de444152/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de444136/index.html">Integration von AppCenter und GitLab</a></li>
<li><a href="../de444138/index.html">3D-Scanner in der Automobilindustrie: 4 Vorteile und 4 erfolgreiche Projekte</a></li>
<li><a href="../de444142/index.html">Wie kann die Implementierung eines CRM-Systems fehlschlagen?</a></li>
<li><a href="../de444144/index.html">XXH3: ein neuer Hash-Geschwindigkeitsrekordhalter</a></li>
<li><a href="../de444148/index.html">BionicSoftHand - ein sicherer und flexibler Roboterarm für künstliche Intelligenz von Festo</a></li>
<li><a href="../de444154/index.html">Der Versuch, das 7-gegen-9-Spiel zu brechen</a></li>
<li><a href="../de444156/index.html">Ausgewogene Site-Leistung. Teil 4: Externe Optimierung</a></li>
<li><a href="../de444158/index.html">9 sehenswerte Filme des Let IT DOK! Contest</a></li>
<li><a href="../de444160/index.html">[Habr]: Über die "Glasdecke"</a></li>
<li><a href="../de444162/index.html">Snom D120 IP-Telefon Bewertung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>