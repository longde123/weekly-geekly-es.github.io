<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§° ‚ôèÔ∏è üïµüèæ Fallstricke des WSUS Package Publisher üíñ ü§∏ üìÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Informationen zur Bereitstellung von Package Publisher und zu einem Problem, dessen L√∂sung ich im Internet nicht finden konnte 
 Die Signatur f√ºr die ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fallstricke des WSUS Package Publisher</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456470/">  Informationen zur Bereitstellung von Package Publisher und zu einem Problem, dessen L√∂sung ich im Internet nicht finden konnte <br><blockquote>  Die Signatur f√ºr die Datei \\ [Servername] \ UpdateServicesPackages \ AppName_abf10b91-bfa6-44ff-aa54-099e4bf1487d \ a7f3d4b2-02b6-4f0c-ab9b-e38c8de9c3f0_1.cab kann nicht √ºberpr√ºft werden </blockquote><blockquote>  √úberpr√ºfung der Dateisignatur f√ºr Datei fehlgeschlagen: \\ [Servername] \ UpdateServicesPackages \ AppName_abf10b91-bfa6-44ff-aa54-099e4bf1487d \ a7f3d4b2-02b6-4f0c-ab9b-e38c8de9c3f0_1.cab </blockquote><a name="habracut"></a><br>  Irgendwie haben sie mir die Aufgabe gestellt, einen Update-Server in unserem kleinen Grid f√ºr 1000 Computer bereitzustellen.  Im Allgemeinen ist die Verwaltung nicht meine Hauptaufgabe, und in den letzten zwei Jahren habe ich nur an sehr gro√üen Feiertagen Fenster in meinen Augen gesehen.  Aber der geliebte IT-Service sagte: "Sie brauchen es f√ºr die Sicherheitskr√§fte, also tun Sie es." <br><br>  Nachdem ich meinen Willen zur Faust geballt hatte, las ich die WSUS-Bereitstellungshandb√ºcher.  Und wenn alles einfach und klar ist und alle Probleme, die auftreten k√∂nnten, bereits von jemandem angetroffen und lange in den Foren beschrieben wurden, stellten sich bei Package Publisher viele Fragen. <br><br>  Warum wurde er √ºberhaupt gebraucht?  Weil nicht nur das Microsoft-System und die Anwendungen, sondern auch die von Drittanbietern, insbesondere Firefox, zentral aktualisiert werden mussten.  Und nur auf den Maschinen, auf denen es bereits installiert ist.  (Als Alternative wurde auch LUP in Betracht gezogen, die Funktionalit√§t ist ungef√§hr gleich, aber freundliche Leute in den Foren sagten, dass es nicht mehr unterst√ºtzt wird und sich viel schwieriger in WinServ2016 integrieren l√§sst.) <br><br>  WSUS wurde also bereitgestellt.  Warum Sie Windows lieben sollten, ist "Weiter -&gt; Weiter -&gt; Fertig, Sie sind entz√ºckend."  Es ist Zeit f√ºr Package Publisher.  Alle Links, die grunds√§tzlich im Internet zu ihm f√ºhren, f√ºhren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hierher</a> .  Es gibt auch einen Link zu git, der den Installationsprozess ausf√ºhrlich beschreibt.  N√§mlich: Laden Sie das Archiv herunter, entpacken Sie es und f√ºhren Sie "Wsus Package Publisher.exe" aus. <br><br>  In Linukha habe ich mich daran gew√∂hnt, Repositories in Github zu klonen.  Aber f√ºr das, was Sie Windows nicht lieben sollten, funktioniert dort nicht alles.  Wenn Sie das Repository herunterladen, indem Sie einfach auf die gr√ºne Schaltfl√§che klicken, befindet sich, Horror, keine EXE-Datei im Archiv.  Im Ernst, ich habe 20 Minuten lang versucht herauszufinden, was der Fang war und wo ich ihn verloren habe.  Es stellte sich heraus, dass Sie nur eine bestimmte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Version</a> herunterladen m√ºssen. <br><br>  Installation zufrieden, oder eher seine Abwesenheit.  Der EXE-shnik wird ohne Installation gestartet, findet WSUS (auf demselben Computer bereitgestellt) und zeigt bei Verbindung eine Meldung √ºber das Fehlen eines Zertifikats und die Unf√§higkeit, Updates zu ver√∂ffentlichen. <br><br>  Es ist logisch anzunehmen, dass der n√§chste Schritt darin besteht, das WSUS Package Publisher-Zertifikat (Tools -&gt; Zertifikat) einzugeben.  Sie k√∂nnen eine selbstsignierte erstellen.  Aber das wollte ich wirklich nicht.  Dar√ºber hinaus hat ein Kollege k√ºrzlich einen lokalen Zertifizierungsserver bereitgestellt.  Interessanterweise wird die Schaltfl√§che zum Herunterladen von Zertifikaten erst <b>nach Eingabe einer Passphrase aktiv</b> .  "Schlie√üen."  Nachdem ich in der mmc-Konsole √ºberpr√ºft hatte, dass sich das von mir ben√∂tigte Zertifikat im Container ‚ÄûWSUS‚Äú befand, und alle mit ‚Äûvertrauensw√ºrdigen Herausgebern‚Äú und ‚Äûvertrauensw√ºrdigen Stammzertifizierungsstellen‚Äú verbundenen Zertifikate, hoffte ich aufrichtig, dass ich mich nach dem Neustart von WSUS freuen w√ºrde.  Ja! <br><br>  Beim Erstellen eines Updates (Informationen dazu finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> f√ºr Firefox) ist der letzte Schritt ein Fehler: ‚ÄûDie √úberpr√ºfung der Dateisignatur f√ºr die Datei ist fehlgeschlagen: <br>  \\ [Servername] \ UpdateServicesPackages \ AppName_abf10b91-bfa6-44ff-aa54-099e4bf1487d \ a7f3d4b2-02b6-4f0c-ab9b-e38c8de9c3f0_1.cab "(Signatur f√ºr die Datei kann nicht √ºberpr√ºft werden ...).  Laut Google reicht der Grund daf√ºr aus, dass das Zertifikat im Container "Vertrauensw√ºrdige Stammzertifizierungsstellen" nicht ausreicht.  Aber er war da!  Und nicht nur er!  Wo ich es einfach nicht versucht habe.  Ohne Erfolg. <br><br>  Nach anderthalb Stunden erfolgloser Versuche gab ich auf und beschloss, das selbstsignierte WPP-Zertifikat weiterhin zu verwenden.  Glauben Sie nicht, was ich gesehen habe, als ich zur mmc-Konsole ging. <br><br><img src="https://b.radikal.ru/b43/1906/69/1513e63e625b.png" alt="Bild"><br>  <i>Zum Signieren des Codes wird ein spezielles Zertifikat generiert.</i> <br><br>  Das hei√üt, das Zertifikat <b>muss speziell zum Signieren des Codes generiert werden</b> .  Noch wichtiger ist, dass der <b>private Schl√ºssel exportierbar sein muss</b> !  Und dann ist es eine technische Angelegenheit, mithilfe des Gruppenrichtlinienobjekts die Zertifikatskette auf den Netzwerkcomputern zu verteilen (hier bereits ohne privaten Schl√ºssel), und Sie k√∂nnen alle Anwendungen zentral installieren und aktualisieren. <br><br>  Wenn Sie also eine <b>√úberpr√ºfung der Dateisignatur</b> erhalten, die aufgrund eines <b>Dateifehlers</b> oder eines √§hnlichen <b>Ereignisses fehlgeschlagen ist</b> : <br><br><ol><li>  Wir generieren ein Zertifikat f√ºr unseren WSUS, in dem Package Publisher bei der lokalen Code Signing Certificate Authority installiert ist.  Der private Schl√ºssel muss exportierbar sein. </li><li>  Wir exportieren das Zertifikat mit dem privaten Schl√ºssel und f√ºgen es nach Eingabe des geheimen Schl√ºssels dem Package Publisher hinzu.  WSUS neu starten. </li><li>  Wir exportieren ohne privaten Schl√ºssel und verteilen auf Client-Maschinen. </li><li>  Wir aktualisieren und installieren jede Anwendung zentral und genie√üen das Leben. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de456470/">https://habr.com/ru/post/de456470/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de456448/index.html">Regeln f√ºr die Auswahl eines JS-Frameworks</a></li>
<li><a href="../de456450/index.html">DO-RA.Avia zur √úberwachung der kosmischen Strahlung in der Luftfahrt</a></li>
<li><a href="../de456452/index.html">C ++ - Codebeispiele vor und nach Bereichen</a></li>
<li><a href="../de456462/index.html">Zusammenstellen einer Bibliothek von Winkelkomponenten als Webkomponenten</a></li>
<li><a href="../de456466/index.html">PHP-Generika heute (na ja, fast)</a></li>
<li><a href="../de456472/index.html">Einf√ºhrung in Go und das Mggo Framework</a></li>
<li><a href="../de456474/index.html">Tic Tac Toe Teil 0: Vergleich von Svelte und React</a></li>
<li><a href="../de456476/index.html">√Ñnderungen am Bluetooth-Stack zur Verbesserung der Audioqualit√§t von Kopfh√∂rern ohne AAC-, aptX- oder LDAC-Codecs</a></li>
<li><a href="../de456482/index.html">Fang mich, wenn du kannst. K√∂nig Version</a></li>
<li><a href="../de456486/index.html">Schnittstelle und Auswahl (2014)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>