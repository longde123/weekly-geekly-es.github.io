<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¶üèæ üëâüèæ ‚òîÔ∏è Rapport de situation automne Haxe ‚õé üë§ üçÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le 26 octobre, Linz am Rhein (Allemagne) a accueilli la mini-conf√©rence HaxeUp Sessions 2019 consacr√©e √† Haxe et aux technologies connexes. Et son √©v√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rapport de situation automne Haxe</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474452/"><p>  Le 26 octobre, Linz am Rhein (Allemagne) a accueilli <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la mini-conf√©rence HaxeUp Sessions 2019</a> consacr√©e √† Haxe et aux technologies connexes.  Et son √©v√©nement le plus important a √©t√©, bien s√ªr, la version finale de Haxe 4.0.0 (au moment de la publication, c'est-√†-dire apr√®s environ une semaine, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mise √† jour 4.0.1 a √©t√© publi√©e</a> ).  Dans cet article, je voudrais vous pr√©senter une traduction du premier rapport de la conf√©rence - un rapport sur le travail effectu√© par l'√©quipe Haxe pour 2019. </p><br><p><img src="https://habrastorage.org/webt/hk/ik/sp/hkiksp6o31il9tcdxjjlm6xnmve.png" alt="image"></p><a name="habracut"></a><br><p>  Un peu sur l'auteur du rapport: </p><br><p>  Simon travaille avec Haxe depuis 2010, alors qu'il √©tait encore √©tudiant et a √©crit un travail sur les simulations de fluides en Flash.  La mise en ≈ìuvre d'une telle simulation a n√©cessit√© un acc√®s constant aux donn√©es d√©crivant l'√©tat des particules (√† chaque √©tape, plus de 100 requ√™tes ont √©t√© effectu√©es sur des tableaux de donn√©es sur l'√©tat de chaque cellule de la simulation), alors que travailler avec des tableaux dans ActionScript 3 n'est pas si rapide.  Par cons√©quent, l'impl√©mentation initiale √©tait tout simplement inop√©rante et devait trouver une solution √† ce probl√®me.  Dans sa recherche, Simon est tomb√© sur un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article de Nicolas Kannass</a> (cr√©ateur de Haxe) sur les opcodes d'alchimie alors non document√©s qui n'√©taient pas disponibles en utilisant ActionScript, mais Haxe a autoris√© leur utilisation.  R√©√©crivant la simulation sur Haxe en utilisant des opcodes, Simon a obtenu une simulation de travail!  Et donc, gr√¢ce aux tableaux lents en ActionScript, Simon a d√©couvert Haxe. </p><br><p>  Depuis 2011, Simon a rejoint le d√©veloppement de Haxe, il a commenc√© √† √©tudier OCaml (sur lequel le compilateur est √©crit) et √† apporter diverses corrections au compilateur. </p><br><p>  Et depuis 2012, il est devenu le principal d√©veloppeur de compilateurs.  La m√™me ann√©e, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fondation Haxe a</a> √©t√© cr√©√©e (une organisation dont les principaux objectifs sont le d√©veloppement et la maintenance de l'√©cosyst√®me Haxe, aider la communaut√© √† organiser des conf√©rences, des services de conseil), et Simon est devenu l'un de ses co-fondateurs. </p><br><p><img src="https://habrastorage.org/webt/ic/n2/-z/icn2-zvorldkegboovusqzxfdbo.png" alt="image"></p><br><p>  En 2014-2015, Simon a invit√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jos√©phine Pertosa</a> √† la Fondation Haxe, qui au fil du temps est devenue responsable de l'organisation de conf√©rences et des relations communautaires. </p><br><p>  En 2016, Simon a fait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sa</a> premi√®re <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pr√©sentation sur Haxe</a> , et en 2018 a organis√© les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premi√®res sessions HaxeUp</a> . </p><br><p><img src="https://habrastorage.org/webt/ii/3p/vq/ii3pvqd1f88pj3toyvcaxjcmjr8.png" alt="image"></p><br><p>  Alors, que s'est-il pass√© dans le monde d'Haxe au cours de la derni√®re ann√©e 2019? </p><br><p>  En f√©vrier et mars, 2 candidats √† la lib√©ration sont sortis (4.0.0-rc1 et 4.0.0-rc2) <br>  En avril, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Aurel Bili</a> (en tant que stagiaire) et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Alexander Kuzmenko</a> (en tant que d√©veloppeur de compilateurs) ont rejoint l'√©quipe de la Fondation Haxe. </p><br><p>  En mai, le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sommet am√©ricain Haxe 2019 s'est tenu</a> . <br>  En juin, Haxe 4.0.0-rc3 est sorti.  Et en septembre - Haxe 4.0.0-rc4 et Haxe 4.0.0-rc5. </p><br><p><img src="https://habrastorage.org/webt/bg/cz/di/bgczdidj4imp0y_rteusgqy-dwq.png" alt="image"></p><br><p>  Haxe n'est pas seulement un compilateur, mais aussi un ensemble complet d'outils divers, et tout au long de l'ann√©e, un travail sur eux a √©galement √©t√© constamment effectu√©: <br>  Gr√¢ce aux efforts d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Andy Lee,</a> Haxe utilise d√©sormais Azure Pipelines au lieu de Travis CI et AppVeyor.  Cela signifie que l'assemblage et les tests automatis√©s sont d√©sormais beaucoup plus rapides. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Hugh Sanderson</a> continue de travailler sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">hxcpp</a> (une biblioth√®que pour prendre en charge C ++ dans Haxe). <br>  Soudain, les utilisateurs de Github <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">terurou</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">takashiski ont</a> rejoint le travail sur les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">externes pour</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Node.js.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rudy Ges a</a> travaill√© sur des correctifs et des am√©liorations pour prendre en charge la cible C #. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">George Corney</a> continue de prendre en charge le g√©n√©rateur externe HTML. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jens Fisher</a> travaille sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vshaxe</a> (une extension pour VS Code pour travailler avec Haxe) et sur de nombreux autres projets li√©s √† Haxe. </p><br><p><img src="https://habrastorage.org/webt/4c/n-/vr/4cn-vrhfusi6b6adnvyldgpyd7y.png" alt="image"></p><br><p>  Et le principal √©v√©nement de l'ann√©e, bien s√ªr, a √©t√© la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sortie tant attendue de Haxe 4.0.0</a> (ainsi que de neko 2.3.0), qui a accidentellement co√Øncid√© avec le HaxeUp 2019 Linz :) </p><br><p><img src="https://habrastorage.org/webt/z6/n5/w0/z6n5w0pvjr4oecito4cd4w0ge_i.png" alt="image"></p><br><p>  Simon a consacr√© l'essentiel du rapport aux nouvelles fonctionnalit√©s de Haxe 4.0.0 (vous pouvez √©galement en apprendre davantage √† leur sujet dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapport d'Alexander Kuzmenko</a> du dernier sommet am√©ricain de Haxe 2019). </p><br><p><img src="https://habrastorage.org/webt/mn/-z/u2/mn-zu2pk84sti-8ztm8hvhmvizm.png" alt="image"></p><br><p>  Le nouvel interpr√©teur de macro eval est plusieurs fois plus rapide que l'ancien.  Simon a parl√© de lui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en</a> d√©tail <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans son discours au sommet de Haxe UE 2017</a> .  Mais depuis lors, il a am√©lior√© les capacit√©s de d√©bogage du code, corrig√© de nombreux bugs, repens√© l'impl√©mentation des cha√Ænes. </p><br><p><img src="https://habrastorage.org/webt/d_/j3/uq/d_j3uqwvxpukog8q9pgp9prafrw.png" alt="image"></p><br><p> Haxe 4 introduit le support Unicode pour toutes les plateformes (sauf Neko).  Simon l‚Äôa d√©crit en d√©tail dans son <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">discours de l‚Äôann√©e derni√®re</a> .  Pour l'utilisateur final du compilateur, cela signifie que l'expression <code>"Haxe„ÅØÊúÄÈ´ò„Å†„ÅûÔºÅ".length</code> de toutes les plates-formes renverra toujours <code>10</code> (encore une fois, sauf pour Neko). </p><br><p>  L'encodage UCS-2 est peu pris en charge (un encodage nativement pris en charge est utilis√© pour chaque plate-forme / langue; essayer de prendre en charge le m√™me encodage partout ne serait pas pratique): </p><br><ul><li>  JavaScript, Flash, HashLink et C ++ utilisent le codage UCS-2 </li><li>  pour eval, PHP, lua - UTF-8 </li><li>  pour Java et C # - UTF-16 </li><li>  pour Python - UTF-32 </li></ul><br><p>  Tous les caract√®res qui se trouvent en dehors du plan multilingue principal (y compris les emoji) sont repr√©sent√©s comme des ¬´paires de substitution¬ª - ces caract√®res sont repr√©sent√©s par deux octets.  Par exemple, si en Java / C # / JavaScript (c'est-√†-dire pour les cha√Ænes dans les encodages UTF-16 et UCS-2) pour demander la longueur d'une cha√Æne compos√©e d'un emoji, le r√©sultat sera ¬´2¬ª.  Ce fait doit √™tre pris en compte lorsque vous travaillez avec de telles cha√Ænes sur ces plateformes. </p><br><p>  Haxe 4 introduit un nouveau type d'it√©rateur - valeur-cl√©: </p><br><p><img src="https://habrastorage.org/webt/h5/8l/1f/h58l1f46pistrquuipoopbqybeq.png" alt="image"></p><br><p>  Il fonctionne avec des conteneurs de type <code>Map</code> (dictionnaires) et des cha√Ænes (en utilisant la classe StringTools), la prise en charge des tableaux n'a pas encore √©t√© impl√©ment√©e.  Il est √©galement possible d'impl√©menter un tel it√©rateur pour les classes personnalis√©es, pour cela il suffit d'impl√©menter la m√©thode <code>keyValueIterator():KeyValueIterator&lt;K, V&gt;</code> pour elles <code>keyValueIterator():KeyValueIterator&lt;K, V&gt;</code> . </p><br><p>  La nouvelle balise meta <code>@:using</code> vous permet d'associer des extensions statiques √† des types √† l'endroit de leur d√©claration. </p><br><p>  Dans l'exemple ci-dessous, l'√©num√©ration <code>MyOption</code> associ√©e √† <code>MyOptionTools</code> , nous d√©veloppons donc statiquement cette √©num√©ration (ce qui est impossible dans la situation habituelle) et obtenons l'opportunit√© d'appeler la m√©thode <code>get()</code> , en y faisant r√©f√©rence en tant que m√©thode objet. </p><br><p><img src="https://habrastorage.org/webt/ol/i7/in/oli7inyhluzdfnval9ohazjh-lg.png" alt="image"></p><br><p>  Dans cet exemple, la m√©thode <code>get()</code> est en ligne, ce qui permet √©galement au compilateur d'optimiser davantage le code: au lieu d'appeler la <code>MyOptionTools.get(myOption)</code> , le compilateur remplacera la valeur stock√©e, c'est-√†-dire <code>12</code> . </p><br><p>  Si la m√©thode n'est pas d√©clar√©e int√©grable, un autre outil d'optimisation √† la disposition du programmeur consiste √† int√©grer les fonctions √† l'endroit de leur appel (inlining du site d'appel).  Pour ce faire, lors de l'appel de la fonction, vous devez √©galement utiliser le <code>inline</code> : </p><br><p><img src="https://habrastorage.org/webt/4p/bb/xp/4pbbxpcwmgfbabo5dih7lpqdmm0.png" alt="image"></p><br><p>  Gr√¢ce au travail de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Daniil Korostelev</a> , Haxe a d√©sormais la possibilit√© de g√©n√©rer des classes ES6 pour JavaScript.  Il vous suffit d'ajouter le drapeau de compilation <code>-D js-es=6</code> . </p><br><p>  Actuellement, le compilateur g√©n√®re un fichier js pour l'ensemble du projet (il peut √™tre possible √† l'avenir de g√©n√©rer des fichiers js distincts pour chacune des classes, mais jusqu'√† pr√©sent, cela ne peut √™tre fait qu'√† l'aide d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">outils suppl√©mentaires</a> ). </p><br><p><img src="https://habrastorage.org/webt/md/mk/no/mdmknohyzhrkyftm1frzusodoi4.png" alt="image"></p><br><p>  Pour les √©num√©rations abstraites, les valeurs sont d√©sormais g√©n√©r√©es automatiquement. </p><br><p>  Dans Haxe 3, il √©tait n√©cessaire de d√©finir manuellement des valeurs pour chaque constructeur.  Dans Haxe 4, les √©num√©rations abstraites cr√©√©es au-dessus d' <code>Int</code> se comportent selon les m√™mes r√®gles que dans C. Les √©num√©rations abstraites cr√©√©es au-dessus des cha√Ænes se comportent de la m√™me mani√®re - pour elles, les valeurs g√©n√©r√©es co√Øncideront avec les noms des constructeurs. </p><br><p><img src="https://habrastorage.org/webt/mu/gr/uj/mugrujzah5vmzrw-vcgyjzw42ju.png" alt="image"></p><br><p>  Quelques am√©liorations de syntaxe m√©ritent √©galement d'√™tre mentionn√©es: </p><br><ul><li>  les √©num√©rations abstraites et les fonctions externes sont devenues des membres √† part enti√®re de Haxe et maintenant vous n'avez plus besoin d'utiliser les balises META <code>@:enum</code> et <code>@:extern</code> pour les d√©clarer </li><li>  4th Haxe utilise un nouveau type de syntaxe d'intersection qui refl√®te mieux l'essence des structures en expansion.  De telles constructions sont plus utiles lors de la d√©claration de structures de donn√©es: l'expression <code>typedef T = A &amp; B</code> signifie que la structure <code>T</code> a tous les champs qui sont dans les types <code>A</code> et <code>B</code> </li><li>  de m√™me, les quatre d√©clarent des contraintes de param√®tres de type: l'entr√©e <code>&lt;T:A &amp; B&gt;</code> indique que le type de param√®tre <code>T</code> doit √™tre √† la fois <code>A</code> et <code>B</code> </li><li>  l'ancienne syntaxe fonctionnera (√† l'exception de la syntaxe pour les restrictions de type, car elle entrera en conflit avec la nouvelle syntaxe pour d√©crire les types de fonction) </li></ul><br><p><img src="https://habrastorage.org/webt/ju/gt/yu/jugtyumi4hrt7fvt7ridshgzt5a.png" alt="image"></p><br><p>  La nouvelle syntaxe pour d√©crire les types de fonction (syntaxe de type de fonction) est plus logique: l'utilisation de parenth√®ses autour des types d'arguments de fonction est visuellement plus facile √† lire.  De plus, la nouvelle syntaxe vous permet de d√©finir des noms d'arguments, qui peuvent √™tre utilis√©s dans le cadre de la documentation du code (bien que cela n'affecte pas le typage lui-m√™me). </p><br><p><img src="https://habrastorage.org/webt/1v/yu/y5/1vyuy5q4ayqlbteqmq3ugx9lzba.png" alt="image"></p><br><p>  Dans ce cas, l'ancienne syntaxe continue d'√™tre prise en charge et n'est pas d√©conseill√©e, car  sinon, il faudrait trop de changements dans le code existant (Simon lui-m√™me se retrouve constamment par habitude et continue d'utiliser l'ancienne syntaxe). </p><br><p>  Haxe 4 a enfin des fonctions fl√©ch√©es (ou expressions lambda)! </p><br><p><img src="https://habrastorage.org/webt/vh/49/oo/vh49oomjlu8y1o1t5cs-jmzv7nm.png" alt="image"></p><br><p>  Les fonctions des fl√®ches dans Haxe sont les suivantes: </p><br><ul><li>  <code>return</code> implicite.  Si le corps de la fonction se compose d'une expression, cette fonction renvoie implicitement la valeur de cette expression </li><li>  il est possible de d√©finir les types d'arguments de fonction, car  le compilateur ne peut pas toujours d√©terminer le type requis (par exemple <code>Float</code> ou <code>Int</code> ) </li><li>  si le corps de la fonction se compose de plusieurs expressions, vous devez l'entourer d'accolades </li><li>  mais il n'y a aucun moyen de d√©finir explicitement le type de retour de la fonction </li></ul><br><p>  En g√©n√©ral, la syntaxe des fonctions fl√©ch√©es est tr√®s similaire √† celle utilis√©e dans Java 8 (bien qu'elle fonctionne quelque peu diff√©remment). </p><br><p>  Et puisque nous avons mentionn√© Java, il faut dire que dans Haxe 4, il est devenu possible de g√©n√©rer directement du bytecode JVM.  Pour ce faire, lors de la compilation d'un projet sous Java, ajoutez simplement l'indicateur <code>-D jvm</code> . </p><br><p>  La g√©n√©ration d'un bytecode JVM signifie qu'il n'est pas n√©cessaire d'utiliser un compilateur Java et que le processus de compilation est beaucoup plus rapide. </p><br><p><img src="https://habrastorage.org/webt/ut/bc/mw/utbcmwnuwk1ade_vqrztz5rzhjk.png" alt="image"></p><br><p>  Jusqu'√† pr√©sent, la cible JVM a un statut exp√©rimental pour les raisons suivantes: </p><br><ul><li>  dans certains cas, le bytecode est l√©g√®rement plus lent que le r√©sultat de la traduction de Haxe en Java puis de la compilation avec javac.  Mais l'√©quipe du compilateur est consciente du probl√®me et sait comment le r√©soudre, cela n√©cessite juste un travail suppl√©mentaire. </li><li>  il y a des probl√®mes avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MethodHandle</a> sur Android, qui n√©cessite √©galement un travail suppl√©mentaire (Simon sera heureux s'il est aid√© √† r√©soudre ces probl√®mes). </li></ul><br><p><img src="https://habrastorage.org/webt/yo/ho/r5/yohor5rg8cydts1horbcezmqqf0.png" alt="image"></p><br><p>  Une comparaison g√©n√©rale de la g√©n√©ration directe de bytecode (genjvm) et de la compilation de Haxe en code Java, qui est ensuite compil√© en bytecode (genjava): </p><br><ul><li>  comme d√©j√† mentionn√©, en termes de vitesse de compilation, genjvm est plus rapide que genjava <br>  en termes de vitesse d'ex√©cution, le bytecode genjvm est toujours inf√©rieur √† genjava </li><li>  il y a des probl√®mes lors de l'utilisation des param√®tres de type et de genjava </li><li>  genJvm utilise MethodHandle pour faire r√©f√©rence aux fonctions, et genjava utilise les soi-disant ¬´fonctions Waneck¬ª (en l'honneur de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kaui Vanek</a> , gr√¢ce auxquelles Java et le support C # sont apparus dans Haxe).  Bien que le code obtenu √† l'aide des fonctions Waneck ne soit pas beau, il fonctionne et fonctionne assez rapidement. </li></ul><br><p>  Conseils g√©n√©raux pour travailler avec Java dans Haxe: </p><br><ul><li>  En raison du fait que le garbage collector en Java est rapide, les probl√®mes qui lui sont associ√©s sont rares.  Bien s√ªr, la cr√©ation constante de nouveaux objets n'est pas une bonne id√©e, mais Java g√®re bien la gestion de la m√©moire et la n√©cessit√© de prendre constamment en charge les allocations n'est pas aussi aigu√´ que sur certaines autres plates-formes prises en charge par Haxe (par exemple, dans HashLink) </li><li>  acc√©der aux champs d'une classe dans une cible jvm peut fonctionner tr√®s lentement dans le cas o√π cela se fait via une structure ( <code>typedef</code> ) - alors que le compilateur ne peut pas optimiser un tel code </li><li>  une utilisation excessive du mot cl√© en <code>inline</code> doit √™tre √©vit√©e - le compilateur JIT fait un tr√®s bon travail </li><li>  √âvitez d'utiliser <code>Null&lt;T&gt;</code> , en particulier lorsque vous traitez des calculs math√©matiques complexes.  Sinon, de nombreuses instructions conditionnelles appara√Ætront dans le code g√©n√©r√©, ce qui affectera n√©gativement la vitesse de votre code. </li></ul><br><p>  La nouvelle fonctionnalit√© Haxe 4, la s√©curit√© Null, peut aider √† √©viter d'utiliser <code>Null&lt;T&gt;</code> .  Alexander Kuzmenko a parl√© d'elle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en</a> d√©tail <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lors du HaxeUp de l'ann√©e derni√®re</a> . </p><br><p><img src="https://habrastorage.org/webt/wx/hk/vk/wxhkvkjk-aq9pjo4mlp6l9hxrzi.png" alt="image"></p><br><p>  Dans l'exemple de la diapositive ci-dessus, la m√©thode static <code>safe()</code> a le mode Strict pour v√©rifier la s√©curit√© Null activ√©, et cette m√©thode a un param√®tre optionnel <code>arg</code> , qui peut avoir une valeur nulle.  Pour que cette fonction soit compil√©e avec succ√®s, le programmeur devra ajouter une v√©rification de la valeur de l'argument <code>arg</code> (sinon, le compilateur affichera un message sur l'impossibilit√© d'appeler la <code>charAt()</code> sur un objet potentiellement nul). </p><br><p><img src="https://habrastorage.org/webt/sd/mq/md/sdmqmdmuv3lauh3wopzzblnxm8k.png" alt="image"></p><br><p>  La s√©curit√© nulle peut √™tre configur√©e √† la fois au niveau du package (√† l'aide d'une macro) et des types et champs individuels d'objets (√† l'aide de la balise <code>@:nullSafety</code> ). </p><br><p>  Les modes dans lesquels les contr√¥les de s√©curit√© Null fonctionnent sont: Strict, Loose et Off.  Globalement, ces v√©rifications sont d√©sactiv√©es (hors mode).  Lorsqu'ils sont activ√©s, le mode Loose est utilis√© par d√©faut (sauf si vous sp√©cifiez explicitement le mode).  La principale diff√©rence entre les modes Loose et Strict est que le mode Loose ignore la possibilit√© de modifier les valeurs entre les op√©rations d'acc√®s √† ces valeurs.  Dans l'exemple de la diapositive ci-dessous, nous voyons qu'une v√©rification <code>null</code> a √©t√© ajout√©e pour la variable <code>x</code> .  Cependant, en mode Strict, ce code ne compile pas, car  avant de travailler directement avec la variable <code>x</code> , la m√©thode <code>sideEffect()</code> est <code>sideEffect()</code> , ce qui peut potentiellement annuler la valeur de cette variable, vous devrez donc ajouter une autre v√©rification ou copier la valeur de la variable dans une variable locale, avec laquelle nous continuerons de travailler. </p><br><p><img src="https://habrastorage.org/webt/m6/sq/6w/m6sq6w1wgue4r9fiylnchvfaxk4.png" alt="image"></p><br><p>  Haxe 4 introduit un nouveau mot-cl√© <code>final</code> , qui a une signification diff√©rente selon le contexte: </p><br><ul><li>  si vous l'utilisez √† la place du mot cl√© <code>var</code> , le champ d√©clar√© de cette mani√®re ne peut pas recevoir de nouvelle valeur.  Vous ne pouvez le d√©finir directement que lors de la d√©claration (pour les champs statiques) ou dans le constructeur (pour les champs non statiques) </li><li>  si vous l'utilisez lors de la d√©claration d'une classe, cela en interdira l'h√©ritage </li><li>  si vous l'utilisez comme modificateur pour acc√©der √† la propri√©t√© d'un objet, cela interdit la red√©finition de getter / setter dans les classes h√©riti√®res. </li></ul><br><p><img src="https://habrastorage.org/webt/fo/je/_6/foje_6ftilhqwsyhnb-zbskf-l8.png" alt="image"></p><br><p>  Th√©oriquement, le compilateur, apr√®s avoir rencontr√© le mot-cl√© <code>final</code> , peut essayer d'optimiser le code, en supposant que la valeur de ce champ ne change pas.  Mais pour l'instant, cette possibilit√© est uniquement envisag√©e et n'est pas impl√©ment√©e dans le compilateur. </p><br><p><img src="https://habrastorage.org/webt/aa/z_/th/aaz_thozjk6apzimnpf15tsfsja.png" alt="image"></p><br><p>  Et un peu sur l'avenir d'Haxe: </p><br><ul><li>  travaille actuellement sur l'API d'E / S asynchrone <br>  Le soutien de Coroutine est pr√©vu, mais jusqu'√† pr√©sent, le travail sur ceux-ci est bloqu√© au stade de la planification.  Peut-√™tre qu'ils appara√Ætront dans Haxe 4.1, et peut-√™tre plus tard. </li><li>  l'optimisation des appels de queue appara√Ætra dans le compilateur </li><li>  et √©ventuellement les <a href="">fonctions disponibles au niveau du module</a> .  Bien que la priorit√© de cette fonctionnalit√© change constamment </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr474452/">https://habr.com/ru/post/fr474452/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr474440/index.html">Difficult√©s √† calculer les revenus des abonnements auto-renouvelables dans les applications iOS</a></li>
<li><a href="../fr474442/index.html">Histoire de l'extension de la vie irlandaise</a></li>
<li><a href="../fr474444/index.html">5 projets de formation plus audacieux pour le d√©veloppeur (Layer, Squoosh, Calculator, Website Crawler, Music Player)</a></li>
<li><a href="../fr474448/index.html">Ce que le cerveau d'un √©tudiant dans le monde informatique est capable de faire</a></li>
<li><a href="../fr474450/index.html">Arr√™tez d'utiliser un TTL ridiculement petit pour DNS</a></li>
<li><a href="../fr474458/index.html">Total cumul√© en SQL</a></li>
<li><a href="../fr474460/index.html">Description des architectures de processeur dans LLVM utilisant TableGen</a></li>
<li><a href="../fr474462/index.html">√ânorme ensemble de donn√©es ouvertes de la version russe du discours 1.0</a></li>
<li><a href="../fr474466/index.html">Histoire du premier Diablo</a></li>
<li><a href="../fr474470/index.html">Attaque DDoS sur les services RDP: reconna√Ætre et surmonter. Exp√©rience r√©ussie de Tucha</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>