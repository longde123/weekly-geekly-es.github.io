<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∏üèæ üéπ üë®üèæ‚Äçü§ù‚Äçüë®üèº O misterioso programa LyX. Parte 4 üî∫ üèè ü§ûüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Copiado do meu blog para criar outra fonte de informa√ß√µes em russo sobre este t√≥pico. 

 Este artigo √© uma continua√ß√£o dos seguintes artigos em um √∫ni...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O misterioso programa LyX. Parte 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485298/">  Copiado do <a href="https://matematikaandinformatika.blogspot.com/p/blog-page_83.html" rel="nofollow">meu blog</a> para criar outra fonte de informa√ß√µes em russo sobre este t√≥pico. <br><br>  Este artigo √© uma continua√ß√£o dos seguintes artigos em um √∫nico ciclo: <br><br>  <a href="https://habr.com/ru/post/466423/">artigo 1</a> <br>  <a href="https://habr.com/ru/post/482550/">artigo 2</a> <br>  <a href="https://habr.com/ru/post/484282/">artigo 3</a> <br><br><h3>  LyX: \\. \ Pipe \ lyxpipe </h3><br>  Em geral, essa fun√ß√£o √© necess√°ria para organizar a intera√ß√£o do LyX com outros programas.  Em particular, voc√™ pode digitar comandos atrav√©s da linha de comando em uma janela aberta do programa LyX!  Antes de tudo, para que isso funcione, em <b>Ferramentas&gt; Configura√ß√µes&gt; Caminhos,</b> na caixa de texto do <i>canal do servidor LyX</i> , digite o seguinte: <br><br><pre><code class="plaintext hljs">\\.\pipe\lyxpipe</code> </pre> <br>  , e nem <code>.in</code> nem <code>.out</code> s√£o atribu√≠dos ao lyxpipe ao final.  Naturalmente, clique em <code></code> .  Al√©m disso, a janela do programa LyX, na qual havia a necessidade de digitar comandos a partir da janela do prompt de comando, deve ser iniciada antes dessa linha de comando, a partir da qual os comandos ser√£o inseridos nessa janela do programa LyX, caso contr√°rio nada funcionar√°.  Aqui est√£o exemplos de como escrever comandos na linha de comando para fazer isso: <br><br><pre> <code class="plaintext hljs">echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in echo LYXCMD:formula:math-mode:\alpha&gt; \\.\pipe\lyxpipe.in echo LYXCMD:vstgrafiki:inset-apply:graphics filename zdes kujut hip-hop.png&gt; \\.\pipe\lyxpipe.in</code> </pre> <br>  Na minha opini√£o, a √∫ltima equipe merece interesse.  Este comando insere uma foto <i>zdes kujut hip-hop.png</i> )), localizada na pasta especificada em <b>Ferramentas&gt; Configura√ß√µes ...&gt; Caminhos</b> na caixa de texto <i>Diret√≥rio</i> do <i>usu√°rio</i> na janela do programa LyX aberta (antes de abrir a linha de comando). <a name="habracut"></a><br><br><h3>  LyX: pesquisa direta e reversa </h3><br>  Como isso est√° configurado √© descrito <a href="https://tex.stackexchange.com/questions/473572/lyx-2-3-how-can-i-successfully-set-up-the-forward-and-inverse-search" rel="nofollow">aqui</a> .  Vou apenas contar como fiz em russo.  Ent√£o  Estamos usando uma vers√£o n√£o classific√°vel do SumatraPDF.  Ent√£o, n√≥s o baixamos, instalamos.  Em seguida, em "Iniciar&gt; Programas Padr√£o&gt; Mapeando Tipos de Protocolo ou Protocolos para Programas Individuais", verifique se os arquivos <code>.pdf</code> foram abertos usando o SumatraPDF.  Em seguida, vamos para a pasta <code>C:\Users\\AppData\Roaming\SumatraPDF</code> .  A partir da√≠, seguindo as orienta√ß√µes no link fornecido, copie o arquivo <i>SumatraPDF-settings.txt</i> para algum lugar. <br><br>  Em seguida, foi necess√°rio adicionar de alguma forma o caminho para a pasta que cont√©m o arquivo SumatraPDF que abre o programa (eu tenho essa pasta <code>C:\Program Files\SumatraPDF</code> ) no PATH.  Por alguma raz√£o, adicionei isso √†s <i>vari√°veis ‚Äã‚Äãde ambiente</i> do <i>usu√°rio para IVAN</i> .  Al√©m disso, o caminho para a pasta que cont√©m o arquivo que inicia o programa LyX (para mim √© <code>C:\Program Files\LyX 2.0\bin</code> ) tamb√©m deve estar contido no PATH.  Em seguida, v√° para a pasta <code>C:\Program Files\SumatraPDF</code> , abra o arquivo <i>SumatraPDF.exe</i> .  Na janela exibida do programa SumatraPDF, clique com o bot√£o esquerdo nas 3 barras horizontais no canto superior esquerdo (ou, talvez, no canto))) e, em seguida, em <b>Configura√ß√µes&gt; Configura√ß√µes avan√ßadas</b> .  Ao mesmo tempo, o mesmo arquivo <i>SumatraPDF-settings.txt</i> ser√° aberto no bloco de notas, uma c√≥pia da qual colocamos anteriormente em algum lugar isolado, para que agora possamos fazer o que quisermos com esse arquivo.  E faremos o seguinte com ele.  Aqui est√° uma lista de algumas vari√°veis ‚Äã‚Äãjunto com seus valores: <br><br><pre> <code class="plaintext hljs">ReuseInstance = true ReloadModifiedDocuments = true InverseSearchCmdLine = lyxeditor.cmd "%f" %l EnableTeXEnhancements = true UseTabs = true</code> </pre><br>  Ent√£o aqui.  No arquivo <i>SumatraPDF-settings.txt</i> , verificamos a presen√ßa dessas vari√°veis ‚Äã‚Äã(palavras √† esquerda do sinal de igual), se houver, verificamos a coincid√™ncia do valor (palavras √† direita do sinal de igual) das vari√°veis ‚Äã‚Äãencontradas neste arquivo da lista acima com os valores de tais mesmas vari√°veis ‚Äã‚Äãdesta lista.  Se na lista acima o valor de qualquer vari√°vel fosse diferente do valor da vari√°vel correspondente no arquivo, seria necess√°rio refazer o valor dessa vari√°vel para o mesmo da lista acima.  Se alguma vari√°vel da lista, juntamente com seu valor, n√£o estivesse no arquivo, precisar√≠amos apenas copiar a vari√°vel e seu valor no arquivo.  Bem, pessoalmente, n√£o alterei nada neste arquivo: todas as vari√°veis ‚Äã‚Äãlistadas na lista j√° existiam no arquivo e todas essas vari√°veis ‚Äã‚Äãno arquivo receberam os valores correspondentes listados na lista diretamente ao instalar o SumatraPDF.  Feche, salve as altera√ß√µes.  √â isso, o SumatraPDF depois disso ser√° configurado.  Prosseguimos para configurar o LyX.  Portanto, abra o programa LyX se, at√© o momento, ele n√£o foi aberto ou, por algum motivo, foi fechado.  V√° para <b>Ferramentas&gt; Configura√ß√µes ...&gt; Caminhos</b> .  No campo de texto do <i>canal do servidor LyX,</i> digite <br><br><pre> <code class="plaintext hljs">\\.\pipe\lyxpipe</code> </pre> <br>  Em seguida, v√° para <b>Ferramentas&gt; Configura√ß√µes ...&gt; Processamento de arquivos&gt; Conversores</b> .  L√°, na √°rea sob a frase <i>Defini√ß√µes de conversores,</i> selecione <i>LaTeX (pdflatex) -&gt; PDF (pdflatex)</i> com o bot√£o esquerdo do mouse.  Em seguida, exclu√≠mos seu conte√∫do do campo de texto <i>Conversor</i> e inserimos (ou inserimos manualmente) o seguinte: <br><br><pre> <code class="plaintext hljs">pdflatex -interaction=nonstopmode -synctex=1 $$i</code> </pre> <br>  Al√©m <i>disso,</i> na caixa de texto <i>,</i> exclua seu conte√∫do.  Clique no bot√£o <i>Alterar</i> .  Ent√£o <i>salve</i> .  Volte para <b>Ferramentas&gt; Configura√ß√µes ...&gt; Processamento de arquivos&gt; Conversores</b> .  Verifique se as configura√ß√µes est√£o salvas.  Para mim, quando vou para l√° agora, ao pesquisar nas duas dire√ß√µes, <i>digito</i> , depois de clicar no bot√£o esquerdo do mouse <i>LaTeX (pdflatex) -&gt; PDF (pdflatex)</i> , o local das configura√ß√µes fica assim: <br><br><img src="https://habrastorage.org/webt/z-/kp/cj/z-kpcjome5wv5rlqqxawtywxizm.jpeg"><br><br>  Em seguida, v√° em <b>Ferramentas&gt; Configura√ß√µes ..&gt; Sa√≠da&gt; Geral</b> .  L√°, na caixa de texto <i>Comando PDF</i> , digite o seguinte comando: <br><br><pre> <code class="plaintext hljs">SumatraPDF -forward-search "$$t" $$n "$$o"</code> </pre> <br>  , clique em <i>Aplicar</i> .  Assim, este lugar ficar√° assim: <br><br><img src="https://habrastorage.org/webt/ie/_o/fa/ie_ofa-dota4jjaf13n49wzftye.jpeg"><br><br>  V√° para <b>Ferramentas&gt; Configura√ß√µes ..&gt; Manipula√ß√£o de arquivos&gt; Formatos de arquivo</b> .  L√°, definiremos a lista suspensa <i>Formato</i> , escolhendo o valor <i>PDF (pdflatex)</i> com o bot√£o esquerdo do mouse, o valor <i>definido</i> pelo <i>usu√°rio</i> na lista suspensa <i>Visualizador</i> e digite a caixa de texto √† direita dessa lista. <br><br><pre> <code class="plaintext hljs">SumatraPDF</code> </pre> <br>  Atualmente existe: <br><br><img src="https://habrastorage.org/webt/km/lu/ci/kmlucijdrj323mb-hazjfv02cnm.jpeg"><br><br>  E, finalmente, na <code>C:\Program Files\LyX 2.0\bin</code> crie um arquivo com o nome <i>lyxeditor</i> e a extens√£o <code>.cmd</code> (na verdade, √© o mesmo arquivo em lotes) com o seguinte conte√∫do: <br><br><pre> <code class="plaintext hljs"> @echo off SETLOCAL enabledelayedexpansion set file=%1 set row=%2 REM remove quotes from variables set file=!file:"=! set row=!row:"=! %comspec% /q /c (@echo LYXCMD:revdvi:server-goto-file-row:%file% %row%)&gt; \\.\pipe\lyxpipe.in&amp;&amp;type \\.\pipe\lyxpipe.out endlocal</code> </pre><br>  Peguei o c√≥digo desse arquivo em lote <a href="https://wiki.lyx.org/LyX/SyncTeX" rel="nofollow">aqui</a> quando clicou no link da p√°gina em ingl√™s, cujo conte√∫do estou recontando aqui (o link para esta p√°gina foi fornecido por mim aqui, apenas acima).  Honestamente, sobre a cria√ß√£o de um arquivo em lotes em uma p√°gina em ingl√™s, foi dito muito antes que isso fosse feito para mim, mas qual √© a diferen√ßa?  A prop√≥sito, o c√≥digo desse arquivo em lotes me levou a pensar em como inserir comandos na linha de comando para que eles sejam inseridos nessa linha na janela aberta do programa LyX, que serviu de base para escrever o par√°grafo <i>LyX: \\. \ Pipe \ lyxpipe</i> deste artigo.  Antes disso, tentei inserir comandos da linha de comando na janela do programa LyX, pegando esses comandos no manual, por exemplo, tentei executar o seguinte comando na linha de comando: <br><br><pre> <code class="plaintext hljs">echo "LYXCMD:test:get-xy:" &gt;~/.lyxpipe.in</code> </pre> <br>  mas nada deu certo para mim.  Bem, e agora, voltando √† pesquisa relacionada ao LyX.  Como us√°-lo?  Mas muito simples.  Agora, se tivermos feito uma visualiza√ß√£o do arquivo <code>.lyx</code> aberto, quando voc√™ clicar em <b>Navega√ß√£o&gt; Pesquisa avan√ßada</b> por um breve per√≠odo na janela correspondente do SumatraPDF, v√°rias linhas contendo a mesma palavra ser√£o destacadas em roxo (pelo menos para mim), ao lado da palavra correspondente na janela LyX em cursor atualmente piscando.  Quando voc√™ clica duas vezes na janela SumatraPDF, o foco √© transferido para a janela LyX e o cursor come√ßa a piscar l√°, enquanto quando voc√™ clica em diferentes locais da janela SumatraPDF, o cursor come√ßa a piscar em diferentes locais da janela LyX.  N√£o posso dizer nada mais espec√≠fico sobre o relacionamento da posi√ß√£o do cursor no LyX com as linhas destacadas no SumatraPDF, bem como o relacionamento da posi√ß√£o de clique duplo no SumatraPDF com o local na janela do LyX onde o cursor come√ßa a piscar.  Portanto, a tarefa √© bastante complicada, deixe-me dar uma tradu√ß√£o dessa p√°gina, cujo conte√∫do estou recontando aqui, feita pelo navegador do Google: de repente, perdi algo.  Ent√£o <br><br><hr><br>  Do MyNotes <br>  Atualizado para a vers√£o mais recente 2.3.32019 <br>  Os usu√°rios do MiKTeX s√£o aconselhados a atualizar para a vers√£o mais recente antes de instalar o LyX 2.3.3+ para Windows.  Se voc√™ possui uma instala√ß√£o permanente do <i>SumatraPDF</i> , √© necess√°rio instalar <i>a pesquisa</i> <i>inversa</i> <i>ONCE</i> , assim como usar guias, n√£o precisamos gastar tempo decidindo qual sess√£o abordar.  Observe que o SumatraPDF pode ter v√°rias janelas e sess√µes, mas isso est√° al√©m do escopo desta resposta.  InverseSearchCmdLine = armazenado permanentemente em SumatraPDF-settings.txt.  Ele n√£o deve ser personalizado pelo editor, a menos que voc√™ precise reinstalar ou substituir o SumatraPDF-settings.txt (fa√ßa um backup!) <br><br><h4>  Configura√ß√µes no SumatraPDF </h4><br>  A diferen√ßa not√°vel √© que retornamos ao arquivo cmd do <i>Okular</i> mais est√°vel (o <i>Okular</i> usa exatamente o mesmo sistema de chamada do <i>SumatraPDF</i> ), o que evita chamadas desnecess√°rias.  <i>O SumatraPDF</i> deve ser instalado de forma que funcione em qualquer chamada do sistema, como o <i>SumatraPDF</i> , o que significa que deve estar "a caminho" (se a vers√£o port√°til for usada, o <i>SumatraPDF.exe</i> dever√° ser temporariamente adicionado ao caminho do usu√°rio at√© a primeira chamada do Lyx) Inicie o <i>SumatraPDF</i> e v√° para <b>Configura√ß√µes&gt; Op√ß√µes avan√ßadas</b> .  Isso abrir√° o arquivo <i>SumatraPDF-settings.txt</i> no <i>bloco de notas</i> , agora ap√≥s verificar as entradas, verifique ou altere o seguinte. <br><br><pre> <code class="plaintext hljs">ReuseInstance = true ReloadModifiedDocuments = true InverseSearchCmdLine = lyxeditor.cmd "%f" %l EnableTeXEnhancements = true UseTabs = true</code> </pre> <br>  Lembre-se de que <code>%l</code> √© uma letra min√∫scula L e pressione <i>CTRL</i> + <i>S</i> (Salvar arquivo).  Se voc√™ precisar adicionar <code>c: ... LyX \ bin \</code> a este <i>InverseSearchCmdLine</i> , voc√™ instalou o LyX incorretamente.  O arquivo <code>.cmd</code> est√° localizado na pasta bin, que DEVE estar no caminho do sistema. <br><br><h4>  Configura√ß√µes no LyX </h4><br>  Siga as instru√ß√µes do <a href="https://wiki.lyx.org/LyX/SyncTeX" rel="nofollow">SyncTex</a> em <a href="https://wiki.lyx.org/LyX/SyncTeX" rel="nofollow">wiki.lyx.org/LyX/SyncTex</a> . <br><br>  ‚Äú(Nota: a pesquisa reversa de arquivos .lyx com espa√ßos ou outros caracteres especiais no nome do arquivo nem sempre funciona com essa abordagem em alguns sistemas Windows)‚Äù <br><br>  Minhas anota√ß√µes, devido a esse m√©todo exclusivo de chamar o canal [1] usado pelo LyX no Windows, √†s vezes √© necess√°rio que o arquivo de trabalho e seu caminho N√ÉO POSSAM TER UM ESPA√áO, portanto, se isso n√£o funcionar, voc√™ precisar√° criar problemas com o suporte ao LyX .  Se eles fornecerem uma maneira mais f√°cil de chamar uma sess√£o ativa do <i>LyXserver</i> com o caminho remoto entre aspas, deixe um coment√°rio abaixo.  O problema √© que o <i>LyXserver</i> espera dois valores consecutivos: <br><br>  1) O <i>SyncTeX</i> forneceu o nome do arquivo <code>.tex</code> 2) seguido por um n√∫mero de linha; portanto, quando o nome do arquivo cont√©m espa√ßos, a primeira parte pode ser inv√°lida como o nome do arquivo e a segunda parte claramente n√£o √© um n√∫mero. Isso pode funcionar se os nomes dos arquivos forem analisados como o formato 8.3 mais antigo, mas os arquivos mais modernos do Windows usam o formato LFN.  O arquivo <i>lyxeditor.cmd</i> tenta solucionar esses problemas.  Diferen√ßas vis√≠veis em compara√ß√£o com qualquer outra abordagem N√£o inclua op√ß√µes / diretivas de <i>pesquisa</i> desnecess√°ria e obsoleta <i>- inst√¢ncia de reutiliza√ß√£o</i> ou <i>pesquisa</i> <i>inversa</i> (elas n√£o s√£o necess√°rias e reduza a velocidade da solicita√ß√£o de <i>pesquisa direta</i> ). <br><br>  Ferramentas ‚Üí Configura√ß√µes ‚Üí Caminho <br><br><ul><li>  Adicione o diret√≥rio em que o SumatraPDF.exe est√° localizado √† linha de prefixo PATH.  (Isso n√£o √© necess√°rio para uma instala√ß√£o permanente, mas pode ajudar no uso port√°til). </li><li>  Defina a linha pipe LyXServer \\. \ Pipe \ lyxpipe (N√ÉO use o bot√£o de navega√ß√£o). </li></ul><br>  Ferramentas ‚Üí Configura√ß√µes ‚Üí Processamento de arquivo ‚Üí Conversores <br><br><ul><li>  Escolha o formato LaTeX (pdflatex) -&gt; PDF (pdflatex) </li><li>  Defina o conversor de entrada como pdflatex -interaction = nonstopmode -synctex = 1 $$ i </li></ul><br><img src="https://habrastorage.org/webt/4r/ls/gj/4rlsgjeapgfczwfhld9ymsji824.png"><br><br><ul><li>  Clique em "Alterar" (caso contr√°rio, a altera√ß√£o ser√° cancelada). </li><li>  Essa altera√ß√£o requer que o MikTeX ou o TeX Live criem o arquivo FILE.synctex.gz. </li></ul><br>  Saia e volte para verificar se foi modificado. Foram necess√°rias algumas altera√ß√µes para redefini-lo e fix√°-lo de uma sess√£o para outra. <br><br>  Ferramentas ‚Üí Configura√ß√µes ‚Üí Sa√≠da ‚Üí Geral. <br>  Na se√ß√£o Pesquisa Direta, defina o comando de entrada PDF como SumatraPDF -forward-search "$$ t" $$ n "$$ o" <br><br>  Ferramentas ‚Üí Configura√ß√µes ‚Üí Processamento de arquivo ‚Üí Formatos de arquivo <br><br><ul><li>  Escolha o formato PDF (pdflatex) </li><li>  Defina o campo Exibir como Personalizado usando o comando SumatraPDF </li><li>  Pode ser necess√°rio fechar todas as janelas do SumatraPDF e usar Documento ‚Üí Exibir. </li><li>  Voc√™ pode definir o comando de pesquisa reversa diretamente no SumatraPDF, indo em "Configura√ß√µes ‚Üí Op√ß√µes avan√ßadas", conforme descrito acima, e defina a pesquisa reversa.  Nesse caso, voc√™ reduz o comando Exibir para </li></ul><br><pre> <code class="plaintext hljs">SumatraPDF</code> </pre> <br><img src="https://habrastorage.org/webt/uj/5d/hq/uj5dhqgkebeuvnherusk3mypiwk.png"><br><br>  QUALQUER problema com essa chamada de Pesquisa Inversa deve surgir com o suporte do Lyx, pois esse √© o m√©todo recomendado, n√£o o meu! <br><br>  [1] Em princ√≠pio, o uso de pipes nomeados na mem√≥ria acelera e reduz a necessidade de chamar um aplicativo por meio de op√ß√µes de shell; no entanto, como os m√©todos DDE ou D-bus, ele n√£o √© familiar para a maioria dos usu√°rios e pode ser problem√°tico para corrigir problemas. <br><br>  Nota  Certifique-se de que o lyx tenha o arquivo aberto, o bot√£o Ativar Avan√ßar / Retroceder esteja ativo, compile e visualize finalmente o bot√£o direito do mouse e selecione cerca de 6 op√ß√µes abaixo <br><br>  Os lugares n√£o s√£o 1 em 1 (as p√°ginas podem parecer "desativadas").  Isso pode ajudar a ver uma pesquisa direta, definindo SumatraPDF-settings.txt <br><br>  HighlightPermanent = true <br><br>  Para retornar √† p√°gina correspondente, basta clicar duas vezes em qualquer lugar do SumatraPDF para chamar lyxeditor.cmd. <br><hr><br>  Como voc√™ pode ver, ainda existem algumas nuances que n√£o s√£o mencionadas por mim.  No entanto, quando configurei tudo, simplesmente n√£o precisei dessas nuances. <br><br><h3>  LyX;  uso de arquivos .bat </h3><br>  Apesar da aparente falta √† primeira vista da capacidade de adicionar novos formatos de exporta√ß√£o ao LyX (tanto quanto eu entendo, por exemplo, no TeXworks, um an√°logo dessa possibilidade de adi√ß√£o √© a capacidade de criar uma nova ferramenta de layout), este programa tem essa oportunidade.  Para come√ßar, vamos tentar criar o seguinte formato de exporta√ß√£o, que √† primeira vista parece indulgente.  As seguintes vari√°veis ‚Äã‚ÄãPATH s√£o definidas no programa LyX: <br><br><pre> <code class="plaintext hljs">$$s The LyX system directory (eg /usr/share/lyx). $$i The input file $$o The output file $$b The base name (without filename extension) in the LyX temporary directory $$p The full directory path of the LyX temporary directory $$r The full pathname to the original LyX file being processed $$f The filename (without any directory path) of the LyX file. $$l The `LaTeX name'</code> </pre><br>  este √© um trecho de uma parte do manual do programa LyX.  N√£o vamos traduzir explica√ß√µes sobre os significados, significados dessas vari√°veis, mas tentar criar um novo formato de exporta√ß√£o (com a apar√™ncia de um novo bot√£o em <b>Arquivo&gt; Exportar para</b> , inclusive clicando no qual podemos exportar para esse formato do arquivo <code>.lyx</code> , na janela em que esse clique foi feito), durante a exporta√ß√£o para a qual no diret√≥rio tempor√°rio (no qual, por exemplo, ao exportar para <i>PDF {pdflatex}</i> , arquivos s√£o gerados, al√©m do <code>.pdf</code> criado), o arquivo <i>puti.txt</i> ser√° criado no qual ( todos) os valores dessas vari√°veis  .  Para fazer isso, na pasta que foi adicionada ao PATH, crie um arquivo <i>puti.bat com o</i> seguinte conte√∫do: <br><br><pre> <code class="plaintext hljs">chcp 1251 cd /d %0\.. echo %1 &gt;puti.txt echo %2 &gt;&gt;puti.txt echo %3 &gt;&gt;puti.txt echo %4 &gt;&gt;puti.txt echo %5 &gt;&gt;puti.txt echo %6 &gt;&gt;puti.txt echo %7 &gt;&gt;puti.txt echo %8 &gt;&gt;puti.txt echo %1/%~2 &gt;&gt;puti.txt</code> </pre><br>  Em seguida, no arquivo <code>C:\Users\\AppData\Roaming\LyX2.0\lyxrc.defaults</code> , estamos onde as linhas <br><br><pre> <code class="plaintext hljs">.................................... \Format pdf4 pdf "PDF (XeTeX)" X "pdfview" "" "document,vector,menu=export" \Format pdf5 pdf "PDF (LuaTeX)" u "pdfview" "" "document,vector,menu=export"</code> </pre><br>  adicione essa linha <br><br><pre> <code class="plaintext hljs">\Format pdf6 txt "puti" F "pdfview" "" "document,vector,menu=export"</code> </pre><br>  Aqui, a palavra <i>puti</i> n√£o <i>especifica o</i> arquivo com o c√≥digo, que √© o mecanismo do formato de exporta√ß√£o criado, mas com o nome do bot√£o para chamar esse formato de exporta√ß√£o para <b>Arquivo&gt; Exportar para</b> ser√° exibido e onde <br><br><pre> <code class="plaintext hljs">.................................... \converter pdflatex pdf2 "pdflatex $$i" "latex=pdflatex" \converter xetex pdf4 "xelatex $$i" "latex=xelatex" \converter luatex pdf5 "lualatex" "latex=lualatex"</code> </pre><br>  ap√≥s a linha que define o formato pdf5, adicionamos a seguinte linha: <br><br><pre> <code class="plaintext hljs">\converter pdflatex pdf6 "puti.bat $$b $$f $$i $$l $$o $$p $$r $$s" ""</code> </pre> <br>  E aqui a palavra <i>puti</i> define um arquivo com c√≥digo, que √© o mecanismo do formato de exporta√ß√£o criado.  E neste local do arquivo <i>lyxrc.defaults</i> , voc√™ j√° deve especificar a extens√£o desse arquivo com o c√≥digo (neste caso <code>.bat</code> ), caso contr√°rio n√£o funcionar√°! .. E ent√£o, como voc√™ deve imaginar, os par√¢metros s√£o indicados, por um lado, com os quais esse arquivo com o c√≥digo √© iniciado quando a exporta√ß√£o para o formato criado √© iniciada e, por outro lado, esses par√¢metros s√£o chamados no formato que o programa LyX conhece e, portanto, quando voc√™ chama esse arquivo com o c√≥digo do arquivo aberto no LyX, LyX antes de abrir arquivo com o c√≥digo do programa correspondente com par√¢metros, alguns e  a partir da qual eles s√£o formados a partir de partes do caminho completo para o arquivo exportado e outros de caminhos completos para algumas pastas significativas do sistema, ele substitui esses par√¢metros, nomeados neste formul√°rio por valores quase reais, por assim dizer, quase adequados para uso no comando linha  Por que "quase" ficar√° claro mais tarde.  Isso √© tudo, <i>voc√™</i> n√£o precisa fazer mais nada no arquivo <i>lyxrc.defaults</i> : nem adicionar, l√°, quaisquer novos <i>\ editor_alternatives</i> ou <i>\ viewer_alternatives</i> , ou qualquer outra coisa assim ... Em seguida, depois de salvar o arquivo <i>lyxrc.defaults</i> alterado dessa maneira e reiniciar Programas LyX em <b>Arquivo&gt; Exportar para</b> , um novo bot√£o √© exibido: <br><br><img src="https://habrastorage.org/webt/ha/g1/mv/hag1mvk10k_q8ql6nvpeb4zbpms.jpeg"><br><br>  Antes de clicar nele, clique em <b>Exibir&gt; Visualizar Mensagens</b> (quando eu usei o LyX instalado a partir de um arquivo execut√°vel baixado de outra fonte, esse bot√£o chamava-se <i>Visualizar Mensagens</i> , porque essa c√≥pia do programa usava um arquivo de localiza√ß√£o diferente <code>.mo</code> ), enquanto Geralmente, na parte inferior da janela do programa LyX, aparece uma √°rea chamada <i>Mensagens de progresso / depura√ß√£o</i> .  Agora voc√™ pode clicar no bot√£o que criamos.  Ao mesmo tempo, na √°rea <i>Mensagens de progresso / depura√ß√£o</i> , as informa√ß√µes sobre o processo de exporta√ß√£o come√ßam a piscar, rolando para baixo.  Ap√≥s o t√©rmino dessa oscila√ß√£o, procuramos o caminho para a pasta tempor√°ria na qual os arquivos que aparecem no caminho s√£o colocados, al√©m do arquivo do tipo que voc√™ deseja receber na mesma pasta com o arquivo <code>.lyx</code> exportado.  Todos esses caminhos s√£o mais ou menos parecidos entre si, portanto n√£o h√° erro.  Por exemplo, aqui est√° uma destas maneiras: <br><br><pre> <code class="plaintext hljs">D:\1-kat-LyX\lyx_tmpdir.gq2748\lyx_tmpbuf2</code> </pre><br>  V√° para esta pasta.  Haver√°, entre outros, o arquivo <i>puti.txt</i> , que definimos como sa√≠da para este formato de exporta√ß√£o.  Ao abri-lo, veremos algo como o seguinte: <br><br><pre> <code class="plaintext hljs">D:/1-kat-LyX/lyx_tmpdir.gq2748/lyx_tmpbuf2/newfile2 newfile2.lyx newfile2.tex $$l newfile2.txt D:/1-kat-LyX/lyx_tmpdir.gq2748/lyx_tmpbuf2/ C:/DocLyX/ $$s D:/1-kat-LyX/lyx_tmpdir.gq2748/lyx_tmpbuf2/newfile2/newfile2.lyx</code> </pre><br>  Um arquivo com esse conte√∫do foi formado durante a exporta√ß√£o para o formato de exporta√ß√£o de arquivo que criei <code>C:\DocLyX\newfile2.lyx</code> .  Como voc√™ pode ver, nem todos os par√¢metros se expandiram para seus valores, o que, no entanto, n√£o interfere na cria√ß√£o de alguns outros formatos de exporta√ß√£o que eu concebi.  No entanto, esse problema √© descoberto aqui, consistindo em "quase" compatibilidade com a linha de comando, que mencionei acima.  A saber: o separador nos caminhos assim obtidos no arquivo de sa√≠da <code>.txt</code> √© o caractere <code>/</code> vez do tradicional, pelo menos no Windows, <code>\</code> ; portanto, para poder usar o caminho obtido dessa maneira, √© prov√°vel que voc√™ precise arquivar com o c√≥digo que deve ser usado como um mecanismo para o formato de exporta√ß√£o criado, inclua a se√ß√£o para substituir <code>/</code> por <code>\</code> .  Manteremos isso em mente no futuro.  Comparando a ordem em que os par√¢metros est√£o listados no arquivo <i>lyxrc.defaults</i> com o qual <i>for√ßo</i> a iniciar (e pode ser iniciado))) o arquivo <i>puti.bat</i> , o arquivo <i>puti.bat em si</i> com o conte√∫do do arquivo <i>puti.txt</i> , concluo que para criar outro  ,  ,  ,  ,       ,  LyX.  <i>$$i</i> ‚Äî ,       <i>puti.txt</i>    <i>.tex</i> ,           <i>.lyx</i> ,  ,      ,             MiKTeX,          ‚Äî          ,   , .             - .  <i>$$r</i> ‚Äî       LyX       <i>.lyx</i> ,             <i>.tex</i> ,      .          <b></b> ,            <i>puti</i> .        .     - ¬´¬ª   LyX         LyX    .     ,              <i>.lyx</i> . ,    <i>lyxrc.defaults</i>     ,          <i>puti</i> .         : <br><br><pre> <code class="plaintext hljs">\Format pdf7 pdf "pdflatex v papke" F "pdfview" "" "document,vector,menu=export"</code> </pre><br>  e <br><br><pre> <code class="plaintext hljs">\converter pdflatex pdf7 "pdflatex-v-papke.bat $$r $$i" ""</code> </pre> <br> ,   .         <i>puti</i>   ,  ,     (     <code>.bat</code> ),              . ,          <i>pdflatex-v-papke.bat</i>  : <br><br><pre> <code class="plaintext hljs">cd /d %0\.. chcp 1251 echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in if exist perehod.bat (goto :vyhod3) else (goto :vhod) :vhod echo %1 &gt; put0.txt echo cd /d %%0\..&gt;&gt; pereim.bat echo SetLocal EnableExtensions EnableDelayedExpansion&gt;&gt; pereim.bat echo Set infile=put0.txt&gt;&gt; pereim.bat echo Set outFile=put.txt&gt;&gt; pereim.bat echo Set find=/&gt;&gt;pereim.bat echo Set replace=\&gt;&gt;pereim.bat echo for /F "UseBackQ delims=" %%%%n in ("%%infile%%") do (&gt;&gt; pereim.bat echo set "LINE=%%%%n"&gt;&gt; pereim.bat echo set "LINE=!LINE:%%find%%=%%replace%%!"&gt;&gt; pereim.bat echo echo.!LINE!^&gt;^&gt;%%outFile%%&gt;&gt; pereim.bat echo )&gt;&gt; pereim.bat echo exit&gt;&gt; pereim.bat start /b pereim.bat :vhod1 if exist put.txt (goto :vyhod1) else (goto :vhod1) :vyhod1 echo chcp 1251 &gt; perehod.bat echo cd /D^^&gt;&gt;perehod.bat more &lt; put.txt &gt;&gt; perehod.bat echo del %~n2.tex&gt;&gt; perehod.bat echo :vhod2 &gt;&gt; perehod.bat echo lyx -e latex %~n2.lyx&gt;&gt; perehod.bat echo if exist %~n2.tex (goto :vyhod2) else (goto :vhod2) &gt;&gt; perehod.bat echo :vyhod2 &gt;&gt; perehod.bat echo pdflatex %2 &gt;&gt; perehod.bat echo taskkill /f /im pdflatex.exe &gt;&gt; perehod.bat echo exit &gt;&gt; perehod.bat echo :vhod3 if exist perehod.bat (goto :vyhod3) else (goto :vhod3) :vyhod3 start perehod.bat pdflatex %1 rem            exit.bat exit</code> </pre><br>    ?  ,   ,          LyX,     <i>lyxrc.defaults</i> ,  ,      ¬´  ,       LyX ¬ª  ¬´  ,    .tex¬ª,    . ,        ,      - ¬´ ¬ª   . ,        <i>pdflatex-v-papke.bat</i>  ,     ,      ,    <i>windows 1251</i> . ,    LyX       ,   ()    , ,       ,      ,     <code>.lyx</code>  <br><br><pre> <code class="plaintext hljs">echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in</code> </pre> <br> ,       .  <br><br><pre> <code class="plaintext hljs">if exist perehod.bat (goto :vyhod3) else (goto :vhod)</code> </pre><br>      <code>:vyhod3</code>  <code>:vhod</code> ,      ,      ,    .  ,          <i>pdflatex-v-papke.bat</i> ,  (  )  <i>put0.txt</i> , <i>pereim.bat</i> , <i>put.txt</i> , <i>perehod.bat</i> ,    , ,   ,         <code>.lyx</code> ,  ,      .             <i>perehod.bat</i> , 3          ,         . -   <code>if</code>      . ,   <i>pdflatex-v-papke.bat</i>  ,        ,  <i>pdflatex-v-papke.bat</i>   ,      4  ‚Äî <i>put0.txt</i> , <i>pereim.bat</i> , <i>put.txt</i> , <i>perehod.bat</i>      .    4      ,      ,       .      . . .  ,    LyX   <i>pdflatex-v-papke.bat</i> ,  ¬´  ,       LyX ¬ª,    <i>put0.txt</i>    ,    .            ( ,  ,       <code>/</code>      <code>\</code> ).        <i>pdflatex-v-papke.bat</i>         <i>pereim.bat</i> ,     ,     <i>put0.txt</i> ,     <code>/</code>  <code>\</code>      <i>put1.txt</i> .   <i>pdflatex-v-papke.bat</i>    <i>pereim.bat</i> .            ,   ,   ,   <code>/b</code> .   ( , )  <i>pereim.bat</i>      . - ,     <i>put1.txt</i> ,    <i>pdflatex-v-papke.bat</i>    ,           <i>put1.txt</i> .        <i>pdflatex-v-papke.bat</i>   .    ,      <i>pereim.bat</i>        : <br><br><pre> <code class="plaintext hljs">:vhod1 if exist put.txt (goto :vyhod1) else (goto :vhod1) :vyhod1</code> </pre><br>       <i>put.txt</i>   ,   .       ,     <code>:vhod1</code>      <i>put.txt</i>   ,        ,        .      ,          <i>pdflatex-v-papke.bat</i> .              <i>perehod.bat</i> ,     (     <br><br><pre> <code class="plaintext hljs">:vhod3 if exist perehod.bat (goto :vyhod3) else (goto :vhod3) :vyhod3</code> </pre><br>  <i>pdflatex-v-papke.bat</i> )    <i>perehod.bat</i> .  <i>perehod.bat</i>      ,          ,      <i>put.txt</i>         ,     <br><br><pre> <code class="plaintext hljs">more &lt; put.txt</code> </pre><br>  ,  ,   <i>perehod.bat</i>  (   <code>C:\DocLyX\newfile2.lyx</code> ): <br><br><pre> <code class="plaintext hljs">chcp 1251 cd /D^ C:\DocLyX\ del newfile2.tex :vhod2 lyx -e latex newfile2.lyx if exist newfile2.tex (goto :vyhod2) else (goto :vhod2) :vyhod2 pdflatex newfile2.tex taskkill /f /im pdflatex.exe exit</code> </pre><br>     ? ,           ,   ,      <i>perehod.bat</i> ,   <i>windows 1251</i> .    2 ,      .         <code>^</code>    .      ,    perehod.bat       <code>.lyx</code> .   <code>/D</code>  ,      LyX  <b>&gt;...&gt;</b>    <i> </i>  ,     LyX      ,   ,        .        <code>.lyx</code> ,    <code>.tex</code> , ,  ,         <code>.lyx</code>     <code>.lyx</code> ,  .        <code>.lyx</code> ,     ,   <code>.tex</code>     <i>pdflatex-v-papke.bat</i>       ,     <code>.lyx</code> ,    <code>.tex</code> . ,        ()  <i>pdflatex-v-papke.bat</i> ,       <code>.lyx</code> ,    <code>.tex</code>    .     <code>.tex</code>     ,             <code>.lyx</code> ,     <code>.lyx</code> ,    <code>.tex</code> . ,    .   pdflatex' ,     <code>.lyx</code> ,    <code>.tex</code> ,      <i>pdflatex</i> , ,      ( )    <i>perehod.bat</i> .    <i>pdflatex-v-papke.bat</i> .  ,    <i>perehod.bat</i> ,  ,        .             <i>exit.bat</i> (  -    )      <br><br><pre> <code class="plaintext hljs">date /t exit</code> </pre><br>    ?   , ,       <i>puti.bat</i> , ,   ,          <i>puti1.bat</i> ,  ,        ,    ,     ,  ,     LyX      ,    : <br><br><img src="https://habrastorage.org/webt/js/vj/2a/jsvj2agjdh1wf-i9npjku8posbc.jpeg"><br><br>      ,    . ,  ,     <i>puti1.bat</i>      - .    .   ,       - .     .         -     .  . : ,   ,  .   . ,  ,  ,   ,  ,   ,   . ,       <i>pdflatex-v-papke.bat</i> .  Isso √© tudo.  Assim por diante  TeXworks    : <br><br><img src="https://habrastorage.org/webt/xp/pt/ry/xpptry-ieqblgtxi2-ihwataxc0.jpeg"><br><br>   LyX  ,       <code>.lyx</code>  <code>.tex</code> ,      <code>.tex</code>   <i>xelatex.exe</i>   <code>-undump=xelatex</code> .    ,        -  <code>.lyx</code> ,        . ,    .      <b>&gt; ...</b>   <i>xelatex v papke</i> ,       <i>xelatex-v-papke.bat</i>  : <br><br><pre> <code class="plaintext hljs">cd /d %0\.. chcp 1251 echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in if exist perehod.bat (goto :vyhod3) else (goto :vhod) :vhod echo %1 &gt; put0.txt echo cd /d %%0\..&gt;&gt; pereim.bat echo SetLocal EnableExtensions EnableDelayedExpansion&gt;&gt; pereim.bat echo Set infile=put0.txt&gt;&gt; pereim.bat echo Set outFile=put.txt&gt;&gt; pereim.bat echo Set find=/&gt;&gt;pereim.bat echo Set replace=\&gt;&gt;pereim.bat echo for /F "UseBackQ delims=" %%%%n in ("%%infile%%") do (&gt;&gt; pereim.bat echo set "LINE=%%%%n"&gt;&gt; pereim.bat echo set "LINE=!LINE:%%find%%=%%replace%%!"&gt;&gt; pereim.bat echo echo.!LINE!^&gt;^&gt;%%outFile%%&gt;&gt; pereim.bat echo )&gt;&gt; pereim.bat echo exit&gt;&gt; pereim.bat start /b pereim.bat :vhod1 if exist put.tex (goto :vyhod1) else (goto :vhod1) :vyhod1 echo chcp 1251 &gt; perehod.bat echo cd /D^^&gt;&gt;perehod.bat more &lt; put.txt &gt;&gt; perehod.bat echo del %~n2.tex&gt;&gt; perehod.bat echo :vhod2 &gt;&gt; perehod.bat echo lyx -e latex %~n2.lyx&gt;&gt; perehod.bat echo if exist %~n2.tex (goto :vyhod2) else (goto :vhod2) &gt;&gt; perehod.bat echo :vyhod2 &gt;&gt; perehod.bat echo miktex-xetex.exe -undump=xelatex %2 &gt;&gt; perehod.bat echo taskkill /f /im pdflatex.exe &gt;&gt; perehod.bat echo exit &gt;&gt; perehod.bat :vhod3 if exist perehod.bat (goto :vyhod3) else (goto :vhod3) :vyhod3 start perehod.bat pdflatex %1 rem            exit.bat exit</code> </pre><br>  ,       ,    <i>pdflatex-v-papke.bat</i> .    -  <code>miktex-xetex.exe -undump=xelatex %2</code> ,             <code>.tex</code> ,         .       <i>lyxrc.defaults</i>  ,   <code>xelatex-v-papke.bat</code>    <code>$$r $$i</code> ,    <i>lyxrc.defaults</i>    . , ,        <code>.lyx</code> ,     ,       <code>.tex</code>     <code>utf8</code>  <code>\usepackage[utf8]{inputenc}</code> ,     .  (,   :         <code>inputenc</code>   <b>&gt;&gt; LaTeX</b>  ,     )    <b>&gt;&gt;</b>  <i></i>    <i></i> (        <code>.mo</code> )  <code> (XeTeX) (utf8)</code> .        ,    ,    /      Asymptote,       (pdflatex+asymptote+pdflatex   pdflatex).  ,   ,         Asymptote,  ,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>T</mi><mspace width=&quot;-.14em&quot; /><mpadded height=&quot;-.5ex&quot; depth=&quot;+.5ex&quot; voffset=&quot;-.5ex&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>E</mi></mrow></mpadded><mspace width=&quot;-.115em&quot; /><mi>X</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.8ex" height="2.539ex" viewBox="0 -780.1 2066.5 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/485298/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhitKREaBvc8hyFP_hhIn2-q-jdv-w#MJMATHI-54" x="0" y="0"></use><g transform="translate(564,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/485298/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhitKREaBvc8hyFP_hhIn2-q-jdv-w#MJMATHI-45" x="0" y="-216"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/485298/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhitKREaBvc8hyFP_hhIn2-q-jdv-w#MJMATHI-58" x="1214" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mspace width="-.14em"></mspace><mpadded height="-.5ex" depth="+.5ex" voffset="-.5ex"><mrow class="MJX-TeXAtom-ORD"><mi>E</mi></mrow></mpadded><mspace width="-.115em"></mspace><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">\TeX</script> ,       ,       <code>.lyx</code> .  ,     <code>.lyx</code> -    Asymptote,   <code>.pdf</code>  ,     Asymptote,      .     <code>.lyx</code>  Asymptote        <i> TeX</i> (Ctrl+L),      - -,          .lyx    ‚Äî     -  ,       .   -  ovols.   -     TeX,     TeX   ,           <i>ovols</i> .      ovols'  <code>\begin{asy}</code> , 2         <code>\end{asy}</code> .            <code>.js</code>  .  ,      . , ,    asy    .  , ,   : <br><br><img src="https://habrastorage.org/webt/o4/d4/cx/o4d4cxbhi-d4tezhveichzcevg0.jpeg"><br><br> -  , ,      ,         pdflatex  <code>.tex</code>      ,      asy, ,      <code>.pdf</code> ,   ,   . , ,     asymptote  <b>&gt;...&gt; LaTeX</b> .   <i>lyxrc.defaults</i>           <code>$$r $$i</code> .        .  ,  ,  <code>.bat</code> .   <i>pdflatex+asymptote+pdflatex-v-lyx.bat</i> .  ,      ,   .    : <br><br><pre> <code class="plaintext hljs">cd /d %0\.. if exist perehod.bat (goto :vyhod6) else (goto :vhod) :vhod echo %1 &gt; put0.txt echo cd /d %%0\..&gt; pereim.bat echo SetLocal EnableExtensions EnableDelayedExpansion&gt;&gt; pereim.bat echo Set infile=put0.txt&gt;&gt; pereim.bat echo Set outFile=put.txt&gt;&gt; pereim.bat echo Set find=/&gt;&gt;pereim.bat echo Set replace=\&gt;&gt;pereim.bat echo for /F "UseBackQ delims=" %%%%n in ("%%infile%%") do (&gt;&gt; pereim.bat echo set "LINE=%%%%n"&gt;&gt; pereim.bat echo set "LINE=!LINE:%%find%%=%%replace%%!"&gt;&gt; pereim.bat echo echo.!LINE!^&gt;^&gt;%%outFile%%&gt;&gt; pereim.bat echo )&gt;&gt; pereim.bat echo exit&gt;&gt; pereim.bat start /b pereim.bat :vhod1 if exist put.txt (goto :vyhod1) else (goto :vhod1) :vyhod1 echo echo LYXCMD:sohranenie:buffer-write^&gt; \\.\pipe\lyxpipe.in &gt;perehod.bat echo cd /D ^^&gt;&gt;perehod.bat more &lt; put.txt &gt;&gt; perehod.bat echo :vhod1&gt;&gt;perehod.bat echo lyx -e latex %~n2.lyx&gt;&gt; perehod.bat echo if exist %~n2.tex (goto :vyhod1) else (goto :vhod1)&gt;&gt;perehod.bat echo :vyhod1&gt;&gt;perehod.bat echo echo cd /d %%%%0\..^&gt; zamena.bat&gt;&gt;perehod.bat echo echo chcp 65001^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo SetLocal EnableExtensions EnableDelayedExpansion^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo Set infile=%~n2.tex^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo Set outFile=zameneno.tex^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo Set find=ovols^&gt;^&gt;zamena.bat&gt;&gt;perehod.bat echo echo Set replace=^&gt;^&gt;zamena.bat&gt;&gt;perehod.bat echo echo for /F "UseBackQ delims=" %%%%%%%%n in ("%%%%infile%%%%") do (^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo set "LINE=%%%%%%%%n"^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo set "LINE=!LINE:%%%%find%%%%=%%%%replace%%%%!"^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo echo.!LINE!^^^&gt;^^^&gt;%%%%outFile%%%%^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo )^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo exit^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo :vhod2&gt;&gt;perehod.bat echo if exist zamena.bat (goto :vyhod2) else (goto :vhod2)&gt;&gt;perehod.bat echo :vyhod2&gt;&gt;perehod.bat echo start zamena.bat&gt;&gt;perehod.bat echo :vhod3&gt;&gt;perehod.bat echo if exist zameneno.tex (goto :vyhod3) else (goto :vhod3)&gt;&gt;perehod.bat echo :vyhod3&gt;&gt;perehod.bat echo del %~n2.tex&gt;&gt;perehod.bat echo rename zameneno.tex %~n2.tex&gt;&gt;perehod.bat echo del %~n2.aux&gt;&gt;perehod.bat echo if exist %~n2-*.asy (goto :vhod4) else (goto :vhod5)&gt;&gt;perehod.bat echo :vhod4&gt;&gt;perehod.bat echo del %~n2-*.*&gt;&gt;perehod.bat echo :vhod5&gt;&gt;perehod.bat echo pdflatex %2 &gt;&gt; perehod.bat echo for %%%%f in (%~n2-*.asy) do asy %%%%f &gt;&gt; perehod.bat echo pdflatex %2 &gt;&gt; perehod.bat echo exit &gt;&gt; perehod.bat :vhod6 if exist perehod.bat (goto :vyhod6) else (goto :vhod6) :vyhod6 start perehod.bat</code> </pre><br>  ,     .   <i>zamena.bat</i>    ovols , . .    -.  ,    <br><br><pre> <code class="plaintext hljs">:vhod ¬´ - ¬ª If exist ¬´- ¬ª... :vyhod ¬´   - ¬ª</code> </pre><br>  ,  ,        ¬´- ¬ª     ,       . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485298/">https://habr.com/ru/post/pt485298/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485284/index.html">Recursos do SPIKE ‚Ñ¢ Prime LEGO¬Æ Education</a></li>
<li><a href="../pt485286/index.html">Como pesamos mercadorias ou um pequeno ode de automa√ß√£o</a></li>
<li><a href="../pt485288/index.html">Amor para odiar gamedev'a indie</a></li>
<li><a href="../pt485290/index.html">Guia simples de destila√ß√£o BERT</a></li>
<li><a href="../pt485294/index.html">Curso moderno sobre Node.js em 2020</a></li>
<li><a href="../pt485300/index.html">Novo surto de worms H2Miner que explora Redis RCE foi descoberto</a></li>
<li><a href="../pt485304/index.html">Alguns truques do elemento iframe</a></li>
<li><a href="../pt485312/index.html">DevOps para aplicativos m√≥veis</a></li>
<li><a href="../pt485316/index.html">Todas as SERPs do Google agora parecem an√∫ncios</a></li>
<li><a href="../pt485318/index.html">Adicionando beleza e interatividade aos notebooks Jupyter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>