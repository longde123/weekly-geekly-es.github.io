<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüîß üíÜüèæ üë®üèª‚Äçüíª ¬øQu√© es com√∫n entre pelar huevos y DevOps? üíÖüèª üôãüèΩ ‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aqu√≠ hay una traducci√≥n del art√≠culo de Patrick Lee Scott publicado en hackernoon.com. El autor ofrece familiarizarse con varios principios importante...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øQu√© es com√∫n entre pelar huevos y DevOps?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/plarium/blog/457120/">  Aqu√≠ hay una traducci√≥n del art√≠culo de Patrick Lee Scott publicado en hackernoon.com.  El autor ofrece familiarizarse con varios principios importantes que lo ayudar√°n a bombear DevOps. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/332/c5f/d4f/332c5fd4f164388cbf68b68611547b28.jpg" alt="imagen"><br><br>  Hace un par de d√≠as intent√© pelar un huevo de una manera est√∫pida, y mi novia Angeli me pregunt√≥ por qu√© estaba haciendo esto. <br><br>  Tom√≥ otro huevo duro y lo golpe√≥ en una tabla de cortar, luego lo presion√≥ y lo rod√≥ sobre la mesa.  Le tom√≥ solo 3 segundos limpiar.  Y me puse de pie y me quit√© la concha pieza por pieza. <br><br>  Lo que quiero decir con esto: <b>exageramos la importancia de los esfuerzos.</b> <br><a name="habracut"></a><br>  Las mejores soluciones son simples y efectivas.  ¬øEs dif√≠cil limpiar un tornillo oxidado?  Probablemente si.  Pero solo si no sabe que esto se puede hacer con Coca-Cola.  ¬øTodav√≠a complicado?  No  Solo necesita poner el perno en el vidrio y esperar. <br><br>  Sin conocer t√©cnicas simples, no puedes aplicarlas.  En lugar de implementar, llevas a cabo experimentos; en lugar de replicar, investigas. <br><br>  Si en la programaci√≥n utiliza alg√∫n tipo de enfoque una y otra vez, ya que le permite simplificar el problema que se est√° resolviendo, este enfoque se convierte en una plantilla o la llamada mejor pr√°ctica. <br><br>  A pesar de los nombres complejos y atemorizantes como la segregaci√≥n de responsabilidad de consulta de comando (CQRS) o el aprovisionamiento de eventos (ES), estas pr√°cticas ayudan a resolver problemas.  Especialmente aquellos que surgen al construir sistemas distribuidos. <br><br>  Si observa el desarrollo en su conjunto, veremos que existen principios m√°s universales, por ejemplo, "Keep it Simple, Stupid" (KISS) y "Don't Repeat Yourself" (DRY).  Me gustar√≠a hablar sobre patrones y principios similares en relaci√≥n con DevOps. <br><br>  DevOps a menudo se presenta como la tierra prometida, en la que los p√°jaros cantan y el sol brilla.  Pero sin usar los m√©todos correctos, DevOps se convertir√° en un infierno y perforar√°s todos tus dedos con un caparaz√≥n (como yo). <br><br>  Al crear sistemas DevOps, encontr√© varias soluciones para m√≠ adem√°s de principios universales como KISS y DRY.  Si bien no se pueden llamar plantillas, lo ayudar√°n a limpiar r√°pidamente el huevo.  Estas soluciones (en orden aleatorio): <br><br><ul><li>  No hagas lo que otros han hecho antes que t√∫. </li><li>  Deje que los desarrolladores sean lo m√°s productivos posible. </li><li>  La producci√≥n es un mito. </li><li>  Transfiera todo al cl√∫ster y realice una copia de seguridad del conjunto. </li><li>  La VPN es demasiado complicada; las soluciones son m√°s f√°ciles. </li><li>  ¬°Organiza, automatiza y conquista! </li></ul><br><h3>  Lecci√≥n 1. No hagas lo que otros han hecho antes que t√∫ </h3><br>  Si tiene la oportunidad de comprar un producto terminado o si tiene la herramienta necesaria y conveniente en el dominio p√∫blico, √∫sela. <br><br>  No reinventes la rueda, c√≥mprala. <br><br>  ¬øSab√≠a que puede usar el mismo servidor de correo que Craigslist?  ¬øY qu√© es gratis?  Necesita un servidor de correo: no cree uno nuevo, trabaje con uno existente. <br><br>  Me gusta buscar herramientas en listas incre√≠blemente alojadas o usar Helm Hub para esto. <br><br>  <i>A pesar de que Helm es una herramienta bastante nueva para encontrar software, este sitio ya se ha creado: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://v3.helm.sh/</a></i> <br><br>  Con Helm, puedes buscar f√°cilmente tus bicicletas terminadas. <br><br>  Retrocedamos en el tiempo cuando reci√©n comenzaba a programar.  En noveno grado, aprend√≠ mi primer idioma "real": QBasic.  Antes de eso, he estado creando sitios HTML y CSS durante un par de a√±os.  Entonces, Internet era nuevo, y aunque las personas sab√≠an c√≥mo crear paquetes, no los compart√≠an, como lo somos ahora.  Usualmente usaba disquetes para el almacenamiento; ser√≠a genial encontrarlos junto con un juego como Arkanoid, que escrib√≠ en Java Swing en el grado 11 ... <br><br>  Todo lo que us√© entonces fue bibliotecas est√°ndar, beb√©!  Al menos a los 13 a√±os solo sab√≠a de ellos.  Aunque estoy seguro de que algunos profesionales de Java (¬°hola, Vlad y Nick!) Ya eran geniales entonces.  ;) <br><br>  Ahora todo est√° mal.  Hoy puede encontrar bibliotecas de interfaz de usuario completas.  Puede encontrar una biblioteca para tratar de manera elegante y f√°cil las fechas con un solo comando. <br><br>  Ser√≠a genial si hubiera una herramienta para usar e instalar subsistemas en pleno funcionamiento, ¬øverdad?  ¬øNecesitas una base de datos?  <i>instalar base de datos</i> <br><br>  Buenas noticias: ¬°existe una herramienta as√≠!  Con Helm, tambi√©n puede instalar subsistemas completamente funcionales que est√°n empaquetados y listos para usar. <br><br>  El principio es el mismo que para NPM y Gradle, pero los paquetes que administramos en Helm se denominan gr√°ficos.  Los gr√°ficos marcan los contenedores para que se ejecuten en Kubernetes de varias maneras. <br><br>  Resulta una soluci√≥n llave en mano, comprar una bicicleta.  Los gr√°ficos son la rueda, y los contenedores con descripciones que se ejecutan dentro de Kubernetes son ruedas. <br><br>  Lo bueno de los gr√°ficos es la capacidad de empaquetar servicios y ejecutarlos en cualquier cl√∫ster de Kubernetes e incluso compartirlos con otras personas si lo desea. <br><br>  Esto significa que puede describir todo el entorno utilizando el c√≥digo: <br><br><pre><code class="javascript hljs">- name: backup repository: http:<span class="hljs-comment"><span class="hljs-comment">//jenkins-x-chartmuseum:8080 version: 0.0.2 - name: monitor repository: http://jenkins-x-chartmuseum:8080 version: 0.0.3 - name: marketing-site repository: http://jenkins-x-chartmuseum:8080 version: 1.1.10 - name: denormalizer-service repository: http://jenkins-x-chartmuseum:8080 version: 1.0.0 - name: mongo repository: https://kubernetes-charts.storage.googleapis.com/ version: 1.0.0</span></span></code> </pre> <br>  ¬øNecesita actualizar su sitio de marketing a 1.2.0?  Solo haz cambios y comprom√©tete. <br><br><h3>  Lecci√≥n 2. Deje que los desarrolladores sean lo m√°s productivos posible. </h3><br>  Una vez me sent√© a la mesa, mir√© mi c√≥digo e intent√© rastrear el error.  Los usuarios han estado quej√°ndose de √©l durante varias semanas, y finalmente tuve un poco de tiempo libre para pasar el rato. <br><br>  Tada-a-am!  Lo encontr√©!  Arreglado! <br><br>  Me sent√© detr√°s de una partici√≥n en mi lugar de trabajo en una habitaci√≥n iluminada por el sol y grit√© a los dem√°s: "¬°Arregl√© el error!" <br><br>  El pr√≥ximo martes, cuando los usuarios vean el lanzamiento, ¬°definitivamente apreciar√°n mis esfuerzos!  Pero para esto tendremos que empacar e intentar mover el lanzamiento del lugar ... Tal vez tengamos √©xito si no sucede nada ... <br><br>  Bueno, est√° bien, <i>si el</i> lanzamiento a√∫n llega el pr√≥ximo martes, ¬°los usuarios definitivamente lo apreciar√°n! <br><br>  As√≠ fue como hice el despliegue en mi primer trabajo universitario, como programador junior. <br><br>  Desde entonces, mucho ha cambiado. <br><br>  Ahora uso el desarrollo basado en troncales y despliego m√≥dulos muchas veces al d√≠a.  Cuando env√≠o una solicitud de extracci√≥n, el bot publicar√° un comentario correspondiente con el c√≥digo de revisi√≥n con el entorno recopilado despu√©s de que las pruebas hayan pasado y las compilaciones se hayan recopilado. <br><br>  Hoy no tienes que gritar a trav√©s de la partici√≥n en la oficina. <br><br>  Cuanta m√°s libertad les d√© a los programadores, la libertad de controlar las partes de la infraestructura que necesitan, m√°s f√°cil le resultar√° trabajar como ingeniero de DevOps. <br><br>  En la primera lecci√≥n, vimos que para actualizar en producci√≥n es suficiente cambiar un d√≠gito y confirmar.  En un mundo ideal en el que empaquetamos aplicaciones en gr√°ficos, cada programador de un equipo tiene la oportunidad de influir en el funcionamiento de la herramienta en la etapa de producci√≥n.  Kubernetes entiende los gr√°ficos como descripciones de contenedores, por lo que describen los requisitos de recursos. <br><br>  La l√≥gica es algo como esto: no puedo adivinar cu√°nta memoria o qu√© configuraciones de CPU se necesitar√°n para un nuevo servicio (y creo que no soy el √∫nico).  Por lo tanto, tambi√©n implemento monitoreo y alertas con reglas seg√∫n las cuales mi equipo y yo seremos informados en Slack de que estas configuraciones deben modificarse.  Es decir, el sistema le informar√° sobre la configuraci√≥n necesaria cuando la implementemos.  Sol√≠a ‚Äã‚Äãsentarme durante horas, enviando solicitudes a trav√©s de Prometheus y ajustando la configuraci√≥n, al igual que sol√≠a elegir el caparaz√≥n.  Y ahora he aprendido a hacer todo sabiamente. <br><br>  Ya puedo o√≠rte decir: "¬°Suena demasiado complicado!"  No  Solo establece el gr√°fico. <br><br>  Si puede automatizar o simplificar algo, contin√∫e.  Por ejemplo, ¬øqu√© pasar√≠a si pudiera asignar una ruta DNS simplemente desplegando el servicio con la etiqueta "exponer: verdadero"?  Aqu√≠ es donde aparecen los operadores.  Esta es una herramienta de Kubernetes m√°s avanzada, y deber√≠a conocerla.  Pero no profundicemos demasiado en los detalles. <br><br><h3>  Lecci√≥n 3. La producci√≥n es un mito. </h3><br>  Esta fue una verdadera revelaci√≥n para m√≠.  Ten√≠a que mirar las cosas desde un √°ngulo diferente, as√≠ que escucha con atenci√≥n. <br><br>  Durante m√°s de diez a√±os, pens√© que en el mundo solo hay unos pocos tipos de entornos.  En el escenario m√°s simple, hay puesta en escena y producci√≥n del medio ambiente.  Primero se implement√≥ en la puesta en escena, luego se prob√≥, se pas√≥ a la siguiente etapa, se implement√≥, se prob√≥, etc.  Tan pronto como todo est√© unido, el hijo est√° integrado, puede entrar en producci√≥n. <br><br>  Segu√≠ este patr√≥n a√±o tras a√±o y nunca lo dud√©.  Siempre ha sido as√≠. <br><br>  Y este esquema es otra forma improductiva de deshacerse del caparaz√≥n. <br><br>  En esencia, un gr√°fico es un gr√°fico de dependencia.  Se puede usar para representar el entorno, y luego el proceso de implementaci√≥n en producci√≥n se reduce a la implementaci√≥n de un solo gr√°fico. <br><br>  Si cada equipo, proyecto o grupo conectado por un contexto com√∫n tiene su propio gr√°fico, aparecen varios entornos que le permiten agrupar y actualizar todos los servicios en una sola transacci√≥n. <br><br>  No tome la producci√≥n como un gran entorno que lo abarca todo, de hecho, es una gran cantidad de producci√≥n peque√±a. <br><br>  Los cambios importantes son aterradores en su escala.  Y si tiene varios entornos de desarrollo peque√±os, puede aislar los cambios y hacer que el sistema sea m√°s flexible. <br><br>  Adem√°s, si todo est√° organizado en forma de gr√°ficos, las variables se establecer√°n y se pueden cambiar desde el exterior, de la misma manera.  Por ejemplo, para conectar un cluster kafka menos potente a la preproducci√≥n, donde no es necesario, solo necesita cambiar la configuraci√≥n. <br><br><h3>  Lecci√≥n 4. Transfiera todo al cl√∫ster y realice una copia de seguridad de todo </h3><br>  Entonces, resolvimos la producci√≥n.  ¬øQu√© hacer con las bases de datos?  Con kafka?  Con problemas de seguridad? <br><br>  Si lees detenidamente, recuerda: escrib√≠ que las bases de datos se pueden incluir en el paquete de gr√°ficos. <br><br>  Kubernetes tiene una API separada para ejecutar bases de datos y otras aplicaciones con estado en una forma conveniente: <b><i>StatefulSets.</i></b> <br><br>  La esencia misma de Kubernetes es mejorar la confiabilidad del lanzamiento del contenedor.  Con √©l y con la herramienta Velero (instalada a trav√©s de Helm Chart), puede crear una copia de seguridad de todo el cl√∫ster de Kubernetes, junto con los discos adjuntos, por ejemplo, los creados por StatefulSet, y restaurar todo con un solo comando.  Adem√°s, es f√°cil configurar la copia de seguridad autom√°tica en un horario. <br><br>  Las copias de seguridad, la recuperaci√≥n en un equipo y el administrador de Kubernetes lo ayudar√°n a implementar un cl√∫ster completamente nuevo y restaurar su copia de seguridad con solo dos equipos.  Un m√°ximo de tres, si primero desea crear una nueva copia de seguridad. <br><br>  En lugar de pensar en servidores, puede operar en cl√∫steres completos. <br><br>  ¬øEs molesta la preproducci√≥n?  Qu√≠telo de la vista - a la distancia de copia de seguridad, recuperaci√≥n y cambio de DNS. <br><br><h3>  Lecci√≥n 5. VPN es demasiado complicado, hay soluciones m√°s f√°ciles </h3><br>  <i>¬øAlguna vez has usado una VPN con placer?</i> <br><br>  No realmente.  <i>¬øEs posible?</i> <br><br>  Google tuvo tal intento.  Pero hace un par de a√±os, la compa√±√≠a anunci√≥ que no usar√≠a una VPN.  Creo que tampoco lo disfrutaron. <br><br>  Google cambi√≥ a redes sin confianza.  No tienen una clave maestra adecuada para ninguna red, pero a la entrada de cada servicio hay una clave en forma de pantalla de inicio de sesi√≥n SSO.  ¬øDesea iniciar sesi√≥n en el servicio de monitoreo?  Inicie sesi√≥n con el nombre de usuario y contrase√±a de su empresa. <br><br>  Solo se necesita un peque√±o turno: en lugar de usar una VPN para la autorizaci√≥n, use un proxy. <br><br>  La VPN tambi√©n aloja el enlace de administraci√≥n de Kubernetes en la red privada, mientras que SSO no.  Pero tienen su propio mecanismo de autorizaci√≥n.  En el caso de Google Cloud y AWS, esta es la Gesti√≥n de Identidad y Acceso (IAM) y la capacidad de incluir en la lista blanca las direcciones IP. <br><br>  Si es posible trabajar con una arquitectura menos voluminosa sin mucha p√©rdida, ¬øpor qu√© no?  Sea como Google: cambie de VPN a sistemas "sin confianza". <br><br><h3>  Lecci√≥n 6. Organizar, automatizar y conquistar </h3><br>  Ah, ¬øte parece que sistematizar es mucho tiempo?  ¬°Tonter√≠as!  En el futuro, esto le ahorrar√° horas, d√≠as e incluso semanas.  A trabajar! <br><br>  La sistematizaci√≥n es la √∫nica forma realista de recrear la infraestructura m√°s de una vez. <br><br>  Si cada elemento de configuraci√≥n se puede mejorar cambiando y confirmando algo en git, esencialmente toda su organizaci√≥n tecnol√≥gica es declarativa.  Cualquier desarrollador con acceso a git puede mantener f√°cilmente cualquier sistema en condiciones de trabajo. <br><br>  Para hacer esto, use varios repositorios peque√±os.  Los monorepos hacen que las personas corten esquinas y dependan de estructuras con importancia artificial.  En cambio, es mejor usar muchos repositorios peque√±os que puede vincular m√°s adelante. <br><br>  Mi amigo Matt y yo estamos creando una herramienta llamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>meta</i></a> para ayudar a hacer esto en la etapa de desarrollo.  Helm hace esto en la etapa de producci√≥n: ¬°para √©l todo es un gr√°fico de dependencia! <br><br><h3>  Conclusi√≥n </h3><br>  No recoja la c√°scara del huevo pieza por pieza.  Batir y rodar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/457120/">https://habr.com/ru/post/457120/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457110/index.html">Prueba unitaria de C ++ y patrones de inyecci√≥n simulados utilizando rasgos</a></li>
<li><a href="../457112/index.html">Los resultados de HolyJS 2019 Piter</a></li>
<li><a href="../457114/index.html">Elija un sistema de videovigilancia: nube frente a local con Internet</a></li>
<li><a href="../457116/index.html">AvaloniaUI cuenta con el cuadro de mensaje personalizado</a></li>
<li><a href="../457118/index.html">Habr Weekly # 6 / Runet est√° listo para aislarse, Adobe est√° buscando rastros de Photoshop, vulnerabilidad Vim, geo-chat en el carrito y algo m√°s</a></li>
<li><a href="../457128/index.html">Situaci√≥n: ¬øLas empresas de AdTech violan el RGPD?</a></li>
<li><a href="../457132/index.html">Sustituci√≥n de importaciones en la pr√°ctica. Parte 3.1. "QP OS". La primera revisi√≥n de este tipo del sistema operativo</a></li>
<li><a href="../457134/index.html">El cerebro acelera la percepci√≥n, adivinando lo que suceder√° despu√©s</a></li>
<li><a href="../457136/index.html">Factores clave de una habilitaci√≥n exitosa del equipo</a></li>
<li><a href="../457138/index.html">Friday Post: Preguntas que aman las chicas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>