<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🔧 💆🏾 👨🏻‍💻 ¿Qué es común entre pelar huevos y DevOps? 💅🏻 🙋🏽 ✈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aquí hay una traducción del artículo de Patrick Lee Scott publicado en hackernoon.com. El autor ofrece familiarizarse con varios principios importante...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¿Qué es común entre pelar huevos y DevOps?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/plarium/blog/457120/">  Aquí hay una traducción del artículo de Patrick Lee Scott publicado en hackernoon.com.  El autor ofrece familiarizarse con varios principios importantes que lo ayudarán a bombear DevOps. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/332/c5f/d4f/332c5fd4f164388cbf68b68611547b28.jpg" alt="imagen"><br><br>  Hace un par de días intenté pelar un huevo de una manera estúpida, y mi novia Angeli me preguntó por qué estaba haciendo esto. <br><br>  Tomó otro huevo duro y lo golpeó en una tabla de cortar, luego lo presionó y lo rodó sobre la mesa.  Le tomó solo 3 segundos limpiar.  Y me puse de pie y me quité la concha pieza por pieza. <br><br>  Lo que quiero decir con esto: <b>exageramos la importancia de los esfuerzos.</b> <br><a name="habracut"></a><br>  Las mejores soluciones son simples y efectivas.  ¿Es difícil limpiar un tornillo oxidado?  Probablemente si.  Pero solo si no sabe que esto se puede hacer con Coca-Cola.  ¿Todavía complicado?  No  Solo necesita poner el perno en el vidrio y esperar. <br><br>  Sin conocer técnicas simples, no puedes aplicarlas.  En lugar de implementar, llevas a cabo experimentos; en lugar de replicar, investigas. <br><br>  Si en la programación utiliza algún tipo de enfoque una y otra vez, ya que le permite simplificar el problema que se está resolviendo, este enfoque se convierte en una plantilla o la llamada mejor práctica. <br><br>  A pesar de los nombres complejos y atemorizantes como la segregación de responsabilidad de consulta de comando (CQRS) o el aprovisionamiento de eventos (ES), estas prácticas ayudan a resolver problemas.  Especialmente aquellos que surgen al construir sistemas distribuidos. <br><br>  Si observa el desarrollo en su conjunto, veremos que existen principios más universales, por ejemplo, "Keep it Simple, Stupid" (KISS) y "Don't Repeat Yourself" (DRY).  Me gustaría hablar sobre patrones y principios similares en relación con DevOps. <br><br>  DevOps a menudo se presenta como la tierra prometida, en la que los pájaros cantan y el sol brilla.  Pero sin usar los métodos correctos, DevOps se convertirá en un infierno y perforarás todos tus dedos con un caparazón (como yo). <br><br>  Al crear sistemas DevOps, encontré varias soluciones para mí además de principios universales como KISS y DRY.  Si bien no se pueden llamar plantillas, lo ayudarán a limpiar rápidamente el huevo.  Estas soluciones (en orden aleatorio): <br><br><ul><li>  No hagas lo que otros han hecho antes que tú. </li><li>  Deje que los desarrolladores sean lo más productivos posible. </li><li>  La producción es un mito. </li><li>  Transfiera todo al clúster y realice una copia de seguridad del conjunto. </li><li>  La VPN es demasiado complicada; las soluciones son más fáciles. </li><li>  ¡Organiza, automatiza y conquista! </li></ul><br><h3>  Lección 1. No hagas lo que otros han hecho antes que tú </h3><br>  Si tiene la oportunidad de comprar un producto terminado o si tiene la herramienta necesaria y conveniente en el dominio público, úsela. <br><br>  No reinventes la rueda, cómprala. <br><br>  ¿Sabía que puede usar el mismo servidor de correo que Craigslist?  ¿Y qué es gratis?  Necesita un servidor de correo: no cree uno nuevo, trabaje con uno existente. <br><br>  Me gusta buscar herramientas en listas increíblemente alojadas o usar Helm Hub para esto. <br><br>  <i>A pesar de que Helm es una herramienta bastante nueva para encontrar software, este sitio ya se ha creado: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://v3.helm.sh/</a></i> <br><br>  Con Helm, puedes buscar fácilmente tus bicicletas terminadas. <br><br>  Retrocedamos en el tiempo cuando recién comenzaba a programar.  En noveno grado, aprendí mi primer idioma "real": QBasic.  Antes de eso, he estado creando sitios HTML y CSS durante un par de años.  Entonces, Internet era nuevo, y aunque las personas sabían cómo crear paquetes, no los compartían, como lo somos ahora.  Usualmente usaba disquetes para el almacenamiento; sería genial encontrarlos junto con un juego como Arkanoid, que escribí en Java Swing en el grado 11 ... <br><br>  Todo lo que usé entonces fue bibliotecas estándar, bebé!  Al menos a los 13 años solo sabía de ellos.  Aunque estoy seguro de que algunos profesionales de Java (¡hola, Vlad y Nick!) Ya eran geniales entonces.  ;) <br><br>  Ahora todo está mal.  Hoy puede encontrar bibliotecas de interfaz de usuario completas.  Puede encontrar una biblioteca para tratar de manera elegante y fácil las fechas con un solo comando. <br><br>  Sería genial si hubiera una herramienta para usar e instalar subsistemas en pleno funcionamiento, ¿verdad?  ¿Necesitas una base de datos?  <i>instalar base de datos</i> <br><br>  Buenas noticias: ¡existe una herramienta así!  Con Helm, también puede instalar subsistemas completamente funcionales que están empaquetados y listos para usar. <br><br>  El principio es el mismo que para NPM y Gradle, pero los paquetes que administramos en Helm se denominan gráficos.  Los gráficos marcan los contenedores para que se ejecuten en Kubernetes de varias maneras. <br><br>  Resulta una solución llave en mano, comprar una bicicleta.  Los gráficos son la rueda, y los contenedores con descripciones que se ejecutan dentro de Kubernetes son ruedas. <br><br>  Lo bueno de los gráficos es la capacidad de empaquetar servicios y ejecutarlos en cualquier clúster de Kubernetes e incluso compartirlos con otras personas si lo desea. <br><br>  Esto significa que puede describir todo el entorno utilizando el código: <br><br><pre><code class="javascript hljs">- name: backup repository: http:<span class="hljs-comment"><span class="hljs-comment">//jenkins-x-chartmuseum:8080 version: 0.0.2 - name: monitor repository: http://jenkins-x-chartmuseum:8080 version: 0.0.3 - name: marketing-site repository: http://jenkins-x-chartmuseum:8080 version: 1.1.10 - name: denormalizer-service repository: http://jenkins-x-chartmuseum:8080 version: 1.0.0 - name: mongo repository: https://kubernetes-charts.storage.googleapis.com/ version: 1.0.0</span></span></code> </pre> <br>  ¿Necesita actualizar su sitio de marketing a 1.2.0?  Solo haz cambios y comprométete. <br><br><h3>  Lección 2. Deje que los desarrolladores sean lo más productivos posible. </h3><br>  Una vez me senté a la mesa, miré mi código e intenté rastrear el error.  Los usuarios han estado quejándose de él durante varias semanas, y finalmente tuve un poco de tiempo libre para pasar el rato. <br><br>  Tada-a-am!  Lo encontré!  Arreglado! <br><br>  Me senté detrás de una partición en mi lugar de trabajo en una habitación iluminada por el sol y grité a los demás: "¡Arreglé el error!" <br><br>  El próximo martes, cuando los usuarios vean el lanzamiento, ¡definitivamente apreciarán mis esfuerzos!  Pero para esto tendremos que empacar e intentar mover el lanzamiento del lugar ... Tal vez tengamos éxito si no sucede nada ... <br><br>  Bueno, está bien, <i>si el</i> lanzamiento aún llega el próximo martes, ¡los usuarios definitivamente lo apreciarán! <br><br>  Así fue como hice el despliegue en mi primer trabajo universitario, como programador junior. <br><br>  Desde entonces, mucho ha cambiado. <br><br>  Ahora uso el desarrollo basado en troncales y despliego módulos muchas veces al día.  Cuando envío una solicitud de extracción, el bot publicará un comentario correspondiente con el código de revisión con el entorno recopilado después de que las pruebas hayan pasado y las compilaciones se hayan recopilado. <br><br>  Hoy no tienes que gritar a través de la partición en la oficina. <br><br>  Cuanta más libertad les dé a los programadores, la libertad de controlar las partes de la infraestructura que necesitan, más fácil le resultará trabajar como ingeniero de DevOps. <br><br>  En la primera lección, vimos que para actualizar en producción es suficiente cambiar un dígito y confirmar.  En un mundo ideal en el que empaquetamos aplicaciones en gráficos, cada programador de un equipo tiene la oportunidad de influir en el funcionamiento de la herramienta en la etapa de producción.  Kubernetes entiende los gráficos como descripciones de contenedores, por lo que describen los requisitos de recursos. <br><br>  La lógica es algo como esto: no puedo adivinar cuánta memoria o qué configuraciones de CPU se necesitarán para un nuevo servicio (y creo que no soy el único).  Por lo tanto, también implemento monitoreo y alertas con reglas según las cuales mi equipo y yo seremos informados en Slack de que estas configuraciones deben modificarse.  Es decir, el sistema le informará sobre la configuración necesaria cuando la implementemos.  Solía ​​sentarme durante horas, enviando solicitudes a través de Prometheus y ajustando la configuración, al igual que solía elegir el caparazón.  Y ahora he aprendido a hacer todo sabiamente. <br><br>  Ya puedo oírte decir: "¡Suena demasiado complicado!"  No  Solo establece el gráfico. <br><br>  Si puede automatizar o simplificar algo, continúe.  Por ejemplo, ¿qué pasaría si pudiera asignar una ruta DNS simplemente desplegando el servicio con la etiqueta "exponer: verdadero"?  Aquí es donde aparecen los operadores.  Esta es una herramienta de Kubernetes más avanzada, y debería conocerla.  Pero no profundicemos demasiado en los detalles. <br><br><h3>  Lección 3. La producción es un mito. </h3><br>  Esta fue una verdadera revelación para mí.  Tenía que mirar las cosas desde un ángulo diferente, así que escucha con atención. <br><br>  Durante más de diez años, pensé que en el mundo solo hay unos pocos tipos de entornos.  En el escenario más simple, hay puesta en escena y producción del medio ambiente.  Primero se implementó en la puesta en escena, luego se probó, se pasó a la siguiente etapa, se implementó, se probó, etc.  Tan pronto como todo esté unido, el hijo está integrado, puede entrar en producción. <br><br>  Seguí este patrón año tras año y nunca lo dudé.  Siempre ha sido así. <br><br>  Y este esquema es otra forma improductiva de deshacerse del caparazón. <br><br>  En esencia, un gráfico es un gráfico de dependencia.  Se puede usar para representar el entorno, y luego el proceso de implementación en producción se reduce a la implementación de un solo gráfico. <br><br>  Si cada equipo, proyecto o grupo conectado por un contexto común tiene su propio gráfico, aparecen varios entornos que le permiten agrupar y actualizar todos los servicios en una sola transacción. <br><br>  No tome la producción como un gran entorno que lo abarca todo, de hecho, es una gran cantidad de producción pequeña. <br><br>  Los cambios importantes son aterradores en su escala.  Y si tiene varios entornos de desarrollo pequeños, puede aislar los cambios y hacer que el sistema sea más flexible. <br><br>  Además, si todo está organizado en forma de gráficos, las variables se establecerán y se pueden cambiar desde el exterior, de la misma manera.  Por ejemplo, para conectar un cluster kafka menos potente a la preproducción, donde no es necesario, solo necesita cambiar la configuración. <br><br><h3>  Lección 4. Transfiera todo al clúster y realice una copia de seguridad de todo </h3><br>  Entonces, resolvimos la producción.  ¿Qué hacer con las bases de datos?  Con kafka?  Con problemas de seguridad? <br><br>  Si lees detenidamente, recuerda: escribí que las bases de datos se pueden incluir en el paquete de gráficos. <br><br>  Kubernetes tiene una API separada para ejecutar bases de datos y otras aplicaciones con estado en una forma conveniente: <b><i>StatefulSets.</i></b> <br><br>  La esencia misma de Kubernetes es mejorar la confiabilidad del lanzamiento del contenedor.  Con él y con la herramienta Velero (instalada a través de Helm Chart), puede crear una copia de seguridad de todo el clúster de Kubernetes, junto con los discos adjuntos, por ejemplo, los creados por StatefulSet, y restaurar todo con un solo comando.  Además, es fácil configurar la copia de seguridad automática en un horario. <br><br>  Las copias de seguridad, la recuperación en un equipo y el administrador de Kubernetes lo ayudarán a implementar un clúster completamente nuevo y restaurar su copia de seguridad con solo dos equipos.  Un máximo de tres, si primero desea crear una nueva copia de seguridad. <br><br>  En lugar de pensar en servidores, puede operar en clústeres completos. <br><br>  ¿Es molesta la preproducción?  Quítelo de la vista - a la distancia de copia de seguridad, recuperación y cambio de DNS. <br><br><h3>  Lección 5. VPN es demasiado complicado, hay soluciones más fáciles </h3><br>  <i>¿Alguna vez has usado una VPN con placer?</i> <br><br>  No realmente.  <i>¿Es posible?</i> <br><br>  Google tuvo tal intento.  Pero hace un par de años, la compañía anunció que no usaría una VPN.  Creo que tampoco lo disfrutaron. <br><br>  Google cambió a redes sin confianza.  No tienen una clave maestra adecuada para ninguna red, pero a la entrada de cada servicio hay una clave en forma de pantalla de inicio de sesión SSO.  ¿Desea iniciar sesión en el servicio de monitoreo?  Inicie sesión con el nombre de usuario y contraseña de su empresa. <br><br>  Solo se necesita un pequeño turno: en lugar de usar una VPN para la autorización, use un proxy. <br><br>  La VPN también aloja el enlace de administración de Kubernetes en la red privada, mientras que SSO no.  Pero tienen su propio mecanismo de autorización.  En el caso de Google Cloud y AWS, esta es la Gestión de Identidad y Acceso (IAM) y la capacidad de incluir en la lista blanca las direcciones IP. <br><br>  Si es posible trabajar con una arquitectura menos voluminosa sin mucha pérdida, ¿por qué no?  Sea como Google: cambie de VPN a sistemas "sin confianza". <br><br><h3>  Lección 6. Organizar, automatizar y conquistar </h3><br>  Ah, ¿te parece que sistematizar es mucho tiempo?  ¡Tonterías!  En el futuro, esto le ahorrará horas, días e incluso semanas.  A trabajar! <br><br>  La sistematización es la única forma realista de recrear la infraestructura más de una vez. <br><br>  Si cada elemento de configuración se puede mejorar cambiando y confirmando algo en git, esencialmente toda su organización tecnológica es declarativa.  Cualquier desarrollador con acceso a git puede mantener fácilmente cualquier sistema en condiciones de trabajo. <br><br>  Para hacer esto, use varios repositorios pequeños.  Los monorepos hacen que las personas corten esquinas y dependan de estructuras con importancia artificial.  En cambio, es mejor usar muchos repositorios pequeños que puede vincular más adelante. <br><br>  Mi amigo Matt y yo estamos creando una herramienta llamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i>meta</i></a> para ayudar a hacer esto en la etapa de desarrollo.  Helm hace esto en la etapa de producción: ¡para él todo es un gráfico de dependencia! <br><br><h3>  Conclusión </h3><br>  No recoja la cáscara del huevo pieza por pieza.  Batir y rodar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/457120/">https://habr.com/ru/post/457120/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457110/index.html">Prueba unitaria de C ++ y patrones de inyección simulados utilizando rasgos</a></li>
<li><a href="../457112/index.html">Los resultados de HolyJS 2019 Piter</a></li>
<li><a href="../457114/index.html">Elija un sistema de videovigilancia: nube frente a local con Internet</a></li>
<li><a href="../457116/index.html">AvaloniaUI cuenta con el cuadro de mensaje personalizado</a></li>
<li><a href="../457118/index.html">Habr Weekly # 6 / Runet está listo para aislarse, Adobe está buscando rastros de Photoshop, vulnerabilidad Vim, geo-chat en el carrito y algo más</a></li>
<li><a href="../457128/index.html">Situación: ¿Las empresas de AdTech violan el RGPD?</a></li>
<li><a href="../457132/index.html">Sustitución de importaciones en la práctica. Parte 3.1. "QP OS". La primera revisión de este tipo del sistema operativo</a></li>
<li><a href="../457134/index.html">El cerebro acelera la percepción, adivinando lo que sucederá después</a></li>
<li><a href="../457136/index.html">Factores clave de una habilitación exitosa del equipo</a></li>
<li><a href="../457138/index.html">Friday Post: Preguntas que aman las chicas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>