<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçî üåô üï∫üèø O MongoDB foi a escolha certa? üë®‚Äçüëß‚Äçüëß ‚ö∞Ô∏è üë®üèº‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recentemente, descobri que a Red Hat est√° removendo o suporte ao MongoDB do Satellite (dizem eles devido a altera√ß√µes de licen√ßa). Isso me fez pensar ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O MongoDB foi a escolha certa?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446180/">  Recentemente, descobri que a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Red Hat est√° removendo o suporte ao MongoDB do Satellite</a> (dizem eles devido a altera√ß√µes de licen√ßa).  Isso me fez pensar que, nos √∫ltimos anos, vi v√°rios artigos sobre o qu√£o terr√≠vel √© o MongoDB e que ningu√©m deveria us√°-lo.  Mas durante esse per√≠odo, o MongoDB se tornou um produto muito mais maduro.  O que aconteceu?  Todo o √≥dio √© realmente devido a erros no in√≠cio da comercializa√ß√£o de um novo DBMS?  Ou as pessoas simplesmente usam o MongoDB em um lugar errado? <br><br>  Se, de repente, voc√™ sentir que estou protegendo o MongoDB, leia o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aviso</a> no final do artigo. <br><a name="habracut"></a><br><h1>  Nova tend√™ncia </h1><br>  Trabalho na ind√∫stria de software h√° tempo mais do que suficiente para falar decentemente, mas, mesmo assim, apenas uma pequena parte das tend√™ncias que atingiram nossa ind√∫stria foram respons√°veis ‚Äã‚Äãpor mim.  Eu testemunhei o crescimento de 4GL, AOP, Agile, SOA, Web 2.0, AJAX, blockchain ... a lista √© intermin√°vel.  Todos os anos, novas tend√™ncias aparecem.  Alguns desaparecem rapidamente, enquanto outros mudam fundamentalmente a maneira como o software √© desenvolvido. <br><br>  Em torno de cada nova tend√™ncia, cria-se uma certa empolga√ß√£o geral: as pessoas pulam no barco ou v√™em o ru√≠do gerado por outras pessoas - e seguem a multid√£o.  Esse processo √© codificado pelo Gartner em um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ciclo de hype</a> .  Embora controverso, este gr√°fico descreve aproximadamente o que acontece com as tecnologias antes que elas se tornem utiliz√°veis. <br><br>  Mas, de tempos em tempos, uma nova inova√ß√£o aparece (ou acontece uma segunda vinda, como neste caso), impulsionada por apenas uma implementa√ß√£o espec√≠fica.  No caso do NoSQL, o hype foi fortemente impulsionado pelo advento e r√°pido aumento do MongoDB.  O MongoDB n√£o lan√ßou essa tend√™ncia: de fato, grandes empresas de Internet come√ßaram a ter problemas no processamento de grandes quantidades de dados, o que levou ao retorno de bancos de dados n√£o relacionais.  O movimento geral come√ßou com projetos como o Bigtable do Google e Cassandra do Facebook, mas foi o MongoDB que se tornou a implementa√ß√£o mais famosa e acess√≠vel do banco de dados NoSQL, √† qual a maioria dos desenvolvedores teve acesso. <br><br>  <i>Nota: voc√™ pode pensar que estou misturando bancos de dados de documentos com bancos de dados de colunas, armazenamentos de chave / valor ou qualquer um dos muitos outros tipos de armazenamentos de dados que se enquadram na defini√ß√£o geral de NoSQL.</i>  <i>E voc√™ est√° certo.</i>  <i>Mas naquele tempo reinou o caos.</i>  <i>Todos estavam obcecados com o NoSQL, todos precisavam <b>absolutamente</b> dele, embora muitos n√£o percebessem as diferen√ßas nas diferentes tecnologias.</i>  <i>Para muitos, o MongoDB tornou-se <b>sin√¥nimo de</b> NoSQL.</i> <br><br>  E os desenvolvedores a atacaram.  Foi uma ideia bastante tentadora ter um banco de dados sem um esquema que fosse escalado magicamente para resolver qualquer problema.  Por volta de 2014, parecia que em todos os lugares em que um banco de dados relacional era usado h√° um ano, como MySQL, Postgres ou SQL Server, os bancos de dados MongoDB come√ßaram a ser implantados.  Para a pergunta por que, voc√™ pode obter uma resposta do banal "esta √© a escala da web" para o mais ponderado "meus dados s√£o muito mal estruturados e se encaixam bem no banco de dados sem um esquema". <br><br>  √â importante lembrar que o MongoDB e os bancos de dados de documentos geralmente resolvem v√°rios problemas com os bancos de dados relacionais tradicionais: <br><br><ul><li>  <b>Esquema estrito</b> : com um banco de dados relacional, se voc√™ gerou dados dinamicamente, voc√™ √© for√ßado a criar um monte de colunas de dados "diferentes" aleat√≥rias, enviar blobs de dados para l√° ou usar a configura√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">EAV</a> ... tudo isso tem desvantagens significativas. <br></li><li>  <b>A dificuldade do dimensionamento</b> : se houver tantos dados que eles n√£o cabem em um √∫nico servidor, o MongoDB prop√¥s mecanismos para dimension√°-los em v√°rias m√°quinas. <br></li><li>  <b>Modifica√ß√µes sofisticadas do circuito</b> : sem migra√ß√µes!  Em um banco de dados relacional, alterar a estrutura do banco de dados pode ser um grande problema (especialmente quando h√° muitos dados).  O MongoDB conseguiu simplificar bastante o processo.  E tornou tudo t√£o f√°cil que voc√™ pode simplesmente atualizar o circuito em movimento e seguir em frente muito rapidamente. <br></li><li>  Desempenho de <b>grava√ß√£o</b> : o desempenho do MongoDB foi bom, principalmente com o ajuste adequado.  Mesmo a configura√ß√£o do MongoDB pronta para uso, pela qual era frequentemente criticada, mostrava algumas m√©tricas de desempenho impressionantes. </li></ul><br><h1>  Todos os riscos est√£o em voc√™. </h1><br>  Os benef√≠cios potenciais do MongoDB eram enormes, especialmente para certas classes de problemas.  Se voc√™ ler a lista acima sem entender o contexto e n√£o ter experi√™ncia, poder√° ter a impress√£o de que o MongoDB √© realmente um DBMS revolucion√°rio.  O √∫nico problema foi que as vantagens acima foram acompanhadas de v√°rias reservas, algumas das quais listadas abaixo. <br><br>  Para ser justo, ningu√©m na 10gen / MongoDB Inc.  ele n√£o dir√° que o seguinte n√£o √© verdade; √© apenas um compromisso. <br><br><ul><li>  <b>Perda de transa√ß√µes</b> : as transa√ß√µes s√£o uma caracter√≠stica importante de muitos bancos de dados relacionais (n√£o todos, mas a maioria).  Transacional significa que voc√™ pode executar v√°rias opera√ß√µes atomicamente e garantir que os dados permane√ßam consistentes.  Obviamente, com um banco de dados NoSQL, a transacionalidade pode estar no mesmo documento ou voc√™ pode usar confirma√ß√µes de duas fases para obter sem√¢ntica transacional.  Mas voc√™ mesmo precisa implementar essa funcionalidade ... o que pode ser uma tarefa complexa e demorada.  Frequentemente, voc√™ n√£o est√° ciente do problema at√© ver que os dados no banco de dados caem em estados inaceit√°veis, porque √© imposs√≠vel garantir a atomicidade das opera√ß√µes.  <b>Nota: muitos me disseram que as transa√ß√µes apareceram no MongoDB 4.0 no ano passado, mas com v√°rias limita√ß√µes.</b>  <b>A conclus√£o do artigo permanece a mesma: avalie como a tecnologia atende √†s suas necessidades.</b> <br></li><li>  <b>Perda de integridade relacional (chaves estrangeiras)</b> : se houver um relacionamento em seus dados, voc√™ dever√° aplic√°-lo no aplicativo.  Ter um banco de dados em conformidade com esses relacionamentos remover√° uma parte significativa do trabalho do aplicativo e, portanto, dos programadores. <br></li><li>  <b>Falta de capacidade de aplicar a estrutura de dados</b> : esquemas r√≠gidos √†s vezes se tornam um grande problema, mas tamb√©m √© um mecanismo poderoso para uma boa estrutura√ß√£o de dados, se usado corretamente.  Os bancos de dados de documentos, como o MongoDB, oferecem incr√≠vel flexibilidade de esquema, mas essa flexibilidade remove a responsabilidade de manter os dados limpos.  Se voc√™ n√£o cuidar deles, no final, voc√™ precisar√° escrever muito c√≥digo no aplicativo para dar conta dos dados que n√£o est√£o armazenados no formato que voc√™ espera.  Como nossa empresa costuma dizer Simple Thread ... algum dia o aplicativo ser√° reescrito e os dados permanecer√£o para sempre.  <b>Nota: O MongoDB suporta valida√ß√£o de esquema: √© √∫til, mas n√£o fornece as mesmas garantias que em um banco de dados relacional.</b>  <b>Antes de tudo, adicionar ou modificar uma verifica√ß√£o de esquema n√£o afeta os dados existentes na cole√ß√£o.</b>  <b>Voc√™ mesmo deve se certificar de atualizar os dados de acordo com o novo esquema.</b>  <b>Decida por si mesmo se isso √© suficiente para suas necessidades.</b> <br></li><li>  <b>Linguagem de consulta nativa / perda do ecossistema de ferramentas</b> : o advento do SQL tornou-se uma revolu√ß√£o absoluta e nada mudou desde ent√£o.  √â uma linguagem incrivelmente poderosa, mas tamb√©m bastante complexa.  A necessidade de projetar consultas ao banco de dados em uma nova linguagem que consiste em fragmentos JSON √© considerada um grande passo atr√°s por pessoas com experi√™ncia em SQL.  H√° todo um universo de ferramentas que interagem com os bancos de dados SQL: do IDE √†s ferramentas de relat√≥rio.  Ir a um banco de dados que n√£o suporta SQL significa que voc√™ n√£o pode usar a maioria dessas ferramentas ou precisa converter os dados em SQL para us√°-los, e isso pode ser mais dif√≠cil do que voc√™ pensa. </li></ul><br>  Muitos desenvolvedores que se voltaram para o MongoDB realmente n√£o entendiam as vantagens e desviam-se, definindo-o como o principal reposit√≥rio de dados.  Depois disso, muitas vezes era incrivelmente dif√≠cil voltar. <br><br><h1>  O que poderia ter sido feito de maneira diferente? </h1><br>  Nem todo mundo pulou a cabe√ßa primeiro e bateu no fundo.  Mas muitos projetos instalaram a base do MongoDB onde ela simplesmente n√£o se encaixava - e eles ter√£o que conviver com ela por muitos mais anos.  Se essas organiza√ß√µes passassem algum tempo e considerassem metodicamente a escolha das tecnologias, muitas teriam feito uma escolha diferente. <br><br>  Como escolher a tecnologia certa?  Houve v√°rias tentativas de criar uma estrutura sistem√°tica para avaliar tecnologias, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúEstrutura para introduzir tecnologias em organiza√ß√µes de software‚Äù</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúEstrutura para avaliar tecnologias de software‚Äù</a> , mas me parece que essa √© uma complexidade desnecess√°ria. <br><br>  Muitas tecnologias podem ser razoavelmente avaliadas fazendo apenas duas perguntas b√°sicas.  <b>O problema √© encontrar pessoas que possam responder com responsabilidade, gastando tempo procurando respostas e sem preconceitos.</b> <br><br><blockquote>  Se voc√™ n√£o encontrar nenhum problema, n√£o precisar√° de uma nova ferramenta.  O ponto. </blockquote><br><h1>  Pergunta 1: Quais problemas estou tentando resolver? </h1><br>  Se voc√™ n√£o encontrar nenhum problema, n√£o precisar√° de uma nova ferramenta.  O ponto.  N√£o √© necess√°rio procurar uma solu√ß√£o e, em seguida, apresentar um problema.  Se voc√™ n√£o encontrou um problema que uma nova tecnologia n√£o resolva muito melhor do que a tecnologia existente, n√£o h√° nada a discutir.  Se voc√™ est√° pensando em usar essa tecnologia porque viu como outras pessoas a usam, considere os problemas que est√£o enfrentando e pergunte se voc√™ tem esses problemas.  √â f√°cil aceitar a tecnologia porque outros a usam, a dificuldade est√° em entender se voc√™ est√° enfrentando os mesmos problemas. <br><br><h1>  Pergunta 2: O que estou perdendo? </h1><br>  Essa √© certamente uma pergunta mais dif√≠cil, porque voc√™ precisa cavar e entender bem tanto a tecnologia antiga quanto a nova.  √Äs vezes, voc√™ n√£o consegue entender verdadeiramente um novo at√© criar algo com ele ou ter um funcion√°rio com essa experi√™ncia. <br><br>  Se voc√™ n√£o tem um nem o outro, faz sentido pensar no investimento m√≠nimo poss√≠vel para determinar o valor dessa ferramenta.  E se voc√™ fizer um investimento, qu√£o dif√≠cil ser√° reverter a decis√£o? <br><br><h1>  As pessoas sempre estragam tudo </h1><br>  Tentando responder a essas perguntas da maneira mais imparcial poss√≠vel, lembre-se de uma coisa: voc√™ precisa lutar com a natureza humana.  H√° uma s√©rie de preconceitos cognitivos que devem ser superados para avaliar a tecnologia de maneira eficaz.  Aqui est√£o apenas alguns: <br><br><ul><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O efeito de ingressar na maioria</a></b> - todos sabem disso, mas ainda √© dif√≠cil lutar com isso.  Apenas verifique se a tecnologia realmente atende √†s suas reais necessidades. <br></li><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O efeito da novidade</a></b> - muitos desenvolvedores tendem a subestimar as tecnologias com as quais trabalham h√° muito tempo e a superestimar as vantagens da nova tecnologia.  N√£o apenas programadores, todos est√£o sujeitos a esse vi√©s cognitivo. <br></li><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O efeito das caracter√≠sticas positivas</a> - tendemos a ver o que √© e perder de vista o que est√° faltando.</b>  <b>Isso pode levar ao caos em combina√ß√£o com o efeito novidade, porque voc√™ n√£o apenas superestima a nova tecnologia, mas tamb√©m ignora suas defici√™ncias</b> . </li></ul><br>  Uma avalia√ß√£o objetiva n√£o √© f√°cil, mas a compreens√£o de vieses cognitivos b√°sicos ajudar√° a tomar decis√µes mais racionais. <br><br><h1>  Sum√°rio </h1><br>  Quando uma certa inova√ß√£o aparece, duas perguntas devem ser respondidas com muito cuidado: <br><br><ul><li>  Essa ferramenta resolve um problema real? <br></li><li>  Entendemos bem os compromissos? </li></ul><br>  Se voc√™ n√£o puder responder com confian√ßa a essas duas perguntas, d√™ alguns passos para tr√°s e pense. <br><br>  Ent√£o o MongoDB era geralmente a escolha certa?  Claro que sim;  como na maioria das tecnologias de engenharia, isso depende de muitos fatores.  Entre os que responderam a essas duas perguntas, muitos se beneficiaram do MongoDB e continuam a se beneficiar dele.  Quem n√£o fez isso, espero que tenham recebido uma li√ß√£o valiosa e n√£o muito dolorosa sobre o movimento ao longo do ciclo da campanha publicit√°ria. <br><br><a name="1"></a><h1>  Isen√ß√£o de responsabilidade </h1><br>  Quero esclarecer que n√£o tenho amor nem √≥dio pelo MongoDB.  S√≥ que n√£o tivemos problemas para os quais o MongoDB √© mais adequado.  Eu sei que 10gen / MongoDB Inc.  No in√≠cio, ela agiu com muita ousadia, definindo valores padr√£o inseguros e promovendo o MongoDB em todos os lugares (especialmente em hackathons) como uma solu√ß√£o universal para trabalhar com qualquer dado.  Provavelmente foi uma decis√£o ruim.  Mas confirma a abordagem descrita aqui: esses problemas podem ser detectados muito rapidamente, mesmo com uma avalia√ß√£o superficial da tecnologia. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt446180/">https://habr.com/ru/post/pt446180/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt446162/index.html">Como se tornar um "j√∫nior inteligente". Experi√™ncia pessoal</a></li>
<li><a href="../pt446166/index.html">Codec ASN1 simples do sprintf</a></li>
<li><a href="../pt446172/index.html">API de limite de mensagens VK - o que fazer</a></li>
<li><a href="../pt446174/index.html">Yandex.Alice e Telegram bot em PHP com uma √∫nica funcionalidade</a></li>
<li><a href="../pt446176/index.html">Reconhecimento de tanques em um fluxo de v√≠deo usando m√©todos de aprendizado de m√°quina (+2 v√≠deos nas plataformas Elbrus e Baikal)</a></li>
<li><a href="../pt446184/index.html">Aplicativos TDD no Spring Boot: ajustando os testes e trabalhando com o contexto</a></li>
<li><a href="../pt446186/index.html">Como Elon Musk tentou destruir o informante nas fileiras de Tesla, e o que aconteceu com ele</a></li>
<li><a href="../pt446188/index.html">Est√° na hora de URLs emoji?</a></li>
<li><a href="../pt446190/index.html">Meu sistema de automa√ß√£o residencial. Criando uma imagem do sistema operacional</a></li>
<li><a href="../pt446192/index.html">Backup do hist√≥rico: sete inventores dos quais voc√™ talvez nunca tenha ouvido falar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>