<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸˆµ ğŸ”… ğŸš‡ JavaScriptå…³é”®å­—ï¼Œé€‚åˆåˆå­¦è€… ğŸ‘§ ğŸ§–ğŸ½ ğŸ”³</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="è¯¥ææ–™çš„ä½œè€…ï¼ˆæˆ‘ä»¬ä»Šå¤©å°†å…¶ç¿»è¯‘å‘è¡¨ï¼‰è¯´ï¼Œå½“å¥¹ä»äº‹ä¼šè®¡å·¥ä½œæ—¶ï¼Œåœ¨é‚£é‡Œä½¿ç”¨äº†æ¸…æ™°çš„æœ¯è¯­ï¼Œå…¶å«ä¹‰å¾ˆå®¹æ˜“åœ¨å­—å…¸ä¸­æ‰¾åˆ°ã€‚ ä½†æ˜¯åœ¨å¼€å§‹å­¦ä¹ ç¨‹åºï¼Œå°¤å…¶æ˜¯JavaScriptä¹‹åï¼Œå¥¹å¼€å§‹é‡åˆ°è¿™æ ·çš„æ¦‚å¿µï¼Œå®ƒä»¬çš„å®šä¹‰ä¸å†åœ¨è¯å…¸ä¸­å¯ä»¥æ‰¾åˆ°ã€‚ ä¾‹å¦‚ï¼Œè¿™æ¶‰åŠå…³é”®å­—this ã€‚ å¥¹å›æƒ³èµ·æ›¾ç»é‡åˆ°è¿‡ä½¿ç”¨æ­¤å…³é”®å­—çš„JSå¯¹è±¡å’Œæ„é€ å‡½...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScriptå…³é”®å­—ï¼Œé€‚åˆåˆå­¦è€…</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/419371/">è¯¥ææ–™çš„ä½œè€…ï¼ˆæˆ‘ä»¬ä»Šå¤©å°†å…¶ç¿»è¯‘å‘è¡¨ï¼‰è¯´ï¼Œå½“å¥¹ä»äº‹ä¼šè®¡å·¥ä½œæ—¶ï¼Œåœ¨é‚£é‡Œä½¿ç”¨äº†æ¸…æ™°çš„æœ¯è¯­ï¼Œå…¶å«ä¹‰å¾ˆå®¹æ˜“åœ¨å­—å…¸ä¸­æ‰¾åˆ°ã€‚ ä½†æ˜¯åœ¨å¼€å§‹å­¦ä¹ ç¨‹åºï¼Œå°¤å…¶æ˜¯JavaScriptä¹‹åï¼Œå¥¹å¼€å§‹é‡åˆ°è¿™æ ·çš„æ¦‚å¿µï¼Œå®ƒä»¬çš„å®šä¹‰ä¸å†åœ¨è¯å…¸ä¸­å¯ä»¥æ‰¾åˆ°ã€‚ ä¾‹å¦‚ï¼Œè¿™æ¶‰åŠå…³é”®å­—<code>this</code> ã€‚ å¥¹å›æƒ³èµ·æ›¾ç»é‡åˆ°è¿‡ä½¿ç”¨æ­¤å…³é”®å­—çš„JSå¯¹è±¡å’Œæ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œä½†è¦è·å¾—å…¶ç¡®åˆ‡å«ä¹‰å¹¶ä¸å®¹æ˜“ã€‚ å¥¹è®¤ä¸ºå…¶ä»–åˆå­¦è€…ä¹Ÿä¼šé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯é‚£äº›ä»¥å‰ä»æœªåœ¨ç¼–ç¨‹é¢†åŸŸå·¥ä½œè¿‡çš„äººã€‚ é‚£äº›æƒ³å­¦ä¹ JavaScriptçš„äººæ— è®ºå¦‚ä½•éƒ½å¿…é¡»è§£å†³<code>this</code> ã€‚ æœ¬ææ–™æ—¨åœ¨å¸®åŠ©æ‰€æœ‰äººæä¾›å¸®åŠ©ã€‚ <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/q7/xd/zy/q7xdzywyxtydoitwvsnkg18opaq.png"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">è¿™æ˜¯ä»€ä¹ˆ</font> </h2><br> æˆ‘æè¯·æ‚¨æ³¨æ„æˆ‘å¯¹<code>this</code>çš„å®šä¹‰ã€‚  <code>This</code>æ˜¯åœ¨JavaScriptä¸­ä½¿ç”¨çš„å…³é”®å­—ï¼Œæ ¹æ®å…¶ä½¿ç”¨çš„ä¸Šä¸‹æ–‡ï¼Œå®ƒå…·æœ‰ç‰¹æ®Šçš„å«ä¹‰ã€‚ <br><br>  <code>this</code>ä¼šç»™æ–°æ‰‹é€ æˆå¾ˆå¤§çš„å›°æƒ‘ï¼ŒåŸå› æ˜¯è¿™ç§æƒ…å†µçš„ä¸Šä¸‹æ–‡å–å†³äºå®ƒçš„ç”¨é€”ã€‚ <br><br> å¯ä»¥å°†å…¶è§†ä¸ºåŠ¨æ€å…³é”®å­—ã€‚ æˆ‘å–œæ¬¢Ryan Morråœ¨æœ¬æ–‡ä¸­å¦‚ä½•æ­ç¤ºâ€œä¸Šä¸‹æ–‡â€çš„æ¦‚å¿µã€‚ æ®ä»–ä»‹ç»ï¼Œä¸Šä¸‹æ–‡å§‹ç»ˆæ˜¯<code>this</code>çš„å€¼ï¼Œ <code>this</code>æ˜¯æŒ‡â€œæ‹¥æœ‰â€å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»£ç çš„å¯¹è±¡ã€‚ ä½†æ˜¯ï¼Œä¸æ­¤ç›¸å…³çš„ä¸Šä¸‹æ–‡ä¸æ‰§è¡Œä¸Šä¸‹æ–‡ä¸åŒã€‚ <br><br> å› æ­¤ï¼Œå®é™…ä¸Šï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å…³é”®å­—<code>this</code> ï¼Œå®é™…ä¸Šæ˜¯åœ¨å¸®åŠ©ä¸‹å¼•ç”¨äº†æŸä¸ªå¯¹è±¡ã€‚ é€šè¿‡ç ”ç©¶ä¸€äº›ç¤ºä¾‹ï¼Œè®©æˆ‘ä»¬è°ˆè°ˆè¿™ä¸ªå¯¹è±¡æ˜¯ä»€ä¹ˆã€‚ <br><br><h2>  <font color="#3AC1EF">æŒ‡å‘çª—å£å¯¹è±¡çš„æƒ…å†µ</font> </h2><br> å¦‚æœå°è¯•åœ¨å…¨å±€èŒƒå›´å†…è®¿é—®<code>this</code> ï¼Œå®ƒå°†è¢«ç»‘å®šåˆ°å…¨å±€ä¸Šä¸‹æ–‡ï¼Œå³æµè§ˆå™¨ä¸­çš„<code>window</code>å¯¹è±¡ã€‚ <br><br> å½“ä½¿ç”¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­å¯ç”¨çš„å‡½æ•°æ—¶ï¼ˆè¿™å°†å®ƒä»¬ä¸å¯¹è±¡æ–¹æ³•åŒºåˆ†å¼€ï¼‰ï¼Œå®ƒä»¬ä¸­çš„<code>this</code>å°†æŒ‡å‘<code>window</code>å¯¹è±¡ã€‚ <br><br> å°è¯•åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š <br><br><pre> <code class="hljs ruby">console.log(this); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     Window /<span class="hljs-regexp"><span class="hljs-regexp">/ Window { postMessage: Æ’, /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ blur: Æ’, /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ focus: Æ’, /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ close: Æ’, /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ frames: Window, â€¦} function myFunction() { console.log(this); } /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   myFunction(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      Window! /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ Window { postMessage: Æ’, /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ blur: Æ’, /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ focus: Æ’, /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ close: Æ’, /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ frames: Window, â€¦}</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">åœ¨å¯¹è±¡å†…éƒ¨ä½¿ç”¨å®ƒ</font> </h2><br> åœ¨å¯¹è±¡å†…éƒ¨ä½¿ç”¨æ­¤å…³é”®å­—æ—¶ï¼Œæ­¤å…³é”®å­—å¼•ç”¨å¯¹è±¡æœ¬èº«ã€‚ è€ƒè™‘ä¸€ä¸ªä¾‹å­ã€‚ å‡è®¾æ‚¨ä½¿ç”¨æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ª<code>dog</code>å¯¹è±¡ï¼Œå¹¶åœ¨å…¶æ–¹æ³•ä¹‹ä¸€ä¸­è°ƒç”¨äº†å®ƒã€‚ åœ¨<code>this</code>ä½¿ç”¨æ­¤å…³é”®å­—æ—¶ï¼Œæ­¤å…³é”®å­—è¡¨ç¤º<code>dog</code>å¯¹è±¡ã€‚ <br><br><pre> <code class="hljs pgsql">var dog = { <span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Chester'</span></span>, breed: <span class="hljs-string"><span class="hljs-string">'beagle'</span></span>, intro: <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(){   console.log(this); } }; dog.intro(); //      dog       // {<span class="hljs-type"><span class="hljs-type">name</span></span>: "Chester", breed: "beagle", intro: Æ’} //    breed:"beagle" //    intro:Æ’ () //    <span class="hljs-type"><span class="hljs-type">name</span></span>:"Chester" //    __proto__:<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">è¿™ä¸ªå’ŒåµŒå¥—çš„å¯¹è±¡</font> </h2><br> å°†<code>this</code>åº”ç”¨äºåµŒå¥—å¯¹è±¡å¯èƒ½ä¼šé€ æˆä¸€äº›æ··ä¹±ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå€¼å¾—è®°ä½çš„æ˜¯thiså…³é”®å­—æŒ‡å‘ä½¿ç”¨å…¶æ–¹æ³•çš„å¯¹è±¡ã€‚ è€ƒè™‘ä¸€ä¸ªä¾‹å­ã€‚ <br><br><pre> <code class="hljs lua">var obj1 = { hello: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {   console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(<span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> this; }, obj2: {     breed: <span class="hljs-string"><span class="hljs-string">'dog'</span></span>,     speak: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{           console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(<span class="hljs-string"><span class="hljs-string">'woof!'</span></span>);           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> this;       }   } }; console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(obj1); console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(obj1.hello());  //  <span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>   obj1 console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(obj1.obj2); console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(obj1.obj2.speak());  //  <span class="hljs-string"><span class="hljs-string">'woof!'</span></span>   obj2</code> </pre> <br><h2>  <font color="#3AC1EF">å…·æœ‰ç®­å¤´åŠŸèƒ½</font> </h2><br> ç®­å¤´å‡½æ•°çš„è¡Œä¸ºä¸å¸¸è§„å‡½æ•°ä¸åŒã€‚ è¯·è®°ä½ï¼šåœ¨å¯¹è±¡çš„æ–¹æ³•ä¸­è®¿é—®<code>this</code>å…³é”®å­—æ—¶ï¼Œæ­¤å…³é”®å­—å¯¹åº”äºè¯¥æ–¹æ³•æ‰€å±çš„å¯¹è±¡ã€‚ ä½†æ˜¯ï¼Œè¿™ä¸é€‚ç”¨äºç®­å¤´åŠŸèƒ½ã€‚ ç›¸åï¼Œåœ¨æ­¤ç±»å‡½æ•°ä¸­ï¼Œ <code>this</code>å¼•ç”¨æ˜¯æŒ‡å…¨å±€ä¸Šä¸‹æ–‡ï¼ˆ <code>window</code>å¯¹è±¡ï¼‰ã€‚ è€ƒè™‘ä»¥ä¸‹å¯åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¿è¡Œçš„ä»£ç ã€‚ <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> objReg = { <span class="hljs-attr"><span class="hljs-attr">hello</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> objArrow = {   <span class="hljs-attr"><span class="hljs-attr">hello</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> }; objReg.hello(); <span class="hljs-comment"><span class="hljs-comment">// ,   ,  objReg objArrow.hello(); //   Window!</span></span></code> </pre> <br> å¦‚æœæ‚¨å¯¹å½“å‰çš„é—®é¢˜æ„Ÿåˆ°å›°æƒ‘ï¼Œé‚£ä¹ˆçœ‹çœ‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MDN</a> ï¼Œæ‚¨ä¼šå‘ç°ä¿¡æ¯ï¼Œç®­å¤´å‡½æ•°çš„ä¹¦å†™å½¢å¼æ¯”å‡½æ•°è¡¨è¾¾å¼çŸ­ï¼Œå¹¶ä¸”ä¸ä¸<code>this</code> ï¼Œ <code>arguments</code> ï¼Œ <code>super</code>æˆ–<code>new.target</code>ç»‘å®šåˆ°å®ƒä»¬è‡ªå·±çš„å®ä½“ã€‚ ç®­å¤´å‡½æ•°æœ€é€‚åˆç”¨ä½œæ™®é€šå‡½æ•°ï¼Œè€Œä¸æ˜¯å¯¹è±¡æ–¹æ³•ï¼›å®ƒä»¬ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚ <br><br> æˆ‘ä»¬å°†å¬MDNï¼Œå¹¶ä¸”ä¸ä¼šå°†ç®­å¤´å‡½æ•°ç”¨ä½œå¯¹è±¡æ–¹æ³•ã€‚ <br><br><h2>  <font color="#3AC1EF">åœ¨å¸¸è§„åŠŸèƒ½ä¸­ä½¿ç”¨å®ƒ</font> </h2><br> å½“å¸¸è§„å‡½æ•°å¤„äºå…¨å±€èŒƒå›´å†…æ—¶ï¼Œåœ¨å…¶ä¸­ä½¿ç”¨çš„thiså…³é”®å­—å°†ç»‘å®šåˆ°<code>window</code>å¯¹è±¡ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå…¶ä¸­å¯ä»¥å°†<code>test</code>åŠŸèƒ½è§†ä¸º<code>window</code>å¯¹è±¡çš„æ–¹æ³•ã€‚ <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'hello world'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } test(); <span class="hljs-comment"><span class="hljs-comment">// hello world // Window {postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, frames: Window, â€¦}</span></span></code> </pre> <br> ä½†æ˜¯ï¼Œå¦‚æœå‡½æ•°åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰§è¡Œï¼Œåˆ™å°†åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">thisä¸­</a>å†™å…¥<code>undefined</code> ï¼Œå› ä¸ºåœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œé»˜è®¤ç»‘å®šè¢«ç¦ç”¨ã€‚ å°è¯•åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¿è¡Œä»¥ä¸‹ç¤ºä¾‹ã€‚ <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-string"><span class="hljs-string">'use strict'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( test() ); <span class="hljs-comment"><span class="hljs-comment">//  undefined,    Window</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">ä»åœ¨å¯¹è±¡å¤–éƒ¨å£°æ˜çš„å‡½æ•°è°ƒç”¨æ­¤å‡½æ•°ï¼Œç„¶åå°†å…¶åˆ†é…ä¸ºå…¶å‡½æ•°</font> </h2><br> è€ƒè™‘æˆ‘ä»¬å·²ç»çŸ¥é“çš„<code>dog</code>å¯¹è±¡çš„ä¾‹å­ã€‚ ä½œä¸ºæ­¤å¯¹è±¡çš„æ–¹æ³•ï¼Œæ‚¨å¯ä»¥åˆ†é…åœ¨å…¶å¤–éƒ¨å£°æ˜çš„<code>chase</code>å‡½æ•°ã€‚ åœ¨æˆ‘ä»¬åˆ›å»ºè¢«åˆ†é…äº†<code>chase</code>å‡½æ•°çš„<code>foo</code>æ–¹æ³•ä¹‹å‰ï¼Œ <code>dog</code>å¯¹è±¡ä¸­æ²¡æœ‰ä»»ä½•æ–¹æ³•ã€‚ å¦‚æœç°åœ¨è°ƒç”¨<code>dog.foo</code>æ–¹æ³•ï¼Œå°†è°ƒç”¨<code>chase</code>å‡½æ•°ã€‚ åœ¨æ­¤å‡½æ•°ä¸­è®¿é—®çš„å…³é”®å­—<code>this</code>æŒ‡å‘<code>dog</code>å¯¹è±¡ã€‚ å½“è¯•å›¾å°†å…¶ä½œä¸ºä¸€ä¸ªç‹¬ç«‹å‡½æ•°è°ƒç”¨æ—¶ï¼Œ <code>chase</code>å‡½æ•°çš„è¡Œä¸ºå°†ä¸æ­£ç¡®ï¼Œå› ä¸ºä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå®ƒå°†æŒ‡å‘ä¸€ä¸ªä¸å…·æœ‰æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>this</code>è®¿é—®çš„å±æ€§çš„å…¨å±€å¯¹è±¡ã€‚ <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dog = { <span class="hljs-attr"><span class="hljs-attr">breed</span></span>: <span class="hljs-string"><span class="hljs-string">'Beagles'</span></span>, <span class="hljs-attr"><span class="hljs-attr">lovesToChase</span></span>: <span class="hljs-string"><span class="hljs-string">'rabbits'</span></span> }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">chase</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.breed + <span class="hljs-string"><span class="hljs-string">' loves chasing '</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lovesToChase + <span class="hljs-string"><span class="hljs-string">'.'</span></span>); } dog.foo = chase; dog.foo(); <span class="hljs-comment"><span class="hljs-comment">//    Beagles loves chasing rabbits. chase(); //     </span></span></code> </pre> <br><h2>  <font color="#3AC1EF">å…³é”®å­—newå’Œthis</font> </h2><br> å…³é”®å­—<code>this</code>ç”¨äºåˆ›å»ºå¯¹è±¡çš„æ„é€ å‡½æ•°ä¸­ï¼Œå› ä¸ºå®ƒå…è®¸ä»¥é€šç”¨æ–¹å¼å¤„ç†ä½¿ç”¨è¯¥å‡½æ•°åˆ›å»ºçš„è®¸å¤šå¯¹è±¡ã€‚  JavaScriptè¿˜å…·æœ‰æ ‡å‡†çš„æ„é€ å‡½æ•°ï¼Œä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬åˆ›å»º<code>Number</code>æˆ–<code>String</code>ç±»å‹çš„å¯¹è±¡ã€‚ ç¨‹åºå‘˜è‡ªè¡Œç¡®å®šçš„ç±»ä¼¼åŠŸèƒ½ä½¿ä»–å¯ä»¥åˆ›å»ºå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•çš„ç»„æˆç”±è‡ªå·±è®¾ç½®ã€‚ <br><br> å¦‚æ‚¨æ‰€çŸ¥ï¼Œæˆ‘å–œæ¬¢dogsï¼Œå› æ­¤æˆ‘ä»¬å°†æè¿°ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨äºåˆ›å»ºè¯¸å¦‚<code>Dog</code>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«ä¸€äº›å±æ€§å’Œæ–¹æ³•ã€‚ <br><br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Dog</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">breed, name, friends</span></span></span><span class="hljs-function">)</span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.breed = breed;   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name;   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.friends = friends;   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.intro = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{       <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Hi, my name is </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.name}</span></span></span><span class="hljs-string"> and I'm a </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.breed}</span></span></span><span class="hljs-string">`</span></span>);       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>;   }; }</code> </pre> <br> å½“ä½¿ç”¨<code>new</code>å…³é”®å­—è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°æŒ‡å‘ä½¿ç”¨æ„é€ å‡½æ•°æä¾›äº†å±æ€§å’Œæ–¹æ³•çš„æ–°å¯¹è±¡ã€‚ <br><br> è¿™æ˜¯ä½¿ç”¨æ ‡å‡†JavaScriptæ„é€ å‡½æ•°çš„æ–¹æ³•ã€‚ <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(<span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*******    ,     ,  ,     str2 .        ,   JavaScript   ,   ,    ,      .        .  ,  ,  ,   ,           . *******/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> str2 = <span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    , ,  ,       </span></span></code> </pre> <br> ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨æ–°åˆ›å»ºçš„<code>Dog</code>æ„é€ å‡½æ•°ã€‚ <br><br><pre> <code class="hljs pgsql">//      Dog var chester = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Dog(<span class="hljs-string"><span class="hljs-string">'beagle'</span></span>, <span class="hljs-string"><span class="hljs-string">'Chester'</span></span>, [<span class="hljs-string"><span class="hljs-string">'Gracie'</span></span>, <span class="hljs-string"><span class="hljs-string">'Josey'</span></span>, <span class="hljs-string"><span class="hljs-string">'Barkley'</span></span>]); chester.intro();        //  Hi, my <span class="hljs-type"><span class="hljs-type">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Chester <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> I<span class="hljs-string"><span class="hljs-string">'m a beagle console.log(chester);   //  Dog {breed: "beagle", name: "Chester", friends: Array(3), intro: Æ’}</span></span></code> </pre> <br> è¿™æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°çš„å¦ä¸€ä¸ªç¤ºä¾‹ã€‚ <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> City = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">city, state</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.city = city || <span class="hljs-string"><span class="hljs-string">"Phoenix"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = state || <span class="hljs-string"><span class="hljs-string">"AZ"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sentence = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`I live in </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.city}</span></span></span><span class="hljs-string">, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.state}</span></span></span><span class="hljs-string">.`</span></span>); }; }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> phoenix = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> City(); <span class="hljs-comment"><span class="hljs-comment">//     console.log(phoenix); //       phoenix.sentence(); //  I live in Phoenix, AZ. var spokane = new City('Spokane', 'WA'); console.log(spokane); //    spokane.sentence(); //  I live in Spokane, WA.</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">å…³äºæ–°å…³é”®å­—çš„é‡è¦æ€§</font> </h2><br> å½“ä½¿ç”¨<code>new</code>å…³é”®å­—è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œ <code>this</code>æŒ‡å‘ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¯¹è¯¥å¯¹è±¡è¿›è¡Œä¸€äº›å¤„ç†åï¼Œå°†ä»è¯¥å‡½æ•°è¿”å›è¯¥å¯¹è±¡ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå…³é”®å­—<code>this</code>éå¸¸é‡è¦ã€‚ æ€ä¹ˆäº† é—®é¢˜æ˜¯ï¼Œå€ŸåŠ©å®ƒçš„å¸®åŠ©ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ„é€ å‡½æ•°æ¥åˆ›å»ºè®¸å¤šç›¸åŒç±»å‹çš„å¯¹è±¡ã€‚ <br><br> è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ‰©å±•åº”ç”¨ç¨‹åºå¹¶å‡å°‘ä»£ç é‡å¤ã€‚ ä¸ºäº†äº†è§£æ­¤æœºåˆ¶çš„é‡è¦æ€§ï¼Œè¯·è€ƒè™‘å¦‚ä½•ç»„ç»‡ç¤¾äº¤åª’ä½“å¸æˆ·ã€‚ æ¯ä¸ªå¸æˆ·å¯ä»¥æ˜¯ä½¿ç”¨<code>Friend</code>æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡çš„å®ä¾‹ã€‚ æ¯ä¸ªæ­¤ç±»å¯¹è±¡éƒ½å¯ä»¥å¡«å……å”¯ä¸€çš„ç”¨æˆ·ä¿¡æ¯ã€‚ è€ƒè™‘ä¸‹é¢çš„ä»£ç ã€‚ <br><br><pre> <code class="hljs pgsql">// - var Friend = <span class="hljs-keyword"><span class="hljs-keyword">function</span></span>(<span class="hljs-type"><span class="hljs-type">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>, interests, job){ this.fullName = <span class="hljs-type"><span class="hljs-type">name</span></span>; this.<span class="hljs-keyword"><span class="hljs-keyword">password</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>; this.interests = interests; this.job = job; }; <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> sayHello(){  //   ,  ,    this  // console.log(this); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> `Hi, my <span class="hljs-type"><span class="hljs-type">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> ${this.fullName} <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> I<span class="hljs-string"><span class="hljs-string">'m a ${this.job}. Let'</span></span>s be friends!`; } //          Friend,    <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> var john = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Friend(<span class="hljs-string"><span class="hljs-string">'John Smith'</span></span>, <span class="hljs-string"><span class="hljs-string">'badpassword'</span></span>, [<span class="hljs-string"><span class="hljs-string">'hiking'</span></span>, <span class="hljs-string"><span class="hljs-string">'biking'</span></span>, <span class="hljs-string"><span class="hljs-string">'skiing'</span></span>], <span class="hljs-string"><span class="hljs-string">'teacher'</span></span>); console.log(john); //    greeting  john john.greeting = sayHello; //     console.log( john.greeting() ); //   ,  sayHello()       console.log( sayHello() ) ;</code> </pre> <br><h2>  <font color="#3AC1EF">æ€»ç»“</font> </h2><br> å®é™…ä¸Šï¼Œåœ¨JavaScriptä¸­ä½¿ç”¨<code>this</code>å¹¶ä¸é™äºä¸Šè¿°ç¤ºä¾‹ã€‚ å› æ­¤ï¼Œä¸€ç³»åˆ—è¿™äº›ç¤ºä¾‹å¯èƒ½åŒ…æ‹¬å¯¹<code>call</code> ï¼Œ <code>apply</code>å’Œ<code>bind</code>å‡½æ•°çš„ä½¿ç”¨ã€‚ ç”±äºè¯¥ææ–™æ˜¯ä¾›åˆå­¦è€…ä½¿ç”¨çš„ï¼Œç›®çš„æ˜¯è§£é‡ŠåŸºç¡€çŸ¥è¯†ï¼Œå› æ­¤åœ¨æ­¤ä¸å†èµ˜è¿°ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨ç°åœ¨å·²ç»<code>this</code>æœ‰äº†åˆæ­¥çš„äº†è§£ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥è½»æ¾åœ°æ‰¾å‡ºè¿™äº›æ–¹æ³•ã€‚ æœ€ä¸»è¦çš„æ˜¯è¦è®°ä½ï¼Œå¦‚æœæ‚¨ç¬¬ä¸€æ¬¡ä¸äº†è§£æŸäº›å†…å®¹ï¼Œè¯·ä¸è¦åœæ­¢å­¦ä¹ ï¼Œç»ƒä¹ æˆ–é˜…è¯»ä¸æ‚¨æ„Ÿå…´è¶£çš„ä¸»é¢˜ç›¸å…³çš„ææ–™ã€‚ åœ¨å…¶ä¸­ä¹‹ä¸€ä¸­ï¼Œæ‚¨è‚¯å®šä¼šé‡åˆ°ä¸€äº›æœ‰åŠ©äºç†è§£ä»¥å‰æ— æ³•ç†è§£çš„å†…å®¹ï¼ˆä¾‹å¦‚ï¼ŒæŸç§æˆåŠŸçš„çŸ­è¯­ï¼‰ã€‚ <br><br>  <b>äº²çˆ±çš„è¯»è€…ä»¬ï¼</b>  <b>æ‚¨æ˜¯å¦æœ‰å›°éš¾åœ¨JavaScriptä¸­ç†è§£thiså…³é”®å­—ï¼Ÿ</b> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN419371/">https://habr.com/ru/post/zh-CN419371/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN419361/index.html">thindf-æ–°çš„æ–‡æœ¬æ•°æ®æ ¼å¼ï¼ˆæ›¿ä»£JSONï¼‰</a></li>
<li><a href="../zh-CN419363/index.html">GitLab 11.1ï¼šå®‰å…¨æ§åˆ¶é¢æ¿å’Œé«˜çº§æœç´¢å‘å¸ƒ</a></li>
<li><a href="../zh-CN419365/index.html">ITå¾‹å¸ˆçš„æ•…äº‹ã€‚ ç”Ÿå‘½å¤–åŒ…ä¸šåŠ¡ã€‚ ç¬¬äºŒéƒ¨åˆ†</a></li>
<li><a href="../zh-CN419367/index.html">äººä¸ç¿»è¯‘æœºå™¨äººä¹‹é—´çš„æ¨¡ç³Šæ¨¡ç³Šå’Œâ€œæ— å½¢çš„æ»¥ç”¨â€</a></li>
<li><a href="../zh-CN419369/index.html">JavaScriptä»·æ ¼2018</a></li>
<li><a href="../zh-CN419373/index.html">åœ¨å®é™…ç¤ºä¾‹ä¸­æ¯”è¾ƒReactå’ŒVue</a></li>
<li><a href="../zh-CN419375/index.html">å¾ªç¯miRNA</a></li>
<li><a href="../zh-CN419379/index.html">ç‰¹æ–¯æ‹‰å’Œå¾·æ„å¿—é“¶è¡Œä¸ºä½•æ‹’ç»çº¸è´¨åˆåŒ</a></li>
<li><a href="../zh-CN419383/index.html">æ–°çš„WPA2æ”»å‡»æŠ€æœ¯ï¼Œä¸éœ€è¦APä¸Šçš„å®¢æˆ·ç«¯</a></li>
<li><a href="../zh-CN419385/index.html">å¿ƒè„æ‰‹æœ¯ï¼šæˆ‘ä»¬å¦‚ä½•é‡å†™DLPç³»ç»Ÿçš„ä¸»è¦ç»„æˆéƒ¨åˆ†</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>