<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐ฝโ๐คโ๐จ๐ฟ ๐ฉ๐พโ๐ณ ๐ง๐พโ๐คโ๐ง๐พ ุชุนุธูู ุงูุงุณุชูุงุฏุฉ ูู ุฌูุน ุงูููุงูุฉ ูู ุฎุฏูุฉ .NET ูุญููุฉ ููุบุงูุฉ ๐จ๐ฟโ๐คโ๐จ๐ฝ ๐ฎ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ููู ุ ูุนูู ุนุดุฑุงุช ุงูุขูุงู ูู ุงูููุธููู ูู ุนุฏุฉ ุขูุงู ูู ุงูููุธูุงุช ุญูู ุงูุนุงูู ูู Pyrus. ูุญู ูุนุชุจุฑ ุงุณุชุฌุงุจุฉ ุงูุฎุฏูุฉ (ุณุฑุนุฉ ูุนุงูุฌุฉ ุงูุทูุจุงุช) ููุฒุฉ ุชูุงูุณูุฉ ูููุฉ ุ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุนุธูู ุงูุงุณุชูุงุฏุฉ ูู ุฌูุน ุงูููุงูุฉ ูู ุฎุฏูุฉ .NET ูุญููุฉ ููุบุงูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452298/" style=";text-align:right;direction:rtl">  ูู ููู ุ ูุนูู ุนุดุฑุงุช ุงูุขูุงู ูู ุงูููุธููู ูู ุนุฏุฉ ุขูุงู ูู ุงูููุธูุงุช ุญูู ุงูุนุงูู ูู Pyrus.  ูุญู ูุนุชุจุฑ ุงุณุชุฌุงุจุฉ ุงูุฎุฏูุฉ (ุณุฑุนุฉ ูุนุงูุฌุฉ ุงูุทูุจุงุช) ููุฒุฉ ุชูุงูุณูุฉ ูููุฉ ุ ูุฃููุง ุชุคุซุฑ ุจุดูู ูุจุงุดุฑ ุนูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู.  ุงููููุงุณ ุงูุฑุฆูุณู ุจุงููุณุจุฉ ููุง ูู "ุงููุณุจุฉ ุงููุฆููุฉ ููุงุณุชุนูุงูุงุช ุงูุจุทูุฆุฉ".  ุนูุฏ ุฏุฑุงุณุฉ ุณููููุง ุ ูุงุญุธูุง ุฃูู ุจูุฌุฑุฏ ุชููู ุฏูููุฉ ูุงุญุฏุฉ ุนูู ุฎูุงุฏู ุงูุชุทุจููุงุช ุ ูููู ููุงู ุญูุงูู 1000 ูููู ุซุงููุฉ.  ูู ูุฐู ุงูููุงุตู ุงูุฒูููุฉ ุ ูุง ูุณุชุฌูุจ ุงูุฎุงุฏู ูููุดุฃ ูุงุฆูุฉ ุงูุชุธุงุฑ ูู ุนุดุฑุงุช ุงูุทูุจุงุช.  ุณุชุชู ููุงูุดุฉ ุงูุจุญุซ ุนู ุฃุณุจุงุจ ูุฅุฒุงูุฉ ุงูุงุฎุชูุงูุงุช ุงููุงุชุฌุฉ ุนู ุชุฌููุน ุงูุจูุงูุงุช ุงูููููุฉ ูู ุงูุชุทุจูู ูู ูุฐู ุงูููุงูุฉ. <br><br><img src="https://habrastorage.org/webt/fu/1s/j9/fu1sj9ixpj4nc633ikhwblbhlfs.jpeg"><br><a name="habracut"></a><br>  ูุบุงุช ุงูุจุฑูุฌุฉ ุงูุญุฏูุซุฉ ูููู ุชูุณูููุง ุฅูู ูุฌููุนุชูู.  ูู ูุบุงุช ูุซู C / C ++ ุฃู Rust ุ ูุชู ุงุณุชุฎุฏุงู ุงูุฅุฏุงุฑุฉ ุงููุฏููุฉ ููุฐุงูุฑุฉ ุ ูุฐูู ููุถู ุงููุจุฑูุฌูู ููุชูุง ุฃุทูู ูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุฅุฏุงุฑุฉ ุนูุฑ ุงููุงุฆูุงุช ุ ุซู ุชุตุญูุญ ุงูุฃุฎุทุงุก.  ูู ุงูููุช ููุณู ุ ุชุนุชุจุฑ ุงูุฃุฎุทุงุก ุงููุงุชุฌุฉ ุนู ุงูุงุณุชุฎุฏุงู ุบูุฑ ุงูุตุญูุญ ููุฐุงูุฑุฉ ูู ุฃูุซุฑ ุงูุฃููุฑ ุตุนูุจุฉ ูู ุชุตุญูุญ ุงูุฃุฎุทุงุก ุ ูุฐูู ูุชู ุฅุฌุฑุงุก ูุนุธู ุงูุชุทููุฑุงุช ุงูุญุฏูุซุฉ ุจูุบุงุช ูุน ุงูุฅุฏุงุฑุฉ ุงูุชููุงุฆูุฉ ููุฐุงูุฑุฉ.  ูุชุดูู ูุฐู ุ ุนูู ุณุจูู ุงููุซุงู ุ Java ุ C # ุ Python ุ Ruby ุ โโGo ุ PHP ุ JavaScript ุ ุฅูุฎ.  ูููุฑ ุงููุจุฑูุฌูู ููุช ุงูุชุทููุฑ ุ ูููู ูุชุนูู ุนููู ุฏูุน ููุช ุงูุชูููุฐ ุงูุฅุถุงูู ุงูุฐู ููุถูู ุงูุจุฑูุงูุฌ ุจุงูุชุธุงู ุนูู ุฌูุน ุงูุจูุงูุงุช ุงูููููุฉ - ููุง ูุคุฏู ุฅูู ุชุญุฑูุฑ ุงูุฐุงูุฑุฉ ุงูุชู ุชุดุบููุง ุงููุงุฆูุงุช ุงูุชู ูุง ุชูุฌุฏ ุจูุง ุฑูุงุจุท ูุชุจููุฉ ูู ุงูุจุฑูุงูุฌ.  ูู ุงูุจุฑุงูุฌ ุงูุตุบูุฑุฉ ุ ุชููู ูุฐู ุงููุฑุฉ ุถุฆููุฉ ุ ูููู ูุน ุฒูุงุฏุฉ ุนุฏุฏ ุงููุงุฆูุงุช ููุซุงูุฉ ุฅูุดุงุฆูุง ุ ุชุจุฏุฃ ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูููููุฉ ูู ุชูุฏูู ูุณุงููุฉ ููุญูุธุฉ ูู ุฅุฌูุงูู ููุช ุชูููุฐ ุงูุจุฑูุงูุฌ. <br><br>  ุชุนูู ุฎูุงุฏู ุงูููุจ Pyrus ุนูู ุงููุธุงู ุงูุฃุณุงุณู .NET ุ ูุงูุฐู ูุณุชุฎุฏู ุงูุฅุฏุงุฑุฉ ุงูุชููุงุฆูุฉ ููุฐุงูุฑุฉ.  ูุนุธู ูุฌููุนุงุช ุงูููุงูุฉ ูู "ุฃููููุง ุงูุนุงูู" ุ ุฃู  ูู ููุช ุนูููู ุ ุชููููุง ุนู ุฌููุน ุฎููุท ุงูุชุทุจูู.  ุชููู ุงูุชุฌููุนุงุช ุบูุฑ ุงููุญุธูุฑุฉ (ุงูุฎูููุฉ) ุจุฅููุงู ุฌููุน ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูุนูููุง ุ ูููู ููุชุฑุฉ ูุตูุฑุฉ ุฌุฏูุง ูู ุงูููุช.  ุฃุซูุงุก ุญุธุฑ ุณูุงุณู ุงูุฑุณุงุฆู ุ ูุง ูููู ุงูุฎุงุฏู ุจูุนุงูุฌุฉ ุงูุทูุจุงุช ุ ูุชุฌููุฏ ุงูุทูุจุงุช ุงูุญุงููุฉ ุ ูุชุถุงู ุทูุจุงุช ุฌุฏูุฏุฉ ุฅูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ.  ูุชูุฌุฉ ูุฐูู ุ ูุชู ุฅุจุทุงุก ุงูุทูุจุงุช ุงูุชู ุชูุช ูุนุงูุฌุชูุง ูู ููุช ุชุฌููุน ุงูุจูุงูุงุช ุงูููููุฉ ูุจุงุดุฑุฉู ุ ูุชุชู ูุนุงูุฌุฉ ุงูุทูุจุงุช ุจุดูู ุฃุจุทุฃ ููุฑ ุงูุงูุชูุงุก ูู ุชุฌููุน ุงูุจูุงูุงุช ุงูููููุฉ ุจุณุจุจ ููุงุฆู ุงูุงูุชุธุงุฑ ุงููุชุฑุงููุฉ.  ูุฐุง ูุฒูุฏ ูู ุณูุก "ุงููุณุจุฉ ุงููุฆููุฉ ููุงุณุชุนูุงูุงุช ุงูุจุทูุฆุฉ". <br><br>  ูุณูุญูู ุจุงููุชุงุจ ุงูููุดูุฑ ุญุฏูุซูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Konrad Kokosa: Pro .NET Memory Management</a> (ุญูู ููููุฉ ุฅุญุถุงุฑ ูุณุฎุชู ุงูุฃููู ุฅูู ุฑูุณูุง ูู ุบุถูู ููููู ุ ููููู ูุชุงุจุฉ ููุดูุฑ ูููุตู) ุ ูุฎุตุต ุจุงููุงูู ูููุถูุน ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ูู .NET ุ ุจุฏุฃูุง ูู ุฏุฑุงุณุฉ ุงููุดููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ููุงุณ </h2><br>  ููุถุน ููู ุชุนุฑูู ุนูู ุฎุงุฏู ุงูููุจ Pyrus ุ ุงุณุชุฎุฏููุง ุงูุฃุฏุงุฉ PerfView ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/Microsoft/perfview</a> ) ุ ุงูุชู ุชู ุชูุถูุญูุง ูุชูุตูู ุชุทุจููุงุช .NET.  ุชุนุชูุฏ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุนูู ูุดุบู Event Tracing for Windows (ETW) ูููุง ุชุฃุซูุฑ ุถุฆูู ุนูู ุฃุฏุงุก ุงูุชุทุจูู ุงูููููููู ุ ูุงูุฐู ูุณูุญ ุจุงุณุชุฎุฏุงูู ุนูู ุฎุงุฏู ูุชุงูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุนุชูุฏ ุงูุชุฃุซูุฑ ุนูู ุงูุฃุฏุงุก ุนูู ุฃููุงุน ุงูุฃุญุฏุงุซ ูุงููุนูููุงุช ุงูุชู ูุฌูุนูุง.  ูุญู ูุง ูุฌูุน ุฃู ุดูุก - ูุนูู ุงูุชุทุจูู ูุงููุนุชุงุฏ.  ุฃูุถุง ุ ูุง ูุชุทูุจ PerfView ุฅูุง ุฅุนุงุฏุฉ ุชุฑุฌูุฉ ุฃู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู. <br><br>  ุชุดุบูู ุชุชุจุน PerfView ูุน / GCCollectOnly ุงููุนููุฉ (ููุช ุงูุชุชุจุน 1.5 ุณุงุนุฉ).  ูู ูุฐุง ุงููุถุน ุ ูููู ููุท ุจุฌูุน ุฃุญุฏุงุซ ุชุฌููุน ุงูุจูุงูุงุช ุงูููููุฉ ููู ุชุฃุซูุฑ ุถุฆูู ุนูู ุงูุฃุฏุงุก.  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุชูุฑูุฑ ุงูุชุชุจุน ูู Memory Group / GCStats ุ ูููู ููุฎุต ูุฃุญุฏุงุซ ุฃุฏุงุฉ ุชุฌููุน ูุฌูุนู ุงูุจูุงูุงุช ุงูููููุฉ: <br><br><img src="https://habrastorage.org/webt/v4/ia/cd/v4iacdyso10-0toycwyijfm0zbm.png"><br><br>  ููุง ูุฑู ุงูุนุฏูุฏ ูู ุงููุคุดุฑุงุช ุงููุซูุฑุฉ ููุงูุชูุงู ูู ููุช ูุงุญุฏ: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชูุณุท โโููุช ุงูุฅููุงู ุงููุคูุช ููุจูุงุก ูู ุงูุฌูู ุงูุซุงูู ูู 700 ูููู ุซุงููุฉ ุ ูุงูุญุฏ ุงูุฃูุตู ููุฅููุงู ุงููุคูุช ุญูุงูู ุซุงููุฉ.  ููุถุญ ูุฐุง ุงูุฑูู ุงูููุช ุงูุฐู ุชุชููู ุนูุฏู ูุงูุฉ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ูู ุชุทุจูู .NET ุ ุนูู ูุฌู ุงูุฎุตูุต ุ ุณุชุชู ุฅุถุงูุฉ ูุฐุง ุงูุชููู ุงููุคูุช ูุฌููุน ุงูุทูุจุงุช ุงูุชู ุชูุช ูุนุงูุฌุชูุง. <br></li><li style=";text-align:right;direction:rtl">  ุนุฏุฏ ุงูุชุฌููุนุงุช ูู ุงูุฌูู ุงูุซุงูู ูููู ููุงุฑูุชู ุจุงูุฌูู ุงูุฃูู ูุฃูู ููููุงู ูู ุนุฏุฏ ุงูุชุฌููุนุงุช ูู ุงูุฌูู 0. <br></li><li style=";text-align:right;direction:rtl">  ูุณุฑุฏ ุงูุนููุฏ ุงููุณุชุญุซ 53 ูุฌููุนุฉ ูู ุงูุฌูู ุงูุซุงูู.  ุงูุชุฌููุน ุงููุณุชุญุซ ูู ูุชูุฌุฉ ูุงุณุชุฏุนุงุก ุตุฑูุญ ุฅูู GC.Collect ().  ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจูุง ุ ูู ูุนุซุฑ ุนูู ุฏุนูุฉ ูุงุญุฏุฉ ููุฐู ุงูุทุฑููุฉ ุ ููุง ูุนูู ุฃู ุจุนุถ ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ ูู ูุจู ุงูุชุทุจูู ูุฏููุง ูู ุงููุณุคููุฉ. <br></li></ul><br>  ุฏุนูุง ููุถุญ ุงูููุงุญุธุฉ ุญูู ุนุฏุฏ ูุฌููุนุงุช ุงูููุงูุฉ.  ุชุนุชูุฏ ููุฑุฉ ุชูุณูู ุงููุงุฆูุงุช ุนูู ุญูุงุชูุง ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฑุถูุฉ ุงูุฃุฌูุงู</a> : ุฌุฒุก ูุจูุฑ ูู ุงููุงุฆูุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ูููุช ุจุณุฑุนุฉ ุ ููุนุธู ุงููุงุฆูุงุช ุงูุฃุฎุฑู ุชุนูุด ุทูููุงู (ุจูุนูู ุขุฎุฑ ุ ูุงุฆูุงุช ููููุฉ ููุง ุนูุฑ "ูุชูุณุท").  ุชุญุช ูุฐุง ุงููุถุน ูุชู ุณุฌู ุฃุฏุงุฉ ุชุฌููุน ูุฌูุนู ุงูุจูุงูุงุช ุงูููููุฉ .NET ุ ููู ูุฐุง ุงููุถุน ูุฌุจ ุฃู ุชููู ุชุฌููุนุงุช ุงูุฌูู ุงูุซุงูู ุฃุตุบุฑ ุจูุซูุฑ ูู ุงูุฌูู 0.  ููุฐุง ูู ุ ูู ุฃุฌู ุงูุชุดุบูู ุงูุฃูุซู ูุฌุงูุน ุงูููุงูุฉ ุ ูุฌุจ ุนูููุง ุชูููู ุนูู ุชุทุจูููุง ูุน ูุฑุถูุฉ ุงูุฃุฌูุงู.  ุฏุนููุง ูุตูุบ ุงููุงุนุฏุฉ ุนูู ุงููุญู ุงูุชุงูู: ูุฌุจ ุฃู ุชููุช ุงูุฃุดูุงุก ุฅูุง ุจุณุฑุนุฉ ุ ุฏูู ุฃู ุชุจูู ุนูู ููุฏ ุงูุญูุงุฉ ุฅูู ุงูุฌูู ุงูุฃูุจุฑ ุณูุงู ุ ุฃู ุฃู ุชุนูุด ูููุง ูุชุนูุด ูููุง ุฅูู ุงูุฃุจุฏ.  ุชูุทุจู ูุฐู ุงููุงุนุฏุฉ ุฃูุถูุง ุนูู ุงูุฃูุธูุฉ ุงูุฃุณุงุณูุฉ ุงูุฃุฎุฑู ุงูุชู ุชุณุชุฎุฏู ุงูุฅุฏุงุฑุฉ ุงูุชููุงุฆูุฉ ููุฐุงูุฑุฉ ูุน ุงููุตู ุจูู ุงูุฃุฌูุงู ุ ูุซู Java. <br><br>  ูููู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ุงูุชู ุชูููุง ูู ุฌุฏูู ุขุฎุฑ ูู ุชูุฑูุฑ GCStats: <br><br><img src="https://habrastorage.org/webt/m5/7y/je/m57yjedgbkwfpbiwmjkvnbhgl4o.png"><br><br>  ูููุง ููู ุจุนุถ ุงูุญุงูุงุช ุงูุชู ูุญุงูู ูููุง ุฃุญุฏ ุงูุชุทุจููุงุช ุฅูุดุงุก ูุงุฆู ูุจูุฑ (ูู ูุงุฆูุงุช .NET Framework&gt; ูุชู ุฅูุดุงุก 85000 ุจุงูุช ูู ุงูุญุฌู ูู LOH - Large Object Heap) ุ ููุชุนูู ุนููู ุงูุชุธุงุฑ ุงูุชูุงู ุชุฌููุน ุงูุฌูู ุงูุซุงูู ุ ูุงูุฐู ูุญุฏุซ ุจุงูุชูุงุฒู ูู ุงูุฎูููุฉ.  ูุฐู ุงูุฅููุงู ุงููุคูุช ูููุฎุตุต ููุณุช ูููุฉ ูุซู ุงูุฅููุงู ุงููุคูุช ููุฌูุน ุงูุจูุงูุงุช ุงูููููุฉ ุ ูุฃููุง ุชุคุซุฑ ุนูู ูุคุดุฑ ุชุฑุงุจุท ูุงุญุฏ ููุท.  ูุจู ุฐูู ุ ุงุณุชุฎุฏููุง ุฅุตุฏุงุฑ .NET Framework 4.6.1 ุ ููู ุงูุฅุตุฏุงุฑ 4.7.1 ูุถุนุช Microsoft ุงูููุณุงุช ุงูุฃุฎูุฑุฉ ุนูู ุฃุฏุงุฉ ุชุฌููุน ูุฌูุนู ุงูุจูุงูุงุช ุงูููููุฉ ุ ุญูุซ ุชุณูุญ ูู ุงูุขู ุจุชุฎุตูุต ุฐุงูุฑุฉ ูู Large Object Heap ุฃุซูุงุก ุฅูุดุงุก ุฎูููุฉ ุงูุฌูู ุงูุซุงูู: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://docs.microsoft.com / ru-ru / dotnet / framework / whats-new / # common-language-runtime-clr</a> <br>  ูุฐูู ุ ูููุง ุจุงูุชุฑููุฉ ุฅูู ุฃุญุฏุซ ุฅุตุฏุงุฑ 4.7.2 ูู ุฐูู ุงูููุช. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฌูู ุงูุซุงูู ูุจูู </h2><br>  ููุงุฐุง ูุฏููุง ุงููุซูุฑ ูู ุจููุงุช ุงูุฌูู ุงููุฏููุ  ุงูุงูุชุฑุงุถ ุงูุฃูู ูู ุฃู ูุฏููุง ุชุณุฑุจ ููุฐุงูุฑุฉ.  ูุงุฎุชุจุงุฑ ูุฐู ุงููุฑุถูุฉ ุ ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุญุฌู ุงูุฌูู ุงูุซุงูู (ุฃูุดุฃูุง ูุฑุงูุจุฉ ุนุฏุงุฏุงุช ุงูุฃุฏุงุก ุงูููุงุจูุฉ ูู Zabbix).  ูู ุงูุฑุณูู ุงูุจูุงููุฉ ูุญุฌู ุงูุฌูู ุงูุซุงูู ูุฎุงุฏูู Pyrus ุ ูููู ููุงุญุธุฉ ุฃู ุญุฌูู ูููู ุฃููุงู (ููุฑุฌุน ุฐูู ุฃุณุงุณูุง ุฅูู ููุก ุฐุงูุฑุงุช ุงูุชุฎุฒูู ุงููุคูุช) ุ ูููู ุจุนุฏ ุฐูู ูุณุชูุฑ (ุงูุฅุฎูุงูุงุช ุงููุจูุฑุฉ ูู ุงูุฑุณู ุงูุจูุงูู - ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูููุชุธูุฉ ูุฎุฏูุฉ ุงูููุจ ูุชุญุฏูุซ ุงูุฅุตุฏุงุฑ): <br><br><img src="https://habrastorage.org/webt/gg/lc/ce/gglcce4tssnhzgcjfhesec9rcja.png"><br><br>  ูุฐุง ูุนูู ุฃูู ูุง ุชูุฌุฏ ุฃู ุชุณุฑุจุงุช ููุญูุธุฉ ูู ุงูุฐุงูุฑุฉ ุ ุฃู ุฃู ุนุฏุฏูุง ูุจูุฑูุง ูู ุชุฌููุนุงุช ุงูุฌูู ุงูุซุงูู ุชุญุฏุซ ูุณุจุจ ุขุฎุฑ.  ุงููุฑุถูุฉ ุงูุชุงููุฉ ูู ุฃู ููุงู ุงููุซูุฑ ูู ุญุฑูุฉ ุงูุฐุงูุฑุฉ ุ ุฃู ุฃู ุงูุนุฏูุฏ ูู ุงููุงุฆูุงุช ุชูุน ูู ุงูุฌูู ุงูุซุงูู ุ ูุชููุช ุงูุนุฏูุฏ ูู ุงููุงุฆูุงุช ููุงู.  ูุญุชูู PerfView ุนูู ูุถุน / GCOnly ููุนุซูุฑ ุนูู ูุซู ูุฐู ุงููุงุฆูุงุช.  ูู ุชูุงุฑูุฑ ุงูุชุชุจุน ุ ุฏุนูุง ููุชุจู ุฅูู ููุฏุณุงุช ุงููููุงุช ุงููุงุชุฌุฉ ุนู ุงููุงุฆูุงุช 2 (ุฎุดู ุงูุนููุงุช) ุงูุชู ุชุญุชูู ุนูู ูุฌููุนุฉ ูุฎุชุงุฑุฉ ูู ุงููุงุฆูุงุช ุงูุชู ุชููุช ูู ุงูุฌูู ุงูุซุงูู ุ ุฌูุจูุง ุฅูู ุฌูุจ ูุน ููุฏุณุงุช ุงุณุชุฏุนุงุก ุงูุฃูุงูู ุงูุชู ุชู ุฅูุดุงุก ูุฐู ุงููุงุฆูุงุช ูููุง.  ููุง ูุฑู ุงููุชุงุฆุฌ ุงูุชุงููุฉ: <br><br><img src="https://habrastorage.org/webt/h7/r2/d0/h7r2d0htyxsnaqrr_ekn_ybilti.png"><br><br>  ุจุนุฏ ูุชุญ ุงูุฎุท ุ ูุฑู ูู ุงูุฏุงุฎู ูุฌููุนุฉ ููุงููุงุช ูู ุชูู ุงูุฃูุงูู ูู ุงูุดูุฑุฉ ุงูุชู ุชูุดุฆ ูุงุฆูุงุช ุชุฑูู ุฅูู ุงูุฌูู ุงูุซุงูู.  ูู ุจูููุง: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  System.Byte [] ุฅุฐุง ูุธุฑุช ุฅูู ุงูุฏุงุฎู ุ ูุณูุฑู ุฃู ุฃูุซุฑ ูู ูุตููุง ุนุจุงุฑุฉ ุนู ูุฎุงุฒู ูุคูุชุฉ ููุชุณูุณู ูู JSON: <br></li></ul><br><img src="https://habrastorage.org/webt/la/up/6v/laup6v0mho5e1tbwjfkfmsgdhog.png"><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุชุญุฉ [System.Int32] [] (ูุฐุง ุฌุฒุก ูู ุชุทุจูู HashSet) ุ System.Int32 [] ุ ุฅูุฎ.  ูุฐุง ูู ุฑูุฒูุง ุงูุฐู ูุญุณุจ ุฐุงูุฑุงุช ุงูุชุฎุฒูู ุงููุคูุช ููุนููู - ุชูู ุงูุฏูุงุฆู ูุงูููุงุฐุฌ ูุงูููุงุฆู ูุงูุฃุตุฏูุงุก ููุง ุฅูู ุฐูู ุงูุชู ูุฑุงูุง ูุฐุง ุงููุณุชุฎุฏู ูุงูุชู ูุชู ุชุฎุฒูููุง ูุคูุชูุง ูู ูุชุตูุญู ุฃู ุชุทุจููู ุงููุญููู: <br></li></ul><br><img src="https://habrastorage.org/webt/dx/et/jy/dxetjyvj2ande72qrod6leza6i8.png"><br><br><img src="https://habrastorage.org/webt/v6/k6/r-/v6k6r-wq0qeof0edb6h5jvct-he.png"><br><br>  ููู ุงููุซูุฑ ููุงูุชูุงู ุฃู ุงููุฎุงุฒู ุงููุคูุชุฉ ูู JSON ููุญุณุงุจ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุนููู ูููุง ูุงุฆูุงุช ูุคูุชุฉ ุชุนูุด ุนูู ููุณ ุงูุทูุจ.  ููุงุฐุง ุชุฑูู ุฅูู ุงูุฌูู ุงูุซุงููุ  ูุงุญุธ ุฃู ูู ูุฐู ุงููุงุฆูุงุช ุนุจุงุฑุฉ ุนู ุตูุงุฆู ุจุญุฌู ูุจูุฑ ุฅูู ุญุฏ ูุง.  ููู ุญุฌู&gt; 85000 ุจุงูุช ุ ูุชู ุชุฎุตูุต ุงูุฐุงูุฑุฉ ุงูุฎุงุตุฉ ุจูู ูู ูููุฉ ูุงุฆู ูุจูุฑุฉ ุ ูุงูุชู ูุชู ุฌูุนูุง ููุท ูุน ุงูุฌูู ุงูุซุงูู. <br><br>  ููุชุญูู ุ ุงูุชุญ ูุณู "GC Heap Alloc Ignore Free (Coarse Sampling)" ูู ูุชุงุฆุฌ ุงูุนุฑุถ / ูุชุงุฆุฌ GCOnly.  ููุงู ูุฑู ุงูุณุทุฑ LargeObject ุ ุญูุซ ูููู PerfView ุจุชุฌููุน ุฅูุดุงุก ูุงุฆูุงุช ูุจูุฑุฉ ุ ูุฏุงุฎููุง ูุฑู ุฌููุน ุงูุตูุงุฆู ููุณูุง ุงูุชู ุฑุฃููุงูุง ูู ุงูุชุญููู ุงูุณุงุจู.  ูุญู ูุฏุฑู ุงูุณุจุจ ุงูุฌุฐุฑู ูููุดุงูู ูุน ุฌุงูุน ุงูุจูุงูุงุช ุงูููููุฉ: ูููู ุจุฅูุดุงุก ุงูุนุฏูุฏ ูู ุงููุงุฆูุงุช ุงููุจูุฑุฉ ุงููุคูุชุฉ. <br><br><img src="https://habrastorage.org/webt/sy/kr/lk/sykrlkgbmvl9jyny5hl1_ftg4ee.png"><br><br><img src="https://habrastorage.org/webt/f9/6q/mp/f96qmplnj4devma1buedg6fpo8q.png"><br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุบููุฑุงุช ูู ูุธุงู Pyrus </h2><br>  ุงุณุชูุงุฏูุง ุฅูู ูุชุงุฆุฌ ุงูููุงุณ ุ ุญุฏุฏูุง ุงููุฌุงูุงุช ุงูุฑุฆูุณูุฉ ููุฒูุฏ ูู ุงูุนูู: ููุงูุญุฉ ุงูุฃุดูุงุก ุงููุจูุฑุฉ ุนูุฏ ุญุณุงุจ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุนููู ูุงูุชุณูุณู ูู JSON.  ููุงู ุงูุนุฏูุฏ ูู ุงูุญููู ููุฐู ุงููุดููุฉ: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃุจุณุท ุดูุก ูู ุนุฏู ุฅูุดุงุก ูุงุฆูุงุช ูุจูุฑุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุชู ุงุณุชุฎุฏุงู ูุฎุฒู ูุคูุช ูุจูุฑ B ูู ุชุญูููุงุช ุงูุจูุงูุงุช ุงููุชุณูุณูุฉ A-&gt; B-&gt; C ุ ูู ุจุนุถ ุงูุฃุญูุงู ูููู ุฏูุฌ ูุฐู ุงูุชุญููุงุช ุนู ุทุฑูู ุชุญููููุง ุฅูู A-&gt; C ุ ูุงูุชุฎูุต ูู ุฅูุดุงุก ูุงุฆู B. ูุฐุง ุงูุฎูุงุฑ ุบูุฑ ูุงุจู ููุชุทุจูู ุฏุงุฆููุง ุ ูููู ุฃุจุณุท ูุฃูุซุฑ ูุนุงููุฉ. <br></li><li style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ูู ุงูุฃุดูุงุก.  ุจุฏูุงู ูู ุฅูุดุงุก ูุงุฆูุงุช ุฌุฏูุฏุฉ ุจุงุณุชูุฑุงุฑ ูุฑูููุง ุจุนูุฏูุง ุ ูุชุญููู ุฃุฏุงุฉ ุชุฌููุน ูุฌูุนู ุงูุจูุงูุงุช ุงูููููุฉ ุ ูููููุง ุชุฎุฒูู ูุฌููุนุฉ ูู ุงููุงุฆูุงุช ุงููุฌุงููุฉ.  ูู ุฃุจุณุท ุงูุญุงูุงุช ุ ุนูุฏูุง ูุญุชุงุฌ ุฅูู ูุงุฆู ุฌุฏูุฏ ุ ูุฅููุง ูุฃุฎุฐู ูู ุงูุชุฌูุน ุ ุฃู ููุดุฆ ูุงุฆููุง ุฌุฏูุฏูุง ุฅุฐุง ูุงู ุงูุชุฌูุน ูุงุฑุบูุง.  ุนูุฏูุง ูุง ูุญุชุงุฌ ุฅูู ุงููุงุฆู ุ ูุนูุฏู ุฅูู ุงูุชุฌูุน.  ูุซุงู ุฌูุฏ ุนูู ุฐูู ูู ArrayPool ูู .NET Core ุ ูุงูุฐู ูุชููุฑ ุฃูุถูุง ูู .NET Framework ูุฌุฒุก ูู ุญุฒูุฉ System.Buffers Nuget. <br></li><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏู ุฃุดูุงุก ุตุบูุฑุฉ ุจุฏูุงู ูู ุงูุฃุดูุงุก ุงููุจูุฑุฉ. <br></li></ul><br>  ุฏุนูุง ูููุฑ ุจุดูู ูููุตู ูู ููุชุง ุงูุญุงูุชูู ููุฃุดูุงุก ุงููุจูุฑุฉ - ุชุฎุฒูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุนููู ูุงูุชุณูุณู ูู JSON. <br><br><h2 style=";text-align:right;direction:rtl">  ุญุณุงุจ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุนููู </h2><br>  ูููู ุนููู ุงูููุจ Pyrus ูุชุทุจููุงุช ุงููุงุชู ุงููุญููู ุจุชุฎุฒูู ุงูุจูุงูุงุช ุงููุชุงุญุฉ ูููุณุชุฎุฏู (ุงููุดุงุฑูุน ุ ุงูููุงุฐุฌ ุ ุงููุณุชุฎุฏููู ุ ุฅูุฎ.) ูุชู ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู ุงููุคูุช ูุชุณุฑูุน ุงูุนูู ุ ููุง ุฃูู ุถุฑูุฑู ููุนูู ูู ูุถุน ุนุฏู ุงูุงุชุตุงู.  ูุชู ุญุณุงุจ ุงูุชุฎุฒูู ุงููุคูุช ุนูู ุงูุฎุงุฏู ููููู ุฅูู ุงูุนููู.  ุฅููู ูุฑุฏููู ููู ูุณุชุฎุฏู ุ ุญูุซ ูุนุชูุฏูู ุนูู ุญููู ุงููุตูู ุงูุฎุงุตุฉ ุจูู ุ ููุชู ุชุญุฏูุซูู ุบุงูุจูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุชุบููุฑ ุงูุฃุฏูุฉ ุงูุชู ูุฏูู ุญู ุงููุตูู ุฅูููุง. <br><br>  ูุจุงูุชุงูู ุ ูุชู ุฅุฌุฑุงุก ุงููุซูุฑ ูู ุญุณุงุจุงุช ุงูุชุฎุฒูู ุงููุคูุช ููุนููู ุจุดูู ููุชุธู ุนูู ุงูุฎุงุฏู ุ ููุชู ุฅูุดุงุก ุงูุนุฏูุฏ ูู ุงููุงุฆูุงุช ุงููุคูุชุฉ ูุตูุฑุฉ ุงูุนูุฑ.  ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ููุธูุฉ ูุจูุฑุฉ ุ ูููููู ุงููุตูู ุฅูู ุงูุนุฏูุฏ ูู ุงููุงุฆูุงุช ุ ุนูู ุงูุชูุงูู ุ ุณุชููู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุนููู ูุจูุฑุฉ.  ูุฐุง ูู ุงูุณุจุจ ูู ุฃููุง ุฑุฃููุง ุชุฎุตูุต ุงูุฐุงูุฑุฉ ููุตูุงุฆู ุงููุคูุชุฉ ุงููุจูุฑุฉ ูู ูููุฉ ุงููุงุฆูุงุช ุงููุจูุฑุฉ. <br><br>  ุฏุนููุง ูุญูู ุงูุฎูุงุฑุงุช ุงูููุชุฑุญุฉ ููุชุฎูุต ูู ุฅูุดุงุก ูุงุฆูุงุช ูุจูุฑุฉ: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุชุฎูุต ุงููุงูู ูู ุงูุฃุดูุงุก ุงููุจูุฑุฉ.  ูุฐุง ุงูููุฌ ุบูุฑ ูุงุจู ููุชุทุจูู ุ ูุธุฑูุง ูุฃู ุฎูุงุฑุฒููุงุช ุฅุนุฏุงุฏ ุงูุจูุงูุงุช ุชุณุชุฎุฏู ุ ูู ุจูู ุฃุดูุงุก ุฃุฎุฑู ุ ุงููุฑุฒ ูุชูุญูุฏ ุงููุฌููุนุงุช ุ ูุชุชุทูุจ ูุฎุงุฒู ูุคูุชุฉ. <br></li><li style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู ูุฌููุนุฉ ูู ุงูุฃุดูุงุก.  ูุฐุง ุงูููุฌ ูุฏูู ุตุนูุจุงุช: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ูุชููุนุฉ ูู ุงููุฌููุนุงุช ุงููุณุชุฎุฏูุฉ ูุฃููุงุน ุงูุนูุงุตุฑ ูููุง: HashSet ุ List ู Array ุชุณุชุฎุฏู (ูููู ุงูุฌูุน ุจูู ุงูุฃุฎูุฑ 2).  ูุชู ุชุฎุฒูู Int32 ู Int64 ุ ููุฐูู ุฌููุน ุฃููุงุน ูุฆุงุช ุงูุจูุงูุงุช ูู ูุฌููุนุงุช.  ููู ููุน ูุณุชุฎุฏู ุ ุณุชุญุชุงุฌ ุฅูู ูุฌููุนุฉ ุฎุงุตุฉ ุจู ุ ูุงูุชู ุณุชููู ุฃูุถูุง ุจุชุฎุฒูู ูุฌููุนุงุช ูู ูุฎุชูู ุงูุฃุญุฌุงู. <br></li><li style=";text-align:right;direction:rtl">  ููุช ุงูุญูุงุฉ ุงูุตุนุจ ูููุฌููุนุงุช.  ููุญุตูู ุนูู ููุงุฆุฏ ูู ุงููุฌููุนุฉ ุ ูุฌุจ ุฅุนุงุฏุฉ ุงููุงุฆูุงุช ุงูููุฌูุฏุฉ ูููุง ุจุนุฏ ุงูุงุณุชุฎุฏุงู.  ูููู ุงูููุงู ุจุฐูู ุฅุฐุง ุชู ุงุณุชุฎุฏุงู ุงููุงุฆู ูู ุทุฑููุฉ ูุงุญุฏุฉ.  ูููู ูู ุญุงูุชูุง ุ ูููู ุงููููู ุฃูุซุฑ ุชุนููุฏูุง ุ ูุธุฑูุง ูุฃู ุงูุนุฏูุฏ ูู ุงููุงุฆูุงุช ุงููุจูุฑุฉ ุชูุชูู ุจูู ุงูุทุฑู ุ ูุชู ูุถุนูุง ูู ููุงูู ุงูุจูุงูุงุช ุ ููุชู ููููุง ุฅูู ููุงูู ุฃุฎุฑู ุ ุฅูุฎ. <br></li><li style=";text-align:right;direction:rtl">  ุชุญููู.  ููุงู ArrayPool ูู Microsoft ุ ููููุง ูุง ุฒููุง ุจุญุงุฌุฉ ุฅูู ูุงุฆูุฉ ู HashSet.  ูู ูุฌุฏ ุฃู ููุชุจุฉ ููุงุณุจุฉ ุ ูุฐูู ุณูุชุนูู ุนูููุง ุชูููุฐ ุงููุตูู ุจุฃููุณูุง. </li></ul></li><li style=";text-align:right;direction:rtl">  ุงุณุชุฎุฏุงู ุงูุฃุดูุงุก ุงูุตุบูุฑุฉ.  ูููู ุชูุณูู ุตููู ูุจูุฑ ุฅูู ุนุฏุฉ ูุทุน ุตุบูุฑุฉ ุ ูู ุฃููู ุจุชุญููู ูููุฉ ูุงุฆู ูุจูุฑ ุ ูููู ุณูุชู ุฅูุดุงุคูุง ูู ุงูุฌูู 0 ุ ุซู ุงูุชูู ุนูู ุทูู ุงููุณุงุฑ ุงูููุงุณู ูู ุงูุฃูู ูุงูุซุงูู.  ูุฃูู ุฃูุง ูุฑุชููุง ุฅูู ุงููุณุชูู ุงูุซุงูู ุ ูููู ุณูุชู ุชุฌููุนูู ุจูุงุณุทุฉ ุฌุงูุน ุงูุจูุงูุงุช ุงูููููุฉ ูู 0 ุ ุฃู ูู ุงูุญุงูุงุช ุงููุตูู ูู ุงูุฌูู ุงูุฃูู.  ููุฒุฉ ูุฐุง ุงูููุฌ ูู ุฃู ุงูุชุบููุฑุงุช ุนูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูููุฌูุฏุฉ ุถุฆููุฉ.  ุงูุตุนูุจุฉ: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุญููู.  ูู ูุฌุฏ ุฃู ููุชุจุงุช ููุงุณุจุฉ ุ ูุฐูู ูุชุนูู ุนูููุง ูุชุงุจุฉ ุงููุตูู ุจุฃููุณูุง.  ููุต ุงูููุชุจุงุช ุฃูุฑ ููููู ุ ูุธุฑูุง ูุฃู ุงูุณููุงุฑูู "ุงููุฌููุนุงุช ุงูุชู ูุง ุชูุญููู ูููุฉ ุงููุงุฆูุงุช ุงููุจูุฑุฉ" ูู ูุทุงู ุถูู ุฌุฏูุง. </li></ul></li></ul><br>  ูุฑุฑูุง ุฃู ูุณูุฑ ุนูู ุงูุทุฑูู ุงูุซุงูุซ ููุฎุชุฑุน ุฏุฑุงุฌุชูุง ููุชุงุจุฉ ูุงุฆูุฉ ู HashSet ุ ูููุณ ุชุญููู ูููุฉ ุงููุงุฆูุงุช ุงููุจูุฑุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุงุฆูุฉ ูุทุนุฉ </h2><br>  ูููู ChunkedList &lt;T&gt; ุจุชูููุฐ ูุงุฌูุงุช ููุงุณูุฉ ุ ุจูุง ูู ุฐูู IList &lt;T&gt; ุ ูุงูุชู ุชุชุทูุจ ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุชุบููุฑุงุช ุนูู ุงูููุฏ ุงูููุฌูุฏ.  ูุนู ุ ูููุชุจุฉ Newtonsoft.Json ุงูุชู ูุณุชุฎุฏููุง ูุงุฏุฑุฉ ุชููุงุฆููุง ุนูู ุฅุฌุฑุงุก ุชุณูุณู ููุง ุ ุญูุซ ุฅููุง ุชููู ุจุชูููุฐ IEnumerable &lt;T&gt;: <br><br><pre style=";text-align:right;direction:rtl"><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sealed</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ChunkedList</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; : <span class="hljs-title"><span class="hljs-title">IList</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt;, <span class="hljs-title"><span class="hljs-title">ICollection</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt;, <span class="hljs-title"><span class="hljs-title">IEnumerable</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt;, <span class="hljs-title"><span class="hljs-title">IEnumerable</span></span>, <span class="hljs-title"><span class="hljs-title">IList</span></span>, <span class="hljs-title"><span class="hljs-title">ICollection</span></span>, <span class="hljs-title"><span class="hljs-title">IReadOnlyList</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt;, <span class="hljs-title"><span class="hljs-title">IReadOnlyCollection</span></span>&lt;<span class="hljs-title"><span class="hljs-title">T</span></span>&gt; {</code> </pre> <br>  ุชุญุชูู ุงููุงุฆูุฉ ุงูููุงุณูุฉ &lt;T&gt; ุนูู ุงูุญููู ุงูุชุงููุฉ: ุตููู ููุนูุงุตุฑ ูุนุฏุฏ ุงูุนูุงุตุฑ ุงููุนุจุฃุฉ.  ูู ChunkedList &lt;T&gt; ููุงู ูุฌููุนุฉ ูู ุตูุงุฆู ุงูุนูุงุตุฑ ุ ูุนุฏุฏ ุงูุตูุงุฆู ุงูููููุกุฉ ุจุงููุงูู ุ ูุนุฏุฏ ุงูุนูุงุตุฑ ูู ุงูุตููู ุงูุฃุฎูุฑ.  ูู ุตููู ูู ุงูุนูุงุตุฑ ูุน ุฃูู ูู 85000 ุจุงูุช: <br><br><img src="https://habrastorage.org/webt/72/zj/js/72zjjs9q6lcfud-l7nq8cy5prdi.png"><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> T[][] chunks; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> currentChunk; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> currentChunkSize;</code> </pre> <br>  ูุธุฑูุง ูุฃู ChunkedList &lt;T&gt; ูุนูุฏุฉ ุฅูู ุญุฏ ูุง ุ ููุฏ ูุชุจูุง ุงุฎุชุจุงุฑุงุช ููุตูุฉ ุนูููุง.  ูุฌุจ ุงุฎุชุจุงุฑ ุฃู ุนูููุฉ ูู ูุถุนูู ุนูู ุงูุฃูู: ูู "ุตุบูุฑ" ุนูุฏูุง ุชูุงุณุจ ุงููุงุฆูุฉ ุจุฃููููุง ูุทุนุฉ ูุงุญุฏุฉ ูุตู ุญุฌููุง ุฅูู 85000 ุจุงูุช ุ ู "ูุจูุฑุฉ" ุนูุฏูุง ุชุชููู ูู ุฃูุซุฑ ูู ูุทุนุฉ ูุงุญุฏุฉ.  ุนูุงูุฉ ุนูู ุฐูู ุ ุจุงููุณุจุฉ ููุทุฑู ุงูุชู ุชุบูุฑ ุงูุญุฌู (ุนูู ุณุจูู ุงููุซุงู ุ ุฅุถุงูุฉ) ุ ุชููู ุงูุณููุงุฑูููุงุช ุฃูุจุฑ: "ุตุบูุฑุฉ" -&gt; "ุตุบูุฑุฉ" ุ "ุตุบูุฑุฉ" -&gt; "ูุจูุฑุฉ" ุ "ูุจูุฑุฉ" -&gt; "ูุจูุฑุฉ" ุ "ูุจูุฑุฉ" -&gt; " ุตุบูุฑ. "  ููุง ููุงู ุนุฏุฏ ูุง ุจุฃุณ ุจู ูู ุงูุญุงูุงุช ุงูุญุฏูุฏูุฉ ุงููุฑุจูุฉ ุงูุชู ุชุคุฏู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ุฃุฏุงุกู ุฌูุฏูุง. <br><br>  ูุชู ุชุจุณูุท ุงููููู ูู ุฎูุงู ุญูููุฉ ุฃู ุจุนุถ ุงูุฃุณุงููุจ ูู ูุงุฌูุฉ IList ุบูุฑ ูุณุชุฎุฏูุฉ ุ ููููู ุญุฐููุง (ูุซู Insert ุ Remove).  ุฅู ุชูููุฐูุง ูุงุฎุชุจุงุฑูุง ุณููููุงู ูู ุงููููุงุช ุงูุนุงูุฉ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุชู ุชุจุณูุท ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ุงููุชุงุจุฉ ูู ุฎูุงู ุญูููุฉ ุฃููุง ูุณูุง ุจุญุงุฌุฉ ุฅูู ุงููุตูู ุฅูู ูุธุงุฆู ุฌุฏูุฏุฉ ุ ูุฌุจ ุฃู ุชุชุตุฑู ChunkedList &lt;T&gt; ุจููุณ ุงููุงุฆูุฉ &lt;T&gt;.  ุจูุนูู ุ ูุชู ุชูุธูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ุนูู ุงููุญู ุงูุชุงูู: ุฅูุดุงุก ูุงุฆูุฉ &lt;T&gt; ููุงุฆูุฉ ChunkedList &lt;T&gt; ุ ูุชูููุฐ ููุณ ุงูุนูููุงุช ุนูููุง ูููุงุฑูุฉ ุงููุชุงุฆุฌ. <br><br>  ูููุง ุจููุงุณ ุงูุฃุฏุงุก ุจุงุณุชุฎุฏุงู ููุชุจุฉ BenchmarkDotNet ููุชุฃูุฏ ูู ุฃููุง ูู ูุจุทุฆ ุฑูุฒูุง ูุซูุฑูุง ุนูุฏ ุงูุชุจุฏูู ูู ุงููุงุฆูุฉ &lt;T&gt; ุฅูู ChunkedList &lt;T&gt;.  ููุฎุชุจุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅุถุงูุฉ ุนูุงุตุฑ ุฅูู ุงููุงุฆูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Benchmark</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ChunkedList&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ChunkedList</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> list = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChunkedList&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; N; i++) list.Add(i); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> list; }</code> </pre> <br>  ูููุณ ุงูุงุฎุชุจุงุฑ ุจุงุณุชุฎุฏุงู ูุงุฆูุฉ &lt;T&gt; ููููุงุฑูุฉ.  ุงููุชุงุฆุฌ ุนูุฏ ุฅุถุงูุฉ 500 ุนูุตุฑ (ูู ุดูุก ููุงุณุจ ูุฌููุนุฉ ูุงุญุฏุฉ): <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  ุทุฑููุฉ </td><td>  ูุชูุณุท </td><td>  ุฎุทุฃ </td><td>  StdDev </td><td>  ุงูุฌูุฑุงู 0 / 1k Op </td><td>  ุงูุฌูุฑุงู 1/1 ู ุงููุฑุฌุน </td><td>  Gen 2 / 1k Op </td><td>  ุฐุงูุฑุฉ ูุฎุตุตุฉ / ูุฑุฌุน ุณุงุจู </td></tr><tr><td>  StandardList </td><td>  1.415 ููุง </td><td>  0.0149 ููุง </td><td>  0.0140 ููุง </td><td>  0.6847 </td><td>  0.0095 </td><td>  - </td><td>  4.21 ูููู ุจุงูุช </td></tr><tr><td>  ChunkedList </td><td>  3.728 ููุง </td><td>  0.0238 ููุง </td><td>  0.0222 ููุง </td><td>  0.6943 </td><td>  0.0076 </td><td>  - </td><td>  4.28 ูููู ุจุงูุช </td></tr></tbody></table></div><br>  ุงููุชุงุฆุฌ ุนูุฏ ุฅุถุงูุฉ 50000 ุนูุตุฑ (ููุณู ุฅูู ุนุฏุฉ ุตูุงุฆู): <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  ุทุฑููุฉ </td><td>  ูุชูุณุท </td><td>  ุฎุทุฃ </td><td>  StdDev </td><td>  ุงูุฌูุฑุงู 0 / 1k Op </td><td>  ุงูุฌูุฑุงู 1/1 ู ุงููุฑุฌุน </td><td>  Gen 2 / 1k Op </td><td>  ุฐุงูุฑุฉ ูุฎุตุตุฉ / ูุฑุฌุน ุณุงุจู </td></tr><tr><td>  StandardList </td><td>  146.273 ููุง </td><td>  3ุ1466 ููุง </td><td>  4.8053 ููุง </td><td>  124.7559 </td><td>  124.7559 </td><td>  124.7559 </td><td>  513.23 ููููุจุงูุช </td></tr><tr><td>  ChunkedList </td><td>  287.687 ููุง </td><td>  1.4630 ููุง </td><td>  1.2969 ููุง </td><td>  41.5039 </td><td>  20.5078 </td><td>  - </td><td>  256.75 ูููู ุจุงูุช </td></tr></tbody></table></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุตู ููุตู ููุฃุนูุฏุฉ ูู ุงููุชุงุฆุฌ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">BenchmarkDotNet=v0<span class="hljs-number"><span class="hljs-number">.11</span></span><span class="hljs-number"><span class="hljs-number">.4</span></span>, OS=Windows <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.17763</span></span><span class="hljs-number"><span class="hljs-number">.379</span></span> (<span class="hljs-number"><span class="hljs-number">1809</span></span>/October2018Update/Redstone5) Intel Core i7<span class="hljs-number"><span class="hljs-number">-8700</span></span>K CPU <span class="hljs-number"><span class="hljs-number">3.70</span></span>GHz (Coffee Lake), <span class="hljs-number"><span class="hljs-number">1</span></span> CPU, <span class="hljs-number"><span class="hljs-number">12</span></span> logical and <span class="hljs-number"><span class="hljs-number">6</span></span> physical cores [Host] : .NET Framework <span class="hljs-number"><span class="hljs-number">4.7</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> (CLR <span class="hljs-number"><span class="hljs-number">4.0</span></span><span class="hljs-number"><span class="hljs-number">.30319</span></span><span class="hljs-number"><span class="hljs-number">.42000</span></span>), <span class="hljs-number"><span class="hljs-number">64b</span></span>it RyuJIT-v4<span class="hljs-number"><span class="hljs-number">.7</span></span><span class="hljs-number"><span class="hljs-number">.3324</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> DefaultJob : .NET Framework <span class="hljs-number"><span class="hljs-number">4.7</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> (CLR <span class="hljs-number"><span class="hljs-number">4.0</span></span><span class="hljs-number"><span class="hljs-number">.30319</span></span><span class="hljs-number"><span class="hljs-number">.42000</span></span>), <span class="hljs-number"><span class="hljs-number">64b</span></span>it RyuJIT-v4<span class="hljs-number"><span class="hljs-number">.7</span></span><span class="hljs-number"><span class="hljs-number">.3324</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> <span class="hljs-comment"><span class="hljs-comment">// * Hints * Outliers ListAdd.StandardList: Default -&gt; 2 outliers were removed ListAdd.ChunkedList: Default -&gt; 1 outlier was removed // * Legends * Mean : Arithmetic mean of all measurements Error : Half of 99.9% confidence interval StdDev : Standard deviation of all measurements Gen 0/1k Op : GC Generation 0 collects per 1k Operations Gen 1/1k Op : GC Generation 1 collects per 1k Operations Gen 2/1k Op : GC Generation 2 collects per 1k Operations Allocated Memory/Op : Allocated memory per single operation (managed only, inclusive, 1KB = 1024B) 1 us : 1 Microsecond (0.000001 sec)</span></span></code> </pre> <br></div></div><br>  ุฅุฐุง ูุธุฑุช ุฅูู ุนููุฏ "ูุชูุณุท" ุ ุงูุฐู ูุนุฑุถ ูุชูุณุท โโููุช ุชูููุฐ ุงูุงุฎุชุจุงุฑ ุ ููููู ุฃู ุชุฑู ุฃู ุชุทุจูููุง ุฃุจุทุฃ ูู 2 ุฅูู 2.5 ูุฑุฉ ููุท ูู ุงููุนูุงุฑ.  ุจุงููุธุฑ ุฅูู ุฃูู ูู ุงูููุฏ ุงูุญูููู ุ ูุง ุชุดูู ุงูุนูููุงุช ูุน ุงูููุงุฆู ุณูู ุฌุฒุก ุตุบูุฑ ูู ุฌููุน ุงูุฅุฌุฑุงุกุงุช ุงูููุฌุฒุฉ ุ ููุตุจุญ ูุฐุง ุงูุงุฎุชูุงู ุถุฆููุงู.  ููู ุงูุนููุฏ "Gen 2 / 1k op" (ุนุฏุฏ ุงูุชุฌููุนุงุช ูู ุงูุฌูู ุงูุซุงูู ูุชุดุบูู 1000 ุงุฎุชุจุงุฑ) ููุถุญ ุฃููุง ุญูููุง ุงููุฏู: ูุน ุนุฏุฏ ูุจูุฑ ูู ุงูุนูุงุตุฑ ุ ูุง ููุดุฆ ChunkedList ุงูููุงูุฉ ูู ุงูุฌูู ุงูุซุงูู ุ ูุงูุชู ูุงูุช ูููุชูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ูุทุนุฉ </h2><br>  ูุจุงููุซู ุ ุชุทุจู ChunkedHashSet &lt;T&gt; ูุงุฌูุฉ ISet &lt;T&gt;.  ุนูุฏ ูุชุงุจุฉ ChunkedHashSet &lt;T&gt; ุ ุฃุนุฏูุง ุงุณุชุฎุฏุงู ููุทู ุงููุทุนุฉ ุงูุตุบูุฑ ุงููุทุจู ุจุงููุนู ูู ChunkedList.  ููููุงู ุจุฐูู ุ ุงุชุฎุฐูุง ุชุทุจูู HashSet &lt;T&gt; ุฌุงูุฒูุง ูู ูุตุฏุฑ ูุฑุฌุน .NET ุ ุงููุชููุฑ ุจููุฌุจ ุชุฑุฎูุต MIT ุ ูุงุณุชุจุฏููุง ุงููุตูููุงุช ุจููุงุฆู ChunkedLists ูููุง. <br><br>  ูู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุงุช ุ ูุณุชุฎุฏู ููุณ ุงูุฎุฏุนุฉ ููุง ูู ุงูููุงุฆู: ุณูููู ุจููุงุฑูุฉ ุณููู ChunkedHashSet &lt;T&gt; ูุน ุงููุฑุฌุน HashSet &lt;T&gt;. <br><br>  ูุฃุฎูุฑุง ุ ุงุฎุชุจุงุฑุงุช ุงูุฃุฏุงุก.  ุงูุนูููุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ูุณุชุฎุฏููุง ูู ุงุชุญุงุฏ ุงููุฌููุนุงุช ุ ููุฐุง ูู ุงูุณุจุจ ูู ุฃููุง ูุฎุชุจุฑูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ChunkedHashSet&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ChunkedHashSet</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">[][] source</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChunkedHashSet&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> arr <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> source) <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>.UnionWith(arr); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }</code> </pre> <br>  ูุงูุงุฎุชุจุงุฑ ููุณู ุจุงูุถุจุท ู HashSet ุงูููุงุณูุฉ.  ุงูุงุฎุชุจุงุฑ ุงูุฃูู ูููุฌููุนุงุช ุงูุตุบูุฑุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> source = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[][] { Enumerable.Range(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">300</span></span>).ToArray(), Enumerable.Range(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">600</span></span>).ToArray(), Enumerable.Range(<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>).ToArray(), }</code> </pre> <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  ุทุฑููุฉ </td><td>  ูุชูุณุท </td><td>  ุฎุทุฃ </td><td>  StdDev </td><td>  ุงูุฌูุฑุงู 0 / 1k Op </td><td>  ุงูุฌูุฑุงู 1/1 ู ุงููุฑุฌุน </td><td>  Gen 2 / 1k Op </td><td>  ุฐุงูุฑุฉ ูุฎุตุตุฉ / ูุฑุฌุน ุณุงุจู </td></tr><tr><td>  StandardHashSet </td><td>  30.16 ููุง </td><td>  0.1046 ููุง </td><td>  0.0979 ููุง </td><td>  9.3079 </td><td>  1.6785 </td><td>  - </td><td>  57.41 ููููุจุงูุช </td></tr><tr><td>  ChunkedHashSet </td><td>  73.54 ููุง </td><td>  0.5919 ููุง </td><td>  0.5247 ููุง </td><td>  9.5215 </td><td>  1.5869 </td><td>  - </td><td>  58.84 ููููุจุงูุช </td></tr></tbody></table></div><br>  ุงูุงุฎุชุจุงุฑ ุงูุซุงูู ูููุฌููุนุงุช ุงููุจูุฑุฉ ุงูุชู ุชุณุจุจุช ูู ูุดููุฉ ูุฌููุนุฉ ูู ุงููุงุฆูุงุช ุงููุจูุฑุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> source = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[][] { Enumerable.Range(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">30000</span></span>).ToArray(), Enumerable.Range(<span class="hljs-number"><span class="hljs-number">10000</span></span>, <span class="hljs-number"><span class="hljs-number">60000</span></span>).ToArray(), Enumerable.Range(<span class="hljs-number"><span class="hljs-number">30000</span></span>, <span class="hljs-number"><span class="hljs-number">100000</span></span>).ToArray(), }</code> </pre> <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  ุทุฑููุฉ </td><td>  ูุชูุณุท </td><td>  ุฎุทุฃ </td><td>  StdDev </td><td>  ุงูุฌูุฑุงู 0 / 1k Op </td><td>  ุงูุฌูุฑุงู 1/1 ู ุงููุฑุฌุน </td><td>  Gen 2 / 1k Op </td><td>  ุฐุงูุฑุฉ ูุฎุตุตุฉ / ูุฑุฌุน ุณุงุจู </td></tr><tr><td>  StandardHashSet </td><td>  3031.30 ููุง </td><td>  32.0797 ููุง </td><td>  28.4378 ููุง </td><td>  699.2188 </td><td>  667.9688 </td><td>  664.0625 </td><td>  4718.23 ููููุจุงูุช </td></tr><tr><td>  ChunkedHashSet </td><td>  7189.66 ููุง </td><td>  25.6319 ููุง </td><td>  23.9761 ููุง </td><td>  539.0625 </td><td>  265.6250 </td><td>  7.8125 </td><td>  3280.71 ููููุจุงูุช </td></tr></tbody></table></div><br>  ุงููุชุงุฆุฌ ุชุดุจู ุงูููุงุฆู.  ChunkedHashSet ุฃุจุทุฃ ุจูุณุจุฉ 2-2.5 ูุฑุฉ ุ ูููู ูู ููุณ ุงูููุช ุนูู ูุฌููุนุงุช ูุจูุฑุฉ ุ ูุชู ุชุญููู ุงูุฌูู ุงูุซุงูู ูู ุทูุจูุชู ุงูุญุฌู ุฃูู. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุณูุณู ูู JSON </h2><br>  ูููุฑ ุฎุงุฏู ุงูููุจ Pyrus ุงูุนุฏูุฏ ูู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุชู ุชุณุชุฎุฏู ุชุณูุณููุง ูุฎุชูููุง.  ููุฏ ุงูุชุดููุง ุฅูุดุงุก ูุงุฆูุงุช ูุจูุฑุฉ ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ุงููุณุชุฎุฏูุฉ ูู ูุจู ุงูุฑูุจูุชุงุช ูุฃุฏุงุฉ ุงููุฒุงููุฉ (ูุดุงุฑ ุฅูููุง ูููุง ููู ุจุงุณู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุนุงูุฉ).  ูุงุญุธ ุฃู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุชุณุชุฎุฏู ุจุดูู ุฃุณุงุณู ุงูุชุณูุณู ุงูุฎุงุต ุจูุง ุ ูุงูุฐู ูุง ูุชุฃุซุฑ ุจูุฐู ุงููุดููุฉ.  ููุฏ ูุชุจูุง ุนู ูุฐุง ูู ุงูููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://habr.com/ar/post/227595/</a> ุ ูู ุงููุณู "2.  ูุง ุชุนุฑู ุฃูู ููุน ุนูู ุงูุฒุฌุงุฌุฉ ูู ุชุทุจููู ".  ููุฐุง ูุนูู ุฃู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฑุฆูุณูุฉ ุชุนูู ุฌูุฏูุง ุจุงููุนู ุ ููุฏ ุธูุฑุช ุงููุดููุฉ ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ุงูุนุงูุฉ ูุธุฑูุง ูุชุฒุงูุฏ ุนุฏุฏ ุงูุทูุจุงุช ููููุฉ ุงูุจูุงูุงุช ูู ุงูุฑุฏูุฏ. <br><br>  ูููู ุจุชุญุณูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุนุงูุฉ.  ุจุงุณุชุฎุฏุงู ูุซุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฑุฆูุณูุฉ ุ ูุนูู ุฃูู ููููู ุฅุฑุฌุงุน ุงุณุชุฌุงุจุฉ ูููุณุชุฎุฏู ูู ูุถุน ุงูุชุฏูู.  ุจูุนูู ุ ูุง ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ูุฎุงุฒู ูุคูุชุฉ ูุชูุณุทุฉ ุชุญุชูู ุนูู ุงูุงุณุชุฌุงุจุฉ ุจุงููุงูู ุ ูููู ุงูุชุจ ุงูุงุณุชุฌุงุจุฉ ููุฑูุง ุฅูู ุงูุฏูู. <br><br>  ุจุนุฏ ุงููุญุต ุงูุฏููู ุ ุงูุชุดููุง ุฃูู ูู ุนูููุฉ ุฅุฌุฑุงุก ุชุณูุณู ุงูุงุณุชุฌุงุจุฉ ุ ูููู ุจุฅูุดุงุก ูุฎุฒู ูุคูุช ูุคูุช ูููุชูุฌุฉ ุงููุณูุทุฉ ("ุงููุญุชูู" ุนุจุงุฑุฉ ุนู ูุฌููุนุฉ ูู ูุญุฏุงุช ุงูุจุงูุช ุงูุชู ุชุญุชูู ุนูู JSON ุจุชุฑููุฒ UTF-8): <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> serializer = Newtonsoft.Json.JsonSerializer.Create(...); <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] content; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sw = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StreamWriter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MemoryStream(), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UTF8Encoding(<span class="hljs-literal"><span class="hljs-literal">false</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> writer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Newtonsoft.Json.JsonTextWriter(sw)) { serializer.Serialize(writer, result); writer.Flush(); content = ms.ToArray(); }</code> </pre> <br>  ููุฑู ุฃูู ูุชู ุงุณุชุฎุฏุงู ุงููุญุชูู.  ูุฃุณุจุงุจ ุชุงุฑูุฎูุฉ ุ ุชุนุชูุฏ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ุงูุนุงูุฉ ุนูู WCF ุ ูุงูุฐู ูุนุฏ XML ุชูุณูู ุงูุทูุจ ูุงูุงุณุชุฌุงุจุฉ ุงูููุงุณู ูู.  ูู ุญุงูุชูุง ุ ุชุญุชูู ุงุณุชุฌุงุจุฉ XML ุนูู ุนูุตุฑ "ุซูุงุฆู" ูุงุญุฏ ุ ูุชู ูู ุฎูุงูู ูุชุงุจุฉ JSON ุงููุดูุฑ ูู Base64: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">RawBodyWriter</span></span> : <span class="hljs-title"><span class="hljs-title">BodyWriter</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] _content; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RawBodyWriter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] content</span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">true</span></span></span></span></span><span class="hljs-function">)</span></span> { _content = content; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnWriteBodyContents</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">XmlDictionaryWriter writer</span></span></span><span class="hljs-function">)</span></span> { writer.WriteStartElement(<span class="hljs-string"><span class="hljs-string">"Binary"</span></span>); writer.WriteBase64(_content, <span class="hljs-number"><span class="hljs-number">0</span></span>, _content.Length); writer.WriteEndElement(); } }</code> </pre> <br>  ูุงุญุธ ุฃู ุงููุฎุฒู ุงููุคูุช ุงููุคูุช ุบูุฑ ูุทููุจ ููุง.  ูููู ูุชุงุจุฉ JSON ุนูู ุงูููุฑ ุฅูู ุงููุฎุฒู ุงููุคูุช XmlWriter ุงูุฐู ูููุฑู ููุง WCF ุ ูุชุฑููุฒู ูู Base64 ุฃุซูุงุก ุงูุทูุฑุงู.  ูุจุงูุชุงูู ุ ุณูุนูู ุนูู ุงูุชุฎูุต ูู ุชุฎุตูุต ุงูุฐุงูุฑุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnWriteBodyContents</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">XmlDictionaryWriter writer</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> serializer = Newtonsoft.Json.JsonSerializer.Create(...); writer.WriteStartElement(<span class="hljs-string"><span class="hljs-string">"Binary"</span></span>); Stream stream = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Base64Writer(writer); Var sw = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StreamWriter(stream, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UTF8Encoding(<span class="hljs-literal"><span class="hljs-literal">false</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> jsonWriter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Newtonsoft.Json.JsonTextWriter(sw)) { serializer.Serialize(jsonWriter, _result); jsonWriter.Flush(); } writer.WriteEndElement(); }</code> </pre> <br>  ููุง Base64Writer ุนุจุงุฑุฉ ุนู ูุฌููุน ุจุณูุท ุนุจุฑ XmlWriter ูููู ุจุชูููุฐ ูุงุฌูุฉ Stream ุ ุงูุชู ุชูุชุจ ุฅูู XmlWriter ุจุงุณู Base64.  ูู ุงูููุช ููุณู ุ ูู ุงููุงุฌูุฉ ุจุฃููููุง ุ ูููู ุชุทุจูู ุทุฑููุฉ ูุชุงุจุฉ ูุงุญุฏุฉ ููุท ุ ูุงูุชู ุชุณูู ูู StreamWriter: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Base64Writer</span></span> : <span class="hljs-title"><span class="hljs-title">Stream</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> XmlWriter _writer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Base64Writer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">XmlWriter writer</span></span></span><span class="hljs-function">)</span></span> { _writer = writer; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Write</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] buffer, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count</span></span></span><span class="hljs-function">)</span></span> { _writer.WriteBase64(buffer, offset, count); } &lt;...&gt; }</code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ุงูุชู ูุณุจุจูุง ุฌู ุณู </h2><br>  ุฏุนููุง ูุญุงูู ุงูุชุนุงูู ูุน ูุฌููุนุงุช ุงูููุงูุฉ ุงููุณุชุญุซุฉ ุงูุบุงูุถุฉ.  ููุฏ ูููุง ุจุฅุนุงุฏุฉ ูุญุต ุงูููุฏ ูุฏููุง 10 ูุฑุงุช ูููุงููุงุช GC.Collect ุ ููู ูุฐุง ูุดู.  ููุฏ ุชูููุช ูู ุงูุชูุงุท ูุฐู ุงูุฃุญุฏุงุซ ูู PerfView ุ ููู ููุฏุณ ุงูุงุชุตุงู ููุณ ูุคุดุฑุงู ููุบุงูุฉ (ุญุฏุซ DotNETRuntime / GC / Triggered): <br><br><img src="https://habrastorage.org/webt/ye/j0/qg/yej0qglbieyx_tg05hdgutajhmc.png"><br><br>  ููุงู ููุฑุฉ ุตุบูุฑุฉ - ุงุณุชุฏุนุงุก RecycleLimitMonitor.RaiseRecycleLimitEvent ูุจู ุฌูุน ุงูููุงูุฉ ุงููุณุชุญุซ.  ุฏุนูุง ูุชุชุจุน ููุฏุณ ุงูููุงููุงุช ุฅูู ุฃุณููุจ RaiseRecycleLimitEvent: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">RecycleLimitMonitor.RaiseRecycleLimitEvent(...) RecycleLimitMonitor.RecycleLimitMonitorSingleton.AlertProxyMonitors(...) RecycleLimitMonitor.RecycleLimitMonitorSingleton.CollectInfrequently(...) RecycleLimitMonitor.RecycleLimitMonitorSingleton.PBytesMonitorThread(...)</code> </pre> <br>  ุชุชูุงูู ุฃุณูุงุก ุงูุทุฑู ูุน ูุธุงุฆููุง: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ูููุดุฆ RecycleLimitMonitor.RecycleLimitMonitorSingleton ุ ูุชู ุฅูุดุงุก ูุคูุช ูุณุชุฏุนู PBytesMonitorThread ูู ูุงุตู ุฒููู ูุนูู. <br></li><li style=";text-align:right;direction:rtl">  PBytesMonitorThread ุจุฌูุน ุฅุญุตุงุฆูุงุช ุญูู ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ ุ ููู ุจุนุถ ุงูุญุงูุงุช ุ ูุณุชุฏุนู CollectInfrequently. <br></li><li style=";text-align:right;direction:rtl">  ุงุณุชุฏุนุงุก CollectInfrequently AlertProxyMonitors ุ ูุญุตู ุนูู ููุทูู ูุชูุฌุฉ ูุฐูู ุ ููุณุชุฏุนู GC.Collect () ุฅุฐุง ุฃุตุจุญ ุตุญูุญุงู.  ููุง ูุฑุงูุจ ุงูููุช ุงููููุถู ููุฐ ุขุฎุฑ ููุงููุฉ ูุฌุงูุน ุงูุจูุงูุงุช ุงูููููุฉ ุ ููุง ูุณูููุง ูุซูุฑูุง. <br></li><li style=";text-align:right;direction:rtl">  ููุฑ AlertProxyMonitors ูู ุฎูุงู ูุงุฆูุฉ ุชุดุบูู ุชุทุจููุงุช ุงูููุจ IIS ุ ุญูุซ ูููู ูู ูููู ุจุฑูุน ูุงุฆู RecycleLimitMonitor ุงูููุงุจู ุ ููุณุชุฏุนู RaiseRecycleLimitEvent. <br></li><li style=";text-align:right;direction:rtl">  ุฑูุน RaiseRecycleLimitEvent ูุงุฆูุฉ IObserver &lt;RecycleLimitInfo&gt;.  ุชููู ูุนุงูุฌุงุช ููุนููุฉ RecycleLimitInfo ุ ุญูุซ ูููููู ุชุนููู ุนูุงูุฉ RequestGC ุ ูุงูุชู ุชุฑุฌุน ุฅูู CollectInfrequently ุ ููุง ุชุณุจุจ ูู ุฌูุน ุงูููุงูุฉ ุงููุณุชุญุซ. <br></li></ul><br><br>  ููุดู ุงูุชุญููู ุงูุฅุถุงูู ุนู ุฅุถุงูุฉ ูุนุงูุฌุงุช IObserver &lt;RecycleLimitInfo&gt; ูู ุงูุฃุณููุจ RecycleLimitMonitor.Subscribe () ุ ูุงูุฐู ูุณูู ูู ุทุฑููุฉ AspNetMemoryMonitor.Subscribe ().  ุฃูุถุงู ุ ูุชู ุชุนููู ูุนุงูุฌ IObserver &lt;RecycleLimitInfo&gt; ุงูุงูุชุฑุงุถู (ูุฆุฉ RecycleLimitObserver) ูู ูุฆุฉ AspNetMemoryMonitor ุ ุงูุชู ุชููู ุจุชูุธูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู ASP.NET ูุฃุญูุงููุง ุชุทูุจ ุฌูุน ุงูุจูุงูุงุช ุงูููููุฉ. <br><br>  ุชู ุญู ูุบุฒ ุงูู GC ุงููุณุชุญุซ.  ูุจูู ููุนุฑูุฉ ูุณุฃูุฉ ููุงุฐุง ุชุณูู ูุฐู ุงููุฌููุนุฉ ุงูููุงูุฉ.  ุชุฑุงูุจ RecycleLimitMonitor ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ IIS (ุจุชุนุจูุฑ ุฃุฏู ุ ุนุฏุฏ ุงูุจุงูุชุงุช ุงูุฎุงุตุฉ) ุ ูุนูุฏูุง ููุชุฑุจ ุงุณุชุฎุฏุงูู ูู ุญุฏ ูุนูู ุ ูุจุฏุฃ ุจูุงุณุทุฉ ุฎูุงุฑุฒููุฉ ูุฑุจูุฉ ุฅูู ุญุฏ ูุง ูุฑูุน ุญุฏุซ RaiseRecycleLimitEvent.  ูุชู ุงุณุชุฎุฏุงู ูููุฉ AspNetMemoryMonitor.ProcessPrivateBytesLimit ูุญุฏ ุงูุฐุงูุฑุฉ ุ ูุจุงูุชุงูู ููู ุชุญุชูู ุนูู ุงูููุทู ุงูุชุงูู: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุชู ุชุนููู "ุชุฌูุน ุงูุชุทุจููุงุช" ูู IIS ุนูู "ุญุฏ ุงูุฐุงูุฑุฉ ุงูุฎุงุตุฉ (KB)" ุ ูุณูุชู ุฃุฎุฐ ุงููููุฉ ุจุงูููููุจุงูุช ูู ููุงู <br></li><li style=";text-align:right;direction:rtl">  ุฎูุงู ุฐูู ุ ุจุงููุณุจุฉ ููุฃูุธูุฉ 64 ุจุช ุ ูุชู ุฃุฎุฐ 60ูช ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ (ูุฃูุธูุฉ 32 ุจุช ุ ูููู ุงูููุทู ุฃูุซุฑ ุชุนููุฏูุง). <br></li></ul><br>  ูุชูุฌุฉ ุงูุงุณุชูุตุงุก ูู: ASP.NET ุชูุชุฑุจ ูู ุญุฏ ุงูุฐุงูุฑุฉ ูุชุจุฏุฃ ูู ุงุณุชุฏุนุงุก ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูููููุฉ ุจุดูู ููุชุธู.  ูู ูุชู ุชุนููู "ุงูุญุฏ ุงูุฃูุตู ููุฐุงูุฑุฉ ุงูุฎุงุตุฉ (KB)" ุ ูุฐูู ุชู ุชุญุฏูุฏ ASP.NET ุจูุณุจุฉ 60ูช ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ.  ุชู ุญุฌุจ ุงููุดููุฉ ุนู ุทุฑูู ุญูููุฉ ุฃูู ุนูู ุฎุงุฏู ุฅุฏุงุฑุฉ ุงูููุงู ุฃุธูุฑุช ูุฌูุฏ ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ ุงูุฎุงููุฉ ููุจุฏู ุฃููุง ูุงูุช ููููุฏุฉ.  ููุฏ ูููุง ุจุฒูุงุฏุฉ ูููุฉ "ุญุฏ ุงูุฐุงูุฑุฉ ุงูุฎุงุตุฉ (KB)" ูู "ุฅุนุฏุงุฏุงุช ุชุฌูุน ุงูุชุทุจููุงุช" ูู IIS ุฅูู 80ูช ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ.  ูุฐุง ูุดุฌุน ASP.NET ุนูู ุงุณุชุฎุฏุงู ุงููุฒูุฏ ูู ุงูุฐุงูุฑุฉ ุงููุชููุฑุฉ.  ููุฏ ุฃุถููุง ุฃูุถูุง ูุฑุงูุจุฉ ุนุฏุงุฏ ุงูุฃุฏุงุก ".NET CLR Memory / # Induced GC" ุญุชู ูุง ุชููุช ูู ุงููุฑุฉ ุงูุชุงููุฉ ุงูุชู ููุฑุฑ ูููุง ASP.NET ุฃูู ููุชุฑุจ ูู ุญุฏ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูููุงุณุงุช ุงููุชูุฑุฑุฉ </h2><br>  ุฏุนููุง ูุฑู ูุง ุญุฏุซ ูุน ูุฌููุนุฉ ุงูููุงูุฉ ุจุนุฏ ูู ูุฐู ุงูุชุบููุฑุงุช.  ููุจุฏุฃ ุจู perfview / GCCollectOnly (ููุช ุงูุชุชุจุน - ุณุงุนุฉ ูุงุญุฏุฉ) ุ ุชูุฑูุฑ GCStats: <br><br><img src="https://habrastorage.org/webt/8b/l3/fn/8bl3fnxpuymka28coyzbo0r5ak4.png"><br><br>  ูููู ููุงุญุธุฉ ุฃู ุชุฌููุนุงุช ุงูุฌูู ุงูุซุงูู ุฃุตุจุญุช ุงูุขู ุทูุจูุชูู ุจุญุฌู ุฃูู ูู 0 ู 1.  ุฃูุถุง ุ ุงูุฎูุถ ููุช ูุฐู ุงูุฌูุนูุงุช.  ูู ูุนุฏ ูุชู ููุงุญุธุฉ ุงูุชุฌููุนุงุช ุงููุณุชุญุซุฉ.  ููููู ูุธุฑุฉ ุนูู ูุงุฆูุฉ ุชุฌููุนุงุช ุงูุฌูู ุงูุซุงูู: <br><br><img src="https://habrastorage.org/webt/mx/oy/tv/mxoytvprkypunnhwtao6o6fboai.png"><br><br>  ููุถุญ ุงูุนููุฏ Gen ุฃู ุฌููุน ุงูุชุฌููุนุงุช ูู ุงูุฌูู ุงูุซุงูู ุฃุตุจุญุช ุฎูููุฉ (ูุนูู "2B" ุงูุฌูู ุงูุซุงูู ุ ุงูุฎูููุฉ).  ุจูุนูู ุฃู ูุนุธู ุงูุนูู ูุชู ุชูููุฐู ุจุงูุชูุงุฒู ูุน ุชูููุฐ ุงูุชุทุจูู ุ ููุชู ุญุธุฑ ุฌููุน ุงูููุงุถูุน ููุชุฑุฉ ูุตูุฑุฉ (ุงูุนููุฏ "ุฅููุงู ูุคูุช MSec").  ุฏุนูุง ููุธุฑ ุฅูู ุงูุชููู ุนูุฏ ุฅูุดุงุก ูุงุฆูุงุช ูุจูุฑุฉ: <br><br><img src="https://habrastorage.org/webt/qp/04/hp/qp04hpcq35buinfnfjn5uuudnyg.png"><br><br>  ูููู ููุงุญุธุฉ ุฃู ุนุฏุฏ ูุฐู ุงูุฅููุงู ุงููุคูุช ุนูุฏ ุฅูุดุงุก ูุงุฆูุงุช ูุจูุฑุฉ ุงูุฎูุถ ุจุดูู ูุจูุฑ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h2><br>  ุจูุถู ุงูุชุบููุฑุงุช ุงูููุถุญุฉ ูู ุงูููุงูุฉ ุ ูุงู ูู ุงููููู ุชูููู ุนุฏุฏ ููุฏุฉ ุงูุชุฌููุนุงุช ูู ุงูุฌูู ุงูุซุงูู ุจุดูู ูุจูุฑ.  ุชูููุช ูู ุงูุนุซูุฑ ุนูู ุณุจุจ ุงูุชุฌููุนุงุช ุงููุณุชุญุซุฉ ูุงูุชุฎูุต ูููุง.  ุฒุงุฏ ุนุฏุฏ ุงูุชุฌููุนุงุช ูู ุงูุฌูููู ุงูุฃูู ูุงูุซุงูู ุ ููู ูุชูุณุท โโุงููุฏุฉ ุงูุฎูุถ (ูู 200 ูููู ุฅูู ~ 60 ูููู ุซุงููุฉ).  ุงูุฎูุถุช ูุฏุฉ ุงูุชุฌููุน ุงููุตูู ููุฌูููู 0 ู 1 ุ ูููู ููุณ ุจุดูู ููุญูุธ.  ุฃุตุจุญุช ุชุฌููุนุงุช ุงูุฌูู ุงูุซุงูู ุฃุณุฑุน ุ ููุฏ ุชูููุช ูุชุฑุงุช ุงูุชููู ุงูุทูููุฉ ุงูุชู ุชุตู ุฅูู 1000 ูููู ุซุงููุฉ ุชูุงููุง. <br><br>  ุจุงููุณุจุฉ ุฅูู ุงููููุงุณ ุงูุฑุฆูุณู - "ุงููุณุจุฉ ุงููุฆููุฉ ููุงุณุชุนูุงูุงุช ุงูุจุทูุฆุฉ" ุ ููุฏ ุงูุฎูุถ ุจูุณุจุฉ 40ูช ุจุนุฏ ูู ุงูุชุบููุฑุงุช. <br><br>  ุจูุถู ุนูููุง ุ ุฃุฏุฑููุง ูุง ูู ุนุฏุงุฏุงุช ุงูุฃุฏุงุก ุงููุงุฒูุฉ ูุชูููู ุงููููู ูุน ุงูุฐุงูุฑุฉ ูุฌูุน ุงูููุงูุฉ ุ ูุฅุถุงูุชูุง ุฅูู Zabbix ูููุฑุงูุจุฉ ุงููุณุชูุฑุฉ.  ูููุง ููู ูุงุฆูุฉ ุจุฃูู ุชูู ุงูุชู ูููููุง ุงูุงูุชูุงู ููุนุฑูุฉ ุงูุณุจุจ (ุนูู ุณุจูู ุงููุซุงู ุ ุฒูุงุฏุฉ ุชุฏูู ุงูุทูุจุงุช ุ ููููุฉ ูุจูุฑุฉ ูู ุงูุจูุงูุงุช ุงููุฑุณูุฉ ุ ูุฎูู ูู ุงูุชุทุจูู): <br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  ุนุฏุงุฏ ุงูุฃุฏุงุก </td><td>  ูุตู </td><td>  ุนูุฏูุง ุชููู ุงูุชูุงูุง </td></tr><tr><td>  \ ุงูุนูููุฉ (*) \ ุงูุจุงูุชุงุช ุงูุฎุงุตุฉ </td><td>  ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ููุชุทุจูู </td><td rowspan="3">  ุงูููู ุชุชุฌุงูุฒ ุจูุซูุฑ ุงูุนุชุจุฉ.  ูุญุฏ ุฃุฏูู ุ ููููู ุฃู ุชุฃุฎุฐ ุงููุณูุท ููุฏุฉ ุฃุณุจูุนูู ูู ุงูุญุฏ ุงูุฃูุตู ููููู ุงูููููุฉ. </td></tr><tr><td>  \ .NET CLR Memory (*) \ # Gen 2 Collections </td><td>  ููุฏุงุฑ ุงูุฐุงูุฑุฉ ูู ุงูุฌูู ุงูุฃูุฏู </td></tr><tr><td>  \ .NET CLR Memory (*) \ ุญุฌู ูููุฉ ูุงุฆู ูุจูุฑ </td><td>  ููุฏุงุฑ ุงูุฐุงูุฑุฉ ูููุงุฆูุงุช ุงููุจูุฑุฉ </td></tr><tr><td>  \ .NET CLR Memory (*) \ูช ุงูููุช ูู GC </td><td>  ูุณุจุฉ ุงูููุช ุงููุฎุตุต ูุฌูุน ุงูููุงูุฉ </td><td>  ุงููููุฉ ุฃูุซุฑ ูู 5 ูช. </td></tr><tr><td>  \ .NET CLR Memory (*) \ # Induced GC </td><td>  ุนุฏุฏ ุงูุฌูุนูุงุช ุงููุณุชุญุซุฉ </td><td>  ุงููููุฉ ุฃูุจุฑ ูู 0. </td></tr></tbody></table></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar452298/">https://habr.com/ru/post/ar452298/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar452284/index.html">ุชุตููู ุงูุบุทุงุก ุงูุฃุฑุถู ุจุงุณุชุฎุฏุงู ุงูุชุนูู ุงูุฅููุชุฑููู. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar452288/index.html">ุงููููู: ุงุชูู ูุดุบูู ุดุจูุงุช ุงููุงุชู ุงูููุงู ุงูุฃูุฑูููุฉ ุจุงูุงุชุฌุงุฑ ุบูุฑ ุงููุดุฑูุน ูู ุงูุจูุงูุงุช ุงูุฌุบุฑุงููุฉ ูููุดุชุฑููู</a></li>
<li><a href="../ar452290/index.html">ูุง ููุชูุฏ ุงููุชุณูููู ุนูุฏ ูุณุฑ ุฃุญุฏ ุงูุจููู ูู PHDays</a></li>
<li><a href="../ar452294/index.html">ูุฏูุฉ ุนุจุฑ ุงูุฅูุชุฑูุช "ููุธู - ูุณุชุชุฑ: ุงูุชูููุงุช ุงูุญุฏูุซุฉ ูู ุงูููุฏุณุฉ ุงูุงุฌุชูุงุนูุฉ"</a></li>
<li><a href="../ar452296/index.html">ุงูุงุฎุชุฑุงู ุงูุฅูุฌุงุจู 9 ุฃูุงู: ูุณุงุจูุฉ ุงูุงุณุชุฎุจุงุฑุงุช ุงูุชูุงูุณูุฉ 18 ูุงูู</a></li>
<li><a href="../ar452302/index.html">ุงูุจุฑูุงูุฌ ุงูุฃููู PyConRu-2019: ุงุซูุงู ูู ูุทูุฑู Python Core ุ ูุชุญุฏุซูู ูู Anaconda ู Intel ู JetBrains ู Yandex</a></li>
<li><a href="../ar452304/index.html">OpenAI AI ุชุนููุช ูุชุงุจุฉ ุงููุตุงุฆุฏ ูุงูููุงูุงุช ูุงูุฃุฎุจุงุฑ</a></li>
<li><a href="../ar452306/index.html">ุฅูู ุฃูู ุชุฐูุจ ุงูุชูููููุฌูุง ุ ูููู ูุญุณุจ ุงูุชุตุงุฏูุงุช ุงููุญุฏุฉ ูููุงุฐุง ูุทูุฑ ุฑูุงุฏุฉ ุงูุฃุนูุงู ุงููุญููุฉ. ููุชุงุจ ูุงูุฏูุณ</a></li>
<li><a href="../ar452310/index.html">ุฅุนุฏุงุฏ ูููุงุช ูุจูุนุงุช ุงูุดุจูุฉ ููุฃุฏูุงุช DO-RA</a></li>
<li><a href="../ar452312/index.html">ุณุชุฏูุน ุดุฑูุงุช ุงูุงุชุตุงูุงุช ุงูุจุฑูุทุงููุฉ ุชุนููุถุงุช ุงููุดุชุฑููู ุนู ูุทุน ุงูุงุชุตุงู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>