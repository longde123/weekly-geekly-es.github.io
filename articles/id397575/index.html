<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕢 👩🏼‍🔧 🔏 Kotak hitam untuk rumah: kami mengumpulkan NAS dengan tangan kami sendiri, bagian 2 - NAS4Free yang luar biasa 👩🏼‍🔬 💭 🕎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Publikasi ini ditujukan untuk orang yang jauh dari administrasi sistem. Posting ini menunjukkan kemampuan dasar dari sistem operasi NAS4Free yang luar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kotak hitam untuk rumah: kami mengumpulkan NAS dengan tangan kami sendiri, bagian 2 - NAS4Free yang luar biasa</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/397575/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Publikasi ini ditujukan untuk orang yang jauh dari administrasi sistem. </font><font style="vertical-align: inherit;">Posting ini menunjukkan kemampuan dasar dari sistem operasi NAS4Free yang luar biasa, yang memungkinkan Anda untuk menggunakan NAS rumah Anda bahkan pada perangkat keras bertenaga rendah, dengan kurangnya pengetahuan tentang FreeBSD dan baris perintah. </font><font style="vertical-align: inherit;">Bagian pertama dari publikasi ini berada di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami memiliki kotak dengan karakteristik berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kasus: Thermaltake Core V1;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catu Daya: Chieftec HPS-350NS;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motherboard: GIGABYTE GA-J1800N-D2H;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM: Transcend SO-DIMM 2Gb DDR-III 1333Mhz x 2;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HDD: WD Re 2004FBYZ x 2 (sebelum membuat mata bundar, baca bagian </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pertama</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> );</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pendinginan: TITAN DC FAN (80 mm, 2000 rpm) x 2.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sudah saatnya untuk mengubahnya menjadi NAS rumah, seandal mungkin di lingkungan saat ini. </font><font style="vertical-align: inherit;">Dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistem File Zettabyte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan membantu kami dalam hal ini </font><font style="vertical-align: inherit;">- mungkin solusi terbaik untuk mengatur toleransi kesalahan dan, pada saat yang sama, penyimpanan file yang produktif. </font><font style="vertical-align: inherit;">Dikembangkan oleh Sun Microsistem untuk Solaris, ZFS kemudian diangkut ke Linux dan FreeBSD. </font><font style="vertical-align: inherit;">Di antara banyak kelebihannya, kami akan tertarik pada yang berikut:</font></font><br>
<br>
<ol>
<li> ,          ,   ,    –   ,  LVM;</li>
<li>     256-  ;</li>
<li>      ;</li>
<li>    RAID-    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di antara solusi khusus yang mampu bekerja dengan ZFS, dua pesaing menonjol dengan jelas - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeNAS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NAS4Free</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nama-nama "mirror" semacam itu sama sekali tidak disengaja - kedua majelis didasarkan pada FreeBSD, dan NAS4Free sendiri adalah cabang dari FreeNAS 0.7, yang berasal pada saat sistem operasi asli berada di bawah sayap iXsystems dan naik ke rel komersial. Ini adalah NAS4Free yang merupakan favorit pribadi saya. Mengapa Mari kita perbaiki.</font></font><br>
<br>
<ol>
<li>.   ,       NAS,     ,   NAS4Free   .       ?   , 4  RAM,  4-  ,       .     512    2-   .  FreeNAS   :      8  RAM  8- ,          1616 (    ).</li>
<li>.   NAS4Free       “ ” –         :<br>
<img src="https://habrastorage.org/files/db0/488/59d/db048859d2fd48b891142fb3bdb4b3b5.JPG"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kenyamanan </font><font style="vertical-align: inherit;">Di NAS4Free, hampir semuanya dapat dikontrol melalui antarmuka web yang sangat intuitif, di samping itu, mengandung banyak tips dan diterjemahkan dengan baik ke dalam bahasa Rusia dibandingkan dengan pesaing. </font><font style="vertical-align: inherit;">Anda akan dapat bekerja dengan disk dan layanan, mengelola sistem file, mengambil snapshot dan me-mount klon tanpa meluncurkan konsol pada prinsipnya, yang akan menarik bagi pengguna pemula dan orang-orang yang sama sekali tidak akrab dengan administrasi * nix.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya pikir argumen di atas cukup untuk membuat pilihan yang jelas. </font><font style="vertical-align: inherit;">Sekarang kita akan berurusan dengan instalasi dan pengaturan awal sistem.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal NAS4Free</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena hanya ada dua disk dalam sistem, kami akan menggunakan USB flash drive sebagai boot drive. Yang mana benar-benar tidak relevan, barang antik dari 2 GB akan cukup. Jika ada keraguan tentang kesehatan perangkat, Anda dapat menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rufus yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sama </font><font style="vertical-align: inherit;">, setelah menjalankan beberapa tes. Kemudian semuanya sederhana - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unduh LiveCD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan lanjutkan dengan instalasi. Pertama, Anda akan melihat layar berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/files/fbf/648/4da/fbf6484daa0547b0909f3c6ae628055c.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah beberapa saat, menu teks muncul di layar: </font></font><br>
<br>
<img src="https://habrastorage.org/files/a67/f79/d38/a67f79d38d184d7398b43e8e47ec31e6.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami tertarik pada item ke-9 - kami memilihnya. Proses instalasi dimulai:</font></font><br>
<br>
<img src="https://habrastorage.org/files/e0b/749/0b5/e0b7490b5b9249e3afe759a0338f00ac.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami tidak menyentuh mode pakar, tetapi pilihan antara GPT dan MBR tergantung pada usia motherboard mesin Anda. Jika Anda adalah penggemar "klasik" di depan BIOS, pilih item kedua. Layak UEFI - pilih yang pertama. Setelah konfirmasi, NAS4Free akan dengan ramah memberi tahu Anda operasi apa yang akan dilakukan - kami menyetujui segalanya: </font></font><br>
<br>
<img src="https://habrastorage.org/files/9e0/573/d3d/9e0573d3d97748f9886e27cfce14abd7.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, pilih drive dengan disk instalasi (dalam contoh kami ini satu-satunya): </font></font><br>
<br>
<img src="https://habrastorage.org/files/4e4/6e0/278/4e46e0278ccd4e81ac36823d4deaae17.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian Anda harus menentukan flash drive USB di mana instalasi akan dilakukan. Sangat mudah untuk membedakannya dari drive sistem dalam ukuran dan nama:</font></font><br>
<br>
<img src="https://habrastorage.org/files/2ab/ab6/10c/2abab610c86a4e088662cc49dadb6788.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Langkah selanjutnya adalah mengatur ukuran file halaman. Aturannya sederhana: jika Anda menggunakan drive 2 GB - taruh 512 MB, 4 GB - taruh 1024 MB, jika 8 - 2. Banyak yang memiliki pertanyaan wajar di komentar, tetapi seberapa andal untuk menginstal sistem operasi pada USB flash drive, terlebih lagi bertukar di atasnya ? Saya menganggap perlu untuk memperjelas hal ini. Pertama, fitur versi tertanam adalah bahwa disk image sistem dibuat dalam RAM, yaitu, flash drive diakses hanya pada saat memuat NAS, serta saat menyimpan pengaturan. Kedua, installer membutuhkan pembuatan file swap tanpa gagal, sambil menentukan ukurannya yang salah. Lakukan swap 8-gig pada perangkat 4 pertunjukan? Mudah! Bagaimanapun, menurut program, ini patut dicoba. Untuk menghindari kesalahan, paling mudah untuk menetapkan salah satu nilai yang benar yang diberikan di atas.Dan akhirnya, file swap terhubung secara manual di pengaturan - itu tidak akan digunakan, yang berarti bahwa flash drive tidak akan terbunuh juga.</font></font><br>
<br>
<img src="https://habrastorage.org/files/f60/05b/781/f6005b78119547c887160a817bc13307.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proses instalasi akan dimulai, setelah itu Anda akan melihat layar berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/files/899/565/757/89956575762146aa86febf2e095cf33e.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat melepaskan USB flash drive dan reboot - instalasi berhasil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita bekerja dengan NAS itu sendiri. Karena kami memilih opsi anggaran untuk thin client sebagai motherboard, kami harus mulai dengan menyesuaikan parameter boot, menghubungkan tidak hanya USB flash drive, tetapi juga monitor dengan keyboard ke perangkat. Sebagai output video menyajikan D-Sub dan HDMI, sehingga seharusnya tidak ada masalah. Setelah menyalakan mesin, kami menekan "Delete", dan mengatur USB flash drive kami di menu "Boot" sebagai perangkat boot utama (secara default, UEFI Shell akan boot, tetapi kami tidak membutuhkannya). Kami menyimpan perubahan, me-reboot NAS, dan jika semuanya dilakukan dengan benar, kami melihat menu yang familier:</font></font><br>
<br>
<img src="https://habrastorage.org/files/145/570/2e1/1455702e1f1845a79781dfc2fcf7f1f7.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menghubungkan NAS ke lingkungan kerja dengan cara apa pun: melalui router, switch, zero-hub - semuanya tergantung pada kebutuhan pribadi Anda. </font><font style="vertical-align: inherit;">Karena Anda mungkin ingin membawa mesin ke jaringan rumah Anda, opsi terbaik adalah router, jadi mari kita buat alamat IP statis di langkah 2. Secara konsisten menjawab pertanyaan yang diajukan oleh sistem:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah Anda ingin menggunakan DHCP untuk antarmuka ini? </font><font style="vertical-align: inherit;">- Tidak (kami ingin mengatur IP statis)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masukkan alamat LAN IPv4 baru - 192.168.1.250 (diinstal secara default, jika sudah digunakan di jaringan Anda - masukkan yang gratis)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masukkan subnet mask LAN baru - 24 (subnet mask 255.255.255.0)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masukkan gateway default IPv4 - 192.168.1.1 (tentukan alamat router)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masukkan alamat DNS IPv4 - 192.168.1.1 (juga tentukan alamat router)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah Anda ingin mengkonfigurasi IPv6 untuk antarmuka ini? </font><font style="vertical-align: inherit;">- Tidak (kami tidak membutuhkan jaringan rumah IPv6)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Layar ini akan memberikan kesaksian tentang penyelesaian konfigurasi yang berhasil: </font></font><br>
<br>
<img src="https://habrastorage.org/files/e11/c1a/3b2/e11c1a3b258a446984032148e61f0d6c.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sinilah persiapan NAS selesai - sekarang Anda dapat menghubungkan penyimpanan ke jaringan dan melanjutkan dengan konfigurasi.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kustomisasi drive</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua operasi dilakukan melalui WebGUI yang nyaman - cukup ketik alamat IP yang telah ditetapkan sebelumnya (dalam kasus kami - 192.168.1.250) dan segera pergi ke formulir otorisasi: </font></font><br>
<br>
<img src="https://habrastorage.org/files/844/ba8/a75/844ba8a75db746cc88c0d4ab6107eeff.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Login default adalah admin, kata sandi (siapa yang mengira) adalah nas4free. </font><font style="vertical-align: inherit;">Masuk dan lihat monitor sistem: </font></font><br>
<br>
<img src="https://habrastorage.org/files/7ee/93c/0d5/7ee93c0d52084fdba42170d9f4a9be33.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita beralih ke yang hebat dan kuat segera: pergi ke "Sistem" -&gt; "Umum" dan ubah bahasa ke bahasa Rusia: </font></font><br>
<br>
<img src="https://habrastorage.org/files/6f7/99d/35b/6f799d35b471485697b7a7284a8e2589.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini Anda juga dapat menetapkan nama pengguna dan kata sandi baru untuk antarmuka web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita mengatur disk. </font><font style="vertical-align: inherit;">Kami pergi ke bagian "Drive" -&gt; "Manajemen", dan ... kami tidak menemukan apa pun:</font></font><br>
<br>
<img src="https://habrastorage.org/files/fa5/4b0/53a/fa54b053a6a94984b083c298b52930f6.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hanya tanpa panik - di NAS4Free Anda harus melakukan segalanya dengan tangan Anda. </font><font style="vertical-align: inherit;">Opsi termudah adalah dengan mengklik "Bersihkan konfigurasi dan impor disk", tetapi saya sarankan mengklik tanda tambah biru di sebelah kanan dan menambahkan drive satu per satu. </font><font style="vertical-align: inherit;">Menu adalah sebagai berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/files/aac/ab4/fc0/aacab4fc02874f59a086427a3ae2bcbd.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita pergi melalui opsi:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deskripsi dapat dibiarkan kosong sama sekali, saya mengendarai dalam singkatan nama disk;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mode transfer biarkan Otomatis;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentukan periode transfer drive ke mode siaga tergantung pada kebutuhan pribadi Anda. </font><font style="vertical-align: inherit;">Namun, harus diperhitungkan: sering memulai ulang bahkan tidak menguntungkan untuk WD Re yang andal, jadi tidak masuk akal untuk mengatur 5-10 menit - ini hanya akan mempercepat pemakaian HDD;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manajemen Daya - Saya menetapkan Level 127 - pertukaran antara kinerja dan konsumsi daya;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tingkat kebisingan - Saya tidak menganggapnya perlu untuk digunakan, karena WD tetap bekerja dengan sangat tenang;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda ingin mengaktifkan pemantauan SMART, centang kotak;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Karena disk baru, kami membiarkan Unformated (unformatted) di baris terakhir.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang klik tombol "Add" dan ulangi prosedur untuk disk yang tersisa. </font><font style="vertical-align: inherit;">Anda tidak perlu menambahkan flash drive untuk menghindari kesalahpahaman (memformatnya dengan cepat, dan semuanya harus dimulai dari awal). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah semua manipulasi, kita melihat yang berikut di menu pengaturan disk: </font></font><br>
<br>
<img src="https://habrastorage.org/files/f7d/1d9/ca0/f7d1d9ca037f40d286c4fa1f4edf577b.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baca peringatan di tangkapan layar. </font><font style="vertical-align: inherit;">Ya, ini adalah fitur dari NAS4Free: pertama-tama kita membuat pengaturan, kemudian kami mengkonfirmasi pilihan dengan mengklik "Terapkan Perubahan" - Anda harus membiasakan diri dengannya. </font><font style="vertical-align: inherit;">Setelah itu, kami mengamati hasil tindakan kami: </font></font><br>
<br>
<img src="https://habrastorage.org/files/aef/a97/cd9/aefa97cd9662417f8a71903c3f408636.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin menerima data SMART dengan memantau status disk, buka tab dengan nama yang sama.</font></font><br>
<br>
<img src="https://habrastorage.org/files/972/633/2f8/9726332f81f54e4fbcc01c31ebf99db3.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Centang "Enable", pilih mode daya Siaga (agar tidak mengganggu hard drive dalam mode siaga) dan simpan perubahan. Ada juga kemampuan untuk mengkonfigurasi peringatan. Sekarang Anda dapat melihat data terperinci untuk setiap drive di bagian "Diagnostics" -&gt; "Information" -&gt; "SMART". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kedua drive tersebut Online, semua sistem berfungsi dengan baik. Tapi ini hanya awal dari perjalanan. Mari kita pergi ke tab "HDD Formatting". Seperti yang kami sepakati di awal artikel, kami akan menggunakan ZFS. Pilih kedua drive dan klik "Next":</font></font><br>
<br>
<img src="https://habrastorage.org/files/1eb/08e/72e/1eb08e72e4b5475d872eaa8975b111ae.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada langkah berikutnya, atur label volume - Saya memilih WDREZFS% 1. Konstruksi "% 1" berarti bahwa disk yang kami format akan menerima nomor seri dimulai dengan satu. Artinya, yang pertama akan bernama WDREZFS1, yang kedua - WDREZFS2, dll. Jika Anda tidak menentukan titik awal, meletakkan tanda "%" tanpa angka, sistem itu sendiri akan memberi nomor HDD. Anda juga dapat memberi nama dengan nomor seri. Misalnya, “[4” berarti empat digit terakhir dari nomor seri akan digunakan sebagai label. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lebih lanjut, saya sangat merekomendasikan mencentang kotak "Membuat ZFS pada partisi GPT" jika Anda sedang membangun kumpulan multi-disk yang kompleks, berencana untuk menambahkan drive baru di masa depan. </font></font><br>
<br>
<img src="https://habrastorage.org/files/191/bd3/bc8/191bd3bc8f494c89b9eb38abd80c8890.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memformat disk, menunggu operasi selesai, dan klik tombol "OK".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita perlu membangun perangkat virtual. Pergi ke "Drives" -&gt; "ZFS" -&gt; "Pools" -&gt; "Virtual Device", klik pada plus biru dan lihat gambar berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/files/90c/f28/391/90cf28391fee481b9fb04c0f94e72fb8.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita dapat mengumpulkan disk menjadi sebuah array. Saya memerlukan analog RAID-1, jadi saya memilih "Mirror" (untuk referensi, "Stripe" pada dasarnya adalah RAID-0 yang sama). Setelah mengonfirmasi pilihan, jangan lupa untuk menerapkan perubahan: </font></font><br>
<br>
<img src="https://habrastorage.org/files/8b0/b18/5c7/8b0b185c703c4208b4ae127141cc9b47.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita pergi ke tab "Pools" dan menambahkan yang baru menggunakan perangkat virtual yang baru dibuat:</font></font><br>
<br>
<img src="https://habrastorage.org/files/44a/2ad/fa5/44a2adfa59424164917a37b8f5dc902d.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Yang diperlukan adalah untuk datang dengan nama, Anda tidak perlu mengkonfigurasi hal lain.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada prinsipnya, Anda sudah dapat mulai mengunggah file, tetapi yang terbaik adalah memanfaatkan keunggulan utama ZFS - kemampuan untuk membuat kumpulan data. Sebenarnya, mereka adalah sistem file tambahan, jadi kami memiliki kesempatan untuk memilih metode kompresi untuk setiap dataset, mengatur hak akses dan kuota disk (yang menghilangkan situasi ketika koleksi video Anda dengan aman memakan semua ruang kosong untuk dokumen), dan yang paling penting - buat snapshot yang memungkinkan Anda untuk memulihkan informasi yang hilang secara instan. Jadi mari kita beralih ke "Kumpulan Data" dan membuat beberapa:</font></font><br>
<br>
<img src="https://habrastorage.org/files/89f/4e1/1be/89f4e11be0744aeda26a792ef9bf26dd.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dalam tangkapan layar di atas, satu-satunya kumpulan dipilih - WDREP dan metode kompresi lzjb (kompromi antara efisiensi dan kinerja). </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deduplikasi data</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biarkan dimatikan, karena fungsinya yang memadai membutuhkan minimal 16 gigabytes RAM. Istilah itu sendiri menunjukkan metode mengompresi array data dengan menghilangkan salinan duplikat. Ini berguna, misalnya, jika Anda secara teratur membuat salinan cadangan dari volume informasi yang besar, sementara perbedaan di antara mereka sangat minim. Jika NAS hanya memainkan penyimpanan untuk film, musik, foto, dan konten media lainnya, Anda tidak akan melihat manfaat dari duplikasi, yang berarti Anda tidak perlu mengeluarkan uang tambahan untuk perangkat keras. Pengaturan lainnya dibiarkan secara default. Satu-satunya hal, untuk tujuan demonstrasi, saya akan memberi tanda centang di depan "Visibilitas Snapshots" - sekarang gambar akan terlihat dari perangkat lain. Di bidang "Ruang cadangan", Anda dapat menentukan volume minimum yang dijamin dari dataset, dan "Kuota" memungkinkan Anda untuk mengatur bilah atas.Di bawah ini Anda dapat memilih pengguna dan mengkonfigurasi hak akses:</font></font><br>
<br>
<img src="https://habrastorage.org/files/6ec/2ba/9d4/6ec2ba9d4925465faa41e66dfb7f324f.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan cara yang sama, Anda dapat menambahkan lebih banyak set data yang Anda inginkan:</font></font><br>
<br>
<img src="https://habrastorage.org/files/466/fbd/283/466fbd2831a44e5a84b7745a1d27795f.JPG"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saatnya mengunggah file</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NAS beroperasi penuh, masih mengajarinya cara berkomunikasi dengan dunia luar. </font><font style="vertical-align: inherit;">Untuk ini, sistem operasi menawarkan seperangkat alat yang sangat mengesankan untuk setiap selera, yang terletak di menu "Layanan". </font><font style="vertical-align: inherit;">Apa yang Anda butuhkan terserah Anda - putuskan sendiri, sekarang saya akan membatasi diri pada pengaturan FTP dasar: </font></font><br>
<br>
<img src="https://habrastorage.org/files/fba/8fa/c95/fba8fac9596241358493ce24f5630068.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jangan lupa untuk mencentang kotak centang "Aktifkan" (secara default, semua layanan dinonaktifkan). </font><font style="vertical-align: inherit;">Jumlah klien ditentukan oleh jumlah perangkat yang akan secara bersamaan menghubungi penyimpanan (3 relevan untuk saya). </font><font style="vertical-align: inherit;">Saya sarankan meninggalkan jumlah koneksi 2. Kemudian mengunggah / mengunduh file akan dilakukan dalam satu aliran, yang akan menghindari fragmentasi dan mencapai kecepatan maksimum. </font><font style="vertical-align: inherit;">Simpan pengaturan dan coba sambungkan ke NAS:</font></font><br>
<br>
<img src="https://habrastorage.org/files/052/afa/e33/052afae33a9942d9a619b994ea98ef44.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, kumpulan dan kumpulan data disajikan dalam bentuk direktori, dan direktori .zfs ditampilkan di mana snapshot akan disimpan. Dan, bagi saya, saatnya untuk membicarakannya secara lebih rinci. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Snapshots - snapshot seluruh kumpulan, atau dataset yang dipilih. Tanpa merinci, snapshot adalah cara tercepat dan “termurah” untuk mendukung dalam hal ruang. Saat ini, fungsi manajemen gambar yang diterapkan di WebGUI agak terbatas, tetapi mampu sepenuhnya memenuhi kebutuhan pengguna biasa. Jika ingin lebih, Anda harus menggunakan konsol.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NAS4Free mendukung pembuatan snapshot manual dan otomatis. Untuk mengambil gambar secara manual, buka tab "ZFS" -&gt; "Snapshots" -&gt; "Snapshot", klik tanda plus, tentukan jalurnya (misalnya, saya membuat dataset Musik) dan pikirkan nama untuk gambar masa depan: Tanda </font></font><br>
<br>
<img src="https://habrastorage.org/files/7f9/b24/baa/7f9b24baa4654293b8c185dca3194338.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
centang pada kolom "Rekursif" ”Berarti snapshot dari semua dataset anak di Musik akan dibuat, jika ada. Hasilnya akan sebagai berikut:</font></font><br>
<br>
<img src="https://habrastorage.org/files/a55/41b/3fa/a5541b3fa5f54b359cae79e9825ddddc.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya, ini bukan kesalahan - snapshot tidak memakan ruang kosong sampai data dalam dataset diubah. Misalnya, itu akan tumbuh ketika Anda menghapus file mp3 dari Musik. Proses snapshot dapat diotomatiskan pada tab "Snapshot Otomatis".</font></font><br>
<br>
<img src="https://habrastorage.org/files/f4c/8b3/e4b/f4c8b3e4bdbf412a83c6072edce9cf48.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini, di samping pengaturan yang dibahas di atas, Anda dapat memilih waktu pengambilan gambar dan periode penyimpanannya. Anda tidak dapat menentukan jenis selain harian di sini (ini hanya dimungkinkan melalui konsol). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nah, misalkan Anda tidak sengaja menghapus file-file penting. Bagaimana mereka dapat dipulihkan? Ini dilakukan dengan membuat klon. Mari kita kembali ke tab "Snapshot" dan klik pada ikon kunci pas di depan foto itu. Jendela berikut akan muncul: </font></font><br>
<br>
<img src="https://habrastorage.org/files/526/7dd/131/5267dd131142459faee1659b7a207e56.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini Anda harus memilih jalur di mana klon akan ditemukan. Tentu saja, itu harus unik, dan tidak mengulangi nama dataset. Klik "Run" dan periksa hasilnya melalui FTP:</font></font><br>
<br>
<img src="https://habrastorage.org/files/ae5/e3e/771/ae5e3e77122a46cdb4a769a024e686a2.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, klon MusicSnap sepenuhnya mengulangi isi dataset asli. </font><font style="vertical-align: inherit;">Sekarang Anda dapat mengekstrak file yang hilang dari klon dan menyalinnya kembali ke Musik. </font><font style="vertical-align: inherit;">Setelah klon dapat dihapus di tab yang sama:</font></font><br>
<br>
<img src="https://habrastorage.org/files/c50/efe/325/c50efe325b014a7f99d97c77428886d2.JPG"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sentuhan terakhir</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, ZFS Mirror yang didasarkan pada Western Digital Re yang praktis tidak bisa dihancurkan memungkinkan Anda untuk membuat NAS rumah dengan keandalan yang cukup dapat diterima, meskipun tanpa dukungan ECC oleh motherboard. Namun, ada satu titik lemah dalam sistem yang dijelaskan - flash drive. Memori flash tidak dapat disebut andal kecuali Anda menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chip industri</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tetapi NAS4Free menyediakan mekanisme yang sangat nyaman untuk meningkatkan server dari awal. Di bagian "Sistem" - "Menyimpan / Memulihkan" Anda bisa mendapatkan file XML dengan pengaturan hanya dengan satu klik: </font></font><br>
<br>
<img src="https://habrastorage.org/files/da2/325/19b/da232519b3b347d3b2773b3b171972cb.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enkripsi kata sandi tersedia secara opsional. Jika flash drive gagal, Anda hanya perlu menginstal sistem dengan bersih dan mengembalikan konfigurasi dari file. Semua kumpulan dan dataset yang dibuat sebelumnya, serta informasi yang tersimpan, akan tersedia lagi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebenarnya, itu saja - NAS rumah siap untuk digunakan. </font><font style="vertical-align: inherit;">Saat ini, perakitan yang dijelaskan di atas menghabiskan biaya sekitar sebulan, mencerna sekitar 500 gigabyte selama waktu ini. </font><font style="vertical-align: inherit;">Tentu saja, ini jauh dari pekerjaan keausan, namun, penyimpanan berfungsi dengan sempurna, tidak ada masalah yang diamati selama ini. </font><font style="vertical-align: inherit;">Dan sekarang saya akan mengatur sedikit interaktif: tulis di komentar fitur NAS4Free yang ingin Anda lihat, atau solusi non-standar yang ingin Anda terapkan berdasarkan itu. </font><font style="vertical-align: inherit;">Jadi, misalnya,   </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dispi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tertarik pada kemungkinan menaikkan LAMP lengkap - aplikasi telah diterima, meskipun saya tidak menjanjikan publikasi dalam waktu dekat.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id397575/">https://habr.com/ru/post/id397575/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id397561/index.html">Audio Digest 9: Blog tentang Teknologi Suara, Musik, dan Audio</a></li>
<li><a href="../id397563/index.html">Keaslian Code of Grolier, kodeks Maya keempat yang masih hidup, terbukti.</a></li>
<li><a href="../id397565/index.html">Bagaimana Lyft melihat transportasi jalan dalam 10 tahun</a></li>
<li><a href="../id397567/index.html">В Nokia Bell Labs добились передачи данных со скоростью в 1 Тбит/с по оптоволокну</a></li>
<li><a href="../id397571/index.html">Kain hibrida mengubah sinar matahari dan energi mekanik menjadi listrik</a></li>
<li><a href="../id397577/index.html">Terminator, Bender, Dandy, dan prosesor Apple 2: MOS 6502</a></li>
<li><a href="../id397579/index.html">Riwayat mikroprosesor yang tidak terduga</a></li>
<li><a href="../id397581/index.html">Tendanganlah sekarang! Dengan Kickstarter, masa depan lebih dekat</a></li>
<li><a href="../id397583/index.html">Pertemuan yang tidak terduga. Bab 4</a></li>
<li><a href="../id397585/index.html">"Ya, Anda mengemudi!". Bagaimana Overclocker Mengubah Industri Komputer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>