<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüè≠ üßëüèΩ #‚É£ Sandbox sur Windows üòï üë©üèø‚Äçü§ù‚Äçüë©üèΩ üëáüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le sandboxing est un nouvel outil l√©ger sous Windows qui vous permet d'ex√©cuter des applications dans un environnement s√©curis√© et isol√©. 

 Vous √™tes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sandbox sur Windows</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/infopulse/blog/433706/">  Le sandboxing est un nouvel outil l√©ger sous Windows qui vous permet d'ex√©cuter des applications dans un environnement s√©curis√© et isol√©. <br><br>  Vous √™tes-vous d√©j√† retrouv√© dans une situation o√π vous devez ex√©cuter une sorte de programme, mais vous n'√™tes pas enti√®rement s√ªr de la source de son origine?  Ou un autre exemple - la n√©cessit√© de v√©rifier quelque chose sur une version "propre" de Windows.  Dans tous ces cas, avant il n'y avait qu'une seule issue: installer le syst√®me d'exploitation sur une machine physique ou virtuelle distincte et mener l'exp√©rience n√©cessaire.  Mais ce n'est plus le cas. <br><br>  Microsoft a d√©velopp√© un nouveau m√©canisme appel√© <b>Sandbox</b> (eng. Windows Sandbox).  Il s'agit d'un environnement temporaire isol√© dans lequel vous pouvez ex√©cuter des logiciels suspects sans risquer d'endommager votre PC.  Tout logiciel install√© dans le bac √† sable reste uniquement dans le bac √† sable et ne peut pas interagir avec le syst√®me d'exploitation principal.  D√®s que vous fermez le Sandbox, tout son contenu est irr√©m√©diablement d√©truit. <br><br>  Voici les principales caract√©ristiques du Sandbox: <br><br><ul><li>  <b>Cela fait partie du syst√®me d'exploitation Windows.</b>  Si vous avez Windows 10 Pro ou Enterprise, vous pouvez d√©j√† commencer √† l'utiliser. </li><li>  <b>D'une ardoise propre.</b>  Chaque fois que vous d√©marrez le bac √† sable, vous obtenez le m√™me environnement, propre et immuable.  Exactement ce qu'√©tait votre syst√®me d'exploitation juste apr√®s son installation. </li><li>  <b>Aucune trace.</b>  Lorsque vous fermez le bac √† sable, toutes les applications qui y sont install√©es, tous les fichiers qui y sont cr√©√©s sont d√©truits.  Ils ont ferm√© le Sandbox - il n'y avait aucune trace de son existence. </li><li>  <b>La s√©curit√©</b>  Il utilise la virtualisation mat√©rielle, qui utilise un hyperviseur pour ex√©cuter un noyau de syst√®me d'exploitation distinct et l'isole de votre syst√®me d'exploitation principal </li><li>  <b>Efficacit√©</b>  Il utilise un planificateur de t√¢ches int√©gr√©, une gestion intelligente de la m√©moire, un GPU virtuel. </li></ul><a name="habracut"></a><br><h3>  Configuration requise </h3><br><ul><li>  Windows 10 Pro ou Enterprise, build 18305 ou sup√©rieur </li><li>  Architecture AMD64 </li><li>  Virtualisation activ√©e par le BIOS </li><li>  4 Go minimum (8 Go recommand√©s) de RAM </li><li>  1 Go minimum d'espace disque libre (SSD recommand√©) </li><li>  Processeur double c≈ìur (4 recommand√©s avec prise en charge de l'hyper-threading) </li></ul><br><h2>  D√©marrage rapide </h2><br>  <b>1.</b> Installez Windows 10 Pro ou Enterprise build 18305 ou sup√©rieur <br><br>  <b>2.</b> Activez la virtualisation: <br><br><ul><li>  Si vous travaillez sur une machine physique - faites-le dans le BIOS </li><li>  Si vous travaillez sur une machine virtuelle, utilisez la commande PowerShell suivante: <br><br><pre><code class="bash hljs">Set-VMProcessor -VMName &lt;VMName&gt; -ExposeVirtualizationExtensions <span class="hljs-variable"><span class="hljs-variable">$true</span></span></code> </pre> </li></ul><br>  <b>3.</b> Ouvrez (via le Panneau de configuration) une liste des composants Windows install√©s et activez-y le Sandbox.  Cliquez OK.  Si vous voyez une demande de red√©marrage de l'ordinateur - confirmez-la. <br><br><img src="https://gxcuf89792.i.lithium.com/t5/image/serverpage/image-id/62785i7A89663EBE5E0521/image-size/medium?v=1.0&amp;px=400" alt="image"><br><br>  <b>4.</b> Lancez le bac √† sable √† partir du menu D√©marrer.  Permettre l'√©l√©vation des droits pour son processus. <br><br>  <b>5.</b> Copiez (via le presse-papiers) dans le bac √† sable le fichier binaire que vous souhaitez ex√©cuter. <br><br>  <b>6.</b> Lancez le binaire dans le bac √† sable.  S'il s'agit d'un programme d'installation, suivez la proc√©dure d'installation et ex√©cutez l'application install√©e. <br><br>  <b>7.</b> Utilisez l'application comme pr√©vu. <br><br>  <b>8.</b> Une fois termin√©, fermez simplement le bac √† sable.  Tout son contenu sera supprim√©. <br><br>  <b>9.</b> Facultatif - vous pouvez vous assurer que rien n'a chang√© dans votre syst√®me d'exploitation principal. <br><br><img src="https://gxcuf89792.i.lithium.com/t5/image/serverpage/image-id/62786i559AE3EDA7C968A4/image-size/large?v=1.0&amp;px=999" alt="image"><br><br><h2>  Sous le capot du bac √† sable </h2><br>  Windows Sandbox est construit sur une technologie appel√©e Windows Containers.  Des conteneurs ont √©t√© d√©velopp√©s (et utilis√©s depuis longtemps) pour fonctionner dans le cloud.  Microsoft a d√©j√† pris une technologie assez mature et test√©e et l'a finalis√©e pour les utilisateurs de Windows de bureau. <br><br>  Parmi les adaptations cl√©s, on peut noter: <br><br><h3>  Image g√©n√©r√©e dynamiquement </h3><br>  Le bac √† sable est, bien que l√©ger, mais toujours une machine virtuelle.  Et, comme toute machine virtuelle, elle a besoin d'une image √† partir de laquelle elle peut d√©marrer.  La caract√©ristique la plus importante du Sandbox est que vous n'avez pas besoin de t√©l√©charger ou de cr√©er cette image quelque part.  Il sera cr√©√© √† la vol√©e, √† partir des fichiers de votre syst√®me d'exploitation Windows actuel. <br><br>  Nous voulons toujours obtenir le m√™me environnement ¬´propre¬ª pour le bac √† sable.  Mais il y a un probl√®me: certains fichiers syst√®me peuvent changer.  La solution a √©t√© de cr√©er une ¬´image g√©n√©r√©e dynamiquement¬ª: pour les fichiers modifi√©s, leurs versions originales y seront incluses, mais les fichiers immuables ne seront pas physiquement inclus dans cette image.  Au lieu de cela, ils utiliseront des liens vers de vrais fichiers sur le disque.  Comme la pratique l'a montr√©, la plupart des fichiers de l'image seront de tels liens.  Seule une petite partie d'entre eux (environ 100 Mo) sera compl√®tement incluse dans l'image - ce sera sa taille.  De plus, lorsque vous n'utilisez pas le bac √† sable, ces fichiers sont stock√©s sous forme compress√©e et occupent environ 25 Mo.  Lorsque vous d√©marrez le Sandbox, ils sont d√©ploy√©s sur une image tr√®s dynamique d'environ 100 Mo. <br><br><img src="https://gxcuf89792.i.lithium.com/t5/image/serverpage/image-id/62787i9053915B9D0FABFC/image-size/large?v=1.0&amp;px=999" alt="image"><br><br><h3>  Gestion intelligente de la m√©moire </h3><br>  La gestion de la m√©moire Sandbox est une autre am√©lioration majeure.  L'hyperviseur vous permet d'ex√©cuter plusieurs machines virtuelles sur la m√™me machine physique et cela, en g√©n√©ral, fonctionne bien sur les serveurs.  Mais, contrairement aux serveurs, les ressources des machines utilisateur ordinaires sont beaucoup plus limit√©es.  Pour atteindre un niveau de performances acceptable, Microsoft a d√©velopp√© un mode m√©moire sp√©cial dans lequel le syst√®me d'exploitation principal et le bac √† sable peuvent utiliser les m√™mes pages m√©moire dans certains cas. <br><br>  En fait: √©tant donn√© que le syst√®me d'exploitation principal et le bac √† sable ex√©cutent la m√™me image de syst√®me d'exploitation, la plupart des fichiers syst√®me qu'ils contiennent seront les m√™mes, ce qui signifie qu'il est inutile de charger deux fois les m√™mes biblioth√®ques en m√©moire.  Vous pouvez le faire une fois dans le syst√®me d'exploitation principal et lorsque le m√™me fichier est n√©cessaire dans la m√©moire Sandbox, vous pouvez lui donner un lien vers la m√™me page.  Bien s√ªr, certaines mesures suppl√©mentaires sont n√©cessaires pour garantir la s√©curit√© de cette approche, mais Microsoft s'en est occup√©. <br><br><img src="https://gxcuf89792.i.lithium.com/t5/image/serverpage/image-id/62788i128C6F57EFF45C5F/image-size/large?v=1.0&amp;px=999" alt="image"><br><br><h3>  Planificateur int√©gr√© </h3><br>  Dans le cas de l'utilisation de machines virtuelles conventionnelles, l'hyperviseur contr√¥le le fonctionnement des processeurs virtuels qui y sont ex√©cut√©s.  Une nouvelle technologie a √©t√© d√©velopp√©e pour le Sandbox, appel√©e "planificateur int√©gr√©", qui permet au syst√®me d'exploitation principal de d√©cider quand et combien de ressources allouer au Sandbox.  Cela fonctionne comme ceci: les processeurs Sandbox virtuels fonctionnent comme des threads √† l'int√©rieur du processus Sandbox.  Par cons√©quent, ils ont les m√™mes ¬´droits¬ª que les autres threads de votre syst√®me d'exploitation principal.  Si, par exemple, certains threads de haute priorit√© fonctionnent pour vous, le bac √† sable ne leur prendra pas beaucoup de temps pour terminer leurs t√¢ches, qui ont une priorit√© normale.  Cela vous permettra d'utiliser le Sandbox sans ralentir le fonctionnement des applications critiques et en conservant une r√©activit√© suffisante de l'interface utilisateur du syst√®me d'exploitation principal, similaire au fonctionnement de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Linux KVM</a> . <br><br>  La t√¢che principale √©tait de faire du Sandbox, d'une part, une application ordinaire, et d'autre part, de garantir son isolement au niveau des machines virtuelles classiques. <br><br><h3>  Utilisation d'instantan√©s </h3><br>  Comme mentionn√© ci-dessus, le Sandbox utilise un hyperviseur.  Nous ex√©cutons essentiellement une copie de Windows dans une autre.  Et cela signifie qu'il faudra un certain temps pour le charger.  Nous pouvons le d√©penser chaque fois que vous d√©marrez le Sandbox, ou le faire une seule fois, apr√®s avoir enregistr√© apr√®s avoir charg√© tout l'√©tat du syst√®me d'exploitation virtuel (fichiers modifi√©s, m√©moire, registres du processeur) sur le disque.  Apr√®s cela, nous pourrons lancer le Sandbox √† partir de cette image, tout en enregistrant son heure de d√©but. <br><br><h3>  Virtualisation graphique </h3><br>  La virtualisation mat√©rielle des graphiques est la cl√© d'une interface utilisateur fluide et rapide, en particulier pour les applications "lourdes" en termes d'applications graphiques.  Cependant, les machines virtuelles classiques sont initialement limit√©es dans leur capacit√© √† utiliser directement toutes les ressources du GPU.  Et ici, un r√¥le important est jou√© par les outils de virtualisation graphique, qui permettent de surmonter ce probl√®me et, sous une certaine forme, d'utiliser l'acc√©l√©ration mat√©rielle dans un environnement virtuel.  Un exemple d'une telle technologie pourrait √™tre, par exemple, Microsoft <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RemoteFX</a> . <br><br>  De plus, Microsoft a travaill√© activement avec les fabricants de syst√®mes graphiques et de pilotes afin d'int√©grer des capacit√©s de virtualisation graphique directement dans DirectX et WDDM (un mod√®le de pilote sous Windows). <br><br>  Par cons√©quent, les graphiques dans le bac √† sable fonctionnent comme suit: <br><br><ul><li>  Une application dans le Sandbox utilise les fonctions graphiques de la mani√®re habituelle, sans savoir qui ni comment les ex√©cutera </li><li>  Le sous-syst√®me graphique Sandbox, ayant re√ßu des commandes de rendu graphique, les transf√®re vers le syst√®me d'exploitation principal </li><li>  Le syst√®me d'exploitation principal, ayant re√ßu des commandes de rendu graphique, les per√ßoit comme provenant d'une application lanc√©e localement et les ex√©cute en cons√©quence, en allouant et en g√©rant les ressources n√©cessaires. </li></ul><br>  Ce processus peut √™tre repr√©sent√© comme suit: <br><br><img src="https://gxcuf89792.i.lithium.com/t5/image/serverpage/image-id/62790i61A67D5F66C1E3E4/image-size/medium?v=1.0&amp;px=400" alt="image"><br><br>  Cela permet √† l'environnement virtuel d'avoir un acc√®s complet aux graphiques acc√©l√©r√©s par le mat√©riel, ce qui donne √† la fois une augmentation des performances et des ressources (par exemple, la batterie pour les ordinateurs portables), du fait que les calculs lourds sur le CPU ne sont plus utilis√©s pour le rendu des graphiques. <br><br><h3>  Utilisation de la batterie </h3><br>  Le bac √† sable a acc√®s aux informations sur la charge de la batterie et peut optimiser son travail pour le sauvegarder. <br><br><h2>  Avis et rapports de bogues </h2><br>  Il peut y avoir des bogues dans toute nouvelle technologie.  Microsoft demande d'envoyer des messages √† leur sujet et des suggestions de nouvelles fonctionnalit√©s via le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Hub de commentaires</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr433706/">https://habr.com/ru/post/fr433706/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr433692/index.html">Pour r√©soudre les t√¢ches d'optimisation les plus difficiles, ajoutez simplement des lasers</a></li>
<li><a href="../fr433696/index.html">Historique d'une demande</a></li>
<li><a href="../fr433698/index.html">Philosophie CSS</a></li>
<li><a href="../fr433700/index.html">Filtre Bloom en Java avec Guava</a></li>
<li><a href="../fr433704/index.html">Un extrait du roman "Endless Joke" sur les visiophones et les masques pour photos et vid√©os - des ann√©es avant leur v√©ritable apparition</a></li>
<li><a href="../fr433708/index.html">Bienvenue au cinqui√®me Meetup sur la cybers√©curit√© industrielle</a></li>
<li><a href="../fr433710/index.html">Nous √©tudions le principe du pourcentage de travail pour la propri√©t√© padding-top en utilisant l'exemple de la t√¢che ¬´Espace r√©serv√© de mise en page pour les images¬ª</a></li>
<li><a href="../fr433712/index.html">"L'esprit est en ligne." L'information dans le cerveau</a></li>
<li><a href="../fr433714/index.html">ILV: L'utilisation de l'analytique peut conduire √† bloquer le site</a></li>
<li><a href="../fr433716/index.html">Google a montr√© une nouvelle g√©n√©ration de sacs √† dos Street View Trekker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>