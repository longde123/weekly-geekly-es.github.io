<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👩‍👦‍👦 👩‍👧‍👦 🌫️ Bekerja dengan API KOMPAS-3D → Pelajaran 12 → Garis Majemuk 🧑🏾‍🤝‍🧑🏼 🌓 🌦️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam pelajaran sebelumnya, kami melihat menampilkan string sederhana. Saat ini, kita akan berbicara tentang pembentukan garis komposit, termasuk peny...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bekerja dengan API KOMPAS-3D → Pelajaran 12 → Garis Majemuk</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ascon/blog/424509/">  Dalam pelajaran sebelumnya, kami melihat menampilkan string sederhana.  Saat ini, kita akan berbicara tentang pembentukan garis komposit, termasuk penyimpangan dan fraksi.  Kami akan <b>menghasilkan</b> garis-garis tersebut menggunakan metode <b>ksText</b> , yang telah kami pelajari sebelumnya.  Sebenarnya, metode ini tidak dimaksudkan untuk menghasilkan string yang kompleks.  Namun demikian, dalam pelajaran hari ini kita akan berkenalan dengan sejumlah bendera yang memainkan peran kunci dalam pembentukan garis majemuk. <br><br><img src="https://habrastorage.org/webt/_4/wy/zc/_4wyzcxmukwnvd1wcolm6g0yztc.png"><br><br><a name="habracut"></a><br><blockquote><h4>  Isi seri pelajaran “Bekerja dengan API KOMPAS-3D” </h4><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dasar-dasarnya</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Desain gambar</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Koneksi yang benar ke KOMPAS</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Prasasti utama</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Primitif grafis</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Menyimpan dokumen dalam berbagai format</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mengenal pengaturan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Metode penulisan yang lebih canggih di blok judul</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Membaca sel teks</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Karakter khusus termasuk string</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Label teks sederhana</a> </li><li>  <b>Senar majemuk</b> </li></ol></blockquote><br>  Meskipun metode yang dijelaskan untuk membuat penyimpangan dan fraksi tidak berdokumen, mereka, seperti yang diperlihatkan percobaan saya, bekerja dengan benar pada versi modern KOMPAS (diperiksa pada 15, 16 dan 17).  Tetapi perilaku ini dapat diubah di versi mendatang. <br><br>  Metode "benar" untuk membangun string majemuk akan dijelaskan dalam pelajaran berikut. <br><br><h2>  <font color="#00B2FF">Miring, tebal, dan garis bawah</font> </h2><br>  Gaya miring, tebal, dan garis bawah dikontrol oleh bendera yang ditunjukkan pada tabel di bawah ini.  Mereka dideklarasikan di file header <b>ldefin2d.h</b> . <br><br><img src="https://habrastorage.org/webt/md/ot/_x/mdot_xd391dvskzggywaqkhang4.png"><br><br>  Dalam metode <b>ksText,</b> efek dari masing-masing flag ini terbatas untuk memanggil metode ini.  Berikut ini adalah contoh program yang menunjukkan keluaran garis dengan gaya berbeda. <br><br><pre><code class="hljs erlang-repl">Document2D-&gt;ksText(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> , SysAllocString(L<span class="hljs-string"><span class="hljs-string">" "</span></span>)); Document2D-&gt;ksText(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, ITALIC_OFF , SysAllocString(L<span class="hljs-string"><span class="hljs-string">"  "</span></span>)); Document2D-&gt;ksText(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">80</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, BOLD_ON , SysAllocString(L<span class="hljs-string"><span class="hljs-string">" "</span></span>)); Document2D-&gt;ksText(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">70</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, UNDERLINE_ON, SysAllocString(L<span class="hljs-string"><span class="hljs-string">" "</span></span>));</code> </pre> <br>  Untuk kesederhanaan, contoh ini menghilangkan kode yang bertanggung jawab untuk pembuatan dan pelaksanaan dokumen (topik ini dibahas dalam pelajaran sebelumnya), serta untuk membebaskan sumber daya (termasuk setelah memanggil fungsi <b>SysAllocString</b> ). <br><br>  Harap dicatat: secara default, KOMPAS menampilkan teks dalam huruf miring.  Karenanya, untuk membatalkan <i>huruf miring,</i> kami menggunakan bendera <i>ITALIC_OFF</i> .  Gambar di bawah ini menunjukkan garis keluaran oleh program ini. <br><br><img src="https://habrastorage.org/webt/ev/ti/h_/evtih_t-gm3t2ul2m2dtbzhu7ck.png"><br><br>  Penggunaan flag berpasangan secara bersamaan (misalnya, <i>BOLD_ON</i> dan <i>BOLD_OFF</i> ) tidak memengaruhi tampilan string.  Ini ditampilkan karena akan ditampilkan jika tidak ada bendera yang ditetapkan. <br><br><h2>  <font color="#00B2FF">Penyimpangan atas dan bawah</font> </h2><br>  Penyimpangan atas dan bawah diatur menggunakan bendera yang ditunjukkan pada tabel di bawah ini. <br><br><img src="https://habrastorage.org/webt/r_/44/oa/r_44oazvl35o5a8pbrcbckassuy.png"><br><br>  Berikut ini adalah contoh dari program yang menunjukkan output dari garis yang mengandung penyimpangan atas dan bawah. <br><br><pre> <code class="hljs rust">double x = <span class="hljs-number"><span class="hljs-number">100.0</span></span>; double y = <span class="hljs-number"><span class="hljs-number">100.0</span></span>; BSTR <span class="hljs-built_in"><span class="hljs-built_in">str</span></span> = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"  "</span></span>); long itext = Document2D-&gt;ksText(x, y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); SysFreeString(<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); x += Document2D-&gt;ksGetTextLengthFromReference(itext) + <span class="hljs-number"><span class="hljs-number">2.0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">str</span></span> = SysAllocString(L<span class="hljs-string"><span class="hljs-string">" "</span></span>); itext = Document2D-&gt;ksText(x, y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, UPPER_DEVIAT, <span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); SysFreeString(<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); double dx1 = Document2D-&gt;ksGetTextLengthFromReference(itext); <span class="hljs-built_in"><span class="hljs-built_in">str</span></span> = SysAllocString(L<span class="hljs-string"><span class="hljs-string">" "</span></span>); itext = Document2D-&gt;ksText(x, y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, LOWER_DEVIAT, <span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); SysFreeString(<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); double dx2 = Document2D-&gt;ksGetTextLengthFromReference(itext); x += max(dx1, dx2); <span class="hljs-built_in"><span class="hljs-built_in">str</span></span> = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"  "</span></span>); Document2D-&gt;ksText(x, y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); SysFreeString(<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>);</code> </pre><br>  Dalam contoh ini, setiap kali kita menghitung ulang koordinat titik jangkar dari garis yang ditampilkan untuk mengetahui di mana harus mengeluarkannya.  Untuk melakukan ini, gunakan metode <b>ksGetTextLengthFromReference</b> yang dijelaskan dalam pelajaran sebelumnya.  Harap dicatat: hanya koordinat horisontal yang dihitung ulang, vertikal tidak berubah.  KOMPAS sendiri menentukan offset garis vertikal yang diinginkan.  Gambar di bawah ini menunjukkan garis komposit yang dihasilkan oleh program ini. <br><br><img src="https://habrastorage.org/webt/_b/qf/ry/_bqfryeirgdc5warzsdwwl0siku.png"><br><br><h2>  <font color="#00B2FF">Pecahan</font> </h2><br>  Render pecahan diatur oleh bendera yang tercantum dalam tabel di bawah ini. <br><br><img src="https://habrastorage.org/webt/kg/i2/4q/kgi24qz3rhz83cg4jmbxp8ztzxy.png"><br><br>  Berikut ini adalah contoh dari program yang menunjukkan output dari sebagian kecil dalam string teks. <br><br><pre> <code class="hljs rust">double x = <span class="hljs-number"><span class="hljs-number">100.0</span></span>; double y = <span class="hljs-number"><span class="hljs-number">100.0</span></span>; BSTR <span class="hljs-built_in"><span class="hljs-built_in">str</span></span> = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"  "</span></span>); long itext = Document2D-&gt;ksText(x, y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); SysFreeString(<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); x += Document2D-&gt;ksGetTextLengthFromReference(itext) + <span class="hljs-number"><span class="hljs-number">2.0</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">str</span></span> = SysAllocString(L<span class="hljs-string"><span class="hljs-string">""</span></span>); itext = Document2D-&gt;ksText(x, y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, NUMERATOR, <span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); SysFreeString(<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); double dx1 = Document2D-&gt;ksGetTextLengthFromReference(itext); <span class="hljs-built_in"><span class="hljs-built_in">str</span></span> = SysAllocString(L<span class="hljs-string"><span class="hljs-string">""</span></span>); itext = Document2D-&gt;ksText(x, y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, DENOMINATOR, <span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); SysFreeString(<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); double dx2 = Document2D-&gt;ksGetTextLengthFromReference(itext); x += max(dx1, dx2); <span class="hljs-built_in"><span class="hljs-built_in">str</span></span> = SysAllocString(L<span class="hljs-string"><span class="hljs-string">"  "</span></span>); Document2D-&gt;ksText(x, y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">str</span></span>); SysFreeString(<span class="hljs-built_in"><span class="hljs-built_in">str</span></span>);</code> </pre><br>  Sangat mudah untuk memperhatikan bahwa contoh ini mirip dengan yang sebelumnya.  Memang, output dari penyimpangan dan fraksi hanya berbeda di bendera yang digunakan.  Gambar di bawah ini menunjukkan hasil program. <br><br><img src="https://habrastorage.org/webt/ry/sh/5c/rysh5cmibquzltwo7yh5ofdbbjc.png"><br><br>  <b>Kesimpulan</b> <br><br>  Dalam pelajaran ini, kami melihat cara membuat string komposit menggunakan metode <b>ksText</b> .  Metode yang dijelaskan di sini tidak berdokumen, jadi Anda tidak boleh menggunakannya dalam aplikasi Anda.  Dalam pelajaran berikut, kita akan melihat lebih dekat pada cara-cara yang terdokumentasi untuk membuat string majemuk.  Dan di sana kita akan membutuhkan bendera yang kita temui hari ini. <br><br>  <b>Untuk dilanjutkan, ikuti berita blog.</b> <br><br> <a href=""><img src="https://habrastorage.org/web/595/eee/f27/595eeef271b24830b3578751fcb52716.png"></a>  Sergey Norseev, Ph.D., penulis buku "Pengembangan Aplikasi untuk COMPAS di Delphi." </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id424509/">https://habr.com/ru/post/id424509/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id424499/index.html">Yah dia, yang terbaikmu</a></li>
<li><a href="../id424501/index.html">Terminal Diagnostik untuk Tukang Las Nyata</a></li>
<li><a href="../id424503/index.html">Boot dirimu, Spring akan datang (Bagian 1)</a></li>
<li><a href="../id424505/index.html">“Kami punya ide untuk Maven 4 dan bahkan Maven 5” - sebuah wawancara dengan Robert Scholte, peserta kunci dalam proyek Maven</a></li>
<li><a href="../id424507/index.html">VI JetBrains Tahunan Hackathon: Shiftius Altius Ctrlius</a></li>
<li><a href="../id424511/index.html">Alat untuk menemukan kelas beranotasi di Jawa</a></li>
<li><a href="../id424513/index.html">Tentang pusat data murah, perlindungan ILV dan DDoS</a></li>
<li><a href="../id424517/index.html">Implementasi minimalisasi fungsi logis oleh metode Quine \ McCluskey dengan set input yang tidak lengkap</a></li>
<li><a href="../id424519/index.html">Bisakah Beethoven mengirim permintaan penghapusan?</a></li>
<li><a href="../id424525/index.html">Kontrol kecepatan bor mini</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>