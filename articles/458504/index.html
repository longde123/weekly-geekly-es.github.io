<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äç‚úàÔ∏è üëÜ üôÜüèº Trucos de 13 npm para ahorrar tiempo üö∂üèº üë©üèΩ‚Äçü§ù‚Äçüë®üèæ ü§òüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Todos los d√≠as, millones de desarrolladores, al crear sus aplicaciones JavaScript, recurren a npm (o a Yarn). Ejecutar comandos como npm init o npx cr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Trucos de 13 npm para ahorrar tiempo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/458504/"> Todos los d√≠as, millones de desarrolladores, al crear sus aplicaciones JavaScript, recurren a npm (o a Yarn).  Ejecutar comandos como <code>npm init</code> o <code>npx create-react-app</code> ha convertido en una forma familiar de comenzar a trabajar en casi cualquier proyecto de JavaScript.  Puede ser un servidor, un cliente o incluso una aplicaci√≥n de escritorio. <br><br>  Pero la utilidad npm no solo es capaz de inicializar proyectos o instalar paquetes.  El autor del material, cuya traducci√≥n publicamos hoy, quiere hablar sobre trucos de 13 npm que le permitir√°n exprimir todo lo que sea posible de este sistema.  Aqu√≠ consideraremos t√©cnicas de varios tama√±os, desde el uso de atajos hasta la personalizaci√≥n del comportamiento de <code>npm init</code> . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/_5/ae/8r/_5ae8rwztut9iad5acmba7qf23a.jpeg"></a> <br><br>  Muchos programadores usan npm diariamente.  Esto significa que a la larga, incluso un peque√±o ahorro de tiempo puede cambiar algo para mejor.  Este material est√° destinado principalmente a desarrolladores principiantes y desarrolladores de nivel medio.  Sin embargo, incluso si usted es un profesional, el autor del material espera que pueda encontrar aqu√≠ un par de cosas interesantes que no haya encontrado antes. <br><br>  Si no est√° familiarizado con npm, tenga en cuenta que el programa que nos interesa est√° instalado con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Node.js.</a>  Si est√° trabajando en Windows, se recomienda que instale <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Git Bash</a> para reproducir algo de lo que se est√° discutiendo aqu√≠. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">1. Breves opciones para grabar comandos b√°sicos</font> </h2><br>  Comencemos con lo b√°sico.  Al pasar un poco de tiempo explorando versiones abreviadas de los comandos npm m√°s comunes, se ahorrar√° mucho tiempo en el futuro. <br><br><ul><li>  Instalar paquetes.  Opci√≥n normal: <code>npm install</code> .  Atajo: <code>npm i</code> . </li><li>  Ejecuci√≥n de pruebas.  Opci√≥n normal: <code>npm test</code> .  Atajo: <code>npm t</code> . </li><li>  Llamada de ayuda  Opci√≥n com√∫n: <code>npm --help</code> .  Atajo: <code>npm -h</code> . </li><li>  Indicador de configuraci√≥n global.  Opci√≥n com√∫n: <code>--global</code> .  Atajo: <code>-g</code> . </li><li>  La instalaci√≥n del paquete marca como una dependencia de desarrollo.  La opci√≥n habitual es <code>--save-dev</code> .  Atajo: <code>-D</code> . </li><li>  <code>npm init</code> configuraci√≥n predeterminada de <code>npm init</code> .  La opci√≥n habitual es <code>npm init --yes</code> o <code>npm init --force</code> .  Atajo: <code>npm init -y</code> o <code>npm init -f</code> . </li></ul><br>  Ahora no necesita usar el <code>--save</code> o <code>-S</code> para guardar paquetes.  Los paquetes se guardan por defecto.  Y para instalar un paquete sin guardarlo, puede usar el indicador <code>--no-save</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç Opciones de grabaci√≥n cortas para comandos menos comunes</font> </h3><br>  Aqu√≠ hay algunas abreviaturas m√°s √∫tiles, que, sin embargo, no se usan tan ampliamente como las que acabamos de revisar. <br><br><ul><li>  Guardar un paquete como una dependencia opcional.  La opci√≥n habitual: <code>--save-optional</code> .  Atajo: <code>-O</code> . </li><li>  Guardar informaci√≥n sobre la versi√≥n exacta del paquete.  La opci√≥n habitual es <code>--save-exact</code> .  Atajo: <code>-E</code> . </li></ul><br>  El uso del comando <code>npm install</code> con el <code>--save-bundle</code> o <code>-B</code> hace que las entradas en los paquetes instalados aparezcan en <code>package.json</code> , en la secci√≥n <code>bundledDependencies</code> .  Estos paquetes se empaquetar√°n con el proyecto una vez publicados.  Para crear un archivo tarball que contenga archivos de proyecto y paquetes enumerados en <code>bundledDependencies</code> , puede usar el comando <code>npm pack</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç Abreviatura del directorio ra√≠z</font> </h3><br>  Normalmente, el s√≠mbolo de punto ( <code>.</code> ) Se utiliza para representar el directorio ra√≠z de una aplicaci√≥n o (seg√∫n el contexto) para representar un punto de entrada a una aplicaci√≥n.  En npm, esto es lo que se establece como el valor de la propiedad <code>main</code> en el archivo <code>package.json</code> : <br><br><pre> <code class="plaintext hljs">{  "main": "index.js" }</code> </pre> <br>  Esta taquigraf√≠a se puede usar, por ejemplo, con comandos como <code>npx create-react-app</code> .  Entonces, en lugar de ejecutar este comando en la forma de <code>npx create-react-app my-app</code> (que conducir√° a la creaci√≥n de una nueva carpeta <code>my-app</code> ), puede ejecutar este comando de esta manera: <code>npx create-react-app .</code>  (preste atenci√≥n al punto que viene despu√©s del comando).  Esto le permitir√° crear un proyecto de plantilla de aplicaci√≥n React en la carpeta en la que se encuentra en el momento en que se ejecuta el comando. <br><br><h2>  <font color="#3AC1EF">2. Establecer valores predeterminados para npm init</font> </h2><br>  Al ejecutar constantemente el comando <code>npm init</code> para crear un nuevo proyecto, lo m√°s probable es que ingrese los mismos datos una y otra vez en respuesta a las preguntas del sistema.  Por ejemplo, es probable que usted sea el autor de la mayor√≠a de los proyectos que cree.  Para ahorrar tiempo al ingresar los mismos datos, puede establecer sus propios valores predeterminados para los campos correspondientes: <br><br><pre> <code class="plaintext hljs">npm config set init.author.name "Joe Bloggs" npm config set init.author.email "joebloggs@gmail.com" npm config set init.author.url  "joebloggs.com" npm config set init.license   "MIT"</code> </pre> <br>  Para verificar la correcci√≥n de agregar dicha informaci√≥n al sistema, ingrese el <code>npm config edit</code> .  Esto abrir√° el archivo de configuraci√≥n en el editor del sistema.  Si desea editar los par√°metros globales de npm, use el <code>npm config edit -g</code> . <br><br>  Para volver a la configuraci√≥n predeterminada, puede usar el siguiente script.  Su primera l√≠nea elimina los datos de configuraci√≥n del archivo, y la segunda lo llena con los valores predeterminados. <br><br><pre> <code class="plaintext hljs">echo "" &gt; $(npm config get userconfig) npm config edit</code> </pre> <br>  La secuencia de comandos anterior restablece los valores predeterminados para el usuario.  El siguiente script restablece los valores predeterminados globales: <br><br><pre> <code class="plaintext hljs">echo "" &gt; $(npm config get globalconfig) npm config --global edit</code> </pre> <br><h2>  <font color="#3AC1EF">3. Scripts multiplataforma</font> </h2><br>  Cualquier c√≥digo que se ejecute en la l√≠nea de comando puede encontrar problemas de compatibilidad.  Esto es especialmente cierto para las incompatibilidades entre sistemas basados ‚Äã‚Äãen Windows y Unix (esto incluye Mac y Linux).  Esto no es un problema si usted y solo usted est√° trabajando en un determinado proyecto.  Pero en muchos casos, la compatibilidad de secuencias de comandos multiplataforma es importante.  Por ejemplo, trabajar independientemente del sistema operativo es una gran ventaja para cualquier proyecto de c√≥digo abierto, capacitaci√≥n o demostraci√≥n. <br><br>  Afortunadamente, resolver el problema de compatibilidad de script no es particularmente dif√≠cil.  Tenemos varias opciones a nuestra disposici√≥n.  Sin embargo, aqu√≠ me gustar√≠a hablar sobre uno de ellos, sobre el uso del cual obtuve los mejores resultados.  Este es un paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cross-env</a> .  Debe instalarse como una dependencia de desarrollo utilizando el <code>npm i -D cross-env</code> .  Entonces debe poner <code>cross-env</code> delante de cada variable de entorno.  Por ejemplo, podr√≠a verse as√≠: <br><br><pre> <code class="plaintext hljs">{  "scripts": {    "build": "cross-env NODE_ENV=production webpack --config build/webpack.config.js" }</code> </pre> <br>  Descubr√≠ que el paquete <code>cross-env</code> es la herramienta m√°s conveniente para lograr la compatibilidad de scripts multiplataforma.  Pero ser√° √∫til que eche un vistazo a las siguientes dos herramientas populares que pueden ayudarlo a resolver este problema: <br><br><ul><li>  Paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Rimraf</a> .  Se puede instalar globalmente para ejecutar scripts multiplataforma. </li><li>  Paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ShellJS</a> .  Esta es una implementaci√≥n port√°til de Node.js del shell de comandos de Unix. </li></ul><br><h2>  <font color="#3AC1EF">4. Ejecuci√≥n paralela de scripts</font> </h2><br>  Para organizar la ejecuci√≥n secuencial de comandos en el shell de Linux, se utiliza la construcci√≥n <code>&amp;&amp;</code> .  ¬øQu√© hay de ejecutar scripts paralelos?  Para lograr esto, puede elegir el paquete npm apropiado.  Los paquetes m√°s populares de este tipo son <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">concurrentemente</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">npm-run-all</a> .  Aqu√≠ demostramos el uso del paquete concurrente. <br><br>  Primero, el paquete seleccionado debe instalarse como una dependencia de desarrollo: <code>npm i -D concurrently</code> .  Luego, en <code>package.json</code> puede usar una construcci√≥n de la siguiente forma: <br><br><pre> <code class="plaintext hljs">{  "start": "concurrently \"command1 arg\" \"command2 arg\"" }</code> </pre> <br><h2>  <font color="#3AC1EF">5. Ejecuci√≥n de scripts ubicados en varios directorios</font> </h2><br>  A veces te encuentras con aplicaciones que tienen varios archivos <code>package.json</code> ubicados en diferentes directorios.  Ser√≠a conveniente, por ejemplo, ejecutar scripts declarados en ellos, estando en el directorio ra√≠z del proyecto.  Esto es mucho mejor que tener que viajar a diferentes carpetas cada vez que necesite ejecutar un script.  Para hacer esto, puede usar los siguientes dos enfoques. <br><br>  Para comenzar, puede usar el <code>cd</code> para navegar autom√°ticamente al directorio deseado.  Puede verse m√°s o menos as√≠: <br><br><pre> <code class="plaintext hljs">cd folder &amp;&amp; npm start &amp;&amp; cd ..</code> </pre> <br>  Pero este problema se puede resolver de una manera m√°s interesante.  Consiste en utilizar el indicador <code>--prefix</code> , con el que puede especificar la ruta: <br><br><pre> <code class="plaintext hljs">npm start --prefix path/to/your/folder</code> </pre> <br>  El siguiente es un ejemplo de aplicaci√≥n de esta soluci√≥n desde una aplicaci√≥n real.  Aqu√≠ necesitamos ejecutar <code>npm start</code> para las partes del cliente y el servidor del proyecto.  Su c√≥digo, respectivamente, se encuentra en las carpetas del <code>client</code> y del <code>server</code> . <br><br><pre> <code class="plaintext hljs">"start": "concurrently \"(npm start --prefix client)\" \"(npm start --prefix server)\"",</code> </pre> <br><h2>  <font color="#3AC1EF">6. Retrasar el lanzamiento del script hasta que un recurso est√© disponible</font> </h2><br>  Cuando se desarrollan aplicaciones de pila completa, a menudo surge la necesidad de ejecutar las partes del cliente y del servidor de la aplicaci√≥n.  El paquete de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">espera le</a> permite sincronizar la ejecuci√≥n de ciertos procesos.  En nuestro caso, es necesario que antes de iniciar la parte cliente de la aplicaci√≥n, un cierto puerto est√© disponible. <br><br>  Por ejemplo, hay un script de desarrollo que se usa en una aplicaci√≥n Electron cuya interfaz se escribe usando React.  El script, que se usa <code>concurrently</code> , ejecuta la capa de presentaci√≥n de la aplicaci√≥n y la ventana Electron en paralelo.  Pero usando el modo de <code>wait-on</code> puede hacer que la ventana Electron se abra solo cuando la capa de presentaci√≥n React est√© lista para usar y accesible en <code>http://localhost:3000</code> .  As√≠ es como se ve <code>wait-on</code> uso de <code>wait-on</code> : <br><br><pre> <code class="plaintext hljs">"dev": "concurrently \"cross-env BROWSER=none npm run start\" \"wait-on http://localhost:3000 &amp;&amp; electron .\"",</code> </pre> <br>  Adem√°s, el comportamiento est√°ndar de los proyectos React es abrir autom√°ticamente una ventana del navegador.  Si usa React with Electron, esto no es necesario.  Esto puede <code>BROWSER=none</code> utilizando la variable de entorno <code>BROWSER=none</code> , antes de la cual, en aras de la compatibilidad multiplataforma de la soluci√≥n, se encuentra el comando <code>cross-env</code> . <br><br><h2>  <font color="#3AC1EF">7. Listado y trabajo con scripts disponibles</font> </h2><br>  Para enumerar los scripts disponibles en <code>package.json</code> , solo vaya al directorio ra√≠z del proyecto y ejecute el comando <code>npm run</code> en el terminal. <br><br>  Pero hay una forma a√∫n m√°s conveniente de enumerar scripts.  Al usarlo, el script deseado puede seleccionarse inmediatamente de la lista y ejecutarse.  Para utilizar esta forma de trabajar con scripts, necesitamos instalar globalmente el <code>ntl</code> (Lista de tareas de Npm): <br><br><pre> <code class="plaintext hljs">npm i -g ntl</code> </pre> <br>  Luego, en la carpeta del proyecto, debe ejecutar el comando <code>ntl</code> .  Mostrar√° una lista de los scripts disponibles y le dar√° la oportunidad de seleccionar el script que desea ejecutar.  As√≠ es como se ve. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e7/8e6/7f2/6e78e67f2f7f520bba4d6aef31df3578.png"></div><br>  <i><font color="#999999">Usando el comando ntl</font></i> <br><br>  Esta caracter√≠stica puede ser muy √∫til si no sabe exactamente qu√© scripts hay en el proyecto.  Tambi√©n es bueno en los casos en que el programador desea reemplazar la entrada de un comando largo para ejecutar un script con la entrada de un comando corto y presionar r√°pidamente algunas teclas m√°s en el teclado. <br><br><h2>  <font color="#3AC1EF">8. Ejecuci√≥n de pre-scripts y post-scripts</font> </h2><br>  Es posible que est√© familiarizado con los scripts previos y posteriores a la <code>build</code> que le permiten ejecutar alg√∫n c√≥digo antes y despu√©s de ejecutar el script de <code>build</code> .  Tales guiones anteriores y posteriores se pueden definir para cualquier otro gui√≥n.  Incluyendo aquellos cuyas descripciones son agregadas a p <code>ackage.json</code> por el programador. <br><br>  Esto no solo le permite hacer el c√≥digo m√°s limpio, sino que tambi√©n ayuda a ejecutar los scripts anteriores y posteriores de forma aislada. <br><br><h2>  <font color="#3AC1EF">9. Control de versiones de la aplicaci√≥n.</font> </h2><br>  En lugar de cambiar manualmente la versi√≥n de la aplicaci√≥n, el programador puede usar comandos especiales <code>npm</code> .  Para aumentar la parte correspondiente del n√∫mero de versi√≥n de la aplicaci√≥n, puede usar el <code>npm version</code> seguido de <code>major</code> , <code>minor</code> o <code>patch</code> : <br><br><pre> <code class="plaintext hljs">// 1.0.0 npm version patch // 1.0.1 npm version minor // 1.1.0 npm version major // 2.0.0</code> </pre> <br>  Dependiendo de la frecuencia con la que actualice su aplicaci√≥n, puede ahorrar tiempo aumentando autom√°ticamente el n√∫mero de versi√≥n cada vez que implemente una nueva versi√≥n de la aplicaci√≥n.  Por ejemplo, as√≠: <br><br><pre> <code class="plaintext hljs">{  "predeploy": "npm version patch" }</code> </pre> <br><h2>  <font color="#3AC1EF">10. Edici√≥n de package.json desde la l√≠nea de comando</font> </h2><br>  El archivo package.json es un archivo json normal, por lo que puede editarse directamente desde la l√≠nea de comandos utilizando la utilidad <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">json</a> .  Esto abre nuevas posibilidades en situaciones donde necesita modificar <code>package.json</code> , permiti√©ndole crear sus propias versiones abreviadas de comandos.  Instale el paquete <code>json</code> nivel mundial: <br><br><pre> <code class="plaintext hljs">npm install -g json</code> </pre> <br>  Luego, la utilidad <code>json</code> se puede usar para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">editar</a> r√°pidamente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el</a> archivo usando el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">modificador</a> <code>-I</code> .  Por ejemplo, para agregar un nuevo script <code>foo</code> con la <code>bar</code> valor al archivo, puede usar el siguiente comando: <br><br><pre> <code class="plaintext hljs">json -I -f package.json -e 'this.scripts.foo="bar"'</code> </pre> <br>  En la siguiente secci√≥n, ver√° un ejemplo m√°s pr√°ctico del uso de la utilidad <code>json</code> . <br><br><h2>  <font color="#3AC1EF">11. Automatizaci√≥n de la configuraci√≥n y apertura del repositorio.</font> </h2><br>  Si hay una entrada de <code>"repository"</code> en su archivo <code>package.json</code> , esto significa que puede abrir la p√°gina del repositorio en el navegador utilizado por el sistema de manera predeterminada.  Para hacer esto, use el comando <code>npm repo</code> . <br><br>  Si su proyecto ya est√° conectado al repositorio remoto y tiene instalada la utilidad de l√≠nea de comandos <code>git</code> , esto significa que puede encontrar la direcci√≥n de su repositorio utilizando el siguiente comando: <br><br><pre> <code class="plaintext hljs">git config --get remote.origin.url</code> </pre> <br>  Pero eso no es todo.  Si, de acuerdo con el consejo anterior, instal√≥ la utilidad <code>json</code> , puede usar el siguiente script para agregar autom√°ticamente la informaci√≥n correcta del repositorio a <code>package.json</code> : <br><br><pre> <code class="plaintext hljs">json -I -f package.json -e "this.repository=\"$(git config --get remote.origin.url)\""</code> </pre> <br><h2>  <font color="#3AC1EF">12. Creando tu propio script para controlar el comando npm init</font> </h2><br>  Ahora hablemos de resolver una tarea m√°s grande.  Es decir, vamos a desarrollar nuestro propio script que controla el funcionamiento del comando <code>npm init</code> , que acepta la URL del repositorio de GitHub y env√≠a autom√°ticamente la primera confirmaci√≥n.  Aqu√≠ hablamos sobre c√≥mo crear tales scripts.  Y en la siguiente secci√≥n, que ser√° nuestro √∫ltimo consejo, hablaremos sobre trabajar con <code>git</code> . <br><br>  Puede personalizar el comportamiento del comando <code>npm init</code> utilizando el <code>.npm-init.js</code> .  Creemos dicho archivo en el directorio de inicio del usuario actual (en Windows generalmente es <code>C:/Users/&lt;username&gt;</code> , y en Mac es <code>/Users/&lt;username&gt;</code> ).  Despu√©s de eso, ejecute el siguiente comando que le dice a npm d√≥nde se encuentra exactamente este archivo: <br><br><pre> <code class="plaintext hljs">npm config set init-module ~\.npm-init.js</code> </pre> <br>  Antes de integrarse con <code>git</code> , veamos un ejemplo simple del <code>.npm-init.js</code> , que reproduce las preguntas que el sistema le hace al usuario cuando usa el comando <code>npm init</code> sin configuraciones adicionales: <br><br><pre> <code class="plaintext hljs">module.exports = {  name: prompt('package name', basename || package.name),  version: prompt('version', '0.0.0'),  decription: prompt('description', ''),   main: prompt('entry point', 'index.js'),  repository: prompt('git repository', ''),  keywords: prompt(function (s) { return s.split(/\s+/) }),  author: prompt('author', 'Joe Bloggs &lt;joe.bloggs@gmail.com&gt; (joebloggs.com)'),  license: prompt('license', 'ISC') }</code> </pre> <br>  Cada pregunta se basa en la siguiente plantilla: <br><br><pre> <code class="plaintext hljs">nameInPackage: prompt('nameInPrompt', 'defaultValue')</code> </pre> <br>  Para indicar un cierto valor y no hacer una pregunta al usuario, simplemente elimine el m√©todo de <code>prompt</code> . <br><br>  Si desea volver a la configuraci√≥n est√°ndar de <code>npm init</code> , simplemente elimine el <code>.npm-init.js</code> . <br><br><h2>  <font color="#3AC1EF">13. Enviar el primer commit al repositorio de GitHub usando npm init</font> </h2><br>  Para ejecutar comandos <code>git</code> en el <code>.npm-init.js</code> necesitamos encontrar una manera de trabajar con la l√≠nea de comandos.  Puede usar el m√≥dulo <code>child_process</code> para <code>child_process</code> .  Lo conectamos en la parte superior del archivo, y dado que solo necesitamos la funci√≥n <code>execSync</code> , solo la importamos, usando la desestructuraci√≥n: <br><br><pre> <code class="plaintext hljs">const { execSync } = require('child_process');</code> </pre> <br>  Adem√°s, crearemos una funci√≥n auxiliar que muestre los resultados de nuestra funci√≥n en la consola: <br><br><pre> <code class="plaintext hljs">function run(func) {  console.log(execSync(func).toString()) }</code> </pre> <br>  Y finalmente, creemos el bloque de solicitud apropiado para manejar la URL del repositorio de GitHub.  Si el script tiene la URL, crearemos el archivo <code>README.md</code> y enviaremos el primer commit al repositorio. <br><br>  Entonces, uno de los elementos del objeto <code>.npm-init.js</code> deber√≠a ser el siguiente c√≥digo: <br><br><pre> <code class="plaintext hljs">repository: prompt('github repository url', '', function (url) {  if (url) {    run('touch README.md');    run('git init');    run('git add README.md');    run('git commit -m "first commit"');    run(`git remote add origin ${url}`);    run('git push -u origin master');   return url; })</code> </pre> <br>  As√≠ es como debe verse el c√≥digo completo para el archivo <code>.npm-init.js</code> despu√©s de esta adici√≥n: <br><br><pre> <code class="plaintext hljs">const { execSync } = require('child_process'); function run(func) {  console.log(execSync(func).toString()) } module.exports = {  name: prompt('package name', basename || package.name),  version: prompt('version', '0.0.0'),  decription: prompt('description', ''),  main: prompt('entry point', 'index.js'),  keywords: prompt(function (s) { return s.split(/\s+/) }),  author: prompt('author', 'Joe Bloggs &lt;joe.bloggs@gmail.com&gt; (joebloggs.com)'),  license: prompt('license', 'ISC'),  repository: prompt('github repository url', '', function (url) {    if (url) {      run('touch README.md');      run('git init');      run('git add README.md');      run('git commit -m "first commit"');      run(`git remote add origin ${url}`);      run('git push -u origin master');       return url;  }), }</code> </pre> <br>  As√≠ es como se ve el archivo <code>package.json</code> que el sistema crea usando este <code>.npm-init.js</code> : <br><br><pre> <code class="plaintext hljs">{  "name": "Custom npm init",  "version": "0.0.0",  "decription": "A test project, to demonstrate a custom npm init script.",  "main": "index.js",  "keywords": [],  "author": "Joe Bloggs &lt;joe.bloggs@gmail.com&gt; (joebloggs.com)",  "license": "ISC",  "repository": {    "type": "git",    "url": "git+https://github.com/JoeBloggs/custom.git"  },  "bugs": {    "url": "https://github.com/JoeBloggs/custom/issues"  },  "homepage": "https://github.com/JoeBloggs/custom#readme" }</code> </pre> <br>  Al configurar el proceso de inicializaci√≥n de nuevos proyectos, puede ir m√°s all√°.  Por ejemplo, para asegurarse de que al crear un proyecto, se cree un nuevo repositorio para √©l. <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  Espero que este material te haya ayudado a ver lo que puedes lograr con npm.  Quiero creer que ha encontrado algo aqu√≠ que le permitir√° trabajar de manera m√°s productiva, ya sea que estemos hablando de usar versiones abreviadas de comandos, de scripts de <code>package.json</code> o de configurar <code>npm init</code> para satisfacer sus necesidades. <br><br>  <b>Estimados lectores!</b>  ¬øAutomatizas el trabajo con npm? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/b4/fn/f5/b4fnf52x9i3mn80tttdafqtvkfe.jpeg"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/458504/">https://habr.com/ru/post/458504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458494/index.html">Un ejemplo pr√°ctico del uso de las funciones de render de Vue: crear una cuadr√≠cula tipogr√°fica para un sistema de dise√±o</a></li>
<li><a href="../458496/index.html">Directrices pr√°cticas para desarrollar aplicaciones React a gran escala. Planificaci√≥n, acciones, or√≠genes de datos y API</a></li>
<li><a href="../458498/index.html">Directrices pr√°cticas para desarrollar aplicaciones React a gran escala. Parte 2: gesti√≥n del estado, enrutamiento</a></li>
<li><a href="../458500/index.html">Metamorfosis de la prueba de la saga redux</a></li>
<li><a href="../458502/index.html">El secreto principal para desarrollar buenas aplicaciones de electrones</a></li>
<li><a href="../458506/index.html">No Portal 3, pero cercano: teletransportaci√≥n cu√°ntica de informaci√≥n dentro de un diamante</a></li>
<li><a href="../458508/index.html">Una mirada al interior: escuela de posgrado en EPFL. Parte 4.2: el lado financiero</a></li>
<li><a href="../458514/index.html">La violaci√≥n de GDPR se castiga m√°s activamente: nuevas multas y el impacto de las regulaciones fuera de la UE</a></li>
<li><a href="../458516/index.html">Obtenga un registro de trabajo de Jira</a></li>
<li><a href="../458518/index.html">Python consume mucha memoria o ¬øc√≥mo reducir el tama√±o de los objetos?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>