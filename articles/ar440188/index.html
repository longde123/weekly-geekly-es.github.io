<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ ๐ง๐ปโ๐คโ๐ง๐ป ๐ ุงููุตูู ุฅูู ุงููุฌูู: ุฅุชูุงู ุนูุงูู ุงูุชุดุบูู ุบูุฑ ุงููุฑุฆูุฉ ูุฅุฏุงุฑุฉ ุงูุชุทุจููุงุช ูู Kubernetes ๐ง ๐โ๐จ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุณูุฑู ููููุฉ ุงุณุชุฎุฏุงู ุงูุฃุฏูุงุฑ ุงูููุดูุฑุฉ ูู Ansible Galaxy ููุดุบููู ูุฏูุฑูู ุงูุชุทุจููุงุช ูู Kubernetes ุ ููููุธุฑ ูู ููููุฉ ุฅูุดุงุก ูุดุบู ูููู ุจุจุณุงุทุฉ ุจุชุซุจูุช ุงูุชุทุจูู ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงููุตูู ุฅูู ุงููุฌูู: ุฅุชูุงู ุนูุงูู ุงูุชุดุบูู ุบูุฑ ุงููุฑุฆูุฉ ูุฅุฏุงุฑุฉ ุงูุชุทุจููุงุช ูู Kubernetes</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/440188/" style=";text-align:right;direction:rtl">  ุณูุฑู ููููุฉ ุงุณุชุฎุฏุงู ุงูุฃุฏูุงุฑ ุงูููุดูุฑุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ansible Galaxy</a> ููุดุบููู ูุฏูุฑูู ุงูุชุทุจููุงุช ูู Kubernetes ุ ููููุธุฑ ูู ููููุฉ ุฅูุดุงุก ูุดุบู ูููู ุจุจุณุงุทุฉ ุจุชุซุจูุช ุงูุชุทุจูู ูุถุจุท ุณูููู ุจูุฑููุฉ ุญุณุจ ุงูุจูุฆุฉ. <br><br><img src="https://habrastorage.org/webt/kk/7j/6q/kk7j6qx0eteemrqiug7iyohofli.jpeg" width="100%"><br><br>  ุณูุณุชุฎุฏู <a href="">Ansible Operator</a> ููุญุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">k8s</a> ูุฅุธูุงุฑ ููููุฉ ุงุณุชุฎุฏุงู Ansible ูุฅูุดุงุก ุชุทุจููุงุช Kubernetes. <br><a name="habracut"></a><br>  ูุนุฏ Ansible Operator ุฌุฒุกูุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SDK ูููุดุบู</a> ููุณูุญ ูู ุจุตูุงุบุฉ ุงูููุงุฆุญ ุงูุชุดุบูููุฉ ููุชุทุจูู (ููููุฉ ุชุซุจูุชู ูุตูุงูุชู) ุจูุบุฉ ุงูุฃุฏูุงุฑ ููุชุจ ุงูุชุดุบูู Ansible.  ูุญุฏุฉ k8s ุ ุจุฏูุฑูุง ุ ุชูุณุน ุงููุฏุฑุฉ ุนูู ุฅุฏุงุฑุฉ ุงูุฃุดูุงุก ูู Kubernetes ุนูุฏ ุฅูุดุงุก ูุฐู ุงูุฃุฏูุงุฑ ููุชุจ ุงููุนุจ. <br><br>  ูุชู ุฅูุดุงุก ุนุงูู ูุซู ูุฐุง ุชูุงูุง. <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">FROM quay.io/operator-framework/ansible-operator RUN ansible-galaxy install djzager.hello_world_k8s RUN echo $'--- \n\ - version: v1alpha1\n\ group: examples.djzager.io\n\ kind: HelloWorld\n\ role: /opt/ansible/roles/djzager.hello_world_k8s' &gt; ${HOME}/watches.yaml</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ููุชุงุญ ุงูุจุฏุก </h3><br>  ุฃููุงู ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุถุน</a> ูููุงุช ุญูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุฏุฉ Ansible k8s</a> .  ุธูุฑุช ูู Ansible 2.6 ูุชูุณูุน ุฅููุงููุงุช ุงูุนูู ูุน ูุงุฆูุงุช Kubernetes ูู Ansible ุ ููู ุฃู ุชูุฒูุนุงุช Kubernetes ุ ุจูุง ูู ุฐูู Red Hat OpenShift.  ูุฏููุฉ Ansible ููุง ููุดูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุตู</a> ุนู ูุฐู ุงููุญุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุนููู Python ุงูุฏููุงูููู ูู Red Hat OpenShift</a> .  ูู ุฑุฃููุง ุ ุงูุนูู ูุน ูุงุฆูุงุช Kubernetes ุนุจุฑ Ansible ุฏูู ุงุณุชุฎุฏุงู ุงููุญุฏุฉ ุงูููุทูุฉ k8s ุบูุฑ ุตุญูุญ.  ุชู ุฅูุดุงุก ุขููุฉ ุงููุดุบู ูู ุงูุฃุตู ูุชุดุบูู ุงูุชุทุจููุงุช ูู Kubernetes ุ ููููุฑ ูุดุบู SDK ุฃุฏูุงุช ููุชุฌููุน ูุงูุงุฎุชุจุงุฑ ูุชุนุจุฆุฉ ูุดุบูู.  ุจุฏูุฑู ุ ููุงู ุญุงุฌุฉ ุฅูู ูุดุบู Ansible ูู ุฃุฌู ูุถุน ุงูููุงุฆุญ ุงูุชุดุบูููุฉ ููุชุทุจูู ุจูุบุฉ Ansible.  ูุชู ุชูุธูู ุณูุฑ ุงูุนูู ุงูููุงุจู ุจูู ุจุณุงุทุฉ: ุฃููุงู ูููุฐ ุนุงูู ุงูุชุดุบูู - sdk new - ููุน = Ansible ูุฅูุดุงุก ุงููููุงุช ุงููุงุฒูุฉ ููุดุบู Ansible ุ ุซู ูุฑุณู Ansible ุ ูุฃุฎูุฑุงู ูููู ุจุจูุงุก ูุดุบู sdk ูุฅูุดุงุก ุชุทุจูู ููุนูู ูู Kubernetes.  ูููู ุฅุฐุง ูุงู ูุฏููุง ุจุงููุนู ุฏูุฑ ูู Ansible Galaxy ุ ุงูุฐู ูุชุญูู ูู ุงูุชุทุจูู ูู Kubernetes ุ ูุฅู ุงูุฃููุฑ ุชุตุจุญ ุฃุณูู.  ุฃุฏูุงู ุณููุนู ูุง ููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุจุจูุงุก ุฏูุฑ Ansible ูุฅุฏุงุฑุฉ ุชุทุจูู Hello World ูู Kubernetes ุ ููุง ุณูุณุงุนุฏูุง ูู ุฅุธูุงุฑ ูุฏุฑุงุช ูุญุฏุฉ Ansible k8s. </li><li style=";text-align:right;direction:rtl">  ุณููุดุฑ ูุฐุง ุงูุฏูุฑ ูู Ansible Galaxy. </li></ol><br>  ูุฐูู ุ ุฏุนููุง ุชุฌููุน ุงููุดุบู Ansible ุจุงุณุชุฎุฏุงู ุงูุฏูุฑ ุงูููุดูุฑ ูู Ansible Galaxy.  ููุงุฐุง ุญุชู ุฅูุดุงุก ูุดุบู ุจุงุณุชุฎุฏุงู ุฏูุฑ ูู Ansible Galaxyุ  ููุงู ุณุจุจุงู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญุชู ูุง ุชุชูุฑุฑ</a> .  ุฅุฐุง ูููุง ุจุงููุนู ุจุจุฑูุฌุฉ ุฏูุฑ Ansible ูุฅุฏุงุฑุฉ ุชุทุจูู Hello World ููุดุฑูุงู ูู Ansible Galaxy ุ ููู ุงูููุทูู ุงุณุชุฎุฏุงูู ุนูุฏ ุฅูุดุงุก ูุดุบู Ansible. </li><li style=";text-align:right;direction:rtl">  ุจุณุจุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตู ุงููุณุคูููุงุช</a> .  ูุฑูุฏ ุฃู ูููู Hello World Ansible ุจุฅุฏุงุฑุฉ ุชุทุจูู ูุญูู ููุณ ุงูุงุณู ูู Kubernetes ุ ูุฃู ูุธู ุงูููุทู ุงูุชุดุบููู (ุงูุชุดุบููู) ุฏุงุฎู ุงููุดุบู.  ูู ูุซุงููุง ุ ูููู ุงูููุทู ุงูุชุดุบููู ุจุณูุทูุง ููุบุงูุฉ: ููู ุจุจุณุงุทุฉ ูุณุชุฏุนู ุฏูุฑ djzager.hello_world_k8s ูู ูู ูุฑุฉ ุชููู ูููุง ุจุฅูุดุงุก ุฃู ุชุนุฏูู ููุฑุฏ HelloWorld ูุฎุตุต.  ููุน ุฐูู ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุงููุณุชูุจู</a> ุณูู ูุตุจุญ ูุฐุง ุงููุตู ุฃูุซุฑ ุฃูููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุณูุถูู ุงูุชุญูู ูู ุงูุตุญุฉ ุฅูู ุชุทุจูู Hello World ูู ุฎูุงู ุฏูุฑ Ansible ุ ูุณูููุฐ ุงูุชุญูู ูู ุญุงูุฉ ุงูููุงุฑุฏ ุงููุฎุตุตุฉ ูู HelloWorld ูู ุฎูุงู ููุทู ุงููุดุบู. </li></ol><br><h3 style=";text-align:right;direction:rtl">  ูุฑุญุจุง Kubernetes ุ ูุชูุจูุฉ Ansible </h3><br><h4 style=";text-align:right;direction:rtl">  ูุงุฐุง ูุญุชุงุฌ </h4><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ansible - ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏููู ุงูุชุซุจูุช</a> ุฅุฐุง ูู ููู Ansible ูุซุจุชูุง ูุฏูู. </li><li style=";text-align:right;direction:rtl">  ุนููู Python ูู OpenShift (ุงุฎุชูุงุฑู).  ููุงู ุญุงุฌุฉ ููุท ูุฅุทูุงู ุงููุญููุฉ.  ุชุนูููุงุช ุงูุชุซุจูุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . </li></ol><br>  ููุจุฏุฃ.  ุฃููุงู ุ ูู ุจุฅูุดุงุก ูููู ุนุธูู ููุฃุฏูุงุฑ ุจุงุณุชุฎุฏุงู ูุฌุฑุฉ โโุบูุฑ ูุฑุฆูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"># I like clear names on projects. # In meta/main.yml I will make role_name: hello-world-k8s $ ansible-galaxy init ansible-role-hello-world-k8s</code> </pre><br>  ูุจุงุดุฑุฉ ุจุนุฏ ุฅูุดุงุก ุฏูุฑ Ansible ุฌุฏูุฏ ุ ุณูููู ุจุชุนููู ุฌููุน ุงูููู ุงูุงูุชุฑุงุถูุฉ ูุชูุซูู ูุนุงููุงุช ุงูุชูููู ุงูุตุงูุญุฉ ูู ููุณ ุงูููุช.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ูุซุงู Hello World ููุณ ูุนูุฏูุง ุจุดูู ุฎุงุต ูู ูุฐุง ุงูุตุฏุฏ.  ูุฐุง ูุง ูุจุฏู ุนููู ููู ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ / main.yml: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">--- # NOTE: meta.name(space) comes from CR metadata when run with Ansible Operator # deploy/crds has an example CR for reference name: "{{ meta.name | default('hello-world') }}" namespace: "{{ meta.namespace | default('hello-world') }}" image: docker.io/ansibleplaybookbundle/hello-world:latest # To uninstall from the cluster # state: absent state: present # The size of the hello-world deployment size: 1</code> </pre><br>  ุจุนุฏ ุชุนููู ุงูููู ุงูุงูุชุฑุงุถูุฉ ุ ูู ุงูุถุฑูุฑู ุชุญุฏูุฏ ุงูุฏูุฑ ุงูุฐู ุณุชููู ุจู.  ุณูุชุนูู ุนูู ุชุทุจูู Hello World ุงูููุงู ุจูุง ููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุญุตูู ุนูู ูุนูููุงุช ุญูู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุชููุฑุฉ ูู ุงููุชูุฉ. </li><li style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ุนุฏุฉ ููุงูุจ ูุชุฃูุฏ ูู ูุฌูุฏูุง ุฃู ุชุบูุจูุง ูู ุงููุชูุฉ. </li></ol><br>  ูุฐูู ุ ูุจุฏู ููู ุงูููุงู / main.yml ูุฏููุง ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">--- - name: "Get information about the cluster" set_fact: api_groups: "{{ lookup('k8s', cluster_info='api_groups') }}" - name: 'Set hello-world objects state={{ state }}' k8s: state: '{{ state }}' definition: "{{ lookup('template', item.name) | from_yaml }}" when: item.api_exists | default(True) loop: - name: deployment.yml.j2 - name: service.yml.j2 - name: route.yml.j2 api_exists: "{{ True if 'route.openshift.io' in api_groups else False }}"</code> </pre><br>  ูุจู ุงูุงูุชูุงู ุฅูู ุงูููุงูุจ ุ ุงูุชุจู ุฅูู ูุฐุง ุงูุณุทุฑ ูู ููู ุงููููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">api_exists: "{{ True if 'route.openshift.io' in api_groups else False }}"</code> </pre><br>  ุจุงุณุชุฎุฏุงู set_fact ุ ูุญุตู ุนูู ูุงุฆูุฉ ุจุฌููุน ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุชููุฑุฉ ูู ุงููุชูุฉ ุญุชู ูุชููู ูู ุฅูุดุงุก ููุงูุจ ุจุดูู ุงูุชูุงุฆู ุจูุงุกู ุนูู ูุง ุฅุฐุง ูุงูุช ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููุฌูุฏุฉ - ูู ูุฐู ุงูุญุงูุฉ ุ route.openshift.io.  ุจุดูู ุงูุชุฑุงุถู ุ ูู ูุธุงู Kubernetes ูู OpenShift ุ ูุง ุชุชููุฑ ุงูุทุฑู ุ ููุญู ูุง ูุญุชุงุฌ ุฅูููุง ุ ูุฐูู ูุญู ูุนูู ููุท ูุน ูุงุฆู Route ุนูุฏูุง ูููู ููุงู route.openshift.io ูู ุงููุชูุฉ. <br><br>  ูุง ูููููุง ููุท ุฅุฏุงุฑุฉ ุงููุงุฆูุงุช ูู ุงููุฌููุนุฉ ุจุดูู ุงูุชูุงุฆู ุงุนุชูุงุฏูุง ุนูู ุชููุฑ ุจุนุถ ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุ ูููู ุฃูุถูุง ุงุณุชุฎุฏุงู ููุงูุจ Jinja2 ูุงุณุชุฎุฏุงู OpenShift DeploymentConfig ูู ูุงูุจ ุงููุดุฑ ุงูุฎุงุต ุจูุง ุฅุฐุง ูุงูุช ุงููุฌููุนุฉ ุชุญุชูู ุนูู apps.openshift.io API.  ุฅููู ูุง ูุจุฏู ุนููู ููู ุงูููุงูุจ / publish.yml.j2: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">--- {% if 'apps.openshift.io' in api_groups %} apiVersion: apps.openshift.io/v1 kind: DeploymentConfig {% else %} apiVersion: apps/v1 kind: Deployment {% endif %} metadata: name: {{ name }} namespace: {{ namespace }} labels: app: {{ name }} service: {{ name }} spec: replicas: {{ size }} {% if 'apps.openshift.io' in api_groups %} selector: app: {{ name }} service: {{ name }} {% else %} selector: matchLabels: app: {{ name }} service: {{ name }} {% endif %} template: metadata: labels: app: {{ name }} service: {{ name }} spec: containers: - image: {{ image }} name: hello-world ports: - containerPort: 8080 protocol: TCP</code> </pre><br>  ููุงูุจ ุงููููุงุช / service.yml.j2: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">--- apiVersion: v1 kind: Service metadata: name: {{ name }} namespace: {{ namespace }} labels: app: {{ name }} service: {{ name }} spec: ports: - name: web port: 8080 protocol: TCP targetPort: 8080 selector: app: {{ name }} service: {{ name }}</code> </pre><br>  ูุฃุฎูุฑูุง ุ ููู ุงูููุงูุจ / route.yml.j2: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">--- apiVersion: route.openshift.io/v1 kind: Route metadata: name: {{ name }} namespace: {{ namespace }} labels: app: {{ name }} service: {{ name }} spec: port: targetPort: web to: kind: Service name: {{ name }}</code> </pre><br>  ุชู ุญุฐู ููู ุงูุชุนุฑูู / main.yml ุ ููู ูููู ุงูุนุซูุฑ ุนููู <a href="">ููุง</a> . <br><br>  ูุชูุฌุฉ ูุฐูู ุ ูุฏููุง ุฏูุฑ Ansible ูู ุฅุฏุงุฑุฉ ุชุทุจูู Hello World ูู Kubernetes ุ ููููููุง ุงุณุชุฎุฏุงู ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุชููุฑุฉ ูู ุงููุฌููุนุฉ.  ุจูุนูู ุขุฎุฑ ุ ุชุนูู ุงููุญุฏุฉ ุงูููุทูุฉ k8s ูุงูุนููู ุงูุฏููุงูููู ุนูู ุชุจุณูุท ุงูุนูู ูุน ุงููุงุฆูุงุช ูู Kubernetes.  ูุฃูู ุฃูู ูุน ูุซุงู ูุฐุง ุงูุฏูุฑ ุ ุชูููุง ูู ุฅุธูุงุฑ ุฅููุงูุงุช Ansible ุนูุฏ ุงูุนูู ูุน Kubernetes. <br><br><h3 style=";text-align:right;direction:rtl">  ูุฑุญุจุง ุบุงูุงูุณู ุ ูุชูุจูุฉ Kubernetes </h3><br>  ูุญุชูู Ansible Galaxy ุนูู ุงููุซูุฑ ูู ุงูุฃุฏูุงุฑ ูุฅุนุฏุงุฏ ุงูุฎูุงุฏู ูุฅุฏุงุฑุฉ ุงูุชุทุจููุงุช ุ ูููู ูุง ููุฌุฏ ุงููุซูุฑ ูู ุงูุฃุฏูุงุฑ ูุฅุฏุงุฑุฉ ุชุทุจููุงุช Kubernetes ุ ูุฐูู ุณููุฏู ูุณุงููุฉ ุตุบูุฑุฉ. <br><br>  ุจุนุฏ ุฃู ูุดุฑูุง ุฏูุฑูุง ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูุซุจ</a> ุ ูู ูุง ุชุจูู ูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุจุชุณุฌูู ุงูุฏุฎูู ุฅูู Ansible Galaxy ูุฅุชุงุญุฉ ุงููุตูู ุฅูู ูุณุชูุฏุนุงุชูุง ุนูู GitHub. </li><li style=";text-align:right;direction:rtl">  ุงุณุชูุฑุงุฏ ุฏูุฑูุง. </li></ol><br>  ูุฐุง ูู ุดูุก ุ ูุงูุขู ุฃุตุจุญ ุฏูุฑ hello_world_k8s ูุชุงุญูุง ููุนุงูุฉ ูู Ansible Galaxy ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><br><h3 style=";text-align:right;direction:rtl">  ูุฑุญุจุง ุงููุดุบู Ansible ุ ููุงุก ุบุงูุงูุณู </h3><br>  ุฅุฐุง ููุช ุจุฏุฑุงุณุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดุฑูุน Hello World</a> ุจุนูุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูู GitHub</a> ุ ูุณุชูุงุญุธ ุฃููุง ูููุง ุจุฅุถุงูุฉ ุงูุนุฏูุฏ ูู ุงูุฃุดูุงุก ุงูุถุฑูุฑูุฉ ูุฅูุดุงุก ูุดุบู Ansible ุ ููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="">ููู Watches</a> ุงูุฐู ูุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงุฑุฏ</a> Kubernetes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฎุตุตุฉ</a> ูุฃุฏูุงุฑ ุฃู ูุชุจ Ansible. </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Dockerfile</a> ูุจูุงุก ุงููุดุบู ูุฏููุง. </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดุฑ ุงูุฏููู</a> ูุน ูุงุฆูุงุช Kubernetes ุงููุงุฒูุฉ ูุชุดุบูู ุงููุดุบู ูุฏููุง. </li></ol><br>  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ูุนุฑูุฉ ุงููุฒูุฏ ุญูู ููููุฉ ุฅูุดุงุก ุนุจุงุฑุงุช Ansible ุงูุฎุงุตุฉ ุจู ุ ูุงุณุชุฎุฏู <a href="">ุฏููู ุงููุณุชุฎุฏู</a> .  ูููู ุจูุง ุฃููุง ูุนุฏูุง ุจุจูุงุก ูุดุบู Ansible ุจุงุณุชุฎุฏุงู ุงูุฏูุฑ ุงูููุดูุฑ ูู Ansible Galaxy ุ ููู ูุง ูุญุชุงุฌู <b>ุญููุง</b> ูู Dockerfile: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">FROM quay.io/operator-framework/ansible-operator RUN ansible-galaxy install djzager.hello_world_k8s RUN echo $'--- \n\ - version: v1alpha1\n\ group: examples.djzager.io\n\ kind: HelloWorld\n\ role: /opt/ansible/roles/djzager.hello_world_k8s' &gt; ${HOME}/watches.yaml</code> </pre><br>  ุงูุขู ูุฌูุน ุงููุดุบู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">$ docker build -t hello-world-operator -f Dockerfile . Sending build context to Docker daemon 157.2 kB Step 1/3 : FROM quay.io/operator-framework/ansible-operator latest: Pulling from operator-framework/ansible-operator Digest: sha256:1156066a05fb1e1dd5d4286085518e5ce15acabfff10a8145eef8da088475db3 Status: Downloaded newer image for quay.io/water-hole/ansible-operator:latest ---&gt; 39cc1d19649d Step 2/3 : RUN ansible-galaxy install djzager.hello_world_k8s ---&gt; Running in 83ba8c21f233 - downloading role 'hello_world_k8s', owned by djzager - downloading role from https://github.com/djzager/ansible-role-hello-world-k8s/archive/master.tar.gz - extracting djzager.hello_world_k8s to /opt/ansible/roles/djzager.hello_world_k8s - djzager.hello_world_k8s (master) was installed successfully Removing intermediate container 83ba8c21f233 ---&gt; 2f303b45576c Step 3/3 : RUN echo $'--- \n- version: v1alpha1\n group: examples.djzager.io\n kind: HelloWorld\n role: /opt/ansible/roles/djzager.hello_world_k8s' &gt; ${HOME}/watches.yaml ---&gt; Running in cced495a9cb4 Removing intermediate container cced495a9cb4 ---&gt; 5827bc3c1ca3 Successfully built 5827bc3c1ca3 Successfully tagged hello-world-operator:latest</code> </pre><br>  ูู ุงููุงุถุญ ุฃูู <b>ูุงุณุชุฎุฏุงู</b> ูุฐุง ุงููุดุบู ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ูุญุชููุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏููู ุงููุดุฑ</a> ูู ูุดุฑูุนูุง ูุฅูุดุงุก ุญุณุงุจ ุฎุฏูุฉ ูุชุฌููุฏ ุงูุฃุฏูุงุฑ ูุงูุฃุฏูุงุฑ ูุชุนุฑูู ุงูููุงุฑุฏ ุงููุฎุตุต ููุฐูู ูุดุฑ ุงููุดุบู ููุณู.  ูุจุนุฏ ูุดุฑ ุงููุดุบู ุ ุณุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ููุฑุฏ ูุฎุตุต ููุญุตูู ุนูู ูุซูู ูุชุทุจูู Hello World: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: examples.djzager.io/v1alpha1 kind: HelloWorld metadata: name: example-helloworld namespace: default spec: size: 3</code> </pre><br><h3 style=";text-align:right;direction:rtl">  ูุทุงูุงุช ุงููุดุบู: ูุณุงุญุฉ ุงูุงุณู ูุงููุชูุฉ </h3><br>  ุฃุนูู ููููุงู ุ ุงูุชุฑุญูุง ุจุงููุนู ุงุณุชูุดุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏููู</a> ุงููุดุฑ ุงูุฎุงุต ุจูุง ูุงูุจุญุซ ุนู ูุงุฆูุงุช Kubernetes ุงููุงุฒูุฉ ูุชุดุบูู ุงููุดุบู.  ููุงู ุซูุงุซุฉ ุฃุดูุงุก ุชุญุฏ ูู ูุทุงู ุงููุดุบู ุนูุฏ ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงููุฎุตุตุฉ ูุน ูุณุงุญุฉ ุงูุงุณู ุงูุชู ูุชู ูุดุฑ ุงููุดุบู ููุณู ุ ููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชุบูุฑ ุจูุฆุฉ WATCH_NAMESPACE ูู ููู <a href="">ุงููุดุบู.</a> yaml ุงูุฐู ูุฎุจุฑ ุงููุดุบู ุฃูู ูุจุญุซ ุนู ุงูููุงุฑุฏ ุงููุฎุตุตุฉ </li><li style=";text-align:right;direction:rtl">  <a href="">ุฏูุฑ</a> </li><li style=";text-align:right;direction:rtl">  <a href="">ูุนุจ ุฏูุฑ</a> </li></ol><br>  ูุฐุง ุงูููุฏ ูููุฏ ุจุงูุชุฃููุฏ ูู ุชุทููุฑ ุงููุดุบููู.  ูููู ุฅุฐุง ููุง ูุฑุบุจ ูู ุฃู ูููู ุชุทุจูููุง ูู ูุชูุงูู ุฌููุน ูุณุชุฎุฏูู ุงููุฌููุนุฉ ุ ูุณูุญุชุงุฌ ุฅูู ูุณุงุนุฏุฉ ุงููุณุคูู.  ุฃูุฏ ุงูููุงู ุจูุง ููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ClusterRole ุจุฏูุงู ูู ุงูุฏูุฑ. </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุนุจุงุฑุฉ ServiceAccount ูู ูุณุงุญุฉ ุงูุงุณู ุญูุซ ุณูุชู ูุดุฑ ุงูุจูุงู. </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ClusterRoleBinding ุงูุชู ุณูุชู ุฑุจุท ServiceAccount ูู ูุณุงุญุฉ ุงุณู ูุนููุฉ ุจู ClusterRole. </li><li style=";text-align:right;direction:rtl">  ูู ุจุชูุณูุน ุงูุนุจุงุฑุฉ ุจุงุณุชุฎุฏุงู ูุชุบูุฑ ุจูุฆุฉ WATCH_NAMESPACE ุบูุฑ ูุนุฑูู (ุฃู ุ ""). </li></ol><br>  ุฅุฐุง ููุช ุจูู ูุฐู ุงูุฃุดูุงุก ุ ูุณูุชููู ุจุงูู ูุณุชุฎุฏูู ุงููุฌููุนุฉ ูู ูุดุฑ ูุซููุงุช ุชุทุจูู Hello World.  ุฅุฐุง ููุช ููุชููุง ุจูุฐุง ุงูููุถูุน ุ ููุตูู ุจุฏุฑุงุณุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏูุฑุฉ ุญูุงุฉ ุงููุดุบู</a> (ุฌุฒุก ูู ุฅุทุงุฑ ุนูู ุงููุดุบู). <br><br><h3 style=";text-align:right;direction:rtl">  ุฑุญูุฉ ุณุชุงุฑ </h3><br>  ููุฏ ุฃูุถุญูุง ููููุฉ ุฅูุดุงุก ุฏูุฑ Ansible ููุชุญูู ูู ุชุทุจูู ูุง ูู Kubernetes ุ ููุดุฑ ูุฐุง ุงูุฏูุฑ ูู Ansible Galaxy ูุงุณุชุฎุฏุงูู ูู ูุดุบู Ansible.  ูุชููู ูู ุงูุงู <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุณูู ุชุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุฏุฉ k8s Ansible</a> . </li><li style=";text-align:right;direction:rtl">  ุงุจุฏุฃ ูู ูุดุฑ ุฃุฏูุงุฑู ูุฅุฏุงุฑุฉ ุชุทุจููุงุช Kubernetes ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ansible Galaxy</a> . </li><li style=";text-align:right;direction:rtl">  ุงูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจูุดุบู SDK</a> ูุงุดุชุฑู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดุฑุฉ ุงููุดุบู ุงูุฅุฎุจุงุฑูุฉ</a> . </li></ol><br>  ุชู ุชุตููู ุชุทุจูู Hello World ุจุดูู ุจุณูุท ููุบุงูุฉ ุ ูููู ููุงู ุฃุดูุงุก ูููู ุฃู ุชุณุงุนุฏ ูู ุฌุนูู ุฃูุซุฑ ููุซูููุฉ ุ ูุฅููู ุจุนุถ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุดุบู SDK</a> - ูู ููู ุจุฐูู ุนูุฏุงู ูู ูุซุงููุง ููุชุฃููุฏ ุนูู ูุฏู ุณูููุฉ ุงูุชุจุฏูู ูู ุฏูุฑ Ansible ุฅูู ุงููุดุบู.  ููู ูู ุงูุฃูุถู ุงูุงุณุชูุฑุงุฑ ูู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฏูุฑ ูุน SDK (ุฃู ุ ูุดุบู sdk ุงูุฌุฏูุฏ) ุ ุนูุงูุฉ ุนูู ุฐูู ุ ูุฏ ุชุญุชุงุฌ ุฅูู ุฐูู ูู ุงูุฎุทูุงุช ุงูุชุงููุฉ. </li><li style=";text-align:right;direction:rtl">  ุงูุชุญูู ูู ุงูุตุญุฉ - ูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูุฏููุง ุ ูููู ูููุณุชุฎุฏู ุฅูุดุงุก ุงูุณุฌู ุงูุชุฌุงุฑู ุจุงูุญุฌู: abc ุ ููุง ุณูุคุฏู ุญุชูุงู ุฅูู ุญุฏูุซ ุฎุทุฃ ูู ูุฑุญูุฉ ุงููุดุฑ.  ูุฐูู ูู ุงูุฃูุถู ุฃู ููุงุญุธ ุงูุฃุฎุทุงุก ูู ูุฑุญูุฉ ุงูููุงุตูุงุช ุ ูููุณ ุจุนุฏ ุจุฏุก ุงูุนูู. </li><li style=";text-align:right;direction:rtl">  ุฏูุฑุฉ ุงูุญูุงุฉ - ูู ุฃูุซูุฉ ุฃูุซุฑ ุชุนููุฏูุง ุ ูุฏ ูููู ููุณ ุชุญุฏูุซ ุงูุฅุตุฏุงุฑ.  ูู ุณููุงุฑูููุงุช ูุซู ุงูุณููุงุฑูู ุงูุฎุงุต ุจูุง ุ ุญูุซ ููุฌุฏ ุฅุตุฏุงุฑ ูุงุญุฏ ููุท ูู ุชุทุจูู Hello World ุ ูููููุง ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงูุช ุตูุฑุฉ ุญุงููุฉ ุงูุนูู ูุฏููุฉ ุนู ุทุฑูู ููุงุฑูุชูุง ุจุงูุตูุฑ ุงููุชุงุญุฉ ูู ุณุฌู ุงูุญุงููุฉ ุงูููุงุจู ูุชุญุฏูุซ ุงูุญุงูุงุช ููุฏ ุงูุชุดุบูู ุฅุฐุง ูุฒู ุงูุฃูุฑ. </li><li style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑ - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌุฒูุก</a> ูููุฏ ููุบุงูุฉ ุนูุฏ ุชุทููุฑ ูุงุฎุชุจุงุฑ ุงูุฃุฏูุงุฑ Ansible. </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดุบู ุฏูุฑุฉ ุญูุงุฉ ุงููุดุบู</a> ุนุจุงุฑุฉ ุนู ูุฌููุนุฉ ุฃุฏูุงุช ูุฅุฏุงุฑุฉ ุงููุดุบููู.  ุงูุชูุงูู ูุน ุฐูู ุณูุณุงุนุฏ ุนูู ุชุซุจูุช ูุชุญุฏูุซ ุงููุดุบู ูุฏููุง. </li><li style=";text-align:right;direction:rtl">  ุงูุญุงูุฉ - ูููููุง ุชูุดูุท ูุตุฏุฑ ุงูุญุงูุฉ ุงููุฑุนู ูู Hello World CRD ูุงุณุชุฎุฏุงู ุงููุญุฏุฉ ุงูููุทูุฉ k8s_status ุ ุงูุชู ุชุนุฏ ุฌุฒุกูุง ูู ุตูุฑุฉ Ansible Operator ุ ูุชุถููู ูุนูููุงุช ุงูุญุงูุฉ ูู ุงูููุฑุฏ ุงููุฎุตุต. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar440188/">https://habr.com/ru/post/ar440188/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar440176/index.html">ุณุจุนุฉ ุงุชุฌุงูุงุช ููุฃูู ุงูุณูุจุฑุงูู ูุนุงู 2019</a></li>
<li><a href="../ar440178/index.html">ุฅุฒุงูุฉ ุงูุนูุฏูุฉ ูู ุจูุซูู</a></li>
<li><a href="../ar440180/index.html">Q # Programming Contest: Microsoft Q # Coding Contest</a></li>
<li><a href="../ar440182/index.html">IBM Watson Studio - ูุธุงู ุชุทููุฑ ุชุทุจูู AI ูุงุฆู ุนูู ุงูุณุญุงุจุฉ</a></li>
<li><a href="../ar440184/index.html">ููุงุฐุง ูุณุชุฎุฏู GraphQL ูู 8base</a></li>
<li><a href="../ar440190/index.html">ุงูุชุนุฑูู ุนูู ุฃุจุณุท ุดุจูุฉ ุนุตุจูุฉ ูุชูููุฐูุง ุฎุทูุฉ ุจุฎุทูุฉ</a></li>
<li><a href="../ar440192/index.html">ููู ูููููุง ุฃู ูุฌุนู ุฑุงุฏูู ุงูุดุฑูุงุช ูุฏููุง</a></li>
<li><a href="../ar440196/index.html">ุฃุณุฑุงุฑ ุงูุนูู ูุงูุฑูุงุถูุงุช</a></li>
<li><a href="../ar440198/index.html">ุทุงุจุนุงุช DWS ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุฌุฏูุฏุฉ ูููุญุชุฑููู</a></li>
<li><a href="../ar440200/index.html">ุฏุนูุง ูุชุญุฏุซ ุนู ุงูุชุณุฌูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>