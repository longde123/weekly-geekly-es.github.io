<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëáüèΩ üëàüèø üé≥ Maison intelligente: une nouvelle dimension de confort et la recherche de l'excellence. Premi√®re partie ü§æüèº ‚û°Ô∏è üìÆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article est une suite logique du sujet pr√©c√©demment soulev√© des syst√®mes de surveillance d'une maison de campagne. Pour quelqu'un qui n'a pas lu l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Maison intelligente: une nouvelle dimension de confort et la recherche de l'excellence. Premi√®re partie</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/418423/">  Cet article est une suite logique du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sujet</a> pr√©c√©demment soulev√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des syst√®mes de surveillance d'une</a> maison de campagne.  Pour quelqu'un qui n'a pas lu l'article pr√©c√©dent, certaines r√©flexions de cet article peuvent sembler √©tranges.  Permettez-moi de vous rappeler: d√©j√† en train de concevoir et de choisir les composants de base, il est devenu clair que la surveillance du travail des syst√®mes d'une maison de campagne ne s'arr√™tera pas et que vous devez faire non seulement de la surveillance, mais la fondation d'une maison intelligente.  Voyons maintenant comment les √©v√©nements se sont d√©velopp√©s.  Comme auparavant, je ne donnerai pas la liste compl√®te des programmes ou des diagrammes d√©taill√©s.  Ma t√¢che est de montrer le cheminement de la pens√©e et √©ventuellement d'engager une discussion. <br><br><img src="https://habrastorage.org/webt/hy/yv/pf/hyyvpfrqg1tx-jp1b5zpbtyzag8.jpeg"><br><a name="habracut"></a><br><h3>  Que voulez-vous d'une maison intelligente? </h3><br>  Vous devez d'abord comprendre, mais ce qui devrait √™tre intelligent dans une maison intelligente.  Il ne s'agit pas de d√©finitions canoniques, mais de ce qui vous vient √† l'esprit lorsque vous avez entre vos mains un ensemble d'outils aussi puissant que celui d√©crit dans l'article pr√©c√©dent: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">openHAB</a> + Arduino / nFR24L01 +.  J'ai obtenu la liste suivante de ¬´liste de souhaits¬ª principale: <br><br><ol><li> Apprenez √† contr√¥ler la puissance de la chaudi√®re √©lectrique en fonction de la temp√©rature dans la maison et dans la rue, et encore mieux, en tenant compte des pr√©visions m√©t√©orologiques.  Auparavant, la puissance de la chaudi√®re n'√©tait r√©gl√©e que par des interrupteurs m√©caniques sur la chaudi√®re elle-m√™me et le fonctionnement de la chaudi√®re n'√©tait pas optimal √† la fois en termes de charge sur le r√©seau et en termes d'√©conomies d'√©nergie dues au soleil ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">voir ici</a> ). </li><li>  Pour exclure les manipulations manuelles des pompes marche / arr√™t (alimentation en eau, recirculation ECS), s√®che-serviettes chauffants, thermostats de radiateur, etc.  √† l'arriv√©e / au d√©part.  Eh bien et, bien s√ªr, voyez l'√©tat de ces appareils. </li><li>  Apprenez √† allumer et √©teindre la lumi√®re, la fontaine et d'autres appareils, en fonction de l'heure de la journ√©e et de l'ann√©e, de la pr√©sence des propri√©taires dans la maison et de certains autres facteurs.  Dans une formulation plus g√©n√©rale - pour algorithmiser et automatiser le contr√¥le des appareils dont le contr√¥le est routinier, pour exclure le clic monotone des commutateurs traditionnels, en particulier dans l'obscurit√©.  Tout doit s'allumer et s'√©teindre automatiquement. </li><li>  Utilisez des algorithmes qui √©conomisent de l'√©nergie.  Par exemple, le premier √©tage de la chaudi√®re allum√© depuis longtemps permettra de recevoir plus d'√©nergie du Soleil que 2-3 √©tages qui sont p√©riodiquement allum√©s / √©teints par la temp√©rature de la conduite de retour.  C'est-√†-dire  Vous pouvez r√©aliser des √©conomies d'√©nergie gr√¢ce √† une charge plus r√©fl√©chie. </li><li>  Le syst√®me de surveillance et de contr√¥le qui √©tait n√© √† cette √©poque √©tait suffisant pour mettre en ≈ìuvre seulement une partie de ces exigences.  Par exemple, il est d√©j√† possible de contr√¥ler la chaudi√®re par √©tapes, mais on ne sait pas encore par quels algorithmes, en tenant compte des restrictions sur la consommation d'√©lectricit√© et en tenant compte de l'√©quilibre des priorit√©s pour chauffer une maison et pr√©parer de l'eau chaude.  De plus, la premi√®re version du syst√®me ne comprenait pas tous les actionneurs n√©cessaires, par exemple, il n'y avait pas de dispositifs de commande de pompe, toutes les lumi√®res de la maison n'√©taient pas automatis√©es.  Il y avait des demandes sp√©cifiques suppl√©mentaires, par exemple, "pour mettre la photo en surbrillance".  De plus, cette demande elle-m√™me a √©t√© transform√©e en "activer et d√©sactiver automatiquement le r√©tro-√©clairage de l'image en fonction de l'heure de la journ√©e, de l'√©clairage et d'autres facteurs". </li></ol><br>  Total: il y a une fondation extensible, il y a des objectifs.  Nous analysons les donn√©es manquantes.  Premi√®rement, il n'y a pas assez de param√®tres √©lectriques, du moins les suivants: la consommation actuelle de la maison, la puissance re√ßue du Soleil.  Deuxi√®mement, les pr√©visions m√©t√©orologiques ne sont pas suffisantes.  De plus, il n'y a pas suffisamment d'actionneurs compacts.  Je note que les contr√¥leurs terminaux avec actionneurs (relais) d√©crits dans l'article pr√©c√©dent √©taient tous multifonctionnels et peu compacts.  Et en plus fait maison.  Certains appareils, par exemple, font des t√™tes thermostatiques sur les radiateurs de chauffage eux-m√™mes, cela n'a aucun sens, vous devez les acheter. <br><br><h3>  Recevoir les param√®tres √©lectriques </h3><br>  Nous commen√ßons donc par les param√®tres √©lectriques.  La premi√®re chose qui me vient √† l'esprit est de mettre des capteurs de courant bas√©s sur l'effet Hall, un capteur 220V est d√©j√† l√†, il reste √† mesurer la tension sur les panneaux et les batteries.  Tout peut √™tre fait sur des capteurs s√©par√©s.  Cependant, toutes ces mesures sont d√©j√† effectu√©es par une centrale √©lectrique bas√©e sur l'onduleur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Xantrex</a> et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">contr√¥leur MPPT</a> .  Comme nous le rappelons, ces appareils sont combin√©s dans un bus Xanbus propri√©taire, qui est un transport pour l'interaction des appareils via le protocole Modbus.  Et pour elle, il existe une passerelle TCP-Modbus sp√©ciale <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conext ComBox</a> , qui vous permet de lire et de d√©finir les param√®tres syst√®me sur un r√©seau local.  C'est exactement ce dont vous avez besoin!  √Ä son tour, pour openHAB, il existe une liaison TCP-Modbus sp√©ciale, qui reste √† connecter et √† configurer.  Ainsi, la passerelle a √©t√© achet√©e, la documentation a √©t√© √©tudi√©e, la liaison √† openHAB est connect√©e et configur√©e, les √©l√©ments sont d√©finis, les r√®gles de base sont √©crites.  En cons√©quence, les param√®tres suivants ont commenc√© √† arriver √† la maison intelligente: tension aux entr√©es du r√©seau et du g√©n√©rateur, tension √† la sortie de l'onduleur, courant de charge, puissance de charge en W et VA, tension sur les panneaux solaires et les batteries, courants √† l'entr√©e et √† la sortie du contr√¥leur MPPT, courant la charge de la batterie, la puissance re√ßue par l'√©nergie solaire fournie, la quantit√© d'√©nergie solaire collect√©e donn√©e au syst√®me, restitu√©e au r√©seau.  M√™me la temp√©rature des batteries est lue, une fois que cela a permis d'√©viter une surchauffe. <br><br><div class="spoiler">  <b class="spoiler_title">Participation au d√©veloppement d'openHAB</b> <div class="spoiler_text">  <i>Lors du d√©bogage, des erreurs ont √©t√© d√©tect√©es dans le fonctionnement de la passerelle TCP-Modbus.</i>  <i>√Ä travers le forum, openHAB est all√© au d√©veloppeur, entre autres testeurs.</i>  <i>En cons√©quence, la liaison a √©t√© finalis√©e en plusieurs it√©rations et fonctionne depuis plus de deux ans.</i> <br></div></div><br><img src="https://habrastorage.org/webt/n-/ws/ck/n-wsckzgur3rx9wm3ay_efn08fu.png"><br>  <i>Passerelle TCP-Modbus pour lire les param√®tres des appareils Shneider Electric (Xantrex) connect√©s au r√©seau Xanbus.</i> <br><br><h3>  Recevoir les pr√©visions m√©t√©o </h3><br>  Ensuite.  Vous pouvez obtenir des pr√©visions m√©t√©orologiques de diff√©rentes mani√®res, par exemple, vous inscrire √† un fournisseur. <img src="https://habrastorage.org/webt/kz/_n/af/kz_naftosiekgjub5ca_bxw2m1k.jpeg" align="left">  Cependant, il existe un moyen plus √©vident: de prendre les donn√©es de pr√©vision directement √† partir du site m√©t√©o, par exemple, yandex.ru/pogoda.  Pour ce faire, j'ai √©crit un utilitaire en C qui, √† l'aide de la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">curl</a> , enregistre la page HTML dans un fichier.  Dans une requ√™te HTTP, l'utilitaire envoie au site les coordonn√©es de la maison.  Le fichier r√©sultant est analys√© et extrait de celui-ci avec des dizaines de param√®tres: temp√©rature, heures de lever et de coucher du soleil, pr√©visions de temp√©rature de nuit, direction et force du vent.  Les algorithmes de la maison intelligente utilisent les pr√©visions de la temp√©rature nocturne et du coucher du soleil.  Les donn√©es restantes sont simplement affich√©es √† titre informatif dans l'interface.  Dans openHAB, les donn√©es sont transf√©r√©es par le m√™me utilitaire via l'API REST pratique prise en charge par openHAB.  √Ä son tour, l'utilitaire C lui-m√™me est lanc√© √† l'aide des outils habituels d'openHAB toutes les 4 heures.  Ainsi, tout est assez simple, et la principale difficult√© est le d√©veloppement d'un algorithme pour analyser une page HTML enregistr√©e.  Mais mon article ne traite pas de cela. <br><br>  <i>Dans la figure - l'√©cran d'une maison intelligente avec des donn√©es m√©t√©orologiques obtenues √† partir des coordonn√©es de la maison de yandex.ru/pogoda</i> <br><br><h3>  Automatisez la gestion de routine des appareils </h3><br><img src="https://habrastorage.org/webt/dh/bl/iz/dhblizwcjzod6rwvnmokkrz-p3e.png" align="right">  Tout en travaillant √† obtenir des pr√©visions m√©t√©orologiques, un ami m'a pr√©sent√© des relais contr√¥l√©s par WiFi et une rallonge √©lectrique compl√®te avec trois relais et trois paires de prises <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">USR IOT</a> .  √Ä ce moment, j'avais d√©j√† un peu ma√Ætris√© openHAB et avec un peu d'enthousiasme, j'ai commenc√© √† d√©velopper de nouveaux appareils et √† les int√©grer dans la maison intelligente.  Le relais a √©t√© d√©fini pour contr√¥ler la pompe de forage et la rallonge √©tait situ√©e dans la grange et utilis√©e pour contr√¥ler l'√©clairage de l'√©tang, la fontaine et la lumi√®re dans la grange.  Pour les appareils USR, IOT a trouv√© de la documentation sur le r√©seau d√©crivant le protocole de contr√¥le, mais j'ai quand m√™me d√ª √©couter le trafic r√©seau √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wireshark</a> .  En cons√©quence, j'ai appris √† g√©n√©rer des commandes de contr√¥le et √† analyser les r√©ponses des appareils.  Pour contr√¥ler le relais, j'ai √©crit un programme en C qui est appel√© par une r√®gle d'openHAB, et j'ai connect√© la rallonge directement en utilisant la liaison TCP openHAB.  <i>Sur la photo de droite, une rallonge USRIOT avec prises contr√¥l√©es par WiFi.</i> <br><br>  Reste √† √©crire les r√®gles: <br><br><ol><li>  Allumez la pompe de forage.  Lors du d√©sarmement de la maison, allumez la pompe; lors de l'armement, √©teignez la pompe.  C'est simple, car l'√©tat de protection du syst√®me a appris √† lire depuis l'alarme au stade de la "surveillance".  Et ce param√®tre est en outre utilis√© dans de nombreuses r√®gles.  √Ä cette fin, la d√©tection de pr√©sence dans la maison est souvent utilis√©e, par exemple, via des balises Bluetooth, en enregistrant un appareil mobile sur un r√©seau local, etc.  Cependant, ces m√©thodes ne sont pas tr√®s stables et ne sont pas souhaitables pour une utilisation dans des r√®gles s√©rieuses. </li><li>  Allumez la fontaine dans l'√©tang.  J'avais l'habitude d'utiliser des minuteries √©lectroniques, mais elles s'√©teignaient r√©guli√®rement et ne connaissaient pas la pr√©sence du propri√©taire dans la maison.  Une "nouvelle √®re" d'automatisation s'est ouverte.  La fontaine s'allume si la maison est d√©sarm√©e, si la temp√©rature dans la rue (nous avons appris √† mesurer au stade ¬´surveillance¬ª) est d'au moins 5 degr√©s (la fontaine n'est pas n√©cessaire en hiver) et l'heure est 08h00.  La fontaine s'√©teint √† 23h00, toujours.  C'est-√†-dire  la r√®gle est un peu "asym√©trique" et c'est tr√®s pratique. </li><li>  R√©tro√©clairage de l'√©tang allum√©.  Je dois dire que le r√©tro-√©clairage lui-m√™me est apparu en raison du d√©sir de l'allumer automatiquement.  Le r√©tro√©clairage s'allume lorsque la maison est d√©sarm√©e, lorsque l'√©clairage de la rue est inf√©rieur au param√®tre sp√©cifi√© dans les param√®tres et lors du mouvement sur le porche de la maison principale ou de la maison d'h√¥tes.  C'est-√†-dire  ne s'allume pas avant que le propri√©taire veuille la voir.  Tous les param√®tres de contr√¥le sont apparus au stade de ¬´surveillance¬ª.  D√©sactive √† 01h00, toujours. </li><li>  Allumer la lumi√®re dans la grange.  C'est la r√®gle la plus dr√¥le.  La lumi√®re s'allume si la maison est d√©sarm√©e, si le niveau d'√©clairage est inf√©rieur √† un seuil pr√©d√©termin√©, si la temp√©rature de l'air est inf√©rieure √† 15 degr√©s et si un mouvement sur le porche est d√©tect√©.  Il s'√©teint apr√®s 5 minutes, avec des mouvements r√©p√©t√©s sur le porche, le temps de combustion est prolong√© de 5 minutes.  Tout n'est impl√©ment√© que par les outils openHAB habituels.  La question est: pourquoi la temp√©rature est-elle utilis√©e dans la r√®gle?  Tr√®s simple: le bois de chauffage pour la chemin√©e est stock√© dans la grange.  Si le soir par temps frais je sortais sur le porche, alors probablement derri√®re le bois de chauffage :) et il vaut mieux que la lumi√®re br√ªle dans la grange. </li></ol><br>  Il reste √† noter que dans toutes les r√®gles, les appareils s'allument et s'√©teignent automatiquement.  Mais en m√™me temps, ils peuvent √™tre contr√¥l√©s manuellement via l'interface openHAB.  Les appareils USR IOT d√©crits ont √©galement des boutons de contr√¥le physiques sur le bo√Ætier, il est donc important d'apprendre √† lire l'√©tat des appareils.  Une fa√ßon de mettre √† jour l'√©tat de tous les actionneurs, ainsi que des capteurs, consiste √† les interroger depuis openHAB par minuterie, par exemple, toutes les 15 minutes.  Pour les appareils faits maison, en outre, il est obligatoire d'envoyer un √©tat lorsque l'√©tat des boutons / interrupteurs de commande change. <br><br>  Revenons en arri√®re d'une √©tape.  La t√¢che initiale √©tait d'apprendre √† contr√¥ler le chauffage de mani√®re flexible afin que la maison soit chaude, qu'il y ait toujours de l'eau chaude et que vous n'ayez pas √† vous rendre r√©guli√®rement √† la chaufferie pour r√©gler le fonctionnement de la chaudi√®re.  Et dans ce cas, pour minimiser la probabilit√© que la chaudi√®re s'arr√™te suite √† l'actionnement du relais de limite de charge, qui est install√© dans le panneau et limite la consommation de courant en d√©connectant les charges non prioritaires, qui incluent √† la fois la chaudi√®re et la chaudi√®re.  Dans le m√™me temps, au premier √©tage, le chauffage de la chaudi√®re est √©teint pendant 5 minutes, et si cela n'aide pas, la chaudi√®re est √©galement √©teinte pendant 10 minutes (deuxi√®me √©tage).  Permettez-moi de vous rappeler que la consommation √† domicile est limit√©e et que tout est √©lectrique dans la maison, il n'y a pas de gaz, il faut donc surveiller la consommation.  Et ce serait bien d'utiliser l'√©nergie du Soleil au maximum.  Voici quelques r√®gles r√©sultantes. <br><br><h4>  Le premier groupe.  Maison d√©sarm√©e: </h4><br><ol><li>  Toutes les 20 minutes, v√©rifiez la temp√©rature dans la maison et, si elle est inf√©rieure √† une valeur pr√©d√©termin√©e (22 degr√©s), ajoutez un niveau de puissance de la chaudi√®re.  Mais faites-le si le seuil du courant de charge n'est pas d√©pass√©, par exemple √† 25,6 A. Si la temp√©rature est sup√©rieure √† la valeur d√©finie, √©teignez un √©tage de la chaudi√®re toutes les 20 minutes, ne laissant que le premier.  En cons√©quence, nous obtenons une "acc√©l√©ration" en douceur du syst√®me de chauffage et nous nous prot√©geons de son arr√™t complet en raison d'une surcharge.  La logique g√©n√©rale est la suivante: si de puissants consommateurs d'√©lectricit√© travaillent dans la maison, par exemple une cuisini√®re, une bouilloire, un four √† micro-ondes ou m√™me un aspirateur, alors l'√©nergie qu'ils consomment va finalement dans la chaleur restante de la maison et pourquoi ne pas poursuivre la chaudi√®re pour qu'elle s'allume √† pleine capacit√©.  Il est pr√©f√©rable de laisser la chaudi√®re fonctionner dans la premi√®re √©tape, mais de ne pas l'√©teindre pendant 10 minutes en raison du relais de limitation de charge. </li><li>  Si la temp√©rature de l'eau chaude dans la chaudi√®re est inf√©rieure √† 35 degr√©s, allumez le premier √©tage de la chaudi√®re et du chauffe-eau.  Si la temp√©rature de l'eau est sup√©rieure √† 35 degr√©s et que la temp√©rature de l'air dans la maison est sup√©rieure √† celle r√©gl√©e (23 degr√©s), √©teignez le premier √©tage de la chaudi√®re.  Si la temp√©rature de l'eau est sup√©rieure √† 37 degr√©s - √©teignez le chauffe-eau.  De plus, toutes les inclusions ne doivent √™tre effectu√©es que si le courant de charge n'est pas sup√©rieur √† 25,6A.  Sinon, le relais de limitation de charge fonctionnera et pendant 10 minutes, rien ne pourra √™tre activ√© du tout.  Effectuez toutes les v√©rifications lors de la mise √† jour des relev√©s du capteur de temp√©rature d'eau chaude.  Cette r√®gle garantit la disponibilit√© de l'eau chaude, un chauffage rapide avec une consommation d'√©nergie minimale. </li><li>  Si la temp√©rature du liquide de refroidissement dans le circuit solaire est sup√©rieure √† la temp√©rature de l'eau chaude, qui √† son tour est sup√©rieure √† 35 degr√©s, √©teignez le chauffage du chauffage.  Ainsi, il est possible d'√©conomiser de l'√©lectricit√© et de ne pas se retrouver sans eau chaude. </li><li>  Si la temp√©rature dans la maison est sup√©rieure √† celle r√©gl√©e (23 degr√©s) et que la temp√©rature de l'eau chaude est sup√©rieure √† 35 degr√©s, √©teignez compl√®tement la chaudi√®re.  Sinon, il y aura une consommation excessive d'√©lectricit√© et l'automatisation de la chaudi√®re l'√©teindra souvent par temp√©rature dans la conduite de retour. </li><li>  S'il n'y a pas de tension sur l'√©l√©ment chauffant de la chaudi√®re, bien qu'il soit allum√© √† partir d'une maison intelligente, le premier √©tage du relais de charge s'est d√©clench√©.  Si vous limitez la puissance de la chaudi√®re, vous pouvez √©viter son arr√™t.  D√©sactivez les deuxi√®me et troisi√®me √©tapes.  Ensuite, ils se retourneront contre eux-m√™mes, selon d'autres r√®gles, si n√©cessaire.  De m√™me, nous v√©rifions la tension d'alimentation de la chaudi√®re.  S'il a disparu, le deuxi√®me √©tage du relais de charge s'est d√©clench√©, nous ne laissons que le premier √©tage de la chaudi√®re, nous √©teignons tout le reste, y compris le chauffage de la chaudi√®re;  Ils seront inclus ult√©rieurement par d'autres r√®gles.  Ceci est fait afin de r√©duire la probabilit√© de fonctionnement r√©p√©t√© du relais de charge et d'assurer un flux de chaleur maximum et uniforme dans la maison. </li></ol><br><h4>  Le deuxi√®me groupe.  La maison est de garde. </h4><br><ol><li>  Si la temp√©rature ext√©rieure est inf√©rieure √† moins 8 degr√©s, allumez le deuxi√®me √©tage de la chaudi√®re.  (le premier s'allume automatiquement depuis l'installation du contr√¥leur GSM universel, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">voir ici, sous la premi√®re coupe</a> ).  Si la temp√©rature ext√©rieure est inf√©rieure √† -15 degr√©s, allumez le troisi√®me √©tage de la chaudi√®re.  Cela garantit un fonctionnement optimal du syst√®me de chauffage tout en maintenant une temp√©rature √©conomique donn√©e dans la maison.  Lorsque la temp√©rature augmente dans la rue, les √©tapes sont d√©sactiv√©es s√©quentiellement.  Cette r√®gle vous permet de rendre la chaudi√®re plus uniforme et plus efficace. </li><li>  En cas de forte luminosit√© dans la rue, allumez la chaudi√®re √† titre pr√©ventif, sans attendre que l'√©quipement automatique maintienne une temp√©rature √©conomique (8 degr√©s).  Remettez la chaudi√®re en mode automatique si la temp√©rature atteint la valeur calcul√©e.  La valeur calcul√©e est calcul√©e par la formule empirique, qui utilise le minimum de la temp√©rature nocturne du jour pass√© et la pr√©vision de la temp√©rature nocturne.  De plus, la chaudi√®re revient en mode automatique si la puissance √©lectrique re√ßue du Soleil tombe en dessous de 500 watts.  Cet indicateur est liss√© sur plusieurs passes de la r√®gle ex√©cut√©es toutes les minutes.  Par cons√©quent, la r√®gle vous permet d'√©conomiser de l'√©lectricit√©: en raison du chauffage de la maison, la chaudi√®re fonctionnera moins dans l'obscurit√© et consommera moins d'√©nergie du r√©seau. </li></ol><br><img src="https://habrastorage.org/webt/uq/ul/2p/uqul2pjmm78djo-v4ybvmaxseta.png"><br>  <i>Une capture d'√©cran de l'environnement de d√©veloppement openHAB Designer avec deux r√®gles pour le chauffage et l'eau chaude sanitaire.</i> <br><br><h3>  R√©sultats pr√©liminaires: </h3><br><ol><li>  Les objectifs fix√©s sont atteints de mani√®re totalement sans poussi√®re.  La part du lion de la main-d'≈ìuvre n'√©tait pas associ√©e √† l'√©quipement, mais √† la programmation.  Et √† partir de cette programmation, l'essentiel est venu du d√©veloppement et du d√©bogage de r√®gles dans openHAB. </li><li>  D√©j√† aux premiers stades du d√©veloppement d'une maison intelligente, le pari sur une solution ¬´agnostique technologique¬ª √©tait justifi√©.  Les r√®gles d√©crites ci-dessus utilisent des donn√©es re√ßues de contr√¥leurs maison sur Arduino, d'une passerelle TCP-Modbus achet√©e, re√ßues d'Internet, c'est-√†-dire  √† partir de sources compl√®tement h√©t√©rog√®nes.  Ajout de la gestion des p√©riph√©riques sur TCP / IP.  Tout cela est tr√®s harmonieusement orchestr√© depuis openHAB.  Mais, bien s√ªr, avec cet openHAB devient un seul point de d√©faillance.  C'est pourquoi il est correct d'utiliser Linux comme syst√®me d'exploitation sous openHAB.  Par cons√©quent, j'ai d√ª passer au fil du temps de la connexion du serveur au LAN via WiFi √† un fil ordinaire.  J'ai √©galement d√ª fournir un onduleur individuel, malgr√© l'alimentation redondante de toute la maison.  Eh bien, en conclusion, j'ai d√ª mettre la prise contr√¥l√©e par WiFi Xiaomi sur l'alimentation du serveur, en la connectant √† un r√©seau WiFi s√©par√©, elle sert de dernier argument lorsque le serveur se fige. </li><li>  La prise de conscience est venue que l'Internet des objets et la maison intelligente ouvrent en effet l'horizon pour une nouvelle qualit√© de vie.  Un confort vraiment am√©lior√©.  En effet, il y a une √©conomie.  Et enfin, l'excitation appara√Æt, conduisant √† la connexion de nouveaux appareils et √† l'utilisation de nouvelles technologies d'int√©gration.  Ce qui conduit √† nouveau √† un confort accru. </li></ol><br>  Dans le prochain article, je vous dirai √† quoi a men√© l'excitation et comment la maison intelligente a √©volu√©. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418423/">https://habr.com/ru/post/fr418423/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418407/index.html">L'extraction de cloud Hashflare a ferm√©. L'argent ne revient pas</a></li>
<li><a href="../fr418411/index.html">Tireur de r√©seau de navigateur sur Node.js</a></li>
<li><a href="../fr418415/index.html">Telegram a pr√©sent√© son propre service de passeport pour la v√©rification et l'autorisation des utilisateurs</a></li>
<li><a href="../fr418417/index.html">Apollo: 9 mois - vol normal</a></li>
<li><a href="../fr418419/index.html">Comment Dodo Pizza r√©sout les probl√®mes commerciaux √† l'aide de l'apprentissage automatique</a></li>
<li><a href="../fr418427/index.html">Indexation mobile d'abord. Comment et pourquoi le graphique des liens va-t-il changer?</a></li>
<li><a href="../fr418429/index.html">Mon exp√©rience professionnelle pour le r√¥le de coach agile en Europe, deuxi√®me partie</a></li>
<li><a href="../fr418431/index.html">Probl√®mes imaginaires - la racine des mauvais logiciels</a></li>
<li><a href="../fr418433/index.html">4 ao√ªt Peter. La premi√®re qu√™te de v√©lo pour les programmeurs</a></li>
<li><a href="../fr418437/index.html">L'√©quipe d'OC √† la rescousse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>