<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õ±Ô∏è ‚úñÔ∏è ‚ú≥Ô∏è Pr√©sentation de werf 1.0 stable: qu'est-ce que GitOps a √† voir avec lui, son statut et ses plans üí´ üë®üèº‚Äçüíº üë∏üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="werf est un utilitaire CLI open source GitOps pour la cr√©ation et la livraison d'applications √† Kubernetes. werf prend en charge l'assemblage d'images...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pr√©sentation de werf 1.0 stable: qu'est-ce que GitOps a √† voir avec lui, son statut et ses plans</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/481306/"><img src="https://habrastorage.org/webt/3x/gd/dm/3xgddmaqs9o_1evxjgalmlsczzo.png"><br><br>  <a href="https://werf.io/">werf</a> est un utilitaire CLI <a href="https://github.com/flant/werf">open source</a> GitOps pour la cr√©ation et la livraison d'applications √† Kubernetes.  werf prend en charge l'assemblage d'images d'application √† l'aide de Dockerfile ou de son propre collecteur int√©gr√© (bas√© sur la syntaxe YAML, avec le support Ansible et la reconstruction incr√©mentielle bas√©e sur Git).  Le format de configuration compatible avec Helm est utilis√© pour fournir l'application.  Le code d'application, la configuration des images collect√©es et la configuration de d√©ploiement de l'application sont stock√©s dans un r√©f√©rentiel Git. <br><br>  La <a href="">version stable</a> tant attendue <a href="">1.0</a> est la version de base de l'utilitaire compl√©t√©e par des fonctions <i>(le num√©ro de version exact de la premi√®re version stable est 1.0.6)</i> .  Dans la version de base, werf prend en charge le cycle complet de livraison et de maintenance des applications.  Cela inclut l'assemblage d'images d'application, le d√©ploiement sur Kubernetes et le nettoyage des images inutilis√©es. <a name="habracut"></a><br><br>  Il est important que dans la version 1.0, toutes les op√©rations sur un projet ( <code>build</code> , <code>deploy</code> , <code>cleanup</code> ) doivent √™tre effectu√©es √† partir d'un seul h√¥te.  Cela signifie qu'un travailleur fixe doit √™tre utilis√© dans le syst√®me CI.  Dans le m√™me temps, il n'y a pas de restrictions sur le parall√©lisme des t√¢ches: werf r√©sout compl√®tement ce probl√®me.  Vous pouvez √©galement r√©partir diff√©rents projets entre diff√©rents travailleurs. <br><br>  Dans cet article d√©di√© √† la sortie, nous allons voir de plus pr√®s ce que cette version fournit et ne fournit pas, ainsi que nos plans pour les futures versions.  Mais nous commencerons par comprendre la compr√©hension du terme ¬´GitOps¬ª et le r√¥le de werf dans les processus d'int√©gration continue et de livraison d'applications (CI / CD). <br><br><h2>  Pourquoi Werf est GitOps </h2><br>  Alors, que voulons-nous dire par GitOps et quels sont les domaines couverts? <br><br>  Le terme ¬´GitOps¬ª a √©t√© invent√© par Weaveworks il y a environ 2,5 ans, et nous avons r√©cemment <a href="https://habr.com/ru/company/flant/blog/458878/">traduit</a> un article de ses auteurs qui r√©v√®le l'essence de ce nouveau ph√©nom√®ne pour le blog.  √Ä notre avis, l'id√©e principale et la signification principale de GitOps est que <b>Git est une ¬´source unique de v√©rit√©¬ª</b> .  Magasins Git: <br><br><ul><li>  code d'application </li><li>  toutes les d√©pendances; </li><li>  des informations sur la collecte des conteneurs; </li><li>  des informations sur la fa√ßon de d√©ployer sur Kubernetes; </li><li>  et autres </li></ul><br>  Et puis il y a ¬´quelque chose¬ª qui fait que la <b>r√©alit√© change en fonction des changements de Git</b> .  Cette approche peut √™tre mise en ≈ìuvre non seulement en installant un op√©rateur dans Kubernetes qui surveille Git, mais √©galement en utilisant un utilitaire de console qui peut √™tre appel√© √† partir de n'importe quel syst√®me CI.  De plus, de notre point de vue, l'approche avec l'utilitaire CLI n'impose pas de restrictions inutiles: nous pouvons faire du CI avec n'importe quel outil et avec un certain nombre de nuances, en appelant un utilitaire CLI qui synchronise la ¬´r√©alit√©¬ª (c'est-√†-dire Kubernetes) avec l'√©tat de Git . <br><br>  werf fournit une interface CLI de haut niveau avec des commandes de base pour la cr√©ation et la publication d'images, la livraison d'applications et le nettoyage d'images: <code>werf build-and-publish</code> , <code>werf deploy</code> , <code>werf dismiss</code> , <code>werf cleanup</code> .  On suppose que ces commandes tr√®s basiques sont int√©gr√©es dans un syst√®me CI particulier et fournissent la synchronisation n√©cessaire avec la r√©alit√©.  De plus, werf fournit √©galement une interface CLI de bas niveau pour g√©rer divers sous-syst√®mes - voir les <a href="https://ru.werf.io/documentation/cli/management/stages/build.html">commandes de gestion de bas niveau</a> dans la documentation. <br><br>  Peu importe que le CI / CD int√©gr√© fonctionne selon le mod√®le push ou pull <i>(en savoir plus <a href="https://habr.com/ru/company/flant/blog/456754/">ici</a> )</i> , car <b>werf peut √™tre int√©gr√© √† n'importe quel mod√®le</b> .  Dans le m√™me temps, werf ferme des probl√®mes tels que le travail avec des utilitaires de bas niveau s√©par√©s tels que <code>git</code> , <code>docker</code> et kubernetes api-server, √©tant la ¬´partie manquante¬ª pour la configuration d'une application CI / CD unifi√©e. <br><br><h2>  Qu'est-ce que werf 1.0 stable </h2><br><h3>  1. Assemblage, publication et nettoyage des images </h3><br>  Si votre application n√©cessite la cr√©ation d'images Docker, alors en utilisant werf 1.0, vous pouvez: <br><br><ul><li>  d√©crire les r√®gles d'assemblage des images (vous pouvez en avoir plusieurs) dans une seule configuration <code>werf.yaml</code> ; </li><li>  Collectez des images et publiez-les dans le Docker Registry </li><li>  nettoyer p√©riodiquement le Docker Registry pour les politiques personnalis√©es. </li></ul><br>  werf prend en charge <b>deux fa√ßons de d√©crire l'assembly</b> : connexion de <code>werf.yaml</code> <b>Dockerfiles existants</b> et instructions pour <b>le collecteur Stapel</b> .  Construire avec Stapel a ses avantages: une reconstruction incr√©mentielle plus rapide lors du changement de code d'application dans Git, l'utilisation de la syntaxe Ansible pour l'assemblage, etc.  Vous pouvez en <a href="https://ru.werf.io/documentation/reference/build_process.html">savoir</a> plus sur ce collecteur et cette syntaxe <a href="https://ru.werf.io/documentation/reference/build_process.html">dans la documentation</a> , et un exemple de son utilisation est pr√©sent√© dans le <a href="https://ru.werf.io/documentation/guides/advanced_build/first_application.html">manuel</a> . <br><br>  Diff√©rents sch√©mas de balisage / versioning des images collect√©es sont disponibles en r√©f√©rence aux validations, branches et balises Git. <br><br>  L'assemblage d'images est une √©tape facultative du d√©ploiement d'applications et peut √™tre ignor√© en l'absence de vos propres images assembl√©es. <br><br><h3>  2. Stage de stockage sur un seul h√¥te </h3><br>  werf introduit le concept de stockage des √©tapes.  Les principales commandes werf utilisent le stockage par √©tapes comme suit: <br><br><ul><li>  Enregistrer les r√©sultats de l'assemblage - images Docker dans le magasin de sc√®ne </li><li>  utiliser les images du magasin de sc√®ne comme cache pour la reconstruction et l'assemblage de nouvelles images; </li><li>  utiliser le r√©f√©rentiel pour obtenir des informations sur les images collect√©es pour leur utilisation ult√©rieure (par exemple, lors de la livraison d'une application √† Kubernetes). </li></ul><br>  Lors du d√©ploiement d'une seule application, un stockage en une seule √©tape doit √™tre utilis√© pour toutes les √©quipes (assemblage, publication, nettoyage d'image, d√©ploiement d'application). <br><br>  Dans la version 1.0, seul le stockage h√¥te local peut agir comme un stockage d'√©tape (le param√®tre correspondant pour les commandes est: <code>--stages-storage=:local</code> ).  Lors de l'utilisation <code>:local</code> √©tapes <code>:local</code> sont stock√©es sur disque.  La cons√©quence de ceci: <b>werf 1.0</b> ne peut √™tre utilis√© que <b>sur un seul h√¥te pour</b> organiser le d√©ploiement d'une <b>seule application</b> .  Cet h√¥te doit enregistrer les donn√©es entre les lancements de commandes pour que werf fonctionne correctement. <br><br>  Dans la version 1.0, il n'y a pas de prise en charge pour le stockage des √©tapes dans le stockage externe, avec lequel vous pouvez organiser un assembly distribu√©.  Cependant, une telle fonction appara√Ætra dans les futures versions de werf <i>(voir ci-dessous pour plus de d√©tails)</i> . <br><br><h3>  3. D√©ployez l'application et v√©rifiez la disponibilit√© </h3><br>  Pour d√©ployer l'application, l'utilisateur d√©crit le graphique dans un format compatible avec Helm: un ensemble de manifestes Kubernetes et de param√®tres de mod√®le. <br><br>  werf lance l'application dans Kubernetes et garantit qu'il d√©marre et fonctionne avant de terminer le processus de d√©ploiement de l'application.  Cela inclut la sortie des journaux des composants et la r√©ponse instantan√©e aux erreurs de d√©ploiement en cas de probl√®me - la commande de d√©ploiement tombera avec un code diff√©rent de z√©ro.  Ainsi, lorsque vous utilisez werf rollout dans CI / CD, <b>nous obtenons des commentaires ad√©quats du logiciel</b> : si l'application a √©t√© t√©l√©charg√©e ou non, et suffisamment d'informations pour d√©boguer et r√©soudre les probl√®mes (sans avoir √† ex√©cuter d'autres utilitaires pour trouver des probl√®mes comme <code>kubectl</code> ). <br><br>  werf est enti√®rement compatible avec les installations existantes de Helm 2, mais werf pr√©sente plusieurs avantages.  Par exemple, en tant que m√©canisme de mise √† jour des ressources, Kubernetes utilise des <a href="https://ru.werf.io/documentation/reference/deploy_process/resources_update_methods_and_adoption.html">correctifs de fusion √† 3 voies</a> et il est √©galement possible de recevoir des commentaires lorsque l'application est livr√©e au cluster.  Une liste compl√®te des diff√©rences est d√©crite sur <a href="https://ru.werf.io/documentation/reference/deploy_process/differences_with_helm.html">cette page</a> . <br><br><h3>  4. La relation des images collect√©es avec le processus de livraison de l'application </h3><br>  werf int√®gre les images collect√©es dans un seul syst√®me, le processus de balisage et de versioning avec le processus de livraison de l'application √† Kubernetes.  Les images collect√©es par werf peuvent √™tre utilis√©es dans les mod√®les de description des ressources Kubernetes. <br><br>  C'est gr√¢ce √† ces fonctions que nous pouvons dire que <b>werf fournit une interface de niveau sup√©rieur</b> √† Helm, Docker et √† d'autres constructeurs et utilitaires pour un d√©ploiement s√©par√©.  Cette interface vous permet d'int√©grer simplement werf dans n'importe quel syst√®me CI / CD existant et de ne pas r√©soudre les probl√®mes de combinaison de tous les composants utilis√©s - il se charge de cette t√¢che. <br><br><h3>  5. Int√©gration avec les syst√®mes CI / CD existants </h3><br>  Dans la version 1.0, l'int√©gration automatique n'est disponible qu'avec <a href="https://ru.werf.io/documentation/reference/plugging_into_cicd/gitlab_ci.html">le syst√®me GitLab CI</a> .  Pour ce faire, la commande <code>werf ci-env</code> est fournie.  Il re√ßoit les informations n√©cessaires du syst√®me CI / CD et configure automatiquement werf pour fonctionner correctement dans l'environnement CI. <br><br>  Vous pouvez en savoir plus sur le fonctionnement de l'int√©gration avec n'importe quel syst√®me CI / CD dans les manuels ( <a href="https://ru.werf.io/documentation/reference/plugging_into_cicd/overview.html">revue</a> , <a href="https://ru.werf.io/documentation/reference/plugging_into_cicd/gitlab_ci.html">sp√©cificit√©s de GitLab CI</a> , <a href="https://ru.werf.io/documentation/guides/unsupported_ci_cd_integration.html">int√©gration avec d'autres syst√®mes</a> ). <br><br><h3>  6. D√©veloppement multiplateforme pour Linux, Windows et macOS </h3><br>  werf 1.0 est un fichier binaire li√© statiquement qui fonctionne ind√©pendamment avec les versions Docker et Helm.  D√©pendances externes sur le syst√®me h√¥te: <br><br><ul><li>  D√©mon Docker local </li><li>  utilitaire git. </li></ul><br>  werf peut fonctionner sur n'importe quel syst√®me d'exploitation et environnement GNU / Linux, Windows ou macOS.  De plus, le r√©sultat de l'assemblage sera le m√™me quel que soit le syst√®me utilis√©: m√™me signature des √©tapes de cache, m√™me remplissage des √©tapes, quel que soit le syst√®me o√π cette √©tape a √©t√© collect√©e.  Des modifications dans la configuration pour travailler dans diff√©rents syst√®mes ne sont pas non plus n√©cessaires. <br><br>  Ainsi, werf 1.0 fournit des outils multiplateformes pour cr√©er et fournir des applications √† Kubernetes. <br><br>  Il convient √©galement de noter ici que werf collecte des images Docker standard pour travailler dans un environnement Linux, mais les <a href="https://docs.microsoft.com/en-us/virtualization/windowscontainers/about/">conteneurs Windows</a> ne <a href="https://docs.microsoft.com/en-us/virtualization/windowscontainers/about/">sont</a> pas pris en charge dans la version 1.0. <br><br><h3>  7. Couvrir la fonctionnalit√© avec des tests </h3><br>  Actuellement, 60% du code werf est couvert par des tests d'int√©gration e2e et des tests unitaires. <br><br>  werf est test√© sur tous les syst√®mes d'exploitation pris en charge (Linux, Windows et macOS) √† l'aide des actions GitHub pour organiser leur lancement.  Certains d√©tails des tests sont √©galement disponibles sur <a href="https://codeclimate.com/github/flant/werf">Code Climate</a> . <br><br><h3>  8. Versioning werf </h3><br>  √Ä l'heure actuelle, par la sortie de la version 1.0, <a href="https://github.com/flant/werf/releases">environ 700 versions</a> ont √©t√© effectu√©es dans le projet. <br><br>  werf utilise un syst√®me de lib√©ration avanc√© avec des canaux de stabilit√©: <i>alpha</i> , <i>b√™ta</i> , <i>ea (acc√®s anticip√©)</i> , <i>stable</i> et <i>solide</i> comme le <i>roc</i> .  Cette publication est programm√©e pour co√Øncider avec la sortie de la premi√®re version 1.0 sur le canal <i>stable</i> .  Les modifications instables de la version passent d'abord par une cha√Æne de canaux et finissent finalement par √™tre <i>solides</i> .  Les versions sont souvent effectu√©es (parfois plusieurs par jour) et les modifications sont livr√©es en continu en ¬´petites portions¬ª. <br><br>  Les canaux de stabilit√© et de nombreuses versions fr√©quentes vous permettent d'obtenir un retour d'information continu sur les nouveaux changements, la possibilit√© de les annuler rapidement et d'assurer g√©n√©ralement une grande stabilit√© du logiciel et en m√™me temps une vitesse acceptable de son d√©veloppement. <br><br>  Le point important est que lors du basculement entre les versions 1.0-&gt; 1.1, 1.1-&gt; 1.2, des modifications de werf sont possibles qui n√©cessitent une intervention manuelle de l'utilisateur (cela peut √™tre un script de migration ou simplement des instructions pour une ex√©cution manuelle d√©crites dans la version).  La mise √† jour des versions √† l'int√©rieur de 1.0 (1.0.1, 1.0.2, ... 1.0.6-alpha.1, 1.0.6-beta.2, etc.) garantit que de telles modifications manuelles ne sont pas n√©cessaires. <br><br>  Vous pouvez en savoir plus sur la promesse de compatibilit√© descendante <a href="https://github.com/flant/werf">ici</a> . <br><br><h2>  Plans suppl√©mentaires </h2><br>  Voici √† quoi ressemblent les principaux domaines de travail des futures versions et les termes approximatifs de leur impl√©mentation: <br><br><h3>  1. D√©veloppement local et d√©ploiement d'applications avec werf </h3><br>  L'objectif principal est de r√©aliser une configuration unifi√©e unique pour d√©ployer des applications √† la fois localement et en production, sans actions complexes, hors de la bo√Æte. <br><br>  Werf a √©galement besoin d'un mode de fonctionnement dans lequel il sera commode de modifier le code de l'application et de recevoir instantan√©ment les commentaires d'une application qui fonctionne pour le d√©bogage. <br><br>  <i>Version 1.1, janvier-f√©vrier 2020</i> <br><br><h3>  2. Balisage bas√© sur le contenu </h3><br>  Marquage des images lors de leur publication, uniquement sur la base du contenu de cette image.  Contrairement aux modes avec liaison aux validations Git, ce mode supprimera compl√®tement les reconstructions inutiles.  Git-commit-id n'est pas un identifiant universel pour le contenu de l'arbre de travail (bien qu'il en d√©pende). <br><br>  Dans le cas o√π le code d'application n'a pas chang√©, mais qu'une nouvelle validation a √©t√© effectu√©e, le mode de marquage actuel pour les validations Git cr√©era une image avec un nouveau nom lors de sa publication.  Cela entra√Ænera √©galement une restauration des ressources utilisant cette image dans Kubernetes.  En m√™me temps, le contenu de l'image elle-m√™me n'a pas chang√©. <br><br>  Pour r√©soudre ces probl√®mes, werf introduira un nouveau type de balisage bas√© sur les calculs des sommes de contr√¥le du <b>contenu</b> de l'application - le balisage bas√© sur le <b>contenu</b> . <br><br>  <i>Version 1.1, f√©vrier-mars 2020</i> <br><br><h3>  3. La transition vers Helm 3 </h3><br>  Il comprend la transition vers la nouvelle base de code <a href="https://habr.com/ru/company/flant/news/t/475722/">Helm 3</a> et un moyen √©prouv√© et pratique de migrer les installations existantes. <br><br>  <i>Version 1.1, f√©vrier-mars 2020</i> <br><br><h3>  4. Assemblage parall√®le d'images </h3><br>  √Ä l'heure actuelle, werf 1.0 collecte s√©quentiellement toutes les √©tapes des images et des artefacts d√©clar√©s dans <code>werf.yaml</code> .  N√©cessite la possibilit√© de parall√©liser le processus d'assemblage de la sc√®ne. <br><br>  <i>Version: 1.1, janvier-f√©vrier 2020</i> <br><br><h3>  5. Assemblage distribu√© d'images </h3><br>  Pour le moment, werf 1.0 ne peut √™tre utilis√© que sur un seul h√¥te d√©di√© <i>(voir le point ci-dessus sur le stockage de la sc√®ne sur un seul h√¥te)</i> . <br><br>  Pour ouvrir les possibilit√©s d'un assemblage distribu√©, lorsque l'assembly est lanc√© sur plusieurs h√¥tes et que ces h√¥tes ne maintiennent pas leur √©tat entre les assemblys (coureurs temporaires), werf doit impl√©menter la possibilit√© d'utiliser le Docker Registry comme r√©f√©rentiel d'√©tape. <br><br>  Auparavant, lorsque le projet werf s'appelait √©galement dapp, il avait une telle opportunit√©.  Cependant, nous avons rencontr√© un certain nombre de probl√®mes qui doivent √™tre pris en compte lors de l'impl√©mentation de cette fonction dans werf. <br><br>  <i>Version 1.2: mars-avril 2020</i> <br><br><h3>  6. Jsonnet pour d√©crire la configuration de Kubernetes </h3><br>  werf prendra en charge la description de la configuration de Kubernetes au format <a href="https://jsonnet.org/">Jsonnet</a> .  Dans le m√™me temps, werf restera compatible avec Helm et il sera possible de s√©lectionner un format de description. <br><br>  La raison en est le fait que les mod√®les de langage Go, selon de nombreuses personnes, ont un seuil d'entr√©e √©lev√©, et l'intelligibilit√© du code de ces mod√®les souffre √©galement. <br><br>  D'autres options pour l'impl√©mentation des syst√®mes de description de configuration de Kubernetes (comme Kustomize) sont √©galement √† l'√©tude. <br><br>  <i>Version 1.1: janvier-f√©vrier 2020</i> <br><br><h3>  7. Travailler √† l'int√©rieur de Kubernetes </h3><br>  Objectif: Assurer l'assemblage des images et la livraison des applications √† l'aide de runners dans Kubernetes.  C'est-√†-dire  l'assemblage de nouvelles images, leur publication, leur nettoyage et leur d√©ploiement peuvent se faire directement √† partir des modules Kubernetes. <br><br>  Pour r√©aliser cette fonctionnalit√©, vous devez d'abord pouvoir cr√©er des images de mani√®re distribu√©e <i>(voir le paragraphe ci-dessus)</i> . <br><br>  Il n√©cessite √©galement la prise en charge du mode de fonctionnement de g√©n√©ration sans le d√©mon Docker (c'est-√†-dire une g√©n√©ration de type <i>Kaniko</i> ou une <i>g√©n√©ration d'espace utilisateur</i> ). <br><br>  werf prendra en charge les versions de Kubernetes non seulement avec le Dockerfile, mais aussi avec son g√©n√©rateur Stapel avec des reconstructions incr√©mentielles. <br><br>  <i>Version 1.2: avril-mai 2020</i> <br><br><h3>  8. Autre </h3><br>  Il est √©galement pr√©vu: <br><br><ul><li>  Mise √† niveau de la version d'Ansible et possibilit√© d'utiliser diff√©rentes versions d'Ansible; </li><li>  soutien aux r√¥les ansibles; </li><li>  prise en charge des √©tapes d'assemblage arbitraires dans Stapel (actuellement, werf prend en charge un ensemble statique d'√©tapes: <code>beforeInstall</code> , <code>install</code> , <code>beforeSetup</code> , <code>setup</code> ); </li><li>  am√©lioration de la syntaxe <code>werf.yaml</code> , passage √† <code>configVersion: 2</code> (associ√©, entre autres, aux deux points pr√©c√©dents), prise en charge de la sp√©cification OpenAPI; </li><li>  Prise en charge de Git LFS dans Stapel pour le stockage de fichiers volumineux dans Git; </li><li>  am√©lioration des m√©canismes de nettoyage des images (les d√©fauts non critiques dans la version actuelle sont associ√©s aux images non d√©clar√©es dans la configuration <code>werf.yaml</code> dans la branche principale principale - ces images seront supprim√©es par un nettoyage p√©riodique); </li><li>  un travail plus correct avec l'espace de noms Kubernetes partag√©, lorsque plusieurs applications sont d√©ploy√©es dans un m√™me espace de noms; </li><li>  restauration automatique de l'application vers la derni√®re version de travail en cas d'√©chec du d√©ploiement. </li></ul><br><h2>  Total </h2><br>  Je serai bref en r√©sumant.  Nous sommes: <br><br><ul><li>  longtemps march√© jusqu'√† l'av√®nement de la version 1.0; </li><li>  a pris en compte beaucoup d'exp√©rience r√©elle; </li><li>  Nous pr√©sentons pour utilisation un utilitaire √©prouv√© avec des fonctionnalit√©s stables, v√©rifi√© par des dizaines de milliers de d√©ploiements. </li></ul><br>  La sortie de la version 1.0 marque le d√©but d'une nouvelle phase de d√©veloppement de werf, au sein de laquelle de nouvelles fonctionnalit√©s fondamentales seront ajout√©es.  Suivez l'actualit√©!  Et rejoignez √©galement <a href="https://t.me/werf_ru">le canal tg werf_ru</a> , dans la vie duquel participent √† la fois les d√©veloppeurs werf directs, ainsi que nos ing√©nieurs et utilisateurs de l'utilitaire en dehors de la soci√©t√© Flant. <br><br><h2>  PS </h2><br>  Lisez aussi dans notre blog: <br><br><ul><li>  ¬´ <a href="https://habr.com/ru/company/flant/news/t/478716/">Werf a de la documentation en russe</a> ¬ª; </li><li>  Une s√©rie de notes sur les innovations dans werf: <br><ul><li>  ¬´ <a href="https://habr.com/ru/company/flant/blog/476646/">Fusion √† 3 voies dans werf: d√©ploiement dans Kubernetes avec Helm¬´ sous st√©ro√Ødes ¬ª</a> ¬ª; </li><li>  ¬´ <a href="https://habr.com/ru/company/flant/blog/468049/">Utilisation de werf pour d√©ployer des graphiques Helm complexes</a> ¬ª; </li><li>  ¬´ <a href="https://habr.com/ru/company/flant/blog/465131/">Prise en charge de monorepo et multirepo dans werf et qu'est-ce que le Docker Registry a √† voir avec cela</a> ¬ª; </li><li>  ¬´ <a href="https://habr.com/ru/company/flant/blog/463613/">Vous pouvez maintenant assembler des images Docker en werf en utilisant le Dockerfile habituel</a> ¬ª; </li></ul></li><li>  ¬´ <a href="https://habr.com/ru/company/flant/blog/460351/">Werf est notre outil CI / CD √† Kubernetes (revue et rapport vid√©o)</a> ¬ª; </li><li>  ¬´ <a href="https://habr.com/ru/company/flant/blog/458878/">Qu'est-ce que GitOps?</a>  " </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr481306/">https://habr.com/ru/post/fr481306/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr481290/index.html">COMMENT / Param√®tres r√©seau et VLAN sur un serveur Hetzner et Mikrotik d√©di√©</a></li>
<li><a href="../fr481294/index.html">10 meilleurs outils d'automatisation de test de logiciels</a></li>
<li><a href="../fr481296/index.html">Comment √©crire du code qui sera r√©utilis√©</a></li>
<li><a href="../fr481302/index.html">"√Ä propos, oui pas un cluster" ou comme nous avons import√© un SGBD</a></li>
<li><a href="../fr481304/index.html">Tri du drapeau am√©ricain</a></li>
<li><a href="../fr481312/index.html">Cadeaux perdus du P√®re No√´l: annonce d'une qu√™te informatique pour le 6 janvier</a></li>
<li><a href="../fr481314/index.html">Plateforme DIY Crawler pour robots et divertissement</a></li>
<li><a href="../fr481316/index.html">R√©daction d'un blog sur les microservices - Partie 4 Post Service</a></li>
<li><a href="../fr481318/index.html">Hacking avec Unicode (sur l'exemple de GitHub)</a></li>
<li><a href="../fr481320/index.html">Quatre innovations technologiques remod√®lent les soins de sant√© d√®s maintenant</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>