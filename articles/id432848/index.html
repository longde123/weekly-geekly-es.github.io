<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äçü§ù‚Äçüë©üèª üêÆ üçç Perjalanan Gocritic ke Masa Lalu üòß üê£ ‚õ≥Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya ingin membagikan hasil beberapa hari terakhir, yang meliputi analisis git dari sejarah beberapa proyek Go besar dengan tujuan menemukan komitmen ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Perjalanan Gocritic ke Masa Lalu</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432848/"><p><img src="https://habrastorage.org/webt/de/ui/zg/deuizg9w3z_5h9mc9him0m50a3e.png"></p><br><p>  Saya ingin membagikan hasil beberapa hari terakhir, yang meliputi analisis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">git</a> dari sejarah beberapa proyek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Go</a> besar dengan tujuan menemukan komitmen yang memperbaiki kesalahan dan kemudian memformalkannya untuk deteksi jika muncul dalam kode baru. </p><br><p>  Pada bagian kedua artikel, kami akan mempertimbangkan beberapa diagnostik baru dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">go-kritik</a> , yang memungkinkan Anda menemukan kode yang sangat mungkin mengandung kesalahan. </p><a name="habracut"></a><br><h1 id="poisk-idey-v-proshlom">  Cari ide di masa lalu </h1><br><p>  Untuk menemukan ide untuk inspeksi kode baru, Anda dapat mengintip penganalisa statis untuk bahasa pemrograman lain, Anda dapat memeriksa kode sumber terbuka secara manual dalam upaya menemukan templat kode yang salah di dalamnya, atau Anda dapat melihat sejarah. </p><br><p> Misalkan Anda sedang memeriksa proyek <code>Go-Files</code> .  Setelah memulai linter (penganalisa statis), tidak ada masalah, audit teks sumber juga tidak membawa hasil yang bagus.  Haruskah saya buru-buru mengesampingkan <code>Go-Files</code> ?  Tidak juga. </p><br><p>  Selama keberadaannya, <code>Go-Files</code> memiliki sejumlah cacat yang mudah dideteksi, tetapi sekarang sudah diperbaiki.  Yang perlu kita lakukan adalah mulai menganalisis sejarah repositori git. </p><br><p><img src="https://habrastorage.org/webt/jh/mn/nb/jhmnnbbrjp-yrbpqsklp25md5ju.png"></p><br><p>  Bug ada di suatu tempat di dekatnya. </p><br><h1 id="sbor-interesuyuschih-nas-kommitov">  Koleksi komitmen yang menarik bagi kami </h1><br><p>  <strong>Masalahnya:</strong> </p><br><ul><li>  Mungkin ada banyak komitmen </li><li>  Terkadang dalam revisi yang sama hal-hal tidak saling terkait </li><li>  Terkadang komentar pada komit tidak sesuai dengan perubahan yang sebenarnya. </li><li>  Beberapa orang meremehkan penggunaan pesan komit yang baik (jangan arahkan jari) </li></ul><br><p>  Pertama-tama, kami ingin mengurangi jumlah informasi yang harus diproses tanpa otomatisasi.  Masalah tanggapan negatif palsu dapat diselesaikan dengan meningkatkan ukuran sampel (unduh lebih banyak paket Go ke grup kontrol). </p><br><p>  Anda dapat menganalisanya dengan cara yang berbeda, saya baru saja menggunakan <code>git log --grep</code> untuk satu set templat, dengan menaksir terlalu tinggi dan meremehkan skor komit tergantung pada isi dari pesan <code>git log --grep</code> .  Jika komit terlalu besar, Anda dapat segera membuangnya, karena sangat mungkin untuk mengetahui apa yang terjadi akan ada nontrivial. </p><br><p>  Saya juga ingin menambahkan bahwa di samping koreksi atau menemukan kesalahan cukup sering ada deskripsi yang tidak terlalu optimis dan kadang-kadang tidak cukup kultural tentang tambalan: </p><br><pre> <code class="plaintext hljs">- "We check length later, but we assumed it was always 1 bytes long. Not always the case. I'm a little depressed that this bug was there" - "Really fixed the bug now" - "WTF, the changes that actually fixed the bug for the accesspattern wasn't actually committed" - "how do i pronounce this damn project" ( traefic) - "damnit travis" - "one f*cking dot" (./.. =&gt; ./...  .travis.yml)</code> </pre> <br><p>  "Perbaikan bug" yang paling tidak berguna adalah mengedit kesalahan sintaks atau masalah lain yang mencegah proyek dari kompilasi bahkan melalui <code>go build</code> .  Tidak semua proyek menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CI</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kait pra-komitmen</a> , sehingga revisi yang rusak tersebut terkadang berakhir di cabang utama. </p><br><h1 id="istoricheskie-oshibki">  Kesalahan sejarah </h1><br><p>  Mari kita lihat beberapa kesalahan paling menarik yang ditemukan di balik sampul git log. </p><br><h2 id="vozvrat-nil-vmesto-realnogo-rezultata">  Kembalikan nil alih-alih hasil nyata </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gin-gonic / gin: fix bug, return err ketika gagal mengikat bool</a> : </p><br><pre> <code class="diff hljs"> if err == nil { field.SetBool(boolVal) } - return nil + return err }</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">go-pg / pg: Perbaikan bug AppendParam</a> : </p><br><pre> <code class="diff hljs"> return method.AppendValue(b, m.strct.Addr(), 1), true } - return nil, false + return b, false }</code> </pre> <br><h2 id="otsutstvie-return-v-fast-path">  Kurangnya pengembalian di jalur cepat </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gonum / gonum: bug diperbaiki di jalur cepat dswap</a> : </p><br><pre> <code class="diff hljs"> for i := 0; i &lt; n; i++ { x[i], y[i] = y[i], x[i] } + return }</code> </pre> <br><h2 id="zapusk-gorutiny-bez-wgadd1">  Menjalankan goroutine tanpa wg.Tambahkan (1) </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">btcsuite / btcd: Perbaiki beberapa bug di shutdown server RPC</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-addition"><span class="hljs-addition">+s.wg.Add(1) go s.walletListenerDuplicator()</span></span></code> </pre> <br><h2 id="nekorrektnoe-logicheskoe-uslovie">  Kondisi logis tidak valid </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gorgonia / gorgonia: memperbaiki beberapa bug juga</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-for i := 0; i &gt; start; i++ { +for i := 0; i &lt; start; i++ { retVal[i] = 0 }</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">src-d / go-git: plumbing / idxfile: perbaiki pencarian bug di MemoryIndex</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-if low &lt; high { +if low &gt; high { break }</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">go-xorm / xorm: perbaiki bug pada jumlah</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-if !strings.Contains(colName, " ") &amp;&amp; strings.Contains(colName, "(") { +if !strings.Contains(colName, " ") &amp;&amp; !strings.Contains(colName, "(") {</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">btcsuite / btcd: server: Perbaiki bug disconnecting peer on filteradd</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-if sp.filter.IsLoaded() { +if !sp.filter.IsLoaded() {</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">btcsuite / btcd: Perbaiki bug uji terbalik dengan penanganan operasi maks</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-if pop.opcode.value &lt; OP_16 { +if pop.opcode.value &gt; OP_16 { s.numOps++</span></span></code> </pre> <br><h2 id="obnovlenie-receivera-thisself-peredavaemogo-po-znacheniyu">  Memperbarui penerima (ini / diri sendiri) lewat nilai </h2><br><p>  Klasik  Salinan objek dimodifikasi di dalam metode, karena itu penelepon tidak akan melihat hasil yang diharapkan. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Memperbaiki bug tumpukan / antrian / deque (penerima pointer)</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-func (s Stack) Push(x interface{}) { - s = append(s, x) +func (s *Stack) Push(x interface{}) { + *s = append(*s, x) }</span></span></code> </pre> <br><h2 id="obnovlenie-kopiy-obektov-vnutri-cikla">  Memperbarui salinan objek di dalam satu lingkaran </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengandung / traefik: Tetapkan tugas yang difilter ke aplikasi yang terdapat dalam slice</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-for _, app := range filteredApps { - app.Tasks = fun.Filter(func(task *marathon.Task) bool { +for i, app := range filteredApps { + filteredApps[i].Tasks = fun.Filter(func(task *marathon.Task) bool { return p.taskFilter(*task, app) }, app.Tasks).([]*marathon.Task)</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengandung / traefik: Tambahkan unit test untuk paket yang aman</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-for _, routine := range p.routines { +for i := range p.routines { p.waitGroup.Add(1) - routine.stop = make(chan bool, 1) + p.routines[i].stop = make(chan bool, 1) Go(func() { - routine.goroutine(routine.stop) + p.routines[i].goroutine(p.routines[i].stop) p.waitGroup.Done() }) }</span></span></code> </pre> <br><h2 id="rezultat-oborachivayuschey-funkcii-ne-ispolzuetsya">  Hasil dari fungsi pembungkus tidak digunakan. </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gorgonia / gorgonia: Memperbaiki bug kecil yang tidak penting di Grad ()</a> : </p><br><pre> <code class="diff hljs">if !n.isInput() { - errors.Wrapf(err, ...) - // return + err = errors.Wrapf(err, ...) + return nil, err }</code> </pre> <br><h2 id="nepravilnaya-rabota-s-make">  Pekerjaan dengan make yang salah </h2><br><p>  Terkadang penjual muda akan " <code>make([]T, count)</code> " diikuti dengan <code>append</code> di dalam loop.  Pilihan yang benar di sini adalah " <code>make([]T, 0, count)</code> ". </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HouzuoGuo / tiedot: perbaiki bug pemindaian koleksi</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-ids := make([]uint64, benchSize) +ids := make([]uint64, 0)</span></span></code> </pre> <br><p>  Perbaikan di atas memperbaiki kesalahan asli, tetapi memiliki satu kelemahan yang diperbaiki di salah satu dari komit berikut: </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-ids := make([]uint64, 0) +ids := make([]uint64, 0, benchSize)</span></span></code> </pre> <br><p>  Tetapi beberapa operasi, seperti <code>copy</code> atau <code>ScanSlice</code> mungkin memerlukan panjang "benar". </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">go-xorm / xorm: perbaikan bug untuk SumsInt mengembalikan slice kosong</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-var res = make([]int64, 0, len(columnNames)) +var res = make([]int64, len(columnNames), len(columnNames)) if session.IsAutoCommit { err = session.DB().QueryRow(sqlStr, args...).ScanSlice(&amp;res) } else {</span></span></code> </pre> <br><p>  Segera <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pergi-kritik</a> akan membantu menemukan kesalahan di kelas ini. </p><br><h2 id="ostalnye-oshibki">  Kesalahan lainnya </h2><br><p>  Enumerasi ternyata agak rumit, saya mengambil sisanya di bawah spoiler.  Bagian ini opsional, jadi Anda bisa membiarkannya nanti atau melanjutkan. </p><br><div class="spoiler">  <b class="spoiler_title">Saya ingin lebih!</b> <div class="spoiler_text"><hr><br><p>  Fragmen berikut ini menarik karena, meskipun faktanya mengoreksi kesalahan, kunci iterable dinamai dengan nama yang sama yang digunakan untuk nilai iterable.  Kode baru tidak terlihat benar dan dapat membingungkan programmer berikutnya. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gonum / gonum: Fixed bug dalam fungsi bagian</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-for _, el := range *s1 { +for el := range *s1 { if _, ok := (*s2)[el]; !ok { return false }</span></span></code> </pre> <br><p>  Hasil yang dinamai adalah variabel biasa yang hampir sama, sehingga hasilnya diinisialisasi sesuai dengan aturan yang sama.  Pointer akan memiliki nilai <code>nil</code> dan jika Anda ingin bekerja dengan objek ini, Anda perlu menginisialisasi pointer ini secara eksplisit (misalnya, melalui yang <code>new</code> ). </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dgraph-io / dgraph: memperbaiki bug referensi nil pointer di server / main.go</a> : </p><br><pre> <code class="diff hljs">func (s *server) Query(ctx context.Context, - req *graph.Request) (resp *graph.Response, err error) { + req *graph.Request) (*graph.Response, error) { + resp := new(graph.Response)</code> </pre> <br><p>  Paling sering dan paling <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">membayangi</a> gigitan ketika berhadapan dengan kesalahan. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">btcsuite / btcd: blockchain / indexers: perbaiki bug dalam pengindeksan ulang pengejaran</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-block, err := btcutil.NewBlockFromBytes(blockBytes) +block, err = btcutil.NewBlockFromBytes(blockBytes) if err != nil { return err }</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">go-xorm / xorm: fix insert err bug</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-err = session.Rollback() +err1 := session.Rollback() +if err1 == nil { + return lastId, err +} +err = err1</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gin-gonic / gin: Memperbaiki masalah baris baru dengan debugPrint dalam fungsi Run *</a> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-debugPrint("Listening and serving HTTP on %s", addr) +debugPrint("Listening and serving HTTP on %s\n", addr)</span></span></code> </pre> <br><p>  Menerapkan mutex pada contoh di bawah ini menuntun saya pada gagasan menulis cek yang melaporkan penggunaan <code>*sync.Mutex</code> sebagai anggota struktur.  Dave Cheney merekomendasikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">selalu menggunakan nilai mutex</a> , bukan pointer ke sana. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tealeg / xlsx: memperbaiki bug saat memuat spreadsheet</a> : </p><br><pre> <code class="diff hljs"> styleCache map[int]*Style `-` + lock *sync.RWMutex }</code> </pre> <br><hr></div></div><br><h1 id="krestovyy-pohod-protiv-podozritelnogo-koda">  Perang salib melawan kode yang mencurigakan </h1><br><h2 id="badcond">  badCond </h2><br><p>  Pemeriksaan <code>badCond</code> menemukan ekspresi logis yang berpotensi salah. </p><br><p>  Contoh ekspresi logis yang mencurigakan: </p><br><ul><li>  Hasilnya selalu <code>true</code> atau <code>false</code> </li><li>  Ungkapan ini ditulis dalam bentuk yang hampir tidak bisa dibedakan dari yang keliru </li></ul><br><p>  Pemeriksaan ini juga berfungsi pada operasi seperti " <code>x == nil &amp;&amp; x == y</code> ".  Satu solusi sederhana adalah menulis ulang ke " <code>x == nil &amp;&amp; y == nil</code> ".  Keterbacaan kode tidak menderita, tetapi linter tidak akan melihat sesuatu yang mencurigakan dalam kode ini. </p><br><p>  Berikut adalah contoh perbaikan bug yang dapat ditemukan oleh <code>badCond</code> : </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-if err1 := f(); err != nil &amp;&amp; err == nil { +if err1 := f(); err1 != nil &amp;&amp; err == nil { err = err1 }</span></span></code> </pre> <br><p>  <strong>Piala:</strong> </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">moby / buildkit: snapshot: perbaiki kondisi yang tidak mungkin</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tdewolff / parse: EqualFold dari util.go memiliki kondisi aneh</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HouzuoGuo / tiedot: httpapi: kondisi mencurigakan di srv_test.go</a> </li></ul><br><h2 id="weakcond">  lemah </h2><br><p>  <code>weakCond</code> mirip dengan <code>badCond</code> , tetapi tingkat kepercayaan peringatan sedikit lebih rendah. </p><br><p>  Kondisi yang lemah adalah kondisi yang tidak mencakup input dengan cukup baik. </p><br><p>  Contoh bagus dari kondisi lemah (tidak memadai) adalah memeriksa irisan untuk <code>nil</code> dan kemudian menggunakan elemen pertama.  Kondisi " <code>s != nil</code> " tidak cukup di sini.  Kondisi yang benar adalah " <code>len(s) != 0</code> " atau yang setara: </p><br><pre> <code class="diff hljs">func addRequiredHeadersToRedirectedRequests( req *http.Request, via []*http.Request) error { - if via != nil &amp;&amp; via[0] != nil { + if len(via) != 0 &amp;&amp; via[0] != nil {</code> </pre> <br><p>  <strong>Piala:</strong> </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">etcd-io / etcd: etcdserver / api / v2v3: pengindeksan setelah nil check tanpa len check</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">moby / moby: registry: pengindeksan setelah nil check tanpa len check</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">inkyblackness / diretas: ss1 / content / text: pengindeksan setelah nil check tanpa len check</a> </li></ul><br><h2 id="duparg">  dupArg </h2><br><p>  Untuk beberapa fungsi, memberikan nilai (atau variabel) yang sama dengan beberapa argumen tidak masuk akal.  Cukup sering, ini menandakan kesalahan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">salin / tempel</a> . </p><br><p>  Contoh dari fungsi tersebut adalah <code>copy</code> .  <code>copy(xs, xs)</code> ekspresi <code>copy(xs, xs)</code> tidak masuk akal. </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-if !bytes.Equal(i2.Value, i2.Value) { +if !bytes.Equal(i1.Value, i2.Value) { return fmt.Errorf("tries differ at key %x", i1.Key) }</span></span></code> </pre> <br><p>  <strong>Piala:</strong> </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ethereum / go-ethereum: light: memperbaiki argumen yang digandakan dalam byte. Panggilan yang sama</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">openshift / origin: perbaiki reflect.DeepEqual (x, x) bug</a> </li></ul><br><h2 id="dupcase">  dupCase </h2><br><p>  Anda mungkin tahu bahwa di Go Anda tidak dapat menggunakan nilai <code>case</code> duplikat di dalam <code>switch</code> . </p><br><p>  Contoh di bawah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ini tidak dapat dikompilasi</a> : </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> x := <span class="hljs-number"><span class="hljs-number">0</span></span>; x { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: fmt.Println(<span class="hljs-string"><span class="hljs-string">"first"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: fmt.Println(<span class="hljs-string"><span class="hljs-string">"second"</span></span>) }</code> </pre> <br><blockquote>  Kesalahan kompilasi: duplikat case 1 di switch. </blockquote><p>  Tetapi bagaimana jika kita mengambil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">contoh yang lebih menarik</a> : </p><br><pre> <code class="go hljs">one := <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> x := <span class="hljs-number"><span class="hljs-number">1</span></span>; x { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> one: fmt.Println(<span class="hljs-string"><span class="hljs-string">"first"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> one: fmt.Println(<span class="hljs-string"><span class="hljs-string">"second"</span></span>) }</code> </pre> <br><p>  Nilai duplikat diizinkan melalui variabel.  Selain itu, <code>switch true</code> memberi lebih banyak ruang untuk kesalahan: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> x := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-literal"><span class="hljs-literal">true</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> x == <span class="hljs-number"><span class="hljs-number">1</span></span>: fmt.Println(<span class="hljs-string"><span class="hljs-string">"first"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> x == <span class="hljs-number"><span class="hljs-number">1</span></span>: fmt.Println(<span class="hljs-string"><span class="hljs-string">"second"</span></span>) }</code> </pre> <br><p>  Dan berikut ini adalah contoh untuk memperbaiki kesalahan nyata: </p><br><pre> <code class="diff hljs">switch { case m &lt; n: // Upper triangular matrix. //   . case m == n: // Diagonal matrix. //   . -case m &lt; n: // Lower triangular matrix. +case m &gt; n: // Lower triangular matrix. //   . }</code> </pre> <br><p>  <strong>Piala:</strong> </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mellium / sasl: menghapus case switch duplikat</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gonum / gonum: memperbaiki kasus saklar duplikat</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pact-foundation / pact-go: menghapus duplikat switch case</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">minio / minio: klausa saklar kasus duplikat yang mencurigakan dalam cmd / object-api-error.go</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">henrylee2cn / pholcus: common / bytes: menghapus duplikat switch case</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">go-ble / ble: linux / att: memperbaiki duplikat saklar kasus kesalahan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">buruh pelabuhan / distribusi: registri / penyimpanan: memperbaiki kasus saklar digandakan</a> </li></ul><br><h2 id="dupbranchbody">  dupBranchBody </h2><br><p>  Pernyataan bersyarat seperti <code>if/else</code> dan <code>switch</code> memiliki badan untuk dieksekusi.  Ketika kondisi terpenuhi, kontrol ditransfer ke unit operasi terkait.  Sementara diagnostik lain memverifikasi bahwa kondisi blok ini berbeda, <code>dupBranchBody</code> memeriksa bahwa blok yang dapat dieksekusi sendiri tidak sepenuhnya identik. </p><br><p>  Kehadiran duplikat badan di dalam pernyataan bersyarat, kecuali jika itu adalah <code>type switch</code> , setidaknya mencurigakan. </p><br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-if s, err := r.ReceivePack(context.Background(), req); err != nil { - return s, err -} else { - return s, err -} +return r.ReceivePack(context.Background(), req)</span></span></code> </pre> <br><p>  Penilaian tentang tingkat kebenaran kode di bawah ini diserahkan kepada pembaca: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> field.IsMessage() || p.IsGroup(field) { <span class="hljs-comment"><span class="hljs-comment">//   . } else if field.IsString() { if nullable &amp;&amp; !proto3 { p.generateNullableField(fieldname, verbose) } else { pP(`if this.`, fieldname, ` != that1.`, fieldname, `{`) } } else { if nullable &amp;&amp; !proto3 { p.generateNullableField(fieldname, verbose) } else { pP(`if this.`, fieldname, ` != that1.`, fieldname, `{`) } } }</span></span></code> </pre> <br><p>  Badan di dalam " <code>if field.IsString()</code> " dan " <code>else</code> " yang terkait identik. </p><br><p>  <strong>Piala:</strong> </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">src-d / go-git: Badan cabang duplikasi yang mencurigakan</a> </li></ul><br><h2 id="caseorder">  caseOrder </h2><br><p>  Semua tipe di dalam <code>type switch</code> diurutkan secara berurutan, ke yang kompatibel pertama.  Jika nilai tag bertipe <code>*T</code> , dan mengimplementasikan antarmuka <code>I</code> , maka Anda harus meletakkan label dengan " <code>case *T</code> " <em>sebelum</em> label dengan " <code>case I</code> ", jika tidak hanya " <code>case I</code> " yang akan dieksekusi, karena <code>*T</code> kompatibel dengan <code>I</code> (tetapi bukan sebaliknya). </p><br><pre> <code class="diff hljs">case string: res = append(res, NewTargetExpr(v).toExpr().(*expr)) -case Expr: - res = append(res, v.toExpr().(*expr)) case *expr: res = append(res, v) +case Expr: + res = append(res, v.toExpr().(*expr))</code> </pre> <br><p>  <strong>Piala:</strong> </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cmd / guru: memperbaiki urutan kasus yang salah di uraikan.go</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">message / pipeline: memperbaiki urutan jenis sakelar</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">coyove / goflyway: proxy: memperbaiki urutan kasus dalam saklar jenis</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">go-graphite / carbonapi: pkg / parser: memperbaiki jenis saklar kasus pesanan</a> </li></ul><br><h2 id="offby1">  offBy1 </h2><br><p>  Kesalahan per unit sangat populer sehingga bahkan memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman wikipedia sendiri</a> . </p><br><pre> <code class="diff hljs">if len(optArgs) &gt; 1 { return nil, ErrTooManyOptArgs } -node = optArgs[1] +node = optArgs[0]</code> </pre> <br><pre> <code class="diff hljs"><span class="hljs-deletion"><span class="hljs-deletion">-last := xs[len(xs)] +last := xs[len(xs) - 1]</span></span></code> </pre> <br><p>  <code>go-critic</code> memiliki opsi terbatas untuk menemukan kesalahan seperti itu, tetapi sejauh ini tidak satu perbaikan telah dikirim ke repositori publik.  Berikut adalah beberapa perbaikan yang ditemukan saat melihat cerita: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">btcsuite / btcd: tes dan perbaiki bug di getaddednodeinfo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">btcsuite / btcd: Tingkatkan cakupan tes dan perbaiki beberapa bug yang ditemukan oleh tes</a> </li></ul><br><h1 id="nemnogo-uzhasov-naposledok">  Sedikit ngeri pada akhirnya </h1><br><p>  <code>go vet</code> memiliki pemeriksaan yang baik untuk ekspresi seperti " <code>x != a || x != b</code> ".  Tampaknya orang mungkin tidak tahu tentang <code>gometalinter</code> , tetapi <code>go vet</code> meluncurkan hampir semua orang, bukan? </p><br><p>  Menggunakan utilitas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gogrep,</a> saya mengumpulkan daftar kecil ekspresi serupa yang masih di cabang utama dari beberapa proyek. </p><br><div class="spoiler">  <b class="spoiler_title">Untuk kucing paling berani</b> <div class="spoiler_text"><hr><br><p>  Saya mengusulkan untuk mempertimbangkan daftar ini dan mengirimkan permintaan penarikan. </p><br><pre> <code class="plaintext hljs">cloud.google.com/go/trace/trace_test.go:943:7: expectTraceOption != ((o2&amp;1) != 0) || expectTraceOption != ((o3&amp;1) != 0) github.com/Shopify/sarama/mocks/sync_producer_test.go:36:5: offset != 1 || offset != msg.Offset github.com/Shopify/sarama/mocks/sync_producer_test.go:44:5: offset != 2 || offset != msg.Offset github.com/docker/libnetwork/api/api_test.go:376:5: id1 != i2e(i2).ID || id1 != i2e(i3).ID github.com/docker/libnetwork/api/api_test.go:408:5: "sh" != epList[0].Network || "sh" != epList[1].Network github.com/docker/libnetwork/api/api_test.go:1196:5: ep0.ID() != ep1.ID() || ep0.ID() != ep2.ID() github.com/docker/libnetwork/api/api_test.go:1467:5: ep0.ID() != ep1.ID() || ep0.ID() != ep2.ID() github.com/docker/libnetwork/ipam/allocator_test.go:1261:5: len(indices) != len(allocated) || len(indices) != num github.com/esimov/caire/grayscale_test.go:27:7: r != g || r != b github.com/gogo/protobuf/test/bug_test.go:99:5: protoSize != mSize || protoSize != lenData github.com/gogo/protobuf/test/combos/both/bug_test.go:99:5: protoSize != mSize || protoSize != lenData github.com/gogo/protobuf/test/combos/marshaler/bug_test.go:99:5: protoSize != mSize || protoSize != lenData github.com/gogo/protobuf/test/combos/unmarshaler/bug_test.go:99:5: protoSize != mSize || protoSize != lenData github.com/gonum/floats/floats.go:65:5: len(dst) != len(s) || len(dst) != len(y) github.com/gonum/lapack/testlapack/dhseqr.go:139:7: wr[i] != h.Data[i*h.Stride+i] || wr[i] != h.Data[(i+1)*h.Stride+i+1] github.com/gonum/stat/stat.go:1053:5: len(x) != len(labels) || len(x) != len(weights) github.com/hashicorp/go-sockaddr/ipv4addr_test.go:659:27: sockaddr.IPPort(p) != test.z16_portInt || sockaddr.IPPort(p) != test.z16_portInt github.com/hashicorp/go-sockaddr/ipv6addr_test.go:430:27: sockaddr.IPPort(p) != test.z16_portInt || sockaddr.IPPort(p) != test.z16_portInt github.com/nats-io/gnatsd/server/monitor_test.go:1863:6: v.ID != c.ID || v.ID != r.ID github.com/nbutton23/zxcvbn-go/adjacency/adjcmartix.go:85:7: char != "" || char != " " github.com/openshift/origin/pkg/oc/cli/admin/migrate/migrator_test.go:85:7: expectedInfos != writes || expectedInfos != saves github.com/openshift/origin/test/integration/project_request_test.go:120:62: added != deleted || added != 1 github.com/openshift/origin/test/integration/project_request_test.go:126:64: added != deleted || added != 4 github.com/openshift/origin/test/integration/project_request_test.go:132:62: added != deleted || added != 1 gonum.org/v1/gonum/floats/floats.go:60:5: len(dst) != len(s) || len(dst) != len(y) gonum.org/v1/gonum/lapack/testlapack/dhseqr.go:139:7: wr[i] != h.Data[i*h.Stride+i] || wr[i] != h.Data[(i+1)*h.Stride+i+1] gonum.org/v1/gonum/stat/stat.go:1146:5: len(x) != len(labels) || len(x) != len(weights)</code> </pre> <br><hr></div></div><br><h1 id="uchimsya-na-chuzhih-oshibkah">  Belajar dari kesalahan orang lain </h1><br><p><img src="https://habrastorage.org/webt/ys/9n/qo/ys9nqo2yu_gvopttkccqvn3cd4c.png"></p><br><p>  Tidak, bahkan pada bagian terakhir tidak akan ada apa-apa tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pembelajaran mesin</a> . </p><br><p>  Tetapi yang akan ditulis di sini adalah tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">golangci-lint</a> , yang mengintegrasikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kritikus</a> dalam salah satu rilis terbaru.  <code>golangci-lint</code> adalah analog dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">gometalinter</a> , yang dapat Anda baca tentang kelebihannya, misalnya, dalam artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Analisis statis di Go: cara kami menghemat waktu saat memeriksa kode</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"</a> </p><br><p>  <code>go-critic</code> baru-baru ini ditulis ulang menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lintpack</a> .  Detail dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Go lintpack: manajer linter yang</a> dapat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dikompilasi</a> . </p><br><p>  Jika Anda belum mulai secara aktif menggunakan alat untuk menganalisis program Anda untuk kesalahan potensial, baik gaya dan logis, hari ini saya sarankan sekali lagi memikirkan perilaku Anda sambil minum teh bersama rekan kerja.  Anda akan berhasil. </p><br><p>  Baik untuk semua </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id432848/">https://habr.com/ru/post/id432848/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id432838/index.html">Pengembangan perangkat lunak melalui prisma percobaan Milgram "Pengajuan ke otoritas"</a></li>
<li><a href="../id432840/index.html">Cara meningkatkan efektivitas belajar bahasa Inggris dan mulai menulis dengan lebih baik: pilih asisten online</a></li>
<li><a href="../id432842/index.html">Beberapa catatan tentang desain sistem informasi</a></li>
<li><a href="../id432844/index.html">Survei pra-desain dalam pengembangan sistem informasi</a></li>
<li><a href="../id432846/index.html">Noam Chomsky: di mana kecerdasan buatan salah arah?</a></li>
<li><a href="../id432852/index.html">Pengembangan spesifikasi teknis sesuai dengan GOST 34 sederhana dan mudah</a></li>
<li><a href="../id432858/index.html">Very Corporate Post 2: Laporan Pembukaan Moskow</a></li>
<li><a href="../id432860/index.html">PlayStation Classic diretas, sekarang game dapat dijalankan dari flash drive</a></li>
<li><a href="../id432862/index.html">Prototipe platform profil digital warga akan diluncurkan di Rusia pada akhir 2019</a></li>
<li><a href="../id432866/index.html">Membuat desain ulang - kehilangan satu miliar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>