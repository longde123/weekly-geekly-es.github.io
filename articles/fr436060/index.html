<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÖ üë®üèø‚Äçüé® üñêüèø Solutions architecturales pour un jeu mobile. Partie 3: Vue sur la pouss√©e du jet üë©üèº‚Äçü§ù‚Äçüë®üèæ üíÜüèΩ üë∏üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans les articles pr√©c√©dents, nous avons d√©crit comment un mod√®le devrait √™tre organis√© de mani√®re pratique et avec de larges capacit√©s, quel type de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Solutions architecturales pour un jeu mobile. Partie 3: Vue sur la pouss√©e du jet</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436060/"><img src="https://habrastorage.org/webt/ix/84/lz/ix84lzlun0rnpohgx14wu7mzbp4.jpeg"><br><br>  Dans les articles pr√©c√©dents, nous avons d√©crit comment un mod√®le devrait √™tre organis√© de mani√®re pratique et avec de larges capacit√©s, quel type de syst√®me de commande lui conviendrait, qui agit comme un contr√¥leur, il est temps de parler de la troisi√®me lettre de notre abr√©viation alternative MVC. <br><br>  En fait, le Assetstore a une biblioth√®que UniRX tr√®s sophistiqu√©e pr√™te √† l'emploi qui impl√©mente la r√©activit√© et contr√¥le l'inversion pour l'unit√©.  Mais nous en parlerons √† la fin de l'article, car cet outil puissant, √©norme et compatible RX pour notre cas est assez redondant.  Faire tout ce dont nous avons besoin est parfaitement possible sans tirer le RX, et si vous le poss√©dez, il ne vous sera pas difficile d'en faire de m√™me. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solutions architecturales pour un jeu mobile.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1: Mod√®le</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solutions architecturales pour un jeu mobile.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2: commande et leurs files d'attente</a> <br><a name="habracut"></a><br>  Lorsqu'une personne commence √† peine √† √©crire le premier jeu, il semble logique pour elle d'exister une fonction qui dessine la forme enti√®re ou une partie de celle-ci, et la tire √† chaque fois que quelque chose d'important change.  Au fil du temps, l'interface grandit, la forme et les parties des moules deviennent cent, puis deux cents, et lorsque le portefeuille change d'√©tat, un quart d'entre eux doivent √™tre redessin√©s.  Et puis le manager vient et dit que "comme dans ce jeu" vous devez faire un petit point rouge sur le bouton s'il y a une section √† l'int√©rieur du bouton dans laquelle il y a une sous-section dans laquelle le bouton est, et maintenant vous avez suffisamment de ressources pour faire quelque chose en cliquant dessus c'est important.  Et c'est tout, navigu√© ... <br><br>  Le d√©part de la notion de dessin se d√©roule en plusieurs √©tapes.  Premi√®rement, le probl√®me des champs uniques est r√©solu.  Vous avez, par exemple, un champ dans le mod√®le et un champ de texte dans lequel tout son contenu doit √™tre affich√©.  Ok, nous commen√ßons un objet qui s'abonne aux mises √† jour de ce champ, et √† chaque mise √† jour il ajoute les r√©sultats √† un champ de texte.  Dans le code, quelque chose comme ceci: <br><br><pre><code class="cpp hljs">var observable = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ChildControl(FCPlayerModel.ASSIGNED, Player); observable.onChange(i =&gt; Assigned.text = i.ToString())</code> </pre> <br>  Maintenant, nous n'avons pas besoin de suivre le redessin, il suffit de cr√©er cette conception, puis tout ce qui se passe dans le mod√®le tombera dans l'interface.  Bon, mais encombrant, il contient beaucoup de gestes manifestement inutiles qu'un programmeur devra √©crire 100 500 fois avec ses mains et parfois faire des erreurs.  Emballons ces publicit√©s dans une fonction d'extension qui masquera les lettres suppl√©mentaires sous le capot. <br><br><pre> <code class="cpp hljs">Player.Get(c, FCPlayerModel.ASSIGNED).Action(c, i =&gt; Assigned.text = i.ToString());</code> </pre> <br>  Bien mieux, mais ce n'est pas tout.  Le d√©placement du champ de mod√®le dans le champ de texte est une op√©ration tellement fr√©quente et typique que nous allons cr√©er une fonction wrapper distincte pour cela.  Maintenant, cela se r√©v√®le assez bri√®vement et bien, comme il me semble. <br><br><pre> <code class="cpp hljs">Player.Get(c, FCPlayerModel.ASSIGNED).SetText(c, Assigned);</code> </pre> <br>  Ici, j'ai montr√© l'id√©e principale, qui me guidera lors de la cr√©ation d'interfaces pour le reste de ma vie: "Si un programmeur devait faire quelque chose au moins deux fois, enveloppez-le dans une fonction sp√©ciale pratique et courte." <br><br><h2>  Collecte des ordures </h2><br>  Un effet secondaire de l'ing√©nierie d'interface r√©active est la cr√©ation d'un tas d'objets qui sont abonn√©s √† quelque chose et ne laisseront donc pas de m√©moire sans coup de pied sp√©cial.  Pour moi, dans les temps anciens, j'ai trouv√© un moyen qui n'est pas si beau, mais simple et abordable.  Lors de la cr√©ation d'un formulaire, une liste de tous les contr√¥leurs cr√©√©s en relation avec ce formulaire est appel√©e, par souci de concision, simplement "c".  Toutes les fonctions d'encapsuleur sp√©ciales acceptent cette liste comme premier param√®tre requis et lorsque DisconnectModel le formulaire, il passe la liste de tous les contr√¥les et la d√©sactive sans piti√© avec le code de l'anc√™tre commun.  Pas de beaut√© et de gr√¢ce, mais bon march√©, fiable et relativement pratique.  Vous pouvez avoir un peu plus de s√©curit√© si, au lieu de la feuille de contr√¥le, vous avez besoin d'IView pour entrer et donner cela √† tous ces endroits.  Essentiellement la m√™me chose, oublier de remplir tout de m√™me ne fonctionnera pas, mais c'est plus difficile √† pirater.  J'ai peur d'oublier, mais je n'ai pas tr√®s peur que quelqu'un brise d√©lib√©r√©ment le syst√®me, car des gens aussi intelligents doivent √™tre combattus avec une ceinture et d'autres m√©thodes non logicielles, donc je me limite √† c. <br><br>  Une approche alternative peut √™tre tir√©e d'UniRX.  Chaque wrapper cr√©e un nouvel objet qui a un lien vers le pr√©c√©dent qu'il √©coute.  Et √† la fin, la m√©thode AddTo (composant) est appel√©e, qui attribue la cha√Æne enti√®re de contr√¥les √† un objet destructible.  Dans notre exemple, un tel code ressemblerait √† ceci: <br><br><pre> <code class="cpp hljs">Player.Get(FCPlayerModel.ASSIGNED).SetText(Assigned).AddTo(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre> <br>  Si ce dernier propri√©taire de la cha√Æne d√©cide d'√™tre d√©truit, il enverra √† tous les contr√¥les qui lui sont assign√©s la commande ¬´tuez-vous de disposer si personne ne vous √©coute sauf moi¬ª.  Et toute la cha√Æne est nettoy√©e docilement.  Donc, bien s√ªr, c'est beaucoup plus concis, mais de mon point de vue, il y a un d√©faut important.  AddTo peut √™tre accidentellement oubli√© et personne ne le saura jusqu'√† ce qu'il soit trop tard. <br><br>  En fait, vous pouvez utiliser le hack Unity sale et vous passer de tout code suppl√©mentaire dans View: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> T AddTo&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> T disposable, Component component) where T : IDisposable { var composite = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CompositeDisposable(disposable); Observable .EveryUpdate() .Where(_ =&gt; component == null) .Subscribe(_ =&gt; composite.Dispose()) .AddTo(composite); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> disposable; }</code> </pre> <br>  Comme vous le savez, un lien vers un composant Unicomponent ou GameObject dans Unity est nul.  Mais vous devez comprendre que cet hakokostyl cr√©e un √©couteur de mise √† jour pour chaque cha√Æne de contr√¥les d√©truite, et c'est d√©j√† un peu poliment. <br><br><h2>  Interface ind√©pendante du mod√®le </h2><br>  Notre id√©al, que nous pouvons cependant facilement atteindre, est la situation o√π nous pouvons charger le GameState complet √† tout moment, √† la fois le mod√®le v√©rifi√© par le serveur et le mod√®le de donn√©es pour l'interface utilisateur, et l'application sera exactement dans le m√™me √©tat, jusqu'√† l'√©tat de tous les boutons.  Il y a deux raisons √† cela.  La premi√®re est que certains programmeurs aiment stocker √† l'int√©rieur du contr√¥leur de formulaire, ou m√™me dans la vue elle-m√™me, citant le fait que leur cycle de vie est exactement le m√™me que celui du formulaire lui-m√™me.  La seconde est que m√™me si toutes les donn√©es du formulaire se trouvent dans son mod√®le, la commande pour cr√©er et remplir le formulaire lui-m√™me prend la forme d'un appel de fonction explicite, avec quelques param√®tres suppl√©mentaires, par exemple, sur quel champ de la liste doit √™tre concentr√©. <br><br>  Vous n'avez pas √† g√©rer cela si vous ne voulez pas vraiment de d√©bogage.  Mais nous ne sommes pas comme √ßa, nous voulons d√©boguer l'interface aussi facilement que les op√©rations de base avec le mod√®le.  Pour ce faire, l'accent suivant.  Dans la partie UI du mod√®le, une variable est configur√©e, par exemple .main, et dans celle-ci, dans le cadre de la commande, vous mettez le mod√®le du formulaire que vous souhaitez voir.  L'√©tat de cette variable est surveill√© par un contr√¥leur sp√©cial, si un mod√®le appara√Æt dans cette variable, selon son type, il instancie la forme souhait√©e, la place l√† o√π c'est n√©cessaire et lui envoie un appel √† ConnectModel (mod√®le).  Si la variable est lib√©r√©e du mod√®le, le contr√¥leur supprimera le formulaire du canevas et l'utilisera.  Ainsi, aucune action pour contourner le mod√®le ne se produit et tout ce que vous avez fait avec l'interface est clairement visible sur le mod√®le ExportChanges.  Et puis nous sommes guid√©s par le principe de "tout ce qui a √©t√© fait deux fois" et utilisons exactement le m√™me contr√¥leur √† tous les niveaux de l'interface.  Si le moule a une place pour un autre moule, un mod√®le d'interface utilisateur est cr√©√© pour lui et une variable est cr√©√©e dans le mod√®le du moule parent.  Exactement la m√™me chose avec les listes. <br><br>  Un effet secondaire de cette approche est que deux fichiers sont ajout√©s √† n'importe quel formulaire, l'un avec un mod√®le de donn√©es pour ce formulaire, et l'autre, g√©n√©ralement une monobah contenant des liens vers des √©l√©ments d'interface utilisateur, qui, apr√®s avoir re√ßu le mod√®le dans sa fonction ConnectModel, cr√©era tous les contr√¥leurs r√©actifs pour tous champs de mod√®le et tous les √©l√©ments de l'interface utilisateur.  Eh bien, il est encore plus compact, de sorte qu'il est √©galement pratique de travailler avec, probablement impossible.  Si possible, √©crivez dans les commentaires. <br><br><h2>  Liste des contr√¥les </h2><br>  Une situation typique est lorsque le mod√®le a une liste de certains √©l√©ments.  Comme je veux que tout soit fait de mani√®re tr√®s pratique, et de pr√©f√©rence sur une seule ligne, je voulais √©galement faire quelque chose pour les listes qui seraient pratiques √† g√©rer.  Une ligne est possible, mais elle s'av√®re inconfortablement longue.  Empiriquement, il s'est av√©r√© que presque toute la diversit√© des cas n'est couverte que par deux types de contr√¥les.  Le premier surveille l'√©tat d'une collection et appelle trois fonctions lambda, la premi√®re est appel√©e lorsqu'un √©l√©ment est ajout√© √† la collection, la seconde lorsque l'√©l√©ment quitte la collection et enfin la troisi√®me est appel√©e lorsque les √©l√©ments de la collection changent l'ordre.  Le deuxi√®me type de contr√¥le le plus courant surveille la liste et est la source d'un abonnement √† partir d'elle - les pages avec un num√©ro sp√©cifique.  C'est-√†-dire, par exemple, qu'il suit une liste avec une longueur de 102 √©l√©ments, et il retourne lui-m√™me une liste de 10 √©l√©ments, du 20 au 29.  Et les √©v√©nements g√©n√©r√©s sont exactement les m√™mes que s'il s'agissait d'une liste elle-m√™me. <br><br>  Bien s√ªr, suivant le principe de ¬´cr√©er un wrapper pour tout ce qui a √©t√© fait deux fois¬ª, un grand nombre de wrappers pratiques sont apparus, par exemple, un qui accepte uniquement Factory comme entr√©e, cr√©ant une correspondance entre les types de mod√®le et leurs vues, et un lien vers Canvas dans lequel vous devez ajouter les √©l√©ments.  Et bien d'autres similaires, seulement environ une douzaine d'emballages pour des cas typiques. <br><br><h2>  Contr√¥les plus complexes </h2><br>  Parfois, des situations surgissent qui sont redondantes √† exprimer √† travers le mod√®le, autant qu'elles sont √©videntes.  Ici, les contr√¥les qui effectuent une sorte d'op√©ration sur une valeur peuvent venir √† la rescousse, ainsi que les contr√¥les qui surveillent d'autres contr√¥les.  Par exemple, une situation typique: une action a un prix et le bouton n'est actif que s'il y a plus d'argent dans le compte que son prix. <br><br><pre> <code class="cpp hljs">item.Get(c, FCUnitItem.COST).Join(c, Player.Get(c, MONEY)).Func(c, (cost, money) =&gt; cost &lt;= money).SetActive(c, BuyButton);</code> </pre> <br>  En fait, la situation est si typique que, selon mon principe, il y a un emballage pr√™t √† l'emploi, mais j'ai ensuite montr√© son contenu. <br><br>  Nous avons pris l'article √† acheter, cr√©√© un objet qui est abonn√© √† l'un de ses champs, et a une valeur de type long.  Ils ont ajout√© un contr√¥le suppl√©mentaire, qui est √©galement de type long, la m√©thode a renvoy√© un contr√¥le qui a une paire de valeurs, et l'√©v√©nement Changed est d√©clench√© lorsque l'un d'eux change, puis Func cr√©e un objet pour toute modification de l'entr√©e qui calcule la fonction, et l'√©v√©nement Changed est d√©clench√© si la valeur finale est calcul√©e fonction a chang√©. <br><br>  Le compilateur r√©ussira √† cr√©er le type de contr√¥le n√©cessaire sur la base des types de donn√©es d'entr√©e et du type de l'expression r√©sultante.  Dans de rares cas o√π le type retourn√© par la fonction lambda n'est pas √©vident, le compilateur vous demandera de le clarifier explicitement.  Enfin, le dernier appel √©coute le contr√¥le bool√©en, selon lequel il active ou d√©sactive le bouton. <br><br>  En fait, le v√©ritable wrapper du projet accepte deux boutons en entr√©e, l'un pour le cas o√π il y a de l'argent et l'autre quand il n'y en a pas assez, et la commande pour ouvrir la fen√™tre modale "Acheter des devises" se bloque √©galement sur le deuxi√®me bouton.  Et tout cela en une seule ligne. <br><br>  Il est facile de voir qu'en utilisant Join et Func, vous pouvez construire des structures arbitrairement complexes.  Dans mon code, il y avait une fonction qui g√©n√©rait des contr√¥les complexes, calculant combien un joueur pouvait acheter en tenant compte du nombre de joueurs de son c√¥t√©, et la r√®gle selon laquelle tout le monde pouvait d√©passer le budget de 10% si tous ensemble ne d√©passaient pas le budget total.  Et ceci est un exemple de la fa√ßon dont il n'est pas n√©cessaire de le faire, car combien il est simple et facile de d√©boguer ce qui se passe dans les mod√®les, il est tout aussi difficile de d√©tecter une erreur dans les contr√¥les r√©actifs.  Vous allez m√™me assister √† l'ex√©cution et passer beaucoup de temps √† comprendre ce qui y a conduit. <br><br>  Par cons√©quent, le principe g√©n√©ral de l'utilisation de contr√¥les complexes est le suivant: lors du prototypage d'un formulaire, vous pouvez utiliser des structures sur des contr√¥les r√©actifs, surtout si vous n'√™tes pas s√ªr qu'ils deviendront plus compliqu√©s √† l'avenir, mais d√®s que vous pensez que s'il se casse, vous ne comprendrez pas ce qui s'est pass√©, vous devez imm√©diatement transf√©rer ces manipulations vers le mod√®le et placer les calculs effectu√©s pr√©c√©demment dans les contr√¥les dans les m√©thodes d'extension des classes de r√®gles statiques. <br><br>  Ceci est significativement diff√©rent du principe de ¬´Bien faire tout de suite¬ª, si aim√© des perfectionnistes, car nous vivons dans un monde de d√©veloppement de jeux, et lorsque vous commencez √† sauter un formulaire, vous ne pouvez absolument pas √™tre s√ªr de ce qu'il fera en trois jours.  Comme l‚Äôa dit un de mes coll√®gues: ¬´Si j‚Äôobtenais cinq cents chaque fois que les concepteurs de jeux changent d‚Äôavis, je serais d√©j√† une personne tr√®s riche.¬ª  En fait, ce n'est pas mal, mais m√™me vice versa.  Le jeu devrait se d√©velopper par essais et erreurs, car si vous ne faites pas un clone stupide, vous ne pouvez pas imaginer ce dont les joueurs ont vraiment besoin. <br><br><h2>  Une source de donn√©es pour plusieurs vues </h2><br>  Pour tant de cas arch√©typaux que vous devez en parler s√©par√©ment.  Il arrive que le m√™me mod√®le d'un √©l√©ment faisant partie d'un mod√®le d'interface soit rendu dans une vue diff√©rente selon l'endroit et dans quel contexte cela se produit.  Et nous utilisons le principe - ¬´un type, une vue¬ª.  Par exemple, vous avez une carte d'achat d'armes qui contient les m√™mes informations simples, mais dans diff√©rents modes de magasin, elle doit √™tre repr√©sent√©e par des pr√©fabriqu√©s diff√©rents.  La solution se compose de deux parties pour deux situations diff√©rentes. <br><br>  Le premier est lorsque cette vue est plac√©e dans deux vues diff√©rentes, par exemple, un magasin sous la forme d'une liste courte et un magasin avec de grandes images.  Dans ce cas, deux usines distinctes sont configur√©es pour vous aider √† cr√©er une correspondance de type pr√©fabriqu√©.  Dans la m√©thode ConnectModel d'une vue, vous utiliserez l'une et l'autre dans l'autre.  C'est un cas compl√®tement diff√©rent si vous devez montrer des cartes avec des informations absolument identiques en un seul endroit un peu diff√©remment.  Parfois, dans ce cas, le mod√®le d'√©l√©ment a un champ suppl√©mentaire qui indique l'arri√®re-plan festif d'un √©l√©ment particulier, et parfois c'est juste que le mod√®le d'√©l√©ment a un h√©ritier qui n'a pas de champs et doit uniquement √™tre dessin√© avec un autre pr√©fabriqu√©.  En principe, rien ne contredit. <br><br>  Cela semblerait une solution √©vidente, mais j'en ai vu assez dans un code √©trange sur des danses √©tranges avec un tambourin autour de cette situation, et j'ai jug√© n√©cessaire d'√©crire √† ce sujet. <br><br><h2>  Cas particulier: contr√¥les avec beaucoup de d√©pendances </h2><br>  Il y a un cas tr√®s sp√©cial dont je veux parler s√©par√©ment.  Ce sont des contr√¥les qui surveillent un tr√®s grand nombre d'√©l√©ments.  Par exemple, un contr√¥le qui surveille une liste de mod√®les et r√©sume le contenu d'un champ situ√© √† l'int√©rieur de chacun des √©l√©ments.  Avec un grand surtube dans la liste, par exemple, en le remplissant de donn√©es, un tel contr√¥le risque d'attraper autant d'√©v√©nements sur le changement qu'il y en a plus un dans la liste des √©l√©ments.  Recalculer la fonction d'agr√©gation tant de fois est bien s√ªr une mauvaise id√©e.  Surtout pour de tels cas, nous faisons un contr√¥le qui s'abonne √† l'√©v√©nement onTransactionFinished, qui sort du GameState, et un lien vers le GameState, comme nous le rappelons, est disponible dans n'importe quel mod√®le.  Et avec tout changement dans l'entr√©e, ce contr√¥le se contentera de mettre une marque sur lui-m√™me que les donn√©es source ont chang√©, et ne seront recompt√©es que lorsqu'il recevra un message concernant la fin de la transaction, ou lorsqu'il trouvera que la transaction est d√©j√† termin√©e au moment o√π elle a re√ßu un message du flux d'√©v√©nements d'entr√©e .  Il est clair qu'un tel contr√¥le peut ne pas √™tre prot√©g√© contre les messages inutiles s'il existe deux de ces contr√¥les dans la cha√Æne de traitement des flux.  Le premier accumulera un nuage de changements, attendra la fin de la transaction, d√©marrera le flux de changements plus loin, et il y en a un autre qui a d√©j√† attrap√© un tas de changements, a re√ßu l'√©v√©nement vers la fin de la transaction (il n'a pas eu de chance d'√™tre dans la liste des fonctions abonn√©es √† l'√©v√©nement plus t√¥t), a tout compt√©, puis il bam et un autre √©v√©nement de changement, et tout raconter une deuxi√®me fois.  Cela peut √™tre, mais rarement, et plus important encore, si vos contr√¥les effectuent de tels calculs monstrueux plus d'une fois dans un m√™me flux de calculs, alors vous faites quelque chose de mal, et vous devez transf√©rer toutes ces manipulations infernales au mod√®le et aux r√®gles, o√π ils , en fait, l'endroit. <br><br><h2>  Biblioth√®que pr√™te pour UniRX </h2><br>  Et il serait possible de nous limiter √† tout ce qui pr√©c√®de, et de commencer calmement √† √©crire votre chef-d'≈ìuvre, d'autant plus que par rapport au mod√®le et aux √©quipes de contr√¥le, c'est tr√®s simple et ils sont √©crits en moins d'une semaine, si l'id√©e que vous inventiez un v√©lo n'a pas obscurci, et tout est d√©j√† pens√© et √©crit avant moi est distribu√© gratuitement √† tous. <br><br>  En d√©couvrant UniRX, nous trouvons un design magnifique et conforme aux normes qui peut cr√©er des threads √† partir de tout en g√©n√©ral, les fusionner intelligemment, les filtrer du thread principal au thread non principal, ou retourner le contr√¥le au thread principal, qui a un tas d'outils pr√™ts √† l'emploi √† envoyer √† diff√©rents endroits, etc. plus loin.  Nous n'avons pas exactement deux choses l√†-bas: simplicit√© et commodit√© de d√©bogage.  Avez-vous d√©j√† essay√© de d√©boguer un b√¢timent √† plusieurs √©tages sur Linq par √©tapes dans le d√©bogueur?  Ici, c'est encore bien pire.  Dans le m√™me temps, nous manquons totalement de la raison d'√™tre de toutes ces machines sophistiqu√©es.  Dans un souci de simplicit√© des √©tats de d√©bogage et de reproduction, nous manquons compl√®tement d'une vari√©t√© de sources de signaux, tout se passe dans le flux principal, car jouer avec le multithreading dans le m√©ta-jeu est compl√®tement redondant, toute l'asynchronie du traitement des commandes est cach√©e dans le moteur d'envoi des commandes, et l'asynchronie elle-m√™me en prend beaucoup en elle. pas beaucoup d'espace, beaucoup plus d'attention est accord√©e √† toutes sortes de v√©rifications, d'autocontr√¥les et aux possibilit√©s de journalisation et de lecture. <br><br>  En g√©n√©ral, si vous savez d√©j√† comment utiliser UniRX, je le ferai sp√©cialement pour vous pour les mod√®les IObservable, et vous pouvez utiliser les fonctionnalit√©s d'atout de votre biblioth√®que pr√©f√©r√©e l√† o√π vous en avez besoin, mais pour le reste, je sugg√®re de ne pas essayer de construire des r√©servoirs √† partir de voitures √† grande vitesse et des voitures √† partir de r√©servoirs uniquement au sol qui ont tous deux des roues. <br><br>  A la fin de l'article, j'ai √† vous, chers lecteurs, des questions traditionnelles qui sont tr√®s importantes pour moi, mes id√©es sur le beau, et pour les perspectives de d√©veloppement de mon travail scientifique et technique. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436060/">https://habr.com/ru/post/fr436060/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436048/index.html">Collaborez aux points d'acc√®s Wi-Fi</a></li>
<li><a href="../fr436050/index.html">Comment connecter Raspberry PI √† Azure IoT: instructions √©tape par √©tape</a></li>
<li><a href="../fr436052/index.html">Comment cr√©er un d√©partement Data Science et ne pas le g√¢cher</a></li>
<li><a href="../fr436056/index.html">√âv√©nements num√©riques √† Moscou du 14 janvier au 20 janvier</a></li>
<li><a href="../fr436058/index.html">Pr√©sentation des modules d'extension Snom D3 et D7</a></li>
<li><a href="../fr436062/index.html">Syst√®me d'arbitrage pour d√©butants, partie 1</a></li>
<li><a href="../fr436064/index.html">L'intelligence artificielle pour tous</a></li>
<li><a href="../fr436066/index.html">Math√©matiques de l'apocalypse: th√©orie des jeux et crise nucl√©aire des Cara√Øbes</a></li>
<li><a href="../fr436068/index.html">Conf√©rence C ++ Russie 2019</a></li>
<li><a href="../fr436070/index.html">Comment g√©rer les tests floconneux dans la communaut√© opensource</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>