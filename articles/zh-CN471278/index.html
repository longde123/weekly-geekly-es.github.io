<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📛 😙 🔽 通过模板以俄语生成文本 🤳🏼 🏇🏽 🐙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="当我刚开始从事文字游戏时，我决定其主要功能之一应该是对角色动作的精美艺术描述。 我部分想“保存”，因为我不知道如何安排时间。 保存不起作用，但事实证明，Python库（ github ， pypi ）用于生成文本，同时考虑了单词的依赖性及其语法特征。 

 例如，从模板： 
 [英雄] [经过|英雄...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>通过模板以俄语生成文本</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471278/"> 当我刚开始从事文字游戏时，我决定其主要功能之一应该是对角色动作的精美艺术描述。 我部分想“保存”，因为我不知道如何安排时间。 保存不起作用，但事实证明，Python库（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">github</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pypi</a> ）用于生成文本，同时考虑了单词的依赖性及其语法特征。 <br><br> 例如，从模板： <br><blockquote>  <b>[英雄] [经过|英雄]</b>经过不起眼的院子，突然<b>[被发现|英雄]</b>孩子在玩耍。 他们带着木剑，五线谱和怪物面具奔跑。 突然，一位玩家停下来，将<b>[玩具| hero.weapon | vn] [hero.weapon | vn]</b>喊道：“ <b>[我|英雄] [伟大|英雄] [英雄]</b> ！ 得到它！”  -并冲向“野兽”。 他们跌倒在地，跳起胳膊和腿，然后站起来，摘下面具笑了。  <b>[咕| |英雄]</b>和<b>[他自己|英雄] [英雄]</b> ，但没有<b>[</b>开始<b>|英雄]</b>向孩子出去。 </blockquote> 我们可以得到以下文本（更改词为粗体）： <br><blockquote>  <b>哈勒</b> <b>走过</b>一个不起眼的院子，突然<b>发现</b>孩子们在玩耍。 他们带着木剑，五线谱和怪物面具奔跑。 突然，其中一名球员停下脚步， <b>拿出一把镀金的玩具剑</b> ，大喊：“ <b>我是伟大的哈勒</b> ！ 得到它！”  -并冲向“野兽”。 他们跌倒在地，跳起胳膊和腿，然后站起来，摘下面具笑了。  <b>哈尔</b> <b>本人笑了起来</b> ，但没有走出去给小家伙。 </blockquote> 或像这样： <br><blockquote>  <b>费瓦拉（Fievara）</b> <b>走过</b>一个不起眼的院子，突然<b>发现</b>孩子在玩耍。 他们带着木剑，五线谱和怪物面具奔跑。 突然其中一名球员停下脚步， <b>拿出一个粘膜玩具</b> ，喊道：“ <b>我是伟大的费瓦拉</b> ！ 得到它！”  -并冲向“野兽”。 他们跌倒在地，跳起胳膊和腿，然后站起来，摘下面具笑了。  <b>Fievara</b> <b>自己</b> <b>咕gr</b> <b>了一声</b> ，但没有跟小孩子走。 </blockquote><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">情侣预订</b> <div class="spoiler_text">  <b>免责声明1</b> 。 我不是语言学家，图书馆是“为了工作”而写的，而不是“完全符合语言的所有规则”。 因此，对于术语不正确或俄语规则解释不完整，我深表歉意。 <br><br>  <b>免责声明2</b> 。 该库大约是在5年前开发的，现在可能会出现文本生成的替代方法（或发展为正常状态）。 例如，一些有趣的东西可能在软件中用于本地化。 <br></div></div><br><h2> 关于文本生成的复杂性 </h2><br> 俄语在许多方面都很复杂。 特别地，单词具有大量的形态形式。 例如，形容词可以是完整形式，也可以是简短形式，随性别，数量，大小写，动画和比较程度的不同而不同。 具体形式的选择取决于句子中的其他单词。 我们说“美丽的女人”，但“美丽的男人”。 在这种情况下，“美丽”一词取决于“男人” /“女人”一词-其形式由主词的性别决定。 <br><br> 因此，当我们尝试根据性别与某人联系时，困难就开始了。 在为网站，信件，游戏编写文本时，必须要么用非常整齐的措辞（避免用户性别），要么一次写几篇文本，或者使用不同程度的通用性标记语言。 <br><br> 我想要的不仅仅是简单地依赖播放器的性别，甚至还希望用户自己可以添加新文本（众所周知，“普通”用户非常文盲：-)）。 因此，我没有找到合适的软件，所以决定自己做。 <br><br><h2> 图书馆特色 </h2><br>  UTG（通用文本生成器-名称不太普通）允许您使用以下内容创建用于生成文本的模板： <br><br><ul><li> 变量（例如角色名称）； </li><li> 单词对变量的依赖性（例如，名词的形容词）； </li><li> 一些变量对其他变量的依赖； </li><li> 单词和变量的显式属性（例如，您可以指定在父大小写中插入字符名称）； </li></ul><br> 从模板生成文本时： <br><br><ul><li> 主词的必要属性将转移到从属词。 例如，名词的性别被转移到形容词。 </li><li> 从属词的形式与数字一致（考虑到从属词的形式）。 </li><li> 如有必要，可以修改介词（例如，关于我/关于您），为此应标出借口。 </li></ul><br> 附加实现： <br><br><ul><li> 用于存储必要单词的字典。 </li><li> 模板存储库，用于按类型存储模板并选择随机模板。 </li></ul><br> 图书馆“知道”名词，形容词，代词，动词，分词，数字，介词和“引号”（不变的文字）的存在。 <br><br> 考虑以下单词的属性：词性，格，格，动画，数字，性别，动词形式，时间，人，类型，形容词类别，形容词程度，代词类别，语音，介词形式，形容词形式，分词形式，名词形式（除了正常形式外，名词还有一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">可数</a> ）。 <br><br><h2> 模板格式和用法示例 </h2><br> 让我们看一个简单的模板： <br><blockquote> 昨天<b>[暴民] [被咬|暴民] [英雄|分机]</b> 。 </blockquote> 根据变量的值，模板可能显示为以下短语： <br><blockquote> 昨天，鬣狗咬了哈雷。 </blockquote> 某某： <br><blockquote> 萤火虫昨天咬了一个鬼。 </blockquote> 更详细地考虑模板： <br><br><ul><li> <code></code> -纯文本。 </li><li>  <code>[mob]</code> -变量，代替怪物的名字。 </li><li>  <code>[|mob]</code> -依赖于变量的单词，其部分属性将根据怪物名称的属性（例如数字）而变化。 文本生成器会自动识别单词形式的属性并尝试保存它们（例如，经过时间将被识别并保存，因此您无需指定它）。 </li><li>  <code>[hero|]</code> -一个变量，用英雄的名字代替。 另外指出，该名称应为宾格。 </li></ul><br><div class="spoiler">  <b class="spoiler_title">更多示例模板。</b> <div class="spoiler_text"> 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">测试中</a>可以找到一些技术示例。 <br><br> 如果您对更多示例感兴趣，可以在玩具网站上查看它们。 可以通过在我的个人资料中翻阅或以个人形式找到指向它的链接。 <br></div></div><br> 模板中的变量词和从属词均以相同的方式突出显示，并具有以下格式： <br><br><ul><li>  <code>[</code> -打开方括号。 </li><li>  <code></code> -依赖单词或变量标识符。 生成器首先检查是否存在具有该名称的变量；如果没有这样的变量，则在词典中搜索单词。 </li><li> <code>|</code>  -竖线-分隔符，如果我们指定其他属性，则需要此分隔符。 </li><li>  <code> </code> -单词形状所依赖的变量可能不存在。 </li><li> <code>|</code>  -竖线-分隔符，如果我们指定其他属性，则需要此分隔符。 </li><li>  <code>   </code> -描述单词的所需形式（大小写，性别等）。 它们的列表可以在github和pypi的项目页面上找到。 </li><li>  <code>]</code>是右方括号。 </li></ul><br> 您可以根据需要指定任何其他属性，它们将按定义顺序应用，例如： <br><br> <code>[ 1| 2|,| 3|,,]</code> <br> <br> 大多数情况下，以下格式已足够： <br><br><ul><li>  <code>[]</code> -以常规形式插入变量（例如，单数的名词情况下为名词）。 </li><li>  <code>[|]</code> -插入具有指定属性的变量。 </li><li>  <code>[|]</code> -插入一个单词，将其与变量匹配（例如，形容词“ beautiful”（带有性别和大小写的名词））。 </li><li>  <code>[||]</code> -插入单词，将其与变量匹配并指定其他属性。 </li></ul><br> 请注意： <br><br><ul><li> 为单词和变量指定属性仅在插入位置有效，因此，为了获得短语“ beautiful hero”，我们必须明确指出两个单词的宾格： <code>[|hero|] [hero|]</code> 。 </li><li> 文本生成器可以通过其形式“猜测”单词的属性，例如，在短语<code>[hero] [|hero]</code>您可以省略动词的时态。 </li><li> 稍后指定的属性将覆盖先前指定的属性。 例如，在短语<code>[|hero] [hero|]</code> ，不会建立形容词的宾语，因为它会被变量hero的主格替换。 </li><li> 可以在github和pypi的库页面上找到单词属性的列表。 </li></ul><br><div class="spoiler">  <b class="spoiler_title">代码示例</b> <div class="spoiler_text"> 需要Python 3 <br><br> 安装方式 <br><br><pre> <code class="bash hljs">pip install utg python -m unittest discover utg</code> </pre><br> 代号 <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> utg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> relations <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> utg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dictionary <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> utg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> words <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> utg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> templates <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> utg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> constructors <span class="hljs-comment"><span class="hljs-comment">####################################### #     ####################################### coins_forms = [#   '', '', '', '', '', '', #   '', '', '', '', '', '', #   (  , #     autofill_missed_forms) '', '', '', '', '', ''] # : ,   coins_properties = words.Properties(r.ANIMALITY.INANIMATE, r.GENDER.FEMININE) #      ,    coins_word = words.Word(type=r.WORD_TYPE.NOUN, forms=coins_forms, properties=coins_properties) #        . #      , #          : # - utg.data.WORDS_CACHES # - utg.data.INVERTED_WORDS_CACHES ############################## #     ############################## #       # (     utg.data.WORDS_CACHES[r.WORD_TYPE.VERB]) action_forms = (['', '', '', '', ''] + [''] * 15) # : ,   action_properties = words.Properties(r.ASPECT.PERFECTIVE, r.VOICE.DIRECT) action_word = words.Word(type=r.WORD_TYPE.VERB, forms=action_forms, properties=action_properties) #       (  ) action_word.autofill_missed_forms() ############################################## #       ############################################## test_dictionary = dictionary.Dictionary(words=[coins_word, action_word]) ################ #   ################ template = templates.Template() # externals —  ,      template.parse('[Npc] [|npc] [hero|] [coins] [|coins|].', externals=('hero', 'npc', 'coins')) ############################## #    ############################## hero_forms = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''] # : ,   hero_properties = words.Properties(r.ANIMALITY.ANIMATE, r.GENDER.MASCULINE) hero = words.WordForm(words.Word(type=r.WORD_TYPE.NOUN, forms=hero_forms, properties=hero_properties)) npc_forms = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''] # : ,   npc_properties = words.Properties(r.ANIMALITY.ANIMATE, r.GENDER.FEMININE) npc = words.WordForm(words.Word(type=r.WORD_TYPE.NOUN, forms=npc_forms, properties=npc_properties)) ########################## #   ########################## result = template.substitute(externals={'hero': hero, 'npc': npc, 'coins': constructors.construct_integer(125)}, dictionary=test_dictionary) ########################## #  ########################## result == '   125 .'</span></span></code> </pre></div></div><br><h2> 关于字典 </h2><br> 您可能已经注意到，UTG需要形成字典。 由于在开发时是“手动”完成的： <br><br><ul><li> 我没有找到任何一般可访问的定性形态词典。 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pymorphy</a>库仍然是第一个版本，并且经常斜视（特别是在带有宾格的情况下），这就是为什么我不得不放弃它。 </li></ul><br> 如果要使用包含大量单词的生成器，请在手动输入它们之前，尝试使用pymorphy2或查找现成的词典并从中导出。 <br><br><h2> 合计 </h2><br> 我希望图书馆会有所帮助。 <br><br> 如果您对它的发展有想法（甚至更好，希望参与其中），请写一条个人消息，执行拉取请求，将错误发布到github。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN471278/">https://habr.com/ru/post/zh-CN471278/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN471264/index.html">选择Mailchimp的替代产品：为什么要切换以及选择哪种产品</a></li>
<li><a href="../zh-CN471266/index.html">未来在这里或在浏览器中编码</a></li>
<li><a href="../zh-CN471268/index.html">了解消息代理。 通过ActiveMQ和Kafka学习消息传递的机制。 第2章ActiveMQ</a></li>
<li><a href="../zh-CN471270/index.html">自动从Google PageSpeed Insights [模板]接收有关网站加载速度的数据</a></li>
<li><a href="../zh-CN471272/index.html">C ++中强类型键入的好处：亲身体验</a></li>
<li><a href="../zh-CN471282/index.html">使用Fast.ai在X光片中寻找肺炎</a></li>
<li><a href="../zh-CN471288/index.html">为“ OnAir”游戏创建角色的头像</a></li>
<li><a href="../zh-CN471294/index.html">关于Haskell，C ++和程序员的诗</a></li>
<li><a href="../zh-CN471296/index.html">精益制造-效率工具</a></li>
<li><a href="../zh-CN471298/index.html">比伯和碧兰挥笔。 AI现在正在唱歌</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>