<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüéì üßïüèæ üèáüèΩ PlantUML - Tudo o que os analistas de neg√≥cios precisam para criar gr√°ficos em documenta√ß√£o de software ü§ê üë• üë©üèø‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Introdu√ß√£o 


 Sou analista de sistemas e meu trabalho √© projetar sistemas de informa√ß√£o automatizados. No entanto, n√£o, √© para escrever e escrever...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PlantUML - Tudo o que os analistas de neg√≥cios precisam para criar gr√°ficos em documenta√ß√£o de software</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416077/"><img src="https://habrastorage.org/webt/nz/gb/ud/nzgbudu_22o0w9-ls4ylmkvp1f0.png"><br><h2 id="vvedenie">  1. Introdu√ß√£o </h2><br><p>  Sou analista de sistemas e meu trabalho √© projetar sistemas de informa√ß√£o automatizados.  No entanto, n√£o, √© para escrever e escrever documentos.  Na terceira vez, n√£o repetirei a palavra "escrever" - afinal, n√£o a "Il√≠ada".  Mas a forma chata de algo definitivamente faz com que a documenta√ß√£o do projeto esteja intimamente relacionada ao poema grego antigo, especialmente quando se trata de trabalhar com o cliente do estado. </p><br><p>  Os gr√°ficos s√£o um gole de criatividade neste mar de texto.  Os gr√°ficos ser√£o discutidos neste artigo.  Mais precisamente - sobre o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PlantUML</a> - do meu ponto de vista, a ferramenta mais adequada para cri√°-los no momento. </p><a name="habracut"></a><br><p>  Tenho certeza que muitos j√° ouviram falar do PlantUML, pelo menos no GitHub ele tem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mais de mil estrelas</a> .  O significado dessa ferramenta √© extremamente simples, pois permite especificar diagramas (na maior parte das vezes em nota√ß√£o UML) na forma de texto que descreve os elementos e os relacionamentos entre eles.  Uma visualiza√ß√£o gr√°fica √© criada automaticamente.  A seguir, √© apresentado um exemplo de gr√°fico de atividades. </p><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">start</span></span> :   ; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (?) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> () :  ; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (?) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> () <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> () :  ; endif :  ////; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> () stop endif stop</code> </pre> <br><img src="https://habrastorage.org/webt/3c/hl/qx/3chlqxczkrvds4uohev8c5etxqa.png"><br><p>  Apesar da popularidade, existem muito poucos artigos sobre Habr√© que falam sobre a aplica√ß√£o pr√°tica desta ferramenta.  Parece-me que o PlantUML n√£o merece essa falta de aten√ß√£o. </p><br><p>  No come√ßo, explicarei por que a escolhi como a principal ferramenta para modelagem visual e, no final, darei v√°rias recomenda√ß√µes que eu realmente gostaria de ouvir quando comecei a usar essa ferramenta. </p><br><h2 id="pochemu-plantuml">  Porqu√™ PlantUML </h2><br><p>  Do meu ponto de vista, ao criar diagramas, faz sentido focar nos seguintes crit√©rios: (1) o diagrama deve ser menor ou menor, (2) o diagrama deve usar mais ou menos nota√ß√£o padr√£o e (3) o diagrama deve ser menos ou menos conveniente do ponto de vista do gerenciamento da documenta√ß√£o do projeto . </p><br><p>  Nos tr√™s casos, a palavra ‚Äúmenos‚Äù foi usada, pois todos esses crit√©rios em situa√ß√µes espec√≠ficas podem ser violados sem preju√≠zo do caso.  Existem muitos diagramas grandes criados em nota√ß√£o feita por eles mesmos e levados √† perfei√ß√£o (o mesmo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mapa do metr√¥</a> ).  Outra quest√£o √© que a cria√ß√£o de tais diagramas s√£o projetos que gastaram recursos s√©rios.  Longe de sempre (leia, nunca), esses recursos s√£o alocados para a cria√ß√£o de sistemas de informa√ß√£o automatizados.  O cliente precisa de um sistema perfeito, n√£o de um diagrama perfeito do sistema. </p><br><p>  No entanto, para mim, esses crit√©rios s√£o o ponto de partida a partir do qual voc√™ come√ßa a criar um diagrama.  Pr√≥ximo ... como vai. </p><br><p>  Por muito tempo, considerei o uso do Microsoft Visio uma se√ß√£o de ouro para mim e desenhei diagramas l√°, tentando estar razoavelmente pr√≥ximo da UML.  Nesse caso, um conjunto padr√£o de componentes foi usado, pois oferece mais liberdade do que um est√™ncil especializado para UML.  Al√©m disso, alguns diagramas para exibi√ß√£o no projetor foram desenhados no Microsoft PowerPoint. </p><br><p>  Sim, voc√™ n√£o pode gerenciar esses gr√°ficos.  Se o nome de uma entidade mudou, abra cada diagrama e altere-o.  Mas acontece quase lindamente.  E h√° alguma flexibilidade na formula√ß√£o de pensamentos. </p><br><p>  Tamb√©m tentei ferramentas especializadas de modelagem de neg√≥cios: Rational Rose, Aris, Enterpise Architect (Sparx Systems), principalmente o Rational Rose.  O problema √© que o resultado final do meu trabalho s√£o documentos.  E, nesse sentido, se algo s√©rio mudar nos requisitos, voc√™ ainda precisar√° passar manualmente por todo o projeto e reinserir os diagramas nos lugares certos do texto.  Pensar em algo, talvez automatizar nesta parte, me pareceu muito complicado e n√£o vale o esfor√ßo. </p><br><p>  Com o advento do PlantUML, a situa√ß√£o mudou radicalmente. </p><br><ol><li><p>  Uma vez que os diagramas s√£o criados na forma de texto, significa que em qualquer editor de texto (como o Atom e o Notepad ++) voc√™ pode encontrar o texto necess√°rio em um conjunto de arquivos e at√© substitu√≠-lo.  A refatora√ß√£o do projeto √© bastante conveniente.  Al√©m disso, o formato de texto facilita a organiza√ß√£o do trabalho em grupo e o rastreamento de altera√ß√µes no sistema de controle de vers√£o. </p><br></li><li><p>  No PlantUML, a cria√ß√£o de diagramas √© mais r√°pida do que em qualquer editor visual (pelo menos para mim).  H√° outras opini√µes sobre esse assunto, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ele</a> afirma que a cria√ß√£o de um diagrama no PlantUML √© maior do que, digamos, no Enterpise Architect (Sparx Systems).  Eu acho que isso √© mais uma quest√£o de gosto e h√°bito. </p><br><p>  At√© tive uma experi√™ncia bem-sucedida quando o PlantUML foi usado em vez de uma placa (n√£o havia por perto) e com pessoas muito distantes da tecnologia da informa√ß√£o. </p><br></li><li><p>  O PlantUML √© flex√≠vel o suficiente para usar a nota√ß√£o UML.  Suportando todos os seus elementos b√°sicos, oferece ao usu√°rio muitas oportunidades para seu uso gratuito no diagrama.  Por exemplo, √© muito conveniente oferecer suporte ao uso da marca√ß√£o wiki no conte√∫do dos elementos. </p><br><p>  Al√©m disso, os desenvolvedores do PlantUML, aparentemente, n√£o v√™em nada de errado em quebrar a nota√ß√£o.  E esta √© uma grande vantagem desta ferramenta.  Por fim, o cliente n√£o precisa saber se a UML √© ou n√£o UML - ele precisa entender o significado do diagrama.  Tudo o que leva a uma melhoria na percep√ß√£o do significado √© bom. </p><br><p>  No entanto, PlantUML √© UML, ou seja,  nota√ß√£o geralmente aceita, padr√£o e, portanto, para documenta√ß√£o, especialmente em projetos governamentais, √© muito adequada. </p><br></li><li><p>  O PlantUML n√£o permite criar gr√°ficos grandes.  Ele distribui os elementos por conta pr√≥pria e, naturalmente, com um grande n√∫mero de elementos, o resultado come√ßa a ser duvidoso.  Mas isso n√£o √© uma limita√ß√£o.  Geralmente, quando o PlantUML come√ßa a produzir um resultado inadequado, voc√™ percebe que o PlantUML n√£o √© ruim, mas o diagrama √© ruim, e √© melhor separ√°-lo ou reduzir o n√∫mero de detalhes irrelevantes. </p><br></li><li><p>  Os diagramas PlantUML podem ser gerados automaticamente.  Um exemplo desse uso √© fornecido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </p><br><p>  Usamos o PlantUML para gerar automaticamente um esquema de banco de dados.  A fun√ß√£o dessa gera√ß√£o est√° embutida na ferramenta de gerenciamento de estrutura de banco de dados que usamos - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2bass</a> .  Portanto, ao montar a documenta√ß√£o, o diagrama de classes com a estrutura do banco de dados est√° sempre atualizado.  A figura a seguir mostra uma parte da descri√ß√£o da estrutura do banco de dados e um gr√°fico gerado automaticamente. </p><br><img src="https://habrastorage.org/webt/al/ho/0u/alho0u6p0i4uk6-kbwjjo-5a-t0.png"><br></li></ol><br><h2 id="sovety-po-ispolzovaniyu-plantuml">  Dicas PlantUML </h2><br><p>  Parece-me que muitos n√£o usam o PlantUML, porque encontram certas dificuldades no est√°gio inicial, que consideram fundamentalmente intranspon√≠veis.  Muitos se assustam com o uso de texto, porque todo mundo est√° acostumado a editores gr√°ficos.  Esta parte do artigo cont√©m recomenda√ß√µes que, espero, permitir√£o que voc√™ comece rapidamente a usar o PlantUML em miss√µes de combate. </p><br><h3 id="gde-sozdavat-diagrammy">  Onde criar gr√°ficos? </h3><br><p>  Primeiro, gostaria de mencionar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PlantUML Web Server</a> , parte do projeto PlantUML, no qual voc√™ pode criar diagramas on-line e compartilh√°-los com colegas.  Esse √© um recurso muito conveniente, mas, √© claro, n√£o ao criar diagramas para a documenta√ß√£o do projeto. </p><br><p>  Geralmente o PlantUML √© usado em mecanismos wiki.  Aqui a edi√ß√£o ocorre de maneira padr√£o: o texto √© escrito, salvo e na p√°gina obtemos uma imagem.  No entanto, na maioria dos casos, √© conveniente que o resultado seja exibido imediatamente no diagrama: por exemplo, a especifica√ß√£o do diagrama √© escrita na janela esquerda e sua apar√™ncia √© exibida na janela direita.  O texto final j√° pode ser inserido no wiki. </p><br><p>  O site PlantUML tem muitos editores.  Suspeito que, entre eles, mais da metade n√£o seja adequada para o trabalho.  Acima de tudo, gosto de criar diagramas do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PlantUML</a> usando o plug-in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PlantUML Preview</a> no editor Atom.  De fato, existem v√°rios desses plugins.  Eu gostei do PlantUML Preview porque ele n√£o apenas mostra o resultado, mas imediatamente (ou no momento da grava√ß√£o - dependendo das configura√ß√µes) cria um arquivo gr√°fico cujo nome corresponde ao arquivo com a especifica√ß√£o do diagrama. </p><br><img src="https://habrastorage.org/webt/tx/uz/qj/txuzqjjh7auobrxlq6d-gyiu2kk.png"><br><br>  I.e.  Cada diagrama sempre corresponde a dois arquivos, um arquivo de texto (com uma descri√ß√£o de texto do diagrama) e o outro gr√°fico (uma imagem com um diagrama). <br><p>  Como j√° fazemos toda a documenta√ß√£o com a ajuda do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Asciidoctor h√°</a> muito tempo (√© incr√≠vel como recusar o Microsoft Word pode facilitar, mas este √© o t√≥pico de um artigo separado), inserimos as imagens nos links.  Para alterar a imagem com esta tecnologia, basta abrir a descri√ß√£o do texto, alter√°-la e salvar.  Voc√™ n√£o precisa exportar ou copiar opera√ß√µes atrav√©s da √°rea de transfer√™ncia. </p><br><p>  Observe que o plug-in PlantUML Preview em suas configura√ß√µes requer a especifica√ß√£o do local do arquivo planuml.jar, e o pr√≥prio PlantUML n√£o funcionar√° se o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GraphViz</a> n√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">estiver</a> instalado; √© poss√≠vel fazer o download dos dois aplicativos nos sites correspondentes.  Nas vers√µes mais recentes do PlantUML, o Graphviz est√° sendo desativado; portanto, em um futuro pr√≥ximo, esse produto se tornar√° mais aut√¥nomo.  Isso simplificar√° seu uso em sistemas para montagem autom√°tica da documenta√ß√£o do programa. </p><br><h3 id="podgotovka-diagramm-dlya-pechati">  Preparando gr√°ficos para impress√£o </h3><br><p>  Para impress√£o de alta qualidade em uma impressora a laser, voc√™ deve especificar o par√¢metro <em>skinparam dpi 300</em> .  A resolu√ß√£o de 300 dpi fornece uma imagem de alta qualidade para impress√£o em uma impressora a laser.  Caso contr√°rio, as imagens s√£o criadas com resolu√ß√£o de tela e parecem rasterizadas.  O PlantUML tamb√©m tem a capacidade de usar svg (formato vetorial).  Mas esse formato √© suportado muito menos que png, e h√° muito mais problemas com ele.  Usei svg se fosse necess√°rio lembrar um pouco a imagem com um editor de vetores (por exemplo, usando o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Inkscape</a> ).  Mas este, √© claro, √© um caso de uso extremamente raro para o PlantUML. </p><br><p>  Para remover sombras, que geralmente tamb√©m estragam a apar√™ncia impressa, √© usado o par√¢metro <em>skinparam shadowing false</em> . </p><br><p>  Al√©m disso, para imprimir um gr√°fico em uma impressora em preto e branco, √© desej√°vel que ele n√£o tenha meios-tons.  Um esquema de cores usando marrom e amarelo geralmente n√£o √© adequado para impress√£o.  Felizmente, o PlantUML permite especificar as cores usadas.  As seguintes op√ß√µes, por exemplo, exibem um diagrama de componentes em uma paleta preto e branco.  H√° um par√¢metro especial para a gera√ß√£o de diagrama monocrom√°tico ( <em>skinparam monocrom√°tico true</em> ), mas ele remove apenas a cor, os meios-tons permanecem. </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">skinparam</span></span> component { <span class="hljs-attribute"><span class="hljs-attribute">borderColor</span></span> black backgroundColor white ArrowColor black }</code> </pre> <br><p>  Uma lista da maioria dos par√¢metros √© fornecida <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Se voc√™ quiser estudar todos os par√¢metros, poder√° usar o <em>comando java -jar plantuml.jar -language</em> . </p><br><h3 id="otnositelnoe-raspolozhenie-elementov">  Arranjo relativo de elementos </h3><br><ol><li><p>  O par√¢metro de <em>dire√ß√£o da esquerda para a direita</em> faz com que os elementos do gr√°fico sejam desenhados da esquerda para a direita.  N√£o √© muito √≥bvio, mas, por exemplo, para um diagrama de componentes, isso significa que os componentes ser√£o montados no lado esquerdo e as interfaces √† direita. </p><br><pre> <code class="hljs pgsql">component " 1" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c1 component " 2" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c2 interface " 1" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i1 c1 <span class="hljs-comment"><span class="hljs-comment">--() i1 c2 --( i1</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/ck/co/kd/ckcokd-rojc0znagkfhcsuvcnsc.png"><br></li><li><p>  Agrupamento com elementos de n√≠vel superior. </p><br><p>  Na figura a seguir, o PlantUML distribuiu os componentes para que haja menos interse√ß√µes de linhas.  Essa ordem de componentes pode ser indesej√°vel se queremos que os componentes sejam exibidos em ordem. </p><br><pre> <code class="hljs swift">component <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c1 component <span class="hljs-string"><span class="hljs-string">" 2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c2 component <span class="hljs-string"><span class="hljs-string">" 3"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c3 interface <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i1 c1 --() i1 c2 --( i1 interface <span class="hljs-string"><span class="hljs-string">" 2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i2 c1 --() i2 c3 --( i2</code> </pre> <br><img src="https://habrastorage.org/webt/qs/y-/5u/qsy-5uck-nhs6z-ztfpnqwebbdy.png"><br><p>  Se agruparmos o segundo e o terceiro componentes, conseguiremos que os componentes estejam organizados em ordem. </p><br><pre> <code class="hljs swift">component <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c1 component <span class="hljs-string"><span class="hljs-string">" 1"</span></span> { component <span class="hljs-string"><span class="hljs-string">" 2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c2 component <span class="hljs-string"><span class="hljs-string">" 3"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c3 } interface <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i1 c1 --() i1 c2 --( i1 interface <span class="hljs-string"><span class="hljs-string">" 2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i2 c1 --() i2 c3 --( i2</code> </pre> <br><img src="https://habrastorage.org/webt/jl/kf/pi/jlkfpi3kpkcq3cu--iet_6cthb4.png"><br></li><li><p>  A ordem dos componentes.  Uma abordagem bastante controversa, mas funciona.  No exemplo a seguir, o Componente 2 √© exibido primeiro, como  na especifica√ß√£o, ele √© listado primeiro. </p><br><pre> <code class="hljs pgsql">component " 2" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c2 component " 1" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c1 interface " 1" <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i1 c1 <span class="hljs-comment"><span class="hljs-comment">--() i1 c2 --( i1</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/f0/wg/en/f0wgenwj52gpvtlga1kzwhrzqwa.png"><br></li></ol><br><p>  O PlantUML tamb√©m tem a capacidade de indicar as dire√ß√µes das setas.  Por exemplo, para indicar que a seta passa do componente 1 (c1) para a interface 1 (i1) da esquerda para a direita, √© necess√°rio especificar a letra "r" na especifica√ß√£o da seta: <em>c1 -r- () i1</em> .  O exemplo a seguir indica claramente que a seta do componente 1 para a interface 1 vai da esquerda para a direita e do componente dois para a mesma interface da direita para a esquerda. </p><br><pre> <code class="hljs swift">component <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c1 component <span class="hljs-string"><span class="hljs-string">" 2"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> c2 interface <span class="hljs-string"><span class="hljs-string">" 1"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> i1 c1 -r-() i1 c2 -l-( i1</code> </pre> <br><img src="https://habrastorage.org/webt/3t/wt/m8/3twtm802viavo35lqhqsk69ah1o.png"><br><p>  Eu acho que essa √© uma oportunidade prejudicial.  Confunde a especifica√ß√£o do diagrama, e a interpreta√ß√£o da dire√ß√£o do PlantUML pode ser bastante ex√≥tica.  Al√©m disso, ao especificar o par√¢metro de dire√ß√£o da esquerda para a direita, a letra "r" come√ßa a significar de cima para baixo (devido ao deslocamento no sentido hor√°rio), o que confunde completamente o esquema. </p><br><h3 id="nadpisi-v-elementah-diagrammy">  Elementos do r√≥tulo </h3><br><h4 id="mnogostrochnyy-tekst-i-wiki-razmetka">  Marca√ß√£o de texto e wiki em v√°rias linhas </h4><br><p>  O PlantUML fornece algumas boas ferramentas para formatar texto em elementos. </p><br><p>  Ao gerar um elemento de gr√°fico, PlantUML √© baseado no tamanho do texto.  I.e.  n√£o o texto flui dependendo do tamanho do elemento, mas o tamanho do elemento se adapta ao texto. </p><br><p>  A maneira mais f√°cil de criar texto grande √© usar o caractere \ n.  Nesse caso, voc√™ tamb√©m pode usar caracteres de formata√ß√£o de texto (negrito, it√°lico etc.) </p><br><pre> <code class="hljs tex">component "** 1** <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>       <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span> //****// <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n*</span></span></span></span> //// 1 <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n*</span></span></span></span> // 2//" as c1</code> </pre> <br><img src="https://habrastorage.org/webt/pe/mq/8k/pemq8kvqnapxskgnor-0xvxouf0.png"><br><p>  √Äs vezes n√£o h√° outras op√ß√µes.  Mas, na maioria dos casos, h√° suporte para sintaxe que permite especificar texto com v√°rias linhas.  Por exemplo, no exemplo anterior, voc√™ pode usar esta sintaxe. </p><br><pre> <code class="hljs ruby">component c1 [ ** <span class="hljs-number"><span class="hljs-number">1</span></span>** ====       ../<span class="hljs-regexp"><span class="hljs-regexp">/****/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.. * /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 1 * /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 2/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ ] note left      .... ** 1** ====       ../</span></span><span class="hljs-regexp"><span class="hljs-regexp">/****/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/.. * /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 1 * /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 2/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ end note</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/dp/cn/_g/dpcn_gtv35rzjj4gcjkvi0xtths.png"><br><p>  Como podemos ver, o uso dessa sintaxe permite adicionar linhas divis√≥rias.  Observe que uma nota √© adicionada aqui que exibe o mesmo texto que o componente.  Ao mesmo tempo, na nota, a lista √© exibida como uma lista e, no componente, como texto atrav√©s do s√≠mbolo "*".  Infelizmente, listas e tabelas n√£o funcionam em componentes.  Embora eles, por exemplo, trabalhem em elementos que representam atividade (no diagrama de atividades). </p><br><h4 id="ispolzovanie-ikonok">  Usando √≠cones </h4><br><p>  O PlantUML suporta v√°rias maneiras de usar √≠cones.  Todos eles t√™m certas limita√ß√µes. </p><br><p>  O mais popular, como me parece, tornou-se a tecnologia do uso dos chamados sprites.  Um sprite √© um bitmap definido usando texto.  A maior vantagem dessa tecnologia √© que o PlantUML permite criar bibliotecas de sprites externas.  Existem v√°rias dessas bibliotecas.  O que eu mais gosto √© na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">biblioteca PlantUML Icon-Font Sprites</a> , porque  cont√©m imagens gr√°ficas da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Font Awesome</a> . </p><br><p>  Observe que sprites no PlantUML s√£o bitmaps, ou seja,  eles t√™m limita√ß√µes de escala.  Nesta biblioteca em particular, a resolu√ß√£o dos √≠cones √© de 48 por 48 pixels.  Ao usar essa imagem para impress√£o, √© indesej√°vel escal√°-la para um tamanho superior a 5 mil√≠metros (o que corresponde aproximadamente a uma resolu√ß√£o de 250 dpi).  Em muitos recursos da Internet que descrevem o uso de sprites, isso n√£o √© levado em considera√ß√£o e os exemplos mostram elementos do diagrama com √≠cones grandes.  Na tela, esses diagramas parecem √≥timos, mas quando impressos, parecem rasterizados. </p><br><p>  O tamanho do √≠cone de 4-5 mil√≠metros √© conveniente para uso dentro das assinaturas.  Por exemplo, na figura a seguir, usando os √≠cones, s√£o mostradas fun√ß√µes de usu√°rio cujos membros transferem o processo de um estado para outro. </p><br><pre> <code class="hljs tex">'       !define ICONURL https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/v2.0.0 !includeurl ICONURL/common.puml !includeurl ICONURL/font-awesome-5/user_cog.puml !includeurl ICONURL/font-awesome-5/user_check.puml !define _CS scale=0.4 !define _user_cog &lt;<span class="hljs-formula"><span class="hljs-formula">$user_cog{_CS}&gt; !define _user_check &lt;$</span></span>user_check{_CS}&gt; ' legend ..** **.. _user_cog ‚Äî  _user_check ‚Äî  endlegend '   state " " as prepare_doc [*] --&gt; prepare_doc state "  " as check_doc prepare_doc --&gt; check_doc : _user_cog <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>  check_doc --&gt; prepare_doc : _user_check <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>  <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>  state " " as ready_doc check_doc --&gt; ready_doc: _user_check <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>   <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">n</span></span></span></span>&lt;U+00AB&gt;&lt;U+00BB&gt;</code> </pre> <br><img src="https://habrastorage.org/webt/3c/or/o8/3coro8gvu8_7grt9gpxywdff1fq.png"><br><p>  Alguns √≠cones s√£o criados diretamente no PlantUML, no entanto, prefiro usar bibliotecas externas.  Em particular, os √≠cones deste exemplo est√£o contidos na biblioteca do Awesome v5 e, no momento da reda√ß√£o do artigo atual (vers√£o 1.2018.08), apenas a biblioteca do Awesome v4 √© incorporada ao PlantUML. </p><br><h4 id="ispolzovanie-kavychek">  Usando aspas </h4><br><p>  Essa pergunta aparentemente simples acabou sendo quase um bloqueio para eu usar o PlantUML.  A falta de cita√ß√µes parece pouco profissional e engra√ßada. </p><br><p>  O PlantUML suporta v√°rias maneiras de usar aspas.  Mas, como resultado das pesquisas, encontrei apenas uma que sempre funciona, um bom recado antigo: para abrir aspas russas - &lt;U + 00AB&gt;, para fechar aspas - &lt;U + 00BB&gt;, para aspas universais - &lt;U + 0022&gt;. </p><br><h3 id="kak-ne-zaputatsya-v-diagramme">  Como n√£o se perder no diagrama </h3><br><p>  A sintaxe no diagrama de atividades √© t√£o conveniente que √© dif√≠cil ficar confuso porque  √© mais uma descri√ß√£o de um algoritmo do que uma descri√ß√£o de um diagrama.  Mas aqui em outros diagramas: estados, componentes, implanta√ß√£o, casos de uso, classes e outros, √© muito f√°cil ficar confuso. </p><br><p>  Duas regras simples me ajudam a n√£o ficar confuso. </p><br><ol><li><p>  Digite todos os elementos por meio de palavras-chave (n√£o use sintaxe simplificada).  Se o elemento permitir, defina um alias para ele. </p><br></li><li><p>  Indique o relacionamento imediatamente ap√≥s o elemento (√© claro, se o elemento associado j√° estiver presente no diagrama).  O fato √© que um elemento √© sempre f√°cil de encontrar no texto.  Uma conex√£o pode ser encontrada apenas por alias.  Se voc√™ usar esta regra, a conex√£o tamb√©m poder√° ser encontrada rapidamente no texto. </p><br></li></ol><br><h2 id="zaklyuchenie">  Conclus√£o </h2><br><ol><li><p>  PlantUML n√£o √© um brinquedo.  Essa √© uma ferramenta universal de alta qualidade com a qual voc√™ pode resolver quase todos os problemas associados √† descri√ß√£o dos processos de neg√≥cios e dos recursos arquiteturais dos sistemas projetados. </p><br></li><li><p>  O PlantUML tem uma barreira psicol√≥gica √† entrada: estamos acostumados a editores visuais e usar o texto parece um passo atr√°s.  Mas se, gra√ßas a esse passo para tr√°s, aumentar a efici√™ncia de seu trabalho, por que n√£o faz√™-lo? </p><br></li><li><p>  O PlantUML possui falhas na sua implementa√ß√£o: algumas fun√ß√µes funcionam apenas para uma parte de diagramas ou primitivas gr√°ficas.  No entanto, na pr√°tica, essas restri√ß√µes sempre podem ser contornadas.  O PlantUML √© um produto maduro e est√°vel, no qual voc√™ pode confiar plenamente em seu trabalho, sem medo de que arruine o gr√°fico ou distor√ßa a fonte ou jogue fora algum outro problema que levar√° a uma noite sem dormir antes de passar para a pr√≥xima etapa do projeto. </p><br></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt416077/">https://habr.com/ru/post/pt416077/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt416067/index.html">Vis√£o geral da vulnerabilidade do Mikrotik Winbox. Ou um arquivo grande</a></li>
<li><a href="../pt416069/index.html">Migra√ß√£o de dados ElasticSearch sem perdas</a></li>
<li><a href="../pt416071/index.html">Redes neurais, princ√≠pios fundamentais de opera√ß√£o, diversidade e topologia</a></li>
<li><a href="../pt416073/index.html">Um bot simples de negocia√ß√£o de criptomoedas</a></li>
<li><a href="../pt416075/index.html">O FSB quer introduzir a responsabilidade pelo uso oculto de gravadores de voz e c√¢meras em smartphones [e n√£o apenas]</a></li>
<li><a href="../pt416079/index.html">Corona Native para Android - usando c√≥digo Java personalizado em um jogo escrito em Corona</a></li>
<li><a href="../pt416081/index.html">Algo ainda est√° errado com o retorno a Habr</a></li>
<li><a href="../pt416083/index.html">Minhas regras de efici√™ncia: trabalhando com tarefas, projetos, livros e anota√ß√µes</a></li>
<li><a href="../pt416087/index.html">Coleta de estat√≠sticas do MTProto Proxy</a></li>
<li><a href="../pt416089/index.html">Como reparamos uma fonte de alimenta√ß√£o ininterrupta din√¢mica ao diesel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>