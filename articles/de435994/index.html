<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌁 🙅🏿 📐 Ist es Karma, Baby, oder warum der Angriff auf drahtlose Netzwerke, der in Vergessenheit geraten sollte, noch am Leben ist? 🚒 😲 👋🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Drahtlose Zugangspunkte umgeben uns heute überall: in Cafés, Restaurants, Einkaufszentren und im Transportwesen. Dies hat aufgehört, etwas Ungewöhnlic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ist es Karma, Baby, oder warum der Angriff auf drahtlose Netzwerke, der in Vergessenheit geraten sollte, noch am Leben ist?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435994/"><p><img src="https://ic.pics.livejournal.com/ibigdan/8161099/9174404/9174404_original.jpg"></p><br><p>  Drahtlose Zugangspunkte umgeben uns heute überall: in Cafés, Restaurants, Einkaufszentren und im Transportwesen.  Dies hat aufgehört, etwas Ungewöhnliches zu sein, und wir stellen ruhig eine Verbindung zu einem unsicheren Netzwerk her oder behalten ständig den Suchmodus für vertraute Punkte bei.  Aus diesem Grund hat in den letzten Jahren die Anzahl der Angriffe auf dieses Segment stetig zugenommen.  Es überrascht nicht, dass der Zugriff auf den Benutzerverkehr dem Angreifer ein riesiges Aktionsfeld eröffnet.  Heute möchte ich einen dieser Angriffe unter dem prosaischen Namen Karma betrachten, der 2005 erfunden wurde, aber im Moment ist er immer noch relevant. <a name="habracut"></a></p><br><p>  Zu einer Zeit waren Gespräche über Karma (im Folgenden als Karma bezeichnet) in Sicherheitskreisen sehr beliebt, und viele hörten zumindest aus dem Ohr davon.  Diejenigen, die dieses Thema zu dieser Zeit umgangen haben, können es dank eines berüchtigten Geräts namens Pineapple in Abwesenheit kennen.  Es wurde speziell entwickelt, um Karma und andere ähnliche Angriffe auf drahtlose Netzwerke schnell und ohne großen Aufwand durchzuführen. </p><br><p>  Eine schnelle Untersuchung von Karma selbst macht es möglich zu verstehen, dass es sich in Wirklichkeit um einen bösen Zwillingsangriff auf Steroide handelt, da der Hauptteil darin besteht, eine Kopie eines bestimmten Zugangspunkts zu erstellen.  Der Teufel steckt jedoch im Detail, und es sind die Details, die es dem vor 13 Jahren geschaffenen Angriff ermöglichen, seine Relevanz nicht zu verlieren und bis heute Pentests durchzuführen. </p><br><h3 id="poperechnyy-razrez-ili-otkuda-nogi-rastut">  Querschnitt oder woher die Beine wachsen </h3><br><p>  Wie unterscheidet sich dieser Dinosaurier von allen anderen und warum hat er überlebt?  Karma zeichnet sich dadurch aus, dass es nicht auf den Schwachstellen der Software von Access Points oder Clients basiert, sondern auf den Merkmalen des häufig verwendeten 802.11-Standards oder vielmehr auf den Merkmalen des Betriebs seines Authentifizierungsprotokolls.  Für ein vollständiges Verständnis des Karma-Geräts wird der Authentifizierungsprozess selbst nachstehend ausführlich erläutert.  Leser, die mit diesem Prozess vertraut sind, können diesen Teil sicher überspringen. </p><br><p><img src="https://i.pinimg.com/originals/73/7c/9b/737c9bd48cbd7f70080750429eb0610d.png" alt="737c9bd48cbd7f70080750429eb0610d.png"></p><br><p>  Um seine Anwesenheit anzukündigen, sendet der Access Point (AP, im Folgenden als AP bezeichnet) die sogenannten Beacon-Frames - Pakete, die die SSID des Access Points (d. H. Seine Kennung, den Netzwerknamen), die unterstützten Datenraten und die Art der verwendeten Verschlüsselung enthalten dieses drahtlose Netzwerk. </p><br><p>  Der Benutzer findet drahtlose Netzwerke, indem er Pakete auf der Suche nach Beacon-Frames von den ihn umgebenden APs abhört oder aus seiner Liste bevorzugter Netzwerke an die Zugriffspunkte sendet. Prüfanforderungsframes - Pakete, die aus der vom Benutzer gesuchten SSID sowie den vom Benutzer unterstützten Datenübertragungsraten bestehen Benutzergerät.  Die SSID kann eine leere Zeichenfolge sein, die angibt, dass es sich um eine Null-Test-Anforderung handelt (eine Anforderung, die unabhängig von der SSID an alle Zugriffspunkte gerichtet ist). </p><br><p>  APs antworten auf die Testanforderung, die ihre SSID enthält, sowie auf die Null-Testanforderung unter Verwendung der Testantwortpakete.  Probe Response enthält Daten, die mit den Daten in Beacon-Frames identisch sind: SSIDs, unterstützte Datenraten und Verschlüsselung. </p><br><p>  Wenn das drahtlose Netzwerk Verschlüsselung verwendet, muss das Benutzergerät vor dem Herstellen einer Verbindung authentifiziert werden.  Dieser Vorgang erfolgt über Authentifizierungsrahmen.  Wenn das Gerät des Benutzers bereits authentifiziert wurde oder das Netzwerk dies nicht benötigt, sendet das Gerät den Zugriffspunkt für die Zuordnungsanforderung, auf den der AP mit dem Zuordnungsantwortrahmen antwortet.  Danach kann der Benutzer an diesem drahtlosen Netzwerk arbeiten. </p><br><p>  <strong>Es ist wichtig zu beachten</strong> : Obwohl der Standard definiert, wie ein Benutzer einem Zugriffspunkt beitritt, ist die Art und Weise der Auswahl dieses Punkts nicht definiert. Es wird jedoch nicht erwähnt, ob die Basisstation standardmäßig authentifiziert oder vertrauenswürdig sein soll.  Die Lösung dieses Problems wurde den Anbietern von Hardware und Software für das Betriebssystem überlassen. </p><br><p>  Jetzt wurde klar, wie Karma funktioniert.  Ein Angreifer innerhalb des Signalbereichs (der möglicherweise durch Antennen mit hoher Verstärkung und Signalverstärker unterstützt werden kann) kann einen Funkkanal passiv überwachen und Verbindungsanforderungen von Benutzern zu allen Zugriffspunkten beobachten.  Er kann diese Informationen verwenden, um eine Liste der bevorzugten Netzwerke des Opfers zu erstellen.  In den Verbindungsanfragen des Benutzers werden nur die Namen der Netzwerke angegeben, der Verschlüsselungstyp jedoch nicht.  Wenn der Angreifer jedoch nur die SSID des Zugangspunkts hat, kann er eine Kopie mit demselben Namen erstellen, wodurch die Wahrscheinlichkeit erhöht wird, dass sich das Opfer mit ihm verbindet: Zum Beispiel indem er das Signal vom Zugangspunkt verstärkt (der Client stellt normalerweise automatisch eine Verbindung zum leistungsstärksten Punkt her) oder einen Angriff wie „ Denial of Service “bezüglich des ausgewählten AP.  Wenn der Client erwartet, dass das Netzwerk verschlüsselt wird, wird die Verbindung nicht hergestellt und der Angreifer kann das nächste Netzwerk in seiner neu erstellten Kopie der Liste der bevorzugten Netzwerke des Opfers versuchen.  Wenn er auf ein Netzwerk stößt, das keine Verschlüsselung unterstützt, wird ein drahtloses Netzwerk erstellt, dem das Opfer sofort beitritt. </p><br><p>  <strong>Ein wenig über den Angriff der Macher von Wi-Fi Pineapple:</strong> </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="http://img.youtube.com/vi/vsOuOlKbjH4/0.jpg" alt="BILD ALT TEXT HIER"></a> </p><br><h3 id="old-but-not-obsolete">  "Alt, aber nicht veraltet" </h3><br><p>  Bis heute wurde das Hauptproblem im Standard nicht gelöst, und Karma ist weiterhin eine echte Bedrohung für die Benutzer.  Zum Testen von drahtlosen Netzwerken wird beispielsweise häufig die oben erwähnte WiFi-Ananas verwendet, die frei erhältlich ist.  Die Macher dieses Projekts unterstützen es aktiv und veröffentlichen mit einiger Periodizität Updates.  In jüngerer Zeit wurde eine neue Version von Pineapple veröffentlicht: Tetra - ein vollwertiger Router mit allem, was Sie benötigen, 4 SMA-Antennen und 2 GB internem Flash-Speicher sowie Nano - eine vereinfachte Version mit einem USB-Adapterformat mit 2 SMA-Antennen, 16 MB ROM und einem Anschluss unter Micro SD. </p><br><p><img src="https://i0.wp.com/d2cpnw0u24fjm4.cloudfront.net/wp-content/uploads/WF-Pineapple-Tetra.jpg?fit=1920%2C1440&amp;ssl=1"></p><br><p>  Für diejenigen, die Karma auf diesem wunderbaren Gerät ausprobieren möchten, möchte ich sofort sagen, dass es keinen Sinn macht, frühe Versionen des Mark V-Typs aus der Hand zu kaufen, weil  Der Hersteller hat aufgehört, sie zu unterstützen, und die Wahrscheinlichkeit, dass Sie die erforderliche Software einfach über den integrierten Speicher des Geräts herunterladen oder das Gerät aktualisieren können (die neueste Firmware für Mark V wurde im August 2015 veröffentlicht), ist in der Regel gleich Null, aber Sie müssen sie starten und starten angreifen, nicht einmal reden. </p><br><p><img src="https://i.pinimg.com/originals/48/bf/f8/48bff8c04155e312cfbbe38d90a06987.jpg" alt="48bff8c04155e312cfbbe38d90a06987.jpg"></p><br><p>  Nachdem Sie ein wenig auf Github gestöbert haben, finden Sie mehrere Open-Source-Implementierungen von Karma auf verschiedenen Ausführungsebenen: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WiFi Kürbis</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wifiphisher</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mana-Toolkit</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FruityWifi</a> </li></ul><br><p>  Obwohl die letzten beiden dieser Implementierungen bereits gegeben wurden, werden sie nicht unterstützt, aber WiFi-Pumpkin und Wifiphisher sind noch am Leben und entwickeln sich weiter.  Meine Karma-Forschung begann nicht mit ihnen, sondern mit Mana und FruityWiFi, deren Analyse sehr viel Zeit in Anspruch nahm.  Sie konnten sie nicht zur Arbeit bringen, und die Versuche wurden abgebrochen.  In naher Zukunft möchte ich jedoch noch einmal auf dieses Thema zurückkommen und WiFi-Pumpkin und Wifiphisher ausprobieren. Diese Projekte haben eine eigene kleine Community und die Erfolgswahrscheinlichkeit ist in diesem Fall viel höher. </p><br><p>  Auch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses kleine Projekt</a> , das einen Angriff mit dem billigen und beliebten Mikrocontroller ESP8266 implementiert, kann als Kirsche auf dem Kuchen und als interessante Implementierung von Karma bezeichnet werden.  Das Projekt ist nicht völlig unabhängig Karma, der Benutzer muss Rogue AP (Fake Access Point) erstellen, die Funktionen zum Erstellen der bevorzugten Liste von Netzwerken werden nicht bereitgestellt.  Beide Probleme sind jedoch nicht so schwer zu lösen - ESP ist in Bezug auf die Ressourcen dafür recht großzügig, und auf Wunsch kann ein guter Nutzen erzielt werden. </p><br><h3 id="borba-s-plohoy-karmoy">  Schlechtes Karma bekämpfen </h3><br><p><img src="https://habrastorage.org/webt/8s/5y/5d/8s5y5d-ynwofhqbm6fhnx39ks7k.jpeg"></p><br><p>  Und was tun mit diesen Informationen, wie können Sie sich schützen?  Hier gibt es absolut keine Magie, die Regeln zum Schutz vor Karma sind einfach: </p><br><ol><li>  Deaktivieren Sie den Wi-Fi-Suchmodus auf allen Ihren Geräten, bis Sie ihn benötigen. </li><li>  Vertrauen Sie nicht vertrauten Zugangspunkten, prüfen Sie immer, ob dieser Punkt überhaupt hier sein kann (ja, MT_FREE, ich spreche von Ihnen). </li><li>  Verwenden Sie VPN überall dort, wo Sie können und nicht. <br>  (Hier funktioniert alles genauso wie bei einem Angreifer, der den Datenverkehr in einem kontrollierten Netzwerk abhören kann. Wenn er ein VPN verwendet, kann er einfach nichts entschlüsseln.) </li><li>  Erstellen Sie verschlüsselte Zugangspunkte und bevorzugen Sie diese. </li><li>  Melden Sie sich in vertrauten Netzwerken nicht erneut an (dies ist höchstwahrscheinlich ein gefälschter Zugriffspunkt für einen Angreifer). </li></ol><br><p>  Trotz der Tatsache, dass die Zielbetriebssysteme seit dem Aufkommen von Karma hunderte Male aktualisiert wurden und die Systeme sicherer geworden sind, ist dieser Angriff lebendig und stellt eine Bedrohung für die Benutzer dar.  Es ist nicht zu erwarten, dass der Standard in naher Zukunft geändert oder hinzugefügt wird, daher können wir uns nur an diese einfachen Regeln halten und die Augen offen halten. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de435994/">https://habr.com/ru/post/de435994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de435984/index.html">Neuronale Netze und Sprachphilosophie</a></li>
<li><a href="../de435986/index.html">Windows reserviert 7 GB für Systemaktualisierungen, um zu vermeiden, dass der Festplattenspeicher knapp wird</a></li>
<li><a href="../de435988/index.html">Eine Einführung in Anmerkungen vom Typ Python. Fortsetzung</a></li>
<li><a href="../de435990/index.html">Wie mache ich einen Wechsel?</a></li>
<li><a href="../de435992/index.html">Spieler Fallout 76, die an einem geheimen Ort von Entwicklern gefangen werden, werden gesperrt</a></li>
<li><a href="../de435996/index.html">AR- und VR-Technologien in der Bildung</a></li>
<li><a href="../de435998/index.html">Wie man ein Self-Service-Terminal knackt und warum 80% von ihnen bedroht sind</a></li>
<li><a href="../de436000/index.html">Wie man Kühe mit Robotern melkt und daraus ein industrielles Startup macht. Die Geschichte der R-Sept-Entwicklung</a></li>
<li><a href="../de436004/index.html">Modi sind die Killer-Funktion von vim? Ernsthaft?</a></li>
<li><a href="../de436006/index.html">286 und das Netzwerk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>