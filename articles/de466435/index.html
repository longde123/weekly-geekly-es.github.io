<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîÜ üéµ üî∏ Schulung Cisco 200-125 CCNA v3.0. Tag 42. Inter-VLAN-Routing und SVI ‚åõÔ∏è ‚¨ÜÔ∏è ü§ß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute betrachten wir das Inter-VLAN-Routing und die virtuelle SVI-Switch-Schnittstelle. Wir haben uns bereits im ICND1-Kurs mit diesen Themen vertraut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schulung Cisco 200-125 CCNA v3.0. Tag 42. Inter-VLAN-Routing und SVI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466435/"> Heute betrachten wir das Inter-VLAN-Routing und die virtuelle SVI-Switch-Schnittstelle.  Wir haben uns bereits im ICND1-Kurs mit diesen Themen vertraut gemacht und werden uns nun eingehender mit ihnen befassen.  Diese Themen werden in Abschnitt 2.0, Routing-Technologien, von ICND2, Unterabschnitte 2.1a und 2.1b erw√§hnt.  Zuerst betrachten wir die Konfigurations-, Verifizierungs- und Inter-VLAN-Routing-Probleme, dann das ROAS-Netzwerkarchitekturkonzept (Router-on-a-Stick) und die SVI-Switch-Schnittstelle. <br><br>  Fahren wir mit dem Packet Tracer-Programm fort und betrachten die virtuelle Schnittstelle des SVI-Switch.  Das Diagramm zeigt zwei Netzwerke: eine Verkaufsabteilung und eine Marketingabteilung, von denen jedes einen eigenen Schalter hat.  Standardm√§√üig sind Computer √ºber das Standard-VLAN1 mit dem Switch verbunden, sodass sie problemlos miteinander kommunizieren k√∂nnen. <br><br><img src="https://habrastorage.org/webt/df/gp/ym/dfgpymzyjf8ai0gpqna6iezvqwk.jpeg"><br><br>  Wenn jedoch Computer Nr. 1 in der Verkaufsabteilung Kontakt zu Computer Nr. 1 in der Marketingabteilung aufnehmen m√∂chte, kann er dies nicht tun, da die Netzwerke nicht verbunden sind.  Technisch gesehen k√∂nnen Sie beide Switches per Kabel verbinden, Computer k√∂nnen jedoch immer noch nicht kommunizieren, da sie Teil verschiedener Netzwerke mit unterschiedlichen IP-Adressbereichen sind - 192.168.10.0/24 und 192.168.20.0/24. <a name="habracut"></a><br><br>  Es ist m√∂glich, eine Kommunikation zwischen diesen beiden Netzwerken herzustellen, wenn Sie zwischen den Switches-Ger√§ten des OSI der 3. Ebene einen Router platzieren und die Switches und den Router mit Kabeln verbinden. <br><br><img src="https://habrastorage.org/webt/gf/lk/ia/gflkiawp5nctwcrocn1m7atuzk0.jpeg"><br><br>  Normalerweise verf√ºgen Sie in einem B√ºro nicht √ºber zwei verschiedene Switches f√ºr zwei Netzwerke, vor allem, weil Cisco-Switches recht teuer sind. Daher m√ºssen Sie einen Switch f√ºr 24 und 48 Ports verwalten.  Angenommen, wir haben einen 48-Port-Switch. <br><br><img src="https://habrastorage.org/webt/wv/8l/fg/wv8lfgunfgblsrsdpwqmhxmlnoo.jpeg"><br><br>  Wir erstellen verschiedene VLANs. Lassen Sie sich von der Farbe der Ports im Diagramm nicht st√∂ren, ich werde sie schwarz zeichnen.  Das blaue Netzwerk ist VLAN10 und das rote ist VLAN20.  Wenn wir dies tun, k√∂nnen Computer aus verschiedenen Netzwerken immer noch nicht miteinander kommunizieren, da der Switch ein OSI-Ger√§t der Stufe 2 ist.  Wir brauchen ein Ger√§t der Stufe 3, um eine Verbindung herzustellen. <br><br>  Sie k√∂nnen dieses Problem mit einem Router l√∂sen, von dem ein Port mit einem der Ports des blauen VLAN10-Netzwerks und der andere Port mit einem der Ports des roten VLAN20-Netzwerks verbunden wird.  Gleichzeitig k√∂nnen wir √ºber diesen Router problemlos die Kommunikation zwischen Computern verschiedener Netzwerke organisieren. <br><br><img src="https://habrastorage.org/webt/zb/em/wn/zbemwnondyrrqvdtdpco0dhhl-g.jpeg"><br><br>  Mit diesem Schema verwenden wir irrationalerweise Router-Schnittstellen. Daher ist es viel effizienter, eine andere Art der Verbindung zu verwenden, die als Router-on-a-Stick bezeichnet wird.  Sp√§ter werden wir darauf zur√ºckkommen, aber im Moment werden wir die virtuelle Schnittstelle des SVI-Switches betrachten.  Wie Sie wissen, ist der Switch "out of the box" standardm√§√üig f√ºr alle Ports in VLAN1 konfiguriert, und der Switch verf√ºgt √ºber eine virtuelle Schnittstelle f√ºr diese Netzwerke - die VLAN1-Schnittstelle.  Was ist eine virtuelle Schnittstelle? <br><br>  Wenn Sie als Netzwerkadministrator den Switch konfigurieren, verwenden Sie Ihren Computer, der √ºber ein Kabel mit dem Konsolenport des Switch verbunden ist.  Das Problem ist, dass Sie sich zur Verwendung der Konsole neben dem Switch in einem Abstand von nicht mehr als der L√§nge des Kabels befinden m√ºssen.  Angenommen, Sie sind ein gro√üer Netzwerkadministrator und m√∂chten das Ger√§t remote konfigurieren.  Der Switch ist jedoch ein Ger√§t der 2. Ebene des Netzwerks, daher kann er keine IP-Adresse haben, und Sie k√∂nnen nicht √ºber das Netzwerk darauf zugreifen, da es unm√∂glich ist, den physischen Schnittstellen des Switch IP-Adressen zuzuweisen.  Wie kann dieses Problem gel√∂st werden? <br>  Dazu m√ºssen wir eine virtuelle Schnittstelle f√ºr VLAN1 erstellen und ihr eine IP-Adresse 192.168.1.1 oder eine andere Adresse zuweisen.  Dann kann der von mir gezeichnete Netzwerkadministrator-Computer mit der IP-Adresse 192.168.1.10 √ºber Telnet oder SSH √ºber einen Switch eine Verbindung zu dieser virtuellen Schnittstelle herstellen.  Diese Funktion ist standardm√§√üig f√ºr VLAN1 vorhanden. <br><br><img src="https://habrastorage.org/webt/e9/ra/mp/e9rampetqlahniqxfzfljf9wyhs.jpeg"><br><br>  Das blaue Netzwerk PC1 geh√∂rt jedoch zu VLAN10, und die virtuelle Schnittstelle geh√∂rt zu VLAN1, sodass der Computer nicht mit der VLAN1-Schnittstelle kommunizieren kann, da er zu einem anderen Netzwerk geh√∂rt.  In diesem Fall k√∂nnen Sie eine virtuelle Schnittstelle f√ºr VLAN10 und dieselbe Schnittstelle f√ºr VLAN20 erstellen.  Dann k√∂nnen Computer PC1 des blauen Netzwerks und Computer PC1 des roten Netzwerks √ºber virtuelle Schnittstellen remote mit dem Switch kommunizieren. Dazu m√ºssen Sie diesen Schnittstellen in den Adressbereichen VLAN10 und VLAN20 lediglich IP-Adressen zuweisen. <br><br>  Um den Remotezugriff eines Ger√§ts auf den Switch zu erm√∂glichen, m√ºssen Sie eine virtuelle Schnittstelle mit derselben VLAN-Nummer erstellen, zu der dieses Ger√§t geh√∂rt. Erstellen Sie beispielsweise eine virtuelle Schnittstelle VLAN20 f√ºr einen Computer aus VLAN20 usw. <br><br>  Bei der Er√∂rterung von VLANs erw√§hnen wir Schicht 2 und Schicht 3 des OSI-Modells.  Um den Unterschied zwischen ihnen zu verstehen, verwenden wir Packet Tracer. <br><br><img src="https://habrastorage.org/webt/pc/8t/sf/pc8tsfbggxpcmkkq0uon_imdlue.jpeg"><br><br>  Ich hoste ein Level 2-Ger√§t - einen Switch und f√ºge ein paar Endbenutzer-PCs hinzu.  Der linke PC0 befindet sich in VLAN10 und der rechte PC1 befindet sich in VLAN20.  Dann werde ich ein Netzwerk erstellen, indem ich Computer an den Switch anschlie√üe.  Beide Computer m√ºssen ihre eigenen IP-Adressen haben, daher gehe ich in ihre Netzwerkeinstellungen und weise PC0 die Adresse 198.168.10.1 und die Subnetzmaske 255.255.255.0 zu.  Ich verwende derzeit kein Gateway, daher lasse ich die Standardeinstellungen.  Ich mache dasselbe mit PC1 und weise ihm die Adresse 198.168.20.1 und die Subnetzmaske 255.255.255.0 zu. <br>  Jetzt pinge ich von PC0 einen Computer mit der Adresse 198.168.20.1.  Aus fr√ºheren Lektionen sollten Sie wissen, dass dies nicht funktioniert.  Trotz der Tatsache, dass beide PCs mit den Standardschnittstellen des Switches VLAN1 verbunden sind, k√∂nnen sie immer noch nicht kommunizieren, da sie IP-Adressen haben, die zu verschiedenen Bereichen von Netzwerkadressen geh√∂ren - VLAN10 hat einen Bereich von 192.168.10.0/0 und VLAN20 hat 192.168.20.0 / 0.  Das hei√üt, physisch k√∂nnen Computer miteinander kommunizieren, aber logisch - nein. <br><br>  Ich gehe in die Switch-Konsole und √§ndere die VLAN-Einstellungen.  Dazu rufe ich die f0 / 1-Schnittstelle auf und gebe die Befehle switchport mode access und switchport access vlan10 ein. Danach zeigt das System die Meldung an, dass ein solches Netzwerk nicht vorhanden ist und erstellt wird.  Als n√§chstes gebe ich den Befehl show vlan brief ein, und Sie k√∂nnen sehen, dass wir ein VLAN10-Netzwerk erstellt haben.  Dann gebe ich den Befehl show ip interface brief ein und wir sehen, dass wir am Ende der Liste der Schnittstellen standardm√§√üig die virtuelle Schnittstelle VLAN1 haben - dies ist SVI.  Er ist in einem administrativ heruntergekommenen Zustand. <br>  Versuchen wir nun, eine virtuelle Schnittstelle f√ºr VLAN10 zu erstellen.  Wir sehen, dass der Switch kein VLAN10-Netzwerk hatte und es daher erstellt hat. Dies ist die 2. Ebene des OSI-Modells.  Die virtuelle Schnittstelle f√ºr VLAN10 ist Level 3, und Sie m√ºssen den Befehl int vlan10 verwenden, um sie zu erstellen.  Danach zeigt das System eine Meldung an, dass der Status der VLAN10-Schnittstelle auf up - "on" ge√§ndert wurde, w√§hrend das lineare Protokoll der VLAN10-Schnittstelle ebenfalls aktiviert ist. <br><br>  Wenn Sie den Befehl show int brief erneut eingeben, ist klar, dass wir gerade die erstellte VLAN10-Schnittstelle erhalten haben, die sich im Status up befindet.  Wenn wir eine SVI erstellen, befindet sie sich standardm√§√üig im Status "Ein".  Denken Sie daran, dass die Schnittstelle f√ºr VLAN1 standardm√§√üig deaktiviert ist. Wenn Sie jedoch eine andere virtuelle VLAN-Schnittstelle erstellen, ist diese aktiviert. <br><br><img src="https://habrastorage.org/webt/xr/ic/yl/xricylmwm336r4_v_sw-y05sclg.jpeg"><br><br>  Wie Sie sehen k√∂nnen, befindet sich in der VLAN-Datenbank kein VLAN20, daher werde ich es mit dem Befehl int vlan 20 erstellen. Sie sehen, dass ich mich im Unterbefehlsmodus dieser Schnittstelle befinde.  Ich kann den Befehl shutdown eingeben, um diese SVI zu deaktivieren, oder no shut schreiben, wenn ich sie im Aktivierungsstatus belassen m√∂chte.  Schauen wir uns noch einmal die Liste der Schnittstellen an.  Wie Sie sehen, haben wir automatisch ein VLAN20-Netzwerk erstellt.  Das zuvor erstellte VLAN10 befindet sich im Status "Up". Es gibt keine Probleme damit.  Aber jetzt, als ich VLAN20 erstellt habe, wurde es im getrennten Zustand angezeigt.  Dies ist eine Art von Problem, daher m√ºssen wir herausfinden, warum es und sein entsprechendes Protokoll im Ausfallzustand sind. <br><br>  Es stellt sich heraus, dass die VLAN20-Schnittstelle deaktiviert ist, da wir noch kein VLAN20-Netzwerk haben.  Beenden wir daher die Schnittstelleneinstellungen und erstellen dieses Netzwerk.  Denken Sie daran, dass Sie beim Erstellen eines Elements einer Strukturebene 3 des OSI-Modells den Befehl int vlan 20 verwenden und zum Erstellen eines Strukturelements der Ebene 2 einfach den Befehl vlan 20 verwenden. Nach dem Erstellen dieses Netzwerks zeigt das System die Meldung an, dass die VLAN20-Schnittstelle den Status auf up ge√§ndert hat.  Sie k√∂nnen auch sehen, dass das System dann Hinweise auf der Ebene von Unterbefehlen wie Switch (config-vlan) # anstelle von Switch (config) # ausgibt. <br>  Versuchen wir nun, den Namen des von uns erstellten Netzwerks zu √§ndern.  Wenn wir ein VLAN10-Netzwerk erstellen, gibt das System ihm standardm√§√üig den gleichen Namen - VLAN0010.  Wenn wir es √§ndern m√∂chten, verwenden Sie den Befehl name SALES.  Mit dem Befehl show vlan brief sehen wir uns dann die VLAN-Datenbank an und stellen fest, dass sich das VLAN20-Netzwerk in ein SALES-Netzwerk verwandelt hat. <br><br>  Wenn Sie sich jetzt die Liste der Schnittstellen ansehen, k√∂nnen Sie sehen, dass die VLAN20-Schnittstelle ihren Status in Up ge√§ndert hat, da die VLAN-Datenbank jetzt ein Netzwerk enth√§lt, das dieser Schnittstelle entspricht. <br><br>  Sie sehen jedoch, dass das Protokoll dieses Ports immer noch inaktiv ist und sich im Status "Down" befindet.  Dies liegt daran, dass im VLAN20-Netzwerk kein Datenverkehr ‚Äûangezeigt‚Äú wird.  Warum sieht er diesen Verkehr nicht?  Weil kein Port mit dem VLAN20-Netzwerk verbunden ist.  Wir m√ºssen also einen funktionierenden Port daran anschlie√üen.  In diesem Fall sind nur die Verbindungsger√§te f0 / 1 und f0 / 2 aktiv. <br><br><img src="https://habrastorage.org/webt/1q/ra/te/1qrateol8sltkg469nmalbiruiu.jpeg"><br><br>  Daher rufe ich mit dem Befehl int f0 / 2 den Unterbefehlsmodus dieser Schnittstelle und die Befehle switchport mode access und switchport access vlan20 auf.  Danach meldet das System, dass das VLAN20-Schnittstellenleitungsprotokoll den Status in up ge√§ndert hat.  Dasselbe kann mit dem Befehl show int brief angezeigt werden - beide Elemente sowie die Schnittstelle und ihr Protokoll befinden sich in einem aktivierten Zustand.  Wenn Sie also ein Problem mit einer deaktivierten VLAN-Schnittstelle haben, √ºberpr√ºfen Sie zun√§chst die Datenbank der VLANs und stellen Sie sicher, dass ein Netzwerk vorhanden ist, das dieser Schnittstelle entspricht.  Wenn Sie ein deaktiviertes Protokoll sehen, stellen Sie sicher, dass im Netzwerk aktiver Datenverkehr vorhanden ist, dh, dass ein Port mit diesem Netzwerk verbunden ist. <br><br>  Wenn wir uns die anderen Schnittstellen des Switches ansehen, z. B. f0 / 5, werden wir feststellen, dass sich das Protokoll f√ºr diese Schnittstelle im Status "Down" befindet, da auf dieser Schnittstelle kein Datenverkehr beobachtet wird.  Standardm√§√üig ist der Port deaktiviert, wenn keine Ger√§te mit ihm verbunden sind und das Protokoll nicht aktiv ist, da an diesem Port kein Datenverkehr vorhanden ist.  Wenn Sie also feststellen, dass sich die SVI im Status "Down" befindet, sollten Sie zuerst die oben genannten Punkte √ºberpr√ºfen. <br>  Nachdem unsere Computer IP-Adressen haben und die Ports des Switches konfiguriert sind, pr√ºfen wir, ob PC0-Ping an PC1 weitergeleitet wird.  Nat√ºrlich k√∂nnen Sie nicht den richtigen Computer anpingen, da sich die Ger√§te immer noch in verschiedenen VLAN10- und VLAN20-Netzwerken befinden. <br><br>  Um dieses Problem zu l√∂sen, platziere ich ein Ger√§t auf der Schaltung, dem eine IP-Adresse zugewiesen werden kann - einen Router - und verbinde eine seiner Schnittstellen mit einem Kabel mit dem Switch-Port f0 / 3 und die andere Router-Schnittstelle mit dem f0 / 4-Port mit einem zweiten Kabel.  Dies ist die Standardverbindung f√ºr solche F√§lle - alles funktioniert, wenn ich eine Schnittstelle mit VLAN10 und die andere mit VLAN20 verbinde.  Um keine Zeit zu verschwenden, habe ich die Ports des Routers vorkonfiguriert, indem ich ihnen IP-Adressen zugewiesen habe.  Um dies zu sehen, gehe ich in die Einstellungen der Konsole des Routers und gebe den Befehl show ip int brief ein.  Jetzt werde ich die notwendigen √Ñnderungen vornehmen, indem ich die Befehle config terminal, int f0 / 3, switchport mode access und switchport access vlan 10 eingebe. Auf die gleiche Weise konfiguriere ich die f0 / 4-Schnittstelle f√ºr die Arbeit mit dem VLAN20-Netzwerk. <br><br>  Mal sehen, ob Ping jetzt vergeht.  Sie k√∂nnen sehen, dass es einige Zeit dauert, bis die Switch-Ports in den Bereitschaftszustand √ºberspringen - orangefarbene Markierungen werden bald gr√ºn.  Ich gebe Ping 192.168.20.1 in die PC0-Befehlszeile ein, aber Ping schl√§gt erneut fehl.  Der Grund ist mein Fehler, weil ich in den Netzwerkeinstellungen von Computern kein Gateway erstellt habe.  Daher gehe ich in das Einstellungsfeld und gebe die Gateway-Adresse f√ºr den ersten Computer 192.168.10.10 und f√ºr den zweiten Computer - 192.168.20.10 an. <br><br><img src="https://habrastorage.org/webt/qk/xz/me/qkxzme8udtdgopncrtuz_bfmu8e.jpeg"><br><br>  Danach ist der Ping erfolgreich und nun k√∂nnen PC0 und PC1 miteinander kommunizieren.  Wie ich bereits sagte, verschwenden wir mit einer solchen Netzwerktopologie die Funktionen der Router-Ports - normalerweise hat der Router nur zwei Ports, daher ist es nur kriminell, sie auf diese Weise zu verwenden.  Um die Funktionen des Routers effektiver zu nutzen, wird das Konzept von Router-on-s-Stick oder "Router auf einem Stick, Router auf einem Flash-Laufwerk" verwendet.  Kehren wir zu einer der vorherigen Folien zur√ºck. <br><br><img src="https://habrastorage.org/webt/sp/9c/hc/sp9chcaueg3swye8nwdjsfiehds.jpeg"><br><br>  Wenn wir mit der 3. Ebene des OSI-Modells arbeiten, lautet das Schl√ºsselwort in den Konfigurationsbefehlen "Schnittstelle".  Das System wird in den Unterbefehlsmodus f√ºr die Schnittstelle versetzt, in dem Sie die Einstellung "Kein Herunterfahren" oder "Herunterfahren" festlegen und das Ergebnis der Schnittstelleneinstellungen mit dem Befehl "show ip interface brief" √ºberpr√ºfen k√∂nnen. <br><br>  Wenn wir mit Level 2 arbeiten und es sich bei einem Switch nur um eine VLAN-Datenbank handelt, enth√§lt der Befehl zur Eingabe der Einstellungen f√ºr das virtuelle Netzwerk nicht das Schl√ºsselwort ‚Äûinterface‚Äú, sondern beginnt mit dem Wort ‚Äûvlan‚Äú mit der entsprechenden Nummer Netzwerke, z. B. vlan 10. Nach dem Aufrufen des Unterbefehlsmodus k√∂nnen Sie das erstellte Netzwerk mit dem Namensbefehl VLAN10 benennen.  Verwenden Sie den Befehl show vlan brief, um Ihre Einstellungen zu √ºberpr√ºfen. <br><br>  Um das Routing zwischen zwei Netzwerken sicherzustellen, verbinden wir, wie bereits erw√§hnt, die Switches dieser Netzwerke mit einem Router, der mit einem externen Netzwerk verbunden ist - dem Internet. <br><br><img src="https://habrastorage.org/webt/wq/81/ei/wq81eiwsldjufkfj_mn9nf8dut4.jpeg"><br><br>  Mit diesem Schema kann Computer Nr. 1 auf das Internet zugreifen oder mit Computern in einem anderen Netzwerk kommunizieren.  Das hei√üt, wenn wir zwei verschiedene Switches haben, jeder f√ºr sein eigenes Netzwerk, ben√∂tigen Sie f√ºr die Kommunikation zwischen ihnen ein Ger√§t der 3. Ebene des OSI-Modells. <br><br>  Wie gesagt, normalerweise wird im B√ºro ein Switch verwendet, der √ºber VLAN in zwei H√§lften geteilt wird.  Im Diagramm werde ich zwei verschiedene VLANs bezeichnen - blauen VERKAUF und rotes MARKETING.  Um diese Methode zu verwenden, k√∂nnen Sie zwei verschiedene Router-Schnittstellen oder eine f0 / 0-Schnittstelle verwenden. Im Diagramm ist dies eine blaue Spalte zwischen dem Router und dem Switch.  Dieses Konzept wird als Subschnittstelle bezeichnet. Die Schnittstelle f0 / 0.10 wird f√ºr das blaue Netzwerk und f0 / 0.20 f√ºr das rote Netzwerk zugewiesen. <br><br><img src="https://habrastorage.org/webt/e3/wg/s7/e3wgs7t7m8s11tk0hmyabgyrsv4.jpeg"><br><br>  Angenommen, all dieses blaue Ding ist mit einer Schnittstelle des Switches f0 / 1 verbunden, die Computer des blauen VLAN sind mit den Schnittstellen f0 / 2 und f0 / 3 verbunden, und die Computer des roten Netzwerks sind mit f0 / 4 und f0 / 5 verbunden.  In diesem Fall muss f0 / 1 ein Trunk-Port sein und ein Trunk muss zwischen dem Switch und dem Router erstellt werden, da der gesamte Datenverkehr von VLAN10 und VLAN20 zum Router ben√∂tigt wird.  In diesem Fall k√∂nnen wir nur eine Router-Schnittstelle verwenden, die in zwei Sub-Interfaces oder Sub-Interfaces unterteilt ist. <br><br>  Subschnittstellen werden virtuell im Router erstellt, wobei ein Punkt in der Bezeichnung der physischen Schnittstelle hinzugef√ºgt wird.  Der Subschnittstelle f0 / 0.10 weisen wir eine IP-Adresse aus dem Adressbereich von VLAN10 zu, und f0 / 0.20 empf√§ngt eine IP-Adresse aus dem Adressbereich des VLAN20-Netzwerks.  Ich stelle fest, dass die Zahlen nach dem Punkt in der Bezeichnung der Subschnittstelle nicht mit der VLAN-Nummer √ºbereinstimmen m√ºssen.  Ich verwende √ºbereinstimmende Zahlen, damit Sie dieses Konzept besser verstehen.  Wenn bei der Pr√ºfung eine Frage zu einem Problem auftaucht und Sie der Meinung sind, dass dies auf die Nicht√ºbereinstimmung der VLAN-Nummern und der Subschnittstellen zur√ºckzuf√ºhren ist, da Ihnen beigebracht wurde, dass die Netzwerknummern √ºbereinstimmen m√ºssen, liegen Sie falsch!  Ich stelle noch einmal fest - die Nummer der Subschnittstelle und das entsprechende VLAN stimmen m√∂glicherweise nicht √ºberein, dies ist normal, daher liegt die Ursache der Probleme nicht darin. <br>  Wenn also Computer Nr. 1 des blauen Netzwerks Datenverkehr sendet, gelangt er zum Switch-Trunk-Port, wo er mithilfe des .1q-Protokolls gekapselt wird, dh das VLAN10-Tag empf√§ngt und √ºber den Trunk an den Router gesendet wird.  Der VLAN20-Verkehr wird auf die gleiche Weise markiert.  Das Problem ist jedoch, dass der Router die .1q-Sprache standardm√§√üig nicht versteht.  Daher m√ºssen wir in die Einstellungen des Routers gehen und den Subschnittstellen angeben, dass die Kapselung .1q verwendet.  Anschlie√üend weisen wir ihnen IP-Adressen aus den entsprechenden Adressbereichen von VLAN10- und VLAN20-Netzwerken zu.  Sobald wir dies tun, wird die Kommunikation zwischen den Netzwerken hergestellt. <br><br>  Fahren wir mit Packet Tracer fort, wo ich zuerst die zuvor erstellten SVIs l√∂sche, in den globalen Switch-Konfigurationsmodus gehe und die Befehle no int vlan 10 und no int vlan 20 anwende. Wenn Sie sich danach die Liste der Schnittstellen ansehen, k√∂nnen Sie feststellen, dass die Schnittstellen VLAN10 und VLAN20 verschwunden sind.  Auf der 2. Ebene des OSI-Modells befinden sich diese Netzwerke noch in der VLAN-Datenbank, da wir sie verwenden m√∂chten, jedoch ohne die entsprechenden virtuellen Schnittstellen. <br><br>  Als n√§chstes entferne ich die 2 Kabel, die den Switch und den Router verbinden, und verbinde den Switch und den Router mit einem Kabel, da ich nur einen Port des Routers f0 / 0 verwenden werde. <br><br><img src="https://habrastorage.org/webt/s9/mm/ty/s9mmtyamqn-sf-jb1bk_d6n0tdq.jpeg"><br><br>  Jetzt gehe ich in die Einstellungen des Routers, w√§hle die f0 / 0-Schnittstelle und gebe den Befehl no ip address (ohne IP-Adresse) ein.  Sie k√∂nnen eine Liste von Schnittstellen anzeigen, in der Sie sehen k√∂nnen, dass die IP-Adresse f√ºr die FastEthernet0 / 0-Schnittstelle nicht wie f√ºr die Vlan1-Schnittstelle zugewiesen ist und die IP-Adresse 192.168.20.10 f√ºr die FastEthernet0 / 1-Schnittstelle verwendet wird. <br><br><img src="https://habrastorage.org/webt/gj/iz/og/gjizog_0wuadcf617dceupnaade.jpeg"><br><br>  Um die Methode ‚ÄûRouter on a Stick‚Äú verwenden zu k√∂nnen, darf sich die physische Schnittstelle nicht im Shutdown-Modus befinden.  Wie Sie sehen k√∂nnen, befindet sich FastEthernet0 / 0 im manuellen Aufw√§rtsmodus, daher ist dies in Ordnung.  Dies ist das erste, was Sie sicherstellen m√ºssen, bevor Sie Router-on-s-Stick verwenden. Das zweite ist, dass diese Schnittstelle keine IP-Adresse hat. <br><br>  Als n√§chstes gebe ich int f0 / 0 ein, um den Unterbefehlsmodus der Schnittstelle aufzurufen, und gebe den Befehl f0 / 0.10 ein, um die Unterschnittstelle .10 zu erstellen.  Wenn Sie sich jetzt die Liste der Schnittstellen ansehen, k√∂nnen Sie sehen, dass das System eine neue virtuelle Schnittstelle FastEthernet0 / 0.10 erstellt hat, die sich im Status Ein befindet. <br><br><img src="https://habrastorage.org/webt/ug/rs/oy/ugrsoyfd-abo7yzblfem-llzmb0.jpeg"><br><br>  Ein Punkt im Namen gibt an, dass es sich um eine virtuelle und keine physische Schnittstelle handelt.  Als n√§chstes kehren wir zum globalen Einstellungsmodus zur√ºck und erstellen die Subschnittstelle f0 / 0.20.  Fahren wir nun mit dem Befehl int f0 / 0.10 mit den Einstellungen der neuen Subschnittstelle f0 / 0.10 fort.  Sie sehen, dass die Eingabeaufforderung die Form von Router-Unterbefehlen (config-subif) # hat.  Jetzt kann ich dieser Schnittstelle mit dem Befehl IP-Adresse 192.168.10.10 255.255.255.0 eine IP-Adresse zuweisen.  Wenn ich die Eingabetaste dr√ºcke, zeigt das System eine Meldung an: "Das Konfigurieren des IP-Routings f√ºr das Subschnittstellen-LAN ist nur m√∂glich, wenn diese Schnittstelle bereits als Teil von IEEE 802.10, 802.1q oder ISL vLAN konfiguriert ist."  Daher muss ich den Befehl eingeben, um die Kapselung unter Verwendung des .1q-Protokolls f√ºr ein bestimmtes VLAN zu verwenden, f√ºr das ich die Kapselung dot1Q 10 eingebe, wobei 10 die Nummer des VLAN ist. <br><br><img src="https://habrastorage.org/webt/om/us/c7/omusc7o_mydv1t5iqywmscxek60.jpeg"><br><br>  Jetzt gebe ich die gew√ºnschte IP-Adresse ein und das System akzeptiert sie.        f0/0.20 ‚Äì         IP- 192.168.20.10.  ,   IP-    f0/1,         no ip address.         f0/0.20,    ,    . <br><br>       PC0  ,      PC1.   ,     -,    .    ,  int f0/3     switchport mode trunk. ,        ,     VLAN10  VLAN20.    ,   ,  ,       !   ,   Router-on-a-Stick.     -    ,      .  ,     . <br><br> ,       ,         VLAN1.    ¬´¬ª  .     IP- 192.168.30.1,   255.255.255.0    192.168.30.10.  ,    PC2,  VLAN1,      VLAN10? <br><br><img src="https://habrastorage.org/webt/la/ge/_e/lage_e7xfreaxgjnfjb9ma_ab-s.jpeg"><br><br>     native VLAN,       ,      ?      2  ‚Äì   VLAN10,   VLAN20. <br><br><img src="https://habrastorage.org/webt/pz/oj/up/pzojuplzc-d_b1hy-0dhy-m_xhi.jpeg"><br><br>  2    .  ‚Äì          int f0/0.      ip address 192.168.30.10 255.255.255.0,       IP-.         PC2,      VLAN,        f0/0       . <br><br>   ,     192.168.10.1   PC2.         ,         PC0.  ,    ,   ,   .     ,       ‚Äì  Fa0/4,      PC2,     VLAN 20 SALES. <br><br><img src="https://habrastorage.org/webt/f3/t-/2y/f3t-2yzbnzlg0jt5ewlgpyduudw.jpeg"><br><br>         int f0/4, switchport mode access  switchport access vlan 1.   PC0  ,    ,       ,  ,       ,        PC2  . <br><br> ,    Native VLAN      IP-.       ‚Äì    IP-  f0/0 ‚Äì    .        ,   f0/0.30.            .1q      ¬´native¬ª: encapsulation dot1Q 1 native.       ,      native VLAN,     .       IP- 192.168.30.10 255.255.255.0    no shutdown. <br><br>  ,    .      PC2  ping 192.168.10.1,   ,   . <br><br>      .     ,     ,       3 .    ,    3-   OSI. <br><br><img src="https://habrastorage.org/webt/k3/2p/is/k32pisnmdl-kmjnaidfcpacxtdw.jpeg"><br><br>  3-        ,    VLAN. ,          ,  ,    Inter-VLAN    3- ,          .   3-       2-     3- . <br>      .      3   ‚Äì     ,  .    VLAN10  VLAN20       SVI.    ,       VLAN,      ,            VLAN     .      SVI     IP-     VLAN. <br><br><img src="https://habrastorage.org/webt/nb/3f/fx/nb3ffx8m-jzciutqgpurd5zsqza.jpeg"><br><br>     SVI  ,       .     ,       SVI   ROAS,    .    3-      SVI. <br><br>   Packet Tracer.            Cisco 3- ,         VLAN:  f0/1   VLAN10,  f0/2   VLAN20,       .   , VLAN1  PC2,    . <br><br><img src="https://habrastorage.org/webt/f4/wx/c4/f4wxc474bwjd_ozhdhtwziztxtu.jpeg"><br><br>    ,    SVI   VLAN1,     administratively down. <br><br>    3- ,      .     show ip route      ,    , , IP-   . <br><br><img src="https://habrastorage.org/webt/dy/kc/5l/dykc5lba_x3itqmqokxx04e6zug.jpeg"><br><br>            ip routing,      .     show ip rout,  ,      ,      SVI     VLAN10  VLAN20. <br><br><img src="https://habrastorage.org/webt/yr/nw/un/yrnwunrbm8cvh05hpvhn-bikova.jpeg"><br><br>     Packet Tracer   SVI.     ,    int vlan 10,   ip address 192.168.10.10 255.255.255.0  no shutdown.      , ,     IP-      VLAN10. <br><br>      int vlan 20, ip address 192.168.20.10 255.255.255.0  no shutdown.  ,      PC0  PC1   192.168.20.1.  ,  VLAN10        VLAN20,     3-       Inter-VLAN. <br><br>        VLAN1,          int vlan 1, n shutdown     IP-  ip address 192.168.30.10 255.255.255.0,   n shutdown.       PC2. <br><br>        , ,       ,            VLAN.      f0/4    VLAN40.    f0/4  IP-     VLAN40. <br><br><img src="https://habrastorage.org/webt/ju/vs/5z/juvs5zhe5kefbf-astocgzygffw.jpeg"><br><br>    3-      ,    access-,      VLAN. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Somit kann die Inter-VLAN-Verbindung auf zwei Arten organisiert werden: unter Verwendung eines ROAS-Schemas oder eines Cisco Layer 3-Switches. </font><font style="vertical-align: inherit;">Denken Sie daran, dass Sie im zweiten Fall SVI konfigurieren m√ºssen und im ersten Fall dies nicht erforderlich ist.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Z7WM7wFTWrs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Vielen Dank f√ºr Ihren Aufenthalt bei uns.  Gef√§llt dir unser Artikel?  M√∂chten Sie weitere interessante Materialien sehen?  Unterst√ºtzen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% f√ºr Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir f√ºr Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit √ºber VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verf√ºgbar). <br><br>  <b>Dell R730xd 2 mal g√ºnstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2,6 GHz 14C 64 GB DDR4 4 x 960 GB SSD 1 Gbit / s 100 TV von 199 US-Dollar</a> in den Niederlanden!</b>  <b><b>Dell R420 - 2x E5-2430 2,2 GHz 6C 128 GB DDR3 2x960 GB SSD 1 Gbit / s 100 TB - ab 99 US-Dollar!</b></b>  Lesen Sie mehr √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgeb√§udes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern f√ºr 9.000 Euro f√ºr einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466435/">https://habr.com/ru/post/de466435/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466425/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 37. STP: Root Bridge-Auswahl, PortFast- und BPDU-Schutzfunktionen. Teil 2</a></li>
<li><a href="../de466427/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 38. EtherChannel-Protokoll f√ºr OSI Layer 2</a></li>
<li><a href="../de466429/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 39. Stapel und Aggregation von Switch-Chassis</a></li>
<li><a href="../de466431/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 40. 802.1X Standard- und AAA-Protokollfamilie</a></li>
<li><a href="../de466433/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 41. DHCP-Snooping und nicht standardm√§√üiges natives VLAN</a></li>
<li><a href="../de466437/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 43. Routing-Protokolle Distanzvektor und Verbindungsstatus</a></li>
<li><a href="../de466439/index.html">√úberpr√ºfen Sie selbst: Wie viele Fragen k√∂nnen Sie ChGK beantworten?</a></li>
<li><a href="../de466441/index.html">Python-Buggy-Code: 10 h√§ufigste Fehler, die Entwickler machen</a></li>
<li><a href="../de466443/index.html">ShIoTiny und die Welt: Analoge Sensoren oder ADCs f√ºr die Kleinsten</a></li>
<li><a href="../de466445/index.html">Angriffe zwischen Vertrauensstellungen zwischen Dom√§nen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>