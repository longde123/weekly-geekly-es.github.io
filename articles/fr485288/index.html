<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üß£ üßëüèø üöµüèª L'amour pour d√©tester indie gamedev'a ‚ÜóÔ∏è üï¥üèø ü•í</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'histoire raconte comment j'ai d√©cid√© de commencer √† d√©velopper le jeu sans connaissances ni exp√©rience dans ce domaine, sans moteur ni investissemen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>L'amour pour d√©tester indie gamedev'a</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485288/"><p>  L'histoire raconte comment j'ai d√©cid√© de commencer √† d√©velopper le jeu sans connaissances ni exp√©rience dans ce domaine, sans moteur ni investissements.  Pourquoi ai-je besoin de √ßa?  Pourquoi quelqu'un d'autre?  Sur les √©checs et les succ√®s, sur le d√©but du poste de d√©veloppement ind√©pendant. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bz/ws/bj/bzwsbjf6bk4drammvj83jrnwqbk.png"></div><a name="habracut"></a><br><p>  Bonjour √† tous!  Je m'appelle Roma et depuis plusieurs ann√©es je d√©veloppe pour embarqu√© sur, pardonnez-moi, C / C ++.  Pour moi, programmer est un peu plus que du travail.  D'o√π l'envie d'avoir tout propre projet qui va grandir, et avec lui mon professionnalisme.  J'y crois quand m√™me.  De nombreux langages et technologies ont √©t√© essay√©s, beaucoup d'id√©es et autant d'√©checs.  Je pense que quelqu'un s'est reconnu.  Cet article parlera du d√©marrage du d√©veloppement d'un jeu informatique en C ++ √† l'aide d'OpenGl.  Le prochain sera sur les points suivants: </p><br><ol><li>  Difficult√©s qui surgissent devant moi et approches de leur solution. </li><li>  Pr√©sentation des technologies et outils de d√©veloppement utilis√©s. </li><li>  Liens vers les ressources utilis√©es sur le r√©seau. </li></ol><br><p>  Ce qui n'arrivera pas plus loin: </p><br><ol><li>  √Ä propos des subtilit√©s du d√©veloppement C ++.  Le langage sera mentionn√© avec ce degr√© d'abstraction afin qu'il puisse facilement √™tre remplac√© par un autre POO prenant en charge nativement. </li><li>  √Ä propos des moteurs pr√™ts √† l'emploi et de leur utilisation.  Je n'ai rien contre, je suis m√™me POUR.  Mais un article sur autre chose. </li><li>  √Ä propos de la magnifique photo utilisant les shaders de derni√®re g√©n√©ration.  Jusqu'ici si loin. </li></ol><br><p>  Donc, un article sur l'aventurisme et l'art.  L'approche de d√©veloppement d√©crite √† la fin de l'article me semble au moins non canonique.  Cependant, je pense qu'il a le droit d'exister.  Si vous lisez cet endroit et que vous aimez cr√©er des b√¢tons et <del>  aller </del>  des moyens improvis√©s, alors vous ne serez pas d√©√ßu. </p><br><h2 id="start-i-proval">  D√©marrage et √©chec </h2><br><p>  Une br√®ve revue des outils pour d√©velopper un jeu 2D sans aucun moteur a montr√© que vous devez imm√©diatement choisir un framework pour le traitement de la souris, du clavier, ainsi que le support pour l'audio et l'affichage des primitives graphiques.  La biblioth√®que SFML a √©t√© s√©lectionn√©e.  Il a fallu environ une semaine pour se conna√Ætre, quelque chose a √©t√© esquiss√©: des chars ont roul√© le long d'un champ rectangulaire et se sont tu√©s, il a √©t√© possible de construire leurs usines et autres dans l'esprit de la RTS du d√©but des ann√©es 2000.  Il semblait terne et voulait la 3D.  Je connaissais moins la 3D que le javascript sur la s√©curit√© des types.  Google a √©t√© le premier √† sortir OpenGl, qui est d√©mod√©.  Et aussi des recommandations pour utiliser le soi-disant profil de base de cet OpenGl.  Qui suis-je pour √©crire par des m√©thodes obsol√®tes?  Apr√®s avoir tent√© de traverser Core Profile avec SFML, il s'est av√©r√© que SFML ne prend pas en charge ce profil en m√™me temps en utilisant son module graphique.  Ce fut un coup dur pour la morale, car des ressources ont √©t√© d√©pens√©es pour apprendre la SFML.  De plus, toute la base de code n'a pas √©t√© extraite de la biblioth√®que graphique. </p><br><h2 id="glfw-i-novaya-nadezhda">  GLFW et le nouvel espoir </h2><br><p>  Comme le nom de la section le sugg√®re, Core Profile OpenGl et GLFW s'entendent bien.  <a href="https://learnopengl.com/">La principale</a> ressource que j'utilise sur OpenGl.  Oui, oui, sans VPN, tr√®s probablement, il ne s'ouvrira pas, gr√¢ce aux d√©fenseurs du Runet.  <a href="http://ogldev.atspace.co.uk/">Aide</a> .  Dans une semaine ou deux, des √©l√©ments g√©om√©triques simples avec des textures flotteront autour de l'√©cran.  Le passage √† GLFW avec SFML apprendra √† quelqu'un √† appr√©cier le principe d'inversion de d√©pendance (D dans SOLID).  En cons√©quence, il est n√© </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kq/g8/yg/kqg8ygc7zv5tgxujqf_q8gphqi4.png" width="80%"></div><br><p>  Je ne me faisais aucune illusion sur le c√¥t√© esth√©tique du probl√®me, mais le prototype √©tait vivant.  Oui, il √©tait laid, mais tout le monde conna√Æt un c√©l√®bre conte de f√©es.  L'humeur s'est am√©lior√©e.  A cette √©poque, la t√¢che la plus difficile pour moi aujourd'hui √©tait r√©solue: cr√©er un mod√®le avec animation.  La t√¢che a √©t√© divis√©e en sous-t√¢ches: </p><br><ol><li>  Cr√©er des animations dans un √©diteur, par exemple, dans Blender. </li><li>  Exportez vers un format prenant en charge les animations, tel que Collada. </li><li>  Importez en C ++, par exemple, avec la biblioth√®que Assimp. </li><li>  Concevoir des classes et leur impl√©mentation √† l'aide d'OpenGl. </li></ol><br><p>  Ainsi, les chars ont re√ßu une tour tournante. </p><br><h2 id="kogda-gord-rabotoy-no-stydno-eyo-pokazat">  Quand je suis fier du travail, mais honteux de le montrer </h2><br><p>  Oui, aujourd'hui tout le monde ne peut pas appr√©cier les abstractions magnifiquement con√ßues, <del>  surtout quand ils ne le sont pas </del>  .  Il fallait quelque chose pour plaire aux yeux.  Il s'agissait en quelque sorte d'un paysage proc√©dural.  Le g√©n√©rateur est connu de tous depuis longtemps, <del>  mais pas pour moi </del>  <a href="https://en.wikipedia.org/wiki/Perlin_noise">bruit de Perlin</a> .  Il s'est av√©r√© que certains param√®tres n√©cessitent une s√©lection empirique.  La recompilation est un coup dur pour la psych√©, il y avait donc un besoin d'une interface graphique pour le prototypage.  La recherche a abouti √† une brillante biblioth√®que <a href="https://github.com/ocornut/imgui">ImGui</a> .  Avec lui, les param√®tres num√©riques, les couleurs, les modes d'affichage, la personnalisation est un plaisir.  Le r√©sultat du g√©n√©rateur r√©sultant </p><br><p><img src="https://habrastorage.org/webt/hm/m7/ba/hmm7ba9w8xzdrsgj8jyaymk9ozm.png" alt="img"></p><br><h2 id="nemnogo-tumana">  Un peu de brouillard </h2><br><p>  Le brouillard est affich√© √† une hauteur donn√©e avec une saturation donn√©e dans un fragment shader en utilisant une fonction s√©lectionn√©e empiriquement.  Si n√©cessaire, vous pouvez ajouter plusieurs couches de brouillard avec vos propres param√®tres, y compris la couleur.  Un exemple de paysage avant et apr√®s application d'une simulation de brouillard: </p><br><p><img src="https://habrastorage.org/webt/hm/m7/ba/hmm7ba9w8xzdrsgj8jyaymk9ozm.png" width="49%"><img src="https://habrastorage.org/webt/_h/ya/bo/_hyabod1xa90fq5iwavigkpgpqe.png" width="49%"></p><br><h2 id="tot-moment-kogda-ponadobilis-algoritmy">  Le moment o√π les algorithmes √©taient n√©cessaires </h2><br><p>  Oui.  La deuxi√®me fois en 5 ans.  Il s'agit de trouver un chemin entre deux points en pr√©sence d'obstacles, car les unit√©s terrestres ne peuvent pas se d√©placer dans les montagnes!  L'algorithme <a href="https://en.wikipedia.org/wiki/A*_search_algorithm">A *</a> vient √† la rescousse.  Le pseudocode a pris <a href="http://theory.stanford.edu/~amitp/GameProgramming/ImplementationNotes.html">d'ici</a> .  La mise en ≈ìuvre n√©cessite un profilage et une optimisation, ainsi que de nombreux autres endroits, cependant, dans la version actuelle, les unit√©s contournent les obstacles, si le chemin existe.  Quelque part √† ce moment, l'id√©e du jeu a pris forme. </p><br><h2 id="kosmos-kotoryy-my">  L'espace que nous sommes ... </h2><br><p>  L'id√©e de travail qui √©voluera est l'exploration de la plan√®te par des pionniers.  Cr√©ation d'une bio-, atmosph√®re- et, finalement, √©cosph√®re.  Je vais vous donner un exemple.  Dans un premier temps, la vie ne sera possible qu'√† l'int√©rieur d'un d√¥me cr√©√© artificiellement, √† l'int√©rieur duquel il sera possible de faire pousser des √™tres vivants: plantes, animaux.  Ils, √† leur tour, affecteront le paysage.  Ce qui suit est un exemple d'un d√¥me et du paysage en dessous √† travers N et M it√©rations, N &lt;M. </p><br><p><img src="https://habrastorage.org/webt/mr/ev/q2/mrevq2f8bmwxchm3otwidmga7ng.png" width="32%"><img src="https://habrastorage.org/webt/4k/ht/0c/4kht0ckgrvxcmtfqgmbmiif2yvo.png" width="32%"><img src="https://habrastorage.org/webt/i4/si/p3/i4sip3vflozmew4av1yuq3pzbaq.png" width="32%"></p><br><h2 id="o-merkatore-zemle-i-politike">  √Ä propos de Mercator, de la Terre et de la politique </h2><br><p>  Un paysage plat est d√©j√† quelque chose, mais ce n'est qu'une des vues de la plan√®te.  De mon point de vue, il est beaucoup plus attrayant de regarder un corps cosmique plus r√©el.  Temps de cartographie! </p><br><p>  S'il √©tait impossible de tirer un rectangle sur une sph√®re sans distorsion, je le soup√ßonnais, alors le nombre de m√©thodes d'affichage est devenu une r√©v√©lation.  La projection Mercator la plus courante a des probl√®mes d'affichage aux p√¥les et d√©forme consid√©rablement les proportions lors de l'√©loignement de l'√©quateur.  √Ä tel point qu'il semble que la F√©d√©ration de Russie soit plus grande que l'Afrique et les √âtats-Unis - Australie. </p><br><p>  Il s'est av√©r√© qu'une mesure de la distorsion peut √©galement √™tre calcul√©e analytiquement.  En gros, un cercle sur un plan devient une ellipse sur une sph√®re et vice versa.  La t√¢che √©tait la suivante: ajouter une vue d'un corps sph√©rique √† une vue plate.  D'o√π le probl√®me - quel type choisir pour le principal et lequel afficher avec distorsion.  Il a √©t√© d√©cid√© d'afficher une vue plate sans distorsion comme une vue qui permet plus d'op√©rations, y compris la s√©lection et le d√©placement des unit√©s.  La vue du corps sph√©rique a √©t√© laiss√©e pour des op√©rations avec des avions, par exemple des satellites artificiels.  En tant qu'√©cran, la <a href="https://en.wikipedia.org/wiki/Gall_stereographic_projection">projection st√©r√©ographique de Gall est utilis√©e</a> comme l'un des compromis.  Les distorsions ont √©t√© calcul√©es √† l'aide d'ellipses de distorsion, elles sont √©galement l'indicateur de Tisso.  En cons√©quence, vous pouvez voir ce qui suit: la capture d'√©cran montre une vue de la plan√®te comme un corps sph√©rique avec deux d√¥mes, dont l'un alimente deux sources d'√©nergie, l'autre - une source. </p><br><p><img src="https://habrastorage.org/webt/su/dy/q6/sudyq6zoz3cgk6cxxbymdxklqxa.png" alt="img"></p><br><p>  <strong>Modules logiciels et cycle de d√©veloppement</strong> </p><br><p>  La t√¢che minimale √† l'√©tape ¬´Dois-je commencer?¬ª √âtait la suivante: √©voluer du simple au complexe et au beau tout au long de l'ann√©e.  Il est extr√™mement facile de d√©go√ªter en quelques semaines de l'amour du projet.  J'ai cinq raisons √† cela: </p><br><ol><li>  La premi√®re raison est le code.  Sans support pour une architecture saine et une refactorisation, la plupart du temps sera un correctif, mais quelle est la joie? </li><li>  Concentration insuffisante sur un.  √âtant engag√© dans un algorithme d'heure, une heure - un mod√®le dans Blender, je ne peux pas atteindre l'objectif. </li><li>  Concentration excessive.  Ayant √©t√© engag√© dans le moteur et les algorithmes depuis longtemps, l'image ne change pas et il semble qu'il n'y ait pas de progr√®s. </li><li>  Difficult√© √† ma√Ætriser l'outil.  La richesse de l'interface Blender ou de l'API OpenGl inspire le respect, sinon la peur.  Cela peut prendre plusieurs jours du d√©but √† la premi√®re preuve de concept, ce qui est un coup tr√®s moral. </li><li>  Attentes √©lev√©es et manque de pr√©paration √† l'√©chec.  Parfois, il est difficile d‚Äôabandonner l‚Äôapproche ¬´Concevoir, impl√©menter et ne pas retourner¬ª au profit du ¬´Prototype / Impl√©mentation / Raffinement des Interfaces¬ª </li></ol><br><p>  √âtant champion du TDD, je dois dire que je ne vois pas la possibilit√© de l'appliquer avec un tel pourcentage de R&amp;D.  Je serai heureux si vous, cher lecteur, me donnez des raisons de douter. </p><br><p>  √Ä l'heure actuelle, les domaines de d√©veloppement suivants se sont d√©marqu√©s: </p><br><ol><li>  Conception de mod√®les dans Blender. </li><li>  Impl√©mentation d'algorithmes et de math√©matiques, par exemple, A * ou Perlin Noise. </li><li>  D√©veloppement de la partie "moteur".  Il est compris, par exemple, comme un g√©n√©rateur de terrain ou l'importation d'un mod√®le depuis Blender. </li><li>  D√©veloppement d'un module responsable du rendu. </li><li>  D√©veloppement de la logique de jeu.  Cela n√©cessite qu'elle utilise le moteur et le module de rendu. </li><li>  Refactoring </li></ol><br><p>  Les plans incluent la s√©paration des modules 2-5 au niveau de la biblioth√®que avec une fa√ßade dans chacun.  L'une des raisons possibles: l'ajout de la fonctionnalit√© de contr√¥le de la cam√©ra n√©cessite une recompilation en cascade d'une grande quantit√© de code source. </p><br><p>  La pratique montre que cela se r√©v√®le productif si vous vous concentrez sur un domaine pendant 5 √† 10 heures.  Moins - la concentration est perdue, plus - l'≈ìil est flou. </p><br><p>  P√©riodiquement, pour atteindre l'objectif, je vois qu'il est possible de violer certaines r√®gles de d√©veloppement normal, √† condition que le lieu de la violation soit marqu√© et du temps allou√© √† la refactorisation.  Ce dernier se produit tous les 7 √† 10 jours.  Exemple: cr√©ation temporaire de variables globales.  Je vais m'en d√©barrasser en les transmettant aux constructeurs / m√©thodes lors de la refactorisation, ce qui aidera √† distinguer les classes √† faible connectivit√© et √† haut engrenage.  Ce qui impliquera un nouveau cycle de refactoring.  Les avantages de cette approche: </p><br><ol><li>  Volont√© de mettre en ≈ìuvre de nouvelles id√©es.  Rejet de l'ancien. </li><li>  La capacit√© √† faire √©voluer les interfaces. </li></ol><br><p>  Inconv√©nients: </p><br><ol><li>  La refactorisation peut √™tre retard√©e. </li><li>  Je vois un support irr√©aliste pour les tests unitaires / simul√©s. </li><li>  Certains surmontent les difficult√©s de Vim.  Pourquoi Vim s'il ajoute des inconv√©nients?  Alors quels sont les avantages pour moi de plus. </li></ol><br><h2 id="to-be-continued">  √Ä suivre </h2><br><p>  Merci de votre attention sur mon humble article!  Tout le code est <a href="https://github.com/ardazishvili/colony">ici</a> .  En plus des t√¢ches d√©crites ci-dessus, il a fallu beaucoup de temps pour se familiariser avec Blender, la personnalisation de vim et sa refactorisation.  Si c'√©tait au moins un peu int√©ressant, veuillez √©crire.  Je peux couvrir quelque chose plus en d√©tail dans l'un des articles suivants.  Une vid√©o avec un peu plus de d√©tails sur l'impl√©mentation est <a href="https://www.youtube.com/channel/UCOiOGWCMSnEZTnkkepQVdyA">ici</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485288/">https://habr.com/ru/post/fr485288/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485274/index.html">Meetup Moscou JS √† la Raiffeisenbank: continuer √† diffuser</a></li>
<li><a href="../fr485278/index.html">La main de Dieu. Aide sur les coupons</a></li>
<li><a href="../fr485280/index.html">Allez Fakedb √âmulation de base de donn√©es dans les tests</a></li>
<li><a href="../fr485284/index.html">Caract√©ristiques de SPIKE ‚Ñ¢ Prime LEGO¬Æ Education</a></li>
<li><a href="../fr485286/index.html">Comment nous avons pes√© des marchandises ou une petite ode d'automatisation</a></li>
<li><a href="../fr485290/index.html">Guide de distillation BERT simple</a></li>
<li><a href="../fr485294/index.html">Cours moderne sur Node.js en 2020</a></li>
<li><a href="../fr485298/index.html">Le myst√©rieux programme LyX. Partie 4</a></li>
<li><a href="../fr485300/index.html">D√©couverte d'une nouvelle √©pid√©mie de vers H2Miner exploitant Redis RCE</a></li>
<li><a href="../fr485304/index.html">Quelques astuces sur les √©l√©ments iframe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>