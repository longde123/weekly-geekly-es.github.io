<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👂🏻 🕘 🚦 Frontend, algoritme, dan possum Frederick. Kami menganalisis tugas-tugas dari kontes Yandex 👁️ 👨‍🔬 🧛🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dengan posting ini, kami menyelesaikan serangkaian publikasi tentang kontes Yandex.Blitz pada tahun 2018. Kami berharap Anda memiliki kesempatan untuk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Frontend, algoritme, dan possum Frederick. Kami menganalisis tugas-tugas dari kontes Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/430560/">  Dengan posting ini, kami menyelesaikan serangkaian publikasi tentang kontes Yandex.Blitz pada tahun 2018.  Kami berharap Anda memiliki kesempatan untuk berpartisipasi atau setidaknya melihat jenis tugas apa yang kami usulkan dekat dengan produksi.  Kontes terakhir dikhususkan untuk penggunaan algoritma di frontend.  Hari ini kami menerbitkan analisis terperinci dari 12 masalah: 6 masalah pertama diusulkan dalam babak kualifikasi, dan masalah 7-12 di final.  Kami mencoba menjelaskan bagaimana kondisi terbentuk, keterampilan apa yang kami perhatikan.  Terima kasih kepada semua peserta atas minat mereka! <br><br><img src="https://habrastorage.org/webt/qs/lc/ea/qslceahk05pazepzdxsboshaqrg.jpeg"><br><br><h2>  Tugas 1 </h2><br>  Tugas pertama adalah melakukan pemanasan, selama 20 menit, dan kami memutuskan untuk membuat kondisinya sehingga mudah diselesaikan dengan bantuan ekspresi reguler. <br><a name="habracut"></a><br>  Semua opsi untuk tugas dikonstruksi dengan cara yang sama - ada pengelompokan ke poin, yang masing-masing dapat diwakili oleh grup dalam ekspresi reguler akhir. <br><br>  Pertimbangkan salah satu opsi: Kantor Pos. <br><br><h4>  Ketentuan </h4><br>  Di planet Jopan-14-53, penduduk setempat ingin mengirim surat satu sama lain, tetapi robot merpati yang seharusnya mengirimkannya bingung di alamat.  Anda harus mengajari mereka untuk mengurai surat dan memeriksa validitasnya. <br><br>  Struktur bagian dasar dari alamat terdiri dari wilayah, kotamadya, nama dan nama keluarga penerima.  Kotamadya dapat dibagi menjadi kabupaten dan kantor pos.  Semua bagian dipisahkan oleh koma. <br><br>  Nama-nama daerah, kota dan kabupaten adalah kata-kata, huruf pertama di setiap kata besar, sisanya kecil.  Nama dua kata dimungkinkan, dipisahkan oleh spasi atau tanda minus.  Dalam setiap kata dari tiga hingga delapan huruf AZ. <br><br>  Penduduk memiliki 6 jari di tangan mereka, dalam kehidupan sehari-hari sistem duodecimal.  Angka 0–9 digunakan sebagaimana adanya, dan 10 dan 11 ditunjukkan oleh tanda <code>~</code> dan <code>≈</code> . <br><br>  Nomor kantor pos dalam komposisi memiliki 3 digit berturut-turut, atau 4 dibagi menjadi 2 kelompok dengan 2 digit dengan tanda minus.  Contoh: <code>300</code> , <code>44-99</code> . <br><br>  Kadang-kadang penduduk mengirim surat ke kota atas permintaan.  Dalam hal ini, tidak ada alamat: hanya kotamadya dan nama penerima. <br><br>  Itu lucu, tetapi orang-orang di planet ini hanya disebut enam nama dan sembilan nama keluarga.  Nama: Shob, Ryob, Mob, Xiang, Ryan, Mans.  Nama keluarga: Sho, Ryo, Mo, Xia, Rya, Ma, Syu, Ryu, Mu.  Penghuni planet ini sama sekali bukan pemimpi. <br><br><h4>  Parsing </h4><br><blockquote>  Struktur bagian dasar dari alamat terdiri dari wilayah, kotamadya, nama dan nama keluarga penerima.  Kotamadya dapat dibagi menjadi kabupaten dan kantor pos.  Semua bagian dipisahkan oleh koma. </blockquote><br>  Dari paragraf pertama kita belajar bagaimana menunjukkan wilayah, kotamadya, distrik, kantor pos, nama dan nama keluarga, dan dalam urutan apa mereka harus mengikuti garis yang diuji. <br><br><blockquote>  Nama-nama daerah, kota dan kabupaten adalah kata-kata, huruf pertama di setiap kata besar, sisanya kecil.  Nama dua kata dimungkinkan, dipisahkan oleh spasi atau tanda minus.  Dalam setiap kata dari tiga hingga delapan huruf AZ. </blockquote><br>  Dari paragraf ini jelas bahwa kelompok tersebut sesuai dengan kata-kata <code>([-][-]{2,7})</code> .  Dan namanya, masing-masing, <code>([-][-]{2,7}(?:[- ][-][-]{2,7}))</code> . <br><br><blockquote>  Penduduk memiliki 6 jari di tangan mereka, dalam kehidupan sehari-hari sistem duodecimal.  Angka 0–9 digunakan sebagaimana adanya, dan 10 dan 11 ditunjukkan oleh tanda <code>~</code> dan <code>≈</code> . </blockquote><br>  Di sini kita belajar bahwa tidak cukup menggunakan <code>\d</code> untuk angka - Anda perlu menggunakan <code>[0-9~≈]</code> . <br><br><blockquote>  Nomor kantor pos dalam komposisi memiliki 3 digit berturut-turut, atau 4 dibagi menjadi 2 kelompok dengan 2 digit dengan tanda minus.  Contoh: <code>300</code> , <code>44-99</code> . </blockquote><br>  Dengan demikian, grup tersebut sesuai dengan nomor kantor pos <code>([0-9~≈]{3}|[0-9~≈]{2}-[0-9~≈]{2})</code> . <br><br><blockquote>  Kadang-kadang penduduk mengirim surat ke kota atas permintaan.  Dalam hal ini, tidak ada alamat: hanya kotamadya dan nama penerima. </blockquote><br>  Kami memahami, mengingat, dan mempertimbangkan dalam pertemuan fungsi akhir sehingga kabupaten dan kantor pos mungkin tidak hadir secara bersamaan. <br><br><blockquote>  Itu lucu, tetapi orang-orang di planet ini hanya disebut enam nama dan sembilan nama keluarga.  Nama: Shob, Ryob, Mob, Xiang, Ryan, Mans.  Nama keluarga: Sho, Ryo, Mo, Xia, Rya, Ma, Syu, Ryu, Mu.  Penghuni planet ini sama sekali bukan pemimpi. </blockquote><br>  Ini adalah bagian terakhir dari kondisi.  Di sini kami membutuhkan grup sederhana lain <code>(||||||||) (|||||)</code> atau rekan yang lebih pendek <code>([][]|[]) ([C]|[]||)</code> . <br><br>  Untuk mempermudah, kami menyimpan grup ke dalam variabel dan menggunakannya dalam ekspresi reguler yang dihasilkan. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> w = <span class="hljs-string"><span class="hljs-string">'[-][-]{2,7}'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// word const d = '[0-9~≈]'; // digit const name = `(?:${w}(?:[- ]${w})?)`; const number = `(?:${d}{3}|${d}{2}-${d}{2})`; const person = '(?:[][]|[]) (?:|||||)'; // , , (,  , )?  const re = new RegExp(`^(${name}),\\s*(${name}),\\s*(?:(${name}),\\s*(${number}),\\s*)?(${person})$`); module.exports = function(str) { //      if (typeof str !== 'string') return null; const res = str.match(re); //   -   if (!res) return null; //    //    ,     return res.slice(1); };</span></span></code> </pre> <br><h2>  Tugas 2. Kode di mana ada kesalahan </h2><br><h4>  Ketentuan </h4><br>  Pada siang hari, tim pengembangan membuat beberapa fitur baru.  Tetapi dalam mempersiapkan rilis, menggabungkan konflik terjadi, dan setelah mereka diselesaikan, tata letak berpisah.  Sangat mendesak untuk menghilangkan kesalahan karena jumlah minimum koreksi dalam kode sehingga rilis punya waktu untuk mulai berproduksi. <br><br>  Anda diberikan halaman HTML dengan gaya rusak dan format PNG (dengan hasil yang diharapkan).  Anda perlu memperbaiki kesalahan sehingga hasilnya saat melihat di Chrome menjadi sama dengan tangkapan layar asli.  Kirim halaman yang diperbaiki sebagai solusi untuk masalah tersebut. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Halaman HTML</a> dengan gaya rusak.  Tata letak: <br><br><img src="https://habrastorage.org/webt/on/3k/pu/on3kpuxrurmtfvpllwopkxd7j7e.png"><br><br><h4>  Parsing </h4><br>  Dalam tugas ini, kami mencoba meniru situasi yang sering dihadapi pengembang Yandex: di basis kode besar, temukan beberapa baris kode sederhana, koreksi yang mengarah ke hasil yang diinginkan.  Artinya, kesulitannya bukan dalam menulis kode, tetapi dalam memahami di mana tepatnya untuk menulisnya (atau menghapusnya). <br><br>  Kami mengambil kode mesin pencari yang sebenarnya dan membuat beberapa koreksi yang merusak tata letak.  Para peserta kompetisi memiliki kurang dari satu jam untuk menangani sekitar 250 kilobyte tata letak dan membawa kode ke keadaan yang sesuai dengan tata letak. <br><br>  Jelas bahwa batas waktu untuk kompetisi tidak memungkinkan membaca seluruh kode, sehingga para peserta harus menggunakan alat untuk pengembang di browser. <br><br>  Untuk memperbaiki salah satu dari empat opsi tugas, perubahan berikut cukup: <br><br><pre>  diff --git a / blitz.html b / blitz.html </pre><pre>  indeks 36b9af8..1e30545 100644 </pre><pre>  <font color="#cc0000">--- a / blitz.html</font> </pre><pre>  <font color="#0fc000">+++ b / blitz.html</font> </pre><pre>  <b>@@ -531.10 +531.6 @@</b> </pre><pre>  iframe [src $ = 'ext-analytics.html'] { </pre><pre>  tinggi: otomatis; </pre><pre>  } </pre><pre>  <font color="#cc0000">-.search2__button .suggest2-form__button: nth-child (1) {</font> </pre><pre>  <font color="#cc0000">- latar belakang: # ff0! important;</font> </pre><pre>  <font color="#cc0000">-}</font> </pre><pre>  <font color="#cc0000">-</font> </pre><pre>  / * ../../blocks-desktop/input/__control/input__control.styl end * / </pre><pre>  / * ../../node_modules/islands/common.blocks/input/__clear/input__clear.css dimulai * / </pre><pre>  / * Diposisikan relatif terhadap input__box. </pre><pre>  <b>@@ -744.10 +740.6 @@</b> </pre><pre>  iframe [src $ = 'ext-analytics.html'] { </pre><pre>  background-clip: kotak-padding; </pre><pre>  } </pre><pre>  .input_theme_websearch .input__clear { </pre><pre>  background-image: url ("/ static / web4 / node_modules / islands / common.blocks / input / _theme / input_theme_websearch.assets / clear.svg"); </pre><pre>  ukuran latar: 16px; </pre><pre>  <b>@@ -857.6 +849.7 @@</b> </pre><pre>  iframe [src $ = 'ext-analytics.html'] { </pre><pre>  warna latar: # f2cf46; </pre><pre>  } </pre><pre>  .websearch-button__text: before { </pre><pre>  <font color="#0fc000">+ posisi: absolut;</font> </pre><pre>  atas: -6px; </pre><pre>  kanan: -9px; </pre><pre>  lebar: 0; </pre><pre>  <b>@@ -866.8 +859.6 @@</b> </pre><pre>  iframe [src $ = 'ext-analytics.html'] { </pre><pre>  gaya perbatasan: solid; </pre><pre>  border-color: rgba (255.219,76,0); </pre><pre>  border-left-color: inherit; </pre><pre>  <font color="#cc0000">- posisi: relatif;</font> </pre><pre>  <font color="#cc0000">- z-index: -1000;</font> </pre><pre>  } </pre><pre>  / * ../../blocks-deskpad/websearch-button/websearch-button.styl end * / </pre><pre>  <b>@@ -1349.6 +1340.7 @@</b> </pre><pre>  iframe [src $ = 'ext-analytics.html'] { </pre><pre>  ukuran font: 14px; </pre><pre>  garis-tinggi: 40px; </pre><pre>  posisi: relatif; </pre><pre>  <font color="#0fc000">+ display: inline-block;</font> </pre><pre>  tinggi: otomatis; </pre><pre>  bantalan: 0; </pre><pre>  vertical-align: tengah; </pre><br><br><h2>  Tugas 3. Gambar dengan variabilitas yang diberikan </h2><br><h4>  Ketentuan </h4><br><img src="https://habrastorage.org/webt/5z/mg/w8/5zmgw8gjtcs5o-01l9ic8atnusy.png"><br><br>  Perancang mendesain logo.  Ini perlu digunakan dalam berbagai kondisi.  Untuk membuatnya senyaman mungkin, buat dengan satu elemen HTML di CSS murni. <br><br>  Anda tidak dapat menggunakan gambar (bahkan melalui data: uri). <br><br><h4>  Parsing </h4><br>  Karena tugasnya adalah menggunakan hanya satu div, yang kita miliki hanyalah div itu sendiri dan elemen pseudo :: before dan :: after. <br><br>  Gambar pada tata letak, untungnya, hanya terdiri dari tiga area dengan warna berbeda.  Kami membuat latar belakang kami sendiri untuk setiap elemen yang dapat diakses, dengan benar posisi dan sudut bulat.  Ada bayangan di area abu-abu tata letak - kami membuatnya dengan gradien. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#0C0C0C</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">9px</span></span> <span class="hljs-number"><span class="hljs-number">9px</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#F8E34B</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:after</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">linear-gradient</span></span>(178deg, #C8C8C8 0px , transparent 7px), <span class="hljs-number"><span class="hljs-number">#EEEDEF</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9px</span></span>; }</code> </pre><br><h2>  Tugas 4 </h2><br><h4>  Ketentuan </h4><br>  Petya bekerja sebagai penata huruf senior di koran Moscow Frontender.  Untuk tata letak surat kabar Petya menggunakan tumpukan teknologi web.  Tugas paling sulit yang dihadapi Petya adalah tata letak pos dalam artikel surat kabar: kolom surat kabar di setiap edisi memiliki lebar yang berbeda, dan pos tersebut memiliki font dan jumlah karakter yang berbeda. <br><br>  Petya perlu memilih ukuran font sendiri untuk setiap heading sehingga ukuran font maksimum, tetapi pada saat yang sama semua teks heading cocok dengan ruang yang disediakan untuknya. <br><br>  Bantu Petya: terapkan fungsi calcFontSize, yang memungkinkan Anda memasukkan teks yang ditransfer ke dalam wadah sehingga pas ke seluruh wadah dan memiliki ukuran maksimum yang memungkinkan.  Jika ini gagal, maka solusinya akan mengembalikan nol.  Panjang jalur input maksimum adalah 100 karakter.  String input tidak boleh kosong.  Solusi Anda harus berisi seluruh kode fungsi dan tidak boleh menggunakan dependensi eksternal sehingga Petya dapat menyalinnya ke dalam proyeknya dan menyebutnya dalam kodenya. <br><br>  Kami akan memeriksa seberapa optimal solusi Anda bekerja dan memperhalusnya jika menghasilkan terlalu banyak manipulasi DOM. <br><br><h4>  Parsing </h4><br>  Hal pertama yang harus dilakukan adalah mempelajari bagaimana menentukan apakah teks tersebut cocok dengan wadah, mengingat bahwa teks dalam wadah dapat mengambil beberapa baris.  Cara termudah untuk melakukan ini adalah dengan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">elemen.getBoundingClientRect ()</a> fungsi, yang memungkinkan Anda untuk mendapatkan dimensi elemen. <br><br>  Anda dapat menggambar teks dengan elemen bentang terpisah di dalam wadah dan memeriksa apakah lebar atau tinggi elemen ini melebihi ukuran wadah.  Jika ya, maka teks tidak sesuai dengan wadah. <br><br>  Selanjutnya, periksa kondisi batas.  Jika teks tidak masuk ke dalam wadah bahkan dengan ukuran font minimum, maka tidak dapat dimasukkan.  Jika teks pecah dengan ukuran maksimum yang diizinkan, maks akan menjadi jawaban yang benar.  Dalam kasus lain, ukuran font yang diinginkan adalah di suatu tempat dalam interval [min, maks]. <br><br>  Untuk menemukan solusi, Anda perlu memilah-milah seluruh celah ini dan menemukan nilai ukuran font di mana teks ditempatkan dalam wadah, tetapi jika Anda meningkatkannya dengan 1 –– itu akan berhenti cocok. <br><br>  Anda dapat melakukan ini dengan loop sederhana untuk rentang [min, maks], tetapi solusinya akan melakukan banyak pemeriksaan dan menggambar ulang halaman - setidaknya satu untuk setiap nilai yang akan diperiksa dalam rentang.  Kompleksitas algoritmik dari solusi semacam itu akan linear. <br><br>  Untuk meminimalkan jumlah pemeriksaan dan mendapatkan solusi yang berfungsi untuk O (log n), Anda perlu menggunakan algoritma pencarian biner.  Gagasan algoritma adalah bahwa pada setiap iterasi pencarian, rentang nilai dibagi menjadi dua bagian, dan pencarian berlanjut secara rekursif di setengah di mana solusi berada.  Pencarian akan berakhir ketika rentang runtuh ke nilai tunggal.  Baca lebih lanjut tentang algoritma pencarian biner <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di artikel Wikipedia</a> . <br><br>  Kami memeriksa kompleksitas algoritmik dari solusi menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MutationObserver</a> : kami menempatkannya di halaman dan menghitung berapa banyak mutasi DOM membuat keputusan dalam proses menemukan jawaban.  Untuk beberapa pengujian, jumlah mutasi sangat terbatas dari atas sehingga hanya solusi yang didasarkan pada pencarian biner yang dapat melewati batasan ini. <br><br>  Untuk mendapatkan skor penuh untuk tugas tersebut, perlu juga hati-hati memeriksa kondisi batas yang berbeda (pencocokan min dan maks, baris teks kosong pada input) dan menyediakan beberapa kondisi lingkungan di mana kode dijalankan (misalnya, diperbaiki dengan! Ukuran font penting di halaman CSS ) <br><br><h2>  Tugas 5. Kesulitan dalam komunikasi </h2><br>  Di setiap opsi kualifikasi, ada tugas di mana halaman HTML dengan beberapa antarmuka ditawarkan sebagai input.  Tugas-tugas memiliki legenda yang berbeda, tetapi mereka semua bermuara pada kenyataan bahwa perlu untuk mengekstrak beberapa data dari halaman dan, menggunakan data ini, entah bagaimana berinteraksi dengan antarmuka. <br><br>  Mari kita menganalisis solusi untuk salah satu tugas dari seri ini, yang disebut "Kesulitan dalam komunikasi." <br><br><h4>  Ketentuan </h4><br>  Kuda Adolf suka berbicara dengan teman-teman di telepon.  Sayangnya, ini jarang terjadi.  Setiap kali Adolf ingin menelepon, butuh lebih dari satu jam untuk memanggil nomor teman.  Ini karena sangat sulit baginya untuk menekan tombol yang tepat dengan kuku tebalnya. <br><br>  Untungnya, ponsel Adolf mendukung JavaScript.  Tolong tulis sebuah program yang memanggil teman-teman Adolf dengan mengklik pada keyboard.  Semua nomor yang diperlukan dicatat dalam buku catatan.  Kuda yang malang akan sangat berterima kasih padamu! <br><br><h4>  Parsing </h4><br>  Berikut adalah halaman yang ditawarkan sebagai input: <br><br><img src="https://habrastorage.org/webt/tz/b-/eb/tzb-ebphwda4nx25n2dlforpplo.png"><br><br>  <b>Bagian pertama dari solusi ini adalah mengambil data</b> <br>  Setiap digit nomor telepon diatur oleh gambar melalui gambar-latar belakang.  Pada saat yang sama, selama verifikasi, angkanya diganti secara dinamis.  Jika Anda membuka debugger di browser dan melihat pohon DOM halaman, Anda akan melihat bahwa setiap elemen DOM menggunakan kelas yang jelas: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"game"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"target"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"line"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol nine"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol eight"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol five"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol separator"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol four"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol one"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol two"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol separator"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Dalam hal ini, cukup membuat kamus, mengekstrak kelas CSS dan mengubahnya menjadi string dengan angka sesuai kamus, tidak termasuk pemisah (pemisah kelas CSS).  Misalnya, seperti ini: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> digits = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'.game .target .symbol:not(.separator)'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dict = { <span class="hljs-string"><span class="hljs-string">'one'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'two'</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'three'</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'four'</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'five'</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'six'</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'seven'</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'eight'</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-string"><span class="hljs-string">'nine'</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-string"><span class="hljs-string">'zero'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> phoneNumber = <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.from(digits).reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res, elem</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> className <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> elem.classList) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (className <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dict) { res.push(dict[className]); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; }, []);</code> </pre> <br>  Hasilnya, kita mendapatkan array berikut: [9, 8, 5, 4, 1, 2, 8, 0, 9, 0]. <br><br>  <b>Bagian kedua dari solusinya adalah berinteraksi dengan antarmuka</b> <br>  Pada tahap ini, kita sudah memiliki array dengan semua digit angka, dan kita perlu memahami tombol mana pada keyboard yang sesuai dengan digit mana.  Jika kita melihat kode HTML, kita akan melihat bahwa tidak ada kelas petunjuk khusus yang menunjukkan angka pada keyboard: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"keys"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"key"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"key"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- … --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Seseorang bisa secara manual membuat kamus lain dengan indeks, tetapi ada cara yang lebih sederhana.  Jika Anda memperhatikan gaya pada inspektur web, Anda akan melihat bahwa angka pada tombol diatur melalui konten properti CSS untuk: before pseudo-element.  Misalnya, untuk kunci "3", gaya terlihat seperti ini: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.key</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-child(3)</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">'3'</span></span>; }</code> </pre><br>  Untuk mendapatkan nilai properti ini, kami menggunakan metode window.getComputedStyle: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> keys = <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.from(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'.game .key'</span></span>)).reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res, elem</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> key = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> <span class="hljs-comment"><span class="hljs-comment">//  CSSStyleDeclaration  - .getComputedStyle(elem, ':before') //    .getPropertyValue('content') //     ,      .replace(/"/g, ''); res[key] = elem; return res; }, {});</span></span></code> </pre> <br>  Akibatnya, kita mendapatkan objek di mana teks kunci akan menjadi teks pada tombol (angka atau "panggilan"), dan nilainya akan menjadi simpul DOM. <br><br>  Tetap hanya untuk mengambil nilai-nilai dari array pertama (phoneNumber), pergi melalui mereka dan klik pada tombol yang sesuai menggunakan kamus kunci kami: <br><br><pre> <code class="javascript hljs">phoneNumber.push(<span class="hljs-string"><span class="hljs-string">'call'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> call = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> event = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Event(<span class="hljs-string"><span class="hljs-string">'click'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> next = phoneNumber.shift(); keys[next].dispatchEvent(event); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (phoneNumber.length) { setTimeout(call, <span class="hljs-number"><span class="hljs-number">100</span></span>); } } call();</code> </pre> <br>  Harap dicatat: sebelum melakukan panggilan, kami menambahkan nilai panggilan ke akhir array.  Ini diperlukan oleh kondisi tugas, karena jika Anda menekan nomor dan tidak menekan "panggilan", solusi tidak akan lulus tes. <br><br>  Fitur lainnya adalah penekanan tombol keyboard yang tidak sinkron.  Jika interval waktu antara penekanan tombol saat panggilan kurang dari 50 ms, maka solusi ini juga tidak akan lulus tes.  Fitur ini tidak dijelaskan secara eksplisit dalam kondisi masalah, dan kami mengharapkan peserta untuk mengetahuinya dengan membaca kode sumber halaman.  Ngomong-ngomong, sedikit kejutan menunggu peserta dalam kode sumber.  ;) <br><br><h2>  Tugas 6 </h2><br><h4>  Ketentuan </h4><br>  Fedor Rakushkin mengelola sistem manajemen tugas di perusahaannya.  Server tempat sistem berada gagal (dan Fedor tidak melakukan backup). <br><br>  Di memori server, masih ada cache struktur yang menggambarkan tugas, pelaksana, dan pengamat, serta hubungan antara struktur ini.  Selain itu, tautan cache ke struktur terakhir yang diubah dipertahankan. <br><br>  Bantu Fedor menulis fungsi yang dapat memulihkan semua koneksi yang mungkin antara tugas dan pengguna dan menyimpannya ke dalam dokumen dalam format Penurunan harga, dari mana Fedor kemudian akan mengembalikan database ke server baru. <br><br>  Dokumen penurunan harga harus memiliki format berikut: <br><br><pre> <code class="markdown hljs"><span class="hljs-section"><span class="hljs-section">##  - %  1%,  %username1%, : %username2% - %  2%,  %username1%, : %username2%, %username3% - %  3%,  %username1% //     - %  4%, : %username1%, %username2% //     - %  5% //       - %  6%, : %username1% - %  1%,  %username1% //  - %  2% - %  3%, : %username1% ##  - %username1% * %  1% // ,    * %  2% * %  3% * %  1% - %username2% * %  3%</span></span></code> </pre> <br>  Daftar tugas, daftar pelaksana dalam tugas, daftar pengamat dalam tugas, daftar pengguna dan daftar tugas yang dilakukan pengguna harus diurutkan secara leksikografis. <br><br><h4>  Deskripsi struktur dalam cache </h4><br>  Pengguna disimpan dalam cache sebagai struktur tipe `Pengguna`: <br><br><pre> <code class="javascript hljs">type User = { <span class="hljs-attr"><span class="hljs-attr">login</span></span>: string; tasks: Task[]; spectating: Task[]; };</code> </pre> <br>  Tugas disimpan dalam cache sebagai struktur tipe `Tugas`: <br><br><pre> <code class="javascript hljs">type Task = { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: string; assignee: User; spectators: User[]; subtasks: Task[]; parent: Task | <span class="hljs-literal"><span class="hljs-literal">null</span></span>; };</code> </pre> <br><h4>  Template Solusi </h4><br>  Solusi Anda harus mengandung modul CommonJS yang mengekspor fungsi yang sesuai dengan tanda tangan berikut: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * @param {User|Task} data -     , *        (User  Task) * @return {string} */</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   return '…'; }</span></span></code> </pre> <br><h4>  Contohnya </h4><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    const User1 = { type: 'user', login: 'fedor', tasks: [], spectating: [] }; const User2 = { type: 'user', login: 'arkady', tasks: [], spectating: [] }; //    const Task1 = { type: 'task', title: 'Do something', assignee: null, spectators: [], subtasks: [], parent: null }; const Task2 = { type: 'task', title: 'Something else', assignee: null, spectators: [], subtasks: [], parent: null }; const Task3 = { type: 'task', title: 'Sub task', assignee: null, spectators: [], subtasks: [], parent: null }; //    : //      Task1.assignee = User1; User1.tasks.push(Task1); // ...    —  Task1.spectators.push(User2); User2.spectating.push(Task1); //      , //       Task2.spectators.push(User1); User1.spectating.push(Task2); //      Task3.parent = Task2; Task2.subtasks.push(Task3); // ,     —  3 const lastEdited = Task3;</span></span></code> </pre> <br>  Jika Anda menampilkan tautan ke `lastEdited`, Anda mendapatkan struktur berikut: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'task'</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Sub task'</span></span>, <span class="hljs-attr"><span class="hljs-attr">assignee</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">spectators</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">subtasks</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">parent</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'task'</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Something else'</span></span>, <span class="hljs-attr"><span class="hljs-attr">assignee</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">spectators</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'user'</span></span>, <span class="hljs-attr"><span class="hljs-attr">login</span></span>: <span class="hljs-string"><span class="hljs-string">'fedor'</span></span>, <span class="hljs-attr"><span class="hljs-attr">tasks</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'task'</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Do something'</span></span>, <span class="hljs-attr"><span class="hljs-attr">assignee</span></span>: [Circular], <span class="hljs-attr"><span class="hljs-attr">spectators</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'user'</span></span>, <span class="hljs-attr"><span class="hljs-attr">login</span></span>: <span class="hljs-string"><span class="hljs-string">'arkady'</span></span>, <span class="hljs-attr"><span class="hljs-attr">tasks</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">spectating</span></span>: [ [Circular] ] } ], <span class="hljs-attr"><span class="hljs-attr">subtasks</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">parent</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">spectating</span></span>: [ [Circular] ] } ], <span class="hljs-attr"><span class="hljs-attr">subtasks</span></span>: [ [Circular] ], <span class="hljs-attr"><span class="hljs-attr">parent</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }</code> </pre> <br>        Markdown      ,    : <br><br><pre> <code class="markdown hljs"><span class="hljs-section"><span class="hljs-section">##  - Do something,  fedor, : arkady - Something else, : fedor - Sub task ##  - arkady - fedor * Do something</span></span></code> </pre> <br><h4>  </h4><br>     ,             . <br><br>   , ,        .        ,    : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *  ,     * @param {{ref: object, visited: ?boolean}} ctx * @param {object} handlers —     */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">traverse</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ctx, handlers</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    ,  ctx.ref , — ,     task.parent if (!ctx.ref) { return; } //   ,    ,       const visited = ctx.visited || new Set(); if (visited.has(ctx.ref)) { return; } visited.add(ctx.ref); //       handlers[ctx.ref.type](ctx.ref, goDeeper); //  ,       function goDeeper(subrefs) { //       for (const subref of [].concat(subrefs)) { traverse({ visited, ref: subref }, handlers); } } } //      const users = []; const tasks = []; // ref   —     traverse({ ref }, { user(user, deeper) { users.push(user); deeper(user.tasks); // to task.assignee deeper(user.spectating); // to task.spectators }, task(task, deeper) { tasks.push(task); deeper(task.assignee); // to user.tasks deeper(task.spectators); // to user.spectating deeper(task.parent); // to task.subtasks deeper(task.subtasks); // to task.parent } );</span></span></code> </pre><br>       . ,   ,    … <br><br><pre> <code class="javascript hljs">users.sort(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">u1, u2</span></span></span><span class="hljs-function">) =&gt;</span></span> u1.login &lt; u2.login ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">u1.login &gt; u2.login ? </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params"> : </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">tasks</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sort</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t1, t2</span></span></span><span class="hljs-function">) =&gt;</span></span> t1.title &lt; t2.title ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : (t1.title &gt; t2.title ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>));</code> </pre> <br> …   —     : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    const taskLine = t =&gt; `${ t.title }${ t.assignee ? `,  ${t.assignee.login}` : '' }${ t.spectators.length ? `, : ${t.spectators.map(u =&gt; u.login).join(', ')}` : '' }`; function renderTasks (parent = null, indent = 0) { return tasks .filter(t =&gt; t.parent === parent) .map(t =&gt; [ '\n', ' '.repeat(indent), //  '- ', taskLine(t), //    t.subtasks.length ? printTasks(t, indent + 2) : '' //   ].join('')) .join(''); } function renderUsers () { return ${users.map(u =&gt; `\n- ${u.login}${ u.tasks.map(t =&gt; `\n * ${t.title}`).join('') }`).join('')} } const result = ` ##  ${renderTasks()} ##  ${renderUsers()} `.trim();</span></span></code> </pre><br><h2>  7.      </h2><br><h4>  </h4><br> ,          ..      : <br><br><img src="https://habrastorage.org/webt/3k/if/tx/3kiftxvr-zioqome_lll3jtsirg.png"><br><br>      ,    .       ,                  «». <br><br><img src="https://habrastorage.org/webt/gd/kk/cq/gdkkcqwr9zs3qa2ta2_oyz1e9o0.png"><br><br>         . <br><br><img src="https://habrastorage.org/webt/zb/yx/gz/zbyxgz3jdls7g5iu-yro6jxp7xy.png"><br><br>   ,     . ,       .          .     .      HTML  CSS.  JavaScript   . <br><br> ,      ,  -     .    ,        . <br><br><h4>  </h4><br>         HTML/CSS,  ,  ,  - . <br><br>   CSS,     , —  float,      .  float   ,    ,        . <br><br>    —      ,    . ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  jsfiddle.net</a> .) <br><br>    —         padding-top,                 margin-top (  ).       DOM- (). ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a> .) <br><br><h2>  8.   </h2><br><h4>  </h4><br>   HTML-.     ,   .      ,       .     . <br><br>      <a href="">   </a> (pixel perfect).     . <br><br>       .           . <br><br>     ,     ,    .   ,        .  ,    :    -  ,   ,    . <br><br> ,    .  ,    ,   . <br><br><h4>  </h4><br>           ,     —    .    — CSS- border (  ), background (      )  box-shadow (     ). <br><br> -        « » (         )    .  ,        ,        . <br><br>   — ,       70  70 .     : ,   .  CSS-     ,   CSS-   ,       . <br><br><img src="https://habrastorage.org/webt/hw/fh/ko/hwfhko2djj5sbammehzss2qkkhm.png"><br><br>     —      210  210 ,        70  70 . <br><br><img src="https://habrastorage.org/webt/qy/qp/el/qyqpelprwqkmw_ka5io82h_vk2e.png"><br><br><h2>  9.   </h2><br><h4>  </h4><br>   —     ,   -.           JavaScript,       .        ,     . <br><br>   :       .     ,  ,     .      . <br><br>       ,     — .       —  .   ,     JavaScript API     .    ,   -,  ,     .        10   ,    HTTP-    . <br><br>           —     .    ,       ,     ,    . <br><br>        -. <br><br> : <br> — API  npm- @yandex-blitz/phone. <br> — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  API</a> . <br> —  -,  : <a href="">task.js</a> . <br> —     -   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">runkit-</a> . <br><br>        -,    . <br><br><h4>  </h4><br>        —     GET- return       connect. <br><br>     :   - .       ,         ,      .           . <br><br>   ,    :    ,        .      : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> writeQueue = []; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> processQueue = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (writeQueue.length) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fn = writeQueue.shift(); fn().then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { processQueue(); }); } }</code> </pre> <br>      ,   «    ». <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> writeQueue = []; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> processQueue = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isWriteInProgress) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (writeQueue.length) { isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fn = writeQueue.shift(); fn().then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; processQueue(); }); } }</code> </pre> <br> ,   POST-          .  ,    ,    . <br><br><pre> <code class="javascript hljs">app.post(<span class="hljs-string"><span class="hljs-string">"/speeddial/:digit/:phonenumber"</span></span>, (req, res) =&gt; { writeQueue.push(makeWriteJob(phone, req, res)); processQueue(); });</code> </pre> <br>   : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { BEEP_CODES } = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'@yandex-blitz/phone'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> writeQueue = []; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> processQueue = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isWriteInProgress) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (writeQueue.length) { isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fn = writeQueue.shift(); fn().then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; processQueue(); }); } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> makeWriteJob = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">phone, req, res</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> phone.getData() .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> speeddialDict = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(value); speeddialDict[req.params.digit] = <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>(req.params.phonenumber); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> phone .setData(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(speeddialDict)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> phone.beep(BEEP_CODES.SUCCESS)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { res.sendStatus(<span class="hljs-number"><span class="hljs-number">200</span></span>); }) }) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function"> =&gt;</span></span> { phone.beep(BEEP_CODES.ERROR).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { res.sendStatus(<span class="hljs-number"><span class="hljs-number">500</span></span>); }) }) } }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> createApp = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ phone }</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = express(); <span class="hljs-comment"><span class="hljs-comment">//   ,   « »   digit app.get("/speeddial/:digit", (req, res) =&gt; { phone.getData().then(value =&gt; { const speeddialDict = JSON.parse(value); return phone.connect() .then(async () =&gt; { await phone.dial(speeddialDict[req.params.digit]); res.sendStatus(200); }, async() =&gt; { await phone.beep(BEEP_CODES.FATAL); res.sendStatus(500); }); }).catch(async (e) =&gt; { await phone.beep(BEEP_CODES.ERROR); res.sendStatus(500); }); }); //   « »   digit  phonenumber app.post("/speeddial/:digit/:phonenumber", (req, res) =&gt; { writeQueue.push(makeWriteJob(phone, req, res)); processQueue(); }); return app; }; exports.createApp = createApp;</span></span></code> </pre> <br><h2>  10.  </h2><br><h4>  </h4><br>       .        ,        «». <br><br>   : <br> —    ,    . <br> —    ,      ,     . <br> —             ,     ,  . <br> —   ,    : ← ↓ ↑ →. <br> —       —  ,          . <br><br>       ,      ,   ,   ,        . <br><br>    . <br><br>             . <br><br>       HTML- (       ). <br><br>      ,     window.onMazeReady().         .        2 ,   . <br><br>       CSS- map. <br><br>       click    CSS-: <br> —  — control_direction_left, <br> —  — control_direction_down, <br> —  — control_direction_up, <br> —  — control_direction_right. <br><br> CSS-    : <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">background</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">radial-gradient</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">circle</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> 5<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span> 5<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#eee</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#000</span></span>);</code> </pre> <br>        25    ,   500 .  Sebagai contoh: <br><br><img src="https://habrastorage.org/webt/of/ho/_4/ofho_49u3jdimgdt1befkrkxcxs.png" width="400"><br><br><img src="https://habrastorage.org/webt/ug/vy/7f/ugvy7fgr1bh7cqbpwlzfmsyofeu.png" width="400"><br><br><img src="https://habrastorage.org/webt/2z/u1/nr/2zu1nroaxbrg_zcft6lb3hp6rzg.png" width="400"><br><br><img src="https://habrastorage.org/webt/6n/pr/md/6nprmdy2_skg53_cesb3c4rftvi.png" width="400"><br><br>      window.map  String.    : <br> # —  <br>  . —   <br> o —  <br> x —  <br><br>  ,      ,   ,    —  .             . <br><br> ,   <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">window</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.map</span></span> = ` ##### <span class="hljs-selector-id"><span class="hljs-selector-id">#o</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#x</span></span># #.#.# #...# ##### `;</code> </pre> <br>    : <br><br><img src="https://habrastorage.org/webt/fm/ca/o1/fmcao1hhm8qxfwhfgd2zib1ijew.png" width="400"><br><br>    : <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">ru/</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">body</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">100px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">100px</span></span></span><span class="css">; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.game-box</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">perspective</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">500px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">perspective-origin</span></span></span><span class="css">: center; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.map</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform-style</span></span></span><span class="css">: preserve-</span><span class="hljs-number"><span class="css"><span class="hljs-number">3</span></span></span><span class="css">d; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.map__tilt_left</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform</span></span></span><span class="css">: </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">rotateY</span></span></span><span class="css">(-25deg); } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.map__tilt_down</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform</span></span></span><span class="css">: </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">rotateX</span></span></span><span class="css">(-25deg); } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.map__tilt_up</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform</span></span></span><span class="css">: </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">rotateX</span></span></span><span class="css">(25deg); } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.map__tilt_right</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform</span></span></span><span class="css">: </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">rotateY</span></span></span><span class="css">(25deg); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"game-box"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">// JavaScript </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4>  </h4><br>         (HTML, CSS, JS).            ,  «» . <br><br>             .          (     ),  ,        . <br><br>  ,       ,           . <br><br> ,        : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map map__tilt_none"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map__cell map__cell_content_wall"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map__cell map__cell_content_empty"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map__cell map__cell_content_ball"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map__cell map__cell_content_exit"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map__cell map__cell_content_wall"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> : <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.map</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-spacing</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-collapse</span></span>: separate; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#ccc</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transform-style</span></span>: preserve-<span class="hljs-number"><span class="hljs-number">3</span></span>d; } <span class="hljs-selector-class"><span class="hljs-selector-class">.map__cell</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">box-sizing</span></span>: border-box; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">1px</span></span> solid; <span class="hljs-attribute"><span class="hljs-attribute">border-color</span></span>: <span class="hljs-number"><span class="hljs-number">#9b9b9b</span></span> <span class="hljs-number"><span class="hljs-number">#575757</span></span> <span class="hljs-number"><span class="hljs-number">#575757</span></span> <span class="hljs-number"><span class="hljs-number">#9b9b9b</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">30px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">30px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center; <span class="hljs-attribute"><span class="hljs-attribute">vertical-align</span></span>: middle; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#707070</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.map__cell_content_ball</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:after</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: inline-block; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">radial-gradient</span></span>(circle at 5px 5px, #eee, #000); } <span class="hljs-selector-class"><span class="hljs-selector-class">.map__cell_content_wall</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border-width</span></span>: <span class="hljs-number"><span class="hljs-number">4px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.map__cell_content_exit</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#000</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">5px</span></span> solid; <span class="hljs-attribute"><span class="hljs-attribute">border-color</span></span>: <span class="hljs-number"><span class="hljs-number">#222</span></span> <span class="hljs-number"><span class="hljs-number">#555</span></span> <span class="hljs-number"><span class="hljs-number">#555</span></span> <span class="hljs-number"><span class="hljs-number">#222</span></span>; }</code> </pre> <br>    —       —       . <br><br>        ,        . <br><br>   «»  ,       .     ,     . ,        : <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">window</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.map</span></span> = ` ####### ##.#### #.<span class="hljs-selector-class"><span class="hljs-selector-class">.o</span></span>..# #<span class="hljs-selector-id"><span class="hljs-selector-id">#x</span></span>.#.# ###...# ####### `;</code> </pre> <br>               : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convertMap</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mapInput</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mapInput .trim() .split(<span class="hljs-regexp"><span class="hljs-regexp">/\n\s*/</span></span>) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">row</span></span></span><span class="hljs-function"> =&gt;</span></span> row.split(<span class="hljs-string"><span class="hljs-string">''</span></span>)); }</code> </pre> <br>   ,   HTML    : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CELL_CONTENT = { <span class="hljs-string"><span class="hljs-string">'#'</span></span>: <span class="hljs-string"><span class="hljs-string">'wall'</span></span>, <span class="hljs-string"><span class="hljs-string">'o'</span></span>: <span class="hljs-string"><span class="hljs-string">'ball'</span></span>, <span class="hljs-string"><span class="hljs-string">'.'</span></span>: <span class="hljs-string"><span class="hljs-string">'empty'</span></span>, <span class="hljs-string"><span class="hljs-string">'x'</span></span>: <span class="hljs-string"><span class="hljs-string">'exit'</span></span> }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildGameBoxHtml</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">` &lt;div class="game-box"&gt; &lt;table class="map map__tilt_none"&gt; </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${map.map(row =&gt; </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` &lt;tr&gt; </span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${row.map(cell =&gt; </span></span></span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` &lt;td class="map__cell map__cell_content_</span></span></span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${CELL_CONTENT[cell]}</span></span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">"&gt;&lt;/td&gt; `</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">).join(</span></span></span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">''</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">)}</span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"> &lt;/tr&gt; `</span></span></span></span><span class="hljs-string"><span class="hljs-subst">).join(</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">''</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string"> &lt;/table&gt; &lt;!--      --&gt; &lt;div class="controls"&gt; &lt;button class="control control_direction_left"&gt;←&lt;/button&gt; &lt;button class="control control_direction_down"&gt;↓&lt;/button&gt; &lt;button class="control control_direction_up"&gt;↑&lt;/button&gt; &lt;button class="control control_direction_right"&gt;→&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; `</span></span>; }</code> </pre> <br>    ,         : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> gameBox = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'.game-box'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> map = gameBox.querySelector(<span class="hljs-string"><span class="hljs-string">'.map'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//           gameBox.addEventListener('click', ({ target }) =&gt; { //      if (!target.classList.contains('control')) { return; }; //      - const direction = target.className.match(/\bcontrol_direction_(\w+)/)[1]; //  ,   - map.className = map.className.replace(/\bmap__tilt_\w+/, `map__tilt_${direction}`); //  ,     let ball = map.querySelector('.map__cell_content_ball'); //       let nextBall = getNextCell(map, ball, direction); //      ball.classList.remove('map__cell_content_ball'); ball.classList.add('map__cell_content_empty'); //     ,            while ( !nextBall.classList.contains('map__cell_content_wall') &amp;&amp; !ball.classList.contains('map__cell_content_exit') ) { ball = nextBall; nextBall = getNextCell(map, ball, direction); } //      ball.classList.remove('map__cell_content_empty'); ball.classList.add('map__cell_content_ball'); }); const DIRECTIONS = { 'left': [-1, 0], 'up': [0, -1], 'down': [0, 1], 'right': [1, 0] }; //  DOM API ,        function getNextCell(map, cell, direction) { const directionDiff = DIRECTIONS[direction]; return map.rows[cell.parentNode.rowIndex + directionDiff[1]].cells[cell.cellIndex + directionDiff[0]]; }</span></span></code> </pre> <br>    —      callback   : window.onMazeReady().           . <br><br>       ,     .    ,      ,    .         HTML, CSS  JS     —   ,       . <br><br>  , : <br> —    , <br> —    ,     , <br> —     ,   , <br> —     ,            , <br> —         ,      , <br> —      ,     . <br><br>  ,        : <br> —     , <br> — , <br> —  DOM API    , <br> —    . <br><br><h2>  11.  </h2><br><h4>  </h4><br> ,    ,        .        ,     .    ,    . <br><br>    ,      .       ,      .        .        .js,   : <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">solveCaptcha</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">captcha</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br>     .                 . <br>       : <br><br><pre> <code class="javascript hljs">captcha = <span class="hljs-string"><span class="hljs-string">' TRABWARH THSCAHAW WWBSCWAA CACACHCR '</span></span></code> </pre> <br>  : <br> — S —   (sign) <br> — T —  (tree) <br> — R —  (road) <br> —… <br><br>      : <br><br><pre> <code class="javascript hljs">[ <span class="hljs-string"><span class="hljs-string">'TRABWARH THSCAHAW'</span></span> , <span class="hljs-string"><span class="hljs-string">'WWBSCWAA CACACHCR'</span></span> ]</code> </pre> <br>   : <br> —        1   10. <br> —     . <br> —        ,    . <br> —            (   ). <br> —     ,       ,        . <br> —    ,    . <br><br>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cut the cake</a>   codewars.com. <br><br><h4>  </h4><br>   ,       10.   ,      .   ,         .      : <br> —         ; <br> —                    ,    . <br><br>          ,            .    : «…   ,        ».         .       . <br><br><img src="https://habrastorage.org/webt/b2/i8/ns/b2i8nsoxflarw85le1qblpiskze.png"><br><br>     .          .   ,    .             . <br><br>            .       «»,          . <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">solveCaptcha</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">captcha</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> n = <span class="hljs-comment"><span class="hljs-comment">//     const sizes = getAllSizes(); //      // board —    //   —   ,   //  ,    const board = []; //    function placeNext(remains) { //    ... if (remains === 0) { // ... ,   ,   return board; } else { // ... //         // ,     const pos = getEmptyPos(); //        for (let i = 0; i &lt; sizes.length; i++) { //  ,    const size = sizes[i]; //          //     (      //     !== 1),  null const layer = getLayer(pos, size); //     if (layer) { //     board.push(layer); //     const res = placeNext(remains - 1); //  ,  if (res) return res; //      //    board.pop(); } } } } //   return placeNext(n); }</span></span></code> </pre> <br><h2>  12.   - </h2><br><h4>  </h4><br>   X     .  VCS            ,           . <br><br>     ,      -.   —    ,              . <br><br>      ,    .        ,    ,    .          . <br><br>          ,     .        (  )       . <br><br>    . <br><br> <b> </b> <br><br>     .   —   1000,     - —   20. <br><br>     : <br><br><pre> <code class="javascript hljs">type PullRequest = { <span class="hljs-comment"><span class="hljs-comment">/** *     ( ) *   N: 1 &lt;= N &lt;= 1000 */</span></span> files: string[], <span class="hljs-comment"><span class="hljs-comment">/** *     VCS */</span></span> id: string, <span class="hljs-comment"><span class="hljs-comment">/** * Unix-timestamp  - */</span></span> created: number, }</code> </pre> <br>   (created)   (id)   – . <br><br> <b> </b> <br><br>       CommonJS- : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * @param {PullRequest[]} pullRequests  PR,     * @returns {string[]}      */</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pullRequests</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   }</span></span></code> </pre> <br> <b></b> <br><br>      NodeJS  v9.11.2.      . <br><br> <b>    </b> <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mergeAllPRs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prs</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* solution */</span></span> } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.assert( mergeAllPRs([ { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#1'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077100</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'.gitignore'</span></span>, <span class="hljs-string"><span class="hljs-string">'README.md'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#2'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077700</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'index.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'package-lock.json'</span></span>, <span class="hljs-string"><span class="hljs-string">'package.json'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#3'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077800</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'.pnp.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'yarn.lock'</span></span>] } ]) .join(<span class="hljs-string"><span class="hljs-string">','</span></span>) === [ <span class="hljs-string"><span class="hljs-string">"#1"</span></span>, <span class="hljs-string"><span class="hljs-string">"#2"</span></span>, <span class="hljs-string"><span class="hljs-string">"#3"</span></span> ].join(<span class="hljs-string"><span class="hljs-string">','</span></span>) ); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.assert( mergeAllPRs([ { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#1'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536074100</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'README.md'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#2'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536078700</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'README.md'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#3'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536097800</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'README.md'</span></span>] } ]).join(<span class="hljs-string"><span class="hljs-string">','</span></span>) === [ <span class="hljs-string"><span class="hljs-string">"#1"</span></span> ].join(<span class="hljs-string"><span class="hljs-string">','</span></span>) ); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.assert( mergeAllPRs([ { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#1'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077100</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'.gitignore'</span></span>, <span class="hljs-string"><span class="hljs-string">'README.md'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#2'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077700</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'index.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'package-lock.json'</span></span>, <span class="hljs-string"><span class="hljs-string">'package.json'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#3'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077800</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'.pnp.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'package-lock.json'</span></span>, <span class="hljs-string"><span class="hljs-string">'yarn.lock'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#4'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077900</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'index.spec.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'index.spec.ts'</span></span>, <span class="hljs-string"><span class="hljs-string">'index.ts'</span></span>] } ]) .join(<span class="hljs-string"><span class="hljs-string">','</span></span>) === [ <span class="hljs-string"><span class="hljs-string">"#1"</span></span>, <span class="hljs-string"><span class="hljs-string">"#2"</span></span>, <span class="hljs-string"><span class="hljs-string">"#4"</span></span> ].join(<span class="hljs-string"><span class="hljs-string">','</span></span>) );</code> </pre> <br><h4>  </h4><br>      — , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a> . <br><br>     ,      « »  (,            ). <br><br>   ,    ,    ,   .        (   some  includes).     — O(n <sup>2</sup> ). <br><br>        ,     ,          ( . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a> ).      —  O(n). <br><br>    : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">conflicts</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (i &lt; a.length &amp;&amp; j &lt; b.length) {      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a[i] === b[j]) {          <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;      } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a[i] &gt; b[j]) {          j++;      } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {          i++;      }  }  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mergeAllPrs</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input</span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mergedFiles = [];  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mergedPrs = [];  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (i &lt; input.length) {      <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pr = input[i];      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!conflicts(mergedFiles, pr.files)) {          mergedPrs.push(pr);          mergedFiles.push(...pr.files);      }      i++;  }  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mergedPrs.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.id); };</code> </pre> <br>  ,       ,       . ,       : <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.assert(  mergeAllPrs([      {          <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>,          <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1538179200</span></span>,          <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"b"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>, <span class="hljs-string"><span class="hljs-string">"d"</span></span> ]      },      {          <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"2"</span></span>,          <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1538189200</span></span>,          <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"x"</span></span> ]      },      {          <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"3"</span></span>,          <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1538199200</span></span>,          <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"b"</span></span>, <span class="hljs-string"><span class="hljs-string">"g"</span></span> ]      },      {          <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span>,          <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1538209200</span></span>,          <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"c"</span></span>,  <span class="hljs-string"><span class="hljs-string">"f"</span></span> ]      },      {          <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"5"</span></span>,          <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1538219200</span></span>,          <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"d"</span></span>, <span class="hljs-string"><span class="hljs-string">"w"</span></span> ]      }  ])  .join(<span class="hljs-string"><span class="hljs-string">','</span></span>) === [<span class="hljs-string"><span class="hljs-string">'2'</span></span>, <span class="hljs-string"><span class="hljs-string">'3'</span></span>, <span class="hljs-string"><span class="hljs-string">'4'</span></span>, <span class="hljs-string"><span class="hljs-string">'5'</span></span>].join(<span class="hljs-string"><span class="hljs-string">','</span></span>) );</code> </pre> <br>    ,        ( ,      ). <br><br>         : «»   -,  «» —       (   ).          (   ). <br><br>  : <br><br><pre> <code class="javascript hljs">[  {      <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"#1"</span></span>,      <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1536077100</span></span>,      <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">".gitignore"</span></span>, <span class="hljs-string"><span class="hljs-string">"README.md"</span></span> ]  },  {      <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"#2"</span></span>,      <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1536077700</span></span>,      <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"index.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"package-lock.json"</span></span>, <span class="hljs-string"><span class="hljs-string">"package.json"</span></span> ]  },  {      <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"#3"</span></span>,      <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1536077800</span></span>,      <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"index.js"</span></span> ]  } ]</code> </pre> <br>  #2  #3  ,     ["#1", "#2"].      . <br><br><img src="https://habrastorage.org/webt/jv/x5/d0/jvx5d0lupnrgvtpbnybvt5icb88.png"><br><br>        ,      . <br><br>   ,         — O(n <sup>2</sup> ),        .   . <br><br>       ,      ,      .       ,      ,      . <br><br>  conflicts   ,   .     : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> conflictMatrix = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Uint8Array</span></span>(prs.length ** <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prToIndex = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">WeakMap</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; prs.length; i++) {  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pr1 = prs[i];  prToIndex.set(pr1, i);  conflictMatrix[i * prs.length + i] = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> j = i + <span class="hljs-number"><span class="hljs-number">1</span></span>; j &lt; prs.length; j++) {      <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pr2 = prs[j];      conflictMatrix[i * prs.length + j] = conflictMatrix[j * prs.length + i] = conflicts(pr1.files, pr2.files);  } } <span class="hljs-comment"><span class="hljs-comment">/** *     PR (    ) */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doPRsConflict</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pr1, pr2</span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> i = prToIndex.get(pr1);  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> j = prToIndex.get(pr2);  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> conflictMatrix[i * prs.length + j] === <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre> <br>   «»     ,    .     (  )    ,     .   ,     ,   -   . <br><br>    ,      ,      . <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *     prsSet,           */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getNonConflictingPRs</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prsSet, mergedPrs</span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = [];  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prsToTest = [...prsSet, ...mergedPrs];  prsSet.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pr</span></span></span><span class="hljs-function">) =&gt;</span></span> {      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!conflictsWithSomePR(pr, prsToTest)) {          result.push(pr);      }  });  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br>          . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fullSearch = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prsSet, mergedPrs = [], mergedFilesCount = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">) =&gt;</span></span> {  hits++;  <span class="hljs-comment"><span class="hljs-comment">//  ,            //   ,      const safeToMergePRs = getNonConflictingPRs(prsSet, mergedPrs);  mergedPrs = mergedPrs.concat(safeToMergePRs);  safeToMergePRs.forEach((pr) =&gt; {      prsSet.delete(pr);      mergedFilesCount += pr.files.length;  });  const pr = prsSet.values().next().value; // ...     </span></span></code> </pre> <br>    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id430560/">https://habr.com/ru/post/id430560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id430550/index.html">Membangun sistem komponen reaktif dengan Kotlin</a></li>
<li><a href="../id430552/index.html">Startup of the day (September-Oktober 2018)</a></li>
<li><a href="../id430554/index.html">Google mematenkan sepatu VR yang bisa Anda jalani selamanya</a></li>
<li><a href="../id430556/index.html">GeekBrains Meluncurkan Kursus Pelatihan Manajer Produk</a></li>
<li><a href="../id430558/index.html">Cara penilaian bekerja di industri berbagi mobil. Bagian 1. Ikhtisar alat populer pada data nyata</a></li>
<li><a href="../id430562/index.html">Validasi Formulir Bereaksi. Bagian 2</a></li>
<li><a href="../id430564/index.html">Bagaimana cara memverifikasi kompetensi PMa untuk proyek TI?</a></li>
<li><a href="../id430566/index.html">Kuda itu paling membajak, tetapi ketua pertanian kolektif tidak menjadi</a></li>
<li><a href="../id430568/index.html">Fintech Digest: pajak wiraswasta, investasi dalam fintech dan investor institusi di ruang bawah tanah, undang-undang tentang ruang bawah tanah di Federasi Rusia</a></li>
<li><a href="../id430570/index.html">Selamat datang di AppsConf: Rapat Tema QualityApps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>