<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöΩ üåÑ üéõÔ∏è Outils de lancement et de d√©veloppement d'applications Java, compilation, ex√©cution sur la JVM ‚õé üìó üë®üèª‚Äç‚öïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ce n'est un secret pour personne que Java est actuellement l'un des langages de programmation les plus populaires au monde. La date de sortie officiel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Outils de lancement et de d√©veloppement d'applications Java, compilation, ex√©cution sur la JVM</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471772/"><p> Ce n'est un secret pour personne que Java est actuellement l'un des langages de programmation les plus populaires au monde.  La date de sortie officielle de Java est le 23 mai 1995. <br><br>  Cet article est consacr√© aux principes de base: il d√©crit les fonctionnalit√©s de base du langage, qui seront utiles pour les "javistes" d√©butants, et les d√©veloppeurs Java exp√©riment√©s pourront rafra√Æchir leurs connaissances. <br><br>  <i>* L'article a √©t√© pr√©par√© sur la base d'un rapport d'Eugene Freiman - d√©veloppeur Java d'IntexSoft.</i> <i><br></i>  <i>L'article contient des liens vers des documents externes</i> . <br></p><br><br><img src="https://habrastorage.org/webt/sv/ru/1d/svru1d4lpapnwhjllxc2dfw5do4.png"><br><a name="habracut"></a><br><h3>  1. JDK, JRE, JVM </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Java Development Kit</a> est un kit de d√©veloppement d'applications <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Java</a> .  Il comprend <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des outils de d√©veloppement Java</a> et Java Runtime Environment ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JRE</a> ). <br><br>  <b>Les outils de d√©veloppement Java</b> comprennent environ 40 outils diff√©rents: javac (compilateur), java (lanceur d'applications), javap (d√©sassembleur de fichiers de classe java), jdb (d√©bogueur java), etc. <br><br>  Le runtime JRE est un package de tout ce qui est n√©cessaire pour ex√©cuter un programme Java compil√©.  Inclut la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">machine</a> virtuelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JVM</a> et la <b>biblioth√®que de classes Java</b> . <br><br>  <b>JVM</b> est un programme con√ßu pour ex√©cuter le bytecode.  Le premier avantage de la JVM est le principe de <i>¬´√âcrire une fois, ex√©cuter n'importe o√π¬ª</i> .  Cela signifie qu'une application √©crite en Java fonctionnera de la m√™me mani√®re sur toutes les plateformes.  C'est un gros avantage de la JVM et de Java lui-m√™me. <br><br>  Avant Java, de nombreux programmes informatiques √©taient √©crits pour des syst√®mes informatiques sp√©cifiques, et la pr√©f√©rence √©tait donn√©e √† la gestion manuelle de la m√©moire, comme plus efficace et pr√©visible.  Depuis la seconde moiti√© des ann√©es 90, apr√®s l'av√®nement de Java, la gestion automatique de la m√©moire est devenue une pratique courante. <br><br>  Il existe de nombreuses impl√©mentations JVM, √† la fois commerciales et open source.  L'un des objectifs de la cr√©ation de nouvelles machines virtuelles Java est d'augmenter les performances d'une plate-forme sp√©cifique.  Chaque machine virtuelle Java est √©crite s√©par√©ment pour la plate-forme, tandis qu'il est possible de l'√©crire afin qu'elle fonctionne plus rapidement sur une plate-forme sp√©cifique.  L'impl√©mentation JVM la plus courante est le point d'acc√®s JVM <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenJDK</a> .  Il existe √©galement des impl√©mentations d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IBM J9</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Excelsior JET</a> . <br><br><h3>  2. Ex√©cution de code JVM </h3><br>  Selon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la sp√©cification Java SE</a> , pour ex√©cuter le code dans la JVM, vous devez effectuer 3 √©tapes: <br><br><ul><li>  Chargement du bytecode et instanciation de la classe Class <br>  En gros, pour acc√©der √† la JVM, la classe doit √™tre charg√©e.  Il existe des classes de chargeur distinctes pour cela, nous y reviendrons un peu plus tard. </li><li>  Liaison ou liaison <br>  Apr√®s le chargement de la classe, le processus de liaison commence, sur lequel le bytecode est analys√© et v√©rifi√©.  Le processus de liaison, √† son tour, se d√©roule en 3 √©tapes: <br><br>  - v√©rification ou v√©rification du bytecode: la justesse des instructions, la possibilit√© de d√©bordement de pile sur cette section du code, la compatibilit√© des types de variables sont v√©rifi√©es;  la v√©rification a lieu une fois pour chaque classe; <br>  - pr√©paration ou pr√©paration: √† ce stade, conform√©ment √† la sp√©cification, la m√©moire est allou√©e aux champs statiques et leur initialisation a lieu; <br>  - r√©solution ou r√©solution: r√©solution des liens symboliques (lorsque dans le bytecode on ouvre des fichiers avec l'extension .class, on voit des valeurs num√©riques au lieu de liens symboliques). </li><li>  Initialisation de l'objet Class r√©sultant <br>  √Ä la derni√®re √©tape, la classe que nous avons cr√©√©e est initialis√©e et la JVM peut commencer √† l'ex√©cuter. </li></ul><br><h3>  3. Chargeurs de classe et leur hi√©rarchie </h3><br>  Retour aux chargeurs de classe, ce sont des classes sp√©ciales qui font partie de la JVM.  Ils chargent les classes en m√©moire et les rendent disponibles pour ex√©cution.  Les chargeurs fonctionnent avec toutes les classes: les n√¥tres et celles qui sont directement n√©cessaires pour Java. <br><br>  Imaginez la situation: nous avons √©crit notre application, et en plus des classes standard, il y a nos classes, et il y en a beaucoup.  Comment la JVM fonctionnera-t-elle avec cela?  Java impl√©mente le chargement de classe diff√©r√©, en d'autres termes le chargement paresseux.  Cela signifie que le chargement des classes ne sera effectu√© que dans l'application, il n'y aura pas d'appel √† la classe. <br><br><h4>  Hi√©rarchie du chargeur de classe </h4><br><br><img src="https://habrastorage.org/webt/r3/em/cw/r3emcwi3knisqdoex6tgrwpgafs.png"><br><br>  Le premier chargeur de classe est le chargeur de classe <b>Bootstrap</b> .  Il est √©crit en C ++.  Il s'agit du chargeur de base qui charge toutes les classes syst√®me √† partir de l'archive <i>rt.jar</i> .  Dans le m√™me temps, il existe une l√©g√®re diff√©rence entre le chargement de classes √† partir de <i>rt.jar</i> et nos classes: lorsque la JVM charge des classes √† partir de <i>rt.jar</i> , elle n'effectue pas toutes les √©tapes de v√©rification qui sont effectu√©es lors du chargement d'un autre fichier de classe depuis  La JVM est initialement consciente que toutes ces classes sont d√©j√† valid√©es.  Par cons√©quent, vous ne devez inclure aucun de vos fichiers dans cette archive. <br><br>  Le chargeur de d√©marrage suivant est le <b>chargeur de classe Extension.</b>  Il charge les classes d'extension √† partir du dossier <i>jre / lib / ext</i> .  Supposons que vous souhaitiez qu'une classe se charge √† chaque d√©marrage de la machine Java.  Pour ce faire, vous pouvez copier le fichier de classe source dans ce dossier et il se chargera automatiquement. <br><br>  Un autre chargeur de d√©marrage est le <b>chargeur de classe syst√®me</b> .  Il charge les classes √† partir du chemin de classe que nous avons sp√©cifi√© au d√©marrage de l'application. <br><br>  Le processus de chargement des classes se d√©roule dans une hi√©rarchie: <br><br><ul><li>  Tout d'abord, nous demandons une recherche dans le cache du chargeur de classe syst√®me (le cache du chargeur syst√®me contient des classes qui ont d√©j√† √©t√© charg√©es par lui); </li><li>  Si la classe n'a pas √©t√© trouv√©e dans le cache du chargeur syst√®me, nous regardons le chargeur de classe Extension cache; </li><li>  Si la classe n'est pas trouv√©e dans le cache du chargeur d'extension, la classe est demand√©e au chargeur Bootstrap. </li></ul><br>  Si la classe n'est pas trouv√©e dans le cache Bootstrap, elle essaie de charger cette classe.  Si Bootstrap n'a pas pu charger la classe, il d√©l√®gue le chargement de la classe au chargeur d'extension.  Si, √† ce stade, la classe est charg√©e, elle reste dans le cache du chargeur de classe Extension et le chargement de la classe est termin√©. <br><br><h3>  4. Structure des fichiers de classe et processus de d√©marrage </h3><br>  Nous passons directement √† la structure des fichiers Class. <br><br>  Une classe √©crite en Java est compil√©e dans un seul fichier avec l'extension .class.  S'il y a plusieurs classes dans notre fichier Java, un fichier Java peut √™tre compil√© en plusieurs fichiers avec l'extension .class - fichiers bytecode de ces classes. <br><br>  Tous les nombres, cha√Ænes, pointeurs vers les classes, champs et m√©thodes sont stock√©s dans le <i>pool Constant</i> - la zone de m√©moire du <i>m√©ta-espace</i> .  La description de la classe est stock√©e au m√™me endroit et contient le nom, les modificateurs, la super-classe, les super-interfaces, les champs, les m√©thodes et les attributs.  Les attributs, √† leur tour, peuvent contenir des informations suppl√©mentaires. <br><br>  Ainsi, lors du chargement des classes: <br><br><ul><li>  lecture du fichier de classe, c'est-√†-dire validation du format </li><li>  la repr√©sentation de classe est cr√©√©e dans le pool constant (espace m√©ta) </li><li>  les super classes et les super interfaces sont charg√©es;  s'ils ne sont pas charg√©s, la classe elle-m√™me ne sera pas charg√©e </li></ul><br><h3>  5. Ex√©cution de bytecode sur la JVM </h3><br>  Tout d'abord, pour ex√©cuter le bytecode, la JVM peut l' <i>interpr√©ter</i> .  L'interpr√©tation est un processus assez lent.  En cours d'interpr√©tation, l'interpr√©teur ¬´ex√©cute¬ª ligne par ligne le fichier de classe et le traduit en commandes compr√©hensibles par la JVM. <br><br>  De plus, la JVM peut la <i>diffuser</i> , c'est-√†-dire  compiler en code machine qui sera ex√©cut√© directement sur le CPU. <br><br>  Les commandes qui sont ex√©cut√©es fr√©quemment ne seront pas interpr√©t√©es, mais seront imm√©diatement diffus√©es. <br><br><h3>  6. Compilation </h3><br>  <b>Un compilateur</b> est un programme qui convertit les parties sources de programmes √©crits dans un langage de programmation de haut niveau en un programme en langage machine ¬´compr√©hensible¬ª pour un ordinateur. <br><br>  Les compilateurs sont divis√©s en: <br><br><ul><li>  <i>Ne pas optimiser</i> </li><li>  <i>Optimisation simple</i> (Hotspot Client): travaillez rapidement, mais g√©n√©rez du code non optimal </li><li>  <i>Optimisation complexe</i> (Hotspot Server): effectuez des transformations d'optimisation complexes avant de g√©n√©rer du bytecode </li></ul><br><br>  Les compilateurs peuvent √©galement √™tre class√©s par temps de compilation: <br><br><ul><li>  <i>Compilateurs dynamiques</i> <br>  Ils travaillent simultan√©ment avec le programme, ce qui affecte les performances.  Il est important que ces compilateurs fonctionnent sur du code qui est souvent ex√©cut√©.  Lors de l'ex√©cution du programme, la JVM sait quel code est le plus souvent ex√©cut√©, et afin de ne pas l'interpr√©ter constamment, la machine virtuelle le traduit imm√©diatement en commandes qui seront d√©j√† ex√©cut√©es directement sur le processeur. </li><li>  <i>Compilateurs statiques</i> <br>  Compilez plus longtemps, mais g√©n√©rez le code optimal pour l'ex√©cution.  Du c√¥t√© des pros: ils ne n√©cessitent pas de ressources lors de l'ex√©cution du programme, chaque m√©thode est compil√©e √† l'aide d'optimisations. </li></ul><br><h3>  7. Organisation de la m√©moire en Java </h3><br>  <b>Une pile</b> est une r√©gion de m√©moire en Java qui fonctionne selon le sch√©ma LIFO - ¬´ <i>Last in - Fisrt Out</i> ¬ª ou ¬´ <i>Last In, First</i> <i>Out</i> ¬ª. <br><br><img src="https://habrastorage.org/webt/iv/u-/aw/ivu-awjajuj-fiwyzv6kzgsp9cq.png"><br><br>  Il est n√©cessaire pour stocker des m√©thodes.  Les variables sur la pile existent tant que la m√©thode dans laquelle elles ont √©t√© cr√©√©es est ex√©cut√©e. <br><br>  Lorsqu'une m√©thode est appel√©e en Java, un cadre ou une zone de m√©moire est cr√©√© sur la pile et la m√©thode est plac√©e au sommet.  Lorsqu'une m√©thode termine son ex√©cution, elle est supprim√©e de la m√©moire, lib√©rant ainsi de la m√©moire pour les m√©thodes suivantes.  Si la m√©moire de la pile est pleine, Java <i>l√®vera</i> une exception <i>java.lang.StackOverFlowError</i> .  Par exemple, cela peut se produire si nous avons une fonction r√©cursive qui s'appellera et qu'il n'y aura pas assez de m√©moire sur la pile. <br><br>  Caract√©ristiques cl√©s de la pile: <br><br><ul><li>  La pile est remplie et lib√©r√©e √† mesure que de nouvelles m√©thodes sont appel√©es et termin√©es. </li><li>  L'acc√®s √† cette zone m√©moire est plus rapide que le tas. </li><li>  La taille de la pile est d√©termin√©e par le syst√®me d'exploitation. </li><li>  Il est thread-safe, car chaque pile a sa propre pile distincte. </li></ul><br>  Un autre domaine de la m√©moire en Java est le <b>tas</b> ou le <b>tas</b> .  Il est utilis√© pour stocker des objets et des classes.  De nouveaux objets sont toujours cr√©√©s sur le tas et leurs r√©f√©rences sont stock√©es sur la pile.  Tous les objets du tas ont un acc√®s global, c'est-√†-dire qu'ils sont accessibles depuis n'importe o√π dans l'application. <br><br>  Le tas est divis√© en plusieurs parties plus petites appel√©es g√©n√©rations: <br><br><ul><li>  <i>Jeune g√©n√©ration</i> - la zone o√π se trouvent les objets r√©cemment cr√©√©s </li><li>  <i>Ancienne g√©n√©ration (permanente)</i> - la zone o√π les objets ¬´√† vie longue¬ª sont stock√©s </li><li>  Avant Java 8, il y avait un autre domaine - la <i>g√©n√©ration permanente</i> - qui contient des m√©ta-informations sur les classes, les m√©thodes et les variables statiques.  Apr√®s l'av√®nement de Java 8, il a √©t√© d√©cid√© de stocker ces informations s√©par√©ment, en dehors du tas, notamment dans l'espace Meta </li></ul><br><br><img src="https://habrastorage.org/webt/po/zg/f5/pozgf5m8ortucbcb_fr10p76xji.png"><br><br>  Pourquoi abandonner la g√©n√©ration permanente?  Tout d'abord, cela est d√ª √† une erreur qui √©tait associ√©e au d√©bordement de la zone: puisque Perm avait une taille constante et ne pouvait pas se d√©velopper dynamiquement, t√¥t ou tard la m√©moire √©tait √©puis√©e, une erreur a √©t√© lev√©e et l'application s'est bloqu√©e. <br><br>  Le m√©ta-espace a une taille dynamique et, √† l'ex√©cution, il peut s'√©tendre aux tailles de m√©moire JVM. <br><br>  Caract√©ristiques cl√©s du tas: <br><br><ul><li>  Lorsque cette zone m√©moire est pleine, Java lance <i>java.lang.OutOfMemoryError</i> </li><li>  L'acc√®s au tas est plus lent que l'acc√®s √† la pile </li><li>  Le garbage collector fonctionne pour collecter les objets inutilis√©s </li><li>  Un tas, contrairement √† une pile, n'est pas s√ªr pour les threads, car n'importe quel thread peut y acc√©der </li></ul><br><br>  Sur la base des informations ci-dessus, consid√©rez comment la gestion de la m√©moire est effectu√©e √† l'aide d'un exemple simple: <br><br><pre><code class="coffeescript hljs">public <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">public</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">static</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">main</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">[] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">args</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class"> = 23; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pName</span></span></span><span class="hljs-class"> = "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Jon</span></span></span><span class="hljs-class">"; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">null</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pName</span></span></span><span class="hljs-class">); } } </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pid</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">; // </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">constructors</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getters</span></span></span><span class="hljs-class">/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">setters</span></span></span><span class="hljs-class"> }</span></span></code> </pre> <br><br>  Nous avons une classe App dans laquelle la seule m√©thode <i>principale</i> consiste √†: <br><br>  - variable <b>id</b> primitive de type <b>int</b> avec la valeur <b>23</b> <br>  - <b>Variable de</b> r√©f√©rence <b>pName</b> de type <b>String</b> avec la valeur <b>Jon</b> <br>  - variable de r√©f√©rence <b>p de</b> type <b>personne</b> <br><br><img src="https://habrastorage.org/webt/ks/kr/yi/kskryittdimovhicuavhnx4z7se.png"><br><br>  Comme d√©j√† mentionn√©, lorsqu'une m√©thode est appel√©e, une zone m√©moire est cr√©√©e en haut de la pile dans laquelle sont stock√©es les donn√©es n√©cessaires au stockage de cette m√©thode. <br>  Dans notre cas, il s'agit d'une r√©f√©rence √† la classe <i>person</i> : l'objet lui-m√™me est stock√© sur le tas et le lien est stock√© sur la pile.  Un lien vers la cha√Æne est √©galement plac√© sur la pile et la cha√Æne elle-m√™me est stock√©e sur le tas dans le pool de cha√Ænes.  La primitive est stock√©e directement sur la pile. <br><br>  Pour appeler le constructeur avec des param√®tres <i>Person (String) √†</i> partir de la m√©thode <i>main ()</i> sur la pile, en plus de l'appel <i>principal ()</i> pr√©c√©dent, une trame distincte est cr√©√©e sur la pile qui stocke: <br><br>  - <b>ce</b> - lien vers l'objet courant <br>  - valeur <b>id</b> primitive <br>  - la variable de r√©f√©rence <b>personName</b> , qui pointe vers une cha√Æne dans le String Pool. <br><br>  Apr√®s avoir appel√© le constructeur, <i>setPersonName ()</i> est appel√©, apr√®s quoi un nouveau cadre est √† nouveau cr√©√© sur la pile, o√π les m√™mes donn√©es sont stock√©es: r√©f√©rence d'objet, r√©f√©rence de ligne, valeur de variable. <br><br>  Ainsi, lorsque la m√©thode de <i>d√©finition</i> est ex√©cut√©e, la trame dispara√Æt, la pile est effac√©e.  Ensuite, le constructeur est ex√©cut√©, le cadre qui a √©t√© cr√©√© pour le constructeur est effac√©, apr√®s quoi la m√©thode <i>main ()</i> termine son travail et est √©galement supprim√©e de la pile. <br><br>  Si d'autres m√©thodes sont appel√©es, de nouveaux cadres seront √©galement cr√©√©s pour eux avec le contexte de ces m√©thodes sp√©cifiques. <br><br><h3>  8. Collecteur d'ordures </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le garbage collector</a> travaille sur le tas - un programme ex√©cut√© sur la machine virtuelle Java qui se d√©barrasse des objets inaccessibles. <br><br>  Diff√©rentes JVM peuvent avoir diff√©rents algorithmes de r√©cup√©ration de place; il existe √©galement diff√©rents r√©cup√©rateurs de place. <br><br>  Nous parlerons du collecteur <b>Serial GC</b> le plus simple.  Nous demandons la r√©cup√©ration de place √† l'aide de <i>System.gc ()</i> . <br><br><img src="https://habrastorage.org/webt/kh/pe/ku/khpekusa0miezejuxbdwkcc-mdc.png"><br><br>  Comme mentionn√© ci-dessus, le tas est divis√© en 2 zones: nouvelle g√©n√©ration et ancienne g√©n√©ration. <br><br>  La nouvelle g√©n√©ration (jeune g√©n√©ration) comprend 3 r√©gions: <i>Eden</i> , <i>Survivor 0</i> et <i>Survivor 1</i> . <br><br>  L'ancienne g√©n√©ration comprend la r√©gion de <i>tenure</i> . <br><br>  Que se passe-t-il lorsque nous cr√©ons un objet en Java? <br><br>  Tout d'abord, l'objet tombe en <i>Eden</i> .  Si nous avons d√©j√† cr√©√© de nombreux objets et qu'il n'y a plus d'espace dans <i>Eden</i> , le garbage collector se d√©clenche et lib√®re de la m√©moire.  Il s'agit de la soi-disant <i>petite collecte des ordures</i> - lors du premier passage, elle nettoie la zone d' <i>Eden</i> et place les objets ¬´survivants¬ª dans la r√©gion <i>Survivor 0</i> .  Ainsi, la r√©gion d' <i>Eden</i> est compl√®tement lib√©r√©e. <br><br>  S'il arrive que la zone <i>Eden</i> soit √† nouveau pleine, le ramasse-miettes commence √† travailler avec la zone <i>Eden</i> et <i>Survivor 0</i> , qui est actuellement occup√©.  Apr√®s le nettoyage, les objets survivants tomberont dans une autre r√©gion - <i>Survivor 1</i> , et les deux autres resteront propres.  Lors de la prochaine collecte des ordures, <i>Survivor 0</i> sera √† nouveau s√©lectionn√© comme r√©gion de destination.  C'est pourquoi il est important qu'une des r√©gions <i>Survivor</i> soit toujours vide. <br><br>  La JVM surveille les objets qui sont constamment copi√©s et d√©plac√©s d'une r√©gion √† l'autre.  Et afin d'optimiser ce m√©canisme, apr√®s un certain seuil, le garbage collector d√©place ces objets vers la r√©gion <i>Tenured</i> . <br><br>  Lorsqu'il n'y a pas assez d'espace pour de nouveaux objets dans <i>Tenured</i> , il y a une collecte compl√®te des d√©chets - <b>Mark-Sweep-Compact</b> . <br><br><img src="https://habrastorage.org/webt/yt/a1/j1/yta1j1gobagrvcbehbifdtnq5ia.png"><br><br>  Au cours de ce m√©canisme, il est d√©termin√© quels objets ne sont plus utilis√©s, la r√©gion est d√©barrass√©e de ces objets et la <i>zone de</i> m√©moire <i>enregistr√©e est</i> d√©fragment√©e, c'est-√†-dire  successivement remplis des objets n√©cessaires. <br><br><h4>  Conclusion </h4><br>  Dans cet article, nous avons examin√© les outils de base du langage Java: JVM, JRE, JDK, le principe et les √©tapes de l'ex√©cution du code JVM, la compilation, l'organisation de la m√©moire, ainsi que le principe du garbage collector. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr471772/">https://habr.com/ru/post/fr471772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr471756/index.html">Comment le serveur d√©marre</a></li>
<li><a href="../fr471758/index.html">Comment traduire du texte dans une autre langue?</a></li>
<li><a href="../fr471760/index.html">Edward Snowden: The Battlefield - Cryptage</a></li>
<li><a href="../fr471766/index.html">Gestion des erreurs Kotlin / Java: comment le faire correctement?</a></li>
<li><a href="../fr471770/index.html">D√©couvrez les outils Big Data: prise en charge des ordinateurs portables Spark et Zeppelin dans IntelliJ IDEA</a></li>
<li><a href="../fr471774/index.html">API Android Camera2 √† partir de la th√©i√®re, partie 2, √©criture d'une vid√©o</a></li>
<li><a href="../fr471776/index.html">Laravel: expliquer les concepts de base. Deuxi√®me partie: pratique</a></li>
<li><a href="../fr471778/index.html">Breaking Micosoft Lunix √† HackQuest 2019</a></li>
<li><a href="../fr471792/index.html">D'o√π vient le magicien de "Miracle ordinaire"</a></li>
<li><a href="../fr471794/index.html">L'√®re des microphones √† plafond plat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>