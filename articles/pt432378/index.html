<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç¨ „äóÔ∏è üåñ Um aluno da 10¬™ s√©rie da Sib√©ria quer se tornar um designer de processadores. Por que n√£o fazer um acelerador neural FPGA? üñ•Ô∏è ‚õπÔ∏è ü§∞üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ontem recebi uma carta de um aluno da d√©cima s√©rie da Sib√©ria que deseja se tornar um desenvolvedor de microprocessadores. Ela j√° obteve alguns result...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Um aluno da 10¬™ s√©rie da Sib√©ria quer se tornar um designer de processadores. Por que n√£o fazer um acelerador neural FPGA?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432378/">  Ontem recebi uma carta de um aluno da d√©cima s√©rie da Sib√©ria que deseja se tornar um desenvolvedor de microprocessadores.  Ela j√° obteve alguns resultados nessa √°rea - acrescentou a instru√ß√£o de multiplica√ß√£o ao processador schoolMIPS mais simples, sintetizou-a para o Intel FPGA MAX10 FPGA, determinou a frequ√™ncia m√°xima e aumentou a produtividade de programas simples.  Ela fez tudo isso primeiro na vila de Burmistrovo, na regi√£o de Novosibirsk, e depois em uma confer√™ncia em Tomsk. <br><br>  Agora, Dasha Krivoruchko (esse √© o nome da d√©cima s√©rie) mudou-se para um internato de Moscou e me pergunta o que mais ela deveria criar.  Penso que, nesta fase de sua carreira, ela deveria projetar um acelerador de hardware para redes neurais com base em uma matriz sist√≥lica para multiplica√ß√£o de matrizes.  Use a linguagem de descri√ß√£o de hardware Verilog e o Intel FPGA FPGA, mas n√£o o MAX10 barato, mas algo mais caro para acomodar uma grande matriz sist√≥lica. <br><br>  Depois disso, compare o desempenho da solu√ß√£o de hardware com o programa em execu√ß√£o no processador schoolMIPS, bem como com o programa Python em execu√ß√£o no computador desktop.  Como exemplo de teste, use o reconhecimento de n√∫meros de uma pequena matriz. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0cf/da8/ea5/0cfda8ea5ec178758e45d12e1ff463b4.jpg"><br><a name="habracut"></a><br>  Na verdade, todas as partes deste exerc√≠cio j√° foram desenvolvidas por pessoas diferentes, mas o objetivo principal √© coloc√°-lo em um √∫nico exerc√≠cio documentado, que pode ser usado como base para o curso on-line e para competi√ß√µes pr√°ticas: <br><br>  1) eNano, o departamento educacional da RUSNANO, que no passado organizou semin√°rios Charles Danchek sobre o design da eletr√¥nica moderna (rota RTL para GDSII) para estudantes e atualmente est√° trabalhando em um curso on-line desse tipo (projetar hardware no n√≠vel de transfer√™ncias de registros + redes neurais). curso para estudantes avan√ßados.  Aqui Charles e eu estamos no escrit√≥rio deles: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c14/980/533/c149805338ebbb01fc2bd0f855ae16c0.jpg" width="300"><br><br>  2) A base para as Olimp√≠adas pode estar interessada nas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Olimp√≠adas da NTI</a> , com as quais levantei essa quest√£o h√° algumas semanas em Moscou.  Para esse exemplo, os participantes das olimp√≠adas poderiam adicionar um hardware para diferentes fun√ß√µes de ativa√ß√£o.  Aqui est√£o colegas das Olimp√≠adas da NTI: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/992/db9/acc/992db9acc29b53b9f63b407301ad1282.jpg"><br><br>  Portanto, se Dasha desenvolver isso, ela poderia, teoricamente, introduzir seu acelerador bem descrito tanto no RUSNANO quanto na Olimp√≠ada da NTI.  Eu acho que seria ben√©fico para a administra√ß√£o de sua escola - poderia ser exibido na TV ou enviado ao concurso Intel FPGA em geral.  Aqui est√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">alguns russos de S√£o Petersburgo na final do concurso Intel FPGA em Santa Clara, Calif√≥rnia</a> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d1d/672/b2b/d1d672b2bef602ddfed96e27c5db28ea.jpg"><br><br>  Agora vamos falar sobre o lado t√©cnico do projeto.  A id√©ia do acelerador de massa sist√≥lica √© descrita em um artigo traduzido pelo editor de Khabra Vyacheslav Golovanov <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">SLY_G</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Por que as</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">TPUs</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">s√£o t√£o adequadas para o aprendizado profundo?</a> <br><br>  √â assim que um gr√°fico de rede neural de fluxo de dados se parece para facilitar o reconhecimento: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f27/150/32c/f2715032ccee53157d14164a48789539.png"><br><br>  Um elemento de computa√ß√£o primitivo que executa multiplica√ß√µes e adi√ß√µes: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e3d/194/6aa/e3d1946aaf0b31c1243a24091b9a5a8d.gif"><br><br>  Uma estrutura fortemente pipelined de tais elementos, essa matriz sist√≥lica para multiplica√ß√£o de matrizes √©: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4bf/16b/7a8/4bf16b7a82a0f4e8a6da9d26c9d49129.gif"><br><br>  Na Internet, h√° um monte de c√≥digo no Verilog e VHDL com a implementa√ß√£o de uma matriz sist√≥lica, por exemplo, o c√≥digo est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nesta postagem do blog</a> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/852/69a/cc9/85269acc93c17a255153dd45635983d4.png"><br><br><pre><code class="plaintext hljs">module top(clk,reset,a1,a2,a3,b1,b2,b3,c1,c2,c3,c4,c5,c6,c7,c8,c9); parameter data_size=8; input wire clk,reset; input wire [data_size-1:0] a1,a2,a3,b1,b2,b3; output wire [2*data_size:0] c1,c2,c3,c4,c5,c6,c7,c8,c9; wire [data_size-1:0] a12,a23,a45,a56,a78,a89,b14,b25,b36,b47,b58,b69; pe pe1 (.clk(clk), .reset(reset), .in_a(a1), .in_b(b1), .out_a(a12), .out_b(b14), .out_c(c1)); pe pe2 (.clk(clk), .reset(reset), .in_a(a12), .in_b(b2), .out_a(a23), .out_b(b25), .out_c(c2)); pe pe3 (.clk(clk), .reset(reset), .in_a(a23), .in_b(b3), .out_a(), .out_b(b36), .out_c(c3)); pe pe4 (.clk(clk), .reset(reset), .in_a(a2), .in_b(b14), .out_a(a45), .out_b(b47), .out_c(c4)); pe pe5 (.clk(clk), .reset(reset), .in_a(a45), .in_b(b25), .out_a(a56), .out_b(b58), .out_c(c5)); pe pe6 (.clk(clk), .reset(reset), .in_a(a56), .in_b(b36), .out_a(), .out_b(b69), .out_c(c6)); pe pe7 (.clk(clk), .reset(reset), .in_a(a3), .in_b(b47), .out_a(a78), .out_b(), .out_c(c7)); pe pe8 (.clk(clk), .reset(reset), .in_a(a78), .in_b(b58), .out_a(a89), .out_b(), .out_c(c8)); pe pe9 (.clk(clk), .reset(reset), .in_a(a89), .in_b(b69), .out_a(), .out_b(), .out_c(c9)); endmodule module pe(clk,reset,in_a,in_b,out_a,out_b,out_c); parameter data_size=8; input wire reset,clk; input wire [data_size-1:0] in_a,in_b; output reg [2*data_size:0] out_c; output reg [data_size-1:0] out_a,out_b; always @(posedge clk)begin if(reset) begin out_a&lt;=0; out_b&lt;=0; out_c&lt;=0; end else begin out_c&lt;=out_c+in_a*in_b; out_a&lt;=in_a; out_b&lt;=in_b; end end endmodule</code> </pre> <br>  Observo que esse c√≥digo n√£o √© otimizado e geralmente desajeitado (e mesmo profissionalmente escrito - a fonte no post usa atribui√ß√µes de bloco em @ (posedge clk) - eu o corrigi).  A Dasha poderia, por exemplo, usar o Verilog gerar constru√ß√µes para um c√≥digo mais elegante. <br><br>  Al√©m de duas realiza√ß√µes extremas da rede neural (no processador e na matriz sist√≥lica), o Dasha poderia considerar outras op√ß√µes mais r√°pidas que o processador, mas n√£o t√£o vorazes quanto as opera√ß√µes de multiplica√ß√£o como uma matriz sist√≥lica.  √â verdade que isso √© mais prov√°vel n√£o para estudantes, mas para estudantes. <br><br>  Uma op√ß√£o √© um dispositivo de execu√ß√£o com um grande n√∫mero de blocos funcionais operando em paralelo, como em um processador fora de ordem: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef8/778/c5c/ef8778c5c1219f2546c51c7e9c499323.png"><br><br>  Outra op√ß√£o √© a chamada Matriz Reconfigur√°vel de Granula√ß√£o Grossa - uma matriz de elementos de quase processador, cada um dos quais com um pequeno programa.  Esses elementos do processador s√£o idealmente semelhantes √†s c√©lulas FPGA / FPGA, mas n√£o operam com sinais individuais, mas com grupos de bits / n√∫meros em barramentos e registros - veja o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">relat√≥rio ao vivo desde o nascimento de um importante participante no hardware AI, que acelera o TensorFlow e compete com a NVidia "</a> . <br><br>  Agora a carta original de Dasha: <br><blockquote>  Bom dia, Yuri. <br><br>  Em 2017, estudei na sua escola em LSHUP em sua oficina e em outubro de 2017 participei de uma confer√™ncia em Tomsk em outubro do mesmo ano com o trabalho dedicado √† incorpora√ß√£o da unidade de multiplica√ß√£o no processador SchooolMIPS. <br><br>  Eu gostaria de continuar este trabalho agora.  No momento, consegui permiss√£o na escola para encarar esse t√≥pico como um pequeno curso.  Voc√™ tem a oportunidade de me ajudar com a continua√ß√£o deste trabalho? <br><br>  PS Como o trabalho √© realizado em um formato espec√≠fico, √© necess√°ria uma introdu√ß√£o e uma revis√£o da literatura sobre o t√≥pico.  Por favor, informe as fontes de onde voc√™ pode obter informa√ß√µes sobre a hist√≥ria do desenvolvimento deste t√≥pico, sobre filosofias arquitet√¥nicas etc., se voc√™ tiver esses recursos em mente. <br><br>  Al√©m disso, no momento em que moro em Moscou em um col√©gio interno, pode ser mais f√°cil interagir. <br><br>  Atenciosamente <br><br>  Daria Krivoruchko. <br></blockquote>  Dasha ensinou Verilog e design em n√≠vel de registro com a ajuda de mim e do livro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúDigital Circuitry and Computer Architecture‚Äù de David Harris e Sarah Harris</a> .  No entanto, se voc√™ √© um estudante / estudante e quer entender os conceitos b√°sicos em um n√≠vel muito simples, a editora DMK-Press lan√ßou uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tradu√ß√£o para o russo do mang√° japon√™s 2013 sobre circuitos digitais</a> criados por Amano Hideharu e Meguro Koji.  Apesar da forma fr√≠vola de apresenta√ß√£o, o livro introduz corretamente os elementos l√≥gicos e os gatilhos D <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">e vincula isso aos FPGAs</a> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c4f/e51/1a7/c4fe511a7c39780eade6d678ec8cd58e.png"><br><br>  Veja como era a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Escola de Ver√£o para Jovens Programadores</a> na regi√£o de Novosibirsk, onde a Dasha aprendeu o Verilog, FPGAs, uma metodologia de desenvolvimento de transfer√™ncia de registros (N√≠vel de Transfer√™ncia de Registros - RTL): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f1c/9c3/6aa/f1c9c36aab38cb8d469eb334b9987874.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fb6/a25/78d/fb6a2578d98d493f61fe67c0363e2597.jpg"><br><br>  E aqui est√° o discurso de Dasha na confer√™ncia em Tomsk, juntamente com outro aluno da d√©cima s√©rie, Arseniy Chegodaev: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/oqUf5yReDkM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ap√≥s a conversa de Dasha comigo e Stanislav Zhelnio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">sparf</a> , o principal criador do n√∫cleo do processador educacional schoolMIPS para implementa√ß√£o em FPGAs: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8f1/441/580/8f1441580eb951de23433f8496d8b111.jpg"><br><br>  O projeto schoolMIPS est√° com a documenta√ß√£o em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://github.com/MIPSfpga/schoolMIPS</a> .  Na configura√ß√£o mais simples desse n√∫cleo de processador de treinamento, existem apenas 300 linhas no Verilog, enquanto no n√∫cleo industrial incorporado da classe m√©dia existem cerca de 300 mil linhas.  No entanto, o Dasha conseguiu sentir como √© o trabalho dos designers da ind√∫stria, que alteram o decodificador e o dispositivo de execu√ß√£o da mesma maneira quando adicionam novas instru√ß√µes ao processador: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a09/2e4/030/a092e40309fa4a82a125a8333c7dfcc5.gif"><br><br>  Em conclus√£o, apresentamos fotos do reitor da Universidade de Samara, Ilya Kudryavtsev, que est√° interessado em criar uma escola de ver√£o e olimp√≠adas com processadores FPGA para futuros candidatos: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5eb/ad7/a93/5ebad7a9325ce55e2828c8bc770bc92f.jpg"><br><br>  E uma foto dos funcion√°rios do Zelenograd MIET que j√° est√£o planejando uma escola de ver√£o no pr√≥ximo ano: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/750/7a7/026/7507a702658be7d86252233f2154674f.jpg"><br><br>  Ambos os materiais da RUSNANO e os poss√≠veis materiais das Olimp√≠adas da NTI, bem como as conquistas realizadas nos √∫ltimos dois anos na implementa√ß√£o de FPGAs e microarquitetura no programa do HSE MIEM, Universidade Estadual de Moscou e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Kazan Innopolis,</a> devem ir bem em um lugar e em outro. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt432378/">https://habr.com/ru/post/pt432378/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt432366/index.html">Implementar armazenamento em cache SSD no armazenamento QSAN XCubeSAN</a></li>
<li><a href="../pt432368/index.html">Antes de voc√™ - reagir ao aplicativo Web moderno</a></li>
<li><a href="../pt432370/index.html">AlphaZero venceu Stockfish em uma partida de 1.000 jogos</a></li>
<li><a href="../pt432372/index.html">A Microsoft confirmou oficialmente que o Edge muda para o mecanismo Chromium</a></li>
<li><a href="../pt432374/index.html">Elasticsearch altamente acess√≠vel e escal√°vel em Kubernetes</a></li>
<li><a href="../pt432380/index.html">Seis anos de vida com um iPhone que n√£o me distrai</a></li>
<li><a href="../pt432382/index.html">AI em Hase und Igel: minimax para tr√™s</a></li>
<li><a href="../pt432384/index.html">Estudo: 22% dos usu√°rios do Tumblr v√£o a um site porn√¥, especialmente meninas</a></li>
<li><a href="../pt432386/index.html">Mesa redonda ‚ÄúArquiteto do projeto de TI‚Äù, setembro de 2018</a></li>
<li><a href="../pt432392/index.html">Tivemos jogos da velha escola e alguns cogumelos: miss√£o conclu√≠da</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>