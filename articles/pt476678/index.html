<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ê ü•Ä üññüèΩ API para busca ass√≠ncrona remota usando o Apple Combine üêÖ üßëüèæ‚Äçü§ù‚Äçüßëüèæ üåì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Combine √© uma estrutura Swift reativa funcional que foi implementada recentemente para todas as plataformas da Apple , incluindo o Xcode 11 . Com o Co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>API para busca ass√≠ncrona remota usando o Apple Combine</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476678/"><img src="https://habrastorage.org/webt/t6/lj/xl/t6ljxl5w2xxh7v0inoq5oebgbro.png"><br><br>  <font color="#0000FF">Combine</font> √© uma estrutura <code>Swift</code> reativa funcional que foi implementada recentemente para todas as plataformas da <code>Apple</code> , incluindo o <code>Xcode 11</code> .  Com o <font color="#0000FF">Combine, √©</font> muito f√°cil processar seq√º√™ncias de valores que aparecem de forma ass√≠ncrona ao longo do tempo.  Ele tamb√©m simplifica o c√≥digo ass√≠ncrono abandonando a delega√ß√£o e <font color="#0000FF">retornos de chamada</font> aninhados complexos. <br><br>  Mas estudar o <font color="#0000FF">Combinar</font> a princ√≠pio pode n√£o parecer t√£o simples.  O fato √© que os principais "participantes" do <font color="#0000FF">Combine</font> s√£o conceitos abstratos como "editores", <font color="#0000FF">editores</font> , "assinantes" <font color="#0000FF">Assinantes</font> e operadores <font color="#0000FF">Operadores</font> , sem os quais n√£o ser√° poss√≠vel avan√ßar na compreens√£o da l√≥gica do funcionamento do <font color="#0000FF">Combine</font> .  No entanto, devido ao fato de a <code>Apple</code> fornecer aos desenvolvedores "editores", "assinantes" e operadores prontos, o c√≥digo escrito com o <font color="#0000FF">Combine</font> √© muito compacto e bem leg√≠vel. <br><br>  Voc√™ ver√° isso no exemplo de um aplicativo relacionado √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">recupera√ß√£o</a> ass√≠ncrona de informa√ß√µes de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">filmes</a> do banco de dados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TMDb</a> muito popular <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">agora</a> .  <font color="#0000FF">Criaremos</font> dois aplicativos diferentes: <font color="#0000FF">UIKit</font> e <font color="#0000FF">SwiftUI</font> e mostraremos como o <font color="#0000FF">Combine</font> funciona com eles. <br><br><img src="https://habrastorage.org/webt/sd/jn/py/sdjnpyhqecxf8q7wvtxlkm7qbr0.png"><br><a name="habracut"></a><br>  Espero que este artigo facilite o aprendizado da <font color="#0000FF">combina√ß√£o</font> .  O c√≥digo para todos os aplicativos desenvolvidos neste artigo pode ser encontrado no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Github</a> . <br><br>  <font color="#0000FF">Combine</font> tem v√°rios componentes principais: <br><br><h3>  Publisher <b><font color="#0000FF">Publisher</font></b> . </h3><br><img src="https://habrastorage.org/webt/cu/6q/93/cu6q93meoo0iyfmkyqa4si1y68c.png"><br><br>  Editores <font color="#0000FF">Editores</font> s√£o TIPOS que entregam <font color="#0000FF">valores a</font> todos que se importam.  <font color="#0000FF">O</font> conceito de "editor" do editor √© implementado no <font color="#0000FF">Combine</font> como um <font color="#0000FF">protocolo</font> , n√£o como um TYPE espec√≠fico.  O protocolo do <font color="#0000FF">Publisher</font> associou TYPES gen√©rico para valor de sa√≠da e erro de <font color="#0000FF">falha</font> . <br>  Um "editor" que nunca publica um erro usa o erro TIPO <font color="#0000FF">Nunca</font> para uma <font color="#0000FF">falha</font> . <br><br><img src="https://habrastorage.org/webt/04/mt/gt/04mtgtm8ucbh38ywukqa-jv0qb0.png"><br><br><img src="https://habrastorage.org/webt/c9/py/wg/c9pywgmfyp5aa8t9mb0extzy764.png"><br><br>  <code>Apple</code> fornece aos desenvolvedores implementa√ß√µes espec√≠ficas de "editores" prontos: <font color="#0000FF">Justo</font> , <font color="#0000FF">Futuro</font> , <font color="#0000FF">Vazio</font> , <font color="#0000FF">Adiado</font> , <font color="#0000FF">Sequ√™ncia</font> , <font color="#0000FF">@Published</font> , etc.  "Editores" tamb√©m s√£o adicionados √†s classes da <font color="#0000FF">Funda√ß√£o</font> : <font color="#0000FF">URLSession</font> , &lt; <font color="#0000FF">NotificationCenter</font> , <font color="#0000FF">Timer</font> . <br><br><h3>  Assinante "Assinante". </h3><br><img src="https://habrastorage.org/webt/1t/h5/aj/1th5aj2egefg5fkjsikc-jurleq.png"><br><br>  √â tamb√©m um protocolo de <font color="#0000FF">protocolo</font> que fornece uma interface para "assinar" <font color="#0000FF">valores</font> de um "editor".  Ele associou TYPES gen√©rico para erros de <font color="#0000FF">entrada</font> e <font color="#0000FF">falha</font> .  Obviamente, os TIPOS do Publisher <font color="#0000FF">Publisher</font> e <font color="#0000FF">Subscriber Subscriber</font> devem corresponder. <br><br><img src="https://habrastorage.org/webt/2g/de/2n/2gde2nlg6zae1fezvtewfziyh0w.png"><br><br>  Para qualquer editor, existem dois <font color="#0000FF">Assinantes</font> <font color="#0000FF">internos</font> : <font color="#0000FF">afundar</font> e <font color="#0000FF">atribuir</font> : <br><br><img src="https://habrastorage.org/webt/vq/ua/q-/vquaq-t465oyg5ku4plfd-jvyks.png"><br><br>  O <font color="#0000FF">coletor</font> "Assinante" <font color="#0000FF">√©</font> baseado em dois fechamentos: um fechamento, <font color="#0000FF">receiveValue</font> , √© executado quando voc√™ obt√©m os <font color="#0000FF">valores</font> , o segundo fechamento, <font color="#0000FF">receiveCompletion</font> , √© executado quando a "publica√ß√£o" √© conclu√≠da (normalmente ou com erro). <br><br><img src="https://habrastorage.org/webt/im/fj/56/imfj56ymla1daatwof2b1qxkja8.png"><br><br>  A <font color="#0000FF">atribui√ß√£o</font> "Assinante" avan√ßa cada valor recebido, em dire√ß√£o ao <code>key Path</code> especificado. <br><br><h3>  "Assinatura". </h3><br><img src="https://habrastorage.org/webt/ha/rn/bv/harnbvbg6gigvyslb2aex_ujy4m.png"><br><br>  Primeiro, o <font color="#0000FF">Publicador</font> "publicador" cria e entrega a Assinatura " <font color="#0000FF">Assinatura</font> " <font color="#0000FF">ao</font> Assinante " <font color="#0000FF">Assinante</font> " por meio de seu m√©todo de <font color="#0000FF">recebimento (assinatura :)</font> : <br><br><img src="https://habrastorage.org/webt/rk/tk/s8/rktks8zchgxyblozzz96otrxiee.png"><br><br>  Depois disso, a <font color="#0000FF">Assinatura</font> pode enviar seus <font color="#0000FF">valores para os</font> "assinantes" dos <font color="#0000FF">Assinantes</font> usando dois m√©todos: <br><br><img src="https://habrastorage.org/webt/hl/4x/ev/hl4xev6fakwtgs-wpv3afwuaywa.png"><br><br>  Se voc√™ terminou de trabalhar com a <font color="#0000FF">Assinatura</font> , pode chamar o m√©todo <font color="#0000FF">cancel ()</font> : <br><br><img src="https://habrastorage.org/webt/lz/ap/bt/lzapbts_gq9by1lw8qicdg3v2hc.png"><br><br><h3>  Assunto "Assunto". </h3><br><img src="https://habrastorage.org/webt/hy/cq/5p/hycq5pytsfa_gkzmqrwtmtal7tw.png"><br><br>  Este √© um protocolo de <font color="#0000FF">protocolo</font> que fornece uma interface para ambos os clientes, tanto para o "publicador" quanto para o "assinante".  Essencialmente, o Assunto "assunto" √© o <font color="#0000FF">Editor</font> "publisher", que pode aceitar o valor de entrada <font color="#0000FF">Input</font> e que voc√™ pode usar para "injetar" os <font color="#0000FF">valores</font> no fluxo chamando o m√©todo <font color="#0000FF">send ()</font> .  Isso pode ser √∫til ao adaptar o c√≥digo imperativo existente nos modelos de <font color="#0000FF">combina√ß√£o</font> . <br><br><h3>  Operador <font color="#0000FF">Operador</font> . </h3><br><img src="https://habrastorage.org/webt/h-/d-/r1/h-d-r1jmm2yxa5kefxpf5opmuw4.png"><br><br>  Usando o operador, voc√™ pode criar um novo "editor" do <font color="#0000FF">Publisher a</font> partir de outro "editor" do <font color="#0000FF">Publisher</font> , convertendo, filtrando e at√© combinando os <font color="#0000FF">valores</font> dos v√°rios <b><font color="#0000FF">editores</font></b> anteriores do <code>upstream</code> . <br><br><img src="https://habrastorage.org/webt/ol/he/rz/olherzm4jvlkfwer3x0gdbc0guk.png"><br><br>  Voc√™ v√™ aqui muitos nomes conhecidos de operadores: <font color="#0000FF">compactMap</font> , <font color="#0000FF">mapear</font> , <font color="#0000FF">filtrar</font> , <font color="#0000FF">dropFirst</font> , <font color="#0000FF">anexar</font> . <br><br><h3>  <font color="#0000FF">Editores da</font> <font color="#0000FF">Funda√ß√£o</font> <font color="#0000FF">Editores</font> incorporados √† <font color="#0000FF">Funda√ß√£o</font> . </h3><br>  <code>Apple</code> tamb√©m fornece aos desenvolvedores v√°rios dos recursos <font color="#0000FF">Combine</font> j√° incorporados na estrutura <font color="#0000FF">Foundation</font> &lt;, ou seja, editores dos editores, para tarefas como buscar dados usando o <font color="#0000FF">URLSession</font> , trabalhar com notifica√ß√µes usando <font color="#0000FF">Notification</font> , <font color="#0000FF">Timer</font> e monitorar propriedades baseadas no <font color="#0000FF">KVO</font> .  Essa compatibilidade interna realmente nos ajudar√° a integrar a estrutura <font color="#0000FF">Combine</font> em nosso projeto atual. <br>  Para saber mais sobre isso, consulte o artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúO melhor tutorial da estrutura Combine no Swift‚Äù</a> . <br><br><h3>  O que aprendemos a fazer com o <font color="#0000FF">Combine</font> ? </h3><br>  Neste artigo, aprenderemos como usar a estrutura <font color="#0000FF">Combine</font> para buscar dados de filmes no site do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TMDb</a> .  Aqui est√° o que estudaremos juntos: <br><br><ul><li>  Usando o <font color="#0000FF">futuro</font> "editor" para criar um fechamento com o <font color="#0000FF">Promise</font> para um √∫nico valor: <font color="#0000FF">valor</font> ou erro. </li><li>  Usando o <font color="#0000FF">URLSession.datataskPublisher</font> "publisher" para "assinar" os <font color="#0000FF">dados</font> publicados por um determinado <code>UR</code> L. </li><li>  Usando o operador <font color="#0000FF">tryMap</font> para converter dados de <font color="#0000FF">dados</font> usando outro editor do Publisher. </li><li>  Usando o operador de <font color="#0000FF">decodifica√ß√£o</font> para converter dados em um objeto <font color="#0000FF">Decodable</font> e publique-os para transmiss√£o aos elementos subsequentes da cadeia. </li><li>  Usando o operador <font color="#0000FF">coletor</font> para "assinar" um "editor" do Publisher usando fechamentos. </li><li>  Use a instru√ß√£o de <font color="#0000FF">atribui√ß√£o</font> para "assinar" o "editor" do Publicador e atribua o valor que ele fornece ao <code>key Path</code> fornecido. </li></ul><br><h3>  Projeto inicial </h3><br>  Antes de come√ßarmos, precisamos nos registrar para receber a chave <code>API</code> no site do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TMDb</a> .  Voc√™ tamb√©m precisa baixar o projeto inicial do reposit√≥rio do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> . <br>  Certifique-se de colocar sua chave de <code>API</code> na <font color="#0000FF">classe</font> <font color="#0000FF">MovieStore,</font> em <font color="#0000FF">deixe apiKey</font> constante. <br><br><img src="https://habrastorage.org/webt/u0/fp/ev/u0fpevrqivppfng0lyoglbkp-cq.png"><br><br>  Aqui est√£o os principais blocos de constru√ß√£o dos quais criaremos nosso projeto: <br><br><ul><li>  1. Dentro do arquivo <code>Movie.swift</code> est√£o os modelos que usaremos em nosso projeto.  A estrutura raiz do <font color="#0000FF">struct MoviesResponse</font> implementa o protocolo <font color="#0000FF">Decodable</font> , e o usaremos ao decodificar dados <code>JSON</code> em um Model.  A estrutura <font color="#0000FF">MoviesResponse</font> possui uma propriedade de <font color="#0000FF">resultados</font> , que tamb√©m implementa o protocolo <font color="#0000FF">Decodable</font> e √© uma cole√ß√£o de filmes <font color="#0000FF">[Movie]</font> .  √â ela quem nos interessa: </li></ul><br><img src="https://habrastorage.org/webt/1o/9s/xz/1o9sxzm4t-edp2l2hhauqky2dve.png"><br><br><ul><li>  2. A <font color="#0000FF">enumera√ß√£o de</font> enumera√ß√£o <font color="#0000FF">MovieStoreAPIError</font> implementa o protocolo <font color="#0000FF">Error</font> .  Nossa <code>API</code> usar√° essa enumera√ß√£o para representar v√°rios tipos de erros: erros de <font color="#0000FF">recupera√ß√£o de</font> <code>URL</code> <font color="#0000FF">urlError</font> , erros de decodifica√ß√£o de <font color="#0000FF">decodingError</font> e erros de busca de dados <font color="#0000FF">responseError</font> . </li></ul><br><img src="https://habrastorage.org/webt/kn/3n/av/kn3nav2xvctmabav1v2zdi_6hrw.png"><br><br><ul><li>  3. Nossa <code>API</code> possui um protocolo <font color="#0000FF">MovieService</font> com um √∫nico m√©todo, <font color="#0000FF">fetchMovies (do endpoint: Endpoint)</font> , que seleciona <font color="#0000FF">filmes [Movie] com</font> base no par√¢metro <font color="#0000FF">endpoint</font> .  <font color="#0000FF">O</font> pr√≥prio <font color="#0000FF">ponto de extremidade</font> √© uma enumera√ß√£o de <font color="#0000FF">enum</font> que representa um <font color="#0000FF">ponto</font> de <font color="#0000FF">extremidade</font> para acessar o banco de dados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TMDb</a> para buscar filmes como <font color="#0000FF">nowPlaying</font> (mais recente), <font color="#0000FF">popular</font> (popular), <font color="#0000FF">topRated</font> (superior) e <font color="#0000FF">futuro</font> (em breve na tela). </li></ul><br><img src="https://habrastorage.org/webt/4b/a1/ki/4ba1kiw5glfklazq04txpbbs6fy.png"><br><br><ul><li>  4. A <font color="#0000FF">classe</font> MovieStore √© uma classe espec√≠fica que implementa o protocolo <font color="#0000FF">MovieService</font> para buscar dados no site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TMDb</a> .  Dentro desta classe, implementamos o <font color="#0000FF">m√©todo fetchMovies (...)</font> usando <font color="#0000FF">Combine</font> . </li></ul><br><img src="https://habrastorage.org/webt/l2/lr/q1/l2lrq1ff5w76cxbvpmr53eywiy4.png"><br><br><ul><li>  5. A classe <font color="#0000FF">MovieListViewController</font> √© a principal classe <font color="#0000FF">ViewController</font> na qual usamos o m√©todo <font color="#0000FF">coletor</font> para "assinar" o m√©todo de busca de filme <font color="#0000FF">fetchMovies (...)</font> , que retorna o "publicador" do <font color="#0000FF">Futuro</font> e atualiza a tabela <font color="#0000FF">TableView</font> com novos dados do filme <font color="#0000FF">filmes</font> usando a nova <code>API</code> <font color="#0000FF">DiffableDataSourceSnapshot</font> . </li></ul><br>  Antes de come√ßarmos, vamos ver alguns dos componentes b√°sicos do <font color="#0000FF">Combine</font> que usaremos para <code>API</code> recupera√ß√£o remota de dados. <br><br><h3>  "Inscreva-se" no "editor" usando o <font color="#0000FF">coletor</font> e seus fechamentos. </h3><br>  A maneira mais f√°cil de "assinar" o "editor" do Publicador √© usar <font color="#0000FF">coletor</font> com seus fechamentos, um dos quais ser√° executado sempre que obtivermos um novo <font color="#0000FF">valor</font> e o outro quando o "publicador" concluir a entrega dos <font color="#0000FF">valores</font> . <br><br><img src="https://habrastorage.org/webt/yb/wt/ng/ybwtnglt5iuxpbfpkj3tgud_qpo.png"><br><br>  Lembre-se de que em <font color="#0000FF">Combine,</font> cada "assinatura" retorna um <font color="#0000FF">cancel√°vel</font> , que ser√° exclu√≠do assim que sairmos do nosso contexto.  Para manter uma "assinatura" por mais tempo, por exemplo, para obter valores de forma ass√≠ncrona, precisamos salvar a "assinatura" na propriedade <font color="#0000FF">subscription1</font> .  Isso nos permitiu obter consistentemente todos os <font color="#0000FF">valores (7,8,3,4)</font> . <br><br><h3>  <font color="#0000FF">O futuro</font> publica assincronamente um √∫nico valor: <font color="#0000FF">valor</font> ou erro de <font color="#0000FF">falha</font> . </h3><br>  Na estrutura <font color="#0000FF">Combinar</font> , o <font color="#0000FF">futuro</font> do "editor" pode ser usado para obter de forma ass√≠ncrona um √∫nico TIPO de <font color="#0000FF">Resultado</font> usando um fechamento.  O fechamento possui um par√¢metro - <font color="#0000FF">Promise</font> , que √© uma fun√ß√£o de TYPE <font color="#0000FF">(Result &lt;Output, Failure&gt;) -&gt; Void</font> . <br><br>  Vejamos um exemplo simples para entender como o editor <font color="#0000FF">Future</font> funciona: <br><br><img src="https://habrastorage.org/webt/x9/6p/_p/x96p_plt6deyew9_q5yupqa_zsc.png"><br><br>  Criamos <font color="#0000FF">Future</font> com um resultado bem-sucedido de TYPE <font color="#0000FF">Int</font> e um erro de TYPE <font color="#0000FF">Never</font> .  Dentro do fechamento <font color="#0000FF">Future</font> , usamos <font color="#0000FF">DispatchQueue.main.asyncAfter (...)</font> para atrasar a execu√ß√£o do c√≥digo em <font color="#0000FF">2</font> segundos, simulando o comportamento ass√≠ncrono.  Dentro do fechamento, retornamos <font color="#0000FF">Promise</font> com um resultado bem-sucedido de <font color="#0000FF">promessa (.success (...))</font> como um valor inteiro aleat√≥rio <font color="#0000FF">Int</font> no intervalo entre <font color="#0000FF">0</font> e <font color="#0000FF">100</font> .  Em seguida, usamos duas assinaturas <font color="#0000FF">futuras</font> - <font color="#0000FF">cancel√°vel</font> e <font color="#0000FF">cancel√°vel1</font> - e ambas fornecem o mesmo resultado, embora um n√∫mero aleat√≥rio seja gerado dentro. <br><blockquote>  <u><i><code> 1.</code></i></u> -se que o "editor" do <font color="#0000FF">Future</font> in <font color="#0000FF">Combine</font> possui alguns recursos comportamentais em compara√ß√£o com outros "editores": <br><br><ul><li>  O <font color="#0000FF">futuro</font> "editor" sempre publica "UM valor ( <font color="#0000FF">valor</font> ou erro), e isso conclui seu trabalho. </li></ul><br><ul><li>  <font color="#0000FF">O futuro</font> "publicador" √© uma <font color="#0000FF">classe</font> ( <code>reference type</code> ) <font color="#0000FF">,</font> diferentemente de outros "editores", que s√£o principalmente <font color="#0000FF">estruturas</font> ( <code>value type</code> ), e recebe o fechamento do <font color="#0000FF">Promise</font> , criado imediatamente ap√≥s a inicializa√ß√£o da inst√¢ncia do <font color="#0000FF">futuro</font> "publicador", como par√¢metro.  Ou seja, o encerramento da <font color="#0000FF">Promessa</font> √© transmitido antes que qualquer assinante " <font color="#0000FF">assinante</font> " <font color="#0000FF">assine</font> a inst√¢ncia "publicadora" do <font color="#0000FF">Futuro</font> .  O "publicador" da <font color="#0000FF">Future</font> n√£o exige um "assinante" para seu funcionamento, como todos os outros <font color="#0000FF">editores</font> comuns exigem.  √â por isso que o texto "Ol√° de dentro do futuro!" √â impresso apenas uma vez no c√≥digo acima. </li></ul><br><ul><li>  <font color="#0000FF">O futuro</font> "editor" √© um "editor" <code>eager</code> (impaciente), diferentemente da maioria dos outros "editores" <font color="#0000FF">pregui√ßosos</font> ("publicar" somente se houver uma "assinatura").  Somente depois que a editora <font color="#0000FF">Future</font> encerra sua <font color="#0000FF">promessa</font> , o resultado √© lembrado e entregue aos ‚Äúassinantes‚Äù atuais e futuros.  A partir do c√≥digo acima, vemos que, quando voc√™ se inscreve repetidamente no <font color="#0000FF">coletor</font> para o <font color="#0000FF">futuro</font> publicador, sempre obt√©m o mesmo valor "aleat√≥rio" (neste caso, <font color="#0000FF">6</font> , mas pode ser diferente, mas sempre o mesmo), embora seja usado no fechamento valor <font color="#0000FF">int</font> aleat√≥rio. </li></ul></blockquote><br>  Essa l√≥gica <font color="#0000FF">do</font> "publicador" do <font color="#0000FF">Future</font> permite que ele seja usado com sucesso para armazenar um resultado calculado que consome recursos ass√≠ncronos e para n√£o perturbar o "servidor" de v√°rias "assinaturas" subsequentes. <br><br>  Se essa l√≥gica do "editor" do <font color="#0000FF">Future</font> n√£o combina com voc√™ e voc√™ deseja que o seu <font color="#0000FF">futuro seja</font> chamado de <font color="#0000FF">pregui√ßoso</font> e cada vez que voc√™ obt√©m novos valores aleat√≥rios de <font color="#0000FF">Int</font> , voc√™ deve "agrupar" o <font color="#0000FF">Future</font> em <font color="#0000FF">adiado</font> : <br><br><img src="https://habrastorage.org/webt/j3/gf/25/j3gf25golyfoyl0jvkfddej2mk8.png"><br><br>  Usaremos o <font color="#0000FF">Future de</font> maneira cl√°ssica, como sugerido em <font color="#0000FF">Combine</font> , ou seja, como um "editor" ass√≠ncrono computado "compartilhado". <br><br><blockquote>  Nota 2. Precisamos fazer mais uma observa√ß√£o sobre a "assinatura" usando <font color="#0000FF">coletor</font> para o "Publicador" ass√≠ncrono.  O m√©todo <font color="#0000FF">sink</font> retorna <font color="#0000FF">AnyCancellable</font> , do qual n√£o lembramos constantemente.  Isso significa que o <code>Swift</code> destruir√° o <font color="#0000FF">AnyCancellable</font> quando voc√™ sair do contexto especificado, que √© o que acontece no <code>main thread</code> .  Portanto, o <font color="#0000FF">AnyCancellable</font> √© destru√≠do antes que o fechamento com o <font color="#0000FF">Promise</font> possa ser iniciado no <code>main thread</code> .  Quando <font color="#0000FF">AnyCancellable √©</font> destru√≠do, seu m√©todo de <font color="#0000FF">cancelamento</font> √© chamado, que neste caso cancela a "assinatura".  √â por isso que lembramos de nossas ‚Äúassinaturas‚Äù de <font color="#0000FF">coletor</font> para o <font color="#0000FF">futuro</font> nas vari√°veis <font color="#0000FF">cancellable</font> &lt;e <font color="#0000FF">cancellable1</font> ou em <font color="#0000FF">Set &lt;AnyCancellable&gt; ()</font> . </blockquote><br><br><h3>  Usando <font color="#0000FF">Combinar</font> para buscar filmes no site do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TMDb</a> . </h3><br>  Para come√ßar, abra o projeto inicial e v√° para o arquivo <font color="#0000FF">MovieStore.swift</font> e o m√©todo <font color="#0000FF">fetchMovies</font> com uma implementa√ß√£o vazia: <br><br><img src="https://habrastorage.org/webt/fg/aw/s0/fgaws0kq7u9kz5ojjz3jlij9zl8.png"><br><br>  Usando o m√©todo <font color="#0000FF">fetchMovies,</font> podemos selecionar v√°rios filmes definindo valores espec√≠ficos para o <font color="#0000FF">par√¢metro de</font> entrada do <font color="#0000FF">terminal</font> do TYPE <font color="#0000FF">Endpoint</font> .  TYPE <font color="#0000FF">Endpoint</font> √© uma <font color="#0000FF">enumera√ß√£o de</font> enumera√ß√£o que assume os valores <font color="#0000FF">nowPlaying</font> (current), coming (coming to the screen soon), <font color="#0000FF">popular</font> (popular), <font color="#0000FF">topRated</font> (top): <br><br><img src="https://habrastorage.org/webt/-a/xt/-f/-axt-f0lhtfrt8u_a-ay7q3z8jk.png"><br><br>  Vamos come√ßar inicializando <font color="#0000FF">Future</font> com um fechamento de <code>callback</code> .  <font color="#0000FF">Futuro</font> recebido, n√≥s reembolsaremos. <br><br><img src="https://habrastorage.org/webt/hu/v0/pu/huv0pu3w26r2fms4ih4fvhrx8to.png"><br><br>  Dentro do fechamento de <code>callback</code> , geramos a <code>URL</code> para o valor correspondente do <font color="#0000FF">par√¢metro de</font> entrada do <font color="#0000FF">terminal</font> usando a fun√ß√£o <font color="#0000FF">generateURL (com endpoint: Endpoint)</font> : <br><br><img src="https://habrastorage.org/webt/q8/ce/9e/q8ce9ez5nokjff1c_oowpfdlncm.png"><br><br>  Se a <code>URL</code> correta n√£o puder ser gerada, retornamos um erro usando <font color="#0000FF">promessa (.failure (.urlError (...))</font> , caso contr√°rio, prosseguimos e implementamos o <font color="#0000FF">URLSession.dataTaskPublisher</font> do "editor". <br><br>  Para "inscrever-se" nos dados de uma determinada <code>URL</code> podemos usar o m√©todo <font color="#0000FF">datataskPublisher</font> incorporado √† classe <font color="#0000FF">URLSession</font> , que usa a <code>URL</code> como par√¢metro e retorna o Publisher "publisher" com os dados de sa√≠da da tupla <font color="#0000FF">(dados: Dados, resposta: URLResponse)</font> e um erro de <font color="#0000FF">URLError</font> . <br><br><img src="https://habrastorage.org/webt/wb/dv/uy/wbdvuyzbpv6w3qxfzjyfxxwtmx8.png"><br><br>  Para converter um editor do Publisher em outro editor do Publisher, use o operador <font color="#0000FF">tryMap</font> .  Comparado ao <font color="#0000FF">mapa</font> , o operador <font color="#0000FF">tryMap</font> pode <font color="#0000FF">gerar</font> um <font color="#0000FF">erro de</font> erro de <font color="#0000FF">lan√ßamento</font> dentro de um fechamento, o que nos devolve o novo editor do Publisher. <br><br>  Na pr√≥xima etapa, usaremos o operador <font color="#0000FF">tryMap</font> para verificar o c√≥digo <code>http</code> <font color="#0000FF">statusCode</font> da resposta de <font color="#0000FF">resposta</font> para garantir que seu valor esteja entre <font color="#0000FF">200</font> e <font color="#0000FF">300</font> .  Caso contr√°rio, lan√ßamos <font color="#0000FF">o</font> valor de erro de enumera√ß√£o <font color="#0000FF">responseError</font> <font color="#0000FF">enum MovieStoreAPIError</font> .  Caso contr√°rio (quando n√£o houver erros), simplesmente retornamos os dados de <font color="#0000FF">dados</font> recebidos <font color="#0000FF">para o</font> pr√≥ximo <font color="#0000FF">Publicador</font> na cadeia "publisher". <br><br><img src="https://habrastorage.org/webt/wy/ln/6c/wyln6c46anluun6s7woysgopsma.png"><br><br>  Na pr√≥xima etapa, usaremos o operador <font color="#0000FF">decode</font> , que decodifica os dados <code>JSON</code> sa√≠da do <font color="#0000FF">tryMap</font> ‚Äúpublicador‚Äù <font color="#0000FF">anterior</font> no <font color="#0000FF">MovieResponse</font> &lt;Model usando <font color="#0000FF">JSONDecoder</font> . <br><br><img src="https://habrastorage.org/webt/-s/jt/0j/-sjt0j9lf5pbkugsryptozbb0ei.png"><br><br>  ... <font color="#0000FF">jsonDecoder est√°</font> configurado para um formato de data espec√≠fico: <br><br><img src="https://habrastorage.org/webt/ub/ed/pu/ubedpue91eckdhygbfmxbnk4oqk.png"><br><br>  Para que o processamento seja executado no <code>main thread</code> , usaremos o operador <font color="#0000FF">receive (on :)</font> e passaremos <font color="#0000FF">RunLoop.main</font> como par√¢metro de entrada.  Isso permitir√° que o "assinante" obtenha o valor do <font color="#0000FF">valor</font> no thread <code>main</code> . <br><br><img src="https://habrastorage.org/webt/gr/n2/wh/grn2whzqqawxp_1-ffqh6jwhmse.png"><br><br>  Finalmente, chegamos ao final de nossa cadeia de transforma√ß√£o e usamos o <font color="#0000FF">coletor</font> para obter uma assinatura de " <font color="#0000FF">assinatura</font> " da "cadeia" formada de "editores" de editores.  Para inicializar uma inst√¢ncia da classe <font color="#0000FF">Sink</font> , precisamos de duas coisas, embora uma delas seja opcional: <br><br><ul><li>  encerramento <font color="#0000FF">receiveValue :.</font>  Ele ser√° chamado sempre que uma assinatura de "assinatura" receber um novo <font color="#0000FF">valor</font> do <font color="#0000FF">Publicador</font> "editor". </li></ul><br><ul><li>  <font color="#0000FF">recebimento de conclus√£o:</font> (Opcional).  Ele ser√° chamado depois que o <font color="#0000FF">Publisher</font> "publisher" terminar de publicar o <font color="#0000FF">valor</font> , recebe a enumera√ß√£o de <font color="#0000FF">conclus√£o</font> , que podemos usar para verificar se a "publica√ß√£o" dos valores est√° realmente conclu√≠da ou se a conclus√£o ocorreu devido a um erro. </li></ul><br>  Dentro do fechamento do <font color="#0000FF">ReceiveValue</font> , simplesmente chamamos <font color="#0000FF">uma</font> <font color="#0000FF">promessa</font> com uma op√ß√£o <font color="#0000FF">.success</font> e um valor de <font color="#0000FF">$ 0.results</font> , que, no nosso caso, √© uma variedade de <font color="#0000FF">filmes</font> .  Dentro do fechamento <font color="#0000FF">receiveCompletion,</font> verificamos se a <font color="#0000FF">conclus√£o possui um</font> erro e passamos o erro de <font color="#0000FF">promessa</font> correspondente com a op√ß√£o <font color="#0000FF">.failure</font> . <br><br><img src="https://habrastorage.org/webt/gr/qh/tm/grqhtm3xthdx7snxlmwfawmd3rq.png"><br><br>  Observe que aqui coletamos todos os erros "descartados" nas etapas anteriores da "cadeia de editores". <br><br>  Em seguida, memorizamos a assinatura de "assinatura" na propriedade <font color="#0000FF">Set &lt;AnyCancellable&gt; ()</font> . <br>  O fato √© que a assinatura de ‚Äúassinatura‚Äù √© <font color="#0000FF">Cancel√°vel</font> , √© um protocolo que destr√≥i e limpa tudo ap√≥s a conclus√£o da fun√ß√£o <font color="#0000FF">fetchMovies</font> .  Para garantir que a assinatura de ‚Äúassinatura‚Äù <font color="#0000FF">seja</font> preservada mesmo ap√≥s a conclus√£o dessa fun√ß√£o, precisamos lembrar a assinatura de ‚Äú <font color="#0000FF">assinatura</font> ‚Äù na vari√°vel externa √† fun√ß√£o <font color="#0000FF">fetchMovies</font> .  No nosso caso, usamos a propriedade <font color="#0000FF">subscriptions</font> , que possui o tipo <font color="#0000FF">Set &lt;AnyCancellable&gt; ()</font> e usamos o <font color="#0000FF">m√©todo .store (in: &amp; self.subscriptions)</font> , que garante a <font color="#0000FF">usabilidade da</font> ‚Äúassinatura‚Äù ap√≥s a fun√ß√£o <font color="#0000FF">fetchMovies terminar</font> seu trabalho. <br><br><img src="https://habrastorage.org/webt/uh/zx/j9/uhzxj91hkb5y5tm-hd1bheoukcu.png"><br><br>  Isso conclui a forma√ß√£o do m√©todo <font color="#0000FF">fetchMovies para</font> selecionar filmes do banco de dados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TMDb</a> usando a estrutura <font color="#0000FF">Combine</font> .  O m√©todo <font color="#0000FF">fetchMovies</font> , como par√¢metro de entrada <font color="#0000FF">,</font> assume o valor da <font color="#0000FF">enumera√ß√£o Endpoint</font> , ou seja, quais filmes espec√≠ficos s√£o interessantes para n√≥s: <br><br>  <font color="#0000FF">.nowPlaying</font> - filmes que est√£o atualmente na tela, <br>  <font color="#0000FF">.upcoming</font> - filmes que est√£o chegando em breve, <br>  <font color="#0000FF">.popular</font> - filmes populares, <br>  <font color="#0000FF">.topRated</font> - os melhores filmes, ou seja, com uma classifica√ß√£o muito alta. <br>  Vamos tentar aplicar essa <code>API</code> ao design do aplicativo com as interfaces de usu√°rio usuais do <font color="#0000FF">UIKit</font> na forma de um <code>Table View Controller</code> : <br><br><img src="https://habrastorage.org/webt/lr/6g/gu/lr6gguhjajdke_udcrw1ihyaonu.png"><br><br>  e para um aplicativo cuja interface do usu√°rio seja criada usando a nova estrutura declarativa <font color="#0000FF">SwiftUI</font> : <br><br><img src="https://habrastorage.org/webt/md/_v/kf/md_vkfmsoa--efg4ig5ej-98nue.png"><br><br><h3>  "Inscreva-se" nos <font color="#0000FF">filmes</font> dos <font color="#0000FF">filmes</font> usuais do <code>View Controller</code> . </h3><br>  Passamos para o arquivo <i>MovieListViewController.swift</i> e, no m√©todo <font color="#0000FF">viewDidLoad</font> , chamamos o m√©todo <font color="#0000FF">fetchMovies</font> . <br><br><img src="https://habrastorage.org/webt/k3/pw/p_/k3pwp_hzhixbhhkgnvuughyv5na.png"><br><br>  Dentro do nosso m√©todo <font color="#0000FF">fetchMovies,</font> usamos o <font color="#0000FF">movieAPI desenvolvido</font> anteriormente e seu m√©todo <font color="#0000FF">fetchMovies</font> com o par√¢metro <font color="#0000FF">.nowPlaying</font> como o <font color="#0000FF">ponto final do</font> par√¢metro <font color="#0000FF">from</font> input.  Ou seja, escolheremos os filmes que est√£o atualmente nas telas das salas de cinema. <br><br><img src="https://habrastorage.org/webt/k2/x0/xj/k2x0xjbdbgvi-sk9ifo9u5zxj9e.png"><br><br>  O <font color="#0000FF">m√©todo movieAPI.fetchMovies (from: .nowPlaying)</font> retorna <font color="#0000FF">Future</font> "publisher", ao qual "assinamos" usando o <font color="#0000FF">coletor</font> , e fornecemos dois fechamentos.  No fechamento <font color="#0000FF">receiveCompletion</font> , verificamos se h√° um erro de <font color="#0000FF">erro</font> e exibimos um aviso de emerg√™ncia para o <font color="#0000FF">alerta</font> do usu√°rio com a mensagem de erro exibida. <br><br><img src="https://habrastorage.org/webt/i8/3f/po/i83fpotmo-qab-imavpikbmsbxo.png"><br><br>  No fechamento <font color="#0000FF">receiveValue,</font> chamamos o m√©todo <font color="#0000FF">generateSnapshot</font> e passamos os <font color="#0000FF">filmes</font> selecionados <font color="#0000FF">para ele</font> . <br><br><img src="https://habrastorage.org/webt/iz/hm/qi/izhmqi60prl_u55nf-iypvstnnq.png"><br><br>  A fun√ß√£o <font color="#0000FF">generateSnapshot gera</font> um novo <font color="#0000FF">NSDiffableDataSourceSnapshot</font> usando nossos <font color="#0000FF">filmes</font> e aplica o <font color="#0000FF">instant√¢neo</font> resultante ao <font color="#0000FF">diffableDataSource da</font> nossa tabela. <br><br>  Iniciamos o aplicativo e observamos como o <font color="#0000FF">UIKit</font> funciona com os "publicadores" e "assinantes" da estrutura <font color="#0000FF">Combine</font> .  Esta √© uma aplica√ß√£o muito simples que n√£o permite que voc√™ sintonize v√°rias cole√ß√µes de filmes - agora exibidos na tela, populares, de alta classifica√ß√£o ou aqueles que aparecer√£o na tela em um futuro pr√≥ximo.  Vemos apenas os filmes que aparecer√£o na tela ( <font color="#0000FF">.upcoming</font> ).  Obviamente, voc√™ pode fazer isso adicionando qualquer elemento da <code>UI</code> para definir os valores da enumera√ß√£o do <font color="#0000FF">ponto</font> de <font color="#0000FF">extremidade</font> , por exemplo, usando <code>Stepper</code> ou <code>Segmented Control</code> e atualize a interface do usu√°rio.  Isso √© bem conhecido, mas n√£o faremos isso em um <font color="#0000FF">aplicativo</font> baseado no <font color="#0000FF">UIKit</font> , mas deixamos isso para a nova estrutura declarativa do <font color="#0000FF">SwiftUI</font> . <br>  O c√≥digo para um <font color="#0000FF">aplicativo</font> baseado no <font color="#0000FF">UIKit</font> pode ser encontrado no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Github</a> na <i><code>CombineFetchAPICompleted-UIKit</code></i> . <br><br><h3>  Use <font color="#0000FF">SwiftUI</font> para exibir filmes <font color="#0000FF">filmes</font> </h3>  . <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criamos um novo aplicativo </font></font><code>CombineFetchAPI-MY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com a </font><font style="vertical-align: inherit;">interface </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usando o menu </font></font><code>File</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt; </font></font><code>New</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt; </font></font><code>Project</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e selecionamos o modelo </font></font><code>Single View App</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na se√ß√£o </font></font><code>iOS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/pi/bu/xu/pibuxuc4tnqd6roa_puo0-iwdpq.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, especifique o nome do projeto e o m√©todo de cria√ß√£o </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/mm/zy/_o/mmzy_o9znv-qwuodqzaveavzsak.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, </font><font color="#0000FF"><font style="vertical-align: inherit;">especifique o</font></font><font style="vertical-align: inherit;"> local </font><font color="#0000FF"><font style="vertical-align: inherit;">do</font></font><font style="vertical-align: inherit;"> projeto e copie o arquivo Modelo para o novo projeto </font></font><code><i>Movie.swift</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e coloque-o na pasta </font></font><code><i>Model</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">necess√°ria para interagir com </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMDB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> arquivos </font></font><code><i>MovieStore.swift</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code><i>MovieStoreAPIError.swift</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code><i>MovieService.swift</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, e coloc√°-los em conformidade, pastas </font></font><code><i>MovieService</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code><i>Protocol</i></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/21/ni/4f/21ni4fl3gnd-j4jrehzqt7vf218.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> exigiu que </font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foi </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">codific√°vel</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , se vamos para preencher seus </font></font><code>JSON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dados e</font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identific√°vel</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , se queremos facilitar a visualiza√ß√£o da lista de filmes </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Filme]</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , na forma de uma lista de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma lista</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Os modelos no </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o precisam ser </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equatable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hashable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , conforme exigido pelo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIKit</font></font></font> <code>API</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UITableViewDiffableDataSource</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no </font><font style="vertical-align: inherit;">aplicativo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIKit</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> anterior </font><font style="vertical-align: inherit;">. Portanto, removemos da </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estrutura</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font><font color="#0000FF"><font style="vertical-align: inherit;">struct Movie</font></font><font style="vertical-align: inherit;"> todos os m√©todos associados aos </font><font color="#0000FF"><font style="vertical-align: inherit;">protocolos </font></font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equatable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hashable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/9m/tu/zd/9mtuzdjefl-wbw3jigfpr5op5bw.png"><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">............................</font></font></b> <br><img src="https://habrastorage.org/webt/_q/uc/b2/_qucb2csrso2vfuac1cvow_ysvm.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> H√° um √≥timo artigo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">identific√°vel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que mostra a diferen√ßa e as semelhan√ßas entre os </font></font><code>Swift</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">protocolos.</font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identific√°vel</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hashable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equatable</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A interface do usu√°rio que criaremos usando o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© baseada no fato de </font><font color="#0000FF"><font style="vertical-align: inherit;">alterarmos</font></font><font style="vertical-align: inherit;"> o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ponto de extremidade</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao buscar dados e obter a cole√ß√£o de filmes necess√°ria, apresentada na forma de uma lista: </font></font><br><br><img src="https://habrastorage.org/webt/o4/-k/qa/o4-kqamned7_ee6snel_57zc0ek.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assim como no </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIKit</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , os dados s√£o amostrados usando a fun√ß√£o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">movieAPI .fetchMovies (do terminal: Terminal)</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que obt√©m o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terminal</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> desejado </font><font style="vertical-align: inherit;">e retorna o "publicador" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Future &lt;[Movie, MovieStoreAPIError]&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Se dermos uma olhada na enumera√ß√£o do </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ponto de extremidade</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , veremos que podemos inicializar a op√ß√£o desejada</font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caso</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na enumera√ß√£o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Endpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, consequentemente, na cole√ß√£o de filmes desejada usando o √≠ndice de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√≠ndice</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/ze/jb/9d/zejb9d_o2gr4m4oymkatehr2uuw.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, para obter a cole√ß√£o de filmes que precisamos para </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filmes</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , apenas defina o √≠ndice </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> correspondente </font><font color="#0000FF"><font style="vertical-align: inherit;">da</font></font><font style="vertical-align: inherit;"> enumera√ß√£o de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Endpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Vamos fazer isso </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que no nosso caso ser√° a classe </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MoviesViewModel</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que implementa o protocolo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ObservableObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Adicione um novo arquivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MoviesViewModel.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao nosso </font><font style="vertical-align: inherit;">em nosso projeto </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/w3/tx/bl/w3txblf8e8ectsgykvterljstjk.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesta classe muito simples, temos duas </font><font style="vertical-align: inherit;">propriedades </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : uma </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published var indexEndpoint: Int</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- entrada, outros </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filmes var. @Published: [Movie]</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - sa√≠da. Uma vez que colocamos </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propriedade frente </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , podemos come√ßar a us√°-lo como uma simples propriedade </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , e como um editor </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao inicializar uma inst√¢ncia da nossa classe </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MoviesViewModel,</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> devemos esticar a cadeia da entrada "publisher" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para a sa√≠da "publisher" TYPE </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnyPublisher &lt;[Movie], Never&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que obtemos usando a fun√ß√£o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">movieAPI.fetchMovies (from: Endpoint (index</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) que j√° conhecemos </font><font color="#0000FF"><font style="vertical-align: inherit;">: indexPoint))</font></font><font style="vertical-align: inherit;"> e o operador </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flatMap</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><img src="https://habrastorage.org/webt/ur/e7/y2/ure7y2ym3mkucrvj-r0ubwezc0i.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, "assinamos" esse "editor" rec√©m-recebido usando uma avalia√ß√£o muito simples de "assinante" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(para: \ .movies, on: self)</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e atribu√≠mos o valor recebido do "editor" √† matriz de sa√≠da de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filmes</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Podemos aplicar a avalia√ß√£o de "assinatura" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(para: \ .movies, on: self)</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> somente se o "editor" n√£o </font><font color="#0000FF"><font style="vertical-align: inherit;">gerar</font></font><font style="vertical-align: inherit;"> um erro, ou seja, ele tiver um TIPO de erro </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nunca</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Como conseguir isso? Usando o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operador replaceError (with: [])</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que substitui quaisquer erros por uma matriz de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filmes</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vazia </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ou seja, a primeira vers√£o mais simples do nosso </font><font style="vertical-align: inherit;">aplicativo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o exibir√° informa√ß√µes sobre poss√≠veis erros para o usu√°rio.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora que temos </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">os filmes, </font><font style="vertical-align: inherit;">vamos </font><font style="vertical-align: inherit;">come√ßar a criar </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Adicionar ao arquivo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ContentView.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nossa </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">como </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@EnvironmentObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vari√°vel </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var moviesViewModel</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e substituir </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Texto ( ¬´Ol√°, mundo!¬ª</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) No </font></font><br> <font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">texto ( "\ (moviesViewModel.indexEndpoint)")</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que simplesmente exibe o √≠ndice </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cole√ß√£o de filmes variante. </font></font><br><br><img src="https://habrastorage.org/webt/pr/bu/ic/prbuicibqgoshncctnfzxustbby.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por padr√£o, em nosso </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√≠ndice de cole√ß√£o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indexEndpoint = 2</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ou seja, ao iniciar o aplicativo, devemos ver filmes que aparecer√£o na tela ( </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√≥ximos</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">em um futuro pr√≥ximo </font><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/bz/ll/-g/bzll-g26ytgu4kya4dh0t5m5wjw.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, adicione</font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elementos para controlar qual cole√ß√£o de filmes queremos mostrar. Este √© </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stepper</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/o5/4j/rg/o54jrgkra0vggnuxmzjrgrfrkkc.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... e </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Picker</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/ei/ln/g6/eilng6a6zeizbtswoq5isrsbxje.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ambos usam o "editor" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ moviesViewModel.indexEndpoint</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nosso </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e, com um deles (de qualquer forma, qual), podemos selecionar a cole√ß√£o de filmes de que precisamos: </font></font><br><br><img src="https://habrastorage.org/webt/hb/sz/mi/hbszmixxzg4_njoodr2_p-bz3v8.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, adicionamos a lista de filmes recebidos usando </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">List</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ForEach</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e atributos m√≠nimos pr√≥prio </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filme movie</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/no/zf/g7/nozfg7kd8ednspilzhe0ibzw9cg.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista de filmes exibidos </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moviesViewModel.movies</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tamb√©m tiramos do nosso </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/6g/mi/eu/6gmieuzemvr0tjecr_ks_rpq9_w.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√ÉO usamos o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> publisher </font><font color="#0000FF"><font style="vertical-align: inherit;">$ moviesViewModel.movies</font></font><font style="vertical-align: inherit;"> com o sinal </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, porque n√£o vamos editar nada nesta lista de filmes. Usamos a propriedade usual </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moviesViewModel.movies</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ pode tornar a lista de filmes mais interessante exibindo em cada linha da lista o p√¥ster do filme correspondente, </font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que √© apresentado na estrutura do </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filme</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/wj/wc/mr/wjwcmrzdsx2g_dxzkj5tt7-cets.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aproveitamos essa oportunidade de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thomas Ricouard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do seu belo projeto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MovieSwiftUI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como no caso de carregar </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filmes</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , para a imagem </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIImage</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , temos o servi√ßo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageService</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que implementa </font><font style="vertical-align: inherit;">o m√©todo </font><font color="#0000FF"><font style="vertical-align: inherit;">fetchImage</font></font><font style="vertical-align: inherit;"> com </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine</font></font></font><font style="vertical-align: inherit;"></font><font color="#0000FF"><font style="vertical-align: inherit;"></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">retornando o "publicador" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnyPublisher &lt;UIImage?, Never&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/ta/rq/zi/tarqziqr1neusqhuvy3xusnbb-c.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... e a </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe final ImageLoader: ObservableObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que implementa o protocolo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ObservableObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com a </font><font color="#0000FF"><font style="vertical-align: inherit;">imagem da</font></font><font style="vertical-align: inherit;"> propriedade </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published </font></font></font><font style="vertical-align: inherit;"></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: UIImage?</font></font></font>  : <br><br><img src="https://habrastorage.org/webt/nm/mf/xb/nmmfxbdfrw54rbwkeghgbrbbq_i.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O √∫nico requisito que o protocolo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ObservableObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> faz √© a exist√™ncia da propriedade </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objectWillChange</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usa essa propriedade para entender que algo mudou na inst√¢ncia desta classe e, assim que isso acontece, atualiza todas as </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Views</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que dependem da inst√¢ncia dessa classe. Normalmente, o compilador cria automaticamente uma propriedade </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objectWillChange</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e todas </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propriedades </font><font color="#0000FF"><font style="vertical-align: inherit;">@Published</font></font><font style="vertical-align: inherit;"> tamb√©m a notificam automaticamente. No caso de algumas situa√ß√µes ex√≥ticas, voc√™ pode criar manualmente um </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objectWillChange</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e notific√°-lo sobre as altera√ß√µes. Temos exatamente esse caso. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na classe </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageLoader</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">temos uma √∫nica </font><font style="vertical-align: inherit;">propriedade </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published </font></font></font><font style="vertical-align: inherit;"></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var image: UIImage?</font></font></font>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â nesta implementa√ß√£o espirituoso √© entrada e sa√≠da, Na inicializa√ß√£o de inst√¢ncia </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageLoader</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , usamos o "publisher" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ imagem</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e "assinatura" para ele chamar o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loadImage ()</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que carrega nos obrigou a imagem </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cartaz</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tamanho certo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tamanho</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e atribui a ele </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ Publicado</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na propriedade </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var image: UIImage?</font></font></font>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notificaremos o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objectWillChange</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dessas altera√ß√µes </font><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na tabela podemos ter um monte de imagens, resultando em significativa demorado, por isso usamos um cache c√≥pias </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imageLoader</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> classe </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageLoader</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/bh/3z/yr/bh3zyrhhwbalksaw_78v2iotffk.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temos um especial </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de exibi√ß√£o</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para jogar Filme Posters </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MoviePosterImage</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/8o/hs/bj/8ohsbjrvisd-ijjef0nbfrc3p6i.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... e vamos us√°-lo para exibir a lista de filmes em nosso principal </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ContentView</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/h0/xn/l9/h0xnl9hwptsp8flgpsxwq2zpf-u.png"><br><br><img src="https://habrastorage.org/webt/ew/ft/op/ewftopem4n5r0wwh_zv2xj2r07g.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O c√≥digo para o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aplicativo</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baseado no </font><font color="#0000FF"><font style="vertical-align: inherit;">SwiftUI</font></font><font style="vertical-align: inherit;"> sem exibi√ß√£o de erro pode ser encontrado no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na pasta </font></font><code>CombineFetchAPI-NOError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Exibir erros de busca remota de filme ass√≠ncrono. </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At√© o momento, n√£o usamos ou exibimos erros que ocorrem durante a sele√ß√£o ass√≠ncrona remota de filmes no site do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMDb</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Embora a fun√ß√£o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">movieAPI.fetchMovies (do ponto de extremidade: Ponto de extremidade) que usamos</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nos permita fazer isso, uma vez que ela retorna o "publicador" </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Future &lt;[Movie, MovieStoreAPIError]&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A fim de permitir erros, acrescentar √† nossa </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">outra </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Published</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propriedade </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moviesError: MovieStoreAPIError?</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> isso representa o erro. Esta √© uma </font><font style="vertical-align: inherit;">propriedade </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opcional</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , seu valor inicial √© </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nulo</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o que corresponde √† aus√™ncia de um erro: </font></font><br><br><img src="https://habrastorage.org/webt/-t/em/_y/-tem_ynqrewyk3bdubok9jcb7pu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para obter este erro </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moviesError</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, teremos que alterar levemente a inicializa√ß√£o da classe </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MoviesViewModel</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e usar um assinante de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coletor</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mais complicado </font><font style="vertical-align: inherit;">: o </font></font><br><br><img src="https://habrastorage.org/webt/7c/ie/m0/7ciem0walfc1pwbjraeqlzpwr5q.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erro </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moviesError</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pode ser exibido </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se n√£o for </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nulo</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font></font><br><br><img src="https://habrastorage.org/webt/i1/o5/ve/i1o5ve67nptlwcubxxl7ylvup5i.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usando o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AlertView</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font color="#0000FF"><font style="vertical-align: inherit;">Simulamos</font></font></font><br><br><img src="https://habrastorage.org/webt/kd/st/u8/kdstu80nyu1jvikbxzunxfigkks.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> esse erro simplesmente removendo a </font></font><code>API</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chave </font><font style="vertical-align: inherit;">correta </font><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/f_/4i/ha/f_4ihalskxufzgz1xra_pdqxwoy.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo para um aplicativo baseado no </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com a exibi√ß√£o de erros pode ser encontrada no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na pasta </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CombineFetchAPI-Error</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ planejou inicialmente n√£o lidar com erros, poder√° fazer sem </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Future &lt;[Movie], MovieStoreAPIError&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e retornar o valor usual</font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnyPublisher &lt;[Movie], Never&gt;</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no m√©todo </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fetchMoviesLight</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/-v/3m/hx/-v3mhx-uwkxlzzla7iu-qgigyt0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A aus√™ncia de erros ( </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Never</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) nos permite usar uma </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atribui√ß√£o</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> muito simples de "assinante" </font><font color="#0000FF"><font style="vertical-align: inherit;">(para: \ .movies, on: self)</font></font><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/zw/ro/up/zwroupvq_yi7shbzefyhsdj8t6e.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tudo funcionar√° como antes:</font></font><br><br><img src="https://habrastorage.org/webt/ux/sa/-n/uxsa-n17hh_tu7nqp_znak3oa-w.png"><br><br><h3>  Conclus√£o </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usar a estrutura </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para processar uma sequ√™ncia de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valores que</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aparecem de forma ass√≠ncrona no tempo √© </font><font style="vertical-align: inherit;">muito simples e f√°cil. Os operadores oferecidos pela </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√£o poderosos e flex√≠veis. </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A combina√ß√£o</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nos permite evitar a cria√ß√£o de c√≥digos ass√≠ncronos complexos usando a cadeia upstream de editores de </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">editores</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , usando operadores e </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assinantes internos</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A combina√ß√£o √©</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> criada em um n√≠vel mais baixo que o </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foundation</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , em muitos casos n√£o precisa do </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foundation</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e tem um desempenho incr√≠vel. </font></font><br><br><img src="https://habrastorage.org/webt/eo/la/1q/eola1qc122ogmvluicy5odv9x4g.png"><br><br> <font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O SwiftUI</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tamb√©m </font><font color="#0000FF"><font style="vertical-align: inherit;">est√°</font></font><font style="vertical-align: inherit;"> fortemente vinculado ao </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;gra√ßas ao seu </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ObservableObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Binding</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><font color="#0000FF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@EnvironmentObject</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <code>iOS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">os desenvolvedores esperam h√° muito tempo por </font></font><code>Apple</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esse tipo </font><font style="vertical-align: inherit;">de </font><font style="vertical-align: inherit;">estrutura oficial e, finalmente, este ano aconteceu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Links: </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buscando a API ass√≠ncrona remota com o Apple Combine Framework, </font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tente! Swift NYC 2019 - Introdu√ß√£o ao Combine </font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"O melhor tutorial de estrutura do Combine no Swift". </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combinar: programa√ß√£o ass√≠ncrona com Swift </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introducing Combine - WWDC 2019 - V√≠deos - Apple Developer. sess√£o 722 </font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(sinopse da Sess√£o 722 ‚ÄúIntrodu√ß√£o √† combina√ß√£o‚Äù em russo) </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combinar na pr√°tica - WWDC 2019 - V√≠deos - Apple Developer. sess√£o 721</font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Sinopse da Sess√£o 721 ‚ÄúUso pr√°tico da </font></font></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combina√ß√£o </font></font></a> <font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">‚Äù em russo) </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">SwiftUI &amp; Combine: Juntos √© melhor. Por que o SwiftUI e o Combine ajudam a criar aplicativos melhores. </font></a></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MovieSwiftUI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualize Combine Magic com SwiftUI Parte 1 () </font></font></a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualize Combine Magic com SwiftUI - Parte 2 (operadores, assinando e cancelando em Combine)</font></font></a> <br><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Visualize Combine Magic with SwiftUI Part 3 (See Combine Merge and Append in Action) <br> Visualize Combine Magic with SwiftUI ‚Äî Part 4</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Visualize Combine Magic with SwiftUI ‚Äî Part 5</a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Getting Started With the Combine Framework in Swift</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Transforming Operators in Swift Combine Framework: Map vs FlatMap vs SwitchToLatest</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Combine's Future</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Using Combine</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">URLSession and the Combine framework</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt476678/">https://habr.com/ru/post/pt476678/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt476666/index.html">Biologia para programadores: como uma abordagem de engenharia muda o mundo</a></li>
<li><a href="../pt476668/index.html">Como eu controlei o computador pelo telefone</a></li>
<li><a href="../pt476670/index.html">Vis√£o geral do CAD no n√∫cleo geom√©trico C3D - 2</a></li>
<li><a href="../pt476674/index.html">Implementa√ß√£o r√°pida do ReportPortal para familiariza√ß√£o</a></li>
<li><a href="../pt476676/index.html">48 recursos de c√≥digo aberto para JavaScript (2019)</a></li>
<li><a href="../pt476680/index.html">O sistema de planejamento cont√≠nuo da produ√ß√£o de Rodov √© o Lean / MRP sovi√©tico de 1961. Decolagem, p√¥r do sol e novo nascimento</a></li>
<li><a href="../pt476682/index.html">Como escrever um sapador no Phaser e executar uma tarefa de teste do desenvolvedor HTML5</a></li>
<li><a href="../pt476686/index.html">Desenvolvimento de um gateway IoT baseado em Raspberry CM3 +</a></li>
<li><a href="../pt476688/index.html">Novo curso da OTUS. ‚ÄúDesenvolvedor de iOS. Curso Avan√ßado V 2.0 ¬ª</a></li>
<li><a href="../pt476692/index.html">Princ√≠pios de Marketing de Conte√∫do</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>