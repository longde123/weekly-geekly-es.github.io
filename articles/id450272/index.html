<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙇🏻 🎁 👲🏽 Kegilaan fisik 🕸️ 👨🏼‍🏫 👫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang, pembaca yang budiman! Saya, seorang programmer Java pemula, untuk waktu yang lama tidak bisa membiasakan diri dengan perpustakaan Box2D...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kegilaan fisik</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450272/">  Selamat siang, pembaca yang budiman!  Saya, seorang programmer Java pemula, untuk waktu yang lama tidak bisa membiasakan diri dengan perpustakaan Box2D.  Pertama, karena fakta bahwa itu ditulis untuk C ++, dan tidak ada dokumentasi untuk itu, dan saya tidak tahu sintaks C.  Kedua, karena fakta bahwa pelajaran terperinci tentang perpustakaan ini hanya tersedia sebagai perpanjangan dari libGDX.  Setelah beberapa minggu berjuang keras, saya akhirnya dapat memahami bagaimana bekerja dengan perpustakaan ini, dan dalam artikel ini saya akan membicarakannya (dan menunjukkannya). <br><a name="habracut"></a><br>  Saya bekerja di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Eclipse</a> , artikel ini akan terhubung dengan lingkungan pengembangan ini.  Untuk memulai, unduh kolektor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">libGDX</a> dan buat build standar.  Kami membutuhkan aplikasi Desktop dengan ekstensi Box2D.  Lalu pergi ke Eclipse, klik File → Impor → Gradle → Gradle Project dan tentukan path ke perakitan Anda. <br><br>  Ini adalah gambar yang menunjukkan bagaimana penampilan saya.  Saya menambahkan paket Utils dengan kelas Constants ke folder Core, yang hanya berisi satu konstanta - jumlah piksel per meter.  Ini agar dunia tidak raksasa. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wf/1k/uy/wf1kuy2edc7_hihjfu3eafq1_lq.png" alt="gambar"></div><br><br>  Berikut adalah kode untuk kelas DesktopLauncher dari com.mygdx.game.desktop: <br><br><div class="spoiler">  <b class="spoiler_title">Rekatkan kode ini ke dalam kelas dan lupakan</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.mygdx.game.desktop; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.backends.lwjgl.LwjglApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.backends.lwjgl.LwjglApplicationConfiguration; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.mygdx.game.MyGdxGame; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DesktopLauncher</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] arg)</span></span></span><span class="hljs-function"> </span></span>{ LwjglApplicationConfiguration config = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LwjglApplicationConfiguration(); <span class="hljs-comment"><span class="hljs-comment">//   config.width = 720; //   config.height = 480; config.backgroundFPS = 60; config.foregroundFPS = 60; new LwjglApplication(new MyGdxGame(), config); } }</span></span></code> </pre> <br></div></div><br>  Akan ada banyak kode, jadi saya akan membungkusnya dengan spoiler.  Hanya kelas MyGdxGame dari paket com.mygdx.game yang diubah. <br><br>  Jadi, mari kita coba melakukan hal yang cukup sederhana di aplikasi kita.  Jalur bola menabrak dinding dari papan, dan mereka tersebar.  Sesuatu seperti ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rq/vv/nx/rqvvnxo4_jdiembkwt0sg8evbzq.gif" alt="gambar"></div><br><br><div class="spoiler">  <b class="spoiler_title">Gagasan 1. Bowling</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.mygdx.game; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.ApplicationAdapter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.Gdx; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.Input.Keys; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.GL20; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.OrthographicCamera; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.Texture; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.g2d.SpriteBatch; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.math.Vector2; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.math.Vector3; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.Body; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.BodyDef; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.Box2DDebugRenderer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.CircleShape; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.PolygonShape; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.World; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> utils.Constants; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyGdxGame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationAdapter</span></span></span><span class="hljs-class"> </span></span>{ SpriteBatch batch; Texture img; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> OrthographicCamera camera; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> DEBUG = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> World world; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body floor; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body wall; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body verticals; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body horizontals; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Box2DDebugRenderer b2dr; <span class="hljs-comment"><span class="hljs-comment">//        public void create() { float w = Gdx.graphics.getWidth(); float h = Gdx.graphics.getHeight(); camera = new OrthographicCamera(); camera.setToOrtho(false, w / 2, h / 2); world = new World(new Vector2(0, -9.8f), false); //      b2dr = new Box2DDebugRenderer(); //    ball = createPlayer(); //   "",     floor = createfloor(); //    verticals = createverticals(80, 80); verticals = createverticals(100, 80); verticals = createverticals(120, 80); verticals = createverticals(90, 111); verticals = createverticals(110, 111); verticals = createverticals(100, 141); horizontals = createhorizontals(85, 95); horizontals = createhorizontals(115, 95); horizontals = createhorizontals(100, 126); //   - wall = createwall(430, 170); wall = createwall(-430, 170); } public void render() { update(Gdx.graphics.getDeltaTime()); //    Gdx.gl.glClearColor(0, 0, 0, 1); Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT); b2dr.render(world, camera.combined.scl(Constants.PPM)); } public void resize(int width, int height) { camera.setToOrtho(false, width / 2, height / 2); } public void dispose() { world.dispose(); b2dr.dispose(); } //     public void update(float delta) { world.step(1 / 60f, 6, 2); inputUpdate(delta); cameraUpdate(delta); } //     public void inputUpdate(float delta) { int HF = 0; if (Gdx.input.isKeyPressed(Keys.SPACE)) { HF = 5; } ball.setLinearVelocity(HF * 5, ball.getLinearVelocity().y); } //      public void cameraUpdate(float delta) { Vector3 position = camera.position; position.x = ball.getPosition().x * Constants.PPM; position.y = ball.getPosition().y * Constants.PPM; camera.position.set(position); camera.update(); } //  ,     ,   , // ,  . //     public Body createPlayer() { Body pBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.DynamicBody; def.position.set(20 / Constants.PPM, 90 / Constants.PPM); def.fixedRotation = false; pBody = world.createBody(def); CircleShape shape = new CircleShape(); shape.setRadius(10 / Constants.PPM); pBody.createFixture(shape, 1.0f); def.bullet = true; shape.dispose(); return pBody; } //     public Body createfloor() { Body fBody; BodyDef def = new BodyDef(); //   def.type = BodyDef.BodyType.StaticBody; //  def.position.set(0, 0); //   def.fixedRotation = true; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); //   shape.setAsBox(480 / Constants.PPM, 70 / Constants.PPM); fBody.createFixture(shape, 0.001f); shape.dispose(); return fBody; } //     public Body createwall(int xo, int yo) { Body fBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.StaticBody; def.position.set(xo / Constants.PPM, yo / Constants.PPM); def.fixedRotation = true; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); shape.setAsBox(50 / Constants.PPM, 100 / Constants.PPM); fBody.createFixture(shape, 0.001f); shape.dispose(); return fBody; } //   public Body createverticals(int xo, int xy) { Body fBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.DynamicBody; def.position.set(xo / Constants.PPM, xy / Constants.PPM); def.fixedRotation = false; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); shape.setAsBox(5 / Constants.PPM, 10 / Constants.PPM); fBody.createFixture(shape, 1.0f); def.bullet = true; shape.dispose(); return fBody; } //   public Body createhorizontals(int xo, int xy) { Body fBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.DynamicBody; def.position.set(xo / Constants.PPM, xy / Constants.PPM); def.fixedRotation = false; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); shape.setAsBox(13 / Constants.PPM, 5 / Constants.PPM); fBody.createFixture(shape, 1.0f); def.bullet = true; shape.dispose(); return fBody; } }</span></span></code> </pre><br></div></div><br>  Ternyata hebat, bukan?  Dengan mengubah beberapa parameter, Anda dapat mencapai apa yang Anda butuhkan!  Dan jangan menulis begitu banyak baris kode. <br><br>  Tapi sekarang saya ingin melihat pukulan yang elastis.  Dan biarkan ada lebih banyak objek di atas panggung.  Kami mendapatkan hasil sebagai berikut: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m1/el/fz/m1elfzzanihyioomnj-2e8cozde.gif" alt="gambar"></div><br><div class="spoiler">  <b class="spoiler_title">Dan ini kodenya:</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.mygdx.game; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.ApplicationAdapter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.Gdx; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.FixtureDef; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.GL20; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.OrthographicCamera; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.Texture; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.g2d.SpriteBatch; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.math.Vector2; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.math.Vector3; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.Body; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.BodyDef; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.Box2DDebugRenderer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.CircleShape; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.PolygonShape; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.World; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> utils.Constants; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyGdxGame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationAdapter</span></span></span><span class="hljs-class"> </span></span>{ SpriteBatch batch; Texture img; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> OrthographicCamera camera; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> DEBUG = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> World world; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body floor; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body wall; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body verticals; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body horizontals; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Box2DDebugRenderer b2dr; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> w = Gdx.graphics.getWidth(); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> h = Gdx.graphics.getHeight(); camera = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OrthographicCamera(); camera.setToOrtho(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, w / <span class="hljs-number"><span class="hljs-number">2</span></span>, h / <span class="hljs-number"><span class="hljs-number">2</span></span>); world = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> World(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">0</span></span>, -<span class="hljs-number"><span class="hljs-number">9.8f</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); b2dr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Box2DDebugRenderer(); <span class="hljs-comment"><span class="hljs-comment">//   ball = createPlayer(); //   floor = createfloor(); wall = createwall(100, 170); wall = createwall(-60, 170); //   .   ,   verticals = createverticals(5, 50); verticals = createverticals(10, 50); verticals = createverticals(15, 50); verticals = createverticals(20, 50); verticals = createverticals(25, 50); verticals = createverticals(30, 50); verticals = createverticals(35, 50); verticals = createverticals(5, 55); verticals = createverticals(10, 55); verticals = createverticals(15, 55); verticals = createverticals(20, 55); verticals = createverticals(25, 55); verticals = createverticals(30, 55); verticals = createverticals(35, 55); verticals = createverticals(5, 60); verticals = createverticals(10, 60); verticals = createverticals(15, 60); verticals = createverticals(20, 60); verticals = createverticals(25, 60); verticals = createverticals(30, 60); verticals = createverticals(35, 60); verticals = createverticals(5, 70); verticals = createverticals(10, 70); verticals = createverticals(15, 70); verticals = createverticals(20, 70); verticals = createverticals(25, 70); verticals = createverticals(30, 70); verticals = createverticals(35, 70); verticals = createverticals(5, 80); verticals = createverticals(10, 80); verticals = createverticals(15, 80); verticals = createverticals(20, 80); verticals = createverticals(25, 80); verticals = createverticals(30, 80); verticals = createverticals(35, 80); } public void render() { update(Gdx.graphics.getDeltaTime()); Gdx.gl.glClearColor(0, 0, 0, 1); Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT); b2dr.render(world, camera.combined.scl(Constants.PPM)); } public void resize(int width, int height) { camera.setToOrtho(false, width / 2, height / 2); } public void dispose() { world.dispose(); b2dr.dispose(); } public void update(float delta) { world.step(1 / 60f, 6, 2); inputUpdate(delta); cameraUpdate(delta); } //    public void inputUpdate(float delta) { ball.setAngularVelocity(3.0f); } public void cameraUpdate(float delta) { Vector3 position = camera.position; position.x = ball.getPosition().x * Constants.PPM; position.y = ball.getPosition().y * Constants.PPM; camera.position.set(position); camera.update(); } //   public Body createPlayer() { Body pBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.DynamicBody; def.position.set(20 / Constants.PPM, 800 / Constants.PPM); def.fixedRotation = false; pBody = world.createBody(def); CircleShape shape = new CircleShape(); shape.setRadius(10 / Constants.PPM); pBody.createFixture(shape, 1.0f); def.bullet = true; shape.dispose(); return pBody; } //   public Body createfloor() { Body fBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.StaticBody; def.position.set(0, 0); def.fixedRotation = true; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); shape.setAsBox(480 / Constants.PPM, 70 / Constants.PPM); fBody.createFixture(shape, 0.001f); shape.dispose(); return fBody; } //   public Body createwall(int xo, int yo) { Body fBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.StaticBody; def.position.set(xo / Constants.PPM, yo / Constants.PPM); def.fixedRotation = true; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); shape.setAsBox(50 / Constants.PPM, 100 / Constants.PPM); fBody.createFixture(shape, 0.001f); shape.dispose(); return fBody; } //      public Body createverticals(int xo, int yo) { Body pBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.DynamicBody; def.position.set(xo / Constants.PPM, yo / Constants.PPM); def.fixedRotation = false; pBody = world.createBody(def); CircleShape shape = new CircleShape(); shape.setRadius(2 / Constants.PPM); //     FixtureDef fd = new FixtureDef(); //  fd.restitution = 1.0f; //  fd.density = 5.0f; //  fd.friction = 0.01f; fd.shape = shape; pBody.createFixture(fd); def.bullet = true; shape.dispose(); return pBody; } }</span></span></code> </pre><br></div></div><br>  Membuat keranjang di Box2D tidak mudah.  Perlu untuk mengikat tubuh sehingga mereka bergerak secara keseluruhan.  GIF berikut hanya menunjukkan esensinya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bh/uy/v0/bhuyv0km3aehsu7vob71kpqc5oe.gif" alt="gambar"></div><br><br><div class="spoiler">  <b class="spoiler_title">Bagaimana ini bisa terjadi?</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.mygdx.game; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.ApplicationAdapter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.Gdx; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.Input; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.GL20; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.OrthographicCamera; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.Texture; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.g2d.SpriteBatch; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.math.Vector2; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.math.Vector3; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.Body; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.BodyDef; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.Box2DDebugRenderer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.CircleShape; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.PolygonShape; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.World; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> utils.Constants; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyGdxGame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationAdapter</span></span></span><span class="hljs-class"> </span></span>{ SpriteBatch batch; Texture img; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> OrthographicCamera camera; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> DEBUG = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> World world; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball1; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body floor; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body wall; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body verticals; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body horizontals; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Box2DDebugRenderer b2dr; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> w = Gdx.graphics.getWidth(); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> h = Gdx.graphics.getHeight(); camera = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OrthographicCamera(); camera.setToOrtho(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, w / <span class="hljs-number"><span class="hljs-number">2</span></span>, h / <span class="hljs-number"><span class="hljs-number">2</span></span>); world = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> World(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">0</span></span>, -<span class="hljs-number"><span class="hljs-number">9.8f</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); b2dr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Box2DDebugRenderer(); <span class="hljs-comment"><span class="hljs-comment">//   ball = createPlayer(20 / Constants.PPM, 70 / Constants.PPM); ball1 = createPlayer(50 / Constants.PPM, 70 / Constants.PPM); floor = createfloor(); wall = createwall(430, 170); wall = createwall(-430, 170); verticals = createverticals(); } public void render() { update(Gdx.graphics.getDeltaTime()); Gdx.gl.glClearColor(0, 0, 0, 1); Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT); b2dr.render(world, camera.combined.scl(Constants.PPM)); } public void resize(int width, int height) { camera.setToOrtho(false, width / 2, height / 2); } public void dispose() { world.dispose(); b2dr.dispose(); } public void update(float delta) { world.step(1 / 60f, 6, 2); inputUpdate(delta); cameraUpdate(delta); } public void inputUpdate(float delta) { //   .         ball.setLinearVelocity(3.0f, ball.getLinearVelocity().y); ball1.setLinearVelocity(3.0f, ball.getLinearVelocity().y); verticals.setLinearVelocity(3.0f, verticals.getLinearVelocity().y); } public void cameraUpdate(float delta) { Vector3 position = camera.position; position.x = ball.getPosition().x * Constants.PPM; position.y = ball.getPosition().y * Constants.PPM; camera.position.set(position); camera.update(); } //   public Body createPlayer(float xo, float yo) { Body pBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.DynamicBody; def.position.set(xo, yo); def.fixedRotation = false; pBody = world.createBody(def); CircleShape shape = new CircleShape(); shape.setRadius(10 / Constants.PPM); pBody.createFixture(shape, 1.0f); def.bullet = true; shape.dispose(); return pBody; } public Body createfloor() { Body fBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.StaticBody; def.position.set(0, 0); def.fixedRotation = true; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); shape.setAsBox(480 / Constants.PPM, 70 / Constants.PPM); fBody.createFixture(shape, 0.001f); shape.dispose(); return fBody; } public Body createwall(int xo, int yo) { Body fBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.StaticBody; def.position.set(xo / Constants.PPM, yo / Constants.PPM); def.fixedRotation = true; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); shape.setAsBox(50 / Constants.PPM, 100 / Constants.PPM); fBody.createFixture(shape, 0.001f); shape.dispose(); return fBody; } //   public Body createverticals() { Body fBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.DynamicBody; def.position.set(30 / Constants.PPM, 90 / Constants.PPM); def.fixedRotation = true; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); shape.setAsBox(30 / Constants.PPM, 3 / Constants.PPM); fBody.createFixture(shape, 0.001f); shape.dispose(); return fBody; } }</span></span></code> </pre><br></div></div><br>  Jika Anda melihat kode, Anda akan melihat bahwa ini bukan kereta sungguhan, melainkan tongkat di atas roda.  Pergi penggemar!  Ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">video</a> di Youtube di mana ICE empat tak dibuat di Box2D.  Apakah kita lebih buruk?  Menunggu di komentar untuk kesuksesan Anda! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/us/nm/ac/usnmacdggmiy8ssbc-kejrpzxfu.gif" alt="gambar"></div><br><br><div class="spoiler">  <b class="spoiler_title">Lebih banyak bentrokan!</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.mygdx.game; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.ApplicationAdapter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.Gdx; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.GL20; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.OrthographicCamera; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.Texture; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.graphics.g2d.SpriteBatch; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.math.Vector2; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.math.Vector3; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.Body; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.BodyDef; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.Box2DDebugRenderer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.CircleShape; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.FixtureDef; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.PolygonShape; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.badlogic.gdx.physics.box2d.World; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> utils.Constants; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyGdxGame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationAdapter</span></span></span><span class="hljs-class"> </span></span>{ SpriteBatch batch; Texture img; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> OrthographicCamera camera; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> DEBUG = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> World world; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball1; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball2; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball3; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball4; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball5; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body floor; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body wall; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body verticals; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body horizontals; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Box2DDebugRenderer b2dr; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> w = Gdx.graphics.getWidth(); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> h = Gdx.graphics.getHeight(); camera = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OrthographicCamera(); camera.setToOrtho(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, w / <span class="hljs-number"><span class="hljs-number">2</span></span>, h / <span class="hljs-number"><span class="hljs-number">2</span></span>); world = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> World(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">0</span></span>, -<span class="hljs-number"><span class="hljs-number">9.8f</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); b2dr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Box2DDebugRenderer(); <span class="hljs-comment"><span class="hljs-comment">//      ball = createPlayer(20 / Constants.PPM, 150 / Constants.PPM); ball1 = createPlayer(35 / Constants.PPM, 200 / Constants.PPM); ball2 = createPlayer(35 / Constants.PPM, 300 / Constants.PPM); ball3 = createPlayer(20 / Constants.PPM, 400 / Constants.PPM); ball4 = createPlayer(35 / Constants.PPM, 200 / Constants.PPM); ball5 = createPlayer(45 / Constants.PPM, 500 / Constants.PPM); floor = createfloor(); wall = createwall(100, 170); wall = createwall(-60, 170); } public void render() { update(Gdx.graphics.getDeltaTime()); Gdx.gl.glClearColor(0, 0, 0, 1); Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT); b2dr.render(world, camera.combined.scl(Constants.PPM)); } public void resize(int width, int height) { camera.setToOrtho(false, width / 2, height / 2); } public void dispose() { world.dispose(); b2dr.dispose(); } public void update(float delta) { world.step(1 / 60f, 6, 2); cameraUpdate(delta); } public void cameraUpdate(float delta) { Vector3 position = camera.position; position.x = ball.getPosition().x * Constants.PPM; position.y = ball.getPosition().y * Constants.PPM; camera.position.set(position); camera.update(); } public Body createPlayer(float xo, float yo) { Body pBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.DynamicBody; def.position.set(xo, yo); def.fixedRotation = false; pBody = world.createBody(def); CircleShape shape = new CircleShape(); shape.setRadius(10 / Constants.PPM); pBody.createFixture(shape, 0.0001f); def.bullet = true; // ,      FixtureDef fd = new FixtureDef(); fd.restitution = 1.0f; fd.density = 5.0f; fd.friction = 0.01f; fd.shape = shape; pBody.createFixture(fd); shape.dispose(); return pBody; } public Body createfloor() { Body fBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.StaticBody; def.position.set(0, 0); def.fixedRotation = true; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); shape.setAsBox(480 / Constants.PPM, 70 / Constants.PPM); fBody.createFixture(shape, 0.001f); shape.dispose(); return fBody; } public Body createwall(int xo, int yo) { Body fBody; BodyDef def = new BodyDef(); def.type = BodyDef.BodyType.StaticBody; def.position.set(xo / Constants.PPM, yo / Constants.PPM); def.fixedRotation = true; fBody = world.createBody(def); PolygonShape shape = new PolygonShape(); shape.setAsBox(50 / Constants.PPM, 100 / Constants.PPM); fBody.createFixture(shape, 0.001f); shape.dispose(); return fBody; } }</span></span></code> </pre><br></div></div><br>  Dan GIF terakhir untuk hari ini.  Bidang miring cenderung kita kenal dari pelajaran fisika.  Kode ini menjelaskan bagaimana Anda bisa mendapatkan bentuk yang lebih kompleks (arbitrer secara teoritis), sehingga kemungkinan yang tidak terbatas untuk fisika game terbuka. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nl/t5/1b/nlt51bwco5l9ffmdys0oa39xaxw.gif" alt="gambar"></div><br><div class="spoiler">  <b class="spoiler_title">Pesawat miring</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyGdxGame</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationAdapter</span></span></span><span class="hljs-class"> </span></span>{ SpriteBatch batch; Texture img; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> OrthographicCamera camera; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> DEBUG = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> World world; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body ball; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body floor; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body wall; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body plos; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body verticals; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Body horizontals; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Box2DDebugRenderer b2dr; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> w = Gdx.graphics.getWidth(); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> h = Gdx.graphics.getHeight(); camera = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OrthographicCamera(); camera.setToOrtho(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, w / <span class="hljs-number"><span class="hljs-number">2</span></span>, h / <span class="hljs-number"><span class="hljs-number">2</span></span>); world = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> World(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">0</span></span>, -<span class="hljs-number"><span class="hljs-number">9.8f</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); b2dr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Box2DDebugRenderer(); ball = createPlayer(); floor = createfloor(); wall = createwall(<span class="hljs-number"><span class="hljs-number">430</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>); wall = createwall(-<span class="hljs-number"><span class="hljs-number">430</span></span>, <span class="hljs-number"><span class="hljs-number">170</span></span>); plos = createplos(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">render</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ update(Gdx.graphics.getDeltaTime()); Gdx.gl.glClearColor(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT); b2dr.render(world, camera.combined.scl(Constants.PPM)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> width, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> height)</span></span></span><span class="hljs-function"> </span></span>{ camera.setToOrtho(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, width / <span class="hljs-number"><span class="hljs-number">2</span></span>, height / <span class="hljs-number"><span class="hljs-number">2</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dispose</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ world.dispose(); b2dr.dispose(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> delta)</span></span></span><span class="hljs-function"> </span></span>{ world.step(<span class="hljs-number"><span class="hljs-number">1</span></span> / <span class="hljs-number"><span class="hljs-number">60f</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); cameraUpdate(delta); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cameraUpdate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> delta)</span></span></span><span class="hljs-function"> </span></span>{ Vector3 position = camera.position; position.x = ball.getPosition().x * Constants.PPM; position.y = ball.getPosition().y * Constants.PPM; camera.position.set(position); camera.update(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Body </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createPlayer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Body pBody; BodyDef def = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BodyDef(); def.type = BodyDef.BodyType.DynamicBody; def.position.set(<span class="hljs-number"><span class="hljs-number">30</span></span> / Constants.PPM, <span class="hljs-number"><span class="hljs-number">190</span></span> / Constants.PPM); def.fixedRotation = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; pBody = world.createBody(def); CircleShape shape = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CircleShape(); shape.setRadius(<span class="hljs-number"><span class="hljs-number">10</span></span> / Constants.PPM); pBody.createFixture(shape, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>); def.bullet = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; shape.dispose(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pBody; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Body </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createfloor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Body fBody; BodyDef def = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BodyDef(); def.type = BodyDef.BodyType.StaticBody; def.position.set(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); def.fixedRotation = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; fBody = world.createBody(def); PolygonShape shape = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PolygonShape(); shape.setAsBox(<span class="hljs-number"><span class="hljs-number">480</span></span> / Constants.PPM, <span class="hljs-number"><span class="hljs-number">70</span></span> / Constants.PPM); fBody.createFixture(shape, <span class="hljs-number"><span class="hljs-number">0.001f</span></span>); shape.dispose(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fBody; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Body </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createwall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> xo, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> yo)</span></span></span><span class="hljs-function"> </span></span>{ Body fBody; BodyDef def = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BodyDef(); def.type = BodyDef.BodyType.StaticBody; def.position.set(xo / Constants.PPM, yo / Constants.PPM); def.fixedRotation = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; fBody = world.createBody(def); PolygonShape shape = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PolygonShape(); shape.setAsBox(<span class="hljs-number"><span class="hljs-number">50</span></span> / Constants.PPM, <span class="hljs-number"><span class="hljs-number">100</span></span> / Constants.PPM); fBody.createFixture(shape, <span class="hljs-number"><span class="hljs-number">0.001f</span></span>); shape.dispose(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fBody; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Body </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createplos</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Vector2[] vertices = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2[<span class="hljs-number"><span class="hljs-number">3</span></span>]; vertices[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">0f</span></span> , -<span class="hljs-number"><span class="hljs-number">0.6f</span></span> ); vertices[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">1f</span></span> , -<span class="hljs-number"><span class="hljs-number">0.6f</span></span> ); vertices[<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2(<span class="hljs-number"><span class="hljs-number">1f</span></span> , <span class="hljs-number"><span class="hljs-number">1f</span></span>); PolygonShape shape = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PolygonShape(); Body fBody; BodyDef def = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BodyDef(); def.type = BodyDef.BodyType.StaticBody; def.position.set(<span class="hljs-number"><span class="hljs-number">20</span></span> / Constants.PPM, <span class="hljs-number"><span class="hljs-number">90</span></span> / Constants.PPM); def.fixedRotation = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; fBody = world.createBody(def); shape.set(vertices); fBody.createFixture(shape, <span class="hljs-number"><span class="hljs-number">0.001f</span></span>); shape.dispose(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fBody; } }</code> </pre><br></div></div><br>  Saya berharap bahwa berkat kode ini Anda akan dapat memahami dasar-dasar Box2D, dan aplikasi yang sangat bagus akan lahir!  Terima kasih sudah membaca sampai akhir!  Saya akan mencoba menjawab semua pertanyaan di komentar! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id450272/">https://habr.com/ru/post/id450272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id450262/index.html">Otomasi perpustakaan naskah</a></li>
<li><a href="../id450264/index.html">Ulasan terperinci 3CX v16</a></li>
<li><a href="../id450266/index.html">Lanjutkan Programmer Jujur</a></li>
<li><a href="../id450268/index.html">Pemasaran pemula: cara menarik ribuan pengguna dari seluruh dunia tanpa menghabiskan $ 200</a></li>
<li><a href="../id450270/index.html">Zastone ZT-A19 Radio: Pengukuran Kinerja</a></li>
<li><a href="../id450274/index.html">IntelliSense untuk C ++ di Visual Studio sekarang berfungsi berdasarkan contoh dalam kode Anda</a></li>
<li><a href="../id450278/index.html">Jaringan TV kabel untuk yang terkecil. Bagian 5: Jaringan Distribusi Koaksial</a></li>
<li><a href="../id450282/index.html">Cara kerja aplikasi web</a></li>
<li><a href="../id450288/index.html">UML & Arsitek Perusahaan: merancang proses target untuk membuat sistem otomatis</a></li>
<li><a href="../id450290/index.html">Baik, buruk, jahat - pengujian dalam proyek pemula</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>