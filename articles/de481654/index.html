<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüè≠ ü§òüèΩ üîö Die Geschichte, wie Ihnen QA Engineer mithilfe von Test IT mithilfe des Bot Frameworks das Leben erleichtert hat üò© üëê ‚§µÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es ist kein Geheimnis, dass sich gute Software nicht in der Funktionalit√§t, sondern in der Qualit√§t der deklarierten Funktionen vom Rest unterscheidet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Geschichte, wie Ihnen QA Engineer mithilfe von Test IT mithilfe des Bot Frameworks das Leben erleichtert hat</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481654/">  Es ist kein Geheimnis, dass sich gute Software nicht in der Funktionalit√§t, sondern in der Qualit√§t der deklarierten Funktionen vom Rest unterscheidet.  Schlie√ülich braucht niemand eine funktionsreiche Software, wenn sie einfach nicht funktioniert.  Aber wie schaffen Sie es, den Entwicklern rechtzeitig mitzuteilen, dass etwas mit dem Projekt nicht stimmt? <br><br>  Heute werden wir ein wenig √ºber die Probleme der Kommunikation zwischen Abteilungen innerhalb des Unternehmens sprechen und gleichzeitig am Beispiel der Test-IT untersuchen, was uns geholfen hat, Zen zu verstehen: unparteiisch, mit einem Herz aus Stein und einer Seele aus einem Algorithmus - einem Bot auf dem Bot-Framework.  Willkommen bei Katze! <br><br><img src="https://habrastorage.org/webt/ep/ib/35/epib35fafiigqx2quacusrkv4h8.jpeg"><br><br><a name="habracut"></a><br><br>  Man hat lange geglaubt, dass im Krieg das Hauptwerkzeug die Kommunikation ist.  Ohne Kommunikation ist es unm√∂glich, Ihre Truppen zu koordinieren, Nachrichten von den Feldern zu erfahren, Unterst√ºtzung zu leisten und die Aktionen des Feindes zu verfolgen.  Und was ist Entwicklung, wenn nicht ein lokaler Krieg mehrerer Abteilungen um ein Produkt? <br><br>  Und wenn sie in der Antike einen Boten, einen Boten und sp√§ter ein Telefon benutzten, um Nachrichten zu verbreiten, dann w√§re es ab der Schwelle von 2020 seltsam, solche Technologien zu verwenden, insbesondere wenn Ihre Armee, die an einem Produkt arbeitet, weit √ºber die Grenzen eines B√ºros hinaus verteilt werden kann.  Hier ist unser QS-Ingenieur und hat eine √§hnliche Frage gestellt. <br><br>  Nat√ºrlich k√∂nnen Sie Details zu dem fehlgeschlagenen Test in einem Live-Chat schreiben.  Dies erfordert jedoch Zeit, die Sie nicht f√ºr dieselbe Art von Benachrichtigungen verwenden m√∂chten.  Sie k√∂nnen dem <a href="http://testit.software/" rel="nofollow">Test-IT-</a> Portal einen Befehl hinzuf√ºgen und sie zwingen, den Status von Autotests zu √ºberpr√ºfen.  Und dies wird das Problem auch teilweise l√∂sen, aber die Notwendigkeit, st√§ndig auf dem Portal zu sein, wird das Entwicklungsteam stark ablenken.  Wir brauchen etwas Einfacheres, ohne Zeit damit zu verschwenden, noch einmal Benachrichtigungen zu verschicken. <br><br>  Nach dieser Logik kamen wir zu Webhooks.  Sie automatisieren das Senden von Benachrichtigungen und wichtigen Protokollen vom System an jedes mit dem Internet verbundene B√ºgeleisen. <br>  Also haben wir den Kommunikationskanal aussortiert.  Es ist Zeit zu √ºberlegen, wohin Webhooks ihre Benachrichtigungen senden sollen.  Idealerweise sollte dies eine Plattform sein, die mehrere Sofortnachrichten und E-Mails f√ºr Liebhaber der Klassiker kombiniert.  Und, wie Sie aus dem Titel des Artikels ersehen k√∂nnen, fiel die Plattform auf das Bot-Framework. <br><br>  Diese Kombination erf√ºllt die Anforderungen f√ºr dringende Benachrichtigungen vollst√§ndig und erweitert die Funktionen des Bots, ohne die Testf√§lle und die Plattform zu beeintr√§chtigen.  Und der Bot selbst wird unser Entwicklungsassistent, der unerm√ºdlich einen funktionierenden Chat liest und uns √ºber alle Ereignisse informiert, die f√ºr TMS Test IT von Interesse sind. <br><br>  In dem heutigen Artikel werden wir ein Beispiel f√ºr die Verwendung des Bot in Telegram betrachten, um Benachrichtigungen von der Test-IT-Plattform an Entwicklungs- und Testteams zu senden. <br><br><h2>  Erstellen Sie ein Projekt und einen Bot </h2><br>  Gehen Sie zum Portal und erstellen Sie ein neues Projekt: <br><br><img src="https://habrastorage.org/webt/v_/pk/3q/v_pk3qflfqch1yn9izqlwgedoga.png" alt="Bild"><br><br>  Das Projekt umfasst Testf√§lle, Autotests, Checklisten, Webhooks und vieles mehr. <br><br>  Erstellen Sie als N√§chstes einen Testplan.  Lassen Sie es denselben unkomplizierten Namen wie den Namen des Projekts haben: <br><br><img src="https://habrastorage.org/webt/e_/nz/r-/e_nzr-xcf-ltulj3k_ys6flrxjy.png" width="40%" height="40%" alt="Bild"><br><br>  Au√üerdem k√∂nnen Sie neue Testf√§lle hinzuf√ºgen, aber wir werden direkt mit der Erstellung unseres intelligenten Assistenten fortfahren.  Schlie√üen Sie das Portal nicht, wir kehren zum Einrichten von Webhooks zur√ºck. <br>  Die Entwicklung wird auf dem .Net Framework (wo auch ohne) unter Verwendung von Azure durchgef√ºhrt.  Eigentlich werden wir mit <a href="https://portal.azure.com/" rel="nofollow">Azure</a> beginnen. <br><br>  Gehen Sie zum Portal und suchen Sie nach dem Web App Bot: <br><br><img src="https://habrastorage.org/webt/d-/3m/f2/d-3mf2u2tjh3clmcxomas5b6otc.jpeg" alt="Bild"><br><br>  Klicken Sie auf "Erstellen", f√ºllen Sie die erforderlichen Felder aus und erweitern Sie sie.  Als Teil des Artikels werden wir zun√§chst die Echo Bot-Vorlage bereitstellen und in Zukunft darauf aufbauen <br>  Wenn der Bot erfolgreich eingesetzt wurde, ist es Zeit, eine Verbindung zu seinen Kommunikationskan√§len mit dem Bot herzustellen.  Eine sehr gro√üe Liste von Messenger- und Kommunikationsoptionen wird dem Entwickler zur Verf√ºgung gestellt, aber Telegramm ist f√ºr unsere Zwecke ausreichend. <br><br>  Dazu schreiben Sie ein paar gute Befehle an den <a href="https://t.me/BotFather" rel="nofollow">@ BotFather-</a> Bot und erstellen einen neuen Bot.  Gl√ºcklicherweise kommuniziert er sehr freundlich mit uns und hilft dabei, seine eigene Art zu erschaffen.  Bot Father wurde bei Telegram erstellt, um andere Bots zu kontrollieren.  Ja, kein Wunder, dass er der Vater von Bots ist! <br><br>  Am Ende der Registrierung muss der Bot-Vater uns den eindeutigen Schl√ºssel unseres Kindes geben.  Wir kopieren es gerne, danken dem Vater dieser seltsamen Familie und kehren zum Azure-Portal zur√ºck. <br><br>  Jetzt m√ºssen wir den Quellcode des Bots herunterladen, damit wir direkt in unserer IDE damit arbeiten k√∂nnen: <br><br><img src="https://habrastorage.org/webt/7k/u8/fy/7ku8fyhogapaqix9wt-wqaon86i.jpeg" alt="Bild"><br><br>  Ab sofort k√∂nnen wir einen Emulator f√ºr das lokale Debuggen bekommen.  Wenn Ihr Bot etwas mehr Logik als die Ausgabe von "Hallo Welt" hat, ist es besser, die Tools zum Debuggen und Testen Ihres neuen Teammitglieds zu verwenden. <br><br>  Direkt auf dem Portal mussten wir nur unseren neuen Bot √∂ffnen, zum Tab "Channels" gehen, einen Telegramm-Channel hinzuf√ºgen und ihm den Schl√ºssel geben, der freundlicherweise vom Vater der Bots hinterlassen wurde.  Um zu verhindern, dass der Bot f√ºr l√§ngere Zeit nicht abst√ºrzt, empfiehlt es sich, auf den Anwendungsdienst umzuschalten (der Name √§hnelt dem Namen unseres Bots auf dem Portal) -&gt; Konfiguration -&gt; Allgemeine Parameter und in der Spalte "Always On" die Option "Enabled" zu w√§hlen.  Andernfalls kann Ihr Bot einschlafen und der Endbenutzer ben√∂tigt wertvolle Zeit, um ihn zu starten. <br><br><img src="https://habrastorage.org/webt/th/we/yt/thweyt618vbqmm5nr8ac-ycl36k.jpeg" alt="Bild"><br><br>  Da wir uns noch im Azure-Portal befinden, stellen wir f√ºr diesen Bot eine kleine Datenbank bereit.  N√ºtzlich zum Speichern einer Liste von Gruppenindizes und deren geheimen Schl√ºsseln.  Weitere Informationen zur Datenbankbereitstellung finden Sie <a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-single-database-get-started%3Ftabs%3Dazure-portal" rel="nofollow">hier</a> . <br><br>  Wenn er beim Zugriff auf unseren Bot in Telegram unsere Nachricht zur√ºckgibt, bedeutet dies, dass wir alles richtig gemacht haben und der Tab mit Azure auf bessere Zeiten verschoben werden kann.  Jetzt k√∂nnen Sie an der Logik unseres Assistenten arbeiten. <br><br><h2>  Wir leiten die Gehirne von Bot </h2><br><br><img src="https://habrastorage.org/webt/el/fd/mo/elfdmo57rvfb8bwht6vsckfyfje.jpeg" alt="Bild"><br><br>  F√ºr diejenigen, die Erfahrung mit ASP.NET Core haben, wird nichts Neues kommen.  Der Rest hinterl√§sst eine kurze Anleitung, was als n√§chstes zu tun ist: <br><br><ul><li>  Lehren der Anwendung, mit dem Entity Framework zu arbeiten und die Datenbank zu binden.  Der Bot muss in der Lage sein, ChatID-Kommunikationen, den Status des Ignorierens des Chats und den "secretKeyBot" eingehender Entit√§ten in der Datenbank zu speichern.  Dies erm√∂glicht es, den Bot nicht nur im Rahmen dieses Projekts und des gesamten Unternehmens zu verwenden, sondern ihn auch frei zu Gruppen f√ºr alle hinzuzuf√ºgen. </li><li>  Datenmodell und API-Controller hinzuf√ºgen.  In unserer Anwendung muss es einen externen Einstiegspunkt geben, √ºber den Sie auf den Bot zugreifen und den Anfragetext √ºbertragen k√∂nnen.  Das Datenmodell ist die Darstellung des Anforderungshauptteils, und der Controller muss mit einem externen Aufruf arbeiten. </li><li>  Schreibe R√§tsel und Serviceteams.  Wenn bei kruds alles klar ist, ist der Befehlsservice unsere Gesch√§ftslogik f√ºr die Verarbeitung von Chat-Nachrichten.  Anf√§nglich wollten wir in der Lage sein, Benachrichtigungen vom Bot in einem bestimmten Chat zu √ºbert√∂nen.  Eine der M√∂glichkeiten, dies zu tun, ist direkt mit dem Chat-Befehl, den der Bot nur f√ºr diesen Chat verarbeiten und speichern soll. </li><li>  Testen Sie den Bot in einer lokalen Umgebung mit einem Emulator.  Besonders erfahrene Jungs k√∂nnen den Bot direkt in Azure hochladen und sein Verhalten durch einen Chat in Telegram verfolgen. In diesem Fall gibt der Bot jedoch keine detaillierte Beschreibung der Fehler zur√ºck.  Ja, und Haltepunkte (ein beliebtes Debugging-Tool) k√∂nnen nicht platziert werden.  Ein kleines Feature des Bot Frameworks ist √ºbrigens, dass es wirklich keine detaillierte Beschreibung des Fehlers zur√ºckgeben m√∂chte.  Also entwickeln wir uns sorgf√§ltig und engagieren uns √∂fter! </li><li>  In Azure ver√∂ffentlichen.  Unter den Ordnern des Projekts finden Sie einen Ordner mit dem unkomplizierten Namen "PostDeployScripts".  Es enth√§lt eine wichtige Datei f√ºr uns mit der Erweiterung .PublishSettings.  Die Daten zum Herstellen einer Verbindung zum Bot-Speicher in Azure sind vorhanden.  Und f√ºr diejenigen, die Visual Studio verwenden, ist diese Datei der heilige Schl√ºssel zum Ver√∂ffentlichen des Projekts: Importieren Sie ihn beim Ver√∂ffentlichen, und die IDE ruft alle erforderlichen Daten ab. </li></ul><br><br><h2>  Webhook hinzuf√ºgen </h2><br>  Eigentlich ist der Bot erstellt.  Es ist Zeit, den Webhook vom TestIT-Portal zu entfernen.  Wir freuen uns, dass wir den Tab im Browser nicht geschlossen haben und dorthin gehen: <br><br><img src="https://habrastorage.org/webt/hu/ys/m-/huysm-w3qz7tl6shpu-2guu-gti.png" alt="Bild"><br><br>  Wir gehen in die Projekteinstellungen, den Reiter "Webhooks" und f√ºgen einen neuen hinzu: <br><br><img src="https://habrastorage.org/webt/a-/e_/7r/a-e_7rsnkxvlb2fos_uihnolhn8.png" alt="Bild"><br><br>  Versuchen wir nun, den Status des Testplans zu √§ndern und zu sehen, wie der Bot reagiert. <br><br><img src="https://habrastorage.org/webt/e0/ma/gs/e0magsfc_gwdh5g5zfzywlf9cso.jpeg" alt="Bild"><br><br>  Tats√§chlich haben wir hier ein kleines Beispiel f√ºr die Erstellung eines Assistenten-Bots gefunden.  Unser Bot ist <a href="https://github.com/developman2013/TestIT-bot-sample" rel="nofollow">auf GitHub zu sehen</a> . <br><br>  Von nun an k√∂nnen Entwicklerteams und Testpersonen sicher an der Produktentwicklung teilnehmen, und unser neuer intelligenter Freund wird unerm√ºdlich auf Neuigkeiten aus den Testfeldern warten und diese schnell austauschen. <br><br>  Es ist wichtig zu verstehen, dass die M√∂glichkeiten des Bots nahezu unbegrenzt sind: Er kann alle Anfragen von au√üen verarbeiten.  Auf diese Weise k√∂nnen Sie viele Dinge lernen: Filtern von Chat-Nachrichten, Teambuilding-Benachrichtigungen, Minispiele in Ihrer Freizeit.  Wenn Sie versuchen, ein wenig Fantasie zu zeigen, k√∂nnen Sie ihm beibringen, Pizza zu bestellen, einen Arbeitskalender zu erstellen, Dokumente zu erkennen oder sogar Ihre eingehenden E-Mail-Nachrichten an Instant Messenger weiterzuleiten. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de481654/">https://habr.com/ru/post/de481654/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de481638/index.html">Warum 3D-Modelle komplexer Produktion n√ºtzlich sind</a></li>
<li><a href="../de481640/index.html">Ver√∂ffentlichung der neuen Version des DevOpsProdigy KubeGraf Plugins</a></li>
<li><a href="../de481644/index.html">So √ºberleben Sie eine SQL-Datenbank im 21. Jahrhundert: Clouds, Kubernetes und PostgreSQL Multimaster</a></li>
<li><a href="../de481648/index.html">Junos PyEZ am Beispiel der Aufgabe, freie ipv4-Subnetze zu finden</a></li>
<li><a href="../de481652/index.html">Backdoor (?) Auf BlackBerry Android-Smartphones</a></li>
<li><a href="../de481656/index.html">PagerDuty oder warum die Operationsabteilung nachts m√∂glicherweise nicht schl√§ft</a></li>
<li><a href="../de481662/index.html">Erprobung neuer Tools zum Erstellen und Automatisieren der Bereitstellung in Kubernetes</a></li>
<li><a href="../de481664/index.html">Serverlose Preise und Kosten: AWS Lambda</a></li>
<li><a href="../de481666/index.html">Benutzerdefinierte SwiftLint-Regeln</a></li>
<li><a href="../de481668/index.html">Das erste Problem mit dem Viewer oder die Schwierigkeiten beim Konvertieren von WebRTC-Videostreams in HLS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>