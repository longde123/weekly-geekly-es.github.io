<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍🏭 🍃 ☦️ 如何恢复文档？ 👨🏾‍🚀 🔙 👂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="也许每种痛苦都知道这种痛苦-不相关的文档。 无论团队多么努力，在现代项目中，我们都会如此频繁地发布，以致几乎无法描述所有更改。 我们的测试团队与系统分析师一起决定尝试使我们的项目文档焕发活力。 



 Alfa-Bank的网络项目使用Akita测试自动化框架，该框架用于BDD脚本。 迄今为止，该框...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>如何恢复文档？</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/alfa/blog/454720/"> 也许每种痛苦都知道这种痛苦-不相关的文档。 无论团队多么努力，在现代项目中，我们都会如此频繁地发布，以致几乎无法描述所有更改。 我们的测试团队与系统分析师一起决定尝试使我们的项目文档焕发活力。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dj/-e/-3/dj-e-3pqyde5vlqu036ddxjgxk0.png"></div><br><br>  Alfa-Bank的网络项目使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Akita</a>测试自动化框架，该框架用于BDD脚本。 迄今为止，该框架因其较低的入门门槛，可用性和测试布局的能力而广受欢迎。 但是我们决定走得更远-在描述的测试方案的基础上生成文档，从而大大减少了分析师花费在更新文档这一永恒问题上的时间。 <br><br> 实际上，已经与Akita一起使用了文档生成插件，该插件通过脚本中的步骤并将其上传为html格式，但是为了使该文档流行，我们需要添加： <br><br><ul><li> 屏幕截图 </li><li> 变量值（配置文件，用户帐户等）； </li><li> 状态和查询参数。 </li></ul><br> 我们查看了现有的插件，实际上是一个静态分析器，并根据.feature文件中描述的脚本生成了文档。 我们决定添加扬声器，并且为了不使插件看起来像插件，我们决定编写自己的插件。 <br><a name="habracut"></a><br> 首先，我们决定找出如何从功能文件中收集测试脚本中使用的屏幕截图和变量值。 事实证明一切都很简单。 黄瓜，当为每个功能文件运行测试时，会创建一个单独的cucumber.json。 <br><br> 该文件中包含以下对象： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gi/gt/gf/gigtgfca5iijlcexrywydmbwopa.png" width="500"></div><br> 测试用例名称和关键字： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4r/ky/5h/4rky5hrgxz3dpwoz_togtebwpkw.png" width="500"></div><br> 元素数组-脚本和步骤本身： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5d/gh/pe/5dghpexsb1vezlndj4t17gablc0.png" width="500"></div><br> 输出字段包含其他信息，例如变量-地址，链接，用户帐户等： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ir/rd/rx/irrdrxqyopjezxemdwwy317vd-c.png" width="500"></div><br> 嵌入包含硒在测试过程中拍摄的屏幕截图： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/le/1j/0x/le1j0xfuznba4dpntzz6e0xhmw4.png" width="500"></div><br> 因此，我们只需要遍历Cucumber.json文件，收集测试套件的名称，测试脚本，提取步骤，收集其他信息和屏幕截图。 <br><br> 为了使文档显示在后台发生的请求或特定的操作，我们必须向前端开发人员寻求帮助。 借助代理，我们能够捕获traceId，从而生成前端服务请求。 通过相同的traceId，日志以弹性形式编写，从此处我们将所有必要的查询参数提取到测试报告和文档中。 <br><br> 结果，我们得到了Asciidoc格式的文件-一种方便的文件格式，比markdown类比的文件有点复杂，但是具有更多的格式化选项（您可以插入图像或表格，而在markdown中是无法做到的）。 <br><br> 要将生成的Asciidoc转换为其他格式，我们使用Ascii doctorj，它是AsciiDoctor Java工具的正式版本。 结果，我们获得了html格式的现成文档，可以将它们一起下载，发送给同事或放入存储库中。 <br><br><img src="https://habrastorage.org/webt/qp/uk/4z/qpuk4zivzf0wm7adwjo6cpsjp30.png"><br><br><h3> 如何连接？ </h3><br> 现在，要为您的项目生成前端文档，只需将文档插件连接到它，然后在运行所有测试后运行<code>adoc</code>命令。 <br><br><h3> 我们要改善什么？ </h3><br><ol><li> 添加可配置的技术步骤。 <br> 在插件的当前版本中，有步骤“并截取了屏幕截图...”。 这些步骤不会为文档带来语义上的负担，因此我们希望将其隐藏。 现在我们已经将它们缝在了插件内部，并且被跳过了，但是存在一个缺点-此步骤的每次添加都会导致我们需要构建插件的新版本这一事实。 为了避免这种情况，我们计划将这些步骤转移到配置文件，并写下我们不想在脚本中看到的那些步骤。 </li><li> 制作一个开放的源插件。 </li></ol><br><br><h3> 哪些团队适合我们的实施？ </h3><br><ul><li> 使用Cucumber（或类似框架）； </li><li> 希望获得有关前端和知识库的最新文档； </li><li> 他们想让分析师参与测试。 </li></ul><br><h3> 结果： </h3><br><blockquote> 多个团队的试验表明，借助插件，我们设法使文档保持最新，分析师不再需要花费时间来维护文档。 另外，此功能的实施使我们考虑继续在团队中实施成熟的BDD。 今天，我们正在进行一项实验-分析师为客户制定了一条积极的道路，使用Akita BDD步骤指出了业务限制，测试人员则针对这些情况编写了自定义步骤和其他检查。 </blockquote> 顺便说一下，关于霍利瓦尔，是否需要BDD，我们将在星期一举行一次<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">特别会议</a> 。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN454720/">https://habr.com/ru/post/zh-CN454720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN454706/index.html">由Polaris引入以保持Kubernetes集群健康</a></li>
<li><a href="../zh-CN454708/index.html">宇航员需要枕头吗？</a></li>
<li><a href="../zh-CN454712/index.html">WWDC 2019：关键机器人主题演讲</a></li>
<li><a href="../zh-CN454714/index.html">我们研究MITRE ATT＆CK。 移动矩阵：设备访问权限。 第二部分</a></li>
<li><a href="../zh-CN454716/index.html">员工不想要新软件-偶尔去还是弯腰？</a></li>
<li><a href="../zh-CN454728/index.html">开放的互联网访问：LUWRAIN技术帮助盲用户</a></li>
<li><a href="../zh-CN454730/index.html">Allure Server聚会：报告的录像</a></li>
<li><a href="../zh-CN454732/index.html">为IT团队提供的5种可靠的优先级排序技术</a></li>
<li><a href="../zh-CN454734/index.html">备份，第4部分：概述和测试zbackup，restic，borgbackup</a></li>
<li><a href="../zh-CN454736/index.html">在PVS-Studio中支持Visual Studio 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>