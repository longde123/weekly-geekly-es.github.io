<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¾â€ğŸ”§ ğŸ–• âœ‰ï¸ SwiftUIä¸Šçš„åŠ¨ç”»å¡ ğŸ›ŒğŸ¿ ğŸ‘©ğŸ»â€ğŸ¤â€ğŸ‘¨ğŸ¿ ğŸ“»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="è®©æˆ‘ä»¬åœ¨SwiftUIä¸Šåˆ¶ä½œå¸¦æœ‰æ‰‹åŠ¿æ”¯æŒçš„åŠ¨ç”»å¡ï¼š 



 æˆ‘æƒ³æ·»åŠ ä¸€ä¸ªè¯¦ç»†çš„é¢„è§ˆï¼Œä½†æ˜¯gifçš„å¤§å°ä¸æ˜¯Orthodoxã€‚ å¯ä»¥åœ¨é“¾æ¥æˆ–è§†é¢‘æ•™ç¨‹ä¸­æŸ¥çœ‹å¤§é¢„è§ˆã€‚ 
 å°†è¢«è¦æ±‚ 


 SwiftUIç°åœ¨å¤„äºbetaç‰ˆæœ¬ï¼Œå¹¶éšæ–°çš„Xcodeä¸€èµ·å®‰è£…ï¼Œåè€…ä¹Ÿå¤„äºbetaç‰ˆæœ¬ã€‚ å¥½æ¶ˆæ¯æ˜¯ï¼Œæ–°çš„Xcodeå¯...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SwiftUIä¸Šçš„åŠ¨ç”»å¡</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456936/"><p>è®©æˆ‘ä»¬åœ¨<code>SwiftUI</code>ä¸Šåˆ¶ä½œå¸¦æœ‰æ‰‹åŠ¿æ”¯æŒçš„åŠ¨ç”»å¡ï¼š </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xh/3t/eq/xh3teq68fx1bujdlsgpon4jtijo.gif" width="280"></div><br><p> æˆ‘æƒ³æ·»åŠ ä¸€ä¸ªè¯¦ç»†çš„é¢„è§ˆï¼Œä½†æ˜¯gifçš„å¤§å°ä¸æ˜¯Orthodoxã€‚ å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨é“¾æ¥</a>æˆ–<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è§†é¢‘æ•™ç¨‹ä¸­</a>æŸ¥çœ‹å¤§é¢„è§ˆã€‚ </p><br><h2 id="potrebuetsya"> å°†è¢«è¦æ±‚ </h2><br><p>  <code>SwiftUI</code>ç°åœ¨å¤„äºbetaç‰ˆæœ¬ï¼Œå¹¶éšæ–°çš„Xcodeä¸€èµ·å®‰è£…ï¼Œåè€…ä¹Ÿå¤„äºbetaç‰ˆæœ¬ã€‚ å¥½æ¶ˆæ¯æ˜¯ï¼Œæ–°çš„Xcodeå¯ä»¥æ”¾åœ¨æ—§çš„Xcodeæ—è¾¹ï¼Œæ‚¨å‡ ä¹ä¸ä¼šæ„Ÿåˆ°ä»»ä½•ç—›è‹¦ã€‚ </p><br><p><img src="https://habrastorage.org/webt/ok/kw/ac/okkwac7t5ixcifx8ac1pc85mgny.jpeg"></p><br><p> æ‚¨å¯ä»¥ä»â€œ <code>Applications</code>éƒ¨åˆ†ä¸­çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é“¾æ¥</a>ä¸‹è½½å®ƒã€‚ </p><br><p> ä½¿ç”¨<code>SwiftUI</code>æ—¶ï¼Œæ‚¨å¯èƒ½å·²ç»çœ‹åˆ°äº†å®æ—¶é¢„è§ˆã€‚ è¦æ¿€æ´»å®ƒä»¥åŠä¸€äº›ä¸Šä¸‹æ–‡èœå•ï¼Œæ‚¨éœ€è¦å®‰è£…beta <code>macOS Catalina</code> ã€‚ å®ƒä¸ä¼šæ²¡æœ‰ç—›è‹¦ã€‚ æˆ‘æ²¡æœ‰æ‰“èµŒï¼Œæ‰€ä»¥æˆ‘å°†ä»¥è€å¼çš„æ–¹å¼è¿è¡Œæ¨¡æ‹Ÿå™¨ã€‚ </p><a name="habracut"></a><br><h2 id="novyy-proekt"> æ–°é¡¹ç›® </h2><br><p> åˆ›å»ºå¸¦æœ‰é™„åŠ å¤é€‰æ ‡è®°çš„<code>Single View Application</code> <code>SwiftUI</code> ï¼š </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nn/-j/bo/nn-jbo8z2nz4gbdteqzrbawnovg.png" width="400"></div><br><p> è½¬åˆ°<em>ContentView.swift</em>æ–‡ä»¶ã€‚  <code>PreviewProvider</code>çš„ç»§æ‰¿äººè´Ÿè´£é¢„è§ˆã€‚ ç”±äºæˆ‘ä»¬å°†ä¸ä½¿ç”¨å®ƒï¼Œå› æ­¤å°†ä¿ç•™æœ€å°‘çš„å¿…è¦ä»£ç ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SwiftUI struct ContentView: View { var body: some View { } }</code> </pre> <br><p> æˆ‘å¸Œæœ›å·²ç»å¯¹<code>SwiftUI</code>æœ‰äº†ä¸€ä¸ªå…±è¯†ï¼Œæˆ‘ä»¬ä¸ä¼š<code>SwiftUI</code>çç¢çš„<code>SwiftUI</code> ã€‚ </p><br><h2 id="kartochki"> å¡ç‰‡ </h2><br><p> å¡æ˜¯ä¸€å¼ ä¸€å¼ åœ°æ’åˆ—çš„ï¼Œå› æ­¤æˆ‘ä»¬å°†ä½¿ç”¨<code>ZStack</code> ã€‚ è®©æˆ‘æé†’æ‚¨ï¼Œè¿˜æœ‰ä¸¤ä¸ªç”¨äºåˆ†ç»„å…ƒç´ çš„é€‰é¡¹ï¼šæ°´å¹³çš„<code>VStack</code>å’Œå‚ç›´çš„<code>VStack</code> ã€‚ ä¸ºäº†æ¸…æ¥šèµ·è§ï¼š </p><br><p><img src="https://habrastorage.org/webt/eb/ug/kh/ebugkhywqk7afzrrfpvkxhf7zls.jpeg"></p><br><p> æ·»åŠ ç¬¬ä¸€å¼ å¡ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">ZStack</span></span> { <span class="hljs-type"><span class="hljs-type">Rectangle</span></span>() .fill(<span class="hljs-type"><span class="hljs-type">Color</span></span>.black) .frame(height: <span class="hljs-number"><span class="hljs-number">230</span></span>) .cornerRadius(<span class="hljs-number"><span class="hljs-number">10</span></span>) .padding(<span class="hljs-number"><span class="hljs-number">16</span></span>) } } }</code> </pre><br><p> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªçŸ©å½¢ï¼Œæ¶‚æˆé»‘è‰²ï¼Œé«˜åº¦ä¸º<code>230pt</code> ï¼Œå°†è¾¹ç¼˜å››èˆäº”å…¥ä¸º<code>10pt</code> ï¼Œå¹¶å°†æ‰€æœ‰è¾¹è·è®¾ç½®ä¸º<code>16pt</code> ã€‚ </p><br><p> å¡ä¸­çš„æ–‡æœ¬åœ¨çŸ©å½¢ä¹‹åæ·»åŠ åˆ°<code>ZStack</code>å—ä¸­ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">Text</span></span>(<span class="hljs-string"><span class="hljs-string">"Main Card"</span></span>) .color(.white) .font(.title) .bold()</code> </pre> <br><p> è¿è¡Œé¡¹ç›®ä»¥æŸ¥çœ‹ä¸­é—´ç»“æœï¼š </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yn/01/q1/yn01q1qezaczfhvyg9n443h6izi.png" width="300"></div><br><h3 id="no-ih-zhe-tri"> ä½†æ˜¯æœ‰ä¸‰ä¸ªï¼ </h3><br><p><img src="https://habrastorage.org/webt/o-/oj/lf/o-ojlfpexsjn6_dqkitq2yccu5s.jpeg"></p><br><p> ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å°†<code>MainCard</code>ä»£ç ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainCard</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> title: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">ZStack</span></span> { <span class="hljs-type"><span class="hljs-type">Rectangle</span></span>() .fill(<span class="hljs-type"><span class="hljs-type">Color</span></span>.black) .frame(height: <span class="hljs-number"><span class="hljs-number">230</span></span>) .cornerRadius(<span class="hljs-number"><span class="hljs-number">10</span></span>) .padding(<span class="hljs-number"><span class="hljs-number">16</span></span>) <span class="hljs-type"><span class="hljs-type">Text</span></span>(title) .color(.white) .font(.largeTitle) .bold() } } }</code> </pre> <br><p>  <code>title</code>å°†å‡ºç°åœ¨åˆå§‹åŒ–å™¨ä¸­ã€‚ æ­¤æ–‡å­—å°†æ˜¾ç¤ºåœ¨å¡ç‰‡ä¸Šã€‚ å°†å¡æ·»åŠ åˆ°<code>ContentView</code> ï¼ŒåŒæ—¶æˆ‘ä»¬å°†åœ¨åˆå§‹åŒ–ç¨‹åºä¸­çœ‹åˆ°ä¸€ä¸ªæ–°å‚æ•°ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">MainCard</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Main Card"</span></span>) } }</code> </pre> <br><p> æˆ‘ä»¬å·²ç»çŸ¥é“å¦‚ä½•ç¼–å†™ä»£ç ï¼Œå› æ­¤ç«‹å³ä¸ºèƒŒæ™¯å¡å®šä¹‰ä¸€ä¸ªç±»ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Card</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> title: <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-type"><span class="hljs-type">ZStack</span></span> { <span class="hljs-type"><span class="hljs-type">Rectangle</span></span>() .fill(<span class="hljs-type"><span class="hljs-type">Color</span></span>(red: <span class="hljs-number"><span class="hljs-number">68</span></span> / <span class="hljs-number"><span class="hljs-number">255</span></span>, green: <span class="hljs-number"><span class="hljs-number">41</span></span> / <span class="hljs-number"><span class="hljs-number">255</span></span>, blue: <span class="hljs-number"><span class="hljs-number">182</span></span> / <span class="hljs-number"><span class="hljs-number">255</span></span>)) .frame(height: <span class="hljs-number"><span class="hljs-number">230</span></span>) .cornerRadius(<span class="hljs-number"><span class="hljs-number">10</span></span>) .padding(<span class="hljs-number"><span class="hljs-number">16</span></span>) <span class="hljs-type"><span class="hljs-type">Text</span></span>(title) .color(.white) .font(.title) .bold() } } }</code> </pre> <br><p> ä¸ºæ–‡æœ¬è®¾ç½®ä¸åŒçš„é¢œè‰²å’Œæ ·å¼ã€‚ å…¶ä½™ä»£ç é‡å¤é»‘è‰²ä¸»<code>MainCard</code> ã€‚ å°†ä¸¤ä¸ªèƒŒæ™¯å¡æ·»åŠ åˆ°<code>ContentView</code> ã€‚ å¡æ˜¯ä¸€å¼ ä¸€å¼ åœ°æ’åˆ—çš„ï¼Œå› æ­¤æˆ‘ä»¬å°†å®ƒä»¬æ”¾ç½®åœ¨<code>ZStack</code> ã€‚  <code>ContentView</code>ä»£ç ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContentView</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body: some <span class="hljs-type"><span class="hljs-type">View</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">ZStack</span></span> { <span class="hljs-type"><span class="hljs-type">Card</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Third card"</span></span>) <span class="hljs-type"><span class="hljs-type">Card</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Second Card"</span></span>) <span class="hljs-type"><span class="hljs-type">MainCard</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Main Card"</span></span>) } } }</code> </pre> <br><p> èƒŒæ™¯å¡ä½äºé»‘è‰²ä¸‹æ–¹ï¼Œè‡³ä»Šå°šä¸å¯è§ã€‚ ä»è¾¹ç¼˜æ·»åŠ å‘ä¸Šåç§»å’Œå¡«å……ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">Card</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Third card"</span></span>) .blendMode(.hardLight) .padding(<span class="hljs-number"><span class="hljs-number">64</span></span>) .padding(.bottom, <span class="hljs-number"><span class="hljs-number">64</span></span>) <span class="hljs-type"><span class="hljs-type">Card</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Second Card"</span></span>) .blendMode(.hardLight) .padding(<span class="hljs-number"><span class="hljs-number">32</span></span>) .padding(.bottom, <span class="hljs-number"><span class="hljs-number">32</span></span>) <span class="hljs-type"><span class="hljs-type">MainCard</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Main Card"</span></span>)</code> </pre> <br><p> ç°åœ¨ï¼Œç»“æœç±»ä¼¼äºæœ¬æ•™ç¨‹å¼€å§‹æ—¶çš„å£°æ˜ï¼š </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uq/b6/qg/uqb6qgad9q6krxyrpqaf8nc_iia.jpeg" width="300"></div><br><p> è®©æˆ‘ä»¬ç»§ç»­è¿›è¡Œæ‰‹åŠ¿ï¼Œå¹¶åŒæ—¶è¿›è¡ŒåŠ¨ç”»ã€‚ </p><br><h2 id="zhesty"> æ‰‹åŠ¿ </h2><br><p> æ‰‹åŠ¿çš„å®æ–½æ–¹å¼å°†è¿«ä½¿æˆ‘å‡å°‘ä¸šåŠ›å¹¶ç•™ä¸‹æœ‰å®³çš„è¯„è®ºã€‚ </p><br><p><img src="https://habrastorage.org/webt/mb/u1/qq/mbu1qqmlmcflklw2bn-xptbw274.png"></p><br><p> åœ¨æŸ¥çœ‹ä»£ç ä¹‹å‰ï¼Œè¯·æ³¨æ„-ä½œä¸ºç¤ºä¾‹ï¼Œå®ƒåœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">developer.apple.com</a>ä¸Šåˆ—å‡ºã€‚ ç¬¬ä¸€å°è±¡æ˜¯æ¬ºéª—æ€§çš„ï¼Œå®é™…ä¸Šæˆ‘å–œæ¬¢å®ƒã€‚ </p><br><p> åœ¨<code>ContentView</code>å£°æ˜æšä¸¾ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DragState</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> inactive <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> dragging(translation: <span class="hljs-type"><span class="hljs-type">CGSize</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> translation: <span class="hljs-type"><span class="hljs-type">CGSize</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .inactive: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .zero <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .dragging(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> translation): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> translation } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isActive: <span class="hljs-type"><span class="hljs-type">Bool</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .inactive: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .dragging: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> } } }</code> </pre> <br><p>  <code>DragState</code>å°†ä½¿æ‰‹åŠ¿å·¥ä½œæ›´åŠ èˆ’é€‚ã€‚ å°†dragState <code>dragState</code>æ·»åŠ åˆ°<code>ContentView</code> ï¼š </p><br><pre> <code class="swift hljs">@<span class="hljs-type"><span class="hljs-type">GestureState</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dragState = <span class="hljs-type"><span class="hljs-type">DragState</span></span>.inactive</code> </pre> <br><p> ä¼šæœ‰é­”æœ¯ã€‚ </p><br><img src="https://habrastorage.org/webt/59/da/14/59da14453ab20415078346.jpeg"><br><p> æ— è®ºåœ¨ä½•å¤„ä½¿ç”¨<code>dragState</code> ï¼Œæ–°å€¼éƒ½å°†è‡ªåŠ¨åº”ç”¨ã€‚ å£°æ˜ä¸€ä¸ªæ‰‹åŠ¿ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> dragGester = <span class="hljs-type"><span class="hljs-type">DragGesture</span></span>() .updating($dragState) { (value, state, transaction) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> state = .dragging(translation: value.translation) }</code> </pre> <br><p> å‘ä¸»å¡æ·»åŠ æ‰‹åŠ¿å¹¶è®¾ç½®<code>offset</code> ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">MainCard</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Main Card"</span></span>) .offset( x: dragState.translation.width, y: dragState.translation.height ) .gesture(dragGester)</code> </pre> <br><p> åç§»é‡æ˜¯å¦ç­‰äºè®¿é—®å‚æ•°æ—¶çš„å€¼ï¼Ÿ ä¸ï¼Œå®ƒå°†<strong>æ°¸è¿œç›¸ç­‰</strong> ã€‚ è¿™æ˜¯é­”æœ¯ã€‚ </p><br><p> å¡å°†è·Ÿéš <del> ç”¨æ‰‹æŒ‡ </del> ç”¨é¼ æ ‡ä½†æ²¡æœ‰åŠ¨ç”»ï¼š </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/h8/zd/ht/h8zdhtwvdulqdsmvldvqlqmzfaw.gif" width="280"></div><br><p> èƒŒæ™¯å¡è¿˜åº”è¯¥æ›´æ”¹å…¶ä½ç½®ï¼ˆ <em>è‡³å°‘æˆ‘ä»¬éœ€è¦è¿™æ ·åš</em> ï¼‰ã€‚ ä¸ºä»–ä»¬æ·»åŠ ä¸æ‰‹åŠ¿çŠ¶æ€ç›¸å…³çš„ä»£ç ã€‚  <code>rotation3DEffect</code>å°†æ—‹è½¬å¡ï¼Œç›´åˆ°æ‰‹åŠ¿å˜ä¸ºæ´»åŠ¨çŠ¶æ€ï¼š </p><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">Card</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Third card"</span></span>) .rotation3DEffect(<span class="hljs-type"><span class="hljs-type">Angle</span></span>(degrees: dragState.isActive ? <span class="hljs-number"><span class="hljs-number">0</span></span> : <span class="hljs-number"><span class="hljs-number">60</span></span>), axis: (x: <span class="hljs-number"><span class="hljs-number">10.0</span></span>, y: <span class="hljs-number"><span class="hljs-number">10.0</span></span>, z: <span class="hljs-number"><span class="hljs-number">10.0</span></span>)) .blendMode(.hardLight) .padding(dragState.isActive ? <span class="hljs-number"><span class="hljs-number">32</span></span> : <span class="hljs-number"><span class="hljs-number">64</span></span>) .padding(.bottom, dragState.isActive ? <span class="hljs-number"><span class="hljs-number">32</span></span> : <span class="hljs-number"><span class="hljs-number">64</span></span>) <span class="hljs-type"><span class="hljs-type">Card</span></span>(title: <span class="hljs-string"><span class="hljs-string">"Second Card"</span></span>) .rotation3DEffect(<span class="hljs-type"><span class="hljs-type">Angle</span></span>(degrees: dragState.isActive ? <span class="hljs-number"><span class="hljs-number">0</span></span> : <span class="hljs-number"><span class="hljs-number">30</span></span>), axis: (x: <span class="hljs-number"><span class="hljs-number">10.0</span></span>, y: <span class="hljs-number"><span class="hljs-number">10.0</span></span>, z: <span class="hljs-number"><span class="hljs-number">10.0</span></span>)) .blendMode(.hardLight) .padding(dragState.isActive ? <span class="hljs-number"><span class="hljs-number">16</span></span> : <span class="hljs-number"><span class="hljs-number">32</span></span>) .padding(.bottom, dragState.isActive ? <span class="hljs-number"><span class="hljs-number">0</span></span> : <span class="hljs-number"><span class="hljs-number">32</span></span>)</code> </pre> <br><p> æ‚¨è¿˜å¯ä»¥å¦‚ä½•ä½¿ç”¨3Då‘¢ï¼Ÿ æˆ‘è¿˜æ·»åŠ äº†<code>blendMode</code> ã€‚ è¿™äº›æ¨¡å¼ç±»ä¼¼äºPhotoshopå’ŒSketchä¸­çš„å·¥å…·ã€‚ </p><br><p> å°½ç®¡æ›´æ”¹æœªåº”ç”¨åŠ¨ç”»ï¼Œä½†è®©æˆ‘ä»¬å¯¹å…¶è¿›è¡Œä¿®å¤ã€‚ </p><br><h2 id="animaciya"> åŠ¨ç”»åˆ¶ä½œ </h2><br><p> æ‚¨ä¼šæƒŠè®¶å®ƒæ˜¯å¦‚æ­¤ç®€å•ã€‚ åªéœ€æ·»åŠ ä¸€è¡Œï¼š </p><br><pre> <code class="swift hljs">.animation(.spring())</code> </pre> <br><p> ä¸ºæ¯å¼ å¡æ·»åŠ ã€‚ ç°åœ¨ï¼Œæ‰€æœ‰æ›´æ”¹éƒ½å°†ä»¥åŠ¨ç”»æ–¹å¼åº”ç”¨ï¼Œåœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œè¿™äº›æ˜¯ç¼©è¿›å¤§å°ï¼Œ3Dæ—‹è½¬å’Œ<code>offset</code> ã€‚ å¦‚æœéœ€è¦å¸¦æœ‰æ›²çº¿çš„åŠ¨ç”»ï¼Œè¯·ä½¿ç”¨<code>basic</code>æ¨¡å¼ã€‚ </p><br><h2 id="ukrashatelstva"> è£…é¥°ç‰© </h2><br><p> æ·»åŠ ä¸åç§»é‡ç›¸å…³çš„ä¸»è§†å›¾çš„é˜´å½±å’Œæ—‹è½¬ï¼š </p><br><pre> <code class="swift hljs">.rotationEffect(<span class="hljs-type"><span class="hljs-type">Angle</span></span>(degrees: <span class="hljs-type"><span class="hljs-type">Double</span></span>(dragState.translation.width / <span class="hljs-number"><span class="hljs-number">10</span></span>))) .shadow(radius: dragState.isActive ? <span class="hljs-number"><span class="hljs-number">8</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br><p> å¦‚æœæ‚¨è¿è¡Œè¯¥é¡¹ç›®ï¼Œæ‚¨å°†åœ¨æœ¬æ•™ç¨‹çš„å¼€å¤´çœ‹åˆ°å‚è€ƒã€‚ æ‰“å¼€é¢„è§ˆä¸å¯è§ï¼Œå°†å¡æ‹‰åˆ°ä¸€è¾¹ä»¥æŸ¥çœ‹æ•ˆæœã€‚ </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xh/3t/eq/xh3teq68fx1bujdlsgpon4jtijo.gif" width="280"></div><br><h2 id="dlya-ischuschih"> å¯¹äºå¯»æ±‚è€… </h2><br><p>  â†’å¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨å­˜å‚¨åº“ä¸­</a>æ‰¾åˆ°é¡¹ç›®ä»£ç  </p><br><p> å°†æ–‡ä»¶å¤åˆ¶åˆ°é¡¹ç›®å°±è¶³å¤Ÿäº†ï¼Œä¸éœ€è¦å…¶ä»–è®¾ç½®ã€‚ ä¸è¦æ‹…å¿ƒï¼Œå¾ˆå°‘çš„ä»£ç æ˜¯<code>SwiftUI</code> ã€‚ </p><br><p> å¦‚æœæ‚¨æ›´æ–¹ä¾¿è§‚çœ‹è§†é¢‘ï¼Œè¯·çœ‹ä¸€ä¸‹æ•™ç¨‹ã€‚ é¡ºä¾¿è¯´ä¸€å¥ï¼Œåœ¨è§†é¢‘ä¸­ï¼Œæˆ‘ä½¿ç”¨äº†å®æ—¶é¢„è§ˆã€‚ </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/S9DOdX178ms" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN456936/">https://habr.com/ru/post/zh-CN456936/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN456922/index.html">å¤„ç†å™¨çš„è®¾è®¡å’Œåˆ¶é€ æ–¹å¼ï¼šè®¡ç®—æœºä½“ç³»ç»“æ„çš„åŸºç¡€</a></li>
<li><a href="../zh-CN456926/index.html">æˆ‘ä»¬å¦‚ä½•åšSportmaster</a></li>
<li><a href="../zh-CN456928/index.html">JMeter-ç‘å£«æµ‹è¯•ä»ªåˆ€ï¼ˆç¬¬1éƒ¨åˆ†ï¼‰</a></li>
<li><a href="../zh-CN456930/index.html">å°†ç‰©è”ç½‘å¸¦ç»™å¤§ä¼—ï¼šGeekBrainså’ŒRostelecomçš„é¦–æ¬¡ç‰©è”ç½‘é»‘å®¢é©¬æ‹‰æ¾çš„æˆæœ</a></li>
<li><a href="../zh-CN456932/index.html">è¶…ç°ä»£çš„OpenGLã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN456938/index.html">åœ¨ä¸œäº¬å¯åŠ¨å‡ºç§Ÿè½¦å«è½¦åº”ç”¨ç¨‹åºï¼šç´¢å°¼å¦‚ä½•ä¸S. Rideé…åˆä½¿ç”¨ï¼Ÿ</a></li>
<li><a href="../zh-CN456942/index.html">æœŸé™ä¼—å¤šæˆ–åˆ†æçš„å¹¿æ³›ä½¿ç”¨</a></li>
<li><a href="../zh-CN456944/index.html">3ä¸ªåœ¨JavaScriptä¸­ä½¿ç”¨è§£æ„çš„å®é™…ç¤ºä¾‹</a></li>
<li><a href="../zh-CN456946/index.html">ç”¨äºKubernetesç®¡ç†çš„Grafanaé¢æ¿</a></li>
<li><a href="../zh-CN456948/index.html">IBç»„ç½‘ç»œç ”è®¨ä¼š6æœˆ27æ—¥ï¼Œâ€œæŠ—å‡»ç¤¾ä¼šå·¥ç¨‹æ”»å‡»ï¼šå¦‚ä½•è¯†åˆ«å’Œé˜²å¾¡é»‘å®¢çš„è¯¡è®¡ï¼Ÿâ€</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>