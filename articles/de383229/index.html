<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤲🏾 🤚🏼 👆🏼 Doppelklick-Syndrom behandeln 🦔 ♉️ 🌗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es war einmal eine Maus, und sie hieß Defender MM-525. Sie zog beharrlich an ihrem Mausgurt - klickte auf Links, scrollte durch die Seiten und bewegte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Doppelklick-Syndrom behandeln</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/383229/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es war einmal eine Maus, und sie hieß Defender MM-525. </font><font style="vertical-align: inherit;">Sie zog beharrlich an ihrem Mausgurt - klickte auf Links, scrollte durch die Seiten und bewegte den Cursor. </font><font style="vertical-align: inherit;">Aber sobald ein Unglück passierte - statt eines Klicks begann sie zwei oder sogar mehr zu tun. </font><font style="vertical-align: inherit;">Manchmal möchten Sie ein Video auf YouTube anhalten - stattdessen wird es im Vollbildmodus geöffnet. </font><font style="vertical-align: inherit;">Oder Sie wählen den Text aus - und im letzten Moment wird die Auswahl zurückgesetzt. </font><font style="vertical-align: inherit;">Es ist klar, dass dies nicht weitergehen konnte.</font></font><br>
<br>
<img src="https://habrastorage.org/files/1dc/276/7e1/1dc2767e1c954be5aad9ef7aa08705fc.JPG"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist zu tun? </font><font style="vertical-align: inherit;">Das Internet bietet folgende Möglichkeiten:</font></font><br>
<br>
<ul>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>    .     ,     ,      Windows,      .</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>.</li>
<li> -    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>.      —   .</li>
<li>      .    ,     . </li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber meine Freude war nur von kurzer Dauer - einige Tage später kehrte ein Doppelklick zurück. Porakinin Gehirn entschied ich, dass es sich um mechanische Vibrationen handelte, und klebte ein dickes Klebeband unter den Knopf. Und wieder hat es nur ein paar Tage geholfen. Es wurde klar, dass eine radikale Lösung gesucht werden muss. Und dafür müssen Sie zuerst verstehen, was passiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie werden Tasten normalerweise in der digitalen Elektronik hergestellt? Etwa so: </font><font style="vertical-align: inherit;">
Oben ist Strom, unten ist Masse, rechts ist ein Draht zum Prozessoreingang. Und am Eingang hat er ein Gate eines Feldeffekttransistors. In unserem Fall können wir davon ausgehen, dass dies einfach ein idealer Spannungsmesser ist. Die Spannung ist größer als die angegebene - dies bedeutet, dass der Prozessor zu dem Schluss kommt, dass sie am Eingang eins ist und wenn sie kleiner ist, dann null.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/getpro/geektimes/post_images/1bb/470/763/1bb470763f5b32e0239f9dfd4c165786.gif" alt="Bild"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Prozessoreingang jedoch perfekt ist, kann der Schalter nicht bei allem Respekt als solcher betrachtet werden. Wenn der Schalter schließt, bedeutet dies, dass ein Metallstück mit einem anderen Metallstück in Kontakt steht. Aber zwischen den Zuständen „Aus“ und „Ein“ gibt es diesen unangenehmen Moment, in dem sich diese beiden Teile kaum berühren. Und wenn jetzt Kontakt besteht, kann dieser in einer Mikrosekunde verschwinden und sich dann wieder erholen. Und manchmal trifft sogar ein Kontakt einen anderen und prallt nach Newtons Gesetzen von ihm ab oder sogar mehrmals. Was wird </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mama</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prozessor </font><font style="vertical-align: inherit;">denken </font><font style="vertical-align: inherit;">? Das ist richtig - er wird denken, dass der Schalter eingeschaltet, ausgeschaltet, eingeschaltet, ausgeschaltet, eingeschaltet, ausgeschaltet usw. war. Obwohl "tatsächlich" er nur einmal eingeschaltet wurde. Dieses Phänomen hat sogar seinen Namen - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kontaktsprung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warten Sie, erinnert es Sie nicht an irgendetwas? Oh ja, ein ähnlicher Vorfall ist gerade mit unserer Maus passiert! Unsere Arbeitshypothese lautet also, dass sich die Entwickler der Maus entweder überhaupt nicht an die Möglichkeit eines Abpralls erinnerten oder dass ihre Bemühungen, sie zu bekämpfen, vergeblich waren. Und wir müssen diesen Feind für sie kämpfen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir stellen zwei Dinge fest. Erstens ist unsere Klickgeschwindigkeit begrenzt. Es ist unwahrscheinlich, dass wir mehr als zehn Mal pro Sekunde mit der Maus klicken. Zweitens versuchen die Schalter, den Moment des Abpralls so schnell wie möglich zu vergehen, und sicherlich hat die Maustaste in einer Zehntelsekunde Zeit, sich zu beruhigen. Unsere Aufgabe ist es daher, hochfrequente Klicks von niederfrequenten zu trennen, dh wir benötigen einen Tiefpassfilter. Der einfachste Weg, dies zu tun, ist das Löten des Kondensators: </font></font><br>
<br>
<img src="https://habrastorage.org/files/77a/c05/039/77ac05039740492a96960f720e2c1519.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das werden wir tun.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist es - unser Knopf: </font></font><br>
<br>
<img src="https://habrastorage.org/files/883/05a/eea/88305aeeab36434ea136b2d52a7e8a25.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und es ist das gleiche, aber ohne Abdeckung: Wir </font></font><br>
<br>
<img src="https://habrastorage.org/files/c7f/9ad/ba5/c7f9adba57834bd39cab5cc83b0fefb6.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
unterschreiben die Kontaktnummern der Einfachheit halber: </font></font><br>
<br>
<img src="https://habrastorage.org/files/384/578/f43/384578f43d8e4d45a516773fff6bbfbb.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Funktionsprinzip ist offensichtlich - im Ruhezustand sind die Kontakte 1 und 3 geschlossen, wenn Sie den Knopf für eine Weile drücken, öffnen sich alle Kontakte und dann die Kontakte 1 und 2. Beim Drücken geschieht dasselbe in umgekehrter Reihenfolge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben den Knopf nicht geöffnet, um etwas zu biegen, sondern um aus erster Hand zu sehen, wie es funktioniert, und wenn wir Glück haben, schauen wir uns den Sprung an. Die Samsung WB2000-Kamera und das I96U-Objektiv helfen uns dabei. Das erwähnte Gerät kann Videos mit einer Frequenz von 1000 Bildern pro Sekunde aufnehmen. Richtig, nicht so heiß wie, aber wie gesagt, als reich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das schwierigste Setup für Hochgeschwindigkeitsaufnahmen: </font></font><br>
<br>
<img src="https://habrastorage.org/files/3bb/f5e/f11/3bbf5ef114664ac4a231b3f44aa47693.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und tatsächlich der Film:</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://www.youtube.com/embed/x_iqFVbtd50%3Ffeature%3Doembed&amp;usg=ALkJrhiHMchQNBIe_Ux-SzIWFRKFrWBtsA" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen können, schafft es der Kontakt, die vorgeschriebene Entfernung in fünf Bildern (z. B. 5 Millisekunden) zu fliegen, und es wird kein sichtbarer Sprung beobachtet. Vielleicht war der Sprung auf dem Oszillogramm zu sehen, aber leider fiel mir ein, dass ich nur dann ein Oszilloskop hatte, wenn die Maus bereits zusammengebaut war. Auf die eine oder andere Weise ist jedoch klar, dass die charakteristische Absprungzeit deutlich kürzer als die minimale Klickzeit ist und dass die Grenze zwischen ihnen ungefähr fünf Millisekunden beträgt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lyrischer Exkurs. Wie würde ich eine Maus herstellen, wenn ich einen Schalter des obigen Designs hätte? Aber so:</font></font><br>
<br>
<img src="https://habrastorage.org/files/1d6/057/c6c/1d6057c6c0a6470d97bc15c08e94c7ee.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Billig und fröhlich. Der Prozessoreingang ist nicht nur ein ideales Voltmeter, sondern auch ein Kondensator mit mehreren Picofarad. In diesen Millisekunden hat die Spannung keine Zeit, sich merklich zu ändern, bis ein Kontakt vom zweiten zum dritten fliegt. Wenn sie ankommt, lädt sich der Kondensator auf, und selbst wenn der Kontakt springt, kann er sich nicht entladen, sodass es nicht zu einem Sprung kommt. Nun, es sei denn, er springt zum Gegenkontakt, aber wie wir gesehen haben, ist dies eine äußerst unwahrscheinliche Situation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber die tapferen Mausentwickler suchen, wie wir sehen werden, nicht nach einfachen Wegen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir messen unseren Schalter mit einem Multimeter. Erstens stellen wir fest, dass keiner der Kontakte kurzgeschlossen ist. Wie auch immer. Im Ruhezustand beim zweiten Kontakt 2,5 Volt Leistung, im Ruhezustand Null. Im gedrückten Zustand haben alle Kontakte Null. Dies deutet darauf hin, dass die Entwickler meinem Pfad nicht gefolgt sind und der zweite Kontakt anscheinend als Eingabe für den Prozessor dient und der dritte Kontakt überhaupt nicht verwendet wird. Aber das Lustige ist - nach dem Drücken der Taste bleibt beim zweiten Kontakt noch fünf Sekunden lang Null! Leider bleiben mir der Arbeitsmechanismus und die Vorteile einer solchen Lösung sowie die Motivation der Entwickler ein Rätsel. Ich hoffe, jemand von sachkundigen Leuten erleuchtet mich.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somit bricht unser gesamtes kohärentes Schema des Umgangs mit Bounce an einer leeren Wand des Missverständnisses moderner Schaltungslösungen. Aber hören Sie in der Tat nicht auf, wenn die Sache fast erledigt ist. Also werden wir ohne Verständnis löten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden den Kondensator zwischen den Kontakten 1 und 2 löten. Um den Effekt zu messen, verwenden wir ein Skript wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dieses</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das leicht korrigiert wird, sodass es sowohl auf das Drücken als auch auf das Drücken einer Taste reagiert und künstliche Zeitlimits entfernt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein 0,1 μF Kondensator ergibt eine Klickzeit von 600 ms. Das heißt, egal wie schnell wir stechen, der Knopf wird nicht früher als 0,6 Sekunden "herausragen". Das ist ein bisschen viel. Bei Verwendung der linearen Extrapolationsmethode nehmen wir an, dass 3,3 nF eine Zeit von 20 ms ergibt. Wir löten - und wir sehen eine Zeit von ungefähr 100 ms. Diese Zeit schließt aber auch die Zeit der Bewegung des Fingers selbst ein, und ohne Kondensator ist sie nicht viel kürzer. Nachdem ich ein paar weitere Stückelungen ausprobiert hatte, beschloss ich, bei 3,3 nF anzuhalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da es keine SMD-Kondensatoren gab, musste ich einen mit großen Beinen löten: </font></font><br>
<br>
<img src="https://habrastorage.org/files/347/540/9ad/3475409ade36477c99072f4f9068103d.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist eigentlich alles. Die Maus wurde erfolgreich zusammengebaut und setzt ihren einfachen, aber verantwortungsvollen Service fort. Ich hoffe, dass das obige Rezept nicht nur für meine Maus nützlich ist. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe ganz vergessen. Es gibt eine weitere Geißel von Maustasten, die erst in der Diskussion auftauchten, als ich mich erinnerte. Es fühlt sich so an - Sie müssen den Knopf mit mehr Kraft drücken, der Klick ist nicht mehr so ​​deutlich wie zuvor und manchmal sendet der Knopf ein Signal zum Loslassen, während er gedrückt wird. Es gibt jedoch nur eine Lösung: Der Kunststoff, der den Schalter drückt, kann mit der Zeit gelöscht werden. Dann bildet sich eine so schöne Vertiefung, dass der Knopf nicht vollständig gedrückt werden kann. Es wird einfach behandelt: Es ist notwendig, diesen Kunststoff mit einer Feile so zu modifizieren, dass er wieder flach und parallel zum Knopf wird, oder für den gleichen Zweck dünnen flachen Kunststoff darauf zu kleben.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es mag auch scheinen, dass ich gegen Methoden bin, die „alternativ“ zu den im Artikel beschriebenen sind, aber das ist nicht so. </font><font style="vertical-align: inherit;">Aber jede Methode hat ihren eigenen Anwendungsbereich. </font><font style="vertical-align: inherit;">Wenn die Maus so eingestellt ist, dass der geringste Sprung als Klick wahrgenommen wird, werden Sie Ihre Kontakte bereinigen und / oder den Schalter jede Woche wechseln. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD2:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Es stellte sich heraus, dass nicht alles so einfach ist. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lesen Sie die Fortsetzung der Geschichte!</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de383229/">https://habr.com/ru/post/de383229/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de383219/index.html">Projekt "Auge" Teil 10</a></li>
<li><a href="../de383221/index.html">Haben wir Angst davor? Was ist jetzt gefährlicher - KI oder IoT?</a></li>
<li><a href="../de383223/index.html">Life Sciences ist das erste Unternehmen, das im Rahmen der Alphabet-Holding gegründet wurde</a></li>
<li><a href="../de383225/index.html">Ein paar lächerliche Ideen für Festplattenhersteller</a></li>
<li><a href="../de383227/index.html">Wissenschaftler machten Graphen durch Zugabe von Metallnanopartikeln zu einem Katalysator</a></li>
<li><a href="../de383231/index.html">TS-7063: Erinnern Sie sich an die 80er Jahre</a></li>
<li><a href="../de383233/index.html">Über den Atlas-Gentest: Wie, warum ist er überhaupt nicht teuer und warum sind wir besser?</a></li>
<li><a href="../de383235/index.html">Die Cassini Station überträgt hochwertige Satellitenbilder von Saturn Dione</a></li>
<li><a href="../de383237/index.html">Mega-Controller. Und leugne dir nichts</a></li>
<li><a href="../de383239/index.html">Fast lustige Weltraumunfälle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>