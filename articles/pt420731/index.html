<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê§ üîü üïØÔ∏è Zabbix em ester√≥ides: como funciona a plataforma de monitoramento unificado da Sbertech ‚òÉÔ∏è üìÄ ü§∞üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! Meu nome √© Sergey Prutskikh, sou respons√°vel pela dire√ß√£o de monitoramento da Sberbank-Technology. O principal objetivo de nossa organiza√ß√£o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zabbix em ester√≥ides: como funciona a plataforma de monitoramento unificado da Sbertech</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/420731/"> Ol√° Habr!  Meu nome √© Sergey Prutskikh, sou respons√°vel pela dire√ß√£o de monitoramento da Sberbank-Technology.  O principal objetivo de nossa organiza√ß√£o √© o desenvolvimento e teste de produtos de software para o Sberbank.  Para isso, a empresa possui uma grande infraestrutura de TI - 15 mil servidores s√£o divididos em aproximadamente 1.500 ambientes de teste, relacionados a mais de 500 sistemas automatizados.  No total, cerca de 10 mil especialistas trabalham com eles. <br><br>  Em 2015, come√ßamos a criar um servi√ßo de monitoramento centralizado.  Al√©m disso, tudo estava limitado n√£o apenas √† implementa√ß√£o.  Era necess√°rio elaborar muitos regulamentos, instru√ß√µes e o relacionamento entre as unidades da Sbertech no √¢mbito do monitoramento.  Neste post, mostrarei em detalhes como escolhemos a plataforma, em quais princ√≠pios criamos tudo e com o que acabamos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd4/b4c/166/dd4b4c166ea76bb4602de50d1267fc4f.png"><br><a name="habracut"></a><br><h3>  Os principais objetivos e ideologia do projeto </h3><br>  Aqui est√£o os objetivos que buscamos no projeto: <br><br><ul><li>  Obten√ß√£o de dados confi√°veis ‚Äã‚Äãsobre o tamanho e a composi√ß√£o da infraestrutura de TI; <br></li><li>  Otimiza√ß√£o do uso de instala√ß√µes de TI; <br></li><li>  Reduzir os custos de suporte e opera√ß√£o da infraestrutura de TI dos ambientes de desenvolvimento e teste; <br></li><li>  Suporte √† infraestrutura de TI, pronta para desenvolvimento e teste; <br></li><li>  Avisar os especialistas sobre problemas no trabalho em ambientes de teste; <br></li><li>  Auditar a conformidade de ambientes de teste e AFMs industriais n√£o √© uma tarefa muito t√≠pica para n√≥s; <br></li><li>  Coleta de dados para relat√≥rios sobre os resultados dos testes, fornecendo a medi√ß√£o de par√¢metros cr√≠ticos em todas as etapas do teste. <br></li></ul><br>  Olhando para o futuro, posso dizer que todos os objetivos, em um grau ou outro, j√° foram cumpridos at√© o momento.  E alguns problemas relacionados, o monitoramento tamb√©m ajudou a resolver. <br><br>  Al√©m das metas, formulamos princ√≠pios, uma ideologia, √† qual aderimos ao longo do projeto: <br><br><ul><li>  A satisfa√ß√£o do usu√°rio √© um dos principais indicadores de monitoramento.  Na confer√™ncia ITSMf 2017, falei sobre o monitoramento da infraestrutura de TI, e o quinto N√ÉO est√° nesse relat√≥rio: "N√ÉO force os funcion√°rios a trabalhar com o sistema de monitoramento".  O objetivo √© motivar, n√£o obrigar.  Isso √© alcan√ßado por meio de KPIs criados corretamente.  No in√≠cio do servi√ßo, esses KPIs ainda n√£o podem aparecer.  No entanto, √© muito importante, desde os primeiros dias de monitoramento, come√ßar a beneficiar potenciais clientes. <br></li><li>  Tempo m√≠nimo para refinamento.  Para isso, usamos elementos √°geis.  Eles ajudam a fornecer novos recursos o mais r√°pido poss√≠vel e a receber feedback dos clientes. <br></li><li>  A abertura do sistema, tanto para melhorias, que √© expressa na cria√ß√£o de um √∫nico atraso, solicita√ß√µes nas quais qualquer funcion√°rio pode escrever e em termos de fornecimento de informa√ß√µes - nosso servi√ßo permite obter informa√ß√µes sobre a configura√ß√£o de monitoramento, que geralmente √© oculta. <br></li><li>  Alto grau de integra√ß√£o no trabalho di√°rio.  Nossa prioridade √© implementar a funcionalidade que os usu√°rios precisam diariamente.  Isso ajudou em um tempo relativamente curto a popularizar o servi√ßo de monitoramento dentro da empresa. <br></li></ul><br><h3>  A escolha do sistema de monitoramento </h3><br>  Em quase todos os projetos em que participei, mais cedo ou mais tarde uma tabela apareceu comparando a funcionalidade de v√°rios sistemas, nos quais um determinado sistema recebeu uma vantagem √≥bvia. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/23b/af4/364/23baf43643a36a9c93588c19ca2d7f19.png"><br><br>  Na minha opini√£o, essa an√°lise comparativa <b>n√£o pode ser</b> feita antes do in√≠cio imediato do trabalho com o servi√ßo de monitoramento e, mais ainda, n√£o vale a pena tomar uma decis√£o sobre a escolha de uma ou outra solu√ß√£o com base nessa an√°lise.  Enquanto o sistema da sua empresa n√£o funcionar por pelo menos um curto per√≠odo de tempo, √© imposs√≠vel julgar sem ambiguidade quais fun√ß√µes espec√≠ficas da sua empresa estar√£o em demanda.  Essas tabelas podem ajudar se voc√™ desejar alterar o sistema de monitoramento por algum motivo. <br><br><h3>  Compara√ß√£o com outras instala√ß√µes do Zabbix </h3><br>  Voc√™ pode falar muito sobre como comparar o tamanho de v√°rias instala√ß√µes de sistemas de monitoramento, mas todas as caracter√≠sticas selecionadas para isso, na minha opini√£o, s√£o bastante subjetivas.  Para que voc√™ tenha uma id√©ia mais precisa do tamanho de nossa instala√ß√£o, decidi dar exemplos de servi√ßos semelhantes em outras empresas, sobre os quais os representantes da Zabbix falaram na confer√™ncia Highload. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/586/afa/bf5/586afabf5a7223a2fbe89cb714e3ec8e.png"><br><br>  Como voc√™ pode ver, a inst√¢ncia do Zabbix em Sbertech n√£o √© muito inferior √†s maiores instala√ß√µes e, em termos de carga total, est√° em p√© de igualdade com elas. <br><br><h3>  Benef√≠cios do Zabbix </h3><br>  No segundo semestre de 2017, realizamos um piloto do Zabbix para monitorar a infraestrutura da PROM.  Em seguida, formulamos v√°rios crit√©rios qualitativos que atribu√≠mos √†s vantagens absolutas do Zabbix: <br><br><ul><li>  <i>C√≥digo aberto</i>  Possibilidades ilimitadas para processamento e personaliza√ß√£o. <br></li><li>  <i>Abertura do mecanismo e fonte de coleta de m√©tricas.</i>  Nas solu√ß√µes empresariais comerciais, muitas m√©tricas s√£o incompreens√≠veis - v√°rias botnets, vazamentos de mem√≥ria, que nem mesmo o suporte t√©cnico do fornecedor pode explicar.  O Zabbix n√£o tem esse problema - voc√™ sempre pode dizer claramente como ele coleta determinadas m√©tricas.  Assim, a credibilidade do sistema pelos administradores do sistema aumenta. <br></li><li>  <i>Facilidade relativa de dimensionamento</i> - principalmente devido √† introdu√ß√£o de servidores proxy adicionais, para os quais voc√™ pode transferir parte da carga.  Se voc√™ atingir o limite de desempenho de uma inst√¢ncia, √© poss√≠vel aumentar a segunda e combinar as duas em um sistema de visualiza√ß√£o (Grafana). <br></li><li>  <i>API legal</i> - na minha opini√£o, essa √© uma das principais vantagens do Zabbix.  Uma API de alta qualidade, bem desenvolvida e compreens√≠vel abre enormes oportunidades para integra√ß√£o com sistemas relacionados, automa√ß√£o etc. <br></li><li>  <i>Monitorar objetos din√¢micos</i> √© um pouco, mas agrad√°vel.  No Zabbix, esse monitoramento √© simples e intuitivo, permitindo alcan√ßar bons resultados muito rapidamente.  Objetos din√¢micos s√£o todos os objetos que aparecem e desaparecem nos servidores durante a vida √∫til: sistemas de arquivos, interfaces de rede e outros.  Portanto, √© necess√°rio automatizar a configura√ß√£o e a remo√ß√£o desses objetos do monitoramento. <br></li><li>  <i>Um n√∫mero relativamente pequeno de componentes.</i>  Em solu√ß√µes comerciais, cada componente √© um subsistema separado com sua pr√≥pria base, que deve ser instalada separadamente.  E o Zabbix √© um sistema √∫nico, no qual todos os m√©todos de monitoramento est√£o concentrados de uma s√≥ vez: agente, sem agente, rede e outros - apenas 14 tipos. <br></li><li>  <i>Visualiza√ß√£o de dados com Grafana.</i>  A integra√ß√£o com o Grafana possibilita a cria√ß√£o de gr√°ficos e a cria√ß√£o de pain√©is realmente convenientes. <br></li><li>  <i>Disponibilidade de monitoramento da disponibilidade de servi√ßos de TI.</i>  O Zabbix possui um subsistema interno que pode calcular a disponibilidade de servi√ßos de TI para uso futuro no SLA. <br></li><li>  <i>A flexibilidade para criar m√©tricas e seus valores limite.</i>  Aqui, o Zabbix tem muitas oportunidades para configurar m√©tricas complexas de monitoramento: <br>  - Antes de tudo, √© a <i>cria√ß√£o de m√©tricas calculadas</i> : com base em v√°rias m√©tricas simples, uma complexa √© calculada. <br>  - o <i>pr√©</i> - <i>processamento do valor das m√©tricas</i> est√° dispon√≠vel - isto √©, por exemplo, quando voc√™ carrega uma grande matriz de dados no Zabbix e, antes de colocar uma m√©trica espec√≠fica no banco de dados, o Zabbix analisa a matriz e extrai exatamente os dados que voc√™ deseja salvar como m√©trica. . <br>  - <i>m√©tricas principais.</i>  √â poss√≠vel coletar uma matriz de dados de um objeto em uma pesquisa em uma m√©trica grande e us√°-la como fonte de dados para outras m√©tricas.  Isso permite reduzir o n√∫mero de consultas e sincronizar a cole√ß√£o de todas as m√©tricas no tempo. <br></li><li>  <i>Possibilidade de monitoramento interno.</i>  O Zabbix, como um produto de c√≥digo aberto, tem problemas de desempenho.  No entanto, um sistema de monitoramento interno bem pensado ajuda a lidar rapidamente com esses problemas. <br></li></ul><br><h3>  Desvantagens do Zabbix </h3><br>  Para ser justo, n√£o posso deixar de mencionar as principais, na minha opini√£o, as defici√™ncias do Zabbix.  Voc√™ tamb√©m pode fazer uma lista decente deles: <br><br><ul><li>  <i>Baixo grau de automa√ß√£o de back-end.</i>  Farei uma reserva que n√£o tive a oportunidade de experimentar com todas as variantes do DBMS.  Nossa empresa usa o Oracle DBMS como um back-end do Zabbix.  As opera√ß√µes em massa podem levar mais de uma hora - por exemplo, atualizando ou alterando m√©tricas, que est√£o ligadas a um grande n√∫mero de objetos (15 mil n√≥s de rede). <br></li><li>  <i>Falta de ferramentas de gerenciamento de agente de monitoramento integradas.</i>  Esses produtos est√£o dispon√≠veis em produtos comerciais.  O Zabbix ainda n√£o tem isso.  N√£o h√° sequer uma atualiza√ß√£o do kit de ferramentas para agentes.  Obviamente, tudo pode ser feito independentemente, mas seria melhor obter esses recursos imediatamente. <br></li><li>  <i>At√© o momento, baixa elabora√ß√£o do monitoramento da disponibilidade de servi√ßos de TI.</i>  √â √≥timo que haja monitoramento, mas ele precisa ser mais desenvolvido.  Agora, n√£o √© poss√≠vel, de alguma forma, restringir o acesso do usu√°rio a qualquer parte individual do modelo de recursos de servi√ßo (a seguir, CPM).  Se a √°rvore do CPM for grande, a interface da web come√ßar√° a ficar mais lenta.  E as possibilidades de personalizar o c√°lculo de disponibilidade neste subsistema ainda s√£o baixas. <br></li><li>  <i>Atualiza√ß√µes longas.</i>  A √∫ltima atualiza√ß√£o do banco de dados levou cerca de oito horas.  No momento, o servi√ßo de monitoramento n√£o estava dispon√≠vel.  Como alternativa, voc√™ pode solicitar scripts de suporte e atualizar separadamente. <br></li><li>  <i>A funcionalidade modesta do subsistema de visualiza√ß√£o interno.</i>  Grafana resolve esse problema, mas a visualiza√ß√£o integrada deixa muito a desejar. <br></li><li>  <i>Monitoramento integrado de DBMS (ODBC).</i>  O fato √© que esse monitoramento abre uma conex√£o separada para o Zabbix toda vez que a m√©trica √© pesquisada.  E se o seu banco de dados for grande (com um grande n√∫mero de m√©tricas coletadas), o conjunto de conex√µes nele poder√° ficar cheio e o banco de dados deixar√° de responder, inclusive nos sistemas de destino.  O Zabbix possui uma ferramenta de monitoramento alternativa (por exemplo, DBforBIX), mas configur√°-la para um grande n√∫mero de objetos √© uma tarefa bastante trabalhosa.  Al√©m disso, voc√™ precisa escrever uma automa√ß√£o separada. <br></li><li>  <i>Falta de flexibilidade de invent√°rio para a infraestrutura de TI.</i>  Por um lado, √© bom t√™-lo.  Por outro lado, parece uma guia separada para qualquer objeto de monitoramento no qual exista um conjunto fixo de campos de invent√°rio com nomes codificados.  Para mudar algo, voc√™ precisa entrar no c√≥digo fonte do frontend.  Tamb√©m √© imposs√≠vel alterar o n√∫mero desses campos e tamanhos - existe o risco de quebrar algo durante a pr√≥xima atualiza√ß√£o. <br></li><li>  <i>Falta de automa√ß√£o para a constru√ß√£o de mapas de rede.</i>  Para compara√ß√£o, podemos citar o HP OpenView Network Node Manager, que √© perfeitamente capaz de criar mapas de topologia de rede no modo autom√°tico.  O Zabbix ter√° que construir tudo manualmente.  Talvez, por esse motivo, essa funcionalidade praticamente n√£o seja procurada entre n√≥s. <br></li><li>  <i>Falta de flexibilidade no modelo.</i>  O Zabbix fornece apenas quatro fun√ß√µes de usu√°rio com recursos fixos.  Al√©m disso, n√£o h√° uma maneira imediata de restringir o acesso do usu√°rio √† API do Zabbix.  Ou seja, se o usu√°rio tiver acesso ao front-end, ele automaticamente ter√° acesso √† API.  Para n√≥s, isso levou ao fato de que os usu√°rios com solicita√ß√µes ineptas carregaram seriamente o sistema.  Al√©m disso, n√£o h√° como conceder acesso ao usu√°rio, por exemplo, para ler m√©tricas sem acesso, editar as configura√ß√µes do objeto de monitoramento. <br></li></ul><br><h3>  Arquitetura do sistema </h3><br>  Agora, algumas palavras sobre os indicadores quantitativos e a arquitetura do nosso sistema. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2fe/ab0/deb/2feab0debc62ff8cd2bdcb4cf902ed93.png"><br><br>  No momento, existem mais de 16 mil objetos (principalmente servidores) sob monitoramento, dos quais quase dois milh√µes e meio de m√©tricas s√£o coletadas no total.  Sua carga total no sistema √© de cerca de 19 mil valores por segundo.  Todos os objetos de monitoramento s√£o distribu√≠dos em mais de 1800 grupos de dispositivos, a grande maioria dos quais corresponde a ambientes de teste espec√≠ficos.  Atualmente, mais de 1.000 usu√°rios est√£o registrados no sistema, divididos em 365 grupos funcionais. <br><br>  Como voc√™ pode ver, prestamos muita aten√ß√£o √† distribui√ß√£o de dispositivos e usu√°rios em grupos.  Isso permite aumentar significativamente a precis√£o dos alertas de nosso servi√ßo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/731/845/a01/731845a01c910ff3960e2ed4c922790f.png"><br><br>  No total, temos tr√™s inst√¢ncias do Zabbix.  O diagrama mostra a arquitetura da maior delas, que monitora a principal infraestrutura de TI de desenvolvimento e teste.  Outra inst√¢ncia supervisiona a infraestrutura de monitoramento.  E a terceira inst√¢ncia √© usada conosco para o desenvolvimento e teste de novas ferramentas de monitoramento.  Toda a estrutura da inst√¢ncia principal √© virtualizada com base no VMWare.  Em geral, se poss√≠vel, √© melhor n√£o usar nenhum sistema de virtualiza√ß√£o, porque √© muito mais dif√≠cil pesquisar e resolver problemas de desempenho no caso de infraestrutura virtual. <br><br>  O back-end √© baseado no Oracle Active Data Guard e consiste em dois bancos de dados - o principal e a r√©plica.  Temos tr√™s frentes: <br><br><ul><li>  Para tarefas administrativas - √© configurado para executar opera√ß√µes pesadas, complexas e de longo prazo que carregam muito o servidor; <br></li><li>  Personalizado - com configura√ß√µes mais r√≠gidas que n√£o permitem que os usu√°rios sobrecarregem demais o sistema de monitoramento principal; <br></li><li>  Para gerar relat√≥rios, ele analisa a r√©plica e foi adaptado para interagir com bancos de dados somente leitura.  O Grafana est√° conectado a ele, fornecendo visualiza√ß√£o de alta qualidade dos dados de monitoramento. <br></li></ul><br><h3>  Recursos de implementa√ß√£o </h3><br>  Nesta hist√≥ria, decidi n√£o me concentrar na funcionalidade b√°sica implementada em quase todas as falhas de monitoramento - consertando, coletando informa√ß√µes sobre o desempenho ou a disponibilidade dos sistemas de TI.  Vou me concentrar nas caracter√≠sticas distintivas do nosso servi√ßo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bc2/b27/790/bc2b27790df161706cff0550fc1e2941.png"><br><br>  Esses recursos incluem principalmente um alto grau de automa√ß√£o de tarefas t√≠picas.  Praticamente n√£o gastamos tempo configurando servidores para monitoramento, fornecendo acesso aos resultados do monitoramento, mas focamos principalmente no desenvolvimento do servi√ßo e na adi√ß√£o de novos recursos n√£o padronizados.  Mais de 200 scripts de automa√ß√£o desenvolvidos a partir do momento em que o servi√ßo de monitoramento foi colocado em opera√ß√£o de teste nos ajudam muito nisso. <br><br>  Mas antes de registrar o agente no Zabbix, ele ainda precisa ser instalado.  Como escrevi acima, uma das desvantagens do Zabbix √© a falta de ferramentas de gerenciamento de agentes de monitoramento.  Portanto, para instalar agentes, organizamos uma tarefa separada como parte de nossos processos de DevOps.  A figura abaixo mostra o diagrama de instala√ß√£o do agente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af5/4de/670/af54de670af11dd04a36f77329daba5d.png"><br><br>  Temos dois pontos de entrada principais.  Esse √© um script Python - por meio da API REST, ele passa informa√ß√µes para o trabalho Jenkins sobre os hosts nos quais voc√™ deseja instalar ou atualizar o agente, uma lista de vari√°veis ‚Äã‚Äãadicionais e o nome do manual que voc√™ precisa executar no Ansible.  Ou os dados padr√£o podem vir do Bitbucket.  Mas em Jenkins, eles podem ser completamente substitu√≠dos de acordo com as vari√°veis ‚Äã‚Äãque passamos.  E isso nos ajuda, por exemplo, a atualizar agentes que s√£o monitorados por diferentes servidores proxy.  A peculiaridade do nosso processo √© que a configura√ß√£o do agente Zabbix √© formada quase em movimento. <br><br><h3>  Relat√≥rios </h3><br>  J√° no in√≠cio do projeto, ficou claro que as ferramentas de relat√≥rio padr√£o fornecidas pelas ferramentas do Zabbix n√£o nos permitiam atender a todas as nossas necessidades.  Nesse sentido, com base na arquitetura de microsservi√ßo, foi implementado um subsistema de gera√ß√£o de relat√≥rios separado, que expande significativamente os recursos dos relat√≥rios b√°sicos de monitoramento.  Agora, temos mais de vinte relat√≥rios em opera√ß√£o.  Aqui est√£o alguns exemplos, juntamente com os objetivos que est√£o sendo implementados: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f10/a40/5a1/f10a405a1802e8555f1c16b4ecfdce8b.png"><br><br><h3>  Alertas </h3><br>  Durante todo o trabalho do servi√ßo, os alertas por email evolu√≠ram.  Aqui est√° a apar√™ncia deles no momento: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe3/3af/fa3/fe33affa3c0b96a53dfb61512014ebdc.png"><br><br>  H√° informa√ß√µes sobre o problema e seu status, bem como sobre o objeto de monitoramento.  Existem links para m√©tricas e eventos relacionados, um campo para descrever o problema, links para instru√ß√µes e um formul√°rio de feedback.  Para acidentes mais cr√≠ticos, √© claro, tamb√©m temos uma distribui√ß√£o de SMS. <br><br>  Esses alertas informativos nos permitiram minimizar a comunica√ß√£o da maioria de nossos usu√°rios com o pr√≥prio Zabbix.  √â o suficiente para receber esta lista de discuss√£o.  Agrupamos bem os usu√°rios - existem 365 grupos para 1080 pessoas.  Portanto, o boletim se mostra bastante pontilhado - e, portanto, n√£o √© irritante.  Muitos de nossos usu√°rios quase se esqueceram de que n√≥s temos, de fato, o Zabbix - eles usam o boletim de not√≠cias e o sistema de visualiza√ß√£o Grafana. <br><br><h3>  Integra√ß√£o com processos de gerenciamento </h3><br>  O projeto inicialmente envolveu o monitoramento da integra√ß√£o com alguns de nossos processos de gerenciamento de infraestrutura de TI.  Se o servi√ßo de monitoramento registrou um acidente, voc√™ poder√° criar um ticket para as equipes que trabalham mais com Jira.  Para departamentos de servi√ßo, √© poss√≠vel criar incidentes no HP Service Manager: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/352/500/6bc/3525006bc45a4d9ff74654743393f6c3.png"><br><br>  Com base no Zabbix, uma metodologia para otimizar a utiliza√ß√£o da infraestrutura de TI tamb√©m foi desenvolvida e automatizada.  Tr√™s par√¢metros principais s√£o otimizados: a quantidade de CPU, RAM e discos r√≠gidos.  Essa t√©cnica funciona com base em uma m√©dia m√≥vel e um percentil de 90%.  Com base nessa t√©cnica, qualquer objeto ou servidor se enquadra em uma das tr√™s categorias: subcarregado, otimamente carregado, sobrecarregado. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f7/37d/ffc/9f737dffc031a0bcde5756ec5909fc76.png"><br><br>  O exemplo acima mostra como essa t√©cnica √© aplicada a um servidor espec√≠fico.  O corredor rosa √© o valor da m√©dia m√≥vel.  Corredor verde amplo - dados brutos.  E o azul √© um percentil 90%. <br><br>  A integra√ß√£o com o banco de dados de configura√ß√£o tornou poss√≠vel automatizar a maioria das tarefas associadas ao fornecimento de acesso e √† constru√ß√£o de um modelo de recurso de servi√ßo.             ,      .     ,        ,  ,      . <br><br>     Zabbix              .      ,      . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/944/800/e3c/944800e3c8e3a3605e26a0c08ef962cc.png"><br><br>         ,     .       ,     .           . <br><br><h3>   </h3><br>    ,         .  2017      : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/85e/2e1/a9f/85e2e1a9f12c6fc8fcdf033fe919d0d9.png"><br><br>               2017 . <br><br>              ,  : <br><br><ul><li>      <br></li><li>      <br></li><li>      <br></li><li>     <br></li><li>   ,    <br></li><li>      <br></li></ul><br>      ,     .    70%              .      ,     ,  ,  . <br><br>                   2016 .       . ,                ,     . <br><br>       2016       .   -   ,       .         .          ,        <br><br><img src="https://habrastorage.org/webt/5j/n4/4z/5jn44zvhzoubqdm3hb-mabozkcc.png"><br><br>      2016        ,           : 600  CPU,  7,5      50   . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt420731/">https://habr.com/ru/post/pt420731/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt420711/index.html">Moscow Data Science Major: an√∫ncio e registro</a></li>
<li><a href="../pt420713/index.html">Como Chuck Hull inventou a impress√£o 3D</a></li>
<li><a href="../pt420715/index.html">A dura verdade sobre a gravidade da aprendizagem</a></li>
<li><a href="../pt420725/index.html">Como eu ensinei AI a jogar Tetris para NES. Parte 1: an√°lise do c√≥digo do jogo</a></li>
<li><a href="../pt420729/index.html">Semin√°rio on-line aberto "Naive Bayes Classifier"</a></li>
<li><a href="../pt420735/index.html">Convidamos voc√™ para o final da maratona Encontre-se na Digital no escrit√≥rio do Mail.Ru Group</a></li>
<li><a href="../pt420737/index.html">Mini ta√ßa ai 2 ou quase AgarIO - o que poderia ser feito para vencer</a></li>
<li><a href="../pt420739/index.html">A caixa ainda est√° dispon√≠vel: por que em 2018 voc√™ ainda precisa aprender idiomas</a></li>
<li><a href="../pt420741/index.html">Folha de dicas para programadores ou "procuraremos no Google por voc√™"</a></li>
<li><a href="../pt420749/index.html">GitLab para projeto de entrega cont√≠nua em tecnologias InterSystems: Containers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>