<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§ ğŸ”  ğŸ˜± Gim Arduino yang paling sederhana dengan layar 1602 - Bagian # 1 ğŸ‘© ğŸ¥Ÿ ğŸ–•ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Itulah yang harus kita dapatkan, yah, dia masih tahu bagaimana cara melompat, berjalan dan mengalahkan kaktus jahat yang menyerangnya, tetapi kita aka...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gim Arduino yang paling sederhana dengan layar 1602 - Bagian # 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424859/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ad/t5/fh/adt5fhpeoqsk4ulxwnrx-lihi60.gif"></div><br>  Itulah yang harus kita dapatkan, yah, dia masih tahu bagaimana cara melompat, berjalan dan mengalahkan kaktus jahat yang menyerangnya, tetapi kita akan sampai pada langkah ini selangkah demi selangkah :) <br><br><h1>  BAGIAN # 1 dasar-dasar </h1><br>  Saya memesan arduino, "mainan biasa-biasa saja", saya pikir, kit kecil (untuk pengujian), yang kemudian saya sesali.  Saya ingin melepaskan potensi, tetapi karena kurangnya modul tambahan ini tidak berfungsi, saya harus bereksperimen, memotong arduino ke sistem keamanan dan mengamati bagaimana sensor melakukan pekerjaan mereka, kemudian memutuskan untuk membuat alarm audio (menggunakan squeaker praktis dari kit), jadi menyapih anjing dengan keras atau menggonggong tiba-tiba :) dan kemudian tangan saya mencapai layar 1602. "Hmm ... ini adalah tampilan yang nyata," pikir saya, tetapi saya kecewa mengetahui bahwa dia makan hampir setengah dari semua kontak pada arduino itu sendiri.  Saya mencari-cari dan menemukan papan aneh di kit "i2C" dan itu sangat mencurigakan!  Bahwa jumlah lubang bertepatan dengan jumlah mucikari pada layar.  "Hmm, tidak mudah ..." pikirku, dan memutuskan untuk menyolder mereka.  Beberapa saat kemudian, saya menyadari bahwa saya telah melakukan hal yang benar dan sekarang layar saya hanya makan dua saluran.  Dia mulai mempelajari tampilan seperti apa itu dan apa yang bisa dia lakukan.  Setelah mempelajari materi yang cukup, saya menemukan bahwa tampilan itu murni tekstual, tetapi lihatlah!  Ia dapat menangani 8 karakter baru dengan dimensi 5x8 piksel.  Kalau begitu, mari kita mulai menulis game!  Pertama, Anda perlu mencari tahu seperti apa permainannya nanti, saya memutuskan untuk membuatnya tampak seperti krom dinosaurus gugl, tetapi dengan beberapa keripik, jadi, untuk pemula, saya pikir itu akan berhasil :) <a name="habracut"></a>  tetapi Anda masih harus mengelola sesuatu, dan multi-tombol, tidak harus berpikir lama.  Saya mengambil remote control IR dari kit. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1cc/b5e/3ea/1ccb5e3ea03b39d52759980be2176c40.jpg" alt="gambar"><br><br>  "Itu joystick," aku bergumam curiga, berpikir tentang penundaan remote control, kejernihan sensor IR, dan umumnya tentang kecukupan ide ini, tapi tidak ada yang bisa dilakukan, aku bisa melatih arduino untuk bekerja dengan keyboard untuk komputer, tapi itu benar-benar malas untuk melakukannya.  Jadi saya mulai menulis kode kendali jarak jauh, sehingga saya bisa bekerja dengannya di masa depan.  Kode untuk mikrokontroler adalah yang paling sederhana di sini: <br><br><pre><code class="hljs pgsql">"--------------------------------------------------------------------------" //   IRremote #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;IRremote.h&gt; decode_results results; IRrecv irrecv (A0); //      <span class="hljs-type"><span class="hljs-type">void</span></span> setup () { <span class="hljs-type"><span class="hljs-type">Serial</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>(<span class="hljs-number"><span class="hljs-number">9600</span></span>); //   com  irrecv.enableIRIn(); //    } <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> () { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (irrecv.decode( &amp;results )) //      ,    { <span class="hljs-type"><span class="hljs-type">Serial</span></span>.println( results.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>, HEX ); //          irrecv.resume(); //            } } "--------------------------------------------------------------------------"</code> </pre> <br>  Kode sinyal kendali jarak jauh terlihat seperti ini: "FF18E7" kode Anda akan berbeda, tentu saja, tetapi Anda harus memahami esensinya, dan ketika Anda mengajukan banding ke kode ini, kami menambahkan "0x" di awal dan kami mendapatkan (0xFF18E7). <br><br>  Setelah mengisi ini ke arduino dan menghubungkannya sebagaimana mestinya, kita dapat mulai merekam dari port log tsiforka, setelah mengklik tombol-tombol perangkat IR.  Tapi di sini saya hanya ingin menjelaskan kepada Anda bagaimana menghubungkan sensor IR. <br><br>  Jika kita melihat sensornya, kita melihat tiga kaki, kiri (sinyal analog), tengah (ground), kanan (plus 5V). <br><br><img src="https://arduino-info.wikispaces.com/file/view/IR-pinout.jpg/264668350/IR-pinout.jpg" alt="gambar"><br><br>  Karena saya masih tidak tahu bagaimana ini akan bekerja sama sekali, saya memulai eksperimen.  Pada awalnya saya membuat kode sketsa langkah demi langkah, melalui (delay (waktu)) pada awalnya saya tidak curiga bahwa ini adalah ide yang buruk :) <br>  Apa kusen utama.  Mikrokontroler ini tidak dapat melakukan multitasking.  Dia mempertimbangkan kode dari atas ke bawah, melewati semua cabang dan fungsi, dan setelah selesai, dia mulai lagi.  Dan sekarang, ketika kita memiliki banyak "keterlambatan" dalam kode ini, kita mulai melihat penundaan yang jelas.  Ngomong-ngomong, ya, mengapa kita membutuhkan banyak "penundaan" sama sekali.  Ketika kami membuat game, jumlah cek dan interaksi mulai bertambah.  Sebagai contoh, seorang musuh bergerak ke arah kami dan saya ingin melompatinya, saya menekan "lompatan" dan menurut rencana, saya harus menggantung di udara misalnya 0,8 detik di udara, dan ini adalah seluruh permainan dan membeku selama 0,8 detik ini.  "Tidak" Aku berpikir dan mulai memikirkan solusi.  Solusinya ditemukan dengan cepat.  Mikrokontroler itu sendiri dapat dengan cepat membaca kode dari awal sampai akhir (jika tidak mengganggunya) dan dia juga tahu bagaimana cara menghitung waktu dari awal inklusi.  Inilah yang kami butuhkan.  Sekarang kita hanya membuat variabel yang akan menyimpan waktu untuk tindakan ini atau itu dan variabel yang membandingkan perbedaan dari jam berapa sekarang dan berapa banyak yang diperlukan untuk mengaktifkan kode.  Arduino per detik, membutuhkan 1000 milidetik, cukup nyaman.  Berikut ini cuplikan ketika menjadi lebih jelas: <br><br><pre> <code class="hljs ruby"><span class="hljs-string"><span class="hljs-string">"--------------------------------------------------------------------------"</span></span> /<span class="hljs-regexp"><span class="hljs-regexp">/    ,  ,        /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  long ClearTime = 150; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ 150 = 0.15f   ~6    long ClearTimeCheck = 0; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ ,       long currentMillis = 0; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   void loop () { currentMillis = millis(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   =    } void clearscreen () /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   { /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ if (currentMillis - ClearTimeCheck &gt;= ClearTime) /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  (  -     0.15f    { ClearTimeCheck = currentMillis; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/       lcd.clear(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   ,     } } "--------------------------------------------------------------------------"</span></span></code> </pre> <br>  Tidak sulit kan? <br><br>  Setelah menulis ulang seluruh kode dengan cara baru, permainan mulai bekerja dengan cepat dan jelas, untuk mensimulasikan tindakan multitasking :) Saya pergi jauh.  Bagaimanapun, kita masih perlu membuat karakter, semacam antarmuka dan animasi.  Karena kita hanya dapat membuat delapan karakter baru, kita perlu mengacaukan semuanya dengan cerdas.  Saya tidak berencana untuk melakukan banyak objek pada layar sejauh ini, oleh karena itu, hal itu dapat dilakukan sehingga saya hanya memiliki delapan objek aktif di layar dalam satu pemrosesan kode.  Apa yang akan terjadi  Nah, tentu saja karakter utama, pukulan, penjahat, jantung dan indikator kesehatan.  Sebagai permulaan, ini sudah cukup.  Ya, dan saya memiliki tiga objek unik lainnya dalam persediaan. <br><br>  Karakter utama akan terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/ea/rk/ha/earkhaarqwcke8t6qmgvuhtxhhw.jpeg"><br><br>  Proses memasukkan karakter baru, saya hasilkan dalam kode biner (saya merasa sangat nyaman) <br>  akan terlihat seperti ini: <br><br>  01110 <br>  01110 <br>  00100 <br>  01110 <br>  10101 <br>  00100 <br>  01110 <br>  01010 <br><br>  Jika Anda melihat lebih dekat, maka dari satu, kita akan melihat karakter kita, tetapi agar dia tidak diam, mari kita buat dia menjadi animasi. <br><br><img src="https://habrastorage.org/webt/lm/zy/s-/lmzys-m1civhaydvisjrsomhtiy.jpeg"><br><br>  Sekarang ke kode kita, satu set bilangan biner ditambahkan, yaitu yang ini: <br><br>  00000 <br>  01110 <br>  01110 <br>  00100 <br>  11111 <br>  00100 <br>  01110 <br>  01010 <br><br>  Cara membuat animasi pada tampilan ini, saya menunjukkan logika di atas, dan sekarang mari kita berlatih, saat ini, letakkan di tengah layar dan buat diam, dan ingat, tugas kita adalah menggunakan hanya satu sel memori untuk dua sprite animasi.  Ini lebih mudah daripada kedengarannya: <br><br><pre> <code class="hljs pgsql">"--------------------------------------------------------------------------" #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;Wire.h&gt; #<span class="hljs-keyword"><span class="hljs-keyword">include</span></span> &lt;LiquidCrystal_I2C.h&gt; LiquidCrystal_I2C lcd(<span class="hljs-number"><span class="hljs-number">0x3F</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>); //   long AnimatedTime = <span class="hljs-number"><span class="hljs-number">300</span></span>; //     long AnimatedTimeCheck = <span class="hljs-number"><span class="hljs-number">0</span></span>; //   (    ) <span class="hljs-type"><span class="hljs-type">int</span></span> AnimPlayer = <span class="hljs-number"><span class="hljs-number">1</span></span>; //    <span class="hljs-type"><span class="hljs-type">int</span></span> GGpozX = <span class="hljs-number"><span class="hljs-number">8</span></span>; //   <span class="hljs-type"><span class="hljs-type">int</span></span> GGpozY = <span class="hljs-number"><span class="hljs-number">1</span></span>; //   <span class="hljs-number"><span class="hljs-number">1</span></span>  <span class="hljs-number"><span class="hljs-number">2</span></span>   <span class="hljs-number"><span class="hljs-number">0</span></span>    long currentMillis = <span class="hljs-number"><span class="hljs-number">0</span></span>; //   //   ,     ,    :) enum { SYMBOL_HEIGHT = <span class="hljs-number"><span class="hljs-number">8</span></span> }; byte Player_1[SYMBOL_HEIGHT] = {B01110,B01110,B00100,B01110,B10101,B00100,B01110,B01010,}; //  <span class="hljs-number"><span class="hljs-number">1</span></span> byte Player_2[SYMBOL_HEIGHT] = {B00000,B01110,B01110,B00100,B11111,B00100,B01110,B01010,}; //  <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> setup() { lcd.init(); lcd.backlight();//    <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>(); PlAn(); } <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (AnimPlayer != <span class="hljs-number"><span class="hljs-number">50</span></span>) { //    ,       :) // <span class="hljs-comment"><span class="hljs-comment">--------------------------- Animated -&gt; // -------------------- Player -&gt; if (AnimPlayer == 1){lcd.createChar(0, Player_1);} //  1   1 //(lcd.createChar(    0  7,   )) if (AnimPlayer == 2){lcd.createChar(0, Player_2);} //  2   2 } // --------------------------- &lt;- Animated currentMillis = millis(); //   =    PlAn(); } void PlAn () { if (AnimPlayer == 1) //   1  { lcd.setCursor(GGpozX, GGpozY); //  ""      lcd.write(0); //          "" } if (AnimPlayer == 2) //  â„–1 { lcd.setCursor(GGpozX, GGpozY); lcd.write(0); } if (currentMillis - AnimatedTimeCheck &gt;= AnimatedTime) //       { AnimatedTimeCheck = currentMillis; //     if (AnimPlayer == 2){AnimPlayer = 1; return;} //  2   1      if (AnimPlayer == 1){AnimPlayer = 2;} // 1  2           ,         } } "--------------------------------------------------------------------------"</span></span></code> </pre> <br>  Setelah memulai, kita melihat lelaki kecil, yang berada di tengah layar, pada baris ke-2 dan bergoyang, untuk berbicara. <br><br>  Kesimpulan: hari ini saya berbicara tentang bagaimana mencari tahu data melalui port inframerah, cara mem-bypass penundaan kode mikrokontroler, dan bagaimana membuat animasi awal. <br><br>  Sisanya akan segera tiba :) Saya masih harus menulis banyak, jadi saya akan melihat bagaimana hal itu akan menarik bagi Anda sama sekali, dan jika demikian, besok saya akan mulai menulis sekuel. <br><br>  Terima kasih atas perhatian Anda, ciao cocoa! <br><br>  Bagian kedua artikel -&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">habr.com/post/425367</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id424859/">https://habr.com/ru/post/id424859/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id424849/index.html">Apa yang membuat UCS C480 ML M5 baru menarik - server pembelajaran mesin dari Cisco</a></li>
<li><a href="../id424851/index.html">Apa yang salah dengan mempekerjakan IT?</a></li>
<li><a href="../id424853/index.html">Kisah one view controller yang ingin pamer dengan baik</a></li>
<li><a href="../id424855/index.html">Machine Learning: Berebutlah dengan Kamar Gajah</a></li>
<li><a href="../id424857/index.html">CloudFlare Mengimplementasikan Dukungan SNI Terenkripsi</a></li>
<li><a href="../id424861/index.html">Seekor ular di kotak surat dan apa F #</a></li>
<li><a href="../id424865/index.html">Partikel Desain Dasar Ditemukan</a></li>
<li><a href="../id424867/index.html">Pengembangan hexapod dari awal (bagian 1) - desain</a></li>
<li><a href="../id424869/index.html">Bagaimana fitur iOS 12 yang baru mengingatkan saya bahwa sudah waktunya untuk sembuh</a></li>
<li><a href="../id424871/index.html">Elon Musk dan Tesla menyelesaikan litigasi dengan Komisi Sekuritas dan Bursa AS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>