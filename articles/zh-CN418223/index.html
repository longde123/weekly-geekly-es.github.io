<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍💼 🧑🏿 🙌🏾 麻省理工学院的课程“计算机系统安全”。 讲座7：本机客户端沙盒，第1部分 🍉 💅🏾 👨🏾‍🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="麻省理工学院。 讲座课程＃6.858。 “计算机系统的安全性。” Nikolai Zeldovich，James Mickens。 2014年 
 计算机系统安全是一门有关开发和实施安全计算机系统的课程。 讲座涵盖了威胁模型，危害安全性的攻击以及基于最新科学研究的安全技术。 主题包括操作系统（OS）...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>麻省理工学院的课程“计算机系统安全”。 讲座7：本机客户端沙盒，第1部分</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418223/"><h3> 麻省理工学院。 讲座课程＃6.858。  “计算机系统的安全性。”  Nikolai Zeldovich，James Mickens。  2014年 </h3><br> 计算机系统安全是一门有关开发和实施安全计算机系统的课程。 讲座涵盖了威胁模型，危害安全性的攻击以及基于最新科学研究的安全技术。 主题包括操作系统（OS）安全性，功能，信息流管理，语言安全性，网络协议，硬件安全性和Web应用程序安全性。 <br><br> 第1课：“简介：威胁模型” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 第2课：“控制黑客攻击”， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 第3讲：“缓冲区溢出：漏洞利用和保护” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 讲座4：“特权分离”， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 讲座5：“安全系统从何而来？” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2部分</a> <br> 讲座6：“机会” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <br> 讲座7：“本地客户端沙箱” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第1</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">部分</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分</a> <a name="habracut"></a><br><br> 今天，我们将讨论一个称为<b>Native Client</b>的系统， <b>Google</b>在现实世界中会使用该系统。 它是一种沙箱技术，用于在不同平台上运行代码。 它在<b>Chrome浏览器中使用</b> ，允许Web应用程序运行任意机器代码。 这实际上是一个非常酷的系统。 它还说明了隔离功能以及一种独特的沙箱或特权分离技术，称为<b>软件故障隔离</b> ，即<b>软件故障隔离</b> ，而无需使用操作系统或虚拟机来创建沙箱。 <br><br><img src="https://habrastorage.org/webt/pm/pn/i2/pmpni2s7ydakqxa5tzszbpp2pbu.jpeg"><br><br> 相反，本<b>机客户端</b>采用完全不同的方法来查看二进制文件中的特定指令，以查明运行该文件是否安全。 因此，在开始研究系统的技术细节之前，让我们先弄清楚为什么这些人真的想运行机器代码？ 他们的特殊兴趣是在Web浏览器中应用此解决方案，您已经可以在其中运行<b>JavaScript</b>代码， <b>Flash Player</b>和一些其他进程。 为什么这些人对在<b>x86</b>平台上运行代码的能力感到如此兴奋？ 毕竟，这似乎是退后一步。 <br><br>  <b>受众：</b>他们希望获得非常快速的计算。 <br><br>  <b>教授：</b>是的，这是机器代码的一大优势。 即使从长远来看它可能是不安全的，它也确实可以提供高性能。 例如，编写程序并编译，而您在<b>JavaScript中</b>不会执行的所有操作，实际上都可以更快地完成。 还有其他原因吗？ <br><br>  <b>受众：</b>运行现有代码？ <br><br>  <b>教授：</b>对。 重要的是，并非所有内容都可以用<b>JavaScript编写</b> 。 因此，如果您有一个现有的应用程序，或者用行业术语来说，打算在Internet上运行的“继承”代码，这似乎是一个不错的解决方案。 例如，由于您只能使用现有的库，因此某种复杂的图形“引擎”既会对性能以及您不想重新实现的许多其他复杂事物都敏感，那么这将是一个很好的解决方案。 <br> 如果您只是在编写新的Web应用程序，那么如果您不特别关心继承或性能，是否应该使用自己的客户端？ <br><br>  <b>受众：</b>那么您无需使用<b>JavaScript</b> 。 <br><br>  <b>教授：</b>是的，这是一个很好的理由。 如果您不喜欢<b>JavaScript</b> ，则不需要使用它，对吗？ 例如，您可以使用<b>C</b> ，您可以运行<b>Python</b>代码，用您认为更合适的任何语言在<b>Haskell中</b>编写代码。 <br><br> 因此，这是在浏览器中运行您自己的代码的极具说服力的动机，并且很难获得执行此操作的权利。 稍后，我们将考虑技术细节，现在我想向您展示一个从<b>Native Client</b>网站收到的简单培训演示。 <br><br><img src="https://habrastorage.org/webt/eu/nh/qv/eunhqvmixughsk_piecmnsfwcpy.jpeg"><br><br> 这非常简单，因为您可以使用<b>C ++</b>或<b>C</b>程序并在浏览器中运行它。 您可以查看此网页，这是一个<b>HTML</b>文件，其中包含一堆<b>JavaScript</b>代码。 <br><br><img src="https://habrastorage.org/webt/no/fp/is/nofpisdyic-0xbo1xfg-ptmbsta.jpeg"><br><br> 该<b>JavaScript</b>代码存在的原因是，它允许您与<b>Native Client的</b>各个部分进行交互。 关于浏览器的操作，这种解决方案的含义是您拥有某种包含<b>JavaScript</b>代码的网页。 并且此解决方案使用页面的特权，并允许您在网页本身上执行各种操作，例如，在某些情况下与网络进行通信。 <br><br>  <b>Native Client</b>允许您在浏览器中运行模块，因此<b>JavaScript</b>代码可以与其交互并接收响应。 这显示了本<b>机客户端</b>与我们将要运行的特定<b>NaCl</b>模块进行交互所需的一些<b>JavaScript</b>代码。 <br><br><img src="https://habrastorage.org/webt/kl/hz/hr/klhzhr6znxavpre0y7ro-bjrgbw.jpeg"><br><br> 您可以将消息发送到此模块。 怎么做？ 您可以在<b>JavaScript</b>中使用此模块的对象，将其称为<b>postMessage，</b>从而支持将此消息发送到<b>NaCl</b>模块。 当<b>NaCl</b>模块响应时，它将启动<b>JavaScript中</b>的message函数。 在这种情况下，浏览器中会弹出一个对话框。 <br><br><img src="https://habrastorage.org/webt/n1/6f/ct/n16fct-epmcvq47bqh35b7wvc8i.jpeg"><br><br> 因此，在<b>JavaScript</b>方面，这是一个非常简单的网页界面。 您唯一需要做的就是以这种方式分配<b>NaCl</b>模块。 也就是说，您只需<b>在此处</b>插入具有特定<b>ID</b>的模块。 这里最有趣的是扩展名为<b>nmf</b>的<b>hello</b>代码。 他只是说有一个可执行文件，您需要下载该文件并在<b>NaCl</b>环境中开始使用它。 <br><br><img src="https://habrastorage.org/webt/14/r_/xn/14r_xn80sp_m3ubrkfftdryomqw.jpeg"><br><br> 此本地代码确实与您可以编写的任何其他C ++代码一样。 有趣的部分是此<b>HandleMessage</b>消息处理功能。 <br><br><img src="https://habrastorage.org/webt/hr/rn/kn/hrrnkncebsasx-lajbmnlf089xc.jpeg"><br><br> 这是<b>C ++</b>类，每当<b>JavaScript</b>代码向本<b>机</b>代码发送消息时，它将执行此功能。 它执行<b>if（message = ='hello'）</b>检查。 如果是这样，它将创建某种响应行并将其发送回去。 这是非常简单的东西。 但具体来说，让我们尝试运行它，看看会发生什么。 <br><br> 我们可以构建并运行一个小型Web服务器，该服务器将为该页面和<b>Native Client</b>模块提供服务。 在这里，我可以转到该<b>URL</b> ，在这里我们可以看到<b>NaCl</b>网页。 该模块收到了来自<b>JavaScript</b>的欢迎消息，并用<b>JavaScript中</b>的字符串进行了响应，并且<b>JavaScript</b>代码触发了包含此响应的弹出对话框。 <br><br><img src="https://habrastorage.org/webt/rh/hi/xv/rhhixv0gqz8vgls10i0dkus3vgw.jpeg"><br><br> 因此，它确实有效。 <br><br> 尝试找出是否会导致本<b>机客户端</b>崩溃。 我希望不会，但是我们可以使用此代码和此缓冲区，并在其中编写一堆废话，例如65536，然后看看会发生什么。 <br><br><img src="https://habrastorage.org/webt/hi/gc/iy/higciynre_pzpduwpdkhsw-6hlq.jpeg"><br><br> 我希望这不会导致我的浏览器崩溃，因为<b>Native Client</b>试图提供隔离。 但是，让我们看看会发生什么。 <br><br> 重新启动Web服务器。 我们看到模块的入口仍然成功，我们的浏览器没有受到伤害。 但是，没有与客户端进行消息传递，因此缺少该对话框。 让我们看一下页面底部的<b>JavaScript</b>控制台，并查看<b>Native Client</b>模块将<b>NaCl</b>模块的故障通知我们。 <br><br><img src="https://habrastorage.org/webt/5d/ec/ev/5decevvdddfz81augpqkdi25tni.jpeg"><br><br> 我输入的参数有可能导致缓冲区溢出或访问了一些错误的地址，但是无论如何， <b>NaCl</b>模块确实能够以不影响浏览器的方式隔离意外的内存损坏。 <br><br> 这是该系统的快速演示，您可以将其用作最终用户或开发人员。 让我们再看几个例子。 例如，本<b>机客户端</b>将如何工作，或者为什么我们只需要此<b>客户端</b> ，而不是替代设计。 <br><br> 因此，如果您的目标是隔离自己的代码，则可以使用几种替代方法。 实际上，在<b>Native Client</b>出现之前，人们曾经在使用遗留代码和其他语言时遇到问题。 他们以各种方式解决了这些问题，这可能不像<b>Native Client</b>那样安全和便利，但是提供了相同的隔离功能。 <br><br> 那么，如果您真的想在浏览器中运行机器代码，该怎么办？ 一种选择是对开发人员的信任。 这种方法的一种变体是您询问用户是否要在浏览器中运行某些代码。 <br><br> 所以，每个人都大致了解这是什么计划，对吗？ 例如，代替所有本<b>机客户端</b>编译策略，我可以创建一个<b>C</b>程序，在浏览器中运行它，他会问我是否要运行此站点？ 如果我单击“是”，不小心在浏览器的内存中“移动”，它将崩溃。 所以有可能吧？ 当然，这解决了所有这些问题，但是那有什么问题呢？ <br><br> 我认为坏的是这种解决方案是不安全的。 这是解决该系统和许多其他系统的一种方法。 <br><br>  <b>Microsoft</b>有一个称为<b>ActiveX</b>的系统，该系统基本上实现了该计划。 您可以将二进制文件发送到<b>IE</b> （计算机上的浏览器），直到它们返回由特定开发人员（例如由<b>Microsoft</b>或其他人签名）的证书返回后，浏览器才会运行您的代码。 您认为这是有用的计划吗？ <br><br> 观众：这是一个信任的问题！ <br><br> 教授：是的。 您确实需要一点点相信开发人员将只签署那些不会做错任何事情的“二进制文件”。 但是，通常无法弄清楚这是否是一件坏事，因此他们只需编写<b>C</b>代码并盲目地对其签名即可，而无需进行大量工作。 在这种情况下，将来可能会遇到某些问题。 <br><br> 同样，询问用户是否真的要运行事物的决定根本不能保证安全。 即使用户想要小心，实际上也不清楚他应该如何决定？ 假设我真的想了解是否可以让该程序正常工作？ 有人告诉我一切都很好，也许它是由<b>Google.com</b>或<b>Microsoft.com的</b>知名开发人员创建的。 但是，这是可执行文件<b>foo.exe</b> ，我绝对不知道其中的内容。 即使我反汇编了他的代码，也很难说他是否会做坏事。 因此，用户很难确定代码执行对系统是否安全。 <br><br><img src="https://habrastorage.org/webt/yj/sh/fa/yjshfa6jbfjytpoxjzdt2qfgdpw.jpeg"><br><br> 因此，本<b>机客户端</b>可以充当一种机制，通过该机制，用户可以对自己是否应该对某个程序说“是”或“否”获得一定的信心。 <br><br> 因此，在实践中，我认为我们的客座讲师Paul Yang上周应该提出一个选择。 他建议运行“ <b>播放扩展程序</b> ”插件，或者在<b>Chrome浏览器中</b>运行“ <b>播放扩展</b>程序”。 也就是说，事实证明，在启动任何扩展（包括<b>Native Client）之前</b> ，您需要先单击此东西。 在某种程度上，这与询问用户相同。 但是在这种情况下，即使用户决定回答“是”，系统仍将是安全的，因为<b>本地客户端将包含</b>在工作中。 从这个意义上讲，我们有双重安全机制：首先询问用户，然后以肯定的答案启动沙箱客户端，这将不允许浏览器崩溃。 <br><br> 因此，应采用的另一种方法是使用通过OS或硬件实现的沙箱，或隔离进程。 这是我们在最近2堂课中讨论的内容。 <br><br> 也许您会使用<b>Unix</b>隔离机制。 如果您有更复杂的东西，可以使用<b>FreeBSD</b>或<b>Capsicum</b> 。 隔离沙箱中的一段代码非常有用，因为您可以限制其功能。  <b>Linux</b>具有类似的机制，称为<b>Seccomp</b> ，我们在上一讲中对此进行了简要介绍，它还允许您执行此类操作。 <br><br> 因此，已经有一种机制可以在您的计算机上隔离地编写代码。 为什么这些人反对使用此现有解决方案？ 他们似乎出于某种原因在“发明轮子”。 那到底是怎么回事？ <br><br>  <b>听众：</b>也许他们想减少错误？ <br><br>  <b>教授：</b>是的，在某种程度上，他们不信任操作系统。 也许他们实际上担心操作系统错误。  <b>FreeBSD</b>内核或<b>Linux内核</b>很可能包含许多他们不想要的<b>C</b>代码，或者即使他们愿意也无法检查其正确性。 而且在<b>Capsicum</b>或<b>Seccomp中，</b>工作是根据隔离计划完成的，因此内核仅需编写一小段忠实的代码就足够了，以便沙盒维护并应用隔离。 <br><br><img src="https://habrastorage.org/webt/wr/iq/ew/wriqewh7dx-iiwc-q2wymixcw1k.jpeg"><br><br>  <b>受众：</b>由于您有更多使用浏览器的方法，因此您必须处理各种操作系统（例如iOS和Android）并访问... <br><br>  <b>教授：</b>是的，实际上，另一个有趣的考虑是通常许多操作系统都有错误。 而且，实际上，不同的操作系统在某种程度上是彼此不兼容的。 这意味着每种操作系统都有其自己的机制，如下所示： <b>Unix</b>具有<b>Capsicum</b> ， <b>Linux</b>具有<b>Seccomp</b> ，但这只是<b>Unix的</b>变体。  <b>Mac OS</b>具有<b>Seatbelt</b> ， <b>Windows</b>具有其他功能，并且清单还在继续。 <br><br> 因此，最后，您使用的每个平台都有其自己的隔离机制。 真正让他们感到困扰的是，他们将不得不为<b>Mac</b> ， <b>Windows</b>和<b>Linux</b>编写不同的代码。 但更重要的是，它影响了您编写这些内容以使其在沙箱中工作的方式。 因为在<b>Native Client中，</b>您实际上编写了一段代码，其运行方式与“本机” OS代码相同，并且与<b>Apple</b>代码， <b>Windows</b>代码或<b>Linux</b>系统代码执行的方式相同。 <br><br> 而且，如果您使用这些隔离机制，那么它们实际上会对放置在沙箱中的程序施加不同的限制。 因此，您必须编写一个将在<b>Linux</b>沙箱中运行的程序，另一个要在<b>Windows</b>沙箱中运行的<b>程序</b> ，依此类推。 <br><br> 那是他们真正无法接受的。 他们不想处理这类问题。 您还有什么其他考虑？ <br><br>  <b>受众：</b>大概是系统性能。 因为如果您使用<b>Capsicum</b> ，则需要照顾足够的资源以确保流程在沙盒内正常工作。 在这里，他们可能面临同样的问题。 <br><br>  <b>教授：</b>是的，是的。 软件崩溃隔离计划实际上是非常耗费资源的，这在操作系统级别可能会导致缺乏支持沙箱的资源。 事实证明，在他们自己的<b>Native Client中，</b>他们实际上使用沙箱和OS沙箱来提供额外的安全性。 因此，实际上，尽管它们可能会赢，但它们并不能在实现的性能上取胜。 <br><br>  <b>观众：</b>也许他们想控制一切。 因为他们可以控制浏览器中发生的事情，但是如果将它们发送到操作系统上的客户端计算机，他们将不知道在那里会发生什么。 <br><br>  <b>教授：</b>可以说，操作系统可能有错误或不能很好地管理沙箱。 或界面有所不同，因此您不知道操作系统将要显示什么。 <br><br>  <b>听众：</b>这不会阻止代码做一些不好的事情。 代码有很多功能，例如，您想执行静态分析，但是代码循环会阻止程序运行。 <br><br>  <b>教授：</b>实际上，确定是否存在无限循环的过程非常困难，但是从原则上讲，这种方法使您可以捕获一些代码问题。 我认为，一个非常有趣的示例（直到我阅读他们的文章之前才知道）表明，这些人担心的是硬件错误，而不仅仅是代码可运行的操作系统漏洞。 例如，处理器本身有一些指令，可能会导致其冻结或重新启动计算机。 基本上，您的设备不应出现此类错误，因为操作系统依赖于这样的事实：硬件在任何情况下都将帮助其到达内核，以便消除用户错误的后果。 <br><br> 但是事实证明，处理器是如此复杂，以至于它们有错误，这些家伙说他们找到了证据。 如果处理器不希望收到某些复杂的指令，它将停止而不是处理系统核心。 不好 我认为如果仅在笔记本电脑上运行一些有用的操作就不会造成灾难性的后果，但是如果我在访问某种网页时计算机死机会更糟。 <br><br> 因此，他们希望为<b>Native Client</b>模块创建更高级别的保护，而不是在OS级别上提供隔离，甚至没有硬件错误。 因此，关于安全性，它们的行为类似于偏执狂，包括硬件安全性问题。 <br><br> 现在，让我们看看<b>Native Client</b>如何真正隔离沙箱中的进程。 因此，本<b>机客户端</b>采用了另一种方法，称为“隔离软件故障”。 <br><br><img src="https://habrastorage.org/webt/rk/a1/gv/rka1gv4vu6qut_1tjda81we9u6w.jpeg"><br><br> 该计划不是基于操作系统或设备在程序运行时会检查事物的事实，而是要依靠它们事先查看指令并确定它们可以完全安全地执行。 因此，实际上，查看二进制文件以检查所有可能的指令并查看它们是否安全是足够的。 一旦确定一切都将是安全的，您就可以简单地开始该过程，因为您知道它由安全的事物组成，并且不会有任何失败。 <br><br> 因此，他们要做的就是查看发送到浏览器的二进制代码中的几乎所有指令，并确定特定指令是否安全。 <br><br>      ?     .      ? ,  ,          . <br><br>     -  <b>ALU</b> ,  ,      .         ,    .       ,   ,        .   ,      ,   ,           . <br><br><img src="https://habrastorage.org/webt/jh/gt/nb/jhgtnbhw2ijz1h3_9t_ypdy-nr4.jpeg"><br><br>     ?  ,   ,     .   ,     ,     ,       .  ,    «»  ,  ?           . <br><br>       , ,     ,    -  ,        .    «»    ,    -   .   ,      «» ,     .        ,   ,        ,      ,       . <br> ,         (      )    .      . ,      <b>if</b>  ,      ,    .   ,  ,   –  . <br><br>  ,     ,         ,       .               .  ,       ,        . ,   ,        ,       ,    «»      . <br><br><img src="https://habrastorage.org/webt/na/m3/8e/nam38efcfifztldcv1vxg6zfhpu.jpeg"><br><br>        .       ,          ,     .   ,      ,         . <br><br>          ,    ,    ,   ,       - ,      .       ,  ,   , , .               <b>Trusted Service Runtime</b> ,     .          .         <b>Google</b> .    ,    <b>NaCl</b>    . <br><br>     ,   , ,  ,  ,    —  ,      —   .        ,        . <br><br> <b>:</b> ,        ,       <b>NaCl</b> ?        ,      ? <br><br> <b>:</b>  ,     ,   ,      <b>NaCl</b> .    ,   <b>malloc</b>  <b>pthread_create</b> ,       <b>Trusted Service Runtime</b> .     -        ,        <b>Unix</b> ,       - . ,     ,        <b>JavaScript</b>   -.        <b>RPC</b>   <b>JavaScript</b> ,         . <br><br><img src="https://habrastorage.org/webt/t9/yv/c3/t9yvc38rfpu-anjcegov4zusgjg.jpeg"><br><br> ,   ,     <b>NaCl</b>  <b>Unix</b> -,    - ,          -. <br><br>        .  ,       <b>Native Client</b> .          –       <b>Native Client</b> ? <br><br>    ,  <b>Native Client</b>    .   ,     ,    .        ,      ,    <b>x86</b>            . ,        ,       «»,     . <br><br>            ,           .  ,         ,     0  256   .  ,    ,      ,    ,         . <br><br>        ?   ,      ? <br><br> <b>:</b>  ,     . <br><br> <b>:</b> ,     . ,        ,        .     ,      ,         ?    ,     ? <br><br> <b>:</b>              . <br><br> <b>:</b> ! <br><br> <b>:</b>  -,       ,    .       . <br><br> <b>:</b> ,     .    ,       .  ,  ,       .  ,           ,       ,  <b>Trusted Service Runtime</b> .       ,        ,         <b>Trusted Service Runtime</b>   ,     .  ,          . <br><br>  ,         ,      <b>NaCl</b>    ,     .              ,       0.  ,          <b>NaCl</b>   .         . <br><br> 28:00  <br><br> : <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">麻省理工学院的课程“计算机系统安全”。</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> 7: « Native Client»,  2</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/I0Psvvky-44" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> . <br><br> ,    . 你喜欢我们的文章吗？ 想看更多有趣的资料吗？ 通过下订单或将其推荐给您的朋友来支持我们，为我们为您开发<b>的入门级​​服务器的独特模拟，为Habr用户</b>提供<b>30％的折扣：</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">关于VPS（KVM）E5-2650 v4（6核）的全部真相10GB DDR4 240GB SSD 1Gbps从$ 20还是如何划分服务器？</a>  （RAID1和RAID10提供选件，最多24个内核和最大40GB DDR4）。 <br><br> <b>3  </b>    Dell R630     — <b>2  Intel Deca-Core Xeon E5-2630 v4 / 128GB DDR4 / 41TB HDD  2240GB SSD / 1Gbps 10 TB —  $99,33 </b> ,    ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> . <br><br>  <b>戴尔R730xd便宜2倍？</b> 仅<b>在荷兰和美国，</b>我们有<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2台Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100电视（249美元起）</a> ！</b> 阅读有关<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">如何构建基础架构大厦的信息。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用价格为9000欧元的Dell R730xd E5-2650 v4服务器的上等课程？</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN418223/">https://habr.com/ru/post/zh-CN418223/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN418213/index.html">麻省理工学院的课程“计算机系统安全”。 讲座5：“安全系统从何而来”，第1部分</a></li>
<li><a href="../zh-CN418215/index.html">麻省理工学院的课程“计算机系统安全”。 讲座5：“安全系统错误来自哪里”，第2部分</a></li>
<li><a href="../zh-CN418217/index.html">麻省理工学院的课程“计算机系统安全”。 讲座6：“机会”，第1部分</a></li>
<li><a href="../zh-CN418219/index.html">麻省理工学院的课程“计算机系统安全”。 讲座6：机会，第2部分</a></li>
<li><a href="../zh-CN418221/index.html">麻省理工学院的课程“计算机系统安全”。 讲座6：“机会”，第3部分</a></li>
<li><a href="../zh-CN418225/index.html">麻省理工学院的课程“计算机系统安全”。 讲座7：本机客户端沙箱第2部分</a></li>
<li><a href="../zh-CN418227/index.html">麻省理工学院的课程“计算机系统安全”。 讲座7：本机客户端沙盒，第3部分</a></li>
<li><a href="../zh-CN418229/index.html">麻省理工学院的课程“计算机系统安全”。 讲座8：网络安全模型，第1部分</a></li>
<li><a href="../zh-CN418233/index.html">BMW助记符用于查找边界值</a></li>
<li><a href="../zh-CN418235/index.html">编排的传奇故事或如何根据服务模式使用数据库建立服务中的业务交易</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>