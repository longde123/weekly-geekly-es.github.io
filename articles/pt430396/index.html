<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòí ü•ê üõèÔ∏è Replica√ß√£o em cadeia: construindo um reposit√≥rio KV eficaz (parte 1/2) üñåÔ∏è üë®üèº‚Äç‚öïÔ∏è üêë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, consideraremos a arquitetura de armazenamento KV simples e eficiente usando replica√ß√£o em cadeia, que √© ativamente investigada e usada c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Replica√ß√£o em cadeia: construindo um reposit√≥rio KV eficaz (parte 1/2)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430396/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ih/tl/pc/ihtlpc8zbpq3lsjsqarrkaitufm.png"></div><br>  Neste artigo, consideraremos a arquitetura de armazenamento KV simples e eficiente usando replica√ß√£o em cadeia, que √© ativamente investigada e usada com sucesso em v√°rios sistemas. <br><a name="habracut"></a><br>  Esta √© a primeira metade de um artigo de replica√ß√£o em cadeia.  A segunda parte est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  A princ√≠pio, haver√° um pouco de teoria, depois alguns exemplos de uso com v√°rias modifica√ß√µes. <br><br><ol><li>  O objetivo √© a declara√ß√£o do problema e a compara√ß√£o com o protocolo prim√°rio / de backup. </li><li>  A replica√ß√£o em cadeia √© uma abordagem b√°sica. </li><li>  Replica√ß√£o em cadeia - solicita√ß√µes distribu√≠das. </li><li>  FAWN: uma matriz r√°pida de n√≥s Wimpy. </li></ol><br><h1>  1. Introdu√ß√£o </h1><br><h3>  1.1 Finalidade </h3><br>  Suponha que desejemos criar um simples armazenamento de valores-chave.  O reposit√≥rio ter√° uma interface muito m√≠nima: <br><br><ol><li>  write (key, object): salva / atualiza o valor do valor por chave de tecla. </li><li>  read (key): retorna o valor armazenado pela tecla key. </li></ol><br>  Tamb√©m sabemos que o tamanho dos dados √© relativamente pequeno (tudo se encaixa em um servidor, n√£o h√° necessidade de sharding), mas pode haver muitas solicita√ß√µes de grava√ß√£o / leitura. <br><br>  <u>Nosso objetivo √© suportar um grande n√∫mero de solicita√ß√µes ( <b>alta taxa de transfer√™ncia, HT</b> ), alta disponibilidade ( <b>HA</b> ) e forte consist√™ncia ( <b>SC</b> ).</u> <br><br>  Em muitos sistemas, o SC √© sacrificado por HA + HT, porque cumprir todas as tr√™s propriedades √© uma tarefa n√£o trivial.  O Amazon Dynamo foi um grande salto em frente e gerou v√°rios bancos de dados no estilo Dynamo, como Cassandra, Riak, Voldemort, etc. <br><br><h3>  1.2 Prim√°rio / Backup </h3><br>  Uma das abordagens mais comuns e simples para criar um sistema de armazenamento √© usar a replica√ß√£o prim√°ria / de backup. <br>  Temos um servidor principal, v√°rios servidores de backup e opera√ß√µes de grava√ß√£o / leitura passam apenas pelo servidor principal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/no/r4/ai/nor4aiw440squuwrlqwfrnn3l9c.png"></div><br>  Aqui a imagem mostra um dos protocolos de intera√ß√£o poss√≠veis (espera principal pela confirma√ß√£o de todos os backups antes de enviar a confirma√ß√£o ao cliente), existem outras op√ß√µes (n√£o mutuamente exclusivas), por exemplo: <br><br><ul><li>  O prim√°rio organiza estritamente solicita√ß√µes de grava√ß√£o. </li><li>  O prim√°rio envia confirma√ß√£o assim que um dos backup responde com confirma√ß√£o. </li><li>  Quorum desleixado e entrega sugerida. </li><li>  Etc. </li></ul><br>  Tamb√©m √© necess√°rio um processo separado que monitore o estado do cluster (distribua a configura√ß√£o aos participantes) e, quando o servidor host trava, faz (inicia) a elei√ß√£o de um novo e tamb√©m determina o que fazer no caso de um c√©rebro dividido.  Novamente, dependendo dos requisitos, parte dessa l√≥gica pode ser executada como parte do algoritmo de replica√ß√£o, parte como um aplicativo de terceiros (por exemplo, um tratador para armazenar a configura√ß√£o), etc. <br><br>  Obviamente, mais cedo ou mais tarde, o desempenho da replica√ß√£o prim√°ria / de backup ser√° limitado por dois gargalos: <br><br><ul><li>  Desempenho do servidor prim√°rio. </li><li>  N√∫mero de servidores de backup. </li></ul><br>  Quanto mais requisitos de confiabilidade / consist√™ncia forem apresentados a um cluster, mais r√°pido ser√° esse momento. <br><br>  Existem outras maneiras de alcan√ßar nosso objetivo? <br><br><h3>  1.3 Replica√ß√£o em cadeia </h3><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/4y/oc/fe/4yocfe_ajv79tln3txv8chnm0_w.png"></div><br>  Em geral, a replica√ß√£o em cadeia consiste em uma sequ√™ncia (cadeia) de servidores, com fun√ß√µes especiais HEAD (o servidor com o qual o cliente se comunica) e TAIL (fim da cadeia, garantia SC).  Uma cadeia possui pelo menos as seguintes propriedades: <br><br><ol><li>  Suporta queda para n - 1 servidores. </li><li>  A velocidade de grava√ß√£o n√£o √© significativamente diferente da velocidade do SC Prim√°rio / Backup. </li><li>  A reconfigura√ß√£o do cluster no caso de uma falha do HEAD ocorre muito mais r√°pido que o Prim√°rio, o restante dos servidores √© comparativamente ou mais r√°pido que no Prim√°rio / Backup. </li></ol><br>  Um ponto pequeno, mas significativo - √© necess√°ria uma <b>conex√£o FIFO confi√°vel entre servidores.</b> <br><br>  Vamos examinar mais detalhadamente os v√°rios m√©todos de constru√ß√£o da replica√ß√£o em cadeia. <br><br><h1>  2. A abordagem b√°sica </h1><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/dg/fm/sz/dgfmszrolw1uxuayalgzhltuhyi.png"></div><br><h3>  2.1 Algoritmo operacional </h3><br>  Os clientes enviam solicita√ß√µes de grava√ß√£o para o n√≥ principal e as solicita√ß√µes de leitura s√£o enviadas para o n√≥ final.  A resposta sempre vem da cauda.  O Head, ap√≥s receber uma solicita√ß√£o de mudan√ßa, calcula a mudan√ßa de estado necess√°ria, aplica-a e envia-a para o pr√≥ximo n√≥.  Assim que a cauda a processa, uma resposta ACK √© enviada de volta √† cadeia.  Obviamente, se uma solicita√ß√£o de leitura retornar algum valor de x, ela ser√° armazenada em todos os n√≥s. <br><br><h3>  2.2 Protocolo de Replica√ß√£o </h3><br>  Numeramos os servidores da cabe√ßa √† cauda e, em cada n√≥ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> i </script>  armazenaremos adicionalmente: <br><br><ul><li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.545ex" height="2.419ex" viewBox="0 -780.1 4109.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="1218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="1818" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="2342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="2687" y="0"></use><g transform="translate(3288,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="675" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-2"> Pending_i </script>  - uma lista de solicita√ß√µes recebidas pelo n√≥ que ainda n√£o foram processadas por cauda. </li><li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.617ex" height="2.419ex" viewBox="0 -780.1 2418.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="1112" y="0"></use><g transform="translate(1712,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="511" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-3"> Sent_i </script>  - uma lista de solicita√ß√µes enviadas pelo servidor ao sucessor que ainda n√£o foram processadas por cauda. </li><li><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.141ex" height="2.66ex" viewBox="0 -832 7810.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="1703" y="0"></use><g transform="translate(2065,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">√≥</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-72" x="2479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="2931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-63" x="3276" y="0"></use><g transform="translate(3710,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="686" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-28" x="4540" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-63" x="4929" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-68" x="5363" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="5939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-76" x="6469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="6954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-29" x="7421" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> Hist√≥rico_i (chave) </script>  - um hist√≥rico de altera√ß√µes no valor da chave (voc√™ pode armazenar o hist√≥rico e apenas o valor total).  Note que: <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="54.834ex" height="2.78ex" viewBox="0 -832 23609.2 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="1703" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6F" x="2065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-72" x="2550" y="0"></use><g transform="translate(3002,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6A" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-28" x="3884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-63" x="4273" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-68" x="4707" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="5283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-76" x="5813" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="6298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-29" x="6765" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="7404" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-75" x="7874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-62" x="8446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="8876" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="9345" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="9812" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="10173" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-71" x="10640" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-48" x="11100" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="11989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="12334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="12804" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6F" x="13165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-72" x="13651" y="0"></use><g transform="translate(14102,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-28" x="14937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-63" x="15326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-68" x="15760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="16336" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-76" x="16866" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="17351" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-29" x="17818" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-2C" x="18207" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-66" x="18903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6F" x="19453" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-72" x="19939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="20390" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6C" x="20920" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6C" x="21218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6A" x="21517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-3E" x="22207" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="23263" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> History_j (chave) \ subseteq History_i (chave), \ forall j> i </script></p><br></li><li>  E tamb√©m: <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="72.771ex" height="5.792ex" viewBox="0 -780.1 31331.9 2494" role="img" focusable="false" style="vertical-align: -3.981ex; max-width: 604px;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(10193,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="1112" y="0"></use><g transform="translate(1712,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="511" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="2668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-75" x="3137" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-62" x="3710" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="4139" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="4609" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="5075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="5437" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-71" x="5903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-50" x="6364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="7115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="7582" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="8182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="8706" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="9172" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="9773" y="0"></use><g transform="translate(10134,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="659" y="-213"></use></g></g><g transform="translate(4013,-1377)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="1234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="1703" y="0"></use><g transform="translate(2065,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">√≥</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-72" x="2479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="2931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-63" x="3276" y="0"></use><g transform="translate(3710,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="686" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-28" x="4540" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-63" x="4929" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-68" x="5363" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="5939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-76" x="6469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="6954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-29" x="7421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-3D" x="8088" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-48" x="9144" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="10033" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="10378" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="10848" y="0"></use><g transform="translate(11209,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">√≥</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-72" x="11624" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="12076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-63" x="12421" y="0"></use><g transform="translate(12855,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6F" x="0" y="0"></use><g transform="translate(485,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-2B" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-28" x="14589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-63" x="14979" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-68" x="15412" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="15989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-76" x="16518" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="17004" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-29" x="17470" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-78" x="18110" y="0"></use><g transform="translate(18682,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">√≠</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-63" x="18941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="19375" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-72" x="19904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="20356" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-53" x="20885" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="21531" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="21997" y="0"></use><g transform="translate(22598,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="511" y="-213"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> Sent_i \ subseteq Pendente_i \\ Hist√≥rico_i (chave) = Hist√≥rico_ {i + 1} (chave) \ x√≠cara Sent_i </script></p><br></li></ul><br><h3>  2.3 Failover do servidor </h3><br>  Conforme mencionado na introdu√ß√£o, precisamos de algum tipo de processo mestre que: <br><br><ul><li>  Identifica um servidor com falha. </li><li>  Notifica seu antecessor e sucessor de altera√ß√µes no circuito. </li><li>  Se o servidor for de ponta a ponta, notificar√° os clientes sobre suas altera√ß√µes. </li></ul><br>  Acreditamos que o processo mestre √© est√°vel e nunca falha.  A escolha desse processo est√° al√©m do escopo deste artigo. <br><br>  A segunda suposi√ß√£o muito importante √© que assumimos que os servidores s√£o parados por falha: <br><br><ul><li>  No caso de qualquer falha (interna), o servidor para de funcionar e n√£o fornece um resultado incorreto. </li><li>  A falha do servidor √© sempre determinada pelo processo mestre. </li></ul><br>  Vamos ver como um novo servidor √© adicionado: <br>  Teoricamente, um novo servidor pode ser adicionado a qualquer lugar da cadeia, adicionando √† cauda parece ser o menos dif√≠cil - voc√™ s√≥ precisa copiar o status da cauda atual para o novo servidor, notificar o mestre sobre a altera√ß√£o na cadeia e notificar a cauda antiga que as solicita√ß√µes devem agora ser enviadas mais adiante. <br><br>  Por fim, considere tr√™s poss√≠veis cen√°rios de falha: <br><br>  <u>2.3.1 Queda de cabe√ßa</u> <br>  Basta remover o servidor da cadeia e atribuir o pr√≥ximo novo cabe√ßalho.  Somente a perda desses pedidos de <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.515ex" height="2.419ex" viewBox="0 -780.1 5819.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="1218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="1818" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="2342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="2808" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="3409" y="0"></use><g transform="translate(3770,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-68" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="576" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="1043" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="1572" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-7"> Pendente_ {head} </script>  que n√£o foram enviados mais - <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="36.116ex" height="2.419ex" viewBox="0 -780.1 15549.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="1218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="1818" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="2342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="2808" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="3409" y="0"></use><g transform="translate(3770,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-68" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="576" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="1043" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="1572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="6069" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="6538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="7005" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6D" x="7366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="8245" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="8590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-75" x="9191" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-73" x="9763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-45" x="10233" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="10997" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-76" x="11598" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="12083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="12429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="12958" y="0"></use><g transform="translate(13482,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6F" x="0" y="0"></use><g transform="translate(485,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-68" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="576" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="1043" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="1572" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-8"> Pendente_ {head} \ setminus Enviado_ {head} </script><br><br>  <u>2.3.2 Cauda de queda</u> <br>  Removemos o servidor da cadeia e atribu√≠mos o anterior √† nova cauda, ‚Äã‚Äãantes que <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.671ex" height="2.539ex" viewBox="0 -780.1 4163.8 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="1112" y="0"></use><g transform="translate(1712,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="890" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6C" x="1236" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-2212" x="1535" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-31" x="2313" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-9"> Sent_ {tail - 1} </script>  (todas essas opera√ß√µes s√£o marcadas como cauda processada), respectivamente <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.695ex" height="2.539ex" viewBox="0 -780.1 6326.8 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="1218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="1818" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="2342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="2808" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="3409" y="0"></use><g transform="translate(3770,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="890" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6C" x="1236" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-2212" x="1535" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-31" x="2313" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-10"> Pendente_ {tail - 1} </script>  diminui. <br><br>  <u>2.3.3 N√≥ intermedi√°rio em queda</u> <math> </math><u><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6B" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> k </script></u> <br>  O assistente informa os n√≥s <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.214ex" height="2.178ex" viewBox="0 -780.1 2244.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-2212" x="743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-31" x="1744" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> k-1 </script>  e <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.214ex" height="2.178ex" viewBox="0 -780.1 2244.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-2B" x="743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-31" x="1744" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> k + 1 </script>  sobre reordenar em uma cadeia. <br>  Poss√≠vel perda <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.006ex" height="2.539ex" viewBox="0 -780.1 3447.1 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="1112" y="0"></use><g transform="translate(1712,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-2212" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-31" x="1300" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-14"> Sent_ {k-1} </script>  se o n√≥ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6B" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> k </script>  N√£o consegui envi√°-los ainda mais ao meu sucessor, portanto, depois de excluir o n√≥ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6B" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-16"> k </script>  da cadeia a primeira coisa √© enviada novamente <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.863ex" height="2.539ex" viewBox="0 -780.1 5107.6 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-45" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="764" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-76" x="1365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="1850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="2196" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="2725" y="0"></use><g transform="translate(3249,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6F" x="0" y="0"></use><g transform="translate(485,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-2212" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-31" x="1300" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-17"> Enviado_ {k - 1} </script>  e somente depois desse n√≥ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.214ex" height="2.178ex" viewBox="0 -780.1 2244.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-2212" x="743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-31" x="1744" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-18"> k - 1 </script>  continua a processar novos pedidos. <br><br><h3>  2.4 Compara√ß√£o com o backup / protocolo prim√°rio </h3><br><ul><li>  Na replica√ß√£o em cadeia, apenas um servidor (cauda) est√° envolvido na execu√ß√£o das solicita√ß√µes de leitura e fornece uma resposta imediatamente, enquanto no P / B prim√°rio, pode esperar pela confirma√ß√£o da conclus√£o das solicita√ß√µes de grava√ß√£o. </li><li>  Nas duas abordagens, a solicita√ß√£o de grava√ß√£o √© executada em todos os servidores, o P / B √© mais r√°pido devido √† execu√ß√£o paralela. </li></ul><br>  Atrasos na replica√ß√£o da cadeia de falhas: <br><br><ul><li>  Cabe√ßa: a execu√ß√£o das solicita√ß√µes de leitura n√£o √© interrompida, as solicita√ß√µes de grava√ß√£o s√£o atrasadas em 2 mensagens - do mestre para todos os servidores sobre o novo cabe√ßote e do mestre para todos os clientes sobre o novo cabe√ßote. </li><li>  Servidor intermedi√°rio: solicita√ß√µes de leitura n√£o s√£o interrompidas.  Solicita√ß√µes de grava√ß√£o podem ser atrasadas no tempo de execu√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.617ex" height="2.419ex" viewBox="0 -780.1 2418.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-65" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-6E" x="1112" y="0"></use><g transform="translate(1712,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-69" x="511" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-19"> Sent_i </script>  N√£o h√° perdas de atualiza√ß√£o. </li><li>  Tail: Atraso nos pedidos de leitura e grava√ß√£o de duas mensagens - notifica√ß√£o <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.015ex" height="2.178ex" viewBox="0 -780.1 4311.9 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-75" x="963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-64" x="1535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMATHI-61" x="2059" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-2212" x="2810" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/430396/&amp;usg=ALkJrhi-UNHZfkwphDZaklyAImTT-3Xz3w#MJMAIN-31" x="3811" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-20"> cauda - 1 </script>  sobre a nova cauda e alertar os clientes sobre a nova cauda. </li></ul><br>  Atrasos P / B com falha: <br><br><ul><li>  Prim√°rio: atraso de 5 mensagens para selecionar um novo estado prim√°rio e de sincroniza√ß√£o. </li><li>  Backup: n√£o h√° atrasos de leitura se n√£o houver solicita√ß√µes de grava√ß√£o.  Quando uma solicita√ß√£o de grava√ß√£o √© exibida, √© poss√≠vel um atraso de 1 mensagem. </li></ul><br>  Como voc√™ pode ver, a pior falha de cauda para replica√ß√£o em cadeia √© mais r√°pida que a pior para P / B (Prim√°ria). <br><br>  Os autores dessa abordagem realizaram testes de carga, que mostraram desempenho compar√°vel ao do protocolo P / B. <br><br><h1>  3. Consultas distribu√≠das (replica√ß√£o em cadeia com consultas distribu√≠das - CRAQ) </h1><br>  A abordagem b√°sica tem uma √≥bvia fraqueza - cauda, ‚Äã‚Äãque lida com todos os pedidos de leitura.  Isso pode levar a dois problemas: <br><br><ul><li>  A cauda se torna ponto de acesso, ou seja,  um servidor que lida com muito mais solicita√ß√µes do que qualquer outro n√≥. </li><li>  Ao colocar uma cadeia em v√°rios datacenters, a cauda pode estar muito distante, o que atrasar√° as solicita√ß√µes de grava√ß√£o. </li></ul><br>  A id√©ia do CRAQ √© bastante simples - deixe que as solicita√ß√µes de leitura cheguem a todos os servidores, exceto a cauda, ‚Äã‚Äãe para garantir consist√™ncia, armazenaremos o vetor de vers√µes de objetos para solicita√ß√µes de grava√ß√£o e, em caso de ambiguidade, os n√≥s far√£o uma solicita√ß√£o para obter a √∫ltima vers√£o fixa. <br><br><h3>  3.1 CRAQ </h3><br>  Formalizamos a arquitetura CRAQ: <br>  Cada n√≥, exceto a cauda, ‚Äã‚Äãprocessa solicita√ß√µes de leitura e retorna uma resposta, e head retorna uma resposta das solicita√ß√µes de grava√ß√£o (compare com a abordagem b√°sica). <br><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/gj/6t/41/gj6t41wctfj90oqeqwyzmxzmlum.png"></div><br>  Em cada n√≥ que n√£o √© de cauda, ‚Äã‚Äãv√°rias vers√µes do mesmo objeto podem ser armazenadas e as vers√µes formam uma sequ√™ncia estritamente monot√¥nica.  Para cada vers√£o, um atributo adicional √© adicionado "limpo" ou "sujo".  Inicialmente, todas as vers√µes est√£o limpas. <br><br>  Assim que o n√≥ recebe uma solicita√ß√£o de grava√ß√£o, ele adiciona a vers√£o recebida √† lista de vers√µes e, em seguida: <br><br><ul><li>  Se o n√≥ √© cauda, ‚Äã‚Äãmarca a vers√£o como limpa, neste momento a vers√£o √© considerada fixa e envia uma confirma√ß√£o de volta para a cadeia. </li><li>  Caso contr√°rio, ele marca a vers√£o como suja e envia a solicita√ß√£o mais adiante na cadeia. </li></ul><br>  Assim que o n√≥ recebe confirma√ß√£o do sucessor, ele marca a vers√£o como limpa e exclui todas as vers√µes anteriores. <br><br>  Assim que o n√≥ receber uma solicita√ß√£o de leitura: <br><br><ul><li>  Se a √∫ltima vers√£o do objeto conhecida pelo n√≥ estiver limpa, ela retornar√°. </li><li>  Caso contr√°rio, ele faz um pedido para obter a √∫ltima vers√£o fixa do objeto, que ele retorna ao cliente.  (Por constru√ß√£o, essa vers√£o estar√° sempre no n√≥). </li></ul><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/ov/m9/ij/ovm9ijvqtmutvnc96zey0lti9os.png"></div><br>  Para aplicativos com predomin√¢ncia de solicita√ß√µes de leitura, o desempenho do CRAQ <b>aumenta linearmente com o crescimento de n√≥s</b> ; no caso de predomin√¢ncia de solicita√ß√µes de grava√ß√£o, o desempenho n√£o ser√° pior que o da abordagem b√°sica. <br><br>  O CRAQ pode estar localizado em um ou em v√°rios data centers.  Isso permite que os clientes selecionem os n√≥s mais pr√≥ximos para aumentar a velocidade das solicita√ß√µes de leitura. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/b4/mt/yv/b4mtyvanehrdfjdsp8iomlqz5x8.png"></div><br><br><h3>  3.2 Consist√™ncia no CRAQ </h3><br>  O CRAQ fornece uma consist√™ncia forte, exceto em um caso: quando o n√≥ recebe a √∫ltima vers√£o confirmada da cauda, ‚Äã‚Äãa cauda pode confirmar a nova vers√£o antes que o n√≥ responda ao cliente.  Nessa situa√ß√£o, o CRAQ fornece <b>leitura mon√≥tona</b> (as solicita√ß√µes de leitura sequencial n√£o ser√£o coisa do passado, mas podem retornar dados antigos) <b>em toda a cadeia</b> . <br><br>  Consist√™ncia fraca tamb√©m √© poss√≠vel: <br><br><ul><li>  Consist√™ncia eventual: o n√≥ n√£o solicitar√° a vers√£o confirmada mais recente da cauda.  Isso interromper√° a leitura mon√≥tona em toda a cadeia, mas manter√° a <b>leitura mon√≥tona no mesmo n√≥</b> .  Al√©m disso, ele pode suportar <b>a toler√¢ncia de particionamento de rede</b> . </li><li>  Consist√™ncia Eventual Limitada: retorne uma vers√£o suja apenas at√© um determinado ponto.  Por exemplo, a diferen√ßa entre as vers√µes suja e limpa n√£o deve exceder N revis√µes.  Ou um limite de tempo. </li></ul><br><h3>  3.3 Failover do servidor </h3><br>  Semelhante √† abordagem b√°sica. <br><br><h3>  3.4 Opcional </h3><br>  O CRAQ possui um recurso interessante - voc√™ pode usar multicast durante a opera√ß√£o de grava√ß√£o.  Suponha que o chefe envie a altera√ß√£o com um multicast e envie para a cadeia apenas algum identificador para esse evento.  Se a atualiza√ß√£o em si n√£o tiver chegado ao n√≥, ela poder√° esperar e receb√™-la do pr√≥ximo n√≥ quando o Tail enviar uma mensagem de confirma√ß√£o da altera√ß√£o.  Da mesma forma, a cauda pode enviar a confirma√ß√£o da fixa√ß√£o com multicast. <br><br><h1>  4. FAWN: uma matriz r√°pida de n√≥s Wimpy </h1><br>  Um estudo muito interessante, n√£o diretamente relacionado ao t√≥pico deste artigo, mas serve como um exemplo do uso da replica√ß√£o em cadeia. <br><br>  Os armazenamentos de valores-chave de alto desempenho (Dynamo, memcached, Voldemort) t√™m caracter√≠sticas comuns - exigem E / S, um m√≠nimo de computa√ß√£o, acesso independente paralelo a chaves aleat√≥rias em grandes quantidades e valores pequenos de chaves de at√© 1Kb. <br><br>  Servidores com HDDs n√£o s√£o adequados para esses clusters devido √† longa opera√ß√£o de busca (tempo de acesso aleat√≥rio), e os servidores com um grande n√∫mero de DRAM consomem uma quantidade surpreendentemente grande de energia - 2 GB de DRAM √© equivalente a 1 TB de HDD. <br><br>  A constru√ß√£o de um cluster (largura de banda) eficaz com consumo m√≠nimo de energia √© o objetivo do estudo original.  50% do custo do servidor por tr√™s anos s√£o custos de eletricidade e os modos modernos de economia de energia n√£o s√£o t√£o eficazes quanto s√£o anunciados - em testes com carga de 20%, o consumo da CPU permaneceu em 50%, al√©m de outros componentes do servidor n√£o possu√≠rem modos de economia de energia ( DRAM, por exemplo, j√° funciona no m√≠nimo).  √â importante observar que nesses clusters a diferen√ßa entre a CPU e a E / S aumenta - uma CPU poderosa √© for√ßada a aguardar a conclus√£o da opera√ß√£o de E / S. <br><br><h3>  4.1 Arquitetura </h3><br>  O cluster FAWN √© constru√≠do em servidores antigos por US $ 250 (pre√ßos de 2009), com uma CPU integrada de 500 MHz, 512 MB de RAM, SSD de 32 GB.  Se voc√™ estiver familiarizado com a arquitetura do Amazon Dynamo ou com hash consistente, estar√° familiarizado com a arquitetura FAWN: <br><br><ol><li>  Cada servidor f√≠sico cont√©m v√°rios n√≥s virtuais, cada um com seu pr√≥prio VID. </li><li>  Os VIDs formam um anel, cada VID √© respons√°vel por um intervalo "atr√°s de si" (por exemplo, A1 √© respons√°vel por chaves no intervalo R1). </li><li>  Para aumentar a confiabilidade, os dados s√£o replicados para R dos seguintes n√≥s no sentido hor√°rio.  (por exemplo, com R = 2, a chave em A1 √© replicada para B1 e C1), para obter replica√ß√£o em cadeia (abordagem b√°sica). </li><li>  As solicita√ß√µes de leitura v√£o para a cadeia de cauda, ‚Äã‚Äãou seja,  A leitura da chave de A1 ir√° para C1. </li><li>  Os pedidos de grava√ß√£o v√£o para a cadeia principal e v√£o at√© o fim. </li></ol><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/2c/ha/ju/2chajuapsbnk62bkoezfjqbx_sg.png"></div><br>  O mapa do servidor √© armazenado em um cluster de servidores front-end, cada um dos quais √© respons√°vel por sua lista VID espec√≠fica e pode redirecionar a solicita√ß√£o para outro servidor front-end. <br><br><h3>  4.2 Resultados do teste </h3><br>  No teste de carga, o FAWN atinge um QPS (consultas por segundo) de 90% do QPS em uma unidade flash de leitura aleat√≥ria. <br><br>  A tabela a seguir compara o Custo total de propriedade (TCO) de v√°rias configura√ß√µes, onde a base para o Traditional √© um servidor de US $ 1000 com consumo de 200 W (pre√ßos de 2009): <br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/vj/ki/kw/vjkikw3uwpxdhslspdiobfaosm0.png"></div><br>  Assim, se: <br><br><ul><li>  Big data, poucas consultas: FAWN + 2Tb 7200 RPM </li><li>  Uma pequena quantidade de dados, muitas solicita√ß√µes: FAWN + 2GB DRAM </li><li>  Valores m√©dios: FAWN + SSD de 32 GB </li></ul><br><div style="text-align:center;"><img width="400" src="https://habrastorage.org/webt/dl/ge/om/dlgeom_ymwwtheb8vdugkpgv23a.png"></div><br><h1>  Refer√™ncias </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Replica√ß√£o em cadeia para suportar alta taxa de transfer√™ncia e disponibilidade</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Armazenamento de objetos no CRAQ: replica√ß√£o em cadeia de alto rendimento para cargas de trabalho com leitura principalmente</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FAWN: Uma matriz r√°pida de n√≥s Wimpy</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430396/">https://habr.com/ru/post/pt430396/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430384/index.html">Criando mapas a partir de recursos de ru√≠do</a></li>
<li><a href="../pt430386/index.html">Usina de armazenamento de estado s√≥lido a ser constru√≠da na √çndia</a></li>
<li><a href="../pt430388/index.html">Desconfian√ßa na Web Summit</a></li>
<li><a href="../pt430392/index.html">Como desenvolvo e teste APIs com minha ‚Äúbicicleta‚Äù PieceofScript</a></li>
<li><a href="../pt430394/index.html">Implementando pesquisa instant√¢nea no Android usando RxJava</a></li>
<li><a href="../pt430398/index.html">Como entender que voc√™ n√£o √© bem-vindo ou discutir m√©todos para afastar trabalhadores da empresa</a></li>
<li><a href="../pt430400/index.html">Experi√™ncia no uso de um h√≠brido de teclado e mouse na programa√ß√£o</a></li>
<li><a href="../pt430402/index.html">O que o developer.android.com n√£o menciona sobre o RecyclerView?</a></li>
<li><a href="../pt430404/index.html">Coletamos dados sobre o comportamento do cliente no site</a></li>
<li><a href="../pt430406/index.html">C ++ 20 e M√≥dulos, Redes, Coroutines, Intervalos, Gr√°ficos. Resultados da reuni√£o em San Diego</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>