<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèáüèª üíáüèº üêí Dictionnaire du mod√®le de donn√©es üèÄ ü§ú ü§ö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mikhail Konovalov, chef du d√©partement de soutien aux projets d'int√©gration, direction informatique de l'ICD 

 Bonjour Khabrovites! 

 But 
 Une appr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dictionnaire du mod√®le de donn√©es</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mkb/blog/470153/">  <b>Mikhail Konovalov, chef du d√©partement de soutien aux projets d'int√©gration, direction informatique de l'ICD</b> <br><br>  Bonjour Khabrovites! <br><br><h4>  But </h4><br>  Une approche syst√©matique de la gestion des t√©l√©chargements.  Nous voulons dire comment rationaliser et automatiser le remplissage du r√©f√©rentiel avec des informations, et en m√™me temps ne pas se confondre dans les flux provenant de diverses sources. <br><a name="habracut"></a><br><h4>  Pr√©ambule </h4><br>  T√¥t ou tard, un moment survient dans la base de donn√©es d'entreprise de toute entreprise lorsqu'elle atteint la taille o√π l'≈ìil de l'architecte cesse de capter l'incertitude (chaos) du syst√®me, et se transforme en une masse incontr√¥lable de toutes sortes de t√©l√©chargements √† partir de diverses sources. <br><br>  Vous avez de la chance si votre syst√®me a √©t√© d√©velopp√© √† partir de z√©ro (d√®s le premier tableau) et a √©t√© g√©r√© par un architecte, une √©quipe de d√©veloppeurs et d'analystes.  Et d'ailleurs, cet architecte a dirig√© avec comp√©tence le mod√®le d'entrep√¥t de donn√©es.  Mais la vie est multiforme, dans la plupart des cas, la DWH se d√©veloppe spontan√©ment, au d√©but il y avait 30 tables, puis nous en avons ajout√© un peu plus au besoin, puis nous l'avons aim√© et nous avons commenc√© √† en ajouter pour chaque opportunit√©, et maintenant nous en avons plus de cinq mille, oui des couches, des mises en sc√®ne et des vitrines sont toujours apparues.  Et tout ce ¬´bonheur¬ª est tomb√© sur nous √† la suite d'un processus, mais tr√®s pratique, qui est une relation causale difficile: <br><br><ul><li>  l'entreprise d√©clare: ¬´Nous avons besoin de telles ou telles donn√©es.  Besoin d'un nouveau rapport ¬ª </li><li>  l'analyste regarde </li><li>  d√©veloppeur met en ≈ìuvre </li><li>  l'architecte coordonne et contribue au mod√®le de donn√©es </li></ul><br>  Mais, en r√®gle g√©n√©rale, le dernier point de la r√©alit√© n'existe pas.  Et cela n'appara√Æt qu'√† un certain moment dans les grandes entreprises qui ont grandi jusqu'√† leur DWH, o√π un architecte soign√© g√®re avec comp√©tence l'int√©grit√© des informations dans la base de donn√©es.  Ces r√©f√©rentiels sont un examen de la structure pr√©c√©dente, qui a √©t√© re-document√©e, et souvent reconstruite, en gardant un ≈ìil sur la version pr√©c√©dente (non document√©e). <br><br>  <b>Donc, un bref r√©sum√©:</b> <br><br><ol><li>  il n'y a pas de DWH qui est n√© imm√©diatement et qui auparavant ne repr√©sentait pas une base de donn√©es r√©guli√®re avec un ensemble de tables; </li><li>  tout ce qui existe maintenant, et qui est une structure clairement algorithmis√©e et document√©e, a √©t√© obtenu √† la suite d'une ¬´exp√©rience am√®re¬ª des d√©veloppements pr√©c√©dents. </li></ol><br>  Si vous √™tes l'heureux propri√©taire du DWH ¬´correct¬ª, ou si vous faites partie de l'√©quipe de cet heureux propri√©taire, cet article ¬´en th√©orie¬ª peut vous sembler int√©ressant.  Et si vous avez juste √† passer en revue ou (√† vous interdire) de reconstruire, cet article peut grandement vous simplifier la vie. <br><br>  Puisqu'il peut y avoir une quantit√© inimaginable de sources d'informations, il y a au moins le m√™me nombre de flux de t√©l√©chargement et de surcharge d'objets diff√©rents, et souvent beaucoup plus, car chaque objet de base de donn√©es peut subir plus d'une transformation avant que ses donn√©es puissent √™tre utilis√©es par l'utilisateur final pour construire rapports d'activit√©.  Mais c‚Äôest pour lui, pour les affaires et non pour son propre plaisir que tout cet √©cosyst√®me a √©t√© construit pour la ¬´transfusion de vaisseau en vaisseau¬ª. <br><br>  Oracle est utilis√© comme base de donn√©es de notre stockage.  Une fois, au stade de la cr√©ation, le noyau central de notre base de donn√©es √©tait constitu√© de quelques centaines de tables.  Nous n'avons pas pens√© √† la mise en sc√®ne et aux vitrines.  Mais, comme on dit, ¬´tout coule, tout change¬ª, et maintenant nous avons grandi!  L'entreprise impose de nouvelles exigences et l'int√©gration avec diverses bases de donn√©es MS SQL, SyBASE, Vertica, Access est d√©j√† apparue.  D'o√π l'information ne nous parvient pas, m√™me exotiques tels que l'√©change XML et JSON avec des syst√®mes tiers sont apparus, et le fichier XLS en tant que source d'information est compl√®tement anachronique. <br><br>  La vie nous a fait passer en revue et mettre √† jour le mod√®le de donn√©es, le maintenir et le maintenir.  Voici l'une des parties du noyau principal: <br><br><img src="https://habrastorage.org/webt/if/gg/ya/ifggyahxboid7r-nmcngx430upq.jpeg"><br>  <i>Fig.</i>  <i>1</i> <br><br>  Pour qui c'est, mais pour moi - il n'est lisible que sur un papier Whatman, et A0 sera un peu petit, meilleur que 4A0, √† l'√©cran c'est impossible √† l'oeil ou √† l'imagination. <br><br>  Rappelons maintenant que ce n'est que le noyau (Core Data Layer), ou plut√¥t sa partie principale, le noyau complet se compose de plusieurs sous-syst√®mes qui ne sont pas tr√®s inf√©rieurs au principal.  <b>La couche de donn√©es principale</b> et la <b>couche</b> <b>Data Mart sont √©galement</b> ajout√©es √† cela.  De plus - de plus, la couche primaire re√ßoit ses informations des sources de donn√©es, et ce, comme mentionn√© ci-dessus, diverses bases de donn√©es et fichiers.  En revanche, √† la couche des vitrines, diff√©rents syst√®mes de reporting sont joints par le consommateur. <br><br>  Au d√©but, quand il y avait peu de tables de base de donn√©es et d'algorithmes de chargement impl√©ment√©s en PL / SQL, il n'y avait pas de difficult√©s particuli√®res pour comprendre les mises √† jour des donn√©es.  Mais avec la mont√©e en puissance de DWH, la d√©cision strat√©gique a √©t√© d'acheter Informatica PowerCenter.  Avec toute la commodit√© de cet outil, tant en termes de fiabilit√© de chargement que de visualisation de d√©veloppement, cet outil pr√©sente plusieurs inconv√©nients.  La figure ci-dessous montre un mod√®le pour la s√©quence de d√©marrage pour le chargement d'un DWH. <br><br><img src="https://habrastorage.org/webt/mk/pj/xp/mkpjxpg14fprrf9ougtavdifsoy.jpeg"><br>  <i>Fig.</i>  <i>2</i> <br><br>  L'inconv√©nient le plus important est la subjectivit√©, ou plut√¥t, seul l'architecte peut garantir que les articles ne sont pas charg√©s avant les factures.  Malheureusement, avec la croissance de DWH, l'entropie des informations augmente √©galement.  Compte tenu du mod√®le de donn√©es physiques (Fig. 1) et de la logique de chargement de ces donn√©es (Fig. 2), la construction est toujours obtenue. <br><br>  Que faire et comment le diriger, demandez-vous.  Naturellement: avoir un brillant architecte capable de comprendre toutes les connexions de ces subtilit√©s.  Qui surveillera tous les flux, coordonnera les nouveaux flux et emp√™chera le chargement de la table de publication plus t√¥t que la table de compte.  Bien s√ªr, tout cela est int√©gr√© dans les algorithmes et r√©glement√© par les coupures des t√©l√©chargements, mais au d√©part, seul l'architecte peut comprendre et d√©finir les t√©l√©chargements dans une s√©quence stricte, et avec une telle ramification, la probabilit√© d'erreurs est tr√®s √©lev√©e. <br><br><h4>  Th√©orie </h4><br>  Je vais maintenant essayer d'√©noncer les id√©es principales du dictionnaire de mod√®les de donn√©es, ainsi que les t√¢ches qu'il r√©sout. <br><br>  √âtant donn√© que les donn√©es stock√©es sont dans des tableaux et que les sources de donn√©es sont en partie des tableaux et en partie des vues, ces derni√®res sont elles-m√™mes des tableaux.  Ensuite, une id√©e simple suit - pour cr√©er une structure de d√©pendance <b>TABLE - TABLE</b> .  La forme <b>3NF</b> est parfaitement adapt√©e √† cela. <br><br>  Tout d'abord, en remplissant les donn√©es de l'entit√© DWH, nous l'appelons <b>(cible)</b> , dans le cas le plus g√©n√©ral, peut √™tre repr√©sent√© comme <b>s√©lectionn√©</b> dans diff√©rentes tables.  Que ce soit des tables Oracle, SyBase, MSSQL, des fichiers xls ou autre chose, ce n'est pas si important, tout √ßa, on appelle leurs sources <b>(source)</b> .  Autrement dit, nous avons une <b>source</b> qui se jette dans la <b>cible</b> . <br><br>  Deuxi√®mement, chaque entit√© DWH a des r√©f√©rences les unes aux autres. <br><br>  Troisi√®mement, il existe une chronologie de d√©marrage des t√©l√©chargements de diverses entit√©s DWH. <br><br>  Cela reste le cas pour les petits, √† mettre en ≈ìuvre - comment?  Il semblerait que ce soit tr√®s simple, depuis la fondation de votre DWH, l'architecte, lorsque le prochain tableau de l'entit√© <b>(cible)</b> appara√Æt, doit regarder et mettre dans le dictionnaire l'entit√© r√©ceptrice et toutes les entit√©s qui servent de sources.  De plus, dans la deuxi√®me table du dictionnaire, sp√©cifiez les liens entre ces sources d'entit√©s dans select, ainsi que toutes les tables subordonn√©es qui sont r√©f√©renc√©es par des r√©f√©rences.  Ensuite, vous pouvez int√©grer le chargement de cette entit√© dans la cha√Æne de t√©l√©chargement du stockage.  Seules deux tables - et la possibilit√© de prendre en compte la s√©quence de remplissage de l'entrep√¥t de donn√©es avec l'algorithme sont r√©solues. <br><br>  Le mod√®le de donn√©es du dictionnaire r√©soudra les probl√®mes suivants: <br><br><ul><li>  Afficher les d√©pendances.  Vous pouvez voir de quelles donn√©es, d'o√π elles proviennent.  C'est pratique pour les analystes qui sont toujours tourment√©s par des questions: "o√π, ce qui se trouve et d'o√π vient tout".  Pr√©sentez-le dans l'application sous forme d'arbre, de la <b>source</b> √† la <b>cible</b> , et vice versa: de la <b>cible</b> √† la <b>source</b> . </li><li>  Rupture de boucles.  Lors de l'incorporation de la prochaine charge dans un flux partag√© d√©j√† fonctionnel, sans avoir de dictionnaire de mod√®le de donn√©es, il est tout √† fait possible de faire une erreur et d'attribuer une heure de d√©but pour charger la prochaine cible devant l'une de ses sources.  Cela cr√©e une boucle.  Un dictionnaire de mod√®les de donn√©es √©vitera facilement cela. </li><li>  Vous pouvez √©crire un algorithme pour remplir le stockage en fonction du dictionnaire de mod√®les.  Dans ce cas, il n'est pas n√©cessaire d'incorporer le prochain t√©l√©chargement n'importe o√π, il suffit de le refl√©ter dans le dictionnaire et l'algorithme d√©terminera sa place.  Reste √† cliquer sur le bouton convoit√© <b>¬´Make ALL¬ª</b> .  Le chargeur de d√©marrage lancera des t√©l√©chargements de type avalanche de toutes les entit√©s de stockage - du simple (ind√©pendant) au complexe (d√©pendant). </li></ul><br><h4>  Impl√©mentation </h4><br>  En th√©orie, tout est toujours simple et beau; en pratique, les choses sont quelque peu diff√©rentes.  Ce qui est √©crit dans la section pr√©c√©dente est une situation id√©ale lorsque DWH s'est d√©velopp√© √† partir de z√©ro, quand un architecte √©tait ins√©parablement avec lui.  Si vous n'√™tes pas chanceux, vous avez pass√© tout cela en toute s√©curit√©, il n'y a pas d'architecte, mais il y a un gigantesque ensemble de tables, puis de toute fa√ßon, il y a une issue. <br><br>  Maintenant, en fait, je vais vous dire comment nous avons r√©ussi √† rattraper notre retard et √† faire des r√©visions et des reconstructions assez bon march√©.  Notre DWH a commenc√© √† √©voluer avec une d√©cision de leadership sur un besoin imminent (DWH).  Comme outil, PL / SQL a √©t√© utilis√© pour la premi√®re fois.  Un peu plus tard, je suis pass√© √† Informatica.  Naturellement, la priorit√© √©tait le moment de la cr√©ation.  Le mod√®le de donn√©es dans PowerAMC ‚Äã‚Äãest apparu quelque temps plus tard, au moment o√π la confiance s'est clairement form√©e que personne ne pouvait clairement imaginer une image compl√®te et claire de DWH.  Nous avons v√©cu pendant un certain temps avec le mod√®le sur le mur, quand il est devenu clair que nous ne pouvions pas faire face √† la gestion de tout ce syst√®me, nous avons commenc√© √† chercher une solution que je vais essayer de d√©crire bri√®vement ici. <br><br>  Le dictionnaire du mod√®le de donn√©es lui-m√™me est aussi simple qu'un b√¢ton.  Mais le remplir est un probl√®me.  N mois de travail minutieux et, surtout, un examen attentif des trois parties ci-dessus: <br><br><ul><li>  de quelles sources (source) chaque entit√© du r√©f√©rentiel (cible) est constitu√©e; </li><li>  quelles sont les relations entre les objets de stockage (r√©f√©rences); </li><li>  la chronologie du d√©but des t√©l√©chargements et le remplissage du r√©f√©rentiel. </li></ul><br>  Heureusement, Oracle et Informatica nous ont aid√©s, et il s'est av√©r√© que le r√©f√©rentiel Informatica se trouve dans la base de donn√©es Oracle.  Prenant comme base qu'une session Informatica est l'atome de chargement d'une entit√© DWH, en creusant un peu dans le r√©f√©rentiel, nous avons trouv√© toutes les sources et cibles.  Autrement dit, dans le cadre d'une session, pour l'ensemble de sa cible (en r√®gle g√©n√©rale, elle est une), toutes ses sources sont des sources.  Ainsi, nous pouvons remplir la premi√®re condition du probl√®me.  Mais ne vous pr√©cipitez pas pour vous r√©jouir, la source peut √™tre pr√©sent√©e sous la forme d'une s√©lection tr√®s intelligente, vous avez donc d√ª √©crire un analyseur qui extrait toutes les tables sp√©cifi√©es dans select - ce n'√©tait pas du tout difficile.  Mais ce n'est pas tout, ces tableaux eux-m√™mes peuvent en fait √™tre des repr√©sentations.  En utilisant DBA_VIEWS (ou via DBA_DEPENDENCIES), ce probl√®me a √©galement √©t√© r√©solu.  Nous avons tir√© la deuxi√®me condition de cette trilogie du mod√®le de donn√©es (Fig. 1) et de DBA_CONSTRAINTS.  Nous avons √©galement obtenu la troisi√®me condition √† partir du r√©f√©rentiel Informatica bas√© sur (Fig. 2). <br><br>  <b>Qu'est-il arriv√© de tout cela?</b> <br><br><ul><li>  Premi√®rement, nous avons d√©m√™l√© toutes les boucles que nous avons r√©ussi √† enrouler dans l'√©volution de notre DWH. </li><li>  Deuxi√®mement, nous avons un merveilleux arbre pour les analystes: <br><br><img src="https://habrastorage.org/webt/vk/kg/hg/vkkghgftzww15zjacq1z0nwdwha.jpeg"><br>  <i>Fig.</i>  <i>3</i> </li><li>  Troisi√®mement, notre super-chargeur, pr√©sent√© sur la fig.  2 transform√© en √©l√©gant (d√©sol√©, coll√®gues, mais le flou de l'image est intentionnel, car il s'agit de donn√©es de travail): <br><br><img src="https://habrastorage.org/webt/eu/mz/pc/eumzpcreywcm7em5gxpaswb_kpy.jpeg"><br>  <i>Fig.</i>  <i>4</i> </li></ul><br>  Vous pouvez avoir beaucoup plus de fa√ßons d'appliquer le dictionnaire de mod√®le de donn√©es. <br><br>  Merci √† tous! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470153/">https://habr.com/ru/post/fr470153/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470129/index.html">Gestion de la m√©moire d√©clarative</a></li>
<li><a href="../fr470133/index.html">Comment collecter des m√©triques non d√©form√©es par r√©f√©rence temporelle avec Prometheus</a></li>
<li><a href="../fr470135/index.html">Une application web interactive sans programmation? C'est facile! Mavo dans tes bras</a></li>
<li><a href="../fr470145/index.html">"Attention, SAF!": Pourquoi le ticket militaire est-il dangereux dans la publicit√©, pourquoi est-il important de conna√Ætre les math√©matiques et si la v√©rit√© nue est toujours n√©cessaire</a></li>
<li><a href="../fr470149/index.html">Il n'y aura pas de collections immuables en Java - ni maintenant ni jamais</a></li>
<li><a href="../fr470159/index.html">Prime Generation</a></li>
<li><a href="../fr470165/index.html">La philosophie de la division par ... ou la confession d'un fou</a></li>
<li><a href="../fr470167/index.html">Conf√©rence pour ceux qui s'int√©ressent √† la science avant qu'elle ne devienne un courant dominant</a></li>
<li><a href="../fr470169/index.html">Comment emp√™cher l'id√©e de mourir et de rassembler une √©quipe qui ne la tuera pas</a></li>
<li><a href="../fr470171/index.html">Habr Weekly # 21 / Dobroshrift, technodom pour un chat, le droit de r√©parer des appareils √©lectrom√©nagers, l'Union europ√©enne et les cookies ¬´transparents¬ª</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>