<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕐 🤴 🆓 SwayWM-自己进行Unix色情 🔊 👆🏼 👩🏿‍🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="大家好 在本文中，我将介绍我在设置和使用sway（Linux的平铺窗口管理器）方面的经验。 
 它是什么，为什么需要它？ 


 正式来说，sway是平铺窗口管理器，是在Wayland上运行的透明i3wm替代品。 
 魏兰德（又名Wölund）等 -来自古德语和古北欧神话的人物，这本书是由英国民俗家...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SwayWM-自己进行Unix色情</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484378/"><p> 大家好 在本文中，我将介绍我在设置和使用sway（Linux的平铺窗口管理器）方面的经验。 <a name="habracut"></a></p><br><h1 id="chto-eto-takoe-i-zachem-ono-nuzhno"> 它是什么，为什么需要它？ </h1><br><p> 正式来说，sway是平铺窗口管理器，是在Wayland上运行的透明i3wm替代品。 </p><br><blockquote> 魏兰德（又名Wölund）等  -来自古德语和古北欧神话的人物，这本书是由英国民俗家杰西·韦斯顿（Jessie Weston）一次写的。 现在你知道了。 </blockquote><p> 但是，我认为sway的主要特征是它是一个构造函数，具有此方法的所有优点和缺点。 如果您喜欢Vim（使用键盘时的方向会加剧与Vim的相似性），Archlinux和类似项目，那么我建议您仔细研究一下。 我个人的看法是，一旦花费更多的时间进行设置，您将为自己带来一个非常稳定和便捷的环境，其中不会发生任何意外情况。 </p><br><p> 如果sway和Wayland的劣势（例如缺乏对NVidia私人司机的支持以及需要为许多熟悉的程序寻找类似物）对您来说致命，我建议您注意x3 i3wm。 构造器部分将完全不同，您将必须安装xinit，配置各种.Xauthority，有可能处理撕裂，但系统的一般逻辑是完全相同的。 </p><br><h1 id="ustanovka"> 安装方式 </h1><br><p> Sway可能在您的发行版存储库中。 但是，如果要安装较新的版本，则非常简单。  <a href="https://github.com/swaywm/sway">github</a>项目页面的依赖项列表很少。 安装它们，克隆存储库，将<code>wlroots</code>克隆到<code>subprojects</code>文件夹： </p><br><pre> <code class="plaintext hljs">hub clone swaywm/sway hub clone swaywm/wlroots sway/subprojects/wlroots</code> </pre><br><p>  （在这里，我使用<a href="https://github.com/github/hub">集线器</a> 。这是一种非标准但非常方便的工具）。 之后，您可以配置和构建： </p><br><pre> <code class="plaintext hljs">meson setup ./sway-build ./sway --buildtype=minsize ninja -C ./sway-build doas ninja -C ./sway-build install</code> </pre> <br><blockquote>  doas是OpenBSD开发人员的轻量级sudo替代品。  Linux通常使用其<a href="https://github.com/Duncaen/OpenDoas">OpenDoas分支。</a> </blockquote><br><h1 id="zapusk"> 发射 </h1><br><p> 如果您想在不使用SDDM之类的管理器的情况下从命令行运行，那么唯一正确的方法是 </p><br><pre> <code class="plaintext hljs">$ exec sway</code> </pre> <br><p> 如果您在没有<code>exec</code>情况下运行sway，使用swaylock锁定屏幕，并且sway崩溃，您将被退回到命令行。 锁将无用。 </p><br><blockquote> 给系统风扇的注意事项：摇摆既不需要systemd-logind也不需要elogind。 是的，在这种情况下，您将必须设置suid位或配置功能。 参见<a href="https://github.com/swaywm/sway/wiki/Running-Sway-without-systemd">维基</a> 。 </blockquote><br><h2 id="peremennye-okruzheniya"> 环境变量 </h2><br><p> 我在几个地方开了这些药。 </p><br><p> 位于<code>~/.local/bin/sway</code> Shell脚本-用于特定于sway的变量。 例如，我希望Qt应用程序不显示风景并使用<code>qt5ct</code>的主题： </p><br><pre> <code class="plaintext hljs">#!/bin/bash QT_QPA_PLATFORMTHEME=qt5ct \ QT_WAYLAND_DISABLE_WINDOWDECORATION=1 \ /usr/bin/sway</code> </pre> <br><p>  <code>~/.pam_environment</code>用于我要立即在systemd用户会话中使用的变量。 一个例子： </p><br><pre> <code class="plaintext hljs">SSH_AUTH_SOCK DEFAULT="${XDG_RUNTIME_DIR}/gnupg/S.gpg-agent.ssh"</code> </pre> <br><p> 但是，请谨慎更改此文件，尤其是在使用其他环境的情况下。 例如，如果KDE Plasma在那里检测到<code>$WAYLAND_DISPLAY</code>则不会非常喜欢（具有讽刺意味的是， <code>pam_env</code>此文件的<code>pam_env</code>模块是N年前创建的，主要用于设置<code>$DISPLAY</code>变量）。 </p><br><p>  <code>~/.bashrc</code>对于所有其他情况。 </p><br><h1 id="nastroyka-sway"> 摇摆设置 </h1><br><h2 id="vvod"> 进入 </h2><br><p> 在我的系统中，一切都非常简单：我们安装了俄语和英语版式，并通过<code>Alt+Shift</code>在它们之间<code>Alt+Shift</code> 。 在sway配置中，它看起来像这样： </p><br><pre> <code class="plaintext hljs">input * { xkb_layout us,ru xkb_options grp:alt_shift_toggle }</code> </pre> <br><p>  Sway使用<code>libinput</code>库进行输入，与KDE和Gnome相同。 因此，我们有许多可用的选项。 触摸板设置，自然滚动，鼠标指针加速等 等 可以在<code>man sway-input</code>检查选项列表，并在命令的输出中检查输入设备的列表 </p><br><pre> <code class="plaintext hljs">swaymsg -t get_inputs</code> </pre> <br><p> 但是，我想提请注意一个有趣的机会。 如果您要从X环境迁移，则只需从那里转移键盘设置即可。 在此环境中运行命令 </p><br><pre> <code class="plaintext hljs">$ xkbcomp $DISPLAY /path/to/keymap.xkb</code> </pre> <br><p> 并在sway配置寄存器中 </p><br><pre> <code class="plaintext hljs">input * { xkb_file /path/to/keymap.xkb }</code> </pre> <br><h2 id="hotkei"> 热键 </h2><br><p> 像其他所有热键一样，热键也在配置中设置。 有3条命令来定义它们： </p><br><ol><li>  <code>bindswitch</code> 。 当打开/关闭笔记本电脑的机盖，切换到平板电脑模式等时执行此操作。 </li><li>  <code>bindcode</code> 。 当按下具有指定代码的键时执行。 它不依赖于当前布局，对于多媒体键尤其有用。 </li><li>  <code>bindsym</code> 。 输入的当前字符取决于布局。 但是，如果添加<code>--to-code</code>参数，则该字符将从<code>--to-code</code>隐式转换为第一个布局的相应代码（请参见输入设置）。 </li></ol><br><p> 例如，这样的热键将跳动当前窗口，而不管布局如何： </p><br><pre> <code class="plaintext hljs">bindsym --to-code $mod+Shift+q kill</code> </pre> <br><p> 您可以在mana中阅读有关这些参数的更多信息： <code>man 5 sway</code> 。 </p><br><p> 为了轻松确定按下的内容，sway的作者编写了一个特殊的<a href="https://git.sr.ht/~sircmpwn/wshowkeys">键盘记录程序</a> （他需要root用户权限才能工作，因此无需担心安全性）。 </p><br><h2 id="vyvod"> 结论 </h2><br><p> 可用命令获取可用输出设备的列表 </p><br><pre> <code class="plaintext hljs">swaymsg -t get_outputs</code> </pre> <br><p> 在每个配置中，您可以设置视频模式，缩放（包括小数），图片，旋转等。 最简单的配置如下所示： </p><br><pre> <code class="plaintext hljs">output HDMI-A-1 mode 1920x1080@60Hz output * bg /path/to/wallpaper.jpg fill</code> </pre> <br><p> 选项的完整列表可以在<code>man sway-output</code>魔法中找到。 <br> 还有一个<a href="https://github.com/emersion/wlr-randr">wlr-randr</a>程序，可以在命令行中设置所有这些程序（也就是说，它是Wayland的XRandr的类似物）。 </p><br><h2 id="swaybar"> 摇杆 </h2><br><p>  Swaybar-在其上显示状态信息的面板。 日期，时间，系统托盘等 等 通常，i3和摇摆爱好者会花费最多时间来设置此特定面板（或多个面板，可能有几个）。 就个人而言，我已经足够了，接近最低配置： </p><br><pre> <code class="plaintext hljs">bar { position top colors { statusline #ffffff background #282828E6 inactive_workspace #282936BF #282936BF #5c5c5c } font Hack 11 status_command i3blocks }</code> </pre> <br><p> 有许多选项可用于调整位置，颜色，字体，纸盘等。 您可以在mana- <code>man 5 sway-bar</code>有关它们的信息。 </p><br><p>  Swaybar致力于以i3bar格式读取和解析json，由<code>status_command</code>输出。 这里有许多程序可以使用。  <a href="https://i3wm.org/i3status/">i3status</a> ， <a href="https://github.com/Alexays/Waybar">waybar</a> ， <a href="https://github.com/greshake/i3status-rust">i3status-rs</a>和许多其他项目。 就个人而言，我更喜欢<a href="https://github.com/vivien/i3blocks">i3blocks，</a>因为其配置简单且易于添加自定义块。 </p><br><h1 id="nastroyka-prikladnyh-programm"> 应用程式设定 </h1><br><h2 id="uvedomleniya"> 通知事项 </h2><br><p> 这可以<a href="https://github.com/emersion/mako">通过mako</a>守护程序完成（很可能在您的发行版中）。 您也可以在那里调整颜色等，但这都是可选的。 只需运行它，它将起作用。 </p><br><p>  Mako实现了基于dbus的XDG桌面通知规范。 许多程序都支持它，包括Chromium，Firefox和Telegram。 </p><br><h2 id="emulyator-terminala"> 终端模拟器 </h2><br><p> 在诸如KDE的环境中，Plasma通常使用内置的模拟器来显示菜单，选项卡和许多其他设计元素。 但是，为什么这一切都可以控制？ 我更喜欢<a href="https://github.com/alacritty/alacritty">Alacritty-</a>非常感谢使用Rust编写的方式使用GPU仿真器。 我在他的配置（ <code>~/.config/alacritty/alacritty.yml</code> ）的key_bindings部分中添加了这样的热键： </p><br><pre> <code class="plaintext hljs">- { key: T, mods: Control|Shift, action: SpawnNewInstance }</code> </pre> <br><p> 用当前目录打开一个新窗口。 制表符的一个很好的替代品，并且摇摆会照顾到布局。 </p><br><pre> <code class="plaintext hljs">- { key: Up, mods: Control|Shift, action: ScrollLineUp, mode: ~Alt } - { key: Down, mods: Control|Shift, action: ScrollLineDown, mode: ~Alt }</code> </pre> <br><p> 向上/向下滚动一行。 </p><br><p> 我们在sway配置中编写 </p><br><pre> <code class="plaintext hljs">set $term alacritty bindsym $mod+Return exec $term</code> </pre> <br><p>  Alacritty不支持连字，因为它们会影响渲染速度。 如果您仍然需要它们，请注意<a href="https://sw.kovidgoyal.net/kitty/">小猫</a> -这个模拟器也非常快，而且引擎盖下只有令人恐惧的功能和设置。 </p><br><h2 id="zapusk-prilozheniy"> 启动应用程序 </h2><br><p> 通常，使用热键菜单启动正在运行的应用程序。 在配置中，他们写类似 </p><br><pre> <code class="plaintext hljs">set $menu ... bindsym --to-code $mod+d exec $menu</code> </pre> <br><p> 有很多程序可以显示菜单。 有些，例如<a href="https://tools.suckless.org/dmenu/">dmenu</a>或<a href="https://github.com/davatorium/rofi">rofi</a> ，需要XWayland。 在Wayland领导下的工作人员中，我们可以区分<a href="https://github.com/Cloudef/bemenu">bemenu</a>甚至krunner（KDE中<code>Alt+F2</code> 。是的，这是一个独立程序）。 </p><br><p> 但是，我更喜欢通用的解决方案，即<a href="https://github.com/Biont/sway-launcher-desktop">sway-launcher-desktop</a> 。 尽管有名称，但它并不依赖于sway，并且通常不是GUI程序，而是在控制台中工作的小型Shell脚本。 此脚本由<code>$PATH</code>程序，已安装的桌面文件（根据XDG Desktop Entry规范）以及可能的其他源（在config中配置）组成菜单。 出色的<code>fzf</code>实用程序用于显示和搜索菜单-请注意。 </p><br><p> 因此，要显示菜单，我们需要使用此程序打开一个终端窗口。 具有敏捷性，这是这样完成的： </p><br><pre> <code class="plaintext hljs">set $menu exec alacritty -e sway-launcher-desktop bindsym --to-code $mod+d exec $menu</code> </pre> <br><p> 您可能希望默认情况下使此窗口浮动。 在i3和sway中，使用<code>for_window</code>指令在配置中配置这些规则。 要将规则映射到<code>sway-launcher-desktop</code>窗口，需要为其分配一些唯一的类，对我来说，它只是<code>Launcher</code> 。 请记住，由于使用Wayland，因此<a href="https://i3wm.org/docs/userguide.html">i3手册</a>中列出的条件不适合摇摆。 正确的答案可以在“ <code>man 5 sway</code> ”的章节中找到。 在这种情况下， <code>app_id</code>非常合适，最终配置如下所示： </p><br><pre> <code class="plaintext hljs">set $menu exec alacritty --class Launcher -e sway-launcher-desktop for_window [app_id="Launcher"] floating enable, border pixel 10, sticky enable bindsym --to-code $mod+d exec $menu</code> </pre> <br><h2 id="avtozapusk-prilozheniy"> 自动启动应用 </h2><br><p> 原则上，要自动启动程序，您只需编写 </p><br><pre> <code class="plaintext hljs">exec /path/to/program</code> </pre> <br><p> 在sway config中，甚至创建自定义systemd单元。 但是，在本文中，我将使用KDE和Gnome所采用的XDG Autostart规范。 </p><br><p> 该规范是运行位于<code>/etc/xdg/autostart</code>和<code>~/.config/autostart</code>中的桌面文件。 通常，这些文件与程序打包在一起，但是很容易创建自己。 </p><br><p> 这就是摇摆的模块化本质所在。  Sway本身对XDG自动启动一无所知，也对XDG桌面条目一无所知。 此外，其开发人员积极不喜欢这些以及所有类似的规范。 但是， <a href="https://github.com/jceb/dex">dex</a>控制台实用程序可以管理它们（很可能在发行版的存储库中）。 </p><br><p> 要检查自动运行中的内容，请键入以下命令 </p><br><pre> <code class="plaintext hljs">$ dex -ade Sway</code> </pre> <br><p>  <code>a</code>表示自动启动， <code>d</code> “空运行”， <code>-e Sway</code>设置环境名称（可以是任意名称），并用于过滤。 </p><br><p> 结果列表很可能不适合您。 例如，我在<code>kgpg</code>有<code>kgpg</code> 。 我们按如下步骤进行：将相应的桌面文件从<code>/etc/xdg/autostart</code>复制到<code>~/.config/autostart</code> ，在其中添加该行 </p><br><pre> <code class="plaintext hljs">NotShowIn=Sway</code> </pre> <br><p> 然后再次检查自动运行。 许多程序（尤其是用Electron编写的程序）可能不喜欢在Wayland下运行。 我们对他们也一样。 我们复制桌面文件并在那里更改启动行。 那是： </p><br><pre> <code class="plaintext hljs">Exec=/usr/bin/skypeforlinux</code> </pre> <br><p> 成为： </p><br><pre> <code class="plaintext hljs">Exec=env GDK_BACKEND=x11 /usr/bin/skypeforlinux</code> </pre> <br><p> 上一段落中的swing-launcher-desktop可以使用相同的技术。 解决所有问题后，将行添加到sway配置中 </p><br><pre> <code class="plaintext hljs">exec dex -ae Sway</code> </pre> <br><p> 或者，您也可以执行相反的操作：将所需的桌面文件复制到某个非标准目录，然后使用以下命令在其上设置dex </p><br><pre> <code class="plaintext hljs">exec dex -as /path/to/your/dir</code> </pre> <br><h2 id="skrinshoty"> 屏幕截图 </h2><br><p> 两个棺材将帮助我们解决这个问题。  <a href="https://github.com/emersion/slurp">slurp</a>允许您在屏幕上选择任意矩形区域，然后<a href="https://github.com/emersion/grim">grim对其</a>进行截图。 在我的配置中，它看起来像这样： </p><br><pre> <code class="plaintext hljs">bindsym Print exec grim ~/Pictures/screen-"$(date +%s)".png bindsym $mod+Print exec grim -g "$(slurp)" ~/Pictures/screen-"$(date +%s)".png</code> </pre> <br><p>  <code>$mod+PrintScreen</code>任意区域的屏幕截图， <code>PrintScreen</code>整个屏幕的屏幕截图。 </p><br><h2 id="skrinkasty"> 截屏 </h2><br><p> 如果您需要将截屏视频写入文件或将其流式传输到RTMP流（例如，在Twitch上），则<a href="https://github.com/ammen99/wf-recorder">wf-recorder</a>将对此提供帮助（还支持slurp）。 </p><br><p> 如果要使用OBS Studio，则可以使用<a href="https://hg.sr.ht/~scoopta/wlrobs">wlrobs</a>插件。 </p><br><p> 但是，一方面在KDE和Gnome中以及在另一方面（尤其是在Chrome和Firefox浏览器中）支持的最通用的解决方案是使用Pipewire和XDG Desktop Portal规范。 为了摇摆，有必要的<a href="https://github.com/emersion/xdg-desktop-portal-wlr">xdg-desktop-portal-wlr层</a> ，尽管我没有检查其性能。 </p><br><h2 id="nochnoy-rezhim"> 夜间模式 </h2><br><p> 夜间模式是在黑暗中用较暖的颜色替换显示器的颜色。 科学家们怀疑这真的有用吗，Wayland的开发人员认为，出于技术原因，对伽玛校正协议进行标准化是没有用的。 </p><br><p> 不过，我喜欢这个功能，而且它也一直存在。 对于夜间模式，我们需要该<a href="https://github.com/minus7/redshift">redshift分支</a>以支持特定于摇摆的协议。 </p><br><p> 我们可以通过任何方式安装它，在<code>~/.config/redshift/redshift.conf</code>配置中，选择所需的协议并指定经度和纬度。 </p><br><pre> <code class="plaintext hljs">[redshift] location-provider=manual adjustment-method=wayland [manual] lat=xx.xx lon=yy.yy</code> </pre> <br><h2 id="blokirovka-i-otklyuchenie-ekrana"> 锁定并关闭屏幕 </h2><br><p> 来自另一个棺材的两个人来这里营救。 如果没有活动， <code>swayidle</code>将在超时中运行给定命令（反之亦然，其外观），并且<code>swaylock</code>锁定屏幕并要求输入密码。 您可以关闭屏幕（或所有屏幕，如果有多个屏幕） </p><br><pre> <code class="plaintext hljs">swaymsg "output * dpms off"</code> </pre> <br><p> 守护程序的外观如下所示：在不活动300秒后阻止屏幕，并在600秒后将其关闭： </p><br><pre> <code class="plaintext hljs">swayidle -w \ timeout 300 'swaylock -f -c 000000' \ timeout 600 'swaymsg "output * dpms off"' \ resume 'swaymsg "output * dpms on"' \ before-sleep 'swaylock -f -c 000000'</code> </pre> <br><p> 以任何方式运行它。 </p><br><h2 id="i3blocks">  i3blocks </h2><br><p> 带有日历，网络，磁盘状态等的现成块。 等 可以从<a href="https://github.com/vivien/i3blocks-contrib">i3blocks-contrib</a>存储库中借用。 在i3blocks中，它们被添加到<code>~/.config/i3blocks/config</code> 。 例如，一个块，按星期，日期和时间每5秒更新一次： </p><br><pre> <code class="plaintext hljs">[time] command=date +"%a %d/%m %H:%M" interval=5</code> </pre> <br><p> 但这只是一个简单的例子。 实际上，i3和摇摆爱好者有一个圣杯：在顶部栏中显示当前窗口的标题栏。 让我们弄清楚如何实现这一目标。 </p><br><p> 首先，我们开始阅读<code>man sway-ipc</code> ，发现您可以在那里订阅活动。 所需的代码为<code>0x80000003. WINDOW</code>  <code>0x80000003. WINDOW</code>并返回此结构的json对象： </p><br><pre> <code class="plaintext hljs">{ "change" : "focus | title | ...", "container": { focused: true | false, name: "...", ... } }</code> </pre> <br><p> 实际上，窗口本身可以更改其标题（ <code>change == title</code> ），或者我们可以将焦点移至另一个窗口（ <code>change == focus</code> ）。 但是，该窗口可能会更改标题和焦点。 要过滤掉此类事件，我们必须检查<code>container.focused</code>属性。 </p><br><p> 您可以用Python或Go描述所有这些逻辑，但是有更好的方法。  <code>swaymsg</code>可以轻松地订阅所需的事件并将其输出到stdout： </p><br><pre> <code class="plaintext hljs">$ swaymsg -m -t SUBSCRIBE "['window']"</code> </pre> <br><p> 我们将在<code>jq</code>处理生成的json。 无需深入探讨这个出色实用程序的查询语法的细微之处，可得出以下结果： </p><br><pre> <code class="bash hljs">$ query=<span class="hljs-string"><span class="hljs-string">'select(.change == "focus" or (.change == "title" and .container.focused)) | .container.name'</span></span> $ swaymsg -m -t SUBSCRIBE <span class="hljs-string"><span class="hljs-string">"['window']"</span></span> | jq --unbuffered -r <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$query</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br><p>  bash上的两行脚本，不再需要任何代码！ 需要<code>--unbuffered</code>标志，否则i3blocks将不会立即接收新行，而仅当清除缓冲区时才接收。 </p><br><p> 最后，将以下块添加到i3blocks配置中： </p><br><pre> <code class="plaintext hljs">[active_window] command=/path/to/our/script.sh interval=persist</code> </pre> <br><p> 作业：教严厉的人为当前窗口截图。 他们说在Wayland这样的事情是不可能的，但是人们对此表示怀疑。 </p><br><p> 作业2：教i3blocks将当前键盘布局显示为标志。  i3blocks-contrib中有几个块，但是它们显示文本而不是标志，并且在Wayland中不起作用。 </p><br><h2 id="prochie-programmy"> 其他程序 </h2><br><p>  <a href="https://github.com/bugaevc/wl-clipboard">wl-clipboard</a>允许您从终端上使用剪贴板，即，它替换了xclip和xsel。 这对于vim用户特别有用，其中复制/粘贴使用<code>"+y</code> / <code>"+p</code> （只需安装此软件包，不需要其他配置）。 </p><br><p>  <a href="https://github.com/ReimuNotMoe/ydotool">ydotool-</a>替换xdotool。 </p><br><p>  <a href="https://gitlab.freedesktop.org/mstoeckl/waypipe/">waypipe-</a>网络透明度的代理。 老实说，我不记得上次有人在专门论坛上问与该功能有关的问题。 也许他们根本不使用它？ 我-绝对不是。 </p><br><p>  KDE连接 将<code>org.kde.kdeconnect.nonplasma.desktop</code>文件添加到<code>org.kde.kdeconnect.nonplasma.desktop</code> （请参阅前面的部分），在智能手机上安装KDE Con​​nect并配置它们的连接-您可以使用vlc中的<a href="https://addons.mozilla.org/ru/firefox/addon/plasma-integration/">等离子集成</a>插件在浏览器中控制智能手机的音乐和视频播放，cantata中，带有<a href="https://github.com/hoyon/mpv-mpris">mpv-mpris插件的mpv中</a> ，还可以通过<a href="https://github.com/hoyon/mpv-mpris">mako</a>接收通知。 我尊重KDE项目，因为它开发的程序不属于其生态系统。 </p><br><h1 id="zaklyuchenie"> 结论 </h1><br><p> 您可以撰写有关无休止地设置所有这些内容的信息（特别是i3blocks面板），但是最好在这里停止。 这是我得到的： </p><br><p> <a href=""><img src="https://habrastorage.org/webt/s9/qy/q0/s9qyq0rrpk9rzv4bamj1qsooceq.png"></a> </p><br><p> 还可以转到subreddit <a href="https://www.reddit.com/r/unixporn/">/ r / unixporn</a>惊叹于人们在做什么。  （但是，在那里摆放的所有东西中有95％看起来很漂亮，但绝对不适合日常工作：））。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN484378/">https://habr.com/ru/post/zh-CN484378/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN484368/index.html">我如何为电报创建搜索引擎</a></li>
<li><a href="../zh-CN484370/index.html">Slurm SRE-学习确保用户满意</a></li>
<li><a href="../zh-CN484372/index.html">以小米为例的带桑拿的智能住宅</a></li>
<li><a href="../zh-CN484374/index.html">前往中心的旅程...码头工人形象。 或者如何从没有Docker的注册表中下载图像</a></li>
<li><a href="../zh-CN484376/index.html">三星莫斯科人工智能中心员工故事</a></li>
<li><a href="../zh-CN484380/index.html">感动-上个世纪！ std ::的替代品，迈向“未来的C ++”</a></li>
<li><a href="../zh-CN484382/index.html">Bellman-Ford算法</a></li>
<li><a href="../zh-CN484386/index.html">Raiffeisenbank的AWS_Ru聚会</a></li>
<li><a href="../zh-CN484388/index.html">VVVVVV ??? VVVVVV !!! :)</a></li>
<li><a href="../zh-CN484390/index.html">Glean深入了解2020年将使用的18种最佳Java框架</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>