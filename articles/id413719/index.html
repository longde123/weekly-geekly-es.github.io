<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧓🏻 😎 👰🏻 C ++ 20 dalam perjalanan! Bertemu di Rapperswil Yona 🤘🏽 🧑🏼 🖐🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada awal Juni, pertemuan kelompok kerja internasional WG21 tentang standardisasi C ++ berakhir di kota Rapperswil-Yona. 

 Inilah yang menanti Anda d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C ++ 20 dalam perjalanan! Bertemu di Rapperswil Yona</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/413719/">  Pada awal Juni, pertemuan kelompok kerja internasional WG21 tentang standardisasi C ++ berakhir di kota Rapperswil-Yona. <br><img src="https://habrastorage.org/webt/5y/-z/tp/5y-ztpym5xt6by4stmeu2yalvha.jpeg"><br>  Inilah yang menanti Anda di bawah pemotongan: <br><ul><li>  Kontrak dan teman </li><li>  Konsep (tidak ada teman) </li><li>  <i>__has_cpp_attribute (tidak mungkin)</i> </li><li>  <i>bit_cast &lt;my_stuff&gt; (some_array)</i> </li><li>  <i>berisi</i> , <i>shift_left</i> , <i>shift_right</i> , <i>ispow2</i> , <i>ceil2</i> ... dan algoritma lama dengan saus baru </li><li>  <i>atomic_ref</i> </li><li>  Apa yang baru dapat ditulis dalam templat dan bagaimana berguna </li><li>  <i>constexpr virtual foo ()</i> </li><li>  Paralelisme 2, Refleksi, dan Pelaksana TS </li></ul><br>  Juga akan ada bonus: minisection untuk para ahli: <br><br><ul><li>  destructor virtual yang dideklarasikan oleh pengguna tidak memengaruhi tipe remeh </li><li>  Di mana saya bisa memberi tanda seru dan bagaimana itu bisa bermanfaat </li><li>  <i>constexpr std :: regex mail_regex (R "((?: (?: [^ &lt;&gt; () \ [\].,;: \ s @ \"] + (?: \. [^ &lt;&gt; () \ [ \].,;: \ s @ \ "] +) *) | \". + \ ") @ (?: (?: [^ &lt;&gt; () \ [\].,;: \ s @ \" ] + \.) + [^ &lt;&gt; () \ [\].,;: \ s @ \ "] {2,}))")</i> </li></ul><br><a name="habracut"></a><br><h2>  Kontrak </h2><br>  Di C ++ 20, mereka menerima kontrak.  Jadi, akan segera mungkin untuk melupakan tentang menggunakan makro untuk pernyataan, dapatkan dokumentasi terbaik di luar kotak, dan bahkan melihat peningkatan kinerja.  Dalam praktiknya, kontrak terlihat seperti ini: <br><br><pre><code class="cpp">std::string get_name_by_login(std::string_view login)
    [[expects: !login.empty() ]]
    [[ensures ret_value: !ret_value.empty() ]]
;
</code></pre><br>
   ,     ,  .  ,  :<br>
<br>
<ul>
<li> (    )  .</li>
<li> (    )         . , ,           .</li>
<li>  (, doxygen)            / .</li>
<li>       ,     (,    ).</li>
</ul><br>
    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a>.<br>
<br>
      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">21</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Fails</a>,     .             ,    :<br>
<br>
<pre><code class="cpp">void(const std::contract_violation &amp; e) noexcept {
    std::cerr &lt;&lt; "Contract violated in function " &lt;&lt; e.function_name() &lt;&lt; '\n'
        &lt;&lt; std::stacktrace();
}
</code></pre><br>
<br>
      :<br>
<br>
<pre><code>Contract violated in function std::array&lt;T, N&gt;::operator[](size_type) [with T = int; long unsigned int N = 5ul; ]': 
 0# std::array&lt;int, 5ul&gt;::operator[](unsigned long) at /usr/include/c++/array:124
 1# bar(int) at ../example/assert_handler.cpp:17
 2# foo(int) at ../example/assert_handler.cpp:25
 3# main at ../example/assert_handler.cpp:54
 4# 0x00007F991FD69F45 in /lib/x86_64-linux-gnu/libc.so.6
 5# 0x0000000000401139
}
</code></pre><br>
<i>std::stacktrace</i>     C++20,   design review   LEWG,                LWG.    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>.<br>
<br>
<h2></h2><br>
        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a>,            Ranges TS.          compile-time          :<br>
<br>
<pre><code class="cpp">template &lt;class F&gt;
    requires Invocable&lt;F&gt;
void my_executor::execute(F f) noexcept {
    lock_guard l{data_mutex_};
    push(std::move(f));
}
</code></pre><br>
        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> proposal</a>.<br>
<br>
<h2>Feature-test macros</h2><br>
            .           .        <i>unlikely</i>,   <i>__has_cpp_attribute(unlikely)</i>.<br>
<br>
 ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a>.<br>
<br>
<h2>bit_cast</h2><br>
 <i>reinterpret_cast</i>         –   .   ,     .   C++      .<br>
<br>
  ,   <br>
<br>
<pre><code class="cpp"> my_type my = reinterpret_cast&lt;my_type&amp;&gt;(some_array); </code></pre>  <pre><code class="cpp">my_type my = std::bit_cast&lt;my_type&gt;(some_array); </code></pre><br>
,   some_array  my_type  ,        ,        .        ,   type aliasing.<br>
<br>
<h2>   </h2><br>
   ,     C++20:<br>
<br>
<ul>
<li><i>shift_left(it_begin, it_end, unsigned n)</i> –       n,    <i> *it_begin = std::move(*(it_begin + n)), *(it_begin + 1) = std::move(*(it_begin + n + 1))</i>...</li>
<li><i>shift_right(it_begin, it_end, unsigned n)</i> –   ,    ,     <i>*(it_begin + n) = std::move(*it_begin), *(it_begin + n + 1) = std::move(*(it_begin + 1))</i>...</li>
<li><i>ispow2(x)</i> –  true     ,   </li>
<li><i>ceil2(x)</i> –        ,   </li>
<li><i>contains</i> –      <i>bool contains(const key&amp; v)</i>,   <i>true</i>     </li>
</ul><br>
 ,   ,  <i>std::swap</i>   <i>std::swap</i>  <i>constexpr</i>.     ,  <i>std::nth_element</i>       .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>  21.<br>
<br>
<h2>atomic_ref</h2><br>
         ,   -       ?        atomic_ref&lt;T&gt; (   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>).<br>
<br>
   ,      ,     <i>atomic_ref&lt;T&gt;</i>.            <i>atomic_ref</i>,       <i>atomic_ref</i>,       .<br>
<br>
,        (string<b>_view</b>, atomic<b>_ref</b>),     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>.     ,       .<br>
<br>
<h2>    </h2><br>
    <i>X</i>,     <i>operator&lt;=&gt;</i>  :<br>
<br>
<pre><code class="cpp">struct X {
    // ...
    std::strong_equality operator&lt;=&gt;(const X&amp;, const X&amp;) = default;
    // ...
};
</code></pre><br>
         :<br>
<br>
<pre><code class="cpp">template &lt;X x&gt;
struct x_as_template_param {
    // ...
};
</code></pre><br>
                 <i>operator&lt;=&gt;</i>.<br>
<br>
<h2>constexpr virtual</h2><br>
  ,    ,         constexpr  .<br>
<br>
          <i>constexpr virtual int foo();</i>,    <i>int foo()</i>    <i>constexpr</i>,   .   <i>foo()</i>         ,       constexpr  .<br>
<br>
 , ,         <i>std::type_info</i>,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Boost.TypeIndex</a>,    compile-time   :<br>
<br>
<pre><code class="cpp">template &lt;class T, class U&gt;
constexpr bool is_same() {
    constexpr bool res = (typeid(T) == typeid(U));
    return res;
}
</code></pre><br>
   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>.<br>
<br>
<h2>Parallelism 2, Reflection  Executors TS</h2><br>
Parallelism 2     ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>.       type traits,   simd      .<br>
<br>
Reflection        (TS).        ,   <i>&lt;type_traits&gt;</i>.          constexpr      <i>constexpr!</i>  (. ).<br>
<br>
Executors  C++20,  ,  ,       TS. ,        .<br>
<br>
<h2>user-declared virtual destructor   </h2><br>
,     C++20 (  ),          ,        :<br>
<br>
<pre><code class="cpp">struct i_am_trivial {
    int foo;
    char bar;

    virtual ~i_am_trivial() = default;
};
</code></pre><br>
  ,    ,       .     ,  ,    ,     ,          .     , ,  <i>std::vector&lt;Base&gt;</i>,  Base    .<br>
<br>
<h2>constexpr!</h2><br>
   ,      C++20 –  <i>constexpr!</i> .<br>
<br>
       ,      runtime    .         C++.<br>
<br>
  <i>constexpr!</i>       . .. <i>constexpr!</i>     ,       ( )          .      ,      .       ,    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Boost.Hana</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">[Boost.]PFR</a>.<br>
<br>
<h2> : constexpr std::regex</h2><br>
      /      .  ,   ,         .<br>
<br>
 C++   :<br>
<br>
<pre><code class="cpp">bool is_valid_mail(std::string_view mail) {
    static const std::regex mail_regex(R"((?:(?:[^&lt;&gt;()\[\].,;:\s@\"]+(?:\.[^&lt;&gt;()\[\].,;:\s@\"]+)*)|\".+\")@(?:(?:[^&lt;&gt;()\[\].,;:\s@\"]+\.)+[^&lt;&gt;()\[\].,;:\s@\"]{2,}))");

    return std::regex_match(
        std::cbegin(mail),
        std::cend(mail),
        mail_regex
    );
}
</code></pre><br>
               <i>is_valid_mail()</i>.   ,       .<br>
<br>
    <i>constexpr</i>  (constexpr new, is_constexpr_evaluated()  .)    C++      ,       <i>constexpr std::regex</i>.<br>
<br>
 <i>constexpr std::regex</i>     <i>is_valid_mail()</i>     .  , GCC         <i>static const</i>, ..   GCC-6   <i>constexpr</i>      – , GCC     .<br>
<br>
 , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">    <i>constexpr std::regex</i></a>?<br>
<br>
<i>P.S.:   <s></s> C++      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Yandex.Taxi Coding Fest</a>.        C++17.</i></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id413719/">https://habr.com/ru/post/id413719/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id413709/index.html">Penggabungan proyek fusi Tor Browser dan Firefox diluncurkan</a></li>
<li><a href="../id413711/index.html">Program pendahuluan PyConRu-2018: tiga Python Core Developers, pembicara dari Google, Yelp, Red Hat, Yandex</a></li>
<li><a href="../id413713/index.html">Kinerja Gudang Data: Digit Baru</a></li>
<li><a href="../id413715/index.html">Pensiun TI</a></li>
<li><a href="../id413717/index.html">GraphQL untuk Platform InterSystems</a></li>
<li><a href="../id413721/index.html">Pemeriksaan Waktu: Timejacking vs Bitcoin</a></li>
<li><a href="../id413723/index.html">Saga layanan elektronik dan lokasi mereka. Bagian 2. Kabinet elektronik</a></li>
<li><a href="../id413725/index.html">Bekerja dengan array dalam bash</a></li>
<li><a href="../id413729/index.html">Bagaimana dan mengapa kami menulis ECS kami</a></li>
<li><a href="../id413731/index.html">Penelitian Pasar Kerja BA / SA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>