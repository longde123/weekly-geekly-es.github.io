<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö∏ üë®‚Äçüë©‚Äçüë¶ üëÇ Junta de depuraci√≥n de prop√≥sito especial üç∑ üéÖüèæ üë®üèø‚Äç‚öïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduccion 
 Cuando se desarrolla un dispositivo para probar su circuito el√©ctrico, generalmente se usa una placa de depuraci√≥n. Nuestros desarrolla...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Junta de depuraci√≥n de prop√≥sito especial</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/readyforsky/blog/429822/"><h3>  Introduccion </h3><br>  Cuando se desarrolla un dispositivo para probar su circuito el√©ctrico, generalmente se usa una placa de depuraci√≥n.  Nuestros desarrolladores no son una excepci√≥n aqu√≠, el beneficio de los aspectos positivos de este enfoque es obvio: los costos son menores que la producci√≥n de un prototipo o lote de prueba.  Y si aparecen errores en el proceso o aparecen nuevas soluciones para algunas tareas, son mucho m√°s f√°ciles de aplicar. <br><br>  Sin embargo, a menudo nos enfrentamos con el hecho de que las depuraciones ofrecidas en el mercado requer√≠an un refinamiento significativo y / o m√≥dulos adicionales.  Al mismo tiempo, aparecieron restricciones adicionales que depend√≠an de un dispositivo en particular.  Si estamos desarrollando una placa de control y un m√≥dulo inal√°mbrico desde cero, entonces el orden relativo est√° en la placa de pruebas. <br><br>  Los problemas comienzan cuando se juega un segundo escenario m√°s frecuente y estamos tratando con la modernizaci√≥n de una t√©cnica ya desarrollada.  Debido al principal factor limitante, el precio final del producto, el cambio en el circuito el√©ctrico debe ser m√≠nimo.  En la etapa de dise√±o, muchos han querido mucho a la "granja colectiva". <br><br><img src="https://habrastorage.org/webt/l_/p8/xs/l_p8xs1np6taptdzshxddikzogg.jpeg"><br>  <i><font color="gray"><a href="">Fuente</a></font></i> <br><br><h3>  Que hacer </h3><a name="habracut"></a><br>  Los tableros de control en los electrodom√©sticos suelen ser simples y de baja tecnolog√≠a: su base impresa es de una sola capa, por un lado no tiene metalizaci√≥n y una m√°scara.  La simplicidad de estas placas est√° determinada por el precio final de los propios dispositivos: cuanto m√°s complicada es la producci√≥n de equipos, m√°s caro tendr√° que venderse.  Est√° claro que el consumidor masivo no querr√° y no pagar√° en exceso por complicaciones. <br><br><img src="https://habrastorage.org/webt/ad/lw/qh/adlwqhcadvh5rkhk_-yjjq4sbu0.jpeg"><br>  <i><font color="gray">Representante t√≠pico de la placa de control de electrodom√©sticos</font></i> <br><br>  Durante el trabajo hemos aparecido varios m√≥dulos inal√°mbricos est√°ndar de RM2 a RM10.  Estos m√≥dulos, basados ‚Äã‚Äãen la soluci√≥n SoC, act√∫an como un controlador central y tambi√©n le permiten controlar el dispositivo a trav√©s del aire. <br><br>  Esta l√≠nea de m√≥dulos inal√°mbricos est√° dise√±ada para que pueda instalarse en la placa de control, cambi√°ndola m√≠nimamente.  Para garantizar una alta velocidad de desarrollo, hab√≠a una necesidad urgente de crear una placa de depuraci√≥n, en la que ya habr√° todo lo necesario para los electrodom√©sticos inteligentes. <br><br>  Otro argumento para el lanzamiento de la placa de depuraci√≥n fue la apertura de la plataforma Ready for Sky para desarrolladores externos.  Comenzamos a recibir sugerencias y solicitudes por correo electr√≥nico para dar a los desarrolladores independientes o desarrolladores de bricolaje acceso a la plataforma.  Una oferta similar lleg√≥ incluso en el primer ministro de Khabrov. <br><br><h3>  Depuraci√≥n </h3><br>  Entonces lo hicimos: la primera versi√≥n del RFS-DEV001.  El coraz√≥n de la placa de depuraci√≥n es el m√≥dulo RM10.  Basado en el chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">nRF52832</a> , que cumple con el est√°ndar Bluetooth 5, es compatible con redes de malla y Bluetooth de baja energ√≠a.  Adem√°s, se coloca un reloj en tiempo real para la depuraci√≥n, se implementan tres opciones de energ√≠a (bater√≠a, USB desde una PC, externa desde una fuente de energ√≠a).  Dos botones, un timbre y un diodo RGB para se√±alizar y parpadear.  Todos los componentes en el tablero se seleccionan de aquellos que ahora se usan en la producci√≥n en masa de electrodom√©sticos. <br><br>  Adem√°s de probar el esquema de control, el desarrollador podr√° determinar y optimizar de inmediato el costo de los componentes, lo que finalmente afectar√° el precio de su dispositivo inteligente. <br><br><img src="https://habrastorage.org/webt/qj/xn/oj/qjxnojqwddazdxnzgy3gj6len-m.jpeg"><br><br>  El tablero ser√° conveniente para las cabinas de bricolaje, entre quienes tambi√©n hay aquellos para quienes la programaci√≥n no es un punto fuerte o est√°n comenzando a aprender.  Vimos una oportunidad para facilitar su trabajo, por ejemplo, para hacer que la placa sea compatible con Arduino.  Est√° claro que este es un formato amateur y educativo, pero su uso, en primer lugar, no cancela el trabajo profesional con la depuraci√≥n y, en segundo lugar, mejora en gran medida la comodidad de los especialistas que ingresan a la profesi√≥n. <br><br>  Ser√≠a completamente posible distribuir la tarifa entre las universidades y las escuelas t√©cnicas especializadas para la ense√±anza de estudiantes junior, contribuyendo as√≠ a futuros especialistas. <br><br><div class="spoiler">  <b class="spoiler_title">Lista de complementos de trabajo garantizados</b> <div class="spoiler_text"><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sensor de</a> temperatura y presi√≥n atmosf√©rica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BMP180</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sensor de</a> temperatura y presi√≥n atmosf√©rica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BMP280</a> </li><li>  Sensor de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">humedad</a> </li><li>  Sensor de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">infrarrojos</a> </li><li>  Sensor de gas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MQ-135</a> </li><li>  Sensor de gas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MQ-9</a> </li><li>  Sensor de movimiento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HC-SR505</a> </li><li>  Sensor de movimiento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HC-SR04</a> </li><li>  Sensor de inclinaci√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SW-520D</a> </li><li>  Aceler√≥metro, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Magnet√≥metro MPU9250</a> </li><li>  Aceler√≥metro, magnet√≥metro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GY-85</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sensor de</a> luz y proximidad <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AP3216</a> </li><li>  Sensor de intensidad de luz <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GY-2561</a> </li><li>  M√≥dulo de reconocimiento de gestos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">APDS-9960</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Arduino Motor Shield</a> M√≥dulo de control del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">motor paso a paso</a> </li><li>  M√≥dulo para conectar add.  USB <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Arduino USB Host Shield</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Escudo Arduino 4 Rel√©s</a> </li><li>  M√≥dulo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tarjeta SD inal√°mbrica</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">M√≥dulo</a> GSM (GPRS) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SIM900</a> </li><li>  Transceptor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LC12S</a> </li><li>  M√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NRF905 de</a> 433/868 MHz </li><li>  M√≥dulo IR <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">XY-MK-5V</a> </li><li>  M√≥dulo RFID / NFC <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PN532</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Display</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Display</a> </li><li>  M√≥dulo GPS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MIKROE-1032 GPS Click</a> </li><li>  M√≥dulo GLONASS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MIKROE-1895 GNSS3</a> </li><li>  M√≥dulo de teclado 4x4 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MIKROE-86</a> </li><li>  Matriz de diodos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MIKROE-1881</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Adafruit NeoPixel Shield para Arduino</a> Diode Array </li><li>  Al mismo tiempo, planeamos lanzar nuestros m√≥dulos, tambi√©n en base a los componentes utilizados en la producci√≥n en masa.  Si tiene ideas o sugerencias, escriba en los comentarios qu√© m√≥dulos podr√≠a necesitar. </li></ul><br></div></div><br><img src="https://habrastorage.org/webt/3c/wq/2t/3cwq2tm-xkqr-djumc_doqtksba.jpeg"><br><br><h3>  API </h3><br>  Dado que la depuraci√≥n no ser√° una pieza √∫til de textolite sin c√≥digo de programa, vale la pena hablar un poco sobre la API, que est√° dise√±ada para permitir que el desarrollador se concentre en la funcionalidad de su dispositivo como parte de la apertura de la plataforma, abstray√©ndose de numerosas configuraciones de Bluetooth, etc. <br><br>  Entonces, la API R4S consiste en: <br><br><ul><li>  un conjunto de bibliotecas que proporcionan la operaci√≥n de servicios t√≠picos y espec√≠ficos, por ejemplo, la biblioteca principal que contiene configuraciones b√°sicas de Bluetooth y bibliotecas enfocadas en la funcionalidad de los dispositivos; </li><li>  ejemplos de dispositivos o funciones implementados en la API; </li><li>  controladores para perif√©ricos conectados a la placa de depuraci√≥n, consulte la lista anterior. </li></ul><br>  Puede echar un vistazo a las capacidades API utilizando el ejemplo de creaci√≥n de efectos de iluminaci√≥n usando una l√°mpara LED a trav√©s de un cambio suave en el brillo usando curvas Bezier. <br><br><img src="https://habrastorage.org/webt/fj/fs/3l/fjfs3lzggmwwcwgcl5fx2cezsbu.gif"><br>  <i><font color="gray">Despu√©s de cambiar al modo peyring, la bombilla cambiar√° suavemente el color del brillo</font></i> <br><br>  En el archivo principal, deber√° determinar de forma independiente la informaci√≥n b√°sica, por ejemplo, informaci√≥n sobre el firmware, declarar la configuraci√≥n (ubicaci√≥n del cargador de arranque, b√∫fer para actualizar el firmware, etc.). <br><br><pre><code class="hljs pgsql"><span class="hljs-comment"><span class="hljs-comment">/** Firmware information structure */</span></span> R4S_FW_INFO_DEF(application, <span class="hljs-number"><span class="hljs-number">0x26000</span></span>) = { .version = { .major = <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Product version (major) */</span></span> .minor = <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Product version (minor) */</span></span> }, .name = { <span class="hljs-comment"><span class="hljs-comment">/** Device name */</span></span> .name = "RGB Lightbulb", .len = sizeof("RGB Lightbulb") - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment">/** Without \0 symbol at the end*/</span></span> } }; <span class="hljs-comment"><span class="hljs-comment">/** The init structure with the device information wich required for ReadyForSky library. */</span></span> R4S_CONFIG_DEF(r4s_init_conf) = { .p_fw_info = &amp;application, .production_key = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** * The production key allows integrating the device into ReadyForSky infrastructure. * Contact support to get the production key for your device. */</span></span> .bootloader = { .start_address = <span class="hljs-number"><span class="hljs-number">0x7B000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Bootloader start address */</span></span> .mbr_param_page = <span class="hljs-number"><span class="hljs-number">0x7f000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** MBR param page address */</span></span> .fw_upgrade_buf = { <span class="hljs-comment"><span class="hljs-comment">/** The firmware upgrade buffer is used for background flashing. * The region size should more than softdevice + bootloader + application size + 4096 */</span></span> .p_api = &amp;nrf_fstorage_sd, <span class="hljs-comment"><span class="hljs-comment">/** fstorage api */</span></span> .start_addr = <span class="hljs-number"><span class="hljs-number">0x35000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** start address of firmware upgrade buffer */</span></span> .end_addr = <span class="hljs-number"><span class="hljs-number">0x78000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** end address of firmware upgrade buffer */</span></span> .chunk_size = <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** default chunk size */</span></span> } }, .company_info = { .p_company_name = "Imperium of Mankind", }, .watchdog = { .timeout_ms = <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** If loop or priority will not finish after 5 seconds watchdog will reset microcontroller automatically */</span></span> }, .low_power_mode_enable = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Low power ble settings */</span></span> }</code> </pre> <br>  El desarrollo del dispositivo es similar al desarrollo de Arduino.  Hay una funci√≥n de configuraci√≥n para inicializar los m√≥dulos principales y el bucle donde tiene lugar el procesamiento.  La funcionalidad de la aplicaci√≥n en s√≠ se divide en m√≥dulos, de acuerdo con las diferentes operaciones realizadas. <br><br><pre> <code class="hljs java"><span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@brief</span></span></span><span class="hljs-comment"> Application initialisation * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> none */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">app_setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ m_pairing_init(m_led_ctrl_pairing_handler); m_led_ctrl_init(); } <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@brief</span></span></span><span class="hljs-comment"> Application loop * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> true - sleep is not allowed * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> false - All modules have completed operation, the mcu can enter into sleep mode. (the next loop iteration will be after any interrupt) */</span></span> <span class="hljs-function"><span class="hljs-function">bool </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">app_loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NRF_LOG_PROCESS(); }</code> </pre><br>  Despu√©s de declarar los recursos en el archivo ("m_resources.c"), por ejemplo, animaciones de bulbos, asignaciones de pines (varios grupos de LED), colores, etc., la biblioteca determinar√° el resto de los par√°metros. <br><br><pre> <code class="hljs mel"><span class="hljs-comment"><span class="hljs-comment">/** Animation timer definition for m_rgb */</span></span> APP_TIMER_DEF(animation_timer_id); <span class="hljs-comment"><span class="hljs-comment">/** Leds pin map for m_rgb*/</span></span> static const r4s_rgb_ctrl_led_t m_leds_map[LEDS_COUNT] = { { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .red_pin = RED_LEDS_0_PIN, .green_pin = GREEN_LEDS_0_PIN, .blue_pin = BLUE_LEDS_0_PIN, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .red_pin = RED_LEDS_1_PIN, .green_pin = GREEN_LEDS_1_PIN, .blue_pin = BLUE_LEDS_1_PIN, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .red_pin = RED_LEDS_2_PIN, .green_pin = GREEN_LEDS_2_PIN, .blue_pin = BLUE_LEDS_2_PIN, } }, }; <span class="hljs-comment"><span class="hljs-comment">/** PWM map for m_rgb */</span></span> static const r4s_rgb_ctrl_pwm_map_elem_t m_pwm_map[LEDS_COUNT] = { { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .p_pwm_red = &amp;pwm0, .p_pwm_green = &amp;pwm0, .p_pwm_blue = &amp;pwm0, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .p_pwm_red = &amp;pwm1, .p_pwm_green = &amp;pwm1, .p_pwm_blue = &amp;pwm1, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .p_pwm_red = &amp;pwm2, .p_pwm_green = &amp;pwm2, .p_pwm_blue = &amp;pwm2, } }, }; <span class="hljs-comment"><span class="hljs-comment">/** RGB lamp definition */</span></span> R4S_RGB_CTRL_DEF(m_rgb, m_leds_map, m_pwm_map, &amp;animation_timer_id, LEDS_COUNT, <span class="hljs-number"><span class="hljs-number">3</span></span>);</code> </pre><br>  Despu√©s de la vinculaci√≥n, la aplicaci√≥n recibe datos que el dispositivo puede hacer, una bombilla en nuestro caso, y muestra la informaci√≥n relevante. <br><br><img src="https://habrastorage.org/webt/v9/pt/n7/v9ptn7wkq4rorl-xsajelyco_1g.png" width="350" height="500"><br><br>  Adem√°s, a trav√©s de la aplicaci√≥n, puede controlar los par√°metros: intensidad, color, temperatura, etc. <br><br><img src="https://habrastorage.org/webt/fi/pb/1j/fipb1jnryioge5-h8dwtiik0llu.gif"><br>  <font color="gray"><i>Ahora el c√≥digo se est√° resolviendo en la depuraci√≥n del prototipo, as√≠ que deje que la diferencia entre el tablero y las im√°genes superiores no le moleste.</i></font> <br><br>  Las caracter√≠sticas adicionales incluyen: <br><br><ul><li>  Multiconnect: varios tel√©fonos inteligentes que se conectan simult√°neamente al m√≥dulo.  Esta caracter√≠stica potencialmente causa problemas cuando intenta controlar el dispositivo al mismo tiempo.  Intentamos evitar estos problemas, incluso a trav√©s de notificaciones en todos los tel√©fonos inteligentes conectados: cuando un par√°metro cambia un tel√©fono, la informaci√≥n sobre el nuevo valor del par√°metro se enviar√° inmediatamente a los dem√°s; </li><li>  Parpadeo r√°pido: el tama√±o del paquete transmitido por Bluetooth depende de la <abbr title="Unidad de transmisi√≥n m√°xima">MTU</abbr> .  Con un aumento en MTU, el proceso de flasheo ir√° m√°s r√°pido a medida que aumente el tama√±o del paquete; </li><li>  Una lista de errores t√≠picos determinados por la funci√≥n del microcontrolador.  Si se detecta un error, aparece un texto como "No hay suficiente memoria para el dispositivo suave".  Para obtener m√°s informaci√≥n, habilite la depuraci√≥n de SDM ". </li></ul><br>  Para trabajar con la depuraci√≥n, se lanzar√° una aplicaci√≥n de ingenier√≠a R4S con las mismas capacidades que lo normal, pero es a trav√©s de ella que se controla la placa.  En principio, a trav√©s de una aplicaci√≥n de ingenier√≠a, puede administrar dispositivos ensamblados en su apartamento, una buena parte para el bricolaje.  Esto deber√≠a ayudar a los desarrolladores novatos a admitir el dispositivo.  En la aplicaci√≥n principal R4S, dicho dispositivo aparecer√° despu√©s de la coordinaci√≥n y el control de calidad de nuestra parte. <br><br>  Tambi√©n usaremos la depuraci√≥n en el trabajo diario de la empresa, incluso al capacitar a nuevos empleados.  Habrovchane, como crees, despegar√°?  ¬øLe interesar√≠a trabajar con tal depuraci√≥n? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es429822/">https://habr.com/ru/post/es429822/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es429812/index.html">Apple: el coprocesador T2 puede bloquear la reparaci√≥n de bricolaje de los nuevos MacBook y MacMini</a></li>
<li><a href="../es429814/index.html">Cuando Java finalmente muere, qu√© hacer y qu√© pasar√° con JPoint</a></li>
<li><a href="../es429816/index.html">OpenSceneGraph: compilaci√≥n desde la fuente y Hello World</a></li>
<li><a href="../es429818/index.html">Intel Vision Accelerator: aprendizaje profundo en todos los hogares</a></li>
<li><a href="../es429820/index.html">El protocolo HTTP sobre QUIC se convierte oficialmente en HTTP / 3</a></li>
<li><a href="../es429824/index.html">CI para frontend: Gitlab, Traefik, Docker</a></li>
<li><a href="../es429826/index.html">"Bater√≠as" port√°tiles: microcondensadores textiles basados ‚Äã‚Äãen PEDOT-Cl</a></li>
<li><a href="../es429828/index.html">(No solo) estudiante de primer a√±o: Universidad, Instrucci√≥n 2.0</a></li>
<li><a href="../es429832/index.html">Traducci√≥n del libro de Andrew Un, Pasi√≥n por el aprendizaje autom√°tico, cap√≠tulos 28-29</a></li>
<li><a href="../es429834/index.html">¬øPor qu√© un auto puede jugar inhumanamente bien en Mario, pero no en Pok√©mon?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>