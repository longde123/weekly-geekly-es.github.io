<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòØ ü¶Ñ üíØ Pourquoi un homme du monde Java est-il devenu un ardent partisan de Node.js et JavaScript? üíáüèº üï∑Ô∏è üßö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="David Harron, l'auteur du mat√©riel que nous publions aujourd'hui, a pos√© la question suivante: ¬´Une personne qui a travaill√© pendant plus de 10 ans ch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pourquoi un homme du monde Java est-il devenu un ardent partisan de Node.js et JavaScript?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/421741/">  David Harron, l'auteur du mat√©riel que nous publions aujourd'hui, a pos√© la question suivante: ¬´Une personne qui a travaill√© pendant plus de 10 ans chez Sun Microsystems dans l'√©quipe Java SE, jusqu'au dernier souffle, ne devrait-elle penser qu'au bytecode Java et cr√©er des instances d'interfaces abstraites? ".  Il a pos√© cette question par rapport √† lui-m√™me, et pour lui la plateforme Node.js, apr√®s Java, s'est av√©r√©e √™tre comme une bouff√©e d'air frais.  David dit que lorsqu'il a √©t√© licenci√© de Sun en janvier 2009 (juste avant le rachat de cette soci√©t√© Oracle), il a d√©couvert Node.js.  Cette technologie l'a accroch√©.  Qu'est-ce que cela signifie ¬´accroch√©¬ª?  Depuis 2010, il a beaucoup √©crit sur la programmation de Node.js.  √Ä savoir, il a √©crit plusieurs livres, dont Node.js Web Development, dont la quatri√®me √©dition est sortie cette ann√©e.  Il a pr√©par√© de nombreux petits documents sur Node.js publi√©s sur Internet.  En fait, il a pass√© beaucoup de temps et d'efforts √† parler de la plate-forme Node.js et des fonctionnalit√©s JavaScript.  Pourquoi est-ce que ceux qui travaillaient auparavant exclusivement en Java √©taient si attir√©s par Node.js et JavaScript? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/a7f/04b/29b/a7f04b29bb9ae083524906ac68f0d47b.jpg" alt="image"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">√Ä propos du monde Java</font> </h2><br>  En travaillant chez Sun, je croyais √† la technologie Java.  J'ai fait des pr√©sentations dans JavaONE, particip√© au d√©veloppement de la classe java.awt.Robot, organis√© l'√©v√©nement Mustang Regressions Contest (c'√©tait un concours visant √† trouver des bogues en Java 1.6), aid√© au lancement du projet de licence de distribution pour Java, qui a servi de r√©ponse √† la question sur les distributions JDK Linux avant l'av√®nement d'OpenJDK.  Plus tard, j'ai jou√© un r√¥le dans le lancement du projet OpenJDK.  En cours de route, pendant environ 6 ans, j'ai publi√© des articles de blog sur java.net (maintenant ce site est ferm√©).  Il s'agissait de 1 √† 2 articles par semaine consacr√©s aux √©v√©nements importants de l'√©cosyst√®me Java.  Un r√¥le important dans mon travail a √©t√© jou√© en prot√©geant Java de ceux qui pr√©disaient un avenir sombre pour cette technologie. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0d9/adb/964/0d9adb9644509d8a25f21ebda093c506.jpg"><br>  <i><font color="#999999">Ce prix, le Duke Award, a √©t√© d√©cern√© aux employ√©s les plus distingu√©s de Sun.</font></i>  <i><font color="#999999">Je l'ai eu apr√®s avoir organis√© le concours de r√©gression Mustang</font></i> <br><br>  Qu'est-il arriv√© √† la personne qui a tant fait avec tout ce qui touche √† Java?  En fait, ici, je veux parler de la fa√ßon dont je suis pass√© d'un passionn√© de Java √† un ardent d√©fenseur de Node.js et de JavaScript. <br><br>  Je dois dire que ce qui m'est arriv√© ne peut pas √™tre qualifi√© d'abandon complet de Java.  Au cours des 3 derni√®res ann√©es, j'ai √©crit pas mal de code Java, utilis√© Spring et Hibernate.  Bien que ce que je fais maintenant dans ce domaine me pla√Æt vraiment (je travaille dans l'industrie de l'√©nergie solaire, fais ce que j'aime faire, par exemple - j'√©cris des demandes pour travailler avec des donn√©es du secteur de l'√©nergie), la programmation Java dans mes yeux maintenant a perdu son ancienne splendeur. <br><br>  Deux ann√©es de d√©veloppement avec Spring m'ont permis de clarifier clairement une chose importante: une tentative de cacher des m√©canismes complexes ne m√®ne pas √† la simplicit√©, elle ne fait que conduire √† l'apparition de structures encore plus complexes. <br><br>  Voici, en bref, les principales id√©es que je vais aborder dans ce document: <br><br><ul><li>  Les programmes Java sont pleins de code passe-partout qui cache les intentions du programmeur. </li><li>  Travailler avec Spring et Spring Boot m'a donn√© une bonne le√ßon, √† savoir qu'essayer de cacher des m√©canismes complexes conduit √† des constructions encore plus complexes. </li><li>  La plate-forme Java EE est un projet cr√©√©, pour ainsi dire, par des ¬´efforts communs¬ª, qui couvre absolument tous les besoins de d√©veloppement d'applications d'entreprise.  En cons√©quence, la plate-forme Java EE s'est r√©v√©l√©e prohibitive. </li><li>  D√©velopper avec Spring est, jusqu'√† un certain point, une exp√©rience agr√©able.  Cette illusion dispara√Æt le jour o√π une exception qui est compl√®tement impossible √† comprendre vient des profondeurs d'un sous-syst√®me dont vous n'avez jamais entendu parler, et il faut au moins trois jours pour d√©couvrir quel est le probl√®me. </li><li>  De quels m√©canismes auxiliaires qui cr√©ent une charge excessive sur le syst√®me avez-vous besoin d'un framework qui puisse "√©crire" du code pour les programmeurs? </li><li>  Bien que les IDE comme Eclipse soient des applications puissantes, ils sont un indicateur de la complexit√© de l'√©cosyst√®me Java. </li><li>  La plate-forme Node.js est n√©e des efforts d'une personne pour am√©liorer sa vision d'une architecture √©v√©nementielle l√©g√®re. </li><li>  La communaut√© JavaScript semble √™tre enthousiaste √† l'id√©e de se d√©barrasser du code passe-partout, qui permet aux programmeurs d'exprimer leurs intentions aussi clairement que possible. </li><li>  Async / Wait est une solution au probl√®me d'enfer de rappel JS, qui est un exemple de rejet du code de mod√®le et contribue √† la clart√© de l'expression des intentions des programmeurs. </li><li>  La programmation de Node.js est un vrai plaisir. </li><li>  Il n'y a pas de typage fort sp√©cifique √† Java en JavaScript.  C'est la b√©n√©diction et la mal√©diction de la langue.  Cela facilite l'√©criture du code, mais pour v√©rifier son exactitude, vous devez consacrer plus de temps aux tests. </li><li>  Le syst√®me de gestion des paquets introduit par npm / yarn est facile et amusant √† utiliser.  Elle ne peut pas √™tre compar√©e √† Maven. </li><li>  Java et Node.js offrent d'excellentes performances.  Cela va √† l'encontre du mythe selon lequel JavaScript est un langage lent, dont l'utilisation conduit √† de mauvaises performances de la plate-forme Node.js. </li><li>  Performance Node.js s'appuie sur les efforts de Google pour am√©liorer la V8, le moteur qui affecte la vitesse du navigateur Chrome. </li><li>  La concurrence f√©roce entre les fabricants de moteurs JS bas√©s sur navigateur contribue au d√©veloppement de JavaScript, ce qui est tr√®s b√©n√©fique pour Node.js. </li></ul><br><h2>  <font color="#3AC1EF">√Ä propos des probl√®mes de d√©veloppement Java</font> </h2><br>  Certains outils ou objets sont le r√©sultat de nombreuses ann√©es d'efforts d'ing√©nieurs pour les am√©liorer.  Les programmeurs essaient diff√©rentes id√©es, suppriment les attributs inutiles et obtiennent par cons√©quent des entit√©s dans lesquelles il y a exclusivement ce qui est n√©cessaire pour r√©soudre un certain probl√®me.  Souvent, ces technologies ont une sorte de simplicit√© tr√®s attrayante qui cache de puissantes capacit√©s.  Cela ne s'applique pas √† Java. <br><br>  Spring est un framework populaire pour d√©velopper des applications Web bas√©es sur Java. <br><br>  L'objectif principal de Spring, et en particulier de Spring Boot, est de fournir la possibilit√© d'utiliser la pile Java EE pr√©configur√©e.  Le programmeur qui utilise Spring ne doit pas, pour cr√©er un syst√®me pr√™t √† l'emploi, prendre soin des servlets, des syst√®mes de stockage persistants, des serveurs d'applications et de ce qui est encore inconnu.  Toutes ces pr√©occupations sont transmises √† Spring, et le programmeur √©crit du code qui impl√©mente la logique de l'application.  Par exemple, les m√©canismes JPARepository sont responsables de la g√©n√©ration de requ√™tes de base de donn√©es pour les m√©thodes dont les noms ressemblent √† <code>findUserByFirstName</code> .  Le programmeur n'a pas √† √©crire le code de ces m√©thodes.  Il suffit de transmettre la description de la m√©thode au syst√®me, et Spring fera le reste. <br><br>  Tout cela semble tr√®s bien, c'est agr√©able de travailler dans ce style, mais - jusqu'√† ce que quelque chose d'inattendu se produise. <br><br>  Je veux dire une situation o√π, par exemple, une Hibernate <code>PersistentObjectException</code> est lev√©e avec l' <code>detached entity passed to persist</code> message <code>detached entity passed to persist</code> .  Qu'est-ce que cela pourrait signifier?  Il a fallu plusieurs jours pour le d√©couvrir.  Il s'est av√©r√© que si vous d√©crivez tout de mani√®re tr√®s simplifi√©e, cela signifie que les donn√©es JSON re√ßues au point de terminaison REST ont des champs ID avec certaines valeurs.  Hibernate, encore une fois, s'il n'entre pas dans les d√©tails, cherche √† contr√¥ler les valeurs d'ID et, par cons√©quent, l√®ve l'exception obscure ci-dessus.  Il existe des milliers de ces messages d'erreur qui pr√™tent √† confusion et sont difficiles √† lire.  √âtant donn√© qu'il existe des cascades enti√®res de sous-syst√®mes bas√©s les uns sur les autres au printemps, la pile de printemps ressemble √† un ennemi jur√© d'un programmeur qui le regarde et attend que le programmeur fasse la moindre erreur, et lorsque cela se produit, l√®ve des exceptions qui ne sont pas compatibles avec lui fonctionnement normal de l'application. <br><br>  De plus, vous pouvez ici rappeler les traces de pile les plus longues.  Ils repr√©sentent plusieurs √©crans remplis de toutes sortes de m√©thodes abstraites.  Spring cr√©e √©videmment la configuration n√©cessaire pour impl√©menter ce qui est exprim√© dans le code.  Un tel niveau d'abstraction, sans aucun doute, n√©cessite une quantit√© consid√©rable de logique auxiliaire, qui vise √† d√©couvrir tout ce qui est n√©cessaire au fonctionnement du code, par exemple, pour r√©pondre aux demandes.  Et les longues traces de pile ne sont pas n√©cessairement mauvaises.  De telles choses sont plus probablement un sympt√¥me, conduisant √† la question de savoir quel type de charge sur le syst√®me est cr√©√© par des m√©canismes auxiliaires. <br><br>  Comment la m√©thode <code>findUserByFirstName</code> est- <code>findUserByFirstName</code> , √©tant donn√© que le programmeur n'a pas √©crit le code d'une telle m√©thode?  Le framework doit analyser le nom de la m√©thode, comprendre l'intention du programmeur, cr√©er quelque chose comme une arborescence de syntaxe abstraite, g√©n√©rer une sorte de code SQL, etc.  Comment tout cela charge-t-il le syst√®me?  Et tout cela n'existe que pour que le programmeur n'ait pas besoin d'√©crire du code? <br><br>  Apr√®s avoir travers√© quelques dizaines de fois quelque chose comme rechercher le sens de l'erreur ci-dessus, passer des semaines √† essayer de percer des secrets que vous ne devriez pas, dans l'ensemble, d√©couvrir, vous pouvez arriver √† la m√™me conclusion que je suis arriv√© √† .  Son sens est qu'une tentative de cacher des m√©canismes complexes ne conduit pas √† la simplicit√©, elle ne fait que conduire √† l'apparition de structures encore plus complexes.  La plateforme Node.js est beaucoup plus simple. <br><br>  Le slogan ¬´Compatibility Matters¬ª a cach√© une merveilleuse id√©e, selon laquelle la compatibilit√© descendante √©tait la caract√©ristique la plus importante de la plate-forme Java.  Nous avons pris cela au s√©rieux, en mettant des images sur des t-shirts comme celui que vous pouvez voir ci-dessous. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b2a/cd5/c40/b2acd5c404b3bc69c4d3af9da1fd6952.jpg"><br>  <i><font color="#999999">La r√©trocompatibilit√© est tr√®s importante.</font></i> <br><br>  Bien s√ªr, ce niveau d'attention √† la compatibilit√© descendante peut √™tre une source d'anxi√©t√© constante, et de temps en temps, il est utile de s'√©loigner des anciens m√©canismes qui ne b√©n√©ficient plus. <br><br><h2>  <font color="#3AC1EF">Java et Node.js</font> </h2><br>  Spring et Java EE sont trop compliqu√©s.  La plateforme Node.js dans leur contexte est per√ßue comme une bouff√©e d'air frais.  La premi√®re chose que vous remarquez lorsque vous vous familiarisez avec Node.js est l'approche de Ryan Dahl pour le d√©veloppement du noyau de la plate-forme.  Son exp√©rience lui a montr√© que des plates-formes qui utilisent des flux sont n√©cessaires pour cr√©er des syst√®mes complexes et lourds.  Il cherchait autre chose et a pass√© quelques ann√©es √† am√©liorer l'ensemble des m√©canismes de base incorpor√©s dans Node.js.  En cons√©quence, il a obtenu un syst√®me l√©ger qui se caract√©rise par un seul thread d'ex√©cution, une utilisation inventive des fonctions JavaScript anonymes comme rappels asynchrones et une biblioth√®que d'ex√©cution qui impl√©mente √† l'origine des m√©canismes asynchrones.  Le message initial lors de la cr√©ation d'un tel syst√®me √©tait de fournir un traitement d'√©v√©nements hautes performances avec la livraison de ces √©v√©nements dans une fonction de rappel. <br><br>  Ensuite, une caract√©ristique importante de Node.js est l'utilisation de JavaScript.  On a le sentiment que ceux qui √©crivent en JS ont tendance √† se d√©barrasser du code du mod√®le, ce qui leur permet de d√©crire clairement les intentions du programmeur. <br><br>  Comme exemple de la diff√©rence entre Java et JavaScript, consid√©rons l'impl√©mentation des fonctions d'√©coute (observateurs).  En Java, pour travailler avec des √©couteurs, vous devez cr√©er une instance sp√©cifique de l'interface abstraite.  Cela implique l'utilisation de constructions de langage volumineuses qui cachent l'essence de ce qui se passe.  Comment discerner l'intention d'un programmeur cach√© sous les couvertures du code passe-partout? <br><br>  JavaScript utilise √† la place de simples fonctions anonymes.  Lors de la mise en ≈ìuvre d'un √©couteur, vous n'avez pas besoin de rechercher une interface abstraite appropri√©e.  Il suffit, sans avoir besoin d'utiliser une vari√©t√© de textes auxiliaires, d'√©crire le code n√©cessaire. <br><br>  Donc, voici une id√©e importante qui peut √™tre tir√©e de l'analyse des m√©canismes ci-dessus: la plupart des langages de programmation cachent les intentions du programmeur, ce qui conduit au fait que le code est difficile √† comprendre. <br><br>  La d√©cision concernant l'utilisation des fonctions de rappel qu'offre Node.js semble tr√®s attrayante.  Mais ce n'est pas sans probl√®mes. <br><br><h2>  <font color="#3AC1EF">R√©solution de probl√®mes et r√©solution de probl√®mes</font> </h2><br>  En JavaScript, il y a depuis longtemps deux probl√®mes associ√©s √† la programmation asynchrone.  Le premier est ce que Node.js appelle l'enfer de rappel.  Ce probl√®me r√©side dans le fait que, pendant le d√©veloppement, il est facile de tomber dans un pi√®ge construit √† partir de fonctions de rappel profond√©ment imbriqu√©es, o√π chaque niveau d'imbrication complique le programme, ainsi que le traitement des r√©sultats du code et des erreurs.  Il y avait un autre probl√®me li√© √† cela, dont l'essence √©tait que les m√©canismes du langage JavaScript n'ont pas aid√© le programmeur √† exprimer correctement les id√©es d'ex√©cution de code asynchrone. <br><br>  Plusieurs biblioth√®ques ont vu le jour pour simplifier le d√©veloppement asynchrone sur JS.  Mais ceci est un autre exemple d'une tentative de cacher des m√©canismes complexes qui ne fait qu'appara√Ætre des structures encore plus complexes. <br><br>  Prenons un exemple: <br><br><pre> <code class="hljs lua">const async = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'async'</span></span>); const fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>); const cat = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(filez, fini)</span></span></span></span> { async.eachSeries(filez, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(filenm, next)</span></span></span></span> {   fs.readFile(filenm, <span class="hljs-string"><span class="hljs-string">'utf8'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err, data)</span></span></span></span> {     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>(err);     process.<span class="hljs-built_in"><span class="hljs-built_in">stdout</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(data, <span class="hljs-string"><span class="hljs-string">'utf8'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err)</span></span></span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>(err);       <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">next</span></span>();     });   }); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err)</span></span></span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) fini(err);   <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> fini(); }); }; cat(process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>), <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) console.<span class="hljs-built_in"><span class="hljs-built_in">error</span></span>(err.stack); });</code> </pre> <br>  Il s'agit d'une imitation non descriptive de la <code>cat</code> Unix.  La biblioth√®que <code>async</code> dans la simplification des s√©quences d'appels asynchrones.  Cependant, son utilisation n√©cessite une grande quantit√© de code passe-partout qui cache l'intention du programmeur. <br><br>  En substance, ce code contient une boucle.  Il n'est pas √©crit comme un cycle r√©gulier, il n'utilise pas de constructions naturelles de la description des cycles.  De plus, les r√©sultats de l'ex√©cution du code et les erreurs g√©n√©r√©es par ceux-ci ne parviennent pas √† l'endroit o√π ils auraient √©t√© exacts.  Ils sont bloqu√©s dans les rappels, ce qui n'est pas pratique.  Mais, avant la mise en ≈ìuvre des normes ES2015 / 2016 dans Node.js, rien de mieux ne pouvait √™tre fait. <br><br>  Si nous r√©√©crivons ce code en tenant compte des nouvelles fonctionnalit√©s, qui sont notamment disponibles dans Node.js 10.x, nous obtenons ce qui suit: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>).promises; <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cat</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">filenmz</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> filenm <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> filenmz) {   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> data = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fs.readFile(filenm, <span class="hljs-string"><span class="hljs-string">'utf8'</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve, reject</span></span></span><span class="hljs-function">) =&gt;</span></span> {     process.stdout.write(data, <span class="hljs-string"><span class="hljs-string">'utf8'</span></span>, (err) =&gt; {       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (err) reject(err);       <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> resolve();     });   }); } } cat(process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>)).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(err.stack); });</code> </pre> <br>  Dans cet exemple, nous avons utilis√© la construction <code>async/await</code> .  Les m√™mes m√©canismes asynchrones sont pr√©sent√©s ici comme dans l'exemple pr√©c√©dent, mais les structures habituelles utilis√©es dans l'organisation des boucles sont utilis√©es ici.  Travailler avec les r√©sultats et les erreurs semble tout √† fait normal.  Un tel code est plus facile √† lire et √† √©crire.  Cette approche permet de comprendre facilement l'intention du programmeur. <br><br>  Le seul inconv√©nient est que <code>process.stdout.write</code> n'a pas d'interface Promise, par cons√©quent, ce m√©canisme ne peut pas √™tre utilis√© dans les fonctions asynchrones sans l'envelopper dans une promesse. <br><br>  Nous pouvons maintenant conclure que le probl√®me de l'enfer de rappel en JavaScript a √©t√© r√©solu d'une mani√®re diff√©rente de celle d'essayer de cacher des m√©canismes complexes.  Au lieu de cela, des modifications ont √©t√© apport√©es √† la langue, ce qui a r√©solu le probl√®me lui-m√™me et nous a √©vit√©s les inconv√©nients caus√©s par la n√©cessit√© d'utiliser de grandes quantit√©s de code de mod√®le dans une solution temporaire.  De plus, avec l'utilisation du m√©canisme async / wait, le code est simplement devenu plus beau. <br><br>  Nous avons commenc√© cette section par une discussion sur la faille de Node.js, mais une excellente solution √† l'enfer d'un rappel a provoqu√© la discussion des failles en une discussion sur les points forts de Node.js et JavaScript. <br><br><h2>  <font color="#3AC1EF">Forte typage, interfaces et clart√© de code imaginaire</font> </h2><br>  √Ä l'√©poque o√π je prot√©geais Java de toutes sortes d'attaques, je soulignais que le typage strict vous permet d'√©crire d'√©normes applications.  A cette √©poque, le d√©veloppement de syst√®mes monolithiques √©tait utilis√© (il n'y avait pas de microservices, il n'y avait pas de Docker et similaires).  Comme Java est un langage fortement typ√©, le compilateur Java aide le programmeur √† √©viter de nombreux probl√®mes en l'emp√™chant de compiler le mauvais code. <br><br>  JavaScript, contrairement √† Java, n'est pas fortement typ√©.  De cela, nous pouvons tirer la conclusion √©vidente que le programmeur ne sait pas exactement avec quels objets il doit travailler.  Comment un programmeur peut-il savoir quoi faire, par exemple, avec un certain objet re√ßu de quelque part? <br><br>  Le revers d'un typage Java fort est que vous devez constamment effectuer des actions passe-partout.  Le programmeur jette ou v√©rifie constamment que tout est exactement comme pr√©vu.  Le d√©veloppeur passe du temps √† √©crire du code, le fait avec une pr√©cision exceptionnelle, utilise des volumes consid√©rables de mod√®les de mod√®les et esp√®re que tout cela lui permettra de gagner du temps en d√©tectant et en corrigeant rapidement les erreurs. <br><br>  Le probl√®me de la programmation dans un langage fortement typ√© est si grand qu'un programmeur, avec presque aucune option, doit utiliser un IDE grand et complexe.  Un simple √©diteur de code ne suffit pas ici.  La seule fa√ßon de maintenir le programmeur Java dans un √©tat ad√©quat (√† l'exception de pizza) est de lui montrer en permanence des listes d√©roulantes contenant les champs d'objet disponibles ou des descriptions des param√®tres de m√©thode.  Ceci et d'autres m√©canismes de prise en charge des IDE tels que Eclipse, NetBeans ou IntelliJ aident √† la cr√©ation de classes, facilitent le refactoring et d'autres t√¢ches. <br><br>  Et ... je ne parlerai pas de Maven.  Ce n'est qu'un outil de cauchemar. <br><br>  En JavaScript, les types de variables ne sont pas sp√©cifi√©s lorsqu'ils sont d√©clar√©s, la conversion de type n'est g√©n√©ralement pas utilis√©e, etc.  En cons√©quence, le code est plus facile √† lire, mais cet √©tat de choses signifie √©galement le risque d'erreurs de programmation difficiles √† d√©tecter. <br><br>  Que ce qui pr√©c√®de se rapporte aux avantages de Java ou aux inconv√©nients d√©pend du point de vue. <br><br>  Il y a dix ans, je croyais que toutes ces difficult√©s se justifiaient en donnant au programmeur une plus grande confiance dans le code qu'il √©crit.  Aujourd'hui, je crois que le typage fort augmente la charge de travail du programmeur et il est beaucoup plus facile de d√©velopper des projets comme ils le font en JavaScript. <br><br><h2>  <font color="#3AC1EF">Combattez les erreurs avec de petits modules faciles √† tester</font> </h2><br>  Node.js pousse le programmeur √† diviser ses projets en petits fragments, en modules dits.  Vous pouvez trouver ce fait insignifiant, mais cela r√©sout partiellement le probl√®me que nous venons de mentionner. <br><br>  Voici les principales caract√©ristiques du module: <br><br><ul><li>  L'ind√©pendance  Le module combine le code interconnect√© en une seule entit√©. </li><li>  Des limites claires.  Le code √† l'int√©rieur du module est prot√©g√© contre les interf√©rences par tout m√©canisme externe. </li><li>  Exportation explicite.  Par d√©faut, les donn√©es de code et de module ne sont pas export√©es.  Le d√©veloppeur d√©cide ind√©pendamment des fonctions et des donn√©es qui doivent √™tre rendues publiques. </li><li>  Importation explicite.  Lors du d√©veloppement d'un module, le programmeur d√©cide lui-m√™me des modules dont il d√©pendra. </li><li>  Ind√©pendance potentielle.  Les modules peuvent √™tre rendus publics, au sens tr√®s large du terme, en les publiant dans npm, ou, s'ils sont destin√©s aux besoins internes de l'entreprise, en les publiant dans des r√©f√©rentiels ferm√©s.  Cela facilite l'utilisation des m√™mes modules dans diff√©rentes applications. </li><li>  Code facile √† comprendre.  Le fait que les modules soient petits, simplifie la lecture et la compr√©hension de leur code, ouvre la possibilit√© d'une discussion libre √† leur sujet. </li><li>  Facilitez les tests.  Un petit module, s'il est correctement impl√©ment√©, peut facilement √™tre test√© √† l'unit√©. </li></ul><br>  Tout cela fait des modules Node.js des entit√©s aux limites clairement d√©finies, dont le code est facile √† √©crire, √† lire et √† tester. <br><br>  Cependant, s'inqui√©ter de travailler avec JavaScript est le fait que le manque de frappe forte peut facilement conduire le code √† faire quelque chose de mal.  Dans un petit module visant √† r√©soudre un probl√®me √©troit avec des limites claires, ¬´quelque chose ne va pas¬ª ne peut affecter que le code du module lui-m√™me.  Cela conduit au fait que les probl√®mes pouvant entra√Æner le manque de typage strict, sont bloqu√©s dans le module. <br><br>  Une autre solution au probl√®me de frappe dynamique en JavaScript consiste √† tester soigneusement le code. <br><br>  Le d√©veloppeur doit prendre les tests au s√©rieux, ce qui enl√®ve une partie des avantages qui d√©coulent de la simplicit√© du processus de d√©veloppement JS.  Les syst√®mes de test cr√©√©s par un programmeur JS devraient trouver les erreurs que, s'il √©tait d√©velopp√© par lui dans quelque chose comme Java, le compilateur pourrait trouver automatiquement.  Ecrivez-vous des tests pour vos applications JS? <br><br>  Pour ceux qui ont besoin d'un syst√®me de frappe statique en JavaScript, il peut √™tre utile de jeter un ≈ìil √† TypeScript.  Je n'utilise pas cette langue, mais j'en ai entendu beaucoup de bonnes choses.  Il est compatible avec JavaScript et √©tend le langage avec un syst√®me de contr√¥le de type et d'autres fonctionnalit√©s utiles. <br><br>  En fin de compte, nous pouvons dire que l'utilisation d'une approche modulaire du d√©veloppement est la force de Node.js et de JavaScript. <br><br><h2>  <font color="#3AC1EF">Gestion des packages</font> </h2><br>  Je me sens mal √† la simple pens√©e de Maven, donc je ne peux m√™me pas √©crire normalement √† ce sujet.  Et, si je comprends bien, Maven, sans compromis, est soit aim√©, soit d√©test√©. <br><br>  Le probl√®me ici est que dans l'environnement Java, il n'y a pas de syst√®me holistique pour g√©rer les packages.  Les packages Maven existent, vous pouvez les utiliser normalement, ils sont pris en charge par Gradle.  Mais la fa√ßon dont le travail avec eux est organis√© ne ressemble pas beaucoup aux avantages que le syst√®me de gestion de packages pour Node.js offre au d√©veloppeur. <br><br>  Dans le monde de Node.js, il existe deux excellents gestionnaires de packages qui travaillent en √©troite collaboration.  Au d√©but, le seul outil de ce type √©tait le r√©f√©rentiel npm et l'outil de ligne de commande du m√™me nom. <br><br>  Gr√¢ce √† npm, nous avons un excellent sch√©ma pour d√©crire les d√©pendances des packages.  Les d√©pendances peuvent √™tre strictes (disons, il est indiqu√© que seule la version 1.2.3 d'un certain paquet est n√©cessaire), ou donn√©es avec plusieurs degr√©s de libert√© - jusqu'√† <code>*</code> , ce qui signifie utiliser la derni√®re version d'un certain paquet. <br><br>  La communaut√© Node.js a publi√© des centaines de milliers de packages dans le r√©f√©rentiel npm.  En m√™me temps, utiliser des packages qui ne sont pas dans npm est aussi simple que d'utiliser des packages de npm. <br><br>  Le syst√®me npm s'est av√©r√© un tel succ√®s que non seulement les d√©veloppeurs de produits serveurs sur Node.js l'utilisent, mais aussi les programmeurs frontaux.  Auparavant, des outils comme Bower √©taient utilis√©s pour g√©rer les packages.  Bower √©tait obsol√®te, et vous pouvez maintenant constater que toutes les biblioth√®ques JS pour le d√©veloppement frontal existent en tant que packages npm.  De nombreux outils de support pour le d√©veloppement client, tels que la CLI Vue.js et Webpack, sont √©crits en tant qu'applications Node.js. <br><br>  Un autre syst√®me de gestion des packages pour Node.js, yarn, t√©l√©charge les packages √† partir du r√©f√©rentiel npm et utilise les m√™mes fichiers de configuration.  Le principal avantage du fil par rapport au gestionnaire de paquets npm est sa vitesse plus √©lev√©e. <br><br>  Le r√©f√©rentiel npm, qu'il utilise le gestionnaire de packages npm ou le gestionnaire de packages yarn, est une base puissante pour ce qui rend le d√©veloppement de Node.js si facile et agr√©able. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5db/382/891/5db382891911a53615838db26c67936c.png"></div><br>  <i><font color="#999999">Une fois, apr√®s avoir aid√© √† d√©velopper java.awt.Robot, j'ai √©t√© inspir√© pour cr√©er cette chose.</font></i>  <i><font color="#999999">Alors que l'image officielle de Duke est constitu√©e de courbes, RoboDuke est construit √† partir de lignes droites.</font></i>  <i><font color="#999999">Seules les articulations du coude de ce robot sont rondes</font></i> <br><br><h2>  <font color="#3AC1EF">Performances</font> </h2><br>  Java,  JavaScript     .          -,    ,    .  ,   ,  -       . <br><br>   Java,   JavaScript      .    Java   Node.js,        .     JavaScript         .         -. <br><br> JDK Sun/Oracle  HotSpot ‚Äî  ,     -.        ,      ,    ,    ,     ,    . HotSpot ‚Äî   ,     . <br><br>    JavaScript,       ,     JS-,   , ,    -  . ,    JavaScript           .    ,   ,    . , ,     Google Docs,     .    JS    . <br><br> Node.js     ,      V8  Google Chrome. <br><br>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>   ,  Google,     V8,         .     ,  V8   Crankshaft  Turbofan. <br><br>   ‚Äî  ,     ,       R  Python.  ,     ,        .  JavaScript,   ,   ,           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>  JavaScript. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>       JavaScript  , TensorFlow.js. API     API TensorFlow  Python,      .    , ,       ,        . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>     IBM,        Node.js,  ,   ,   Docker/Kubernetes.       ,       Node.js    Spring Boot.       -,        .  ,      Node.js  , ,  ,   V8. <br><br>   ,  Node.js      .      . - ,   Node.js     ,     . ,    ¬´Node.js Web Development¬ª,   ,      : <br><br><ul><li>   ‚Äî             . </li><li>          ,   Node.js     . </li><li>       . </li></ul><br>   JavaScript    ,          Node.js.    ‚Äî    Node.js-.      Node.js-   <code>node-gyp</code> ,      . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ,     Rust-  Node.js. <br><br> WebAssembly   ,    ,   JavaScript,     . WebAssembly  ,    JavaScript-.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>         WebAssembly   Node.js. <br><br><h2> <font color="#3AC1EF"> -</font> </h2><br>  - (Rich Internet Applications, RIA)        .    ,  ,     (  ) JS-,      . <br><br>   ,     20  . Sun  Netscape    Java-  Netscape Navigator. JavaScript , ,      Java-.     ,      Java-,   ‚Äî Java-.       ,                .      . <br><br>    JavaScript     ,          .       RIA,  ,   -  Java      -. <br><br>    ,   RIA   .  Node.js       , ,      ,      .    JavaScript. <br><br>  Voici quelques exemples: <br><br><ul><li>   Google Docs (    ),        ,    . </li><li>  ,  React, Angular  Vue.js,    ,   HTML, CSS  JavaScript. </li><li> Electron ‚Äî   Node.js   Chromium.      -  .          ,  Visual Studio Code, Atom, GitKraken,  Postman. </li><li>    Electron/NW.js   , -, ,  React, Angular,  Vue,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> . </li></ul><br>  Java,       ,   -  -,   JavaScript.  , , -      Sun Microsystems.    Sun   ,      .      .   Java-    ,       Java   Java Web Start.       Java-  Webstart-. <br><br>          Java, ,  , IDE NetBeans  Eclipse      .      Java  ,         ,   Java. <br><br>    JavaFX. <br><br>  JavaFX, 10  ,    Sun   iPhone. ,        Java,    , ,    .         Flash      iOS.     . JavaFX    ,        ,     .       -  React, Vue.js   . <br><br>    JavaScript  Node   Java. <br><br>    Java,  -    JavaONE.        Java  . ,  ,    ,   . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bdb/5d1/736/bdb5d1736a9e8f66394d50ef11063389.jpg"><br> <i><font color="#999999"> Java</font></i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/064/0c6/da4/0640c6da4b0defa291a2b6516f2d2606.png"><br> <i><font color="#999999">  </font></i> <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>          .       ¬´P-¬ª (Perl, PHP, Python)  Java,      Node.js,   Ruby, Haskell, Go, Rust,   .            . <br><br>     ,  , ,    Java,    Node.js,  ,    ,    Node.js-.  Java   ,    Node.js    . ,  ,  ,    Java,    . <br><br>      . , ,        Node.js  - ,    - .           . ,      XBRL-.        XBRL   Python,  ,   ,   Python. ,  ,           ,        . <br><br>  <b>Chers lecteurs!</b>  ,     ,   JavaScript  -  ,   -    Node.js,       . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr421741/">https://habr.com/ru/post/fr421741/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr421731/index.html">Combien co√ªte la construction d'un logiciel: en quoi consiste le budget de d√©veloppement d'applications</a></li>
<li><a href="../fr421733/index.html">Prenez-le et faites-le: pourquoi il est parfois utile de marquer pour l'analyse et de simplement d√©velopper</a></li>
<li><a href="../fr421735/index.html">"Virus" dans les extensions utilisant FastProxy comme exemple</a></li>
<li><a href="../fr421737/index.html">L'entreprise am√©ricaine coupe ses employ√©s depuis un an maintenant. Pourquoi pourrait-il y avoir un avenir?</a></li>
<li><a href="../fr421739/index.html">Comment j'ai remplac√© RxJava par des coroutines dans mon projet et pourquoi vous devriez probablement le faire √©galement</a></li>
<li><a href="../fr421745/index.html">Comment Ubisoft a lanc√© sa suite de jeux hybrides Starlink: Battle for Atlas</a></li>
<li><a href="../fr421747/index.html">Parktronic sur Arduino</a></li>
<li><a href="../fr421751/index.html">Les meilleurs √©diteurs gratuits pour le d√©veloppement et la documentation: Atom</a></li>
<li><a href="../fr421753/index.html">Revue vid√©o DJI Mavic 2 Zoom et 2 Pro. Test des cam√©ras et des nouvelles fonctionnalit√©s</a></li>
<li><a href="../fr421755/index.html">Le l√©gendaire ¬´404 Festival¬ª revient et se tiendra du 6 au 7 octobre 2018 √† Samara</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>