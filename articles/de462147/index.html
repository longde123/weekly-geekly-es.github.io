<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😀 👲 🌉 Arbeiten mit der Navigation beim Refactoring eines Projekterbes in React Native 🙋🏻 🏍️ 👨🏻‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieses Material widmet sich der Arbeit zur Umgestaltung der Navigation in der mobilen Entwicklung. 
 Der Artikel enthält Beispiele für mögliche Proble...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arbeiten mit der Navigation beim Refactoring eines Projekterbes in React Native</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462147/">  Dieses Material widmet sich der Arbeit zur Umgestaltung der Navigation in der mobilen Entwicklung. <br>  Der Artikel enthält Beispiele für mögliche Probleme sowie Auswege aus schwierigen Situationen im Zusammenhang mit der Navigationsarbeit in der mobilen Entwicklung von React Native. <br><br>  Wir werden die Hauptmerkmale und Probleme des mobilen Legacy-Projekts betrachten und Schritt für Schritt eine Reihe von Maßnahmen durchlaufen, die darin bestehen, eine Aufgabe festzulegen, Engpässe zu identifizieren, Lösungen für bestehende Probleme zu finden und das gewünschte Ergebnis zu erzielen. <br><br><img src="https://habrastorage.org/webt/2q/ew/x-/2qewx-racueff35wi0bfi5xsops.jpeg"><br><a name="habracut"></a><br><h2>  Arbeitsumgebung </h2><br>  React Native ist eine relativ junge Open-Source-Entwicklungsplattform für mobile Apps, die von Facebook entwickelt wurde.  Es wird zum Erstellen von Anwendungen für Android, iOS und UWP verwendet und ermöglicht Entwicklern, React zusammen mit den eigenen Funktionen der Plattform zu verwenden. <br><br>  Die Navigation ist fast das wichtigste Element in einer mobilen Anwendung.  Wenn Sie die Architektur der Anwendung erstellen, sollten Sie diesem Thema besondere Aufmerksamkeit widmen. <br><br>  Die gängigsten Bibliotheken für die Gebäudenavigation: <br><br><ul><li>  Navigation reagieren  Dies ist die beliebteste Bibliothek, die häufig in offiziellen Dokumentationen erwähnt wird.  Dementsprechend hat sie viele Sterne in ihrem Sparschwein auf GitHub. </li><li>  React-Native-Navigation.  Diese Plattform verwendet die grundlegenden nativen APIs für iOS und Android.  Dies ist eine beliebte Alternative zu React-Navigation.  Es ist für diejenigen geeignet, die die Einhaltung der Plattformvereinbarungen schätzen und sich nicht zu sehr für die Anpassung interessieren. </li></ul><br>  Weniger verbreitete Bibliotheken: <br><br><ul><li>  React-Router-native  Dies ist eine unvollständige Bibliothek.  Wenn Sie jedoch bereits mit der React Router-API vertraut sind und relativ einfache Anforderungen an Ihre Anwendung stellen, kann Ihnen diese Plattform weiterhelfen. </li><li>  React-Native-Router-Flux.  Diese Bibliothek basiert auf React-Navigation, bietet jedoch eine andere API für die Interaktion mit ihr. </li></ul><br><h2>  Meine Erfahrung </h2><br>  Ich werde Ihnen kurz über meine Erfahrungen als Entwickler berichten.  Ich arbeite seit über zwei Jahren mit React Native.  In App Stores werden mehrere abgeschlossene Projekte veröffentlicht.  In dieser Zeit habe ich eine Vielzahl von Tools in der Umgebung von React Native kennengelernt.  Die Navigation ist in mobilen Entwicklungsprojekten oft ein Stolperstein.  Das Legacy-Projekt, an dem ich arbeitete, war keine Ausnahme.  Dies wird später besprochen. <br><br><h2>  Herausforderung </h2><br>  Der Code wurde während des Refactorings der Anwendung dupliziert, anstatt die Rollen in zwei Typen (Benutzer und Administrator) zu unterteilen.  Leider war das gleiche Problem bei der Navigation vorhanden. <br>  Die architektonischen Merkmale der Anwendung wurden nicht berücksichtigt. <br><br>  Alle Bildschirme wurden in drei Typen unterteilt: Autorisierungsbildschirme, Administratorbildschirme und Benutzerbildschirme. <br><br>  Anstelle einer logischen Verbindung zwischen dem Stammstapel und der Registerkarte Navigator mit Rollenwechsel gab es eine unlogische Unterteilung in Navigationsstapel für die Benutzernavigation. <br><br><img src="https://habrastorage.org/webt/yl/9o/6l/yl9o6l5fimvh4jwiaacceh6m7kq.png"><br><br>  Darüber hinaus wurde der Aufbau der Navigation für jeden Benutzer wiederholt. <br><br><img src="https://habrastorage.org/webt/yb/xy/pr/ybxyprbzg_lg4j1ui2snqcyc8t4.png"><br><br>  Ich musste die folgenden Probleme lösen: <br><br><ul><li>  Allgemeine Verlangsamung der Anwendung. </li><li>  Das Fehlen eines „Pre-Renderers“ der Hauptbildschirme hatte keinen optimalen Einfluss auf den Benutzerkomfort. </li><li>  Die Navigation sah nicht nativ aus.  Übergangsanimationen waren auffällig und für die Arbeit unpraktisch. </li></ul><br>  Fügen Sie einen Screenshot der modalen Fensterkomponente hinzu, die als Registerkartennavigator diente. <br><br><img src="https://habrastorage.org/webt/dk/ft/18/dkft18an-ou1bmngf_myazazspm.png"><br><br><ul><li>  "Bestehende" Bildschirme im Navigationsstapel, d.h.  Es gab keine Entladung (Reinigung).  Die von uns geöffneten Bildschirme wurden auf dem Stapel gespeichert.  Somit war ein Speicherverlust und ein anschließender Absturz der Anwendung fast unvermeidlich. </li></ul><br><h2>  Lösung </h2><br>  Ergebnisse der Arbeit: <br><br><ul><li>  Das Problem im Zusammenhang mit der Optimierung der Navigation, dem Fehlen eines Pre-Renderers und der allgemeinen Verlangsamung wurde gelöst, indem die Navigationsbibliothek aktualisiert wurde, der Tab-Navigator verwendet wurde und das selbstgeschriebene modale Fenster nicht als Navigator verwendet wurde. </li><li>  Nach dem Refactoring wurde die Navigation natürlicher.  Das Verfolgen der Arbeit von Übergangsanimationen sowie das Vorrendern der Hauptbildschirme auf Registerkarten haben den Benutzerkomfort erhöht. </li><li>  Die Navigation wurde auf der Registerkarte Navigation gestapelt.  Die Übergangsnutzung wurde besser kontrolliert.  Übergänge zur oberen Ebene wurden verwendet. </li></ul><br>  Die folgenden Methoden wurden für die React-Navigation-Version verwendet: <br><br><ul><li>  popToTop - Gehen Sie zum Hauptbildschirm des Stapels </li><li>  Ersetzen - Ersetzt die aktuelle Route durch eine neue </li><li>  Zurücksetzen - Löscht den Navigatorstatus und ersetzt ihn durch das Ergebnis mehrerer Aktionen </li></ul><br><h2>  Ergebnisse </h2><br>  Ich habe es geschafft, die meisten doppelten Navigationsbildschirme loszuwerden und eine logischere Struktur aufzubauen. <br><br>  Während des Refactoring-Prozesses wurde die gesamte Navigation neu gestaltet.  Ein Teil des Refactorings der Navigation umfasste auch die Beseitigung von Doppelbildschirmen und die Schaffung einer einheitlichen Navigationsstruktur.  Die Bildschirme, die sich außerhalb der Registerkarten befinden sollten, befanden sich im Stammnavigator, und die Bildschirme der Navigatorregisterkarte selbst sind im Screenshot zu sehen. <br><br><img src="https://habrastorage.org/webt/dx/cp/2s/dxcp2sp_5p2bmkiunawx8anwwjg.png"><br><br><h2>  Schlussfolgerungen </h2><br>  Zusammenfassend möchte ich noch einmal auf die Bedeutung von Navigationsbibliotheken hinweisen sowie auf die Verwendung der effektivsten Strategien für die Arbeit mit ihnen und eine eingehende Untersuchung der technischen Dokumentation achten.  Andernfalls werden Sie viel Zeit und Mühe in die Umgestaltung und Verfeinerung eines vorhandenen Projekts und seiner Codebasis investieren. <br><br>  Die Auswahl einer Navigationsbibliothek ist ein wichtiger Schritt bei der Entwicklung Ihrer Anwendung.  Jede Entscheidung, die ohne Bedenken und Vorsicht getroffen wird, kann die Skalierbarkeit beeinträchtigen oder andere Probleme verursachen. <br><br><h2>  Nützliche Links: </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Reagieren Sie auf die Navigation</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Native reagieren</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Probleme bei der Entwicklung des alten mobilen Projekts</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React-native-Navigation</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React-Router-native</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React-Native-Router-Flux</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de462147/">https://habr.com/ru/post/de462147/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de462131/index.html">Durch Dornen zu einem Traumspiel</a></li>
<li><a href="../de462133/index.html">Noch einmal über Zypern, die Nuancen des Lebens</a></li>
<li><a href="../de462135/index.html">Strategische Partnerschaft: Warum ServiceNow mit einem großen Cloud-Anbieter zusammenarbeitet</a></li>
<li><a href="../de462141/index.html">Wagen für ein Rechenzentrum</a></li>
<li><a href="../de462145/index.html">Warum dauert das Abbestellen mehrere Tage?</a></li>
<li><a href="../de462149/index.html">Zugriffsbeschränkungsmodus für Zubehör auf iOS-Geräten und deren Umgehung</a></li>
<li><a href="../de462151/index.html">5 Top-Kubernetes-Distributionen</a></li>
<li><a href="../de462153/index.html">Unity Interactive Map Shader</a></li>
<li><a href="../de462155/index.html">Arbeiten Sie mit Worker "wie Sie möchten", nicht "so viel wie möglich".</a></li>
<li><a href="../de462159/index.html">Aufbau eines Gesichtserkennungssystems basierend auf Golang und OpenCV</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>