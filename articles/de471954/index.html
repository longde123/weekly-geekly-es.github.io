<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÉ üî¢ üöÖ Eigenes Internetradio ‚òùÔ∏è üõ†Ô∏è üî£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Viele von uns h√∂ren morgens gerne Radio. Und dann, eines sch√∂nen Morgens, wurde mir klar, dass ich keine lokalen UKW-Radiosender h√∂ren wollte. Nicht i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eigenes Internetradio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471954/"> Viele von uns h√∂ren morgens gerne Radio.  Und dann, eines sch√∂nen Morgens, wurde mir klar, dass ich keine lokalen UKW-Radiosender h√∂ren wollte.  Nicht interessant.  Aber die Gewohnheit erwies sich als sch√§dlich.  Und ich habe beschlossen, den FM-Empf√§nger durch einen Internetempf√§nger zu ersetzen.  Kaufte schnell Teile bei Aliexpress und baute einen Internetempf√§nger zusammen. <br><br>  √úber den Internetempf√§nger.  Das Herzst√ºck des Empf√§ngers ist der ESP32-Mikrocontroller.  Firmware von KA-Radio.  Die Kosten f√ºr Teile kosten mich 12 Dollar.  Die einfache Montage erm√∂glichte es mir, es in ein paar Tagen zusammenzubauen.  Es funktioniert gut und stabil.  √úber 10 Monate Arbeit hing es nur ein paar Mal und das lag nur an meinen Experimenten.  Dank der praktischen und durchdachten Benutzeroberfl√§che k√∂nnen Sie von einem Smartphone und Computer aus steuern.  Mit einem Wort, dies ist ein wunderbarer Internetempf√§nger. <br><br>  Alles ist cool.  Aber eines fr√ºhen Morgens kam ich zu dem Schluss, dass es mit Zugang zu Zehntausenden von Radiosendern keine interessanten Sender gibt.  Ich √§rgerte mich √ºber Werbung, dumme Witze f√ºhrten.  St√§ndig von einer Station zur anderen springen.  Ich mag Spotify und Yandex.Music.  Aber das Traurige ist, dass sie in meinem Land nicht arbeiten.  Und ich m√∂chte sie √ºber den Internetempf√§nger h√∂ren. <br><a name="habracut"></a><br>  Ich erinnerte mich an meine Kindheit.  Ich hatte ein Tonbandger√§t und zwei Dutzend Kassetten.  Kassetten mit Freunden gewechselt.  Und es war wunderbar.  Ich habe beschlossen, dass ich meine Audioarchive nur auf den Internetempf√§nger streamen muss.  Nat√ºrlich gibt es die M√∂glichkeit, einen Audio-Player oder iPod an die Lautsprecher anzuschlie√üen und nicht zu d√§mpfen.  Aber das ist nicht unser Weg!  Ich hasse es, die Stecker anzuschlie√üen) <br><br>  Er begann nach vorgefertigten L√∂sungen zu suchen.  Es gibt ein Angebot auf dem Markt, Ihr eigenes Internetradio von Radio-Tochka.com zu erstellen.  Ich habe 5 Tage getestet.  Mit meinem Internetempf√§nger hat alles perfekt funktioniert.  Aber der Preis war f√ºr mich nicht attraktiv.  Diese Option wurde abgelehnt. <br><br>  Ich habe ein kostenpflichtiges Hosting von 10 GB.  Ich habe beschlossen, ein Skript f√ºr etwas zu schreiben, das den Audiostream meiner MP3-Dateien streamen soll.  Ich habe beschlossen, in PHP zu schreiben.  Schnell geschrieben und gestartet.  Alles hat funktioniert.  Es war gro√üartig!  Ein paar Tage sp√§ter kam ein Brief von der Hosting-Administration.  Es ging darum, das Limit der Prozessorminuten zu √ºberschreiten und auf einen h√∂heren Tarif umzusteigen.  Das Skript musste entfernt und diese Option aufgegeben werden. <br><br>  Wie so?  Ich kann nicht ohne Radio leben.  Wenn Sie das Skript nicht auf dem Hosting einer anderen Person ausf√ºhren d√ºrfen, ben√∂tigen Sie einen eigenen Server.  Wo ich tun werde, was meine Seele w√ºnscht. <br><br>  Ich habe ein altes Netbook ohne Akku (CPU - 900 MHz, RAM - 512 MB).  Der alte Mann ist 11 Jahre alt.  F√ºr einen Server ist das in Ordnung.  Ich habe Ubuntu 12.04 gesetzt.  Dann installieren Sie Apache2 und PHP 5.3, Samba.  Mein Server ist bereit. <br><br>  Ich habe mich f√ºr Icecast entschieden.  Ich habe viel Mana dar√ºber gelesen.  Aber es schien mir kompliziert.  Und ich beschloss, mit einem Skript in PHP zur Option zur√ºckzukehren.  Einige Tage wurden mit dem Debuggen dieses Skripts verbracht.  Und es hat perfekt funktioniert.  Dann habe ich auch ein Skript geschrieben, um Podcasts abzuspielen.  Und es hat mir so gut gefallen, dass ich beschlossen habe, ein kleines Projekt zu machen.  Nannte es IWScast.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gepostet auf Github</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/09e/026/621/09e0266211e990748db388adc3324e85.png" alt="Bild"><br><br>  Alles ist sehr einfach.  Ich kopiere die MP3-Dateien und die Datei index.php in den Stammordner des Apache / var / www / und sie werden zuf√§llig abgespielt.  Etwa 300 Songs reichen ungef√§hr f√ºr den ganzen Tag. <br>  Die Datei index.php ist das Skript selbst.  Das Skript liest alle Namen von MP3-Verzeichnisdateien in ein Array.  Erstellt einen Audiostream und ersetzt MP3-Dateinamen.  Es gibt Zeiten, in denen Sie ein Lied h√∂ren und es Ihnen gef√§llt.  Glaubst du, wer das singt?  In diesem Fall werden die Namen der abgeh√∂rten Titel in der log log.txt aufgezeichnet <br><div class="spoiler">  <b class="spoiler_title">Vollst√§ndiger Skriptcode</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> set_time_limit(<span class="hljs-number"><span class="hljs-number">0</span></span>); header(<span class="hljs-string"><span class="hljs-string">'Content-type: audio/mpeg'</span></span>); header(<span class="hljs-string"><span class="hljs-string">"Content-Transfer-Encoding: binary"</span></span>); header(<span class="hljs-string"><span class="hljs-string">"Pragma: no-cache"</span></span>); header(<span class="hljs-string"><span class="hljs-string">"icy-br: 128 "</span></span>); header(<span class="hljs-string"><span class="hljs-string">"icy-name: your name"</span></span>); header(<span class="hljs-string"><span class="hljs-string">"icy-description: your description"</span></span>); $files = glob(<span class="hljs-string"><span class="hljs-string">"*.mp3"</span></span>); shuffle($files); <span class="hljs-comment"><span class="hljs-comment">//Random on for ($x=0; $x &lt; count($files);) { $filePath = $files[$x++]; $bitrate = 128; $strContext=stream_context_create( array( 'http'=&gt;array( 'method' =&gt;'GET', 'header' =&gt; 'Icy-MetaData: 1', 'header' =&gt;"Accept-language: en\r\n" ) ) ); //Save to log $fl = $filePath; $log = date('Ymd H:i:s') . ' Song - ' . $fl; file_put_contents('log.txt', $log . PHP_EOL, FILE_APPEND); $fpOrigin=fopen($filePath, 'rb', false, $strContext); while(!feof($fpOrigin)){ $buffer=fread($fpOrigin, 4096); echo $buffer; flush(); } fclose($fpOrigin); } </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre> <br></div></div><br>  Wenn Sie m√∂chten, dass die Titel der Reihe nach abgespielt werden, m√ºssen Sie die Zeile in index.php auskommentieren <br><pre> <code class="php hljs">shuffle($files); <span class="hljs-comment"><span class="hljs-comment">//Random on</span></span></code> </pre> <br><br>  F√ºr Podcasts verwende ich / var / www / podcast / Es gibt ein anderes index.php-Skript.  Es hat Podcast-Tracks auswendig zu lernen.  Beim n√§chsten Einschalten des Internetempf√§ngers wird der n√§chste Podcast-Titel abgespielt.  Es gibt auch ein Protokoll der reproduzierten Spuren. <br>  Sie k√∂nnen die Titelnummer in der Datei counter.dat angeben und die Podcast-Wiedergabe beginnt damit. <br><br>  Schrieb Parser zum automatischen Herunterladen von Podcasts.  Er nimmt die letzten 4 Tracks von RSS und l√§dt sie herunter.  All dies funktioniert hervorragend auf einem Smartphone, einer IPTV-Set-Top-Box, in einem Browser. <br><br>  K√ºrzlich am Morgen kam mir die Idee, dass es gro√üartig ist, sich die Wiedergabeposition auf dem Track zu merken.  Aber ich wei√ü noch nicht, wie das in PHP geht. <br><br>  Das Skript kann unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github.com/iwsys/IWScast</a> heruntergeladen werden </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de471954/">https://habr.com/ru/post/de471954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de471938/index.html">Layout-Hinweise: N√ºtzliche Google Chrome-Erweiterungen im Jahr 2019</a></li>
<li><a href="../de471940/index.html">So reduzieren Sie das Risiko von Ausf√§llen bei aufgeschobenen Abrechnungen: Factoring f√ºr Unternehmen</a></li>
<li><a href="../de471942/index.html">Entsprechend Ihren Anforderungen: Professioneller Test von Kingston DC500R- und DC500M-SSDs</a></li>
<li><a href="../de471948/index.html">Spielen Sie in der Box</a></li>
<li><a href="../de471950/index.html">Meine Vision f√ºr die Zukunft D.</a></li>
<li><a href="../de471956/index.html">Animiertes Zustandsdiagramm</a></li>
<li><a href="../de471958/index.html">Amazon EX Windows in GA mit Fehlern, aber schneller als jeder andere</a></li>
<li><a href="../de471960/index.html">Operation TA505, Teil 2: Erlernen der ServHelper-Hintert√ºr mit NetSupport RAT</a></li>
<li><a href="../de471962/index.html">Aufstieg des Orakels</a></li>
<li><a href="../de471964/index.html">Orakel kommen zur Rettung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>