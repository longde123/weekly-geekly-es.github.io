<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¢ üè¨ üõ°Ô∏è KI-Entwicklung am Beispiel des Dicey Dungeons-Spiels üßëüèæ‚Äçü§ù‚ÄçüßëüèΩ ü•ü üë±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ungef√§hr einen Monat lang l√∂ste ich eines der schwierigsten technischen Probleme meines neuen Spiels, Dicey Dungeons - eine verbesserte KI f√ºr die end...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>KI-Entwicklung am Beispiel des Dicey Dungeons-Spiels</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432062/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/295/2a6/391/2952a639197eaa3a64690bd53e3fd0bd.jpg"></div><br>  Ungef√§hr einen Monat lang l√∂ste ich eines der schwierigsten technischen Probleme meines neuen Spiels, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dicey Dungeons</a> - eine verbesserte KI f√ºr die endg√ºltige Ver√∂ffentlichung des Spiels.  Es war eine ziemlich interessante Arbeit, und vieles davon war neu f√ºr mich, deshalb habe ich beschlossen, ein wenig dar√ºber zu schreiben. <br><br>  Zun√§chst erkl√§re ich: Ich bin kein Experte f√ºr Computertheorie, sondern nur einer von denen, die genug Programmieren studiert haben, um Videospiele zu erstellen. Danach habe ich mein Training abgeschlossen und nur das genommen, was ich brauchte.  Normalerweise kann ich meine Probleme selbst l√∂sen, aber ein echter Programmierer w√ºrde meine Entscheidungen h√∂chstwahrscheinlich nicht guthei√üen. <br><br>  Ich habe versucht, einen Artikel auf einem ausreichend hohen Abstraktionsniveau zu schreiben, damit die Grundideen auch Nicht-Programmierern klar waren.  Aber ich bin kein Experte in solchen Dingen, daher k√∂nnen meine Erkl√§rungen der Theorie falsch sein.  Schreiben Sie mir dazu in den Kommentaren zum Original, ich werde gerne √Ñnderungen vornehmen! <br><br>  Beginnen wir mit der Erkl√§rung der Aufgabe! <br><a name="habracut"></a><br><h2>  Herausforderung </h2><br>  Falls Sie Dicey Dungeons noch nicht gespielt haben, erz√§hle ich Ihnen kurz etwas √ºber das Spiel: Dies ist ein Rollenspiel mit Deckbuilding, in dem jeder Feind eine Reihe von Waffenkarten hat, die unterschiedliche Aktionen ausf√ºhren.  Au√üerdem w√ºrfeln sie!  Dann r√ºsten sie diese W√ºrfel, um Schaden zu verursachen oder verschiedene Statuseffekte zu erzeugen oder um zu heilen oder sich gegen Schaden und dergleichen zu verteidigen.  Hier ist ein einfaches Beispiel daf√ºr, wie ein kleiner Frosch ein gro√ües Schwert und einen kleinen Schild benutzt: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/908/db8/48a/908db848a06270e8398e67313f9e16c7.gif"></div><br>  Ein komplizierteres Beispiel: Dieser Allesk√∂nner hat einen Schraubenschl√ºssel, mit dem Sie zwei W√ºrfel zusammenlegen k√∂nnen (dh 3 + 2 ergeben 5 und 4 + 5 ergeben 6 und 3).  Er hat auch einen Hammer (Hammer), der dem Spieler einen "Schock" -Effekt auferlegt, wenn Sie sechs auf ihn anwenden, und einen Erbsensch√ºtzen (Erbsensch√ºtze), der wenig Schaden anrichtet, aber dann einen "Countdown" hat dort gilt es f√ºr mehrere Z√ºge. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/691/1d0/391/6911d0391f12dc6af58dd978907a6df3.gif"></div><br>  Eine weitere wichtige Komplikation: Das Spiel hat Statuseffekte, die die F√§higkeiten der Gegner ver√§ndern.  Das wichtigste davon ist Schock, der Waffen nach dem Zufallsprinzip deaktiviert.  Der Schock kann durch Verwendung eines zus√§tzlichen W√ºrfels und ‚ÄûBrennen‚Äú entfernt werden, wodurch die W√ºrfel in Brand gesetzt werden.  W√§hrend die W√ºrfel brennen, k√∂nnen sie verwendet werden, aber jede Verwendung kostet 2 Gesundheitspunkte.  Das macht ein kluger Handwerker, wenn ich all seine Waffen und W√ºrfel schockiere und verbrenne: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f92/36c/aae/f9236caaee860e0c026e31bd4390d6e3.gif"></div><br>  Nat√ºrlich gibt es noch viel mehr im Spiel, aber um eine allgemeine Vorstellung zu bekommen, reicht dies aus. <br><br>  Unsere Aufgabe: Wie kann die KI die beste Aktion f√ºr ihren Zug ausw√§hlen?  Wie kann er herausfinden, welche der brennenden W√ºrfel gel√∂scht werden sollen, welcher W√ºrfel zur Schocklinderung verwendet werden soll und welcher f√ºr wichtige Waffen aufbewahrt werden soll? <br><br><h2>  Wie zuvor </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfb/bac/9ef/dfbbac9efb2cad316eb7dd82aab379c5.png"></div><br>  Lange Zeit hatte die KI in Dicey Dungeons nur eine Regel: Er betrachtete alle Waffen von links nach rechts, bestimmte den besten W√ºrfel, der f√ºr ihn verwendet werden konnte, und verwendete ihn dann.  Das hat super geklappt, aber es gab Ausnahmen.  Also habe ich neue Regeln hinzugef√ºgt. <br><br>  Zum Beispiel habe ich den Schock bew√§ltigt, indem ich mir alle Waffen angesehen habe, die keinem Schock ausgesetzt waren, und ausgew√§hlt habe, welchen W√ºrfel ich verwenden w√ºrde, wenn der Schock entfernt wurde, und diesen W√ºrfel dann als "reserviert" f√ºr die Zukunft markiert.  Ich habe mit brennenden W√ºrfeln wie diesen gearbeitet: Ich habe gepr√ºft, ob ich genug Gesundheit habe, um sie zu l√∂schen, und zuf√§llig ausgew√§hlt, ob ich das tun soll. <br><br>  Ich f√ºgte Regel f√ºr Regel f√ºr alles hinzu, was ich mir vorstellen konnte, und als Ergebnis bekam ich eine KI, die zu funktionieren schien!  Tats√§chlich ist es erstaunlich, wie gut sich diese Verflechtung verschiedener Regeln gezeigt hat - die KI in Dicey Dungeons trifft m√∂glicherweise nicht immer die richtige Entscheidung, war aber immer zumindest akzeptabel.  Zumindest f√ºr ein Spiel, das sich noch in der Entwicklung befindet. <br><br>  Aber im Laufe der Zeit begann das System, st√§ndig neue Regeln hinzuzuf√ºgen, aus allen N√§hten zu knacken.  Die Leute haben Exploits entdeckt, die KI dazu gebracht haben, sich dumm zu verhalten.  Mit dem richtigen Ansatz k√∂nnten Sie beispielsweise einen der Bosse √ºberlisten, damit er den Spieler niemals angreift.  Je mehr Regeln ich hinzuf√ºgte, um die Situation zu korrigieren, desto seltsamer wurden Dinge - einige Regeln gerieten in Konflikt mit anderen, Grenzf√§lle tauchten auf. <br><br>  Eine der L√∂sungen bestand nat√ºrlich darin, neue Regeln hinzuzuf√ºgen, jede Aufgabe einzeln zu betrachten und neue if-Konstrukte zu erstellen, um sie zu verarbeiten.  Aber ich denke, dass ich auf diese Weise einfach die wahre L√∂sung des Problems beiseite geschoben habe.  Die Einschr√§nkung des Systems bestand darin, dass es nur eine Frage betraf: "Was wird mein <b>n√§chster</b> Schritt sein?"  Sie schaute nie nach vorne und versuchte nicht vorzuschlagen, was aus einer bestimmten intelligenten Kombination entstehen k√∂nnte. <br><br>  Also habe ich beschlossen, wieder von vorne zu beginnen. <br><br><h2>  Klassische L√∂sung </h2><br>  Versuchen Sie, nach Informationen √ºber KI f√ºr Spiele zu suchen, und wahrscheinlich werden Sie als Erstes auf eine klassische L√∂sung sto√üen - die Erstellung eines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Minimax-</a> Algorithmus.  Hier ist ein Video dar√ºber, wie es bei der Entwicklung von KI f√ºr Schach verwendet wird: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/DZfv0YgLJ2Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Die Minimax-Implementierung lautet wie folgt: <br><br>  Zun√§chst erstellen wir die einfachste, abstrakte Version unseres Spiels, in der alle erforderlichen Informationen f√ºr einen bestimmten Zeitpunkt im Spiel enthalten sind.  Wir werden es ein <b>Board nennen</b> .  Im Falle von Schach sind dies die aktuellen Positionen aller Figuren.  Im Fall von Dicey Dungeons ist dies eine Liste von W√ºrfeln, Waffen und Statuseffekten. <br><br>  Dann erstellen wir <i>eine Wertefunktion</i> , die misst, wie gut das Spiel f√ºr eine bestimmte Spielkonfiguration, dh f√ºr ein bestimmtes <i>Brett, spielt</i> .  Beispielsweise wird im Schach ein Brett, auf dem sich die Figuren in ihrer urspr√ºnglichen Position befinden, mit 0 Punkten bewertet.  Das Brett, auf dem Sie den Bauern Ihres Gegners gegessen haben, hat einen Wert von 1 Punkten, und das Brett, auf dem Sie Ihren eigenen Bauern verloren haben, hat einen Wert von -1 Punkten.  Und das Brett, auf dem wir den Gegner schachmatt gesetzt haben, wird mit einer unendlichen Anzahl von Punkten bewertet, oder so √§hnlich! <br><br>  Dann simulieren wir von diesem abstrakten Brett aus alle m√∂glichen Bewegungen, die wir machen k√∂nnen, was uns neue abstrakte Bretter gibt.  Dann simulieren wir den Abschluss aller m√∂glichen Bewegungen auf <i>diesen</i> Brettern und so weiter, so viele Schritte wie Sie m√∂chten.  Hier ist eine hervorragende Illustration einer √§hnlichen L√∂sung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">freecodecamp.org</a> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/323/905/fa7/323905fa7062bd302e0b97afd1b81d40.png"></div><br>  Wir erstellen ein Diagramm aller m√∂glichen Z√ºge, die beide Spieler ausf√ºhren k√∂nnen, und wenden eine Wertefunktion darauf an, um den Spielverlauf zu bewerten. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bf9/487/181/bf948718169b06d15fdfbf816839d6a4.jpg"></div><br>  Und darin unterscheidet sich Dicey Dungeons von Minimax: Minimax stammt aus der mathematischen Theorie der Spiele und wurde entwickelt, um die beste Reihe von Z√ºgen der Welt zu finden, bei denen der Gegner versucht, seine Punktzahl zu maximieren.  Der Algorithmus wird so genannt, weil er die Verluste des Spielers minimiert, wenn der Gegner spielt, um seine Gewinne zu maximieren. <br><br>  Aber was passiert in den Dicey Dungeons?  Eigentlich ist es mir egal, was mein Gegner tut.  Damit das Spiel spannend wird, reicht es f√ºr die k√ºnstliche Intelligenz aus, logische Schritte zu unternehmen - um den besten Weg zu finden, die W√ºrfel auf Waffen anzuwenden, damit der Kampf fair ist.  Mit anderen Worten, f√ºr mich ist nur ‚Äûmax‚Äú wichtig, ohne ‚Äûmini‚Äú. <br><br>  Das hei√üt, damit die AI Dicey Dungeons einen guten Zug machen k√∂nnen, reicht es mir, diese Grafik m√∂glicher Z√ºge zu erstellen, das Brett mit der h√∂chsten Punktzahl zu finden und dann die Z√ºge zu machen, die zu diesem Punkt f√ºhren. <br><br><h2>  Die leichte Bewegung des Feindes </h2><br>  Kommen wir zu den Beispielen!  Schauen wir uns den Frosch noch einmal an.  Wie kann sie <b>entscheiden,</b> was als n√§chstes zu tun ist?  Woher wei√ü sie <i>,</i> dass die gew√§hlte Aktion die beste ist? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/908/db8/48a/908db848a06270e8398e67313f9e16c7.gif"></div><br>  Tats√§chlich hat sie nur zwei M√∂glichkeiten.  Platziere 1 auf dem breiten Schwert und 3 auf dem Schild oder mache das Gegenteil.  Sie entscheidet offensichtlich, dass es besser ist, 3 statt 1 zu setzen. Aber warum?  Weil sie alle m√∂glichen Ergebnisse studiert hat: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/429/44c/85b/42944c85becf5fc79d0868de96b2dbd6.png"></div><br>  Wenn Sie 1 auf das Schwert setzen, erhalten wir 438 Punkte.  Wenn Sie 3 darauf setzen, erhalten wir 558 Punkte.  Gro√üartig!  Wenn ich also Schwert 3 platziere, bekomme ich mehr Punkte. Das Problem ist gel√∂st. <br><br>  Woher kommen diese Brillen?  Das Bewertungssystem in Dicey Dungeons ber√ºcksichtigt derzeit die folgenden Aspekte: <br><br><ul><li>  <strong>Schaden: Der</strong> wichtigste Faktor sind 100 Punkte f√ºr jeden verursachten Schadenspunkt. </li><li>  <strong>Gift: Ein</strong> wichtiger Statuseffekt, den die KI f√ºr fast genauso wichtig h√§lt wie den Schaden - 90 f√ºr jedes Gift. </li><li>  <strong>Erstellen anderer Statuseffekte:</strong> z. B. Schock, Brennen, Schw√§chen usw.  Jeder von ihnen kostet 50 Punkte. </li><li>  <strong>Bonusstatus-Effekte: Das</strong> Hinzuf√ºgen positiver Statuseffekte wie Verteidigung und dergleichen zum Spieler selbst kostet jeweils 40 Punkte. </li><li>  <strong>Einsatz von Waffen: Die</strong> Verwendung einer beliebigen Art von Waffe kostet 10 Punkte, denn wenn nichts anderes gelingt, muss die KI nur versuchen, alles zu verwenden. </li><li>  <strong>Countdown-Reduzierung:</strong> Um einige Waffentypen zu aktivieren (z. B. f√ºr Pea Shooter), reicht der Gesamtbetrag der W√ºrfel gerade aus.  Daher erh√§lt die KI 10 Punkte f√ºr jeden Countdown-Punkt, den sie reduziert. </li><li>  <strong>Punkte auf W√ºrfeln: Die</strong> KI erh√§lt 5 Punkte f√ºr jeden nicht verwendeten Punkt auf den W√ºrfeln, d. H. 1 kostet 5 Punkte und 6 kostet 30 Punkte.  Dies geschieht, damit die KI keine W√ºrfel verwenden m√∂chte, die Sie nicht ben√∂tigen, sodass ihre Bewegungen den menschlichen sehr √§hnlich werden. </li><li>  <strong>Dauer:</strong> KI verliert 1 Punkt pro Spielzug, daher haben lange Z√ºge etwas weniger Wert als kurze.  Dies geschieht so, dass die KI bei zwei Bewegungen, die ansonsten gleichwertig sind, die k√ºrzeste ausw√§hlt. </li><li>  <strong>Behandlung:</strong> Es kostet nur 1 Punkt f√ºr einen wiederhergestellten Gesundheitspunkt, denn obwohl ich m√∂chte, dass die KI dies f√ºr wichtig h√§lt, habe ich meine Gesundheit nicht wirklich √ºberwacht.  Es gibt immer Dinge zu tun und wichtiger! </li><li>  <strong>Bonuspunkte:</strong> Sie k√∂nnen zu jeder Bewegung hinzugef√ºgt werden, um die KI zu etwas zu zwingen, was er sonst niemals getan h√§tte.  Sehr m√§√üig verwendet. </li></ul><br>  Und schlie√ülich gibt es zwei Sonderf√§lle: Wenn dem angegriffenen Ziel die Gesundheit ausgeht, kostet es eine Million Punkte.  Wenn die Gesundheit mit der KI endet, kostet sie minus eine Million Punkte.  Dies bedeutet, dass sich die KI niemals versehentlich selbst t√∂tet (z. B. indem sie den W√ºrfel mit sehr geringer Gesundheit auszahlt), oder dass sie niemals einen Zug verpasst, in dem sie den Spieler t√∂ten kann. <br><br>  Diese Zahlen sind nicht ideal - nehmen Sie zum Beispiel die aktuell offenen Ausgaben: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">640</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">642</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">649</a> , aber das ist nicht sehr wichtig.  Selbst ann√§hernd genaue Zahlen reichen aus, um die KI zu mehr oder weniger korrekter Arbeit anzuregen. <br><br><h2>  Schwierigere Bewegungen des Feindes </h2><br>  Der Froschkoffer ist so einfach, dass selbst mein schrecklicher Code alle Optionen in nur 0,017 Sekunden herausfinden kann.  Aber dann wird die Situation komplizierter.  Schauen wir uns noch einmal das Beispiel des Allesk√∂nners an. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f92/36c/aae/f9236caaee860e0c026e31bd4390d6e3.gif"></div><br>  Der Entscheidungsbaum ist ‚Äûetwas‚Äú komplizierter: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f7/f79/49a/8f7f7949aed6051ea06e4139bc76fd06.gif"></div><br>  Leider tritt selbst in relativ einfachen F√§llen ziemlich schnell ein Komplexit√§tsschub auf.  In diesem Fall erhalten wir in unserem Diagramm 2.670 Knoten, die untersucht werden m√ºssen, und dies dauert viel l√§nger als im Fall eines Frosches - vielleicht ein oder zwei Sekunden. <br><br>  Dies ist gr√∂√ütenteils auf die kombinatorische Komplexit√§t zur√ºckzuf√ºhren. Beispielsweise spielt es keine Rolle, welche der beiden Methoden wir verwenden, um den Schock zun√§chst zu lindern. Der Algorithmus betrachtet dies als zwei separate L√∂sungen und erstellt f√ºr jede einen vollst√§ndigen Baum von Verzweigungsl√∂sungen.  Als Ergebnis erhalten wir einen Zweig, dessen Vervielf√§ltigung v√∂llig unn√∂tig ist.  Es gibt auch √§hnliche kombinatorische Probleme bei der Auswahl von Bl√∂cken zum Einl√∂sen, zum Entfernen von Schocks von Waffen und beim Verfahren f√ºr deren Verwendung. <br><br>  Aber selbst wenn wir solche unn√∂tigen Zweige finden und optimieren (was ich bis zu einem gewissen Grad tue), wird es immer einen Punkt geben, an dem die Komplexit√§t aller m√∂glichen Permutationen von L√∂sungen zu riesigen, langsamen Entscheidungsb√§umen f√ºhrt, deren Bewertung unendlich lange dauern wird.  Dies ist also das erste ernsthafte Problem dieses Ansatzes.  Hier ist noch einer: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/0f0/29b/9d50f029bd3cededbc248022f19a83a6.png"></div><br>  <i>Hauptschl√ºssel.</i>  <i>Teilt den W√ºrfel in zwei Teile.</i> <br><br>  Diese wichtige Art von Waffen (und √§hnliche) verursacht KI-Probleme, da das Ergebnis ihrer Verwendung <i>ungewiss ist</i> .  Wenn ich eine Sechs drauf lege, kann ich f√ºnf und eins oder vier und zwei oder vielleicht zwei Dreifache bekommen.  Ich werde das erst wissen, wenn ich es tue. Daher ist es sehr schwierig, einen Plan zu erstellen, der dies ber√ºcksichtigt. <br><br>  Gl√ºcklicherweise hat Dicey Dungeons eine gro√üartige L√∂sung f√ºr diese beiden Probleme! <br><br><h2>  Moderne L√∂sung </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die</a> MCTS-Methode (Monte Carlo Tree Search) ist ein probabilistischer Entscheidungsalgorithmus.  Im Folgenden finden Sie ein etwas seltsames Video, das das Prinzip der Entscheidungsfindung nach der Monte-Carlo-Methode dennoch sehr gut erkl√§rt: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BfS2H1y6tzQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Anstatt jede m√∂gliche Bewegung zum Diagramm hinzuzuf√ºgen, √ºberpr√ºft MCTS die Sequenzen zuf√§lliger Bewegungen und verfolgt dann diejenigen, die sich als besser erwiesen haben.  Dank einer Formel namens Upper Confidence Bound kann er auf magische Weise bestimmen, welche Zweige des Entscheidungsbaums die ‚Äûvielversprechendsten‚Äú sind: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f38/1aa/c26/f381aac265ea58ab792166af30d64dca.png"></div><br>  Diese Formel habe ich √ºbrigens einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sehr n√ºtzlichen Artikel √ºber die Suche nach B√§umen mit der Monte-Carlo-Methode entnommen</a> .  Frag mich nicht, wie es funktioniert! <br><br>  Das Erstaunliche an MCTS ist, dass wir, um die beste L√∂sung zu finden, normalerweise nicht alles dumm durchsuchen m√ºssen und dasselbe abstrakte Board / Move-Simulationssystem wie bei Minimax verwenden k√∂nnen.  Das hei√üt, wir verwenden beide Algorithmen.  Dies ist genau das Schema, das ich in Dicey Dungeons verwendet habe.  Zun√§chst versucht sie, eine vollst√§ndige Bereitstellung des Entscheidungsbaums abzuschlie√üen, was normalerweise nicht viel Zeit in Anspruch nimmt und zum besten Ergebnis f√ºhrt.  Wenn der Baum jedoch zu gro√ü erscheint, verwenden wir wieder MCTS. <br><br>  MCTS hat zwei sehr coole Funktionen, die perfekt f√ºr Dicey Dungeons sind: <br><br>  Erstens arbeitet die Methode ideal mit Unsicherheit.  Da es immer wieder ausgef√ºhrt wird und Daten aus jedem Lauf sammelt, lasse ich es einfach undefinierte Bewegungen simulieren, beispielsweise mit einem Hauptschl√ºssel, auf nat√ºrliche Weise, und nach vielen L√§ufen erstellt die Methode einen ziemlich korrekten Bereich von Punkten, die als Ergebnis dieser Bewegung erhalten werden. <br><br>  Zweitens kann er mir eine Teill√∂sung geben.  Wenn Sie mit MCTS arbeiten, k√∂nnen Sie so viele Simulationen durchf√ºhren, wie Sie m√∂chten.  Wenn es endlos ausgef√ºhrt wird, konvergiert es theoretisch zu genau den gleichen Ergebnissen wie Minimax.  Wichtiger f√ºr mich ist jedoch, dass ich mit MCTS in begrenzter Zeit eine gute L√∂sung finden kann.  Je mehr Suchvorg√§nge wir durchf√ºhren, desto besser wird die ‚ÄûL√∂sung‚Äú gefunden. Bei Dicey Dungeons reichen jedoch oft nur einige hundert Suchvorg√§nge aus, die einen Bruchteil einer Sekunde dauern. <br><br><h2>  Interessante verwandte Themen </h2><br>  So entscheiden die Feinde in den Dicey Dungeons, wie sie dich t√∂ten sollen!  Ich m√∂chte dieses System zur n√§chsten Version des Spiels v0.15 hinzuf√ºgen! <br><br>  Woher kommen die Grafiken, die ich gezeigt habe, auch auf Twitter: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/969/95d/85c/96995d85c59364cde7cd4df0609da6c4.png"></div><br>  Ich habe sie erstellt, indem ich einen Exporter f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GraphML geschrieben habe</a> , ein Open-Source- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Grafikdateiformat</a> , das von vielen verschiedenen Tools gelesen werden kann.  (Ich habe das ausgezeichnete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">yEd verwendet</a> , das ich sehr empfehlen kann.) <br><br>  Ein Teil der L√∂sung f√ºr dieses Problem bestand darin, der KI die Simulation von Bewegungen zu erm√∂glichen, was an sich schon ein interessantes R√§tsel ist.  Als Ergebnis habe ich ein Action-Scripting-System implementiert.  Jetzt, wo die Gegner verschiedene Arten von Waffen benutzen.  Sie f√ºhren diese kleinen Skripte aus: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c5/d3e/f6b/1c5d3ef6bdbfe755699cd588c89dc54f.png"></div><br>  Diese kleinen Skripte werden vom <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hscript-</a> Parser und Ausdrucksinterpreter basierend auf haxe ausgef√ºhrt.  Dieser Teil war schwer zu implementieren, aber der Aufwand hat sich gelohnt: Das Spiel war sehr praktisch f√ºr die Erstellung von Mods.  Ich hoffe, dass die Leute nach der Ver√∂ffentlichung des Spiels mit diesem System ihre eigenen Waffen entwickeln k√∂nnen, das hei√üt, sie k√∂nnen dem Spiel fast alles hinzuf√ºgen, was sie sich vorstellen k√∂nnen.  Da die KI klug genug ist, um alle auf sie √ºbertragenen Aktionen zu bewerten, k√∂nnen die Feinde au√üerdem herausfinden, wie sie die von den Spielern erstellten modifizierten Waffen verwenden k√∂nnen! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de432062/">https://habr.com/ru/post/de432062/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de432052/index.html">"Sie sind ein cooler Entwickler, fragen Sie nach mehr Geld" - wir werden den Managern sagen, wie die Welt funktioniert</a></li>
<li><a href="../de432054/index.html">Was BeOS und HaikuOS einzigartig macht</a></li>
<li><a href="../de432056/index.html">√úberpr√ºfung von Einzelhandelsfotos mit Computer Vision</a></li>
<li><a href="../de432058/index.html">Was ist neu in AppCode 2018.3?</a></li>
<li><a href="../de432060/index.html">Die besten M√∂glichkeiten, sich englische W√∂rter zu merken</a></li>
<li><a href="../de432064/index.html">Wie man den "Hasen" entkommt. UV-Anweisung</a></li>
<li><a href="../de432068/index.html">So erleichtern Sie das Englischlernen: 5 n√ºtzliche Dienste</a></li>
<li><a href="../de432070/index.html">Kurz √ºber Redux-Saga-Kan√§le</a></li>
<li><a href="../de432072/index.html">Drei Arten von Speicherlecks</a></li>
<li><a href="../de432074/index.html">Wie Spieler Spelunky Reality-Stoff mit Schrotflinten zerrei√üen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>