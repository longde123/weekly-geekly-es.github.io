<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🏭 🧙🏿 😧 Wie ein Frame in Shadow Fight 3 gerendert wird 🧢 🍐 😳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der technische 3D-Künstler Banzai Games Roman Tersky sprach darüber, wie der Rahmen gezeichnet und die Materialien für die Charaktere im Handyspiel Sh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie ein Frame in Shadow Fight 3 gerendert wird</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/banzai/blog/464355/"><img src="https://habrastorage.org/webt/0v/la/io/0vlaiovjubvx7iaybafrv5zwh6k.jpeg"><br><br>  Der technische 3D-Künstler <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Banzai Games</a> Roman Tersky sprach darüber, wie der Rahmen gezeichnet und die Materialien für die Charaktere im Handyspiel Shadow Fight 3 angeordnet werden, und enthüllte auch einige Tricks beim Einrichten der Umgebung <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Shadow Fight 3</a> ist ein Kampf- / RPG-Spiel, das auf der Unity3d-Engine basiert.  Das Projekt wurde im November 2017 auf iOS / Android veröffentlicht. Seitdem hat die Gesamtzahl der Spielinstallationen 80 Millionen überschritten. Um ein so breites Publikum zu erreichen, hat das Entwicklungsteam eine hervorragende Spieloptimierung durchgeführt. Infolgedessen arbeitet das Projekt mit 60 FPS auf vielen modernen Geräten mit durchschnittliche Leistung. <br><br>  Kritiker und Spieler bemerken häufig die visuelle Komponente von Shadow Fight 3. In diesem Artikel empfehlen wir Ihnen, „unter die Haube“ des Spiels zu schauen und herauszufinden, wie wir es geschafft haben, diese Qualität zu erreichen. <br><a name="habracut"></a><br><h1>  Rahmen rendern </h1><br>  Es gibt viele Faktoren, die sich direkt auf die Leistung des Spiels und die Anzahl der Frames auswirken, die pro Sekunde gespielt werden können.  Einer der wichtigsten Indikatoren für uns war die Anzahl der Draw Calls beim Rendern eines solchen Frames im Spiel.  Ich schlage vor, dieses Konzept genauer zu betrachten. <br><br>  Beim Rendern eines Spielrahmens für jede statische Gruppe von Objekten, die durch ein Material verbunden sind, startet Unity Draw Calls und überlagert sie.  Jeder Draw Call erfordert CPU-Ressourcen. Ein wichtiger Optimierungsschritt ist daher die Reduzierung der Anzahl der Aufrufe.  Unser Ziel war es, diesen Indikator auf durchschnittlich 100 Anrufe pro Spielrahmen zu minimieren. <br><br><img src="https://habrastorage.org/webt/ku/k2/6y/kuk26ykcfjymucf-hvtqowo3z6m.gif"><br>  <i>Einzelbild-Renderprozess</i> <br><br>  Die erste Stufe des Renderns in Shadow Fight 3 besteht darin, dynamische Charakterschatten und Glow-Effekte für leuchtende Elemente auf die Rüstung und Waffen der Spieler zu zeichnen. <br><br><img src="https://habrastorage.org/webt/hw/ts/w6/hwtsw6uucmjhlqsnodsfptbbjsg.gif" width="317"><img src="https://habrastorage.org/webt/m2/8g/a6/m28ga6ypjnksnhjn8ktjrpnswkq.gif" width="317"><br><br>  Beide Prozesse haben ihre eigenen Eigenschaften und sollten genauer betrachtet werden. <br><br><h3>  Schatten </h3><br>  Zusätzlich zur Hauptkamera, für die der Hauptrahmen gerendert wird, ist auf der Bühne ein zusätzlicher orthografischer Kameraprojektor installiert, mit dem Schatten von den Zeichen auf einer separaten Oberfläche namens ShadowReciever gezeichnet werden können.  Diese Kamera folgt dem Mittelpunkt zwischen den Gegnern und jeder Frame erstellt abhängig von seiner aktuellen Position seine Projektion auf die Ebene.  Das Ergebnis wird als Alpha-Textur gerendert, die die Textur durch das Rendern des vorherigen Frames im dynamischen Material des ShadowReciever-Objekts ersetzt.  Durch diesen Ansatz wird vermieden, dass echte Schatten berechnet und auf alle Standortmodelle gezeichnet werden müssen, was die Gesamtleistung erheblich beeinträchtigen würde. <br><br><img src="https://habrastorage.org/webt/gq/ll/9h/gqll9hnt5iewlnp_r_blhxae-aa.gif"><br>  <i>ShadowReciever-Bereich</i> <br><br>  In diesem Rahmen dauerte dieser Prozess 20 Draw Calls. <br><br><h3>  Glühen </h3><br>  Der Prozess des Erzeugens eines Glüheffekts auf die Rüstung und Waffen der Charaktere ähnelt dem Prozess des Erzeugens dynamischer Schatten.  Ein BlurCube-Würfel wird um ein Modell mit leuchtenden Elementen erstellt, auf das Glow-Effekte basierend auf den im blauen Kanal der RGB-Textur des Materials dieses Objekts gespeicherten Informationen auf jeden Frame projiziert werden (d. H. Der blaue Kanal fungiert als „Maske“ für die Projektion des Glühens - mehr dazu dies unten im Abschnitt über Materialien).  Anschließend wird eine Unschärfe angewendet und die Information wird als Alpha-Textur gespeichert, die die Textur durch das Ergebnis des Renderns des vorherigen Rahmens im dynamischen Material von BlurCube ersetzt. <br><br><img src="https://habrastorage.org/webt/w4/zs/n8/w4zsn8xtpvjseiw8znzk-eeinsi.gif"><br>  <i>Blurcube</i> <br><br>  In unserem Rahmen dauerte dieser Vorgang 15 Draw Calls + 2 weitere, um den Effekt zu verwischen. <br><br><h3>  Maschen zeichnen </h3><br>  Zuerst werden Teile der Rüstung, Waffen der Charaktere, dann Teile der Position des nahen Plans, dann der entfernte und auch der Hintergrund, der eine Ebene mit einer Textur von 1024 x 512 ist, einzeln gezeichnet.  Es folgen gezeichnete Partikelsysteme, kleine Details des Nah- und Fernplans und schließlich Modelle mit Scheitelpunktanimation (mehr dazu weiter unten).  Am Ende werden für 2 Anrufe die berechneten und zuvor gezeichneten Schatten und Glüheffekte (Glow) angewendet. <br><br><h3>  Benutzeroberfläche </h3><br>  Zusätzlich zu den oben genannten Kameras ist eine weitere am Rendern des endgültigen Rahmens beteiligt, mit dem die Benutzeroberfläche separat gezeichnet werden soll.  Im Gegensatz zum Haupt- und orthografischen Kameraprojektor ist er nicht für jeden Ort eindeutig, sondern während der gesamten Spielsitzung vorhanden.  Nach dem Rendern der Szene, der Charaktere und aller Effekte wird die Benutzeroberfläche gerendert und über dem Hauptrahmen platziert, und damit wird der Effekt einer sich verdunkelnden Vignette den Rändern überlagert. <br><br><img src="https://habrastorage.org/webt/ng/nk/m8/ngnkm8gc_doiz9cvhtxp-ekoynq.png"><br>  <i>Renderergebnis der Hauptkamera</i> <br><br><img src="https://habrastorage.org/webt/57/sh/1j/57sh1jam6lkswqppliysmmtq61o.png"><br>  <i>Renderergebnis der UI-Kamera</i> <br><br><img src="https://habrastorage.org/webt/zn/dv/yo/zndvyo0hcamsfovhh7crrc3yl8a.png"><br>  <i>Endgültiges Frame-Rendering-Ergebnis</i> <br><br>  Insgesamt erforderte das Rendern des letzten Frames des Spiels 92 Draw Calls. <br><br><h1>  Wie ist das Material der Rüstung des Charakters </h1><br>  Um das Material der Rüstung des Charakters zu erstellen, werden Texturen mit einer Auflösung von 512 x 512 verwendet: <b>Diffuse (1)</b> , <b>RGB-Masken (2)</b> , <b>MatCap (3)</b> , eine zusätzliche diffuse Karte für die <b>Schattenform (4)</b> sowie eine <b>MorphMask (5)</b> mit kleiner Rauschstruktur Erzeugen des Effekts des Übergangs des Charakters in eine Schattenform. <br><br><img src="https://habrastorage.org/webt/v3/ed/fm/v3edfmq0bhxmyuujb5qbqhqffdi.png" width="317"><img src="https://habrastorage.org/webt/fo/nw/vl/fonwvlxcwvqbihom7yvumazrg78.png" width="317"><img src="https://habrastorage.org/webt/up/r9/f0/upr9f0nqdadyny3vgxrrwzp5yz4.png" width="210"><img src="https://habrastorage.org/webt/ip/ue/lx/ipuelxekz-dvvthxebsk99vk0nc.png" width="210"><img src="https://habrastorage.org/webt/uy/da/7m/uyda7mmvz6xzpjteb_zrvc0bl0a.png" width="210"><br><br>  Und wenn bei der Diffuse-Karte alles Standard ist (dies ist nur die Textur der Rüstung selbst), werden wir uns näher mit dem Rest befassen: <br><br><h3>  RGB-Texturmasken </h3><br>  Da die RGB-Textur herkömmlicherweise aus drei Farbkanälen besteht, die durch Zahlen von 0 bis 1 für jedes Pixel angegeben sind, ist es zweckmäßig, damit verschiedene Daten über das Material an jedem bestimmten Punkt des UV-Scans des Objekts zu speichern. <br><br>  In unserem Fall enthalten die Kanäle der RGB-Textur (Maske) Informationen für die folgenden Prozesse: <br><br><ul><li>  Rot (roter Kanal) zeigt an, welche Elemente des Materials ihre Farbe ändern, wenn die Gegner in derselben Rüstung am Kampf teilnehmen (wir verwenden dieses System, damit der Spieler seinen Charakter nicht mit dem Gegner verwechselt; bestimmte Teile der Rüstung sind im roten Kanal angegeben , für den Gegner in einer alternativen Farbe neu gestrichen, die vom Künstler separat festgelegt wurde); </li><li>  Grün (der grüne Kanal) soll anzeigen, auf welche Elemente der Panzerung die MatCap-Textur angewendet wird, um den Effekt einer Metalloberfläche sowie die Stärke des Effekts dieses Effekts zu erzielen (je heller, desto stärker der metallische Glanz). </li><li>  Blau (blauer Kanal) enthält Informationen darüber, auf welche Details Glühen angewendet wird, wodurch der Effekt einer leuchtenden Oberfläche erzeugt wird. </li></ul><br><br><h3>  Matcap </h3><br><img src="https://habrastorage.org/webt/up/r9/f0/upr9f0nqdadyny3vgxrrwzp5yz4.png" width="317"><img src="https://habrastorage.org/webt/zb/lc/rx/zblcrxpqwmgq0gqpea2p6rjvzvk.png" width="317"><br><pre>  MatCap-Textur Grüne Kanal-RGB-Textur </pre><br><br>  Um für jeden Ort einen Reflexionseffekt für Metallelemente von Rüstungen und Waffen von Charakteren zu erzeugen, wird eine einzigartige MatCap-Textur mit einer Auflösung von 512 x 512 erstellt, die auf einem verarbeiteten Screenshot des Ortes mit allen Merkmalen seiner Struktur und Beleuchtung basiert. <br><br>  Abhängig vom Ort, an dem der Kampf ausgetragen wird, wird die entsprechende MatCap-Textur auf das Material der Rüstung und der Waffen der Charaktere angewendet.  Die Wirkung der Metalloberfläche wird auf bestimmte Abschnitte des Materials angewendet, basierend auf den Informationen im grünen Kanal der RGB-Textur des Materials.  Dieser Ansatz ist billig zu verarbeiten, erzeugt jedoch den Effekt einer realistischen reflektierenden Oberfläche von Metallelementen, wobei alle Merkmale der aktuellen Arena berücksichtigt werden. <br><br><img src="https://habrastorage.org/webt/u_/bc/ci/u_bccix-ulvictkxctcmlwup7om.png" width="317"><img src="https://habrastorage.org/webt/25/so/uw/25souwhvblnm0hf6fchdkaj-qhk.png" width="317"><br><pre>  Vor dem Auftragen von MatCap Nach dem Auftragen von MatCap </pre><br><br><h3>  Schattenform </h3><br>  Wenn der Charakter in die diffuse Schattenform wechselt, wird die Materialtextur durch eine zusätzliche ersetzt, die speziell für die Schattenform erstellt wurde. <br><br>  Für einen reibungslosen Übergang von einer Textur zur anderen wird eine Rausch-Morph-Maske verwendet, mit der ein allmählicher Substitutionseffekt erzielt wird: <br><br><img src="https://habrastorage.org/webt/om/pr/te/omprte2qy5ma2f9huu89pbg0ugi.gif" width="317"><img src="https://habrastorage.org/webt/8r/1z/xm/8r1zxmyzk1u08iccfbo611vgxhk.gif" width="317"><br><br><h1>  Standortbeleuchtung </h1><br>  Alle Lichter und Schatten am Standort werden in Lightmap-Texturen mit einer Auflösung von 2048 x 2048 eingebrannt, wodurch die Berechnung der Beleuchtung in Echtzeit entfällt und die Produktivität erheblich gesteigert wird. <br><br><img src="https://habrastorage.org/webt/wl/gl/6u/wlgl6ugegozd2efzqwrqmwbw0ro.png" width="317"><img src="https://habrastorage.org/webt/nv/fl/su/nvflsuhvkwuoexfeqh07xbhm7ik.png" width="317"><br><br>  Die einzige gerichtete Lichtquelle dient dazu, die Charaktere entsprechend der allgemeinen Atmosphäre der Arena zu beleuchten, in der der Kampf stattfindet.  Bei diesem Ansatz ist die Beleuchtung der Zeichen jedoch an jedem Punkt des Standorts gleich, unabhängig davon, ob sie sich unter den Kronen von Bäumen oder unter Sonnenlicht befinden.  Diese Frage könnte gelöst werden, indem dynamische Schatten aus Umgebungsobjekten berechnet und Charaktermodellen überlagert werden. Dies würde jedoch die Leistung des Spiels erheblich beeinträchtigen. <br><br>  Als Alternative zu jedem Ort speichern wir einen separaten, eindeutigen Schattenkartenverlauf: Tatsächlich handelt es sich um eine Textur mit einer Auflösung von 1024 x 1, die auf einem Standort-Screenshot basiert und den Grad der Schattierung in jedem Teil davon angibt.  Wenn sich ein Charakter in der Arena bewegt, wird die Farbe seiner Rüstung nach dem Anwenden von Richtungsbeleuchtung mit der Verlaufsfarbe multipliziert, die seiner aktuellen Position am Ort entspricht.  In schattigen Bereichen ist die angewandte Beleuchtung daher schwächer als in offenen Bereichen. <br><br><img src="https://habrastorage.org/webt/v7/bu/5w/v7bu5ws0hpj34-ocejtrkjfqvz0.png"><br>  <i>Karte Schattenkarte</i> <br><br><img src="https://habrastorage.org/webt/-w/8d/et/-w8detrvqcjg4clvgj6opssarkm.png"><br>  <i>Beleuchtungszeichen im schattierten Teil des Ortes</i> <br><br><img src="https://habrastorage.org/webt/te/rb/x6/terbx6yj9sj5yswucd1ib7x39eq.png"><br>  <i>Beleuchtungsfiguren im offenen Bereich</i> <br><br>  Als letzten Schliff wird die Randbeleuchtungstechnologie verwendet, um die Kanten des Charaktermodells hervorzuheben, die beispielsweise an einem Ort mit einem brennenden Dorf deutlich sichtbar sind.  Mit dieser Technologie können Sie die Umrisse der Charaktere hervorheben, damit sie im Hintergrund der Arena gut gelesen werden können. <br><br><img src="https://habrastorage.org/webt/1i/_e/xh/1i_exhuub6lcjei4-qawlpbamna.png" width="317"><img src="https://habrastorage.org/webt/p6/_r/b6/p6_rb6kxqdx7bheujhbmqlsdvyc.png" width="317"><br><br><h1>  Dynamische Arenaeffekte </h1><br>  Eine wichtige Rolle bei der „Revitalisierung“ von Shadow Fight 3-Standorten spielen FX-Effekte und dynamische Objekte wie Flaggen, sich bewegende Blätter auf Bäumen, schwankendes Gras usw. <br><br><img src="https://habrastorage.org/webt/cs/xl/ju/csxljua62cakovo6uctrxtqzh_c.gif"><br><br><h3>  Fx </h3><br>  Die meisten FX-Effekte (Feuer, Regen, Sonnenstrahlen usw.) in SF3 werden nach dem Prinzip erzeugt, animiertes Material auf statische Low-Poly-Modelle anzuwenden.  Es gibt jedoch Effekte, die auf einem Partikelsystem beruhen. <br><br><h3>  Dynamische Objekte </h3><br>  Es gibt zwei Arten von dynamischen Objekten an SF3-Standorten: physikalisch angetrieben durch Gewebesimulation und Anlegen eines Impulses zur Simulation von Windböen sowie 3D-Modelle mit Scheitelpunktanimation.  Für solche Objekte wird eine geloopte Animationsspur erstellt, die die Scheitelpunkte des 3D-Modells in Bewegung setzt. <br><br><img src="https://habrastorage.org/webt/a7/me/jd/a7mejdqa32-v991jhgtkrjw5-ps.gif" width="317"><img src="https://habrastorage.org/webt/_e/zo/zb/_ezozbgrwmgkxyy7yycqg-ms_so.gif" width="317"><br><pre>  Vertex-Laubanimation. Stoffsimulation auf Flaggen. </pre><br><br><h3>  Reflexionen </h3><br>  Locations in SF3 basieren auf dem Prinzip einer Theaterbühne.  Wie das Publikum im Theater ist die Kamera im Spiel nur in eine Richtung gerichtet und ändert sie nie.  Umgebungsobjekte werden ebenfalls nach dem Prinzip der Theaterkulisse ausgeführt: Sie existieren genau so viele, wie der Spieler sehen kann.  An den Seiten und hinter der Kamera befindet sich nichts, und alle Modelle haben nur an den Stellen Geometrie, die in das Sichtfeld der Kamera fallen können. <br><br>  Um die Probleme der Reflexion mit maximaler Leistung in Arenen mit reflektierenden Oberflächen (Marmorboden, Wasser usw.) zu lösen, wurden die zu reflektierenden Elemente dupliziert und ihre Größe entlang der Z-Achse auf einen negativen Wert gesetzt.  Die doppelte Position wird so eingestellt, dass beide Objekte von der Seite wie ein Spiegelbild voneinander aussehen.  Das Material reflektierender Oberflächen weist eine Transluzenz auf, deren Stärke von der Art der Oberfläche abhängt.  Wenn sich das reflektierte Objekt in einem ausreichenden Abstand befindet und das Detail anstelle eines Duplikats in den Hintergrund tritt, wird die Ebene mit einer Textur installiert, die auf einem Screenshot der reflektierten Oberfläche basiert, die entlang der Z-Achse gespiegelt ist.  Dieser Ansatz verbessert nicht nur die Leistung des Spiels, sondern liefert auch ein sehr realistisches Ergebnis. <br><br><img src="https://habrastorage.org/webt/lw/xu/zp/lwxuzpfyed5svuz_7x_qzo9zrws.png" width="317"><img src="https://habrastorage.org/webt/tp/vs/ap/tpvsapz9pe4bdykzi5uwvky5wgk.png" width="317"><br><pre>  Endergebnis Ohne Geschlecht </pre><br><br><h3>  Fazit </h3><br>  Das Problem der Renderoptimierung für mobile Geräte ist heute aktueller denn je.  Was Sie in diesem Artikel gesehen haben, sind die Lösungen, die wir speziell für das Shadow Fight 3-Projekt erarbeitet haben. Derzeit hat Banzai Games mit der Entwicklung von zwei neuen Spielen begonnen, in denen wir versuchen werden, die Grafik noch besser zu machen, indem wir sowohl aktuelle Entwicklungen anwenden als auch hinzufügen etwas Neues. <br><br>  <i>Das Banzai Games-Team benötigt einen Grafikentwickler.</i>  <i>Lesen Sie hier mehr über die freie Stelle.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de464355/">https://habr.com/ru/post/de464355/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de464337/index.html">So umgehen Sie Captcha: Neuronales Netzwerk auf Tensorflow, Keras, Python v numerisch verrauschtes Captcha</a></li>
<li><a href="../de464345/index.html">5 Gründe, ein IT-Startup in Deutschland zu eröffnen</a></li>
<li><a href="../de464347/index.html">Abhängigkeitsinjektions-, JavaScript- und ES6-Module</a></li>
<li><a href="../de464351/index.html">PoE IP-Kameras, spezielle Anforderungen und störungsfreier Betrieb - alles zusammen</a></li>
<li><a href="../de464353/index.html">1C: ERP VS 1C: KA 2.0. Was sollten Lebensmittelhersteller wählen?</a></li>
<li><a href="../de464357/index.html">RSA zufällige Blockchain</a></li>
<li><a href="../de464359/index.html">Funktionen zum Testen von mobilen Webanwendungen</a></li>
<li><a href="../de464361/index.html">Intel Quartz Canyon - NUC für Profis</a></li>
<li><a href="../de464365/index.html">Sicherheitswoche 34: Außergewöhnliche Sicherheitslücken in Windows</a></li>
<li><a href="../de464367/index.html">Und ein weiterer Steam Windows Client Local Privilege Escalation 0day</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>