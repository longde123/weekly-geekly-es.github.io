<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐤 🎶 👩🏾 Traiter le syndrome du double clic 🚵🏼 👨🏽‍🎓 👩🏽‍🚀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il était une fois une souris, et son nom était Defender MM-525. Elle a constamment tiré la dragonne de sa souris - cliqué sur des liens, fait défiler ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Traiter le syndrome du double clic</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/383229/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il était une fois une souris, et son nom était Defender MM-525. </font><font style="vertical-align: inherit;">Elle a constamment tiré la dragonne de sa souris - cliqué sur des liens, fait défiler des pages, déplacé le curseur. </font><font style="vertical-align: inherit;">Mais une fois qu'un malheur s'est produit - au lieu d'un seul clic, elle a commencé à en faire deux, voire plus. </font><font style="vertical-align: inherit;">Parfois, vous souhaitez suspendre une vidéo sur YouTube, mais à la place, elle s'ouvre en plein écran. </font><font style="vertical-align: inherit;">Ou vous sélectionnez le texte - et au dernier moment, la sélection est réinitialisée. </font><font style="vertical-align: inherit;">Il est clair que cela ne pouvait pas continuer.</font></font><br>
<br>
<img src="https://habrastorage.org/files/1dc/276/7e1/1dc2767e1c954be5aad9ef7aa08705fc.JPG"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que faire? </font><font style="vertical-align: inherit;">Internet offre les options suivantes:</font></font><br>
<br>
<ul>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>    .     ,     ,      Windows,      .</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>.</li>
<li> -    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>.      —   .</li>
<li>      .    ,     . </li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais ma joie a été de courte durée - quelques jours plus tard, un double clic est revenu. Cerveau de Porakinine, j'ai décidé que c'était une question de vibrations mécaniques, et j'ai collé un ruban épais sous le bouton. Et encore une fois, cela n'a aidé que quelques jours. Il est devenu clair qu'une solution radicale devait être recherchée. Et pour cela, vous devez d'abord comprendre ce qui se passe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment les boutons sont-ils généralement fabriqués dans l'électronique numérique? Quelque chose comme ceci: au- </font><font style="vertical-align: inherit;">
dessus se trouve l'alimentation, en dessous de la masse, à droite se trouve un fil à l'entrée du processeur. Et à l'entrée, il a une grille d'un transistor à effet de champ. Dans notre cas, nous pouvons supposer qu'il s'agit simplement d'un voltmètre idéal. La tension est supérieure à celle spécifiée - cela signifie que le processeur tire une conclusion, c'est une à l'entrée, et si elle est inférieure, alors zéro.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/geektimes/post_images/1bb/470/763/1bb470763f5b32e0239f9dfd4c165786.gif" alt="image"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais si l'entrée du processeur est parfaite, le commutateur ne peut pas être considéré comme tel, avec tout le respect que je lui dois. Lorsque l'interrupteur se ferme, cela signifie qu'une pièce de métal est en contact avec une autre pièce de métal. Mais entre les états «off» et «on», il y a ce moment gênant où ces deux pièces se touchent à peine. Et s'il y a un contact maintenant, alors en une microseconde, il peut disparaître, puis récupérer à nouveau. Et parfois, même un contact en frappe un autre et, selon les lois de Newton, rebondit sur lui, ou même plusieurs fois. Que pensera </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maman</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> processeur? C'est vrai - il pensera que l'interrupteur a été allumé, éteint, allumé, éteint, allumé, éteint, etc. Bien que "en fait", il n'ait été allumé qu'une seule fois. Ce phénomène a même son nom - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rebond de contacts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Attendez, ça ne vous rappelle rien? Oh oui, un incident similaire vient d'arriver à notre souris! Ainsi, notre hypothèse de travail sera que les développeurs de la souris ne se souviennent pas du tout de la possibilité de rebond, ou que leurs efforts pour le combattre ont été vains. Et nous devrons combattre cet ennemi pour eux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous notons deux choses. Premièrement, notre vitesse de clic est limitée. Il est peu probable que nous cliquions sur la souris plus de dix fois par seconde. Deuxièmement, les commutateurs tentent de faire passer le moment du rebond le plus rapidement possible, et certainement dans un dixième de seconde, le bouton de la souris aura le temps de se calmer. Ainsi, notre tâche consiste à séparer les clics haute fréquence de ceux basse fréquence, c'est-à-dire que nous avons besoin d'un filtre passe-bas. La façon la plus simple de le faire est de souder le condensateur: </font></font><br>
<br>
<img src="https://habrastorage.org/files/77a/c05/039/77ac05039740492a96960f720e2c1519.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c'est ce que nous allons faire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le voici - notre bouton: </font></font><br>
<br>
<img src="https://habrastorage.org/files/883/05a/eea/88305aeeab36434ea136b2d52a7e8a25.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais c'est le même, mais sans le couvercle: Nous </font></font><br>
<br>
<img src="https://habrastorage.org/files/c7f/9ad/ba5/c7f9adba57834bd39cab5cc83b0fefb6.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
signons les numéros de contact pour plus de commodité: </font></font><br>
<br>
<img src="https://habrastorage.org/files/384/578/f43/384578f43d8e4d45a516773fff6bbfbb.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le principe de fonctionnement est évident - au repos, les contacts 1 et 3 sont fermés, lorsque le bouton est enfoncé pendant un certain temps, tous les contacts s'ouvrent, puis les contacts 1 et 2. Lors de la compression, la même chose se produit dans l'ordre inverse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons ouvert le bouton non pas pour plier quelque chose, mais pour voir de première main comment cela fonctionne, et si nous avons de la chance, alors regardez le rebond. Et l'appareil photo Samsung WB2000 et l'objectif I96U nous y aideront. L'appareil mentionné peut enregistrer des vidéos à une fréquence de 1000 images par seconde. C'est vrai, pas aussi chaud que, mais, comme on dit, que riche. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La configuration la plus difficile pour la prise de vue à grande vitesse: </font></font><br>
<br>
<img src="https://habrastorage.org/files/3bb/f5e/f11/3bbf5ef114664ac4a231b3f44aa47693.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et, en fait, le film:</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/x_iqFVbtd50%3Ffeature%3Doembed&amp;usg=ALkJrhg_ZlIoHK00EG_EDgWmuoGYlx-chg" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, le contact parvient à parcourir toute la distance prescrite en cinq images (soit 5 millisecondes), et aucun rebond visible n'est observé. Peut-être que le rebond pouvait être vu sur l'oscillogramme, mais, malheureusement, je me souvenais que je n'avais un oscilloscope que lorsque la souris était déjà assemblée. Mais d'une manière ou d'une autre, il est clair que le temps de rebond caractéristique est nettement plus court que le temps de clic minimum, et que la frontière entre eux s'étale à environ cinq millisecondes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Digression lyrique. Comment ferais-je une souris si j'avais un interrupteur de la conception ci-dessus? Mais comme ça:</font></font><br>
<br>
<img src="https://habrastorage.org/files/1d6/057/c6c/1d6057c6c0a6470d97bc15c08e94c7ee.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas cher et joyeux. L'entrée processeur n'est pas seulement un voltmètre idéal, c'est aussi un condensateur à plusieurs picofarads. Donc, dans ces millisecondes, jusqu'à ce qu'un contact vole du deuxième au troisième, la tension n'aura pas le temps de changer sensiblement, et lorsqu'elle arrivera, le condensateur se chargera et même si le contact saute, il ne pourra pas se décharger, donc il n'y aura pas de rebond. Eh bien, à moins qu'il ne saute au contact opposé, mais, comme nous l'avons vu, c'est une situation extrêmement improbable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais les valeureux développeurs de souris, comme nous le verrons, ne recherchent pas des moyens faciles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous mesurons notre interrupteur avec un multimètre. Premièrement, nous constatons qu'aucun des contacts n'est court-circuité. En tous cas. Au repos, au deuxième contact, 2,5 volts de puissance, au repos - zéro. À l'état enfoncé, tous les contacts ont zéro. Cela suggère que les développeurs n'ont pas suivi mon chemin, et le deuxième contact sert apparemment d'entrée au processeur, et le troisième contact n'est pas utilisé du tout. Mais le plus drôle, c'est qu'après avoir appuyé sur le bouton, le zéro sur le deuxième contact reste pendant cinq secondes! Malheureusement, le mécanisme de travail et les avantages d'une telle solution et la motivation des développeurs restent un mystère pour moi. J'espère que quelqu'un de gens bien informés m'éclairera.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, tout notre schéma harmonieux de lutte contre le rebond est brisé contre un mur blanc d'incompréhension des solutions de circuits modernes. Mais, en fait, ne vous arrêtez pas lorsque la chose est presque terminée. Nous allons donc souder sans comprendre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons souder le condensateur entre les contacts 1 et 2. Et pour mesurer l'effet, nous utiliserons un script comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">celui-ci</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , en le corrigeant légèrement pour qu'il réponde à la fois à la pression et à la pression d'un bouton, et supprime les limites de temps artificielles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un condensateur de 0,1 μF donne un temps de clic de 600 ms. Autrement dit, quelle que soit la vitesse à laquelle nous piquons, le bouton «sortira» au plus tôt 0,6 seconde. C'est un peu trop. En utilisant la méthode d'extrapolation linéaire, nous supposons que 3,3 nF donnera un temps de 20 ms. Nous soudons - et nous voyons un temps d'environ 100 ms. Mais ce temps comprend également le temps de mouvement du doigt lui-même, et sans condensateur, ce n'est pas beaucoup moins. Après avoir essayé quelques dénominations supplémentaires, j'ai décidé de m'arrêter à 3,3 nF. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisqu'il n'y avait pas de condensateurs SMD, j'ai dû en souder un à grandes jambes: </font></font><br>
<br>
<img src="https://habrastorage.org/files/347/540/9ad/3475409ade36477c99072f4f9068103d.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c'est tout, en fait. La souris a été assemblée avec succès et continue son service simple mais responsable. J'espère que la recette ci-dessus sera utile non seulement pour ma souris. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai complètement oublié. Il y a un autre fléau de boutons de souris qui n'est pas apparu dans la discussion jusqu'à ce que je m'en souvienne. Cela ressemble à ceci - vous devez appuyer sur le bouton avec plus de force, le clic n'est pas aussi clair qu'auparavant, et parfois le bouton envoie un signal à relâcher pendant qu'il est enfoncé. Mais il n'y a qu'une seule solution - le plastique qui appuie sur l'interrupteur peut être effacé au fil du temps, puis une si belle dépression s'y forme qui ne permet pas d'appuyer complètement sur le bouton. Il est traité simplement: il faut modifier ce plastique avec une lime pour qu'il redevienne plat et parallèle au bouton, ou y coller du plastique fin dans le même but.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il peut également sembler que je suis contre les méthodes «alternatives» à celles décrites dans l'article, mais ce n'est pas le cas. </font><font style="vertical-align: inherit;">Mais chaque méthode a sa propre portée. </font><font style="vertical-align: inherit;">Si la souris est conçue pour que le moindre rebond soit perçu comme un clic - vous nettoierez vos contacts et / ou changer le commutateur chaque semaine. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD2:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Il s'est avéré que tout n'est pas si simple. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lisez la suite de l'histoire!</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr383229/">https://habr.com/ru/post/fr383229/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr383219/index.html">Projet "Eye" partie 10</a></li>
<li><a href="../fr383221/index.html">Avons-nous peur de cela? Quel est le plus dangereux maintenant - l'IA ou l'IoT?</a></li>
<li><a href="../fr383223/index.html">Life Sciences est la première entreprise créée dans le cadre de la holding Alphabet</a></li>
<li><a href="../fr383225/index.html">Quelques idées ridicules pour les fabricants de disques durs</a></li>
<li><a href="../fr383227/index.html">Les scientifiques ont fait du graphène un catalyseur en ajoutant des nanoparticules métalliques</a></li>
<li><a href="../fr383231/index.html">TS-7063: Souvenez-vous des années 80</a></li>
<li><a href="../fr383233/index.html">À propos du test génétique Atlas: comment, pourquoi il n'est pas cher du tout et pourquoi sommes-nous meilleurs 23andMe</a></li>
<li><a href="../fr383235/index.html">La station Cassini transmet des images satellite de haute qualité de Saturn Dione</a></li>
<li><a href="../fr383237/index.html">Méga contrôleur. Et ne te nie rien</a></li>
<li><a href="../fr383239/index.html">Accidents spatiaux presque drôles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>