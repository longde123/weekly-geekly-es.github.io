<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ•’ ğŸ¤²ğŸ» ğŸ™‡ğŸ¾ Tes Otomatis: Sepuluh Lifehacks dari Tim Skyeng ğŸ§šğŸ» ğŸ”’ ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hai, saya Andrey Shalnev, Pimpinan Otomasi QA di proyek Skyeng Vimbox. Selama tahun ini, tim dan saya terlibat dalam mengoptimalkan proses pengujian o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tes Otomatis: Sepuluh Lifehacks dari Tim Skyeng</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/461213/"><p><img src="https://habrastorage.org/webt/2j/ig/o-/2jigo-vprulzx1phj3nt14fzs_u.png"></p><br><p>  Hai, saya Andrey Shalnev, Pimpinan Otomasi QA di proyek Skyeng Vimbox.  Selama tahun ini, tim dan saya terlibat dalam mengoptimalkan proses pengujian otomatis dan sekarang kami hampir mencapai tahap akhir.  Dan ini adalah alasan yang baik untuk menghembuskan napas, meninjau backlog dan mengambil beberapa hasil sementara.  Untuk Habra, saya memutuskan untuk memilih sepuluh yang paling berguna dan pada saat yang sama hal-hal sederhana yang membantu kami mengatasi tugas mengoptimalkan autotest.  Saya berharap artikel ini akan bermanfaat bagi tim QA di perusahaan yang sedang berkembang, di mana proses pengujian yang lama tidak lagi dapat mengatasi beban, dan masalah reorganisasi menjadi masalah. </p><a name="habracut"></a><br><h2 id="kak-u-nas-seychas-ustroeny-avtotesty">  Bagaimana kami mengatur autotest </h2><br><p>  Vimbox menggunakan Angular untuk frontend, jadi kami menulis tes pada tumpukan yang cukup klasik untuk solusi ini - Busur Derajat + Jasmine + JS / Typescript.  Sepanjang tahun, kami mendesain ulang suite uji regresi secara signifikan.  Dalam bentuk awalnya, itu mubazir dan tidak terlalu nyaman - tes beberapa ratus baris dengan waktu berlalunya 5-10 menit, dengan skenario pengujian terpisah yang panjang ini, seringkali tidak mencapai akhir karena file palsu.  Kami sekarang telah membagi pengujian menjadi skenario yang lebih pendek dan lebih stabil, kami menggunakan failFast sehingga waktu berjalan dapat diterima (tes yang macet di tengah tidak akan mencoba menyelesaikan setiap langkah berikutnya dan menunggu sampai batas waktu).  Selain itu, kami menyingkirkan pemeriksaan berlebihan: kami memastikan bahwa fitur tertentu berfungsi secara umum, tetapi kami tidak mencoba memeriksa di semua variasi yang mungkin. </p><br><p> Autotests diprioritaskan.  Satu set kecil prioritas utama - Tes penerimaan pengguna (UAT) - berjalan setiap jam pada prod, setelah penyebaran proyek-proyek utama dan ketika menguji tugas-tugas pada test stand. </p><br><p>  Proses di stand terlihat seperti ini: pengembang menempatkan tugas ke dalam pengujian, QA menyebarkannya ke stand dan menjalankan tes - baik UAT dan regresi.  Di UAT, kami memiliki sekitar 150 kasus, regresi - sekitar 700 tes, terus diperbarui.  Sebagian besar kasus yang penting dan kritis, suite ini mencakup sekitar 80% dan berjalan pada setiap iterasi. </p><br><h2 id="desyat-layfhakov">  Sepuluh Kehidupan Hacks </h2><br><ol><li><p> <strong>Tentukan peran instance browser secara eksplisit</strong> .  Kekhususan tes Vimbox adalah bahwa dalam sebagian besar kasus digunakan dua atau lebih contoh browser, karena pelajaran memiliki setidaknya dua sisi - seorang guru dan seorang siswa.  Dulu ada masalah: contoh browser ditunjukkan oleh angka, dipahami bahwa semua orang mengerti bahwa <code>browser1</code> adalah seorang guru, dan <code>browser2</code> dan di luarnya adalah siswa.  Tapi ini tidak selalu terjadi, itu terjadi bahwa browser siswa adalah yang pertama.  Selain itu, ada tes di mana siswa itu sendiri berbeda - misalnya, kita perlu memastikan bahwa Anda tidak dapat secara tidak sengaja masuk ke pelajaran orang lain.  Untuk memperjelas kepada semua orang pengguna yang menggunakan instance browser, mereka mulai secara eksplisit menunjukkan peran dalam namanya: <code>teacher.browser</code> , <code>student.browser</code> , <code>wrongStudent.browser</code> , dll.  Dapatkan skrip tes yang lebih mudah dibaca. </p><br></li><li><p>  <strong>Kami menggunakan fungsi panah: <code>() =&gt;</code> , bukan <code>function()</code></strong> .  Pertama, catatan semacam itu lebih pendek.  Kedua, sintaksis yang lebih modern, kami mencoba menjauh dari arkais.  Ketiga, fungsi panah menghindari masalah dengan pointer <code>this</code> dari JavaScript.  Fungsi panah tidak membuat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lingkup leksikalnya</a> , jadi dimungkinkan untuk merujuk ke sesuatu yang didefinisikan di luar <code>this</code> .  Singkirkan <code>self</code> kruk klasik = <code>this</code> . </p><br></li><li><p>  <strong>Kami menggunakan string templat alih-alih gabungan dengan plus: `Student $ {studentName}`, dan bukan "Student" + studentName</strong> .  Kami mencoba menggunakan string pola daripada gabungan dengan nilai plus. </p><br><img src="https://habrastorage.org/webt/gf/2c/n_/gf2cn_uy1g1i63kity7reuddx38.png"><br><p>  Ini adalah sintaksis modern, lebih mudah dibaca, di dalam string Anda dapat menggunakan kedua jenis tanda kutip (tunggal dan ganda) dan tidak luput dari mereka. </p><br></li><li><p>  <strong>Kami menggunakan TypeScript</strong> .  Sebagian besar demi petunjuk lingkungan pengembangan yang lebih memadai dan navigasi kode normal.  Sekarang dalam banyak kasus, alih-alih beberapa tips, transisi langsung ke metode / bidang dimungkinkan.  Pada saat yang sama, beralih ke TypeScript tidak memerlukan banyak refactoring pada saat yang sama: untuk permulaan, Anda cukup mengubah ekstensi file dari .js ke .ts, proyek tetap dapat dikerjakan.  Kemudian secara bertahap mengubah sintaks <code>require</code> untuk <code>Import</code> , navigasi ditingkatkan. </p><br></li><li><p>  <strong>Pecah Objek Halaman besar menjadi subclass</strong> untuk membuatnya lebih mudah untuk mempertahankan objek tersebut.  Pelajaran Halaman Obyek terbesar kami mencapai empat ribu baris kode, sulit untuk menembus, mengingat apa yang dimulai, apa yang tidak.  Sekarang kode terpanjang adalah sekitar 1300 baris.  Kita dapat mengatakan bahwa dengan melakukan itu kita menyingkirkan kelas besar antipattern.  Selain itu, mereka menghapus komentar yang tidak perlu dan bekerja pada kenyamanan dan kelengkapan nama-nama metode: dalam kebanyakan kasus, jika metode ini dinamai sesuai dengan konvensi yang jelas untuk semua orang, komentar yang menjelaskan kerjanya tidak diperlukan. </p><br></li><li><p>  <strong>Kami menjalankan UAT secara paralel dalam beberapa utas</strong> untuk memfasilitasi pekerjaan dengan UAT pada prod.  Faktanya adalah bahwa dengan kami tes seperti itu berjalan satu jam sekali dan berjalan dalam satu utas selama 15 menit.  Jika suatu file terjadi di dalamnya, itu akan restart dan pada akhirnya akan bekerja selama setengah jam.  Selama penerapan, ini bisa menjadi masalah karena antrian tertunda.  Hasil penggunaan paralel adalah 2-3 menit pada UAT (atau 6 dengan restart).  Antrian bergerak lebih cepat, informasi tentang masalah atau file yang ternyata palsu tiba lebih cepat. </p><br></li><li><p>  <strong>Kami secara teratur menjalankan UAT dan regresi di bangku tes</strong> .  Setiap penguji manual kami memiliki server sendiri.  Kami biasa menjalankan tes regresi pada prod setelah tester manual menemukan bagian penting dari bug - pada kenyataannya, kami baru memeriksanya.  Sekarang kami menjalankan autotest pada setiap iterasi pengujian manual tugas, yang, pertama, memfasilitasi pekerjaan penguji manual (dia tidak perlu menembus apa yang secara otomatis), dan kedua, memperpendek siklus umpan balik.  Jika pengembang telah memecahkan sesuatu, ia akan mengetahuinya setengah jam setelah menjalankan tugas, dan bukan keesokan harinya.  Plus, di bangku tes Anda dapat melakukan banyak hal yang tidak diinginkan pada produksi: ubah nomor versi produk, hapus / tambah konten pengujian, edit database tanpa takut untuk mempersiapkan situasi pengujian, dll. </p><br></li><li><p>  <strong>Hapus file kosong</strong> .  Kami berusaha menjaga konsistensi antara struktur direktori dalam autotests dan di Testrail.  Tetapi pada saat yang sama, di beberapa titik kami mengalami masalah - di Testrail ada sejumlah besar kasus dengan prioritas rendah (hanya sekitar 9000+ kasus), karena  Ini digunakan sebagai basis pengetahuan proyek.  Pada saat yang sama, hanya sekitar seribu kasus yang paling penting yang ditutupi dengan autotest.  Jika kami mencapai kecocokan sempurna, kami mendapatkan banyak file dan direktori yang tidak digunakan.  Ini menyulitkan navigasi proyek dan merusak pemahaman tentang apa yang sebenarnya sedang diuji.  Akibatnya, hanya folder dan file yang diperlukan yang tersisa, sisanya telah dihapus. </p><br></li><li><p>  <strong>Kami memperbaiki bug yang ditemukan</strong> .  Tugas utama autotests bukanlah untuk menemukan bug, tetapi untuk dengan cepat memastikan bahwa mereka tidak ada di sana, sehingga ada sesuatu yang jarang terdeteksi.  Fiksasi memecahkan dua masalah: pertama, kita melihat statistik di mana masalah paling sering tetap dan yang mana, dan kedua, kita menyingkirkan perasaan bahwa kita melakukan sesuatu yang salah.  Ketika tes tidak menemukan apa pun, muncul pertanyaan: apakah kita melakukan semuanya dengan benar, mungkin tes kita tidak ada gunanya?  Dan kemudian ada tablet yang menunjukkan bahwa ketika mereka bisa menangkap: lebih dari 60 bug per tahun.  Pada saat yang sama, arti menjalankan tes pada server pro dan server menjadi jelas.  Peluncuran yang sering pada prod - setiap jam - membantu untuk menangkap masalah infrastruktur (layanan eksternal tidak tersedia, server kami turun), peluncuran sebelum pengujian manual mendeteksi kerusakan yang diperkenalkan oleh kode baru. </p><br></li><li><p>  <strong>Atribut data-qa-id yang diterapkan</strong> , misalnya, <code>[data-qa-id="btn-login"]</code> .  Tujuan: penyeleksi lebih stabil.  Kami sepakat dengan tim pengembangan bahwa jika Anda mengubah implementasi beberapa elemen, jika mereka melihat atribut <code>data-qa-id</code> sana, maka mereka memahami bahwa ini adalah untuk pengujian otomatis, mereka tidak mengubahnya dan mereka mentransfernya dengan akurat.  Atribut ini memiliki nama logis, yang dengan sendirinya dapat memberi tahu elemen apa yang bertanggung jawab.  Selain itu, kami tidak bergantung pada implementasi spesifik dari elemen - yang digantung oleh id biasa, kelas, tag, diferensial, tautan mana yang digantung.  Itu menjadi lebih tenang: penyeleksi lebih jarang putus, dalam beberapa kasus informasi tambahan dapat ditampilkan dengan atribut ini.  Misalnya, Anda perlu nama langkah dalam pelajaran.  Jika Anda melihat nama langkah melalui XPath, pemilih dapat berubah menjadi panjang, multi-level dan dapat dibaca rendah, dan jika Anda bekerja dengan html-template dalam kode Angular, Anda dapat menampilkan nama yang sama dalam atribut yang dapat dimengerti pendek, melewati XPath panjang. </p><br></li></ol><br><p>  Bagikan peretasan dan pemikiran Anda dalam komentar! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id461213/">https://habr.com/ru/post/id461213/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id461201/index.html">Tema dan gaya di aplikasi Android</a></li>
<li><a href="../id461205/index.html">Sistem Manajemen Uji Terbaik 2019</a></li>
<li><a href="../id461207/index.html">Sysadmin, hari ini adalah hari kita</a></li>
<li><a href="../id461209/index.html">Sprint atau Marathon?</a></li>
<li><a href="../id461211/index.html">Di mana mereka mengajar untuk mengajar (tidak hanya di ped. Institute)</a></li>
<li><a href="../id461215/index.html">Neuralink: platform antarmuka otak-komputer terintegrasi dengan ribuan saluran</a></li>
<li><a href="../id461223/index.html">IaaS digest: kinerja tinggi, penyimpanan data, dan teknologi baru untuk pusat data</a></li>
<li><a href="../id461225/index.html">Cara menuju Kutub Utara dari pangkalan yang melayang di Barneo</a></li>
<li><a href="../id461227/index.html">Embarcadero RAD Studio 10.3.2 keluar atau apa yang mati ... meninggal</a></li>
<li><a href="../id461229/index.html">Helsinki Cara menemukan pekerjaan di industri game Finlandia, mulai bekerja tanpa izin dan tidak melanggar hukum Rusia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>