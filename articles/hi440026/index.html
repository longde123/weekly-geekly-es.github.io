<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯУЯ ЁЯХ╖я╕П ЁЯЪГ рдХрд╛рдЧрд▓: рдЪрд▓ рдирд╣реАрдВ рд╕рдХрддреЗ - рдЪрд▓реЛ рдЪрд▓рддреЗ рд╣реИрдВ ЁЯСйтАНЁЯСйтАНЁЯСж ЁЯСйЁЯП╝тАНЁЯдЭтАНЁЯСйЁЯП╗ ЁЯСг</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдорд╢реАрди рд╕реАрдЦрдиреЗ рдХрд╛ рд╡рд┐рд╖рдп рдХрд┐рддрдирд╛ рдЬрдЯрд┐рд▓ рд╣реИ? рдпрджрд┐ рдЖрдк рдЧрдгрд┐рдд рдореЗрдВ рдЕрдЪреНрдЫреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬреНрдЮрд╛рди рдХреА рдорд╛рддреНрд░рд╛ рд╢реВрдиреНрдп рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ рдЖрдк рдХрд╛рдЧрд▓ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдкрд░...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдХрд╛рдЧрд▓: рдЪрд▓ рдирд╣реАрдВ рд╕рдХрддреЗ - рдЪрд▓реЛ рдЪрд▓рддреЗ рд╣реИрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/singularis/blog/440026/">  рдорд╢реАрди рд╕реАрдЦрдиреЗ рдХрд╛ рд╡рд┐рд╖рдп рдХрд┐рддрдирд╛ рдЬрдЯрд┐рд▓ рд╣реИ?  рдпрджрд┐ рдЖрдк рдЧрдгрд┐рдд рдореЗрдВ рдЕрдЪреНрдЫреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬреНрдЮрд╛рди рдХреА рдорд╛рддреНрд░рд╛ рд╢реВрдиреНрдп рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╛рдЧрд▓</a> рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдкрд░ рдПрдХ рдЧрдВрднреАрд░ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдореЗрдВ рдХрд┐рддрдиреА рджреВрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ? <br><br><img src="https://habrastorage.org/webt/3y/zi/_f/3yzi_f6ybvxg_uq9392v4rqoml0.png"><br><a name="habracut"></a><br><h2>  рд╕рд╛рдЗрдЯ рдФрд░ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╛рдЧрд▓</a> рдПрдордПрд▓ рдореЗрдВ рджрд┐рд▓рдЪрд╕реНрдкреА рд░рдЦрдиреЗ рд╡рд╛рд▓реЛрдВ (рд╢реБрд░реБрдЖрддреА рд╕реЗ рд▓реЗрдХрд░ рд╢рд╛рдВрдд рдкреЗрд╢реЗрд╡рд░реЛрдВ рддрдХ) рдФрд░ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрдерд▓ рд╣реИ (рдЕрдХреНрд╕рд░ рдПрдХ рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рдкреБрд░рд╕реНрдХрд╛рд░ рдкреВрд▓ рдХреЗ рд╕рд╛рде)ред <br><br>  рдПрдордПрд▓ рдХреЗ рд╕рднреА рдЖрдХрд░реНрд╖рдг рдореЗрдВ рддреБрд░рдВрдд рдЙрддрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рддреБрд░рдВрдд рдПрдХ рдЧрдВрднреАрд░ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдЪреБрдирдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред  рдРрд╕реЗ рд╣реА рдЙрдкрд▓рдмреНрдз рдерд╛: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреВ рд╕рд┐рдЧреНрдорд╛: рдиреНрдпреВрдЬ рдЯреВ рдкреНрд░реАрдбрд┐рдХреНрдЯ рд╕реНрдЯреЙрдХ рдореВрд╡рдореЗрдВрдЯреНрд╕</a> ред  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХрд╛ рд╕рд╛рд░ рд╕рдВрдкрддреНрддрд┐ рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рдЗрд╕ рд╕рдВрдкрддреНрддрд┐ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕рдорд╛рдЪрд╛рд░реЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд┐рднрд┐рдиреНрди рдХрдВрдкрдирд┐рдпреЛрдВ рдХреЗ рд╢реЗрдпрд░реЛрдВ рдХреА рдХреАрдордд рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдирд╛ рд╣реИред  рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдкреБрд░рд╕реНрдХрд╛рд░ рдХреЛрд╖ $ 100,000 рд╣реИ, рдЬреЛ рдЙрди рдкреНрд░рддрд┐рднрд╛рдЧрд┐рдпреЛрдВ рдХреЗ рдмреАрдЪ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рдкрд╣рд▓реЗ 7 рд╕реНрдерд╛рди рдЬреАрддреЗ рдереЗред <br><br>  рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рджреЛ рдХрд╛рд░рдгреЛрдВ рд╕реЗ рд╡рд┐рд╢реЗрд╖ рд╣реИ: <br><br><ul><li>  рдпрд╣ рдПрдХ рдХрд░реНрдиреЗрд▓-рдХреЗрд╡рд▓ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рд╣реИ: рдЖрдк рдХреЗрд╡рд▓ рдХрд╛рдЧрд▓ рдХрд░реНрдиреЗрд▓ рдмрд╛рджрд▓ рдореЗрдВ рдореЙрдбрд▓ рдХреЛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ; <br></li><li>  рдирд┐рд░реНрдгрдп рд▓реЗрдиреЗ рдХреЗ рдЫрд╣ рдорд╣реАрдиреЗ рдмрд╛рдж рд╣реА рд╕реАрдЯреЛрдВ рдХреЗ рдЕрдВрддрд┐рдо рд╡рд┐рддрд░рдг рдХрд╛ рдкрддрд╛ рдЪрд▓ рдЬрд╛рдПрдЧрд╛;  рдЗрд╕ рд╕рдордп рдХреЗ рджреМрд░рд╛рди, рдирд┐рд░реНрдгрдп рд╡рд░реНрддрдорд╛рди рддрд┐рдерд┐ рдореЗрдВ рдХреАрдорддреЛрдВ рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░реЗрдВрдЧреЗред <br></li></ul><br><h2>  рдХрд╛рд░реНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ </h2><br>  рд╢рд░реНрдд рдХреЗ рдЕрдиреБрд╕рд╛рд░, рд╣рдореЗрдВ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><merror><mtext>-1&amp;#xA0;&amp;#x91F;&amp;#x94B;&amp;#x92A;&amp;#x940;&amp;#xA0;[y}&amp;#xA0;_&amp;#xA0;{ti}&amp;#xA0;\&amp;#xA0;[-1,1]&amp;#xA0;$&amp;#xA0;&amp;#x92E;&amp;#x947;</mtext></merror></math>" role="presentation"><span class="noError" aria-hidden="true" style="display: inline-block;">-1&nbsp;рдЯреЛрдкреА&nbsp;[y}&nbsp;_&nbsp;{ti}&nbsp;\&nbsp;[-1,1]&nbsp;$&nbsp;рдореЗ</span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><merror><mtext>-1&nbsp;рдЯреЛрдкреА&nbsp;[y}&nbsp;_&nbsp;{ti}&nbsp;\&nbsp;[-1,1]&nbsp;$&nbsp;рдореЗ</mtext></merror></math></span></span><script type="math/tex" id="MathJax-Element-1"> -1 рдЯреЛрдкреА [y} _ {ti} \ [-1,1] $ рдореЗ</script>  рдЗрд╕рдореЗрдВ рдПрд╕реЗрдЯ рдкрд░ рд░рд┐рдЯрд░реНрди рдмрдврд╝реЗрдЧрд╛ред  рдПрдХ рдкрд░рд┐рд╕рдВрдкрддреНрддрд┐ рдкрд░ рд╡рд╛рдкрд╕реА рдХреЛ рдкреВрд░реЗ рдмрд╛рдЬрд╛рд░ рдкрд░ рд╡рд╛рдкрд╕реА рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред  рд▓рдХреНрд╖реНрдп рдореАрдЯреНрд░рд┐рдХ рдХрд╕реНрдЯрдо рд╣реИ - рдпрд╣ рдЕрдзрд┐рдХ рдкрд░рд┐рдЪрд┐рдд <abbr title="рд░реВрдЯ рдореАрди рд╕реНрдХреНрд╡рд╛рдпрд░ рдПрд░рд░">RMSE</abbr> рдпрд╛ <abbr title="рдореАрди рдПрдмреНрд╕реЛрд▓реНрдпреВрдЯ рдПрд░рд░">MAE рдирд╣реАрдВ рд╣реИ</abbr> , рд▓реЗрдХрд┐рди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╢рд╛рд░реНрдк рдЕрдиреБрдкрд╛рдд</a> , рдЬрд┐рд╕реЗ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x938;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x94D;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x915;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x94B;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x930;</mo></mrow></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x92C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x93E;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x930;</mo></mrow><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>x</mi></mrow><mi>t</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>i</mi><mi>g</mi><mi>m</mi><mi>a</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>t</mi></msub><mo stretchy=&quot;false&quot;>)</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="38.471ex" height="2.901ex" viewBox="0 -935.7 16563.7 1249" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-65" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-78" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="1650" y="0"></use><g transform="translate(2012,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рд╕</text><g transform="translate(674,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">реН</text></g><g transform="translate(1167,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рдХ</text></g><g transform="translate(1997,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">реЛ</text></g><g transform="translate(2750,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рд░</text></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMAIN-3D" x="5559" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-66" x="6865" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-72" x="7416" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-61" x="7867" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-63" x="8397" y="0"></use><g transform="translate(8830,0)"><g transform="translate(250,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рдм</text></g><g transform="translate(872,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рд╛</text></g><g transform="translate(1625,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рд░</text></g><g transform="translate(2144,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="809" y="-213"></use></g></g><g transform="translate(11903,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-69" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-67" x="1065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-6D" x="1545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-61" x="2424" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMAIN-28" x="2953" y="0"></use><g transform="translate(3343,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMAIN-29" x="4271" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mo>рд╕</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>реН</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>рдХ</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>реЛ</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>рд░</mo></mrow></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><mo>рдм</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>рд╛</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>рд░</mo></mrow><msub><mrow class="MJX-TeXAtom-ORD"><mi>x</mi></mrow><mi>t</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>s</mi><mi>i</mi><mi>g</mi><mi>m</mi><mi>a</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo stretchy="false">)</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> \ text {рд╕реНрдХреЛрд░} = \ frac {\ рдмрд╛рд░ {x} _t} {\ sigma (x_t)} </script></p>  рдЬрд╣рд╛рдБ <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>x</mi><mi>t</mi></msub><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>i</mi></mrow></msub><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>i</mi></mrow></msub><msub><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.782ex" height="2.539ex" viewBox="0 -780.1 9808.8 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="809" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMAIN-3D" x="1205" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-73" x="2512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-75" x="2981" y="0"></use><g transform="translate(3554,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-69" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-68" x="5026" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-61" x="5603" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="6132" y="0"></use><g transform="translate(6494,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-242)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-69" x="361" y="0"></use></g></g><g transform="translate(7584,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-69" x="361" y="0"></use></g></g><g transform="translate(8636,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-75" x="0" y="0"></use><g transform="translate(572,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-69" x="361" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mi>t</mi></msub><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msub><mi>m</mi><mi>i</mi></msub><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi>y</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>i</mi></mrow></msub><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>i</mi></mrow></msub><msub><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-3"> x_t = \ sum_i \ hat {y} _ {ti} r_ {ti} u_ {ti} </script>  ред <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.442ex" height="1.817ex" viewBox="0 -520.7 1051.4 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-69" x="361" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-4"> r_ {ti} </script>  - 10 рджрд┐рди рдХреЗ рдХреНрд╖рд┐рддрд┐рдЬ рдкрд░ рджрд┐рди рдХреЗ рд▓рд┐рдП рдмрд╛рдЬрд╛рд░ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕рдВрдкрддреНрддрд┐ рдкрд░ рд╡рд╛рдкрд╕реА, <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>u</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x924;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x940;</mo></mrow></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.821ex" height="2.178ex" viewBox="0 -520.7 1645.1 937.7" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-75" x="0" y="0"></use><g transform="translate(572,-243)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рдд</text><g transform="translate(440,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">реА</text></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>u</mi><mrow class="MJX-TeXAtom-ORD"><mrow class="MJX-TeXAtom-ORD"><mo>рдд</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>реА</mo></mrow></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-5"> u_ {рддреА} </script>  - рдмреВрд▓рд┐рдпрди рд╡реИрд░рд┐рдПрдмрд▓ рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рджрд┐рди рдХреЗ рд▓рд┐рдП рд╡реИрд▓реНрдпреВрдПрд╢рди рдореЗрдВ рдИрде рдПрд╕реЗрдЯ рд╢рд╛рдорд┐рд▓ рд╣реИ, <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>b</mi><mi>a</mi><mi>r</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>x</mi></mrow><mi>t</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.012ex" height="2.419ex" viewBox="0 -780.1 2588.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-61" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-72" x="1209" y="0"></use><g transform="translate(1660,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="809" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>b</mi><mi>a</mi><mi>r</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi>x</mi></mrow><mi>t</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ bar {x} _t </script>  - рдФрд╕рдд рдореВрд▓реНрдп <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>x</mi><mi>t</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.156ex" height="1.817ex" viewBox="0 -520.7 928.1 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="809" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mi>t</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-7"> x_t </script>  ред <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mtext>&amp;#xA0;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x938;</mo></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x93F;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x917;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x94D;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x92E;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x93E;</mo></mrow><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>t</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.56ex" height="2.901ex" viewBox="0 -883.9 5838.5 1249" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(250,-170)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(36.68) matrix(1 0 0 -1 0 0)">рд╕</text></g><g transform="translate(826,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рд┐</text></g><g transform="translate(1587,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рдЧ</text></g><g transform="translate(2210,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">реН</text></g><g transform="translate(2704,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рдо</text></g><g transform="translate(3378,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">рд╛</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMAIN-28" x="4131" y="0"></use><g transform="translate(4520,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMAIN-29" x="5448" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><mo>рд╕</mo></mrow></msub><mrow class="MJX-TeXAtom-ORD"><mo>рд┐</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>рдЧ</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>реН</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>рдо</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>рд╛</mo></mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>t</mi></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-8"> \ _ рд╕рд┐рдЧреНрдорд╛ (x_t) </script>  - рдорд╛рдирдХ рд╡рд┐рдЪрд▓рди <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>x</mi><mi>t</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.156ex" height="1.817ex" viewBox="0 -520.7 928.1 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://habr.com/ru/company/singularis/blog/440026/&amp;usg=ALkJrhhhN-W9qu04uLvbXaDclQ2KrdOpJg#MJMATHI-74" x="809" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mi>t</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-9"> x_t </script>  ред <br><br>  рд╢рд╛рд░реНрдк рдЕрдиреБрдкрд╛рдд рдЬреЛрдЦрд┐рдо-рд╕рдорд╛рдпреЛрдЬрд┐рдд рд░рд┐рдЯрд░реНрди рд╣реИ, рдЧреБрдгрд╛рдВрдХ рдХреЗ рдореВрд▓реНрдп рд╡реНрдпрд╛рдкрд╛рд░реА рдХреА рдкреНрд░рднрд╛рд╡рд╢реАрд▓рддрд╛ рдХреЛ рджрд░реНрд╢рд╛рддреЗ рд╣реИрдВ: <br><br><ul><li>  1 рд╕реЗ рдХрдо: рдЦрд░рд╛рдм рдкреНрд░рджрд░реНрд╢рди <br></li><li>  1 - 2: рдордзреНрдпрдо, рд╕рд╛рдорд╛рдиреНрдп рджрдХреНрд╖рддрд╛, <br></li><li>  2 - 3: рдЙрддреНрдХреГрд╖реНрдЯ рдкреНрд░рджрд░реНрд╢рди, <br></li><li>  3 рд╕реЗ рдЕрдзрд┐рдХ: рдПрдХрджрдо рд╕рд╣реАред <br></li></ul><br><div class="spoiler">  <b class="spoiler_title">рдорд╛рд░реНрдХреЗрдЯ рдореВрд╡рдореЗрдВрдЯ рдбреЗрдЯрд╛</b> <div class="spoiler_text"><ul><li>  <b>рд╕рдордп</b> (datetime64 [ns, UTC]) - рд╡рд░реНрддрдорд╛рди рд╕рдордп (22:00 рдпреВрдЯреАрд╕реА рдкрд░ рд╕рднреА рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рдмрд╛рдЬрд╛рд░ рдЖрдВрджреЛрд▓рди рдкрд░ рдбреЗрдЯрд╛ рдореЗрдВ) <br></li><li>  <b>рдПрд╕реЗрдЯрдХреЛрдб</b> (рдСрдмреНрдЬреЗрдХреНрдЯ) - рдПрд╕реЗрдЯ рдЖрдЗрдбреЗрдВрдЯрд┐рдлрд╝рд╛рдпрд░ <br></li><li>  <b>рдПрд╕реЗрдЯрдиреЗрдо</b> (рд╢реНрд░реЗрдгреА) - рд╕рдорд╛рдЪрд╛рд░ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд░рд┐рд╕рдВрдкрддреНрддрд┐ рд╕рдореВрд╣ рдХрд╛ рдПрдХ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ <br></li><li>  <b>рдмреНрд░рд╣реНрдорд╛рдВрдб</b> (рдлреНрд▓реЛрдЯ64) - рдПрдХ рдмреВрд▓рд┐рдпрди рдорд╛рди рдЬреЛ рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рд╕реНрдХреЛрд░ рдХреА рдЧрдгрдирд╛ рдореЗрдВ рдЗрд╕ рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рдПрдЧрд╛ рдпрд╛ рдирд╣реАрдВ <br></li><li>  <b>рд╡реЙрд▓реНрдпреВрдо</b> (рдлреНрд▓реЛрдЯ64) - рджреИрдирд┐рдХ рдЯреНрд░реЗрдбрд┐рдВрдЧ рд╡реЙрд▓реНрдпреВрдо <br></li><li>  <b>рдмрдВрдж</b> (рдлреНрд▓реЛрдЯ64) - рдЗрд╕ рджрд┐рди рдХреЗ рд▓рд┐рдП рд╕рдорд╛рдкрди рдореВрд▓реНрдп <br></li><li>  <b>open</b> (float64) - рдЗрд╕ рджрд┐рди рдХреЗ рд▓рд┐рдП рдЦреБрд▓реА рдХреАрдордд <br></li><li>  <b>ReturnClosePrevRaw1</b> (float64) - рдкрд┐рдЫрд▓реЗ рджрд┐рди рдХреЗ рд▓рд┐рдП рдмрдВрдж рд╣реЛрдиреЗ рд╕реЗ рдЙрдкрдЬ <br></li><li>  <b>рд░рд┐рдЯрд░реНрдирдСрдирдкреНрд░реЗрд╡рдЖрд░ 1</b> (рдлреНрд▓реЛрдЯ64) - рдкрд┐рдЫрд▓реЗ рджрд┐рди рдХреЗ рд▓рд┐рдП рдУрдкрдирд┐рдВрдЧ рд╕реЗ рд▓рд╛рднрдкреНрд░рджрддрд╛ <br></li><li>  <b>ReturnClosePrevMktres1</b> (float64) - рдкрд┐рдЫрд▓реЗ рджрд┐рди рдХреЗ рд▓рд┐рдП рдмрдВрдж рд╣реЛрдиреЗ рд╕реЗ рд▓рд╛рднрдкреНрд░рджрддрд╛, рдПрдХ рдкреВрд░реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдмрд╛рдЬрд╛рд░ рдХреЗ рдЖрдВрджреЛрд▓рди рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕рдорд╛рдпреЛрдЬрд┐рдд <br></li><li>  <b>рд░рд┐рдЯрд░реНрдирдСрдирдкреНрд░реЗрд╡рдореЗрддреНрд░рд╕ 1</b> (рдлреНрд▓реЛрдЯ64) - рдкрд┐рдЫрд▓реЗ рджрд┐рди рдХреЗ рд▓рд┐рдП рдУрдкрдирд┐рдВрдЧ рд╕реЗ рд▓рд╛рднрдкреНрд░рджрддрд╛, рдПрдХ рдкреВрд░реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдмрд╛рдЬрд╛рд░ рдХреЗ рдЖрдВрджреЛрд▓рди рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕рдорд╛рдпреЛрдЬрд┐рдд <br></li><li>  <b>ReturnClosePrevRaw10</b> (float64) - рдкрд┐рдЫрд▓реЗ 10 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд░реАрдм рд╕реЗ рдЙрдкрдЬ <br></li><li>  <b>рд░рд┐рдЯрд░реНрдирдСрдирдкреНрд░реЗрд╡ рдЖрд░ 10</b> (рдлреНрд▓реЛрдЯ64) - рдкрд┐рдЫрд▓реЗ 10 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдУрдкрдирд┐рдВрдЧ рд╕реЗ рд▓рд╛рднрдкреНрд░рджрддрд╛ <br></li><li>  <b>ReturnClosePrevMktres10</b> (float64) - рдкрд┐рдЫрд▓реЗ 10 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд░реАрдм рд╕реЗ рдЙрдкрдЬ, рдПрдХ рдкреВрд░реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдмрд╛рдЬрд╛рд░ рдХреЗ рдЖрдВрджреЛрд▓рди рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕рдорд╛рдпреЛрдЬрд┐рдд <br></li><li>  <b>рд░рд┐рдЯрд░реНрдирдСрдкреЗрдирдкреНрд░реЗрд╡рдореЗрддреНрд░реЗ 10</b> (рдлреНрд▓реЛрдЯ64) - рдкрд┐рдЫрд▓реЗ 10 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдУрдкрдирд┐рдВрдЧ рд╕реЗ рдЙрдкрдЬ, рдмрд╛рдЬрд╛рд░ рдХреЗ рдЖрдВрджреЛрд▓рди рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕рдорд╛рдпреЛрдЬрд┐рдд <br></li><li>  <b>ReturnOpenNextMktres10</b> (float64) - рдЕрдЧрд▓реЗ 10 рджрд┐рдиреЛрдВ рдореЗрдВ рдЦреБрд▓реЗ рдореЗрдВ рдЦреБрд▓реЗ рд╕реЗ рдЙрдкрдЬ, рдПрдХ рдкреВрд░реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдмрд╛рдЬрд╛рд░ рдХреА рдЖрд╡рд╛рдЬрд╛рд╣реА рдХреЗ рд▓рд┐рдП рд╕рдорд╛рдпреЛрдЬрд┐рддред  рд╣рдо рдЗрд╕ рдореВрд▓реНрдп рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░реЗрдВрдЧреЗред <br></li></ul><br></div></div><br><div class="spoiler">  <b class="spoiler_title">рд╕рдорд╛рдЪрд╛рд░ рдбреЗрдЯрд╛</b> <div class="spoiler_text"><ul><li>  <b>рд╕рдордп</b> (рдбреЗрдЯрд╛рдЯрд╛рдЗрдо 64 [рдПрдирдПрд╕, рдпреВрдЯреАрд╕реА]) - рдпреВрдЯреАрд╕реА рдбреЗрдЯрд╛ рдЙрдкрд▓рдмреНрдзрддрд╛ рдореЗрдВ рд╕рдордп <br></li><li>  <b>sourceTimestamp</b> (datetime64 [ns, UTC]) - UTC рдкреНрд░рдХрд╛рд╢рди рд╕рдорд╛рдЪрд╛рд░ рдореЗрдВ рд╕рдордп <br></li><li>  <b>FirstCreated</b> ( <b>рдбреЗрдЯрд╛рдЯрд╛рдЗрдо64</b> [ns, UTC]) - рдбреЗрдЯрд╛ рдХреЗ рдкрд╣рд▓реЗ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ UTC рдореЗрдВ рд╕рдордп <br></li><li>  <b>sourceId</b> (рдСрдмреНрдЬреЗрдХреНрдЯ) - рд░рд┐рдХреЙрд░реНрдб рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ <br></li><li>  <b>рд╢реАрд░реНрд╖рдХ</b> (рд╡рд╕реНрддреБ) - рд╢реАрд░реНрд╖рдХ <br></li><li>  <b>рддрд╛рддреНрдХрд╛рд▓рд┐рдХрддрд╛</b> (int8) - рд╕рдорд╛рдЪрд╛рд░ рдХреЗ рдкреНрд░рдХрд╛рд░ (1: рд╕рддрд░реНрдХ, 3: рд▓реЗрдЦ) <br></li><li>  <b>takeSequence</b> (int16) - рдмрд┐рд▓реНрдХреБрд▓ рд╕реНрдкрд╖реНрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдирд╣реАрдВ, рдХреБрдЫ рдЕрдиреБрдХреНрд░рдо рдореЗрдВ рд╕рдВрдЦреНрдпрд╛ <br></li><li>  <b>рдкреНрд░рджрд╛рддрд╛</b> (рд╢реНрд░реЗрдгреА) - рд╕рдорд╛рдЪрд╛рд░ рдкреНрд░рджрд╛рддрд╛ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ <br></li><li>  <b>рд╡рд┐рд╖рдпреЛрдВ</b> (рд╢реНрд░реЗрдгреА) - рд╕рдорд╛рдЪрд╛рд░ рд╡рд┐рд╖рдп рдХреЛрдб рдХреА рдПрдХ рд╕реВрдЪреА (рдПрдХ рднреМрдЧреЛрд▓рд┐рдХ рд╕рдВрдХреЗрдд, рдШрдЯрдирд╛, рдЙрджреНрдпреЛрдЧ рдХреНрд╖реЗрддреНрд░, рдЖрджрд┐ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ) <br></li><li>  <b>рджрд░реНрд╢рдХреЛрдВ</b> (рд╢реНрд░реЗрдгреА) - рджрд░реНрд╢рдХреЛрдВ рдХреА рд╕реВрдЪреА рд╕рдорд╛рдЪрд╛рд░ рдХреЛрдб <br></li><li>  <b>bodySize</b> (int32) - рд╕рдорд╛рдЪрд╛рд░ рд╢рд░реАрд░ рдореЗрдВ рд╡рд░реНрдгреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ <br></li><li>  <b>companyCount</b> ( <b>int8</b> ) - рд╕рдорд╛рдЪрд╛рд░ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЙрд▓реНрд▓реЗрдЦрд┐рдд рдХрдВрдкрдирд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ <br></li><li>  <b>рд╣реЗрдбрд▓рд╛рдЗрдирдЯреИрдЧ</b> (рдСрдмреНрдЬреЗрдХреНрдЯ) - рдереЙрдорд╕рди рд░реЙрдпрдЯрд░реНрд╕ рд╕реЗ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╢реАрд░реНрд╖рдХ рдЯреИрдЧ <br></li><li>  <b>marketCommentary</b> (рдмреВрд▓) - рдПрдХ рд╕рдВрдХреЗрдд рдЬреЛ рд╕рдорд╛рдЪрд╛рд░ рд╕рд╛рдорд╛рдиреНрдп рдмрд╛рдЬрд╛рд░ рдХреА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ <br></li><li>  рд╡рд╛рдХреНрдпрдХрдВрдЯ (int16) - рд╕рдорд╛рдЪрд╛рд░ рдореЗрдВ рдкреНрд░рд╕реНрддрд╛рд╡реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ <br></li><li>  <b>рд╢рдмреНрджрдХрд╛рдЙрдВрдЯ</b> (int32) - рд╕рдорд╛рдЪрд╛рд░ рдореЗрдВ рд╢рдмреНрджреЛрдВ рдФрд░ рд╡рд┐рд░рд╛рдо рдЪрд┐рд╣реНрдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ <br></li><li>  <b>рдПрд╕реЗрдЯрдХреЛрдб</b> (рд╢реНрд░реЗрдгреА) - рд╕рдорд╛рдЪрд╛рд░ рдореЗрдВ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд рд╕рдВрдкрддреНрддрд┐ рдХреА рд╕реВрдЪреА <br></li><li>  <b>рдПрд╕реЗрдЯрдиреЗрдо</b> (рд╢реНрд░реЗрдгреА) - рдПрд╕реЗрдЯ рдЧреНрд░реБрдк рдХреЛрдб <br></li><li>  <b>FirstMentionSentence</b> (int16) - рдПрдХ рд╡рд╛рдХреНрдп рдЬреЛ рдкрд╣рд▓реА рдмрд╛рд░ рдПрдХ рд╕рдВрдкрддреНрддрд┐ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд░рддрд╛ рд╣реИ: <br></li><li>  <b>рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХрддрд╛</b> (рдлреНрд▓реЛрдЯ 32) - 0 рд╕реЗ 1 рддрдХ рдХреА рд╕рдВрдЦреНрдпрд╛, рд╕рдВрдкрддреНрддрд┐ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рд╕рдорд╛рдЪрд╛рд░ рдХреА рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХрддрд╛ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ <br></li><li>  <b>рд╕реЗрдВрдЯрд┐рдореЗрдВрдЯрдХреНрд▓рд╛рд╕</b> (int8) - рд╕рдорд╛рдЪрд╛рд░ рдЯреЙрдиреНрд╕рд┐рд▓рд┐рдЯреА рдХреНрд▓рд╛рд╕ <br></li><li>  <b>рднрд╛рд╡реБрдХрддрд╛рдкреВрд░реНрдг</b> (рдлреНрд▓реЛрдЯ 32) - рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЖрдЬ рдХреА рд░рд╛рдд рдирдХрд╛рд░рд╛рддреНрдордХ рд╣реИ <br></li><li>  sentNameNutral (рдлреНрд▓реЛрдЯ 32) - рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рд╕реНрд╡рд░ рддрдЯрд╕реНрде рд╣реИ <br></li><li>  <b>рднрд╛рд╡реБрдХрддрд╛рдкреВрд░реНрдг</b> (рдлреНрд▓реЛрдЯ 32) - рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдХреБрдВрдЬреА рд╕рдХрд╛рд░рд╛рддреНрдордХ рд╣реИ <br></li><li>  <b>sentimentWordCount</b> (int32) - рдкрд╛рда рдореЗрдВ рдЙрди рд╢рдмреНрджреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЬреЛ рд╕рдВрдкрддреНрддрд┐ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВ <br></li><li>  <b>рдиреЙрд╡реЗрд▓реНрдЯреАрдХрд╛рдЙрдВрдЯ</b> 12 <b>рдПрдЪ</b> ( <b>рдЗрдВрдЯ 16</b> ) - 12 рдШрдВрдЯреЗ рдореЗрдВ "рдирд╡реАрдирддрд╛" рд╕рдорд╛рдЪрд╛рд░, рдЗрд╕ рд╕рдВрдкрддреНрддрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрд┐рдЫрд▓реА рдЦрдмрд░ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдЧрдгрдирд╛ рдХреА рдЧрдИ <br></li><li>  <b>рдиреЙрд╡реЗрд▓реНрдЯреАрдХрд╛рдЙрдВрдЯ</b> 24 <b>рдПрдЪ</b> ( <b>рдЗрдВрдЯ 16</b> ) - рд╡рд╣реА, 24 рдШрдВрдЯреЗ рдореЗрдВ <br></li><li>  <b>рдиреЙрд╡реЗрд▓реНрдЯреАрдХрд╛рдЙрдВрдЯ</b> 3 <b>рдбреА</b> ( <b>рдЗрдВрдЯ 16</b> ) - рд╡рд╣реА, 3 рджрд┐рдиреЛрдВ рдореЗрдВ <br></li><li>  <b>рдиреЙрд╡реЗрд▓реНрдЯреАрдХрд╛рдЙрдВрдЯ</b> 5 <b>рдбреА</b> ( <b>рдЗрдВрдЯ 16</b> ) - рд╡рд╣реА, 5 рджрд┐рдиреЛрдВ рдореЗрдВ <br></li><li>  <b>рдиреЙрд╡реЗрд▓реНрдЯреАрдХрд╛рдЙрдВрдЯ</b> 7 <b>рдбреА</b> ( <b>рдЗрдВрдЯ 16</b> ) - рд╡рд╣реА, 7 рджрд┐рдиреЛрдВ рдореЗрдВ <br></li><li>  <b>VolumeCounts12H</b> (int16) - 12 рдШрдВрдЯреЗ рдореЗрдВ рдЗрд╕ рд╕рдВрдкрддреНрддрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдорд╛рдЪрд╛рд░ рдХреА рдорд╛рддреНрд░рд╛ <br></li><li>  <b>volumeCounts24H</b> (int16) - рд╡рд╣реА, 24 рдШрдВрдЯреЗ рдореЗрдВ <br></li><li>  <b>VolumeCounts3D</b> (int16) - рд╡рд╣реА, 3 рджрд┐рдиреЛрдВ рдореЗрдВ <br></li><li>  <b>VolumeCounts5D</b> (int16) - рд╡рд╣реА, 5 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП <br></li><li>  <b>VolumeCounts7D</b> (int16) - рд╡рд╣реА, 7 рджрд┐рдиреЛрдВ рдореЗрдВ <br></li></ul><br></div></div><br>  рдХрд╛рд░реНрдп рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдмрд╛рдЗрдирд░реА рд╡рд░реНрдЧреАрдХрд░рдг рдХрд╛ рдХрд╛рд░реНрдп рд╣реИ, рдЕрд░реНрдерд╛рдд, рд╣рдо рдПрдХ рджреНрд╡рд┐рдЖрдзрд╛рд░реА рд╕рдВрдХреЗрдд рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░рддреЗ рд╣реИрдВ, рд╡реГрджреНрдзрд┐ (1 рд╡рд░реНрдЧ) рдпрд╛ рдХрдореА (0 рд╡рд░реНрдЧ) рдореЗрдВ рд╡реГрджреНрдзрд┐ рд╣реЛрдЧреАред <br><br><h2>  рдЯреВрд▓реНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╛рдЧрд▓ рдХрд░реНрдиреЗрд▓</a> рдПрдХ рдХреНрд▓рд╛рдЙрдб рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рд╣реИ рдЬреЛ рд╕рд╣рдпреЛрдЧ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рдХрд╛рд░ рдХреА рдЧреБрдард▓реА рдХрд╛ рд╕рдорд░реНрдерди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><ul><li>  рдкрд╛рдпрдерди рд▓рд┐рдкрд┐ <br></li><li>  рдЖрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ <br></li><li>  рдЬреНрдпреВрдкрд┐рдЯрд░ рдиреЛрдЯрдмреБрдХ <br></li><li>  RMarkdown <br></li></ul><br>  рдкреНрд░рддреНрдпреЗрдХ рдХрд░реНрдиреЗрд▓ рдЕрдкрдиреЗ рдбреЙрдХ рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдЪрд▓рддрд╛ рд╣реИред  рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдкреИрдХреЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдП рдЧрдП рд╣реИрдВ, рдЕрдЬрдЧрд░ рдХреА рдПрдХ рд╕реВрдЪреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред  рддрдХрдиреАрдХреА рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╣реИрдВ: <br><br><ul><li>  рд╕реАрдкреАрдпреВ: 4 рдХреЛрд░, </li><li>  рд░реИрдо: 17 рдЬреАрдмреА, </li><li>  рдбреНрд░рд╛рдЗрд╡: 5 рдЬреАрдмреА рд╕реНрдерд╛рдпреА рдФрд░ 16 рдЬреАрдмреА рдЕрд╕реНрдерд╛рдпреА, </li><li>  рдЕрдзрд┐рдХрддрдо рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд░рди рд╕рдордп: 9 рдШрдВрдЯреЗ (рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХреА рд╢реБрд░реБрдЖрдд рдХреЗ рд╕рдордп рдпрд╣ 6 рдШрдВрдЯреЗ рдерд╛)ред </li></ul><br>  GPU, рдХрд░реНрдиреЗрд▓ рдореЗрдВ рднреА рдЙрдкрд▓рдмреНрдз рд╣реИрдВ, рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЗрд╕ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдореЗрдВ GPU рдирд┐рд╖рд┐рджреНрдз рдерд╛ред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЗрд░рд╕</a> рдПрдХ рдЙрдЪреНрдЪ-рд╕реНрддрд░реАрдп рдиреНрдпреВрд░рд▓ рдиреЗрдЯрд╡рд░реНрдХ рдлреНрд░реЗрдорд╡рд░реНрдХ рд╣реИ рдЬреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреЗрдВрд╕реЛрд░рдлреНрд▓реЛ</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реАрдПрдирдЯреАрдХреЗ</a> рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдереАрдиреЛ рдХреЗ</a> рд╢реАрд░реНрд╖ рдкрд░ рдЪрд▓рддрд╛ рд╣реИред  рдпрд╣ рдПрдХ рдмрд╣реБрдд рд╣реА рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдФрд░ рд╕рдордЭрдиреЗ рдпреЛрдЧреНрдп рдПрдкреАрдЖрдИ рд╣реИ, рдФрд░ рдмреИрдХрдПрдВрдб рдПрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ рдиреЗрдЯрд╡рд░реНрдХ рдЯреЛрдкреЛрд▓реЙрдЬреА, рдиреБрдХрд╕рд╛рди рдХрд╛рд░реНрдпреЛрдВ рдФрд░ рдЕрдзрд┐рдХ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рд╕рдВрднрд╡ рд╣реИред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдХрд┐рдХрд┐рдЯ-рд▓рд░реНрди</a> рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреА рдПрдХ рдмрдбрд╝реА рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╣реИред  рдЕрдзрд┐рдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд░реВрдкрд░реЗрдЦрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдкреНрд░реАрдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдФрд░ рдбреЗрдЯрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХрд╛ рдПрдХ рдЙрдкрдпреЛрдЧреА рд╕реНрд░реЛрддред <br><br><h2>  рдореЙрдбрд▓ рд╕рддреНрдпрд╛рдкрди </h2><br>  рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЗ рд▓рд┐рдП рдПрдХ рдореЙрдбрд▓ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдХрд┐рд╕реА рддрд░рд╣ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдЬрд╛рдВрдЪрдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ рдХрд┐ рдпрд╣ рдХрд┐рддрдирд╛ рдЕрдЪреНрдЫрд╛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ - рдЕрд░реНрдерд╛рдд, рд╕реНрдерд╛рдиреАрдп рд╕рддреНрдпрд╛рдкрди рдХреЗ рд▓рд┐рдП рдПрдХ рддрд░реАрдХрд╛ рд╣реИред  рдореИрдВрдиреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрд░реАрдХреЛрдВ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА: <br><br><ol><li>  рдкрд╛рд░ рд╕рддреНрдпрд╛рдкрди <i>рдмрдирд╛рдо</i> рдкреНрд░рд╢рд┐рдХреНрд╖рдг / рдкрд░реАрдХреНрд╖рдг рд╕реЗрдЯ рдореЗрдВ рд╕рд░рд▓ рдЖрдиреБрдкрд╛рддрд┐рдХ рд╡рд┐рднрд╛рдЬрди; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><abbr title="рд░рд┐рд╕реАрд╡рд░ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╡рд┐рд╢реЗрд╖рддрд╛">рдЖрд░рдУрд╕реА</abbr> <abbr title="рд╡рдХреНрд░ рдХреЗ рддрд╣рдд рдХреНрд╖реЗрддреНрд░">рдПрдпреВрд╕реА</abbr></a> <i>рдмрдирд╛рдо</i> рд╢рд╛рд░реНрдк рдЕрдиреБрдкрд╛рдд рдХреА рд╕реНрдерд╛рдиреАрдп рдЧрдгрдирд╛ред </li></ol><br>  рдирддреАрдЬрддрди, рдкреНрд░рддрд┐рд╕реНрдкрд░реНрдзреА рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЗ рдирд┐рдХрдЯрддрдо рдкрд░рд┐рдгрд╛рдо, рдХрд╛рдлреА рд╣рдж рддрдХ, рдЖрдиреБрдкрд╛рддрд┐рдХ рд╡рд┐рднрд╛рдЬрди рдХреЗ рдПрдХ рд╕рдВрдпреЛрдЬрди рдХреЛ рджрд░реНрд╢рд╛рддреЗ рд╣реИрдВ (рдЕрдиреБрднрд╡рдЬрдиреНрдп рд░реВрдк рд╕реЗ рд╡рд┐рднрд╛рдЬрди 0.85 / 0.15) рдФрд░ рдПрдпреВрд╕реА рдХрд╛ рдЪрдпрди рдХрд┐рдпрд╛ред  рдХреНрд░реЙрд╕ рд╕рддреНрдпрд╛рдкрди рд╕рдВрднрд╡рдд: рдмрд╣реБрдд рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдбреЗрдЯрд╛ рдХреЗ рд╢реБрд░реБрдЖрддреА рдЪрд░рдгреЛрдВ рдореЗрдВ рдФрд░ рдореВрд▓реНрдпрд╛рдВрдХрди рдХреА рдЕрд╡рдзрд┐ рдореЗрдВ рдмрд╛рдЬрд╛рд░ рдХрд╛ рд╡реНрдпрд╡рд╣рд╛рд░ рдмрд╣реБрдд рдЕрд▓рдЧ рд╣реИред  AUC рдиреЗ рд╢рд╛рд░реНрдк рдЕрдиреБрдкрд╛рдд рд╕реЗ рдмреЗрд╣рддрд░ рдХреНрдпреЛрдВ рдХрд╛рдо рдХрд┐рдпрд╛ - рдореИрдВ рдмрд┐рд▓реНрдХреБрд▓ рдирд╣реАрдВ рдХрд╣ рд╕рдХрддрд╛ред <br><br><h2>  рдкрд╣рд▓реЗ рдкреНрд░рдпрд╛рд╕ </h2><br>  рдЪреВрдВрдХрд┐ рдХрд╛рд░реНрдп рд╕рдордп рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░рдирд╛ рд╣реИ, рдкрд╣рд▓реЗ рдХреНрд▓рд╛рд╕рд┐рдХ рд╕рдорд╛рдзрд╛рди рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ - рдПрдХ рдЖрд╡рд░реНрддрдХ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд░рдПрдирдПрди</a> ), рдпрд╛ рдмрд▓реНрдХрд┐, рдЗрд╕рдХреЗ рд╡реЗрд░рд┐рдПрдВрдЯ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><abbr title="рджреАрд░реНрдШрдХрд╛рд▓реАрди рд╕реНрдореГрддрд┐">рдПрд▓рдПрд╕рдЯреАрдПрдо</abbr></a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><abbr title="рдЧреЗрдЯреЗрдб рдЖрд╡рд░реНрддрдХ рдЗрдХрд╛рдИ">рдЬреАрдЖрд░рдпреВ</abbr></a> ред <br><br>  рдЖрд╡рд░реНрддрдХ рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рдореБрдЦреНрдп рд╕рд┐рджреНрдзрд╛рдВрдд рдпрд╣ рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдЖрдЙрдЯрдкреБрдЯ рдорд╛рди рдХреЗ рд▓рд┐рдП, рдПрдХ рдирдореВрдирд╛ рдЗрдирдкреБрдЯ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рд╕рдВрдкреВрд░реНрдг рдЕрдиреБрдХреНрд░рдо рд╣реИред  рдпрд╣ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ рдХрд┐: <br><br><ul><li>  рд╣рдореЗрдВ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдбреЗрдЯрд╛ рдХреЗ рдХреБрдЫ рдкреНрд░реАрдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ - рдкреНрд░рддреНрдпреЗрдХ рдкрд░рд┐рд╕рдВрдкрддреНрддрд┐ рдХреЗ рд▓рд┐рдП рд▓рдВрдмрд╛рдИ рдЯреА рджрд┐рдиреЛрдВ рдХреЗ рдЗрди рдмрд╣реБрдд рдЕрдиреБрдХреНрд░рдореЛрдВ рдХреА рдкреАрдврд╝реА; <br></li><li>  рдпрджрд┐ рдкрд┐рдЫрд▓реЗ рдЯреА рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдбреЗрдЯрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдПрдХ рдЖрд╡рд░реНрддрдХ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдореЙрдбрд▓ рдЖрдЙрдЯрдкреБрдЯ рдореВрд▓реНрдп рдХрд╛ рдЕрдиреБрдорд╛рди рдирд╣реАрдВ рд▓рдЧрд╛ рд╕рдХрддрд╛ рд╣реИред <br></li></ul><br>  рдореИрдВрдиреЗ рдкреНрд░рддреНрдпреЗрдХ рджрд┐рди рдХреЗ рд▓рд┐рдП рд╕реАрдХреНрд╡реЗрдВрд╕ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛, рдЯреА рд╕реЗ рд╢реБрд░реВ рдХрд┐рдпрд╛, рдЗрд╕рд▓рд┐рдП рдХрд╛рдлреА рдмрдбрд╝реЗ рдЯреА (20 рд╕реЗ) рдХреЗ рд▓рд┐рдП рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рдирдореВрдиреЛрдВ рдХрд╛ рдкреВрд░рд╛ рд╕реЗрдЯ рд╕реНрдореГрддрд┐ рдореЗрдВ рдлрд┐рдЯ рд╣реЛрдирд╛ рдмрдВрдж рд╣реЛ рдЧрдпрд╛ред  рдЬрдирд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕рдорд╛рдзрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рдХреЗрд░реЗрд╕ рдЬрдирд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдФрд░ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдЗрдирдкреБрдЯ рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рдбреЗрдЯрд╛ рд╕реЗрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдбреЗрдЯрд╛ рдХреА рдкреНрд░рд╛рд░рдВрднрд┐рдХ рддреИрдпрд╛рд░реА рдЬрд┐рддрдиреА рд╕рдВрднрд╡ рд╣реЛ рдЙрддрдиреА рднреЛрд▓реА рдереА: рд╣рдо рдкреВрд░реЗ рдмрд╛рдЬрд╝рд╛рд░ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ рдФрд░ рдХреБрдЫ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ (рд╕рдкреНрддрд╛рд╣ рдХреЗ рджрд┐рди, рдорд╣реАрдиреЗ, рд╕рдкреНрддрд╛рд╣ рдХреА рд╕рдВрдЦреНрдпрд╛), рдФрд░ рд╣рдо рд╕рдорд╛рдЪрд╛рд░ рдбреЗрдЯрд╛ рдХреЛ рдмрд┐рд▓реНрдХреБрд▓ рднреА рдирд╣реАрдВ рдЫреВрддреЗ рд╣реИрдВред <br><br>  рдкрд╣рд▓реЗ рдореЙрдбрд▓ рдиреЗ t = 10 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдФрд░ рдЗрд╕ рддрд░рд╣ рджреЗрдЦрд╛: <br><br><pre><code class="python hljs">model = Sequential() model.add(LSTM(<span class="hljs-number"><span class="hljs-number">256</span></span>, activation=act.tanh, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, input_shape=(data.timesteps, data.features))) model.add(LSTM(<span class="hljs-number"><span class="hljs-number">256</span></span>, activation=act.relu)) model.add(Dense(data.assets, activation=act.relu)) model.add(Dense(data.assets))</code> </pre> <br>  рдЗрд╕ рдореЙрдбрд▓ рд╕реЗ рдкрд░реНрдпрд╛рдкреНрдд рдХреБрдЫ рднреА рдирд╣реАрдВ рдирд┐рдЪреЛрдбрд╝рд╛ рдЧрдпрд╛, рд╕реНрдХреЛрд░ рд╢реВрдиреНрдп (рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдереЛрдбрд╝рд╛ рд╕рд╛ рд╢реВрдиреНрдп) рдХреЗ рдкрд╛рд╕ рдерд╛ред <br><br><h2>  рдЯреЗрдореНрдкреЛрд░рд▓ рдХрдиреНрд╡реЛрдХреЗрд╢рдирд▓ рдиреЗрдЯрд╡рд░реНрдХ </h2><br>  рд╕рдордп рд╢реНрд░реГрдВрдЦрд▓рд╛ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдзрд┐рдХ рдЖрдзреБрдирд┐рдХ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рд╕рдорд╛рдзрд╛рди рдЯреАрд╕реАрдПрди рд╣реИред  рдЗрд╕ рдЯреЛрдкреЛрд▓реЙрдЬреА рдХрд╛ рд╕рд╛рд░ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИ: рд╣рдо рдПрдХ рдЖрдпрд╛рдореА рдЖрдпрд╛рдореА рдиреЗрдЯрд╡рд░реНрдХ рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рд▓рдВрдмрд╛рдИ рдЯреА рдХреЗ рд╣рдорд╛рд░реЗ рдЕрдиреБрдХреНрд░рдо рдкрд░ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВред  рдЕрдзрд┐рдХ рдЙрдиреНрдирдд рд╡рд┐рдХрд▓реНрдк рдЕрд▓рдЧ-рдЕрд▓рдЧ рдлреИрд▓рд╛рд╡ рдХреЗ рд╕рд╛рде рдХрдИ рджреГрдврд╝ рдкрд░рддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдЯреАрд╕реАрдПрди рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ (рдХрднреА-рдХрднреА рд╡рд┐рдЪрд╛рд░ рд╕реНрддрд░ рдкрд░) рдХреЙрдкреА рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреАрд╕реАрдПрди</a> рд╕реНрдЯреИрдХ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡реЗрд╡рдиреЗрдЯ рд▓реЗрдЦ</a> рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдерд╛</a> )ред <br><br><img src="https://habrastorage.org/webt/rf/sb/-4/rfsb-4f0bydwgmhhkwvbrenuxu0.png"><br><br>  рдкрд╣рд▓рд╛ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рд╕рдлрд▓ рд╕рдорд╛рдзрд╛рди рдпрд╣ рдореЙрдбрд▓ рдерд╛, рдЬрд┐рд╕рдореЗрдВ TCN рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ GRU рдкрд░рдд рд╢рд╛рдорд┐рд▓ рд╣реИ: <br><br><pre> <code class="python hljs">model = Sequential() model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">512</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>, activation=act.relu, padding=<span class="hljs-string"><span class="hljs-string">'causal'</span></span>, input_shape=(data.timesteps, data.features))) model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>, activation=act.relu, padding=<span class="hljs-string"><span class="hljs-string">'causal'</span></span>, dilation_rate=<span class="hljs-number"><span class="hljs-number">2</span></span>)) model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>, activation=act.relu, padding=<span class="hljs-string"><span class="hljs-string">'causal'</span></span>, dilation_rate=<span class="hljs-number"><span class="hljs-number">4</span></span>)) model.add(GRU(<span class="hljs-number"><span class="hljs-number">256</span></span>)) model.add(Dense(data.assets, activation=act.relu))</code> </pre><br>  рдРрд╕рд╛ рдореЙрдбрд▓ рд╕реНрдХреЛрд░ = 0.27668 рдкреИрджрд╛ рдХрд░рддрд╛ рд╣реИред  рдереЛрдбрд╝реА рдЯреНрдпреВрдирд┐рдВрдЧ (рдЯреАрд╕реАрдПрди рдлрд┐рд▓реНрдЯрд░, рдмреИрдЪ рдЖрдХрд╛рд░ рдХреА рд╕рдВрдЦреНрдпрд╛) рдФрд░ рдЯреА рдореЗрдВ 100 рдХреА рд╡реГрджреНрдзрд┐ рдХреЗ рд╕рд╛рде, рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА 0.41092 рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="python hljs">batch_size = <span class="hljs-number"><span class="hljs-number">512</span></span> model = Sequential() model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>, activation=act.relu, padding=<span class="hljs-string"><span class="hljs-string">'causal'</span></span>, input_shape=(data.timesteps, data.features))) model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>, activation=act.relu, padding=<span class="hljs-string"><span class="hljs-string">'causal'</span></span>, dilation_rate=<span class="hljs-number"><span class="hljs-number">2</span></span>)) model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>, activation=act.relu, padding=<span class="hljs-string"><span class="hljs-string">'causal'</span></span>, dilation_rate=<span class="hljs-number"><span class="hljs-number">4</span></span>)) model.add(GRU(<span class="hljs-number"><span class="hljs-number">16</span></span>)) model.add(Dense(<span class="hljs-number"><span class="hljs-number">1</span></span>, activation=act.sigmoid))</code> </pre><br>  рдЕрдЧрд▓рд╛ рд╣рдо рд╕рд╛рдорд╛рдиреНрдпреАрдХрд░рдг рдФрд░ рдбреНрд░реЙрдкрдЖрдЙрдЯ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ: <br><br><div class="spoiler">  <b class="spoiler_title">рдХреЛрдб</b> <div class="spoiler_text"><pre> <code class="python hljs">batch_size = <span class="hljs-number"><span class="hljs-number">512</span></span> dropout_rate = <span class="hljs-number"><span class="hljs-number">0.05</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">channel_normalization</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x)</span></span></span><span class="hljs-function">:</span></span> max_values = K.max(K.abs(x), <span class="hljs-number"><span class="hljs-number">2</span></span>, keepdims=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) + <span class="hljs-number"><span class="hljs-number">1e-5</span></span> out = x / max_values <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> out model = Sequential() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(data.timesteps &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>): model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>, activation=act.relu, padding=<span class="hljs-string"><span class="hljs-string">'valid'</span></span>, input_shape=(data.timesteps, data.features))) model.add(Lambda(channel_normalization)) model.add(SpatialDropout1D(dropout_rate)) model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>, padding=<span class="hljs-string"><span class="hljs-string">'valid'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>): model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>, activation=act.relu, padding=<span class="hljs-string"><span class="hljs-string">'valid'</span></span>, dilation_rate=<span class="hljs-number"><span class="hljs-number">2</span></span>**i)) model.add(Lambda(channel_normalization)) model.add(SpatialDropout1D(dropout_rate)) model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>, padding=<span class="hljs-string"><span class="hljs-string">'valid'</span></span>)) model.add(Flatten()) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: model.add(Flatten(input_shape=(data.timesteps, data.features))) model.add(Dense(<span class="hljs-number"><span class="hljs-number">256</span></span>, activation=act.relu)) model.add(Dense(<span class="hljs-number"><span class="hljs-number">1</span></span>, activation=act.sigmoid))</code> </pre><br></div></div><br>  рдЗрд╕ рдореЙрдбрд▓ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реБрдП, рд╢реБрд░реБрдЖрддреА рдЪрд░рдгреЛрдВ рдореЗрдВ (t = 1 рдХреЗ рд╕рд╛рде), рд╣рдореЗрдВ рд╕реНрдХреЛрд░ = 0.53578 рдорд┐рд▓рддрд╛ рд╣реИред <br><br><h2>  рдЧреНрд░реИрдбрд┐рдПрдВрдЯ рдмреВрд╕реНрдЯрд┐рдВрдЧ рдорд╢реАрдиреЗрдВ </h2><br>  рдЗрд╕ рд╕реНрддрд░ рдкрд░, рд╡рд┐рдЪрд╛рд░ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдП, рдФрд░ рдореИрдВрдиреЗ рд╡рд╣реА рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдЬреЛ рдмрд╣реБрдд рд╢реБрд░реБрдЖрдд рдореЗрдВ рдХрд┐рдП рдЬрд╛рдиреЗ рдХреА рдЬрд░реВрд░рдд рдереА: рдЕрдиреНрдп рдкреНрд░рддрд┐рднрд╛рдЧрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдирд┐рд░реНрдгрдпреЛрдВ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдПред  рдЕрдзрд┐рдХрд╛рдВрд╢ рдЕрдЪреНрдЫреЗ рд╕рдорд╛рдзрд╛рдиреЛрдВ рдореЗрдВ рдЬреАрдмреАрдПрдо рдХреЛ рддрд░рдЬреАрд╣ рджреЗрдиреЗ рд╡рд╛рд▓реЗ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ред <br><br>  рдЧреНрд░реИрдбрд┐рдПрдВрдЯ рдмреВрд╕реНрдЯрд┐рдВрдЧ рдПрдХ рдПрдордПрд▓ рдореЗрдердб рд╣реИ, рдЬрд┐рд╕рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдкрд░ рд╣рдореЗрдВ рд╕рд┐рдВрдкрд▓ рдореЙрдбрд▓реНрд╕ (рдЬреНрдпрд╛рджрд╛рддрд░ рдкреНрд░рд╛рдпрдГ рдбрд┐рд╕реАрдЬрди рдЯреНрд░реА) рдХрд╛ рдкрд╣рдирд╛рд╡рд╛ рдорд┐рд▓рддрд╛ рд╣реИред  рдРрд╕реЗ рд╕рд░рд▓ рдореЙрдбрд▓ рдХреА рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдХрд╛рд░рдг, рдиреБрдХрд╕рд╛рди рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрдк рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЧреНрд░реЗрдбрд┐рдПрдВрдЯ рдмреВрд╕реНрдЯрд┐рдВрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдЬреАрдмреАрдПрдо рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд░реВрдк рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд╛рдЗрдЯрдмреИрдо рдХрд╛</a> рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧрдпрд╛</a> - рдорд╛рдЗрдХреНрд░реЛрд╕реЙрдлреНрдЯ рдХрд╛ рдПрдХ рдХрд╛рдлреА рдкреНрд░рд╕рд┐рджреНрдз рдврд╛рдВрдЪрд╛ред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ рд╕реЗ</a> рд▓рд┐рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧрдпрд╛</a> рдореЙрдбрд▓ рдФрд░ рдбреЗрдЯрд╛ рддреБрд░рдВрдд 0.64 рдХрд╛ рд╕реНрдХреЛрд░ рджреЗрддрд╛ рд╣реИ: <br><br><div class="spoiler">  <b class="spoiler_title">рдХреЛрдб</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prepare_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(marketdf, newsdf)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># a bit of feature engineering marketdf['time'] = marketdf.time.dt.strftime("%Y%m%d").astype(int) marketdf['bartrend'] = marketdf['close'] / marketdf['open'] marketdf['average'] = (marketdf['close'] + marketdf['open'])/2 marketdf['pricevolume'] = marketdf['volume'] * marketdf['close'] newsdf['time'] = newsdf.time.dt.strftime("%Y%m%d").astype(int) newsdf['assetCode'] = newsdf['assetCodes'].map(lambda x: list(eval(x))[0]) newsdf['position'] = newsdf['firstMentionSentence'] / newsdf['sentenceCount'] newsdf['coverage'] = newsdf['sentimentWordCount'] / newsdf['wordCount'] # filter pre-2012 data, no particular reason marketdf = marketdf.loc[marketdf['time'] &gt; 20120000] # get rid of extra junk from news data droplist = ['sourceTimestamp','firstCreated','sourceId','headline','takeSequence','provider','firstMentionSentence', 'sentenceCount','bodySize','headlineTag','marketCommentary','subjects','audiences','sentimentClass', 'assetName', 'assetCodes','urgency','wordCount','sentimentWordCount'] newsdf.drop(droplist, axis=1, inplace=True) marketdf.drop(['assetName', 'volume'], axis=1, inplace=True) # combine multiple news reports for same assets on same day newsgp = newsdf.groupby(['time','assetCode'], sort=False).aggregate(np.mean).reset_index() # join news reports to market data, note many assets will have many days without news data return pd.merge(marketdf, newsgp, how='left', on=['time', 'assetCode'], copy=False) import lightgbm as lgb print ('Training lightgbm') # money params = { "objective" : "binary", "metric" : "binary_logloss", "num_leaves" : 60, "max_depth": -1, "learning_rate" : 0.01, "bagging_fraction" : 0.9, # subsample "feature_fraction" : 0.9, # colsample_bytree "bagging_freq" : 5, # subsample_freq "bagging_seed" : 2018, "verbosity" : -1 } lgtrain, lgval = lgb.Dataset(Xt, Yt[:,0]), lgb.Dataset(Xv, Yv[:,0]) lgbmodel = lgb.train(params, lgtrain, 2000, valid_sets=[lgtrain, lgval], early_stopping_rounds=100, verbose_eval=200)</span></span></code> </pre><br></div></div><br>  рдпрд╣рд╛рдВ рдкреНрд░реА-рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕рдорд╛рдЪрд╛рд░ рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЙрдиреНрд╣реЗрдВ рдмрд╛рдЬрд╛рд░ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рд╕рдВрдпреЛрдЬрди рдХрд░рдирд╛ (рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рднреЛрд▓реЗрдкрди рд╕реЗ рдХрд░ рд░рд╣рд╛ рд╣реИ, рд╕рдорд╛рдЪрд╛рд░ рдореЗрдВ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд рд╕рднреА рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ рд╕рдВрдкрддреНрддрд┐ рдХреЛрдб рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЧрдпрд╛ рд╣реИ)ред  рдореИрдВрдиреЗ рдЗрд╕ рдкреВрд░реНрд╡-рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╡рд┐рдХрд▓реНрдк рдХреЛ рдмрд╛рдж рдХреЗ рд╕рднреА рдирд┐рд░реНрдгрдпреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд┐рдпрд╛ред <br><br>  рдереЛрдбрд╝реА рд╕реБрд╡рд┐рдзрд╛ (FirstMentionSentence, marketCommentary, sentimentClass) рдЬреЛрдбрд╝рдХрд░, рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">ROC AUC рдХреЗ</a> рд╕рд╛рде рдореАрдЯреНрд░рд┐рдХ рдХреА рдЬрдЧрд╣ рд▓реЗрдиреЗ рдкрд░, рд╣рдореЗрдВ 0.65389 рдХрд╛ рд╕реНрдХреЛрд░ рдорд┐рд▓рддрд╛ рд╣реИред <br><br><h2>  рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХреА рдЯреБрдХрдбрд╝реА </h2><br>  рдЕрдЧрд▓рд╛ рд╕рдлрд▓ рдирд┐рд░реНрдгрдп рдПрдХ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдореЙрдбрд▓ рдФрд░ GBM рд╕реЗ рдорд┐рд▓рдХрд░ рдПрдХ рдкрд╣рдирд╛рд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдерд╛ (рд╣рд╛рд▓рд╛рдБрдХрд┐ "рдкрд╣рдирд╛рд╡рд╛" рджреЛ рдореЙрдбрд▓реЛрдВ рдХрд╛ рдПрдХ рдмрдбрд╝рд╛ рдирд╛рдо рд╣реИ)ред  рдкрд░рд┐рдгрд╛рдореА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рджреЛ рдореЙрдбрд▓реЛрдВ рдХреЗ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рдиреЛрдВ рдХреЗ рдФрд╕рдд рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХреА рдЬрд╛рддреА рд╣реИ, рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдирд░рдо рдорддрджрд╛рди рддрдВрддреНрд░ рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕ рдирд┐рд░реНрдгрдп рд╕реЗ рд╕реНрдХреЛрд░ 0.66879 рд╣реЛ рдЧрдпрд╛ред <br><br><h2>  рдЦреЛрдЬрдкреВрд░реНрдг рдбреЗрдЯрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдФрд░ рдлрд╝реАрдЪрд░ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ </h2><br>  EDA рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдмрд╛рдд рдереАред  рдпрд╣ рдкрдврд╝рдХрд░ рдХрд┐ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЗ рдмреАрдЪ рд╕рдВрдмрдВрдз рдХреЛ рд╕рдордЭрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рд╣рдо рдРрд╕реА рддрд╕реНрд╡реАрд░ рдмрдирд╛рддреЗ рд╣реИрдВ (рдЗрд╕ рдЦрдВрдб рдореЗрдВ рдЪрд┐рддреНрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╣реИрдВ): <br><br> <a href=""><img src="https://habrastorage.org/webt/hw/xl/b2/hwxlb2agjx113qtsyciwbeuulvk.png"></a> <br><br>  рдпрд╣рд╛рдВ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджреЗрдЦрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдмрд╛рдЬрд╛рд░ рдФрд░ рд╕рдорд╛рдЪрд╛рд░ рдбреЗрдЯрд╛ рдХреЗ рднреАрддрд░ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рд╣рд╕рдВрдмрдВрдз рдХрд╛рдлреА рдЕрдзрд┐рдХ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреЗрд╡рд▓ рд░рд┐рдЯрд░реНрди рдХреЗ рдореВрд▓реНрдп рдХрд┐рд╕реА рддрд░рд╣ рдХрдо рд╕реЗ рдХрдо рд▓рдХреНрд╖реНрдп рдореВрд▓реНрдп рдХреЗ рд╕рд╛рде рд╕рд╣рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВред  рдЪреВрдВрдХрд┐ рдбреЗрдЯрд╛ рдПрдХ рд╕рдордп рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рд▓рдХреНрд╖реНрдп рдореВрд▓реНрдп рдХреЗ рд╕реНрд╡рдд :рд╕рдВрдмрдВрдз рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рднреА рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ: <br><br> <a href=""><img src="https://habrastorage.org/webt/gg/t_/ft/ggt_ftesggo-ro3hnbohztculz0.png"></a> <br><br>  рдпрд╣ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ 10 рджрд┐рдиреЛрдВ рдХреА рдЕрд╡рдзрд┐ рдХреЗ рдмрд╛рдж, рдирд┐рд░реНрднрд░рддрд╛ рдХрд╛рдлреА рдХрдо рд╣реЛ рдЬрд╛рддреА рд╣реИред  рд╢рд╛рдпрдж рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рдЬреАрдмреАрдПрдо рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдХреЗрд╡рд▓ 10 рджрд┐рдиреЛрдВ рдХреА рджреЗрд░реА (рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдореВрд▓ рдбреЗрдЯрд╛ рд╕реЗрдЯ рдореЗрдВ рд╣реИ) рдХреЗ рд╕рд╛рде рдЦрд╛рддреЗ рдореЗрдВ рд▓реЗрддрд╛ рд╣реИред <br><br>  рдлрд╝реАрдЪрд░ рдЪрдпрди рдФрд░ рдкреНрд░реАрдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рд╕рднреА рдПрдордПрд▓ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  рдЖрдЗрдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореБрдЦреНрдп рдШрдЯрдХ</a> <abbr title="рдкреНрд░рдзрд╛рди рдШрдЯрдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг">рд╡рд┐рд╢реНрд▓реЗрд╖рдг</abbr> ( <abbr title="рдкреНрд░рдзрд╛рди рдШрдЯрдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг">PCA</abbr> ) рдирд╛рдо рдХреА рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рддрд░реАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.decomposition <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PCA <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.preprocessing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> StandardScaler market_x = market_data.loc[:,features] scaler = StandardScaler() scaler.fit(market_x) market_x = scaler.transform(market_x) pca = PCA(<span class="hljs-number"><span class="hljs-number">.95</span></span>) pca.fit(market_x) market_pca = pca.transform(market_x)</code> </pre><br>  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдкреАрд╕реАрдП рдЬреЗрдирд░реЗрдЯ рдХрд░рддрд╛ рд╣реИ рдХреНрдпрд╛ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ: <br><br> <a href=""><img src="https://habrastorage.org/webt/oh/1e/a1/oh1ea1byez3dcgjpklh-6gbzvic.png"></a> <br><br>  рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рд╡рд┐рдзрд┐ рд╣рдорд╛рд░реЗ рдбреЗрдЯрд╛ рдкрд░ рдмрд╣реБрдд рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд▓рдХреНрд╖реНрдп рдорд╛рди рдХреЗ рд╕рд╛рде рдирдИ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдЕрдВрддрд┐рдо рд╕рд╣рд╕рдВрдмрдВрдз рдЫреЛрдЯрд╛ рд╣реИред <br><br><h2>  рдареАрдХ рдЯреНрдпреВрдирд┐рдВрдЧ рдФрд░ рдХреНрдпрд╛ рдЗрд╕рдХреА рдЬрд░реВрд░рдд рд╣реИ </h2><br>  рдХрдИ рдПрдордПрд▓ рдореЙрдбрд▓ рдореЗрдВ рд╣рд╛рдЗрдкрд░рдкрд░рдореЗрдЯрд░реНрд╕ рдХреА рдПрдХ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд, рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреА "рд╕реЗрдЯрд┐рдВрдЧреНрд╕"ред  рдЙрдиреНрд╣реЗрдВ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЪреБрдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЪрдпрди рддрдВрддреНрд░ рднреА рд╣реИрдВред  рдЙрддреНрддрд░рд╛рд░реНрджреНрдз рдХреЗ рд▓рд┐рдП, рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рд╛рдЗрдкрд░реЙрдкреНрдЯ</a> рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╣реИ рдЬреЛ рджреЛ рдорд┐рд▓рд╛рди рдПрд▓реНрдЧреЛрд░рд┐рджрдо - рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдЦреЛрдЬ рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреНрд░реА-рд╕рдВрд░рдЪрд┐рдд Parzen рдЕрдиреБрдорд╛рдирдХ (TPE) рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреА рд╣реИ</a> ред  рдореИрдВрдиреЗ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд┐рдпрд╛: <br><br><ul><li>  lightgbm рдкреИрд░рд╛рдореАрдЯрд░ (рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреЗ рдкреНрд░рдХрд╛рд░, рдкрддреНрддрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛, рд╕реАрдЦрдиреЗ рдХреА рджрд░ рдФрд░ рдЕрдиреНрдп), <br></li><li>  рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдореЙрдбрд▓ ( <abbr title="рдЯреЗрдореНрдкреЛрд░рд▓ рдХрдиреНрд╡реЛрдХреЗрд╢рдирд▓ рдиреЗрдЯрд╡рд░реНрдХ">рдЯреАрд╕реАрдПрди</abbr> рдлрд┐рд▓реНрдЯрд░ рдХреА рд╕рдВрдЦреНрдпрд╛, <abbr title="рдЧреЗрдЯреЗрдб рдЖрд╡рд░реНрддрдХ рдЗрдХрд╛рдИ">рдЬреАрдЖрд░рдпреВ</abbr> рдореЗрдореЛрд░реА <abbr title="рдЧреЗрдЯреЗрдб рдЖрд╡рд░реНрддрдХ рдЗрдХрд╛рдИ">рдмреНрд▓реЙрдХреЛрдВ</abbr> рдХреА рд╕рдВрдЦреНрдпрд╛, рдбреНрд░реЙрдкрдЖрдЙрдЯ рджрд░, рд╕реАрдЦрдиреЗ рдХреА рджрд░, рд╕реЙрд▓реНрд╡рд░ рдкреНрд░рдХрд╛рд░) рдХреЗ рдкреИрд░рд╛рдореАрдЯрд░ред <br></li></ul><br>  рдирддреАрдЬрддрди, рдЗрд╕ рдЕрдиреБрдХреВрд▓рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рд╕рдорд╛рдзрд╛рдиреЛрдВ рдиреЗ рдХрдо рд╕реНрдХреЛрд░ рджрд┐рдпрд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЙрдиреНрд╣реЛрдВрдиреЗ рдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛ рдкрд░ рдмреЗрд╣рддрд░ рдХрд╛рдо рдХрд┐рдпрд╛ред  рд╢рд╛рдпрдж, рдХрд╛рд░рдг рдЗрд╕ рддрдереНрдп рдореЗрдВ рдирд┐рд╣рд┐рдд рд╣реИ рдХрд┐ рдЬрд┐рд╕ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рд╕реНрдХреЛрд░ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╡рд╣ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рд╕реЗ рдЪрдпрдирд┐рдд рд╕рддреНрдпрд╛рдкрди рдбреЗрдЯрд╛ рдХреЗ рд╕рдорд╛рди рдирд╣реАрдВ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЗрд╕ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП, рдареАрдХ рдЯреНрдпреВрдирд┐рдВрдЧ рдмрд╣реБрдд рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдореЙрдбрд▓ рдХреЛ рдкреАрдЫреЗ рд╣рдЯрд╛рдиреЗ рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИред <br><br><h2>  рдЕрдВрддрд┐рдо рдирд┐рд░реНрдгрдп </h2><br>  рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХреЗ рдирд┐рдпрдореЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдкреНрд░рддрд┐рднрд╛рдЧреА рдЕрдВрддрд┐рдо рдЪрд░рдг рдХреЗ рд▓рд┐рдП рджреЛ рд╕рдорд╛рдзрд╛рди рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВред  рдореЗрд░реЗ рдЕрдВрддрд┐рдо рдирд┐рд░реНрдгрдп рд▓рдЧрднрдЧ рд╕рдорд╛рди рд╣реИрдВ рдФрд░ рдЗрд╕рдореЗрдВ рджреЛ рдореЙрдбрд▓ - <abbr title="рдЧреНрд░реИрдбрд┐рдПрдВрдЯ рдмреВрд╕реНрдЯрд┐рдВрдЧ рдорд╢реАрди">GBM</abbr> рдФрд░ рдмрд╣реБрдкрд░рдд <abbr title="рдЧреЗрдЯреЗрдб рдЖрд╡рд░реНрддрдХ рдЗрдХрд╛рдИ">GRU рдХрд╛ рдПрдХ рд╕рдВрдпреЛрдЬрди рд╣реИ</abbr> ред  рдЕрдВрддрд░ рдХреЗрд╡рд▓ рдЗрддрдирд╛ рд╣реИ рдХрд┐ рдПрдХ рд╕рдорд╛рдзрд╛рди рд╕рдорд╛рдЪрд╛рд░ рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рджреВрд╕рд░рд╛ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдореЙрдбрд▓ рдХреЗ рд▓рд┐рдПред <br><br>  рд╕рдорд╛рдЪрд╛рд░ рдбреЗрдЯрд╛ рд╕рдорд╛рдзрд╛рди: <br><br><img src="https://habrastorage.org/webt/lq/ql/g7/lqqlg7lzgqnkhjuvlakbvtwcmks.png"><br><div class="spoiler">  <b class="spoiler_title">рдЖрдпрд╛рдд</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> itertools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> functools <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kaggle.competitions <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> twosigmanews <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.preprocessing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> StandardScaler, LabelEncoder <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tensorflow <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tf <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Sequential, Model <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.layers <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Dense, GRU, LSTM, Conv1D, Reshape, Flatten, SpatialDropout1D, Lambda, Input, Average <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.optimizers <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Adam, SGD, RMSprop <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> losses <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ls <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> activations <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> act <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> keras.backend <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> K <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lightgbm <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> lgb</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">рдбреЗрдЯрд╛ рдкреНрд░реАрдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># fix random from numpy.random import seed seed(42) from tensorflow import set_random_seed set_random_seed(42) env = twosigmanews.make_env() (market_train_df, news_train_df) = env.get_training_data() def cleanData(market_data, news_data):   market_data = market_data[(market_data['returnsOpenNextMktres10'] &lt;= 1) &amp; (market_data['returnsOpenNextMktres10'] &gt;= -1)]   return market_data, news_data def prepareData(marketdf, newsdf, scaler=None):   print('Preparing data...')     print('...preparing features...')   marketdf = marketdf.copy()   newsdf = newsdf.copy()   # a bit of feature engineering   marketdf['time'] = marketdf.time.dt.strftime("%Y%m%d").astype(int)   marketdf['bartrend'] = marketdf['close'] / marketdf['open']   marketdf['average'] = (marketdf['close'] + marketdf['open'])/2   marketdf['pricevolume'] = marketdf['volume'] * marketdf['close']     newsdf['time'] = newsdf.time.dt.strftime("%Y%m%d").astype(int)   newsdf['position'] = newsdf['firstMentionSentence'] / newsdf['sentenceCount']   newsdf['coverage'] = newsdf['sentimentWordCount'] / newsdf['wordCount']   # filter pre-2012 data, no particular reason   marketdf = marketdf.loc[marketdf['time'] &gt; 20120000]     # get rid of extra junk from news data   droplist = ['sourceTimestamp','firstCreated','sourceId','headline','takeSequence','provider',               'sentenceCount','bodySize','headlineTag', 'subjects','audiences',               'assetName', 'wordCount','sentimentWordCount', 'companyCount',                'coverage']   newsdf.drop(droplist, axis=1, inplace=True)   marketdf.drop(['assetName', 'volume'], axis=1, inplace=True)     # unstack news   newsdf['assetCodes'] = newsdf['assetCodes'].apply(lambda x: x[1:-1].replace("'", ""))   codes = []   indices = []   for i, values in newsdf['assetCodes'].iteritems():       explode = values.split(", ")       codes.extend(explode)       repeat_index = [int(i)]*len(explode)       indices.extend(repeat_index)   index_df = p.DataFrame({'news_index': indices, 'assetCode': codes})   newsdf['news_index'] = newsdf.index.copy()   # Merge news on unstacked assets   news_unstack = index_df.merge(newsdf, how='left', on='news_index')   news_unstack.drop(['news_index', 'assetCodes'], axis=1, inplace=True)     # combine multiple news reports for same assets on same day   newsgp = news_unstack.groupby(['time','assetCode'], sort=False).aggregate(np.mean).reset_index()     # join news reports to market data, note many assets will have many days without news data   res = p.merge(marketdf, newsgp, how='left', on=['time', 'assetCode'], copy=False) #, right_on=['time', 'assetCodes'])   res.marketCommentary = res.marketCommentary.astype(float)     targetcol = 'returnsOpenNextMktres10'   target_presented = targetcol in res.columns   features = [col for col in res.columns if col not in ['time', 'assetCode', 'universe', targetcol]]     print('...scaling...')   if(scaler == None):       scaler = StandardScaler()       scaler = scaler.fit(res[features])   res[features] = scaler.transform(res[features])   print('...done.')   return type('', (object,), {       'scaler': scaler,       'data': res,       'x': res[features],       'y': (res[targetcol] &gt; 0).astype(int).values if target_presented else None,       'features': features,       'samples': len(res),       'assets': res['assetCode'].unique(),       'target_presented': target_presented   }) def generateTimeSeries(data, n_timesteps=1):     data.data[data.features] = data.data[data.features].fillna(data.data[data.features].mean())   #data.data[data.features] = data.data[data.features].fillna(0)   assets = data.data.groupby('assetCode', sort=False)     def grouper(n, iterable):       it = iter(iterable)       while True:          chunk = list(itertools.islice(it, n))          if not chunk:              return          yield chunk     def sample_generator():       while True:           for assetCode, days in assets:               x = days[data.features].values               y = (days['returnsOpenNextMktres10'] &gt; 0).astype(int).values if data.target_presented else None               for i in range(0, len(days) - n_timesteps + 1):                   yield (x[i: i + n_timesteps], y[i + n_timesteps - 1] if data.target_presented else 0)     def batch_generator(batch_size):       for batch in grouper(batch_size, sample_generator()):           yield tuple([np.array(t) for t in zip(*batch)])     n_samples = functools.reduce(lambda x,y : x + y, map(lambda t : 0 if len(t[1]) + 1 &lt;= n_timesteps else len(t[1]) - n_timesteps + 1, assets))   return type('', (object,), {       'gen': batch_generator,       'timesteps': n_timesteps,       'features': len(data.features),       'samples': n_samples,       'assets': list(map(lambda x: x[0], filter(lambda t : len(t[1]) + 1 &gt; n_timesteps, assets)))   })</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдореЙрдбрд▓</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildRNN</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(timesteps, features)</span></span></span><span class="hljs-function">:</span></span>   i = Input(shape=(timesteps, features))   x1 = Lambda(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[:,:,:<span class="hljs-number"><span class="hljs-number">13</span></span>])(i)   x1 = Conv1D(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>, padding=<span class="hljs-string"><span class="hljs-string">'valid'</span></span>)(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>)(x1)   x1 = Dense(<span class="hljs-number"><span class="hljs-number">1</span></span>, activation=act.sigmoid)(x1)   x2 = Lambda(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[:,:,<span class="hljs-number"><span class="hljs-number">13</span></span>:])(i)   x2 = Conv1D(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>, padding=<span class="hljs-string"><span class="hljs-string">'valid'</span></span>)(x2)   x2 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x2)   x2 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x2)   x2 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x2)   x2 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>)(x2)   x2 = Dense(<span class="hljs-number"><span class="hljs-number">1</span></span>, activation=act.sigmoid)(x2)   x = Average()([x1, x2])   model = Model(inputs=i, outputs=x)   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> model <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">train_model_time_series</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(model, data, val_data=None)</span></span></span><span class="hljs-function">:</span></span>   print(<span class="hljs-string"><span class="hljs-string">'Building model...'</span></span>)   batch_size = <span class="hljs-number"><span class="hljs-number">4096</span></span>     optimizer = RMSprop()     <span class="hljs-comment"><span class="hljs-comment"># define roc_callback, inspired by https://github.com/keras-team/keras/issues/6050#issuecomment-329996505   def auc_roc(y_true, y_pred):       value, update_op = tf.metrics.auc(y_true, y_pred)       metric_vars = [i for i in tf.local_variables() if 'auc_roc' in i.name.split('/')[1]]       for v in metric_vars:           tf.add_to_collection(tf.GraphKeys.GLOBAL_VARIABLES, v)       with tf.control_dependencies([update_op]):           value = tf.identity(value)           return value     model.compile(loss=ls.binary_crossentropy, optimizer=optimizer, metrics=['binary_accuracy', auc_roc])     print(model.summary())     print('Training model...')     if(val_data == None):       model.fit_generator(data.gen(batch_size),           epochs=8,           steps_per_epoch=int(data.samples / batch_size),           verbose=1)   else:       model.fit_generator(data.gen(batch_size),           epochs=8,           steps_per_epoch=int(data.samples / batch_size),           validation_data=val_data.gen(batch_size),           validation_steps=int(val_data.samples / batch_size),           verbose=1)   return type('', (object,), {       'predict': lambda x: model.predict_generator(x, steps=1)   })</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">GBM рдореЙрдбрд▓</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">train_model</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data, val_data=None)</span></span></span><span class="hljs-function">:</span></span>   print(<span class="hljs-string"><span class="hljs-string">'Building model...'</span></span>)     params = {       <span class="hljs-string"><span class="hljs-string">"objective"</span></span> : <span class="hljs-string"><span class="hljs-string">"binary"</span></span>,       <span class="hljs-string"><span class="hljs-string">"metric"</span></span> : <span class="hljs-string"><span class="hljs-string">"auc"</span></span>,       <span class="hljs-string"><span class="hljs-string">"num_leaves"</span></span> : <span class="hljs-number"><span class="hljs-number">60</span></span>,       <span class="hljs-string"><span class="hljs-string">"max_depth"</span></span>: <span class="hljs-number"><span class="hljs-number">-1</span></span>,       <span class="hljs-string"><span class="hljs-string">"learning_rate"</span></span> : <span class="hljs-number"><span class="hljs-number">0.01</span></span>,       <span class="hljs-string"><span class="hljs-string">"bagging_fraction"</span></span> : <span class="hljs-number"><span class="hljs-number">0.9</span></span>,  <span class="hljs-comment"><span class="hljs-comment"># subsample       "feature_fraction" : 0.9,  # colsample_bytree       "bagging_freq" : 5,        # subsample_freq       "bagging_seed" : 2018,       "verbosity" : -1 }     ds, val_ds = lgb.Dataset(data.x.iloc[:,:13], data.y), lgb.Dataset(val_data.x.iloc[:,:13], val_data.y)   print('...training...')   model = lgb.train(params, ds, 2000, valid_sets=[ds, val_ds], early_stopping_rounds=100, verbose_eval=100)   print('...done.')     return type('', (object,), {       'model': model,       'predict': lambda x: model.predict(x.iloc[:,:13], num_iteration=model.best_iteration)   })</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">рдЯреНрд░реЗрдирд┐рдВрдЧ</b> <div class="spoiler_text"><pre> <code class="python hljs">n_timesteps = <span class="hljs-number"><span class="hljs-number">30</span></span> market_data, news_data = cleanData(market_train_df, news_train_df) dates = market_data[<span class="hljs-string"><span class="hljs-string">'time'</span></span>].unique() train = range(len(dates))[:int(<span class="hljs-number"><span class="hljs-number">0.85</span></span>*len(dates))] val = range(len(dates))[int(<span class="hljs-number"><span class="hljs-number">0.85</span></span>*len(dates)):] train_data_prepared = prepareData(market_data.loc[market_data[<span class="hljs-string"><span class="hljs-string">'time'</span></span>].isin(dates[train])], news_data.loc[news_data[<span class="hljs-string"><span class="hljs-string">'time'</span></span>] &lt;= max(dates[train])]) val_data_prepared = prepareData(market_data.loc[market_data[<span class="hljs-string"><span class="hljs-string">'time'</span></span>].isin(dates[val])], news_data.loc[news_data[<span class="hljs-string"><span class="hljs-string">'time'</span></span>] &gt; max(dates[train])], scaler=train_data_prepared.scaler) model_gbm = train_model(train_data_prepared, val_data_prepared) train_data_ts = generateTimeSeries(train_data_prepared, n_timesteps=n_timesteps) val_data_ts = generateTimeSeries(val_data_prepared, n_timesteps=n_timesteps) rnn = buildRNN(train_data_ts.timesteps, train_data_ts.features) model_rnn = train_model_time_series(rnn, train_data_ts, val_data_ts)</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">make_predictions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data, template, model)</span></span></span><span class="hljs-function">:</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(hasattr(data, <span class="hljs-string"><span class="hljs-string">'gen'</span></span>)):       prediction = (model.predict(data.gen(data.samples)) * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>)[:,<span class="hljs-number"><span class="hljs-number">-1</span></span>]   <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:       prediction = model.predict(data.x) * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>   predsdf = p.DataFrame({<span class="hljs-string"><span class="hljs-string">'ast'</span></span>:data.assets,<span class="hljs-string"><span class="hljs-string">'conf'</span></span>:prediction})   template[<span class="hljs-string"><span class="hljs-string">'confidenceValue'</span></span>][template[<span class="hljs-string"><span class="hljs-string">'assetCode'</span></span>].isin(predsdf.ast)] = predsdf[<span class="hljs-string"><span class="hljs-string">'conf'</span></span>].values   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> template day = <span class="hljs-number"><span class="hljs-number">1</span></span> days_data = p.DataFrame({}) days_data_len = [] days_data_n = p.DataFrame({}) days_data_n_len = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (market_obs_df, news_obs_df, predictions_template_df) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> env.get_prediction_days():   print(<span class="hljs-string"><span class="hljs-string">f'Predicting day </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{day}</span></span></span><span class="hljs-string">'</span></span>)   days_data = p.concat([days_data, market_obs_df], ignore_index=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, copy=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, sort=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>)   days_data_len.append(len(market_obs_df))   days_data_n = p.concat([days_data_n, news_obs_df], ignore_index=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, copy=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, sort=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>)   days_data_n_len.append(len(news_obs_df))   data = prepareData(market_obs_df, news_obs_df, scaler=train_data_prepared.scaler)   predictions_df = make_predictions(data, predictions_template_df.copy(), model_gbm)   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(day &gt;= n_timesteps):       data = prepareData(days_data, days_data_n, scaler=train_data_prepared.scaler)       data = generateTimeSeries(data, n_timesteps=n_timesteps)       predictions_df_s = make_predictions(data, predictions_template_df.copy(), model_rnn)       predictions_df[<span class="hljs-string"><span class="hljs-string">'confidenceValue'</span></span>] = (predictions_df[<span class="hljs-string"><span class="hljs-string">'confidenceValue'</span></span>] + predictions_df_s[<span class="hljs-string"><span class="hljs-string">'confidenceValue'</span></span>]) / <span class="hljs-number"><span class="hljs-number">2</span></span>       days_data = days_data[days_data_len[<span class="hljs-number"><span class="hljs-number">0</span></span>]:]       days_data_n = days_data_n[days_data_n_len[<span class="hljs-number"><span class="hljs-number">0</span></span>]:]       days_data_len = days_data_len[<span class="hljs-number"><span class="hljs-number">1</span></span>:]       days_data_n_len = days_data_n_len[<span class="hljs-number"><span class="hljs-number">1</span></span>:]   env.predict(predictions_df)   day += <span class="hljs-number"><span class="hljs-number">1</span></span> env.write_submission_file()</code> </pre><br></div></div><br>  рд╕рдорд╛рдЪрд╛рд░ рдбреЗрдЯрд╛ рдХреЗ рдмрд┐рдирд╛ рд╕рдорд╛рдзрд╛рди: <br><br><img src="https://habrastorage.org/webt/m8/vr/05/m8vr05gvobi5ffv6qrb5rz0zzqq.png"><br><br><div class="spoiler">  <b class="spoiler_title">рдХреЛрдб (рдХреЗрд╡рд▓ рдПрдХ рдЕрд▓рдЧ рд╡рд┐рдзрд┐)</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildRNN</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(timesteps, features)</span></span></span><span class="hljs-function">:</span></span>   i = Input(shape=(timesteps, features))   x1 = Lambda(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[:,:,:<span class="hljs-number"><span class="hljs-number">13</span></span>])(i)   x1 = Conv1D(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>, padding=<span class="hljs-string"><span class="hljs-string">'valid'</span></span>)(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>)(x1)   x1 = Dense(<span class="hljs-number"><span class="hljs-number">1</span></span>, activation=act.sigmoid)(x1)   model = Model(inputs=i, outputs=x1)   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> model</code> </pre><br></div></div><br>  рджреЛрдиреЛрдВ рдирд┐рд░реНрдгрдпреЛрдВ рдиреЗ рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХреЗ рдкрд╣рд▓реЗ рдЪрд░рдг рдореЗрдВ рдПрдХ рд╕рдорд╛рди рдкрд░рд┐рдгрд╛рдо (рд▓рдЧрднрдЧ 0.69) рджрд┐рдпрд╛, рдЬреЛ 2,927 рд╕реНрдерд╛рдиреЛрдВ рдореЗрдВ рд╕реЗ 566 рдХреЗ рдЕрдиреБрд░реВрдк рдерд╛ред рдирдП рдбреЗрдЯрд╛ рдХреЗ рдкрд╣рд▓реЗ рдорд╣реАрдиреЗ рдХреЗ рдмрд╛рдж, рдкреНрд░рддрд┐рднрд╛рдЧрд┐рдпреЛрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ рдкрджреЛрдВ рдХреЛ рдордЬрдмреВрддреА рд╕реЗ рдорд┐рд▓рд╛рдпрд╛ рдЧрдпрд╛, рдФрд░ 3.69251 рдкрд░рд┐рдгрд╛рдо рдХреЗ рд╕рд╛рде рд╢реЗрд╖ 697 рдЯреАрдореЛрдВ рд╕реЗ 65 рд╡реЗрдВ рд╕реНрдерд╛рди рдкрд░ рд╕рдорд╛рдЪрд╛рд░ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рд╕рдорд╛рдзрд╛рди рдХрд┐рдпрд╛ рдЧрдпрд╛ред рдФрд░ рдЕрдЧрд▓реЗ рдкрд╛рдВрдЪ рдорд╣реАрдиреЛрдВ рдореЗрдВ рдХреНрдпрд╛ рд╣реЛрдЧрд╛, рдХреЛрдИ рдирд╣реАрдВ рдЬрд╛рдирддрд╛ред <br><br><h2>  рдореИрдВрдиреЗ рдФрд░ рдХреНрдпрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд┐рдпрд╛? </h2><br><h3>  рдХрд╕реНрдЯрдо рдореЗрдЯреНрд░рд┐рдХреНрд╕ </h3><br>  рдЪреВрдБрдХрд┐ рдирд┐рд░реНрдгрдпреЛрдВ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рд╢рд╛рд░реНрдк рдЕрдиреБрдкрд╛рдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреА рд╕рдорд╛рдкреНрддрд┐ рдХреЗ рд▓рд┐рдП рдореАрдЯреНрд░рд┐рдХ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рдирд╛ рддрд░реНрдХрд╕рдВрдЧрдд рд╣реИред <br><br>  рд▓рд╛рдЗрдЯрдмреИрдо рдХреЗ рд▓рд┐рдП рдореАрдЯреНрд░рд┐рдХ: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sharpe_metric</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(y_pred, train_data)</span></span></span><span class="hljs-function">:</span></span> y_true = train_data.get_label() * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span> std = np.std(y_true * y_pred) mean = np.mean(y_true * y_pred) sharpe = np.divide(mean, std, out=np.zeros_like(mean), where=std!=<span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"sharpe"</span></span>, sharpe, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre><br>  рд╕рддреНрдпрд╛рдкрди рд╕реЗ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдЗрд╕ рддрд░рд╣ рдХреА рдореАрдЯреНрд░рд┐рдХ рдПрдпреВрд╕реА рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдореЗрдВ рдмрджрддрд░ рдХрд╛рдо рдХрд░рддреА рд╣реИред <br><br><h3>  рдзреНрдпрд╛рди рдХрд╛ рддрдВрддреНрд░ </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдзреНрдпрд╛рди рддрдВрддреНрд░</a> рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рд╕реНрд░реЛрдд рдбреЗрдЯрд╛ рдореЗрдВ "рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг" рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рддрдХрдиреАрдХреА рд░реВрдк рд╕реЗ, рдзреНрдпрд╛рди рдХреЛ рд╡реЗрдЯ рдХреЗ рдПрдХ рд╡реЗрдХреНрдЯрд░ рджреНрд╡рд╛рд░рд╛ рджрд░реНрд╢рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реЙрдлреНрдЯрдореИрдХреНрд╕</a> рд╕рдХреНрд░рд┐рдпрдг рдХреЗ рд╕рд╛рде рдПрдХ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЬреБрдбрд╝реЗ рдкрд░рдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ), рдЬреЛ рдПрдХ рдФрд░ рдкрд░рдд рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рд╕реЗ рдЧреБрдгрд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдореИрдВрдиреЗ рдПрдХ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд┐рд╕рдореЗрдВ рд╕рдордп рдЕрдХреНрд╖ рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildRNN</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(timesteps, features)</span></span></span><span class="hljs-function">:</span></span>     <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">attention_3d_block</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inputs)</span></span></span><span class="hljs-function">:</span></span>       a = Permute((<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>))(inputs)       a = Dense(timesteps, activation=act.softmax)(a)       a = Permute((<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>))(a)       mul = Multiply()([inputs, a])       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mul     i = Input(shape=(timesteps, features))   x1 = Lambda(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x[:,:,:<span class="hljs-number"><span class="hljs-number">13</span></span>])(i)   x1 = Conv1D(<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>, padding=<span class="hljs-string"><span class="hljs-string">'valid'</span></span>)(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x1)   x1 = attention_3d_block(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x1)   x1 = attention_3d_block(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>, return_sequences=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)(x1)   x1 = attention_3d_block(x1)   x1 = GRU(<span class="hljs-number"><span class="hljs-number">10</span></span>)(x1)   x1 = Dense(<span class="hljs-number"><span class="hljs-number">1</span></span>, activation=act.sigmoid)(x1)   model = Model(inputs=i, outputs=x1)   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> model</code> </pre><br>  рдпрд╣ рдореЙрдбрд▓ рдмрд╣реБрдд рд╕реБрдВрджрд░ рджрд┐рдЦрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдиреЗ рд╕реНрдХреЛрд░ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдирд╣реАрдВ рдХреА, рдпрд╣ рд▓рдЧрднрдЧ 0.67 рдирд┐рдХрд▓рд╛ред <br><br><h2>  рдХреНрдпрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордп рдирд╣реАрдВ рдерд╛ </h2><br>  рдХрдИ рдХреНрд╖реЗрддреНрд░ рдЬреЛ рдЖрд╢рд╛рдЬрдирдХ рджрд┐рдЦрддреЗ рд╣реИрдВ: <br><br><ul><li>  рдЕрдзрд┐рдХ рд╡рд┐рд╢реЗрд╖ рд░реВрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реЗ рдзреНрдпрд╛рди</a> рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рддрдВрддреНрд░ рдХреЗ</a> рд╕рд╛рде рд╕реМрджрд╛, <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдСрдЯреЛ рдПрдирдХреЛрдбрд░</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджреЗрдЦреЗрдВ, <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдСрдирд▓рд╛рдЗрди рд╕реАрдЦрдиреЗ рдХрд╛</a> рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ <br></li><li>  рд╕рдорд╛рдЪрд╛рд░ рдФрд░ рдмрд╛рдЬрд╛рд░ рдбреЗрдЯрд╛ рдХреЗ рдПрдХреАрдХрд░рдг рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдкреВрд░реНрд╡-рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╕рдорд╛рдЪрд╛рд░ рдХреЗ рд╕рд╛рде рд╕рд╛рд╡рдзрд╛рдиреАрдкреВрд░реНрд╡рдХ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд░реЗрдВред <br></li></ul><br><h2>  рдирд┐рд╖реНрдХрд░реНрд╖ </h2><br>  рд╣рдорд╛рд░рд╛ рд░реЛрдорд╛рдВрдЪ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдпрд╛ рд╣реИ, рдЖрдк рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдмрддрд╛рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдХрдард┐рди рд╣реЛ рдЧрдИ, рд▓реЗрдХрд┐рди рд╣рдо рдЧрдВрджрдЧреА рдХрд╛ рд╕рд╛рдордирд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХреЗред  рдпрд╣ рд╕рдВрдХреЗрдд рджреЗрддрд╛ рд╣реИ рдХрд┐ рдПрдордПрд▓ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдХреА рд╕реАрдорд╛ рдЗрддрдиреА рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди, рдЬреИрд╕рд╛ рдХрд┐ рдХрд┐рд╕реА рднреА рд╡реНрдпрд╡рд╕рд╛рдп рдореЗрдВ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬрд╛рджреВ (рдФрд░ рдорд╢реАрди рд╕реАрдЦрдиреЗ рдореЗрдВ рдмрд╣реБрдд рд╣реИ) рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкреЗрд╢реЗрд╡рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реИред <br><br>  рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдкрд░рд┐рдгрд╛рдо: <br><br><ul><li>  рдкрд╣рд▓реЗ рдЪрд░рдг рдореЗрдВ рдЕрдзрд┐рдХрддрдо рд╕реНрдХреЛрд░: ~ 0.69 рдХреЗ рдЦрд┐рд▓рд╛рдл рдкрд╣рд▓реЗ рд╕реНрдерд╛рди рдкрд░ 1.5ред  рдЕрд╕реНрдкрддрд╛рд▓ рдХреЗ рд▓рд┐рдП рдФрд╕рдд рдХреА рддрд░рд╣ рдХреБрдЫ, 0.7 рдХреЗ рдореВрд▓реНрдп рдХреЛ рдХреБрдЫ рд╕реЗ рджреВрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдирд┐рд░реНрдгрдп рдХрд╛ рдЕрдзрд┐рдХрддрдо рд╕реНрдХреЛрд░ рднреА ~ 0.69 рдерд╛, рдореЗрд░реА рддреБрд▓рдирд╛ рдореЗрдВ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХред <br></li><li>  рдкрд╣рд▓реЗ рдЪрд░рдг рдореЗрдВ рд░рдЦреЗрдВ: 2927 рдореЗрдВ рд╕реЗ 566ред <br></li><li>  рджреВрд╕рд░реЗ рдЪрд░рдг рдореЗрдВ рд╕реНрдХреЛрд░: рдкрд╣рд▓реЗ рдорд╣реАрдиреЗ рдХреЗ рдмрд╛рдж 3.19251ред <br></li><li>  рджреВрд╕рд░реЗ рдЪрд░рдг рдореЗрдВ рд░рдЦреЗрдВ: рдкрд╣рд▓реЗ рдорд╣реАрдиреЗ рдХреЗ рдмрд╛рдж 697 рдореЗрдВ рд╕реЗ 65ред <br></li></ul><br>  рдореИрдВ рдЗрд╕ рддрдереНрдп рдкрд░ рдЖрдкрдХрд╛ рдзреНрдпрд╛рди рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реВрдВ рдХрд┐ рджреВрд╕рд░реЗ рдЪрд░рдг рдореЗрдВ рд╕рдВрдЦреНрдпрд╛рдПрдВ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдХрд┐рд╕реА рднреА рдЪреАрдЬ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдирд╣реАрдВ рдХрд░ рд░рд╣реА рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдирд┐рд░реНрдгрдпреЛрдВ рдХреЗ рдЧреБрдгрд╛рддреНрдордХ рдореВрд▓реНрдпрд╛рдВрдХрди рдХреЗ рд▓рд┐рдП рдЕрднреА рднреА рдмрд╣реБрдд рдХрдо рдбреЗрдЯрд╛ рд╣реИред <br><br><h2>  рд╕рдВрджрд░реНрдн </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рдорд╛рдЪрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдЕрдВрддрд┐рдо рд╕рдорд╛рдзрд╛рди</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджреЛ рд╕рд┐рдЧреНрдорд╛: рд╕рдорд╛рдЪрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрдЯреЙрдХ рдЖрдВрджреЛрд▓рдиреЛрдВ рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП</a> - рдкреНрд░рддрд┐рдпреЛрдЧрд┐рддрд╛ рдкреГрд╖реНрда <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЗрд░рд╕</a> - рддрдВрддреНрд░рд┐рдХрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдиреЗрдЯрд╡рд░реНрдХ рдлреНрд░реЗрдорд╡рд░реНрдХ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд╛рдЗрдЯ</a> рдЬреАрдмреАрдПрдо - рдЬреАрдмреАрдПрдо рдлреНрд░реЗрдорд╡рд░реНрдХ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдХрд┐рдХрд┐рдЯ-рд▓рд░реНрди</a> - рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рд▓рд╛рдЗрдмреНрд░реЗрд░реА <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рд╛рдЗрдкрд░реЙрдкреНрдЯ</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рд╛рдЗрдкрд░рдкрд░рдореЗрдЯрд░реНрд╕</a> рдХреЗ рдЕрдиреБрдХреВрд▓рди рдХреЗ рд▓рд┐рдП рдкреБрд╕реНрддрдХрд╛рд▓рдп <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡реЗрд╡рдиреЗрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд▓реЗрдЦ</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi440026/">https://habr.com/ru/post/hi440026/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi440016/index.html">рдЬрдм рд░реАрдбрд┐рдВрдЧ рдХреЛ рдЫреБрдЖ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: ONYX BOOX рдореЛрдВрдЯреЗ рдХреНрд░рд┐рд╕реНрдЯреЛ 4 рд╕рдореАрдХреНрд╖рд╛</a></li>
<li><a href="../hi440018/index.html">рдЧрддрд┐рд╢реАрд▓ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рджрд░реНрд╢рди</a></li>
<li><a href="../hi440020/index.html">рдкрд░реАрдХреНрд╖рдг рдореЗрдВ рдкреНрд░рддрд┐рдЧрдорди рдпрд╛ рдкреНрд░рддрд┐рдЧрдорди</a></li>
<li><a href="../hi440022/index.html">рдереЛрдбрд╝рд╛ рдлреЗрд░рд╛рд░реА: рдлрд┐рдирдЯреЗрдХ-рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рд░реИрд▓реА рдЖрд░рдбреА рдЖрдкрдХреЛ рджреБрд░реНрд▓рдн рдХрд╛рд░реЛрдВ рдХреЗ "рд╢реЗрдпрд░" рдЦрд░реАрджрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛</a></li>
<li><a href="../hi440024/index.html">STM32 рд╕реЗ Qt рдХреНрд░рд┐рдПрдЯрд░ рдХрдВрд╕реЛрд▓ рдкрд░ рд░реАрдбрд╛рдпрд░реЗрдХреНрдЯ рдкреНрд░рд┐рдВрдЯрдл ()</a></li>
<li><a href="../hi440030/index.html">рдкрд┐рдирдкреЙрдЗрдВрдЯ рдкреАрдХреЗрдПрдЪ рд╡рд╛рдпрд░рдЧрд╛рд░реНрдб рдФрд░ рдбреАрдПрдирдПрд╕ рдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рд╛рде рдПрдХ рдУрдкрдирд╡рд╛рд░реНрдЯ рд░рд╛рдЙрдЯрд░ рдкрд░ рдмреНрд▓реЙрдХ рдХрд░ рд░рд╣рд╛ рд╣реИ</a></li>
<li><a href="../hi440032/index.html">рдЖрд░реНрдЯрд┐рдлрд┐рд╢рд┐рдпрд▓ рдЗрдВрдЯреЗрд▓рд┐рдЬреЗрдВрд╕ рдХреНрд╖рд┐рддрд┐рдЬ рдЬреАрд░реЛ рдбреЙрди</a></li>
<li><a href="../hi440034/index.html">рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдЪреБрдВрдмрдиред рдорд╛рдЗрдХреНрд░реЛ рд╕рд░реНрд╡рд┐рд╕ рд╕реЗ рд▓реЗрдХрд░ рдореЛрдиреЛрд▓рд┐рде рддрдХ</a></li>
<li><a href="../hi440036/index.html">рдЯрдЪ рдЯрд╛рдЗрдкрд┐рдВрдЧ</a></li>
<li><a href="../hi440040/index.html">рд╡рд┐рдХрд╛рд╕ рдореЗрдВ - рдкреНрд░рддреНрдпреЗрдХ рд╕реНрд╡рдпрдВ рдХреЗ рд▓рд┐рдПред рд▓реЗрдХрд┐рди рдХрднреА-рдХрднреА рдпрд╣ рдПрдХ рдореГрдд рдЕрдВрдд рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИред</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>