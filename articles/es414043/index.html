<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóìÔ∏è üêû ü§ï An√°lisis de tablas de enrutamiento, o por qu√© un ingeniero de red de Python üë®üèª‚Äçüç≥ üôåüèæ üôáüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola habr Este es mi primer art√≠culo sobre Habr√©, y ella naci√≥ de una pregunta en uno de los foros profesionales. La pregunta parec√≠a, parafraseando u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>An√°lisis de tablas de enrutamiento, o por qu√© un ingeniero de red de Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414043/"><p>  Hola habr  Este es mi primer art√≠culo sobre Habr√©, y ella naci√≥ de una pregunta en uno de los foros profesionales.  La pregunta parec√≠a, parafraseando un poco, de la siguiente manera: </p><br><ul><li>  Hay un conjunto de archivos de texto que contienen la salida de tablas de enrutamiento de varios dispositivos de red; </li><li>  Cada archivo contiene informaci√≥n de un dispositivo; </li><li>  Los dispositivos pueden tener un formato de salida diferente para la tabla de enrutamiento; </li><li>  Seg√∫n los datos disponibles, previa solicitud, es necesario mostrar la ruta a una subred o direcci√≥n IP arbitraria de cada uno de los dispositivos; </li><li>  La salida debe incluir en cada secci√≥n de la informaci√≥n de ruta sobre la entrada de la tabla de enrutamiento, a lo largo del cual se enrutar√° el paquete. </li></ul><br><p>  Encontr√© la tarea interesante y me hice eco de una de mis propias utilidades de red, planeada en el futuro. Por lo tanto, en una tarde libre, pensando en su soluci√≥n, escrib√≠ una implementaci√≥n de prueba de concepto en Python 2.7 para el formato Cisco IOS, IOS-XE y ASA, que cumple requisitos b√°sicos </p><br><p>  En el art√≠culo intentar√© reproducir el tren de pensamiento y comentar los puntos principales. <br>  El material est√° destinado a personas que ya est√°n fundamentalmente familiarizadas con los conceptos b√°sicos de redes y Python. <br>  Todos los interesados ‚Äã‚Äãbienvenidos a cat! </p><a name="habracut"></a><br><h3>  Descargo de responsabilidad </h3><br><p>  El autor del art√≠culo, siendo ingeniero de redes, no es un desarrollador profesional. <del>  y puede que a√∫n no sepa la diferencia entre una interfaz y una clase abstracta </del>  pero siempre abierto a cr√≠ticas constructivas y comentarios.  Comentarios sobre el c√≥digo, enfoques seleccionados y algoritmos de colegas m√°s experimentados son bienvenidos. </p><br><p>  Todo el c√≥digo en este art√≠culo se distribuye bajo la licencia MIT, incluyendo  Se proporciona "tal cual" y no ofrece ning√∫n tipo de garant√≠a. </p><br><h3>  Aclaraci√≥n de las condiciones y la elecci√≥n del algoritmo de soluci√≥n. </h3><br><p>  Considerando la introducci√≥n, la tarea se puede dividir en dos partes principales: an√°lisis de archivos fuente con tablas de enrutamiento y b√∫squeda directa de la ruta utilizando datos inicializados. <br>  Tal separaci√≥n tambi√©n permitir√°, si es necesario, importar rutas desde dispositivos para buscar una ruta arbitrariamente (por ejemplo, a trav√©s de SNMP o REST API). </p><br><p>  Para mejorar el rendimiento, tiene sentido inicializar archivos una vez cuando se ejecuta el script. <br>  Un analizador de archivos debe reconocer el formato de las tablas de enrutamiento de varios sistemas operativos.  A continuaci√≥n, se considerar√° una opci√≥n para Cisco IOS, IOS-XE y ASA para IPv4.  La compatibilidad con otros formatos e IPv6 se puede agregar m√°s adelante. </p><br><p>  Como sabe, la elecci√≥n de una ruta de acuerdo con la tabla de enrutamiento se realiza de acuerdo con el principio de coincidencia con el prefijo de la mayor longitud (coincidencia de prefijo m√°s larga). <br>  Como una de las soluciones para una b√∫squeda r√°pida de dicha coincidencia, puede crear un √°rbol de prefijos a partir de los datos de origen.  Como no tenemos restricciones en dependencias externas, deteng√°monos en el m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SubnetTree</a> terminado. </p><br><p>  Es posible que haya bucles de enrutamiento en la secci√≥n de red analizada, deben detectarse y no afectar el script.  Adem√°s, en cualquiera de los nodos puede que no haya una ruta a la subred deseada.  Esto tambi√©n debe ser considerado. </p><br><p>  Si hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VRF</a> en el dispositivo, las tablas de enrutamiento de cada instancia deben almacenarse en archivos separados, ya que desde el punto de vista de la topolog√≠a son enrutadores separados. </p><br><p>  Las limitaciones en el rendimiento de iron para ejecutar el script, el n√∫mero y el tama√±o de las tablas de enrutamiento analizadas no se indican en la condici√≥n, pero debe tenerlas en cuenta. <br>  La especificidad de la aplicaci√≥n sugiere un l√≠mite promedio de 1,000,000 de entradas en la tabla de enrutamiento para un dispositivo moderno.  En un enrutador con BGP Full View a partir de junio de 2018, en realidad puede haber m√°s de 724,000 rutas. <br>  Seg√∫n una estimaci√≥n aproximada y los resultados de las pruebas para el almacenamiento y el procesamiento en memoria de cada 1,000,000 de prefijos, se requerir√°n aproximadamente 500 MB de RAM.  Por lo tanto, una estaci√≥n de trabajo de productividad promedio con 8 GB de RAM (que a√∫n tenemos en cuenta en 2018) nos permitir√° analizar la topolog√≠a con una capacidad total de hasta 14-16.000.000 de rutas.  Es decir, un segmento de aproximadamente 18-20 enrutadores con vista completa en cada uno. <br>  Para la mayor√≠a de los casos, esto es suficiente, pero para redes grandes (como el estr√©s), debe dividir el an√°lisis en segmentos o transferir la l√≥gica a una base de datos sin memoria. <br><del>  640 KB es suficiente para todos. </del>  Deteng√°monos en la versi√≥n en memoria. </p><br><h3>  Analizando archivos fuente y seleccionando estructuras de datos </h3><br><p>  Colocaremos los archivos con las tablas de enrutamiento en un subdirectorio separado y lo convertiremos en una variable: </p><br><pre><code class="python hljs">RT_DIRECTORY = <span class="hljs-string"><span class="hljs-string">"./routing_tables"</span></span></code> </pre> <br><p>  Para Cisco IOS e IOS-XE, la tabla de enrutamiento podr√≠a verse as√≠: </p><br><div class="spoiler">  <b class="spoiler_title">muestre la ruta del ip</b> <div class="spoiler_text"><pre> <code class="hljs powershell">S* <span class="hljs-number"><span class="hljs-number">0.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">10.220</span></span>.<span class="hljs-number"><span class="hljs-number">88.1</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> is variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">10.220</span></span>.<span class="hljs-number"><span class="hljs-number">88.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> is directly connected, FastEthernet4 L <span class="hljs-number"><span class="hljs-number">10.220</span></span>.<span class="hljs-number"><span class="hljs-number">88.20</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> is directly connected, FastEthernet4 <span class="hljs-number"><span class="hljs-number">1.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets S <span class="hljs-number"><span class="hljs-number">1.1</span></span>.<span class="hljs-number"><span class="hljs-number">1.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">212.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span> D EX <span class="hljs-number"><span class="hljs-number">10.1</span></span>.<span class="hljs-number"><span class="hljs-number">198.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">170</span></span>/<span class="hljs-number"><span class="hljs-number">1683712</span></span>] via <span class="hljs-number"><span class="hljs-number">172.16</span></span>.<span class="hljs-number"><span class="hljs-number">209.47</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>w2d, Vlan910 [<span class="hljs-number"><span class="hljs-number">170</span></span>/<span class="hljs-number"><span class="hljs-number">1683712</span></span>] via <span class="hljs-number"><span class="hljs-number">172.16</span></span>.<span class="hljs-number"><span class="hljs-number">60.33</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>w2d, Vlan60 [<span class="hljs-number"><span class="hljs-number">170</span></span>/<span class="hljs-number"><span class="hljs-number">1683712</span></span>] via <span class="hljs-number"><span class="hljs-number">10.25</span></span>.<span class="hljs-number"><span class="hljs-number">20.132</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>w2d, Vlan220 [<span class="hljs-number"><span class="hljs-number">170</span></span>/<span class="hljs-number"><span class="hljs-number">1683712</span></span>] via <span class="hljs-number"><span class="hljs-number">10.25</span></span>.<span class="hljs-number"><span class="hljs-number">20.9</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>w2d, Vlan20 <span class="hljs-number"><span class="hljs-number">4.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">16</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets O E2 <span class="hljs-number"><span class="hljs-number">4.4</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">20</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets D EX <span class="hljs-number"><span class="hljs-number">5.5</span></span>.<span class="hljs-number"><span class="hljs-number">5.0</span></span> [<span class="hljs-number"><span class="hljs-number">170</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">01</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">6.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">16</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets B <span class="hljs-number"><span class="hljs-number">6.6</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span> [<span class="hljs-number"><span class="hljs-number">200</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">195.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span> <span class="hljs-number"><span class="hljs-number">172.16</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">26</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets i L2 <span class="hljs-number"><span class="hljs-number">172.16</span></span>.<span class="hljs-number"><span class="hljs-number">1.0</span></span> [<span class="hljs-number"><span class="hljs-number">115</span></span>/<span class="hljs-number"><span class="hljs-number">10</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">172.20</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">3</span></span> subnets O <span class="hljs-number"><span class="hljs-number">172.20</span></span>.<span class="hljs-number"><span class="hljs-number">1.1</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">11</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> O <span class="hljs-number"><span class="hljs-number">172.20</span></span>.<span class="hljs-number"><span class="hljs-number">3.1</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">11</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> O <span class="hljs-number"><span class="hljs-number">172.20</span></span>.<span class="hljs-number"><span class="hljs-number">2.1</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">11</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> is variably subnetted, <span class="hljs-number"><span class="hljs-number">5</span></span> subnets, <span class="hljs-number"><span class="hljs-number">3</span></span> masks C <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> is directly connected, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> D <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">5.0</span></span>/<span class="hljs-number"><span class="hljs-number">26</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> D <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">5.64</span></span>/<span class="hljs-number"><span class="hljs-number">26</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> D <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">5.128</span></span>/<span class="hljs-number"><span class="hljs-number">26</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> D <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">5.192</span></span>/<span class="hljs-number"><span class="hljs-number">27</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> is subnetted, <span class="hljs-number"><span class="hljs-number">1</span></span> subnets D <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">2297856</span></span>] via <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">1.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span>, Serial0/<span class="hljs-number"><span class="hljs-number">0</span></span> O IA <span class="hljs-number"><span class="hljs-number">195.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">11</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> O E2 <span class="hljs-number"><span class="hljs-number">212.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">110</span></span>/<span class="hljs-number"><span class="hljs-number">20</span></span>] via <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.2</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span>, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span> C <span class="hljs-number"><span class="hljs-number">194.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">16</span></span> is directly connected, FastEthernet0/<span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> </div></div><br><p>  En Cisco ASA, el formato es similar, pero en lugar de las longitudes de los prefijos, la m√°scara de subred se muestra en notaci√≥n decimal: </p><br><div class="spoiler">  <b class="spoiler_title">mostrar ruta</b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 255<span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[3/0]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.86</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.194</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">outside</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">C</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.86</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.194</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 255<span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.254</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">is</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">directly</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">connected</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">outside</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">S</span></span>* 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1/0]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">via</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.86</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.194</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">outside</span></span></code> </pre> </div></div><br><p>  Como puede ver en el ejemplo, las rutas, a pesar de la gran diversidad, tienen la misma estructura predecible, lo que significa que pueden ser procesadas por expresiones regulares. <br>  Surgen dos grupos globales: rutas <em>locales + conectadas</em> y todo lo dem√°s. <br>  Para complicar un poco las cosas es la posibilidad de tener rutas de varias l√≠neas con un n√∫mero variable de las pr√≥ximas esperanzas.  Debido a esto, es problem√°tico leer el archivo para procesar l√≠nea por l√≠nea.  Una salida es procesar m√∫ltiples coincidencias con un iterador de una expresi√≥n regular en un archivo cargado completamente en una variable de texto. </p><br><p>  Escribiremos expresiones regulares teniendo en cuenta los requisitos y restricciones enumerados: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Local and Connected route strings matching. REGEXP_ROUTE_LOCAL_CONNECTED = re.compile( '^(?P&lt;routeType&gt;[L|C])\s+' + '((?P&lt;ipaddress&gt;\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)' + '\s?' + '(?P&lt;maskOrPrefixLength&gt;(\/\d\d?)?' + '|(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)?))' + '\ is\ directly\ connected\,\ ' + '(?P&lt;interface&gt;\S+)', re.MULTILINE ) # Static and dynamic route strings matching. REGEXP_ROUTE = re.compile( '^(\S\S?\*?\s?\S?\S?)' + '\s+' + '((?P&lt;subnet&gt;\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)' + '\s?' + '(?P&lt;maskOrPrefixLength&gt;(\/\d\d?)?' +'|(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)?))' + '\s*' + '(?P&lt;viaPortion&gt;(?:\n?\s+(\[\d\d?\d?\/\d+\])\s+' + 'via\s+(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)(.*)\n?)+)', re.MULTILINE )</span></span></code> </pre> <br><p>  Ambas expresiones contienen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">grupos con nombre</a> para la conveniencia de recuperar datos al buscar coincidencias y mantener el c√≥digo. <br>  En particular, de cada ruta debe obtener un prefijo ( <em>subred</em> / <em>interfaz</em> y <em>grupos maskOrPrefixLength</em> ) e informaci√≥n sobre a d√≥nde conduce (a <em>trav√©s de</em> grupos de <em>puertos</em> / <em>interfaz</em> ). </p><br><p>  Como las expresiones tienen en cuenta varias opciones para representar el prefijo, el grupo <em>maskOrPrefixLength</em> puede contener una m√°scara de subred o una longitud de prefijo.  Reduciremos esto a un solo formato durante el procesamiento; nos detendremos en la longitud del prefijo: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convert_netmask_to_prefix_length</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(mask_or_pref)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> mask_or_pref: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> re.match(<span class="hljs-string"><span class="hljs-string">"^\/\d\d?$"</span></span>, mask_or_pref): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mask_or_pref <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> re.match(<span class="hljs-string"><span class="hljs-string">"^\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?$"</span></span>, mask_or_pref): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="hljs-string"><span class="hljs-string">"/"</span></span> + str(sum([bin(int(x)).count(<span class="hljs-string"><span class="hljs-string">"1"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> mask_or_pref.split(<span class="hljs-string"><span class="hljs-string">"."</span></span>)])) ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span></code> </pre> <br><p>  Agregue expresiones regulares para el an√°lisis de l√≠nea por l√≠nea del siguiente salto desde el grupo <em>viaPortion</em> , verificando el formato de las direcciones IPv4 y la entrada del usuario: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Route string VIA portion matching. REGEXP_VIA_PORTION = re.compile( '.*via\s+(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?).*' ) # RegEx template string for IPv4 address matching. REGEXP_IPv4_STR = ( '((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))' ) # IPv4 CIDR notation matching in user input. REGEXP_INPUT_IPv4 = re.compile("^" + REGEXP_IPv4_STR + "(\/\d\d?)?$")</span></span></code> </pre> <br><p>  Ahora transferimos la representaci√≥n de nuestra red a las estructuras de datos de Python. <br>  Los prefijos resultantes del an√°lisis de las tablas de enrutamiento se utilizar√°n como claves en el √°rbol de prefijos.  El objeto del √°rbol de prefijos se hereda del m√≥dulo <em>SubnetTree</em> . <br>  El resultado de b√∫squeda por prefijo en el √°rbol devolver√° una lista de la lista de las pr√≥ximas esperanzas y una representaci√≥n textual completa de la ruta correspondiente del archivo original. <br>  Adem√°s, cree una lista de interfaces locales. <br>  Cada enrutador est√° representado por un diccionario, en el que ponemos los datos anteriores. </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Example data structures route_tree = SubnetTree.SubnetTree() route_tree['subnet'] = ((next_hop_1, next_hop_n), raw_route_string) interface_list = ((interface_1, ip_address_1), (interface_n, ip_address_n)) connected_networks = ((interface_1, subnet_1), (interface_n, subnet_n)) router = { 'routing_table': route_tree, 'interface_list': interface_list, 'connected_networks': connected_networks, }</span></span></code> </pre> <br><p>  Hacemos una solicitud a la tabla de enrutamiento en una funci√≥n separada: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">route_lookup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(destination, router)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> destination <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> router[<span class="hljs-string"><span class="hljs-string">'routing_table'</span></span>]: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> router[<span class="hljs-string"><span class="hljs-string">'routing_table'</span></span>][destination] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre> <br><p>  A cada enrutador se le asignar√° un identificador √∫nico.  Puede asignarlo de muchas maneras, en el ejemplo actual ser√° permisible y claro hacer esto en funci√≥n del nombre del archivo original. <br>  Como resultado, agregaremos los objetos de enrutador resultantes al diccionario con la clave en forma de este identificador √∫nico. </p><br><pre> <code class="python hljs">ROUTERS = { <span class="hljs-string"><span class="hljs-string">'router_id_1'</span></span>: router_1, <span class="hljs-string"><span class="hljs-string">'router_id_n'</span></span>: router_n, }</code> </pre> <br><p>  Tambi√©n necesitamos un mecanismo para buscar el siguiente enrutador por la direcci√≥n IP del siguiente salto, obtenida de la tabla de enrutamiento durante la b√∫squeda de ruta.  Para hacer esto, creamos otro √°rbol de prefijos global con claves en forma de direcciones IP de todos los enrutadores conocidos en la topolog√≠a y hojas devueltas con el identificador del enrutador y el tipo de interfaz. </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Example GLOBAL_INTERFACE_TREE = SubnetTree.SubnetTree() GLOBAL_INTERFACE_TREE['ip_address'] = (router_id, interface_type) # Returns RouterID by Interface IP address which it belongs to. def get_rid_by_interface_ip(interface_ip): if interface_ip in GLOBAL_INTERFACE_TREE: return GLOBAL_INTERFACE_TREE[interface_ip][0]</span></span></code> </pre> <br><p>  Armemos juntos el analizador para el formato IOS / IOS-XE / ASA.  En la entrada, le pasamos la tabla de enrutamiento en forma de texto, en la salida obtenemos el diccionario del enrutador en el formato especificado anteriormente. </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_show_ip_route_ios_like</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(raw_routing_table)</span></span></span><span class="hljs-function">:</span></span> router = {} route_tree = SubnetTree.SubnetTree() interface_list = [] <span class="hljs-comment"><span class="hljs-comment"># Parse Local and Connected route strings in text. for raw_route_string in REGEXP_ROUTE_LOCAL_CONNECTED.finditer(raw_routing_table): subnet = ( raw_route_string.group('ipaddress') + convert_netmask_to_prefix_length( raw_route_string.group('maskOrPrefixLength') ) ) interface = raw_route_string.group('interface') route_tree[subnet] = ((interface,), raw_route_string.group(0)) if raw_route_string.group('routeType') == 'L': interface_list.append((interface, subnet,)) if not interface_list: print('Failed to find routing table entries in given output') return None # parse static and dynamic route strings in text for raw_route_string in REGEXP_ROUTE.finditer(raw_routing_table): subnet = ( raw_route_string.group('subnet') + convert_netmask_to_prefix_length( raw_route_string.group('maskOrPrefixLength') ) ) via_portion = raw_route_string.group('viaPortion') next_hops= [] if via_portion.count('via') &gt; 1: for line in via_portion.splitlines(): if line: next_hops.append(REGEXP_VIA_PORTION.match(line).group(1)) else: next_hops.append(REGEXP_VIA_PORTION.match(via_portion).group(1)) route_tree[subnet] = (next_hops, raw_route_string.group(0)) router = { 'routing_table': route_tree, 'interface_list': interface_list, } return router</span></span></code> </pre> <br><p>  Envolvemos el analizador en otra funci√≥n para permitir la posterior adici√≥n de analizadores de otros formatos (por ejemplo, NX-OS): </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_text_routing_table</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(raw_routing_table)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" Parser functions wrapper. Add additional parsers for alternative routing table syntaxes here. """</span></span> router = parse_show_ip_route_ios_like(raw_routing_table) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> router: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> router</code> </pre> <br><p>  Entonces, queda por recorrer los archivos de texto en el directorio: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_parse_directory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rt_directory)</span></span></span><span class="hljs-function">:</span></span> new_routers = {} <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> os.path.isdir(rt_directory): print(<span class="hljs-string"><span class="hljs-string">"{} directory does not exist."</span></span>.format(rt_directory) + <span class="hljs-string"><span class="hljs-string">"Check rt_directory variable value."</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> start_time = time() print(<span class="hljs-string"><span class="hljs-string">"Initializing files..."</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> FILENAME <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> os.listdir(rt_directory): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> FILENAME.endswith(<span class="hljs-string"><span class="hljs-string">'.txt'</span></span>): file_init_start_time = time() <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(os.path.join(rt_directory, FILENAME), <span class="hljs-string"><span class="hljs-string">'r'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Opening {}'</span></span>.format(FILENAME)) raw_table = f.read() new_router = parse_text_routing_table(raw_table) router_id = FILENAME.replace(<span class="hljs-string"><span class="hljs-string">'.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> new_router: new_routers[router_id] = new_router <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> new_router[<span class="hljs-string"><span class="hljs-string">'interface_list'</span></span>]: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> iface, addr <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> new_router[<span class="hljs-string"><span class="hljs-string">'interface_list'</span></span>]: GLOBAL_INTERFACE_TREE[addr]= (router_id, iface,) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Failed to parse '</span></span> + FILENAME) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (FILENAME + <span class="hljs-string"><span class="hljs-string">" parsing has been completed in %s sec"</span></span>.format( <span class="hljs-string"><span class="hljs-string">"{:.3f}"</span></span>.format(time() - file_init_start_time)) ) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> new_routers: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"Could not find any valid .txt files with routing tables"</span></span> + <span class="hljs-string"><span class="hljs-string">" in {} directory"</span></span>.format(rt_directory) ) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"\nAll files have been initialized"</span></span> + <span class="hljs-string"><span class="hljs-string">" in {} sec"</span></span>.format(<span class="hljs-string"><span class="hljs-string">"{:.3f}"</span></span>.format(time() - start_time)) ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> new_routers</code> </pre> <br><p>  Y, despu√©s de descomponer todos los archivos en estructuras de datos ordenadas, uno puede asumir la segunda parte de la tarea. </p><br><h3>  Encontrar una ruta a trav√©s de tablas de enrutamiento procesadas </h3><br><p>  En general, en esta etapa, la tarea se reduce al an√°lisis del gr√°fico de red.  Los enrutadores son v√©rtices del gr√°fico, los enlaces L3 entre ellos son bordes. <br>  El diccionario <em>ROUTERS</em> almacena los identificadores de los enrutadores en las claves y en los valores correspondientes: los enlaces a las direcciones IP de los siguientes saltos.  Es decir, junto con <em>GLOBAL_INTERFACE_TREE</em> , que devuelve identificadores de enrutador por direcci√≥n IP, para cada subred deseada, define una tabla de adyacencia de gr√°fico. </p><br><p>  Si traza paralelos con enrutadores reales, para encontrar la forma en que necesita reproducir la l√≥gica de alto nivel de su trabajo (abstracci√≥n de RIB / FIB / ASIC y otras optimizaciones) al procesar un paquete desde una b√∫squeda a la tabla de enrutamiento a la solicitud ARP (o <em>router_id</em> en nuestro caso) y enrutamiento o soltar el paquete, dependiendo del resultado. </p><br><p>  Implementamos una b√∫squeda de ruta recursiva en los enrutadores.  Cada secci√≥n de la ruta estar√° representada por una hoja de <em>router_id</em> y <em>raw_route_string</em> , la cadena de ruta original en ella.  La ruta actual se escribir√° en la tupla de <em>ruta</em> .  Al llegar al punto de destino, la ausencia de una ruta en la tabla de enrutamiento o el siguiente salto en la topolog√≠a estudiada, la <em>ruta</em> actual se agregar√° a la tupla de <em>rutas</em> resultante, que la funci√≥n devolver√°. </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trace_route</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_router_id, target_ip, path=[])</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> source_router_id: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [path + [(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)]] current_router = ROUTERS[source_router_id] next_hop, raw_route_string = route_lookup(target_ip, current_router) path = path + [(source_router_id, raw_route_string)] paths = [] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> next_hop: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> nexthop_is_local(next_hop[<span class="hljs-number"><span class="hljs-number">0</span></span>]): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [path] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> nh <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> next_hop: next_hop_rid = get_rid_by_interface_ip(nh) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> next_hop_rid <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [r[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> path]: inner_path = trace_route(next_hop_rid, target_ip, path) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> inner_path: paths.append(p) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: path = path + [(next_hop_rid+<span class="hljs-string"><span class="hljs-string">"&lt;&lt;LOOP DETECTED"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [path] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [path] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> paths <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nexthop_is_local</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(next_hop)</span></span></span><span class="hljs-function">:</span></span> interface_types = (<span class="hljs-string"><span class="hljs-string">'Eth'</span></span>, <span class="hljs-string"><span class="hljs-string">'Fast'</span></span>, <span class="hljs-string"><span class="hljs-string">'Gig'</span></span>, <span class="hljs-string"><span class="hljs-string">'Ten'</span></span>, <span class="hljs-string"><span class="hljs-string">'Port'</span></span>, <span class="hljs-string"><span class="hljs-string">'Serial'</span></span>, <span class="hljs-string"><span class="hljs-string">'Vlan'</span></span>, <span class="hljs-string"><span class="hljs-string">'Tunn'</span></span>, <span class="hljs-string"><span class="hljs-string">'Loop'</span></span>, <span class="hljs-string"><span class="hljs-string">'Null'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> type <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> interface_types: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> next_hop.startswith(type): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br><p>  Agregue una funci√≥n para iniciar la b√∫squeda en modo interactivo despu√©s de la inicializaci√≥n de los archivos de texto: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do_user_interactive_search</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'\n'</span></span>) target_subnet = raw_input(<span class="hljs-string"><span class="hljs-string">'Enter Target Subnet or Host: '</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> target_subnet: <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> REGEXP_INPUT_IPv4.match(target_subnet.replace(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>)): <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"incorrect input"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> lookup_start_time = time() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> rtr <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ROUTERS.keys(): subsearch_start_time = time() result = trace_route(rtr, target_subnet) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> result: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"\n"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"PATHS TO {} FROM {}"</span></span>.format(target_subnet, rtr)) n = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'Detailed info:'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> result: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"Path {}:"</span></span>.format(n)) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> ([h[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> h <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> r]) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> hop <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> r: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"ROUTER: {}"</span></span>.format(hop[<span class="hljs-number"><span class="hljs-number">0</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"Matched route string: \n{}"</span></span>.format(hop[<span class="hljs-number"><span class="hljs-number">1</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'\n'</span></span>) n+=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"Path search on {} has been completed in {} sec"</span></span>.format( rtr, <span class="hljs-string"><span class="hljs-string">"{:.3f}"</span></span>.format(time() - subsearch_start_time)) ) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"\nFull search has been completed in {} sec"</span></span>.format( <span class="hljs-string"><span class="hljs-string">"{:.3f}"</span></span>.format(time() - lookup_start_time),) )</code> </pre> <br><p>  El toque final para combinar las dos partes: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> ROUTERS ROUTERS = do_parse_directory(RT_DIRECTORY) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ROUTERS: do_user_interactive_search() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: main()</code> </pre> <br><p>  Y tenemos un c√≥digo listo para funcionar. </p><br><div class="spoiler">  <b class="spoiler_title">C√≥digo</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SubnetTree <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-comment"><span class="hljs-comment"># Path to directory with routing table files. # Each routing table MUST be in separate .txt file. RT_DIRECTORY = "./routing_tables" # RegEx template string for IPv4 address matching. REGEXP_IPv4_STR = ( '((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.' + '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))' ) # IPv4 CIDR notation matching in user input. REGEXP_INPUT_IPv4 = re.compile("^" + REGEXP_IPv4_STR + "(\/\d\d?)?$") # Local and Connected route strings matching. REGEXP_ROUTE_LOCAL_CONNECTED = re.compile( '^(?P&lt;routeType&gt;[L|C])\s+' + '((?P&lt;ipaddress&gt;\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)' + '\s?' + '(?P&lt;maskOrPrefixLength&gt;(\/\d\d?)?' + '|(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)?))' + '\ is\ directly\ connected\,\ ' + '(?P&lt;interface&gt;\S+)', re.MULTILINE ) # Static and dynamic route strings matching. REGEXP_ROUTE = re.compile( '^(\S\S?\*?\s?\S?\S?)' + '\s+' + '((?P&lt;subnet&gt;\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)' + '\s?' + '(?P&lt;maskOrPrefixLength&gt;(\/\d\d?)?' +'|(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)?))' + '\s*' + '(?P&lt;viaPortion&gt;(?:\n?\s+(\[\d\d?\d?\/\d+\])\s+' + 'via\s+(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?)(.*)\n?)+)', re.MULTILINE ) # Route string VIA portion matching. REGEXP_VIA_PORTION = re.compile( '.*via\s+(\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?).*' ) # Store for 'router' objects generated from input routing table files. # Each file is represented by single 'router' object. # Router is referenced by Router ID (RID). # RID is filename by default. # Format: # # ROUTERS = { # 'RID1': {'routing_table': {}, 'interface_list': ()}, # 'RID_N': {'routing_table': {}, 'interface_list': ()}, # } # ROUTERS = {} # Global search tree for Interface IP address to Router ID (RID) resolving. # Stores Interface IP addresses as keys. # Returns (RID, interfaceID) list. # Interface IP addresses SHOULD be globally unique across inspected topology. GLOBAL_INTERFACE_TREE = SubnetTree.SubnetTree() def parse_show_ip_route_ios_like(raw_routing_table): """ Parser for routing table text output. Compatible with both Cisco IOS(IOS-XE) 'show ip route' and Cisco ASA 'show route' output format. Processes input text file and writes into Python data structures. Builds internal SubnetTree search tree in 'route_tree'. Generates local interface list for router in 'interface_list' Returns 'router' dictionary object with parsed data. """ router = {} route_tree = SubnetTree.SubnetTree() interface_list = [] # Parse Local and Connected route strings in text. for raw_route_string in REGEXP_ROUTE_LOCAL_CONNECTED.finditer(raw_routing_table): subnet = ( raw_route_string.group('ipaddress') + convert_netmask_to_prefix_length( raw_route_string.group('maskOrPrefixLength') ) ) interface = raw_route_string.group('interface') route_tree[subnet] = ((interface,), raw_route_string.group(0)) if raw_route_string.group('routeType') == 'L': interface_list.append((interface, subnet,)) if not interface_list: print('Failed to find routing table entries in given output') return None # parse static and dynamic route strings in text for raw_route_string in REGEXP_ROUTE.finditer(raw_routing_table): subnet = ( raw_route_string.group('subnet') + convert_netmask_to_prefix_length( raw_route_string.group('maskOrPrefixLength') ) ) via_portion = raw_route_string.group('viaPortion') next_hops= [] if via_portion.count('via') &gt; 1: for line in via_portion.splitlines(): if line: next_hops.append(REGEXP_VIA_PORTION.match(line).group(1)) else: next_hops.append(REGEXP_VIA_PORTION.match(via_portion).group(1)) route_tree[subnet] = (next_hops, raw_route_string.group(0)) router = { 'routing_table': route_tree, 'interface_list': interface_list, } return router def parse_text_routing_table(raw_routing_table): """ Parser functions wrapper. Add additional parsers for alternative routing table syntaxes here. """ router = parse_show_ip_route_ios_like(raw_routing_table) if router: return router def convert_netmask_to_prefix_length(mask_or_pref): """ Gets subnet_mask (XXX.XXX.XXX.XXX) of /prefix_length (/XX). For subnet_mask, converts it to /prefix_length and returns result. For /prefix_length, returns as is. For empty input, returns "" string. """ if not mask_or_pref: return "" if re.match("^\/\d\d?$", mask_or_pref): return mask_or_pref if re.match("^\d\d?\d?\.\d\d?\d?\.\d\d?\d?\.\d\d?\d?$", mask_or_pref): return ( "/" + str(sum([bin(int(x)).count("1") for x in mask_or_pref.split(".")])) ) return "" def route_lookup(destination, router): """ Performs route_tree lookup in passed router object for passed destination subnet. Returns list of next_hops with original route strings or (None,None) depending on lookup result. """ if destination in router['routing_table']: return router['routing_table'][destination] else: return (None, None) def get_rid_by_interface_ip(interface_ip): """Returns RouterID by Interface IP address which it belongs to.""" if interface_ip in GLOBAL_INTERFACE_TREE: return GLOBAL_INTERFACE_TREE[interface_ip][0] def nexthop_is_local(next_hop): """ Check if nexthop points to local interface. Will be True for Connected and Local route strings on Cisco devices. """ interface_types = ('Eth', 'Fast', 'Gig', 'Ten', 'Port', 'Serial', 'Vlan', 'Tunn', 'Loop', 'Null' ) for type in interface_types: if next_hop.startswith(type): return True def trace_route(source_router_id, target_ip, path=[]): """ Performs recursive path search from source Router ID (RID) to target subnet. Returns tuple of path tuples. Each path tuple contains a sequence of Router IDs with matched route strings. Multiple paths are supported. """ if not source_router_id: return [path + [(None, None)]] current_router = ROUTERS[source_router_id] next_hop, raw_route_string = route_lookup(target_ip, current_router) path = path + [(source_router_id, raw_route_string)] paths = [] if next_hop: if nexthop_is_local(next_hop[0]): return [path] for nh in next_hop: next_hop_rid = get_rid_by_interface_ip(nh) if not next_hop_rid in [r[0] for r in path]: inner_path = trace_route(next_hop_rid, target_ip, path) for p in inner_path: paths.append(p) else: path = path + [(next_hop_rid+"&lt;&lt;LOOP DETECTED", None)] return [path] else: return [path] return paths def do_parse_directory(rt_directory): """ Go through specified directory and parse all .txt files. Generate router objects based on parse result if any. Populate new_routers with those router objects. Default key for each router object is FILENAME. Return new_routers. """ new_routers = {} if not os.path.isdir(rt_directory): print("{} directory does not exist.".format(rt_directory) + "Check rt_directory variable value." ) return None start_time = time() print("Initializing files...") for FILENAME in os.listdir(rt_directory): if FILENAME.endswith('.txt'): file_init_start_time = time() with open(os.path.join(rt_directory, FILENAME), 'r') as f: print ('Opening {}'.format(FILENAME)) raw_table = f.read() new_router = parse_text_routing_table(raw_table) router_id = FILENAME.replace('.txt', '') if new_router: new_routers[router_id] = new_router if new_router['interface_list']: for iface, addr in new_router['interface_list']: GLOBAL_INTERFACE_TREE[addr]= (router_id, iface,) else: print ('Failed to parse ' + FILENAME) print (FILENAME + " parsing has been completed in {} sec".format( "{:.3f}".format(time() - file_init_start_time)) ) else: if not new_routers: print ("Could not find any valid .txt files with routing tables" + " in {} directory".format(rt_directory) ) else: print ("\nAll files have been initialized" + " in {} sec".format("{:.3f}".format(time() - start_time)) ) return new_routers def do_user_interactive_search(): """ Provides interactive search dialog for user. Asks user for target subnet or host in CIDR notation. Validates input. Prints error and goes back to start for invalid input. Executes path search to given target from each router in global ROUTERS. Prints formatted path search result. Goes back to start. """ while True: print ('\n') target_subnet = raw_input('Enter Target Subnet or Host: ') if not target_subnet: continue if not REGEXP_INPUT_IPv4.match(target_subnet.replace(' ', '')): print ("incorrect input") continue lookup_start_time = time() for rtr in ROUTERS.keys(): subsearch_start_time = time() result = trace_route(rtr, target_subnet) if result: print ("\n") print ("PATHS TO {} FROM {}".format(target_subnet, rtr)) n = 1 print ('Detailed info:') for r in result: print ("Path {}:".format(n)) print ([h[0] for h in r]) for hop in r: print ("ROUTER: {}".format(hop[0])) print ("Matched route string: \n{}".format(hop[1])) else: print ('\n') n+=1 else: print ("Path search on {} has been completed in {} sec".format( rtr, "{:.3f}".format(time() - subsearch_start_time)) ) else: print ("\nFull search has been completed in {} sec".format( "{:.3f}".format(time() - lookup_start_time),) ) def main(): global ROUTERS ROUTERS = do_parse_directory(RT_DIRECTORY) if ROUTERS: do_user_interactive_search() if __name__ == "__main__": main()</span></span></code> </pre> </div></div><br><h3>  Comprobando el gui√≥n </h3><br><p>  Armado con una peque√±a topolog√≠a abstracta de los cuatro Cisco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CSR-1000v</a> : </p><br><img src="https://habrastorage.org/webt/qi/ga/qn/qigaqn1qe-wztcio2uqg9jtbmpe.jpeg"><br><p>  Est√°n conectados en pares a trav√©s de las interfaces GigabitEthernet 2 y 3. Entre ellas hay un vecindario EIGRP, a trav√©s del cual se anuncian todas las redes conectadas, incluidas las redes en las interfaces Loopback detr√°s de cada enrutador. <br>  Entre csr1000v-01 y csr1000v-04, se levantan adicionalmente dos t√∫neles GRE, a trav√©s de las direcciones IP remotas cuyas rutas est√°ticas a la red 10.0.0.0/8 se registran para probar el bucle de enrutamiento. </p><br><div class="spoiler">  <b class="spoiler_title">csr1000v-01 # show ip route</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Codes: L - <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>, C - connected, S - static, R - RIP, M - mobile, B - BGP D - EIGRP, EX - EIGRP <span class="hljs-keyword"><span class="hljs-keyword">external</span></span>, O - OSPF, IA - OSPF inter area N1 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, N2 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> E1 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, E2 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> i - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>, su - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>, L1 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>, L2 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> ia - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> inter area, * - candidate <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, U - per-<span class="hljs-keyword"><span class="hljs-keyword">user</span></span> static route o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP a - application route + - replicated route, % - next hop override, p - overrides <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PfR Gateway <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> last resort <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> S <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-number"><span class="hljs-number">172.16</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">172.16</span></span><span class="hljs-number"><span class="hljs-number">.114</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 L <span class="hljs-number"><span class="hljs-number">172.16</span></span><span class="hljs-number"><span class="hljs-number">.114</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet2 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet3 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel141 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel141 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel142 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel142 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback201 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback201 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">44</span></span>, GigabitEthernet2 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet3 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet2</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">csr1000v-02 # show ip route</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Codes: L - <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>, C - connected, S - static, R - RIP, M - mobile, B - BGP D - EIGRP, EX - EIGRP <span class="hljs-keyword"><span class="hljs-keyword">external</span></span>, O - OSPF, IA - OSPF inter area N1 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, N2 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> E1 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, E2 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> i - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>, su - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>, L1 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>, L2 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> ia - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> inter area, * - candidate <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, U - per-<span class="hljs-keyword"><span class="hljs-keyword">user</span></span> static route o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP a - application route + - replicated route, % - next hop override, p - overrides <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PfR Gateway <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> last resort <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">36</span></span>:<span class="hljs-number"><span class="hljs-number">59</span></span>, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback202 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback202 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span>, GigabitEthernet3 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">31</span></span>, GigabitEthernet2 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span>, GigabitEthernet3</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">csr1000v-03 # show ip route</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Codes: L - <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>, C - connected, S - static, R - RIP, M - mobile, B - BGP D - EIGRP, EX - EIGRP <span class="hljs-keyword"><span class="hljs-keyword">external</span></span>, O - OSPF, IA - OSPF inter area N1 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, N2 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> E1 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, E2 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> i - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>, su - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>, L1 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>, L2 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> ia - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> inter area, * - candidate <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, U - per-<span class="hljs-keyword"><span class="hljs-keyword">user</span></span> static route o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP a - application route + - replicated route, % - next hop override, p - overrides <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PfR Gateway <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> last resort <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>, GigabitEthernet3 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">36</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">51</span></span>, GigabitEthernet2 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">51</span></span>, GigabitEthernet3 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback203 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback203 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>, GigabitEthernet2</code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">csr1000v-04 # show ip route</font></font></b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Codes: L - <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>, C - connected, S - static, R - RIP, M - mobile, B - BGP D - EIGRP, EX - EIGRP <span class="hljs-keyword"><span class="hljs-keyword">external</span></span>, O - OSPF, IA - OSPF inter area N1 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, N2 - OSPF NSSA <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> E1 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, E2 - OSPF <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> i - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>, su - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>, L1 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-1</span></span>, L2 - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span><span class="hljs-number"><span class="hljs-number">-2</span></span> ia - <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> inter area, * - candidate <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>, U - per-<span class="hljs-keyword"><span class="hljs-keyword">user</span></span> static route o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP a - application route + - replicated route, % - next hop override, p - overrides <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PfR Gateway <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> last resort <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> S <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet1 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">3072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">46</span></span>:<span class="hljs-number"><span class="hljs-number">19</span></span>, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet3 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel141 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.141</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel141 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel142 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.142</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Tunnel142 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.201</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>, GigabitEthernet2 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">05</span></span>:<span class="hljs-number"><span class="hljs-number">57</span></span>, GigabitEthernet3 D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span>, GigabitEthernet2 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> variably subnetted, <span class="hljs-number"><span class="hljs-number">2</span></span> subnets, <span class="hljs-number"><span class="hljs-number">2</span></span> masks C <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204</code> </pre> </div></div><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guarde estos </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resultados de show ip route</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en archivos separados en el </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">subdirectorio ./routing_tables/</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y ejecute el script:</font></font></p><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ python2.7 traceRouteByShowIPRoute.py</font></font></b> <div class="spoiler_text"><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> python2.<span class="hljs-number"><span class="hljs-number">7</span></span> traceRouteByShowIPRoute.py Initializing files... Opening csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span>.txt csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span>.txt parsing has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span> sec Opening csr1000v<span class="hljs-literal"><span class="hljs-literal">-02</span></span>.txt csr1000v<span class="hljs-literal"><span class="hljs-literal">-02</span></span>.txt parsing has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span> sec Opening csr1000v<span class="hljs-literal"><span class="hljs-literal">-03</span></span>.txt csr1000v<span class="hljs-literal"><span class="hljs-literal">-03</span></span>.txt parsing has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span> sec Opening csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span>.txt csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span>.txt parsing has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span> sec All files have been initialized <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.003</span></span> sec Enter Target Subnet or Host:</code> </pre> </div></div><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos los archivos se inicializan, el script, como se esperaba, solicita una direcci√≥n IP o subred para encontrar la ruta desde cada uno de los enrutadores. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introducimos varias alternativas y comparamos el resultado con la informaci√≥n de los enrutadores.</font></font></p><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontrar una manera de Loopback204 192.168.204.204 en csr1000v-04</font></font></b> <div class="spoiler_text"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Las rutas a esta direcci√≥n IP deben ser de todos los enrutadores disponibles. </font></font></p><br><div class="spoiler"> <b class="spoiler_title">Enter Target Subnet or Host: 192.168.204.204</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">Enter Target Subnet <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> Host: <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> PATHS <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Detailed <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>: <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>] ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Matched route string: L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-03</span></span> Detailed <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>: <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-03'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>] ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-03</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>, GigabitEthernet2 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Matched route string: L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-03</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-02</span></span> Detailed <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>: <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-02'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>] ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-02</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span>, GigabitEthernet3 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Matched route string: L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-02</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS <span class="hljs-keyword"><span class="hljs-keyword">TO</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-01</span></span> Detailed <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>: <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-03'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>] ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-01</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet3 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet2 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-03</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>, GigabitEthernet2 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Matched route string: L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-02'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>] ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-01</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet3 [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">131072</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>:<span class="hljs-number"><span class="hljs-number">56</span></span>, GigabitEthernet2 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-02</span></span> Matched route string: D <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> [<span class="hljs-number"><span class="hljs-number">90</span></span>/<span class="hljs-number"><span class="hljs-number">130816</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">37</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span>, GigabitEthernet3 ROUTER: csr1000v<span class="hljs-number"><span class="hljs-number">-04</span></span> Matched route string: L <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> directly connected, Loopback204 <span class="hljs-type"><span class="hljs-type">Path</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> csr1000v<span class="hljs-number"><span class="hljs-number">-01</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec <span class="hljs-keyword"><span class="hljs-keyword">Full</span></span> <span class="hljs-keyword"><span class="hljs-keyword">search</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.001</span></span> sec</code> </pre> </div></div><br><p>   ,  .   : </p><br><div class="spoiler"> <b class="spoiler_title">csr1000v-01#show ip route 192.168.204.204</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">csr1000v<span class="hljs-number"><span class="hljs-number">-01</span></span>#<span class="hljs-keyword"><span class="hljs-keyword">show</span></span> ip route <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> Routing entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> Known via "eigrp 200", distance <span class="hljs-number"><span class="hljs-number">90</span></span>, metric <span class="hljs-number"><span class="hljs-number">131072</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-type"><span class="hljs-type">internal</span></span> Redistributing via eigrp <span class="hljs-number"><span class="hljs-number">200</span></span> Last <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> GigabitEthernet3, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span> ago Routing Descriptor Blocks: <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.13</span></span><span class="hljs-number"><span class="hljs-number">.203</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span> ago, via GigabitEthernet3 Route metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">131072</span></span>, traffic <span class="hljs-keyword"><span class="hljs-keyword">share</span></span> count <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Total delay <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">5020</span></span> microseconds, minimum bandwidth <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1000000</span></span> Kbit Reliability <span class="hljs-number"><span class="hljs-number">255</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, minimum MTU <span class="hljs-number"><span class="hljs-number">1500</span></span> bytes Loading <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, Hops <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.12</span></span><span class="hljs-number"><span class="hljs-number">.202</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">02</span></span>:<span class="hljs-number"><span class="hljs-number">15</span></span> ago, via GigabitEthernet2 Route metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">131072</span></span>, traffic <span class="hljs-keyword"><span class="hljs-keyword">share</span></span> count <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Total delay <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">5020</span></span> microseconds, minimum bandwidth <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1000000</span></span> Kbit Reliability <span class="hljs-number"><span class="hljs-number">255</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, minimum MTU <span class="hljs-number"><span class="hljs-number">1500</span></span> bytes Loading <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, Hops <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> </div></div><br><p>  csr1000v-01   equal-cost   EIGRP  csr1000v-02  csr1000v-03. <br>   ,    : ['csr1000v-01', 'csr1000v-03', 'csr1000v-04']  ['csr1000v-01', 'csr1000v-02', 'csr1000v-04']. </p><br><div class="spoiler"> <b class="spoiler_title">csr1000v-02#show ip route 192.168.204.204</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">csr1000v<span class="hljs-number"><span class="hljs-number">-02</span></span>#<span class="hljs-keyword"><span class="hljs-keyword">show</span></span> ip route <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> Routing entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> Known via "eigrp 200", distance <span class="hljs-number"><span class="hljs-number">90</span></span>, metric <span class="hljs-number"><span class="hljs-number">130816</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-type"><span class="hljs-type">internal</span></span> Redistributing via eigrp <span class="hljs-number"><span class="hljs-number">200</span></span> Last <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> GigabitEthernet3, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">48</span></span> ago Routing Descriptor Blocks: * <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.24</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">48</span></span> ago, via GigabitEthernet3 Route metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">130816</span></span>, traffic <span class="hljs-keyword"><span class="hljs-keyword">share</span></span> count <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Total delay <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">5010</span></span> microseconds, minimum bandwidth <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1000000</span></span> Kbit Reliability <span class="hljs-number"><span class="hljs-number">255</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, minimum MTU <span class="hljs-number"><span class="hljs-number">1500</span></span> bytes Loading <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, Hops <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">csr1000v-03#show ip route 192.168.204.204</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">csr1000v<span class="hljs-number"><span class="hljs-number">-3</span></span>#<span class="hljs-keyword"><span class="hljs-keyword">show</span></span> ip route <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> Routing entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> Known via "eigrp 200", distance <span class="hljs-number"><span class="hljs-number">90</span></span>, metric <span class="hljs-number"><span class="hljs-number">130816</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-type"><span class="hljs-type">internal</span></span> Redistributing via eigrp <span class="hljs-number"><span class="hljs-number">200</span></span> Last <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> GigabitEthernet2, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span> ago Routing Descriptor Blocks: * <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span><span class="hljs-number"><span class="hljs-number">.204</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span> ago, via GigabitEthernet2 Route metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">130816</span></span>, traffic <span class="hljs-keyword"><span class="hljs-keyword">share</span></span> count <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> Total delay <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">5010</span></span> microseconds, minimum bandwidth <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1000000</span></span> Kbit Reliability <span class="hljs-number"><span class="hljs-number">255</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, minimum MTU <span class="hljs-number"><span class="hljs-number">1500</span></span> bytes Loading <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">255</span></span>, Hops <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </div></div><br><p>  csr1000v-2  csr1000v-3      EIGRP  csr1000v-4. <br>     ,    : ['csr1000v-02', 'csr1000v-04']  ['csr1000v-03', 'csr1000v-04'] . </p><br><div class="spoiler"> <b class="spoiler_title">csr1000v-04#show ip route 192.168.204.204</b> <div class="spoiler_text"><pre> <code class="hljs swift">csr1000v-<span class="hljs-number"><span class="hljs-number">04</span></span>#show ip route <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">204.204</span></span> <span class="hljs-type"><span class="hljs-type">Routing</span></span> entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">204.204</span></span>/<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-type"><span class="hljs-type">Known</span></span> via <span class="hljs-string"><span class="hljs-string">"connected"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">distance</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, metric <span class="hljs-number"><span class="hljs-number">0</span></span> (connected) <span class="hljs-type"><span class="hljs-type">Routing</span></span> <span class="hljs-type"><span class="hljs-type">Descriptor</span></span> <span class="hljs-type"><span class="hljs-type">Blocks</span></span>: * directly connected, via <span class="hljs-type"><span class="hljs-type">Loopback204</span></span> <span class="hljs-type"><span class="hljs-type">Route</span></span> metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, traffic share <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </div></div><br><p>  csr1000v-4  Connnected    Loopback204. <br>   Local      : ['csr1000v-04']. </p></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontrar la ruta a la subred 10.10.10.0/24 (no en la topolog√≠a)</font></font></b> <div class="spoiler_text"><div class="spoiler"> <b class="spoiler_title">Enter Target Subnet or Host: 10.10.10.0/24</b> <div class="spoiler_text"><pre> <code class="hljs powershell">Enter Target Subnet or Host: <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> Detailed info: Path <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04&lt;&lt;LOOP DETECTED'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.1</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.2</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span>&lt;&lt;LOOP DETECTED Matched route string: None Path <span class="hljs-number"><span class="hljs-number">2</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04&lt;&lt;LOOP DETECTED'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.1</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.2</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span>&lt;&lt;LOOP DETECTED Matched route string: None Path search on csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v<span class="hljs-literal"><span class="hljs-literal">-03</span></span> Detailed info: Path <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-03'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-03</span></span> Matched route string: None Path search on csr1000v<span class="hljs-literal"><span class="hljs-literal">-03</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v<span class="hljs-literal"><span class="hljs-literal">-02</span></span> Detailed info: Path <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-02'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-02</span></span> Matched route string: None Path search on csr1000v<span class="hljs-literal"><span class="hljs-literal">-02</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.000</span></span> sec PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> Detailed info: Path <span class="hljs-number"><span class="hljs-number">1</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-01&lt;&lt;LOOP DETECTED'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.2</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.1</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span>&lt;&lt;LOOP DETECTED Matched route string: None Path <span class="hljs-number"><span class="hljs-number">2</span></span>: [<span class="hljs-string"><span class="hljs-string">'csr1000v-01'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-04'</span></span>, <span class="hljs-string"><span class="hljs-string">'csr1000v-01&lt;&lt;LOOP DETECTED'</span></span>] ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.2</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.2</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-04</span></span> Matched route string: S <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.1</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span>] via <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.1</span></span> ROUTER: csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span>&lt;&lt;LOOP DETECTED Matched route string: None Path search on csr1000v<span class="hljs-literal"><span class="hljs-literal">-01</span></span> has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.003</span></span> sec Full search has been completed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0.004</span></span> sec</code> </pre> </div></div><br><p>  . <br>   : </p><br><div class="spoiler"> <b class="spoiler_title">csr1000v-01#show ip route 10.10.10.0 255.255.255.0</b> <div class="spoiler_text"><pre> <code class="hljs swift">csr1000v-<span class="hljs-number"><span class="hljs-number">01</span></span>#show ip route <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span> <span class="hljs-number"><span class="hljs-number">255.255</span></span>.<span class="hljs-number"><span class="hljs-number">255.0</span></span> <span class="hljs-type"><span class="hljs-type">Routing</span></span> entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-type"><span class="hljs-type">Known</span></span> via <span class="hljs-string"><span class="hljs-string">"static"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">distance</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, metric <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-type"><span class="hljs-type">Routing</span></span> <span class="hljs-type"><span class="hljs-type">Descriptor</span></span> <span class="hljs-type"><span class="hljs-type">Blocks</span></span>: * <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.2</span></span> <span class="hljs-type"><span class="hljs-type">Route</span></span> metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, traffic share <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.2</span></span> <span class="hljs-type"><span class="hljs-type">Route</span></span> metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, traffic share <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">csr1000v-04#show ip route 10.10.10.0 255.255.255.0</b> <div class="spoiler_text"><pre> <code class="hljs swift">csr1000v-<span class="hljs-number"><span class="hljs-number">04</span></span>#show ip route <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span> <span class="hljs-number"><span class="hljs-number">255.255</span></span>.<span class="hljs-number"><span class="hljs-number">255.0</span></span> <span class="hljs-type"><span class="hljs-type">Routing</span></span> entry <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-number"><span class="hljs-number">10.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-type"><span class="hljs-type">Known</span></span> via <span class="hljs-string"><span class="hljs-string">"static"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">distance</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, metric <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-type"><span class="hljs-type">Routing</span></span> <span class="hljs-type"><span class="hljs-type">Descriptor</span></span> <span class="hljs-type"><span class="hljs-type">Blocks</span></span>: <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">142.1</span></span> <span class="hljs-type"><span class="hljs-type">Route</span></span> metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, traffic share <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> * <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">141.1</span></span> <span class="hljs-type"><span class="hljs-type">Route</span></span> metric <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, traffic share <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> </div></div><br><p>  csr1000v-01  csr1000v-04       GRE-        10.0.0.0/8.       . <br>       : </p><br><pre> <code class="hljs 1c">PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v-<span class="hljs-number"><span class="hljs-number">01</span></span> Path <span class="hljs-number"><span class="hljs-number">1</span></span>: ['csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01&lt;&lt;LOOP DETECTED'] Path <span class="hljs-number"><span class="hljs-number">2</span></span>: ['csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01&lt;&lt;LOOP DETECTED'] PATHS TO <span class="hljs-number"><span class="hljs-number">10.10</span></span>.<span class="hljs-number"><span class="hljs-number">10.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> FROM csr1000v-<span class="hljs-number"><span class="hljs-number">04</span></span> Path <span class="hljs-number"><span class="hljs-number">1</span></span>: ['csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04&lt;&lt;LOOP DETECTED'] Path <span class="hljs-number"><span class="hljs-number">2</span></span>: ['csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-01', 'csr<span class="hljs-number"><span class="hljs-number">1000</span></span>v-04&lt;&lt;LOOP DETECTED']</code> </pre> <br><div class="spoiler"> <b class="spoiler_title">csr1000v-02#show ip route 10.10.10.0 255.255.255.0</b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">csr1000v-02</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 255<span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> % <span class="hljs-selector-tag"><span class="hljs-selector-tag">Network</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">not</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">table</span></span></code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">csr1000v-3#show ip route 10.10.10.0 255.255.255.0</b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">csr1000v-3</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#show</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ip</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">route</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> 255<span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.255</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> % <span class="hljs-selector-tag"><span class="hljs-selector-tag">Network</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">not</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">table</span></span></code> </pre> </div></div><br><p>  csr1000v-02  csr1000v-03     .     . </p></div></div><br><p>   ,            ,      ,    . </p><br><h3>  Conclusi√≥n </h3><br><p>       ,             .   MacBook Pro  Intel Core i5  8GB RAM          700.000+     6.85 (  100 ).        320-350. <br>               (       ). </p><br><p>       . IPv6   <em>SubnetTree</em> . <br>     Python3, ,   <em>raw_input</em>  <em>input</em> . </p><br><p>      ,              ,          ‚Äî   , "  "  , " ",     .. </p><br><p>       Policy Based Routing ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PBR</a> )       . ,     . </p><br><p> , -     . <br>  ,    . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es414043/">https://habr.com/ru/post/es414043/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es414025/index.html">Los empleadores rastrean computadoras, viajes al ba√±o y ahora tambi√©n emociones; ¬øTu jefe te sigue?</a></li>
<li><a href="../es414027/index.html">¬øPueden mis amigos ser considerados verdaderos amigos?</a></li>
<li><a href="../es414029/index.html">Luz misteriosa alrededor de una estrella reci√©n formada, y lo que los astr√≥nomos piensan al respecto</a></li>
<li><a href="../es414031/index.html">Tras la reuni√≥n "Nuevas funciones de PostgreSQL 11"</a></li>
<li><a href="../es414041/index.html">En invierno y verano en un color? Buscar la estacionalidad en los datos</a></li>
<li><a href="../es414047/index.html">C√≥mo hacer una poderosa escalera Jacob con un transformador de microondas con tus propias manos</a></li>
<li><a href="../es414049/index.html">Los principales juegos de E3 2018: Fallout 76, Metro Exodus, Doom Eternal y otros</a></li>
<li><a href="../es414053/index.html">5 conceptos err√≥neos sobre GDPR</a></li>
<li><a href="../es414055/index.html">Trans-PRK: uno de los est√°ndares de correcci√≥n de la visi√≥n</a></li>
<li><a href="../es414057/index.html">Enfriamiento del centro de datos: una canci√≥n de hielo y fuego</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>