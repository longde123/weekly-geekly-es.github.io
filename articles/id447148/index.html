<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§– ğŸ˜¡ ğŸ® Aplikasi Habr resmi (un) - HabrApp 2.0: akses ğŸ™† ğŸ¥‘ ğŸ¤²ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam satu malam yang tenang dan sudah agak membosankan, aku, membalik-balik aplikasi resmi Habr, sekali lagi menekuk jari, satu untuk setiap fitur ko...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aplikasi Habr resmi (un) - HabrApp 2.0: akses</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447148/"><p>  Dalam satu malam yang tenang dan sudah agak membosankan, aku, membalik-balik aplikasi <em>resmi</em> Habr, sekali lagi menekuk jari, satu untuk setiap fitur kosong.  Di sini, misalnya, tidak mungkin untuk berkomentar, mereka ditolak hak untuk memilih, dan secara umum, mengapa formula tidak terlihat di layar? </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/xr/p3/py/xrp3pywwsy_2qr5c4ynkitutrnc.jpeg"></div><br>  Diputuskan: Anda membutuhkan sesuatu yang nyaman, menyenangkan, milik Anda sendiri.  Bagaimana dengan aplikasi Anda untuk Habr? <a name="habracut"></a><br>  Mari kita beri beberapa tangkapan layar untuk memahami situasinya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iq/c-/cn/iqc-cnpr991dwu63t2nl3lds9vi.jpeg"></div>  <em>Entah bagaimana sepertinya <strong>ini</strong> - dari.</em>  <em>aplikasi habr.com</em> <br><br><div class="spoiler">  <b class="spoiler_title">Daftar "ketidaknyamanan"</b> <div class="spoiler_text"><ul><li>  Anda tidak dapat memberi peringkat pada publikasi yang peringkatnya selain dari 0 </li><li>  Tidak selalu mungkin untuk menulis komentar </li><li>  Survei tidak berfungsi </li><li>  Rumus tidak terlihat dalam topik gelap (hitam di atas hitam) </li><li>  Tidak Semua Bookmark Tersedia </li></ul></div></div><br>  Ya, aplikasi belum diperbarui sejak Agustus lalu, tetapi masih buruk.  Secara umum, Anda harus memperbaikinya. <br><br><p></p><h2>  Bagian Satu  Mencari akses. </h2><br><p>  Permintaan cepat ke Google <em>"habrahabr API"</em> sudah dikeluarkan oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori</a> github usang, yang belum diperbarui sejak <strong>21 November 2016</strong> , dan ini, sebentar, adalah <strong>dua setengah tahun</strong> . <br><br>  Mengabaikan fakta bahwa ini adalah PHP, gulir ke bawah dan baca: </p><br><blockquote><p>  Dapatkan ID Aplikasi </p><br><br><p>  Dengan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">formulir ini</a> di Habrahabr, Anda perlu menjelaskan secara singkat esensi aplikasi baru dan tujuan dibutuhkannya API. </p></blockquote><br><p>  Ini bukan pertanyaan jika Anda perlu mendapatkan akses, maka Anda harus melakukannya.  Kami menulis surat (disingkat): </p><br><div class="spoiler">  <b class="spoiler_title">Sepucuk surat</b> <div class="spoiler_text"><blockquote><p>  Ada keinginan untuk membuat aplikasi untuk Habr berdasarkan PWA.  Ada beberapa alasan untuk ini. </p><br><p>  Yang pertama dan paling bisa dimengerti: aplikasi Android tidak memenuhi persyaratan pribadi saya. </p><br><p>  Kedua: tidak ada pemberitahuan asli yang cukup tentang semua jenis hal yang biasanya datang ke kantor pos (komentar, misalnya). </p><br><p>  Ketiga: intisari pribadi (sebagai prospek) untuk orang / hub yang menarik minat saya, mengingat minat saya. </p></blockquote></div></div><br><p>  Jawabannya, tentu saja, tidak terlalu menyenangkan, tetapi setidaknya jujur: </p><br><blockquote><p>  Sayangnya, akses ke API kami saat ini tidak tersedia.  Kami berencana untuk melanjutkan menyediakan akses setelah kami menyelesaikan finalisasi API, tetapi kami belum memiliki tanggal pasti, karena  saat ini kami sedang sibuk menyelesaikan tugas-tugas prioritas lainnya. </p></blockquote><br><p>  "Oke, itu tidak masalah!  Kami akan datang dengan sesuatu! "  Aku berkata pada diriku sendiri, dan mulai mencari. </p><br><p></p><h2>  Bagian Dua  Penggalian dalam. </h2><br><p>  Berdasarkan logika, jika aplikasi berfungsi, maka ia memiliki akses ke API, dan itu ditransfer ke dalam aplikasi.  Mari kita analisa. </p><br><p>  Karena kita berurusan dengan lalu lintas, Wireshark adalah pilihan kita.  Bukan tanpa siksaan dengan menghubungkan ponsel ke Internet melalui komputer stasioner, buka aplikasi dan lihat permintaan: <br><br></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yi/14/dk/yi14dkzwz69sjn8qwqwp9ik7tc8.png"></div><br>  <em>Jelas bahwa tidak ada yang jelas</em> <br><br>  Ya, semuanya dienkripsi, tetapi saya tidak ingin mengacaukan kriptografi.  Maka Anda perlu melihat ke dalam aplikasi itu sendiri. <br><br><p> Setelah mendekompilasi <strong>.apk</strong> , kami mulai mencari.  Apa yang dibutuhkan API?  Itu benar, <em>titik akhir</em> , tempat semua permintaan pergi.  Ini mungkin http, coba temukan "https: //": <br><br>  Dalam file <code>AuthLinkManager.smali</code> kita temukan </p><br><pre> <code class="java hljs">.field OAUTH:Ljava/lang/String; = <span class="hljs-string"><span class="hljs-string">"https://habrahabr.ru/auth/o/%s/"</span></span> .field OAUTH_PARAMS:Ljava/lang/String; = <span class="hljs-string"><span class="hljs-string">"?client_id=%s&amp;response_type=token&amp;redirect_uri=%s"</span></span> .field OAUTH_REDIRECT_URL:Ljava/lang/String; = <span class="hljs-string"><span class="hljs-string">"http://cleverpumpkin.ru"</span></span></code> </pre><br><p>  Ini adalah kode untuk mesin virtual Android ( <em>Dalvik VM</em> ), tidak begitu jelas bagi manusia, tetapi masih cukup informatif.  Tiga konstanta ini, dilihat dari konten dan namanya, serta repositori GitHub, digunakan untuk meminta token akses menggunakan metode <code>GET</code> . </p><br><p>  Kami melihat lebih jauh.  File <code>NetworkModule.smali</code> berikutnya yang Anda temukan dalam pencarian Anda: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v0, <span class="hljs-string"><span class="hljs-string">"https://habr.com/api/v1/"</span></span></code> </pre><p>  <em>Dan di sini adalah tempat untuk pergi dengan permintaan!</em> </p><br><p>  Untuk operasi normal dari klien yang menulis sendiri, hanya ada satu hal yang tersisa untuk mencari tahu - <code>client_id</code> , yang kemungkinan besar merupakan pengidentifikasi unik untuk aplikasi tersebut. </p><br><p>  Namun, pencarian teks ini di sumber tidak mengarah pada pencarian informasi yang relevan ... </p><br><p>  Tapi tiba-tiba, dalam satu file, mata saya menangkap garis yang menarik: </p><br><pre> <code class="plaintext hljs">const-string p8, "log-tag" invoke-static {p8, p2}, Landroid/util/Log;-&gt;d(Ljava/lang/String;Ljava/lang/String;)I</code> </pre><br><p>  Ini, seperti yang bisa Anda pahami, adalah entri log.  Tapi catatan apa? </p><br><p></p><h2>  Bagian tiga.  Ini lognya! </h2><br><p>  Kami menggunakan <code>adb logcat</code> untuk melihat log aplikasi. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gg/8l/xi/gg8lxiebmz-aoycxcejnxc7urxc.png"></div><br><p>  Tanpa diduga, tetapi log bahkan lebih rinci dari yang diharapkan. </p><br><p>  Di sini bukan hanya <code>client_id</code> kita <code>client_id</code> , tetapi juga <b>token</b> pengguna / aplikasi, serta <b>login</b> dan <b>kata sandi</b> plaintext! </p><br><div class="spoiler">  <b class="spoiler_title">Beberapa teori konspirasi</b> <div class="spoiler_text">  Kehadiran log masuk dan kata sandi itu sendiri tidak membahayakan apa pun, karena log ini hanya dapat dibaca dengan hak root atau koneksi <code>adb</code> .  Tetapi karena fakta bahwa di antara orang-orang yang membaca Habr, ada pengembang di android yang dapat mengaktifkan debug, ini menjadi masalah. <br><br>  Dalam hal ini, "biaya gratis" di bandara dapat mengakibatkan pencurian akun <s>, meskipun siapa yang membutuhkannya?</s> </div></div><br>  Dari log ini Anda dapat membuat: <br><br><ul><li>  <code>client_id</code> dan <code>apikey</code> diperlukan untuk mengakses <i>api</i> ; </li><li>  URL otorisasi pengguna (aneh, tetapi tidak ada dalam repositori tentang metode ini, mungkin itu tidak disediakan?) </li></ul><br>  Dan begitulah yang terjadi.  Berdasarkan studi kecil ini, pekerjaan sudah berlangsung pada proyek kecil - penerapan sendiri aplikasi mobile.  Jika Anda ingin membantu, silakan menulis dalam pesan, dan semua orang - untuk memilih (karena saya ingin mengerti jika ada yang membutuhkan ini). <br><br>  Terima kasih atas perhatian anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id447148/">https://habr.com/ru/post/id447148/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id447132/index.html">Dari Tula ke Berlin: Analisis Urban di Instagram</a></li>
<li><a href="../id447134/index.html">Kursus Pelatihan Bereaksi, Bagian 28: Bereaksi Fitur Modern, Ide Proyek, Kesimpulan</a></li>
<li><a href="../id447136/index.html">Kursus Pelatihan Bereaksi Bagian 27: Proyek Kursus</a></li>
<li><a href="../id447144/index.html">Bagaimana saya mengatur penyimpanan foto</a></li>
<li><a href="../id447146/index.html">Sakelar Tidak dikelola Industri EKI</a></li>
<li><a href="../id447150/index.html">Mengobrol di situs dan dalam penerbitan Yandex</a></li>
<li><a href="../id447152/index.html">Cross-platform .NET UI toolkit merilis AvaloniaUI 0.8</a></li>
<li><a href="../id447154/index.html">Utang teknis mengarah ke krisis perusahaan</a></li>
<li><a href="../id447156/index.html">Wireshark 3.x: analisis kode di bawah tinjauan macOS dan kesalahan</a></li>
<li><a href="../id447158/index.html">Wireshark 3.x: analisis kode macOS dan tinjauan bug</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>