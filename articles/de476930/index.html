<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüé® üèµÔ∏è üßíüèº Erweiterung in Dart (Flutter) üë®üèª ü§µüèª ü¶á</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In einer k√ºrzlich erschienenen Version von Dart 2.6 hat die Sprache eine neue Funktion, statische Erweiterung oder statische Erweiterungsmethoden eing...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erweiterung in Dart (Flutter)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476930/">  In einer k√ºrzlich erschienenen Version von Dart 2.6 hat die Sprache eine neue Funktion, statische Erweiterung oder statische Erweiterungsmethoden eingef√ºhrt, mit deren Hilfe Sie vorhandenen Typen neue Methoden hinzuf√ºgen k√∂nnen.  Warum brauchen wir eine Verl√§ngerung?  Wie benutzt man sie und wof√ºr sind sie gut? <br><br><img src="https://habrastorage.org/webt/bj/8s/ee/bj8seekf1mjnc7s2me-ydcgixks.png"><br><br><h2>  Einleitung </h2><br>  Was ist Erweiterung im Allgemeinen?  <b>Extension</b> ist syntaktischer Zucker, der eine vorhandene Klasse an einer anderen Stelle als das Klassendeklarationsmodul erweitert. <br><br>  In der Programmierung gibt es Erweiterungsmethoden schon seit langer Zeit, so dass sie sich dem Dart widmen mussten.  Die Erweiterung wird aktiv in Sprachen wie C #, Java √ºber Manifold, Swift, Kotlin und vielen anderen verwendet. <br><a name="habracut"></a><br><h2>  Das problem </h2><br>  Nehmen wir an, wir haben eine catchError-Methode, die einfach schrecklich ist und in eine neue coole Funktion umgeschrieben werden muss.  Angenommen, er verwendet eine Funktion eines beliebigen Typs als Argument f√ºr eine Stelle einer streng typisierten Funktion oder um den Typ einer Funktion zu √ºberpr√ºfen, und dies geschieht, weil dies vor 8 Monaten bei der Entwicklung dieser Funktionalit√§t logisch war. <br><br>  Das erste, was mir in den Sinn kommt, ist, diese Funktion neu zu schreiben. Hier stehen wir jedoch vor dem Problem, dass sie im Projekt zu h√§ufig auftritt und eine √Ñnderung der Funktion zur Inoperabilit√§t des gesamten Projekts f√ºhrt. <br><br>  Nun, wenn die erste Option nicht f√ºr uns ist.  Aus logischen Gr√ºnden kann ich dann eine neue Future-Funktion implementieren, die alle meine Anforderungen erf√ºllt. <br><br><pre><code class="plaintext hljs">abstract class Future&lt;T&gt; { ... /// Catches any [error] of type [E]. Future&lt;T&gt; onError&lt;E&gt;(FutureOr&lt;T&gt; handleError(E error, StackTrace stack)) =&gt; this.catchError(...   -  ...); } ... }</code> </pre> <br>  und ich werde sie so nennen: <br><br><pre> <code class="plaintext hljs">Future&lt;String&gt; someString = ...; someString.onError((FormatException e, s) =&gt; ...).then(...);</code> </pre><br>  Leider kann ich diese Funktion nicht zur Future-Klasse hinzuf√ºgen.  Wenn ich das tue, f√ºge ich es auch der Future-Schnittstelle hinzu, und jede andere Klasse, die diese Schnittstelle implementiert, ist unvollst√§ndig und wird nicht mehr kompiliert. <br><br>  Nun, eine andere M√∂glichkeit besteht darin, eine Drittanbieterfunktion zu implementieren, die so aussieht: <br><br><pre> <code class="plaintext hljs">Future&lt;T&gt; onFutureError&lt;T, E&gt;(Future&lt;T&gt; source, FutureOr&lt;T&gt; handleError(E error, StackTrace stack)) =&gt; source.catchError(... - ...);</code> </pre><br>  Und ihr Anruf w√ºrde so aussehen: <br><br><pre> <code class="plaintext hljs">Future&lt;String&gt; someString = ...; onFutureError(someString, (FormatException e, s) =&gt; ...).then(...);</code> </pre><br>  Super, alles funktioniert!  Aber es ist traurig, dass es anfing, schrecklich gelesen zu werden.  Wir wenden Methoden an.  die in der Klasse implementiert sind, hei√üen also -.doingSomething ();  Dieser Code ist verst√§ndlich, ich lese ihn einfach von links nach rechts und stelle mir eine Abfolge von Ereignissen vor.  Die Verwendung einer Hilfsfunktion macht den Code umst√§ndlich und weniger lesbar. <br><br>  Nun, dann kann ich eine neue Klasse implementieren und Benutzern erlauben, ihre alte Schnittstelle mit verbesserter Funktionalit√§t zu verpacken. <br><br><pre> <code class="plaintext hljs">class CustomFuture&lt;T&gt; { CustomFuture(Future&lt;T&gt; future) : _wrapper = future; Future&lt;T&gt; _wrapper; Future&lt;T&gt; onError&lt;E&gt;(FutureOr&lt;T&gt; handleError(E error, StackTrace stack)) =&gt; _wrapper.catchError(...-     ...); }</code> </pre><br>  und der Aufruf wird so aussehen: <br><br><pre> <code class="plaintext hljs">Future&lt;String&gt; someString = ...; CustomFuture(someString).onError((FormatException e, s) =&gt; ...).then(...);</code> </pre><br>  Sieht gut aus! <br><br><h2>  Ein Problem mit der Erweiterung l√∂sen </h2><br>  Sobald wir die Programmierung in Pascal beenden und zu 2019 zur√ºckkehren, wird die Implementierung dieser Funktionalit√§t auf diese Gr√∂√üe reduziert: <br><br><pre> <code class="plaintext hljs">extension CustomFuture &lt;T&gt; on Future&lt;T&gt; { Future&lt;T&gt; onError&lt;E&gt;( FutureOr&lt;T&gt; handleError(E error, StackTrace stack)) =&gt; this.catchError(...something clever...); }</code> </pre><br>  und so sieht der anruf aus: <br><br><pre> <code class="plaintext hljs">Future&lt;String&gt; someString = ...; someString.onError((FormatException e, s) =&gt; ...).then(...);</code> </pre><br>  Das ist alles!  Die L√∂sung f√ºr dieses Problem ben√∂tigte nur 5 Codezeilen.  Sie  Sie m√∂gen sich fragen, was f√ºr eine Art von Magie ist und wie sie funktioniert. <br><br>  Tats√§chlich verh√§lt es sich wie eine Wrapper-Klasse, obwohl es sich in Wirklichkeit nur um eine <b>statische</b> Hilfsfunktion handelt.  Mit Extension k√∂nnen Sie explizites Wrapper-Schreiben loslassen. <br><br><h3>  Dies ist kein Wrapper </h3><br>  Das Erweiterungsdesign funktioniert so, dass es wie eine Deklaration einer vorhandenen Klasse aussieht, sich jedoch so verh√§lt, als w√§re es ein Wrapper mit einem privaten _wrapper.  Gegen√ºber einer Wrapper-Klasse gibt es jedoch einen Vorteil: Es wird direkt auf die Klasse zugegriffen, anstatt auf die Wrapper-Klasse _wrapper. <br><br>  Diese Funktion wurde nicht aus Gr√ºnden der Funktionen erstellt, aber wie ich bereits sagte, sind Erweiterungen in der Tat eine bequemere M√∂glichkeit, statische Funktionen aufzurufen.  Dies bedeutet, dass kein Wrapper-Objekt vorhanden ist. <br><br><h3>  Es ist alles statisch </h3><br>  Ich habe oben "statische Erweiterungsmethoden" gesagt und das aus einem bestimmten Grund! <br><br>  Dart ist statisch geschrieben.  Der Compiler kennt den Typ jedes Ausdrucks zur Kompilierungszeit. Wenn Sie also user.age (19) schreiben und age eine Erweiterung ist, muss der Compiler herausfinden, welcher Typ in das angegebene Objekt eingeschlossen ist, um den Typ des gesamten Aufrufs zu ermitteln. <br><br><h3>  Welche Probleme k√∂nnen auftreten? </h3><br>  Das einfachste Beispiel f√ºr Probleme mit der Erweiterung ist, wenn Sie mehr als eine Erweiterung im Geltungsbereich haben.  Grunds√§tzlich ist der Gewinner die Erweiterung, die dem tats√§chlichen Ausdruckstyp am n√§chsten kommt, den Sie mit einigen Vorbehalten als Mitglied anrufen. <br><br>  Der einfachste Weg, das Problem zu l√∂sen, besteht darin, die von Ihnen ben√∂tigte Erweiterung zu verbinden, oder Sie k√∂nnen die Erweiterung explizit verwenden: <br><br><pre> <code class="plaintext hljs">... List list = ...; MyList(list).printlist(); SomeList(list).printlist(); ... extension MyList on List { void printlist() { print(...- ...); } } extension SomeList on List { void printlist() { print(...-  ...); } }</code> </pre><br><h2>  Zusammenfassung </h2><br><ul><li>  Die Dart-Sprache verf√ºgt √ºber ein praktisches Tool zur Erweiterung bestehender Funktionen. </li><li>  Sie k√∂nnen Methoden, Operatoren, Setter und Getter erweitern, jedoch keine Felder. </li><li>  Sie k√∂nnen Erweiterungsmethoden explizit aufrufen oder - wenn kein Konflikt mit einem Schnittstellenmitglied oder einer anderen Erweiterung vorliegt - implizit. </li><li>  Implizite Aufrufe funktionieren genauso wie explizite Aufrufe. </li><li>  Erweiterungen sind statisch.  Alles an ihnen wird auf der Basis statischer Typen gel√∂st. </li></ul><br>  Wenn die Ausgabe der Erweiterung aufgrund von Konflikten mit Erweiterungen fehlschl√§gt, haben Sie folgende M√∂glichkeiten: <br><br><ol><li>  Wenden Sie die Erweiterung explizit an. </li><li>  Importieren Sie die in Konflikt stehende Erweiterung mit dem Pr√§fix, da sie dann nicht f√ºr implizite Aufrufe verf√ºgbar ist. </li><li>  Importieren Sie √ºberhaupt keine widerspr√ºchlichen Erweiterungen. </li></ol><br>  Das ist alles!  Sie k√∂nnen die Erweiterung optimal nutzen. <br><br>  Und nat√ºrlich n√ºtzliche Links: <br><br>  <a href="https://flutter.dev/">Website flattern</a> <br>  <a href="https://dart.dev/">Dart Webseite</a> <br>  <a href="">Wo kann ich mehr √ºber die Erweiterung lesen?</a> <br>  <a href="https://t.me/flutter_russia">Telegrammkanal, in dem ich √ºber die neuesten Entwicklungen in der Welt von Flutter spreche und nicht nur</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de476930/">https://habr.com/ru/post/de476930/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de476914/index.html">Installieren Sie das Powershell-Modul aus dem Github-Repository</a></li>
<li><a href="../de476916/index.html">Ich will nicht mehr arbeiten, niemals und an nichts. Aber ich habe gelernt, die Ergebnisse aus mir herauszupressen</a></li>
<li><a href="../de476922/index.html">Life after Record Bird: Wie und wo sonst k√∂nnen Sie sich √ºber die Ver√∂ffentlichung von Musikver√∂ffentlichungen informieren?</a></li>
<li><a href="../de476924/index.html">Redux sind wie State Container in SwiftUI. Empfehlungen</a></li>
<li><a href="../de476928/index.html">Tesla Cybertruck Elektro Pickup: Pr√§sentationsergebnisse</a></li>
<li><a href="../de476934/index.html">Das Entfernen einer der Gehirnh√§lften ist nicht t√∂dlich - die zweite Hemisph√§re √ºbernimmt neue Aufgaben</a></li>
<li><a href="../de476936/index.html">Unzug√§nglicher Luxus von Intel: Core i9-9990XE mit 14 Kernen bei einer Frequenz von 5,0 GHz (1 Teil)</a></li>
<li><a href="../de476938/index.html">Unzug√§nglicher Luxus von Intel: Core i9-9990XE mit 14 Kernen bei einer Frequenz von 5,0 GHz (2 Teile)</a></li>
<li><a href="../de476940/index.html">Semaphor auf C ++ - Ereignissen</a></li>
<li><a href="../de476944/index.html">Das Gehirn der Firma. Starten Sie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>