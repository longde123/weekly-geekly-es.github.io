<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òÇÔ∏è üëÜüèΩ üëãüèª Anima√ß√£o em Ass√≠ntota üßùüèª üîè ü§µüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Copiado do meu blog para criar outra fonte de informa√ß√µes em russo sobre este t√≥pico. 

 Ol√° Quando, no processo de dominar o programa Asymptote, que ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Anima√ß√£o em Ass√≠ntota</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468125/">  Copiado do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">meu blog</a> para criar outra fonte de informa√ß√µes em russo sobre este t√≥pico. <br><br>  Ol√°  Quando, no processo de dominar o programa Asymptote, que ocorreu quando eu aprendi as nuances das configura√ß√µes deste programa descritas aqui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">neste hub</a> , dominei completamente o processamento de arquivos .asy que n√£o possuem anima√ß√£o, naturalmente eu a encontrei. <br><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text">  D√™ anima√ß√£o √†s massas! <br></div></div><br>  Felizmente, para isso, no caso do formato de sa√≠da .pdf, nenhum dos programas adicionais descritos por mim no hub usando o link acima, ap√≥s a instala√ß√£o do programa ghostscript, voc√™ n√£o precisa instalar, e at√© o diabo sabe quanto tempo estava cavando.  Mas ent√£o eu n√£o sabia disso, o que complicou o assunto muitas vezes.  Voc√™ processa o arquivo wheel.asy e o qu√™?  Bem, .pdf apareceu durante o processamento no TeXworks (consulte o link acima) na mesma pasta com o arquivo .asy processado e, quando aberto no Explorer (consulte o mesmo hub), na <code>C:\Windows\System32</code> .  E da√≠?  N√£o havia anima√ß√£o e √© isso, mesmo que voc√™ decifre.  Antes da anima√ß√£o no Asymptote, eu aprendi como fazer anima√ß√µes em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tikz</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pstricks</a> .  Portanto, n√£o tive √™xito at√© excluir o arquivo animate.sty da pasta <code>C:\Program Files\MiKTeX 2.9\tex\latex\animate</code> e colocar o arquivo com o mesmo nome baixado posteriormente.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">L√° est√° ele</a> .  Assim, sabendo que isso <a name="habracut"></a>  o pacote funciona com tikz e pstricks, eu estava inclinado a pensar que n√£o funciona para mim, provavelmente, n√£o por causa de problemas com o TeX, mas por algum outro motivo.  Ent√£o, pesquisei na Internet antiga por v√°rios anos.  No come√ßo eu procurei no navegador IE, bem, n√£o h√° tradutor conveniente l√°.  Ent√£o cheirei que o Google tem um tradutor conveniente.  Tamb√©m procurou, procurou, procurou, procurou, at√© que ele apareceu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nesta</a> p√°gina.  Descobriu-se que, por algum motivo, em todos os arquivos .asy da pasta <code>C:\Program Files\Asymptote\examples\animations</code> , para obt√™-los .pdf com anima√ß√£o, n√£o h√° linha √∫nica suficiente <br><br><pre> <code class="plaintext hljs">settings.twice=true;</code> </pre> <br>  Adicionei esta linha ao arquivo wheel.asy da subpasta de anima√ß√£o da pasta de exemplos: <br><br><div class="spoiler">  <b class="spoiler_title">Finalmente anima√ß√£o !!!!!!!</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">import graph; // Uncomment the following 2 lines to support pdf animations: usepackage("animate"); settings.tex="pdflatex"; settings.twice=true; import animation; size(0,200); defaultpen(3); dotfactor=4; pair wheelpoint(real t) { return (t+cos(t),-sin(t)); } guide wheel(guide g=nullpath, real a, real b, int n) { real width=(ba)/n; for(int i=0; i &lt;= n; ++i) { real t=a+width*i; g=g--wheelpoint(t); } return g; } real t1=0; real t2=t1+2*pi; animation a; draw(circle((0,0),1)); draw(wheel(t1,t2,100),linetype("0 2")); yequals(Label("$y=-1$",1.0),-1,extend=true,linetype("4 4")); xaxis(Label("$x$",align=3SW),0); yaxis("$y$",0,1.2); pair z1=wheelpoint(t1); pair z2=wheelpoint(t2); dot(z1); dot(z2); int n=10; real dt=(t2-t1)/n; for(int i=0; i &lt;= n; ++i) { save(); real t=t1+dt*i; draw(circle((t,0),1),red); dot(wheelpoint(t)); a.add(); // Add currentpicture to animation. restore(); } erase(); // Merge the images into a gif animation. //a.movie(BBox(0.25cm),loops=10,delay=250); // Merge the images into a pdf animation. label(a.pdf(BBox(0.25cm),delay=250,"controls",multipage=false));</code> </pre><br></div></div><br>  Ao mesmo tempo, para obter .pdf, sabendo 300 palavras em ingl√™s, percebi que era necess√°rio descomentar o arquivo wheel.asy dessa forma, no qual o usu√°rio o obt√©m do (s) autor (es) do programa Asymptote, 2 linhas: <br><br><pre> <code class="plaintext hljs">....................... usepackage("animate"); settings.tex="pdflatex"; .......................</code> </pre><br>  Observando os coment√°rios nessas linhas no final do arquivo wheel.asy: <br><br><pre> <code class="plaintext hljs">........................ // Merge the images into a gif animation. a.movie(BBox(0.25cm),loops=10,delay=250); // Merge the images into a pdf animation. // label(a.pdf(BBox(0.25cm),delay=250,"controls",multipage=false));</code> </pre><br>  , Percebi que para obter .pdf preciso refazer o c√≥digo que recebi dos autores do programa e comentar a linha <br><br><pre> <code class="plaintext hljs">a.movie(BBox(0.25cm),loops=10,delay=250);</code> </pre><br>  e remova o coment√°rio da linha <br><br><pre> <code class="plaintext hljs">label(a.pdf(BBox(0.25cm),delay=250,"controls",multipage=false));</code> </pre><br>  E como minha roda rolou ap√≥s esses movimentos do corpo!  A l√≥gica dos autores do programa Asymptote tamb√©m √© incompreens√≠vel: para obter .g, √© necess√°rio mais um programa do que obter .pdf.  Arquivos com exemplos provavelmente ser√£o assistidos por usu√°rios que n√£o sabem como fazer isso.  Bem, fa√ßa isso para que, ao abrir esses arquivos de uma vez, sem alterar nada neles, esses usu√°rios possam receber um formato que exija menos programas adicionais - .pdf, n√£o, eles criaram o .gif.  Porque ??  Bem oh bem.  Sim, tamb√©m observarei que, quando voc√™ abre o arquivo wheel.asy no Explorer (consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">meu hub</a> ) para obter um .gif em funcionamento, a presen√ßa do arquivo config.asy na mesma pasta com ele (consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">meu hub</a> ) √© opcional.  Deixe-me lembr√°-lo de que .gif nesse caso (quando aberto no Explorer) √© formado na <code>C:\Windows\System32</code> .  Ao processar esse arquivo .asy no TeXworks, a presen√ßa de config.asy na mesma pasta que o arquivo a ser processado √© obrigat√≥ria (ou inclui as linhas que descrevi no link anterior diretamente no pr√≥prio arquivo .asy processado).  Bem, aqui est√°.  Eu peguei essa roda em linha reta, ri todo, encantada.  J√° era noite.  Eu fui dormir  Acordei e comp.  Enquanto o computador estava ligado, ele se sentou, esfregando as m√£os.  Bem, acho que agora vou come√ßar matematicamente a usar √≥leo combust√≠vel para n√≥s.)  Sim, agora.  As anima√ß√µes da subpasta de exemplos foram bem-sucedidas em praticamente tudo, exceto em Embeddedmovie.asy, externalmovie.asy e embeddedu3d.asy.  Esperei pelos 2 primeiros arquivos mais tarde, mas ele n√£o funcionou com o √∫ltimo: l√°, pelo que entendi, √© necess√°rio fazer o download de algum arquivo dice.u3d em outro lugar e qual √© um grande segredo para uma pequena empresa.  Bem, isso "Oh, o reino n√£o √© suficiente, n√£o h√° lugar para vagar".  Eu escrevi, havia um c√≥digo assim: <br><br><pre> <code class="plaintext hljs">settings.twice=true; usepackage("animate"); import solids; settings.tex="pdflatex"; import animation; settings.outformat="pdf"; settings.axes3=true; import graph3; import palette; currentprojection=orthographic(1,1,1); limits((-1.3,-1.3,-1.3),(1.3,1.3,1.3)); unitsize(6cm); animation a; int n=44; for(int i=0; i&lt;=n; ++i){ real g(real x) {return sqrt(1-x^2);} pair G(real x) {return (x,g(x));} triple G3(real x) {return (x,g(x),0);} path q=graph(G,1-i/n,1); path3 q3=path3(q); revolution c=revolution(q3,X,0,360); draw(surface(c),red); real f(real x) {return sqrt(1-x^2);} pair F(real x) {return (x,f(x));} triple F3(real x) {return (x,f(x),0);} path p=graph(F,-1,-1+i/n); path3 p3=path3(p); revolution b=revolution(p3,X,0,360); draw(surface(b),green); axes3("$x$","$y$","$z$",Arrow3); a.add(); restore(); } erase(); label(a.pdf("controls,loop",delay=1000));</code> </pre><br>  Recebi o seguinte erro promissor no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TeXworks</a> : <br><br><pre> <code class="plaintext hljs">error: out of memory</code> </pre> <br>  Ao abrir esse arquivo .asy no Explorer (veja o link para o hub logo acima), o erro foi o mesmo.  Sim  Eu cozinhei, cozinhei, fiquei turvo, descobri que quando <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi><mo>=</mo><mn>3</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.656ex" height="1.937ex" viewBox="0 -728.2 2435.1 834" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhgnwsF1pfOx9L7Qi2FHNyznOvQ20w#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhgnwsF1pfOx9L7Qi2FHNyznOvQ20w#MJMAIN-3D" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhgnwsF1pfOx9L7Qi2FHNyznOvQ20w#MJMAIN-33" x="1934" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>=</mo><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> n = 3 </script>  acontece .pdf com anima√ß√£o, mas j√° em <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi><mo>=</mo><mn>4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.656ex" height="2.057ex" viewBox="0 -780.1 2435.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhgnwsF1pfOx9L7Qi2FHNyznOvQ20w#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhgnwsF1pfOx9L7Qi2FHNyznOvQ20w#MJMAIN-3D" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhgnwsF1pfOx9L7Qi2FHNyznOvQ20w#MJMAIN-34" x="1934" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>=</mo><mn>4</mn></math></span></span><script type="math/tex" id="MathJax-Element-2"> n = 4 </script>  que esse erro tamb√©m ocorra.  Deixe-me perguntar no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pr√≥prio f√≥rum</a> Asymptote.  Mas os anglo-sax√µes s√£o pessoas cumpridoras da lei que n√£o gostam de voltar atr√°s nas instru√ß√µes.  Eles n√£o inventaram nada.  O que fazer  Valia a pena cavar metade da Internet para trope√ßar em tal lixo?  Bem, nada, os russos n√£o desistem!  Al√©m disso, her√≥is normais sempre andam por a√≠ ... Comecei a observar o processo de processamento do arquivo wheel.asy no TeXworks e o que eu vi?  Primeiro, os arquivos _wheel + 0.pdf, _wheel + 1.pdf, ..., _wheel + 10.pdf aparecem e, a partir desses arquivos, um arquivo de v√°rias p√°ginas _wheel.pdf √© formado e posteriormente no programa.  E, para fazer tudo isso, o m√≥dulo de anima√ß√£o √© importado para o arquivo .asy do qual eles obter√£o a <i>anima√ß√£o</i> .  E ent√£o eu tive uma ideia.  Mas e se, neste m√≥dulo (arquivo <code>C:\Program Files\Asymptote\animation.asy</code> ), voc√™ encontrar um local que gere arquivos como _wheel + 0.pdf e o desative?  Voc√™ carimba esses arquivos com o processamento de ass√≠ntotas .asy arquivos gerados por loopback no arquivo em lotes?  Esses arquivos .asy podem ser criados com os nomes <i>nome + 0.asy</i> , <i>nome + 1.asy</i> e assim por diante, pelo tempo que for necess√°rio.  Onde o <i>nome</i> √© um conjunto de letras latinas associadas √† anima√ß√£o que est√° sendo criada, que voc√™ provavelmente deseja alterar no pdf pronto com anima√ß√£o.  Mas ser√° mais tarde.  Enquanto isso, depois de criar os arquivos, o <i>nome √© + 0.asy</i> , o <i>nome √© + 1.asy</i> ... de acordo com a minha ideia, o processamento pelo Asymptote deve seguir.  Isso criaria o <i>nome</i> dos arquivos <i>+ 0.pdf</i> , <i>nome + 1.pdf</i> ... E antes do c√≥digo que cria os arquivos <i>nome + 0.asy</i> , <i>nome + 1.asy</i> ..., eu precisava inserir linhas no arquivo em lotes para criar o nome do arquivo.asy ou melhor, apenas linhas para entrar nesse arquivo.  E o nome do arquivo.asy seria formado simplesmente como resultado do arquivo em lote.  Neste arquivo, o nome √© .asy, eu estava planejando importar o m√≥dulo de anima√ß√£o que converti em vez do pr√≥prio m√≥dulo de <i>anima√ß√£o</i> .  Decidi tornar o in√≠cio desse arquivo name.asy o mais simples, no esp√≠rito do in√≠cio do arquivo wheel.asy.  Ap√≥s o loop, eu apenas estupidamente copiei as linhas deste arquivo e colei-as no arquivo em lotes assim: <br><br><pre> <code class="plaintext hljs">echo  &gt;&gt; .asy</code> </pre><br>  , <br><br><pre> <code class="plaintext hljs">echo  &gt;&gt; .asy</code> </pre><br>  Eu escrevi o arquivo em lotes para que, no arquivo criado, o nome.F√°cil, o corpo do loop estava vazio e, onde estava, ficaria assim: <br><br><pre> <code class="plaintext hljs">for(int i=0; i &lt;= n; ++i) {</code> </pre><br>  No arquivo em lotes, a linha acima da linha de c√≥digo inserindo essa linha no nome do arquivo.asy √© uma linha <br><br><pre> <code class="plaintext hljs">echo int n=%n%; &gt;&gt;%name%.asy</code> </pre><br>  , e a terceira e quarta linhas desse arquivo em lotes s√£o: <br><pre> <code class="plaintext hljs">set n=24 set name=OdnopGip</code> </pre><br>  , portanto, no in√≠cio do processamento do loop no nome do arquivo, o Easy Asymptote j√° sabe o valor de n nesse caso e tudo funciona.  O nome da vari√°vel de ambiente significa, na tradu√ß√£o para o idioma deste artigo, o <i>nome</i> de <i>name.asy</i> .  Declarar neste caso os valores de nome ou n no arquivo em lotes via conjunto me parece extremamente conveniente: alterar seus valores em apenas um lugar no arquivo em lotes implica alterar todos os nomes de arquivos .tex, .pdf gerados durante o processamento de qualquer arquivo ou n√∫mero .asy espec√≠fico quadros no pdf animado resultante, alterando essencialmente os detalhes da anima√ß√£o.  Bem, aqui est√°.  Ent√£o, eu preparei o <i>nome</i> dos quadros <i>+ 0.pdf</i> , <i>nome + 1.pdf</i> ..., no entanto, uma vez que ap√≥s a prepara√ß√£o de cada quadro aberto, tive que incluir um comando no meu arquivo em lotes para fech√°-lo.  Como n√£o sabia como fechar uma janela com um t√≠tulo espec√≠fico de um arquivo em lotes, inclu√≠ o seguinte comando no meu arquivo em lotes no corpo do ciclo de processamento do quadro em branco. <br><pre> <code class="plaintext hljs">taskkill /IM AcroRd32.exe</code> </pre><br>  , que, como ficou mais adiante no processo de execu√ß√£o de tudo isso, √© ainda melhor do que fechar cada quadro espec√≠fico: √†s vezes, o quadro n√£o tem tempo para aparecer no monitor, mas o processamento do pr√≥ximo arquivo .asy come√ßa, no final do qual o pr√≥ximo quadro aparece no monitor e o final com o comando desta pr√≥xima etapa do ciclo, o quadro da pr√≥xima etapa e o quadro da etapa anterior, ap√≥s o qual o arquivo em lotes em execu√ß√£o √© passado, ser√£o fechados, embora seja claro que depois de incluir esse comando no arquivo em lote durante a execu√ß√£o do livro em .pdf, n√£o ser√° mais  Eu sou ruim sim  Mais adiante na l√≥gica, eu precisei renomear os arquivos nome + 0.asy, nome + 1.asy, ... para _name + 0.asy, _name + 1.asy, ..., desde a presen√ßa de arquivos com exatamente esses nomes em um A pasta com o arquivo .asy sendo processado, na qual h√° anima√ß√£o, pressup√µe que esse arquivo seja processado, desde que o m√≥dulo de anima√ß√£o nativo seja importado antes de iniciar a produ√ß√£o do nome do arquivo.pdf (sim, eu poderia, dentro do loop do arquivo em lotes com a vari√°vel k, n√£o alinhar as linhas do c√≥digo que comp√µe o quadro, n√£o o nome do arquivo + k.asy e o arquivo _name + k.asy, mas isso exigiria mais entrada do caractere "_". E processamento adicional de feridas de ass√≠ntota  . Arquivo E criado imya.asy Em suma, de acordo com a id√©ia original era ter um arquivo de lote parece com isso: <br><br><pre> <code class="plaintext hljs">cd /d %0\.. echo off set n=99 set name=cvetok echo settings.twice=true; &gt; %name%.asy echo usepackage("animate"); &gt;&gt;%name%.asy echo settings.tex="pdflatex"; &gt;&gt;%name%.asy echo import izgraphiki; &gt;&gt;%name%.asy echo animation a; &gt;&gt;%name%.asy echo int n=%n%; &gt;&gt;%name%.asy echo for(int i=0; i ^&lt;= n; ++i) { &gt;&gt;%name%.asy echo a.add(); &gt;&gt;%name%.asy echo restore(); &gt;&gt;%name%.asy echo } &gt;&gt;%name%.asy echo erase(); &gt;&gt;%name%.asy echo label(a.pdf(BBox(0.25cm),delay=250,"controls",multipage=false)); &gt;&gt;%name%.asy for /l %%k in (0,1,%n%) do ( echo import graph; &gt;&gt; %name%+%%k.asy echo settings.tex="pdflatex"; &gt;&gt; %name%+%%k.asy echo limits((-1.2,-1.2^),(1.2,1.2^)^); &gt;&gt; %name%+%%k.asy echo size(0,100^); &gt;&gt; %name%+%%k.asy echo real f(real t^) {return cos(2*t^);} &gt;&gt; %name%+%%k.asy echo path g=polargraph(f,0,2pi*%%k/%n%,operator ..^)--cycle; &gt;&gt; %name%+%%k.asy echo fill(g,green+white^); &gt;&gt; %name%+%%k.asy echo xaxis("$x$",above=true^); &gt;&gt; %name%+%%k.asy echo yaxis("$y$",above=true^); &gt;&gt; %name%+%%k.asy echo draw(g^); &gt;&gt; %name%+%%k.asy ) for /l %%l in (0,1,%n%) do ( asy %name%+%%l.asy taskkill /IM AcroRd32.exe ) for /l %%l in (0,1,%n%) do ( rename %name%+%%l.pdf _%name%+%%l.pdf ) asy %name%.asy</code> </pre><br>  Aqui vemos que estou importando o m√≥dulo animation.asy que modifiquei acima.  Eu dei o nome simples izgraphiki.asy a este m√≥dulo.  E para o arquivo .pdf de anima√ß√£o que recebo, n√£o criei um nome melhor que cvetok.  Aparentemente, por causa da escassez de sua imagina√ß√£o.  Bem, vamos l√°, como √©.  Vou falar sobre o m√≥dulo "my" izgraphiki.asy no final desta hist√≥ria, para n√£o perder o fio da hist√≥ria agora, mas por enquanto observarei que √© feita uma tentativa de dar a esse arquivo o nome de iz-graphiki.asy e iz + graphiki.asy para testes n√£o levou ao objetivo pretendido: o trabalho do meu arquivo em lotes parou a todo vapor e n√£o foi retomado sob nenhuma circunst√¢ncia.  Aparentemente, os m√≥dulos do programa Asymptote devem conter apenas <u>letras do</u> alfabeto latino.  De qualquer forma, o cumprimento dessa condi√ß√£o certamente n√£o far√° mal.  Portanto, o trabalho do arquivo em lotes que citei acima terminou com a apar√™ncia do cobi√ßado arquivo .pdf com anima√ß√£o de um tamanho arbitrariamente grande (dentro de limites razo√°veis, para n√£o esperar 3 horas, ele funciona, o .pdf animado aparece, est√° tudo bem, mas o computador tem uma velocidade de execu√ß√£o opera√ß√µes s√£o apenas finais).  Deixe-me fazer constru√ß√£o animada de objetos 3D.  E ent√£o outros problemas se tornaram claros.  Consegui carimbar fotos com esses objetos, mas, √© isso.  Nesses quadros, esses objetos eram rotacionados no espa√ßo, tudo est√° bem aqui, mas apenas por causa dessa presen√ßa de volume nos quadros em pdf, eles n√£o podem ser usados ‚Äã‚Äãpara criar quadros em pdf com anima√ß√£o.  Deixe-me pensar mais.  Observando o processamento de um arquivo sphere.asy ligeiramente modificado: <br><br><div class="spoiler">  <b class="spoiler_title">arquivo sphere.asy ligeiramente modificado</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">settings.twice=true; usepackage("animate"); import solids; settings.tex="pdflatex"; import animation; settings.outformat="pdf"; currentprojection=orthographic((0,5,2)); currentlight=(0,5,5); int nbpts=200; real step=2*pi/nbpts; int angle=90; unitsize(1cm); triple[] P=new triple[nbpts]; for(int i=0; i &lt; nbpts; ++i) { real t=-pi+i*step; P[i]=(3sin(t)*cos(2t),3sin(t)*sin(2t),3cos(t)); } transform3 t=rotate(angle,(0,0,0),(1,0.25,0.25)); revolution r=sphere(O,3); draw(surface(r),lightgrey); draw(r,backpen=linetype("8 8",8)); animation A; for(int phi=0; phi &lt; 360; phi += angle) { bool[] front=new bool[nbpts]; save(); for(int i=0; i &lt; nbpts; ++i) { P[i]=t*P[i]; front[i]=dot(P[i],currentprojection.camera) &gt; 0; } draw(segment(P,front,operator ..),1mm+blue+extendcap); draw(segment(P,!front,operator ..),grey); A.add(); restore(); } label(A.pdf());</code> </pre><br></div></div><br>  , Notei que durante esse processamento todos os quadros da anima√ß√£o aparecem e n√£o desaparecem sequencialmente, mas somente eles, se assim posso dizer, na vers√£o 2d: na minha opini√£o, s√£o gr√°ficos 3D completos, mas se voc√™ tentar visualiz√°-los de lados diferentes na janela do visualizador Abode Leitor movendo-se com o bot√£o esquerdo do mouse pressionado, como esperado nos gr√°ficos 3D obtidos com o Asymptote, a menos que a possibilidade dessa considera√ß√£o seja desativada intencionalmente antes de iniciar a produ√ß√£o de .pdf com anima√ß√£o em um arquivo .asy, isso se torna imposs√≠vel  th.  Os nomes desses quadros 2d: _sphere + 0.pdf, _sphere + 1.pdf, ... Depois de aprender sobre a gera√ß√£o de quadros 2d espaciais ao processar arquivos .asy que possuem anima√ß√£o de objetos 3D, ocorreu-me obter quadros .pdf a partir de um arquivo em lotes para uso posterior no processamento do arquivo .asy, no qual existe um ciclo com um corpo vazio, que eu gero no in√≠cio do arquivo em lotes, processando n√£o apenas arquivos .asy, mas processando arquivos .asy, cada um com um ciclo.  Esses loops em cada um desses stubs de arquivo .asy para receber um quadro .pdf dele formam um √∫nico quadro: n√£o fiz esses stubs para obter .pdf com anima√ß√£o deles, mas para obter um quadro 2d, ali√°s no processo de processamento de cada arquivo stasy .asy.  Para receber arquivos .asy em branco com esses loops, fiz com que, nos loops de todos os arquivos em branco .asy, as vari√°veis ‚Äã‚Äãdesses loops no in√≠cio e no final dos loops tenham o mesmo valor - 0. As diferen√ßas entre os quadros .pdf resultantes do processamento play Asymptote of blank files .asy s√£o causadas por diferen√ßas nos corpos dos arquivos de loop dos espa√ßos em branco.asy, que (diferen√ßas) s√£o, por sua vez, devido √† introdu√ß√£o de cada um dos valores seq√ºenciais da vari√°vel de loop do arquivo em lote nas fun√ß√µes do corpo dos arquivos de loop do blanks.asy, criados pelo arquivo em lote quando sua vari√°vel qi  O Kla, levando seu pr√≥ximo valor, congela, aguardando a conclus√£o da cria√ß√£o do arquivo de compras.asy, correspondente a esse valor da vari√°vel de loop do arquivo em lote.  Em resumo, essas diferen√ßas s√£o criadas pela vari√°vel de loop do arquivo em lotes.  Os nomes desses quadros 2D s√£o da forma: nome + k + 0.pdf, onde, porque esses quadros 2D s√£o o resultado de uma altera√ß√£o na vari√°vel de loop do arquivo em lotes, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/468125/&amp;usg=ALkJrhgnwsF1pfOx9L7Qi2FHNyznOvQ20w#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-3"> k </script>  leva valores de 0 ao valor final da vari√°vel de loop do arquivo em lotes na etapa 1. Para obter o .pdf animado do arquivo .asy com o corpo vazio do loop criado pelo arquivo em lotes anteriormente, os nomes dos quadros .pdf devem ter o seguinte formato: _name + k.pdf.  Portanto, a pr√≥xima equipe no arquivo em lotes renomeei esses quadros-.pdf.  Eu fiz isso em um loop.  E, finalmente, a equipe de processamento executa o arquivo .asy do Asymptote com um corpo de loop vazio.  Ap√≥s esse processamento, um arquivo .pdf com anima√ß√£o √© exibido.  No arquivo em lotes, ap√≥s esse comando, n√£o escrevi um comando para abrir o arquivo .pdf com anima√ß√£o, porque essa abertura √© assumida por padr√£o; esse arquivo .pdf com anima√ß√£o √© aberto de qualquer maneira no final deste processamento, assim como um arquivo .pdf √© aberto. gerado pelo Asymptote processando um arquivo .asy sem anima√ß√£o.  Se o leitor observou o processo de processamento de arquivos .asy de uma subpasta com anima√ß√µes da pasta de exemplos localizada na pasta do programa Asymptote, ele entender√° que parte do <i>nome</i> de _name + k.pdf deve coincidir com o nome do arquivo .asy com um corpo de loop vazio.  Os arquivos _name + k.pdf s√£o o resultado da renomea√ß√£o de outros arquivos .pdf (nome dos arquivos + k + 0.pdf), que, por sua vez, s√£o um subproduto do programa que processa alguns arquivos .asy, portanto, para simplificar a tarefa, criei esses arquivos .asy foram criados por um arquivo em lotes sob os nomes nome + 0.asy, nome + 1.asy, ... Ent√£o, bem, descrevi o princ√≠pio do trabalho de um arquivo em lote que planejei, √© hora de dar um exemplo de um desses arquivos em lotes.  Por exemplo, isto: <br><br><pre> <code class="plaintext hljs">cd /d %0\.. echo off set n=44 echo settings.twice=true; &gt;&gt;sphera.asy echo usepackage("animate"); &gt;&gt;sphera.asy echo settings.tex="pdflatex"; &gt;&gt;sphera.asy echo import izgraphiki; &gt;&gt;sphera.asy echo animation a; &gt;&gt;sphera.asy echo int n=%n%; &gt;&gt;sphera.asy echo for(int i=0; i ^&lt;= n; ++i) { &gt;&gt;sphera.asy echo a.add(); &gt;&gt;sphera.asy echo restore(); &gt;&gt;sphera.asy echo } &gt;&gt;sphera.asy echo erase(); &gt;&gt;sphera.asy echo label(a.pdf(BBox(0.25cm),delay=250,"controls,loop,autoplay",multipage=false)); &gt;&gt;sphera.asy for /l %%k in (0,1,%n%) do ( echo settings.twice=true; &gt;&gt; sphera+%%k.asy echo usepackage("animate"^); &gt;&gt; sphera+%%k.asy echo import solids; &gt;&gt; sphera+%%k.asy echo settings.tex="pdflatex"; &gt;&gt; sphera+%%k.asy echo import animation; &gt;&gt; sphera+%%k.asy echo settings.outformat="pdf"; &gt;&gt; sphera+%%k.asy echo settings.axes3=true; &gt;&gt; sphera+%%k.asy echo import graph3; &gt;&gt; sphera+%%k.asy echo import palette; &gt;&gt; sphera+%%k.asy echo currentprojection=orthographic(1,1,1^); &gt;&gt; sphera+%%k.asy echo limits((-1.3,-1.3,-1.3^),(1.3,1.3,1.3^)^); &gt;&gt; sphera+%%k.asy echo unitsize(6cm^); &gt;&gt; sphera+%%k.asy echo animation a=animation(global=false^); //  (global=false^)   &gt;&gt;sphera+%%k.asy echo //C:\Program Files\Asymptote/plain_shipout.asy: 87.10: runtime: Cannot rename _sphera+2+0_.pdf to &gt;&gt;sphera+%%k.asy echo //_sphera+2+0.pdf &gt;&gt;sphera+%%k.asy echo for(int i=0; i ^&lt;= 0; ++i^) { &gt;&gt;sphera+%%k.asy echo real f(real x^) {return sqrt(1-x^^2^);} &gt;&gt; sphera+%%k.asy echo pair F(real x^) {return (x,f(x^)^);} &gt;&gt; sphera+%%k.asy echo triple F3(real x^) {return (x,f(x^),0^);} &gt;&gt; sphera+%%k.asy echo path p=graph(F,-1+i,-1+i+%%k/%n%^); &gt;&gt; sphera+%%k.asy echo path3 p3=path3(p^); &gt;&gt; sphera+%%k.asy echo revolution b=revolution(p3,X,0,360^); &gt;&gt; sphera+%%k.asy echo draw(surface(b^),green^); &gt;&gt; sphera+%%k.asy echo real g(real x^) {return sqrt(1-x^^2^);} &gt;&gt; sphera+%%k.asy echo pair G(real x^) {return (x,f(x^)^);} &gt;&gt; sphera+%%k.asy echo triple G3(real x^) {return (x,g(x^),0^);} &gt;&gt; sphera+%%k.asy echo path q=graph(G,1-i-%%k/%n%,1-i^); &gt;&gt; sphera+%%k.asy echo path3 q3=path3(q^); &gt;&gt; sphera+%%k.asy echo revolution c=revolution(q3,X,0,360^); &gt;&gt; sphera+%%k.asy echo draw(surface(c^),red^); &gt;&gt; sphera+%%k.asy echo axes3("$x$","$y$","$z$",Arrow3^); &gt;&gt; sphera+%%k.asy echo a.add(^); &gt;&gt;sphera+%%k.asy echo restore(^); &gt;&gt;sphera+%%k.asy echo } &gt;&gt;sphera+%%k.asy echo erase(^); &gt;&gt;sphera+%%k.asy echo label(a.pdf(^)^); &gt;&gt;sphera+%%k.asy ) rem for /f %%l in (0,1,%n%) do asy '_sphera+%%l'.asy for /l %%l in (0,1,%n%) do ( asy sphera+%%l.asy taskkill /F /IM AcroRd32.exe ) for /l %%l in (0,1,%n%) do rename sphera+%%l+0.pdf _sphera+%%l.pdf asy sphera.asy</code> </pre><br>  Por favor, preste aten√ß√£o √† linha <br><br><pre> <code class="plaintext hljs">echo for(int i=0; i ^&lt;= n; ++i) { &gt;&gt;sphera.asy</code> </pre><br>  como o s√≠mbolo <code>&lt;</code> tem um significado especial para o int√©rprete da linha de comando, para que esse int√©rprete tome esse s√≠mbolo no significado literal, escapei desse s√≠mbolo colocando o s√≠mbolo <code>^</code> na frente dele.         <code>^</code>    ,        .  ,           ,          ,        <br><br><pre> <code class="plaintext hljs">for /l %%k in (0,1,%n%) do (</code> </pre><br> ,  ,            .  (   ,      ,           sphera.asy      : <br><br><pre> <code class="plaintext hljs">settings.twice=true; usepackage("animate"); settings.tex="pdflatex"; import izgraphiki; animation a; int n=44; for(int i=0; i &lt;= n; ++i) { a.add(); restore(); } erase(); label(a.pdf(BBox(0.25cm),delay=250,"controls,loop,autoplay",multipage=false));</code> </pre><br>     sphera+0.asy, sphera+1.asy,..., sphera+44.asy,       Asymptote      2d- sphera+0.pdf, sphera+1.pdf,..., sphera+44.pdf.  ,   sphera+4.asy  : <br><br><pre> <code class="plaintext hljs">settings.twice=true; usepackage("animate"); import solids; settings.tex="pdflatex"; import animation; settings.outformat="pdf"; settings.axes3=true; import graph3; import palette; currentprojection=orthographic(1,1,1); limits((-1.3,-1.3,-1.3),(1.3,1.3,1.3)); unitsize(6cm); animation a=animation(global=false); //          (global                  //C:\Program Files\Asymptote/plain_shipout.asy: 87.10: runtime: Cannot rename _sphera+2+0_.pdf to //_sphera+2+0.pdf for(int i=0; i &lt;= 0; ++i) { real f(real x) {return sqrt(1-x^2);} pair F(real x) {return (x,f(x));} triple F3(real x) {return (x,f(x),0);} path p=graph(F,-1+i,-1+i+4/44); path3 p3=path3(p); revolution b=revolution(p3,X,0,360); draw(surface(b),green); real g(real x) {return sqrt(1-x^2);} pair G(real x) {return (x,f(x));} triple G3(real x) {return (x,g(x),0);} path q=graph(G,1-i-4/44,1-i); path3 q3=path3(q); revolution c=revolution(q3,X,0,360); draw(surface(c),red); axes3("$x$","$y$","$z$",Arrow3); a.add(); restore(); } erase(); label(a.pdf());</code> </pre><br>    ,   sphera+4.asy  TeXworks',     UTF-8: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6f8/0fe/edb/6f80feedb143f6a0369c71dd298b0ff3.jpg" alt="imagem"><br><br>     ANSI. ,             - .asy, , ,       Asymptote.        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> 2d-</a> .          2d-,       ,     ,       2d-.   - .asy  ,            .    2d- sphera+0+0.pdf, sphera+1+0.pdf,..., sphera+44+0.pdf  _sphera+0.pdf, _sphera+1.pdf,..., _sphera+44.pdf, , ,   Asymptote      sphera.asy.    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  </a> .     .gif  ,      .gif   -   .    .gif,   .pdf  ,   ,    ,   , . ., ,  .pdf  ,   .gif .  .gif    ,           : <br><br><pre> <code class="plaintext hljs">cd /d %0\.. echo off set n=44 echo import graph; &gt;sphera.asy echo settings.twice=true; &gt;&gt;sphera.asy echo usepackage("animate"); &gt;&gt;sphera.asy echo settings.tex="pdflatex"; &gt;&gt;sphera.asy echo import izgraphikigif; &gt;&gt;sphera.asy echo animation a; &gt;&gt;sphera.asy echo yequals(Label("$y=-1$",1.0),-1,extend=true,linetype("4 4")); &gt;&gt;sphera.asy echo int n=%n%; &gt;&gt;sphera.asy echo for(int i=0; i ^&lt;= n; ++i) { &gt;&gt;sphera.asy echo a.add(); &gt;&gt;sphera.asy echo restore(); &gt;&gt;sphera.asy echo } &gt;&gt;sphera.asy echo erase(); &gt;&gt;sphera.asy echo a.movie(); &gt;&gt;sphera.asy for /l %%k in (0,1,%n%) do ( echo settings.twice=true; &gt; sphera+%%k.asy echo usepackage("animate"^); &gt;&gt; sphera+%%k.asy echo import solids; &gt;&gt; sphera+%%k.asy echo settings.tex="pdflatex"; &gt;&gt; sphera+%%k.asy echo import animation; &gt;&gt; sphera+%%k.asy echo settings.outformat="pdf"; &gt;&gt; sphera+%%k.asy echo settings.axes3=true; &gt;&gt; sphera+%%k.asy echo import graph3; &gt;&gt; sphera+%%k.asy echo import palette; &gt;&gt; sphera+%%k.asy echo currentprojection=orthographic(1,1,1^); &gt;&gt; sphera+%%k.asy echo limits((-1.3,-1.3,-1.3^),(1.3,1.3,1.3^)^); &gt;&gt; sphera+%%k.asy echo unitsize(6cm^); &gt;&gt; sphera+%%k.asy echo animation a=animation(global=false^); //  (global=false^)   &gt;&gt;sphera+%%k.asy echo //C:\Program Files\Asymptote/plain_shipout.asy: 87.10: runtime: Cannot rename _sphera+2+0_.pdf to &gt;&gt;sphera+%%k.asy echo //_sphera+2+0.pdf &gt;&gt;sphera+%%k.asy echo for(int i=0; i ^&lt;= 0; ++i^) { &gt;&gt;sphera+%%k.asy echo real f(real x^) {return sqrt(1-x^^2^);} &gt;&gt; sphera+%%k.asy echo pair F(real x^) {return (x,f(x^)^);} &gt;&gt; sphera+%%k.asy echo triple F3(real x^) {return (x,f(x^),0^);} &gt;&gt; sphera+%%k.asy echo path p=graph(F,-1+i,-1+i+%%k/%n%^); &gt;&gt; sphera+%%k.asy echo path3 p3=path3(p^); &gt;&gt; sphera+%%k.asy echo revolution b=revolution(p3,X,0,360^); &gt;&gt; sphera+%%k.asy echo draw(surface(b^),green^); &gt;&gt; sphera+%%k.asy echo real g(real x^) {return sqrt(1-x^^2^);} &gt;&gt; sphera+%%k.asy echo pair G(real x^) {return (x,f(x^)^);} &gt;&gt; sphera+%%k.asy echo triple G3(real x^) {return (x,g(x^),0^);} &gt;&gt; sphera+%%k.asy echo path q=graph(G,1-i-%%k/%n%,1-i^); &gt;&gt; sphera+%%k.asy echo path3 q3=path3(q^); &gt;&gt; sphera+%%k.asy echo revolution c=revolution(q3,X,0,360^); &gt;&gt; sphera+%%k.asy echo draw(surface(c^),red^); &gt;&gt; sphera+%%k.asy echo axes3("$x$","$y$","$z$",Arrow3^); &gt;&gt; sphera+%%k.asy echo a.add(^); &gt;&gt;sphera+%%k.asy echo restore(^); &gt;&gt;sphera+%%k.asy echo } &gt;&gt;sphera+%%k.asy echo erase(^); &gt;&gt;sphera+%%k.asy echo label(a.pdf(^)^); &gt;&gt;sphera+%%k.asy ) for /l %%l in (0,1,%n%) do ( asy sphera+%%l.asy taskkill /F /IM AcroRd32.exe ) rem for /l %%l in (0,1,%n%) do rename sphera+%%l+0.pdf _sphera+%%l.pdf asy sphera.asy</code> </pre><br>         ,   ,     .gif    wheel.asy.  ,    <br><br><pre> <code class="plaintext hljs">yequals(Label("$y=-1$",1.0),-1,extend=true,linetype("4 4"));</code> </pre> <br>   sphera.asy   ,    .       ,              /¬´ ¬ª     .asy    .       .gif,   Imagemagick  2d-: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/196/03e/950/19603e950e36d48883c3acf0eb005b26.gif" alt="imagem"><br><br> ,    . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   <s></s> , </a> . ? <br><br>      <code>magick *.eps sphere.gif</code>   ,   ,    2d-   .eps.        .gif    .  ,  10 )). , ,   .   ,    ,    ,        animation.asy.        ,      ( ) ?            .gif    .   ,     izgraphiki.asy ‚Äì   animation.asy ‚Äì    .pdf     (    (. ) 3d   )       .gif     (    (. ) 3d   ). ,     ¬´¬ª       .  ¬´¬ª    .pdf,          animation.asy,      ( ,     ) -  4 ,     ,    -,    :           : ,    .      ,    ( )       .     animation.asy: <br><br><pre> <code class="plaintext hljs">string format=nativeformat(); plain.shipout(name,f,format=format,view=false); files.push(name+"."+format); shipped=false;</code> </pre><br>  ,        izgraphiki.asy: <br><br><pre> <code class="plaintext hljs">//string format=nativeformat(); //plain.shipout(name,f,format=format,view=false); //files.push(name+"."+format); //shipped=false;</code> </pre><br>      izgraphiki.asy: <br><br><div class="spoiler"> <b class="spoiler_title"> izgraphiki.asy</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">/***** * animation.asy * Andy Hammerlindl and John Bowman 2005/11/06 * * Produce GIF, inline PDF, or other animations. *****/ // animation delay is in milliseconds real animationdelay=50; typedef frame enclosure(frame); frame NoBox(frame f) { return f; } enclosure BBox(real xmargin=0, real ymargin=xmargin, pen p=currentpen, filltype filltype=NoFill) { return new frame(frame f) { box(f,xmargin,ymargin,p,filltype,above=false); return f; }; } struct animation { picture[] pictures; string[] files; int index; string prefix; bool global; // If true, use a global scaling for all frames; this requires // extra memory since the actual shipout is deferred until all frames have // been generated. void operator init(string prefix="", bool global=true) { prefix=replace(stripdirectory(outprefix(prefix))," ","_"); this.prefix=prefix; this.global=global; } string basename(string prefix=stripextension(prefix)) { return "_"+prefix; } string name(string prefix, int index) { return stripextension(prefix)+"+"+string(index); } private string nextname() { string name=basename(name(prefix,index)); ++index; return name; } void shipout(string name=nextname(), frame f) { // string format=nativeformat(); // plain.shipout(name,f,format="png",view=false); //generiruet!!!! //files.push(name+"."+format); // shipped=false; } void add(picture pic=currentpicture, enclosure enclosure=NoBox) { if(global) { ++index; pictures.push(pic.copy()); } else this.shipout(enclosure(pic.fit())); } void purge(bool keep=settings.keep) { if(!keep) { for(int i=0; i &lt; files.length; ++i) delete(files[i]); } } int merge(int loops=0, real delay=animationdelay, string format="gif", string options="", bool keep=settings.keep) { string args="-loop " +(string) loops+" -delay "+(string)(delay/10)+ " -alpha Off -dispose Background "+options; for(int i=0; i &lt; files.length; ++i) args += " " +files[i]; int rc=convert(args,prefix+"."+format,format=format); this.purge(keep); if(rc == 0) animate(file=prefix+"."+format,format=format); else abort("merge failed"); return rc; } void glmovie(string prefix=prefix, projection P=currentprojection) { if(!view() || settings.render == 0) return; fit(prefix,pictures,view=true,P); } // Export all frames with the same scaling. void export(string prefix=prefix, enclosure enclosure=NoBox, bool multipage=false, bool view=false, projection P=currentprojection) { if(pictures.length == 0) return; if(!global) multipage=false; bool inlinetex=settings.inlinetex; if(multipage) settings.inlinetex=false; frame multi; frame[] fits=fit(prefix,pictures,view=false,P); for(int i=0; i &lt; fits.length; ++i) { string s=name(prefix,i); if(multipage) { add(multi,enclosure(fits[i])); newpage(multi); files.push(s+"."+nativeformat()); } else { if(pictures[i].empty3() || settings.render &lt;= 0) this.shipout(s,enclosure(fits[i])); else // 3D frames files.push(s+"."+nativeformat()); } } if(multipage) { plain.shipout(prefix,multi,view=view); settings.inlinetex=inlinetex; } shipped=true; } string load(int frames, real delay=animationdelay, string options="", bool multipage=false) { if(!global) multipage=false; string s="\animategraphics["+options+"]{"+format("%.18f",1000/delay,"C")+ "}{"+basename(); if(!multipage) s += "+"; s += "}{0}{"+string(frames-1)+"}"; return s; } bool pdflatex() { return latex() &amp;&amp; pdf(); } string pdf(enclosure enclosure=NoBox, real delay=animationdelay, string options="", bool keep=settings.keep, bool multipage=true) { if(settings.inlinetex) multipage=true; if(!global) multipage=false; if(!pdflatex()) abort("inline pdf animations require -tex pdflatex or -tex xelatex"); if(settings.outformat != "") settings.outformat="pdf"; string filename=basename(); string pdfname=filename+".pdf"; if(global) export(filename,enclosure,multipage=multipage); shipped=false; if(!keep) { exitfcn currentexitfunction=atexit(); void exitfunction() { if(currentexitfunction != null) currentexitfunction(); if(multipage || !settings.inlinetex) this.purge(); if(multipage &amp;&amp; !settings.inlinetex) delete(pdfname); } atexit(exitfunction); } if(!multipage) delete(pdfname); return load(index,delay,options,multipage); } int movie(enclosure enclosure=NoBox, int loops=0, real delay=animationdelay, string format=settings.outformat == "" ? "gif" : settings.outformat, string options="", bool keep=settings.keep) { if(global) { if(format == "pdf") { export(enclosure,multipage=true,view=true); return 0; } export(enclosure); } return merge(loops,delay,format,options,keep); } } animation operator init() { animation a=animation(); return a; }</code> </pre><br></div></div><br> ,   <br><br><pre> <code class="plaintext hljs">plain.shipout(name,f,format="png",view=false); //generiruet!!!!</code> </pre><br>      -   animation.asy,      ,     :    ,        .      .gif  ,     izgraphiki.asy,         izgraphikigif.asy  animation.asy    ‚Äî <pre> <code class="plaintext hljs">plain.shipout(name,f,format= format,view=false);</code> </pre><br> , . .     izgraphikigif.asy   : <br><br><pre> <code class="plaintext hljs">//plain.shipout(name,f,format= format,view=false);</code> </pre><br> ,      .  ,  animation.asy  <br> izgraphikigif.asy      ,    .   ,    izgraphikigif.asy    .pdf   ,     2     . ,  , -  if,  ,   : , ,         Asymptote. , ,   ,    ,     ,     ,        ‚Äì        : <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">cd /d %0\.. echo off set n=2 set name=kriv echo settings.twice=true; &gt;%name%.asy echo settings.prc=false; &gt;&gt; %name%.asy echo // Uncomment the following 2 lines to support pdf animations: &gt;&gt;%name%.asy echo usepackage("animate"^); &gt;&gt;%name%.asy echo settings.tex="pdflatex"; &gt;&gt;%name%.asy echo import sinoid; &gt;&gt;%name%.asy echo animation a; &gt;&gt;%name%.asy echo int n=%n%; &gt;&gt;%name%.asy echo for(int i=0; i ^&lt;= n; ++i^) { &gt;&gt;%name%.asy echo a.add(^); // Add currentpicture to animation. &gt;&gt;%name%.asy echo restore(^); &gt;&gt;%name%.asy echo } &gt;&gt;%name%.asy echo erase(^); &gt;&gt;%name%.asy echo label(a.pdf(BBox(0.25cm^),delay=250,"controls",multipage=false^)^); &gt;&gt;%name%.asy for /l %%k in (0,1,%n%) do ( echo import graph; &gt; %name%+%%k.asy echo settings.twice=true; &gt;&gt; %name%+%%k.asy echo usepackage("animate"^); &gt;&gt; %name%+%%k.asy echo settings.tex="pdflatex"; &gt;&gt; %name%+%%k.asy echo import animation; &gt;&gt; %name%+%%k.asy echo limits((-6.3,-6.3^),(6.3,6.3^)^); &gt;&gt; %name%+%%k.asy echo size(0,100^); &gt;&gt; %name%+%%k.asy echo animation a=animation(global=false^);&gt;&gt;%name%+%%k.asy echo for(int i=0; i ^&lt;= 0; ++i^) { &gt;&gt;%name%+%%k.asy echo real r=0.925; &gt;&gt; %name%+%%k.asy echo real R=3.61; &gt;&gt; %name%+%%k.asy echo real d=1.39; &gt;&gt; %name%+%%k.asy echo real x(real t^) {return (R+r^)*cos(t^)-d*cos((R+r^)*t/r^);} &gt;&gt; %name%+%%k.asy echo real y(real t^) {return (R+r^)*sin(t^)-d*sin((R+r^)*t/r^);} &gt;&gt; %name%+%%k.asy echo draw(graph(x,y,0,2*pi*%%k/%n%^),green^); &gt;&gt; %name%+%%k.asy echo axes("$x$","$y$",Arrow^); &gt;&gt; %name%+%%k.asy echo a.add(^); // Add currentpicture to animation. &gt;&gt;%name%+%%k.asy echo restore(^); &gt;&gt;%name%+%%k.asy echo } &gt;&gt;%name%+%%k.asy echo erase(^); &gt;&gt;%name%+%%k.asy echo // Merge the images into a pdf animation. &gt;&gt;%name%+%%k.asy echo label(a.pdf(^)^); &gt;&gt;%name%+%%k.asy ) rem for /f %%l in (0,1,%n%) do asy '%name%+%%l'.asy rem asy *.asy for /l %%l in (0,1,%n%) do ( asy %name%+%%l.asy taskkill /IM AcroRd32.exe ) for /l %%l in (0,1,%n%) do rename %name%+%%l.pdf _%name%+%%l.pdf asy %name%.asy</code> </pre><br></div></div><br>  .  ,  ,    :  kriv.asy    , 2d-.pdf ,      ,  ,   kriv.asy  Asymptote     ,   kriv.pdf  ,  , ,    .pdf,    .asy  :   ,    ,      . ,   :      play ,     ,  ,      ,   !  ‚Äì   . , ,    ,     :    kriv      epicykloida.        ,           Astroida.           name     krivaja,   ‚Äì  kriv     .pdf    .  ,      Asymptote:    , ,      Astroida.asy,     .      .mpg    (,   )      ,      , ,  , -     . ,  ,       ,      Asymptote :  .asy,     .pdf    .asy,     .gif, -, , . <br><br>     .asy,     .pdf, : <br><br><pre> <code class="plaintext hljs">label(a.pdf());</code> </pre><br>      .asy,     .gif,  : <br><br><pre> <code class="plaintext hljs">a.movie();</code> </pre><br>      .asy,     .mpg,  ,      .asy,     .gif.    .mpg      .asy,          <br><br><pre> <code class="plaintext hljs">settings.twice=true;</code> </pre> <br>  , , . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt468125/">https://habr.com/ru/post/pt468125/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt468107/index.html">Como criar um modelo com mais precis√£o do que transfermarkt e n√£o prever ou o que afeta o custo das transfer√™ncias acima de tudo</a></li>
<li><a href="../pt468109/index.html">Dizem que Samara √© uma cidade de Javists, mas estamos conduzindo um mitap PHP l√°</a></li>
<li><a href="../pt468111/index.html">PSD2 - chute para bancos</a></li>
<li><a href="../pt468117/index.html">Ethernet, FTP, Telnet, HTTP, Bluetooth - o b√°sico da an√°lise de tr√°fego. Resolvendo problemas em uma rede com r0ot-mi. Parte 1</a></li>
<li><a href="../pt468121/index.html">Como n√£o me tornei programador aos 35 anos</a></li>
<li><a href="../pt468127/index.html">Evolution CMS 2.0 nos componentes Laravel 6.0 - a evolu√ß√£o natural do MODX Evolution</a></li>
<li><a href="../pt468135/index.html">Os 10 principais relat√≥rios do JPoint 2019</a></li>
<li><a href="../pt468139/index.html">Aftershokz Xtrainerz Swimming Headphones com som conduzido por osso - Cool</a></li>
<li><a href="../pt468141/index.html">Tarefa: extrair express√µes-chave do texto em russo. PNL do Python</a></li>
<li><a href="../pt468143/index.html">466 terabits: o tr√°fego global da Internet continua a crescer. Os sat√©lites podem competir com os cabos submarinos?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>