<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§˜ğŸ¾ ğŸš« â­ï¸ Kafka di Wargaming: Blitz ğŸ¤¹ğŸ» ğŸ‘³ğŸ¿ ğŸ¤—</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kenapa Kafka? Apa keseluruhan tayangan Anda? Apa komposisi cluster? Di bawah potongan - selusin pertanyaan pendek untuk Levon Avakyan, yang bertanggun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kafka di Wargaming: Blitz</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/425703/"> Kenapa Kafka?  Apa keseluruhan tayangan Anda?  Apa komposisi cluster?  Di bawah potongan - selusin pertanyaan pendek untuk Levon Avakyan, yang bertanggung jawab atas keandalan, arsitektur aplikasi, infrastruktur dan produksi di Wargaming. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/97a/0a5/8d7/97a0a58d7aefa424ce5c54754450e195.jpg"><br><a name="habracut"></a><br>  <b>- Bagaimana Anda memilih Kafka?</b>  <b>Apa yang digunakan sebelumnya?</b>  <b>Alternatif apa yang dipertimbangkan?</b> <br><br>  Bukan pertanyaan yang sangat benar terkait dengan pengembangan tangki.  Apache Kafka sudah digunakan di perusahaan untuk kebutuhan Gudang Data kami, dan awalnya ada tugas integrasi, dan baru kemudian kami melihat bahwa Kafka dapat digunakan untuk tugas yang berbeda. <br><br>  <b>- Berapa banyak acara yang dihasilkan oleh kluster game Anda?</b> <br><br>  Cluster tangki adalah cluster cluster, sistem didistribusikan dan menghasilkan peristiwa dalam Kafka yang berbeda.  Semua cluster menghasilkan rata-rata 12 ribu pesan, pada puncaknya sekitar 30 ribu pesan per detik. <br><br>  <b>- Dan berapa banyak cluster yang Anda miliki dan apa komposisinya?</b> <br><br>  Cluster sentral terbesar terdiri dari lima simpul besi.  Cluster yang lebih kecil yang hanya melayani periferal tangki masing-masing sekitar tiga node plus mesin virtual.  Kami memiliki empat cluster lokal untuk wilayah CIS. <br><br>  <b>- Berapa banyak produsen dan konsumen Anda?</b>  <b>Berapa tarif baca / tulis?</b> <br><br>  Pertanyaan yang bagus  Untuk perangkat lokal Kafka, produsennya adalah satu - satu kelompok tangki, dan ada banyak konsumen.  Dengan tarif: hingga 75 ribu pesan per detik ditulis pada cluster pusat, rata-rata 12 ribu, pada pesan lokal hingga tujuh ribu dan rata-rata tiga ribu. <br><br>  <b>- Seberapa besar acara yang Anda tulis di Kafka?</b>  <b>Apakah ada batasan waktu pengiriman?</b> <br><br>  Batasi 1 MB - tidak ada yang bertanya.  Ada batasan waktu pengiriman untuk beberapa konsumen, untuk beberapa tidak.  Beberapa membaca seminggu sekali. <br><br>  <b>- Apakah Anda menemukan fitur dan bug yang menarik saat sharding atau replikasi?</b> <br><br>  Menghadapi kehilangan data selama pemilihan ulang karena pengaturan topik.  Pemilihan ulang yang kotor diizinkan dan ISR yang salah dipilih. <br><br>  <b>- Dan apakah itu terjadi pada disk atau jaringan?</b> <br><br>  Mereka tidak beristirahat di jaringan, kami memiliki antarmuka jaringan 10 Gb.  Mereka tidak bersandar pada disk juga.  Beristirahat di deskriptor file yang sudah selesai.  Stabilitas muncul setelah peningkatan dari java-1.7.0-openjdk-1.7.0.55-2.4.7.1.el6_5.x86_64 ke jdk1.8.0_66-1.8.0_66-fcs.x86_64. <br><br>  <b>- Apa overhead yang dibawa JVM dengan Kafka?</b>  <b>Apakah pengaturan khusus gc diperlukan?</b>  <b>Berapa banyak memori yang dikonsumsi oleh satu instance dalam kasus Anda?</b> <br><br>  12 GB memori dialokasikan, semuanya standar. <br><br>  <b>- Apakah Anda harus menggunakan fitur khusus Kafka?</b>  <b>Log Pemadatan?</b> <br>  Pemadatan Log Bekas untuk beberapa topik, tetapi tidak untuk proyek World of Tanks.  Termasuk pada topik tertentu, tetapi hasilnya tidak jelas, tidak ada yang memberi umpan balik.  Risalah offset. Risalah juga ditingkatkan hingga tujuh hari, sehingga petugas yang membaca sekali seminggu terus membaca dari tempat mereka berhenti. <br><br>  <b>- Pustaka Python apa yang digunakan untuk bekerja dengan Kafka?</b>  <b>Apa yang kamu suka</b> <br><br>  Salah satu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">laporan saya</a> tentang Moscow Python Conf ++ adalah tentang pengalaman menggunakan berbagai pustaka Python untuk Kafka di WoT.  Aset kami adalah Kafka-python, confluent-kafka-python, aiokafka.  Masing-masing perpustakaan memiliki pro dan kontra. <br><br>  <b>- Apa yang akan Anda katakan tentang kelebihan dan kekurangan penyimpanan berbasis file dibandingkan dengan di-memori?</b>  <b>Untuk jenis tugas apa yang bisa Anda rekomendasikan satu atau yang lain?</b> <br><br>  Di sini prinsipnya sederhana.  Pada sistem file itu lebih dapat diandalkan, tetapi lebih lambat.  Memori lebih cepat, tetapi keandalannya lebih rendah.  Plus, batasan penting dalam volume: Anda dapat menyimpan terabyte dalam sistem file, tetapi kami masih menggunakan gigabytes dalam memori.  Dari sini Anda dapat berfantasi banyak, mulai dari implementasi tertentu. <br><br>  Berdasarkan hal di atas: jika Anda perlu cepat, volumenya kecil dan keamanannya tidak penting, maka dalam memori, kalau tidak kita lihat file-based. <br><br>  <b>- Kesan umum Kafka?</b>  <b>Jika Anda melakukan tugas yang sama sekarang, apakah Anda akan meninggalkan Kafka atau mencari solusi lain?</b> <br><br>  Kafka adalah alat yang baik dan sederhana untuk menyediakan akses dari luar ke sejumlah besar data, yang kemudian dapat diproses secara perlahan untuk tujuan yang berbeda, oleh tim yang berbeda di tempat yang berbeda.  Di WoT, kami memiliki banyak alat yang berbeda untuk menyelesaikan masalah kami, jadi di tempat yang tepat untuk memilih Kafka, kami memilih Kafka, di mana tidak, kami melihat alat lain. <br><br>  Sekali lagi, jika Anda tertarik pada detail pengalaman kami dengan Kafka, datanglah ke ceramah saya di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Moscow Python Conf ++</a> .  Saya berharap banyak yang menganggapnya menarik dan bermanfaat. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id425703/">https://habr.com/ru/post/id425703/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id425691/index.html">Konferensi DEFCON 20. Cara bercinta dengan orang jahat (dan mafia) menggunakan botnet JavaScript. Bagian 1</a></li>
<li><a href="../id425693/index.html">Cari VPS 5 tahun! 70 tuan rumah memberikan diskon dari 10 hingga 80%</a></li>
<li><a href="../id425695/index.html">CI dan CD Battle Talks, Orchestration, dan OpenStack Secrets</a></li>
<li><a href="../id425697/index.html">KotlinConf 2018 - keynote dan video pertama</a></li>
<li><a href="../id425701/index.html">IoT Security Week 38: kerentanan di MikroTik, D-Link dan router TP-Link</a></li>
<li><a href="../id425705/index.html">Replikasi dari Percona Server untuk MySQL ke PostgreSQL menggunakan alat pg_chameleon</a></li>
<li><a href="../id425707/index.html">Sistem pemberitahuan dari konsol ke Telegram</a></li>
<li><a href="../id425709/index.html">Kami membuat memo untuk orang Cina yang datang kepadamu</a></li>
<li><a href="../id425711/index.html">Kerugian baris tidak cocok</a></li>
<li><a href="../id425713/index.html">Integrasi mesin HTML ke dalam aplikasi Windows asli - pilihan dan arsitektur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>