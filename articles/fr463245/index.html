<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚ÄçüöÄ üìù üëßüèª Comment le r√©f√©rentiel DWH a √©t√© organis√© dans TELE2 üåõ üèîÔ∏è üåü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour chers amis. 


 Aujourd'hui, je veux partager une histoire de vie sur la fa√ßon dont le stockage DWH a √©t√© organis√© dans Tele2 avant l'introduc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment le r√©f√©rentiel DWH a √©t√© organis√© dans TELE2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463245/"><p>  Bonjour chers amis. </p><br><p>  Aujourd'hui, je veux partager une histoire de vie sur la fa√ßon dont le stockage DWH a √©t√© organis√© dans Tele2 avant l'introduction de QCD (EDW). </p><br><p>  J'ai int√©gr√© le d√©partement informatique de Tele2 en 2012 au sein du d√©partement des syst√®mes de reporting.  √Ä cette √©poque, le r√©f√©rentiel DWH √©tait d√©j√† cr√©√© dans l'entreprise, sur lequel de nombreux processus de reporting et plus tournaient d√©j√†. </p><br><p> Un peu sur la pile technique qui y √©tait utilis√©e √† l'√©poque.  Pour le stockage, la base de donn√©es Oracle a √©t√© utilis√©e avec une capacit√© de 60 √† 100 To de serveur T4-4 avec 1 To de fonctionnement.  Des donn√©es provenant de diverses sources y ont √©t√© t√©l√©charg√©es.  Mais les principaux √©taient 4 bases de facturation Oracle, qui √©taient essentiellement une plateforme de facturation.  Et il y avait un d√©partement qui s'occupait de soutenir ces bases de donn√©es et de fournir des services.  La s√©paration de ces bases s'est faite par macro-r√©gions.  Raison: les volumes sont trop importants.  Autrement dit, si un abonn√© appelle, par exemple, √† partir d'une carte SIM de Moscou, le co√ªt de l'appel est calcul√© dans la facturation correspondante. </p><a name="habracut"></a><br><p>  Le mat√©riel haut de gamme est toujours all√© aux bases de donn√©es de facturation et les ressources ont √©t√© allou√©es aux syst√®mes restants selon le principe r√©siduel.  Habituellement, pour le serveur DWH, le serveur est toujours un peu plus faible.  C'est-√†-dire  la facturation a un mat√©riel T5-4, puis DWH a un h√©ritage T4-4. </p><br><p>  Mais ces ressources ont toujours √©t√© suffisantes pour couvrir les t√¢ches courantes et r√©duire les rapports.  Les donn√©es de facturation ont √©t√© t√©l√©charg√©es via DB-link.  Les processus ETL classiques ont √©t√© mis en place lorsque des t√©l√©chargements de donn√©es nocturnes ont eu lieu avec de petites conversions (par exemple, l'ajout de cl√©s de substitution).  ETL √©tait de 2 types: pleine charge pour les petits volumes et incr√©mentielle pour les grandes tables telles que, par exemple, les d√©tails des appels, les frais, les paiements, etc.  Il existe √©galement une source aussi importante que les fichiers texte qui t√©l√©chargent les informations sur les appels et le trafic Internet √† partir des commutateurs et des stations de base.  Les donn√©es sont t√©l√©charg√©es sous forme de fichiers texte √† l'aide des chargeurs d'Oracle SQL Loader.  L'incr√©ment √† la base √©tait g√©n√©ralement de 10 √† 20 Go par jour. <br>  Les partitions de partitionnement, les index, l'optimisation des plans de requ√™te, les indices dans DWH devaient √™tre utilis√©s en permanence.  Il n'y avait pas une journ√©e sans sessions suspendues ou de longue dur√©e o√π il fallait monter dans le plan de demande. </p><br><p><img src="https://habrastorage.org/webt/ki/n9/ul/kin9ulnp0eyxyxsd4kvoeihstka.png" alt="image"><br>  <em>La structure de stockage DWH dans Tele2 avant l'introduction d'EDW.</em> </p><br><p>  En outre, l'une des principales t√¢ches de DWH √©tait de g√©n√©rer des √©tats financiers mensuels (ETF).  Il a √©t√© consid√©r√© sur le serveur DWH pendant 4 jours entiers en raison des volumes importants.  Pour imaginer ce que c'est, je dirai qu'il s'agit d'un package Oracle de 5 000 lignes de code PL / SQL avec une logique orn√©e complexe et tout cela est minimis√© en dynamique.  Et puis le rapport est t√©l√©charg√© sur FTP ou sur un partage r√©seau sous forme de fichiers CSV.  Et tout cela sans l'utilisation de solutions en bo√Æte.  C'est-√†-dire  fonctionnalit√©s manuscrites, optimis√©es et automatis√©es au fil des ans. </p><br><p>  Mais la base de donn√©es DWH a √©t√© utilis√©e non seulement pour fournir des rapports r√©guliers, mais aussi comme stockage op√©rationnel.  Par exemple, il a tourn√© autour du processus de fourniture de diff√©rentes informations aux abonn√©s √† partir d'un compte personnel sur le site Web de Tele2. </p><br><p>  Il convient √©galement de mentionner s√©par√©ment le syst√®me Oracle Application Express (APEX), qui a une place particuli√®re pour les rapports.  APEX est un environnement pour le d√©veloppement rapide d'interfaces WEB, soit pour le reporting, soit pour mettre en place un processus m√©tier.  Sur celui-ci a √©t√© cr√©√©, √† la main, une fonctionnalit√© √©crite "Report upload", o√π les utilisateurs pouvaient cr√©er un rapport pour eux-m√™mes.  C'est-√†-dire  une personne entre, s√©lectionne un ensemble de champs pour son rapport, si elle le souhaite, elle peut extraire la source sous forme de fichier excel, puis elle re√ßoit un rapport par courrier √©lectronique sous la forme d'un fichier csv archiv√©.  Et √† l'int√©rieur de DWH, un grand nombre de proc√©dures et de fonctions PL / SQL sont √©crites, qui √©taient essentiellement un g√©n√©rateur de script int√©gr√© pour les rapports.  De plus, cet outil √©tait si populaire au sein de l'entreprise que plus de huit ans plus d'un demi-million de rapports avec diff√©rents degr√©s d'importance y ont √©t√© g√©n√©r√©s. </p><br><p>  APEX a √©galement d√©velopp√© beaucoup d'autres choses int√©ressantes.  Par exemple, une fonctionnalit√© manuscrite pour le workflow et le syst√®me d'automatisation du marketing.  Dans le premier, le personnel a approuv√© les documents.  Et deuxi√®mement, le d√©partement marketing a organis√© divers √©v√©nements pour les clients.  Par exemple, il a effectu√© une distribution de masse de SMS aux abonn√©s sur les nouveaux tarifs et services.  Et tout cela est pass√© par DWH et il y a eu int√©gration avec le canal SMS. </p><br><p>  De plus, un couple de syst√®mes de rapports tels que Crostal Reports et IBM Lotus connect√©s √† DWH via des fichiers RPT. </p><br><p>  Dans le diagramme ci-dessus, vous pouvez voir l'ancienne structure du r√©f√©rentiel DWH et le flux de donn√©es pour 2012.  Avec la structure actuelle, cela n'a rien √† voir. </p><br><p>  Tout cela a fonctionn√© avec plus ou moins de succ√®s jusqu'au moment o√π l'entreprise s'est rendu compte que le reporting n'√©tait plus suffisant et a d√©cid√© d'introduire QCD, BI-systems et BigData. </p><br><p>  En g√©n√©ral, il y avait beaucoup de choses int√©ressantes.  Je m'attarderai peut-√™tre l√†-dessus.  A bient√¥t. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr463245/">https://habr.com/ru/post/fr463245/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr463233/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 15. Communication lente et s√©curit√© des ports</a></li>
<li><a href="../fr463237/index.html">Comment nous avons jou√© de la musique avec les r√©seaux de neurones v 2.0</a></li>
<li><a href="../fr463239/index.html">22 ao√ªt - Alfa JS MeetUP SPb</a></li>
<li><a href="../fr463241/index.html">Notes de conf√©rence ACL 2019</a></li>
<li><a href="../fr463243/index.html">Manipulation de la conscience. Pourquoi est-ce si simple?</a></li>
<li><a href="../fr463247/index.html">Outils d'information ou comment nous parlons de nos services et processus</a></li>
<li><a href="../fr463249/index.html">Game Dev Sim: jeu de soci√©t√© sur le d√©veloppement de jeux</a></li>
<li><a href="../fr463251/index.html">Comment couper le sous-ensemble de la ville (toute relation) des donn√©es OSM</a></li>
<li><a href="../fr463259/index.html">Production de masse d'√©lectronique en Russie. Comment nous avons fait la t√©l√©m√©trie</a></li>
<li><a href="../fr463265/index.html">Amis de l'horloge en temps r√©el PCF8563 d'Arduino √† I2C</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>