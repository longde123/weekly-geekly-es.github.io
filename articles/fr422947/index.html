<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§§ üë®üèø‚Äçüíª üèáüèº Comment configurer l'archivage des sauvegardes Veeam dans Microsoft Azure Blob Storage √† l'aide de StarWind VTL üíáüèº üì∑ üëÉüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'attire votre attention sur la traduction d'un article de mon coll√®gue Andrew Zhelezko sur l'utilisation d'une solution de stockage de sauvegarde int...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment configurer l'archivage des sauvegardes Veeam dans Microsoft Azure Blob Storage √† l'aide de StarWind VTL</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/422947/">  J'attire votre attention sur la traduction d'un article de mon coll√®gue Andrew Zhelezko sur l'utilisation d'une solution de stockage de sauvegarde int√©gr√©e bas√©e sur les produits Veeam, StarWind et Azure. <br><br>  √Ä ce jour, de nombreuses entreprises utilisent des biblioth√®ques de bandes pour leurs services, mais le stockage dans le cloud, qui garantit un fonctionnement fiable et stable des syst√®mes de sauvegarde, gagne en popularit√©.  Et avec la prise en charge des biblioth√®ques de bandes virtuelles courantes, Veeam vous permet d√©sormais de travailler avec la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">StarWind VTL pour Microsoft Azure Blob Storage</a> .  C'est une excellente opportunit√© pour ceux qui ont besoin d'un stockage cloud fiable et peu co√ªteux pour y stocker en toute s√©curit√© des sauvegardes de donn√©es.  Les utilisateurs d'une telle solution int√©gr√©e pourront mettre en ≈ìuvre des politiques de stockage de donn√©es flexibles: par exemple, conserver les sauvegardes dans leur infrastructure habituelle pendant 1 √† 2 semaines, puis les d√©placer vers le stockage √† long terme Microsoft Azure Blob.  Dans cet article, je parlerai bri√®vement de la fa√ßon de configurer l'int√©gration. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z_/m1/v5/z_m1v5wkrbcqo6p7tvmfnaqz3di.png"></div><br><a name="habracut"></a><br>  Je note que l'effort qu'un utilisateur Veeam devra consacrer √† la configuration de l'int√©gration est minime.  Cependant, il convient de garder √† l'esprit qu'il existe de nombreux sc√©narios de d√©ploiement de composants d'une solution int√©gr√©e, vous devez donc √™tre prudent et choisir une configuration qui vous convient.  Les sc√©narios peuvent √™tre tr√®s diff√©rents - de l'installation de solutions Veeam et StarWind sur le m√™me serveur dans une infrastructure locale √† leur installation sur diff√©rentes machines virtuelles dans l'environnement cloud Azure. <br><br>  Dans le processus g√©n√©ral de mise en place d'une solution int√©gr√©e, 3 √©tapes principales peuvent √™tre distingu√©es. <br><br><h1>  √âtape 1: Pr√©paration de l'infrastructure cloud Azure </h1><br>  Pour pr√©parer l'infrastructure cloud, vous devez proc√©der comme suit: <br><br><ol><li>  Acc√©dez au portail Azure, s√©lectionnez <b>Comptes de stockage</b> , ajoutez un nouveau stockage (ou un stockage Blob existant). </li><li>  Saisissez toutes les informations n√©cessaires, dans <b>Type</b> de <b>compte,</b> s√©lectionnez <b>Stockage d'objets blob</b> . </li><li>  Acc√©dez au nouveau r√©f√©rentiel, copiez le nom et la cl√© d'acc√®s (situ√©s dans <b>Param√®tres</b> &gt; <b>Cl√©s d'acc√®s</b> ). </li><li>  Cr√©ez un conteneur qui sera ensuite utilis√© pour stocker des donn√©es ( <b>service Blob</b> &gt; <b>Conteneurs</b> &gt; <b>Nouveau</b> ). </li></ol><br>  Vous aurez besoin de ces param√®tres lorsque vous configurerez la r√©plication cloud dans StarWind VTL. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yy/9j/nu/yy9jnuaafaojzdiebgcsmexaxk8.png"></div><br><h1>  √âtape 2: configurer StarWind VTL </h1><br>  √Ä ce stade, nous √©mulerons l'installation d'une biblioth√®que de bandes sur le serveur s√©lectionn√©.  Veeam Backup &amp; Replication √©crira les donn√©es sur le support de cette biblioth√®que, puis elles y seront trait√©es et pr√©par√©es pour le transfert vers le cloud.  Il s'agit du sch√©ma classique D2D2C (disque √† disque vers cloud) en action. <br><br>  Les √©tapes suivantes doivent √™tre accomplies: <br><br><ol><li>  Installez la derni√®re version de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">StarWind VTL</a> (au moment de la r√©daction de ce document, c'√©tait la version 8.0.0.12248) sur le serveur cible - il peut s'agir d'une machine physique ou virtuelle, d'un serveur cloud ou m√™me d'un serveur Veeam. </li><li>  Pendant l'installation, s√©lectionnez l'option <b>VTL et Cloud Replication</b> - les composants StarWind correspondants seront install√©s automatiquement. </li><li>  Sp√©cifiez le chemin d'acc√®s au pool de stockage (peut √™tre laiss√© par d√©faut sur le lecteur <b>C</b> ). </li><li>  Ensuite, acc√©dez √† la console StarWind, connectez-vous au serveur souhait√© (si vous avez tout sur la m√™me machine, puis s√©lectionnez localhost ou 127.0.0.1 pour vous connecter) et cr√©ez un p√©riph√©rique de bande virtuel avec le nombre de cassettes requis. </li></ol><br>  StarWind VTL √©mule la v√©ritable biblioth√®que de bandes HPE MSL8096, avec des principes de fonctionnement typiques et un ensemble d'op√©rations. <br><br>  <i>Remarque: vous</i> devrez peut-√™tre installer les derniers pilotes pour que le serveur reconnaisse correctement la biblioth√®que sp√©cifi√©e.  Vous pouvez les prendre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  Vous pouvez maintenant connecter la biblioth√®que au serveur √† l'aide de la bo√Æte √† outils Windows iSCSI standard ( <b>Panneau de configuration</b> &gt; <b>Outils d'administration</b> &gt; <b>Initiateur iSCSI</b> ).  Acc√©dez √† <b>Discovery</b> &gt; <b>Discovery Portal</b> pour initialiser et vous connecter √† la biblioth√®que (onglet <b>Targets</b> ). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/qo/zc/tqqozc5ivhapvsjwwq9p2cluh3g.png"></div><br>  Apr√®s cela, vous devez configurer l'archivage dans le cloud √† l'aide de la r√©plication.  Pour ce faire, s√©lectionnez Microsoft Azure Cloud Storage, puis sp√©cifiez les donn√©es que vous avez enregistr√©es √† l'√©tape <br><br>  1. Apr√®s cela, entrez les param√®tres de p√©riode de stockage souhait√©s. <br><br><img src="https://habrastorage.org/webt/ez/ye/lv/ezyelv9okt5iuweeogz48wewziq.png"><br><br><h1>  √âtape 3: configuration c√¥t√© sauvegarde et r√©plication Veeam </h1><br>  Quant √† Veeam Backup &amp; Replication, vous devez ajouter le serveur configur√© √† l'√©tape pr√©c√©dente √† l'infrastructure Veeam en tant que serveur de bande.  Vous pouvez le faire dans Veeam Backup &amp; Replication;  vous devrez sp√©cifier IP / DNS et un compte d'acc√®s. <br>  Lors de l'ajout d'un serveur dans ce r√¥le, <b>le service de transport</b> et le <b>service de proxy de bande</b> seront automatiquement install√©s sur celui-ci.  Vous pouvez √©galement s√©lectionner l'option d'inventaire automatique des bandes. <br><br>  Une fois toutes les cassettes reconnues et plac√©es dans le <b>Free Media Pool</b> , il est judicieux de cr√©er un pool cible de plusieurs cassettes.  Nous en aurons besoin un peu plus tard. <br>  Ainsi, notre sauvegarde et r√©plication Veeam est connect√©e √† une biblioth√®que de bandes virtuelle et peut y √©crire des donn√©es.  Pour ce faire, il vous suffit de cr√©er une t√¢che d'archivage sur la <i>bande de sauvegarde sur bande</i> (ou <i>fichier sur bande</i> ) et de sp√©cifier quoi archiver (pour la <i>sauvegarde sur bande</i> , vous devez d√©j√† avoir des copies de sauvegarde des machines).  Cette t√¢che prendra des cassettes d'un pool cible pr√©alablement pr√©par√© (voir ci-dessus). <br>  Selon la taille du fichier de sauvegarde \, les donn√©es iront √† VTL plus ou moins rapidement. <br><br><img src="https://habrastorage.org/webt/qb/4n/u8/qb4nu8ju2ukabdcy1pljah9kgvu.png"><br><br>  Nous allons √† la console de gestion StarWind et nous assurons que les donn√©es de sauvegarde sont enregistr√©es sur la bande dans le logement 1: <br><br><img src="https://habrastorage.org/webt/wb/jf/ye/wbjfyel4p6etppgnmzumihknka0.png"><br><br>  Vous pouvez maintenant basculer vers le serveur de biblioth√®que de bandes virtuelle et retirer la bande de l'emplacement, si cela n'a pas √©t√© fait automatiquement en exportant la bande √† la fin du travail.  √âtant donn√© que dans mon cas, l'heure de d√©but de la r√©plication vers le cloud a √©t√© d√©finie juste apr√®s la fin de l'enregistrement sur bande, je peux personnellement observer le processus de t√©l√©chargement des donn√©es vers le cloud sur Azure Blob Storage: <br><br><img src="https://habrastorage.org/webt/mm/h2/nx/mmh2nxf2uspnvoclaorigxa3x1k.png"><br><br>  Si le t√©l√©chargement a r√©ussi, l'indicateur correspondant appara√Ætra sur l'onglet <b>Cloud</b> .  Pour vous assurer que la copie a r√©ussi, vous pouvez acc√©der √† Azure Blob Storage et v√©rifier si les fichiers sont t√©l√©charg√©s dans notre conteneur. <br><br><img src="https://habrastorage.org/webt/cz/kl/ky/czklkyf_-46yetmum32fzorflcw.png"><br><br>  Vous pouvez ensuite utiliser le portail Azure pour modifier le niveau d'acc√®s pour l'un de ces fichiers t√©l√©charg√©s. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ku/mi/ze/kumizeni0hhh8hstrpz8-fov5em.png"></div><br>  Des modifications similaires peuvent √™tre apport√©es √† l'aide des param√®tres StarWind et √† l'aide de PowerShell. <br><br><h1>  Un peu sur la restauration de machines virtuelles d'une biblioth√®que VTL vers Azure </h1><br>  Les utilisateurs de StarWind peuvent d√©marrer l'op√©ration de restauration √† partir du stockage cloud Azure - pour cela, vous pouvez ouvrir la console Veeam Backup &amp; Replication et suivre la proc√©dure standard avec l'assistant de r√©cup√©ration de fichiers ou la machine virtuelle.  Cependant, pourquoi ne pas effectuer la r√©cup√©ration directement sur votre infrastructure Azure?  Apr√®s tout, Azure Marketplace dispose d'une machine virtuelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">StarWind</a> - elle, comme Veeam Backup &amp; Replication, peut √™tre d√©ploy√©e sur Azure, puis restaur√©e √† partir du stockage d'archives directement sur la nouvelle machine virtuelle dans Azure.  Cette approche vous fera gagner du temps et permettra aux applications de fonctionner dans diff√©rents ¬´compartiments¬ª de l'infrastructure de sauvegarde. <br>  En plus de tout, vous pouvez fournir un acc√®s √† ces nouvelles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">machines virtuelles</a> restaur√©es dans Azure via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VeeamPN (Veeam-Powered Network)</a> - par exemple, pour fournir une connexion s√©curis√©e au centre de donn√©es principal de votre organisation. <br><br><h1>  Liens annexes </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article sur Habr√© sur le travail avec des bandes magn√©tiques.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Webinaire</a> sur une solution int√©gr√©e (en anglais). </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr422947/">https://habr.com/ru/post/fr422947/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr422937/index.html">Mise en cache disque des arbres de calcul paresseux</a></li>
<li><a href="../fr422939/index.html">Le livre "Kali Linux des d√©veloppeurs"</a></li>
<li><a href="../fr422941/index.html">¬´Trois dans un bateau, la pauvret√© et les chiens¬ª, ou comment l'antiplagiat cherche la paraphrase</a></li>
<li><a href="../fr422943/index.html">Un peu sur l'exploitation mini√®re industrielle</a></li>
<li><a href="../fr422945/index.html">27 septembre, Moscou - Mitap QIWI SERVER PARTY 3.0</a></li>
<li><a href="../fr422949/index.html">Nouvelles statistiques CNCF sur les conteneurs, cloud native et Kubernetes</a></li>
<li><a href="../fr422951/index.html">Int√©ressant et utilit√© de python. 3e partie</a></li>
<li><a href="../fr422953/index.html">Qui a dit que Flabber n'√©tait pas r√©el: cr√©er un gel polym√®re thermodurcissable homog√®ne</a></li>
<li><a href="../fr422955/index.html">Mode Image dans l'image dans Chrome 69</a></li>
<li><a href="../fr422957/index.html">L'argent facile est termin√©: les principales tendances du march√© ICO 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>