<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî† üï¥üèæ üö£üèø Qualit√© du code frontal HH üèñÔ∏è ‚ô®Ô∏è ‚öæÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Headhunter est une entreprise de produits, la qualit√© du code est tr√®s importante pour nous. Mieux c'est, plus vite nous pouvons publier de nouvelles ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Qualit√© du code frontal HH</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hh/blog/438812/"><p>  Headhunter est une entreprise de produits, la qualit√© du code est tr√®s importante pour nous.  Mieux c'est, plus vite nous pouvons publier de nouvelles fonctionnalit√©s m√©tier et plus souvent plaire aux utilisateurs. </p><br><p>  Pour chaque demande d'extraction, vous devez passer un examen, m√™me si une seule ligne est modifi√©e.  Au moins une personne a besoin d'une √©valuation, l'examen est ouvert, tout le monde peut participer, et c'est le bienvenu.  Une revue est n√©cessaire pour am√©liorer la qualit√© du code et diffuser les connaissances entre les diff√©rentes √©quipes. </p><br><p><img src="https://habrastorage.org/webt/ny/vq/jh/nyvqjhvmefsdb3n3evqppvsk8gu.png"></p><a name="habracut"></a><br><p>  Auparavant, la revue avait un d√©bat constant sur comment et quoi √©crire correctement.  Cela a pris beaucoup de temps et d'efforts.  Pour r√©soudre ces probl√®mes, un guide de style a √©t√© r√©dig√©.  Il a beaucoup aid√©, car une source de v√©rit√© est apparue, √† laquelle on peut toujours se r√©f√©rer.  Le guide de style aide √©galement les d√©butants √† entrer dans le projet, expliquant imm√©diatement quoi et comment √©crire, et √† quoi s'attendre dans une critique. </p><br><p>  N√©anmoins, il y avait un gros probl√®me avec le Guide de style - les gens l'oubliaient souvent, il devait constamment relire et lier √† la demande de pull pour prouver qu'il avait raison.  En cons√©quence, l'examen s'est parfois gliss√© dans des diff√©rends biais√©s, quelque chose comme ceci s'est av√©r√©: </p><br><p><img src="https://habrastorage.org/webt/vo/bd/-y/vobd-yd73in6mfjyf5ybodjbtze.png"></p><br><p>  Vous comprenez vous-m√™me combien cela d√©motive le d√©veloppeur et combien de temps est consacr√© aux litiges inutiles dans la revue.  En cons√©quence, les gens ne voulaient pas examiner et examiner d'autres d√©veloppeurs. </p><br><p> Pour rendre le responsable de l'auteur du code et le r√©viseur moins occup√©s avec des questions sur la fa√ßon de placer des virgules et dans quel ordre pour √©crire les r√®gles de <code>border</code> nous avons d√©cid√© d'impl√©menter l'automatisation, √† l'√©poque c'√©tait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jshint</a> , c'est devenu beaucoup mieux.  Apr√®s √™tre pass√© √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint en</a> raison d'un certain nombre d'avantages: </p><br><ul><li>  Il est plus flexible </li><li>  Il existe toutes sortes de plugins pour cela. </li><li>  Diff√©rentes entreprises ont de bonnes configurations pr√™tes √† l'emploi </li></ul><br><p>  Pendant longtemps, nous avons h√©rit√© de la <code>airbnb</code> , mais tout ne nous convenait pas, nous avons d√ª red√©finir certaines r√®gles.  Ce n'√©tait pas tr√®s pratique, en cons√©quence, nous avons √©crit notre configuration bas√©e sur airbnb.  Nous avons √©galement ajout√© des crochets de pr√©-engagement, √† cette √©poque, nous utilisions du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">husky</a> .  Si le d√©veloppeur a √©crit quelque chose de mal, il l'a imm√©diatement d√©couvert en essayant de valider ses modifications sur github. </p><br><p>  Mais malheureusement, eslint ne couvrait pas tous les aspects de la mise en forme du code, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plus jolie a √©t√©</a> ajout√©e pour r√©soudre ce probl√®me. </p><br><p>  Heureusement, eslint et prettier fonctionnent bien ensemble, il vous suffit de mettre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prettier</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-config-</a> <code>.eslintrc</code> puis de corriger <code>.eslintrc</code> comme ceci: </p><br><pre> <code class="plaintext hljs">... "plugins": ["prettier"], "extends": ["@hh.ru/eslint-config", "prettier"], "rules": { "prettier/prettier": ["error"], ...</code> </pre> <br><p>  Avant de divulguer tout cela √† la prod, il fallait parcourir toute la base de code et la corriger pour se conformer aux nouvelles r√®gles, ce ne fut pas du tout difficile: <code>yarn eslint --fix &lt;path_to_js&gt;</code> </p><br><p>  Apr√®s cela, la plupart du d√©bat sur la fa√ßon d'√©crire et de formater le code a disparu, car tout est couvert par l'automatisation.  Total, nous avons maintenant: </p><br><ul><li>  Tous les js et jsx sont v√©rifi√©s et corrig√©s automatiquement en utilisant eslint et plus joli. </li><li>  Pour moins, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stylelint est</a> utilis√©. </li><li>  Pour python flake8. </li></ul><br><p>  Les fichiers modifi√©s sont v√©rifi√©s sur la machine du d√©veloppeur lors de la validation, en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lint-</a> <code>.lintstagedrc</code> , voici notre <code>.lintstagedrc</code> : </p><br><pre> <code class="plaintext hljs">{ "*.{js,jsx}": ["eslint --fix", "git add"], "*.less": "stylelint", "*.py": "flake8", "package.json": "bash -c 'yarn check-versions &amp;&amp; yarn install --frozen-lockfile'", }</code> </pre> <br><p>  Un code qui a d√©j√† pass√© les peluches et les tests entre dans le github; le r√©viseur n'a plus besoin d'y penser et de faire attention aux petites choses.  Vous pouvez vous concentrer enti√®rement sur la qualit√© de l'√©criture du code, s'il y aura des probl√®mes de performances, et penser √† l'architecture. </p><br><p>  Apr√®s l'examen, le conteneur docker est assembl√©, pendant l'assemblage, tous les autotests et les linters sont ex√©cut√©s.  Maintenant, l'ensemble du processus d'assemblage prend environ 7,5 minutes, alors que nous avons maintenant environ 1000 js et 650 fichiers de moins.  Tout cela est n√©cessaire, car localement sur la machine, vous pouvez ignorer en utilisant <code>--no-verify</code> , et les commentaires dans le github ne bloquent pas la t√¢che.  Tromper l'assemblage ne fonctionne pas. </p><br><p>  Apr√®s avoir r√©ussi les autotests, le test manuel commence.  Si le testeur ne trouve pas un seul bug, la t√¢che passe √† prod. </p><br><p>  Si une erreur se produit √† un stade quelconque, la t√¢che retourne pour r√©vision. </p><br><p>  Le r√©sultat a √©t√©: </p><br><ul><li>  Il est plus facile et plus rapide d'√©crire du code. </li><li>  Faire un examen plus facilement </li><li>  L'assistant a toujours un code de qualit√© </li><li>  Moins de controverse, plus de bonheur </li></ul><br><p>  Nous surveillons la qualit√© du code lors de l'ex√©cution des t√¢ches m√©tier, mais le produit √©volue constamment, des conditions suppl√©mentaires apparaissent dans le code, la complexit√© augmente.  De nouvelles technologies apparaissent √©galement, les anciennes meurent √† cause de tout cela, une taxe technique appara√Æt.  Dans le cadre de la taxe, nous nous engageons √†: </p><br><ul><li>  Optimisation de page personnalis√©e </li><li>  Changement d'infrastructure </li><li>  Am√©lioration de la base de code </li></ul><br><p>  Toutes les √©quipes de produits devraient consacrer 70% de leur temps au d√©veloppement de t√¢ches commerciales et 30% √† la fiscalit√© - cela donne √† chaque d√©veloppeur la possibilit√© de s'engager dans des t√¢ches d'infrastructure, de maintenir la base de code en excellent √©tat et de diffuser les connaissances sur l'infrastructure du projet √† travers toutes les √©quipes.  En tant que taxe, il n'est pas n√©cessaire de faire les t√¢ches de votre √©quipe; vous pouvez √©crire du code dans n'importe quelle partie du projet.  N'importe qui peut proposer une taxe, si cela semble utile, elle sera ajout√©e √† l'arri√©r√©.  De plus, il existe des √©quipes d'architectes qui traitent constamment des caract√©ristiques technologiques.  Tout cela vous permet de maintenir la base de code √† jour. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr438812/">https://habr.com/ru/post/fr438812/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr438802/index.html">Programmes d'√©t√© 2019 pour enseigner aux adolescents des programmes √† l'√©tranger</a></li>
<li><a href="../fr438804/index.html">En attendant tout le monde au prochain Meetup CocoaHeads</a></li>
<li><a href="../fr438806/index.html">Probl√®mes de traduction litt√©raire</a></li>
<li><a href="../fr438808/index.html">ModelMapper: aller-retour</a></li>
<li><a href="../fr438810/index.html">HTTP / 3: de la racine √† la pointe</a></li>
<li><a href="../fr438814/index.html">Un regard sobre sur Helm 2: "Voil√† ce que c'est ..."</a></li>
<li><a href="../fr438818/index.html">UDB. Qu'est-ce que c'est? Partie 5. Chemin de donn√©es. Petites choses utiles</a></li>
<li><a href="../fr438820/index.html">Gestion des connaissances: quels documents sont n√©cessaires et que corriger en eux</a></li>
<li><a href="../fr438824/index.html">Cours abr√©g√© de gestion √† distance</a></li>
<li><a href="../fr438826/index.html">Resserrer l'anglais pour une entrevue - m√©thodologie et co√ªts de main-d'≈ìuvre</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>