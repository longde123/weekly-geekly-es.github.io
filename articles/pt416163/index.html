<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñäÔ∏è üçñ üöØ Aprenda o OpenGL. Li√ß√£o 5.6 - Mapeamento de paralaxe üë©üèæ‚Äçüé® üôÄ üßñüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mapeamento de paralaxe 
 A t√©cnica de texturiza√ß√£o do Parallax Mapping √© um pouco semelhante ao Mapeamento Normal , mas √© baseada em um princ√≠pio dife...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aprenda o OpenGL. Li√ß√£o 5.6 - Mapeamento de paralaxe</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416163/"><img src="https://habrastorage.org/web/c9e/9b2/a3b/c9e9b2a3baf749ab8e2b385c6d93d966.png" alt="OGL3" align="left" width="300"><h2>  Mapeamento de paralaxe </h2><br>  A t√©cnica de texturiza√ß√£o do <i>Parallax Mapping</i> √© um pouco semelhante ao <i>Mapeamento Normal</i> , mas √© baseada em um princ√≠pio diferente.  A semelhan√ßa √© que, como o Mapeamento Normal, essa t√©cnica aumenta significativamente a complexidade visual e os detalhes da superf√≠cie com a textura aplicada ao mesmo tempo, criando uma ilus√£o plaus√≠vel da presen√ßa de diferen√ßas de altura na superf√≠cie.  O Parallax Mapping funciona muito bem em conjunto com o Normal Mapping para criar resultados muito confi√°veis: a t√©cnica descrita transmite o efeito de al√≠vio muito melhor que o Normal Mapping, e o Normal Mapping o complementa para uma simula√ß√£o plaus√≠vel da ilumina√ß√£o din√¢mica.  O mapeamento de paralaxe dificilmente pode ser considerado uma t√©cnica diretamente relacionada aos m√©todos de simula√ß√£o de ilumina√ß√£o, mas mesmo assim escolhi esta se√ß√£o para consider√°-lo, pois o m√©todo √© um desenvolvimento l√≥gico das id√©ias do mapeamento normal.  Tamb√©m observo que, para analisar este artigo, √© necess√°rio um bom entendimento do algoritmo de mapeamento normal, especialmente o conceito de espa√ßo <i>tangente</i> ou <i>espa√ßo tangente</i> . <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Conte√∫do</b> <div class="spoiler_text">  Parte 1. Introdu√ß√£o <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Opengl</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cria√ß√£o de janela</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ol√° janela</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ol√° tri√¢ngulo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Shaders</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Texturas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Transforma√ß√µes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sistemas de coordenadas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Camera</a> </li></ol><br>  Parte 2. Ilumina√ß√£o b√°sica <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cores</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">No√ß√µes b√°sicas de ilumina√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Materiais</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mapas de textura</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fontes de luz</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">V√°rias fontes de ilumina√ß√£o</a> </li></ol><br>  Parte 3. Baixe modelos 3D <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Biblioteca Assimp</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Classe de pol√≠gono de malha</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Classe do modelo 3D</a> </li></ol><br>  Parte 4. Recursos avan√ßados do OpenGL <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Teste de profundidade</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Teste de est√™ncil</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mistura de cores</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Faces de recorte</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Buffer de quadros</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cart√µes c√∫bicos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Manipula√ß√£o avan√ßada de dados</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GLSL avan√ßado</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Shader geom√©trico</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Instanciamento</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Suaviza√ß√£o</a> </li></ol><br>  Parte 5. Ilumina√ß√£o Avan√ßada <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ilumina√ß√£o avan√ßada.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Modelo Blinn-Fong.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Corre√ß√£o gama</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cart√µes de sombra</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mapas de sombra omnidirecionais</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mapeamento normal</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mapeamento de paralaxe</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HDR</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bloom</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Renderiza√ß√£o adiada</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SSAO</a> </li></ol><br>  Parte 6. PBR <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Teoria</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fontes de luz anal√≠tica</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IBL</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Irradia√ß√£o difusa.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IBL</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Exposi√ß√£o no espelho.</a> </li></ol><br></div></div><br>  O Parallax Mapping pertence √† fam√≠lia de t√©cnicas de <i>mapeamento</i> de <i>deslocamento</i> ou de texturas em relevo que <i>compensam os</i> v√©rtices de uma geometria com base nos valores armazenados em mapas de textura especiais.  Por exemplo, imagine um plano composto da ordem de mil v√©rtices.  Cada uma delas pode ser alterada de acordo com o valor lido na textura, que representa a altura do plano em um determinado ponto.  Essa textura, contendo os valores de altura em cada texel, √© chamada de <i>mapa de altura</i> .  Um exemplo desse mapa, obtido com base nas caracter√≠sticas geom√©tricas da superf√≠cie da alvenaria, √© a seguinte imagem: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ii/no/ie/iinoiejzmk64kssow31hqnm4bd4.png"></div><br>  Amostrando deste mapa e deslocando cada v√©rtice de acordo com o valor da altura, √© poss√≠vel obter uma superf√≠cie convexa a partir de um plano ideal que repita os par√¢metros geom√©tricos da superf√≠cie original.  Portanto, pegando um plano com um n√∫mero suficiente de v√©rtices e aplicando um mapa de altura no exemplo, voc√™ pode obter o seguinte resultado: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uu/bu/pw/uubupwg7tnqbjpv3rhf2p5xjw4y.png"></div><br>  A abordagem descrita √© simples e f√°cil de implementar, mas requer uma alta densidade de v√©rtices no objeto processado; caso contr√°rio, o resultado da mudan√ßa ser√° muito grosseiro.  E se em cada superf√≠cie plana come√ßarmos a liberar mil ou mais v√©rtices, muito em breve n√£o teremos tempo para renderizar tudo o que precisamos.  Talvez exista um algoritmo que permita simular qualitativamente a qualidade do ing√™nuo algoritmo de mapeamento de deslocamento, mas sem exigir esses custos de geometria?  Se voc√™ ficar em p√©, sente-se, porque na imagem acima existem apenas seis v√©rtices (dois tri√¢ngulos)!  O relevo da alvenaria √© perfeitamente imitado gra√ßas ao uso do Parallax Mapping, uma t√©cnica de texturiza√ß√£o em relevo que n√£o requer muitos v√©rtices para transmitir fielmente o relevo da superf√≠cie, mas, como o Normal Mapping, que usa uma abordagem original para enganar os olhos do observador. <br><br>  A ideia principal da implementa√ß√£o √© distorcer as coordenadas de textura do fragmento atual com base na dire√ß√£o do olhar e nos dados do mapa de altura, de modo a criar a ilus√£o de que esse fragmento pertence a uma parte da superf√≠cie mais alta ou mais baixa do que realmente √©.  Para uma melhor compreens√£o do princ√≠pio, veja o diagrama do nosso exemplo com tijolos: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rw/ab/tl/rwabtldbgzyc-rsarcgipyteab0.png"></div><br>  Aqui, a linha vermelha √°spera representa os valores do mapa de altura, refletindo as caracter√≠sticas geom√©tricas da superf√≠cie de alvenaria simulada.  Vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mtext" id="MJXp-Span-2">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">r</span><span class="MJXp-mrow" id="MJXp-Span-8"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">e</span></span><span class="MJXp-mrow" id="MJXp-Span-15"><span class="MJXp-mtext" id="MJXp-Span-16">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">r</span><span class="MJXp-mrow" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.229ex" height="2.419ex" viewBox="0 -780.1 7848.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-61" x="937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="1466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-67" x="2067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="2547" y="0"></use></g><g transform="translate(5418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-61" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-56" x="1660" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-1"> \ color {orange} {\ bar {V}} </script>  representa a dire√ß√£o da superf√≠cie para o observador ( <i>viewDir</i> ).  Se o avi√£o estivesse realmente gravado, o observador veria um ponto na superf√≠cie <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-22"><span class="MJXp-mtext" id="MJXp-Span-23">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">r</span><span class="MJXp-mrow" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.453ex" height="2.057ex" viewBox="0 -780.1 4931 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-75" x="728" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1300" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-42" x="4171" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> \ color {blue} B </script>  .  No entanto, de fato, temos um plano ideal e o raio na dire√ß√£o da vista atravessa o plano em um ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-35"><span class="MJXp-mtext" id="MJXp-Span-36">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">r</span><span class="MJXp-mrow" id="MJXp-Span-42"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47">n</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.054ex" height="2.419ex" viewBox="0 -780.1 5620.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-67" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="932" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1398" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="1865" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-41" x="4870" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ color {green} A </script>  isso √© √≥bvio.  Tarefa de mapeamento de paralaxe para alterar as coordenadas de textura em um ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-49"><span class="MJXp-mtext" id="MJXp-Span-50">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">r</span><span class="MJXp-mrow" id="MJXp-Span-56"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">n</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.054ex" height="2.419ex" viewBox="0 -780.1 5620.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-67" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="932" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1398" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="1865" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-41" x="4870" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ color {green} A </script>  para que se tornem id√™nticas √†s coordenadas correspondentes ao ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-63"><span class="MJXp-mtext" id="MJXp-Span-64">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">r</span><span class="MJXp-mrow" id="MJXp-Span-70"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.453ex" height="2.057ex" viewBox="0 -780.1 4931 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-75" x="728" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1300" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-42" x="4171" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> \ color {blue} B </script>  .  Al√©m disso, para o fragmento atual (corresponde ao ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-76"><span class="MJXp-mtext" id="MJXp-Span-77">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">r</span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">n</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.054ex" height="2.419ex" viewBox="0 -780.1 5620.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-67" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="932" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1398" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="1865" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-41" x="4870" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> \ color {green} A </script>  ) usamos as coordenadas obtidas do ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-90"><span class="MJXp-mtext" id="MJXp-Span-91">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">r</span><span class="MJXp-mrow" id="MJXp-Span-97"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.453ex" height="2.057ex" viewBox="0 -780.1 4931 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-75" x="728" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1300" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-42" x="4171" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> \ color {blue} B </script>  amostragem de textura √© necess√°ria para todos, o que cria a ilus√£o de que o observador v√™ um ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-103"><span class="MJXp-mtext" id="MJXp-Span-104">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">r</span><span class="MJXp-mrow" id="MJXp-Span-110"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.453ex" height="2.057ex" viewBox="0 -780.1 4931 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-75" x="728" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1300" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-42" x="4171" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> \ color {blue} B </script>  . <br><br>  A principal dificuldade est√° em como calcular as coordenadas de textura de um ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-116"><span class="MJXp-mtext" id="MJXp-Span-117">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">r</span><span class="MJXp-mrow" id="MJXp-Span-123"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.453ex" height="2.057ex" viewBox="0 -780.1 4931 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-75" x="728" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1300" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-42" x="4171" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> \ color {blue} B </script>  estar no ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-129"><span class="MJXp-mtext" id="MJXp-Span-130">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">r</span><span class="MJXp-mrow" id="MJXp-Span-136"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">n</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.054ex" height="2.419ex" viewBox="0 -780.1 5620.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-67" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="932" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1398" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="1865" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-41" x="4870" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> \ color {green} A </script>  .  O Parallax Mapping oferece uma solu√ß√£o aproximada usando o simples dimensionamento do vetor de dire√ß√£o da superf√≠cie <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-143"><span class="MJXp-mtext" id="MJXp-Span-144">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">r</span><span class="MJXp-mrow" id="MJXp-Span-150"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">e</span></span><span class="MJXp-mrow" id="MJXp-Span-157"><span class="MJXp-mtext" id="MJXp-Span-158">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">r</span><span class="MJXp-mrow" id="MJXp-Span-162"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.229ex" height="2.419ex" viewBox="0 -780.1 7848.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-61" x="937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="1466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-67" x="2067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="2547" y="0"></use></g><g transform="translate(5418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-61" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-56" x="1660" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-11"> \ color {orange} {\ bar {V}} </script>  para o observador pela altura do fragmento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-164"><span class="MJXp-mtext" id="MJXp-Span-165">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">r</span><span class="MJXp-mrow" id="MJXp-Span-171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">n</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.054ex" height="2.419ex" viewBox="0 -780.1 5620.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-67" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="932" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1398" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="1865" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-41" x="4870" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> \ color {green} A </script>  .  I.e.  apenas mude o comprimento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-178"><span class="MJXp-mtext" id="MJXp-Span-179">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">r</span><span class="MJXp-mrow" id="MJXp-Span-185"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">e</span></span><span class="MJXp-mrow" id="MJXp-Span-192"><span class="MJXp-mtext" id="MJXp-Span-193">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">r</span><span class="MJXp-mrow" id="MJXp-Span-197"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.229ex" height="2.419ex" viewBox="0 -780.1 7848.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-61" x="937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="1466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-67" x="2067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="2547" y="0"></use></g><g transform="translate(5418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-61" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-56" x="1660" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-13"> \ color {orange} {\ bar {V}} </script>  para que ele corresponda ao tamanho da amostra no mapa de altura <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-199"><span class="MJXp-mtext" id="MJXp-Span-200">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">r</span><span class="MJXp-mrow" id="MJXp-Span-206"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">e</span></span><span class="MJXp-mrow" id="MJXp-Span-212"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">H</span><span class="MJXp-mo" id="MJXp-Span-214" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">A</span><span class="MJXp-mo" id="MJXp-Span-216" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.76ex" height="2.66ex" viewBox="0 -832 7216 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-76" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-64" x="1403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1927" y="0"></use></g><g transform="translate(4798,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMAIN-28" x="888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-41" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMAIN-29" x="2028" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-14"> \ color {verde} {H (A)} </script>  correspondente ao fragmento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-217"><span class="MJXp-mtext" id="MJXp-Span-218">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">r</span><span class="MJXp-mrow" id="MJXp-Span-224"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">n</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.054ex" height="2.419ex" viewBox="0 -780.1 5620.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-67" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="932" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-65" x="1398" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="1865" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-41" x="4870" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> \ color {green} A </script>  .  O diagrama abaixo mostra o resultado da escala - vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-231"><span class="MJXp-mtext" id="MJXp-Span-232">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">r</span><span class="MJXp-mrow" id="MJXp-Span-238"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">n</span></span><span class="MJXp-mrow" id="MJXp-Span-244"><span class="MJXp-mtext" id="MJXp-Span-245">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">r</span><span class="MJXp-mrow" id="MJXp-Span-249"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.419ex" height="2.057ex" viewBox="0 -780.1 7500 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-77" x="1366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="2083" y="0"></use></g><g transform="translate(5088,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-61" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-50" x="1660" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-16"> \ color {brown} {\ bar {P}} </script>  : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/p7/ka/zl/p7kazlkvcdvy53_r05zpmwedros.png"></div><br>  Em seguida, o vetor resultante <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-251"><span class="MJXp-mtext" id="MJXp-Span-252">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">r</span><span class="MJXp-mrow" id="MJXp-Span-258"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">n</span></span><span class="MJXp-mrow" id="MJXp-Span-264"><span class="MJXp-mtext" id="MJXp-Span-265">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">r</span><span class="MJXp-mrow" id="MJXp-Span-269"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.419ex" height="2.057ex" viewBox="0 -780.1 7500 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-77" x="1366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="2083" y="0"></use></g><g transform="translate(5088,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-61" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-50" x="1660" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-17"> \ color {brown} {\ bar {P}} </script>  decompostos em componentes de acordo com o sistema de coordenadas do pr√≥prio plano, que s√£o usados ‚Äã‚Äãcomo compensa√ß√µes para as coordenadas de textura originais.  Al√©m disso, como o vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-271"><span class="MJXp-mtext" id="MJXp-Span-272">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">r</span><span class="MJXp-mrow" id="MJXp-Span-278"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">n</span></span><span class="MJXp-mrow" id="MJXp-Span-284"><span class="MJXp-mtext" id="MJXp-Span-285">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">r</span><span class="MJXp-mrow" id="MJXp-Span-289"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-290">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.419ex" height="2.057ex" viewBox="0 -780.1 7500 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6F" x="881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-77" x="1366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-6E" x="2083" y="0"></use></g><g transform="translate(5088,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-61" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-72" x="1209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhgdC2M7sCl0Np3EoEOukf25DDiaiQ#MJMATHI-50" x="1660" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-18"> \ color {brown} {\ bar {P}} </script>  √© calculado usando o valor do mapa de altura, quanto mais o valor da altura corresponder ao fragmento atual, mais forte ser√° o deslocamento para ele. <br><br>  Essa t√©cnica simples fornece bons resultados em alguns casos, mas ainda √© uma estimativa muito aproximada da posi√ß√£o de um ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-291"><span class="MJXp-mtext" id="MJXp-Span-292">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">r</span><span class="MJXp-mrow" id="MJXp-Span-298"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> \ color {blue} B </script>  .  Se o mapa de altura contiver √°reas com valores bastante alterados, o resultado do deslocamento se tornar√° incorreto: provavelmente o vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-304"><span class="MJXp-mtext" id="MJXp-Span-305">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">r</span><span class="MJXp-mrow" id="MJXp-Span-311"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">n</span></span><span class="MJXp-mrow" id="MJXp-Span-317"><span class="MJXp-mtext" id="MJXp-Span-318">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">r</span><span class="MJXp-mrow" id="MJXp-Span-322"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> \ color {brown} {\ bar {P}} </script>  mesmo perto n√£o cair√° na vizinhan√ßa do ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-324"><span class="MJXp-mtext" id="MJXp-Span-325">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">r</span><span class="MJXp-mrow" id="MJXp-Span-331"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-335">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> \ color {blue} B </script>  : <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mb/bq/ts/mbbqtsva5kzyzpj8ettleqrdxr4.png"></div><br>  Com base no exposto, outra quest√£o permanece: como determinar como projetar corretamente um vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-337"><span class="MJXp-mtext" id="MJXp-Span-338">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">r</span><span class="MJXp-mrow" id="MJXp-Span-344"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">n</span></span><span class="MJXp-mrow" id="MJXp-Span-350"><span class="MJXp-mtext" id="MJXp-Span-351">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">r</span><span class="MJXp-mrow" id="MJXp-Span-355"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> \ color {brown} {\ bar {P}} </script>  para uma superf√≠cie arbitrariamente orientada para obter componentes para compensar as coordenadas da textura?  Seria bom realizar c√°lculos em um determinado sistema de coordenadas, onde a expans√£o do vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-357"><span class="MJXp-mtext" id="MJXp-Span-358">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-360">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">r</span><span class="MJXp-mrow" id="MJXp-Span-364"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-365">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">n</span></span><span class="MJXp-mrow" id="MJXp-Span-370"><span class="MJXp-mtext" id="MJXp-Span-371">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-372">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">r</span><span class="MJXp-mrow" id="MJXp-Span-375"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> \ color {brown} {\ bar {P}} </script>  nos componentes <i>x</i> e <i>y</i> sempre corresponderiam √† base do sistema de coordenadas da textura.  Se voc√™ elaborou cuidadosamente a li√ß√£o sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mapeamento normal</a> , j√° adivinhou que estamos falando de c√°lculos no espa√ßo tangente. <br><br>  Transferindo o vetor da superf√≠cie para o observador <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-377"><span class="MJXp-mtext" id="MJXp-Span-378">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-383">r</span><span class="MJXp-mrow" id="MJXp-Span-384"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-385">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">e</span></span><span class="MJXp-mrow" id="MJXp-Span-391"><span class="MJXp-mtext" id="MJXp-Span-392">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395">r</span><span class="MJXp-mrow" id="MJXp-Span-396"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-397">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> \ color {orange} {\ bar {V}} </script>  no espa√ßo tangente, obtemos um vetor modificado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-398"><span class="MJXp-mtext" id="MJXp-Span-399">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-404">r</span><span class="MJXp-mrow" id="MJXp-Span-405"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-410">n</span></span><span class="MJXp-mrow" id="MJXp-Span-411"><span class="MJXp-mtext" id="MJXp-Span-412">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">r</span><span class="MJXp-mrow" id="MJXp-Span-416"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> \ color {brown} {\ bar {P}} </script>  , cuja decomposi√ß√£o de componentes ser√° sempre realizada de acordo com os vetores tangentes e bi-tangentes para uma determinada superf√≠cie.  Como a tangente e a bi-tangente est√£o sempre alinhadas com os eixos do sistema de coordenadas de textura da superf√≠cie, ent√£o, independentemente da orienta√ß√£o da superf√≠cie, voc√™ pode usar com seguran√ßa os componentes <i>xey</i> do vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-418"><span class="MJXp-mtext" id="MJXp-Span-419">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">r</span><span class="MJXp-mrow" id="MJXp-Span-425"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">n</span></span><span class="MJXp-mrow" id="MJXp-Span-431"><span class="MJXp-mtext" id="MJXp-Span-432">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">r</span><span class="MJXp-mrow" id="MJXp-Span-436"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> \ color {brown} {\ bar {P}} </script>  como deslocamentos para coordenadas de textura. <br><br>  No entanto, a teoria √© suficiente e, depois de arrega√ßar as mangas, passamos √† implementa√ß√£o imediata. <br><br><h3>  Mapeamento de paralaxe </h3><br>  Para a implementa√ß√£o, usaremos um plano simples com tangentes e tangentes de polariza√ß√£o calculadas para ele - j√° podemos fazer isso na li√ß√£o sobre mapeamento normal.  Atribu√≠mos v√°rios planos aos planos de textura: <a href="">difuso</a> , <a href="">normais</a> e <a href="">deslocamentos</a> , cada um dos quais est√° dispon√≠vel no link apropriado.  Na li√ß√£o, tamb√©m usaremos o Mapeamento Normal, pois o Parallax Mapping cria a ilus√£o de uma topografia de superf√≠cie, que √© facilmente quebrada se a ilumina√ß√£o n√£o mudar de acordo com a topografia.  Como os mapas normais geralmente s√£o criados com base em mapas de eleva√ß√£o, seu uso combinado garante a conex√£o correta da ilumina√ß√£o, levando em considera√ß√£o o terreno. <br><br>  Voc√™ provavelmente j√° percebeu que o mapa de deslocamento mostrado no link acima √©, de fato, o inverso do mapa mostrado no in√≠cio da li√ß√£o.  A implementa√ß√£o do Parallax Mapping geralmente √© realizada usando apenas esses mapas, que s√£o inversos aos mapas de altura - <i>mapas de profundidade</i> .  Isso acontece porque a imita√ß√£o dos recessos no avi√£o √© um pouco mais f√°cil do que a imita√ß√£o de eleva√ß√£o.  De acordo com essa altera√ß√£o, o esquema de trabalho do Parallax Mapping tamb√©m muda: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oq/zr/y5/oqzry5trs2lyfbwhe6puu0u04y8.png"></div><br>  Mais uma vez, vemos pontos familiares <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-438"><span class="MJXp-mtext" id="MJXp-Span-439">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-443">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">r</span><span class="MJXp-mrow" id="MJXp-Span-445"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450">n</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> \ color {green} A </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-452"><span class="MJXp-mtext" id="MJXp-Span-453">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">r</span><span class="MJXp-mrow" id="MJXp-Span-459"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> \ color {blue} B </script>  entretanto, desta vez o vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-465"><span class="MJXp-mtext" id="MJXp-Span-466">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">r</span><span class="MJXp-mrow" id="MJXp-Span-472"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-477">n</span></span><span class="MJXp-mrow" id="MJXp-Span-478"><span class="MJXp-mtext" id="MJXp-Span-479">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-480">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-482">r</span><span class="MJXp-mrow" id="MJXp-Span-483"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> \ color {brown} {\ bar {P}} </script>  obtido subtraindo o vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-485"><span class="MJXp-mtext" id="MJXp-Span-486">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491">r</span><span class="MJXp-mrow" id="MJXp-Span-492"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-493">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-494">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-495">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">e</span></span><span class="MJXp-mrow" id="MJXp-Span-499"><span class="MJXp-mtext" id="MJXp-Span-500">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-501">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-502">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503">r</span><span class="MJXp-mrow" id="MJXp-Span-504"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> \ color {orange} {\ bar {V}} </script>  de coordenadas de textura em um ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-506"><span class="MJXp-mtext" id="MJXp-Span-507">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-512">r</span><span class="MJXp-mrow" id="MJXp-Span-513"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-518">n</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-519">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> \ color {green} A </script>  .  √â poss√≠vel obter profundidades em vez de alturas, subtraindo a amostra de profundidade da unidade ou invertendo as cores da textura em qualquer editor de imagens. <br><br>  O mapeamento de paralaxe √© implementado no sombreador de fragmentos, pois os dados de eleva√ß√£o s√£o diferentes para cada fragmento dentro do tri√¢ngulo.  O c√≥digo do fragment shader exigir√° o c√°lculo do vetor do fragmento para o observador <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-520"><span class="MJXp-mtext" id="MJXp-Span-521">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-522">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-524">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-525">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-526">r</span><span class="MJXp-mrow" id="MJXp-Span-527"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-528">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-529">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">e</span></span><span class="MJXp-mrow" id="MJXp-Span-534"><span class="MJXp-mtext" id="MJXp-Span-535">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">r</span><span class="MJXp-mrow" id="MJXp-Span-539"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> \ color {orange} {\ bar {V}} </script>  , ent√£o voc√™ precisa transmitir a ele a posi√ß√£o do fragmento e do observador no espa√ßo tangente.  De acordo com os resultados da li√ß√£o sobre mapeamento normal, ainda temos o sombreador de v√©rtices em nossas m√£os, que transfere todos esses vetores j√° reduzidos para o espa√ßo tangente, vamos us√°-lo: <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 330 core layout (location = 0) in vec3 aPos; layout (location = 1) in vec3 aNormal; layout (location = 2) in vec2 aTexCoords; layout (location = 3) in vec3 aTangent; layout (location = 4) in vec3 aBitangent; out VS_OUT { vec3 FragPos; vec2 TexCoords; vec3 TangentLightPos; vec3 TangentViewPos; vec3 TangentFragPos; } vs_out; uniform mat4 projection; uniform mat4 view; uniform mat4 model; uniform vec3 lightPos; uniform vec3 viewPos; void main() { gl_Position = projection * view * model * vec4(aPos, 1.0); vs_out.FragPos = vec3(model * vec4(aPos, 1.0)); vs_out.TexCoords = aTexCoords; vec3 T = normalize(mat3(model) * aTangent); vec3 B = normalize(mat3(model) * aBitangent); vec3 N = normalize(mat3(model) * aNormal); mat3 TBN = transpose(mat3(T, B, N)); vs_out.TangentLightPos = TBN * lightPos; vs_out.TangentViewPos = TBN * viewPos; vs_out.TangentFragPos = TBN * vs_out.FragPos; }</span></span></code> </pre> <br>  Das coisas importantes, apenas observarei que, especificamente para as necessidades do mapeamento de paralaxe, √© necess√°rio transferir <i>aPos</i> e a posi√ß√£o do observador do <i>viewPos</i> no espa√ßo tangente para o shader de fragmento. <br><br>  Dentro do shader, implementamos o algoritmo Parallax Mapping, que se parece com isso: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 330 core out vec4 FragColor; in VS_OUT { vec3 FragPos; vec2 TexCoords; vec3 TangentLightPos; vec3 TangentViewPos; vec3 TangentFragPos; } fs_in; uniform sampler2D diffuseMap; uniform sampler2D normalMap; uniform sampler2D depthMap; uniform float height_scale; vec2 ParallaxMapping(vec2 texCoords, vec3 viewDir); void main() { vec3 viewDir = normalize(fs_in.TangentViewPos - fs_in.TangentFragPos); </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//       Parallax Mapping vec2 texCoords = ParallaxMapping(fs_in.TexCoords, viewDir); //      //     vec3 diffuse = texture(diffuseMap, texCoords); vec3 normal = texture(normalMap, texCoords); normal = normalize(normal * 2.0 - 1.0); //  ‚Äì     [...] }</span></span></span></span></code> </pre> <br>  Anunciamos a fun√ß√£o ParallaxMapping, que leva as coordenadas de textura do fragmento e o vetor do fragmento para o observador <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-541"><span class="MJXp-mtext" id="MJXp-Span-542">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-545">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547">r</span><span class="MJXp-mrow" id="MJXp-Span-548"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">e</span></span><span class="MJXp-mrow" id="MJXp-Span-555"><span class="MJXp-mtext" id="MJXp-Span-556">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">r</span><span class="MJXp-mrow" id="MJXp-Span-560"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> \ color {orange} {\ bar {V}} </script>  no espa√ßo tangente.  O resultado da fun√ß√£o s√£o coordenadas de textura deslocadas, que j√° s√£o usadas para amostras de uma textura difusa e mapa normal.  Como resultado, a cor difusa do pixel e seu normal correspondem corretamente √† ‚Äúgeometria‚Äù alterada do plano. <br><br>  O que est√° oculto dentro da fun√ß√£o ParallaxMapping? <br><br><pre> <code class="cpp hljs"> <span class="hljs-function"><span class="hljs-function">vec2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParallaxMapping</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(vec2 texCoords, vec3 viewDir)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> height = texture(depthMap, texCoords).r; vec2 p = viewDir.xy / viewDir.z * (height * height_scale); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> texCoords - p; }</code> </pre> <br>  Essa fun√ß√£o relativamente simples √© uma implementa√ß√£o literal do m√©todo, cujos principais pontos discutimos acima.  As coordenadas de textura inicial do TexCoords s√£o <i>obtidas</i> , com a ajuda da qual a altura (ou profundidade) √© <i>selecionada</i> <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-562"><span class="MJXp-mtext" id="MJXp-Span-563">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">r</span><span class="MJXp-mrow" id="MJXp-Span-569"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-572">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-573">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">e</span></span><span class="MJXp-mrow" id="MJXp-Span-575"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">H</span><span class="MJXp-mo" id="MJXp-Span-577" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">A</span><span class="MJXp-mo" id="MJXp-Span-579" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> \ color {verde} {H (A)} </script>  de <i>depthMap</i> para o fragmento atual.  Para calcular o vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-580"><span class="MJXp-mtext" id="MJXp-Span-581">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-582">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-585">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586">r</span><span class="MJXp-mrow" id="MJXp-Span-587"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-590">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-591">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">n</span></span><span class="MJXp-mrow" id="MJXp-Span-593"><span class="MJXp-mtext" id="MJXp-Span-594">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597">r</span><span class="MJXp-mrow" id="MJXp-Span-598"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-599">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> \ color {brown} {\ bar {P}} </script>  o vetor <i>viewDir</i> √© <i>obtido</i> no espa√ßo tangente e o par de seus componentes <i>x</i> e <i>y</i> √© dividido pelo componente <i>z</i> , e o resultado √© dimensionado pelo valor do deslocamento de leitura da <i>altura</i> .  O <i>uniforme</i> height_scale tamb√©m foi introduzido para fornecer controle adicional sobre a severidade do efeito Mapeamento de Parallax, uma vez que o efeito de deslocamento geralmente √© muito forte.  Para obter o resultado, subtra√≠mos o vetor resultante <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-600"><span class="MJXp-mtext" id="MJXp-Span-601">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-604">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-605">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606">r</span><span class="MJXp-mrow" id="MJXp-Span-607"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-608">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">n</span></span><span class="MJXp-mrow" id="MJXp-Span-613"><span class="MJXp-mtext" id="MJXp-Span-614">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-617">r</span><span class="MJXp-mrow" id="MJXp-Span-618"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> \ color {brown} {\ bar {P}} </script>  das coordenadas originais da textura. <br><br>  <i>Lidaremos</i> com o momento de dividir <i>viewDir.xy</i> em <i>viewDir.z</i> .  Como o vetor <i>viewDir √©</i> normalizado, seu componente <i>z</i> fica no intervalo [0, 1].  Quando o vetor √© quase paralelo √† superf√≠cie do componente, <i>z</i> √© pr√≥ximo de zero e a opera√ß√£o de divis√£o retorna o vetor. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-620"><span class="MJXp-mtext" id="MJXp-Span-621">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-622">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-624">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-625">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626">r</span><span class="MJXp-mrow" id="MJXp-Span-627"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-631">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632">n</span></span><span class="MJXp-mrow" id="MJXp-Span-633"><span class="MJXp-mtext" id="MJXp-Span-634">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">r</span><span class="MJXp-mrow" id="MJXp-Span-638"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> \ color {brown} {\ bar {P}} </script>  muito mais do que se o <i>viewDir</i> estiver pr√≥ximo da perpendicular √† superf√≠cie.  Em outras palavras, escalamos o vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-640"><span class="MJXp-mtext" id="MJXp-Span-641">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-643">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">r</span><span class="MJXp-mrow" id="MJXp-Span-647"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-649">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-650">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-652">n</span></span><span class="MJXp-mrow" id="MJXp-Span-653"><span class="MJXp-mtext" id="MJXp-Span-654">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-656">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-657">r</span><span class="MJXp-mrow" id="MJXp-Span-658"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-659">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> \ color {brown} {\ bar {P}} </script>  para aumentar quando voc√™ olha para a superf√≠cie em √¢ngulo - isso permite obter um resultado mais realista nesses casos. <br><br>  Alguns desenvolvedores preferem remover a escala dividindo por <i>viewDir.z</i> , porque, em certos casos, essa abordagem gera resultados incorretos quando vistos de um √¢ngulo.  Essa modifica√ß√£o da t√©cnica √© chamada de <i>Parallax Mapping with Offset Limiting</i> .  A escolha de uma op√ß√£o de abordagem, na maioria das vezes, continua sendo uma quest√£o de prefer√™ncia pessoal - por exemplo, sou mais fiel aos resultados do algoritmo Parallax Mapping usual. <br><br>  As coordenadas de textura alteradas resultantes s√£o usadas para selecionar no mapa difuso e no mapa normal, o que nos d√° um bom efeito de distor√ß√£o da superf√≠cie (o par√¢metro <i>height_scale</i> aqui √© escolhido pr√≥ximo a 0,1): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/f8/1h/1z/f81h1z2wjj_pxbmj0xl9aglfu4s.png"></div><br>  Na imagem, voc√™ pode comparar os efeitos das t√©cnicas de mapeamento normal e mapeamento de paralaxe.  Como o Parallax Mapping simula irregularidades na superf√≠cie, s√£o poss√≠veis situa√ß√µes para esta t√©cnica em que os tijolos se sobrep√µem, dependendo da dire√ß√£o do olho. <br><br>  Artefatos estranhos tamb√©m s√£o vis√≠veis ao longo das bordas do plano texturizado.  Eles aparecem devido ao fato de que as coordenadas de textura deslocadas pelo algoritmo Parallax Mapping podem ficar fora do intervalo da unidade e, dependendo do <i>modo de agrupamento</i> , causar resultados indesejados.  Uma maneira simples de se livrar desses artefatos √© simplesmente descartar todos os fragmentos para os quais as coordenadas de textura est√£o fora do intervalo da unidade: <br><br><pre> <code class="cpp hljs">texCoords = ParallaxMapping(fs_in.TexCoords, viewDir); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(texCoords.x &gt; <span class="hljs-number"><span class="hljs-number">1.0</span></span> || texCoords.y &gt; <span class="hljs-number"><span class="hljs-number">1.0</span></span> || texCoords.x &lt; <span class="hljs-number"><span class="hljs-number">0.0</span></span> || texCoords.y &lt; <span class="hljs-number"><span class="hljs-number">0.0</span></span>) discard;</code> </pre> <br>  Como resultado, todos os fragmentos com coordenadas de textura deslocadas que caem fora do intervalo [0, 1] ser√£o descartados e, visualmente, o resultado da a√ß√£o Parallax Mapping se tornar√° aceit√°vel.  Obviamente, esse m√©todo de rejei√ß√£o n√£o √© universal e pode n√£o ser aplic√°vel a algumas superf√≠cies ou casos de texturiza√ß√£o.  Mas, no exemplo de um avi√£o, ele funciona perfeitamente e ajuda a fortalecer o efeito de alterar o relevo do avi√£o: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xe/se/ab/xeseabwomzyadc0soh18onuvfry.png"></div><br>  As fontes de amostra est√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Parece bom e o desempenho do m√©todo √© excelente - bastava uma amostra adicional da textura!  Mas a simplicidade do m√©todo tem desvantagens significativas: o efeito de al√≠vio √© facilmente destru√≠do quando se olha para o plano em um √¢ngulo (o que tamb√©m √© verdadeiro para o mapeamento normal) ou se h√° se√ß√µes no mapa de altura com mudan√ßas acentuadas nos valores: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bn/oo/ar/bnooaruo0ssus2vhu24usfkfe3a.png"></div><br>  A raz√£o para a destrui√ß√£o da ilus√£o est√° no fato de que o algoritmo √© uma aproxima√ß√£o muito aproximada do mapeamento de deslocamento real.  No entanto, v√°rios truques adicionais podem nos ajudar, o que nos permite obter resultados quase perfeitos, mesmo ao olhar em √¢ngulo ou ao usar mapas de altura com mudan√ßas bruscas.  Por exemplo, podemos usar v√°rias amostras de um mapa de altura para encontrar o ponto mais pr√≥ximo do ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-660"><span class="MJXp-mtext" id="MJXp-Span-661">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-662">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-665">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666">r</span><span class="MJXp-mrow" id="MJXp-Span-667"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-668">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-670">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-671">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-672">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> \ color {blue} B </script>  . <br><br><h3>  Mapeamento √≠ngreme de paralaxe </h3><br>  A t√©cnica Steep Parallax Mapping √© um desenvolvimento l√≥gico do cl√°ssico Parallax Mapping: a mesma abordagem √© usada no algoritmo, mas em vez de uma √∫nica sele√ß√£o, v√°rias s√£o tomadas - para uma melhor aproxima√ß√£o do vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-673"><span class="MJXp-mtext" id="MJXp-Span-674">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-677">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-679">r</span><span class="MJXp-mrow" id="MJXp-Span-680"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-683">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-684">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-685">n</span></span><span class="MJXp-mrow" id="MJXp-Span-686"><span class="MJXp-mtext" id="MJXp-Span-687">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-689">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-690">r</span><span class="MJXp-mrow" id="MJXp-Span-691"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> \ color {brown} {\ bar {P}} </script>  usado para calcular o ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-693"><span class="MJXp-mtext" id="MJXp-Span-694">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-696">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-697">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-698">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-699">r</span><span class="MJXp-mrow" id="MJXp-Span-700"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-702">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-704">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> \ color {blue} B </script>  .  Devido a essas amostras adicionais, o resultado do algoritmo √© visualmente muito mais plaus√≠vel, mesmo quando se olha para √¢ngulos agudos da superf√≠cie. <br><br>  A base da abordagem Steep PM √© pegar uma certa faixa de profundidades e dividi-la em camadas de tamanho igual.  Em seguida, iteramos pelas camadas enquanto deslocamos simultaneamente as coordenadas da textura original na dire√ß√£o do vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-706"><span class="MJXp-mtext" id="MJXp-Span-707">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-710">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-711">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-712">r</span><span class="MJXp-mrow" id="MJXp-Span-713"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-714">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-715">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">n</span></span><span class="MJXp-mrow" id="MJXp-Span-719"><span class="MJXp-mtext" id="MJXp-Span-720">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-721">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723">r</span><span class="MJXp-mrow" id="MJXp-Span-724"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> \ color {brown} {\ bar {P}} </script>  e fazer amostras do mapa de profundidade, parando no momento em que a profundidade da amostra √© menor que a profundidade da camada atual.  Confira o diagrama: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vg/3c/be/vg3cbeeaq_tkhsed4cdxiytzacq.png"></div><br>  Como voc√™ pode ver, passamos pelas camadas de cima para baixo e, para cada camada, comparamos sua profundidade com o valor do mapa de profundidade.  Se a profundidade da camada for menor que o valor do mapa de profundidade, isso significa que o vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-726"><span class="MJXp-mtext" id="MJXp-Span-727">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-728">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-729">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-730">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-731">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732">r</span><span class="MJXp-mrow" id="MJXp-Span-733"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-734">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-735">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-738">n</span></span><span class="MJXp-mrow" id="MJXp-Span-739"><span class="MJXp-mtext" id="MJXp-Span-740">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-741">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-742">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-743">r</span><span class="MJXp-mrow" id="MJXp-Span-744"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> \ color {brown} {\ bar {P}} </script>  correspondente a essa camada est√° acima da superf√≠cie.  Esse processo √© repetido at√© que a profundidade da camada seja maior que a sele√ß√£o do mapa de profundidade: neste momento, o vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-746"><span class="MJXp-mtext" id="MJXp-Span-747">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-750">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-752">r</span><span class="MJXp-mrow" id="MJXp-Span-753"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-754">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-755">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-756">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-757">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-758">n</span></span><span class="MJXp-mrow" id="MJXp-Span-759"><span class="MJXp-mtext" id="MJXp-Span-760">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-761">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-762">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-763">r</span><span class="MJXp-mrow" id="MJXp-Span-764"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-765">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> \ color {brown} {\ bar {P}} </script>  aponta para um ponto abaixo da topografia de superf√≠cie simulada. <br>  O exemplo mostra que a sele√ß√£o do mapa de profundidade na segunda camada ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-766"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-767">D</span><span class="MJXp-mo" id="MJXp-Span-768" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-769">2</span><span class="MJXp-mo" id="MJXp-Span-770" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-771" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-772">0</span><span class="MJXp-mo" id="MJXp-Span-773" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-774">73</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> D (2) = 0,73 </script>  ) ainda permanece "mais profundo" em rela√ß√£o √† profundidade da segunda camada igual a 0,4, o que significa que o processo de pesquisa continua.  Na pr√≥xima passagem, uma profundidade de camada de 0,6 finalmente est√° "acima" do valor da amostra do mapa de profundidade ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-775"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-776">D</span><span class="MJXp-mo" id="MJXp-Span-777" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-778">3</span><span class="MJXp-mo" id="MJXp-Span-779" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-780" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-781">0</span><span class="MJXp-mo" id="MJXp-Span-782" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-783">37</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> D (3) = 0,37 </script>  )  A partir daqui, conclu√≠mos que o vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-784"><span class="MJXp-mtext" id="MJXp-Span-785">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-786">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-787">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-788">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-790">r</span><span class="MJXp-mrow" id="MJXp-Span-791"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-792">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-793">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-794">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-795">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-796">n</span></span><span class="MJXp-mrow" id="MJXp-Span-797"><span class="MJXp-mtext" id="MJXp-Span-798">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-799">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-800">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-801">r</span><span class="MJXp-mrow" id="MJXp-Span-802"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-803">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> \ color {brown} {\ bar {P}} </script>  obtido para a terceira camada √© a posi√ß√£o mais confi√°vel para a geometria distorcida da superf√≠cie.  Voc√™ pode usar coordenadas de textura <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-804"><span class="MJXp-msubsup" id="MJXp-Span-805"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-806" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-807" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48"> T_3 </script>  derivado do vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-808"><span class="MJXp-mtext" id="MJXp-Span-809">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-810">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-811">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-812">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-813">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-814">r</span><span class="MJXp-mrow" id="MJXp-Span-815"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-817">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-818">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-819">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-820">n</span></span><span class="MJXp-mrow" id="MJXp-Span-821"><span class="MJXp-mtext" id="MJXp-Span-822">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-823">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-824">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-825">r</span><span class="MJXp-mrow" id="MJXp-Span-826"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-827">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> \ color {brown} {\ bar {P}} </script>  , para compensar as coordenadas de textura do fragmento atual.  Obviamente, a precis√£o do m√©todo aumenta com o n√∫mero de camadas. <br><br>  Altera√ß√µes na implementa√ß√£o afetar√£o apenas a fun√ß√£o ParallaxMapping, pois ela j√° cont√©m todas as vari√°veis ‚Äã‚Äãnecess√°rias para o algoritmo funcionar: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">vec2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParallaxMapping</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(vec2 texCoords, vec3 viewDir)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    const float numLayers = 10; //    float layerDepth = 1.0 / numLayers; //    float currentLayerDepth = 0.0; //         //     P vec2 P = viewDir.xy * height_scale; vec2 deltaTexCoords = P / numLayers; [...] }</span></span></code> </pre> <br>  Primeiro, inicializamos: defina o n√∫mero de camadas, calcule a profundidade de cada uma delas e, finalmente, encontre o tamanho do deslocamento das coordenadas da textura ao longo da dire√ß√£o do vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-828"><span class="MJXp-mtext" id="MJXp-Span-829">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-830">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-831">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-834">r</span><span class="MJXp-mrow" id="MJXp-Span-835"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-838">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-839">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840">n</span></span><span class="MJXp-mrow" id="MJXp-Span-841"><span class="MJXp-mtext" id="MJXp-Span-842">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845">r</span><span class="MJXp-mrow" id="MJXp-Span-846"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-847">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> \ color {brown} {\ bar {P}} </script>  , que precisar√° ser deslocado em cada camada. <br><br>  A seguir, √© apresentada uma passagem pelas camadas, come√ßando do topo, at√© encontrar uma sele√ß√£o do mapa de profundidade que se encontra "acima" do valor da profundidade da camada atual: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   vec2 currentTexCoords = texCoords; float currentDepthMapValue = texture(depthMap, currentTexCoords).r; while(currentLayerDepth &lt; currentDepthMapValue) { //      P currentTexCoords -= deltaTexCoords; //          currentDepthMapValue = texture(depthMap, currentTexCoords).r; //     currentLayerDepth += layerDepth; } return currentTexCoords;</span></span></code> </pre> <br>  Nesse c√≥digo, atravessamos todas as camadas de profundidade e alteramos as coordenadas originais da textura at√© que a sele√ß√£o do mapa de profundidade seja menor que a profundidade da camada atual.  O deslocamento √© realizado subtraindo as coordenadas de textura originais do delta com base no vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-848"><span class="MJXp-mtext" id="MJXp-Span-849">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-850">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-851">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-852">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-853">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-854">r</span><span class="MJXp-mrow" id="MJXp-Span-855"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-856">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-857">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-858">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-859">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-860">n</span></span><span class="MJXp-mrow" id="MJXp-Span-861"><span class="MJXp-mtext" id="MJXp-Span-862">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-863">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-864">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-865">r</span><span class="MJXp-mrow" id="MJXp-Span-866"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-867">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> \ color {brown} {\ bar {P}} </script>  .  O resultado do algoritmo √© um vetor de deslocamento de coordenadas de textura, definido com uma precis√£o muito maior que o mapeamento Parallax cl√°ssico. <br><br>  Usando cerca de 10 amostras, o exemplo de alvenaria se torna muito mais realista, mesmo quando visto de um √¢ngulo.  Mas o melhor de tudo √© que as vantagens do Steep PM s√£o vis√≠veis em superf√≠cies com um mapa de profundidade, que apresenta mudan√ßas acentuadas nos valores.  Por exemplo, como neste brinquedo de madeira, j√° demonstrado anteriormente: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vr/to/7z/vrto7zfnycbrcu2jcf_qv0tc77e.png"></div><br>  Voc√™ pode melhorar um pouco mais o algoritmo se analisar um pouco os recursos da t√©cnica de mapeamento de paralaxe.  Se voc√™ observar a superf√≠cie aproximadamente normal, n√£o ser√° necess√°rio alterar fortemente as coordenadas da textura, enquanto, ao olhar para um √¢ngulo, a altera√ß√£o tender√° ao m√°ximo (imagine mentalmente a dire√ß√£o da vista nos dois casos).  Se voc√™ parametrizar o n√∫mero de amostras, dependendo da dire√ß√£o do seu olhar, poder√° economizar bastante quando n√£o forem necess√°rias amostras extras: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> minLayers = <span class="hljs-number"><span class="hljs-number">8.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> maxLayers = <span class="hljs-number"><span class="hljs-number">32.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> numLayers = mix(maxLayers, minLayers, <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(dot(vec3(<span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>), viewDir)));</code> </pre> <br>  O resultado do produto escalar do vetor <i>viewDir</i> e do semi-eixo positivo Z √© usado para determinar o n√∫mero de camadas no intervalo [ <i>minSamples</i> , <i>maxSamples</i> ], ou seja,  a dire√ß√£o do olhar determina o n√∫mero necess√°rio de itera√ß√µes do efeito (no espa√ßo tangente, o meio eixo positivo Z √© direcionado normal √† superf√≠cie).  Se olharmos paralelos √† superf√≠cie, o efeito usaria todas as 32 camadas. <br><br>  O c√≥digo fonte modificado est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Tamb√©m proponho baixar a textura de um brinquedo de madeira: <a href="">mapa</a> <a href="">normal</a> e <a href="">difuso</a> , <a href="">mapa de profundidade</a> . <br><br>  N√£o sem uma abordagem e desvantagens.  Como o n√∫mero de amostras √© o mesmo finito, a apar√™ncia de efeitos de aliasing √© inevit√°vel, o que faz com que as transi√ß√µes entre as camadas sejam impressionantes: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zk/ss/4y/zkss4ywet2bhtqtctuf-dz5phdc.png"></div><br>  Voc√™ pode reduzir a gravidade do artefato aumentando o n√∫mero de amostras usadas, mas consome rapidamente todo o desempenho dispon√≠vel do processador de v√≠deo.  Existem v√°rias adi√ß√µes ao m√©todo, que retornam como resultado n√£o o primeiro ponto que apareceu sob o relevo imagin√°rio da superf√≠cie, mas o valor interpolado das duas camadas mais pr√≥ximas, o que nos permite esclarecer melhor a posi√ß√£o do ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-868"><span class="MJXp-mtext" id="MJXp-Span-869">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-870">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-871">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-872">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-874">r</span><span class="MJXp-mrow" id="MJXp-Span-875"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-877">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-878">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-879">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-880">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> \ color {blue} B </script>  . <br><br>  Desses m√©todos, dois s√£o usados ‚Äã‚Äãcom mais freq√º√™ncia: <i>Mapeamento de Parallax de Relevo</i> e <i>Mapeamento de</i> <i>Oclus√£o de Parallax</i> , com o Relief PM fornecendo os resultados mais confi√°veis, mas tamb√©m √© um pouco mais exigente no desempenho em compara√ß√£o com o Mapeamento de Oclus√£o de Parallax.  Como o Mapeamento de oclus√£o da Parallax ainda possui qualidade muito pr√≥xima do Relief PM e, ao mesmo tempo, funciona mais rapidamente, eles preferem us√°-lo com mais frequ√™ncia.  A seguir, ser√° considerada a implementa√ß√£o do Mapeamento de Oclus√£o de Parallax. <br><br><h3>  Mapeamento de oclus√£o de paralaxe </h3><br>  O m√©todo Parallax Oclusion Mapping funciona de acordo com os mesmos princ√≠pios b√°sicos do Steep PM, mas, em vez de usar as coordenadas de textura da primeira camada, onde foi encontrada uma interse√ß√£o com um relevo imagin√°rio, o m√©todo usa interpola√ß√£o linear entre duas camadas: a camada ap√≥s e antes da interse√ß√£o.  O coeficiente de pondera√ß√£o para interpola√ß√£o linear √© baseado na raz√£o entre a profundidade de relevo atual e as profundidades de ambas as camadas em considera√ß√£o.  D√™ uma olhada no diagrama para entender melhor como tudo funciona: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/q5/yj/sq/q5yjsqbgr445gh3hnznqbxoewje.png"></div><br>  Como voc√™ pode ver, tudo √© muito semelhante ao Steep PM, apenas uma etapa adicional de interpolar as coordenadas de textura das duas camadas de profundidade adjacentes ao ponto de interse√ß√£o √© adicionada.  Obviamente, esse m√©todo √© apenas uma aproxima√ß√£o, mas muito mais preciso que o Steep PM. <br><br>  O c√≥digo do Parallax Oclusion Mapping √© um complemento ao c√≥digo Steep PM e n√£o √© muito complicado: <br><br><pre> <code class="cpp hljs">[...] <span class="hljs-comment"><span class="hljs-comment">// ,    Steep PM //       , // ..  " " vec2 prevTexCoords = currentTexCoords + deltaTexCoords; //         //      float afterDepth = currentDepthMapValue - currentLayerDepth; float beforeDepth = texture(depthMap, prevTexCoords).r - currentLayerDepth + layerDepth; //    float weight = afterDepth / (afterDepth - beforeDepth); vec2 finalTexCoords = prevTexCoords * weight + currentTexCoords * (1.0 - weight); return finalTexCoords;</span></span></code> </pre> <br>  No momento em que encontramos a camada ap√≥s o ponto de interse√ß√£o com o relevo imagin√°rio, tamb√©m determinamos as coordenadas de textura da camada antes do ponto de interse√ß√£o.  Em seguida, encontramos os deslocamentos da profundidade de relevo imagin√°ria em rela√ß√£o √†s profundidades das duas camadas em considera√ß√£o e usamos sua raz√£o como coeficiente de peso de uma interpola√ß√£o linear adicional das coordenadas de textura correspondentes √†s duas camadas consideradas.  O resultado da interpola√ß√£o √© retornado pela fun√ß√£o para uso futuro. <br><br>  O mapeamento de oclus√£o de paralaxe fornece resultados surpreendentemente visualmente confi√°veis, embora com pequenas falhas e artefatos de aliasing.  Por√©m, para um comprometimento de velocidade e qualidade, eles s√£o insignificantes e aparecem apenas com uma observa√ß√£o cuidadosa da superf√≠cie pr√≥xima √† c√¢mera ou em √¢ngulos de vis√£o muito n√≠tidos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ju/40/-o/ju40-o2ktwtwzsxnytaf4pmi_3e.png"></div><br>  Um c√≥digo de exemplo est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  O Parallax Mapping √© realmente uma excelente t√©cnica que permite aumentar drasticamente os detalhes visuais de sua cena, mas, √© claro, tem suas desvantagens na forma de artefatos, que vale a pena lembrar ao implementar a t√©cnica no projeto.  Na maioria das vezes, o Parallax Mapping √© usado em superf√≠cies planas, como paredes ou pisos - onde n√£o √© t√£o f√°cil determinar o contorno do objeto como um todo, e o √¢ngulo de vis√£o da superf√≠cie geralmente fica pr√≥ximo da perpendicular.  Nesse caso, as falhas do Parallax Mapping s√£o quase invis√≠veis, no contexto de um aumento nos detalhes da superf√≠cie. <br><br><h2>  B√¥nus do tradutor: </h2><br><h3>  Mapeamento de paralaxe de al√≠vio </h3><br>  Como o autor mencionou dois m√©todos para esclarecer o resultado do Steep PM, para fins de detalhamento, descreverei a segunda das abordagens. <br><br>  Como o Parallax Oclusion Mapping, o resultado da execu√ß√£o do Steep PM √© usado aqui, ou seja,  conhecemos as profundidades de duas camadas entre as quais se encontra o ponto real de interse√ß√£o do vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-881"><span class="MJXp-mtext" id="MJXp-Span-882">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-883">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-884">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-885">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-886">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-887">r</span><span class="MJXp-mrow" id="MJXp-Span-888"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-889">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-890">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-891">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-892">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-893">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894">e</span></span><span class="MJXp-mrow" id="MJXp-Span-895"><span class="MJXp-mtext" id="MJXp-Span-896">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-897">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-898">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-899">r</span><span class="MJXp-mrow" id="MJXp-Span-900"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-901">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> \ color {orange} {\ bar {V}} </script>  com relevo, bem como as coordenadas correspondentes da textura <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-902"><span class="MJXp-msubsup" id="MJXp-Span-903"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-904" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-905" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-54"> T_2 </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-906"><span class="MJXp-msubsup" id="MJXp-Span-907"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-909" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> T_3 </script>  .  O refinamento da estimativa do ponto de interse√ß√£o neste m√©todo √© devido ao uso da pesquisa bin√°ria. <br><br>  Etapas do algoritmo de refinamento: <br><br><ul><li>  Execute o c√°lculo √≠ngreme de PM e obtenha coordenadas de textura <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-910"><span class="MJXp-msubsup" id="MJXp-Span-911"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-912" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-913" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56"> T_2 </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-914"><span class="MJXp-msubsup" id="MJXp-Span-915"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-916" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-917" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> T_3 </script>  - neste intervalo est√° o ponto de interse√ß√£o do vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-918"><span class="MJXp-mtext" id="MJXp-Span-919">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-920"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-922"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-924"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mrow" id="MJXp-Span-925"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-926"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-928"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-929"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-930"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span></span><font style="vertical-align: inherit;"><span class="MJXp-mrow" id="MJXp-Span-931"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-933"><font style="vertical-align: inherit;">b </font></span></span><span class="MJXp-mrow" id="MJXp-Span-931"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-931"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-931"><span class="MJXp-mrow" id="MJXp-Span-936"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-937"><font style="vertical-align: inherit;">V</font></span></span></span></font><span class="MJXp-mrow" id="MJXp-Span-931"><span class="MJXp-mtext" id="MJXp-Span-932">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-933"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-936"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-937"><font style="vertical-align: inherit;"></font></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> \ color {green} {\ bar {V}} </script>  com topografia de superf√≠cie.  A interse√ß√£o verdadeira √© marcada com uma cruz vermelha. </li><li>  Divida em dois valores atuais para o deslocamento das coordenadas da textura e a altura da camada de profundidade. </li><li>  Mover coordenadas de textura do ponto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-938"><span class="MJXp-msubsup" id="MJXp-Span-939"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-940" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-941" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-59"> T_3 </script>  na dire√ß√£o oposta ao vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-942"><span class="MJXp-mtext" id="MJXp-Span-943">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-944"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-945"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-946"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-947"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-948"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mrow" id="MJXp-Span-949"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-950"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-951"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-952"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-953"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-954"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span></span><font style="vertical-align: inherit;"><span class="MJXp-mrow" id="MJXp-Span-955"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-957"><font style="vertical-align: inherit;">b </font></span></span><span class="MJXp-mrow" id="MJXp-Span-955"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-958"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-955"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-959"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-955"><span class="MJXp-mrow" id="MJXp-Span-960"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961"><font style="vertical-align: inherit;">V</font></span></span></span></font><span class="MJXp-mrow" id="MJXp-Span-955"><span class="MJXp-mtext" id="MJXp-Span-956">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-957"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-958"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-959"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-960"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961"><font style="vertical-align: inherit;"></font></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60"> \ color {green} {\ bar {V}} </script>  pela quantidade de deslocamento.  Reduza a profundidade da camada pelo valor atual do tamanho da camada. </li><li>  Pesquisa diretamente bin√°ria.  O n√∫mero especificado de itera√ß√µes √© repetido: </li><li><ol><li>  Selecione no mapa de profundidade.  Divida o deslocamento da textura atual e o tamanho da camada de profundidade em dois valores atuais. </li><li>  Se o tamanho da amostra for maior que a profundidade atual da camada, aumente a profundidade da camada pelo tamanho atual e altere as coordenadas da textura ao longo do vetor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-962"><span class="MJXp-mtext" id="MJXp-Span-963">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-964"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-965"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-966"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-967"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-968"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mrow" id="MJXp-Span-969"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-970"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-971"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-972"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-973"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-974"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span></span><font style="vertical-align: inherit;"><span class="MJXp-mrow" id="MJXp-Span-975"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-977"><font style="vertical-align: inherit;">b </font></span></span><span class="MJXp-mrow" id="MJXp-Span-975"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-978"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-975"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-979"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-975"><span class="MJXp-mrow" id="MJXp-Span-980"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981"><font style="vertical-align: inherit;">V</font></span></span></span></font><span class="MJXp-mrow" id="MJXp-Span-975"><span class="MJXp-mtext" id="MJXp-Span-976">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-977"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-978"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-979"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-980"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981"><font style="vertical-align: inherit;"></font></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-61"> \ color {green} {\ bar {V}} </script>  para o deslocamento atual. </li><li>  Se o tamanho da amostra for menor que a profundidade atual da camada, reduza a profundidade da camada pelo tamanho atual e altere as coordenadas da textura ao longo do vetor inverso <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-982"><span class="MJXp-mtext" id="MJXp-Span-983">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-984"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-985"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-986"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-987"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mrow" id="MJXp-Span-989"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-990"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-991"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-993"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-994"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span></span><font style="vertical-align: inherit;"><span class="MJXp-mrow" id="MJXp-Span-995"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997"><font style="vertical-align: inherit;">b </font></span></span><span class="MJXp-mrow" id="MJXp-Span-995"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-998"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-995"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-995"><span class="MJXp-mrow" id="MJXp-Span-1000"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1001"><font style="vertical-align: inherit;">V</font></span></span></span></font><span class="MJXp-mrow" id="MJXp-Span-995"><span class="MJXp-mtext" id="MJXp-Span-996">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-998"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-1000"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1001"><font style="vertical-align: inherit;"></font></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62"> \ color {green} {\ bar {V}} </script>  para o deslocamento atual. </li></ol><br></li><li>  As √∫ltimas coordenadas de textura obtidas s√£o os resultados do Relief PM. </li></ul><div style="text-align:center;"><img src="https://habrastorage.org/webt/n1/ec/r-/n1ecr-vyphcwbescgvzyvyylkze.png"></div><br>  A imagem mostra que depois de encontrar os pontos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1002"><span class="MJXp-msubsup" id="MJXp-Span-1003"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1004" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1005" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-63"> T_2 </script>  e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1006"><span class="MJXp-msubsup" id="MJXp-Span-1007"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1008" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1009" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-64"> T_3 </script>  dividimos pela metade o tamanho da camada e o tamanho do deslocamento das coordenadas da textura, o que nos d√° o primeiro ponto de itera√ß√£o da pesquisa bin√°ria (1).  Como o tamanho da amostra mostrou-se maior que a profundidade atual da camada, reduzimos pela metade os par√¢metros novamente e avan√ßamos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1010"><span class="MJXp-mtext" id="MJXp-Span-1011">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1012"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1013"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1014"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1015"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1016"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mrow" id="MJXp-Span-1017"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1018"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1019"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1020"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1021"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1022"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span></span><font style="vertical-align: inherit;"><span class="MJXp-mrow" id="MJXp-Span-1023"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1025"><font style="vertical-align: inherit;">b </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1023"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1026"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1023"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1027"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1023"><span class="MJXp-mrow" id="MJXp-Span-1028"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1029"><font style="vertical-align: inherit;">V</font></span></span></span></font><span class="MJXp-mrow" id="MJXp-Span-1023"><span class="MJXp-mtext" id="MJXp-Span-1024">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1025"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1026"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1027"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-1028"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1029"><font style="vertical-align: inherit;"></font></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65"> \ color {green} {\ bar {V}} </script>  ficando o ponto (2) com coordenadas de textura <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1030"><span class="MJXp-msubsup" id="MJXp-Span-1031"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1032" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1033" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-66"> T_p </script>  que ser√° o resultado do Steep PM para duas itera√ß√µes da pesquisa bin√°ria. <br><br>  C√≥digo Shader: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  : inTexCoords -   , // inViewDir -      - //  : lastDepthValue ‚Äì      //      vec2 reliefPM(vec2 inTexCoords, vec3 inViewDir, out float lastDepthValue) { // ====== // ,   Steep PM // ====== const float _minLayers = 2.; const float _maxLayers = 32.; float _numLayers = mix(_maxLayers, _minLayers, abs(dot(vec3(0., 0., 1.), inViewDir))); float deltaDepth = 1./_numLayers; // uDepthScale ‚Äì     PM vec2 deltaTexcoord = uDepthScale * inViewDir.xy/(inViewDir.z * _numLayers); vec2 currentTexCoords = inTexCoords; float currentLayerDepth = 0.; float currentDepthValue = depthValue(currentTexCoords); while (currentDepthValue &gt; currentLayerDepth) { currentLayerDepth += deltaDepth; currentTexCoords -= deltaTexcoord; currentDepthValue = depthValue(currentTexCoords); } // ====== //   Relief PM // ====== //         deltaTexcoord *= 0.5; deltaDepth *= 0.5; //      ,   Steep PM currentTexCoords += deltaTexcoord; currentLayerDepth -= deltaDepth; //    ‚Ä¶ const int _reliefSteps = 5; int currentStep = _reliefSteps; while (currentStep &gt; 0) { currentDepthValue = depthValue(currentTexCoords); deltaTexcoord *= 0.5; deltaDepth *= 0.5; //       , //       if (currentDepthValue &gt; currentLayerDepth) { currentTexCoords -= deltaTexcoord; currentLayerDepth += deltaDepth; } //       else { currentTexCoords += deltaTexcoord; currentLayerDepth -= deltaDepth; } currentStep--; } lastDepthValue = currentDepthValue; return currentTexCoords; }</span></span></code> </pre> <br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Auto-sombreamento </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tamb√©m uma pequena adi√ß√£o sobre a adi√ß√£o de sombreamento de uma fonte de luz selecionada ao algoritmo de c√°lculo. </font><font style="vertical-align: inherit;">Decidi acrescentar, porque tecnicamente o m√©todo de c√°lculo √© id√™ntico aos considerados acima, mas o efeito ainda √© interessante e acrescenta detalhes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De fato, o mesmo PM √≠ngreme √© aplicado, mas a pesquisa n√£o vai fundo na superf√≠cie simulada ao longo da linha de vis√£o, mas a partir da superf√≠cie, ao longo do vetor at√© a fonte de luz</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1034"><span class="MJXp-mstyle" id="MJXp-Span-1035" style="color: green;"><span class="MJXp-mrow" id="MJXp-Span-1036"><span class="MJXp-munderover" id="MJXp-Span-1037"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.92em;"><span class="MJXp-mo" id="MJXp-Span-1039" style="margin-left: 0px; margin-right: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Àâ </font></font></span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1038"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-67">\color{green}{\bar{L}}</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esse vetor tamb√©m √© transferido para o espa√ßo tangente e √© usado para determinar a quantidade de deslocamento das coordenadas da textura. </font><font style="vertical-align: inherit;">Na sa√≠da do m√©todo, um coeficiente de ilumina√ß√£o do material √© obtido no intervalo [0, 1], usado para modular os componentes difusos e espelhados nos c√°lculos de ilumina√ß√£o. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para definir sombreamento com arestas vivas, basta caminhar ao longo do vetor</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1040"><span class="MJXp-mstyle" id="MJXp-Span-1041" style="color: green;"><span class="MJXp-mrow" id="MJXp-Span-1042"><span class="MJXp-munderover" id="MJXp-Span-1043"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.92em;"><span class="MJXp-mo" id="MJXp-Span-1045" style="margin-left: 0px; margin-right: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Àâ </font></font></span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1044"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> at√© que um ponto fique abaixo da superf√≠cie. </font><font style="vertical-align: inherit;">Assim que esse ponto √© encontrado, obtemos o coeficiente de ilumina√ß√£o 0. Se atingimos a profundidade zero sem encontrar um ponto abaixo da superf√≠cie, obtemos o coeficiente de ilumina√ß√£o igual a 1.</font><font style="vertical-align: inherit;">Para determinar o sombreamento com bordas suaves, √© necess√°rio verificar v√°rios pontos no vetor</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-68">\color{green}{\bar{L}}</script><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1046"><span class="MJXp-mstyle" id="MJXp-Span-1047" style="color: green;"><span class="MJXp-mrow" id="MJXp-Span-1048"><span class="MJXp-munderover" id="MJXp-Span-1049"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.92em;"><span class="MJXp-mo" id="MJXp-Span-1051" style="margin-left: 0px; margin-right: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Àâ </font></font></span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1050"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e localizado abaixo da superf√≠cie. O fator de sombreamento √© igual √† diferen√ßa entre a profundidade da camada atual e a profundidade do mapa de profundidade. Tamb√©m √© levada em considera√ß√£o a remo√ß√£o do pr√≥ximo ponto do fragmento em quest√£o na forma de um coeficiente de peso igual a (</font><i><font style="vertical-align: inherit;">1,0 - stepIndex / numberOfSteps</font></i><font style="vertical-align: inherit;">). Em cada etapa, um coeficiente parcial de ilumina√ß√£o √© determinado como:</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-69">\color{green}{\bar{L}}</script><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1052"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1053"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1054"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1055"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1056" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1057" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1058" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-mo" id="MJXp-Span-1059" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1060"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1061"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1062"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1065"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1066"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1067"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1068"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1069"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1070"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1071" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1072" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1073" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1074"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1075"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1076"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1077"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1078"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1079"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1080"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1081"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1082"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1083"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1084"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1085"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1086"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1087"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1088"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1089"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1090"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1091" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1092" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1093" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font></span><span class="MJXp-mo" id="MJXp-Span-1094" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* </font></font></span><span class="MJXp-mo" id="MJXp-Span-1095" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mn" id="MJXp-Span-1096"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,0 </font></font></span><span class="MJXp-mo" id="MJXp-Span-1097" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="MJXp-mfrac" id="MJXp-Span-1098" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1101"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1102"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1104"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1105"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1107"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1108" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-70-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-70">PSF_i=(layerHeight_i - heightFromtexture_i)*(1.0-\frac{i}{numSteps})</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O resultado final √© o fator de luz m√°ximo de todos os parciais: </font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1109"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1110"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1111"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mo" id="MJXp-Span-1112" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1113"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1114"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1115"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mo" id="MJXp-Span-1116" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1117"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1118"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1121" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1122" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-71-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-71">SF=max(PSF_i)</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O esquema do m√©todo: </font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wl/-p/10/wl-p10aqqmrz8v9qlaxu2sciapk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O progresso do m√©todo para tr√™s itera√ß√µes neste exemplo: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Inicializamos o fator de luz total para zero. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√™ um passo ao longo do vetor </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1123"><span class="MJXp-mstyle" id="MJXp-Span-1124" style="color: green;"><span class="MJXp-mrow" id="MJXp-Span-1125"><span class="MJXp-munderover" id="MJXp-Span-1126"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.92em;"><span class="MJXp-mo" id="MJXp-Span-1128" style="margin-left: 0px; margin-right: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Àâ </font></font></span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1127"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , chegando ao ponto</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-72-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-72">\color{green}{\bar{L}}</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1129"><span class="MJXp-msubsup" id="MJXp-Span-1130"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1131" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1132" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-73-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-73">H_a</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A profundidade do ponto √© claramente menor que a sele√ß√£o do mapa. </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1133"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1134"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mo" id="MJXp-Span-1135" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1136"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1137" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1138" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1139"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G </font></font></span><span class="MJXp-mn" id="MJXp-Span-1140"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-1141" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - est√° localizado sob a superf√≠cie. </font><font style="vertical-align: inherit;">Aqui fizemos a primeira verifica√ß√£o e, lembrando o n√∫mero total de verifica√ß√µes, encontramos e salvamos o primeiro fator de luz parcial: (1.0 - 1.0 / 3.0).</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-74-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-74">H(T_{L1})</script><font style="vertical-align: inherit;"></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√™ um passo ao longo do vetor </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1142"><span class="MJXp-mstyle" id="MJXp-Span-1143" style="color: green;"><span class="MJXp-mrow" id="MJXp-Span-1144"><span class="MJXp-munderover" id="MJXp-Span-1145"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.92em;"><span class="MJXp-mo" id="MJXp-Span-1147" style="margin-left: 0px; margin-right: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Àâ </font></font></span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1146"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , chegando ao ponto</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-75-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-75">\color{green}{\bar{L}}</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1148"><span class="MJXp-msubsup" id="MJXp-Span-1149"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1150" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1151" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-76-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-76">H_b</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A profundidade do ponto √© claramente menor que a sele√ß√£o do mapa. </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1152"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1153"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mo" id="MJXp-Span-1154" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1155"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1156" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1157" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1158"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G </font></font></span><span class="MJXp-mn" id="MJXp-Span-1159"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-1160" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - √©, sob a superf√≠cie. </font><font style="vertical-align: inherit;">A segunda verifica√ß√£o e o segundo coeficiente parcial: (1.0 - 2.0 / 3.0).</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-77-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-77">H(T_{L2})</script><font style="vertical-align: inherit;"></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Demos mais um passo ao longo do vetor e chegamos √† profundidade m√≠nima de 0. Pare o movimento. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Defini√ß√£o do resultado: se nenhum ponto foi encontrado sob a superf√≠cie, retornamos um coeficiente igual a 1 (sem sombreamento). </font><font style="vertical-align: inherit;">Caso contr√°rio, o coeficiente resultante se tornar√° o m√°ximo dos parciais calculados. </font><font style="vertical-align: inherit;">Para uso em c√°lculos de ilumina√ß√£o, subtra√≠mos esse valor da unidade.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Exemplo de c√≥digo de sombreador: </font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  : inTexCoords -   , // inLightDir -       - //  : inLastDepth ‚Äì    , //      PM //       //    float getParallaxSelfShadow(vec2 inTexCoords, vec3 inLightDir, float inLastDepth) { float shadowMultiplier = 0.; //      , //    float alignFactor = dot(vec3(0., 0., 1.), inLightDir); if (alignFactor &gt; 0.) { //   :  ,  //  ,     const float _minLayers = 16.; const float _maxLayers = 32.; float _numLayers = mix(_maxLayers, _minLayers, abs(alignFactor)); float _dDepth = inLastDepth/_numLayers; vec2 _dtex = uDepthScale * inLightDir.xy/(inLightDir.z * _numLayers); //  ,    int numSamplesUnderSurface = 0; //       //     L float currentLayerDepth = inLastDepth - _dDepth; vec2 currentTexCoords = inTexCoords + _dtex; float currentDepthValue = depthValue(currentTexCoords); //    float stepIndex = 1.; // ,       ‚Ä¶ while (currentLayerDepth &gt; 0.) { //     ,     //       if (currentDepthValue &lt; currentLayerDepth) { numSamplesUnderSurface++; float currentShadowMultiplier = (currentLayerDepth - currentDepthValue)*(1. - stepIndex/_numLayers); shadowMultiplier = max(shadowMultiplier, currentShadowMultiplier); } stepIndex++; currentLayerDepth -= _dDepth; currentTexCoords += _dtex; currentDepthValue = depthValue(currentTexCoords); } //      ,   //      1 if (numSamplesUnderSurface &lt; 1) shadowMultiplier = 1.; else shadowMultiplier = 1. - shadowMultiplier; } return shadowMultiplier; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O coeficiente resultante √© usado para modular o resultado do modelo de ilumina√ß√£o Blinn-Fong usado nos exemplos: </font></font><br><br><pre> <code class="cpp hljs">[...] <span class="hljs-comment"><span class="hljs-comment">//      vec3 fullColorADS = ambientTerm + attenuation * (diffuseTerm + specularTerm); //     -  fullColorADS *= pmShadowMultiplier; return fullColorADS;</span></span></code> </pre><br> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compara√ß√£o de todos os m√©todos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em uma colagem, volume de 3 MB. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tamb√©m uma compara√ß√£o de v√≠deo:</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Materiais adicionais </h2><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapeamento de oclus√£o de paralaxe no GLSL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : uma √≥tima li√ß√£o de mapeamento de paralaxe de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sunandblackcat.com</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como funciona o mapeamento de deslocamento de paralaxe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : um tutorial em v√≠deo que explica os detalhes do mapeamento de paralaxe por </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TheBennyBox</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li></ul><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Temos um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">telegrama conf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para coordena√ß√£o de transfer√™ncias. </font><font style="vertical-align: inherit;">Se voc√™ tem um desejo s√©rio de ajudar com a tradu√ß√£o, √© bem-vindo!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt416163/">https://habr.com/ru/post/pt416163/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt416153/index.html">Os avi√µes se tornar√£o mais confi√°veis? Fabricantes de aeronaves apresentam rob√¥s √†s empresas</a></li>
<li><a href="../pt416155/index.html">WebSockets em Angular: crie um Servi√ßo Angular para trabalhar com soquetes da Web</a></li>
<li><a href="../pt416157/index.html">Nos bra√ßos de Python (somente mulheres)</a></li>
<li><a href="../pt416159/index.html">Como fomos encarregados de comparar um ouri√ßo</a></li>
<li><a href="../pt416161/index.html">10 raz√µes para n√£o usar o k8s</a></li>
<li><a href="../pt416167/index.html">Peter Norwig: Aprenda Programa√ß√£o em ... 10 Anos</a></li>
<li><a href="../pt416169/index.html">Contentores para adultos (parte 01): um guia pr√°tico de terminologia</a></li>
<li><a href="../pt416171/index.html">Testes de UI codificados do Visual Studio: teoria e pr√°tica da aplica√ß√£o em nossa empresa</a></li>
<li><a href="../pt416175/index.html">Resultados da competi√ß√£o de jovens desenvolvedores de aplicativos AR Epson Moverio BT-300</a></li>
<li><a href="../pt416177/index.html">F√≥rmula de Tupper e implementa√ß√£o do algoritmo em Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>