<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍒 👈🏼 🚲 Naikkan IDS / NMS: Mikrotik dan Suricata dengan antarmuka web 🤜 🉐 🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Rupanya, saya memiliki karma seperti itu: tidak peduli bagaimana saya melakukan implementasi beberapa layanan pada open source, saya pasti akan menemu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Naikkan IDS / NMS: Mikrotik dan Suricata dengan antarmuka web</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431600/">  Rupanya, saya memiliki karma seperti itu: tidak peduli bagaimana saya melakukan implementasi beberapa layanan pada open source, saya pasti akan menemukan banyak manual, yang masing-masing secara individual dalam kasus khusus saya tidak akan berfungsi, solusi yang sudah jadi tidak akan mulai atau suka, apa lagi yang akan terjadi -Tidak pernah dicerna, dan pada akhirnya Anda harus menerobos hasil sendiri. <br><br>  Kali ini semua manual menggunakan ELK5 atau bahkan lebih tua, tetapi saya tidak benar-benar ingin menginstal perangkat lunak versi sebelumnya.  Saya ingin mengambil perangkat lunak dengan periode dukungan yang paling menjanjikan: lebih disukai yang terbaru dari stabil. <br><br>  Sebagai hasilnya, untuk dapat mengulangi prestasi sempurna tanpa mengulangi semua siksaan di masa depan, Anda harus menulis lembar contekan selangkah demi selangkah yang saya bagikan kepada Anda. <br><br>  Jadi hari ini Mikrotik (RouterOS), Suricata 4.1, Elasticsearch + Filebeat + Kibana 6.5. <br><a name="habracut"></a><br><h3>  Alih-alih bergabung </h3><br>  Ketentuan: <br><br><ul><li>  Mikrotik pada i386 di mesin virtual pada host A. Semua antarmuka pada Mikrotik tersebar di VLAN, tuan rumah memiliki satu antarmuka jaringan fisik. </li><li>  Sumber daya gratis untuk IDS / IPS / NMS pada host B dengan antarmuka jaringan fisik tunggal. </li><li>  Saluran 20 megabyte keluar. </li><li>  Keinginan untuk menerima analitik tentang lalu lintas yang melewati antarmuka eksternal Mikrotik. </li><li>  Anggaran di rubel lobak dan kopeck Gambar. </li><li>  Sejumlah waktu luang dari kerumitan. </li></ul><br>  Saya tidak akan berbicara di sini tentang apa IDS / IPS / NMS itu, mengapa itu diperlukan dan apa yang terjadi.  Semua orang tahu ini tanpa saya, dan dia yang tidak tahu akan google. <br><br>  Juga, saya tidak akan membenarkan pilihan saya antara Snort dan Suricata mendukung yang terakhir.  Ini masalah selera. <br><br>  Namun dangkal jelaskan cara kerjanya: <br><br>  Suricata entah bagaimana menerima lalu lintas.  Ada tiga opsi: a) melewati sendiri dalam mode inline, b) menerima salinan lalu lintas dari port switch dan c) menganalisis dump dengan lalu lintas.  Suricata menganalisis lalu lintas yang diterima dan, berdasarkan analisis, memberikan data tentang apa yang ditemukannya dalam lalu lintas ini. <br><br>  Suricata dapat mengeluarkan data dalam JSON.  Dengan demikian, memiliki data terstruktur, mereka dapat diumpankan ke beberapa sistem untuk pemrosesan, sistematisasi, analisis dan visualisasi. <br>  Untuk analisis dan visualisasi data, sejauh yang saya mengerti, tanpa menjadi spesialis dalam bidang ini, tumpukan ELK sempurna.  Tumpukan ELK awalnya terdiri dari Elasticsearch, Logstash, Kibana.  Sekarang Beat telah ditambahkan ke dalamnya (keluarga program antarmuka yang bertindak sebagai perantara antara sumber data dan Logstash atau Elasticsearch).  Ke depan, saya akan mengatakan bahwa tidak ada Logstash, karena Beat secara sempurna memasukkan data langsung ke Elasticsearch, dan Elasticsearch memakannya dengan sempurna.  Elasticsearch mentransfer data yang digigit ke Kibana, antarmuka web untuk seluruh tumpukan ELK.  Kibana, menggunakan templat yang diteruskan kepadanya oleh Filebeat, memberikan pengguna dengan visualisasi data, yang disebut Dashboard.  Mempertimbangkan fakta bahwa Elasticsearch, Logstash, Beat dan Kibana adalah buah dari karya satu produsen, seluruh kebun ini terhubung dengan baik satu sama lain, dan proses penautannya didokumentasikan dengan baik (dengan standar open source, tentu saja). <br><br>  Dengan demikian, berdasarkan hal tersebut di atas, tugas tersebut dapat diuraikan sebagai berikut: mendapatkan salinan lalu lintas dari port router, mentransfernya ke Suricata, menerima data dalam format JSON dari Suricata, mentransfernya ke Filebeat, sehingga, pada gilirannya, mentransfernya ke Elasticsearch dan membantu Kibana membuat tampilan visual mereka. <br><br><h3>  Mikrotik RouterOS </h3><br>  Jika saya memiliki perangkat keras router Mikrotik, maka masalah port mirroring (port mirroring) tidak akan sama sekali.  Semuanya akan diputuskan dengan mengaktifkan mirroring traffic yang melewati antarmuka eksternal ke porta bebas Mikrotik itu sendiri.  Jika tidak ada port gratis di Mikrotik, Anda dapat mengaktifkan mirror port pada sakelar.  Tetapi dalam kasus saya, Mikrotik tidak memiliki port fisik sama sekali, dan port pada saklar menerima lalu lintas dari seluruh host, di mana, selain Mikrotik, ada beberapa mesin virtual lainnya. <br><br>  Dan kemudian saya sekali lagi secara mental berkata: "Terima kasih, Mikrotik!".  Terima kasih untuk sniffer bawaan di RouterOS.  Secara tradisi, kami melakukannya tanpa tangkapan layar, hanya perintah konsol. <br><br>  Buka terminal di WinBox dan nyalakan sniffer: <br><br> <code>/tool sniffer set filter-interface=if-out filter-stream=yes streaming-enabled=yes streaming-server=192.168.1.253 <br> /tool sniffer start</code> <br> <br>  Tunjukkan alih-alih <i>jika-keluar</i> nama antarmuka dari mana Anda berencana untuk mencegat lalu lintas, dan bukannya <i>192.168.1.253</i> - alamat IP mesin di mana lalu lintas yang disadap akan dikirim melalui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">TZSP</a> . <br><br>  Dengan Mikrotik'om semua. <br><br><h3>  Suricata </h3><br>  Secara umum, saya tidak terlalu berkepala Linux, jadi kebanyakan saya suka distribusi pop.  Yah, mungkin aku suka Debian yang lebih asketis.  Jadi saya mulai dengan itu.  Yah, dan tentu saja, karena headness non-linux, saya juga ingin menginstal binari dari repositori.  Perakitan selalu malas bagi saya.  Jadi, jika dimungkinkan untuk memilih Debian, - <u>jangan memilih</u> .  Saya tidak ingat sekarang di mana saya memiliki lelucon dalam menginstal seluruh pertanian di bawah Debian, tetapi dia melakukannya.  Dan keseluruhan cerita selanjutnya tentang menginstal semuanya di bawah Ubunta. <br><br>  Mesin virtual 4-core dengan 4 gigs RAM telah dibuat, <a href="">Ubuntu Server 18.04.1 LTS (x64) telah</a> diunduh dan diinstal di dalamnya <br><br><blockquote>  <b>Perjanjian</b> : semua tindakan lebih lanjut dilakukan atas nama pengguna super, jadi masuk sebagai root atau tambahkan <i>sudo</i> ke setiap perintah. </blockquote><br>  Karena pada setiap tahap saya membuat snapshot, dan kemudian berulang kali kembali ke mereka, pada akhirnya saya menyalakan banyak gangguan dengan waktu tidak sinkron di mesin virtual dengan waktu nyata. <br>  Karenanya, kami segera mengatur zona waktu yang benar dan sinkronisasi NTP: <br><br> <code>systemctl start systemd-timesyncd <br> systemctl status systemd-timesyncd <br> dpkg-reconfigure tzdata</code> <br> <br>  Untuk memastikan bahwa tidak ada masalah ketergantungan saat memasang Suricata, tambahkan repositori <i>universe</i> ke <i><b>/etc/apt/sources.list</b></i> : <br><br> <code>nano /etc/apt/sources.list</code> <br> <blockquote>  ... <br>  deb <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">archive.ubuntu.com/ubuntu</a> semesta utama bionik <br>  deb <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">archive.ubuntu.com/ubuntu</a> semesta utama bionic-security <br>  deb <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">archive.ubuntu.com/ubuntu</a> bionic-update semesta utama </blockquote><br>  Kami juga menambahkan repositori, tempat kami akan mendapatkan Suricata: <br> <code>add-apt-repository ppa:oisf/suricata-stable</code> <br> <br>  Memperbarui basis data paket: <br> <code>apt-get update</code> <br> <br>  Instal Suricata: <br> <code>apt-get install -y suricata</code> <br> <br>  Langkah selanjutnya adalah menetapkan aturan untuk Suricata dan pembaruannya: <br> <code>apt-get install -y python-pip <br> pip install pyyaml <br> pip install https://github.com/OISF/suricata-update/archive/master.zip</code> <br> <br>  Kami memulai pembaruan <i>suricata-update itu sendiri</i> : <br> <code>pip install --pre --upgrade suricata-update</code> <br> <br>  Berjalan tanpa konfigurasi tambahan akan memberi kita pengaturan Emerging Threats Open: <br> <code>suricata-update</code> <br> <br>  Untuk melihat daftar sumber, lakukan: <br> <code>suricata-update list-sources</code> <br> <br>  Memperbarui sumber aturan: <br> <code>suricata-update update-sources</code> <br> <br>  Mari kita lihat apa yang telah diperbarui di sumber, jalankan lagi: <br> <code>suricata-update list-sources</code> <br> <br>  Kami menyertakan semua sumber gratis: <br> <code>suricata-update enable-source ptresearch/attackdetection <br> suricata-update enable-source oisf/trafficid <br> suricata-update enable-source sslbl/ssl-fp-blacklist</code> <br> <br>  Dan lagi kami memperbarui aturan: <br> <code>suricata-update</code> <br> <br>  Suricata diinstal. <br><br>  Sekarang Anda perlu mendapatkan traffic. <br><br><h3>  Lalu lintas </h3><br>  Trafr adalah aplikasi yang ditulis oleh Mikrotik untuk mengubah lalu lintas TZSP ke pcap.  Aplikasi ini 32-bit, jadi untuk meluncurkannya Anda harus mengaktifkan dukungan untuk aplikasi 32-bit dalam 64-bit Ubunta: <br><br> <code>dpkg --add-architecture i386 <br> apt-get update &amp;&amp; apt-get install -y libc6:i386</code> <br> <br>  Unduh dan <i><b>buka paket</b></i> : <br><br> <code>wget http://www.mikrotik.com/download/trafr.tgz <br> tar xzf trafr.tgz</code> <br> <br>  Pastikan lalu lintas sedang ditangkap: <br><br> <code>./trafr -s</code> <br> <br>  Setelah peluncuran seperti itu, keluaran simbolis dalam mode grafis pecah di konsol mesin virtual, saya harus reboot.  Tidak ada masalah menghubungkan jarak jauh melalui ssh ke Putty. <br><br>  Jika Anda melihat kerlipan tak menentu di layar, lalu lintas datang, dan lalu lintas menangkapnya.  Jika demikian, transfer lalu <i><b>lintas</b></i> ke tempat tinggal permanen dan jalankan dengan transmisi lalu lintas yang tertangkap melalui pipa segera ke Suricata: <br><br> <code>mv trafr /usr/local/bin/ <br> /usr/local/bin/trafr -s | suricata -c /etc/suricata/suricata.yaml -r /dev/stdin <br></code> <br><br>  Sekarang kami memeriksa bahwa lalu lintas tiba di Suricata, untuk ini kami lakukan hal berikut di terminal tetangga: <br><br> <code>tail -f /var/log/suricata/fast.log</code> <br> <br>  Anda akan melihat gulir pintar dari teks yang bermakna - log penerimaan lalu lintas meerkat. <br><br>  Juga tidak akan salah untuk memastikan bahwa lalu lintas Suricata tidak hanya menerima, tetapi juga menganalisis: <br><br> <code>tail -f /var/log/suricata/eve.json</code> <br> <br>  Ini persis keluaran acara dari Suricata dalam format JSON yang akan kami berikan ke Filebeat. <br><br><h3>  Elasticsearch + Filebeat + Kibana 6.5 </h3><br>  Kami menginstal kunci PGP yang diperlukan untuk menggunakan repositori Elastik dan menginstal dependensi yang diperlukan: <br><br> <code>wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add - <br> echo "deb https://artifacts.elastic.co/packages/6.x/apt stable main" | sudo tee -a /etc/apt/sources.list.d/elastic-6.x.list <br> apt-get update &amp;&amp; apt-get install -y openjdk-8-jre apt-transport-https wget nginx</code> <br> <br>  Harap dicatat bahwa Java adalah versi 8. Apa pun di atas 8 tidak didukung.  Karena itu, jika Anda berhasil menginstal Java yang lebih baru sebelumnya, hancurkan dan masukkan 8. <br><br>  Kami memastikan bahwa Java diinstal sebagaimana mestinya: <br><br> <code>java -version</code> <br> <br>  Kami mendapatkan kira-kira kesimpulan berikut: <br><blockquote>  versi java "1.8.0_191" <br>  Java (TM) SE Runtime Environment (build 1.8.0_191-b12) <br>  Java HotSpot (TM) 64-Bit Server VM (build 25.191-b12, mode campuran) </blockquote><br>  Buat pengguna dan kata sandi untuk mengakses Kibana.  Alih-alih <i>admin,</i> pilih sesuatu yang Anda sukai: <br><br> <code>echo "admin:`openssl passwd -apr1`" | sudo tee -a /etc/nginx/htpasswd.users</code> <br> <br>  Karena ELK akan berputar di localhost, konfigurasikan proxy terbalik di nginx: <br><br> <code>nano /etc/nginx/sites-available/kibana</code> <br> <blockquote>  server { <br>  dengarkan 80; <br><br>  server_name suricata.server; <br><br>  auth_basic "Akses Terbatas"; <br>  auth_basic_user_file /etc/nginx/htpasswd.users; <br><br>  lokasi / { <br>  proxy_pass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">localhost</a> : 5601; <br>  proxy_http_version 1.1; <br>  proxy_set_header Tingkatkan $ http_upgrade; <br>  proxy_set_header Connection 'upgrade'; <br>  proxy_set_header Host $ host; <br>  proxy_cache_bypass $ http_upgrade; <br>  } <br>  } </blockquote><br> <code>rm /etc/nginx/sites-enabled/default <br> ln -s /etc/nginx/sites-available/kibana /etc/nginx/sites-enabled/kibana <br></code> <br><br>  Mulai ulang nginx: <br><br> <code>systemctl restart nginx</code> <br> <br>  Kami menempatkan Elasticsearch: <br><br> <code>apt-get install -y elasticsearch</code> <br> <br>  Nyalakan autorun saat memuat OS: <br><br> <code>systemctl daemon-reload <br> systemctl enable elasticsearch.service</code> <br> <br>  Kami meluncurkan: <br><br> <code>systemctl start elasticsearch.service</code> <br> <br>  Periksa apakah sudah naik: <br><br> <code>curl -X GET "localhost:9200/"</code> <br> <br>  Bergantung pada kinerja perangkat keras Anda, memulai ES mungkin membutuhkan waktu.  Jika <i>koneksi kami ditolak</i> , cukup ulangi permintaan dan tunggu sampai kami mendapatkan sesuatu seperti: <br><blockquote>  { <br>  "Nama": "lcZuxxm", <br>  "Cluster_name": "elasticsearch", <br>  "Cluster_uuid": "kmJHqJnlQe2Rk7F-CRi4EA", <br>  "Versi": { <br>  "Nomor": "6.5.1", <br>  "Build_flavor": "default", <br>  "Build_type": "deb", <br>  "Build_hash": "8c58350", <br>  "Build_date": "2018-11-16T02: 22: 42.182257Z", <br>  "Build_snapshot": false, <br>  "Lucene_version": "7.5.0", <br>  "Minimum_wire_compatibility_version": "5.6.0", <br>  "Minimum_index_compatibility_version": "5.0.0" <br>  }, <br>  Tagline: Anda Tahu, untuk Pencarian <br>  } </blockquote><br>  Kami menempatkan Kibana: <br><br> <code>apt-get install -y kibana</code> <br> <br>  Nyalakan autorun saat memuat OS: <br><br> <code>systemctl daemon-reload <br> systemctl enable kibana.service</code> <br> <br>  Kami meluncurkan: <br><br> <code>systemctl start kibana.service</code> <br> <br>  Sekarang Anda dapat pergi ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">192.168.1.253</a> (tentu saja, alamat IP adalah yang ditugaskan untuk mesin Anda dengan meerkat).  Halaman sampul Kibana harus terbuka. <br><br>  Kami menempatkan Filebeat: <br><br> <code>apt-get install -y filebeat</code> <br> <br>  Nyalakan autorun saat memuat OS: <br><br> <code>systemctl daemon-reload <br> systemctl enable filebeat</code> <br> <br>  Kami mengaktifkan modul Suricata, yang merupakan bagian dari set modul Filebeat: <br><br> <code>filebeat modules enable suricata</code> <br> <br>  Pasang plugin untuk Suricata di Elasticsearch: <br><br> <code><s>/usr/share/elasticsearch/bin/elasticsearch-plugin install ingest-geoip <br> /usr/share/elasticsearch/bin/elasticsearch-plugin install ingest-user-agent</s></code> <br>  <b>Lihat UPD 22 Mei 2019.</b> <br><br>  Mulai Ulang Elasticsearch: <br><br> <code>systemctl restart elasticsearch.service</code> <br> <br>  Kami melakukan konfigurasi awal Filebeat, sekaligus memuat template ke Kibana: <br><br> <code>filebeat setup -e</code> <br> <br>  Kami memverifikasi bahwa Filebeat telah menemukan <i>/var/log/suricata/eve.json</i> dan sedang memprosesnya. Untuk melakukan ini, jalankan Filebeat dalam mode keluaran data dengan penanda <i>terbitan</i> : <br><br> <code>filebeat -e -d "publish"</code> <br> <br>  Yang pertama adalah output json-diformat dari Filebeat itu sendiri, kemudian output teks sederhana dari log-nya, dan hanya setelah beberapa saat output dari Suricata, jadi tunggu dan pastikan semuanya bekerja.  Setelah itu, batalkan Filebeat dan kembali ke bash. <br><br>  Nyalakan autorun saat memuat OS: <br><br> <code>systemctl daemon-reload <br> systemctl enable filebeat.service</code> <br> <br>  Jalankan Filebeat: <br><br> <code>systemctl start filebeat.service</code> <br> <br>  Pergi ke Kibana, pilih Dashboard dari menu di sebelah kiri, pilih <i><b>filebeat- *</b></i> index.  Pilih Dashboard lagi, pilih <b>[Suricata] Alert Overview</b> dari daftar, dan akan mendapatkan sesuatu seperti ini: <br><br><img src="https://habrastorage.org/webt/tb/5v/st/tb5vsthdvuyveyetcbba1p_asts.png" alt="gambar"><br><br><h3>  Opsional </h3><br>  Jangan lupa untuk logrotate, dan tidak peduli seberapa luas hard drive, Suricata akan mencetak skor dengan sangat cepat: <br><br> <code>nano /etc/logrotate.d/suricata</code> <br> <blockquote>  /var/log/suricata/*.log /var/log/suricata/*.json <br>  { <br>  setiap minggu <br>  putar 3 <br>  missingok <br>  nocompress <br>  buat <br>  skrip yang dibagikan <br>  postrotate <br>  / bin / kill -HUP `cat /var/run/suricata.pid 2&gt; / dev / null` 2&gt; / dev / null ||  benar <br>  naskah akhir <br>  } <br></blockquote><br>  Selain itu, ada desas-desus bahwa seseorang secara teratur sniffer di Mikrotik dengan status <i>berlari</i> berhenti untuk memberikan lalu lintas.  Kemudian kami menulis skrip untuk memulai kembali sniffer dan menjalankannya sesuai jadwal: <br><br> <code>/tool sniffer stop <br> :delay 30s <br> /tool sniffer start</code> <br> <br><h3>  Kesimpulan </h3><br>  Terus terang, saya tidak cukup puas dengan stabilitas bundel di atas.  Yaitu: layak untuk dinyalakan kembali, dan mukjizat dimulai.  Suatu kali, semuanya kecuali pasangan berhenti memproses aturan saya.  Saya harus menginstal ulang semuanya.  Kedua kalinya, Elasticsearch umumnya berhenti menerima data dari Filebeat, dan harus memutar kembali ke snapshot keadaan sebelum reboot. <br><br>  Saya belum memecahkan masalah ini. <br><br>  Selain itu, ada rencana untuk mengimplementasikan IPS berdasarkan alamat IP dari penjahat yang diidentifikasi oleh Suricata yang ditransfer ke Mikrotik. <br><br>  <b>UPD</b> : Tuduhan ketidakstabilan dijatuhkan.  Kesimpulan saya tentang penghentian pemrosesan aturan adalah keliru.  Faktanya, alasan kekosongan di Dashboard setelah reboot adalah karena fakta bahwa Filebeat dan Elasticsearch membutuhkan waktu yang sangat nyata untuk mem-parsing file json multi-gigabyte dari meerkat.  Jika Anda membuka Dasbor dengan acara untuk periode yang menyertakan tanggal file <i>eve.json dibuat</i> , Anda bisa melihat bagaimana kolom bagan tumbuh saat file diproses.  Seiring dengan peristiwa yang diproses, peringatan muncul di Dasbor yang sesuai.  Selain itu, sniffer di RouterOS pada x86 tidak pernah digantung. <br><br>  <b>UPD 22 Mei 2019</b> : Dimulai dengan versi Elasticsearch 6.7, plugin ingest-geoip dan ingest-user-agent telah dikonversi ke modul.  Karenanya, item dengan pemasangannya dilewati. <br><br>  Juga, ketika memutakhirkan, Anda mendapatkan kesalahan startup Elasticsearch.  Anda akan melihat kesalahan dalam log: <br><br><blockquote>  database yang diharapkan [GeoLite2-ASN.mmdb] tidak ada di [/ etc / elasticsearch / ingest-geoip] </blockquote><br>  Untuk memulihkan kinerja, kami melakukan: <br><br> <code>/usr/share/elasticsearch/bin/elasticsearch-plugin remove --purge ingest-geoip <br></code> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id431600/">https://habr.com/ru/post/id431600/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id431586/index.html">Cara menangani kesalahan pada JVM lebih cepat</a></li>
<li><a href="../id431588/index.html">UU Wiraswasta. Informasi untuk dipertimbangkan</a></li>
<li><a href="../id431590/index.html">Modernisasi peternakan angin Inggris yang usang akan meningkatkan pembangkit energi sebesar 171%</a></li>
<li><a href="../id431596/index.html">Pengujian Beban Cadangan & Replikasi Veeam</a></li>
<li><a href="../id431598/index.html">Kami membawa ke mesin virtual QEMU publik ke internet tanpa kartu jaringan dan mencoba menambang</a></li>
<li><a href="../id431602/index.html">Pengembang Rusia menghadirkan sistem rehabilitasi virtual di London</a></li>
<li><a href="../id431604/index.html">Pelokalan di Go dengan paket dasar</a></li>
<li><a href="../id431608/index.html">Perusahaan AS DriveSavers adalah yang pertama di dunia yang meluncurkan layanan peretasan iPhone untuk individu</a></li>
<li><a href="../id431610/index.html">Manajer Proyek Lifehacks</a></li>
<li><a href="../id431612/index.html">Kotak musik dan rotary encoder pada papan FPGA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>