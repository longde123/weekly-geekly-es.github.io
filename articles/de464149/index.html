<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸšµğŸ½ ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ» ğŸ—œï¸ Die Geschichte eines Monolithen ğŸ·ï¸ ğŸ¤½ğŸ¿ ğŸ‘¨ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Erster Teil, in dem der Leser einen kurzen Ãœberblick Ã¼ber die Entstehung interner 2GIS-Produkte und die Entwicklung des Datenlieferungssystems von meh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Geschichte eines Monolithen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/464149/"><img src="https://habrastorage.org/webt/ey/y4/pm/eyy4pmvrfn_bptplc1fl0vt9kpu.png"><br><br>  <i>Erster Teil, in dem der Leser einen kurzen Ãœberblick Ã¼ber die Entstehung interner 2GIS-Produkte und die Entwicklung des Datenlieferungssystems von mehreren Skripten zu einer vollwertigen Anwendung erhÃ¤lt.</i> <br><br>  Heute werde ich Ihnen eine Geschichte erzÃ¤hlen, die vor 9 Jahren bei DublGIS begann. <br><a name="habracut"></a><br>  Ich habe gerade einen Job dort bekommen.  Ich musste mich mit dem Modul zum Exportieren von Daten aus einem groÃŸen internen System fÃ¼r unsere externen Produkte befassen.  Und in diesem Artikel mÃ¶chte ich Ihnen mitteilen, wie wir diesen Monolithen in mehrere Teile geteilt haben, wie ein Monster mehrere Dutzend Produkte erzeugt hat und wie all diese Produkte und Projekte auf Datenebene untereinander integriert wurden. <br><br>  Ich muss sagen, dass dies nur ein Ãœbersichtsartikel ohne technische Details ist.  Die Technik wird im zweiten Teil sein, in dem wir Ã¼ber den Datenexport sprechen werden.  In der Zwischenzeit nur leichtes Lesen ohne Matan mit oberflÃ¤chlicher ErwÃ¤hnung der Technik. <br><br>  Lass uns gehen.  Far 2010  Damals war 2GIS noch ein RÃ¶hren-DoubleGIS, von externen Produkten gab es eine Desktop-Version und eine primitive Online-Version sowie eine Version fÃ¼r PDAs.  Das Innere bestand aus einem Update-Bereitstellungssystem fÃ¼r Benutzer unserer PC-Version und einem Monster namens DGPP, das Tools zum Bearbeiten eines Verzeichnisses von Organisationen und Karten, CRM und zum Exportieren von Daten in Endprodukte kombinierte.  Die Datenbank befand sich in Firebird.  Das System wurde dezentralisiert.  Jede Stadt hatte ihre eigene Installation und eine eigene Datenbank.  Die primitive Integration wurde durch Dateiexporte / -importe bereitgestellt.  Und im GroÃŸen und Ganzen ist das alles. <br><br><img src="https://habrastorage.org/webt/dr/pn/d0/drpnd0za0y8keildn8zcfldp9fs.png"><br><br>  DGPP selbst war eine C ++ - Anwendung mit einer Reihe von VBA-Skripten.  UrsprÃ¼nglich entwickelte ein DrittbÃ¼ro dieses System fÃ¼r DublGIS, und erst mit der Zeit nahm das Unternehmen die Entwicklung des Systems unter sein Dach und grÃ¼ndete eine eigene Forschungs- und Entwicklungsabteilung.  Die Entwicklung von DGPP ist immer schwieriger geworden. <br><br>  Und dies war die Zeit der rasanten Entwicklung von DublGIS.  Neue StÃ¤dte wurden erÃ¶ffnet.  Die mobile Version fÃ¼r Smartphones wurde vorbereitet.  Neue Funktionen wurden angezeigt.  Ein Werbemodell entwickelte sich.  Im Allgemeinen war eine groÃŸe Anzahl von Ã„nderungen erforderlich, die schnell durchgefÃ¼hrt werden mussten. <br><br>  Das erste, was wir begannen, DGPP in StÃ¼cke zu zerlegen, war der Export.  Wir haben es in eine separate Anwendung gezogen, bei der es sich um einen Windows-Dienst mit einem Maulkorb auf WPF handelt.  Parallel dazu wurde an einem neuen CRM gearbeitet.  Um zu diesem Zeitpunkt Zeit zu sparen, wurde Microsoft Dynamics CRM als Basisplattform ausgewÃ¤hlt. <br><br><img src="https://habrastorage.org/webt/xp/zn/js/xpznjsn9pclvxk7u958uewha0-y.png"><br><br>  FÃ¼r den Export mussten Sie lediglich lernen, wie Sie Daten aus Firebird extrahieren und die gesamte Logik zum Vorbereiten von Daten aus VBA-Skripten herausholen.  ZusÃ¤tzlich wurden einige Algorithmen fÃ¼r Transportdaten auf den Pluspunkten implementiert.  Sie mussten in scharfe GegenstÃ¤nde umgeschrieben werden. <br><br>  Hier lohnt es sich, auf einen Punkt zu achten.  Unser Desktop-DoubleGIS verbrauchte Daten in einem speziellen BinÃ¤rformat, das von einer in ein COM-Objekt eingebundenen C ++ - Bibliothek erstellt wurde.  Und dann war es ziemlich logisch, es einfach als Referenz fÃ¼r das Projekt zu verwenden.  Nicht die beste LÃ¶sung, aber ich werde spÃ¤ter darÃ¼ber sprechen. <br><br>  Im Laufe der Zeit haben wir eine mobile Version und ein neues CRM eingefÃ¼hrt.  Ein neues externes Produkt ist am Horizont aufgetaucht - die Ã¶ffentliche API 2GIS.  Und von DGPP haben sie bereits begonnen, ein Subsystem fÃ¼r die Arbeit mit einem Verzeichnis von Organisationen mit dem Codenamen InfoRussia zu isolieren. <br><br>  Beim Export wurde es notwendig, Werbedaten aus zwei Systemen zu lesen: dem alten DGPP und dem neuen CRM.  DarÃ¼ber hinaus wurde die Implementierung von CRM schrittweise vorangetrieben, dh in einigen StÃ¤dten blieb bisher nur DGPP Ã¼brig, wÃ¤hrend in anderen StÃ¤dten DGPP gleichzeitig mit einem Verzeichnis und einer Karte und CRM mit kommerziellen Informationen arbeitete.  DarÃ¼ber hinaus war auf lange Sicht die VerÃ¶ffentlichung von InfoRussia, die Ã¼ber mehrere Monate stattfand, glÃ¤nzend. <br><br><img src="https://habrastorage.org/webt/fn/h9/il/fnh9ilr5bt43khv4yburssepk1y.png"><br><br>  Neue Systeme fÃ¼hrten KomplexitÃ¤t nicht nur durch ihr Aussehen ein.  Sie haben das Konzept der Bereitstellung geÃ¤ndert.  Im Gegensatz zur dezentralen DGPP, die in jeder Stadt stand, wurden diese Systeme zentralisiert, jedes mit seinem eigenen prallen DBMS.  AuÃŸerdem mussten sie Daten austauschen. <br><br>  Um dieses Problem zu lÃ¶sen, haben wir unseren Enterprise Service Bus (ESB) implementiert.  Zu dieser Zeit gab es praktisch keine ausgereiften LÃ¶sungen, die die ErfÃ¼llung einiger wichtiger funktionaler Anforderungen fÃ¼r uns sicherstellen wÃ¼rden: die FÃ¤higkeit zur Ãœbertragung von XML, die Reihenfolge der Nachrichten und die Garantie der Zustellung.  Dann haben wir uns fÃ¼r SQL Server Broker entschieden, der sofort alles Notwendige gab.  Zwar hatte er eine eher mittelmÃ¤ÃŸige Liefergeschwindigkeit, aber zu dieser Zeit war sie ziemlich zufrieden mit uns. <br><br>  Der letzte Schritt war die VerÃ¶ffentlichung eines Kartendienstes namens Fidschi.  Er hat seine Daten teilweise in den Bus hochgeladen.  Dies betraf Verzeichnisse und Klassifikatoren.  Die Geodaten konnten ihm Ã¼ber die Rest-API entnommen werden, die auch vom <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fidschi-Client</a> selbst verwendet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wurde und in WPF geschrieben wurde</a> . <br><br><img src="https://habrastorage.org/webt/q-/j7/jd/q-j7jdjhfuv-zvwmdjyfydpyc0q.png"><br><br>  In dieser Architektur stand der Export im Mittelpunkt.  Dadurch wurden alle DatenstrÃ¶me in einem einzigen Repository zusammengefÃ¼hrt und an Endprodukte und unsere Benutzer verteilt. <br><br>  AuÃŸerdem war es nur ein kleiner Teil des Eisbergs.  Die Automatisierung interner Prozesse, die Entstehung neuer Anforderungen und neuer Funktionen fÃ¼hrten zur Entstehung einer Vielzahl von Produkten.  Es war notwendig, Analysen durchzufÃ¼hren, mit Benutzerfeedback zu arbeiten, neue Verkaufsmodelle und neue kommerzielle Produkte einzufÃ¼hren, Such-, Transportalgorithmen und im Allgemeinen externe Produkte zu entwickeln. <br><br>  Einerseits hat der Export eine groÃŸe Anzahl von Datenanbietern und andererseits eine groÃŸe Anzahl von Verbrauchern, von denen jeder Daten in einer bestimmten Form empfangen und Ã¼ber spezielle Vorbereitungsalgorithmen ausfÃ¼hren wollte. <br><br><img src="https://habrastorage.org/webt/yf/mr/f1/yfmrf1oaxyyzgbcm_kq6riqkuuu.png"><br><br>  Und dann ging meine Geschichte zu Ende. <br><br>  Im zweiten Teil des Artikels werde ich Ihnen Ã¼ber den Export erzÃ¤hlen und mitteilen, wie er all diese Ã„nderungen Ã¼berstanden hat.  Es wird keine Geschichten geben, aber es wird spezifische AnsÃ¤tze geben, die wir bei der LÃ¶sung einer bestimmten Liste von Aufgaben angewendet haben. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de464149/">https://habr.com/ru/post/de464149/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de464137/index.html">Technischer Support Miran: wie es funktioniert</a></li>
<li><a href="../de464141/index.html">Fantasien zum Thema Metaklassen in C #</a></li>
<li><a href="../de464143/index.html">PersÃ¶nliche Krebsheilung. Wie Patientengene den Behandlungserfolg beeinflussen</a></li>
<li><a href="../de464145/index.html">CMake: Der Fall, in dem die QualitÃ¤t des Projekts unverzeihlich ist</a></li>
<li><a href="../de464147/index.html">CMake: Der Fall, in dem das Projekt unverzeihlich ist, ist die QualitÃ¤t seines Codes</a></li>
<li><a href="../de464151/index.html">Victor Vyalichkin: â€Freiheit, Gleichheit, BrÃ¼derlichkeit gibt es nur in OpenStreetMap, wo immer alles in Sicht ist.â€œ</a></li>
<li><a href="../de464155/index.html">KI hilft bei der Untersuchung von Tieren in Afrika</a></li>
<li><a href="../de464161/index.html">SPAM und GDRP - wie mache ich Mailinglisten "dort"?</a></li>
<li><a href="../de464163/index.html">Dieses SchlÃ¼sselwort in JavaScript. Komplettes * Handbuch</a></li>
<li><a href="../de464165/index.html">Habr Weekly # 14 / Ãœber die Kommunikationsregeln in Gruppenchats, Monopole und den Schutz von Kindern vor gefÃ¤hrlichen Informationen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>