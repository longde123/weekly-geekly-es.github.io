<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👨‍👧‍👧 🛀🏻 ↪️ Lombok mengembalikan kehebatan Jawa 👩🏽‍🍳 👨🏻‍💼 👨🏻‍✈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kami di Grubhub menggunakan Java di hampir seluruh backend. Ini adalah bahasa yang terbukti yang telah membuktikan kecepatan dan keandalannya selama 2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lombok mengembalikan kehebatan Jawa</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438870/"><img src="https://habrastorage.org/webt/qu/kf/g_/qukfg_-dnnfp3q_c50xe3m4q2iu.png"><br><br>  Kami di Grubhub menggunakan Java di hampir seluruh backend.  Ini adalah bahasa yang terbukti yang telah membuktikan kecepatan dan keandalannya selama 20 tahun terakhir.  Tetapi selama bertahun-tahun, usia "orang tua" masih mulai mempengaruhi. <br><br>  Java adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">salah satu bahasa JVM paling populer</a> , tetapi bukan satu-satunya.  Dalam beberapa tahun terakhir, ia telah bersaing dengan Scala, Clojure dan Kotlin, yang menyediakan fungsionalitas baru dan fitur bahasa yang dioptimalkan.  Singkatnya, mereka memungkinkan Anda untuk berbuat lebih banyak dengan kode yang lebih ringkas. <br><a name="habracut"></a><br>  Inovasi dalam ekosistem JVM ini sangat menarik.  Karena persaingan, Jawa terpaksa berubah agar tetap kompetitif.  Jadwal rilis enam bulan yang baru dan beberapa JEP (proposal peningkatan JDK) di Java 8 (Valhalla, Inferensi Tipe Variabel lokal, Loom) adalah bukti bahwa Jawa akan tetap menjadi bahasa yang kompetitif selama bertahun-tahun. <br><br>  Namun, ukuran dan skala Jawa berarti bahwa pembangunan mengalami kemajuan lebih lambat dari yang kita inginkan, belum lagi keinginan kuat untuk mempertahankan kompatibilitas dengan segala cara.  Dalam perkembangan apa pun, prioritas pertama haruslah fungsi, tetapi di sini fungsi yang diperlukan telah dikembangkan terlalu lama, jika tidak, dalam bahasa.  Karenanya, kami di Grubhub menggunakan Project Lombok untuk mengoptimalkan dan meningkatkan Jawa yang kami miliki saat ini.  Proyek Lombok adalah plugin kompiler yang menambahkan "kata kunci" baru ke Jawa dan mengubah anotasi menjadi kode Java, mengurangi upaya pengembangan dan menyediakan beberapa fungsionalitas tambahan. <br><br><h1>  Konfigurasikan Lombok </h1><br>  Grubhub selalu berusaha untuk meningkatkan siklus hidup perangkat lunak, tetapi setiap alat dan proses baru memiliki biaya untuk dipertimbangkan.  Untungnya, untuk menghubungkan Lombok, cukup tambahkan beberapa baris ke file gradle. <br><br>  Lombok mengonversi anotasi dalam kode sumber ke pernyataan Java sebelum kompilator memprosesnya: dependensi <code>lombok</code> tidak dalam runtime, jadi menggunakan plugin tidak akan menambah ukuran rakitan.  Untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengkonfigurasi Lombok dengan Gradle</a> (ini juga berfungsi dengan Maven), cukup tambahkan baris <i>berikut</i> ke file <i>build.gradle</i> : <br><br><pre> <code class="java hljs">plugins { id <span class="hljs-string"><span class="hljs-string">'io.franzbecker.gradle-lombok'</span></span> version <span class="hljs-string"><span class="hljs-string">'1.14'</span></span> id <span class="hljs-string"><span class="hljs-string">'java'</span></span> } repositories { jcenter() <span class="hljs-comment"><span class="hljs-comment">// or Maven central, required for Lombok dependency } lombok { version = '1.18.4' sha256 = "" }</span></span></code> </pre> <br>  Dengan Lombok, kode sumber kami <i>tidak akan menjadi</i> kode Java yang valid.  Oleh karena itu, Anda perlu memasang plugin untuk IDE, jika tidak, lingkungan pengembangan tidak akan mengerti apa yang ia hadapi.  Lombok mendukung semua IDE Java utama.  Integrasi yang sempurna.  Semua fungsi seperti "tampilkan penggunaan" dan "pergi ke implementasi" terus berfungsi seperti sebelumnya, memindahkan Anda ke bidang / kelas yang sesuai. <br><br><h1>  Lombok beraksi </h1><br>  Cara terbaik untuk mengenal Lombok adalah melihatnya dalam aksi.  Perhatikan beberapa contoh khas. <br><br><h3>  Hidupkan kembali Objek POJO </h3><br>  Dengan "objek Java lama yang bagus" (POJO), kami memisahkan data dari pemrosesan untuk membuat kode lebih mudah dibaca dan merampingkan transfer jaringan.  POJO sederhana memiliki beberapa bidang pribadi, serta getter dan setter yang sesuai.  Mereka melakukan pekerjaan, tetapi membutuhkan banyak kode boilerplate. <br><br>  Lombok membantu menggunakan POJO dengan cara yang lebih fleksibel dan terstruktur tanpa kode tambahan.  Ini adalah <code>@Data</code> kami menyederhanakan POJO yang mendasarinya dengan penjelasan <code>@Data</code> : <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Data</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> UUID userId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String email; }</code> </pre> <br>  <code>@Data</code> hanyalah anotasi praktis yang berlaku beberapa anotasi Lombok sekaligus. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>@ToString</code></a> menghasilkan implementasi untuk metode <code>toString()</code> , yang terdiri dari representasi objek yang rapi: nama kelas, semua bidang dan nilainya. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>@EqualsAndHashCode</code></a> menghasilkan implementasi <code>equals</code> dan <code>hashCode</code> , yang secara default menggunakan bidang non-statis dan non-stasioner, tetapi dapat disesuaikan. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>@Getter / @Setter</code></a> menghasilkan getter dan setter untuk bidang pribadi. <br></li><li>  <code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">@RequiredArgsConstructor</a></code> membuat konstruktor dengan argumen yang diperlukan, di mana bidang terakhir dan bidang dengan anotasi <code>@NonNull</code> (lebih lanjut tentang ini di bawah ini). </li></ul><br>  Penjelasan ini sendiri dengan sederhana dan elegan mencakup banyak kasus penggunaan umum.  Tetapi POJO tidak selalu mencakup fungsionalitas yang diperlukan.  <code>@Data</code> adalah kelas yang sepenuhnya dapat dimodifikasi, penyalahgunaan yang dapat meningkatkan kompleksitas dan membatasi konkurensi, yang secara negatif mempengaruhi kemampuan bertahan aplikasi. <br><br>  Ada solusi lain.  Mari kita kembali ke kelas <code>User</code> kami, membuatnya tidak berubah, dan menambahkan beberapa anotasi berguna lainnya. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>(toBuilder = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UUID userId; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> String email; <span class="hljs-meta"><span class="hljs-meta">@Singular</span></span> Set&lt;String&gt; favoriteFoods; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>.Default String avatar = “<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>.png”; }</code> </pre> <br>  Anotasi <code>@Value</code> mirip dengan <code>@Data</code> kecuali bahwa semua bidang bersifat pribadi dan final secara default, dan setter tidak dibuat.  Berkat ini, objek <code>@Value</code> segera menjadi tidak berubah.  Karena semua bidang bersifat final, tidak ada konstruktor argumen.  Sebagai gantinya, Lombok menggunakan <code>@AllArgsConstructor</code> .  Hasilnya adalah objek yang sepenuhnya berfungsi dan tidak dapat diubah. <br><br>  Tetapi immutability tidak terlalu berguna jika Anda hanya perlu membuat objek menggunakan konstruktor all-args.  Seperti yang dijelaskan Joshua Bloch dalam bukunya Effective Java Programming, Anda harus menggunakan pembangun jika Anda memiliki sejumlah besar parameter perancang.  Di sini kelas <code>@Builder</code> , secara otomatis menghasilkan kelas batin pembangun: <br><br><pre> <code class="java hljs">User user = User.builder() .userId(UUID.random()) .email(“grubhub<span class="hljs-meta"><span class="hljs-meta">@grubhub</span></span>.com”) .favoriteFood(“burritos”) .favoriteFood(“dosas”) .build()</code> </pre> <br>  Menghasilkan pembangun membuatnya mudah untuk membuat objek dengan sejumlah besar argumen dan menambahkan bidang baru di masa depan.  Metode statis mengembalikan instance pembangun untuk mengatur semua properti objek.  Setelah itu, panggilan untuk <code>build()</code> mengembalikan instance. <br><br>  <code>@NonNull</code> dapat digunakan untuk <code>@NonNull</code> bahwa bidang ini bukan nol saat membuat turunan objek, jika tidak, <code>NullPointerException</code> dilempar.  Perhatikan bahwa bidang avatar dianotasi dengan <code>@NonNull</code> tetapi tidak disetel.  Faktanya adalah bahwa anotasi <code>@Builder.Default</code> menunjuk ke <i>default.png</i> secara default. <br><br>  Perhatikan juga bagaimana pembuat menggunakan <code>favoriteFood</code> , satu-satunya nama properti di objek kami.  Saat menempatkan anotasi <code>@Singular</code> pada properti koleksi, Lombok menciptakan metode pembangun khusus untuk menambahkan item ke koleksi secara individual, dan tidak menambahkan seluruh koleksi pada saat yang sama.  Ini sangat baik untuk pengujian, karena cara membuat koleksi kecil di Jawa tidak bisa disebut sederhana dan cepat. <br><br>  Akhirnya, <code>toBuilder = true</code> parameter menambahkan metode instance <code>toBuilder()</code> , yang membuat objek builder diisi dengan semua nilai dari instance ini.  Sangat mudah untuk membuat instance baru, yang sudah diisi sebelumnya dengan semua nilai dari aslinya, sehingga tetap hanya mengubah bidang yang diperlukan saja.  Ini sangat berguna untuk kelas <code>@Value</code> , karena bidang tidak dapat diubah. <br><br>  Beberapa catatan selanjutnya menyesuaikan fungsi khusus setter.  <code>@Wither</code> membuat metode <code>@Wither</code> untuk setiap properti.  Pada input, nilai, pada output, klon instance dengan nilai yang diperbarui dari satu bidang.  <code>@Accessors</code> memungkinkan Anda untuk mengonfigurasi setter yang dibuat secara otomatis.  <code>fluent=true</code> parameter <code>fluent=true</code> menonaktifkan get dan set konvensi untuk getter dan setter.  Dalam situasi tertentu, ini bisa menjadi pengganti yang berguna untuk <code>@Builder</code> . <br><br>  Jika implementasi Lombok tidak cocok untuk tugas Anda (dan Anda melihat pengubah anotasi), maka Anda selalu dapat mengambil dan menulis implementasi Anda sendiri.  Misalnya, jika Anda memiliki kelas <code>@Data</code> , tetapi satu pengambil membutuhkan logika khusus, cukup implementasikan pengambil ini.  Lombok akan melihat bahwa implementasinya sudah disediakan, dan tidak akan menimpanya dengan implementasi yang dibuat secara otomatis. <br><br>  Dengan hanya beberapa anotasi sederhana, basis POJO telah menerima begitu banyak fitur kaya yang menyederhanakan penggunaannya tanpa memuat pekerjaan para insinyur kami, tanpa membuang waktu atau meningkatkan biaya pengembangan. <br><br><h3>  Menghapus Kode Template </h3><br>  Lombok bermanfaat tidak hanya untuk POJO: Lombok dapat diterapkan di semua level aplikasi.  Penggunaan Lombok berikut ini sangat berguna dalam kelas komponen seperti pengontrol, layanan, dan DAO (objek akses data). <br><br>  Penebangan adalah persyaratan dasar untuk semua bagian program.  Setiap kelas yang melakukan pekerjaan yang bermakna harus menulis log.  Dengan demikian, logger standar menjadi templat untuk setiap kelas.  Lombok menyederhanakan templat ini menjadi anotasi tunggal yang secara otomatis mengidentifikasi dan membuat instance logger dengan nama kelas yang benar.  Ada beberapa anotasi yang berbeda tergantung pada struktur jurnal. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Slf</span></span>4j <span class="hljs-comment"><span class="hljs-comment">// also: @CommonsLog @Flogger @JBossLog @Log @Log4j @Log4j2 @XSlf4j public class UserService { // created automatically // private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(UserService.class); }</span></span></code> </pre> <br>  Setelah mendeklarasikan logger, tambahkan dependensi kami: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Slf</span></span>4j <span class="hljs-meta"><span class="hljs-meta">@RequiredArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@FieldDefaults</span></span>(makeFinal=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, level=AccessLevel.PRIVATE) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UserDao userDao; }</code> </pre> <br>  <code>@FieldDefaults</code> menambahkan pengubah akhir dan pribadi ke semua bidang.  <code>@RequiredArgsConstructor</code> membuat konstruktor yang membuat instance dari <code>UserDao</code> .  <code>@NonNull</code> menambahkan validasi dalam konstruktor dan <code>UserDao</code> <code>NullPointerException</code> jika instance <code>UserDao</code> adalah nol. <br><br><h1>  Tapi tunggu, itu belum semuanya! </h1><br>  Ada banyak lagi situasi di mana Lombok melakukan yang terbaik.  Bagian sebelumnya menunjukkan contoh spesifik, tetapi Lombok dapat memfasilitasi pembangunan di banyak daerah.  Berikut adalah beberapa contoh kecil cara menggunakannya secara lebih efisien. <br><br>  Meskipun kata kunci <code>var</code> muncul di Java 9, variabel masih dapat dipindahkan.  Lombok memiliki kata kunci <code>val</code> , yang mencetak tipe terakhir dari variabel lokal. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// final Map map = new HashMap&lt;Integer, String&gt;(); val map = new HashMap&lt;Integer, String&gt;();</span></span></code> </pre> <br>  Beberapa kelas dengan fungsi statis murni tidak dimaksudkan untuk diinisialisasi.  Salah satu cara untuk mencegah instantiasi adalah dengan mendeklarasikan konstruktor pribadi yang melempar pengecualian.  Lombok mengkodifikasikan templat ini di anotasi <code>@UtilityClass</code> .  Ini menghasilkan konstruktor pribadi yang melempar pengecualian, akhirnya mengeluarkan kelas dan membuat semua metode statis. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@UtilityClass</span></span> <span class="hljs-comment"><span class="hljs-comment">// will be made final public class UtilityClass { // will be made static private final int GRUBHUB = “ GRUBHUB”; // autogenerated by Lombok // private UtilityClass() { // throw new java.lang.UnsupportedOperationException("This is a utility class and cannot be instantiated"); //} // will be made static public void append(String input) { return input + GRUBHUB; } }</span></span></code> </pre> <br>  Java sering dikritik karena verbositas karena pengecualian diperiksa.  Anotasi Lombok terpisah memperbaikinya: <code>@SneakyThrows</code> .  Seperti yang diharapkan, implementasinya cukup rumit.  Itu tidak menangkap pengecualian atau bahkan membungkus pengecualian dalam <code>RuntimeException</code> .  Sebaliknya, itu bergantung pada kenyataan bahwa JVM tidak memeriksa konsistensi dari pengecualian yang diperiksa pada saat dijalankan.  Hanya javac yang melakukan ini.  Oleh karena itu, Lombok menggunakan konversi bytecode pada waktu kompilasi untuk menonaktifkan pemeriksaan ini.  Hasilnya adalah kode yang dapat dieksekusi. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SneakyThrows</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@SneakyThrows</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sneakyThrow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Exception(); } }</code> </pre> <br><h1>  Perbandingan berdampingan </h1><br>  Perbandingan langsung paling baik menunjukkan berapa banyak kode yang disimpan Lombok.  Plugin IDE memiliki fungsi "de-lombok" yang kira-kira mengubah sebagian besar anotasi Lombok ke kode Java asli (anotasi <code>@NonNull</code> tidak dikonversi).  Dengan demikian, setiap IDE dengan plugin yang dipasang akan dapat mengubah sebagian besar anotasi menjadi kode Java asli dan sebaliknya.  Kembali ke kelas <code>User</code> kami. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>(toBuilder = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UUID userId; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> String email; <span class="hljs-meta"><span class="hljs-meta">@Singular</span></span> Set&lt;String&gt; favoriteFoods; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>.Default String avatar = “<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>.png”; }</code> </pre> <br>  Kelas Lombok hanya 13 baris sederhana, mudah dibaca, dan dimengerti.  Tetapi setelah menjalankan de-lombok, kelas berubah menjadi lebih dari seratus baris kode boilerplate! <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UUID userId; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> String email; Set&lt;String&gt; favoriteFoods; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>.Default String avatar = <span class="hljs-string"><span class="hljs-string">"default.png"</span></span>; <span class="hljs-meta"><span class="hljs-meta">@java</span></span>.beans.ConstructorProperties({<span class="hljs-string"><span class="hljs-string">"userId"</span></span>, <span class="hljs-string"><span class="hljs-string">"email"</span></span>, <span class="hljs-string"><span class="hljs-string">"favoriteFoods"</span></span>, <span class="hljs-string"><span class="hljs-string">"avatar"</span></span>}) User(UUID userId, String email, Set&lt;String&gt; favoriteFoods, String avatar) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId = userId; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email = email; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods = favoriteFoods; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar = avatar; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">builder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UserBuilder(); } <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UUID </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId; } <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getEmail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Set&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFavoriteFoods</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods; } <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAvatar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">equals</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object o)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (o == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(o <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> User)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> User other = (User) o; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$userId = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getUserId(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$userId = other.getUserId(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$userId == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$userId != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$userId.equals(other$userId)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$email = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getEmail(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$email = other.getEmail(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$email == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$email != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$email.equals(other$email)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getFavoriteFoods(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$favoriteFoods = other.getFavoriteFoods(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$favoriteFoods != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$favoriteFoods.equals(other$favoriteFoods)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$avatar = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAvatar(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$avatar = other.getAvatar(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$avatar == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$avatar != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$avatar.equals(other$avatar)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hashCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> PRIME = <span class="hljs-number"><span class="hljs-number">59</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $userId = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getUserId(); result = result * PRIME + ($userId == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $userId.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $email = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getEmail(); result = result * PRIME + ($email == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $email.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getFavoriteFoods(); result = result * PRIME + ($favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $favoriteFoods.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $avatar = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAvatar(); result = result * PRIME + ($avatar == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $avatar.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"User(userId="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getUserId() + <span class="hljs-string"><span class="hljs-string">", email="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getEmail() + <span class="hljs-string"><span class="hljs-string">", favoriteFoods="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getFavoriteFoods() + <span class="hljs-string"><span class="hljs-string">", avatar="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAvatar() + <span class="hljs-string"><span class="hljs-string">")"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toBuilder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UserBuilder().userId(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId).email(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email).favoriteFoods(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods).avatar(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserBuilder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> UUID userId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String email; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ArrayList&lt;String&gt; favoriteFoods; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String avatar; UserBuilder() { } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">userId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UUID userId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId = userId; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">email</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String email)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email = email; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">favoriteFood</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String favoriteFood)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.add(favoriteFood); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">favoriteFoods</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Collection&lt;? extends String&gt; favoriteFoods)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.addAll(favoriteFoods); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clearFavoriteFoods</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.clear(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">avatar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String avatar)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar = avatar; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> User </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Set&lt;String&gt; favoriteFoods; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">0</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: favoriteFoods = java.util.Collections.emptySet(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: favoriteFoods = java.util.Collections.singleton(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.get(<span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> java.util.LinkedHashSet&lt;String&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size() &lt; <span class="hljs-number"><span class="hljs-number">1073741824</span></span> ? <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size() + (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size() - <span class="hljs-number"><span class="hljs-number">3</span></span>) / <span class="hljs-number"><span class="hljs-number">3</span></span> : Integer.MAX_VALUE); favoriteFoods.addAll(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods); favoriteFoods = java.util.Collections.unmodifiableSet(favoriteFoods); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> User(userId, email, favoriteFoods, avatar); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"User.UserBuilder(userId="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId + <span class="hljs-string"><span class="hljs-string">", email="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email + <span class="hljs-string"><span class="hljs-string">", favoriteFoods="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods + <span class="hljs-string"><span class="hljs-string">", avatar="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar + <span class="hljs-string"><span class="hljs-string">")"</span></span>; } } }</code> </pre> <br>  Kami akan melakukan hal yang sama untuk kelas <code>UserService</code> . <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Slf</span></span>4j <span class="hljs-meta"><span class="hljs-meta">@RequiredArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@FieldDefaults</span></span>(makeFinal=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, level=AccessLevel.PRIVATE) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UserDao userDao; }</code> </pre> <br>  Berikut ini adalah contoh mitra dalam kode Java standar. <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(UserService.class); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> UserDao userDao; <span class="hljs-meta"><span class="hljs-meta">@java</span></span>.beans.ConstructorProperties({<span class="hljs-string"><span class="hljs-string">"userDao"</span></span>}) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UserService</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UserDao userDao)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (userDao == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NullPointerException(<span class="hljs-string"><span class="hljs-string">"userDao is marked @NonNull but is null"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userDao = userDao; } }</code> </pre> <br><h1>  Peringkat efek </h1><br>  Grubhub memiliki lebih dari seratus layanan bisnis pengiriman makanan.  Kami mengambil salah satunya dan meluncurkan fungsi "de-lombok" di plugin Lombok IntelliJ.  Akibatnya, sekitar 180 file berubah, dan basis kode bertambah sekitar 18.000 baris kode setelah menghapus 800 kasus penggunaan Lombok.  Rata-rata, setiap jalur Lombok menyimpan 23 jalur Jawa.  Dengan efek ini, sulit membayangkan Jawa tanpa Lombok. <br><br><h1>  Ringkasan </h1><br>  Lombok adalah penolong hebat yang mengimplementasikan fitur bahasa baru tanpa membutuhkan banyak usaha dari pengembang.  Tentu saja, lebih mudah untuk menginstal plugin daripada melatih semua insinyur dalam bahasa baru dan port kode yang ada.  Lombok tidak mahakuasa, tetapi di luar kotak cukup kuat untuk benar-benar membantu dalam pekerjaan. <br><br>  Keuntungan lain Lombok adalah mempertahankan basis kode yang konsisten.  Kami memiliki lebih dari seratus layanan berbeda dan tim terdistribusi di seluruh dunia, sehingga koherensi basis kode memfasilitasi penskalaan tim dan mengurangi beban beralih konteks ketika memulai proyek baru.  Lombok berfungsi untuk semua versi sejak Java 6, sehingga kami dapat mengandalkan ketersediaannya di semua proyek. <br><br>  Bagi Grubhub, ini lebih dari sekadar fitur baru.  Pada akhirnya, semua kode ini <i>dapat</i> ditulis secara manual.  Tetapi Lombok menyederhanakan bagian kode basis yang membosankan tanpa memengaruhi logika bisnis.  Ini memungkinkan Anda untuk fokus pada hal-hal yang sangat penting bagi bisnis dan yang paling menarik bagi pengembang kami.  Kode template Monton adalah buang-buang waktu untuk programmer, pengulas, dan pengelola.  Selain itu, karena kode ini tidak lagi ditulis secara manual, ini menghilangkan seluruh kelas kesalahan ketik.  Manfaat <code>@NonNull</code> otomatis yang dikombinasikan dengan kekuatan <code>@NonNull</code> mengurangi kemungkinan kesalahan dan membantu pengembangan kami, yang bertujuan untuk mengirimkan makanan ke meja Anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id438870/">https://habr.com/ru/post/id438870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id438858/index.html">Cara menggunakan segmentasi, penargetan, dan posisi (STP) dalam mengembangkan strategi pemasaran</a></li>
<li><a href="../id438862/index.html">Menyebarkan aplikasi web isomorfik menggunakan Nuxt.js sebagai contoh.</a></li>
<li><a href="../id438864/index.html">Membekukan fitur C ++ 20. Coroutine, Modul dan banyak lagi</a></li>
<li><a href="../id438866/index.html">Sintaks pembangun versus Java</a></li>
<li><a href="../id438868/index.html">Minggu Keamanan 06: Langsung di FaceTime</a></li>
<li><a href="../id438874/index.html">Memulai pertemanan dengan VkNet</a></li>
<li><a href="../id438876/index.html">Cara mempersingkat waktu-ke-pasar: kisah tentang otomatisasi pengujian dalam M. Video</a></li>
<li><a href="../id438878/index.html">Kemunculan film di torrent setelah pemutaran perdana meningkatkan box office sebesar 3%</a></li>
<li><a href="../id438880/index.html">Kapan menggunakan var, biarkan dan const dalam Javascript [terjemahan dari artikel Tyler McGinnis]</a></li>
<li><a href="../id438882/index.html">Probabilitas memenangkan pertandingan dengan probabilitas yang diketahui untuk memenangkan poin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>