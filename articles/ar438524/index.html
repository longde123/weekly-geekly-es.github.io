<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โฃ๏ธ ๐ง๐ป โป๏ธ ุชุทุจูู ุฑูุฑูุฉ ุงูุชุทุจูู 101: ุงููุงููููุง ุ ูููุฐุฌ ุงููุทุงู ุ BLOC ๐ฅ ๐ฉโ๐งโ๐ง ๐ท</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(ูุดุฑุช ุฃุตูุง ุนูู ูุชูุณุทุฉ ) 


 ูููุฑ Flutter ุฅุทุงุฑูุง ุญุฏูุซูุง ูุฃุณููุจ ุฑุฏ ุงููุนู ุ ููุฌููุนุฉ ูุฃุฏูุงุช ุบููุฉ ููุฃุฏูุงุช ุงูุฐููุฉ ุ ูููู ูุง ููุฌุฏ ุดูุก ููุงุซู ูุฏููู Android ููู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุทุจูู ุฑูุฑูุฉ ุงูุชุทุจูู 101: ุงููุงููููุง ุ ูููุฐุฌ ุงููุทุงู ุ BLOC</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438524/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/2j/2p/yu/2j2pyudr-kde4fqeczqoic_9lpq.png"></p><br><p style=";text-align:right;direction:rtl">  (ูุดุฑุช ุฃุตูุง ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชูุณุทุฉ</a> ) </p><br><p style=";text-align:right;direction:rtl">  ูููุฑ Flutter ุฅุทุงุฑูุง ุญุฏูุซูุง ูุฃุณููุจ ุฑุฏ ุงููุนู ุ ููุฌููุนุฉ ูุฃุฏูุงุช ุบููุฉ ููุฃุฏูุงุช ุงูุฐููุฉ ุ ูููู ูุง ููุฌุฏ ุดูุก ููุงุซู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฏููู</a> Android <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฏุณุฉ ุงูุชุทุจููุงุช</a> . </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูุง ุชูุฌุฏ ุจููุฉ ุฃุณุงุณูุฉ ุชูุจู ุฌููุน ุงููุชุทูุจุงุช ุงูููููุฉ ุ ูููู ุฏุนููุง ููุงุฌู ุญูููุฉ ุฃู ูุนุธู ุชุทุจููุงุช ุงููุงุชู ุงููุญููู ุงูุชู ูุนูู ุนูููุง ูุฏููุง ุนูู ุงูุฃูู ุจุนุถ ุงููุธุงุฆู ุงูุชุงููุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุทูุจ / ุชุญููู ุงูุจูุงูุงุช ูู / ุฅูู ุงูุดุจูุฉ. </li><li style=";text-align:right;direction:rtl">  ุฎุฑูุทุฉ ุ ุชุญููู ุ ุฅุนุฏุงุฏ ุงูุจูุงูุงุช ูุชูุฏูููุง ูููุณุชุฎุฏู. </li><li style=";text-align:right;direction:rtl">  ุถุน / ุงุญุตู ุนูู ุงูุจูุงูุงุช ูู / ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. </li></ol><br><p style=";text-align:right;direction:rtl">  ูุน ูุฑุงุนุงุฉ ุฐูู ุ ููุชู ุจุฅูุดุงุก ุชุทุจูู ูููุฐุฌ ูุนูู ุนูู ุญู ุงููุดููุฉ ููุณูุง ุชูุงููุง ุจุงุณุชุฎุฏุงู ุซูุงุซุฉ ุฃุณุงููุจ ูุฎุชููุฉ ูููููู. <a name="habracut"></a></p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชูุฏูู ุงููุณุชุฎุฏู ูุน ุฒุฑ "ุชุญููู ุจูุงูุงุช ุงููุณุชุฎุฏู" ูู ูุณุท ุงูุดุงุดุฉ.  ุนูุฏ ููุงู ุงููุณุชุฎุฏู ุจุงูููุฑ ููู ุงูุฒุฑ ุ ูุชู ุชุดุบูู ุชุญููู ุงูุจูุงูุงุช ุบูุฑ ุงููุชุฒุงูู ููุชู ุงุณุชุจุฏุงู ุงูุฒุฑ ุจูุคุดุฑ ุชุญููู.  ุจุนุฏ ุชุญููู ุงูุจูุงูุงุช ุ ูุชู ุงุณุชุจุฏุงู ูุคุดุฑ ุงูุชุญููู ุจุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููุจุฏุฃ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/c5/by/8g/c5by8gjmz_oov-ukuy4_dwo4njs.gif"></p><br><h2 id="data" style=";text-align:right;direction:rtl">  ุงูุจูุงูุงุช </h2><br><p style=";text-align:right;direction:rtl"> ูุบุฑุถ ุงูุจุณุงุทุฉ ุ ููุช ุจุฅูุดุงุก ูุฆุฉ <code>Repository</code> ุชุญุชูู ุนูู ุทุฑููุฉ <code>getUser()</code> ุชุญุงูู ููุงููุฉ ุดุจูุฉ ุบูุฑ ูุชุฒุงููุฉ ูุชุนูุฏ ูุงุฆู <code>Future&lt;User&gt;</code> ุจููู ูุถุบูุทุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ุชูู ูุนุชุงุฏูุง ุนูู ุงูุนููุฏ ุงููุณุชูุจููุฉ ูุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูู Dart ุ ูููููู ูุนุฑูุฉ ุงููุฒูุฏ ุนููุง ูู ุฎูุงู ุงุชุจุงุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู</a> ููุฑุงุกุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูุฏ</a> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class Repository { Future&lt;User&gt; getUser() async { await Future.delayed(Duration(seconds: 2)); return User(name: 'John', surname: 'Smith'); } }</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class User { User({ @required this.name, @required this.surname, }); final String name; final String surname; }</code> </pre> <br><h2 id="vanilla" style=";text-align:right;direction:rtl">  ุงููุงููููุง </h2><br><p style=";text-align:right;direction:rtl">  ุฏุนููุง ูุจูู ุงูุชุทุจูู ุจุงูุทุฑููุฉ ุงูุชู ุณููุนููุง ูุนุธู ุงููุทูุฑูู ุจุนุฏ ูุฑุงุกุฉ ูุซุงุฆู Flutter ุงูุฑุณููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงูุงูุชูุงู ุฅูู ุดุงุดุฉ <code>VanillaScreen</code> ุจุงุณุชุฎุฏุงู <code>Navigator</code> </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Navigator.push( context, MaterialPageRoute( builder: (context) =&gt; VanillaScreen(_repository), ), );</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุญุงูุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ูููู ุฃู ุชุชุบูุฑ ุนุฏุฉ ูุฑุงุช ุฎูุงู ูุชุฑุฉ ุญูุงุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุ ููุฌุจ ุฃู ููุณุน <code>StatefulWidget</code> .  ูุชุทูุจ ุชุทุจูู ุนูุตุฑ ูุงุฌูุฉ ุงูุญุงูุฉ ุฃูุถูุง ุงูุญุตูู ุนูู ูุฆุฉ <code>State</code> .  <code>bool _isLoading</code> ู <code>User _user</code> ูู ูุฆุฉ <code>_VanillaScreenState</code> ุญุงูุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู.  ุชุชู ุชููุฆุฉ ููุง ุงูุญูููู ูุจู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>build(BuildContext context)</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class VanillaScreen extends StatefulWidget { VanillaScreen(this._repository); final Repository _repository; @override State&lt;StatefulWidget&gt; createState() =&gt; _VanillaScreenState(); } class _VanillaScreenState extends State&lt;VanillaScreen&gt; { bool _isLoading = false; User _user; @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: const Text('Vanilla'), ), body: SafeArea( child: _isLoading ? _buildLoading() : _buildBody(), ), ); } Widget _buildBody() { if (_user != null) { return _buildContent(); } else { return _buildInit(); } } Widget _buildInit() { return Center( child: RaisedButton( child: const Text('Load user data'), onPressed: () { setState(() { _isLoading = true; }); widget._repository.getUser().then((user) { setState(() { _user = user; _isLoading = false; }); }); }, ), ); } Widget _buildContent() { return Center( child: Text('Hello ${_user.name} ${_user.surname}'), ); } Widget _buildLoading() { return const Center( child: CircularProgressIndicator(), ); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุฅูุดุงุก ูุงุฆู ุญุงูุฉ ุนูุตุฑ ูุงุฌูุฉ <code>build(BuildContext context)</code> ุงููุณุชุฎุฏู ุ ูุชู ุงุณุชุฏุนุงุก ุฃุณููุจ ุงูุฅูุดุงุก <code>build(BuildContext context)</code> ูุฅูุดุงุก ูุงุฌูุฉ ุงููุณุชุฎุฏู.  ูุชู ุงุชุฎุงุฐ ุฌููุน ุงููุฑุงุฑุงุช ุงููุชุนููุฉ ุจุงูุญุงุฌูุงุช ุงููุตุบูุฑุฉ ุงูุชู ูุฌุจ ุฅูุดุงุคูุง ูุชูุซูู ุงูุญุงูุฉ ุงูุญุงููุฉ ูู ุฑูุฒ ุฅุนูุงู ูุงุฌูุฉ ุงููุณุชุฎุฏู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">body: SafeArea( child: _isLoading ? _buildLoading() : _buildBody(), )</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุนุฑุถ ูุคุดุฑ ุงูุชูุฏู ุนูุฏ ููุงู ุงููุณุชุฎุฏู ุจุงูููุฑ ููู ุงูุฒุฑ "ุชุญููู ุชูุงุตูู ุงููุณุชุฎุฏู" ุ ูุฅููุง ูุชุจุน ุฐูู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">setState(() { _isLoading = true; });</code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  ูููู setState () ุจุงุณุชุฏุนุงุก ุฅุทุงุฑ ุงูุนูู ุจุฃู ุงูุญุงูุฉ ุงูุฏุงุฎููุฉ ููุฐุง ุงููุงุฆู ูุฏ ุชุบูุฑุช ุจุทุฑููุฉ ูุฏ ุชุคุซุฑ ุนูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูู ูุฐู ุงูุดุฌุฑุฉ ุงููุฑุนูุฉ ุ ููุง ูุชุณุจุจ ูู ููุงู ุฅุทุงุฑ ุงูุนูู ุจุฌุฏููุฉ ุจูุงุก ููุงุฆู ุงูุญุงูุฉ ูุฐุง. </blockquote><p style=";text-align:right;direction:rtl">  ูุฐุง ูุนูู ุฃูู ุจุนุฏ ุงุณุชุฏุนุงุก <code>setState()</code> ุฃุณููุจ ุฃุณููุจ <code>build(BuildContext context)</code> ูุชู ุงุณุชุฏุนุงุคู ุจูุงุณุทุฉ ุงูุฅุทุงุฑ ูุฑุฉ ุฃุฎุฑู <strong>ููุชู ุฅุนุงุฏุฉ ุฅูุดุงุก ุดุฌุฑุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุงููุงูู</strong> .  ูุธุฑูุง <code>_isLoading</code> ุชู ุงูุขู ุชุนููู <code>_buildLoading()</code> ุงูุทุฑููุฉ <code>true</code> ูุชู ุงุณุชุฏุนุงุก <code>_buildBody()</code> ุจุฏูุงู ูู <code>_buildBody()</code> ููุชู ุนุฑุถ ูุคุดุฑ ุงูุชุญููู ุนูู ุงูุดุงุดุฉ.  ุจุงูุถุจุท ููุณ ุงูุดูุก ูุญุฏุซ ุนูุฏูุง ูุชุนุงูู ูุน ุฑุฏ ุงูุงุชุตุงู ูู <code>getUser()</code> ููุฏุนู <code>setState()</code> ูุฅุนุงุฏุฉ ุชุนููู <code>_user</code> ูุญููู <code>_user</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">widget._repository.getUser().then((user) { setState(() { _user = user; _isLoading = false; }); });</code> </pre> <br><h3 id="pros" style=";text-align:right;direction:rtl">  ุงูุงูุฌุงุจูุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุณููุฉ ุงูุชุนูู ูุงูููู. </li><li style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ููุชุจุงุช ุฎุงุฑุฌูุฉ ูุทููุจุฉ. </li></ol><br><h3 id="cons" style=";text-align:right;direction:rtl">  ุณูุจูุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ุฅุนุงุฏุฉ ุจูุงุก ุดุฌุฑุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุงููุงูู ูู ูู ูุฑุฉ ุชุชุบูุฑ ูููุง ุญุงูุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู. </li><li style=";text-align:right;direction:rtl">  ุฅูู ูุฎุฑู ูุจุฏุฃ ุงููุณุคูููุฉ ุงููุฑุฏูุฉ.  ุงููุทุนุฉ ููุณุช ูุณุคููุฉ ููุท ุนู ุจูุงุก ูุงุฌูุฉ ุงููุณุชุฎุฏู ุ ุจู ูู ุฃูุถูุง ูุณุคููุฉ ุนู ุชุญููู ุงูุจูุงูุงุช ุ ูููุทู ุงูุฃุนูุงู ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ. </li><li style=";text-align:right;direction:rtl">  ูุชู ุงุชุฎุงุฐ ุงููุฑุงุฑุงุช ุงููุชุนููุฉ ุจููููุฉ ุชูุซูู ุงูุญุงูุฉ ุงูุญุงููุฉ ูู ุฑูุฒ ุฅุนูุงู ูุงุฌูุฉ ุงููุณุชุฎุฏู.  ุฅุฐุง ูุงู ูุฏููุง ููููุง ุฃูุซุฑ ุชุนููุฏุง ูุฑุงุกุฉ ุฑูุฒ ุงูุฏููุฉ ุณุชูุฎูุถ. </li></ol><br><h2 id="scoped-model" style=";text-align:right;direction:rtl">  ูููุฐุฌ ุงููุทุงู </h2><br><p style=";text-align:right;direction:rtl">  Scoped Model ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญุฒูุฉ ุฎุงุฑุฌูุฉ</a> ูุง ูุชู ุชุถููููุง ูู ุฅุทุงุฑ Flutter.  ููุฐุง ูุตูู ูุทูุฑู Scoped Model: </p><br><blockquote style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ูู ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ ุงูุชู ุชุณูุญ ูู ุจุชูุฑูุฑ ูููุฐุฌ ุจูุงูุงุช ุจุณูููุฉ ูู ุฃุฏุงุฉ ุงูุฃุตู ุฅูู ุงูุฃุณูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ุฃูุถูุง ุจุฅุนุงุฏุฉ ุฅูุดุงุก ูุงูุฉ ุงูุฃุทูุงู ุงูุฐูู ูุณุชุฎุฏููู ุงููููุฐุฌ ุนูุฏ ุชุญุฏูุซ ุงููููุฐุฌ.  ุชู ุงุณุชุฎุฑุงุฌ ูุฐู ุงูููุชุจุฉ ูู ุงูุฃุตู ูู ูุงุนุฏุฉ ุงูููุฏ ุงูููุดูุฉ. </blockquote><p style=";text-align:right;direction:rtl">  ุฏุนููุง ุจูุงุก ููุณ ุงูุดุงุดุฉ ุจุงุณุชุฎุฏุงู ูููุฐุฌ ุงููุทุงู.  ุฃููุงู ุ ูุญุชุงุฌ ุฅูู ุชุซุจูุช ุญุฒูุฉ <code>scoped_model</code> Model ุนู ุทุฑูู ุฅุถุงูุฉ ุชุจุนูุฉ <code>pubspec.yaml</code> ุฅูู <code>pubspec.yaml</code> ุถูู ูุณู <code>dependencies</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">scoped_model: ^1.0.1</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ุฃุฏุงุฉ <code>UserModelScreen</code> ูููุงุฑูุชูุง ุจุงููุซุงู ุงูุณุงุจู ุงูุฐู ุชู ุชุตูููู ุฏูู ุงุณุชุฎุฏุงู Scoped Model.  ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ุฃุฏุงุฉ UserModelScreen ูููุงุฑูุชูุง ุจุงููุซุงู ุงูุณุงุจู ุงูุฐู ุชู ุชุตูููู ุฏูู ุงุณุชุฎุฏุงู Scoped Model.  ุจูุง ุฃููุง ูุฑูุฏ ุฃู ูุฌุนู ูููุฐุฌูุง ูุชุงุญูุง ูุฌููุน ุฃุญูุงุฏ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุ ูุฌุจ ุฃู ูููู ุจู ScopedModel ุงูุนุงู ููููุฑ ุนูุตุฑ ูุงุฌูุฉ ูุณุชุฎุฏู ููููุฐุฌูุง. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class UserModelScreen extends StatefulWidget { UserModelScreen(this._repository); final Repository _repository; @override State&lt;StatefulWidget&gt; createState() =&gt; _UserModelScreenState(); } class _UserModelScreenState extends State&lt;UserModelScreen&gt; { UserModel _userModel; @override void initState() { _userModel = UserModel(widget._repository); super.initState(); } @override Widget build(BuildContext context) { return ScopedModel( model: _userModel, child: Scaffold( appBar: AppBar( title: const Text('Scoped model'), ), body: SafeArea( child: ScopedModelDescendant&lt;UserModel&gt;( builder: (context, child, model) { if (model.isLoading) { return _buildLoading(); } else { if (model.user != null) { return _buildContent(model); } else { return _buildInit(model); } } }, ), ), ), ); } Widget _buildInit(UserModel userModel) { return Center( child: RaisedButton( child: const Text('Load user data'), onPressed: () { userModel.loadUserData(); }, ), ); } Widget _buildContent(UserModel userModel) { return Center( child: Text('Hello ${userModel.user.name} ${userModel.user.surname}'), ); } Widget _buildLoading() { return const Center( child: CircularProgressIndicator(), ); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุงููุซุงู ุงูุณุงุจู ุ ุชู ุฅุนุงุฏุฉ ุจูุงุก ุดุฌุฑุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุงููุงูู ุนูุฏูุง ุชุบูุฑุช ุญุงูุฉ ุนูุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู.  ููู ูู ูุทูุจ ูุนูุงู ุฅุนุงุฏุฉ ุจูุงุก ุงูุดุงุดุฉ ุจุฃููููุงุ  ุนูู ุณุจูู ุงููุซุงู ุ ูุฌุจ ุฃูุง ูุชุบูุฑ ุชุทุจูู AppBar ุนูู ุงูุฅุทูุงู ุ ูุฐูู ูุง ูุงุฆุฏุฉ ูู ุฅุนุงุฏุฉ ุจูุงุฆู.  ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ูุฌุจ ุนูููุง ุฅุนุงุฏุฉ ุฅูุดุงุก ุนูุงุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุชู ุชู ุชุญุฏูุซูุง ููุท.  ูููู ุฃู ูุณุงุนุฏูุง Scoped Model ูู ุญู ุฐูู. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุงุณุชุฎุฏุงู ุนูุตุฑ ูุงุฌูุฉ <code>ScopedModelDescendant&lt;UserModel&gt;</code> ููุนุซูุฑ ุนูู <code>UserModel</code> ูู ุดุฌุฑุฉ Widget.  ุณูุชู ุฅุนุงุฏุฉ ุจูุงุฆู ุชููุงุฆููุง ูููุง <code>UserModel</code> ุฃู ุงูุชุบููุฑ ูุฏ ุญุฏุซ. </p><br><p style=";text-align:right;direction:rtl">  ุชุญุณูู ุขุฎุฑ ูู ุฃู <code>UserModelScreen</code> ูู ูุนุฏ ูุณุคููุงู ุนู ุฅุฏุงุฑุฉ ุงูุฏููุฉ ูููุทู ุงูุฃุนูุงู. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ููุฏ <code>UserModel</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class UserModel extends Model { UserModel(this._repository); final Repository _repository; bool _isLoading = false; User _user; User get user =&gt; _user; bool get isLoading =&gt; _isLoading; void loadUserData() { _isLoading = true; notifyListeners(); _repository.getUser().then((user) { _user = user; _isLoading = false; notifyListeners(); }); } static UserModel of(BuildContext context) =&gt; ScopedModel.of&lt;UserModel&gt;(context); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุขู <code>UserModel</code> ูุญูู ููุฏูุฑ ุงูุฏููุฉ.  ูุฅุฎุทุงุฑ ุงููุณุชูุนูู (ูุฅุนุงุฏุฉ ุจูุงุก ุงููุชุญุฏุฑูู) ุฃู ุงูุชุบููุฑ ูุฏ ุญุฏุซ ุ ูุฌุจ ุงุณุชุฏุนุงุก ุทุฑููุฉ <code>notifyListeners()</code> . </p><br><h3 id="pros-1" style=";text-align:right;direction:rtl">  ุงูุงูุฌุงุจูุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุทู ุงูุฃุนูุงู ุ ูุฅุฏุงุฑุฉ ุงูุฏููุฉ ููุตู ุฑูุฒ ูุงุฌูุฉ ุงููุณุชุฎุฏู. </li><li style=";text-align:right;direction:rtl">  ุณูู ุงูุชุนูู. <br><h3 id="cons" style=";text-align:right;direction:rtl">  ุณูุจูุงุช </h3></li><li style=";text-align:right;direction:rtl">  ูุชุทูุจ ููุชุจุฉ ุทุฑู ุซุงูุซ. </li><li style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุงููููุฐุฌ ูุฒุฏุงุฏ ุชุนููุฏูุง ุ ูู ุงูุตุนุจ ุชุชุจุนู ุนูุฏูุง ูุชุนูู ุนููู ุงูุงุชุตุงู ุจู <code>notifyListeners()</code> . </li></ol><br><h2 id="bloc" style=";text-align:right;direction:rtl">  BLOC </h2><br><p style=";text-align:right;direction:rtl">  BLoC ( <strong>B</strong> usiness Logic <strong>C</strong> omponents) ูู ููุท ููุตู ุจู ูู ูุจู ูุทูุฑู Google.  ูุนูู ุนูู ุชุนุฒูุฒ ูุธุงุฆู ุงูุชุฏููุงุช ูู ุฃุฌู ุฅุฏุงุฑุฉ ููุดุฑ ุชุบููุฑุงุช ุงูุญุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  <strong>ููุทูุฑู Android:</strong> ููููู ุงูุชูููุฑ ูู ูุงุฆู <code>Bloc</code> ูู <code>StreamController</code> ู <code>StreamController</code> ูู <code>LiveData</code> .  ุณูุคุฏู ูุฐุง ุฅูู ุฌุนู ุงูููุฏ ุงูุชุงูู ูุงุถุญูุง ุฌุฏูุง ูุฃูู ุนูู ุฏุฑุงูุฉ ุจุงูููุงููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class UserBloc { UserBloc(this._repository); final Repository _repository; final _userStreamController = StreamController&lt;UserState&gt;(); Stream&lt;UserState&gt; get user =&gt; _userStreamController.stream; void loadUserData() { _userStreamController.sink.add(UserState._userLoading()); _repository.getUser().then((user) { _userStreamController.sink.add(UserState._userData(user)); }); } void dispose() { _userStreamController.close(); } } class UserState { UserState(); factory UserState._userData(User user) = UserDataState; factory UserState._userLoading() = UserLoadingState; } class UserInitState extends UserState {} class UserLoadingState extends UserState {} class UserDataState extends UserState { UserDataState(this.user); final User user; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุง ููุฒู ุฅุฌุฑุงุก ููุงููุงุช ุทุฑููุฉ ุฅุถุงููุฉ ูุฅุฎุทุงุฑ ุงููุดุชุฑููู ุนูุฏูุง ุชุชุบูุฑ ุงูุญุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ููุช ุจุฅูุดุงุก 3 ูุตูู ูุชูุซูู ุงูุญุงูุงุช ุงููุญุชููุฉ ููุดุงุดุฉ: </p><br><p style=";text-align:right;direction:rtl">  <code>UserInitState</code> ููุญุงูุฉ ุ ุนูุฏูุง ููุชุญ ุงููุณุชุฎุฏู ุดุงุดุฉ ูุน ุฒุฑ ูู ุงููุณุท. </p><br><p style=";text-align:right;direction:rtl">  <code>UserLoadingState</code> ููุญุงูุฉ ุ ุนูุฏ ุนุฑุถ ูุคุดุฑ ุงูุชุญููู ุฃุซูุงุก ุชุญููู ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  <code>UserDataState</code> ููุญุงูุฉ ุ ุนูุฏูุง ูุชู ุชุญููู ุงูุจูุงูุงุช ูุนุฑุถูุง ุนูู ุงูุดุงุดุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุชูุญ ููุง ุชุบููุฑุงุช ุญุงูุฉ ุงูุงูุชุดุงุฑ ุจูุฐู ุงูุทุฑููุฉ ุงูุชุฎูุต ูู ูู ุงูููุทู ูู ุฑูุฒ ุฅุนูุงู ูุงุฌูุฉ ุงููุณุชุฎุฏู.  ูู Scoped Model ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุง ุฒููุง <code>_isLoading</code> ุฅุฐุง ูุงู <code>_isLoading</code> <code>true</code> ูู ุฑูุฒ ุฅุนูุงู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุชุญุฏูุฏ ุงูุฃุฏุงุฉ ุงูุชู ูุฌุจ ุชูุฏูููุง.  ูู ุญุงูุฉ ุงุณุชุฎุฏุงู BLoC ููุดุฑ ุญุงูุฉ ุงูุดุงุดุฉ ูุงููุณุคูููุฉ ุงููุญูุฏุฉ <code>UserBlocScreen</code> ูุงุฌูุฉ ูุณุชุฎุฏู <code>UserBlocScreen</code> ูู ุชูุฏูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ููุฐู ุงูุญุงูุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">class UserBlocScreen extends StatefulWidget { UserBlocScreen(this._repository); final Repository _repository; @override State&lt;StatefulWidget&gt; createState() =&gt; _UserBlocScreenState(); } class _UserBlocScreenState extends State&lt;UserBlocScreen&gt; { UserBloc _userBloc; @override void initState() { _userBloc = UserBloc(widget._repository); super.initState(); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: const Text('Bloc'), ), body: SafeArea( child: StreamBuilder&lt;UserState&gt;( stream: _userBloc.user, initialData: UserInitState(), builder: (context, snapshot) { if (snapshot.data is UserInitState) { return _buildInit(); } if (snapshot.data is UserDataState) { UserDataState state = snapshot.data; return _buildContent(state.user); } if (snapshot.data is UserLoadingState) { return _buildLoading(); } }, ), ), ); } Widget _buildInit() { return Center( child: RaisedButton( child: const Text('Load user data'), onPressed: () { _userBloc.loadUserData(); }, ), ); } Widget _buildContent(User user) { return Center( child: Text('Hello ${user.name} ${user.surname}'), ); } Widget _buildLoading() { return const Center( child: CircularProgressIndicator(), ); } @override void dispose() { _userBloc.dispose(); super.dispose(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>UserBlocScreen</code> ุฑูุฒ <code>UserBlocScreen</code> ุฃูุซุฑ ุจุณุงุทุฉ ููุงุฑูุฉ ุจุงูุฃูุซูุฉ ุงูุณุงุจูุฉ.  ููุงุณุชูุงุน ุฅูู ุชุบููุฑุงุช ุงูุญุงูุฉ ุ ูุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">StreamBuilder</a> .  <code>StreamBuilder</code> ูู <code>StatefulWidget</code> ุงูุฐู ูุจูู ููุณู ุนูู ุฃุณุงุณ ุฃุญุฏุซ ููุทุฉ ูู ุงูุชูุงุนู ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Stream</a> . </p><br><h3 id="pros-2" style=";text-align:right;direction:rtl">  ุงูุงูุฌุงุจูุงุช </h3><br><p style=";text-align:right;direction:rtl">  ูุง ุญุงุฌุฉ ุฅูู ููุชุจุงุช ุทุฑู ุซุงูุซ. <br>  ููุทู ุงูุฃุนูุงู ุ ูุฅุฏุงุฑุฉ ุงูุฏููุฉ ููุตู ููุทู ูุงุฌูุฉ ุงููุณุชุฎุฏู. <br>  ุงููุง ุฑุฏ ุงููุนู.  ููุณุช ููุงู ุญุงุฌุฉ ุฅูู ููุงููุงุช ุฅุถุงููุฉ ููุง ูู ุงูุญุงู ูู ุญุงูุฉ <code>notifyListeners()</code> Model's <code>notifyListeners()</code> . </p><br><h3 id="cons-1" style=";text-align:right;direction:rtl">  ุณูุจูุงุช </h3><br><p style=";text-align:right;direction:rtl">  ุชุฌุฑุจุฉ ุงูุนูู ูุน ุงูุชุฏููุงุช ุฃู rxdart ูุทููุจ. </p><br><h2 id="links" style=";text-align:right;direction:rtl">  ุงูุฑูุงุจุท </h2><br><p style=";text-align:right;direction:rtl">  ููููู ุงูุชุญูู ูู ุงูููุฏ ุงููุตุฏุฑู ููุฃูุซูุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ูู ูููุฐุฌ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูุซุจ ุงูุฑูุจู ูุฐุง.</a> </p><br><p style=";text-align:right;direction:rtl">  ุชู ูุดุฑ ุงูููุงูุฉ ูู ุงูุฃุตู ุนูู " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุชูุณุทุฉ"</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar438524/">https://habr.com/ru/post/ar438524/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar438512/index.html">ููููุงู ุถุบุท ุงูุจูุงูุงุช</a></li>
<li><a href="../ar438514/index.html">ููู ูู ุฃุนูู ููุฏุฉ ุนุงู ูู ุณุจูุฑุจูู</a></li>
<li><a href="../ar438516/index.html">ูุชู ููููู ุญูุธ ุทูู ุตููู ุฅูู ูุชุบูุฑ ูุญูู ูู C #</a></li>
<li><a href="../ar438518/index.html">ุฅูุดุงุก jsfiddle ุงูุฎุงุต ุจู ุ ุงูุฌุฒุก 2</a></li>
<li><a href="../ar438522/index.html">ุงูุชุนุงุฏู ุงูุงุณุชุฑุงุชูุฌู</a></li>
<li><a href="../ar438526/index.html">ุงูุดุจูุงุช ุงูุนุตุจูุฉ ุงูุงุตุทูุงุนูุฉ ุชููู ุฎูุงูุง ุงูููุงุญุฉ ููุง ูู ุงูุญุงู ูู ุงูุฏูุงุบ</a></li>
<li><a href="../ar438530/index.html">ูุญุจ ุจูุฏูุงุณุชุณ # 1</a></li>
<li><a href="../ar438534/index.html">ููุฏุจูุณ ุนูู ูุชุญูู ุงูุฑูุณู K1986BE92QI</a></li>
<li><a href="../ar438536/index.html">ุชุญุช ุบุทุงุก ูุญุฑู ุงูุณูุงุฑุฉ chatbot: ูุง ูููู RocketBot ูููู ูุนูู</a></li>
<li><a href="../ar438538/index.html">Teamlead Conf 2019 Msk: ุญูู ุชูุณูู ุงุชุตุงู ุขุฎุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>