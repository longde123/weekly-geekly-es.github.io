<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕹️ 🌂 👨🏻‍🔬 Buat Ethereum Geth Private Network di Docker Containers 🔹 🗳️ 👨🏽‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jika Anda perlu menggunakan jaringan Ethereum pribadi berdasarkan Geth, maka ini dapat dilakukan, misalnya, dengan membuat node jaringan pada server f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Buat Ethereum Geth Private Network di Docker Containers</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481052/"><img src="https://habrastorage.org/webt/bg/f3/as/bgf3asaindlkt8bxyfvzbrkwjl4.jpeg"><br><br>  Jika Anda perlu menggunakan jaringan Ethereum pribadi berdasarkan Geth, maka ini dapat dilakukan, misalnya, dengan membuat node jaringan pada server fisik atau mesin virtual.  Namun, jauh lebih mudah untuk menggunakan wadah Geth dari repositori hub Docker.  Dalam hal ini, Anda dapat menginstal seluruh jaringan node bahkan pada satu mesin virtual atau pada satu server fisik. <br><br>  Pada artikel ini kami akan memberi tahu Anda cara memasang Docker pada server yang menjalankan Debian 9 (virtual atau fisik), cara membuat beberapa kontainer dengan menjalankan Geth dan menggabungkannya ke dalam jaringan pribadi.  Kami akan memberikan contoh skrip untuk Node.js yang mengakses node Geth yang berfungsi dalam wadah. <br><a name="habracut"></a><br><h2>  Instal Docker </h2><br>  Instalasi Docker dijelaskan di situs web resmi.  Untuk Debian 9 dan 10, Anda akan menemukan petunjuk terperinci di <a href="https://docs.docker.com/install/linux/docker-ce/debian/" rel="nofollow">https://docs.docker.com/install/linux/docker-ce/debian/</a> . <br><br><div class="spoiler">  <b class="spoiler_title">Instal Docker</b> <div class="spoiler_text"> Pertama-tama, perbarui paket: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt-get update</span></span></code> </pre> <br>  Selanjutnya, instal paket yang diperlukan dengan perintah berikut: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt-get install apt-transport-https ca-certificates curl gnupg2 software-properties-common</span></span></code> </pre> <br>  Tambahkan kunci GPG resmi: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -</span></span></code> </pre> <br>  Pastikan Anda mendapatkan kunci dengan sidik jari 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt-key fingerprint 0EBFCD88 pub 4096R/0EBFCD88 2017-02-22 Key fingerprint = 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88 uid Docker Release (CE deb) docker@docker.com sub 4096R/F273FCD8 2017-02-22</span></span></code> </pre><br>  Tambahkan repositori Docker yang stabil: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/debian $(lsb_release -cs) stable"</span></span></code> </pre><br>  Perbarui paket dan instal Docker: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt-get update # apt-get install docker-ce docker-ce-cli containerd.io</span></span></code> </pre> <br>  Sekarang tinggal memverifikasi bahwa semuanya dilakukan dengan benar.  Untuk melakukan ini, jalankan gambar (dunia) hello-world: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># docker run hello-world</span></span></code> </pre> <br>  Perintah ini akan mengunduh gambar yang diinginkan, dan menjalankannya untuk dieksekusi.  Seperti yang Anda harapkan, Anda akan melihat pesan "Hello from Docker!" Di konsol. <br><br>  Seperti yang Anda lihat, tidak ada yang rumit!  Sekarang Anda dapat mulai membuat jaringan Geth pribadi dengan node berjalan dalam wadah. <br></div></div><br><h2>  Buat pengguna, direktori, dan file </h2><br>  Buat buku di server pengguna, dan subdirektori berikut di direktori rumahnya: <br><br><pre> <code class="plaintext hljs">/home/book/dock-test /home/book/dock-test/distr</code> </pre><br>  Selanjutnya, di direktori / home / book / dock-test, buat Dockerfile: <br><br><div class="spoiler">  <b class="spoiler_title">Daftar 1. File / home / book / dock-test / Dockerfile</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">FROM ubuntu:16.04 LABEL version="1.0" LABEL maintainer="alexandre@frolov.pp.ru" ENV DEBIAN_FRONTEND=noninteractive RUN apt-get update &amp;&amp; apt-get install --yes software-properties-common RUN add-apt-repository ppa:ethereum/ethereum RUN apt-get update &amp;&amp; apt-get install --yes geth RUN adduser --disabled-login --gecos "" eth_book COPY distr /home/eth_book/distr RUN chown -R eth_book:eth_book /home/eth_book/distr USER eth_book WORKDIR /home/eth_book RUN geth --nousb init distr/genesis.json ENTRYPOINT bash</code> </pre><br></div></div><br>  File ini akan digunakan saat membuat wadah Docker. <br><br>  Anda juga perlu membuat file /home/book/dock-test/distr/genesis.json, yang diperlukan untuk menginisialisasi node jaringan Ethereum: <br><br><div class="spoiler">  <b class="spoiler_title">Daftar 2. File /home/book/dock-test/distr/genesis.json</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">{ "config": { "chainId": 98760, "homesteadBlock": 0, "eip150Block": 0, "eip155Block": 0, "eip158Block": 0 }, "difficulty": "10", "gasLimit": "5100000", "alloc": {} }</code> </pre> <br></div></div><br>  Di sini kami menetapkan pengidentifikasi jaringan pribadi kami ke 98760. Untuk kemudahan penambangan, kami tentukan 10 pada parameter kesulitan. Ini akan memungkinkan kami untuk bekerja pada mesin virtual dengan jumlah memori yang relatif kecil (misalnya, 4 GB). <br><br><h2>  Buat jaringan dan wadah </h2><br>  Agar node kami dapat saling bertukar data, kami akan membuat jaringan antar wadah: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># docker network create PRIVATENET</span></span></code> </pre> <br>  Selanjutnya, Anda perlu membuat direktori / home / book / dock-test saat ini, di mana Dockerfile berada.  Kemudian buat jumlah kontainer yang diperlukan, misalnya, tiga: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># docker build -t node01 . # docker build -t node02 . # docker build -t node03 .</span></span></code> </pre> <br>  Membuat wadah pertama membutuhkan waktu yang relatif lama, karena  Anda perlu mengunduh gambar yang diperlukan.  Namun wadah berikut ini dibuat hampir secara instan - bandingkan dengan kecepatan pembuatan mesin virtual, bahkan melalui kloning. <br><br>  Sekarang buka empat jendela konsol.  Tiga diantaranya, kami akan bekerja dengan kontainer, dan yang keempat, kami akan menerima data yang kami butuhkan tentang kontainer dan jaringan. <br><br>  Di jendela konsol pertama, keluarkan perintah berikut: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># docker run --rm -it -p 8545:8545 --net=PRIVATENET node01</span></span></code> </pre> <br>  Anda akan melihat prompt seperti: <br><br><pre> <code class="bash hljs">eth_book@304bf4f09063:~$</code> </pre> <br>  Di jendela konsol kedua dan ketiga, masukkan perintah berikut, masing-masing: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># docker run --rm -it -p 8546:8546 --net=PRIVATENET node02 # docker run --rm -it -p 8547:8547 --net=PRIVATENET node03</span></span></code> </pre><br><h2>  Membuat Node dan Akun Jaringan Pribadi Ethereum </h2><br>  Saat ini, kami memiliki tiga kontainer dengan Geth.  Mari kita buat di masing-masing simpul jaringan dan akun Ethereum pribadi kita. <br><br>  Masukkan perintah di tiga jendela konsol pertama: <br><br><pre> <code class="bash hljs">$ geth account new</code> </pre> <br>  Anda harus memasukkan kata sandi.  Untuk kesederhanaan, gunakan kata sandi yang sama pada setiap node untuk pengujian, tetapi tulis di suatu tempat.  Jika Anda lupa kata sandi, maka kata sandi tidak akan berfungsi untuk memulihkan. <br><br>  Setelah membuat akun di konsol, alamat kunci publik yang serupa dengan ini akan muncul: <br><br><pre> <code class="plaintext hljs">Public address of the key: 0xc5Df10a76Bb559332c385F8cA789C0F37dD77A54 Public address of the key: 0x0C976006a5762779bA36AC590D1D8Ebac1Ca2981 Public address of the key: 0xaB627feab4e962222a3333F3b09182dF68bB9422</code> </pre><br>  Simpan alamat (Anda akan memiliki orang lain), sebagai  kita membutuhkan mereka untuk menjalankan node. <br><br>  Sekarang Anda perlu memulai inisialisasi node.  Ini dilakukan dengan menggunakan perintah: <br><br><pre> <code class="bash hljs">$ geth --nousb init distr/genesis.json</code> </pre> <br>  Masukkan perintah ini di semua jendela konsol wadah kami.  Opsi --nousb menonaktifkan semua komunikasi dengan perangkat USB. <br><br><h2>  Menjalankan Geth Nodes </h2><br>  Sekarang buka masing-masing jendela konsol secara bergantian dan jalankan Geth di sana menggunakan perintah di bawah ini. <br><br>  Jendela pertama: <br><br><pre> <code class="bash hljs">$ geth --identity=<span class="hljs-string"><span class="hljs-string">"Node01"</span></span> --etherbase <span class="hljs-string"><span class="hljs-string">"0xc5Df10a76Bb559332c385F8cA789C0F37dD77A54"</span></span> --mine --minerthreads 1 --verbosity 3 --networkid 98760 --rpc --rpcaddr 127.0.0.1 --nousb --rpcapi=<span class="hljs-string"><span class="hljs-string">"db,eth,net,web3,personal,web3"</span></span> console</code> </pre><br>  Jendela kedua: <br><br><pre> <code class="bash hljs">$ geth --identity=<span class="hljs-string"><span class="hljs-string">"Node02"</span></span> --etherbase <span class="hljs-string"><span class="hljs-string">"0x0C976006a5762779bA36AC590D1D8Ebac1Ca2981"</span></span> --mine --minerthreads 1 --verbosity 3 --networkid 98760 --rpc --rpcaddr 127.0.0.1 --rpcport=8546 --nousb --rpcapi=<span class="hljs-string"><span class="hljs-string">"db,eth,net,web3,personal,web3"</span></span> console</code> </pre><br>  Jendela ketiga: <br><br><pre> <code class="bash hljs">$ geth --identity=<span class="hljs-string"><span class="hljs-string">"Node03"</span></span> --etherbase <span class="hljs-string"><span class="hljs-string">"0xaB627feab4e962222a3333F3b09182dF68bB9422"</span></span> --mine --minerthreads 1 --verbosity 3 --networkid 98760 --rpc --rpcaddr 127.0.0.1 --rpcport=8547 --nousb --rpcapi=<span class="hljs-string"><span class="hljs-string">"db,eth,net,web3,personal,web3"</span></span> console</code> </pre> <br>  Di setiap jendela yang terbuka, pesan tentang pembuatan DAG akan muncul: <br><br><pre> <code class="plaintext hljs">… INFO [12-19|17:57:44.072] Generating DAG in progress epoch=0 percentage=34 elapsed=29.740s INFO [12-19|17:57:44.898] Generating DAG in progress epoch=0 percentage=35 elapsed=30.566s INFO [12-19|17:57:45.671] Generating DAG in progress epoch=0 percentage=36 elapsed=31.339s …</code> </pre><br>  Tunggu sampai generasi selesai.  Setelah itu, eth.hashrate dan eth.blockNumber akan berbeda dari 0: <br><br><pre> <code class="plaintext hljs">&gt; eth.hashrate 4 &gt; eth.blockNumber 2</code> </pre><br>  Anda dapat memeriksa saldo akun saat ini sebagai berikut: <br><br><pre> <code class="plaintext hljs">&gt; web3.fromWei( eth.getBalance(eth.coinbase) )</code> </pre> <br>  Agar Anda tidak terganggu oleh pesan tentang membuat blok baru dan pesan lain di jendela konsol, keluar dari Geth dengan perintah keluar dan mulai lagi dengan parameter verbosity diatur ke 1. <br><br><h2>  Node Jaringan </h2><br>  Untuk memulai, kita akan melihat daftar kontainer yang sedang berjalan.  Keluarkan perintah berikut dari jendela konsol keempat: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES fa70a5418618 node03 "/bin/sh -c bash" 2 hours ago Up 2 hours 0.0.0.0:8547-&gt;8547/tcp gifted_curran 49a028744b4b node02 "/bin/sh -c bash" 2 hours ago Up 2 hours 0.0.0.0:8546-&gt;8546/tcp reverent_wescoff 5a9ade2947eb node01 "/bin/sh -c bash" 2 hours ago Up 2 hours 0.0.0.0:8545-&gt;8545/tcp clever_ellis</span></span></code> </pre><br>  Di sini, untuk setiap wadah, pengidentifikasi, nama gambar, nama wadah, dan informasi lainnya ditampilkan. <br><br>  Untuk bergabung dengan wadah ke dalam jaringan, Anda akan memerlukan alamat IP wadah di jaringan PRIVATENET pribadi kami.  Anda bisa mendapatkan alamat ini dengan ID kontainer, misalnya, sebagai berikut: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># docker inspect 5a9ade2947eb | grep IPAddress "SecondaryIPAddresses": null, "IPAddress": "", "IPAddress": "172.21.0.2",</span></span></code> </pre> <br>  Anda juga dapat menggunakan jaringan buruh pelabuhan untuk memeriksa perintah PRIVATENET: <br><br><div class="spoiler">  <b class="spoiler_title">jaringan buruh pelabuhan memeriksa PRIVATENET</b> <div class="spoiler_text"><pre> <code class="xml hljs">[ { "Name": "PRIVATENET", "Id": "576ec7edba5b4c228740deaf7fabb5e2ba003d310086153dd7f15e2c7de0c1b2", "Created": "2019-12-20T11:52:07.90695857+03:00", "Scope": "local", "Driver": "bridge", "EnableIPv6": false, "IPAM": { "Driver": "default", "Options": {}, "Config": [ { "Subnet": "172.21.0.0/16", "Gateway": "172.21.0.1" } ] }, "Internal": false, "Attachable": false, "Ingress": false, "ConfigFrom": { "Network": "" }, "ConfigOnly": false, "Containers": { "49a028744b4b6073f6dbca23e78625bc58fc0cdacadec7cded4bb0e888c7e37b": { "Name": "reverent_wescoff", "EndpointID": "11006b596b5a46df9bf9f95a9456784795d333a3e6901b15bd2db746fd4b5513", "MacAddress": "02:42:ac:15:00:03", "IPv4Address": "172.21.0.3/16", "IPv6Address": "" }, "5a9ade2947ebd8e55594ede9763aac71f5e6529c03e762ef723adb2c592c5ccd": { "Name": "clever_ellis", "EndpointID": "41ef69a0a93b5b1de495836028bac1742c303de92ffe42a0855ed32c93c28953", "MacAddress": "02:42:ac:15:00:02", "IPv4Address": "172.21.0.2/16", "IPv6Address": "" }, "fa70a54186185de01db3647e7333bf6c71250162fafefb78dbe9998e5ac93f34": { "Name": "gifted_curran", "EndpointID": "d368c032bc0886c27ad4895d1856e4f00cf1b25ce040f3b42393dbff778c18e5", "MacAddress": "02:42:ac:15:00:04", "IPv4Address": "172.21.0.4/16", "IPv6Address": "" } }, "Options": {}, "Labels": {} } ]</code> </pre></div></div><br>  Membandingkan data yang diterima oleh perintah ini, kami akan membuat daftar alamat IP untuk wadah kami: <br><br><pre> <code class="plaintext hljs">node01 - 172.21.0.2 node02 - 172.21.0.3 node03 - 172.21.0.4</code> </pre><br>  Tentu saja, Anda akan memiliki daftar yang berbeda, dan ketika Anda me-restart wadah, alamat ini dapat berubah. <br><br>  Setelah menerima daftar alamat, mulai ulang geth di semua wadah, tentukan alamat wadah Anda di parameter --rpcaddr.  Anda bisa, tentu saja, mengatur alamat 0.0.0.0, tetapi ini buruk dari sudut pandang keamanan - siapa pun atau apa pun dapat terhubung ke node.  Sebagai contoh, bisa jadi bot yang mencoba "menarik" semua dana dari node ini, menunggu simpul dibuka. <br><br>  Untuk menggabungkan node, Anda harus menggunakan perintah admin.addPeer.  Sebagai parameter untuk perintah ini, Anda harus meneruskan URL dalam format enode.  Dapatkan URL ini untuk setiap wadah menggunakan perintah admin.nodeInfo.enode: <br><br><pre> <code class="plaintext hljs">&gt; admin.nodeInfo.enode "enode://0a84e562c9b22e43269b7dca215cf2ed8c20bbf35da67bae8d5ee81b36d8bbb69e3ec704b9b6f7501059fe861843a836b2fbab641f36616cdd77365b1a522d5b@62.152.63.28:30303?discport=1350" "enode://ee49f69e25c068e006fec4a8d74370370b1d2be9715b86eddd99f97a3a5a9c692a265ab7d01fb36410d59c3f6e2b253a22f652ecbf1941eef0b3f1d30b19a535@62.152.63.28:30303?discport=1345" "enode://156d43648b47078439c7481e54f697bbf1c6b6e762029ba2969f1556ceb94e51ad03f8bd2bed35f466073165810600f52925d155f0fceef832ae86fc39a8c135@62.152.63.28:30303?discport=1348"</code> </pre><br>  Alamat yang diterima disimpan. <br><br>  Untuk menghubungkan satu simpul ke simpul lainnya, buka jendela konsol simpul pertama dan masukkan perintah berikut di sana: <br><br><pre> <code class="plaintext hljs">&gt; admin.addPeer( "enode://0a84e562c9b22e43269b7dca215cf2ed8c20bbf35da67bae8d5ee81b36d8bbb69e3ec704b9b6f7501059fe861843a836b2fbab641f36616cdd77365b1a522d5b@172.21.0.3:30303")</code> </pre><br>  Di sini kami melewati alamat URL, yang menunjukkan di dalamnya alamat IP dari host yang terhubung.  Ikuti prosedur yang sama pada node jaringan lain. <br><br>  Untuk memverifikasi bahwa koneksi dibuat, gunakan perintah admin.peers.  Jika tidak ada koneksi, perintah akan mengembalikan hasil kosong: <br><br><pre> <code class="xml hljs">&gt; admin.peers []</code> </pre><br>  Dalam kasus kami, perintah menunjukkan bahwa node pertama dengan alamat 172.21.0.2 terhubung ke node dengan alamat 172.21.0.3 dan 172.21.0.4: <br><br><div class="spoiler">  <b class="spoiler_title">Lihat hasilnya ketika ada koneksi</b> <div class="spoiler_text"><pre> <code class="xml hljs">&gt; admin.peers [{ caps: ["eth/63", "eth/64"], enode: "enode://156d43648b47078439c7481e54f697bbf1c6b6e762029ba2969f1556ceb94e51ad03f8bd2bed35f466073165810600f52925d155f0fceef832ae86fc39a8c135@172.21.0.4:30303", id: "4dac1d10cb6ae8bfc1fdebd3f5334b24ee62ec38a50bc92c89104cfc3251b5fc", name: "Geth/Node03/v1.9.9-stable-01744997/linux-amd64/go1.13.4", network: { inbound: false, localAddress: "172.21.0.2:40652", remoteAddress: "172.21.0.4:30303", static: true, trusted: false }, protocols: { eth: { difficulty: 98414119, head: "0x6b31a5bb9cde06fab5a8cc1ae9b18bada30de0d1b76cb3286c1081e76dbf5b83", version: 64 } } }, { caps: ["eth/63", "eth/64"], enode: "enode://ee49f69e25c068e006fec4a8d74370370b1d2be9715b86eddd99f97a3a5a9c692a265ab7d01fb36410d59c3f6e2b253a22f652ecbf1941eef0b3f1d30b19a535@172.21.0.3:30303", id: "b74277d278c15317fa7f7fa492daca60492ea22053bfc53281dd0071eba1c16b", name: "Geth/Node02/v1.9.9-stable-01744997/linux-amd64/go1.13.4", network: { inbound: false, localAddress: "172.21.0.2:42576", remoteAddress: "172.21.0.3:30303", static: true, trusted: false }, protocols: { eth: { difficulty: 99041423, head: "0x0ec44735bbb425cb8db96103f52300dfaae1147ba0e03aa4892d041250ce4408", version: 64 } } }]</code> </pre></div></div><br>  Harap dicatat bahwa setelah node berhasil digabungkan dan disinkronkan, perintah eth.blockNumber akan mengembalikan nilai yang sama ketika diluncurkan di salah satu dari tiga kontainer kami. <br><br>  Perintah web3.fromWei (eth.getBalance (eth.coinbase)), sebaliknya, akan menunjukkan keseimbangan yang berbeda pada node yang berbeda, karena  setiap node memiliki akunnya sendiri. <br><br><h2>  Bekerja dengan host menggunakan Node.js </h2><br>  Dalam Listing 3, kami menyajikan skrip sederhana yang menjalankan Node.js yang menampilkan daftar akun untuk node yang ditentukan dan saldo dari masing-masing konsol: <br><br><div class="spoiler">  <b class="spoiler_title">Daftar 3. File / home / book / list_accounts.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Web3 = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'web3'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> web3 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Web3(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Web3.providers.HttpProvider(<span class="hljs-string"><span class="hljs-string">"http://172.21.0.2:8545"</span></span>)); web3.eth.getAccounts() .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">accList</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> accList; }) .then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">accounts</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> balancePromeses = []; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; accounts.length; i++) { balancePromeses[i] = web3.eth.getBalance(accounts[i]); } <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.all(balancePromeses).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">values</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; values.length; i++) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Account: '</span></span>, accounts[i], <span class="hljs-string"><span class="hljs-string">'balance: '</span></span>, values[i], <span class="hljs-string"><span class="hljs-string">'wei, '</span></span>, web3.utils.fromWei(values[i], <span class="hljs-string"><span class="hljs-string">'ether'</span></span>), <span class="hljs-string"><span class="hljs-string">'ether'</span></span>); } }); }) .catch(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); });</code> </pre> <br></div></div><br>  Anda dapat menjalankan skrip ini secara terpisah, misalnya, di jendela konsol keempat: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># node list_accounts.js Account: 0x0C976006a5762779bA36AC590D1D8Ebac1Ca2981 balance: 3350000000000000000000 wei, 3350 ether</span></span></code> </pre><br><h2>  Apa selanjutnya </h2><br>  Topik pengembangan perangkat lunak untuk cryptocurrency secara umum dan untuk Ethereum khususnya cukup menarik.  Jika setelah membaca artikel ini Anda memiliki pertanyaan dan ingin tahu lebih banyak, baca buku saya <a href="https://habr.com/ru/post/467347/">“Membuat kontrak pintar Solidity untuk blockchain Ethereum.</a>  <a href="https://habr.com/ru/post/467347/">Panduan Praktis ”</a> , yang diterbitkan oleh <a href="https://www.litres.ru/aleksandr-frolov-198/sozdanie-smart-kontraktov-solidity-dlya-blokcheyna-et/" rel="nofollow">Liters</a> Publishing House. <br><br>  Anda mungkin juga membutuhkan <a href="https://habr.com/ru/company/flant/blog/336654/">lembar cheat Docker yang</a> bagus. <br><br>  Saya akan berterima kasih atas komentar dan penambahan pada artikel dan buku! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id481052/">https://habr.com/ru/post/id481052/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id481036/index.html">30 Utilitas untuk Alat Pengembang Firefox</a></li>
<li><a href="../id481038/index.html">Pengakuan seorang pecandu desain. Bagaimana kami membuat game "IT Alchemy" dalam sebulan</a></li>
<li><a href="../id481042/index.html">Kami rasa Django menggairahkan dan menarik</a></li>
<li><a href="../id481044/index.html">Apa yang akan disajikan untuk tahun 2020: Panduan Tahun Baru Madrobots</a></li>
<li><a href="../id481048/index.html">Pengakuan sirkuit digital. Elemen-C yang digeneralisasi</a></li>
<li><a href="../id481054/index.html">YouTrack 2019.3: daftar tugas yang diperbarui dan banyak lagi</a></li>
<li><a href="../id481056/index.html">Teknologi utama dekade ini menurut Habr</a></li>
<li><a href="../id481058/index.html">Untuk pertanyaan yang aneh (lagi) dan pilihan transistor</a></li>
<li><a href="../id481066/index.html">Menggunakan mata Ikan pada Raspberry Pi 3: meluncurkan model DL yang sudah dilatih sebelumnya untuk visi komputer</a></li>
<li><a href="../id481070/index.html">Rilis Rust 1.40.0: # [non_exhaustive], perangkat tambahan makro, dan perangkat tambahan lainnya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>