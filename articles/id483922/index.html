<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ€ ğŸ”¸ âœï¸ Rumah pintar di atas roda ... Alice â™¦ï¸ ğŸ‘¶ğŸ½ ğŸ˜š</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hai Saat ini, saya dapat mewujudkan salah satu kemampuan rumah pintar, yaitu kontrol suara penuh cahaya melalui layanan Yandex Alice, khususnya melalu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rumah pintar di atas roda ... Alice</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483922/">  Hai  Saat ini, saya dapat mewujudkan salah satu kemampuan rumah pintar, yaitu kontrol suara penuh cahaya melalui layanan Yandex Alice, khususnya melalui kolom Smart Yandex station dan Alice di telepon.  Tetapi semuanya juga akan berfungsi pada perangkat apa pun yang diinstal.  Instalasi ringan didasarkan pada 4 pengontrol RGBWW MiLight FUT039 dan pengontrol WiFi MiLight ibox2 (yang menarik 4 zona kontrol), pengontrol MiLight (3 pcs) dikonfigurasikan secara paralel dan berfungsi sebagai kontrol cadangan jika tidak ada Internet, tetapi hampir tidak ada hubungannya dengan kontrol suara, oleh karena itu, kami tidak akan mempertimbangkannya. <br><br>  Apa perbedaan antara implementasi ini?  Sirkuit kontrol mudah diterapkan, tidak memerlukan keterampilan pemrograman dan biaya tentang biaya speaker cerdas dan komputer mikro Raspberry 3, perangkat lunak untuk komputer mikro benar-benar gratis.  Dan Anda tidak perlu menghubungkan perangkat yang Anda kontrol ke server pabrikan.  Internet diperlukan untuk layanan Alice dan Yandex, dan Anda harus memuntahkannya di port 443. <br><a name="habracut"></a><br>  Saya akan menjelaskan secara singkat bagaimana saya sampai pada hal ini.  Awalnya, lampu dikontrol oleh pengontrol MiLight FUT039 melalui remote yang tergantung di titik paling nyaman di apartemen, kemudian saya membeli pengontrol iBox2, setelah itu saya dapat mengontrol cahaya juga dari telepon.  Segera, atas saran seorang kolega, saya memperoleh stasiun mini Yandex-sangat cerdas, saya benar-benar menyukai kesempatan untuk mengatur alarm dengan suara, mengatur pengingat dan hal-hal sepele lainnya.  Setelah itu, ternyata kolom tersebut dapat mengelola perangkat pintar, bahkan melalui akun di situs web produsen. <br><br>  Setelah membaca informasi tentang cara kerja kontrol melalui kumpulan akun, muncul ide bahwa Anda entah bagaimana dapat secara langsung memberikan perintah kepada perangkat pintar melalui wifi, karena entah bagaimana ponsel dapat mengontrol cahaya melalui wifi.  Pada kenyataannya, semuanya ternyata sedikit berbeda, saya harus menyekop dan membuang banyak opsi yang gagal, seperti mentransfer output dari skrip pada python atau PCP melalui modul radio, tetapi sebagai hasilnya, semuanya ternyata. <br><br>  Saya akan segera memberikan artikel dengan tautan berdasarkan penerapannya dan saya akan menjelaskan sedikit apa yang saya ambil dari sana.  Yang paling menarik adalah bahwa setiap artikel memberikan arahan dalam manajemen perangkat, tetapi efeknya adalah menggabungkan fitur-fitur ini. <br><br>  Jadi <br><br><h4>  1. <a href="https://habr.com/ru/post/412261/">"Alice, nyalakan lampu"</a> </h4><br>  Artikel pertama, tapi bukan yang utama.  Hal utama yang saya ambil dari sini adalah informasi tentang keberadaan Openhab2, instalasi dan koneksi pengontrol iBox2 ke sana.  Setelah menginstal hub terbuka, saya dapat mengontrol cahaya juga dari komputer.  Yang paling mendasar adalah 3 bab pertama, lalu menurut saya omong kosong.  Saya minta maaf kepada penulis, tapi itu benar.  Untuk menghubungkan lebih banyak sumber daya eksternal eksternal (Internet) untuk mengatur komunikasi ditambah beberapa jenis "mantra sihir" adalah sebuah kegagalan. <br><br><h4>  2. <a href="https://habr.com/ru/post/465537/">"Yandex: rumah pintar dewasa"</a> </h4><br>  Artikel ini mendasar dan mengikat.  Di sinilah saya menyadari ke mana harus pindah dan bagaimana menerapkan semuanya.  Penulis memberikan skema umum interaksi antara perangkat dan layanan, plus ia jelas membongkar sistem perintah dan perangkat di YandexUD.  Dan yang paling penting adalah plugin <a href="https://habr.com/ru/users/munrexio/" class="user_link">yandex2mqtt yang</a> ditulis oleh penulis <a href="https://habr.com/ru/users/munrexio/" class="user_link">Munrexio</a> ( <a href="https://sprut.ai/client/plugins/instruction/1821" rel="nofollow">https://sprut.ai/client/plugins/instruction/1821</a> ), tanpanya tanpanya tidak akan ada yang berhasil.  Secara singkat, apa yang saya dapatkan dari sini: plugin yandex2mqtt, gagasan menggunakan server MQTT untuk mentransfer status dan perintah, sistem bekerja dengan YandexUnnyDom dan Yandex.Dialogs dengan menggunakan sertifikat untuk otorisasi dan pendaftaran keterampilan.  Butuh segalanya sampai kepala Node-Red.  Selanjutnya, spesifik yang terkait dengan penggunaan pengontrol Dewan Wiren oleh penulis, yaitu  Baca terutama untuk pemahaman umum.  Dalam kasus saya, modul utama adalah OpenHub, yang mendukung manajemen perangkat, dan plugin yandex2mqtt dan server MQTT adalah elemen penghubung dengan layanan Yandex <br><br>  Informasi tambahan: <br><br><h4>  3. Raspberry Pi: Mengkonfigurasi / Menguji broker dan klien Mosquitto di Raspberry Pi </h4><br>  Apa itu MQTT dan mengapa itu diperlukan di IIoT?  Uraian Protokol MQTT <a href="http://wikihandbk.com/wiki/Raspberry_Pi:%25D0%259D%25D0%25B0%25D1%2581%25D1%2582%25D1%2580%25D0%25BE%25D0%25B9%25D0%25BA%25D0%25B0/%25D0%25A2%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%25B1%25D1%2580%25D0%25BE%25D0%25BA%25D0%25B5%25D1%2580%25D0%25B0_%25D0%25B8_%25D0%25BA%25D0%25BB%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B0_Mosquitto_%25D0%25BD%25D0%25B0_Raspberry_Pi" rel="nofollow">http://wikihandbk.com/wiki/Raspberry_Pi:%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%B%D0%B9%D0%BA%D0% B0 /% D0% A2% D0% B5% D1% 81% D1% 82% D0% B8% D1% 80% D0% BE% D0% B2% D0% B0% D0% BD% D0% B8% D0% B5_ % D0% B1% D1% 80% D0% BE% D0% BA% D0% B5% D1% 80% D0% B0_% D0% B8_% D0% BA% D0% BB% D0% B8% D0% B5% D0 % BD% D1% 82% D0% B0_Mosquitto_% D0% BD% D0% B0_Raspberry_Pi # .D0.A2.D0.B5.D1.81.D1.82.D0.B8.D1.80.D0.BE.D0. B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B1.D1.80.D0.BE.D0.BA.D0.B5.D1.80.D0.B0_.D0.B8_. D0.BA.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D0.B0_Mosquitto_.D0.BD.D0.B0_Raspberry_Pi.5B1.5D</a> - bagian aplikasi, instalasi dan bekerja pada baris perintah untuk pemeriksaan kesehatan <br>  <a href="https://ipc2u.ru/articles/prostye-resheniya/chto-takoe-mqtt/" rel="nofollow">https://ipc2u.ru/articles/prostye-resheniya/chto-takoe-mqtt/</a> - pemahaman umum tentang protokol <br><br><h4>  4. <a href="https://dialogs.yandex.ru/developer/" rel="nofollow">https://dialogs.yandex.ru/developer/</a> , <a href="https://dialogs.yandex.ru/developer/skills/" rel="nofollow">https://dialogs.yandex.ru/developer/skills/</a> platform dialog untuk membuat dan menguji keterampilan </h4><br>  Instalasi dan konfigurasi dijelaskan secara rinci dalam artikel asli, jadi saya hanya akan memberi Anda prosedurnya.  Dalam waktu dekat saya akan memposting gambar Raspbian dengan sistem kerja, tentu saja saya akan mengubah kata sandi dan menghapus sertifikat kerja, instruksi untuk membuatnya ada di artikel, dan kemudian, seiring berjalannya waktu, saya akan menaikkan sistem lagi pada gambar baru dan menulis instruksi untuk item dengan perintah instalasi dan pengaturan.  Saya harus mengatakan segera bahwa ada banyak kelebihan pada gambar, saya mencoba mengendalikan Milight di atasnya melalui modul radio RF24 dan skrip python yang saya temukan di github.  Tetapi tidak ada satu metode pun yang berhasil, jadi saya memberi nilai pada mereka, tetapi tidak membersihkan sistem. <br><br>  Ayo pergi.  Kami mengatur lampu raspban, diperbarui secara alami, mengatur dan mengkonfigurasi nyamuk (artikel menjelaskan pengaturan dengan akses melalui login dan kata sandi), meneruskan port pada router, kemudian di bawah artikel "rumah pintar oleh orang dewasa" kami mendaftarkan domain untuk menerima sertifikat dan mendapatkan sertifikat.  Kami menginstal plugin yandex2mqtt, mengkonfigurasinya, menetapkan sertifikat, login dan kata sandi di dalamnya, mengedit perangkat dan topik mqtt.  Kami mendaftar di Yandex.oAuth, mendapatkan token untuk domain kami di sana, dan mendaftar di YandexUD, tempat kami meresepkan akses dan yang lainnya.  Setelah berhasil menyetujui rancangan oleh moderator, Anda dapat melihat perangkat dari plugin yandex2mqtt di ponsel dalam aplikasi Yandex atau di komputer pada layanan <a href="https://dialogs.yandex.ru/developer/skills/" rel="nofollow">https://dialogs.yandex.ru/developer/skills/</a> di draft di tab Pengujian. <br><br>  Sekarang kita mengatur dan mengkonfigurasi hub terbuka dari artikel "Alice, nyalakan lampu", Anda juga dapat menemukan artikel tentang pengaturan hub terbuka pada sumber daya lainnya.  Setelah menambahkan, mengkonfigurasi dan memverifikasi perangkat MiLIght, perangkat mqtt ( <a href="https://robot-on.ru/articles/prostaya-rabota-s-mqtt-v-openhab-2" rel="nofollow">https://robot-on.ru/articles/prostaya-rabota-s-mqtt-v-openhab-2</a> ), saluran dan alamat topik dikonfigurasikan di hub terbuka.  Seperti yang saya pahami, perangkat di plugin yandex2mqtt menerima perintah dari layanan Yandex dan mengubahnya menjadi benar / salah (masing-masing 0/1) atau tingkat saat ini dalam persen dengan langkah khusus.  Plugin mengirim data ini ke topik, yaitu penerbit, dan openhub, sebagai berlangganan topik, mengambil nilai dari topik yang sesuai dan mengirimkannya ke elemen-elemen pengalihan dalam perangkat yang terdaftar di dalamnya, sebagai akibat dari mana perangkat dikendalikan. <br><br>  Seperti halnya bisnis yang dilakukan untuk pertama kali, ada beberapa nuansa. <br><br><ol><li>  Saya dapat menginstal openhub pada komputer mikro saya, bahkan jika saya harus menendangnya.  Tapi dia tidak bisa menginstalnya kembali pada image bersih baru, dan solusi yang digulirkan terakhir kali tidak membantu.  Kesalahan (HTTP ERROR 404 Masalah mengakses / memulai / indeks. Alasan: Tidak Ditemukan).  Ingatlah itu.  Tetapi sebagai opsi, openhub juga dapat diinstal pada komputer untuk pengujian. </li><li>  Sertifikat domain untuk letsencrypt.org dikeluarkan selama tiga bulan.  Saya tidak repot-repot untuk mendapatkan sertifikat lagi </li><li>  Konsep keterampilan di <a href="https://dialogs.yandex.ru/developer/" rel="nofollow">https://dialogs.yandex.ru/developer/</a> berhasil lulus moderasi, tetapi belum dapat mempublikasikannya.  Kesalahan (Kesalahan validasi: - URL Endpoint: Kesalahan menerapkan protokol rumah pintar: user_unlink: Tidak Ditemukan).  Sampai saya menemukan apa masalahnya.  Ini tidak mencegah sistem untuk bekerja, tetapi saya tidak ingat apakah ada batasan durasi keterampilan yang tidak dipublikasikan. </li><li>  Ditemukan kesalahan: ternyata dalam sumber yandex2mqtt di file app.js di baris â€œapp.post ('/ provider // v1.0 / user / unlink', routes.user.unlink);â€ adalah tambahan yang miring.  Diperbaiki pada komputer mikro saya - publikasi berhasil. </li><li>  Saya juga memperbaiki bagian switching saluran untuk perangkat "TV" di config.js, yang asli tidak berfungsi </li></ol><br>  Dan akhirnya, prospek untuk hub terbuka ini, plug-in dan nyamuk.  OpenHub adalah inti dari sistem dan dapat mengendalikan banyak perangkat (dan ini bukan seratus keping besi), dan bukan hanya cahaya.  Sekarang saya sedang syuting Gnusmas TV untuk kontrol suara.  Karena manajemen seperti itu sudah berfungsi, Anda mungkin bisa menyalin semua yang ada di Alice yang sama, Anda bisa bayangkan sendiri.  Ngomong-ngomong, ada beberapa pengamatan hari ini.  Saya menemukan bahwa cahaya rumah dapat dikontrol dari tempat di mana ada internet untuk Alice, misalnya, dari telepon dari ujung kota dan bahkan diperiksa melalui kamera rumah.  Dan karena daftar perintah untuk mengendalikan perangkat sudah terdaftar dalam keterampilan, ditambah perintah suara dikenali dan diubah menjadi teks, Anda tidak dapat menggerutu ke telepon "Alice, matikan lampu di kamar tidur", tetapi cukup tulis "Matikan lampu di kamar tidur" dan itu akan bekerja <br><br>  Nah, videonya sendiri: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/76LgHWx07rs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id483922/">https://habr.com/ru/post/id483922/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id483912/index.html">Apa yang baru dari YouTrack di tahun 2020?</a></li>
<li><a href="../id483914/index.html">Kami mengundang Anda ke DINS JavaScript EVENING: kami berbicara tentang desain API dan menyelesaikan masalah menggunakan tipe data aljabar</a></li>
<li><a href="../id483916/index.html">DJI belum dapat menambal aplikasi DJI Fly untuk Android 10 selama sebulan sekarang</a></li>
<li><a href="../id483918/index.html">Pelatihan Perusahaan: Pemimpin Mengajar Pemimpin</a></li>
<li><a href="../id483920/index.html">Kekacauan ketergantungan python</a></li>
<li><a href="../id483926/index.html">Three.js dan geometri</a></li>
<li><a href="../id483930/index.html">6 proyek pengembangan web GitHub patut dilihat</a></li>
<li><a href="../id483934/index.html">Izin file Linux</a></li>
<li><a href="../id483936/index.html">Kuliah Pengembangan Game</a></li>
<li><a href="../id483938/index.html">Nakamichi: tentang dewa-dewa dari era kaset dan saat-saat ketika matahari terbit bersinar lebih terang</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>