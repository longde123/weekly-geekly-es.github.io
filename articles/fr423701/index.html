<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕐 👩🏻 🍿 Guide Node.js, Partie 3: Hébergement, REPL, Opérations de console, Modules 👨🏿‍⚕️ 🔺 📻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Voici la troisième partie de la traduction du manuel Node.js. Aujourd'hui, nous allons parler du choix d'un hébergement pour les projets Node.js, comm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Guide Node.js, Partie 3: Hébergement, REPL, Opérations de console, Modules</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423701/">  Voici la troisième partie de la traduction du manuel Node.js.  Aujourd'hui, nous allons parler du choix d'un hébergement pour les projets Node.js, comment travailler avec Node.js en mode REPL et comment exécuter des scripts avec des arguments, comment interagir avec la console et les modules. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br><div class="spoiler">  <b class="spoiler_title">[Nous vous conseillons de lire] Autres parties du cycle</b> <div class="spoiler_text">  Partie 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Informations générales et mise en route</a> <br>  Partie 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JavaScript, V8, quelques astuces de développement</a> <br>  Partie 3: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Hébergement, REPL, travailler avec la console, les modules</a> <br>  Partie 4: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fichiers npm, package.json et package-lock.json</a> <br>  Partie 5: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">npm et npx</a> <br>  Partie 6: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">boucle d'événements, pile d'appels, temporisateurs</a> <br>  Partie 7: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Programmation asynchrone</a> <br>  Partie 8: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide Node.js, Partie 8: Protocoles HTTP et WebSocket</a> <br>  Partie 9: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide Node.js, partie 9: utilisation du système de fichiers</a> <br>  Partie 10: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide Node.js, Partie 10: Modules standard, flux, bases de données, NODE_ENV</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PDF complet du guide Node.js</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Hébergement d'applications Node.js</font> </h2><br>  Le choix de l'hébergement pour les applications Node.js dépend de vos besoins.  Voici une courte liste d'options d'hébergement que vous pouvez explorer en décidant de déployer votre application et de la rendre publique.  Considérons d'abord des options simples, dont les capacités sont limitées, puis plus complexes, mais aussi avec des capacités plus sérieuses. <br><br><h3>  <font color="#3AC1EF">▍L'option d'hébergement la plus simple: tunnel local</font> </h3><br>  Même si une adresse IP dynamique est attribuée à votre ordinateur ou si vous êtes derrière NAT, vous pouvez y déployer votre application et lui servir les requêtes des utilisateurs à l'aide d'un tunnel local. <br><br>  Cette option est adaptée pour organiser rapidement des tests, afin d'organiser une démonstration de produit, ou pour donner accès à l'application à un très petit groupe de personnes. <br><br>  Il existe un très bon service d'organisation de tunnels locaux, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ngrok</a> , disponible pour de nombreuses plateformes. <br><br>  En utilisant ngrok, il suffit d'exécuter une commande de la forme <code>ngrok PORT</code> et le port que vous avez spécifié sera accessible depuis Internet.  Dans le même temps, si vous utilisez la version gratuite du service, vous aurez une adresse dans le domaine <code>ngrok.io</code> .  Si vous décidez d'obtenir un abonnement payant, vous pouvez utiliser vos propres noms de domaine, et en plus, vous pouvez augmenter la sécurité de la solution (en utilisant ngrok, vous ouvrez l'accès à votre ordinateur partout sur Internet). <br><br>  Un autre outil qui peut être utilisé pour organiser des tunnels locaux est appelé <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">localtunnel</a> . <br><br><h3>  <font color="#3AC1EF">▍Environnements de déploiement de projets Node.js qui ne nécessitent pas de configuration</font> </h3><br><h4>  Glitch </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Glitch</a> est un environnement interactif et une plate-forme pour le développement rapide d'applications qui vous permet de les déployer dans les sous-domaines glitch.com.  Cette plate-forme ne prend pas encore en charge ses propres domaines utilisateur, il existe certaines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">limitations</a> lors de son utilisation, mais elle est idéale pour travailler sur des prototypes d'application.  La conception de Glitch a l'air assez drôle (peut-être cela peut-il être écrit dans les avantages de cette plate-forme), mais ce n'est pas une sorte d'environnement "jouet" qui est très limité.  Ici, vous avez la possibilité de travailler avec Node.js, CDN, un référentiel sécurisé pour les informations confidentielles, la possibilité d'échanger des données avec GitHub et bien plus encore. <br><br>  Le projet Glitch est géré par la même société derrière FogBugz et Trello (l'un des créateurs de StackOverflow).  J'utilise souvent cette plateforme pour démontrer des applications. <br><br><h4>  Codepen </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Codepen</a> est une excellente plateforme autour de laquelle une communauté intéressante s'est formée.  Ici, vous pouvez créer des projets qui incluent de nombreux fichiers et les déployer à l'aide de votre propre domaine. <br><br><h3>  <font color="#3AC1EF">Environments Environnements sans serveur</font> </h3><br>  Les plates-formes sans serveur vous permettent de publier des applications sans penser complètement aux serveurs, à leur configuration ou à leur gestion.  Le paradigme de l'informatique sans serveur est que les applications publient en tant que fonctions qui répondent aux appels vers un point de terminaison réseau.  Une approche similaire du déploiement d'applications est également appelée FAAS (Functions As A Service, Function as a Service). <br><br>  Voici quelques solutions populaires dans ce domaine: <br><br><ul><li>  Framework <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sans serveur</a> . </li><li>  Bibliothèque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">standard</a> . </li></ul><br>  Ces deux projets fournissent au développeur un certain niveau d'abstraction, ce qui permet de publier des applications sur diverses plates-formes FAAS, par exemple, Amazon AWS Lambda, Microsoft Azure et Google Cloud. <br><br><h3>  <font color="#3AC1EF">Solutions ASPAAS</font> </h3><br>  PAAS (Platform As A Service, Platform as a Service) sont des plates-formes qui prennent en charge de nombreuses choses qui, dans des circonstances normales, devraient être prises en charge par le développeur qui déploie l'application. <br><br><h4>  Zeit Now </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Zeit</a> est une option intéressante pour déployer des applications.  Le déploiement, à l'aide de cette plate-forme, se résume à entrer la commande <code>now</code> dans le terminal.  Il existe une version gratuite de Zeit, il existe certaines restrictions lorsque vous travaillez avec.  Il existe également une version payante et plus puissante de cette plateforme.  En utilisant Zeit, vous ne pouvez tout simplement pas penser au fait que votre application a besoin d'un serveur.  Vous déployez simplement l'application et tout le reste est géré par cette plate-forme. <br><br><h4>  Nanobox </h4><br>  Les créateurs de la plateforme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nanobox</a> , qui comprend le déploiement d'applications Node.js, l'appellent PAAS V2. <br><br><h4>  Heroku </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Heroku</a> est une autre excellente plate-forme pour l'hébergement des applications Node.js.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici un</a> bon article sur la façon de travailler avec. <br><br><h4>  Microsoft azur </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Azure</a> est une plateforme cloud de Microsoft.  Sa documentation contient une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">section</a> sur les applications Node.js. <br><br><h4>  Google Cloud Platform </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Google Cloud</a> est un excellent environnement pour déployer des applications Node.js.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici la</a> section pertinente de sa documentation. <br><br><h3>  <font color="#3AC1EF">Hébergement PSVPS</font> </h3><br>  Il existe de nombreuses plateformes qui fournissent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des services d'hébergement VPS</a> .  Une caractéristique commune de ces plates-formes est le fait que le développeur dispose d'un serveur virtuel, installe indépendamment un système d'exploitation (Linux ou Windows) sur celui-ci et déploie indépendamment des applications. <br><br>  Parmi les plates-formes qui fournissent des services VPS, dont il existe un grand nombre, nous pouvons noter les suivantes, que j'ai utilisées et que je pourrais recommander à d'autres: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Océan numérique</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Linode</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amazon Web Services</a> (en particulier, je voudrais mentionner <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AWS Elastic Beanstalk</a> , qui facilite le déploiement d'applications et la gestion des ressources AWS). </li></ul><br>  <i>Nous ajoutons que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RUVDS</a> fournit également des services d'hébergement VPS.</i>  <i>Nous sommes agréés par FSTEC, nos clients sont assurés par AIG, nous avons quatre centres de données dans différents pays.</i>  <i>Il existe son propre centre de données <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RUCLOUD</a> niveau TIER 3 dans la ville de Korolev, région de Moscou, ainsi que des zones de pression dans les centres de données <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Deltalis (Suisse)</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Londres Equinix LD8 (Grande-Bretagne)</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MMTS-9</a> (Moscou, Russie).</i>  <i>Toutes les zones de confinement répondent à un niveau de fiabilité d'au moins TIER 3.</i> <i><br><br></i>  <i>Les partenaires de la société sont FINAM JSC, groupe financier BCS, National Settlement Depository (Moscow Exchange), VTsIOM JSC, société Gars-Telecom, opérateur de taxi Gett, opérateur de livraison Delivery Club et bien d'autres.</i> <i><br></i> <br><br><h3>  <font color="#3AC1EF">▍Serveur normal</font> </h3><br>  Une autre solution d'hébergement consiste à acheter (ou louer, par exemple, en utilisant le service <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vultr Bare Metal</a> ) un serveur ordinaire, à y installer Linux et d'autres logiciels, à le connecter à Internet et à y héberger des applications Node.js. <br><br>  L'hébergement est un sujet énorme, mais, espérons-le, le matériel de cette section vous permettra de choisir exactement ce dont vous avez besoin.  Passons maintenant à l'histoire de l'utilisation de Node.js en mode REPL. <br><br><h2>  <font color="#3AC1EF">Utilisation de Node.js en mode REPL</font> </h2><br>  L'abréviation REPL signifie Read-Evaluate-Print-Loop (cycle "lecture - calcul - sortie").  L'utilisation de REPL est un excellent moyen d'explorer rapidement les capacités de Node.js. <br><br>  Comme vous le savez déjà, la commande <code>node</code> est utilisée pour exécuter des scripts dans Node.js, elle ressemble à ceci: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">node</span></span> script.js</code> </pre> <br>  Si vous entrez la même commande, mais ne spécifiez pas de nom de fichier, Node.js sera lancé en mode REPL: <br><br><pre> <code class="hljs">node</code> </pre> <br>  Si vous essayez maintenant d'entrer une telle commande dans votre terminal, vous verrez alors quelque chose comme ceci: <br><br><pre> <code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; node &gt;</span></span></code> </pre> <br>  Node.js est maintenant en mode veille.  Le système attend de nous que nous entrions du code JavaScript sur la ligne de commande qu'il exécutera. <br><br>  Pour commencer, essayons quelque chose de très simple: <br><br><pre> <code class="hljs javascript">&gt; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'test'</span></span>) test <span class="hljs-literal"><span class="hljs-literal">undefined</span></span> &gt;</code> </pre> <br>  Ici, nous avons suggéré à Node.js d'exécuter la commande utilisée pour sortir les données vers la console.  La première valeur, <code>test</code> , est ce que <code>console.log('test')</code> .  La deuxième valeur, <code>undefined</code> , correspond à ce que la fonction <code>console.log()</code> renvoyé. <br><br>  Une fois la commande terminée, l'invite REPL apparaît, ce qui signifie que nous pouvons entrer une nouvelle commande ici. <br><br><h3>  <font color="#3AC1EF">▍ Commandes complètes à l'aide de la touche Tab</font> </h3><br>  REPL est un environnement interactif.  Si vous appuyez sur la touche <code>Tab</code> de votre clavier pendant l'écriture de code, REPL essaiera de compléter automatiquement l'entrée en sélectionnant, par exemple, un nom approprié pour la variable que vous avez déjà déclarée ou le nom d'un objet standard. <br><br><h3>  <font color="#3AC1EF">▍Exploration d'objets JavaScript</font> </h3><br>  Entrez le nom d'un objet JavaScript standard dans la ligne de commande, par exemple, <code>Number</code> , ajoutez un point après celui-ci et appuyez sur <code>Tab</code> . <br><br>  REPL listera les propriétés et méthodes de l'objet avec lesquelles le développeur peut interagir: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d67/455/2ac/d674552aca4cc48b60109e9602dc6d2a.png"></div><br>  <i><font color="#999999">Examen de l'objet numérique</font></i> <br><br><h3>  <font color="#3AC1EF">▍Explorer des objets globaux</font> </h3><br>  Pour savoir avec quels objets Node.js globaux vous pouvez travailler, entrez la commande <code>global.</code> dans le terminal <code>global.</code>  et appuyez sur <code>Tab</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/059/a52/b1a/059a52b1a742940e161b43a2af29bd51.png"></div><br>  <i><font color="#999999">Recherche d'objets globaux</font></i> <br><br><h3>  <font color="#3AC1EF">▍ Variable spéciale _</font> </h3><br>  La variable <code>_</code> (soulignement) stocke le résultat de la dernière opération effectuée.  Cette variable peut être utilisée dans le cadre de commandes entrées dans la console. <br><br><h3>  <font color="#3AC1EF">▍ Commandes commençant par un point</font> </h3><br>  En mode REPL, vous pouvez utiliser certaines commandes spéciales qui commencent par un point.  Les voici: <br><br><ul><li>  La commande <code>.help</code> affiche des informations de référence pour les commandes commençant par un point. </li><li>  La commande <code>.editor</code> système en mode éditeur, ce qui facilite la saisie de code JavaScript sur plusieurs lignes.  Après avoir été dans ce mode, vous entrez tout ce que vous voulez, pour exécuter le code, utilisez la commande <code>Ctrl+D</code> </li><li>  La commande <code>.break</code> permet d'annuler la saisie d'expression sur plusieurs lignes.  Son utilisation est similaire à celle du raccourci clavier <code>Ctrl+C</code> </li><li>  La commande <code>.clear</code> efface le contexte REPL et interrompt également l'entrée d'une expression multiligne. </li><li>  La commande <code>.load</code> charge le code d'un fichier JavaScript dans la session en cours. </li><li>  La commande <code>.save</code> enregistre tout ce qui a été entré pendant la session REPL dans le fichier. </li><li>  La commande <code>.exit</code> permet de quitter une session REPL; elle agit exactement comme deux frappes consécutives de la combinaison de touches <code>Ctrl+C</code> </li></ul><br>  Il convient de noter que REPL reconnaît l'entrée d'expressions multilignes même sans utiliser la <code>.editor</code> . <br><br>  Par exemple, nous avons commencé à saisir un code d'itérateur: <br><br><pre> <code class="hljs javascript">[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>].forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">num</span></span></span><span class="hljs-function"> =&gt;</span></span> {</code> </pre> <br>  Si, après avoir saisi l'accolade, appuyez sur la touche <code>Enter</code> , REPL passera à une nouvelle ligne, l'invite dans laquelle ressemblera à trois points.  Cela indique que nous pouvons saisir le code du bloc correspondant.  Cela ressemble à ceci: <br><br><pre> <code class="hljs matlab">... console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(num) ... })</code> </pre> <br>  Appuyez sur <code>Enter</code> après avoir entré la dernière parenthèse pour exécuter l'expression.  Si vous entrez <code>.break</code> dans ce mode, l'entrée sera abandonnée et l'expression ne sera pas exécutée. <br><br>  Le mode REPL est une fonctionnalité utile de Node.js, mais sa portée est limitée à de petites expériences.  Nous sommes intéressés par quelque chose de plus que la possibilité d'exécuter quelques commandes.  Par conséquent, nous passons à travailler avec Node.js en mode normal.  À savoir, parlons de la façon dont les scripts Node.js peuvent prendre des arguments de ligne de commande. <br><br><h2>  <font color="#3AC1EF">Utilisation des arguments de ligne de commande dans les scripts Node.js</font> </h2><br>  Lors de l'exécution de scripts Node.js, des arguments peuvent leur être transmis.  Voici un appel de script régulier: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">node</span></span> app.js</code> </pre> <br>  Les arguments passés au script peuvent être des valeurs indépendantes ou des constructions clé-valeur.  Dans le premier cas, l'exécution du script ressemble à ceci: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">node</span></span> app.js flavio</code> </pre> <br>  Dans le second - comme ceci: <br><br><pre> <code class="hljs pgsql">node app.js <span class="hljs-type"><span class="hljs-type">name</span></span>=flavio</code> </pre> <br>  La méthode de transmission des arguments est utilisée pour déterminer comment vous pouvez les utiliser dans le code de script. <br><br>  Ainsi, afin d'accéder aux arguments de la ligne de commande, l'objet de <code>process</code> Node.js standard est utilisé.  Il a la propriété <code>argv</code> , qui est un tableau contenant, entre autres, les arguments passés au script au démarrage. <br><br>  Le premier élément du tableau <code>argv</code> contient le chemin d'accès complet au fichier qui est exécuté lorsque la commande <code>node</code> est entrée sur la ligne de commande. <br><br>  Le deuxième élément est le chemin d'accès à l'exécutable du script. <br><br>  Tous les autres éléments du tableau, à partir du troisième, contiennent ce qui a été transmis au script lors de son exécution. <br><br>  L'énumération des arguments disponibles dans <code>argv</code> (cela inclut à la fois le chemin d'accès au <code>node</code> et le chemin d'accès au fichier exécutable du script) peut être organisée à l'aide de la boucle <code>forEach</code> : <br><br><pre> <code class="hljs javascript">process.argv.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">val, index</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${index}</span></span></span><span class="hljs-string">: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${val}</span></span></span><span class="hljs-string">`</span></span>) })</code> </pre> <br>  Si vous n'êtes pas intéressé par les deux premiers arguments, basé sur <code>argv</code> vous pouvez créer un nouveau tableau qui inclura tout de <code>argv</code> sauf les deux premiers éléments: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> args = process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Supposons que lors de l'exécution d'un script, un seul argument lui ait été transmis, sous la forme d'une valeur indépendante: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">node</span></span> app.js flavio</code> </pre> <br>  Vous pouvez accéder à cet argument comme ceci: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> args = process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>) args[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> <br>  Essayons maintenant d'utiliser une construction de type valeur-clé: <br><br><pre> <code class="hljs pgsql">node app.js <span class="hljs-type"><span class="hljs-type">name</span></span>=flavio</code> </pre> <br>  Avec cette approche, une fois le tableau <code>args</code> formé, la chaîne <code>name=flavio</code> dans <code>args[0]</code> .  Avant d'utiliser l'argument, cette chaîne doit être analysée.  La façon la plus pratique de procéder consiste à utiliser la bibliothèque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">minimist</a> , conçue pour faciliter l'utilisation des arguments de ligne de commande: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> args = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'minimist'</span></span>)(process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>)) args[<span class="hljs-string"><span class="hljs-string">'name'</span></span>] <span class="hljs-comment"><span class="hljs-comment">//flavio</span></span></code> </pre> <br>  Considérez maintenant la sortie vers la console. <br><br><h2>  <font color="#3AC1EF">Sortie de données vers la console à l'aide du module de console</font> </h2><br>  Le module de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">console</a> Node.js standard offre au développeur de nombreuses possibilités d'interagir avec la ligne de commande pendant l'exécution du programme.  En général, c'est la même chose que l'objet <code>console</code> utilisé dans le JavaScript basé sur un navigateur.  La méthode la plus simple et la plus utilisée du module de <code>console</code> est peut-être <code>console.log()</code> , qui est utilisée pour générer des données de chaîne sur la console.  De plus, si vous lui passez un objet, celui-ci, avant la sortie, sera converti en sa représentation sous forme de chaîne. <br><br>  La méthode <code>console.log()</code> peut recevoir plusieurs valeurs: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> x = <span class="hljs-string"><span class="hljs-string">'x'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> y = <span class="hljs-string"><span class="hljs-string">'y'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x, y)</code> </pre> <br>  Après avoir exécuté cette séquence d'instructions, la valeur <code>x</code> et la valeur <code>y</code> parviendront à la console. <br><br>  Pour former des chaînes complexes, la commande <code>console.log()</code> prend en charge l'utilisation de caractères génériques qui, lors de la sortie des données, sont remplacés par leurs valeurs correspondantes par ordre de priorité. <br><br>  Par exemple, voici une commande qui affiche le texte <code>My cat has 2 years</code> : <br><br><pre> <code class="hljs pgsql">console.log(<span class="hljs-string"><span class="hljs-string">'My %s has %d years'</span></span>, <span class="hljs-string"><span class="hljs-string">'cat'</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Tenez compte des caractéristiques des caractères génériques: <br><br><ul><li>  <code>%s</code> formate la valeur sous forme de chaîne. </li><li>  <code>%d</code> ou <code>%i</code> formate la valeur sous forme d'entier. </li><li>  <code>%f</code> formate la valeur sous forme de nombre à virgule flottante. </li><li>  <code>%O</code> utilisé pour afficher les représentations de chaîne d'objets. </li></ul><br>  Voici un autre exemple d'utilisation de caractères génériques: <br><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'%O'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>)</code> </pre> <br><h3>  <font color="#3AC1EF">▍Nettoyer la console</font> </h3><br>  Pour effacer la console, utilisez la commande <code>console.clear()</code> (son comportement dans différents terminaux peut varier). <br><br><h3>  <font color="#3AC1EF">▍Éléments de comptage</font> </h3><br>  Nous allons maintenant examiner la méthode <code>console.count()</code> utile.  Jetez un oeil à ce code: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> x = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> y = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> z = <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.count( <span class="hljs-string"><span class="hljs-string">'The value of x is '</span></span> + x + <span class="hljs-string"><span class="hljs-string">' and has been checked .. how many times?'</span></span> ) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.count( <span class="hljs-string"><span class="hljs-string">'The value of x is '</span></span> + x + <span class="hljs-string"><span class="hljs-string">' and has been checked .. how many times?'</span></span> ) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.count( <span class="hljs-string"><span class="hljs-string">'The value of y is '</span></span> + y + <span class="hljs-string"><span class="hljs-string">' and has been checked .. how many times?'</span></span> )</code> </pre> <br>  La méthode <code>count()</code> compte le nombre de sorties de ligne et affiche le résultat à côté d'elles. <br>  En utilisant cette méthode, dans l'exemple suivant, vous pouvez compter les pommes et les oranges: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oranges = [<span class="hljs-string"><span class="hljs-string">'orange'</span></span>, <span class="hljs-string"><span class="hljs-string">'orange'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> apples = [<span class="hljs-string"><span class="hljs-string">'just one apple'</span></span>] oranges.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fruit</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.count(fruit) }) apples.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fruit</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.count(fruit) })</code> </pre> <br><h3>  <font color="#3AC1EF">▍Affichage des résultats de trace de pile sur la console</font> </h3><br>  Il est parfois utile d'imprimer une trace de la pile de fonctions sur la console.  Par exemple, afin de répondre à la question de savoir comment nous sommes arrivés à un certain endroit du programme.  Vous pouvez le faire avec la commande suivante: <br><br><pre> <code class="hljs mel">console.<span class="hljs-keyword"><span class="hljs-keyword">trace</span></span>()</code> </pre> <br>  Voici un exemple de son utilisation: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> function2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.trace() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> function1 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> function2() function1()</code> </pre> <br>  Voici ce qui s'est passé lorsque j'ai exécuté ce code en mode REPL: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Trace</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">function2</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">repl</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:33)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">function1</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">repl</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:25)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">repl</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ContextifyScript</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Script</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.runInThisContext</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">vm</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:44</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:33)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">REPLServer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.defaultEval</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">repl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:239</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:29)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bound</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">domain</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:301</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:14)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">REPLServer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.runBound</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[as eval]</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">domain</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:314</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:12)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">REPLServer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onLine</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">repl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:440</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:10)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">emitOne</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:120</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:20)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">REPLServer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.emit</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:210</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:7)</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">▍Mesurer le temps nécessaire pour terminer une action</font> </h3><br>  Vous pouvez mesurer le temps nécessaire, par exemple, pour exécuter une fonction, à l'aide des <code>console.time()</code> et <code>console.timeEnd()</code> .  Cela ressemble à ceci: <br><br><pre> <code class="hljs coffeescript">const doSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'test'</span></span>) const measureDoingSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.time(<span class="hljs-string"><span class="hljs-string">'doSomething()'</span></span>) <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ,     doSomething() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.timeEnd(<span class="hljs-string"><span class="hljs-string">'doSomething()'</span></span>) } measureDoingSomething()</code> </pre> <br><h3>  <font color="#3AC1EF">▍Travailler avec stdout et stderr</font> </h3><br>  Comme nous l'avons vu, la commande <code>console.log()</code> est idéale pour envoyer des messages à la console.  Lors de son utilisation, le flux de sortie dit standard, ou <code>stdout</code> . <br><br>  La commande <code>console.error()</code> transfère les données vers le flux d'erreur standard, <code>stderr</code> .  Les données envoyées à <code>stderr</code> à la console, bien que ce qui est produit dans ce flux puisse, par exemple, être redirigé vers le fichier journal des erreurs. <br><br><h3>  <font color="#3AC1EF">▍Utilisez la couleur lors de la sortie des données vers la console</font> </h3><br>  Afin de coloriser les textes affichés dans la console, vous pouvez utiliser des séquences d'échappement qui identifient les couleurs: <br><br><pre> <code class="hljs pgsql">console.log(<span class="hljs-string"><span class="hljs-string">'\x1b[33m%s\x1b[0m'</span></span>, <span class="hljs-string"><span class="hljs-string">'hi!'</span></span>)</code> </pre> <br>  Si vous exécutez cette commande, par exemple, en mode REPL, le texte <code>hi</code> sera affiché en jaune. <br>  Cette approche, cependant, n'est pas particulièrement pratique.  Il sera pratique d'utiliser une bibliothèque spécialisée, par exemple de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">craie, pour afficher du texte en couleur dans la console</a> .  Cette bibliothèque, en plus de la mise en forme couleur des textes, prend en charge d'autres façons de les styliser.  Par exemple, avec son aide, il est possible de rendre le texte en gras, italique ou souligné. <br><br>  Pour l'installer à partir de npm, utilisez la commande suivante: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> chalk</code> </pre> <br>  Vous pouvez l'utiliser comme ceci: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> chalk = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'chalk'</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(chalk.yellow(<span class="hljs-string"><span class="hljs-string">'hi!'</span></span>))</code> </pre> <br>  L'utilisation de la commande <code>chalk.yellow()</code> est beaucoup plus pratique que les séquences d'échappement, et le texte du programme avec cette approche est beaucoup plus facile à lire. <br><br>  Pour en savoir plus sur la craie, consultez cette <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page de</a> bibliothèque sur GitHub. <br><br><h3>  <font color="#3AC1EF">▍Créer une barre de progression</font> </h3><br>  La barre de progression peut être utile dans différentes situations.  Vous pouvez utiliser le package de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">progression</a> pour créer des indicateurs de progression en cours d'exécution dans la console.  Vous pouvez l'installer comme ceci: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> progress</code> </pre> <br>  Voici un exemple de code dans lequel un indicateur est créé qui peut être utilisé pour afficher des informations sur une tâche composée de 10 étapes.  Dans notre cas, il faut 100 ms pour terminer chaque étape.  Une fois que l'indicateur est plein, la commande <code>clearItnerval()</code> est <code>clearItnerval()</code> et le programme se termine. <br><br><pre> <code class="hljs lisp">const ProgressBar = require('progress') const bar = new ProgressBar('<span class="hljs-symbol"><span class="hljs-symbol">:bar</span></span>', { total: <span class="hljs-number"><span class="hljs-number">10</span></span> }) const timer = setInterval(() =&gt; { bar.tick() if (<span class="hljs-name"><span class="hljs-name">bar</span></span>.complete) {   clearInterval(<span class="hljs-name"><span class="hljs-name">timer</span></span>) } }, <span class="hljs-number"><span class="hljs-number">100</span></span>)</code> </pre> <br><h3>  <font color="#3AC1EF">▍Réception des entrées utilisateur depuis la ligne de commande</font> </h3><br>  Comment rendre interactives les applications de ligne de commande écrites pour la plateforme Node.js?  À partir de la version 7, Node.js contient un module de ligne de lecture qui vous permet de recevoir des données à partir de flux qui peuvent être lus, par exemple, à partir de <code>process.stdin</code> .  Ce thread, lors de l'exécution du programme Node.js, est ce qui est entré dans le terminal.  Les données sont entrées une ligne à la fois. <br><br>  Considérez l'extrait de code suivant: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> readline = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'readline'</span></span>).createInterface({ <span class="hljs-attr"><span class="hljs-attr">input</span></span>: process.stdin, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: process.stdout }) readline.question(<span class="hljs-string"><span class="hljs-string">`What's your name?`</span></span>, (name) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Hi </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">!`</span></span>) readline.close() })</code> </pre> <br>  Ici, nous demandons à l'utilisateur son nom, et après avoir entré le texte et appuyé sur la touche <code>Enter</code> du clavier, nous affichons un message d'accueil. <br><br>  La méthode <code>question()</code> affiche ce qui lui est transmis en tant que premier paramètre (c'est-à-dire la question posée à l'utilisateur) et attend la fin de l'entrée.  Après avoir appuyé sur <code>Enter</code> il appelle le rappel qui lui est passé dans le deuxième paramètre et traite ce qui a été entré.  Dans le même rappel, nous <code>readline</code> interface <code>readline</code> . <br><br>  <code>readline</code>    ,        ,     . <br><br>  ,    ,     ,     ,   ,  ,        — <code>*</code> . <br><br>     ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">readline-sync</a> ,     ,    <code>readline</code> ,        . <br><br>     ,        .   <a href="">inquirer</a> .    : <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> inquirer</code> </pre> <br>         : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> inquirer = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'inquirer'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> questions = [{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'input'</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">"What's your name?"</span></span>, }] inquirer.prompt(questions).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">answers</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Hi </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${answers[</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'name'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-string">!`</span></span>) })</code> </pre> <br>  inquirer   . ,                 . <br><br>             Node.js.       <code>readline</code> ,  readline-sync  inquirer.       ,              ,      . <br><br><h2> <font color="#3AC1EF">  Node.js,   exports</font> </h2><br>   ,   API <code>module.exports</code>  ,         .  Node.js    ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> .   ,    <code>require</code> ,    : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> library = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./library'</span></span>)</code> </pre> <br>     <code>library.js</code> ,       ,    ,  . <br><br> ,      ,  - ,  .  ,      ,   .  , API <code>module.exports</code>    ,         . <br><br>     . <br><br>       <code>module.exports</code> ,    ,   .       : <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> car = { brand: <span class="hljs-string"><span class="hljs-string">'Ford'</span></span>, model: <span class="hljs-string"><span class="hljs-string">'Fiesta'</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exports</span></span> = car <span class="hljs-comment"><span class="hljs-comment">//..   const car = require('./car')</span></span></code> </pre> <br>     ,        <code>exports</code> .        , ,    — : <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> car = { brand: <span class="hljs-string"><span class="hljs-string">'Ford'</span></span>, model: <span class="hljs-string"><span class="hljs-string">'Fiesta'</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">exports</span></span>.car = car</code> </pre> <br>       : <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">exports</span></span>.car = { brand: <span class="hljs-string"><span class="hljs-string">'Ford'</span></span>, model: <span class="hljs-string"><span class="hljs-string">'Fiesta'</span></span> }</code> </pre> <br>     ,   ,  : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> items = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./items'</span></span>) items.car</code> </pre> <br>  : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> car = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./items'</span></span>).car</code> </pre> <br>        <code>module.exports</code>     <code>exports</code> ? <br><br>    ,    <code>module.exports</code> .       . <br><br><h2> <font color="#3AC1EF"></font> </h2><br>       Node.js-,  REPL,     ,    Node.js.         npm, ,  ,    <code>package.json</code>  <code>package-lock.json</code> . <br><br>  <b>Chers lecteurs!</b>       Node.js-? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423701/">https://habr.com/ru/post/fr423701/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423689/index.html">RTOS MAX - gratuit? Nous prévoyons d'ouvrir une licence pour une utilisation commerciale gratuite</a></li>
<li><a href="../fr423693/index.html">Une autre façon d'utiliser Webpack 4 et la séparation de code</a></li>
<li><a href="../fr423695/index.html">Comment prendre sa retraite avant 40 ans avec un million de dollars dans un compte bancaire</a></li>
<li><a href="../fr423697/index.html">Présentation de Spring Data JDBC</a></li>
<li><a href="../fr423699/index.html">«L'économie numérique» a augmenté de prix: 2 billions de roubles devront être alloués sur le budget</a></li>
<li><a href="../fr423703/index.html">Manuel Node.js, Partie 4: Fichiers npm, package.json et package-lock.json</a></li>
<li><a href="../fr423705/index.html">Manuel Node.js, partie 5: npm et npx</a></li>
<li><a href="../fr423707/index.html">Ce qui est sous le capot de Jaxx. Entropie prête à l'emploi 128 bits</a></li>
<li><a href="../fr423709/index.html">CSS Grid - Couteau suisse pour les mises en page de sites Web et d'applications</a></li>
<li><a href="../fr423711/index.html">Gérer pour un geek: d'où obtenir les données?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>