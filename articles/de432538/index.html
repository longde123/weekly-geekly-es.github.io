<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•å ‚õ∑Ô∏è üñêüèº Smart Home, ich habe dich immer noch gemacht üë©üèº‚Äç‚öñÔ∏è üÖøÔ∏è ‚òÆÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Smart Home, ein ziemlich abgedroschenes Thema in unserer Zeit, und in dieser Ver√∂ffentlichung werde ich Ihnen nichts √ºber neue Technologien, Herstelle...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Smart Home, ich habe dich immer noch gemacht</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432538/"><img src="https://habrastorage.org/webt/rc/pi/ap/rcpiaplfihjycjb82knoboywbs4.jpeg"><br><br>  Smart Home, ein ziemlich abgedroschenes Thema in unserer Zeit, und in dieser Ver√∂ffentlichung werde ich Ihnen nichts √ºber neue Technologien, Hersteller und moderne Trends dieses Themas erz√§hlen. Alles wird mir einmal in hundert geschrieben.  Ich werde versuchen, den Prozess der Erstellung eines Smart Home (im Folgenden als UD bezeichnet) ohne tiefgreifende technische Erl√§uterungen kurz zu beschreiben.  Wenn dieses Thema f√ºr die Leser interessant sein soll, werde ich alle Listen mit Programmen, MK-Firmware, Schaltkreisen und allem, was erforderlich ist, damit dieses Wunder zum Herzen Ihres Zuhauses wird, vollst√§ndig auslegen. <br><a name="habracut"></a><br>  Die Grundkonzepte bei der Entwicklung von UD sind das v√∂llige Fehlen einer ‚ÄûKollektivfarm‚Äú. Mit anderen Worten, die elektronische F√ºllung sollte nicht √§sthetisch hervorstechen (normale Fassungen, Schalter, Gl√ºhbirnen) und den Benutzer nicht belasten (Duplizieren der Hauptfunktionalit√§t auf die √ºbliche Weise: Jede Lichtquelle kann entweder √ºber den Schalter eingeschaltet werden) und vom Telefon aus, und nicht wie bei intelligenten Lampen, wird jeder im Fach verstehen).  Ich werde aus Gr√ºnden der Klarheit sogar ein Bild anh√§ngen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kj/78/ez/kj78ez2owrbmnv3pesjm1xar1b8.png"></div><br>  Der letzte Zusatz und die Texte werden enden.  Ich konnte ein fertiges Smart-Home-System kaufen, aber in der j√ºngeren Vergangenheit hatte ich ein gutes Verst√§ndnis f√ºr Schaltkreise, Funkelektronik, Programmierung und ein Zeitauto. Selbst in diesem Moment begann ich mit dem Bau eines Landhauses, das ich wirklich mit meinem Gehirn ausstatten wollte.  Im Allgemeinen k√∂nnen Sie den Fischer so fragen, warum Sie fischen, wenn Sie es kaufen k√∂nnen!  Zum Vergn√ºgen der Jungs, zum Vergn√ºgen zu verstehen, dass Sie Ihr Zuhause automatisieren k√∂nnen und Ihre Seele, Ihre Ideen, Ihre Logik darin zu investieren, macht Ihr Zuhause wirklich lebendig.  Lass uns gehen! <br><br>  Zun√§chst habe ich die Funktion der UD ermittelt, die wirklich ben√∂tigt wird: <br><br><ul><li>  Verwaltung aller Lichtquellen, sowohl vom Switch als auch von der Anwendung </li><li>  Steuerung der Lampenhelligkeit </li><li>  Verschiedene Beleuchtungsmodi: automatische Abschaltung, Anwesenheitsmodus, Nachtlicht - Ich selbst habe mir diesen Modus ausgedacht. Wenn Sie ihn einschalten, beleuchtet er Ihren Weg zur Toilette nachts.  Wenn Sie nicht auf der Suche nach einem Schalter √ºber die W√§nde streicheln, f√§llt Ihnen etwas anderes ein. </li><li>  Verwalten Sie bestimmte Steckdosen, an denen B√ºgeleisen, Lockenstab, Haartrockner, Kochfeld usw. angeschlossen sind.  Die Ideologie lautet wie folgt: links, vergessen, es auszuschalten oder nicht, ausgeschaltet durch die Anwendung. </li><li>  Der vorstehende Absatz impliziert die Notwendigkeit, das Haus von √ºberall auf der Welt aus zu kontrollieren, und es bleibt leicht: <br><br>  -Temperatur und Luftfeuchtigkeit im Haus, auf der Stra√üe und im Keller <br>  -Temperatur und Druck in der Heizung (Privathaus, ohne es irgendwo) <br>  -Schutz gegen Undichtigkeiten, Rauch, noch genauer nicht Schutz, sondern Benachrichtigung. </li></ul><br><h2>  Von Worten zu Taten </h2><br>  Das System wurde in drei Bl√∂cke unterteilt: <br><br><ul><li>  Steuerger√§t f√ºr Beleuchtung und Stromlast </li><li>  √úberwachungseinheit (verschiedene Sensoren) </li><li>  Mini-Computer (Haupthirn, OS-Serverkern, .Net) </li></ul><br>  <b>9-Kanal-Steuerger√§t f√ºr Beleuchtung und Lastlast</b> <br><br>  Die Basis von MK von Atmel atmega1284 ist kein Arduino, nur Hardcode, nur C, das Ethernet-Modul ENC28J60 wurde als Kommunikationskanal mit dem Gehirn gew√§hlt (UART ist langweilig, Drahtl√§ngenbegrenzung h√§ngt sogar vom Rauch ab), ein paar Worte zum ENC28J60-Modul, eigentlich ein zweifelhafter Mikrokreis : Errata ist mehr als ein Datenblatt, aber in einem Monat Arbeit hat es nie gehangen, deshalb habe ich vorerst keine Beschwerden dar√ºber.  Er versprach ohne technische Narrative, aber dies ist keine Bodenreinigung, v√∂llig ohne Terminologie.  7 Schalter und 7 Beleuchtungsger√§te sind an das Ger√§t angeschlossen, zwei Kan√§le gehen an Sch√ºtze mit jeweils 25 A, einer an die Steckdose, an der die Frau meine Hose zur Arbeit streichelt, und der zweite an das Kinderzimmer, zwei an parallele Steckdosen.  Zuerst habe ich in meinem Labor alles auf meinem Knie gesammelt <br><br><img src="https://habrastorage.org/webt/j5/ni/bg/j5nibgoaxs10wzoladnb0mejbya.jpeg"><br><br>  √Ñtzte die Platine mit der LUT-Methode <br><br><img src="https://habrastorage.org/webt/rf/bh/yl/rfbhyl53ica3mhfcxva6mdkc2og.jpeg"><br><br><img src="https://habrastorage.org/webt/sm/31/oc/sm31ocrqok26zcj5d_8oig8vexa.jpeg"><br><br>  Nachdem die Leistung der Platine getestet worden war, bestellte ich in Nowosibirsk mehrere Instanzen von Leiterplatten <br><br><img src="https://habrastorage.org/webt/mm/03/mj/mm03mjsycbzieajbn9ddir9lbtc.jpeg"><br><br>  Ich habe zwei Kopien der Steuereinheit zusammengebaut, eine zum Testen von Lasten, die zweite bereits f√ºr die Installation in einem Landhaus.  Es ist be√§ngstigend, Ger√§te zu installieren, bei denen Sie sich nicht sicher sind.  Theoretisch h√§lt jeder Kanal einem Strom von 12 Ampere stand, aber 2-3 A reichen aus, um Sch√ºtze zu beleuchten oder zu steuern.  Egal wie ich versucht habe, das getestete Board zu verbrennen, es hat bei mir nicht geklappt. Ich habe sogar eine 3-kW-Hei√üluftpistole angeschlossen. Die Triacs wurden fast rot, aber keiner von ihnen ist ausgefallen.  Zusammenfassend hat das Board den Test so gut wie m√∂glich bestanden. <br><br>  Ich programmierte und installierte die Mikrocontroller auf der Platine im Haus, das Licht konnte bereits √ºber die Schalter eingeschaltet werden, aber das Smart House roch immer noch nicht. <br><br>  <b>Mini-Computer</b> <br><br>  Bei der Arbeit habe ich einen Thin Client mit 1 GB RAM und 8 GB ROM ge√∂ffnet. Bei Amazon kostet das etwas mehr als 100 Dollar.  Ich habe Server Core als Betriebssystem gew√§hlt, weil ich eine C # -orientierte Person bin.  Ich kann keine native Software f√ºr Android und Apple schreiben und habe lange Zeit selbst entschieden, dass mein Bot auf der Plattform von Pashka Durov (der das Telegramm nicht verstanden hat) das Smart Home f√ºr etwa eine Woche verwalten wird. Ich sa√ü unter Spaten am Laptop und der Bot ist bereit.  Es ist sch√∂n, mit klugen Leuten zu arbeiten, es geht um Telegramme, der Bot wurde auf einmal geschrieben, verst√§ndliche Dokumentation, funktionierende Bibliotheken, keine Pannen.  Ein trauriger Punkt, den jeder kennt: Roskomnadzor m√∂chte den Wagen mit aller Kraft blockieren und er funktioniert auf Smartphones, aber die Situation bei Bots ist etwas anders. Sie stellen jedes Mal eine Verbindung zu den Servern her. Um das Schicksal nicht in Versuchung zu f√ºhren, habe ich openvpn bei AWS (Amazon Web Services) aktiviert. Server (und kostenlos, bei Amazon wird f√ºr den Datenverkehr bezahlt, und der Datenverkehr durch den Bot ist minimal).  Nach dem Laden stellt der Thin Client eine Verbindung zum VPN-Server her und umgeht alle Roskomnadzor-Sperren, die leise verarbeitete Anforderungen sperren. <br><br><h2>  Zusammenfassung </h2><br>  Das System arbeitet einen Monat lang unter realen Bedingungen ohne einen einzigen Fehler.  In Telegrammen auf Android gibt es ein Br√∂tchen, mit dem Sie den Bot direkt auf den Desktop bringen und als separate Anwendung √∂ffnen k√∂nnen.  Ja, ich bin weit davon entfernt, eine kreative Person zu sein und habe den Bot Jarvis genannt <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/l4/ot/tj/l4ottjtc_lwqs6t9jpamdpmq3yc.jpeg" width="350"></div><br>  Ich bin sehr zufrieden mit dem Bot und es besteht einfach keine Notwendigkeit, native Software f√ºr mobile Ger√§te zu schreiben <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nx/ap/uk/nxapukjpdt8zilon-2ll2w2nqnq.jpeg" width="350"></div><br>  Einige Informationen von der √úberwachungseinheit <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zm/ty/5i/zmty5i89jgwl7qnjqaczenusasq.jpeg" width="350"></div><br>  Stellen Sie Fragen, ich wiederhole, wenn das Thema interessant ist, werde ich alle Quellen des Projekts sowie alle Schaltkreise auf github ver√∂ffentlichen, damit es m√∂glich ist, KIT zusammenzustellen und die Firmware hochzuladen, und mit einem Knall ohne besondere Programmier- und Schaltkreiskenntnisse arbeiten kann. <br><br>  PS.  Es gibt Fehler in der Leiterplatte (zu kleine L√ºcken zwischen Strompfaden, Kontakten, rechtwinklig getrennte Spuren).  Ich werde die Geb√ºhr √§ndern, der Vorteil, eine neue zu machen, ist ein Penny.  Vielen Dank an alle, die auf diese Fehler hingewiesen haben. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de432538/">https://habr.com/ru/post/de432538/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de432518/index.html">Elektronen und der Niedergang nativer Anwendungen</a></li>
<li><a href="../de432520/index.html">So √§ndern Sie das Administratorkennwort in Atlassian Jira und Confluence in der eingebetteten Datenbank (H2)</a></li>
<li><a href="../de432524/index.html">Warum Sie Quora nie wieder verwenden sollten</a></li>
<li><a href="../de432526/index.html">Evaluierung neuer Projekte</a></li>
<li><a href="../de432536/index.html">Luftqualit√§t im Haus im Winter</a></li>
<li><a href="../de432540/index.html">50 Jahre sp√§ter. Die Mutter aller Demos</a></li>
<li><a href="../de432542/index.html">Chinesische Wissenschaftler haben praktisches wiederbeschreibbares Thermopapier entwickelt</a></li>
<li><a href="../de432544/index.html">Mathe in Gamedev ist einfach. Matrizen und affine Transformationen</a></li>
<li><a href="../de432546/index.html">Die Zusammenfassung interessanter Materialien f√ºr den mobilen Entwickler # 278 (vom 3. bis 9. Dezember)</a></li>
<li><a href="../de432548/index.html">Ein Beispiel f√ºr die Verwendung einer Java-Bibliothek zum Erstellen eines Telegramm-Bots</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>