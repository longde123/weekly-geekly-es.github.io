<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì® ‚öôÔ∏è ‚ûï Wir optimieren Assets f√ºr WebGL korrekt üà≥ üë©üèæ‚Äçüîß ü§üüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es kommt h√§ufig vor, dass Optimierungstechniken, die f√ºr normale Desktop- oder mobile Grafiken gut funktionieren, bei WebGL nicht immer den gew√ºnschte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir optimieren Assets f√ºr WebGL korrekt</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456526/">  Es kommt h√§ufig vor, dass Optimierungstechniken, die f√ºr normale Desktop- oder mobile Grafiken gut funktionieren, bei WebGL nicht immer den gew√ºnschten Effekt erzielen.  In diesem Artikel habe ich die Produktivit√§tsmethoden gesammelt (oder besser gesagt ins Russische √ºbersetzt und im Text unserer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pr√§sentation</a> mit Verge3Day skizziert), die f√ºr die Erstellung interaktiver Webanwendungen gut geeignet waren. <br><br><img src="https://habrastorage.org/webt/f3/-h/po/f3-hpomrfalqm_dx6bd7wucnbgu.png"><br><a name="habracut"></a><br><h2>  Geometrie / Netze </h2><br>  Die richtige Geometrie ist der Schl√ºssel zur Leistung jeder 3D-Anwendung.  Um eine gleichm√§√üige Schattierung und ein schnelles Rendern zu erzielen, sollten Sie das Polygonnetz so gleichm√§√üig wie m√∂glich halten.  Zu Beginn der Arbeit sollten Sie den Detaillierungsgrad Ihrer Szene bestimmen und sich beim Modellieren daran halten. <br><br><img src="https://habrastorage.org/webt/5p/zq/uj/5pzqujnn_wdjuabotnmqswesfi8.jpeg"><br><br>  Beim Modellieren von Falten ist es besser, Schattierungsgruppen zu verwenden, als mehr Polygone hinzuzuf√ºgen. <br><br><img src="https://habrastorage.org/webt/x3/eh/7u/x3eh7ulhzw5kwlfz5ii6yys2jng.jpeg"><br><br>  Versuchen Sie bei der Arbeit mit einem zylindrischen Modell, die Anzahl der Polygone n√§her an der Mitte zu verringern. <br><br><img src="https://habrastorage.org/webt/an/4e/n8/an4en8ebhrlarhxwvxfco8-vx88.jpeg"><br><br>  √úberladen Sie das Modell nicht mit zus√§tzlichen Teilen, die der Benutzer immer noch nicht sieht.  Wie in der folgenden Abbildung gezeigt, bestimmt die orange hervorgehobene Kante den Detaillierungsgrad f√ºr das gesamte Modell, sodass Sie sie als Richtlinie verwenden k√∂nnen. <br><br><img src="https://habrastorage.org/webt/d9/-p/yc/d9-pycf3wujunw3fuuryyotmfsa.jpeg"><br><br><h2>  Normale Karten </h2><br>  Eine √ºbliche Methode zur Optimierung der WebGL-Leistung besteht darin, die Anzahl der Polygone durch Erstellen normaler Karten zu verringern. <br><br><img src="https://habrastorage.org/webt/cm/ll/ym/cmllymx9s4rem9ynwyvywunmqxy.jpeg"><br><br>  Normale Karten k√∂nnen jedoch aufgrund der begrenzten Genauigkeit des 8-Bit-Bildes sichtbare Artefakte erzeugen.  M√∂gliche L√∂sungen f√ºr dieses Problem sind in der folgenden Abbildung dargestellt, jedoch nur schwer zu implementieren: Die Verwendung des Bildes mit h√∂herer Genauigkeit f√ºhrt zu einer Vergr√∂√üerung der heruntergeladenen Datei, w√§hrend der zweite Ansatz ziemlich zeitaufw√§ndig ist und kein sauberes Ergebnis garantiert.  Der dritte Ansatz funktioniert manchmal bei rauen Oberfl√§chen.  In diesem Fall empfehlen wir, Ihren Materialien Rauschen hinzuzuf√ºgen, um m√∂gliche Artefakte zu reduzieren. <br><br><img src="https://habrastorage.org/webt/cm/1q/rn/cm1qrnqpt1qs13qi0oavun0l2ec.jpeg"><br><br>  Basierend auf unserer Erfahrung kamen wir zu dem Schluss, dass die beste L√∂sung f√ºr gl√§nzende Objekte darin besteht, Geometrie mittlerer Komplexit√§t mit glatten Scheitelpunktgruppen ohne Verwendung einer normalen Karte zu verwenden. <br><br><img src="https://habrastorage.org/webt/nd/bv/uw/ndbvuwvn3ao61dafaphqah7nhs0.jpeg"><br><br>  Schlie√ülich sind hier einige F√§lle aufgef√ºhrt, in denen Sie eine normale Karte anstelle eines sehr detaillierten Netzes verwenden k√∂nnen: <br><br><ul><li>  Ihr Objekt besteht aus vielen verschiedenen Oberfl√§chen. </li><li>  Sie haben eine raue Oberfl√§che, die keine sichtbaren M√§ngel aufweist. </li><li>  Ihre Objekte sind so weit entfernt oder klein, dass der Benutzer keine Artefakte bemerken kann. </li></ul><br><img src="https://habrastorage.org/webt/b9/-b/1y/b9-b1y8tfbf1yfs-vuss6vfuaky.jpeg"><br><br><h2>  Texturierung </h2><br>  Hier ist ein typischer Satz von Texturen, die im modernen PBR-Beleuchtungsmodell (und nicht nur) verwendet werden. <br><br><img src="https://habrastorage.org/webt/hu/ip/07/huip07zd2h1-gjr3pioqzmcnwxw.jpeg"><br><br>  Wie Sie sehen k√∂nnen, sind die meisten von ihnen schwarz und wei√ü.  Daher k√∂nnen Sie s / w-Texturen in den RGBA-Kan√§len eines Bildes kombinieren (insgesamt bis zu 4 Karten pro Bild). <br><br><img src="https://habrastorage.org/webt/bv/hw/cu/bvhwcuec0dapzvsygiox7gpei2a.jpeg"><br><br>  Wenn Sie nur eine s / w-Textur haben, k√∂nnen Sie diese mit jeder vorhandenen RGB-Textur kombinieren, indem Sie sie in einen Alphakanal packen.  Wenn Sie kein Bild zum Kombinieren haben, k√∂nnen Sie Ihr Schwarzwei√übild mit 95% Komprimierung und aktivierter Graustufe in das JPEG-Format konvertieren. <br><br><img src="https://habrastorage.org/webt/jz/ws/sy/jzwssyyopq_jswi7ahzny0zwhsa.jpeg"><br><br>  Eine andere M√∂glichkeit, die Texturgr√∂√üe zu reduzieren, besteht darin, den UV-Scan zu optimieren.  Je kompakter Ihr Scan ist, desto effizienter wird Ihr Bild den Texturraum nutzen.  Auf diese Weise erhalten Sie leichtere Bilder ohne Qualit√§tsverlust. <br><br><img src="https://habrastorage.org/webt/yv/_k/dh/yv_kdhifbs63s5xai2om5z37avi.jpeg"><br><br><h2>  Scheitelpunktfarben </h2><br>  Die Verwendung von Scheitelpunktfarben anstelle von Bildern ist eine effektive Methode, um das Laden zu beschleunigen und die Gesamtleistung Ihrer WebGL-Anwendungen zu steigern.  Der einzige Nachteil besteht darin, dass Sie Ihrem Modell einige zus√§tzliche Kanten hinzuf√ºgen m√ºssen, um die Farben derselben Scheitelpunkte zu trennen. <br><br><img src="https://habrastorage.org/webt/4j/6w/_x/4j6w_xkffgfixggeghebye5tl_4.jpeg"><br><br>  Sie k√∂nnen auch Scheitelpunktfarben verwenden, um Rauheit, Metallizit√§t oder Spiegeloberfl√§chen oder andere Parameter zu bestimmen.  Unten sehen Sie ein Beispiel f√ºr ein solches Material, bei dem nur die Farben der Eckpunkte verwendet werden. <br><br><img src="https://habrastorage.org/webt/if/di/-s/ifdi-sbv5i300f7zkpjwie8cfd8.jpeg"><br><br><h2>  Anzahl der Shader </h2><br>  Es ist sehr wichtig, dass sich weniger verschiedene Materialien / Shader auf Ihrer B√ºhne befinden.  Das Kompilieren von Shadern in WebGL f√ºhrt zu einer langen Auslastung, die sich insbesondere in Windows bemerkbar macht.  Wenn Sie weniger Shader haben, verbringt die Engine beim Rendern weniger Zeit damit, zwischen ihnen zu wechseln, wodurch die Leistung verbessert wird. <br><br>  Wenn Sie √§hnliche Materialien haben, die sich nur in Texturen unterscheiden, k√∂nnen Sie nur ein Material verwenden und seine Texturen zur Laufzeit laden / √§ndern.  Dazu k√∂nnen Sie JavaScript verwenden oder den in einigen WebGL-Frameworks verf√ºgbaren visuellen Logikeditor verwenden.  Dies optimiert nicht nur die Anzahl der Shader, sondern reduziert auch die Anzahl der Bilder, die beim Start der Anwendung geladen werden. <br><br><img src="https://habrastorage.org/webt/dm/3w/vs/dm3wvs45kjv3deg4w0342os2o7e.jpeg"><br><br>  Hier ist ein Beispiel f√ºr eine solche Optimierung.  Alle vier Sorten eines Reifens werden durch ein Material dargestellt und durch Ersetzen von Texturen konfiguriert. <br><br><img src="https://habrastorage.org/webt/8l/9d/vg/8l9dvgl_jlessslo7qozr7fnlfe.jpeg"><br><br>  Um die Anzahl der Shader zu verringern, k√∂nnen Sie zwei oder mehr einfache Materialien zu einem komplexeren kombinieren.  Diese Methode ist besonders effektiv, wenn Sie zwischen diesen Materialien wechseln m√∂chten (z. B. eine Konfiguratoranwendung erstellen) und den √úbergang von einem Material zum anderen nicht nur wechseln, sondern reibungslos und sch√∂n animieren m√∂chten. <br><br><img src="https://habrastorage.org/webt/tg/qj/nk/tgqjnky59qyocifqwtgxtvotsae.jpeg"><br><br><h2>  Anrufe zeichnen </h2><br>  Dar√ºber hinaus gibt es einen weiteren wichtigen Aspekt - die Anzahl der Draw-Anrufe (es handelt sich auch um Draw-Anrufe und Draw-Anrufe).  Dies entspricht in etwa der Anzahl der einzelnen Objekte, wenn jedem Objekt nur ein Material zugeordnet ist, w√§hrend Objekte mit mehreren Materialien noch mehr Aufrufe erfordern, um sie zu visualisieren. <br><br>  Daher sollten Sie sich bem√ºhen, Gitter nach M√∂glichkeit zusammenzuf√ºhren und weniger einzigartige Materialien zu verwenden, um die Anzahl der Draw Calls zu reduzieren und die Leistung zu verbessern. <br><br><img src="https://habrastorage.org/webt/2s/62/if/2s62ifvsueoudvxkdaa6o4ilwse.jpeg"><br><br>  Wenn Sie ein animiertes Objekt haben, k√∂nnen Sie seine Teile trotzdem verbinden und die Knochen zum Animieren verwenden. Dies ist manchmal sogar noch praktischer, wenn Sie einzelne Objekte animieren. <br><br><img src="https://habrastorage.org/webt/rm/sj/wi/rmsjwiqlei4hbedtbuafmxbrwsk.jpeg"><br><br><h2>  HDR-Beleuchtung </h2><br>  Dies tr√§gt zur deutlichen Verbesserung der Leistung bei, wenn Sie Ihre Szene nur mit einem HDR-Bild ohne Verwendung von Lichtquellen beleuchten.  Eine HDR-Datei kann weniger als 1 MB wiegen. <br><br><img src="https://habrastorage.org/webt/pm/j_/rl/pmj_rli9pkrhkwg4jgh0aggk5mu.jpeg"><br><br><h2>  Schatten </h2><br>  Verwenden Sie dynamische Schatten nur dann, wenn sie dazu beitragen, Ihr Objekt optimal darzustellen.  Das Bild unten zeigt die dynamischen Schatten unserer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Industrieroboter-</a> Demo.  Da sich das Modell selbst in dieser Anwendung dreht und nicht die Kamera, k√∂nnen die Schatten keinen Teil des Objekts vor dem Benutzer verbergen und die Form des Roboters perfekt betonen.  Andererseits verdecken dieselben Schatten in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Scooter-</a> Demo viele Details des Modells. <br><br><img src="https://habrastorage.org/webt/o4/px/ik/o4pxikw8wlgmidid3mlswai50bq.jpeg"><br><br>  Wir schlie√üen daraus: Wenn sich Ihr Objekt in der Anwendung nicht bewegt, k√∂nnen Sie Schatten- und Umgebungsokklusionskarten backen und sie der Ebene unter dem Objekt zuweisen.  Eine solche L√∂sung ist produktiver und sieht besser aus als bei Verwendung dynamischer Schatten. <br><br><img src="https://habrastorage.org/webt/a4/5d/j1/a45dj1fnhbxpi4u8tnrpmqaptai.jpeg"><br><br>  Das ist alles  Wenn Sie weitere Tipps haben, die die Leistung von WebGL verbessern k√∂nnten, schreiben Sie in die Kommentare. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de456526/">https://habr.com/ru/post/de456526/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de456514/index.html">Methodik als Konstruktor: Montageanleitung</a></li>
<li><a href="../de456516/index.html">Von der Anwendung bis zur Szene. Lebensbericht bei Saint TeamLead Conf 2019</a></li>
<li><a href="../de456518/index.html">Im Namen eines neuen Produkts</a></li>
<li><a href="../de456520/index.html">Wie man nicht alle Polymere verliert, indem man in einem neuen Unternehmen f√ºhrend wird</a></li>
<li><a href="../de456524/index.html">Wie kann mit der Lean-Priorisierung ein Gleichgewicht im Produktmanagement erreicht werden?</a></li>
<li><a href="../de456528/index.html">√úberblick: Was bestimmt das Wachstum oder den Fall des Rubels?</a></li>
<li><a href="../de456532/index.html">Sprachpyramide: Wie man mit Hilfe von Dilts-Levels das Vertrauen des Publikums weckt</a></li>
<li><a href="../de456534/index.html">F√ºllen Sie Dokumente in Microsoft Word mit Python aus. Teil 1</a></li>
<li><a href="../de456536/index.html">AWS-Kosten, die jeder Programmierer kennen sollte</a></li>
<li><a href="../de456538/index.html">Nginx-Rezepte: Autorisierung durch ESIA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>