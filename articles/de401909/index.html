<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèª ‚ò∫Ô∏è üçÄ Selbstgemachtes Sicherheitssystem basierend auf Produkten f√ºr ein Smart Home von Nootekhnika üêå üì° üëäüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, liebe Gemeinschaft. Ich m√∂chte Ihnen ein Experiment zur Implementierung eines Sicherheitssystems f√ºr ein Heim vorstellen, das auf Smart-Hom...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Selbstgemachtes Sicherheitssystem basierend auf Produkten f√ºr ein Smart Home von Nootekhnika</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/401909/"> Guten Tag, liebe Gemeinschaft.  Ich m√∂chte Ihnen ein Experiment zur Implementierung eines Sicherheitssystems f√ºr ein Heim vorstellen, das auf Smart-Home-Ger√§ten von Nootehnika basiert.  Ich m√∂chte sofort reservieren, dass dies eines der ersten Experimente ist, und mein Ziel ist es nicht, ‚Äûeine uneinnehmbare Bastion zu bauen‚Äú, sondern die M√∂glichkeiten zu demonstrieren, die von mir ausgew√§hlten Ger√§te zu verwenden, zu experimentieren und Lektionen zu lernen sowie Feedback von Ihnen zu erhalten. <br><br>  Kurz gesagt, das System, das ich entworfen habe, sollte ein Foto von jeder Person machen, die sich im Scharfschaltmodus der Haust√ºr n√§herte, ein Foto an eine E-Mail-Adresse senden und eine E-Mail-Nachricht senden, falls im Flur eine Bewegung registriert wird (d. H. Es gibt Bewegung in der Wohnung). . <a name="habracut"></a>  Also zur Aussage des Problems. <br><br><h2>  <b>1. Erkl√§rung des Problems</b> </h2><br>  Das System, das ich entwerfe, sollte: <br><br><ul><li>  Machen Sie im Aktivierungsmodus ein Foto von jeder Person, die sich der Haust√ºr n√§hert, und senden Sie das Foto an eine E-Mail-Adresse. </li><li>  Senden Sie im Aktivierungsmodus eine E-Mail-Nachricht, wenn Sie eine Bewegung im Flur registrieren (ohne Foto, da ich dort keine IP-Kameras habe). </li><li>  bieten verschiedene Schnittstellen zum Aktivieren und Deaktivieren. </li></ul><br>  Mit verschiedenen Aktivierungsschnittstellen meine ich: <br><br><ul><li>  Aktivieren und Deaktivieren mit Hilfe von Funkschaltern Nootehnika; </li><li>  Aktivieren und Deaktivieren √ºber die Weboberfl√§che zur Verwaltung eines Smart Homes. </li></ul><br><h2>  <b>2. Beschreibung der L√∂sung</b> </h2><br>  Um dieses Problem zu l√∂sen, habe ich die folgende Hardware verwendet: <br><br><ul><li>  zwei Bewegungssensoren 112; </li><li>  Empf√§nger von Signalen von Sensoren und Schaltern RX2164; </li><li>  PU311-2 Schalter; </li><li>  3VI Nettop (basierend auf dem Atom D525 Prozessor); </li><li>  Chinesische IP-Kamera ohne Namen. </li></ul><br>  Ich habe bereits im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Abschnitt</a> "Einf√ºhrung" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">des Artikels</a> eine kurze Beschreibung der Ger√§te f√ºr den Bau des Smart Home der Firma Nootehnika gegeben, daher werde ich mich hier nicht auf dieses Thema konzentrieren.  Dar√ºber hinaus finden Sie alle Details zu den Ger√§ten auf der Website des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unternehmens</a> . <br><br>  Also zur Beschreibung des Systems.  Auf dem 3VI-Nettop sind Debian Linux 7, die SEC-Software (Simple Event Correlation) und eine Reihe von Linux-Dienstprogrammen zur Verwaltung von Nootechnics-Ger√§ten von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Oleg Artamonov</a> installiert. <br><br>  Bewegungssensoren (PM112) sind im Vorraum vor der Haust√ºr und im Korridor (innerhalb der Wohnung) installiert.  Der USB-Empf√§nger RX2164 ist an das Nettop angeschlossen.  Der Empf√§nger empf√§ngt Signale von Sensoren und Schaltern, und die auf dem Nettop installierten Nootehnics-Ger√§teverwaltungsdienstprogramme (im Folgenden als Noolite-Dienstprogramme bezeichnet) senden die empfangenen Signale an syslog.  SEC liest die Datei, in die Syslog-Daten geschrieben werden, und verarbeitet sie gem√§√ü den konfigurierten Regeln.  Als Ergebnis der Verarbeitung werden Aktionen wie das Empfangen von Fotos von der IP-Kamera und das Senden von E-Mail-Nachrichten ausgef√ºhrt. <br><br>  Es gibt zwei M√∂glichkeiten, den Sicherheitsmodus zu aktivieren (und zu deaktivieren): <br><br><ol><li>  durch Dr√ºcken einer Taste am PU311-2-Schalter; </li><li>  durch Dr√ºcken einer Taste in der Weboberfl√§che des Smart-Home-Steuerungssystems. </li></ol><br>  Ein Blockdiagramm, das den Betrieb des Systems veranschaulicht, ist in Abbildung 1 dargestellt. <br><br><img src="https://habrastorage.org/files/ac2/e02/b20/ac2e02b2021f408f95d5fe039beb7588.jpg"><br><br>  <b>Abbildung 1</b> - Blockdiagramm zur Funktionsweise des Systems <br><br><h2>  <b>3. Installieren der Systemhardware</b> </h2><br>  F√ºr dieses System verwende ich dieselben 2 Bewegungssensoren, deren Installation ich in Abschnitt 4 des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikels beschrieben habe</a> . <br><br>  Kurz gesagt, einer der Sensoren ist in der N√§he der Vordert√ºr im Vorraum (au√üerhalb der Wohnung) installiert.  Die Empfindlichkeit dieses Sensors ist so eingestellt, dass Bewegungen in unmittelbarer N√§he der T√ºr erfasst werden.  Der zweite Sensor ist unmittelbar neben der Haust√ºr installiert, befindet sich jedoch bereits in der Wohnung.  Die Empfindlichkeit wird so eingestellt, dass die Bewegung in unmittelbarer N√§he der T√ºr fixiert wird. <br><br>  Eine IP-Kamera ist au√üerhalb der Wohnung im Vorraum unter der Decke installiert.  Die Haust√ºr und etwa 1,5 Meter Platz vor ihr fallen in ihr Sichtfeld. <br><br>  Der Schalter PU311-2 ist im Schrank installiert, um nicht ins Auge zu fallen und nicht versehentlich gedr√ºckt zu werden. <br><br>  Das 3VI-Nettop mit dem Signalempf√§nger RX2164 befindet sich in der N√§he des Zwischengeschosses, um einen stabilen Empfang von Signalen von Sensoren und Schaltern zu gew√§hrleisten. <br><br>  Das Installationsdiagramm der Ger√§te ist in Abbildung 2 dargestellt. <br><br><img src="https://habrastorage.org/files/210/f9b/27b/210f9b27bd7349fbaa3ac91752612f73.jpg" height="300" width="180"><br><br>  <b>Abbildung 2</b> - Installationsdiagramm der Ausr√ºstung <br><br><h2>  <b>4. Software-Setup</b> </h2><br>  Das Software-Setup umfasst: <br><br><ul><li>  Einrichten von Noolite-Dienstprogrammen zum Empfangen von Signalen von Sensoren und Schaltern; </li><li>  Festlegen von SEC-Regeln, um auf Signale von Sensoren und Schaltern zu reagieren; </li><li>  Erstellen eines Skripts, das ein Foto von der Kamera empf√§ngt und E-Mails sendet; </li><li>  Erstellen einer Schaltfl√§che zum Ein- und Ausschalten des Systems in der Weboberfl√§che </li></ul><br><h3>  <b>Konfigurieren von Noolite-Dienstprogrammen zum Empfangen von Signalen von Sensoren und Schaltern</b> </h3><br>  Damit der RX2164-Empf√§nger Signale von einem Sensor oder Schalter empfangen kann, muss er ‚Äûgebunden‚Äú werden.  Dr√ºcken Sie dazu die Schnapptaste am Sensor selbst (auf der R√ºckseite) und f√ºhren Sie auf dem Computer, an den der Empf√§nger angeschlossen ist, den folgenden Befehl aus: nooliterxcfg ‚Äìbind &lt;Kanalnummer von 1 bis 64&gt;.  Ebenso ist der Schalter an den Empf√§nger gebunden. <br><br>  In meinem Fall war der Sensor im Vorraum mit Kanal 3 verbunden, der Sensor in der Wohnung mit Kanal 2 und zwei Schalttasten mit Kanal 1 bzw. 4. <br><br>  Um Signale von Sensoren in Echtzeit zu empfangen, m√ºssen Sie das Dienstprogramm nooliterx im Daemon-Modus ausf√ºhren.  Der Prozess der Installation von Dienstprogrammen und deren Einstellungen wird vom Entwickler selbst (Oleg Artamonov in der Dokumentation zu Dienstprogrammen) und von mir in Abschnitt 4 des Artikels (LINK) beschrieben.  Als Ergebnis erhalten wir eine Aufzeichnung der Signale von Sensoren und Schaltern im Syslog.  Es bleibt nur die Konfiguration der Aufzeichnung dieser Nachrichten in einer Datei im Syslog selbst zu konfigurieren, und bei der Ausgabe wird Folgendes erhalten (Beispielnachrichten von Sensoren): <br><br><pre><code class="bash hljs">Jan 7 15:47:39 vmon nooliterx[23022]: Received: status 133, channel 3, <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> 25, format 1, data 2 0 0 0 Jan 7 18:43:58 vmon nooliterx[23022]: Received: status 135, channel 2, <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> 25, format 1, data 1 0 0 0</code> </pre> <br>  Beispiele f√ºr Nachrichten von Schaltern (wenn eine Taste gedr√ºckt wird) sehen etwas anders aus: <br><br><pre> <code class="bash hljs">Jan 5 22:29:43 vmon nooliterx[23022]: Received: status 26, channel 1, <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> 4, format 0, data 1 0 0 0 Jan 5 22:27:55 vmon nooliterx[23022]: Received: status 145, channel 4, <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> 4, format 0, data 1 0 0 0</code> </pre> <br><h3>  <b>Konfigurieren Sie SEC-Regeln, um Signale von Sensoren und Schaltern auszul√∂sen.</b> </h3><br>  SEC ist ein Dienstprogramm zum Verarbeiten von Ereignisprotokollen.  Kurz gesagt, es empf√§ngt einen Strom von Ereignissen an der Eingabe, von denen jedes die √úbereinstimmung mit den Mustern konfigurierter Regeln √ºberpr√ºft.  Wenn eine √úbereinstimmung gefunden wird, wird die in der entsprechenden Regel vorgeschriebene Aktion gestartet.  Das Ding ist erstaunlich flexibel zu bedienen.  Es gibt eine detaillierte Manpage im Web. <br><br>  SEC wird in meinem System verwendet, um in Echtzeit nach Nachrichten von Sensoren und Schaltern zu suchen und ein Skript auszuf√ºhren, das Fotos aufnimmt und E-Mails sendet oder einfach das Ein- und Ausschalten des gesamten Systems √ºbersetzt. <br><br>  In SEC habe ich 4 Regeln konfiguriert.  2 - zum Verarbeiten von Ereignissen von Bewegungssensoren und zwei - zum Verarbeiten von Signalen von zwei Tasten des Schalters.  Regeln finden Sie in /etc/sec.conf <br><br>  <b>Regel 1: Verarbeitung des Signals vom Bewegungssensor im Vestib√ºl (Sensor an Kanal 3 angebracht)</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">type</span></span>=SingleWithSuppress ptype=RegExp pattern=\w+\s+\d+\s+\d+\:\d+\:\d+\s+\w+\s+nooliterx\S+\s+Received\:\s+status\s+\d+,\s+channel\s+(3),\s+<span class="hljs-built_in"><span class="hljs-built_in">command</span></span>\s+25.* desc=Motion sensor frontdoor <span class="hljs-variable"><span class="hljs-variable">$1</span></span> triggered action=shellcmd (/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/smarthome/security/send_photo_alert.sh <span class="hljs-variable"><span class="hljs-variable">$1</span></span>); event %s window=60</code> </pre> <br>  Der Typ dieser Regel - "SingleWithSurpress" - reagiert nur auf das erste aufgezeichnete Ereignis w√§hrend des durch den Parameter "window" angegebenen Zeitintervalls in Sekunden.  Das hei√üt,  Diese Einstellung bedeutet, dass die Regel nicht mehr als einmal pro Minute funktioniert und die im Parameter "Aktion" angegebene Aktion nicht mehr als einmal pro Minute gestartet wird.  Dies geschieht, damit jemand f√ºr einige Minuten durch die T√ºr stampft, um seine Post nicht mit Tonnen von Briefen zu spammen.  Im Parameter "pattern" wird ein regul√§rer Ausdruck geschrieben, nach dem Ereignisse von dem mit Kanal 3 verkn√ºpften Sensor durchsucht werden. Im Parameter "action" werden zwei Aktionen angegeben - shellcmd, der das Skript ausf√ºhrt und ihm einen aus dem regul√§ren Ausdruck extrahierten Parameter √ºbergibt (in diesem Fall, der die Zahl "3" darstellt), und die zweite Aktion "Ereignis% s", die dazu dient, den im Parameter "desc" aufgezeichneten Ausdruck auf andere Regeln zu √ºbertragen, was f√ºr den Betrieb dieses Systems nicht erforderlich ist und weggelassen werden kann.  Der Parameter "desc" gibt zus√§tzliche Serviceinformationen an, die von anderen Regeln verwendet werden.  F√ºr dieses System ist es nicht erforderlich und es k√∂nnen dort beliebige Daten eingegeben werden. <br><br>  <b>Regel 2: Signalverarbeitung von einem Bewegungssensor im Korridor (Sensor an Kanal 2 angebracht)</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">type</span></span>=SingleWithSuppress ptype=RegExp pattern=\w+\s+\d+\s+\d+\:\d+\:\d+\s+\w+\s+nooliterx\S+\s+Received\:\s+status\s+\d+,\s+channel\s+(2),\s+<span class="hljs-built_in"><span class="hljs-built_in">command</span></span>\s+25.* desc=Motion sensor lobby <span class="hljs-variable"><span class="hljs-variable">$1</span></span> triggered action=shellcmd (/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/smarthome/security/send_photo_alert.sh <span class="hljs-variable"><span class="hljs-variable">$1</span></span>); event %s window=60</code> </pre> <br>  Hier ist alles √§hnlich wie in Regel 1. Es ist nur zu beachten, dass die aus dem regul√§ren Ausdruck erhaltene Zahl ‚Äû2‚Äú an das Skript √ºbergeben wird. <br><br>  <b>Regel 3: Signalverarbeitung von einer Schalttaste, die Kanal 1 zugeordnet ist</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">type</span></span>=single ptype=regexp pattern=\w+\s+\d+\s+\d+\:\d+\:\d+\s+\w+\s+nooliterx\S+\s+Received\:\s+status\s+\d+,\s+channel\s+(1),\s+<span class="hljs-built_in"><span class="hljs-built_in">command</span></span>\s+4.* desc=switch guard mode online action=shellcmd (/bin/<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"online"</span></span> &gt; /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/smarthome/security/status)</code> </pre> <br>  Diese Regel ist noch einfacher: Sie wird f√ºr jedes Ereignis ausgel√∂st, das dem im Parameter "pattern" angegebenen regul√§ren Ausdruck entspricht.  Als Aktion wird in die Systemstatusdatei geschrieben.  Diese Datei wird von einem Skript analysiert, das mit den Regeln 1 und 2 gestartet wurde. Wenn der Status "online" lautet, wird das Skript ausgel√∂st. Wenn der Wert "offline" ist, funktioniert das Skript nicht.  Mehr dazu etwas weiter. <br><br>  <b>Regel 4: Signalverarbeitung √ºber eine dem Kanal 4 zugeordnete Schalttaste</b> <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">type</span></span>=single ptype=regexp pattern=\w+\s+\d+\s+\d+\:\d+\:\d+\s+\w+\s+nooliterx\S+\s+Received\:\s+status\s+\d+,\s+channel\s+(4),\s+<span class="hljs-built_in"><span class="hljs-built_in">command</span></span>\s+4.* desc=switch guard mode offline action=shellcmd (/bin/<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"offline"</span></span> &gt; /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/smarthome/security/status)</code> </pre> <br>  Alles ist √§hnlich wie in Regel 3, nur der Status wird auf "offline" gesetzt. <br><br><h3>  <b>Ein Skript, das Fotos von der Kamera aufnimmt und E-Mails sendet</b> </h3><br>  Das durch die Regeln 1 und 2 gestartete Skript √ºberpr√ºft den Status des Systems in der Statusdatei und f√ºhrt abh√§ngig von seinem Wert ("online" oder "offline") die folgenden Aktionen aus oder nicht: <br><br><ul><li>  empf√§ngt ein Foto von der IP-Kamera im Vorraum und sendet eine E-Mail, falls sich ein Sensor im Vorraum befindet; </li><li>  sendet eine Alarmmeldung im Falle eines Sensors im Korridor. </li></ul><br>  Das Folgende ist der Hauptteil des Skripts.  An seinem Eingang empf√§ngt er (von der SEC) die Kanalnummer, an die der Sensor angeschlossen ist, und f√ºhrt abh√§ngig von dieser Nummer und dem Status des Systems bestimmte Aktionen aus. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh dir="/usr/local/smarthome/security" MAIL=$dir/mail.letter stat_file="$dir/status" dt=`date` if [ "$1" -eq 2 ] then if grep "online" $stat_file then cd $dir rm -f $dir/snapshot.cgi wget http://&lt;IP  &gt;/snapshot.cgi --user=&lt;username&gt; --password=&lt;password&gt; mpack -s "Someone at the door at $dt" $dir/snapshot.cgi d.shulinin@gmail.com fi elif [ "$1" -eq 3 ] then if grep "online" $stat_file then printf "Subject: Motion in the lobby spotted at $dt\n" &gt; $MAIL /usr/sbin/ssmtp email@gmail.com &lt; $MAIL fi else echo "no legitimate input detected" fi</span></span></code> </pre> <br>  Um Fotos von meiner IP-Kamera zu erhalten, verwende ich wget und eine Zeile wie diese: <br><br><pre> <code class="bash hljs">wget http://&lt;IP  &gt;/snapshot.cgi --user=&lt;username&gt; --password=&lt;password&gt;</code> </pre> <br>  Bei anderen IP-Kameras m√ºssen Sie m√∂glicherweise nach anderen Optionen suchen. Es gibt keine einzige L√∂sung.  RTFM zur Kamera, wie sie sagen. <br><br>  Die Schaltfl√§chen zum Ein- und Ausschalten des Systems in der Weboberfl√§che.  Um den Sicherheitsmodus zu aktivieren und zu deaktivieren, habe ich meiner selbst geschriebenen Weboberfl√§che einige Schaltfl√§chen hinzugef√ºgt, mit denen Sie die Lichtquellen eines Smart Homes steuern k√∂nnen. <br><br>  Sie sehen wie folgt aus: <br><br><pre> <code class="bash hljs">&lt;?php <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isset(<span class="hljs-variable"><span class="hljs-variable">$_POST</span></span>[<span class="hljs-string"><span class="hljs-string">'button9_on'</span></span>])) { <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>(<span class="hljs-string"><span class="hljs-string">'/bin/echo "online" &gt; /usr/local/smarthome/security/status'</span></span>); } ?&gt; &lt;?php <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isset(<span class="hljs-variable"><span class="hljs-variable">$_POST</span></span>[<span class="hljs-string"><span class="hljs-string">'button9_off'</span></span>])) { <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>(<span class="hljs-string"><span class="hljs-string">'/bin/echo "offline" &gt; /usr/local/smarthome/security/status'</span></span>); } ?&gt; &lt;p&gt;&lt;h2&gt;Guard mode&lt;/h2&gt;&lt;/p&gt; &lt;form method=<span class="hljs-string"><span class="hljs-string">"post"</span></span>&gt; &lt;p&gt; &lt;button name=<span class="hljs-string"><span class="hljs-string">"button9_on"</span></span>&gt;ON&lt;/button&gt; &lt;button name=<span class="hljs-string"><span class="hljs-string">"button9_off"</span></span>&gt;OFF&lt;/button&gt; &lt;/p&gt;</code> </pre> <br>  Hier ist alles einfach - wenn Sie auf die Schaltfl√§che ‚ÄûEIN‚Äú klicken, wird ‚Äûonline‚Äú in die Statusdatei geschrieben, wenn Sie auf ‚ÄûAUS‚Äú - ‚Äûoffline‚Äú klicken. <br><br><h2>  <b>5. Fazit</b> </h2><br>  Als Ergebnis habe ich ein System erhalten, das bei Aktivierung Bilder von jedem macht, der sich der T√ºr gen√§hert hat, und das Foto per E-Mail sendet.  Und wenn sich in der Wohnung etwas bewegt, wird einfach eine Benachrichtigung per E-Mail gesendet. <br><br>  Beispiel-E-Mail-Nachrichten sehen ungef√§hr so ‚Äã‚Äãaus (siehe Abbildung 3).  Die Bilder selbst sind nat√ºrlich gr√∂√üer und werden gr√∂√üer, wenn Sie mit der Maus darauf klicken. <br><br><img src="https://habrastorage.org/files/fe5/9d4/689/fe59d468920b4e9fbfb5059d3f1d40aa.jpg"><br>  <i><b>Abbildung 3</b> - Beispiel-E-Mail mit Foto</i> <br><br>  Das System kann durch Dr√ºcken einer Taste am Schalter sowie √ºber die Tasten in der Weboberfl√§che des Smart-Home-Steuerungssystems aktiviert und deaktiviert werden. <br><br>  Kurzfristig m√∂chte ich auch den aktuellen Status des Systems (aktiv / inaktiv) in der Weboberfl√§che anzeigen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de401909/">https://habr.com/ru/post/de401909/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de401899/index.html">Multifunktionaler DIY Logger. Teil 1</a></li>
<li><a href="../de401901/index.html">Mondscheinfenster zum Universum</a></li>
<li><a href="../de401903/index.html">Wie Kl√§nge unseren Schlaf und unsere Produktivit√§t beeinflussen</a></li>
<li><a href="../de401905/index.html">Apple Power Mac G4 Cube und seine Zeitgenossen in einer kleinen Fotobewertung</a></li>
<li><a href="../de401907/index.html">Roboterautos m√ºssen lernen, Menschen zu verstehen.</a></li>
<li><a href="../de401911/index.html">Notstromversorgung im Rechenzentrum "Maria-Ra"</a></li>
<li><a href="../de401913/index.html">1-Draht-Bustreiber f√ºr Steuerungen mit weniger als 5 V.</a></li>
<li><a href="../de401915/index.html">MWC 2017: Smartphones</a></li>
<li><a href="../de401917/index.html">Spielzeug jeden Alters ist unterw√ºrfig</a></li>
<li><a href="../de401919/index.html">ONO 3D-Drucker. Stereolithographie - f√ºr die Massen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>