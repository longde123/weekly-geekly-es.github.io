<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👨🏾 🎣 🍶 Utilisation d'un arbre binaire en swift avec enum en utilisant l'OCR comme exemple 🛌🏽 💪🏾 🏴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'objectif était de créer une application mac capable de reconnaître le code des images et des vidéos. 

 Je voulais m'assurer que même avec une grand...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Utilisation d'un arbre binaire en swift avec enum en utilisant l'OCR comme exemple</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439324/">  L'objectif était de créer une application mac capable de reconnaître le code des images et des vidéos. <br><br>  Je voulais m'assurer que même avec une grande quantité de code, le texte était reconnu en moins d'une seconde. <br><br>  Le problème est facilité par le fait que la langue dans laquelle le code est écrit est toujours l'anglais et la largeur entre toutes les lettres est la même (police à espacement fixe) - elles sont utilisées pour la programmation, et dans ces polices, il est facile de voir la différence entre 1 et I, 0 et O, etc. <br><br>  En bref, la tâche se résume à deux parties: <br><br><h4>  1. Trouver la lettre elle-même avec ses bordures </h4><br>  Et Vision, le nouveau framework d'Apple, a fait un excellent travail. <br><br><div class="spoiler">  <b class="spoiler_title">Voici une capture d'écran de son fonctionnement.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/1g/n_/d9/1gn_d9bpayxjhoqhybienvga1po.png"><br></div></div><br><h4>  2. Reconnaissance de la lettre dans les limites données </h4><br>  J'ai décidé de ne pas aller de façon délicate et de vérifier certains pixels du carré, dans les limites desquels il y a des lettres (disons: centre, coins, côtés) et, en partant de la présence ou de l'absence d'une lettre, classer ce qu'est la lettre. <br><br>  Exemple illustratif: <br><br><img src="https://habrastorage.org/webt/kn/_h/_m/kn_h_mx9nmt79nygkl7p2fp45zi.png"><br><br><div class="spoiler">  <b class="spoiler_title">Et voici à quoi ressemblera l'arbre</b> <div class="spoiler_text">  C'est une partie car tout ne rentrerait pas et ce n'est pas nécessaire. <br><img src="https://habrastorage.org/webt/rk/3d/c1/rk3dc1b5hqlcsxrtdk6qxmkrgcg.png"><br></div></div><br>  Comment transférer ce dessin schématique dans le code, pour ne pas y creuser, et pour qu'il soit tout aussi évident?! <br><a name="habracut"></a><br>  C'est là qu'un arbre binaire vient à la rescousse.  Voici son cadre. <br><br><pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Tree</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Node</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Result</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-comment"><span class="hljs-comment">///Empty result case empty ///Result with generic type case r(Result) ///Recursive case with generic tree indirect case n(Node, Tree&lt;Node, Result&gt;, Tree&lt;Node, Result&gt;) }</span></span></code> </pre> <br>  Maintenant, sur cette base, nous pouvons transférer tout notre dessin en code. <br><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">//.c ,       ,   "H"    "O" //  .c   ,     let HorOTree = TreeOCR.n(.c, .r("H"), .r("O"))</span></span></code> </pre><br>  Voici à quoi ressemblerait un morceau de bois. <br><br><img src="https://habrastorage.org/webt/lw/do/yg/lwdoygcuvfzrubfxl5ozwpi-r98.png"><br><br>  Vous pouvez tout décomposer très schématiquement et trouver facilement la lettre dont vous avez besoin. <br><br>  Et le dernier moment, c'est à quoi ressemble le modèle lui-même, dans lequel tout le travail a lieu. <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Tree</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">where</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Node</span></span></span><span class="hljs-class"> == </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OCROperations</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Result</span></span></span><span class="hljs-class"> == </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">find</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> colorChecker: LetterExistenceChecker, with frame: CGRect)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">String?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .empty: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .r(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> element): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> element <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> .n(operation, <span class="hljs-keyword"><span class="hljs-keyword">left</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">right</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> exist = operation.action(colorChecker, frame) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (exist ? <span class="hljs-keyword"><span class="hljs-keyword">left</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">right</span></span>).<span class="hljs-built_in"><span class="hljs-built_in">find</span></span>(colorChecker, with: frame) } } }</code> </pre><br>  Dans cet arbre, nous passons la classe LetterExistenceChecker, qui est chargée de vérifier la présence d'un pixel d'une lettre à un point spécifique dans les limites du carré souhaité.  Bien sûr, j'ai omis de nombreux détails, sinon l'article serait trop lourd.  Et ici, non seulement ces deux étapes qui ont été mentionnées dans l'article, mais bien plus, mais elles ont été omises, car le but était de montrer comment utiliser l'arbre binaire et l'énumération. <br><br>  Voici une démonstration du fonctionnement du programme, veuillez noter que puisque l'objectif était de reconnaître uniquement le texte avec du code, j'ai décidé d'ignorer tout le reste du texte qui n'est pas du code, afin que le programme ne recherche que du texte avec du code. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SpvVkXLfuIA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Je serai heureux d'entendre vos commentaires, critiques. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr439324/">https://habr.com/ru/post/fr439324/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr439312/index.html">Accélérez l'informatique complexe avec une charge RAM minimale</a></li>
<li><a href="../fr439314/index.html">Sept façons étranges de gérer l'ermitage dans le travail à distance</a></li>
<li><a href="../fr439316/index.html">"J'ai arrêté de faire ce que je ne vois pas l'intérêt": les chefs de projet sur leur travail et leur formation</a></li>
<li><a href="../fr439318/index.html">Vaincre la procrastination avec la dépendance au jeu</a></li>
<li><a href="../fr439320/index.html">Comment diversifier les cours de programmation pour les enfants d'âges différents</a></li>
<li><a href="../fr439326/index.html">Pick-up électrique Ford F-150 EV - dans le prototype et testé sur la route</a></li>
<li><a href="../fr439328/index.html">Ok Google! Êtes-vous bon ou mauvais?</a></li>
<li><a href="../fr439330/index.html">Reconnaissance des nombres. Comment nous avons obtenu une précision de 97% pour les nombres ukrainiens. 2e partie</a></li>
<li><a href="../fr439332/index.html">Fonctionnement du PageRank: implémentation en R via l'algèbre linéaire et la méthode d'alimentation</a></li>
<li><a href="../fr439334/index.html">Environ 2 milliards de roubles affectés à la mise en œuvre du projet de loi sur le runet durable</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>