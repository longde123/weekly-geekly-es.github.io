<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚈 👳🏿 👩🏾‍🎓 Tratamento de erros no Vue 🧑🏾‍🤝‍🧑🏾 😦 🔋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Durante todo o ano passado, trabalhei com o meu framework favorito, o Vue.js, descrevendo e representando. E percebi que ainda não descobri o tratamen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tratamento de erros no Vue</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/460539/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/uc/ur/ja/ucurjalrgazboinj11chmjhp1h4.jpeg"></div><br>  Durante todo o ano passado, trabalhei com o meu framework favorito, o Vue.js, descrevendo e representando.  E percebi que ainda não descobri o tratamento de erros no Vue.  Eu gostaria de explicar isso dizendo que estou escrevendo um código perfeito, mas todos sabemos como as coisas realmente são.  Nos últimos dias, experimentei os vários métodos de tratamento de erros fornecidos pelo Vue e decidi compartilhar minhas descobertas.  Obviamente, esta revisão não cobrirá todos os cenários possíveis, mas espero que ajude você! <a name="habracut"></a><br><br><h2>  Erros </h2><br>  Para testar diferentes métodos de processamento, decidi aceitar três tipos diferentes de erros (pelo menos para começar).  No primeiro caso, era apenas uma chamada para uma variável inexistente: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-cloak</span></span></span><span class="hljs-tag">&gt;</span></span> Hello, {{name}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Neste exemplo, o usuário não recebe uma mensagem de erro, mas um aviso [Vue warn] é exibido no console. <br><br><img src="https://habrastorage.org/webt/0h/er/r7/0herr79zvq2adraeve6kuavuavm.png"><br><br>  Aqui está a aparência da execução deste exemplo: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/cfjedimaster/embed/preview/qweOKB" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  No segundo exemplo, tentei vincular uma variável a uma propriedade computada que deveria gerar um erro: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-cloak</span></span></span><span class="hljs-tag">&gt;</span></span> Hello, {{name2}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>:<span class="hljs-string"><span class="hljs-string">'#app'</span></span>, <span class="hljs-attr"><span class="hljs-attr">computed</span></span>:{ name2() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; } } })</code> </pre><br>  Nesse caso, o aviso [Vue warn] e a mensagem de erro usual são exibidos no console, mas nada é emitido para o usuário. <br><br><img src="https://habrastorage.org/webt/x5/vf/vx/x5vfvxxzegbkolkkcttdgp5me8k.png"><br><br>  É assim que o código para este exemplo é executado: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/cfjedimaster/embed/preview/BEXoOw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  No terceiro exemplo, usei um método que deve gerar um erro. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-cloak</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> @</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"doIt"</span></span></span><span class="hljs-tag">&gt;</span></span>Do It<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>:<span class="hljs-string"><span class="hljs-string">'#app'</span></span>, <span class="hljs-attr"><span class="hljs-attr">methods</span></span>:{ doIt() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; } } })</code> </pre><br>  Como no caso anterior, uma mensagem sobre esse erro no console será exibida duas vezes: um aviso e uma mensagem sobre esse erro.  Mas, ao contrário dele, um erro ocorre apenas quando o botão é realmente pressionado. <br><br><img src="https://habrastorage.org/webt/qc/d5/dm/qcd5dmvfjaq_qs4zpxt375rjil8.png"><br><br>  E aqui está uma demonstração para este exemplo: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/cfjedimaster/embed/preview/oOKjJb" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Antes de continuarmos, quero deixar claro que esses exemplos não mostram todos os tipos de erros que você pode cometer.  Estes são apenas alguns dos principais que, na minha opinião, podem ser encontrados em aplicativos baseados no Vue.js. <br><br>  Então, como você pode lidar com erros nos aplicativos Vue?  Devo dizer que fiquei um pouco surpreso que no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">guia</a> principal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">da estrutura do Vue</a> não haja uma seção sobre tratamento de erros. <br><br><img src="https://habrastorage.org/webt/p9/uu/lu/p9uuluauw5egp5h5y9p3ss1t8ws.png"><br><br>  Sim, há uma seção semelhante no manual, mas é muito curta e todo o seu significado se encaixa na seguinte citação: <br><br>  <i>“Se ocorrer um erro de tempo de execução durante a renderização do componente, ele será passado para a função de configuração global Vue.config.errorHandler, se um tiver sido especificado.</i>  <i>Provavelmente seria útil usar esse gancho em conjunto com um serviço de rastreamento de bugs, como o Sentry, especialmente porque sua integração com o Vue é oficialmente suportada. ”</i> <br><br>  Na minha opinião, esse tópico deve ser abordado um pouco mais na documentação (e acho que poderia ajudar na complementação).  Em geral, a manipulação de erros no Vue se resume aos seguintes meios: <br><br><ul><li>  <b>errorHandler;</b> </li><li>  <b>warnHandler;</b> </li><li>  <b>renderError;</b> </li><li>  <b>errorCaptured;</b> </li><li>  <b>window.onerror</b> (esta ferramenta não é específica para o Vue). </li></ul><br>  Vamos dar uma olhada mais de perto nesses truques. <br><br><h2>  Manipulador de erro número um: errorHandler </h2><br>  O primeiro remédio é <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">errorHandler</a> .  Como você provavelmente adivinhou, esse é o manipulador de erros padrão para aplicativos Vue.js.  Você pode atribuí-lo da seguinte maneira: <br><br><pre> <code class="javascript hljs">Vue.config.errorHandler = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, vm, info</span></span></span><span class="hljs-function">) </span></span>{ }</code> </pre><br>  Na declaração da função acima, err é a descrição do erro atual, info é a sequência de informações de erro específica do Vue e vm é o aplicativo atual do Vue.  Lembre-se de que vários aplicativos Vue podem ser executados na mesma página da web ao mesmo tempo.  Este manipulador de erros será aplicado a todos eles.  Considere o seguinte exemplo simples: <br><br><pre> <code class="javascript hljs">Vue.config.errorHandler = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, vm, info</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Error: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${err.toString()}</span></span></span><span class="hljs-string">\nInfo: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${info}</span></span></span><span class="hljs-string">`</span></span>); }</code> </pre><br>  No caso do primeiro erro, esse código não executa nenhuma ação.  Se você se lembrar, isso gera um <i>aviso</i> , não uma mensagem de erro. <br><br>  No segundo caso, o erro é processado e o seguinte texto é exibido: <br><br><pre> <code class="bash hljs">Error: ReferenceError: x is not defined Info: render</code> </pre> <br>  Finalmente, o terceiro exemplo fornece o seguinte resultado: <br><br><pre> <code class="bash hljs">Error: ReferenceError: x is not defined Info: v-on handler</code> </pre> <br>  Observe como "útil" as informações estão no cabeçalho Informações nos dois exemplos anteriores.  Agora vamos verificar como a seguinte ferramenta funciona. <br><br><h2>  Manipulador de erro número dois: warnHandler </h2><br>  alças <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">warnHandler</a> - o que você acha?  - Vue avisos.  Observe que na produção esse manipulador é ignorado.  O manipulador para esse método também é um pouco diferente do anterior: <br><br><pre> <code class="javascript hljs">Vue.config.warnHandler = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">msg, vm, trace</span></span></span><span class="hljs-function">) </span></span>{ }</code> </pre> <br>  Os dois primeiros argumentos - msg e vm - não requerem explicações adicionais, e o argumento de rastreamento deve ser uma árvore de componentes.  Considere um exemplo: <br><br><pre> <code class="javascript hljs">Vue.config.warnHandler = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">msg, vm, trace</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Warn: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${msg}</span></span></span><span class="hljs-string">\nTrace: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${trace}</span></span></span><span class="hljs-string">`</span></span>); }</code> </pre> <br>  O primeiro exemplo agora tem um manipulador para o aviso gerado e retorna o seguinte: <br><br><img src="https://habrastorage.org/webt/n-/vs/b5/n-vsb5ddofte7axiscbaduwoymw.png"><br><br>  O segundo e terceiro exemplos não são alterados.  Exemplos ao vivo para todos os três casos são apresentados abaixo. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/cfjedimaster/embed/preview/oOKxEa" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/cfjedimaster/embed/preview/PgMNao" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/cfjedimaster/embed/preview/wZVGEK" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Manipulador de erro número três: renderError </h2><br>  Agora vou demonstrar um terceiro método de tratamento de erros: renderError.  Diferentemente das duas anteriores, essa ferramenta depende do componente e não é universal.  Assim como warnHandler, esse manipulador de produção está desativado. <br><br>  Para usá-lo, insira-o no seu componente / aplicativo.  A seguir, um exemplo modificado da documentação. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>:<span class="hljs-string"><span class="hljs-string">'#app'</span></span>, renderError (h, err) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h(<span class="hljs-string"><span class="hljs-string">'pre'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">style</span></span>: { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'red'</span></span> }}, err.stack) } })</code> </pre><br>  Se esse manipulador de erros for usado no primeiro exemplo, ele não fará nada, o que, se você pensar sobre isso, <i>parece</i> lógico, pois o primeiro exemplo fornece um aviso, não um erro.  Se você marcar esse manipulador no segundo exemplo, onde a propriedade calculada apresenta um erro, verá que o resultado é exibido na tela.  Você pode ver isso na demo codePen abaixo. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/cfjedimaster/embed/preview/NmQrwa" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Sinceramente, não entendo por que usar essa ferramenta quando o console é muito mais conveniente, mas se o departamento de controle de qualidade ou outros testadores não estiverem familiarizados com o console do navegador, uma mensagem de erro mais simples na tela pode ajudá-los. <br><br><h2>  Manipulador de erro número quatro: errorCaptured </h2><br>  Finalmente, há a ferramenta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">errorCaptured</a> (específica do Vue) que me confundiu e, francamente, ainda é um pouco confusa.  A documentação diz o seguinte: <br><br>  <i>“Chamado se um erro for cometido em qualquer componente filho.</i>  <i>Esse gancho recebe três argumentos: um erro, uma instância do componente que causou o erro e uma sequência contendo informações sobre onde o erro foi registrado.</i>  <i>O gancho pode retornar falso para impedir a propagação do erro ".</i> <br><br>  De acordo com minha pesquisa (novamente, duvido muito), esse manipulador de erros deve ser usado apenas pelo componente pai que lida com o erro do componente filho.  Até onde eu sei, ele não pode ser usado na instância principal do Vue, mas somente em um componente que tem filhos. <br><br>  Para verificar isso, criei este conjunto de componentes pai e filho: <br><br><pre> <code class="javascript hljs">Vue.component(<span class="hljs-string"><span class="hljs-string">'cat'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">template</span></span>:<span class="hljs-string"><span class="hljs-string">` &lt;div&gt;&lt;h1&gt;Cat: &lt;/h1&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt;`</span></span>, <span class="hljs-attr"><span class="hljs-attr">props</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">name</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">required</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">String</span></span> } }, errorCaptured(err,vm,info) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`cat EC: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${err.toString()}</span></span></span><span class="hljs-string">\ninfo: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${info}</span></span></span><span class="hljs-string">`</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } }); Vue.component(<span class="hljs-string"><span class="hljs-string">'kitten'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">template</span></span>:<span class="hljs-string"><span class="hljs-string">'&lt;div&gt;&lt;h1&gt;Kitten: {{ dontexist() }}&lt;/h1&gt;&lt;/div&gt;'</span></span>, <span class="hljs-attr"><span class="hljs-attr">props</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">name</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">required</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>:<span class="hljs-built_in"><span class="hljs-built_in">String</span></span> } } });</code> </pre> <br>  Observe que o componente gatinho contém um erro.  Agora, se eu tentar usar esse componente da seguinte maneira, <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-cloak</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cat</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"my cat"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kitten</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kitten</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cat</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Receberei uma mensagem do manipulador: <br><br><pre> <code class="bash hljs">cat EC: TypeError: dontexist is not a <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> info: render</code> </pre> <br>  Você pode ver isso no exemplo abaixo. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/cfjedimaster/embed/preview/MRMbYJ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Então, sim, uma ferramenta interessante.  Acredito que será usado principalmente por quem criar bibliotecas de componentes com relacionamentos pai / filho.  Essa ferramenta é mais adequada para o desenvolvedor da biblioteca do que para o desenvolvedor comum, se essa divisão fizer sentido.  Mas, novamente, esta é apenas a minha primeira impressão dessa ferramenta. <br><br><h2>  Uma única ferramenta para gerenciar tudo no mundo: window.onerror </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hf/2z/hv/hf2zhv1yy2sxrrj-qcq68cci9qa.png"></div><br>  A última opção (e mais poderosa) é usar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">window.onerror</a> , um manipulador de erros global para <i>tudo o</i> que pode acontecer quando o código JavaScript é executado.  Este manipulador tem o seguinte formato: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.onerror = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">message, source, line, column, error</span></span></span><span class="hljs-function">) </span></span>{ }</code> </pre><br>  Provavelmente, a única coisa que você não pode adivinhar no código acima é o significado do argumento de origem, que é a URL do script. <br><br>  É aqui que a diversão começa.  Se você definir essa função, mas <i>não</i> usar Vue.config.errorHandler, ela não ajudará.  O Vue espera que você defina Vue.config.errorHandler e, se não o fizer, ele não propagará o erro além de seus limites.  Provavelmente, isso faz algum sentido ... eu nem sei, para mim não há muito sentido nisso.  Uma coisa ainda mais estranha: digamos que haja um erro no seu próprio manipulador de erros do Vue.  Ele também não alcança o manipulador window.onerror. <br><br>  Aqui está uma demonstração no CodePen com um exemplo correspondente.  Comentei o erro no errorHandler, mas se você remover o comentário, verá que o manipulador de erros global não funcionará.  Funcionará apenas em um caso: se você pressionar o segundo botão. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://codepen.io/cfjedimaster/embed/preview/WWVowN" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Conclusão </h2><br>  Espero que o material deste artigo seja útil para os leitores.  Como já escrevi no começo, comecei a lidar com esse tópico, então, é claro, estou aguardando comentários, comentários e sugestões.  Fico feliz em ler como outros desenvolvedores usam essas ferramentas em seus aplicativos! <br><br>  <i>Foto no começo do artigo: autor - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">David Kovalenko</a> , site da Unsplash</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt460539/">https://habr.com/ru/post/pt460539/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt460527/index.html">Solução de problemas com pwnable.kr 06 - aleatório e 09 - erro</a></li>
<li><a href="../pt460531/index.html">Perversões curiosas do mundo da TI - 5</a></li>
<li><a href="../pt460533/index.html">Você teve a ideia de um produto de TI, o que vem a seguir</a></li>
<li><a href="../pt460535/index.html">Criando um contêiner Docker mínimo para aplicativos Go</a></li>
<li><a href="../pt460537/index.html">ZuriHac: praticando programação funcional</a></li>
<li><a href="../pt460541/index.html">Procure contornos faciais em um milissegundo usando um conjunto de árvores de regressão</a></li>
<li><a href="../pt460543/index.html">Novas certificações para desenvolvedores da Cisco. Visão geral da certificação do setor</a></li>
<li><a href="../pt460547/index.html">Antiguidades: Psion 5MX e Vida Aposentada</a></li>
<li><a href="../pt460551/index.html">Portugal As melhores praias e mil startups por ano</a></li>
<li><a href="../pt460553/index.html">Tecnologia, terceirização e mentalidade: como implementamos o Microsoft Dynamics 365 no escritório alemão da Lamoda</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>