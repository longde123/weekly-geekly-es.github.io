<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç∞ ü•ú ‚öóÔ∏è Mise en route √âtudier STM32 ou g√©rer la lumi√®re intelligemment ü§õüèæ üé∫ ü¶ñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Petite introduction 
 Une fois, lorsque je suis entr√© dans le prochain appartement lou√©, j'ai rencontr√© un certain inconv√©nient qui √©tait assez ennuye...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mise en route √âtudier STM32 ou g√©rer la lumi√®re intelligemment</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/406839/"><h3>  Petite introduction </h3><br>  Une fois, lorsque je suis entr√© dans le prochain appartement lou√©, j'ai rencontr√© un certain inconv√©nient qui √©tait assez ennuyeux: l'interrupteur d'√©clairage dans la pi√®ce principale s'est av√©r√© √™tre derri√®re l'armoire murale, qui √©tait viss√©e au mur, et son r√©arrangement √©tait impossible car  cela a pris beaucoup de temps et d'efforts.  Je voulais beaucoup r√©soudre ce probl√®me et une pens√©e m'est venue √† l'esprit: faire une t√©l√©commande pour contr√¥ler l'√©clairage! <br><br>  C'est avec l'id√©e de cr√©er ma propre t√©l√©commande pour contr√¥ler la lumi√®re dans la pi√®ce que ma passion pour l'√©lectronique, les microcontr√¥leurs et divers appareils radio a commenc√©. <a name="habracut"></a><br><br>  Liste d'articles: <br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mise en route √âtudier STM32 ou g√©rer la lumi√®re intelligemment</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mise en route STM32: op√©rations sur les bits</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mise en route STM32: Que sont les registres?</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment travailler avec eux?</a> </li></ol><br><br>  Apr√®s cela, j'ai commenc√© √† √©tudier ce sujet, √† me familiariser avec les bases de l'√©lectronique, des exemples d'appareils et √† apprendre comment les gens impl√©mentent de tels appareils.  Apr√®s avoir cherch√© des informations sur la fa√ßon de commencer √† √©tudier les microcontr√¥leurs, j'ai d√©couvert ce qu'est l'Arduino, ce avec quoi ils mangent, comment travailler avec eux.  La solution facile semblait tr√®s attrayante, car pour autant que je sache √† l'√©poque, le code va √™tre construit une ou deux fois.  Mais ayant conclu que je ne savais pas ce qui se passait √† l'int√©rieur du microcontr√¥leur en dehors du cadre des croquis Arduino, j'ai d√©cid√© de chercher une option plus int√©ressante, ce qui impliquait une √©tude approfondie et une immersion dans la jungle de la technologie des microcontr√¥leurs. <br><br>  L'entreprise dans laquelle je travaille dispose d'un d√©partement de d√©veloppement, et j'ai d√©cid√© de contacter les ing√©nieurs pour m'orienter sur la bonne voie et montrer par o√π commencer √† r√©soudre mon probl√®me.  J'√©tais fortement d√©courag√© d'√©tudier l'Arduino et j'avais entre les mains une √©charpe verte inconnue et incompr√©hensible sur laquelle il y avait des inscriptions, des lettres, divers composants √©lectroniques. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/696/782/519/6967825194744d6f909bb57c6720e38e.png"></div><br>  Tout cela pour moi √† ce moment-l√† semblait incompr√©hensiblement compliqu√©, et je suis m√™me venu √† une certaine confusion, mais je n'allais pas refuser d'ex√©cuter la t√¢che.  J'ai donc fait la connaissance de la famille de microcontr√¥leurs STM32 et de la carte STM32F0-Discovery, apr√®s avoir √©tudi√© ce que j'aimerais empiler mon appareil pour les besoins dont j'ai besoin. <br><br>  √Ä ma grande surprise, une si grande communaut√©, des articles, des exemples, divers mat√©riaux sur STM n'√©taient pas dans la m√™me abondance que pour Arduino.  Bien s√ªr, si vous recherchez, il existe de nombreux articles "pour les d√©butants" qui d√©crivent comment et par o√π commencer.  Mais √† ce moment-l√†, il me semblait que tout cela √©tait tr√®s compliqu√©, beaucoup de d√©tails qui √©taient int√©ressants pour l'esprit curieux d'un d√©butant, les choses n'√©taient pas dites.  Bien que de nombreux articles aient √©t√© qualifi√©s d '¬´apprentissage pour les plus petits¬ª, il n'a pas toujours √©t√© possible d'obtenir le r√©sultat souhait√© avec leur aide, m√™me avec des exemples de code pr√™ts √† l'emploi.  C'est pourquoi j'ai d√©cid√© d'√©crire une courte s√©rie d'articles sur la programmation sur STM32 √† la lumi√®re de la mise en ≈ìuvre d'une id√©e sp√©cifique: un panneau de commande d'√©clairage dans la pi√®ce. <br><br><h3>  Pourquoi pas AVR / Arduino? </h3><br>  Anticipant les d√©clarations selon lesquelles il serait trop t√¥t pour un d√©butant inexp√©riment√© de se lancer imm√©diatement dans l'√©tude d'un MK aussi complexe que le STM32 - je vais vous expliquer pourquoi j'ai d√©cid√© de suivre cette voie sans entrer dans la famille de processeurs Atmel et sans me familiariser avec elle, sans m√™me envisager Arduino comme une option . <br><br>  Premi√®rement, la relation prix-fonctionnalit√© a jou√© un r√¥le d√©cisif, la diff√©rence est visible m√™me entre l'un des MK les moins chers et les plus simples de ST et l'ATMega plut√¥t ¬´gros¬ª: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/e2e/d92/94a/e2ed9294a7fa46ad9a8889d9bf5c35a2.png"></div><br>  Apr√®s avoir vu des diff√©rences importantes entre le prix et les capacit√©s de l'AVR et du STM32 - j'ai d√©cid√© que je n'utiliserais pas l'AVR dans mon d√©veloppement =) <br><br>  Deuxi√®mement, j'ai d√©j√† essay√© par moi-m√™me de d√©terminer l'ensemble des comp√©tences que j'aurais re√ßues au moment o√π j'atteindrais le r√©sultat souhait√©.  Au cas o√π je d√©ciderais d'utiliser Arduino - il me suffirait de copier les biblioth√®ques finies, de mettre un croquis et le tour est jou√©.  Mais comprendre comment fonctionnent les bus num√©riques, comment fonctionne un √©metteur radio, comment tout est configur√© et utilis√© - dans cette situation, je ne serais jamais venu.  Pour moi, j'ai choisi le chemin le plus difficile et le plus √©pineux, de sorte que sur le chemin de l'atteinte du r√©sultat - j'obtienne le maximum d'exp√©rience et de connaissances. <br><br>  Troisi√®mement, tout STM32 peut √™tre remplac√© par un autre STM32, mais avec de meilleures fonctionnalit√©s.  De plus, sans changer le circuit de commutation. <br><br>  Quatri√®mement, les personnes ayant un d√©veloppement professionnel sont plus susceptibles d'utiliser des MK 32 bits, et le plus souvent, ce sont des mod√®les de NXP, Texas Instruments et ST Microelectronics.  Oui, et je pouvais √† tout moment aller voir mes ing√©nieurs du d√©partement de d√©veloppement et savoir comment r√©soudre un probl√®me particulier et obtenir des conseils sur les probl√®mes qui m'int√©ressent. <br><br><h3>  Pourquoi commencer √† explorer les microcontr√¥leurs STM32 avec une carte Discovery? </h3><br>  Comme vous l'avez d√©j√† compris, nous allons commencer notre connaissance et l'√©tude du microcontr√¥leur STM32, chers lecteurs, avec l'utilisation de la carte Discovery.  Pourquoi Discovery, et non sa propre carte? <br><br><ol><li>  Sur toute carte Discovery, il y a un programmeur / d√©bogueur ST-LINK int√©gr√© qui se connecte √† l'ordinateur via USB et peut √™tre utilis√© √† la fois pour programmer le microcontr√¥leur sur la carte et les p√©riph√©riques externes en retirant / installant les cavaliers correspondants.  Autrement dit, un avantage √† tout - nous √©conomisons √©galement de l'argent en obtenant une solution deux-en-un: un microcontr√¥leur et un programmeur. </li><li>  Les cartes de d√©couverte ont un c√¢blage complet de toutes les broches directement du microcontr√¥leur aux broches de la carte.  Pour plus de commodit√©, j'ai coll√© Discovery dans les deux m√™mes cartes de prototypage. <div style="text-align:center;"><img src="https://habrastorage.org/web/c3c/0b6/bdb/c3c0b6bdbdcc4e35ba97fe0aac7e5380.png"></div></li><li>  3. Sur la carte, il y a toujours un certain nombre de p√©riph√©riques de toutes sortes, par exemple des acc√©l√©rom√®tres, des microphones, des √©crans, des capteurs et bien d'autres.  Diff√©rentes cartes Discovery ont diff√©rentes options de kit de carrosserie.  Si quelqu'un est int√©ress√©, vous pouvez en savoir plus sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le site Web du fabricant.</a> </li></ol><br><h3>  De quoi avons-nous besoin pour le d√©veloppement en plus de la carte Discovery? </h3><br>  Dans notre travail avec la carte Discovery, nous aurons besoin d'un certain nombre de choses irrempla√ßables dont nous ne pouvons pas nous passer: <br><br><ol><li>  <b>Circuit imprim√©</b> pour voir o√π, o√π et ce qui est connect√©.  Vous pouvez prendre le circuit sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page du fabricant de votre carte m√®re</a> dans la section Schematic Pack.  Vous pouvez t√©l√©charger les sch√©mas en faisant d√©filer une page un peu plus bas dans le bloc indiqu√© dans l'image: <div style="text-align:center;"><img src="https://habrastorage.org/web/190/60f/134/19060f1345194690948665bb0a088f74.png"></div></li><li>  <b>Fiche technique</b> sur notre microcontr√¥leur pour qu'√† tout moment vous puissiez voir le brochage, les sp√©cifications, les param√®tres et autres informations n√©cessaires au travail.  Dans mon cas, c'est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">STM32F051R8T6</a> .  Le lien de la fiche technique se trouve dans le titre de la page: <div style="text-align:center;"><img src="https://habrastorage.org/web/a38/6c8/864/a386c88646544f7d8458940bc4b8a702.png"></div></li><li>  Nous avons √©galement besoin du <b>manuel de r√©f√©rence</b> sur notre microcontr√¥leur.  Il s'agit d'un document dans lequel des m√©thodes et des approches pour travailler avec le noyau MK, avec son bloc d'horloge, avec des p√©riph√©riques, etc. sont d√©crites en d√©tail.  Il contient √©galement une description de tous les registres MK, de toutes les options et param√®tres de MK et des p√©riph√©riques.  C'est probablement le fichier le plus important sans lequel il serait tr√®s difficile de comprendre comment et ce qui fonctionne √† l'int√©rieur du MK.  Vous pouvez t√©l√©charger le fichier √† partir du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lien</a> sur la page du microcontr√¥leur: <div style="text-align:center;"><img src="https://habrastorage.org/web/b1d/6ee/306/b1d6ee30601043a6b1aa4496a10b2595.png"></div></li><li>  Et enfin, nous devons √©tablir <b>un environnement de d√©veloppement</b> dans lequel nous pouvons cr√©er des programmes pour notre MK et compiler et flasher calmement nos programmes.  √Ä un moment donn√©, j'ai essay√© presque tous les IDE les plus populaires et j'ai opt√© pour Keil uVision 5. √Ä mon avis, cet environnement de d√©veloppement m'a sembl√© le plus pratique et le plus facile √† apprendre.  Le d√©bogueur int√©gr√©, des biblioth√®ques de bas niveau pr√™tes √† l'emploi et faciles √† connecter, un grand nombre d'exemples et une interface de travail bien organis√©e et un espace IDE ont √©t√© les facteurs d√©cisifs qui ont influenc√© mon choix.  Vous pouvez t√©l√©charger cet IDE sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">site officiel</a> , mais une simple inscription est requise:.  Il y a vraiment une petite restriction sur la taille du firmware t√©l√©charg√© en 32 Ko car  Cet IDE est pay√©.  Mais ce sera plus que suffisant pour nous.  Nous aurons besoin de MDK-Arm: <div style="text-align:center;"><img src="https://habrastorage.org/web/238/8b3/00b/2388b300b1de4057b8ede5df72ec889b.png"></div></li></ol><br><h3>  Commen√ßons par la configuration initiale et la pr√©paration de l'IDE pour le travail! </h3><br>  Apr√®s avoir t√©l√©charg√© le fichier d'installation de notre IDE, vous pouvez proc√©der √† l'installation.  Suivez les instructions du programme d'installation pour terminer le processus d'installation.  Une fois que tous les fichiers n√©cessaires au fonctionnement ont √©t√© copi√©s, une fen√™tre pour le programme d'installation du logiciel pour d√©velopper le <b>Pack Installer</b> appara√Æt.  Ce programme d'installation contient des biblioth√®ques de bas niveau, des middlewares, des exemples de programmes r√©guli√®rement mis √† jour et mis √† jour. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/e31/ddd/aa1/e31dddaa1f104636bfea5273ff947a0e.png"></div><br>  Pour commencer √† travailler avec notre carte, nous devons installer un certain nombre de packages n√©cessaires au travail et nous devons trouver un microcontr√¥leur avec lequel nous travaillerons.  Vous pouvez √©galement utiliser la recherche en haut de la fen√™tre.  Apr√®s avoir trouv√© notre MK, cliquez dessus dans la seconde moiti√© de la fen√™tre et nous devons installer la liste de biblioth√®ques suivante: <br><br><ol><li>  <b>Keil :: STM32F0xx_DFP</b> est un progiciel complet pour une famille sp√©cifique de microcontr√¥leurs, y compris des manuels, des fiches techniques, des fichiers SVD, des biblioth√®ques du fabricant. </li><li>  <b>ARM :: CMSIS</b> est un package de Cortex Microcontroller Software Interface Standard, qui comprend un ensemble complet de biblioth√®ques ARM pour prendre en charge le noyau Cortex. </li><li>  <b>Keil :: ARM_Compiler</b> est le dernier compilateur pour ARM. </li></ol><br>  Apr√®s avoir install√© les packages requis, vous pouvez proc√©der √† la configuration de l'EDI et de notre d√©bogueur / programmeur.  Pour ce faire, nous devons ouvrir la fen√™tre principale de Keil et cr√©er un nouveau projet. <br><div style="text-align:center;"><img src="https://habrastorage.org/web/7a6/8c9/6a7/7a68c96a729646cd9d964c9e3dc80462.png"></div><br>  Pour ce faire, allez dans le menu <b>Projet -&gt; Nouveau projet uVision</b> et s√©lectionnez le dossier dans <b>lequel</b> nous enregistrerons notre projet. <br><br>  Apr√®s Keil nous demandera quel MK sera utilis√© dans le projet.  S√©lectionnez le MK souhait√© et cliquez sur <b>OK</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/813/65b/17e/81365b17eb0a4853b9459b59c63cf96e.png"></div><br>  Et une fen√™tre appara√Ætra √† nouveau, d√©j√† famili√®re pour nous, dans laquelle nous pouvons connecter les modules d'int√©r√™t au projet.  Pour notre projet, nous avons besoin de deux modules: <br><br><ol><li>  <b>Le noyau de la biblioth√®que CMSIS</b> , dans lequel les param√®tres, les adresses d'enregistrement et bien plus de ce qui est n√©cessaire pour le travail de notre MK sont d√©clar√©s. </li><li>  <b>Fichier de d√©marrage</b> , qui est responsable de l'initialisation de MK au d√©marrage, de la d√©claration des vecteurs et des gestionnaires d'interruption, et bien plus encore. </li></ol><br>  Si toutes les d√©pendances du plug-in sont satisfaites, le gestionnaire nous le signalera en vert: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/6c0/143/b62/6c0143b624e54eb48fd0707781d6b95e.png"></div><br>  Apr√®s avoir appuy√© sur le <b>bouton OK,</b> nous pouvons commencer √† cr√©er notre projet. <br><br>  Pour configurer les param√®tres du projet et configurer notre programmeur, faites un clic droit sur <b><i>Target 1</i></b> pour ouvrir le menu correspondant. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/0cb/eb7/45d/0cbeb745d10e433c87d323b848aabbc5.png"></div><br>  Dans le menu principal du projet, d√©finissez le param√®tre <b>Xtal</b> sur <b><i>8,0 MHz</i></b> .  Ce param√®tre est responsable de la fr√©quence de fonctionnement de l'oscillateur √† quartz de notre MK: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/05d/f09/2c8/05df092c80d3418f87ef56323969c0a4.png"></div><br>  Ensuite, nous configurons notre programmeur / d√©bogueur.  Dans la m√™me fen√™tre, cliquez sur l'onglet <b>D√©bogage</b> et s√©lectionnez le param√®tre <b><i>D√©bogueur ST-Link</i></b> dans le champ <b>Utiliser</b> et acc√©dez aux param√®tres: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/481/d19/854/481d198548364837b69be0f0b4a97d01.png"></div><br>  Dans les param√®tres, nous devrions voir le mod√®le de notre ST-Link install√© sur la carte, son num√©ro de s√©rie, la version de HW et IDCODE MK que nous flasherons: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/ed8/972/382/ed8972382b924db6a9b28687b7431103.png"></div><br><br>  Pour plus de commodit√©, vous pouvez configurer le param√®tre responsable du fait que le MK est r√©initialis√© automatiquement apr√®s le clignotement.  Pour ce faire, cochez le champ <b>R√©initialiser et ex√©cuter</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/d82/adb/cfa/d82adbcfaa9a423484aa8accce334725.png"></div><br>  Apr√®s cela, vous devez configurer une autre option qui nous permettra d'√©crire des commentaires en russe sur le code de nos projets.  Nous cliquons sur le bouton <b>Configuration</b> et dans le menu qui s'ouvre, s√©lectionnez <b><i>Russian Windows-1251</i></b> dans le champ <b>Encoding</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/065/72d/e6c/06572de6ce504a95ba597c7869cd429d.png"></div><br>  C‚Äôest tout.  Notre IDE et notre programmeur sont pr√™ts √† partir! <br><br>  Keil dispose d'un navigateur de projet pratique dans lequel nous pouvons voir la structure du projet, les documents de r√©f√©rence n√©cessaires pour le travail, y compris ceux que nous avons d√©j√† t√©l√©charg√©s sur notre ordinateur auparavant (sch√©ma de d√©couverte, fiche technique, manuel de r√©f√©rence), liste fonctions utilis√©es dans le projet et mod√®les pour l'insertion rapide de diff√©rentes constructions de langage d'un langage de programmation. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/6a3/6bc/79b/6a36bc79bc0d4090910037898774a4a1.png"></div><br>  Renommez le dossier dans la structure du projet du <b><i>groupe source 1</i></b> en <b><i>application / utilisateur</i></b> , indiquant ainsi que nous aurons les fichiers du programme utilisateur dans ce dossier: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/685/554/4f8/6855544f8be74d7495350ca9b542a652.png"></div><br>  Ajoutez le fichier de programme principal via le navigateur de projet en ex√©cutant la commande <b><i>Ajouter un nouvel √©l√©ment au groupe ¬´App / Utilisateur¬ª</i></b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/b25/a30/a44/b25a30a4456849f282d4add6c1c4ac14.png"></div><br>  Vous devez s√©lectionner le <b><i>fichier C (.c)</i></b> dans la liste et lui attribuer le nom <b><i>main.c</i></b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/6ea/9cd/604/6ea9cd6040a0421c9c0843163305845a.png"></div><br>  Le fichier cr√©√© sera automatiquement ajout√© √† la structure du projet et s'ouvrira dans la fen√™tre principale du programme. <br><br>  Eh bien, maintenant nous pouvons commencer √† cr√©er notre programme. <br><br>  Tout d'abord, vous devez connecter le document d'en-t√™te de notre famille de microcontr√¥leurs √† notre fichier ex√©cutable.  Ajoutez les lignes suivantes au fichier <b><i>main.c</i></b> , ce programme fera clignoter nos LED alternativement: <br><br><pre><code class="cpp">/*      */
#include "stm32f0xx.h"

/*    */
int main(void)
{
	/*     GPIO */
	RCC-&gt;AHBENR |= RCC_AHBENR_GPIOCEN;
	
	/*     PC8  PC9  Output*/
	GPIOC -&gt;MODER = 0x50000;
	
	/*  Output type   Push-Pull */
	GPIOC-&gt;OTYPER = 0;
	
	/*      Low */
	GPIOC-&gt;OSPEEDR = 0;
	
	while(1)
	{
		/*   PC8,  PC9 */
		GPIOC-&gt;ODR = 0x100;
		for (int i=0; i&lt;500000; i++){}	//  
					
		/*   PC9,  PC8 */
		GPIOC-&gt;ODR = 0x200;
		for (int i=0; i&lt;500000; i++){}	//  
	}		
}
</code></pre><br>
 ,     ,          .         :<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/web/163/28a/1d0/16328a1d08d6401db1a95fdabc12679b.png"></div><br>
 <b><i>Build</i></b> (   F7)  ,               ,     :<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/web/c66/042/e62/c66042e62335434d82ef04229bfb1298.png"></div><br>
 <b><i>Load</i></b> (   F8)            :<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/web/0b0/dbd/62d/0b0dbd62d4e2455993a78128e2ea6c8d.png"></div><br>
    ,        .<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/web/f70/d6f/c12/f70d6fc129fe4c9d9d264d560c300a54.png"></div><br>
!      STM32  !  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>        ,              ,      ,        Discovery. )<br>
<br>
 :<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  STM32    -</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  STM32:  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  STM32:   ?    ?</a></li>
</ol></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr406839/">https://habr.com/ru/post/fr406839/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr406825/index.html">La date de la mort du march√© commercial Internet en Russie</a></li>
<li><a href="../fr406827/index.html">L'√©tude a montr√© que Wikipedia affecte la science</a></li>
<li><a href="../fr406833/index.html">¬´Malgr√© l'√¢ge¬ª: comment prot√©ger votre audition</a></li>
<li><a href="../fr406835/index.html">Il peut y avoir deux types de m√©dicaments: les scientifiques critiquent l'hom√©opathie et mettent en garde contre les risques importants pour la sant√©</a></li>
<li><a href="../fr406837/index.html">Bataille: des drones tueurs contre le DJI "immortel" Phantom 4</a></li>
<li><a href="../fr406841/index.html">Mod√©lisation - aux masses</a></li>
<li><a href="../fr406843/index.html">VR sans fil et capture de mouvement sur le mat√©riel HTC Vive</a></li>
<li><a href="../fr406845/index.html">√âquation de Poisson et distribution de Boltzmann (partie 2.1)</a></li>
<li><a href="../fr406847/index.html">L'agr√©gateur de crypto-monnaie XRONOS lance la pr√©vente de pi√®ces</a></li>
<li><a href="../fr406851/index.html">Mini-syst√®me Denon D-M41: retour au concept de centre musical, Hi-Fi pour la classe moyenne</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>