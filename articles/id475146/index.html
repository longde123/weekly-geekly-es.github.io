<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤µğŸ» ğŸ¤ŸğŸ¿ ğŸŒ Penderitaan atau sejarah panjang dari satu upaya pemulihan data ğŸ¤½ğŸ» ğŸ†’ ğŸ¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Di halaman adalah tahun 2019. Drive QUANTUM FIREBALL Plus KA dengan kapasitas 9,1 GB datang ke laboratorium kami, yang tidak biasa untuk zaman kita. M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Penderitaan atau sejarah panjang dari satu upaya pemulihan data</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475146/"> Di halaman adalah tahun 2019.  Drive QUANTUM FIREBALL Plus KA dengan kapasitas 9,1 GB datang ke laboratorium kami, yang tidak biasa untuk zaman kita.  Menurut pemilik drive, kegagalan terjadi kembali pada tahun 2004 karena kesalahan catu daya yang gagal, yang mengambil hard drive dan komponen PC lainnya.  Lalu ada jalan-jalan di berbagai layanan dengan upaya untuk memperbaiki drive dan mengembalikan data yang tidak berhasil.  Di suatu tempat mereka berjanji itu murah, tetapi mereka masih tidak menyelesaikan masalah, di suatu tempat itu terlalu mahal dan klien tidak ingin mengembalikan data, tetapi pada akhirnya drive melewati banyak pusat layanan.  Dia hilang beberapa kali, tetapi karena kenyataan bahwa pemiliknya berhati-hati sebelumnya untuk merekam informasi dari berbagai stiker pada drive, dia berhasil memastikan bahwa hard drive-nya dikembalikan dari beberapa pusat layanan.  Sirkuit tidak lulus tanpa jejak, pada papan pengontrol asli ada beberapa jejak penyolderan, dan kurangnya elemen SMD juga terasa secara visual (melihat ke depan saya akan mengatakan bahwa ini adalah masalah paling kecil dari drive ini). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ju/oa/mq/juoamqzpbrmmmvhxyc8-re0-j2m.png"></div><br>  <i>Fig.</i>  <i>1 HDD Quantum Fireball Plus KA 9.1GB</i> <br><a name="habracut"></a><br>  Hal pertama yang harus saya lakukan adalah mencari di arsip donor saudara kembar kuno dari drive ini dengan papan pengontrol yang berfungsi.  Ketika pencarian ini selesai, menjadi mungkin untuk melakukan tindakan diagnostik terperinci.  Setelah memeriksa belitan motor untuk korsleting dan memastikan tidak adanya gulungan, kami memasang papan dari drive - donor ke drive - pasien.  Kami memberi energi dan mendengar suara normal dari poros berputar, melewati uji kalibrasi dengan memuat firmware, dan setelah beberapa detik drive tersebut mendaftar tentang kesiapannya untuk merespons perintah dari antarmuka. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-h/57/vy/-h57vy6onwk8kkvcivdtq33ycie.png"></div><br>  <i>Fig.</i>  <i>2 Indikator DRC DSC menunjukkan kesiapan untuk menerima perintah.</i> <br><br>  Kami menyimpan semua salinan modul firmware.  Kami memeriksa integritas modul firmware.  Tidak ada masalah dengan membaca modul, tetapi analisis laporan menunjukkan bahwa ada beberapa keanehan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/do/vc/c3/dovcc3pxy7yje_t9trkxk3twfd4.png"></div><br>  <i>Fig.</i>  <i>3. Tabel zona.</i> <br><br>  Kami memperhatikan tabel distribusi zona, kami perhatikan bahwa jumlah silinder adalah 13845. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jj/7a/bk/jj7abkkhaeb-43dxtov1u5ihdnw.png"></div><br>  <i>Fig.</i>  <i>4 P-list (daftar utama - daftar cacat yang diperkenalkan selama siklus produksi).</i> <br><br>  Kami memperhatikan terlalu sedikit cacat dan lokalisasi mereka.  Kami melihat modul untuk menyembunyikan cacat pabrik (60 jam) dan menemukan bahwa itu kosong dan tidak mengandung entri apa pun.  Berdasarkan hal ini, kita dapat mengasumsikan bahwa di beberapa pusat layanan sebelumnya, beberapa manipulasi dengan area layanan drive mungkin telah dilakukan, dan modul orang lain secara tidak sengaja atau sengaja direkam, atau daftar kerusakan pada aslinya dihapus.  Untuk memverifikasi asumsi ini, kami membuat tugas di Data Extractor dengan opsi "buat salinan sektor-per-sektor" dan "buat penerjemah virtual" diaktifkan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3l/jd/hl/3ljdhluum6cv3dmilqwbsltk1lk.png"></div><br>  <i>Fig.</i>  <i>5 parameter tugas.</i> <br><br>  Setelah membuat tugas, kita melihat entri dalam tabel partisi di sektor nol (LBA 0) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gt/jv/mt/gtjvmttab56tlxbz501caz8cpgk.png"></div><br>  <i>Fig.</i>  <i>6 Catatan boot master dan tabel partisi.</i> <br><br>  Pada offset 0x1BE, ada catatan tunggal (16 byte).  Jenis sistem file pada partisi adalah NTFS, offset ke awal sektor 0x3F (63), ukuran partisi adalah 0x011309A3 (18.024.867) sektor. <br>  Di editor sektor, buka LBA 63. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kw/yk/fq/kwykfq8od37sp8g22wtvijdpx1m.png"></div><br>  <i>Fig.</i>  <i>7 sektor boot NTFS</i> <br><br>  Menurut informasi di sektor boot NTFS, berikut ini dapat dikatakan: ukuran sektor yang diadopsi dalam volume adalah 512 byte (kata 0x0200 (512) ditulis pada offset 0x0B), jumlah sektor dalam cluster adalah 8 (byte 0x08 ditulis pada offset 0x0D), ukuran cluster adalah 512x8 = 4096 byte, catatan MFT pertama terletak pada offset 6.291.519 sektor dari awal disk (pada offset 0x30 kata quadruple 0x00 00 00 00 00 00 00 (786 432) adalah jumlah cluster MFT pertama. Nomor sektor dihitung dengan rumus: Nomor cluster * angka jumlah sektor dalam cluster + shift sebelum dimulainya partisi 786 432 * 8 + 63 = 6.291.519). <br>  Kami lolos ke sektor 6 291 519. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/l7/yp/uy/l7ypuym-p2gflba2d5m49belsp8.png"></div><br>  <i>Fig.</i>  <i>8</i> <br><br>  Tetapi data yang terkandung di sektor ini sama sekali berbeda dari catatan MFT.  Meskipun ini menunjukkan kemungkinan siaran yang salah karena daftar cacat yang salah, itu tidak membuktikan fakta ini.  Untuk verifikasi lebih lanjut, kita akan membaca disk di 10.000 sektor di kedua arah relatif terhadap 6.291.519 sektor.  Dan kemudian kita akan mencari ekspresi reguler di baca. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gx/sc/py/gxscpyil_-qwpvt8dtsjuoqkwda.png"></div><br>  <i>Fig.</i>  <i>9 Catatan MFT Pertama</i> <br><br>  Di sektor 6.291.551, kami menemukan catatan MFT pertama.  Posisinya berbeda dari yang dihitung oleh 32 sektor, dan kemudian sekelompok 16 catatan (dari 0 hingga 15) terus mengikuti.  Mari kita memasuki posisi sektor 6 291 519 di tabel shift untuk memajukan 32 sektor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jc/vy/hb/jcvyhbxvibt7si5xcibgz-ysrbg.png"></div><br>  <i>Fig.</i>  <i>10</i> <br><br>  Posisi catatan No. 16 harus diimbangi dari 12 551 431, tetapi di sana kami menemukan nol, bukannya merekam MFT.  Kami akan melakukan pencarian serupa di sekitarnya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jd/dn/ni/jddnniazvuj5p8foynm9m_zpzjy.png"></div><br>  <i>Fig.</i>  <i>11 Catatan MFT 0x00000011 (17)</i> <br><br>  Sebuah fragmen MFT besar terdeteksi, dimulai dengan catatan nomor 17 dengan panjang catatan 53.646) dengan pergeseran 17 sektor.  Untuk posisi 12 155.431 kita akan menempatkan shift +17 sektor dalam tabel shift. <br>  Setelah menentukan posisi fragmen MFT di ruang angkasa, kita dapat menyimpulkan bahwa ini tidak terlihat seperti kegagalan acak dan perekaman fragmen MFT oleh offset yang salah.  Versi dengan penerjemah yang salah dapat dianggap dikonfirmasi. <br>  Untuk lokalisasi lebih lanjut dari titik geser, kami mengatur perpindahan semaksimal mungkin.  Untuk melakukan ini, kami menentukan berapa banyak penanda partisi NTFS akhir digeser (salinan dari sektor boot).  Pada Gambar 7, pada offset 0x28, kata keempat adalah nilai ukuran partisi 0x00 00 00 00 00 00 01 13 09 A2 (18.024.866) sektor.  Mari kita tambahkan offset partisi itu sendiri dari awal disk hingga panjangnya, kita akan mendapatkan offset marker NTFS akhir 18.024.866 + 63 = 18.024.929. Seperti yang diharapkan, tidak ada salinan yang diperlukan dari sektor boot.  Ketika mencari di sekitarnya, itu terdeteksi dengan peningkatan pergeseran +12 sektor relatif terhadap fragmen terakhir MFT. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3f/lu/ha/3fluhair61nbqs6efqtncj0oily.png"></div><br>  <i>Fig.</i>  <i>12 Salin sektor boot NTFS</i> <br><br>  Kami mengabaikan salinan lain dari sektor boot pada offset 18 041 006, karena ini tidak terkait dengan bagian kami.  Berdasarkan peristiwa sebelumnya, ditemukan bahwa dalam bagian tersebut terdapat selingan dari 61 sektor yang â€œmunculâ€ dalam siaran, yang membagi data. <br>  Kami melakukan pembacaan drive penuh, yang menghasilkan 34 sektor yang belum dibaca.  Sayangnya, tidak mungkin untuk secara andal menjamin bahwa semuanya cacat dihapus dari daftar-P, tetapi disarankan untuk mempertimbangkan posisi mereka dalam analisis lebih lanjut, karena dalam beberapa kasus akan mungkin untuk menentukan titik perpindahan yang akurat ke sektor, dan tidak ke file. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sx/k9/sl/sxk9sldygcuoslhlrbi1bzuu8po.png"></div><br>  <i>Fig.</i>  <i>13 Disk membaca statistik.</i> <br><br>  Tugas kita selanjutnya adalah menentukan perkiraan tempat kerja shift (akurat untuk file tempat mereka muncul).  Untuk melakukan ini, kami akan memindai semua catatan MFT dan membangun rantai lokasi file (fragmen file). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6n/-m/bi/6n-mbihfu_ej_y_ekagijttj7we.png"></div><br>  <i>Fig.</i>  <i>14 Rantai lokasi file, atau fragmennya.</i> <br><br>  Selanjutnya, pindah dari file ke file, kami mencari pada titik apa, bukan header file yang diharapkan, akan ada data lain, dan header yang diinginkan akan terdeteksi dengan pergeseran positif tertentu.  Dan saat titik shift disempurnakan, kami mengisi tabel.  Hasil pengisiannya akan lebih dari 99% file tanpa kerusakan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/on/ep/01/onep01nw4zpvpu_n3mfwruibbl8.png"></div><br>  <i>Fig.</i>  <i>15 Daftar file pengguna (persetujuan diterima dari klien untuk menerbitkan tangkapan layar ini)</i> <br><br>  Untuk menetapkan pergeseran titik dalam file individual, Anda dapat melakukan pekerjaan tambahan dan, jika Anda mengetahui struktur file, temukan sela-sela data yang tidak terkait dengannya.  Tetapi dalam tugas ini tidak layak secara ekonomi. <br><br>  PS Saya juga ingin memohon kepada rekan-rekan yang tangannya sudah pernah menggunakan disk ini.  Harap berhati-hati saat bekerja dengan firmware perangkat dan data layanan cadangan sebelum mengubah apa pun, dan juga jangan biarkan masalah ini diperparah dengan sengaja jika Anda tidak dapat menyetujui dengan klien tentang pekerjaan tersebut. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Posting berikutnya: Diagnosis mandiri hard drive dan pemulihan data</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Posting sebelumnya: Menghemat pertandingan atau memulihkan data dari HDD kisi Seagate ST3000NC002-1DY166</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id475146/">https://habr.com/ru/post/id475146/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id475132/index.html">Baling-baling tidak terkunci pada mesin CNC</a></li>
<li><a href="../id475138/index.html">5 Cara Menggunakan Raspberry Pi Menguntungkan Bagian dua</a></li>
<li><a href="../id475140/index.html">Mengapa fisikawan papan atas menganggap pengukuran kuantum yang lemah sebagai pseudosain</a></li>
<li><a href="../id475142/index.html">Tidur, relaksasi, dan musik: bagaimana atlet profesional mengatasi kelelahan, dan apa yang dapat kita lakukan untuk itu</a></li>
<li><a href="../id475144/index.html">Bagilah Laravel menjadi beberapa komponen</a></li>
<li><a href="../id475152/index.html">Google munafik. Wawasan PageSpeed</a></li>
<li><a href="../id475154/index.html">Ketepatan waktu in-house dengan layanan cloud surveillance IPEYE</a></li>
<li><a href="../id475158/index.html">Ulasan Playme P570 Mono: Singkat dan to the point</a></li>
<li><a href="../id475162/index.html">Menggunakan X-Makro dalam Kode C ++ Modern</a></li>
<li><a href="../id475164/index.html">Diskusi: Internet bergantung pada sumber terbuka - argumen apa yang dimiliki oleh para kritikus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>