<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéà üìÜ üëãüèæ Approche de test de r√©gression automatis√©e ‚õàÔ∏è üõÄüèæ üë®üèº‚Äçüî¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour chers lecteurs. Aujourd'hui, nous aimerions co√Øncider avec le lancement du cours "Python QA Engineer" . Anticipant d'√©ventuelles questions, no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Approche de test de r√©gression automatis√©e</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/459652/"><p>  Bonjour chers lecteurs.  Aujourd'hui, nous aimerions co√Øncider avec le lancement du cours <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Python QA Engineer"</a> .  Anticipant d'√©ventuelles questions, nous avertissons qu'il n'y a pas un mot sur Python dans l'article, mais n√©anmoins nous trouvons ce mat√©riel utile aux testeurs, nous avons donc d√©cid√© de le partager avec vous. </p><br><p><img src="https://habrastorage.org/webt/8a/dt/mo/8adtmoertucef1dmhtaewwbf4bi.png"></p><br><p>  Il n'est pas possible de tester les moindres d√©tails du code.Par cons√©quent, les tests de r√©gression doivent effectuer une v√©rification compl√®te et se concentrer sur un domaine sp√©cifique dans son int√©gralit√©.  L'objectif principal est de garantir qu'aucune erreur de r√©gression ne nuise √† un processus m√©tier critique.  C'est cet effort qui permet de b√©n√©ficier de l'automatisation.  Une approche de test automatis√©e visant √† r√©duire les erreurs de r√©gression contribuera grandement √† √©tablir de bonnes relations avec les clients et √† accro√Ætre la valeur de la marque. <a name="habracut"></a></p><br><p>  Mon √©quipe est charg√©e de tester une application comptable qui utilise des calculs sophistiqu√©s et enregistre les √©critures comptables dans le syst√®me comptable.  Tout cela est un flux de travail, et la fermeture de livres chaque mois est la plus importante. </p><br><p>  Avec chaque version, il y a des changements dans les calculs, par exemple, pour le compte, il peut √™tre n√©cessaire d'augmenter le d√©bit ou le cr√©dit, ou la valeur existante peut √™tre divis√©e entre les deux comptes.  De tels changements dans une application complexe qui a de nombreuses d√©pendances internes et externes conduisent souvent √† un comportement impr√©visible, y compris des erreurs de r√©gression, dans des endroits inattendus et apparemment sans rapport. </p><br><p>  Traitons une erreur de r√©gression, elle est parfois appel√©e incident critique ou probl√®me de production.  Apr√®s avoir travaill√© pendant plusieurs ann√©es dans l'industrie du logiciel, vous vous rendez compte que l'erreur de r√©gression qui a fui en production est beaucoup plus importante que la nouvelle fonctionnalit√© qui fonctionne incorrectement.  Le fait est que la nouvelle fonction est toujours cach√©e, donc lorsqu'elle tombe en panne, l'impact sur le composant m√©tier est minime, tandis qu'avec une erreur de r√©gression, l'utilisateur s'appuie sur la fonction de travail et n'a probablement pas de version de sauvegarde du syst√®me de travail. </p><br><p>  Les erreurs de r√©gression sont caus√©es par des changements qui n'ont pas √©t√© pris en compte par le chef de projet ou le responsable produit lors des tests d'acceptation;  architecte, d√©veloppeur lors de la revue de code au stade de la conception ou de l'impl√©mentation;  ou par un analyste QA et un testeur dans des cas de test.  Tous les r√©seaux de s√©curit√© ont rat√© une erreur et l'utilisateur est tomb√© dessus.  Si une erreur dans une mise √† jour r√©cente a √©t√© d√©tect√©e √† l'une des √©tapes ci-dessus, c'est-√†-dire  des √©quipes, des parties int√©ress√©es ou de tout autre lien pr√©sent dans votre organisation, puis il a √©t√© examin√© avant la publication, ou du moins √©valu√© en termes de criticit√©. </p><br><p>  Les erreurs de r√©gression entra√Ænent plusieurs co√ªts: correction urgente, amendes pour violation potentielle du contrat de niveau de service et, surtout, elles nuisent √† la confiance de vos utilisateurs dans votre produit.  Ils peuvent d√©cider qu'une nouvelle version cassera quelque chose qui fonctionne d√©j√†. </p><br><p> Il est devenu important que mon √©quipe v√©rifie absolument tout. <br>  Cependant, il est bien connu que cela n'est pas possible, ou du moins trop co√ªteux et prend du temps.  Par cons√©quent, ¬´tout tester¬ª s'est concentr√© sur les deux choses suivantes: les processus m√©tier critiques et la conviction que le comportement dans les principaux processus m√©tier critiques sera le m√™me que dans la derni√®re version, avant le changement.  En g√©n√©ral, nous voulions nous assurer que dans la derni√®re version, une erreur de r√©gression n'apparaissait pas dans le processus m√©tier critique. </p><br><p>  Nous avons √©valu√© nos approches typiques des tests automatis√©s pour v√©rifier les calculs et v√©rifier que toute la logique est d√©crite dans le code de test de l'automatisation.  Cette approche a soulev√© une question classique: "Qui teste le code du testeur?"  Si le cas de test n'a pas r√©ussi, il y avait la m√™me chance que le probl√®me √©tait dans le code du testeur.  En outre, √† chaque modification de l'application, le code de test doit √©galement √™tre mis √† jour et ces modifications se sont produites fr√©quemment. </p><br><p>  De plus, gr√¢ce aux tests automatis√©s, nous nous sommes assur√©s d'avoir un ensemble fixe d'entr√©es et un ensemble bien connu de sorties.  En raison de la complexit√© de l'application, il √©tait impossible de soumettre tous les ensembles possibles de donn√©es d'entr√©e √† la fois.  Divers ensembles de donn√©es √©taient √©galement n√©cessaires pour la fin du mois, du trimestre et de l'ann√©e.  Le calendrier √©tait un probl√®me s√©rieux, car il fallait beaucoup de temps pour g√©n√©rer un √©norme ensemble de donn√©es d'entr√©e et de scripts correspondants. </p><br><p>  Il y avait une autre variable: les donn√©es utilisateur.  Nous avions un privil√®ge sp√©cial: nous recevions chaque mois des copies de sauvegarde des donn√©es des utilisateurs.  La qualit√© du test d√©pend directement des donn√©es utilis√©es pour les tests, et les donn√©es de la production sont toujours meilleures que les donn√©es g√©n√©r√©es, donc notre privil√®ge √©tait un √©norme avantage que nous ne voulions pas manquer. </p><br><h3 id="vyyavlenie-i-realizaciya-regressionnyh-testov">  Identification et mise en place de tests de r√©gression </h3><br><p>  Notre id√©e √©tait d'utiliser des tests automatis√©s, qui n√©cessitent le minimum de maintenance n√©cessaire, et qui renforcent la confiance des parties prenantes que la version sera de bonne qualit√©. </p><br><p>  Nous avions donc besoin d'une strat√©gie de test pour les analyses de rentabilisation critiques, qui garantirait l'absence d'erreurs de r√©gression et, bien s√ªr, que nous pourrions rapidement mettre en pratique. <br>  Notre processus de pr√©paration ressemblait √† ceci: </p><br><ul><li>  Sauvegarde de la base de donn√©es de production, restaur√©e deux fois; </li><li>  Deux syst√®mes de test sont install√©s et fonctionnent en parall√®le: <br><ul><li>  Un avec un code de production; </li><li>  Un autre avec la version actuelle de l'application en cours de test. </li></ul></li></ul><br><p>  Cette approche fournit deux syst√®mes identiques avec des diff√©rences de code dans une seule version: <br>  Il est tr√®s important d'avoir deux syst√®mes, car cela aide √† comprendre que tout probl√®me ne survient qu'en raison des derni√®res modifications de code. <br>  Les tests sont s√©par√©s, donc du processus standard ¬´effectuer une action et obtenir une r√©action¬ª, nous proc√©dons au fait que les actions sont effectu√©es d'un point √† un autre tout en maintenant le workflow, apr√®s quoi les rapports d'erreur sont compar√©s.  C'est la cl√© pour d√©tecter les erreurs inattendues. </p><br><p>  Lorsque le testeur se concentre sur une nouvelle fonction ou une sorte de changement, le test se concentre sp√©cifiquement sur elle, c'est-√†-dire  la pertinence d'un changement particulier est v√©rifi√©e.  Le test de r√©gression est diff√©rent en ce qu'il doit v√©rifier que rien d'autre n'a chang√©.  Cette diff√©rence se refl√®te dans les sc√©narios d'automatisation.  Il rend les scripts de test de fonction sp√©cifiques inappropri√©s pour rechercher des erreurs de r√©gression, donc une approche diff√©rente est n√©cessaire ici. </p><br><p>  Par exemple, si vous travaillez avec un syst√®me de gestion des commandes, vous aurez besoin d'un script pour passer des commandes avec beaucoup de donn√©es d'entr√©e pour passer des commandes pour deux syst√®mes de test install√©s (de pr√©f√©rence en parall√®le), puis vous obtenez un rapport sur les commandes de la journ√©e pass√©e et comparez chaque valeur.  Ensuite, toutes les commandes sont confirm√©es ou approuv√©es (cette action) et les rapports, tels que les commandes quotidiennes confirm√©es, les commandes de stock, les rapports d'entrep√¥t, les commandes de chaque transporteur, le type d'exp√©dition, le type de paiement, etc.  sera compar√© dans deux syst√®mes.  Cela se poursuit tout au long du flux de travail.  Vous pouvez combiner des actions, telles que passer et confirmer des commandes, puis comparer des rapports √† des √©tapes distinctes. </p><br><p>  Un autre exemple est le syst√®me de gestion h√¥teli√®re, dans lequel les actions individuelles sont d√©finies comme des processus commerciaux critiques, tels que l'enregistrement, la facturation dans un restaurant et la r√©ception de l'inventaire.  Tous ces processus se verront attribuer leurs propres actions et rapports.  La diff√©rence dans ce syst√®me par rapport √† l'exemple pr√©c√©dent est que les suites de tests peuvent s'ex√©cuter en parall√®le, et il n'est pas n√©cessaire de terminer l'√©tape avant de commencer la suivante. </p><br><p>  Une comparaison des deux rapports est un moment de v√©rit√© et devrait √™tre irr√©prochable, en ce sens qu'aucune des parties int√©ress√©es ne devrait avoir de doutes quant √† son exactitude.  La diff√©rence dans les rapports est la vraie diff√©rence. </p><br><p>  Pour cette op√©ration, nous utilisons l'interface de service Web.  Tous les rapports sont envoy√©s en parall√®le sur deux syst√®mes, par cons√©quent, la r√©ponse re√ßue au format JSON est compar√©e. </p><br><p>  La comparaison se d√©roule sur trois fronts: </p><br><ul><li>  Source (production) moins cible (application en cours de test); </li><li>  Cible moins la source; </li><li>  Comparaison des valeurs pour obtenir l'intersection. </li></ul><br><p>  Cette m√©thode fonctionnera pour XML, XLS, CSV √† largeur fixe ou tout autre format.  Nous devons nous assurer qu'il n'y a pas d'enregistrements inutiles, qu'il n'y a pas d'enregistrements manquants et que toutes les valeurs des enregistrements correspondent. </p><br><p>  C'est l'essence m√™me de l'approche dont nous parlons.  Tout cela est une information lisible dans l'application, qui est publi√©e sous forme de rapport ou, dans certains cas, fonctionne comme une interface avec d'autres applications. </p><br><p>  Le succ√®s de cette approche r√©side dans un outil de comparaison ou un utilitaire qui traite les cas li√©s √† votre application.  Vous pouvez vous consid√©rer chanceux si vous trouvez quelque chose qui convient "hors de la bo√Æte", sinon, il est important de comprendre que l'investissement dans un tel instrument en vaut la peine car il apportera de bons r√©sultats. </p><br><p>  Apr√®s toutes les discussions sur l'automatisation, vous devez ins√©rer une remarque.  √âtant donn√© que certaines diff√©rences dans les rapports sont attendues, car elles doivent √™tre pr√©sentes au besoin, tous les r√©sultats doivent √©galement √™tre analys√©s manuellement.  Il devrait y avoir des r√©sultats clairs et positifs de r√©ussite des cas de test, mais les r√©sultats infructueux doivent √©galement √™tre analys√©s et leur validit√© doit √™tre confirm√©e.  Comme nous parlons d'erreurs de test de r√©gression, elles doivent √™tre corrig√©es avant la publication.  Bien s√ªr, certaines exceptions sont g√©r√©es conform√©ment √† la demande. </p><br><h3 id="nastroyka-programmy">  R√©glage du programme </h3><br><p>  Toutes les applications sont diff√©rentes, et leur installation et leur configuration se produisent √©galement de diff√©rentes mani√®res.  Pour pr√©parer la demande aux tests, certaines √©tapes suppl√©mentaires peuvent √™tre n√©cessaires, par cons√©quent, elles doivent √™tre prises en compte au bon moment et au bon endroit pour ex√©cuter les tests.  Voici un ensemble d'√©tapes typiques: </p><br><ul><li><p>  ¬´Confondre¬ª les donn√©es de production en supprimant les identifiants de courrier √©lectronique ou d'autres informations confidentielles, ou les remplacer par des donn√©es fictives; </p><br></li><li><p>  Obtenez les donn√©es sous une forme appropri√©e pour ex√©cuter le test; </p><br></li><li><p>  Adaptez les param√®tres de l'environnement QA, par exemple, en modifiant les relations d'int√©gration. </p><br><p>  La seule chose √† retenir est que les √©tapes ci-dessus doivent √™tre effectu√©es pour les deux installations.  N'oubliez pas qu'avant de d√©marrer la suite de tests, les param√®tres doivent √™tre identiques. </p><br><p>  Souvent, des actions autres que la demande d'un rapport peuvent renvoyer un objet, par exemple, une action, telle que la cr√©ation ou la modification d'une commande, peut renvoyer un nouvel objet de commande.  Dans ce cas, vous devez comparer deux objets et ne pas attendre la comparaison des rapports.  Cela peut aider √† identifier l'erreur dans les premiers stades √† la racine. </p><br><p>  Il est √©galement recommand√© de diviser l'ensemble complet en ensembles plus petits, par exemple en regroupant les transactions et les rapports associ√©s.  Les ensembles peuvent √™tre ex√©cut√©s en parall√®le pour √©conomiser l'ex√©cution.  Cependant, pour une application avec un flux de travail typique, cela ne fonctionne que si vous pouvez diviser les cas verticalement et horizontalement, ou vice versa. </p><br><p>  Les variations peuvent commencer avec des technologies - JSON, XML ou scalers (int / string / float), et s'√©tendre jusqu'√† ce que l'application test√©e et la production r√©agissent avec diff√©rentes structures, mais restent conformes √† l'architecture.  Par exemple, la version de production peut utiliser l'ancien fichier JAR, qui fonctionne dans un format sp√©cifique, et dans la nouvelle version, le fichier JAR a √©t√© mis √† jour et maintenant le format de r√©ponse a chang√©, de sorte que leur comparaison montrera des incoh√©rences.  Pour les comparer correctement, vous avez besoin d'un plug-in temporaire. </p><br><p>  Il y aura probablement peu de telles situations.  Dans de tels cas, il est parfois plus facile de modifier la conception ou de les consid√©rer dans le contexte d'une solution de contournement. </p><br><p>  Il existe plusieurs options pour g√©rer ces comparaisons: </p><br></li><li><p>  Ignorez certains champs, tels que les identifiants et les dates; </p><br></li><li><p>  Ignorer les diff√©rences num√©riques inf√©rieures √† 0,0001; </p><br></li><li><p>  Ignorer la sensibilit√© √† la casse; </p><br></li><li><p>  La structure change en deux r√©ponses. </p><br></li></ul><br><h3 id="uluchshenie-regressionnogo-testirovaniya">  Am√©lioration des tests de r√©gression </h3><br><p>  Les tests de r√©gression doivent √™tre holistiques et se concentrer sur un domaine entier.  Cet √©quilibre permettra de capitaliser sur l'automatisation.  Une approche de test automatis√©e contribuera √† r√©duire le nombre d'erreurs de r√©gression et aidera √† √©tablir de bonnes relations avec la client√®le et √† accro√Ætre la valeur de la marque. </p><br><p>  Maintenant, dans un rythme de mouvement vers l'avant constant, notre √©quipe veut essayer d'abandonner les deux installations de syst√®me identiques que nous utilisons maintenant et de mettre en ≈ìuvre la m√™me strat√©gie sur une installation.  Nous voulons conserver les r√©ponses des r√©alisations pass√©es et les utiliser √† des fins de comparaison.  L'approche des tests peut toujours √™tre am√©lior√©e.  Souhaitez-nous bonne chance! </p><br><p>  <em>La traduction a √©t√© pr√©par√©e sp√©cialement pour les √©tudiants du cours <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Python QA Engineer"</a> .</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr459652/">https://habr.com/ru/post/fr459652/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr459640/index.html">Documents en tant que code. Partie 1: automatiser la mise √† jour</a></li>
<li><a href="../fr459642/index.html">Acc√®s s√©curis√© aux champs d'enregistrement en C ++ sans sacrifier l'efficacit√© (en utilisant CortexM comme exemple)</a></li>
<li><a href="../fr459644/index.html">Gradateurs LED</a></li>
<li><a href="../fr459648/index.html">Tout devrait bien se passer dans l'analyseur: √† la fois fonctionnalit√© et interface ... Nous explorons la nouvelle interface Solar appScreener 3.1</a></li>
<li><a href="../fr459650/index.html">Comment ne pas perdre d'argent dans la bo√Æte noire: m√©thodes de test de facturation</a></li>
<li><a href="../fr459656/index.html">Service OData sans √©crire de code</a></li>
<li><a href="../fr459658/index.html">PVS-Studio voulait mais n'a pas pu trouver de bugs dans robots.txt</a></li>
<li><a href="../fr459662/index.html">PVS-Studio voulait, mais n'a pas pu trouver de bogues dans robots.txt</a></li>
<li><a href="../fr459668/index.html">Comment reconna√Ætre le texte d'une photo: nouvelles fonctionnalit√©s du cadre Vision</a></li>
<li><a href="../fr459670/index.html">Aller √† Amsterdam</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>