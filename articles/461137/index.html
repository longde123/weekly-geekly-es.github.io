<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèµÔ∏è üêøÔ∏è üî¶ C√≥mo desarrollamos un dispositivo para monitorear la atenci√≥n de los conductores. Vive Yandex.Taxi ‚ûø üë®üèª‚Äç‚úàÔ∏è üíã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El taxi debe ser c√≥modo y seguro. Y esto depende no solo de la calidad del autom√≥vil y el servicio, sino tambi√©n de la concentraci√≥n de la atenci√≥n de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo desarrollamos un dispositivo para monitorear la atenci√≥n de los conductores. Vive Yandex.Taxi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/461137/"><img src="https://habrastorage.org/webt/fu/ag/ow/fuagowhmp0mr-5j1p_xvxe4vlkw.jpeg"><br><br>  El taxi debe ser c√≥modo y seguro.  Y esto depende no solo de la calidad del autom√≥vil y el servicio, sino tambi√©n de la concentraci√≥n de la atenci√≥n del conductor, que cae durante el trabajo excesivo.  Por lo tanto, en el nivel de servicio, limitamos el tiempo que el conductor pasa detr√°s del volante. <br><br>  Pero a veces los conductores ya est√°n cansados, por ejemplo, una persona estuvo ocupada en otro trabajo todo el d√≠a y por la noche decidi√≥ "conducir".  ¬øQu√© hacer al respecto?  ¬øC√≥mo entender que el conductor interviene sin cambiar el sue√±o?  Puede, por ejemplo, tratar de evaluar qu√© tan de cerca monitorea el camino y determinar signos de fatiga, por ejemplo, por la naturaleza del parpadeo.  ¬øSuena simple?  Todo es m√°s complicado de lo que parece. <br><br>  Hoy les diremos primero a los lectores de Habr c√≥mo se nos ocurri√≥ y desarrollamos una c√°mara que pueda hacer esto. <br><br>  Entonces, se da: la frecuencia y la duraci√≥n de los parpadeos dependen del grado de fatiga.  Cuando estamos cansados, la cabeza es menos m√≥vil, la direcci√≥n de nuestra mirada cambia con menos frecuencia, parpadeamos con m√°s frecuencia y dejamos los ojos cerrados durante largos per√≠odos de tiempo; la diferencia se puede medir en fracciones de un segundo o varios grados de rotaci√≥n, pero existe.  Nuestra tarea consist√≠a en dise√±ar un dispositivo que nos permitiera analizar los parpadeos, as√≠ como la direcci√≥n de nuestra mirada, bostezos y movimientos de la cabeza, a fin de evaluar el nivel de atenci√≥n y fatiga del conductor. <br><br><a name="habracut"></a>  Primero, decidimos: hagamos una aplicaci√≥n para computadora port√°til, pongamosla en los voluntarios de entre los empleados, y ¬øusar√° la c√°mara incorporada para rastrear las se√±ales que necesitamos?  Por lo tanto, recopilaremos de inmediato una gran cantidad de informaci√≥n para el an√°lisis y probaremos r√°pidamente nuestras hip√≥tesis. <br><br>  Spoiler: no pas√≥ nada!  R√°pidamente se hizo evidente que la mayor√≠a de las personas que trabajan en una computadora constantemente miran el teclado e inclinan la cabeza.  Es decir, los ojos no son visibles, y ni siquiera est√° claro si est√°n cerrados o abiertos, una persona parpadea o simplemente mira desde la pantalla al teclado y viceversa. <br><br><img src="https://habrastorage.org/webt/l9/la/n6/l9lan6o4wjrpctaeelbsnuosnso.jpeg"><br><br>  Luego nos dimos cuenta de que incluso para hacer un prototipo, necesitamos alg√∫n tipo de dispositivo.  Compramos el primer modelo de c√°mara IP disponible, que funciona en el rango infrarrojo. <br><br>  ¬øPor qu√© necesitamos infrarrojos?  La iluminaci√≥n puede ser diferente, a veces el usuario est√° a la sombra, a veces la luz es desde atr√°s, desde arriba o no hay ninguna.  Si hacemos un dispositivo de medici√≥n, entonces deber√≠a funcionar igual bajo cualquier condici√≥n. <br><br>  Para el experimento, apareci√≥ una c√°mara bastante popular de Xiaomi: CHUANGMI. <br><br><img src="https://habrastorage.org/webt/tr/qt/f9/trqtf9jukb0tuzste_5rq-nsiwk.jpeg"><br><br>  Result√≥ que dispara a una frecuencia de 15 fotogramas por segundo, y necesitamos el doble: el parpadeo dura de 30 a 150 ms, a 15 fotogramas por segundo nos arriesgamos a "no ver" el parpadeo de menos de 60‚Äì70 ms.  Por lo tanto, tuvimos que modificar su firmware para encender a la fuerza la iluminaci√≥n IR, obtener acceso directo a la transmisi√≥n de video y recoger los 30 cuadros por segundo necesarios.  Despu√©s de haber conectado la c√°mara al port√°til y configurado para recibir la transmisi√≥n de video a trav√©s del protocolo RTSP, comenzamos a grabar los primeros videos.  La c√°mara se coloc√≥ a 15 cm por debajo de la c√°mara del port√°til, y esto permiti√≥ "ver" mejor los ojos del usuario. <br><br>  El √©xito?  Y de nuevo, no.  Despu√©s de recopilar varios cientos de videos, nos dimos cuenta de que no pasaba nada.  El comportamiento del usuario de la computadora port√°til durante el d√≠a es diferente del comportamiento del conductor: una persona puede levantarse en cualquier momento, moverse para morder, simplemente caminar y hacer un calentamiento, mientras que el conductor pasa mucho m√°s tiempo sentado.  Por lo tanto, dichos datos no nos convienen. <br><br>  Qued√≥ claro que la √∫nica forma es hacer o comprar una c√°mara adecuada e instalarla en el autom√≥vil. <br><br>  Parece que todo es elemental: compramos un DVR, nos volvemos hacia el conductor, nos fijamos en el autom√≥vil y una vez a la semana recogemos tarjetas SD con grabaciones de video.  Pero aqu√≠, en realidad, todo result√≥ no ser tan simple. <br><br>  En primer lugar, es extremadamente dif√≠cil encontrar un DVR con iluminaci√≥n IR, y necesitamos ver bien la cara, especialmente de noche. <br><br>  En segundo lugar, todos los DVR tienen una lente gran angular, por lo que el √°rea con la cara del conductor es bastante peque√±a y no se puede ver nada en el registro.  Y la distorsi√≥n de la lente estropea el an√°lisis de la posici√≥n de la cabeza y la direcci√≥n de la vista. <br><br>  En tercer lugar, esta empresa no escala bien en diez, cien o m√°s m√°quinas.  Necesitamos recolectar muchos datos de diferentes controladores para analizarlos y sacar conclusiones.  Cambiar manualmente las tarjetas de memoria en un centenar de m√°quinas cada semana o cada d√≠a es una gran p√©rdida de tiempo.  Incluso intentamos encontrar una c√°mara que cargara videos a la nube, pero no hab√≠a nada similar en el mercado. <br><br>  Incluso hubo una idea para hacer "su propio DVR" con la Raspberry Pi, una c√°mara con iluminaci√≥n IR y soportes. <br><br><img src="https://habrastorage.org/webt/zr/ba/3z/zrba3zrobipczwlnn8u0swwvdoi.jpeg"><br><br>  El resultado no fue exactamente lo que esper√°bamos: engorroso, es imposible instalar la c√°mara por separado de la computadora.  El hecho es que con una longitud de cable de m√°s de 50 cm, hay problemas con la se√±al iniciada, y el cable CSI en s√≠ mismo es bastante fr√°gil, demasiado ancho y, por lo tanto, no muy adecuado para la instalaci√≥n en una m√°quina. <br><br>  Debemos ir a Hong Kong, decidimos.  El prop√≥sito del viaje era bastante abstracto: ver qu√© est√°n haciendo los diferentes fabricantes en el campo del an√°lisis del comportamiento del conductor, comprar muestras de productos si los encontramos y buscar soluciones / componentes t√©cnicos adecuados que podamos instalar en los autom√≥viles. <br><br>  Fuimos inmediatamente a dos exhibiciones populares de electr√≥nica y componentes.  En el pabell√≥n de la electr√≥nica automotriz, vimos un dominio sin precedentes de grabadoras de video, c√°maras retrovisoras y sistemas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ADAS</a> , pero casi nadie estaba involucrado en analizar el comportamiento del conductor.  Los prototipos de varios fabricantes determinaron quedarse dormido, distraerse, fumar y hablar por tel√©fono, pero nadie pens√≥ en la fatiga. <br><br>  Como resultado, compramos varias muestras de c√°maras y computadoras de una sola placa.  Qued√≥ claro que 1) no hay productos terminados adecuados para nosotros;  2) es necesario separar la computadora y la c√°mara para no oscurecer la vista del conductor.  Por lo tanto, tomamos una placa de c√°mara con una interfaz USB y, como unidad inform√°tica, una computadora Banana Pi de placa √∫nica y, al mismo tiempo, varios reproductores Android basados ‚Äã‚Äãen procesadores Amlogic. <br><br><img src="https://habrastorage.org/webt/mh/yy/rq/mhyyrqsrpdv8ypl30wacadprkne.jpeg"><br><br>  "¬øPor qu√© est√°n los jugadores?"  - usted pregunta  De hecho, el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">S912 e incluso el S905</a> son bastante potentes en t√©rminos de rendimiento y pueden extraer f√°cilmente la grabaci√≥n de video para nuestros prop√≥sitos, incluso con el an√°lisis de im√°genes en el acto.  Se necesitaba un an√°lisis de imagen en el sitio para no enviar toda la transmisi√≥n de video al servidor. <br><br>  Vamos a contar: un minuto de video bien comprimido en resoluci√≥n H.264 de 640 √ó 480 (30 FPS) toma al menos 5 megabytes.  Entonces, en una hora habr√° 300 megabytes, y para un turno est√°ndar de 8 horas, aproximadamente 2-3 gigabytes. <br><br>  Cargar 3 gigabytes de video todos los d√≠as con la ayuda de un m√≥dem LTE es muy "costoso".  Por lo tanto, decidimos grabar peri√≥dicamente videos de 5 minutos y analizar todo lo que sucede en el autom√≥vil all√≠ mismo y subirlo a nuestros servidores en forma de una secuencia analizada de eventos: un conjunto de puntos faciales, una direcci√≥n de visi√≥n, un giro de cabeza, etc. <br><br>  Regresamos de las exposiciones de buen humor, trajimos un mont√≥n de basura necesaria (e innecesaria) y nos dimos cuenta de c√≥mo seguir√≠amos haciendo el prototipo. <br><br>  La c√°mara USB que encontramos en Hong Kong fue casi perfecta para nosotros: tama√±o 38 √ó 38 mm, lentes est√°ndar (12 mm), la capacidad de soldar iluminadores IR directamente en la placa. <br><br><img src="https://habrastorage.org/webt/vw/r9/fs/vwr9fs6x4vzo304bkvfw9phoqse.jpeg"><br><br>  Por lo tanto, inmediatamente le pedimos al fabricante que nos hiciera un prototipo con los componentes necesarios.  Ahora entendimos: necesitamos una c√°mara USB con luz de fondo y una PC de placa √∫nica para el procesamiento de video.  Decidimos probar todo lo que se present√≥ en el mercado y organizamos una sesi√≥n de compra en AliExpress.  Compramos cuatro docenas de c√°maras diferentes, una docena de PC de una sola placa, reproductores Android, una colecci√≥n de lentes de 12 mm y muchos otros dispositivos extra√±os. <br><br><img src="https://habrastorage.org/webt/ck/6m/tb/ck6mtbk3ytd-8iucodljfkod-gs.jpeg"><br><br>  El problema con el hardware se resolvi√≥.  ¬øY qu√© hay del software? <br><br>  R√°pidamente, pudimos obtener un prototipo simple basado en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OpenCV</a> , que escribe un video, encuentra la cara del conductor, la analiza, marca 68 puntos clave en la cara, reconoce el parpadeo, el bostezo, el giro de la cabeza, etc. <br><br>  La siguiente tarea fue hacer que nuestro prototipo funcionara en una PC de placa √∫nica.  Raspberry PI se cay√≥ de inmediato: pocos n√∫cleos, un procesador d√©bil, m√°s de siete cuadros por segundo no se pueden extraer de √©l.  Y sobre c√≥mo escribir simult√°neamente un video, reconocer una cara y analizarla, no hab√≠a duda.  Por las mismas razones, los decodificadores y las computadoras de placa √∫nica en Allwinner (H2, H3, H5), Amlogic S905 y Rockchip RK3328 no nos quedaron, aunque este √∫ltimo estuvo muy cerca del rendimiento deseado.  Como resultado, todav√≠a tenemos dos SoC potenciales: Amlogic S912 y Rockchip RK3399. <br><br>  En Amlogic, la elecci√≥n de los dispositivos era peque√±a: una caja de TV o Khadas VIM2.  Todo funcionaba igual en la caja de TV y Khadas, pero el enfriamiento de los decodificadores dejaba mucho que desear, y la configuraci√≥n de Linux en ellos a menudo no era para los d√©biles: hacer que Wi-Fi, BT funcionen, hacer que el sistema operativo vea toda la memoria, - Es largo, dif√≠cil e impredecible.  Como resultado, elegimos Khadas VIM2: tiene un radiador de enfriamiento est√°ndar y la placa es lo suficientemente compacta como para esconderse detr√°s del tablero de la m√°quina. <br><br><img src="https://habrastorage.org/webt/f_/_1/lt/f__1ltkkzkqy08jygtdgs-jrooi.jpeg"><br><br>  En este momento, el fabricante de la placa de la c√°mara ya nos hab√≠a enviado un lote de prueba de cien piezas, y est√°bamos ansiosos por la batalla: hacer un prototipo, ponerlo en un autom√≥vil y recopilar datos. <br><br>  Ten√≠amos una c√°mara, hab√≠a software, hab√≠a una PC de placa √∫nica, pero no hab√≠a la menor idea de c√≥mo poner todo esto en el autom√≥vil y conectarlo a la fuente de alimentaci√≥n a bordo. <br><br>  Obviamente, la c√°mara necesitaba un cuerpo y una montura.  Compramos dos impresoras 3D a la vez para imprimir piezas, y el contratista nos hizo el primer modelo primitivo de la carcasa. <br><br><img src="https://habrastorage.org/webt/ju/jt/ct/jujtct45fz8xpuv-pd_xvr18qmm.jpeg"><br><br>  Ahora ha surgido la dif√≠cil tarea de elegir: d√≥nde montar la c√°mara en el autom√≥vil para obtener una buena imagen, pero no para oscurecer la visi√≥n del conductor.  Hab√≠a exactamente tres opciones: <br><br><ol><li>  En medio del parabrisas. </li><li>  En el estante izquierdo. </li><li>  En el espejo retrovisor. </li></ol><br><img src="https://habrastorage.org/webt/ou/nv/en/ounven5ffmbmk-fnzvfqqy6oyls.jpeg"><br><br>  En ese momento, nos pareci√≥ que era mejor colocar la c√°mara directamente en el espejo retrovisor: siempre est√° dirigida en la cara del conductor, por lo que la c√°mara disparar√° exactamente lo que necesitamos.  Desafortunadamente, los fabricantes de espejos retrovisores no se aseguraron de que algo se les pudiera unir de manera conveniente y confiable.  Las c√°maras no aguantaron bien, cayeron y cerraron la revisi√≥n. <br><br><img src="https://habrastorage.org/webt/9h/oo/gc/9hoogck8s_vhjdzabffnwni1n78.jpeg"><br><br>  Sin embargo, equipamos varias m√°quinas y comenzamos a recopilar datos de ellas.  Se hizo evidente que el dise√±o era imperfecto, y los problemas relacionados con el rendimiento y el calentamiento aumentaron al mismo tiempo que grababan y analizaban la cara. <br><br>  Luego decidimos montar la c√°mara a la altura de los ojos en el estante izquierdo: cerramos menos la revisi√≥n y tenemos un buen √°ngulo para la c√°mara para que se pueda ver el controlador.  El estuche tuvo que volver a hacerse, ya que los sujetadores con bisagras resultaron extremadamente poco confiables: se rompen cuando se sacuden, se rompen y las ventosas se despegan del vidrio. <br><br><img src="https://habrastorage.org/webt/qj/mt/ko/qjmtkocxocrcpmzhkzw3urszdem.jpeg"><br><br>  Decidimos que para el prototipo y la recopilaci√≥n de datos es mejor pegar firmemente las c√°maras al vidrio para que ninguna sacudida o influencia externa pueda cambiar su posici√≥n.  Modificamos ligeramente la carcasa y al mismo tiempo realizamos pruebas de carga de la instalaci√≥n utilizando una cinta especial de doble cara.  Para las pruebas, se utiliz√≥ equipo complejo y de alta precisi√≥n. <br><br><img src="https://habrastorage.org/webt/7r/c-/cb/7rc-cbdojhkigygkl9kbwucodek.jpeg"><br><br>  Debido a problemas de rendimiento, decidimos cambiar el SoC a uno m√°s potente, por lo que elegimos la PC de placa √∫nica NanoPI M4 en el procesador Rockchip RK3399. <br><br>  En comparaci√≥n con Khadas VIM2, es aproximadamente un tercio m√°s productivo, tiene compresi√≥n de hardware y decodificaci√≥n de video, y se comporta mucho m√°s estable en condiciones de temperatura dif√≠ciles.  S√≠, tratamos de colocar c√°maras y placas de circuito en el congelador, las calentamos en el horno y realizamos muchas otras pruebas inhumanas. <br><br><img src="https://habrastorage.org/webt/ro/ia/ty/roiatyksmkri083bp6dsk2soye4.jpeg"><br><br>  Como grabamos videos no solo as√≠, sino tambi√©n en din√°micas durante todo el d√≠a, era importante que la hora del sistema en el dispositivo fuera precisa.  Desafortunadamente, la mayor√≠a de las computadoras de placa √∫nica no est√°n equipadas con un reloj autoalimentado.  Tuvimos suerte de que nuestro NanoPI tuviera un conector de bater√≠a. <br><br>  Tuve que dise√±ar un estuche para una computadora que lo proteger√≠a f√≠sicamente y actuar√≠a como soporte para antenas WiFi y BT.  All√≠ tambi√©n proporcionamos un lugar para montar la bater√≠a del reloj con un soporte. <br><br><img src="https://habrastorage.org/webt/cy/94/6w/cy946wwax2lf0lt9szdcx-7-qbe.jpeg"><img src="https://habrastorage.org/webt/ba/s8/xu/bas8xuo0kr2v5_ti2gczvaups_i.jpeg"><br><br>  Luego, planeamos equipar cien m√°quinas con prototipos que grabar√°n video y transmitir√°n toda la telemetr√≠a a la nube en l√≠nea: ¬øhay un conductor, con qu√© frecuencia y durante mucho tiempo parpadea, bosteza, se distrae de la carretera, gira la cabeza, etc. Todo esto ( y no solo) los par√°metros nos permiten entrenar un modelo que eval√∫a qu√© tan concentrado est√° el conductor en la carretera, si est√° distra√≠do o cansado.  Para hacer todo esto directamente en el dispositivo en el autom√≥vil, tuvimos que reescribir completamente el c√≥digo, hacer compresi√≥n de video por hardware, rotar registros y grabaciones de video, enviarlo regularmente al servidor, actualizar el software de forma remota y mucho m√°s. <br><br>  Al mismo tiempo, nos qued√≥ claro que nuestros c√°lculos y algoritmos funcionar√≠an mucho mejor con un an√°lisis facial b√°sico m√°s preciso.  En los primeros prototipos, utilizamos el detector de caras integrado en OpenCV basado en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">modelo de cascada de haar</a> y el modelo para marcar 68 puntos faciales basados ‚Äã‚Äãen la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dlib</a> .  Calculamos la posici√≥n de la cabeza nosotros mismos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">calculando la</a> proyecci√≥n de los puntos de la cara en el plano focal.  Las soluciones de c√≥digo abierto para el reconocimiento y el marcado de caras funcionan bien en cuadros donde la cara se dispara al frente o al perfil, pero en condiciones intermedias a menudo se confunden. <br><br>  Por lo tanto, decidimos licenciar una buena soluci√≥n de reconocimiento y marcado facial de terceros: VisionLabs SDK.  En comparaci√≥n con los algoritmos anteriores, requiere m√°s recursos, pero proporciona un aumento notable en la calidad del reconocimiento y el marcado de rostros, lo que conduce a una extracci√≥n m√°s precisa de los factores para el aprendizaje autom√°tico.  Con la ayuda de colegas de VisionLabs, pudimos cambiar r√°pidamente a su SDK y obtener el rendimiento que necesit√°bamos: 30 cuadros / segundo.  a una resoluci√≥n de 640x480. <br><br>  VisionLabs SDK utiliza redes neuronales para el reconocimiento facial.  La tecnolog√≠a procesa cada cuadro, encuentra la cara del conductor y proporciona las coordenadas de los ojos, la nariz, la boca y otros puntos clave.  Los datos obtenidos se utilizan para crear un marco normalizado de 250x250 de tama√±o, donde la cara se encuentra estrictamente en el centro.  Este marco ya se puede usar para calcular la posici√≥n de la cabeza en grados a lo largo de tres ejes: gui√±ada, cabeceo y balanceo.  Para rastrear el estado de los ojos del conductor, el sistema analiza la imagen de los ojos y para cada ojo decide si est√° cerrado o abierto.  El sistema puede determinar usando la tecnolog√≠a IR Liveness si una persona viva est√° frente a la c√°mara o si el conductor ha adjuntado una foto.  Para el an√°lisis, se utiliza un marco normalizado, y en la salida obtenemos el resultado vivo o no vivo. <br><br><h4>  Conclusi√≥n </h4><br>  Mientras est√°bamos reescribiendo y depurando software, nuestras impresoras 3D imprimieron estuches para c√°maras y PC de placa √∫nica d√≠a y noche.  La impresi√≥n del kit (cuerpo de la c√°mara + carcasa de la PC) tom√≥ alrededor de 3-4 horas de funcionamiento de la impresora, por lo que tuvimos que ampliar las capacidades de producci√≥n: utilizamos cuatro impresoras.  Pero logramos hacer todo a tiempo. <br><br><img src="https://habrastorage.org/webt/ob/rs/b5/obrsb5c3yhdnisat6cn5jvatoa4.jpeg"><br><br>  En dos semanas, hemos equipado completamente los primeros cien autos en varias flotas de taxis: socios de Yandex.Taxi.  Ahora, con su ayuda, recopilamos videos, analizamos el comportamiento del conductor, los signos de fatiga, mejoramos los algoritmos y entrenamos modelos que eval√∫an el nivel de atenci√≥n y fatiga.  Y solo despu√©s de eso (teniendo en cuenta todos los datos, comentarios de los conductores y pasajeros) estaremos listos para pasar a la siguiente etapa: producci√≥n en masa e implementaci√≥n. <br><br>  Desafortunadamente, para escalar a varios miles o decenas de miles de instalaciones, la soluci√≥n t√©cnica actual no es muy adecuada por varias razones.  Todo lo que hablamos en este art√≠culo es un experimento r√°pido, cuyo prop√≥sito era aprender r√°pidamente c√≥mo recopilar datos directamente de las m√°quinas para entrenar modelos.  El siguiente gran paso para nosotros es desarrollar y comenzar a producir un dispositivo de las mismas dimensiones, pero que consta de una unidad: la c√°mara, los sensores y el m√≥dem se ubicar√°n en una caja compacta, que instalaremos masivamente en las m√°quinas. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/461137/">https://habr.com/ru/post/461137/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../461125/index.html">La tarea de crear c√≥digos num√©ricos secuenciales para numerar mensajes en el c√≥digo fuente en Visual Studio (ej. C #)</a></li>
<li><a href="../461127/index.html">An√°lisis de rendimiento de VM en VMware vSphere. Parte 3: Almacenamiento</a></li>
<li><a href="../461129/index.html">Sobre kote, esposa, dos hijos, la idea ... y no solo. Historia con continuaci√≥n</a></li>
<li><a href="../461131/index.html">Carro carro ROS Parte 2. Software</a></li>
<li><a href="../461133/index.html">Probar el c√≥digo de SQL Server con tSQLt</a></li>
<li><a href="../461141/index.html">Mi primer d√≠a con Haiku: ella es inesperadamente buena</a></li>
<li><a href="../461143/index.html">Sobre los problemas actuales del dise√±o del juego y las formas de resolverlos. Vista desde abajo</a></li>
<li><a href="../461145/index.html">Qu√© debe liderar un equipo: roles, responsabilidades y habilidades</a></li>
<li><a href="../461147/index.html">C√≥mo ahorrar 64 horas combinando teclas en PowerPoint</a></li>
<li><a href="../461149/index.html">Migraci√≥n sin obst√°culos de MongoDB a Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>