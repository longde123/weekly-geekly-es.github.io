<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСйтАНтЭдя╕ПтАНЁЯТЛтАНЁЯСй ЁЯСитАНЁЯСйтАНЁЯСж ЁЯН╢ рдХреИрд╕реЗ рд╣рдо рдорд╣рд╛рди рдЪреАрдиреА рдлрд╝рд╛рдпрд░рд╡реЙрд▓ (2 рднрд╛рдЧ) рдЫреЗрджрд╛ ЁЯФТ ЁЯЫая╕П ЁЯТЗЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдирдорд╕реНрддреЗ! 


 рдирд┐рдХрд┐рддрд╛ рдлрд┐рд░ рд╕реЗ рдЖрдкрдХреЗ рд╕рд╛рде рд╣реИ - SEMrush рдХрд╛ рдПрдХ рд╕рд┐рд╕реНрдЯрдо рдЗрдВрдЬреАрдирд┐рдпрд░ред рдФрд░ рдЗрд╕ рд▓реЗрдЦ рдХреЗ рд╕рд╛рде, рдореИрдВ рдЕрдкрдиреА рд╕реЗрд╡рд╛ semrush.com рдХреЗ рд▓рд┐рдП рдЪреАрдиреА рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░рди...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдХреИрд╕реЗ рд╣рдо рдорд╣рд╛рди рдЪреАрдиреА рдлрд╝рд╛рдпрд░рд╡реЙрд▓ (2 рднрд╛рдЧ) рдЫреЗрджрд╛</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/semrush/blog/458840/"><p>  рдирдорд╕реНрддреЗ! </p><br><p>  рдирд┐рдХрд┐рддрд╛ рдлрд┐рд░ рд╕реЗ рдЖрдкрдХреЗ рд╕рд╛рде рд╣реИ - <strong>SEMrush рдХрд╛</strong> рдПрдХ рд╕рд┐рд╕реНрдЯрдо рдЗрдВрдЬреАрдирд┐рдпрд░ред  рдФрд░ рдЗрд╕ рд▓реЗрдЦ рдХреЗ рд╕рд╛рде, рдореИрдВ рдЕрдкрдиреА рд╕реЗрд╡рд╛ semrush.com рдХреЗ рд▓рд┐рдП <em>рдЪреАрдиреА рдлрд╝рд╛рдпрд░рд╡реЙрд▓</em> рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░рдиреЗ рдХреЗ рд╕рдорд╛рдзрд╛рди рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рдЖрдпрд╛, рдЗрд╕рдХреА рдХрд╣рд╛рдиреА рдЬрд╛рд░реА рд░рдЦрддрд╛ рд╣реВрдВред </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ</a> рдореИрдВрдиреЗ рдмрддрд╛рдпрд╛: </p><br><ul><li>  рдПрдХ рдирд┐рд░реНрдгрдп рдХреЗ рдмрд╛рдж рдХреНрдпрд╛ рд╕рдорд╕реНрдпрд╛рдПрдВ рдЖрддреА рд╣реИрдВ "рд╣рдореЗрдВ рдЪреАрди рдореЗрдВ рдЕрдкрдиреА рд╕реЗрд╡рд╛ рдХрд╛рд░реНрдп рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ" </li><li>  рдЪреАрдиреА рдЗрдВрдЯрд░рдиреЗрдЯ рдореЗрдВ рдХреНрдпрд╛ рд╕рдорд╕реНрдпрд╛рдПрдВ рд╣реИрдВ </li><li>  рдореБрдЭреЗ ICP рд▓рд╛рдЗрд╕реЗрдВрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ </li><li>  рдХреИрд╕реЗ рдФрд░ рдХреНрдпреЛрдВ рд╣рдордиреЗ рдХреИрдЪрдкреЙрдЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ рдкрд░реАрдХреНрд╖рдг рдмреЗрдВрдЪреЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ </li><li>  Cloudflare China Network рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣рдорд╛рд░реЗ рдкрд╣рд▓реЗ рд╕рдорд╛рдзрд╛рди рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдХреНрдпрд╛ рдерд╛ </li><li>  рдбреАрдПрдирдПрд╕ рдХреНрд▓рд╛рдЙрдбрдлреЗрдпрд░ рдореЗрдВ рд╣рдореЗрдВ рдПрдХ рдмрдЧ рдХреИрд╕реЗ рдорд┐рд▓рд╛ </li></ul><br><img src="https://habrastorage.org/webt/c8/e0/wt/c8e0wt5ps6j4bkc8glimogfgtxg.png"><br><p>  рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рдпрд╣ рд╣рд┐рд╕реНрд╕рд╛ рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдордВрдЪрди рдХреЗ рд╡рд┐рд╢рд┐рд╖реНрдЯ рддрдХрдиреАрдХреА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкрд░ рдХреЗрдВрджреНрд░рд┐рдд рд╣реИред  рдФрд░ рд╣рдо <strong>рдЕрд▓реАрдмрд╛рдмрд╛ рдХреНрд▓рд╛рдЙрдб рдХреЗ</strong> рд╕рд╛рде рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗ, рдпрд╛ рдЬрд╛рд░реА рд░рдЦреЗрдВрдЧреЗред </p><a name="habracut"></a><br><h2 id="alibaba-cloud">  рдЕрд▓реАрдмрд╛рдмрд╛ рдмрд╛рджрд▓ </h2><br><p>  <strong>рдЕрд▓реАрдмрд╛рдмрд╛ рдХреНрд▓рд╛рдЙрдб</strong> рдПрдХ рдХрд╛рдлреА рдмрдбрд╝рд╛ рдХреНрд▓рд╛рдЙрдб рдкреНрд░рджрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдРрд╕реА рд╕рднреА рд╕реЗрд╡рд╛рдПрдБ рд╣реИрдВ рдЬреЛ рдЗрд╕реЗ рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ рдЕрдкрдиреЗ рдЖрдк рдХреЛ рдХреНрд▓рд╛рдЙрдб рдкреНрд░рджрд╛рддрд╛ рдХрд╣рддреЗ рд╣реИрдВред  рдпрд╣ рдЕрдЪреНрдЫрд╛ рд╣реИ рдХрд┐ рдЙрдирдХреЗ рдкрд╛рд╕ рд╡рд┐рджреЗрд╢реА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдкрдВрдЬреАрдХрд░рдг рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рд╣реИ, рдФрд░ рдпрд╣ рдХрд┐ рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕рд╛рдЗрдЯ рдХрд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ (рдЪреАрди рдХреЗ рд▓рд┐рдП рдпрд╣ рдПрдХ рд▓рдХреНрдЬрд░реА рд╣реИ)ред  рдЗрд╕ рдмрд╛рджрд▓ рдореЗрдВ, рдЖрдк рджреБрдирд┐рдпрд╛ рдХреЗ рдХрдИ рдХреНрд╖реЗрддреНрд░реЛрдВ, рдореБрдЦреНрдп рднреВрдорд┐ рдЪреАрди, рд╕рд╛рде рд╣реА рд╕рд╛рде рдорд╣рд╛рд╕рд╛рдЧрд░ рдПрд╢рд┐рдпрд╛ (рд╣рд╛рдВрдЧрдХрд╛рдВрдЧ, рддрд╛рдЗрд╡рд╛рди, рдЖрджрд┐) рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h3 id="ipsec">  IPSEC </h3><br><p>  рднреВрдЧреЛрд▓ рд╕реЗ рд╢реБрд░реБрдЖрдд рдХреАред  рдЪреВрдВрдХрд┐ рд╣рдорд╛рд░реА рдкрд░реАрдХреНрд╖рдг рд╕рд╛рдЗрдЯ Google рдХреНрд▓рд╛рдЙрдб рдкрд░ рд╕реНрдерд┐рдд рдереА, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдЕрд▓реАрдмрд╛рдмрд╛ рдХреНрд▓рд╛рдЙрдб рдХреЛ GCP рдХреЗ рд╕рд╛рде "рд▓рд┐рдВрдХ" рдХрд░рдирд╛ рдерд╛, рдЗрд╕рд▓рд┐рдП рд╣рдордиреЗ рдЙрди рд╕реНрдерд╛рдиреЛрдВ рдХреА рд╕реВрдЪреА рдЦреЛрд▓реА рдЬрд╣рд╛рдВ Google рдореМрдЬреВрдж рд╣реИред  рдЙрд╕ рд╕рдордп, рдЙрдирдХреЗ рдкрд╛рд╕ рд╣рд╛рдВрдЧрдХрд╛рдВрдЧ рдореЗрдВ рдЕрдкрдирд╛ рд╕реНрд╡рдпрдВ рдХрд╛ рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░ рдирд╣реАрдВ рдерд╛ред <br>  рдирд┐рдХрдЯрддрдо рдХреНрд╖реЗрддреНрд░ <strong>рдПрд╢рд┐рдпрд╛-рдкреВрд░реНрд╡ 1</strong> (рддрд╛рдЗрд╡рд╛рди) рдерд╛ред  рдЕрд▓реА рдиреЗ рдореБрдЦреНрдп рднреВрдорд┐ рдЪреАрди рдХреЗ рддрд╛рдЗрд╡рд╛рди рдХреЗ рдирд┐рдХрдЯрддрдо рдХреНрд╖реЗрддреНрд░ рдХреЗ рд░реВрдк рдореЗрдВ <strong>cn-shenzhen</strong> (рд╢реЗрдиреНрдЬрд╝реЗрди) рдХрд┐рдпрд╛ рдерд╛ред </p><br><p>  <strong>рдЯреЗрд░рд╛рдлреЙрд░реНрдо</strong> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП <strong>, рдЙрдиреНрд╣реЛрдВрдиреЗ</strong> рдЬреАрд╕реАрдкреА рдФрд░ рдЕрд▓реА рдореЗрдВ рдкреВрд░реЗ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдФрд░ рдЙрдард╛рдпрд╛ред  рдмрд╛рджрд▓реЛрдВ рдХреЗ рдмреАрдЪ 100 рдПрдордмреАрдкреАрдПрд╕ рд╕реБрд░рдВрдЧ рд▓рдЧрднрдЧ рддреБрд░рдВрдд рдмрдврд╝реАред  рд╢реЗрдиреНрдЬрд╝реЗрди рдФрд░ рддрд╛рдЗрд╡рд╛рди рдХреА рдУрд░ рд╕реЗ рдЙрдиреНрд╣реЛрдВрдиреЗ рдкреНрд░реЙрдХреНрд╕реА рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд┐рдпрд╛ред  рд╢реЗрдиреНрдЬрд╝реЗрди рдореЗрдВ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рддрд╛рдЗрд╡рд╛рди рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реБрд░рдВрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдорд╛рдкреНтАНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рд╡рд╣рд╛рдВ рд╕реЗ рдпрд╣ рд╕реАрдзреЗ рд╣рдорд╛рд░реА рд╕реЗрд╡рд╛ рдХреЗ рдмрд╛рд╣рд░реА рдЖрдИрдкреА рдкрд░ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ <strong>рд╣рдореЗрдВ-рдкреВрд░реНрд╡</strong> (рдпреВрдПрд╕рдП рдХреЗ рдкреВрд░реНрд╡реА рддрдЯ) рдореЗрдВ рджреЗрддрд╛ рд╣реИред  <strong>24ms</strong> рд╕реБрд░рдВрдЧ рдкрд░ <strong>рд╡рд░реНрдЪреБрдЕрд▓ рдХреЗ</strong> рдмреАрдЪ рдкрд┐рдВрдЧ, рдЬреЛ рдЗрддрдирд╛ рдмреБрд░рд╛ рдирд╣реАрдВ рд╣реИред </p><br><p>  рдЙрд╕реА рд╕рдордп, рд╣рдордиреЗ <strong>рдЕрд▓реАрдмрд╛рдмрд╛ рдХреНрд▓рд╛рдЙрдб рдбреАрдПрдирдПрд╕</strong> рдореЗрдВ рдПрдХ рдкрд░реАрдХреНрд╖рдг рдХреНрд╖реЗрддреНрд░ рд░рдЦрд╛ред  рдПрдирдПрд╕ рдЕрд▓реА рдХреЛ рдХреНрд╖реЗрддреНрд░ рд╕реМрдВрдкрдиреЗ рдХреЗ рдмрд╛рдж, рд╕рдВрдХрд▓реНрдк рд╕рдордп 470 рдПрдордПрд╕ рд╕реЗ рдШрдЯрдХрд░ <strong>50 рдПрдордПрд╕ рд╣реЛ рдЧрдпрд╛</strong> ред  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ, рдпрд╣ рдХреНрд╖реЗрддреНрд░ рдХреНрд▓рд╛рдЙрдбрдлрд╝реЗрдпрд░ рдкрд░ рднреА рдерд╛ред </p><br><p> рд╕реБрд░рдВрдЧ рдХреЗ рд╕рд╛рде <em>рдЖрд╕рд┐рдпрд╛-рдкреВрд░реНрд╡</em> 1 рдХреЗ рд╕рдорд╛рдирд╛рдВрддрд░, рд╢реЗрдиреНрдЬрд╝реЗрди рд╕реЗ рдПрдХ рдФрд░ рд╕реБрд░рдВрдЧ рд╕реАрдзреЗ <em>рд╣рдорд╕реЗ-рдкреВрд░реНрд╡ 4 рддрдХ рдмрдврд╝рд╛рдИ рдЧрдИ рдереА</em> ред  рд╡рд╣рд╛рдВ рдЙрдиреНрд╣реЛрдВрдиреЗ рдЕрдзрд┐рдХ рдкреНрд░реЙрдХреНрд╕реА рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЗрдВ рдмрдирд╛рдИрдВ рдФрд░ рдХреБрдХреАрдЬрд╝ рдпрд╛ DNS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЯреЗрд╕реНрдЯ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд░реВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛрдиреЛрдВ рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреЛ рдорд╛рдкрдирд╛ рд╢реБрд░реВ рдХрд┐рдпрд╛ред  рдкрд░реАрдХреНрд╖рдг рдмреЗрдВрдЪ рдХреЛ рдпреЛрдЬрдирд╛рдмрджреНрдз рд░реВрдк рд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЖрдХреГрддрд┐ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: </p><br><img src="https://habrastorage.org/webt/r8/c4/gv/r8c4gvhj7_joemea0hznmvo5gxk.png"><br><p>  рд╕реБрд░рдВрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд▓рдВрдмрддрд╛ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: <br>  <em>рдЕрд▓реА рд╕реЗрди-рд╢реЗрдирдЬреЗрди &lt;-&gt; рдЬреАрд╕реАрдкреА рдПрд╢рд┐рдпрд╛-рдИрд╕реНрдЯ 1 - 24ms</em> <em><br></em>  <em>рдЕрд▓реА cn-shenzhen &lt;-&gt; GCP us-east4 - 200ms</em> </p><br><p>  рдХреИрдЪрдкреЙрдЗрдВрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдиреЗ рдЙрддреНрдХреГрд╖реНрдЯ рдкреНрд░рджрд░реНрд╢рди рд╕реБрдзрд╛рд░реЛрдВ рдХреА рд╕реВрдЪрдирд╛ рджреА рд╣реИред </p><br><img src="https://habrastorage.org/webt/e0/ku/am/e0kuamjpkkcbj737036tyuirbuk.png"><br><p>  рджреЛ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рд▓рд┐рдП рдкрд░реАрдХреНрд╖рдг рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВ: </p><br><div class="scrollable-table"><table><thead><tr><th>  рдирд┐рд░реНрдгрдп </th><th>  рдЕрдкрдЯрд╛рдЗрдо </th><th>  рдордВрдЭрд▓рд╛ </th><th>  75 рдкреНрд░рддрд┐рд╢рдд </th><th>  95 рдкреНрд░рддрд┐рд╢рдд </th></tr></thead><tbody><tr><td>  CloudFlare </td><td>  86.6 </td><td>  18s </td><td>  30s </td><td>  60 рдХреЗ рджрд╢рдХ </td></tr><tr><td>  <strong>IPsec</strong> </td><td>  <strong>99.79</strong> </td><td>  <strong>18s</strong> </td><td>  <strong>-21</strong> </td><td>  <strong>30s</strong> </td></tr></tbody></table></div><br><p>  рдпрд╣ IPSEC рдЯрдирд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <b>asia-east1 рдХреЗ</b> рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдорд╛рдзрд╛рди рдбреЗрдЯрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рдорд╛рдзреНрдпрдо рд╕реЗ East4, рдкрд░рд┐рдгрд╛рдо рдмрджрддрд░ рдереЗ, рдФрд░ рдЕрдзрд┐рдХ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдереАрдВ, рдЗрд╕рд▓рд┐рдП рдореИрдВ рдкрд░рд┐рдгрд╛рдо рдирд╣реАрдВ рджреВрдВрдЧрд╛ред </p><br><p>  рдЗрд╕ рдкрд░реАрдХреНрд╖рдг рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рджреЛ рд╕реБрд░рдВрдЧреЗрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдПрдХ рдХреЛ рдЪреАрди рдореЗрдВ рдирд┐рдХрдЯрддрдо рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╕рдорд╛рдкреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдЕрдВрддрд┐рдо рдЧрдВрддрд╡реНрдп рдкрд░, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рдХрд┐ рдЪреАрдиреА рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдХреЗ рддрд╣рдд "рдЙрднрд░рдирд╛" рдЬрд▓реНрдж рд╕реЗ рдЬрд▓реНрдж рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдФрд░ рдлрд┐рд░ рддреЗрдЬрд╝ рдиреЗрдЯрд╡рд░реНрдХ (рд╕реАрдбреАрдПрди рдкреНрд░рджрд╛рддрд╛) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ , рдмрд╛рджрд▓ рдкреНрд░рджрд╛рддрд╛рдУрдВ, рдЖрджрд┐)ред  рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рд╕реЗ рд╣реЛрдХрд░ рдЧрдВрддрд╡реНрдп рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЭрдЯрдХреЗ рдореЗрдВ рдкреНрд░рдпрд╛рд╕ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдпрд╣ рд╕рдмрд╕реЗ рддреЗрдЬрд╝ рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИред </p><br><p>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдкрд░рд┐рдгрд╛рдо рдЦрд░рд╛рдм рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐, semrush.com рдореЗрдВ 8.8 рдХрд╛ рдФрд╕рдд рдФрд░ 9.4 рдХрд╛ 75 рдкреНрд░рддрд┐рд╢рдд (рдПрдХ рд╣реА рдкрд░реАрдХреНрд╖рдг рдкрд░) рд╣реИред <br>  рдФрд░ рдЖрдЧреЗ рдмрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рдПрдХ рд╡рд┐рд╖рдпрд╛рдВрддрд░ рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред </p><br><h2 id="liricheskoe-otstuplenie">  рдЧреАрддрд╛рддреНрдордХ рд╡рд┐рд╖рдпрд╛рдВрддрд░ </h2><br><p>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ <em>www.semrushchina.cn</em> рд╕рд╛рдЗрдЯ рдкрд░ <em>рдЬрд╛рддрд╛ рд╣реИ</em> , рдЬреЛ "рдбреАрдПрдирдПрд╕" рдЪреАрдиреА рдбреАрдПрдирдПрд╕ рд╕рд░реНрд╡рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣рд▓ рд╣реЛрддрд╛ рд╣реИ, HTTP рдЕрдиреБрд░реЛрдз рд╣рдорд╛рд░реЗ рддреНрд╡рд░рд┐рдд рд╕рдорд╛рдзрд╛рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд╛рддрд╛ рд╣реИред  рдЙрддреНрддрд░ рдХреЛ рдЙрд╕реА рддрд░рд╣ рд╕реЗ рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рднреА JS рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕, HTML рдкреЗрдЬреЛрдВ рдФрд░ рд╡реЗрдм рдкреЗрдЬ рдХреЗ рдЕрдиреНрдп рддрддреНрд╡реЛрдВ рдореЗрдВ, рдбреЛрдореЗрди <em>semrush.com</em> рдЕрддрд┐рд░рд┐рдХреНрдд рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд▓рд┐рдП <em>рдЗрдВрдЧрд┐рдд</em> рдХрд┐рдпрд╛ <em>рдЬрд╛рддрд╛ рд╣реИ</em> рдЬрд┐рдиреНрд╣реЗрдВ рдкреЗрдЬ рдХреЛ рд░реЗрдВрдбрд░ рдХрд░рддреЗ рд╕рдордп рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣реА рд╣реИ, рдЧреНрд░рд╛рд╣рдХ "рдореБрдЦреНрдп" рдПрдХ рд░рд┐рдХреЙрд░реНрдб <em>www.semrushchina.c</em> n рдХреЛ рд╣рд▓ рдХрд░рддрд╛ рд╣реИ рдФрд░ рддреЗрдЬреА рд╕реЗ рд╕реБрд░рдВрдЧ рдореЗрдВ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд▓реНрджреА рд╕реЗ рдПрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ - рдПрдХ HTML рдкреГрд╖реНрда рдЬреЛ рдмрддрд╛рддрд╛ рд╣реИ: </p><br><ul><li>  рдРрд╕реЗ рдФрд░ рдРрд╕реЗ js sso.semrush.com рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ, </li><li>  Cdn.semrush.com рд╕реЗ CSS рдлрд╛рдЗрд▓реЗрдВ рд▓реЗрдВ, </li><li>  рдФрд░ dab.semrush.com рд╕реЗ рдЕрдзрд┐рдХ рддрд╕реНрд╡реАрд░реЗрдВ рд▓реЗрдВ </li><li>  рдФрд░ рдЗрд╕реА рддрд░рд╣ред </li></ul><br><p>  рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЗрди рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд▓рд┐рдП "рдмрд╛рд╣рд░реА" рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЬрд╛рдирд╛ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ, рд╣рд░ рдмрд╛рд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдордп рдХреЛ рднреБрдирд╛рдиреЗ рд╡рд╛рд▓реЗ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рд╕реЗ рдЧреБрдЬрд░рддрд╛ рд╣реИред </p><br><p>  рд▓реЗрдХрд┐рди рдкрд┐рдЫрд▓реЗ рдкрд░реАрдХреНрд╖рдг рдореЗрдВ, рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рдЬрдм рдкреГрд╖реНрда рдкрд░ рдХреЛрдИ <em>semrush.com</em> рд╕рдВрд╕рд╛рдзрди рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ, рдХреЗрд╡рд▓ <em>semrushchina.cn</em> , рдФрд░ * .semrushchina.cn рдХреЛ рдмрд╛рдж рдореЗрдВ рд╕реБрд░рдВрдЧ рдореЗрдВ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╢реЗрдиреНрдЬрд╝реЗрди рдореЗрдВ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рдкрддреЗ рдкрд░ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдХреЗрд╡рд▓ рдЗрд╕ рддрд░рд╣ рд╕реЗ, рдЪреАрдиреА рдлрд╛рдпрд░рд╡реЙрд▓ рдХреЛ рдЕрдзрд┐рдХрддрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рдирд┐рд░реНрдгрдп рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдлреЗрдВрдХрдиреЗ рд╕реЗ, рдЖрдк рд╕реНрд╡реАрдХрд╛рд░реНрдп рдЧрддрд┐ рдФрд░ рд╕рд╛рдЗрдЯ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреЗ рд╕рдВрдХреЗрддрдХ, рд╕рд╛рде рд╣реА рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреЗ рдИрдорд╛рдирджрд╛рд░ рдкрд░реАрдХреНрд╖рдг рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br>  рд╣рдордиреЗ рдЯреАрдо рдЙрддреНрдкрд╛рджреЛрдВ рдХреЗ рдкрдХреНрд╖ рдореЗрдВ рдПрдХ рднреА рдХреЛрдб рд╕рдВрдкрд╛рджрд┐рдд рдХрд┐рдП рдмрд┐рдирд╛ рдРрд╕рд╛ рдХрд┐рдпрд╛ред </p><br><h3 id="subfilter">  Subfilter </h3><br><p>  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЗ рд╕рд╛рдордиреЗ рдЖрдиреЗ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рд╕рдорд╛рдзрд╛рди рдХрд╛ рдЬрдиреНрдо рд╣реБрдЖред  рд╣рдореЗрдВ <strong>PoC</strong> (рдкреНрд░реВрдл рдСрдл рдХреЙрдиреНрд╕реЗрдкреНрдЯ) рдХреА рдЬрд░реВрд░рдд рдереА, рдЬреЛ рдХрд┐ рд╣рдорд╛рд░реЗ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рд╕рдорд╛рдзрд╛рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЗрд╕ рд╕рдорд╛рдзрд╛рди рдореЗрдВ рд╕рд╛рдЗрдЯ рдХреЗ рд╕рднреА рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдЕрдзрд┐рдХрддрдо рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдФрд░ рд╣рдордиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://nginx.org/ru/docs/http/ngx_">рдирдЧрдиреЗрдХреНрд╕</a> рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://nginx.org/ru/docs/http/ngx_">рд╕рдмрдлрд╝рд┐рд▓реНрдЯрд░</a> рд▓рдЧрд╛рдпрд╛ред </p><br><p>  <b>рд╕рдмрдлрд┐рд▓реНрдЯрд░ рдиреЗрдЧреНрдиреЗрдХреНрд╕</b> рдореЗрдВ рдПрдХ рдХрд╛рдлреА рд╕рд░рд▓ рдореЙрдбреНрдпреВрд▓ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдПрдХ рд▓рд╛рдЗрди рдХреЛ рджреВрд╕рд░реА рд▓рд╛рдЗрди рдХреЗ рдЬрд╡рд╛рдм рдХреЗ рд╢рд░реАрд░ рдореЗрдВ рдмрджрд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП рд╣рдордиреЗ рд╕рднреА рдЙрддреНрддрд░реЛрдВ рдореЗрдВ <em>semrush.com</em> рдХреА рд╕рднреА рдШрдЯрдирд╛рдУрдВ рдХреЛ <em>semrushchina.cn рдореЗрдВ</em> рдмрджрд▓ рджрд┐рдпрд╛ред </p><br><p>  рдФрд░ ... рдпрд╣ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рд╣рдореЗрдВ рдмреИрдХрдПрдВрдб рд╕реЗ рд╕рдВрдкреАрдбрд╝рд┐рдд рд╕рд╛рдордЧреНрд░реА рдкреНрд░рд╛рдкреНрдд рд╣реБрдИ рдереА, рдЗрд╕рд▓рд┐рдП рд╕рдмрдлрд╝рд┐рд▓реНрдЯрд░ рдХреЛ рдЖрд╡рд╢реНрдпрдХ рд▓рд╛рдЗрди рдирд╣реАрдВ рдорд┐рд▓ рдкрд╛рдИред  рдореБрдЭреЗ nginx рдореЗрдВ рдПрдХ рдФрд░ рд╕реНрдерд╛рдиреАрдп рд╕рд░реНрд╡рд░ рдЬреЛрдбрд╝рдирд╛ рдерд╛, рдЬрд┐рд╕рдиреЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╡рд┐рдШрдЯрд┐рдд рдХрд░ рджрд┐рдпрд╛ рдФрд░ рдЗрд╕реЗ рдЕрдЧрд▓реЗ рд╕реНрдерд╛рдиреАрдп рд╕рд░реНрд╡рд░ рдкрд░ рднреЗрдЬ рджрд┐рдпрд╛, рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЕрдкрд╕реНрдЯреНрд░реАрдо рдкреНрд░реЙрдХреНрд╕реА рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрди рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди, рд╕рдВрдкреАрдбрд╝рди рдФрд░ рдбрд┐рд▓реАрд╡рд░реА рдореЗрдВ рд▓рдЧрд╛ рд╣реБрдЖ рдерд╛ред </p><br><img src="https://habrastorage.org/webt/pb/6m/jd/pb6mjdouldlxlm6hr1ilz9dpck0.png"><br><p>  рдирддреАрдЬрддрди, рдЬрд╣рд╛рдВ рдЧреНрд░рд╛рд╣рдХ рдХреЛ <strong>&lt;subdomain&gt; .semrush.com</strong> рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧрд╛, рдЙрд╕реЗ <strong>&lt;subdomain&gt; .semrushchina.cn</strong> рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧрд╛ рдФрд░ рдЖрдЬреНрдЮрд╛рдХрд╛рд░реА рд░реВрдк рд╕реЗ рд╣рдорд╛рд░реЗ рдирд┐рд░реНрдгрдп рд╕реЗ <strong>рдЧреБрдЬрд░реЗрдЧрд╛</strong> ред </p><br><p>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрд╣ рдХреЗрд╡рд▓ рдПрдХ рджрд┐рд╢рд╛ рдореЗрдВ рдбреЛрдореЗрди рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдмреИрдХрдПрдВрдб рдЕрднреА рднреА рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реЗ рдмрд╛рдж рдХреЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ semrush.com рдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░рддреЗ рд╣реИрдВред  рддрджрдиреБрд╕рд╛рд░, рдЙрд╕реА рд╕рд░реНрд╡рд░ рдкрд░ рдЬрд╣рд╛рдВ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдПрдХ рджрд┐рд╢рд╛ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдПрдХ рд╕рд░рд▓ рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╣рдо рдЕрдиреБрд░реЛрдз рд╕реЗ рдЙрдкрдбреЛрдореЗрди рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ <b>$ subdomain.semrush.com</b> рдореЗрдВ <b>$</b> <i>рд╣реЛрд╕реНрдЯ</i> рдЪрд░ рд╕реЗрдЯ рдХреЗ рд╕рд╛рде <i>рдкреНрд░реЙрдХреНрд╕реА_рдкрд╛рд╕</i> рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рднреНрд░рд╛рдордХ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдФрд░ рдпрд╣ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реНрдХ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реНрдХ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рд╡реЗ рдмрд╕ рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рдмреНрд▓реЙрдХ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдПрдХ рдЕрд▓рдЧ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдмрдирд╛рддреЗ рд╣реИрдВред  рдиреАрдЪреЗ рдЗрд╕ рдпреЛрдЬрдирд╛ рдХреА рд╕реНрдкрд╖реНрдЯрддрд╛ рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рдЫреЛрдЯреЗ рдирдЧреАрди рд╡рд┐рдиреНрдпрд╛рд╕ рд╣реИрдВред </p><br><p>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рдиреНрдпрд╛рд╕ рдЪреАрди рд╕реЗ <i>.semrushchina.cn рдХреЗ</i> рд▓рд┐рдП рд╕рднреА рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИ <i>:</i> <br></p><pre><code class="plaintext hljs">listen 80; server_name ~^(?&lt;subdomain&gt;[\w\-]+)\.semrushchina.cn$; sub_filter '.semrush.com' '.semrushchina.cn'; sub_filter_last_modified on; sub_filter_once off; sub_filter_types *; gzip on; gzip_proxied any; gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/javascript; location / { proxy_pass http://127.0.0.1:8083; proxy_set_header Accept-Encoding ""; proxy_set_header Host $subdomain.semrush.com; proxy_set_header X-Accept-Encoding $http_accept_encoding; } }</code> </pre> <br><p>  рдпрд╣ рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рдкреЛрд░реНрдЯ 83 рдкрд░ <i>рд▓реЛрдХрд▓рд╣реЛрд╕реНрдЯ рдХреЛ рджрд┐рдпрд╛</i> рдЧрдпрд╛ рд╣реИ, рдФрд░ рд╡рд╣рд╛рдБ рдпрд╣ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЙрдиреНрдлрд┐рдЧрд░ рдХрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░рддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs"> listen 127.0.0.1:8083; server_name *.semrush.com; location / { resolver 8.8.8.8 ipv6=off; gunzip on; proxy_pass https://$host; proxy_set_header Accept-Encoding gzip; } }</code> </pre> <br><p>  рдлрд┐рд░ рд╕реЗ, рдпреЗ рдлрд╕рд▓реА рд╡рд┐рдиреНрдпрд╛рд╕ рд╣реИрдВред </p><br><p>  рдХреБрдЫ рдЗрд╕ рддрд░рд╣ред  рдпрд╣ рдЬрдЯрд┐рд▓ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╢рдмреНрджреЛрдВ рдореЗрдВ рд╣реИред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╕рдм рдХреБрдЫ рдзрдорд╛рдХреЗрджрд╛рд░ рд╢рд▓рдЬрдо рд╕реЗ рдЖрд╕рд╛рди рд╣реИ :) </p><br><h3 id="konec-liricheskogo-otstupleniya">  рдЧреЗрдп рд╡рд┐рд╖рдпрд╛рдВрддрд░ рдХрд╛ рдЕрдВрдд </h3><br><p>  рдереЛрдбрд╝реА рджреЗрд░ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЦреБрд╢ рдереЗ рдХреНрдпреЛрдВрдХрд┐ IPSEC рд╕реБрд░рдВрдЧреЛрдВ рдХреЗ рдЧрд┐рд░рдиреЗ рдХреА рдорд┐рдердХ рдХреА рдкреБрд╖реНрдЯрд┐ рдирд╣реАрдВ рд╣реБрдИ рд╣реИред  рд▓реЗрдХрд┐рди рдлрд┐рд░ рд╕реБрд░рдВрдЧреЗрдВ рдЧрд┐рд░рдиреЗ рд▓рдЧреАрдВред  рджрд┐рди рдореЗрдВ рдХрдИ рдмрд╛рд░ рдХрдИ рдорд┐рдирдЯ рддрдХред  рдереЛрдбрд╝рд╛, рд▓реЗрдХрд┐рди рдпрд╣ рд╣рдореЗрдВ рд╢реЛрднрд╛ рдирд╣реАрдВ рджреЗрддрд╛ред  рдЪреВрдВрдХрд┐ рджреЛрдиреЛрдВ рд╕реБрд░рдВрдЧреЛрдВ рдХреЛ рдПрдХ рд╣реА рд░рд╛рдЙрдЯрд░ рдкрд░ рдЕрд▓реА рдХреА рддрд░рдл рд╕реЗ рд╕рдорд╛рдкреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╣рдордиреЗ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рдХрд┐ рд╢рд╛рдпрдж рдпрд╣ рдПрдХ рдХреНрд╖реЗрддреНрд░реАрдп рд╕рдорд╕реНрдпрд╛ рд╣реИ рдФрд░ рд╣рдореЗрдВ рдмреИрдХрдЕрдк рдХреНрд╖реЗрддреНрд░ рдХреЛ рдмрдврд╝рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p>  рдЙрдард╛ рд▓рд┐рдпрд╛ред  рд╕реБрд░рдВрдЧ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рдордп рдкрд░ рдЧрд┐рд░рдирд╛ рд╢реБрд░реВ рд╣реБрдИрдВ, рд▓реЗрдХрд┐рди рд╣рдордиреЗ рдирдЧреАрдиреЛрдВ рдореЗрдВ рдКрдкрд░ рдХреА рддрд░рдл рдПрдХ рдареАрдХ-рдареАрдХ рд╡рд┐рдлрд▓рддрд╛ рдкрд╛рдИред  рд▓реЗрдХрд┐рди рдлрд┐рд░ рд╕реБрд░рдВрдЧ рд▓рдЧрднрдЧ рдЙрд╕реА рд╕рдордп рдЧрд┐рд░рдирд╛ рд╢реБрд░реВ рд╣реБрдИ :) рдФрд░ рдлрд┐рд░ рд╕реЗ, 502 рдФрд░ 504ред рдЕрдкрдЯрд╛рдЗрдо рдмрд┐рдЧрдбрд╝рдирд╛ рд╢реБрд░реВ рд╣реЛ рдЧрдпрд╛, рдЗрд╕рд▓рд┐рдП рд╣рдордиреЗ <b>рдЕрд▓реАрдмрд╛рдмрд╛ рд╕реЗрди</b> (рдХреНрд▓рд╛рдЙрдб рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬ рдиреЗрдЯрд╡рд░реНрдХ) рдХреЗ рд╕рд╛рде рд╡рд┐рдХрд▓реНрдк рдкрд░ рдХрд╛рдо рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ред </p><br><h2 id="cen">  рдХреЗрдВрджреНрд░ </h2><br><p>  <b>CEN</b> рдЕрд▓реАрдмрд╛рдмрд╛ рдХреНрд▓рд╛рдЙрдб рдХреЗ рднреАрддрд░ рд╡рд┐рднрд┐рдиреНрди рдХреНрд╖реЗрддреНрд░реЛрдВ рд╕реЗ рджреЛ VPC рдХреА рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рд╣реИ, рдЕрд░реНрдерд╛рдд, рдЖрдк рдХреНрд▓рд╛рдЙрдб рдХреЗ рднреАрддрд░ рдХрд┐рд╕реА рднреА рдХреНрд╖реЗрддреНрд░ рдХреЗ рдирд┐рдЬреА рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдПрдХ рджреВрд╕рд░реЗ рд╕реЗ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  рдФрд░ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рдд: рдЗрд╕ рдЪреИрдирд▓ рдореЗрдВ рдПрдХ рд╕рдЦреНрдд <em>SLA рд╣реИ</em> ред  рдпрд╣ рдЧрддрд┐ рдФрд░ рдЕрдкрдЯрд╛рдЗрдо рджреЛрдиреЛрдВ рдореЗрдВ рдмрд╣реБрдд рд╕реНрдерд┐рд░ рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣ рдЗрддрдирд╛ рдЖрд╕рд╛рди рдХрднреА рдирд╣реАрдВ рд╣реИ: </p><br><ul><li>  рдпрд╣ рдмрд╣реБрдд рдореБрд╢реНрдХрд┐рд▓ рд╣реИ рдЕрдЧрд░ рдЖрдк рдЪреАрдиреА рдирд╛рдЧрд░рд┐рдХ рдпрд╛ рдХрд╛рдиреВрдиреА рд╕рдВрд╕реНрдерд╛ рдирд╣реАрдВ рд╣реИрдВ, </li><li>  рдЖрдкрдХреЛ рдмреИрдВрдбрд╡рд┐рдбреНрде рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдореЗрдЧрд╛рдмрд┐рдЯ рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </li></ul><br><p>  <em>рдореЗрдирд▓реИрдВрдб рдЪрд╛рдЗрдирд╛</em> рдФрд░ <em>рдУрд╡рд░рд╕реАрдЬ</em> рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рдорд┐рд▓рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдордиреЗ рджреЛ рдЕрд▓реА рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рдмреАрдЪ рдПрдХ CEN рдмрдирд╛рдпрд╛: <b>cn-shenzhen</b> рдФрд░ <b>us-east-1</b> ( <b>рд╣рдорд╛рд░реЗ-рдИрд╕реНрдЯ 4</b> рдХрд╛ рдирд┐рдХрдЯрддрдо рдмрд┐рдВрджреБ)ред  рдЕрд▓реА <i>us-east-1 рдореЗрдВ, рдЙрдиреНрд╣реЛрдВрдиреЗ</i> рдПрдХ рдФрд░ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдЙрдард╛рдИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдФрд░ <em>рд╣реЙрдк рд╣реИ</em> ред </p><br><p>  рдпрд╣ рдЗрд╕ рддрд░рд╣ рдирд┐рдХрд▓рд╛: </p><br><img src="https://habrastorage.org/webt/s5/0s/qs/s50sqsjxzjx0r1fqyx-cjsjkuvq.png"><br><p>  рдиреАрдЪреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдкрд░реАрдХреНрд╖рдг рдХреЗ рдкрд░рд┐рдгрд╛рдо: </p><br><img src="https://habrastorage.org/webt/9b/p0/oq/9bp0oqtuludsve8g5tlnqfsa75k.png"><br><div class="scrollable-table"><table><thead><tr><th>  рдирд┐рд░реНрдгрдп </th><th>  рдЕрдкрдЯрд╛рдЗрдо </th><th>  рдордВрдЭрд▓рд╛ </th><th>  75 рдкреНрд░рддрд┐рд╢рдд </th><th>  95 рдкреНрд░рддрд┐рд╢рдд </th></tr></thead><tbody><tr><td>  CloudFlare </td><td>  86.6 </td><td>  18s </td><td>  30s </td><td>  60 рдХреЗ рджрд╢рдХ </td></tr><tr><td>  IPsec </td><td>  99.79 </td><td>  18s </td><td>  -21 </td><td>  30s </td></tr><tr><td>  <b>рдХреЗрдВрджреНрд░</b> </td><td>  <b>99.75</b> </td><td>  <b>-16</b> </td><td>  <b>-21</b> </td><td>  <b>27s</b> </td></tr></tbody></table></div><br><p>  IPSEC рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдкреНрд░рджрд░реНрд╢рди рдереЛрдбрд╝рд╛ рдмреЗрд╣рддрд░ рд╣реИред  рд▓реЗрдХрд┐рди IPSEC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЖрдк рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ 100 рдПрдордмреАрдкреАрдПрд╕ рдХреА рдЧрддрд┐ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рд╕реАрдИрдПрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреЗрд╡рд▓ 5 рдПрдордмреАрдкреАрдПрд╕ рдХреА рдЧрддрд┐ рд╕реЗ рдФрд░ рдЕрдзрд┐рдХ рдорд╣рдВрдЧрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рд╣рд╛рдЗрдмреНрд░рд┐рдб рднреАрдЦ, рд╕рд╣реА?  IPSEC рдЧрддрд┐ рдФрд░ CEN рд╕реНрдерд┐рд░рддрд╛ рдХрд╛ рдорд┐рд╢реНрд░рдг рдХрд░реЗрдВред </p><br><p>  IPSEC рд╕реБрд░рдВрдЧ рджреБрд░реНрдШрдЯрдирд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ IPSEC рдФрд░ CEN рджреЛрдиреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдХрд░ рд╣рдордиреЗ рдпрд╣реА рдХрд┐рдпрд╛ред  рдЕрдкрдЯрд╛рдЗрдо рдмрд╣реБрдд рдЕрдзрд┐рдХ рд╣реЛ рдЧрдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд╛рдЗрдЯ рдХреА рд▓реЛрдбрд┐рдВрдЧ рдЧрддрд┐ рдЦрд░рд╛рдм рд╣реИред  рдлрд┐рд░ рдореИрдВрдиреЗ рдЙрди рд╕рднреА рдпреЛрдЬрдирд╛рдУрдВ рдХреЛ рдЖрдХрд░реНрд╖рд┐рдд рдХрд┐рдпрд╛, рдЬрд┐рдирдХрд╛ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдерд╛ рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдерд╛, рдФрд░ рдЗрд╕ рдпреЛрдЬрдирд╛ рдХреЛ рдереЛрдбрд╝рд╛ рдФрд░ GCP рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛, рдЕрд░реНрдерд╛рддреН <strong>GLB</strong> ред </p><br><h2 id="glb">  GLB </h2><br><p>  <strong>GLB</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреНрд▓реЛрдмрд▓ рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд░</a> (рдпрд╛ Google рдХреНрд▓рд╛рдЙрдб рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд░) рд╣реИред  рдЗрд╕рдХрд╛ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд▓рд╛рдн рд╣реИ: рд╕реАрдбреАрдПрди рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдЗрд╕рдореЗрдВ рдХреЛрдИ рднреА <strong>рдЖрдИрдкреА тАЛтАЛрд╣реИ</strong> , рдЬреЛ рдЖрдкрдХреЛ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рдирд┐рдХрдЯрддрдо рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдореЗрдВ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд░реВрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреА <strong>рдмрджреМрд▓рдд</strong> "рд╕рд╛рдорд╛рдиреНрдп" рдЗрдВрдЯрд░рдиреЗрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЯреНрд░реИрдлрд╝рд┐рдХ Google рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рддреЗрдЬрд╝реА рд╕реЗ рдФрд░ рдХрдо рдЧрддрд┐ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИред </p><br><p>  рджреЛ рдмрд╛рд░ рд╕реЛрдЪрдиреЗ рдХреЗ рдмрд┐рдирд╛, рд╣рдордиреЗ <em>HTTP / HTTPS LB</em> рдХреЛ GCP рддрдХ рдмрдврд╝рд╛рдпрд╛ рдФрд░ рдЕрдкрдиреА рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдХреЛ рд╕рдмрдлрд╝рд┐рд▓реНрдЯрд░ рдмреИрдХреЗрдВрдб рдХреЗ рд╕рд╛рде рд▓рдЧрд╛рдпрд╛ред </p><br><p>  рдХрдИ рдпреЛрдЬрдирд╛рдПрдВ рдереАрдВ: </p><br><ul><li>  <em>Cloudflare China Network рдХрд╛</em> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рд▓реЗрдХрд┐рди рдЗрд╕ рдмрд╛рд░ рдЙрддреНрдкрддреНрддрд┐ рд╡реИрд╢реНрд╡рд┐рдХ <strong>GLB IP</strong> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреА рд╣реИред </li><li>  рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЛ <em>cn-shenzhen</em> , рдФрд░ рд╡рд╣рд╛рдВ рд╕реЗ рдкреНрд░реЙрдХреНрд╕реА рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рддреБрд░рдВрдд <strong>GLB рдореЗрдВ</strong> рд╕рдорд╛рдкреНрдд рдХрд░реЗрдВред </li><li>  рдЪреАрди рд╕реЗ рд╕реАрдзреЗ <strong>рдЬреАрдПрд▓рдмреА рдкрд░ рдЬрд╛рдПрдВ</strong> ред </li><li>  <em>Cn-shenzhen</em> рдореЗрдВ рдХреНрд▓рд╛рдЗрдВрдЯреНрд╕ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░реЗрдВ, рдкреНрд░реЙрдХреНрд╕реА рд╕реЗ <em>asia-east1</em> рддрдХ IPSEC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ ( <em>us-east4</em> рдореЗрдВ CEN рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ), рд╡рд╣рд╛рдВ рд╕реЗ GLB рдкрд░ рдЬрд╛рдПрдВ (рд╢рд╛рдВрддрд┐ рд╕реЗ, рдиреАрдЪреЗ рдПрдХ рддрд╕реНрд╡реАрд░ рдФрд░ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рд╣реЛрдЧрд╛) </li></ul><br><p>  рд╣рдордиреЗ рдЗрди рд╕рднреА рд╡рд┐рдХрд▓реНрдкреЛрдВ рдФрд░ рдХреБрдЫ рдФрд░ рд╣рд╛рдЗрдмреНрд░рд┐рдб рд▓реЛрдЧреЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛: </p><br><ul><li>  <strong>Cloudflare + GLB</strong> </li></ul><br><img src="https://habrastorage.org/webt/aa/-z/5c/aa-z5cpge5r_2qazfvcsvne5loi.png"><br><p>  рдпрд╣ рдпреЛрдЬрдирд╛ рд╣рдореЗрдВ рдЕрдкрдЯрд╛рдЗрдо рдФрд░ DNS рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рд▓рдЧреАред  рд▓реЗрдХрд┐рди рд╕реАрдПрдл рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдкрд░ рдмрдЧ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╢рд╛рдпрдж рдЕрдм рдпрд╣ рдмреЗрд╣рддрд░ рд╣реИ (рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ HTTP рдЯрд╛рдЗрдордЖрдЙрдЯ рдХреЛ рдмрд╛рд╣рд░ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ)ред </p><br><ul><li>  <strong>рдЕрд▓реА + рдЬреАрдПрд▓рдмреА</strong> </li></ul><br><img src="https://habrastorage.org/webt/mm/ef/id/mmefid6fj_5fwsbvtjwealb6wnu.png"><br><p>  рд╕реНрд╡реАрдХрд╛рд░реНрдп рд╕рдордп рдпрд╛ рд╕рдордп рдкрд░ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЕрд╕рдВрднрд╡рддрд╛ рдХреЗ рдХрд╛рд░рдг, рдЬреАрдПрд▓рдмреА рдЕрдХреНрд╕рд░ рдЕрдкрд╕реНрдЯреНрд░реАрдо рд╕реЗ рдмрд╛рд╣рд░ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдпреЛрдЬрдирд╛ рдЪреАрди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рдереА, рдХреНрдпреЛрдВрдХрд┐ рдЪреАрди рдХреЗ рдЕрдВрджрд░ рдПрдХ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП, рдЬреАрдПрд▓рдмреА рдкрддрд╛ рдмрд╛рд╣рд░ рд░рд╣рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП, рдЪреАрдиреА рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдХреЗ рдкреАрдЫреЗред  рдЬрд╛рджреВ рдирд╣реАрдВ рд╣реБрдЖред </p><br><ul><li>  <strong>рдХреЗрд╡рд▓ рдЬреАрдПрд▓рдмреА</strong> </li></ul><br><img src="https://habrastorage.org/webt/yg/l9/jc/ygl9jcr4ugsqil_ry6zf4kj4dhy.png"><br><p>  рдкрд┐рдЫрд▓реЗ рдПрдХ рдХреЗ рд╕рдорд╛рди рдПрдХ рд╕рдВрд╕реНрдХрд░рдг, рдХреЗрд╡рд▓ рдпрд╣ рдЪреАрди рдореЗрдВ рд╣реА рд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддрд╛ рдерд╛: рдпрд╛рддрд╛рдпрд╛рдд рддреБрд░рдВрдд рдЬреАрдПрд▓рдмреА (рдбреАрдПрдирдПрд╕ рд░рд┐рдХреЙрд░реНрдб рдмрджрд▓ рдЧрдпрд╛) рдореЗрдВ рдЪрд▓рд╛ рдЧрдпрд╛ред  рддрджрдиреБрд╕рд╛рд░, рдкрд░рд┐рдгрд╛рдо рд╕рдВрддреЛрд╖рдЬрдирдХ рдирд╣реАрдВ рдереЗ, рдХреНрдпреЛрдВрдХрд┐ рд╕рд╛рдорд╛рдиреНрдп рдЗрдВрдЯрд░рдиреЗрдЯ рдкреНрд░рджрд╛рддрд╛рдУрдВ рдХреА рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕рд╛рдорд╛рдиреНрдп рдЪреАрдиреА рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рдкрд╛рд╕ рдЕрд▓реА рдХреНрд▓рд╛рдЙрдб рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рд╕реЗ рдЧреБрдЬрд░рдиреЗ рдХреЗ рд╕рд╛рде рдмрд╣реБрдд рдмрджрддрд░ рд╕реНрдерд┐рддрд┐ рд╣реИред </p><br><ul><li>  <strong>рд╢реЗрдиреНрдЬрд╝реЗрди -&gt; (CEN / IPSEC) -&gt; рдкреНрд░реЙрдХреНрд╕реА -&gt; GLB</strong> </li></ul><br><img src="https://habrastorage.org/webt/9f/v_/lw/9fv_lwec8yi4-rmuubqypun5mas.png"><br><p>  рдпрд╣рд╛рдВ рд╣рдордиреЗ рд╕рднреА рд╕рдорд╛рдзрд╛рдиреЛрдВ рдореЗрдВ рд╕реЗ рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛: </p><br><ul><li>  CEN рд╕реЗ рд╕реНрдерд┐рд░рддрд╛ рдФрд░ рдЧрд╛рд░рдВрдЯреАрдХреГрдд SLA </li><li>  IPSEC рд╕реЗ рдЙрдЪреНрдЪ рдЧрддрд┐ </li><li>  Google рдХрд╛ "рддреЗрдЬрд╝" рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рдЙрд╕рдХрд╛ рдХреЛрдИ рднреА рдкреНрд░рд╕рд╛рд░рдгред </li></ul><br><p>  рдпреЛрдЬрдирд╛ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддреА рд╣реИ: <em>ch-shenzhen</em> рдореЗрдВ рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдкрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  Nginx рдЕрдкрд╕реНрдЯреНрд░реАрдо рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдХреБрдЫ IPSEC рд╕реБрд░рдВрдЧ рдХреЗ рджреВрд╕рд░реЗ рдЫреЛрд░ рдкрд░ рд╕реНрдерд┐рдд рдирд┐рдЬреА IP рд╕рд░реНрд╡рд░ рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдХреБрдЫ рдЕрдкрд╕реНрдЯреНрд░реАрдо рдХрдиреЗрдХреНрд╢рди CEN рдХреЗ рджреВрд╕рд░реА рддрд░рдл рдирд┐рдЬреА рд╕рд░реНрд╡рд░ рдкрддреЗ рдкрд░ рд╣реИрдВред  IPSEC рдХреЛ GCP рдореЗрдВ <em>рдПрд╢рд┐рдпрд╛-рдИрд╕реНрдЯ 1 рдХреНрд╖реЗрддреНрд░</em> рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ (рдпрд╣ рд╕рдорд╛рдзрд╛рди рдирд┐рд░реНрдорд┐рдд рд╣реЛрдиреЗ рдХреЗ рд╕рдордп рдЪреАрди рдХрд╛ рдирд┐рдХрдЯрддрдо рдХреНрд╖реЗрддреНрд░ рдерд╛ред рдЕрдм GCP рдХреА рд╣рд╛рдВрдЧрдХрд╛рдВрдЧ рдореЗрдВ рднреА рдЙрдкрд╕реНрдерд┐рддрд┐ рд╣реИ)ред  CEN - рдЕрд▓реА рдХреНрд▓рд╛рдЙрдб рдореЗрдВ <em>us-east1 рдХреНрд╖реЗрддреНрд░</em> рдореЗрдВред </p><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рджреЛрдиреЛрдВ рд╕рд┐рд░реЛрдВ рд╕реЗ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдХрд┐рд╕реА рднреА <strong>IP</strong> рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдпрд╛рдиреА рдирд┐рдХрдЯрддрдо Google рдЙрдкрд╕реНрдерд┐рддрд┐ рдмрд┐рдВрджреБ рдкрд░, рдФрд░ рдЗрд╕рдХреЗ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ GCP рдореЗрдВ <em>us-east4 рдХреНрд╖реЗрддреНрд░</em> рдореЗрдВ рдЪрд▓рд╛ рдЧрдпрд╛, рдЬрд┐рд╕рдореЗрдВ рд╕реНрдерд╛рдирд╛рдкрдиреНрди рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди (nginx рдореЗрдВ рд╕рдмрдлрд╝рд┐рд▓реНрдЯрд░ рдХреЗ рд╕рд╛рде) рдереЗред </p><br><p>  рдЗрд╕ рд╣рд╛рдЗрдмреНрд░рд┐рдб рд╕рдорд╛рдзрд╛рди, рдЬреИрд╕рд╛ рдХрд┐ рд╣рдордиреЗ рдЙрдореНрдореАрдж рдХреА рдереА, рд╣рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рддрдХрдиреАрдХ рдХрд╛ рд▓рд╛рдн рдЙрдард╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреАред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдЯреНрд░реИрдлрд╝рд┐рдХ рддреЗрдЬрд╝ IPSEC рд╕реЗ рд╣реЛрдХрд░ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрджрд┐ рд╕рдорд╕реНрдпрд╛рдПрдБ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИрдВ, рддреЛ рд╣рдо рдЬрд▓реНрджреА рдФрд░ рдХрдИ рдорд┐рдирдЯреЛрдВ рдХреЗ рд▓рд┐рдП рдЗрди рд╕рд░реНрд╡рд░реЛрдВ рдХреЛ рдЕрдкрд╕реНрдЯреНрд░реАрдо рд╕реЗ рдмрд╛рд╣рд░ рдлреЗрдВрдХ рджреЗрддреЗ рд╣реИрдВ рдФрд░ CEN рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд╕реНрдерд┐рд░ рд╣реЛрдиреЗ рддрдХ рд╣реА рднреЗрдЬрддреЗ рд╣реИрдВред </p><br><p>  рдКрдкрд░ рджреА рдЧрдИ рд╕реВрдЪреА рд╕реЗ 4 рд╡реЗрдВ рд╕рдорд╛рдзрд╛рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдордиреЗ рд╡рд╣ рд╣рд╛рд╕рд┐рд▓ рдХрд░ рд▓рд┐рдпрд╛ рдЬреЛ рд╣рдо рдЪрд╛рд╣рддреЗ рдереЗ рдФрд░ рдЙрд╕ рд╕рдордп рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдХрд┐рд╕ рд╡реНрдпрд╡рд╕рд╛рдп рдХреА рдорд╛рдВрдЧ рдереАред </p><br><p>  рдкрд┐рдЫрд▓реЗ рд╡рд╛рд▓реЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдирдП рд╕рдорд╛рдзрд╛рди рдХреЗ рд▓рд┐рдП рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдкрд░реАрдХреНрд╖рдг рдкрд░рд┐рдгрд╛рдо: </p><br><div class="scrollable-table"><table><thead><tr><th>  рдирд┐рд░реНрдгрдп </th><th>  рдЕрдкрдЯрд╛рдЗрдо </th><th>  рдордВрдЭрд▓рд╛ </th><th>  75 рдкреНрд░рддрд┐рд╢рдд </th><th>  95 рдкреНрд░рддрд┐рд╢рдд </th></tr></thead><tbody><tr><td>  CloudFlare </td><td>  86.6 </td><td>  18s </td><td>  30s </td><td>  60 рдХреЗ рджрд╢рдХ </td></tr><tr><td>  IPsec </td><td>  99.79 </td><td>  18s </td><td>  -21 </td><td>  30s </td></tr><tr><td>  рдХреЗрдВрджреНрд░ </td><td>  99.75 </td><td>  -16 </td><td>  -21 </td><td>  27s </td></tr><tr><td>  <strong>CEN / IPsec + GLB</strong> </td><td>  <strong>99.79</strong> </td><td>  <strong>13s</strong> </td><td>  <strong>-16</strong> </td><td>  <strong>25s</strong> </td></tr></tbody></table></div><br><h2 id="cdn">  CDN </h2><br><p>  рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рд▓рд╛рдЧреВ рдХрд┐рдП рдЧрдП рд╕рдорд╛рдзрд╛рди рдореЗрдВ рд╕рдм рдХреБрдЫ рдЕрдЪреНрдЫрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреЛрдИ рд╕реАрдбреАрдПрди рдирд╣реАрдВ рд╣реИ рдЬреЛ рдХреНрд╖реЗрддреНрд░реЛрдВ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд╢рд╣рд░реЛрдВ рдХреЗ рд╕реНрддрд░ рдкрд░ рдпрд╛рддрд╛рдпрд╛рдд рдХреЛ рдЧрддрд┐ рджреЗ рд╕рдХреЗред  рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдпрд╣ рд╕реАрдбреАрдПрди рдкреНрд░рджрд╛рддрд╛ рдХреЗ рддреЗрдЬ рд╕рдВрдЪрд╛рд░ рдЪреИрдирд▓реЛрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдВрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рд╛рдЗрдЯ рдХреЛ рдЧрддрд┐ рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдФрд░ рд╣рдордиреЗ рд╣рд░ рд╕рдордп рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪрд╛ред  рдФрд░ рдЕрдм, рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдЕрдЧрд▓реЗ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдХрд╛ рд╕рдордп рдЖ рдЧрдпрд╛ рд╣реИ: рдЪреАрди рдореЗрдВ рд╕реАрдбреАрдПрди рдкреНрд░рджрд╛рддрд╛рдУрдВ рдХреА рдЦреЛрдЬ рдФрд░ рдкрд░реАрдХреНрд╖рдгред </p><br><p>  рдФрд░ рдореИрдВ рдЖрдкрдХреЛ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдЧрд▓реЗ, рдЕрдВрддрд┐рдо рднрд╛рдЧ рдореЗрдВ рдмрддрд╛рдКрдВрдЧрд╛ :) </p><br><h3 id="vse-chasti">  рд╕рднреА рднрд╛рдЧреЛрдВ </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднрд╛рдЧ 1</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднрд╛рдЧ 3</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi458840/">https://habr.com/ru/post/hi458840/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi458828/index.html">ValueTask рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ, рдХреНрдпреЛрдВ рдФрд░ рдХрдм рдХрд░реЗрдВ</a></li>
<li><a href="../hi458830/index.html">рдбреЗрд▓ рдЯреЗрдХреНрдиреЛрд▓реЙрдЬреАрдЬ рд╡реЗрдмрд┐рдирд╛рд░: рд╣рдорд╛рд░реЗ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рд╕рднреА рд╡рд┐рд╡рд░рдг</a></li>
<li><a href="../hi458832/index.html">рдкрд╛рдВрдЪ рдЫрд╛рддреНрд░реЛрдВ рдФрд░ рддреАрди рд╡рд┐рддрд░рд┐рдд рдХреА-рд╡реИрд▓реНрдпреВ рд╕реНрдЯреЛрд░</a></li>
<li><a href="../hi458834/index.html">рдкреЙрд▓ рдПрд▓рди рдХреЗ рд╡реНрдпрдХреНрддрд┐рддреНрд╡ рдХрд╛ рдкрдХреНрд╖, рдЬрд┐рд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЙрддрдиреЗ рд▓реЛрдЧреЛрдВ рдХреЛ рдирд╣реАрдВ рдкрддрд╛ рдерд╛ рдЬрд┐рддрдирд╛ рдореИрдВ рдЪрд╛рд╣реВрдВрдЧрд╛</a></li>
<li><a href="../hi458836/index.html">рдмреЛрд░реНрд╕реНрдЪ рдЗрдВрдбреЗрдХреНрд╕ред рдореВрд▓реНрдп / рдЧреБрдгрд╡рддреНрддрд╛ рдЕрдиреБрдкрд╛рдд рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг, рддреБрд▓рдирд╛, рдирд┐рд░реНрдзрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рджреГрд╖реНрдЯрд┐рдХреЛрдг</a></li>
<li><a href="../hi458842/index.html">рдзреИрд░реНрдп рдФрд░ рд╢реНрд░рдо рдкреВрд░реЗ рдкрд╛рда рдХреЛ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓ рджреЗрдЧрд╛</a></li>
<li><a href="../hi458844/index.html">рд╡реЗрд░рд┐рд╕реНрдо тДв рдЕрдиреБрдХреВрд▓рди рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд╛рдЗрд▓реЛ рд╡рд┐рдирд╛рд╢</a></li>
<li><a href="../hi458846/index.html">рдПрдХрддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдФрд░ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдорд░ рдХреИрд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред рдПрдХ рдФрд░ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓</a></li>
<li><a href="../hi458848/index.html">рдЬрдВрдЧ 1.36.0 рд░рд┐рд▓реАрдЬ: рднрд╡рд┐рд╖реНрдп рдХреЗ рд▓рдХреНрд╖рдг, рдЖрд╡рдВрдЯрди рд╕реНрдерд┐рд░реАрдХрд░рдг рдФрд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдпреВрдиреЗрдЯрд┐рдЯ <рдЯреА></a></li>
<li><a href="../hi458850/index.html">рд╕рд╕реНрддреЗ рдФрд░ рдХреБрд╢рд▓рддрд╛ рд╕реЗ рдЕрдВрдЧреНрд░реЗрдЬреА рд╕реАрдЦреЗрдВред рднрд╛рдЧ реи</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>