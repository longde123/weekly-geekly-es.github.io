<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì• üö∞ üåâ Internet de las cosas en ruso. Baseband Hotel LoRaWAN para propietarios de RTL-SDR üßìüèæ üí© ü•¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El concepto de transferir el procesamiento de se√±ales a la nube no es nuevo. En primer lugar, VRAN (red virtual de acceso de radio) es la principal fo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Internet de las cosas en ruso. Baseband Hotel LoRaWAN para propietarios de RTL-SDR</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455547/"><p> El concepto de transferir el procesamiento de se√±ales a la nube no es nuevo.  En primer lugar, VRAN (red virtual de acceso de radio) es la principal forma de construir una red de operadores m√≥viles.  En segundo lugar, la red IoT de SigFox se basa en el mismo principio, como se puede ver en sus patentes.  En pocas palabras, ¬°todo es incre√≠blemente genial!  Entonces, ¬øqu√© podemos hacer para no quedarnos al margen del progreso, sino unirnos al tema? </p><a name="habracut"></a><br><p>  La historia del problema es la siguiente: he estado involucrado en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la navegaci√≥n</a> por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">radio</a> durante mucho tiempo, y no pod√≠a pasar por un est√°ndar de radio tan com√∫n en Internet de cosas como LoRa.  Ten√≠a muchas ganas de hacer posicionamiento para √©l. </p><br><p>  La forma m√°s econ√≥mica de posicionamiento es el <strong>tel√©metro diferencial</strong> , en ingl√©s terminolog√≠a <strong>diferencia horaria de llegada</strong> ( <strong>TDOA</strong> ).  Los medidores con este m√©todo pueden ser de un solo canal, lo que los compara favorablemente con los m√©todos multicanal con √°ngulo de llegada (AOA).  El m√©todo requiere medir el <strong>tiempo relativo de</strong> llegada de se√±ales a metros espaciados espacialmente. </p><br><p><img src="https://habrastorage.org/webt/tg/ix/ai/tgixaite_xweo9lcnus9y2tlklk.png" alt="imagen"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuente</a> </p><br><p>  Hay dos opciones: la primera, para vincular las mediciones a una escala de tiempo de referencia, la segunda, para calcular el tiempo de llegada mutua directamente mediante la <strong>funci√≥n de correlaci√≥n mutua</strong> .  El segundo requiere un ancho de banda significativamente mayor de los canales de comunicaci√≥n con el medidor, pero tiene una inmunidad al ruido potencialmente mejor.  He elegido este enfoque. </p><br><p>  Cabe se√±alar que, por simplicidad de presentaci√≥n, omito el tema de la sincronizaci√≥n de la frecuencia portadora y la frecuencia de muestreo de los medidores por simplicidad.  Espero cubrir este tema en futuras publicaciones. </p><br><p>  Matem√°ticamente, el segundo enfoque se basa en una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">funci√≥n de correlaci√≥n cruzada</a> (VKF).  T√©cnicamente, esto significa que las muestras de se√±al deben transferirse a un lugar para calcular el WKF.  Al mismo tiempo, es necesario seleccionar las muestras de tiempo de una fuente de radiaci√≥n en todos los medidores involucrados en el posicionamiento.  Es decir, para construir el sistema de posicionamiento LoRa TDOA concebido, es necesario colocar en cada medidor un receptor SDR con un demodulador de software LoRa, por ejemplo, como se describe en este popular <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo en</a> ruso.  A continuaci√≥n, en cada receptor de medidor SDR, debe asignar la ID de los medios emisores y enviar a la computadora central una muestra de muestras con esta ID.  La calculadora central podr√°, cuando reciba paquetes de muestras con una ID, iniciar el procedimiento de c√°lculo del WKF y el procedimiento de posicionamiento.  Esta estructura me pareci√≥ demasiado exigente en cuanto al rendimiento del equipo y la complejidad del software del medidor.  Y con una carga m√°xima, dar√≠a una carga excesiva en el canal de comunicaci√≥n.  Por lo tanto, record√© el enfoque para construir la estructura de procesamiento de se√±ales de las redes celulares, que han estado utilizando durante mucho tiempo, y en la generaci√≥n 5G este enfoque deber√≠a ser obligatorio. </p><br><p>  Este enfoque se denomina <strong>Red de acceso de radio virtual</strong> ( <strong>V-RAN</strong> ).  Puedes buscar en Google esta combinaci√≥n de palabras.  Encontr√© alguna <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descripci√≥n</a> solo en ingl√©s.  Algo significativo en Wiki en V-RAN no lo es, pero seg√∫n el √∫ltimo concepto: <strong>Cloud Radio Access Network</strong> o <strong>Centralized Radio Access Network</strong> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><strong>C-RAN</strong></a> ).  El concepto parece estar lejos de la realidad: "las naves espaciales aran las extensiones del universo". </p><br><p><img src="https://habrastorage.org/webt/s5/u7/tz/s5u7tzyyzry0u-zbxs1znp_qx0g.png" alt="imagen"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuente</a> </p><br><p>  Como su nombre lo indica, la caracter√≠stica principal es que la demodulaci√≥n de la se√±al y todos los pasos de procesamiento posteriores se transfieren a la nube ( <strong>hotel de banda base</strong> ).  Con este enfoque, el costo de comprar equipos se reduce, pero existen costos para alquilar computadoras en la nube, cuya cantidad se puede ajustar de manera bastante r√°pida y conveniente, y lo m√°s importante, de acuerdo con los requisitos urgentes.  Esto trae ahorros.  Los ahorros se examinan superficialmente en este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> .  Y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este es un</a> estudio m√°s detallado del concepto. </p><br><p>  Sorprendentemente, la <strong>naturaleza de baja velocidad de IoT</strong> hace posible utilizar un enfoque de "espacio" en la econom√≠a nacional. </p><br><p>  Para hacer esto, debe tomar Raspberry (o cualquier otra computadora Linux con soporte RTL-SDR y SOAPY) y RTL-SDR, que ahora tiene un n√∫mero relativamente grande <del>  hogares </del>  personas, descargue la fuente o los archivos binarios del programa, con√©ctese a la nube y mire mensajes en el agregador de mensajes de LoRa IoT, como, por ejemplo, The Things Network. </p><br><p><img src="https://habrastorage.org/webt/f9/ug/8r/f9ug8rmtzskkk5vvuzkzfgakcow.png" alt="imagen"></p><br><p>  Y necesitas internet r√°pido.  Ahora el flujo se calcula de la siguiente manera: 200 kHz * 32 bits (I, Q) = 6.4 Mbps.  Luego, esta secuencia se comprime, resulta que aproximadamente 3-4 Mbit / s deja Raspberry en la direcci√≥n de nuestro servidor continuamente. </p><br><p>  Ahora echemos un vistazo al proceso de compilaci√≥n y lanzamiento por etapas. </p><br><p>  Aqu√≠ est√° el RTL-SDR insertado en la Raspberry Pi 3. </p><br><p><img src="https://habrastorage.org/webt/c-/lq/nz/c-lqnzbeuf5lx6sdxbsu8m7b3n0.jpeg" alt="imagen"></p><br><p>  Aqu√≠ est√° el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥digo fuente del</a> software que toma muestras de RTL-SDR, las filtra y las diezma, y ‚Äã‚Äãlas env√≠a a la nube a trav√©s de Internet.  Esto es para reducir la velocidad de datos requerida para entregar la se√±al digital a la nube.  El software se puede ensamblar as√≠ <del>  inusualmente original </del>  equipos: </p><br><pre><code class="bash hljs">mkdir build <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> build cmake .. make</code> </pre> <br><p>  Luego debe configurar la frecuencia de recepci√≥n (el valor predeterminado es 868.1 MHz), la direcci√≥n y el puerto del servidor de procesamiento al inicio: </p><br><pre> <code class="bash hljs">./Bolt5_Client host port [frequency]</code> </pre> <br><p>  y ejecuta el programa.  Si ella se da por vencida </p><br><p><img src="https://habrastorage.org/webt/dj/0l/wr/dj0lwrtbxz1cqmzc0zrco9kgros.jpeg" alt="imagen"></p><br><p>  , entonces todo va bien y puedes configurar The Things Network (TTN).  Esto se describe en detalle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  Para enviar un mensaje, necesita un nodo LoRa.  Para simplificar, utilizamos este kit en Arduino: <br><img src="https://habrastorage.org/webt/8d/pc/op/8dpcopjroxcjc6nb_e0l3u65suy.jpeg" alt="imagen"></p><br><p>  Luego, debe transmitir el mensaje de prueba y asegurarse de que la nube LoRa est√© funcionando.  Aqu√≠ puede encontrar un ejemplo de env√≠o de un mensaje utilizando el escudo Arduino y LoraWAN. <br>  Por el momento, es posible enviar mensajes a trav√©s del sistema ABP (Activaci√≥n por personalizaci√≥n, Activaci√≥n por personalizaci√≥n). </p><br><p>  En nuestro caso, el mensaje enviado se ve as√≠: <br><img src="https://habrastorage.org/webt/yl/md/nk/ylmdnkmv3m8rwlkwzrzt07fw1x8.jpeg" alt="imagen"></p><br><p>  Un mensaje recibido y grabado en TTN se ve as√≠: <br><img src="https://habrastorage.org/webt/d3/6t/vt/d36tvtfcy_skdimguqcqbvb19zg.jpeg" alt="imagen"></p><br><p>  Ahora el sistema funciona en un modo experimental, manual.  Son posibles varios milagros, pero nos esforzamos por hacer que todo sea estable lo antes posible.  Dado que nuestro objetivo principal es posicionar LoRa, estamos buscando <strong>voluntarios</strong> dispuestos a <strong>conectar su hardware</strong> (RTL-SDR y Raspberry u otra computadora) <strong>a nuestro servidor en</strong> solo un √°rea espec√≠fica de San Petersburgo: <strong>Pionerskaya, Udelnaya y el metro de Kolomyagi</strong> .  Ya tenemos dos metros: uno en la intersecci√≥n de la avenida Kolomyazhsky y la calle Korolev, el segundo en el centro de negocios Liner en la calle Verbnaya.  Con su ayuda, queremos crear una red con geometr√≠a que le permita posicionar LoRa en el √°rea de Parque espec√≠fico. </p><br><p><img src="https://habrastorage.org/webt/rb/em/ad/rbemaduoqysrrsfutwcwjdhuyyq.png" alt="imagen"></p><br><p>  Por nuestra parte, prometemos escribir sobre el sistema aqu√≠.  Espero que tengamos suficientes recursos para tres meses, que deber√≠an ser suficientes para crear un sistema de posicionamiento LoRa. </p><br><p>  ¬°√önase a nosotros en <strong>las transmisiones de radio mineras</strong> para Internet de las cosas! </p><br><p>  El desarrollador principal de este milagro es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">deef137</a> , por favor ama y favorece. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/455547/">https://habr.com/ru/post/455547/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../455535/index.html">Administrar certificados SSL / TLS en las nubes y contenedores, no trabajo humano</a></li>
<li><a href="../455537/index.html">Amplia optimizaci√≥n de b√∫squeda: c√≥mo procesar un gr√°fico con 10 mil millones de estados</a></li>
<li><a href="../455539/index.html">Ps√≠quicos m√≥viles: 10 datos nuevos sobre c√≥mo los dispositivos port√°tiles lo est√°n mirando</a></li>
<li><a href="../455543/index.html">¬øEs f√°cil y conveniente preparar Kubernetes Cluster? Anunciar operador de complemento</a></li>
<li><a href="../455545/index.html">Construyendo procesos desde cero: del caos al orden</a></li>
<li><a href="../455549/index.html">C√≥mo usar grupos de Facebook para promocionar: crear una web</a></li>
<li><a href="../455553/index.html">Luchamos con Msg demasiado grande en aplicaciones Elm</a></li>
<li><a href="../455555/index.html">Pieza para el gerente mec√°nico</a></li>
<li><a href="../455559/index.html">¬øC√≥mo puede una computadora cu√°ntica entrar en los sistemas modernos de encriptaci√≥n y reducir el costo de producci√≥n de amon√≠aco?</a></li>
<li><a href="../455563/index.html">Peque√±as empresas: ¬øAutomatizar o no?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>