<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚ÄçüöÄ üö§ üßíüèø Caro cliente, √© por isso que essa mudan√ßa levou tanto tempo. üëö ü¶ã ‚èπÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mudan√ßas em sistemas complexos de software parecem levar uma eternidade, certo? Mesmo os engenheiros costumam pensar que as mudan√ßas est√£o indo al√©m d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Caro cliente, √© por isso que essa mudan√ßa levou tanto tempo.</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451560/"> Mudan√ßas em sistemas complexos de software parecem levar uma eternidade, certo?  Mesmo os engenheiros costumam pensar que as mudan√ßas est√£o indo al√©m do que deveria ser, embora estejamos cientes da complexidade do sistema! <br><br>  Para os clientes, a situa√ß√£o √© ainda mais incompreens√≠vel.  O problema √© agravado pela complexidade aleat√≥ria, que √© adicionada ao longo do tempo devido ao pouco suporte do sistema.  H√° uma sensa√ß√£o de que estamos tentando recolher √°gua de um navio com mil buracos. <br><br>  Portanto, mais cedo ou mais tarde, o cliente enviar√° uma carta: "Por que diabos leva tanto tempo?"  N√£o devemos esquecer que n√≥s, como engenheiros de software, temos uma janela para o mundo, da qual eles muitas vezes n√£o t√™m.  Eles confiam muito em n√≥s, mas √†s vezes uma mudan√ßa aparentemente insignificante leva muito tempo.  Por isso, surgem d√∫vidas. <br><a name="habracut"></a><br>  N√£o se ofenda com esta pergunta;  aproveite para mostrar empatia e dar a uma pessoa uma imagem mais clara da complexidade do sistema.  Ao mesmo tempo, voc√™ pode sugerir maneiras de melhorar a situa√ß√£o.  Quando algu√©m est√° chateado, este √© o melhor momento para oferecer uma solu√ß√£o! <br><br>  Uma carta √© publicada abaixo, que, de uma forma ou de outra, enviamos repetidamente ao longo dos anos.  Esperamos que ajude voc√™ a responder a essas perguntas. <br><br><h1>  Uma carta </h1><br>  Prezado Cliente, <br><br>  Vi seu coment√°rio no cart√£o ‚ÄúNotificar antes do t√©rmino da tarefa‚Äù e terei prazer em discuti-lo em nossa pr√≥xima reuni√£o.  Aqui, para refer√™ncia, vou resumir meus pensamentos, n√£o √© necess√°rio responder. <br><br>  Parafraseando sua anota√ß√£o: <br><br>  <i>A altera√ß√£o do prazo para concluir as tarefas em um dia para notifica√ß√£o por correio deve levar uma linha.</i>  <i>Como pode demorar 4-8 horas?</i>  <i>O que estou perdendo?</i> <br><br>  Por um lado, eu concordo com voc√™.  Simplesmente altere a parte da solicita√ß√£o de <code>tasks due &lt;= today</code> para <code>tasks due &lt;= tomorrow</code> . <br><br>  Por outro lado, reduzindo-o a uma id√©ia t√£o simplificada, ignoramos inadvertidamente a complexidade inerente e tomamos v√°rias decis√µes de engenharia.  Alguns deles devemos discutir. <br><br><h1>  Parte 1. Por que essa pequena mudan√ßa √© mais do que parece? </h1><br>  Essa √© uma altera√ß√£o pequena e simples, uma linha de c√≥digo.  Passar o dia inteiro nele, mesmo meio dia, parece excessivo. <br><br>  Obviamente, voc√™ n√£o pode simplesmente implementar uma altera√ß√£o na produ√ß√£o sem executar pelo menos localmente ou em um servidor de teste.  Voc√™ deve garantir que o c√≥digo seja executado corretamente e, se a solicita√ß√£o for alterada, voc√™ precisar√° comparar a sa√≠da e garantir que ela pare√ßa mais ou menos correta. <br><br>  Aqui, comparar a sa√≠da pode ser m√≠nimo, apenas uma pequena verifica√ß√£o pontual: verifique se os resultados fazem sentido etc. Essa √© uma notifica√ß√£o para funcion√°rios internos.  Se a matem√°tica por data estiver incorreta (um pequeno erro), ouviremos rapidamente sobre as equipes.  Se fosse, por exemplo, um email para seus clientes, seria necess√°rio um estudo mais aprofundado.  Por√©m, para esse teste e revis√£o f√°ceis, 20 a 40 minutos s√£o suficientes, dependendo se algo estranho ou inesperado aparece.  A escava√ß√£o de dados pode demorar algum tempo.  Emitir altera√ß√µes sem realizar uma revis√£o √© simplesmente neglig√™ncia n√£o profissional. <br><br>  Assim, adicionamos tempo para a log√≠stica normal, como confirmar um c√≥digo, mesclar altera√ß√µes, implantar, etc .: desde o in√≠cio do trabalho at√© a libera√ß√£o na produ√ß√£o, pelo menos uma hora se passa por um engenheiro profissional competente. <br><br>  Obviamente, isso pressup√µe que voc√™ saiba exatamente qual linha de c√≥digo alterar.  O fluxo de trabalho da tarefa reside basicamente no sistema antigo, mas algumas partes da l√≥gica residem no novo sistema.  Mover a l√≥gica do sistema antigo √© bom, mas significa que a funcionalidade da tarefa est√° atualmente dividida em dois sistemas. <br><br>  Como trabalhamos juntos h√° tanto tempo, nossa equipe sabe qual processo envia um email com uma tarefa expirada e pode apontar para uma linha de c√≥digo no novo sistema que inicia o processo.  Portanto, n√£o precisamos perder tempo descobrindo isso. <br><br>  Por√©m, se observarmos o c√≥digo da tarefa no sistema antigo, h√° pelo menos quatro maneiras diferentes de determinar se a tarefa est√° vencida.  Al√©m disso, observando os padr√µes e o comportamento do email, h√° pelo menos mais dois lugares em que parece que a l√≥gica personalizada para esta tarefa √© implementada. <br><br>  E ent√£o a l√≥gica da notifica√ß√£o √© mais complicada do que voc√™ pensava.  Distingue entre tarefas gerais e individuais, abertas e privadas, repetidas, a fun√ß√£o de notifica√ß√£o adicional do gerente em caso de uma tarefa vencida, etc. Mas podemos descobrir rapidamente que, de fato, apenas 2 das 6+ defini√ß√µes da tarefa vencida s√£o usadas para notifica√ß√µes.  E apenas uma coisa precisa ser alterada para atingir a meta. <br><br>  Essa revis√£o pode facilmente levar mais meia hora, talvez menos, se voc√™ esteve recentemente nesta parte da base de c√≥digo.  Al√©m disso, a complexidade latente significa que podemos exceder nossa estimativa para testes manuais.  Mas vamos adicionar 30 minutos para um esfor√ßo extra. <br><br>  Assim, chegamos a 1,5 horas para nos sentirmos confiantes de que a mudan√ßa ser√° realizada conforme o esperado. <br><br>  Obviamente, ainda n√£o verificamos se outros processos usam uma consulta mut√°vel.  N√£o queremos interromper acidentalmente outras fun√ß√µes alterando o conceito de ‚Äúprazo final‚Äù para o dia que antecede o √∫ltimo dia para concluir a tarefa.  Devemos considerar a base de c√≥digo deste ponto de vista.  Nesse caso, parece n√£o haver grandes depend√™ncias - provavelmente porque a maior parte da interface do usu√°rio ainda est√° no sistema antigo.  Portanto, n√£o h√° necessidade de se preocupar em alterar ou testar outros processos.  Na melhor das hip√≥teses, isso leva mais 15 a 30 minutos. <br><br>  Ah, e como a parte principal da interface com o usu√°rio da tarefa ainda est√° no sistema antigo, precisamos realmente fazer uma r√°pida vis√£o geral da funcionalidade da tarefa nesse sistema e garantir que o feedback esteja correto.  Por exemplo, se a interface do usu√°rio destacar tarefas cujo prazo chegou, podemos alterar essa l√≥gica para corresponder √† notifica√ß√£o.  Ou pelo menos volte e pergunte ao cliente como ele deseja fazer isso.  Recentemente, n√£o examinei a funcionalidade da tarefa no sistema antigo e n√£o me lembro se ela tem alguma id√©ia do prazo / atraso.  Esta revis√£o adiciona mais 15 a 30 minutos.  Talvez mais se o sistema antigo tamb√©m tiver v√°rias defini√ß√µes de uma "tarefa" etc. <br><br>  Assim, passamos de 2 a 2,5 horas para concluir a tarefa com a certeza de que tudo vai correr bem, sem efeitos colaterais n√£o desejados ou confus√£o no trabalho do usu√°rio. <br><br><h1>  Parte 2. Como posso reduzir esse tempo? </h1><br>  Infelizmente, o √∫nico resultado desses esfor√ßos √© apenas o cumprimento da tarefa.  Isso n√£o √© o ideal, o que √© muito decepcionante.  O conhecimento adquirido pelo desenvolvedor no decorrer do trabalho √© pessoal e ef√™mero.  Se outro desenvolvedor (ou a n√≥s mesmos ap√≥s 6 meses) precisar novamente fazer altera√ß√µes nessa parte do c√≥digo, o processo precisar√° ser repetido. <br><br>  Existem duas t√°ticas principais para remediar a situa√ß√£o: <br><br><ol><li>  Limpe ativamente a base de c√≥digo para reduzir a duplica√ß√£o e a complexidade. <br></li><li>  Escreva testes automatizados. </li></ol><br>  Nota: j√° discutimos a documenta√ß√£o, mas, neste caso, essa n√£o √© a melhor solu√ß√£o.  A documenta√ß√£o √© √∫til para id√©ias de alto n√≠vel, como explicar a l√≥gica comercial ou processos repetidos com frequ√™ncia, como uma lista de novos parceiros.  Mas quando se trata de c√≥digo, a documenta√ß√£o rapidamente se torna muito volumosa e desatualizada √† medida que o c√≥digo muda. <br><br>  Voc√™ notou que nenhuma dessas t√°ticas est√° inclu√≠da em nossas 2 a 2,5 horas. <br><br>  Por exemplo, manter uma base de c√≥digo limpa significa que, em vez de simplesmente concluir a tarefa, fazemos perguntas: <br><br><ul><li>  Por que existem tantas maneiras diferentes de identificar tarefas cujo prazo se aproximou / expirou? <br></li><li>  Todos eles precisam e trabalham neles? <br></li><li>  Esses m√©todos podem ser reduzidos a um ou dois conceitos / m√©todos? <br></li><li>  Se o conceito for dividido entre o antigo e o novo, ele pode ser consolidado? </li></ul><br>  E assim por diante <br><br>  As respostas para essas perguntas podem ser bastante r√°pidas: por exemplo, se encontrarmos um c√≥digo claramente morto.  Ou eles podem levar v√°rias horas: por exemplo, se tarefas forem usadas em muitos processos complexos.  Assim que tivermos essas respostas, a refatora√ß√£o levar√° ainda mais tempo para reduzir a duplica√ß√£o / confus√£o e obter uma √∫nica descri√ß√£o do conceito de "prazo" - ou renomeie os conceitos no c√≥digo para entender claramente como eles diferem e por que. <br><br>  Mas, no final, essa parte da base de c√≥digo se tornar√° muito mais simples, ser√° mais f√°cil ler e modificar. <br><br>  Outra t√°tica que costumamos usar √© o teste automatizado.  Em certo sentido, os testes automatizados s√£o semelhantes √† documenta√ß√£o que n√£o pode ser desatualizada e que √© mais f√°cil de detectar.  Em vez de executar manualmente o c√≥digo e visualizar a sa√≠da, escrevemos um c√≥digo de teste que inicia a solicita√ß√£o e verifica a sa√≠da programaticamente.  Qualquer desenvolvedor pode executar esse c√≥digo de teste para entender como o sistema deve funcionar e para garantir que ele ainda funcione dessa maneira. <br><br>  Se voc√™ tiver um sistema com cobertura de teste decente, essas altera√ß√µes levar√£o significativamente menos tempo.  Voc√™ pode alterar a l√≥gica e, em seguida, executar o conjunto de testes completo e garantir que <br><br><ol><li>  a mudan√ßa funciona corretamente; <br></li><li>  a mudan√ßa n√£o quebrou nada (essa √© uma informa√ß√£o ainda mais valiosa do que no primeiro par√°grafo). </li></ol><br>  Quando constru√≠mos sistemas do zero no Simple Thread, sempre inclu√≠mos tempo para escrever testes automatizados na avalia√ß√£o de prazos.  Isso pode retardar o desenvolvimento inicial, mas melhora muito a efici√™ncia do trabalho e da manuten√ß√£o.  Somente quando o sistema cresce, voc√™ realmente entende a import√¢ncia dos testes, mas neste momento pode ser muito dif√≠cil retornar os testes ao sistema.  A presen√ßa de testes tamb√©m simplifica bastante o trabalho de novos funcion√°rios e a altera√ß√£o do comportamento do sistema √© muito mais r√°pida e segura. <br><br><h1>  Parte 3. De onde viemos?  Para onde vamos? </h1><br>  Hoje, raramente indicamos em sua avalia√ß√£o o tempo para limpar o c√≥digo ou escrever testes.  Isso ocorre em parte porque escrever testes a partir do zero √© uma sobrecarga menor, e adicionar testes √† data anterior da base de c√≥digo √© muito trabalhoso, como restaurar a base sob a casa em que as pessoas vivem. <br><br>  Isso tamb√©m se deve em parte ao fato de que, come√ßando a trabalhar com voc√™, mudamos imediatamente para o modo de ressuscita√ß√£o.  Temos problemas quase di√°rios com a sincroniza√ß√£o de dados de terceiros, problemas semanais com a gera√ß√£o de relat√≥rios, solicita√ß√µes constantes para suportar pequenas altera√ß√µes de dados, monitoramento e log do sistema inadequados etc. A base de c√≥digos est√° se afogando com o peso de d√≠vidas t√©cnicas e estamos tentando febrilmente manter os sistemas flutuar, enquanto fura buracos com fita isolante. <br><br>  Com o tempo, os sistemas se tornam mais est√°veis ‚Äã‚Äãe confi√°veis, automatizamos / fornecemos a interface do usu√°rio para autoatendimento de solicita√ß√µes de suporte frequentes.  Ainda temos muitas d√≠vidas t√©cnicas, mas sa√≠mos do modo de emerg√™ncia.  Mas n√£o acho que nos afastaremos completamente dessa mentalidade de ressuscita√ß√£o para uma mentalidade mais proativa e madura de "planejar e executar". <br><br>  Tentamos limpar o c√≥digo em qualquer lugar e sempre testamos minuciosamente.  Mas ser cuidadoso e diligente n√£o √© refatora√ß√£o proativa ou criar a infraestrutura necess√°ria para bons testes automatizados. <br><br>  Se n√£o come√ßarmos a pagar algumas d√≠vidas t√©cnicas, nunca conseguiremos melhorar significativamente a situa√ß√£o.  Desenvolvedores competentes e altamente qualificados levar√£o meses para navegar e fazer altera√ß√µes n√£o triviais. <br><br>  Em outras palavras, 4-8 horas para esta tarefa s√£o cerca de 2-4 vezes o suprimento, mas reduzir√£o significativamente os esfor√ßos para essas mudan√ßas no futuro.  Se essa parte da base de c√≥digo fosse mais limpa e tivesse uma boa cobertura com testes autom√°ticos, um desenvolvedor experiente e competente a concluiria em uma hora ou menos.  E o ponto principal √© que o novo desenvolvedor levar√° um pouco mais de tempo. <br><br>  Para tal altera√ß√£o nos termos, precisamos do seu consentimento.  Esta √© uma tentativa consciente de melhorar fundamentalmente o desempenho do seu sistema, n√£o apenas a percep√ß√£o dos usu√°rios.  Entendo que √© dif√≠cil concordar com esses investimentos precisamente porque n√£o h√° benef√≠cio vis√≠vel, mas estamos felizes em sentar com voc√™ e preparar alguns n√∫meros claros que mostrar√£o como esses investimentos ser√£o recompensados ‚Äã‚Äãa longo prazo do ponto de vista da engenharia. <br><br>  Obrigada <br>  Al </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt451560/">https://habr.com/ru/post/pt451560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt451540/index.html">Quantos desenvolvedores precisam criar servi√ßos como o Airbnb</a></li>
<li><a href="../pt451542/index.html">Como e por que fizemos o reconhecimento de marcos no Mail.ru Cloud</a></li>
<li><a href="../pt451552/index.html">Criamos canais de vendas em rede do gadget DO-RA</a></li>
<li><a href="../pt451556/index.html">Flutter: localiza√ß√£o de aplicativos usando o Android Studio</a></li>
<li><a href="../pt451558/index.html">Um dia na vida da automa√ß√£o de controle de qualidade</a></li>
<li><a href="../pt451562/index.html">Como escapar de uma seita?</a></li>
<li><a href="../pt451566/index.html">Operation TaskMasters: Como expomos as organiza√ß√µes atacantes do grupo cibern√©tico na R√∫ssia e na CEI</a></li>
<li><a href="../pt451570/index.html">Mudar-se para a Fran√ßa para trabalhar: sal√°rios, vistos e curr√≠culos</a></li>
<li><a href="../pt451572/index.html">Tend√™ncias da Tecnologia de Desenvolvimento Web 2019</a></li>
<li><a href="../pt451574/index.html">Desenvolva um utilit√°rio no GraalVM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>