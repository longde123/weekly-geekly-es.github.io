<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯПЮя╕П ЁЯРУ ЁЯСйЁЯП╜тАНтЬИя╕П рднреЛрдЬрди рдореЗрдВ рдХреЛрд░рдЯрд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ рдФрд░ рд░рд╛рдд рдореЗрдВ рд╢рд╛рдВрддрд┐ рд╕реЗ рд╕реЛрдПрдВ ЁЯд╛ЁЯП╛ ЁЯЩПЁЯП╝ тЬМЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Coroutines рдПрд╕рд┐рдВрдХреНрд░реЛрдирд╕ рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рд▓рд┐рдП рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдЙрдкрдХрд░рдг рд╣реИред рд╡реЗ рд╕рдорд╛рдирд╛рдВрддрд░ рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдХреБрдЫ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЙрдкрднреЛрдЧ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рднреЛрдЬрди рдореЗрдВ рдХреЛрд░рдЯрд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ рдФрд░ рд░рд╛рдд рдореЗрдВ рд╢рд╛рдВрддрд┐ рд╕реЗ рд╕реЛрдПрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/429908/">  Coroutines рдПрд╕рд┐рдВрдХреНрд░реЛрдирд╕ рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рд▓рд┐рдП рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдЙрдкрдХрд░рдг рд╣реИред  рд╡реЗ рд╕рдорд╛рдирд╛рдВрддрд░ рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдХреБрдЫ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЙрдкрднреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдбрд░ рдХреЗ рдмрд┐рдирд╛, рдХреЛрд░рдЯрд╛рдЗрди рдХреЛ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЖрд╢рдВрдХрд╛рдПрдВ рд╣реИрдВ рдФрд░ рд╡реЗ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдХрд░рддреЗ рд╣реИрдВред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдкреНрд╕рдХреЙрдиреНрдлрд╝</a> рдкрд░ <strong>рд╡реНрд▓рд╛рджрд┐рдореАрд░ рдЗрд╡рд╛рдиреЛрд╡</strong> рдХреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░рд┐рдкреЛрд░реНрдЯ</a> рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ рдХрд┐ рд╢реИрддрд╛рди рдЗрддрдирд╛ рднрдпрд╛рдирдХ рдирд╣реАрдВ рд╣реИ рдФрд░ рдЖрдк рдЕрднреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЛрд░рдЯрд╛рдЗрди</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЛрд░рдЯрд╛рдЗрди рдХреНрдпреЛрдВ, RxJava рдирд╣реАрдВ</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдбреЗрд╡рд▓рдкрд░реНрд╕ рдореЗрдВ рдХреНрдпрд╛ рдбрд░ рд╣реИ</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреЛрд░рдЯрд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреИрд╢ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдП</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХреИрд╕реЗ рд╕рдВрднрд╛рд▓реЗрдВ</a> ред </li></ul><br><iframe width="560" height="315" src="https://www.youtube.com/embed/1lEG1CPkRaw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>рд╕реНрдкреАрдХрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</strong> : рд╡реНрд▓рд╛рджрд┐рдореАрд░ рдЗрд╡рд╛рдиреЛрд╡ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">dzigoro</a> ) 7 рд╕рд╛рд▓ рдХреЗ рдЕрдиреБрднрд╡ рдХреЗ рд╕рд╛рде <strong>EPAM</strong> рдореЗрдВ рдПрдХ рдкреНрд░рдореБрдЦ рдПрдВрдбреНрд░реЙрдЗрдб рдбреЗрд╡рд▓рдкрд░ рд╣реИ, рд╕реЙрд▓реНрдпреВрд╢рди рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░, рд░рд┐рдПрдХреНрдЯ рдиреЗрдЯрд┐рд╡ рдФрд░ iOS рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдХрд╛ рд╢реМрдХреАрди рд╣реИ, рдФрд░ рдЗрд╕рдХреЗ рдкрд╛рд╕ <strong>Google рдХреНрд▓рд╛рдЙрдб рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЯ</strong> рд╕рд░реНрдЯрд┐рдлрд┐рдХреЗрдЯ рднреА рд╣реИред <br><a name="habracut"></a><br><blockquote>  рдЖрдк рдЬреЛ рднреА рдкрдврд╝рддреЗ рд╣реИрдВ рд╡рд╣ рдЕрдиреБрднрд╡ рдФрд░ рд╡рд┐рднрд┐рдиреНрди рдЕрдзреНрдпрдпрдиреЛрдВ рдХреЗ рдЙрддреНрдкрд╛рджрди рдХрд╛ рдПрдХ рдЙрддреНрдкрд╛рдж рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╡рд╛рд░рдВрдЯреА рдХреЗ рд▓реЗрдВред <br></blockquote><h2><a name="coroutine"></a>  рдХреЛрд░рд╛рдЯрд╛рдЗрди, рдХреЛрдЯрд▓рд┐рди рдФрд░ рдЖрд░рдПрдХреНрд╕рдЬрд╛рд╡ </h2><br>  рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП: рдХреЛрд░рдЯрд┐рди рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рд░рд┐рд▓реАрдЬрд╝ рдореЗрдВ рд╣реИ, рдмрд╛рдПрдБ рдмреАрдЯрд╛ред  <strong>рдХреЛрдЯрд▓рд┐рди 1.3</strong> рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдХреЛрд░рдЯрд╛рдЗрди рдХреЛ рд╕реНрдерд┐рд░ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рджреБрдирд┐рдпрд╛ рдореЗрдВ рд╢рд╛рдВрддрд┐ рд╣реИред <br><br><img src="https://habrastorage.org/webt/it/jm/db/itjmdbtgjewt6v1kihv_5urqxie.png"><br><br>  рдореИрдВрдиреЗ рд╣рд╛рд▓ рд╣реА рдореЗрдВ рдЯреНрд╡рд┐рдЯрд░ рдкрд░ рдПрдХ рд╕рд░реНрд╡реЗрдХреНрд╖рдг рдХрд┐рдпрд╛ рдерд╛ рдЬрд┐рд╕рдореЗрдВ рд▓реЛрдЧ рдХреЛрд░рдЯрд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рдереЗ: <br><br><ul><li>  рднреЛрдЬрди рдореЗрдВ 13% coroutinesред  рд╕рдм рдареАрдХ рд╣реИ; </li><li>  25% рдЙрдиреНрд╣реЗрдВ рдкрд╛рд▓рддреВ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ; </li><li>  24% - рдХреЛрдЯрд▓рд┐рди рдХреНрдпрд╛ рд╣реИ? </li><li>  38% RxJava рдХрд╛ рдереЛрдХ рд╣рд░ рдЬрдЧрд╣ рд╣реИред </li></ul><br>  рдЖрдВрдХрдбрд╝реЗ рдЦреБрд╢ рдирд╣реАрдВ рд╣реИрдВред  рдореЗрд░рд╛ рдорд╛рдирдирд╛ тАЛтАЛрд╣реИ рдХрд┐ <strong>RxJava рдЙрди</strong> рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП <strong>рдмрд╣реБрдд рдЬрдЯрд┐рд▓</strong> рд╣реИ, рдЬрд┐рдирдореЗрдВ рдЖрдорддреМрд░ рдкрд░ рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдСрдкрд░реЗрд╢рди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрд░реАрдЯреАрди рдЕрдзрд┐рдХ рдЙрдкрдпреБрдХреНрдд рд╣реИрдВред <br><br>  рдЕрдкрдиреА рдкрд┐рдЫрд▓реА рд░рд┐рдкреЛрд░реНрдЯреЛрдВ рдореЗрдВ, рдореИрдВрдиреЗ рдмрд╛рдд рдХреА рдХрд┐ рдХреИрд╕реЗ RxJava рд╕реЗ рдХреЛрдЯрд▓рд┐рди рдореЗрдВ рдХреЙрдЯрди рдХреЗ рд▓рд┐рдП рд░рд┐рдлреНрд▓реЗрдХреНрдЯрд░ рдХрд┐рдпрд╛ рдЬрд╛рдП, рдЗрд╕рд▓рд┐рдП рдореИрдВ рдЗрд╕ рдкрд░ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдзреНрдпрд╛рди рдирд╣реАрдВ рджреВрдВрдЧрд╛, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдореБрдЦреНрдп рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдпрд╛рдж рдХрд░реВрдВрдЧрд╛ред <br><br><h3>  рд╣рдо рдХреЛрд░рдЯрд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ рдХрд░рддреЗ рд╣реИрдВ? </h3><br>  рдХреНрдпреЛрдВрдХрд┐ рдпрджрд┐ рд╣рдо RxJava рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЙрджрд╛рд╣рд░рдг рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрддреЗ рд╣реИрдВ: <br><br><pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApiClientRx</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">login</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(auth: Authorization)</span></span></span><span class="hljs-function"> : Single&lt;GithubUser&gt; fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRepositories</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(reposUrl: String, auth: Authorization)</span></span></span><span class="hljs-function"> : Single&lt;List&lt;GithubRepository&gt;&gt; } </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">//RxJava 2 implementation</span></span></span></span></code> </pre> <br>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдо рдПрдХ GitHub рдХреНрд▓рд╛рдЗрдВрдЯ рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╕рдВрдЪрд╛рд▓рди рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ: <br><br><ol><li>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд▓реЙрдЧрд┐рди рдХрд░реЗрдВред <br></li><li>  GitHub рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреА рдПрдХ рд╕реВрдЪреА рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред <br></li></ol><br>  рджреЛрдиреЛрдВ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдлрд╝рдВрдХреНрд╢рди рдПрдХрд▓ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдСрдмреНрдЬреЗрдХреНрдЯ рд▓реМрдЯрд╛рдПрдЧрд╛: GitHubUser рдпрд╛ GitHubRepository рдХреА рд╕реВрдЪреАред <br><br>  рдЗрд╕ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛрдб рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">attemptLoginRx</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ showProgress(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) compositeDisposable.add(apiClient.login(auth) .flatMap { user -&gt; apiClient.getRepositories(user.repos_url, auth) } .map { list -&gt; list.map { it.full_name } } .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .doFinally { showProgress(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) } .subscribe( { list -&gt; showRepositories(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, list) }, { error -&gt; Log.e(<span class="hljs-string"><span class="hljs-string">"TAG"</span></span>, <span class="hljs-string"><span class="hljs-string">"Failed to show repos"</span></span>, error) } )) }</code> </pre><br>  - рд╣рдо <strong>рдХрдВрдкреЛрдЬрд┐рдЯреЛрдкреНрд░реЛрдЬреЗрдХреНрдЯ</strong> рд▓реЗрддреЗ <strong>рд╣реИрдВ</strong> рддрд╛рдХрд┐ рдореЗрдореЛрд░реА рд▓реАрдХ рди рд╣реЛред <br>  - рдкрд╣рд▓реА рд╡рд┐рдзрд┐ рдореЗрдВ рдПрдХ рдХреЙрд▓ рдЬреЛрдбрд╝реЗрдВред <br>  - рд╣рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдСрдкрд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <strong>рдлреНрд▓реИрдЯрдкрд╛рдЗрдк</strong> ред <br>  - рд╣рдореЗрдВ рдЗрд╕рдХреЗ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреА рд╕реВрдЪреА рдорд┐рд▓рддреА рд╣реИред <br>  - рд╣рдо рдПрдХ <strong>рдмреЙрдпрд▓рд░рдкреНрд▓реЗрдЯ</strong> рд▓рд┐рдЦрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдпрд╣ рд╕рд╣реА рдереНрд░реЗрдбреНрд╕ рдкрд░ рдЪрд▓реЗред <br>  - рдЬрдм рд╕рдм рдХреБрдЫ рддреИрдпрд╛рд░ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХреЗ рд▓рд┐рдП рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреА рд╕реВрдЪреА рджрд┐рдЦрд╛рддреЗ рд╣реИрдВред <br><br>  <strong>RxJava рдХреЛрдб рдХрдард┐рдирд╛рдЗрдпрд╛рдБ:</strong> <br><br><ul><li>  <strong>рдЬрдЯрд┐рд▓рддрд╛ред</strong>  рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рджреЛ рдиреЗрдЯрд╡рд░реНрдХ рдХреЙрд▓ рдХреЗ рд╕рд░рд▓ рдХрд╛рд░реНрдп рдФрд░ <strong>UI</strong> рдкрд░ рдХреБрдЫ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдмрд╣реБрдд рдЬрдЯрд┐рд▓ рд╣реИред </li><li>  <strong>рдЕрдирдмрд╛рдЙрдВрдб рд╕реНрдЯреИрдХ рдХреЗ рдирд┐рд╢рд╛рдиред</strong>  рд╕реНрдЯреИрдХ рдХреЗ рдирд┐рд╢рд╛рди рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦреЗ рдЧрдП рдХреЛрдб рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдирд╣реАрдВ рд╣реИрдВред </li><li>  <strong>рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рд╡реНрдпрд╛рдкрдХ рдЙрдкрдпреЛрдЧ</strong> <strong>ред</strong>  RxJava рд╣реБрдб рдХреЗ рддрд╣рдд рдмрд╣реБрдд рд╕реА рд╡рд╕реНрддреБрдПрдВ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рдЧрд┐рд░рд╛рд╡рдЯ рдЖ рд╕рдХрддреА рд╣реИред </li></ul><br>  <strong>рд╕рдВрд╕реНрдХрд░рдг реж.реирем рддрдХ рдХреЗ рдХреЛрд░рдЖрдЙрдЯ рдХреЗ рд╕рд╛рде рдПрдХ рд╣реА рдХреЛрдб рдХреНрдпрд╛ рд╣реЛрдЧрд╛?</strong> <br><br>  0.26 рдкрд░, рдПрдкреАрдЖрдИ рдмрджрд▓ рдЧрдпрд╛ рд╣реИ, рдФрд░ рд╣рдо рдЙрддреНрдкрд╛рджрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рдХреЛрдИ рднреА рдЕрднреА рддрдХ рдареЗрд╕ рдореЗрдВ 0.26 рд▓рдЧрд╛рдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рдирд╣реАрдВ рд╣реБрдЖ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо рдЗрд╕ рдкрд░ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВред <br><br>  <strong>рдХреЛрд░рдЖрдЙрдЯ рдХреЗ рд╕рд╛рде, рд╣рдорд╛рд░рд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛рдлреА рдмрджрд▓ рдЬрд╛рдПрдЧрд╛</strong> ред  рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХрд┐рд╕реА рднреА рдПрдХрд▓ рдФрд░ рдЕрдиреНрдп рд╕рд╣рд╛рдпрдХ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджреЗрдВрдЧреЗред  рд╡реЗ рддреБрд░рдВрдд рд╡реНрдпрд╛рдкрд╛рд░рд┐рдХ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░ рджреЗрдВрдЧреЗ: рдЧреАрдерд╣рдмреНрдпреВрд╕рд░ рдФрд░ рдЧреАрдерд╣реВрдмрдкреНрд░реЛрд╕реЗрд░рд┐рдЯреНрд░реА рдХреА рдПрдХ рд╕реВрдЪреАред  GitHubUser рдФрд░ GitHubRepository рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рд╕рдВрд╢реЛрдзрдХ <strong>рдирд┐рд▓рдВрдмрд┐рдд</strong> рд╣реЛрдВрдЧреЗред  рдпрд╣ рдЕрдЪреНрдЫрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╕рд╕реНрдкреЗрдВрдб рд▓рдЧрднрдЧ рд╣рдореЗрдВ рдХрд┐рд╕реА рдЪреАрдЬ рдХреЗ рд▓рд┐рдП рдмрд╛рдзреНрдп рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApiClient</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">suspend fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">login</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(auth: Authorization)</span></span></span><span class="hljs-function"> : GithubUser suspend fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRepositories</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(reposUrl: String, auth: Authorization)</span></span></span><span class="hljs-function"> : List&lt;GithubRepository&gt; } </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">//Base interface</span></span></span></span></code> </pre><br>  рдпрджрд┐ рдЖрдк рдЙрд╕ рдХреЛрдб рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЗрд╕ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдпрд╣ RxJava рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХрд╛рдлреА рдмрджрд▓ рдЬрд╛рдПрдЧрд╛: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">attemptLogin</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ launch(UI) { val auth = BasicAuthorization(login, pass) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { showProgress(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) val userlnfo = async { apiClient.login(auth) }.await() val repoUrl = userlnfo.repos_url val list = async { apiClient.getRepositories(repoUrl, auth) }.await() showRepositories( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, list.map { it -&gt; it.full_name } ) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e: RuntimeException) { showToast(<span class="hljs-string"><span class="hljs-string">"Oops!"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { showProgress(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) } } }</code> </pre><br>  - рдореБрдЦреНрдп рдХрд╛рд░реНрд░рд╡рд╛рдИ рд╣реЛрддреА рд╣реИ, рдЬрд╣рд╛рдВ рд╣рдо <strong>рдХреЙрд░рдЯреАрди</strong> <strong>рдмрд┐рд▓реНрдбрд░</strong> рдХреЛ <strong>рдПрд╕рд┐рдВрдХреНрд╕</strong> рдХрд╣рддреЗ рд╣реИрдВ, рдПрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ рдФрд░ <strong>рдпреВрдЬрд╝рд░рд▓реЙрдиреНрдлреЛ</strong> рдкреНрд░рд╛рдкреНрдд <strong>рдХрд░реЗрдВ</strong> ред <br>  - рд╣рдо рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реЗ рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br>  - рдПрдХ рдФрд░ <strong>async</strong> рдХреЙрд▓ рдФрд░ рдХреЙрд▓ <strong>рд╡реЗрдЯ</strong> рдХрд░реЗрдВред <br><br>  рд╕рдм рдХреБрдЫ рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХреЛрдИ рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдХрд╛рдо рдирд╣реАрдВ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рдФрд░ рд╣рдо рд╕рд┐рд░реНрдл рдХреЙрд▓рдо рдореЗрдВ рдХрдорд╛рдВрдб рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЕрдВрдд рдореЗрдВ, рд╣рдо рд╡рд╣ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдпреВрдЖрдИ рдкрд░ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  <strong>рдХреЛрд░рдЯрд╛рдЗрди рдмреЗрд╣рддрд░ рдХреНрдпреЛрдВ рд╣реИрдВ?</strong> <br><br><ul><li>  рдЗрд╕ рдХреЛрдб рдХреЛ рдкрдврд╝рдирд╛ рдЖрд╕рд╛рди рд╣реИред  рдпрд╣ рд▓рд┐рдЦрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рдпрд╣ рд╕реБрд╕рдВрдЧрдд рд╣реИред </li><li>  рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЗрд╕ рдХреЛрдб рдХрд╛ рдкреНрд░рджрд░реНрд╢рди RxJava рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмреЗрд╣рддрд░ рд╣реИред </li><li>  рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦрдирд╛ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рдж рдЙрдирд╕реЗ рдорд┐рд▓реЗрдВрдЧреЗред </li></ul><br><h2>  рдкрдХреНрд╖ рдХреЗ рд▓рд┐рдП 2 рдХрджрдо <br></h2><br>  рдЖрдЗрдП рдереЛрдбрд╝рд╛ рд╕рд╛ рдкреАрдЫреЗ рд╣рдЯреЗрдВ, рдХреБрдЫ рдмрд╛рддреЗрдВ рд╣реИрдВ, рдЬрд┐рди рдкрд░ рдЕрднреА рднреА рдЪрд░реНрдЪрд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><h3>  рдЪрд░рдг 1редConttext рдмрдирд╛рдо рд▓реЙрдиреНрдЪ / async рдХреЗ рд╕рд╛рде <br></h3><br>  <strong>рдХреЛрд░рдЯрд╛рдЗрди рдмрд┐рд▓реНрдбрд░ рдПрд╕рд┐рдВрдХреНрд╕ рдХреЗ</strong> рдЕрд▓рд╛рд╡рд╛ <strong>,</strong> <strong>рдХреЛрд░рдЯрд╛рдЗрди рдмрд┐рд▓реНрдбрд░ рдХреЗ рд╕рд╛рде рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ рд╣реИ</strong> ред <br><br>  <strong>рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ</strong> рдпрд╛ <strong>async</strong> рдПрдХ рдирдпрд╛ <strong>Coroutine рд╕рдВрджрд░реНрдн</strong> рдмрдирд╛рдПрдВ, рдЬреЛ рд╣рдореЗрд╢рд╛ рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИред  рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ Coroutine рд╕рдВрджрд░реНрдн рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдкреВрд░реЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдЖрдк рдмрд╕ рдХрд┐рд╕реА рдореМрдЬреВрджрд╛ рдХрд╛ рдкреБрдирдГ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдХреЗ рд╕рд╛рде рдХреЙрд░рдЯреАрди рдмрд┐рд▓реНрдбрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  рдпрд╣ рдмрд╕ рдореМрдЬреВрджрд╛ Coroutine рд╕рдВрджрд░реНрдн рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред  рдпрд╣ 2-3 рдЧреБрдирд╛ рддреЗрдЬ рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдЕрдм рдпрд╣ рдПрдХ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд╕рд╡рд╛рд▓ рд╣реИред  рдпрджрд┐ рд╕рдЯреАрдХ рд╕рдВрдЦреНрдпрд╛рдПрдВ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИрдВ, рддреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдФрд░ рд╡рд┐рд╡рд░рдг рдХреЗ рд╕рд╛рде рд╕реНрдЯреИрдХрдУрд╡рд░рдлреНрд▓реЛ рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╡рд╛рд▓ рд╣реИ</a> ред <br><br><blockquote>  <strong>рд╕рд╛рдорд╛рдиреНрдп рдирд┐рдпрдо:</strong> рдмрд┐рдирд╛ рдХрд┐рд╕реА рд╕рдВрджреЗрд╣ рдХреЗ, рдЬрд╣рд╛рдВ рдпрд╣ рд╢рдмреНрджрд╛рд░реНрдерд┐рдХ рд░реВрдк рд╕реЗ рдлрд┐рдЯ рдмреИрдарддрд╛ рд╣реИ, рдХреЗ рд╕рд╛рде рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдкрдХреЛ рд╕рдорд╛рдирд╛рдВрддрд░ рд▓реЛрдбрд┐рдВрдЧ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдХрдИ рдЪрд┐рддреНрд░ рдпрд╛ рдбреЗрдЯрд╛ рдХреЗ рдЯреБрдХрдбрд╝реЗ, рддреЛ async / рдЗрдВрддрдЬрд╛рд░ рдЖрдкрдХреА рдкрд╕рдВрдж рд╣реИред <br></blockquote><br><h3>  рдЪрд░рдг 2. рд░рд┐рдлрд▓реЗрдХреНрдЯрд░рд┐рдВрдЧ <br></h3><br>  рдпрджрд┐ рдЖрдк рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЬрдЯрд┐рд▓ RxJava рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЛ рд░рд┐рдлреИрдХреНрдЯрд░ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдХреНрдпрд╛ рд╣реЛрдЧрд╛?  рдореИрдВ рдЗрд╕ рдирд┐рд░реНрдорд╛рдг рдореЗрдВ рдЖрдпрд╛ рдерд╛: <br><br><pre> <code class="java hljs">observable1.getSubject().zipWith(observable2.getSubject(), (t1, t2) -&gt; { <span class="hljs-comment"><span class="hljs-comment">// side effects return true; }).doOnError { // handle errors } .zipWith(observable3.getSubject(), (t3, t4) -&gt; { // side effects return true; }).doOnComplete { // gather data } .subscribe()</span></span></code> </pre><br>  рдореЗрд░реЗ рдкрд╛рд╕ рдПрдХ <strong>рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╡рд┐рд╖рдп рдХреЗ</strong> рд╕рд╛рде рдПрдХ рдЬрдЯрд┐рд▓ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдереА, рдкреНрд░рддреНрдпреЗрдХ <strong>рдЬрд╝рд┐рдк</strong> рдореЗрдВ <strong>рдЬрд╝рд┐рдк</strong> рдФрд░ <strong>рд╕рд╛рдЗрдб</strong> <strong>рдЗрдлреЗрдХреНрдЯ рдХреЗ</strong> рд╕рд╛рде рдЬрд┐рд╕рдиреЗ рдЗрд╡реЗрдВрдЯ рдмрд╕ рдореЗрдВ рдХреБрдЫ рдФрд░ рднреЗрдЬрд╛ рдерд╛ред  рдХрдо рд╕реЗ рдХрдо рдХрд╛рд░реНрдп рдХреЛ рдЗрд╡реЗрдВрдЯ рдмрд╕ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдирд╛ рдерд╛ред  рдореИрдВ рдПрдХ рджрд┐рди рдХреЗ рд▓рд┐рдП рдмреИрдард╛, рд▓реЗрдХрд┐рди рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрдЪрд╛ рдирд╣реАрдВ рд╕рдХрд╛ред  <strong>рд╕рд╣реА рдирд┐рд░реНрдгрдп рд╕рдм рдХреБрдЫ рдмрд╛рд╣рд░ рдлреЗрдВрдХрдиреЗ рдФрд░ 4 рдШрдВрдЯреЗ рдореЗрдВ рдХреЛрд░рдЯрд╛рдЗрди рдкрд░ рдХреЛрдб рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдХрд▓рд╛</strong> ред <br><br>  рдиреАрдЪреЗ рджрд┐рдпрд╛ рдЧрдпрд╛ рдХреЛрдб рдореЗрд░реЗ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЧрдП рд╕рдорд╛рди рд╣реИ: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { val firstChunkJob = async { call1 } val secondChunkJob = async { call2 } val thirdChunkJob = async { call3 } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Result( firstChunkJob.await(), secondChunkJob.await(), thirdChunkJob.await()) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e: Exception) { <span class="hljs-comment"><span class="hljs-comment">// handle errors }</span></span></code> </pre><br>  - рд╣рдо рджреВрд╕рд░реЗ рдФрд░ рддреАрд╕рд░реЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдХрд╛рдо рдХреЗ рд▓рд┐рдП рдПрд╕рд┐рдВрдХреНрд╕ рдХрд░рддреЗ рд╣реИрдВред <br>  - рд╣рдо рдкрд░рд┐рдгрд╛рдо рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдПрдХ рд╡рд╕реНрддреБ рдореЗрдВ рдбрд╛рд▓ рджрд┐рдпрд╛ рд╣реИред <br>  - рд╣реЛ рдЧрдпрд╛! <br><br>  рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЬрдЯрд┐рд▓ рдЬрдВрдЬреАрд░реЗрдВ рд╣реИрдВ рдФрд░ рдХреЛрд░рдЯрд╛рдЗрди рд╣реИрдВ, рддреЛ рдмрд╕ рд░рд┐рдлреНрд▓реЗрдХреНрдЯрд░ред  рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рддреЗрдЬ рд╣реИред <br><br><h2><a name="fear"></a>  рдХреНрдпрд╛ рдардЧреЛрдВ рдореЗрдВ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдХреЛрд░рдЯрд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИ? <br></h2><br>  рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рд╣рдо, рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ, рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдХреЗрд╡рд▓ рдХреБрдЫ рдирдП рдХреЗ рдбрд░ рд╕реЗ рдХреЛрд░рдЯрд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><ul><li>  рд╣рдо <strong>рдЬреАрд╡рди рдЪрдХреНрд░</strong> , <strong>рдЧрддрд┐рд╡рд┐рдзрд┐</strong> рдФрд░ рдЯреБрдХрдбрд╝реЗ рдЬреАрд╡рди рдЪрдХреНрд░ рдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИ рдкрддрд╛ рдирд╣реАрдВ рд╣реИред  рдЗрди рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдХреЛрд░рдЖрдЙрдЯ рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рдХрд╛рдо рдХрд░реЗрдВ? </li><li>  рдХреЛрд░реБрдЯрд┐рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рджреИрдирд┐рдХ рдЬрдЯрд┐рд▓ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рдЕрдиреБрднрд╡ рдирд╣реАрдВ рд╣реИред </li><li>  рдкрд░реНрдпрд╛рдкреНрдд рдЙрдкрдХрд░рдг рдирд╣реАрдВред  рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдФрд░ рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдПрдХ рд╕рдореВрд╣ RxJava рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <strong>RxFCM</strong> ред  RxJava рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдСрдкрд░реЗрдЯрд░ рд╣реИрдВ, рдЬреЛ рдХрд┐ рдЕрдЪреНрдЫрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреЛрд░рдЯрд╛рдЗрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛? </li><li>  рд╣рдо рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдпрд╣ рдирд╣реАрдВ рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рдХреЛрд░рдЯрд╛рдЗрди рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li></ul><br><blockquote>  рдЕрдЧрд░ рд╣рдо рдЗрди рдЪрд╛рд░ рдЖрд╢рдВрдХрд╛рдУрдВ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛ рд▓реЗрддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рд░рд╛рдд рдХреЛ рд╢рд╛рдВрддрд┐ рд╕реЗ рд╕реЛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдХреЛрд░рдЯрд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br></blockquote><br>  рдмрд┐рдВрджреБ рд╕реЗ рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВред <br><br><h3>  1. рдЬреАрд╡рдирдЪрдХреНрд░ рдкреНрд░рдмрдВрдзрди <br></h3><br><ul><li>  Coroutines <strong>рдбрд┐рд╕реНрдкреЛрдЬреЗрдмрд▓</strong> рдпрд╛ <strong>AsyncTask рдХреЗ</strong> рд░реВрдк рдореЗрдВ рд▓реАрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  рдпрд╛рджреГрдЪреНрдЫрд┐рдХ <strong>рдирд▓ рд╕реВрдЪрдХ рдЕрдкрд╡рд╛рдж</strong> рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП <strong>,</strong> рдХреЛрд░рдЖрдЙрдЯ рдХреЛ рд░реЛрдХрдирд╛ рд╣реЛрдЧрд╛ред </li></ul><br><h4>  рдмрдВрдж <br></h4><br>  рдХреНрдпрд╛ рдЖрдк <strong>Thread.stop () рд╕реЗ</strong> рдкрд░рд┐рдЪрд┐рдд рд╣реИрдВ?  рдпрджрд┐ рдЖрдкрдиреЗ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдирд╣реАрдВред  <strong>JDK 1.1 рдореЗрдВ,</strong> рд╡рд┐рдзрд┐ рддреБрд░рдВрдд рдЕрдкреНрд░рдЪрд▓рд┐рдд рдШреЛрд╖рд┐рдд рдХрд░ рджреА рдЧрдИ рдереА, рдХреНрдпреЛрдВрдХрд┐ рдХреЛрдб рдХрд╛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдЯреБрдХрдбрд╝рд╛ рд▓реЗрдирд╛ рдФрд░ рд░реЛрдХрдирд╛ рдЕрд╕рдВрднрд╡ рд╣реИ рдФрд░ рдЗрд╕рдХреА рдХреЛрдИ рдЧрд╛рд░рдВрдЯреА рдирд╣реАрдВ рд╣реИ рдХрд┐ рдпрд╣ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкреВрд░рд╛ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред  рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдХреЗрд╡рд▓ <strong>рд╕реНрдореГрддрд┐ рднреНрд░рд╖реНрдЯрд╛рдЪрд╛рд░</strong> рдорд┐рд▓реЗрдЧрд╛ред <br><br>  рдЗрд╕рд▓рд┐рдП, <strong>рдереНрд░реЗрдб.рд╕реНрдЯреЙрдк () рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ</strong> ред  рдЖрдкрдХреЛ рд╕рд╣рдХрд╛рд░реА рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рд░рджреНрджреАрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд, рджреВрд╕рд░реА рддрд░рдл рдХреЛрдб рдпрд╣ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдЖрдк рдЗрд╕реЗ рд░рджреНрдж рдХрд░ рд░рд╣реЗ рд╣реИрдВред <br><br>  рд╣рдо RxJava рдХреЗ рд╕рд╛рде рд╕реНрдЯреЙрдк рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> val compositeDisposable = CompositeDisposable() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">requestSmth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ compositeDisposable.add( apiClientRx.requestSomething() .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(result -&gt; {}) } <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDestroy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ compositeDisposable.dispose() }</code> </pre><br><br>  RxJava рдореЗрдВ рд╣рдо <strong>рдХрдореНрдкреЛрдЬрд┐рдЯрдбрд┐рд╕реЛрдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ</strong> ред <br><br>  - рдЦрдВрдб рдореЗрдВ рдпрд╛ рдкреНрд░рд╕реНрддреБрддрдХрд░реНрддрд╛ рдореЗрдВ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЗ рд▓рд┐рдП рдЪрд░ <strong>рдХрдВрдкреЛрдЬрд┐рдЯреЛрдкреНрд▓реЙрд░реА</strong> рдЬреЛрдбрд╝реЗрдВ, рдЬрд╣рд╛рдВ рд╣рдо RxJava рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br>  - <strong>onDestro</strong> y рдореЗрдВ <strong>Dispose</strong> рдЬреЛрдбрд╝реЗрдВ рдФрд░ рд╕рднреА рдЕрдкрд╡рд╛рдж рдЦреБрдж рд╕реЗ рджреВрд░ рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред <br><br>  рдХреЛрд░рдЯрд╛рдЗрди рдХреЗ рд╕рд╛рде рд▓рдЧрднрдЧ рдПрдХ рд╣реА рд╕рд┐рджреНрдзрд╛рдВрдд: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> val job: Job? = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">null</span></span></span><span class="hljs-function"> fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">requestSmth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ job = launch(UI) { val user = apiClient.requestSomething() тАж } } <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDestroy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ job?.cancel() }</code> </pre><br>  рдПрдХ <strong>рд╕рд╛рдзрд╛рд░рдг рдХрд╛рд░реНрдп рдХреЗ</strong> рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред <br><br>  рдЖрдорддреМрд░ рдкрд░, <strong>coroutine рдмрд┐рд▓реНрдбрд░реЛрдВ рдХреА</strong> <strong>рдиреМрдХрд░реА</strong> рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рддреА рд╣реИ, рдФрд░ рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ <strong>рдЖрд╕реНрдердЧрд┐рдд рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ</strong> ред <br><br>  - рд╣рдо рдЗрд╕ рдиреМрдХрд░реА рдХреЛ рдпрд╛рдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br>  - рдХрдорд╛рдВрдб <strong>"рд▓реЙрдиреНрдЪ" рдХреЛ</strong> <strong>рдХреЛрд░рдЯрд╛рдЗрди рдмрд┐рд▓реНрдбрд░ рджреЗрдВ</strong> ред  рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ, рдХреБрдЫ рд╣реЛрддрд╛ рд╣реИ, рдирд┐рд╖реНрдкрд╛рджрди рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдпрд╛рдж рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br>  - рдЕрдЧрд░ рд╣рдо рдХреБрдЫ рдФрд░ рдкрд╛рд╕ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ "рд▓реЙрдиреНрдЪ" рдлрд╝рдВрдХреНрд╢рди рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╣рдореЗрдВ рдиреМрдХрд░реА рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рд┐рдВрдХ рджреЗрддрд╛ рд╣реИред <br>  - рдиреМрдХрд░реА рдпрд╛рдж рд╣реИ, рдФрд░ onDestroy рдореЗрдВ рд╣рдо рдХрд╣рддреЗ рд╣реИрдВ <strong>"рд░рджреНрдж"</strong> рдФрд░ рд╕рдм рдХреБрдЫ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br>  <strong>рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреА рд╕рдорд╕реНрдпрд╛ рдХреНрдпрд╛ рд╣реИ?</strong>  рдкреНрд░рддреНрдпреЗрдХ рдиреМрдХрд░реА рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд╖реЗрддреНрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдЖрдкрдХреЛ рдЙрди рд╕рднреА рдХреЛ рдПрдХ рд╕рд╛рде рд░рджреНрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдиреМрдХрд░рд┐рдпреЛрдВ рдХреА рд╕реВрдЪреА рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛрдб рдХреЗ рджреЛрд╣рд░рд╛рд╡ рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИ, рдРрд╕рд╛ рди рдХрд░реЗрдВред <br><br>  рдЕрдЪреНрдЫреА рдЦрдмрд░ рдпрд╣ рд╣реИ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ <strong>рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ</strong> : <strong>рдХрдореНрдкреЛрдЬрд┐рдЯрдЬреЙрдм</strong> рдФрд░ <strong>рд▓рд╛рдЗрдлрд╕рд╛рдЗрдХрд▓-рдЕрд╡реЗрдпрд░ рдЬреЙрдм</strong> ред <br><br>  рдХрдореНрдкреЛрдЬрд┐рдЯрдЬреЙрдм рдХрдореНрдкреЛрдЬрд┐рдЯреЛрд╕реЙрдкреА рдХрд╛ рдПрдХ рдПрдирд╛рд▓реЙрдЧ рд╣реИред  рдпрд╣ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ <strong>:</strong> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> val job: CompositeJob = CompositeJob() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">requestSmth</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ job.add(launch(UI) { val user = apiClient.requestSomething() ... }) } <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDestroy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ job.cancel() }</code> </pre><br>  - рдПрдХ рдЯреБрдХрдбрд╝реЗ рдХреЗ рд▓рд┐рдП рд╣рдо рдПрдХ рдХрд╛рдо рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред <br>  - рд╣рдо рд╕рднреА <strong>рдиреМрдХрд░реА</strong> рдХрдореНрдкреЛрдЬрд┐рдЯрдЬреЛрдм рдореЗрдВ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рдХрдорд╛рдВрдб рджреЗрддреЗ рд╣реИрдВ: <strong>"job.cancel () рд╣рд░ рдХрд┐рд╕реА рдХреЗ рд▓рд┐рдП!"</strong>  ред <br><br>  рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ 4 рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╡рд░реНрдЧ рдШреЛрд╖рдгрд╛ рдХреА рдЧрд┐рдирддреА рдирд╣реАрдВ: <br><br><pre> <code class="java hljs">Class CompositeJob { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> val map = hashMapOf&lt;String, Job&gt;() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(job: Job, key: String = job.hashCode()</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">) </span></span>= map.put(key, job)?.cancel() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cancel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(key: String)</span></span></span><span class="hljs-function"> </span></span>= map[key]?.cancel() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cancel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>= map.forEach { _ ,u -&gt; u.cancel() } }</code> </pre><br><br>  рдЖрдкрдХреЛ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА: <br><br>  - рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде <strong>рдирдХреНрд╢рд╛</strong> , <br>  - <strong>рдЬреЛрдбрд╝реЗрдВ</strong> рд╡рд┐рдзрд┐, рдЬрд┐рд╕рдореЗрдВ рдЖрдк рдиреМрдХрд░реА рдЬреЛрдбрд╝ рджреЗрдВрдЧреЗ, <br>  - рд╡реИрдХрд▓реНрдкрд┐рдХ <strong>рдХреБрдВрдЬреА</strong> рдкреИрд░рд╛рдореАрдЯрд░ред <br><br>  рдпрджрд┐ рдЖрдк рдПрдХ рд╣реА рдХрд╛рдо рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реА рдХреБрдВрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ - рддреЛ рдХреГрдкрдпрд╛ред  рдпрджрд┐ рдирд╣реАрдВ, рддреЛ <strong>рд╣реИрд╢рдХреЛрдб</strong> рд╣рдорд╛рд░реА рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░реЗрдЧрд╛ред  рдХрд╛рд░реНрдп рдХреЛ рдорд╛рдирдЪрд┐рддреНрд░ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ, рдЬрд┐рд╕реЗ рд╣рдордиреЗ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдерд╛, рдФрд░ рдкрд┐рдЫрд▓реЗ рдПрдХ рдХреЛ рдЙрд╕реА рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рд░рджреНрдж рдХрд░реЗрдВред  рдпрджрд┐ рд╣рдо рдХрд╛рд░реНрдп рдХреЛ рдкреВрд░рд╛ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдкрд┐рдЫрд▓рд╛ рдкрд░рд┐рдгрд╛рдо рд╣рдореЗрдВ рд░реБрдЪрд┐ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИред  рд╣рдо рдЗрд╕реЗ рд░рджреНрдж рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдЪрд▓рд╛рддреЗ рд╣реИрдВред <br><br>  рд░рджреНрдж рдХрд░рдирд╛ рд╕рд░рд▓ рд╣реИ: рд╣рдореЗрдВ рдХреБрдВрдЬреА рджреНрд╡рд╛рд░рд╛ рдХрд╛рдо рдорд┐рд▓рддрд╛ рд╣реИ рдФрд░ рд░рджреНрдж рдХрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИред  рджреВрд╕рд░рд╛ рдкреВрд░рд╛ рдирдХреНрд╢рд╛ рд░рджреНрдж рдХрд░ рджреЗрддрд╛ рд╣реИред  рд╕рднреА рдХреЛрдб рдЖрдзреЗ рдШрдВрдЯреЗ рдореЗрдВ рдЪрд╛рд░ рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рд▓рд┐рдЦреЗ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдпрджрд┐ рдЖрдк рд▓рд┐рдЦрдирд╛ рдирд╣реАрдВ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдКрдкрд░ рдХрд╛ рдЙрджрд╛рд╣рд░рдг рд▓реЗрдВред <br><br><h4>  рдЬреАрд╡рдирдЪрдХреНрд░ рд╕реЗ рдЕрд╡рдЧрдд рдиреМрдХрд░реА </h4><br>  рдХреНрдпрд╛ рдЖрдкрдиреЗ <strong>Android Lifecycle</strong> , <strong>Lifecycle рдХреЗ рдорд╛рд▓рд┐рдХ</strong> рдпрд╛ <strong>рдкрд░реНрдпрд╡реЗрдХреНрд╖рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИ</strong> ? <br><img src="https://habrastorage.org/webt/ud/pi/eq/udpieqn_xba30yasl2buwbs2bay.png"><br><br>  рд╣рдорд╛рд░реА <strong>рдЧрддрд┐рд╡рд┐рдзрд┐</strong> рдФрд░ <strong>рдЯреБрдХрдбрд╝реЗ</strong> рдХреБрдЫ рд░рд╛рдЬреНрдпреЛрдВ рдореЗрдВ рд╣реИрдВред  рдореБрдЦреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ: <strong>рдмрдирд╛рдпрд╛,</strong> <strong>рд╢реБрд░реВ</strong> рдФрд░ <strong>рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ</strong> ред  рд░рд╛рдЬреНрдпреЛрдВ рдХреЗ рдмреАрдЪ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рдВрдХреНрд░рдордг рд╣реИрдВред  <strong>LifecycleObserver</strong> рдЖрдкрдХреЛ рдЗрди рдмрджрд▓рд╛рд╡реЛрдВ рдХреА рд╕рджрд╕реНрдпрддрд╛ рд▓реЗрдиреЗ рдФрд░ рдХреБрдЫ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрдм рд╕рдВрдХреНрд░рдордг рд╣реЛрддрд╛ рд╣реИред <br><br>  рдпрд╣ рдХрд╛рдлреА рд╕рд░рд▓ рд▓рдЧрддрд╛ рд╣реИ: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyObserver</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleObserver</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@OnLifecycleEvent</span></span>(Lifecycle.Event.ON_RESUME) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">connectListener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ... } <span class="hljs-meta"><span class="hljs-meta">@OnLifecycleEvent</span></span>(Lifecycle.Event.ON_PAUSE) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">disconnectListener</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ тАж } }</code> </pre><br>  рдЖрдк рд╡рд┐рдзрд┐ рдкрд░ рдХреБрдЫ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд╕рд╛рде рдПрдиреЛрдЯреЗрд╢рди рдХреЛ рд▓рдЯрдХрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдЗрд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕рдВрдХреНрд░рдордг рдХреЗ рд╕рд╛рде рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдмрд╕ coroutine рдХреЗ рд▓рд┐рдП рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AndroidJob</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lifecycle</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Lifecycle</span></span></span><span class="hljs-class">) : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Job</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">by</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Job</span></span></span><span class="hljs-class">(), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleObserver</span></span></span><span class="hljs-class"> </span></span>{ init { lifecycle.addObserver(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } <span class="hljs-meta"><span class="hljs-meta">@OnLifecycleEvent</span></span>(Lifecycle.Event.ON_DESTROY) <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">destroy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Log.d(<span class="hljs-string"><span class="hljs-string">"AndroidJob"</span></span>, <span class="hljs-string"><span class="hljs-string">"Cancelling a coroutine"</span></span>) cancel() } }</code> </pre><br>  - рдЖрдк рдЖрдзрд╛рд░ рд╡рд░реНрдЧ <strong>AndroidJob</strong> рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВред <br>  - рд╣рдо <strong>рдЬреАрд╡рдирдЪрдХреНрд░ рдХреЛ</strong> рдХрдХреНрд╖рд╛ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░реЗрдВрдЧреЗред <br>  - <strong>LifecycleObserver</strong> рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдиреМрдХрд░реА рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдЧрд╛ред <br><br>  рд╣рдо рд╕рднреА рдХреА рдЬрд░реВрд░рдд рд╣реИ: <br><br>  - рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдореЗрдВ рдСрдмреНрдЬрд░реНрд╡рд░ рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд╛рдЗрдлрд╕рд╛рдЗрдХрд▓ рдХреЛ рдЬреЛрдбрд╝реЗрдВред <br>  - <strong>ON_DESTROY</strong> рдпрд╛ рдХрд┐рд╕реА рдФрд░ рдЪреАрдЬрд╝ рдХреА рд╕рджрд╕реНрдпрддрд╛ рд▓реЗрдВ рдЬреЛ рд╣рдореЗрдВ <strong>рд░реБрдЪрддреА</strong> рд╣реИред <br>  - ON_DESTROY рдореЗрдВ рд░рджреНрдж рдХрд░реЗрдВред <br>  - рдЕрдкрдиреЗ рдЯреБрдХрдбрд╝реЗ рдореЗрдВ рдПрдХ <strong>parentJob рдЬрд╛рдУ</strong> ред <br>  - рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ <strong>рдЬреЙрдп рдЬреЙрдм</strong> рдпрд╛ рдЕрдкрдиреА рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЗ <strong>рдЬреАрд╡рдирдЪрдХреНрд░ рдХреЛ</strong> рдХреЙрд▓ рдХрд░реЗрдВред  рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВред <br>  - рдЗрд╕ <strong>рдкреЗрд░реЗрдВрдЯрдЬреЛрдм</strong> рдХреЛ <strong>рдкреЗрд░реЗрдВрдЯ рдХреЗ</strong> рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХрд░реЗрдВред <br><br>  рд╕рдорд╛рдкреНрдд рдХреЛрдб рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> parentJob = AndroidJob(lifecycle) <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">do</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ job = launch(UI, parent = parentJob) { <span class="hljs-comment"><span class="hljs-comment">// code } }</span></span></code> </pre><br>  рдЬрдм рдЖрдк рдорд╛рддрд╛-рдкрд┐рддрд╛ рдХреЛ рд░рджреНрдж рдХрд░ рджреЗрддреЗ рд╣реИрдВ, рддреЛ рд╕рднреА рдмрд╛рд▓ рдХреЛрд░рдЖрдЙрдЯ рд░рджреНрдж рдХрд░ рджрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдЕрдм рдЖрдкрдХреЛ рдЯреБрдХрдбрд╝реЗ рдореЗрдВ рдХреБрдЫ рднреА рд▓рд┐рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рд╕рдм рдХреБрдЫ рдЕрдкрдиреЗ рдЖрдк рд╣реЛрддрд╛ рд╣реИ, рдХреЛрдИ рдФрд░ рдирд╣реАрдВ ON_DESTROYред  рдореБрдЦреНрдп <strong>рдмрд╛рдд рдпрд╣</strong> рд╣реИ рдХрд┐ <strong>рдорд╛рддрд╛-рдкрд┐рддрд╛ = parentJob</strong> рдкрд╛рд╕ рдХрд░рдирд╛ рди рднреВрд▓реЗрдВред <br><br><blockquote>  рдпрджрд┐ рдЖрдк рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдПрдХ рд╕рд░рд▓ рд▓рд┐рдВрдЯ рдирд┐рдпрдо рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░реЗрдЧрд╛: "рдУрд╣, рдЖрдк рдЕрдкрдиреЗ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдХреЛ рднреВрд▓ рдЧрдП!" <br></blockquote><br>  рд╕реА <strong>&nbsp;</strong>  рдЬреАрд╡рдирдЪрдХреНрд░ рдкреНрд░рдмрдВрдзрди рдХреА рдЫрдВрдЯрдиреА рдХреАред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреБрдЫ рдЙрдкрдХрд░рдг рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ рдпрд╣ рд╕рдм рдЖрд╕рд╛рдиреА рд╕реЗ рдФрд░ рдЖрд░рд╛рдо рд╕реЗ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред <br><br>  рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдЬрдЯрд┐рд▓ рдкрд░рд┐рджреГрд╢реНрдп рдФрд░ рдЧреИрд░-рддреБрдЪреНрдЫ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛? <br><br><h3>  2. рдЬрдЯрд┐рд▓ рдЙрдкрдпреЛрдЧ-рдорд╛рдорд▓реЗ <br></h3><br>  рдЬрдЯрд┐рд▓ рдкрд░рд┐рджреГрд╢реНрдп рдФрд░ рдЧреИрд░-рддреБрдЪреНрдЫ рдХрд╛рд░реНрдп рд╣реИрдВ: <br><br>  - <strong>рдСрдкрд░реЗрдЯрд░реНрд╕</strong> - RxJava рдореЗрдВ рдХреЙрдореНрдкреНрд▓реЗрдХреНрд╕ рдСрдкрд░реЗрдЯрд░реНрд╕: рдлреНрд▓реИрдЯрдкреЗрдЬрд╝, рдбреЗрдмреНрдпреВ рдЖрджрд┐ред <br>  - <strong>рддреНрд░реБрдЯрд┐ рд╕реЗ рдирд┐рдкрдЯрдиреЗ -</strong> рдЬрдЯрд┐рд▓ рддреНрд░реБрдЯрд┐ рд╕реЗ рдирд┐рдкрдЯрдиреЗред  рди рдХреЗрд╡рд▓ <strong>рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ..рдЪреЗрдХ рдХрд░реЗрдВ</strong> , рдмрд▓реНрдХрд┐ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдиреЗрд╕реНрдЯ рдХрд░реЗрдВред <br>  - <strong>рдХреИрд╢рд┐рдВрдЧ</strong> <strong>рдПрдХ</strong> рдЧреИрд░ рддреБрдЪреНрдЫ рдХрд╛рд░реНрдп рд╣реИред  рдЙрддреНрдкрд╛рджрди рдореЗрдВ, рд╣рдо рдПрдХ рдХреИрд╢ рдореЗрдВ рднрд╛рдЧ рдЧрдП рдФрд░ рдХреЛрд░рдЯрд╛рдЗрди рдХреЗ рд╕рд╛рде рдХреИрд╢рд┐рдВрдЧ рд╕рдорд╕реНрдпрд╛ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдХрд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рдереЗред <br><br><h4>  рджреЛрд╣рд░рд╛рдирд╛ </h4><br>  рдЬрдм рд╣рдордиреЗ <strong>рдХреЛрд░рдЖрдЙрдЯ рдХреЗ</strong> рд▓рд┐рдП рдСрдкрд░реЗрдЯрд░реЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪрд╛ рдерд╛, рддреЛ рдкрд╣рд▓рд╛ рд╡рд┐рдХрд▓реНрдк <strong>рд░рд┐рдкреАрдЯ рдХрд┐рдпрд╛</strong> рдЧрдпрд╛ рдерд╛ред <br><br>  рдЕрдЧрд░ рдХреБрдЫ рдЧрд▓рдд рд╣реБрдЖ рдФрд░ рдХреЛрд░реБрдЯрд┐рди рдЕрдВрджрд░ рд╕рд░реНрд╡рд░ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрде рдерд╛, рддреЛ рд╣рдо рдХрд┐рд╕реА рддрд░рд╣ рдХреЗ рдПрдХреНрд╕рдкреЛрдиреЗрдВрдЯ рдХрдордмреИрдХ рдХреЗ рд╕рд╛рде рдХрдИ рдмрд╛рд░ рд░рд┐рдЯреНрд░реАрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рд╢рд╛рдпрдж рдХрд╛рд░рдг рдЦрд░рд╛рдм рдХрдиреЗрдХреНрд╢рди рд╣реИ рдФрд░ рд╣рдо рдХрдИ рдмрд╛рд░ рдСрдкрд░реЗрд╢рди рджреЛрд╣рд░рд╛рдХрд░ рд╡рд╛рдВрдЫрд┐рдд рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВрдЧреЗред <br><br>  рдХреЛрд░рдЖрдЙрдЯ рдХреЗ рд╕рд╛рде, рдпрд╣ рдХрд╛рд░реНрдп рдЖрд╕рд╛рдиреА рд╕реЗ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ: <br><br><pre> <code class="java hljs">suspend fun &lt;T&gt; retryDeferredWithDelay( deferred: () -&gt; Deferred&lt;T&gt;, tries: Int = <span class="hljs-number"><span class="hljs-number">3</span></span>, timeDelay: Long = <span class="hljs-number"><span class="hljs-number">1000L</span></span> ): T { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i in <span class="hljs-number"><span class="hljs-number">1</span></span>..tries) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> deferred().await() } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e: Exception) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i &lt; tries) delay(timeDelay) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> e } } <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> UnsupportedOperationException() }</code> </pre><br><br>  рдСрдкрд░реЗрдЯрд░ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди: <br><br>  - рд╡рд╣ <strong>рдбрд┐рдлрд░реНрдб рд╣реЛ</strong> рдЬрд╛рддрд╛ рд╣реИред <br>  - рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ <strong>async</strong> рдкрд░ рдХреЙрд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br>  - <strong>рдЖрд╕реНрдердЧрд┐рдд рдХреЗ</strong> рдмрдЬрд╛рдп <strong>,</strong> рдЖрдк рдПрдХ рдирд┐рд▓рдВрдмрд┐рдд рдмреНрд▓реЙрдХ рдФрд░ рдЖрдо рддреМрд░ рдкрд░ рдХрд┐рд╕реА рднреА <strong>рдирд┐рд▓рдВрдмрд┐рдд рдХрд╛рд░реНрдп</strong> рджреЛрдиреЛрдВ рдХреЛ рдкрд╛рд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <strong>ред</strong> <br>  - рд▓реВрдк рдХреЗ рд▓рд┐рдП - рдЖрдк рдЕрдкрдиреЗ рдХреЛрд░рдЖрдЙрдЯ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рдпрджрд┐ рдХреБрдЫ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐ рдХрд╛рдЙрдВрдЯрд░ рд╕рдорд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рддреЛ <strong>рд╡рд┐рд▓рдВрдм рдХреЗ</strong> рдорд╛рдзреНрдпрдо рд╕реЗ рдлрд┐рд░ рд╕реЗ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред  рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдирд╣реАрдВред <br><br>  рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: рдПрдХ рдШрд╛рддреАрдп рд╡рд┐рд▓рдВрдм рдбрд╛рд▓реЗрдВ рдпрд╛ рдПрдХ рд▓рдВрдмреЛ рдлрд╝рдВрдХреНрд╢рди рдкрд╛рд╕ рдХрд░реЗрдВ рдЬреЛ рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд┐рд▓рдВрдм рдХреА рдЧрдгрдирд╛ рдХрд░реЗрдЧрд╛ред <br><br>  рдпрд╣ рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВ, рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ! <br><br><h4>  рдЬрд╝рд┐рдк </h4><br>  рд╣рдо рднреА рдЕрдХреНрд╕рд░ рдЙрдирдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣рд╛рдБ рдлрд┐рд░ рд╕реЗ, рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рд╣реИ: <br><br><pre> <code class="java hljs">suspend fun &lt;T1, T2, R&gt; zip( source1: Deferred&lt;T1&gt;, source2: Deferred&lt;T2&gt;, zipper: BiFunction&lt;T1, T2, R&gt;): R { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> zipper.apply(sourcel.await(), source2.await()) } suspend fun &lt;T1, T2, R&gt; Deferred&lt;T1&gt;.zipWith( other: Deferred&lt;T2&gt;, zipper: BiFunction&lt;T1, T2, R&gt;): R { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> zip(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, other, zipper) }</code> </pre><br>  - <strong>рдЬрд┐рдкрд░ рдХрд╛</strong> рдкреНрд░рдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рдЕрдкрдиреЗ Deferred рдкрд░ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВред <br>  - рдЖрд╕реНрдердЧрд┐рдд рдХреЗ рдмрдЬрд╛рдп, рдЖрдк рд╕рд╕реНрдкреЗрдВрдб рдлрд╝рдВрдХреНрд╢рди рдФрд░ рдХреЛрд░рдЯрд╛рдЗрди рдмрд┐рд▓реНрдбрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЖрдк рдЕрдкрдиреА рдЬрд░реВрд░рдд рдХреЗ рд╕рдВрджрд░реНрдн рдХреЛ рдмрддрд╛рдПрдВрдЧреЗред <br><br>  рдпрд╣ рдлрд┐рд░ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдФрд░ рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдореИрдВрдиреЗ рдЗрд╕ рдбрд░ рдХреЛ рджреВрд░ рдХрд░ рджрд┐рдпрд╛ред <br><br><a name="cache"></a><h3>  рдХреИрд╢ </h3><br><br>  рдХреНрдпрд╛ рдЖрдкрдХреЗ рдкрд╛рд╕ RxJava рдХреЗ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдХреИрд╢ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╣реИ?  рд╣рдо RxCache рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><img src="https://habrastorage.org/webt/tz/ym/tn/tzymtn1tykponnxcmz0qqi_qjmi.png"><br><br>  рдмрд╛рдИрдВ рдУрд░ рдЖрд░реЗрдЦ рдореЗрдВ: <strong>рджреГрд╢реНрдп</strong> рдФрд░ <strong>рджреГрд╢реНрдпрдореЙрдбрд▓</strong> ред  рджрд╛рдИрдВ рдУрд░ рдбреЗрдЯрд╛ рд╕реНрд░реЛрдд рд╣реИрдВ: рдиреЗрдЯрд╡рд░реНрдХ рдХреЙрд▓ рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ред <br><br>  рдЕрдЧрд░ рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдХреБрдЫ рдХреИрд╢ рдХрд┐рдпрд╛ рдЬрд╛рдП, рддреЛ рдХреИрд╢ рдбреЗрдЯрд╛ рдХрд╛ рджреВрд╕рд░рд╛ рд╕реНрд░реЛрдд рд╣реЛрдЧрд╛ред <br><br>  рдХреИрд╢ рдХреЗ рдкреНрд░рдХрд╛рд░: <br><br><ul><li>  <strong>рдиреЗрдЯрд╡рд░реНрдХ</strong> рдХреЙрд▓ рдХреЗ рд▓рд┐рдП <strong>рдиреЗрдЯрд╡рд░реНрдХ рд╕реНрд░реЛрдд</strong> ред </li><li>  <strong>рдЗрди-рдореЗрдореЛрд░реА рдХреИрд╢</strong> ред </li><li>  рд╕рдорд╛рдкреНрддрд┐ рдкрд░ <strong>рдирд┐рд░рдВрддрд░ рдХреИрд╢</strong> рдбрд┐рд╕реНрдХ рдкрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдХреИрд╢ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдкреБрдирд░рд╛рд░рдВрдн рд╣реЛрдиреЗ рд╕реЗ рдмрдЪ рдЬрд╛рдПред </li></ul><br>  рддреАрд╕рд░реЗ рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓ рдФрд░ рдЖрджрд┐рдо <strong>рдХреИрд╢</strong> рд▓рд┐рдЦреЗрдВред  рдХреЙрд░рдЯреАрди рдмрд┐рд▓реНрдбрд░ рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдлрд┐рд░ рд╕реЗ рдмрдЪрд╛рд╡ рдореЗрдВ рдЖрддрд╛ рд╣реИред <br><br><pre> <code class="java hljs">launch(UI) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data = withContext(dispatcher) { persistence.getData() } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { data = withContext(dispatcher) { memory.getData() } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { data = withContext(dispatcher) { network.getData() } memory.cache(url, data) persistence.cache(url, data) } } }</code> </pre><br>  - рдЖрдк рдкреНрд░рддреНрдпреЗрдХ рдСрдкрд░реЗрд╢рди рдХреЛ рдХреЙрдирдЯреЗрдХреНрд╕реНрдЯ рдХреЗ рд╕рд╛рде рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдХреЛрдИ рдбреЗрдЯрд╛ рдЖ рд░рд╣рд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред <br>  - рдпрджрд┐ <strong>рджреГрдврд╝рддрд╛</strong> рд╕реЗ рдбреЗрдЯрд╛ рдирд╣реАрдВ рдЖрддрд╛ рд╣реИ, рддреЛ рдЖрдк рдЗрд╕реЗ <strong>рдореЗрдореЛрд░реА.рдЪреИрдЪ</strong> рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд░рд╣реЗ рд╣реИрдВред <br>  - рдпрджрд┐ рдХреЛрдИ рдореИрдореЛрд░реА.рдЪреЗрдЪ рдирд╣реАрдВ рд╣реИ, рддреЛ <strong>рдиреЗрдЯрд╡рд░реНрдХ рд╕реНрд░реЛрдд рд╕реЗ</strong> рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВ рдФрд░ рдЕрдкрдирд╛ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред  рдмреЗрд╢рдХ, рд╕рднреА рдХреИрд╢ рдореЗрдВ рдбрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдордд рднреВрд▓рдирд╛ред <br><br>  рдпрд╣ рдПрдХ рдмрд▓реНрдХрд┐ рдЖрджрд┐рдо рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╣реИ рдФрд░ рдХрдИ рд╕рд╡рд╛рд▓ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рдПрдХ рдЬрдЧрд╣ рдкрд░ рдХреИрд╢ рдХреА рдЬрд░реВрд░рдд рд╣реИ рддреЛ рд╡рд┐рдзрд┐ рдХрд╛рдо рдХрд░рддреА рд╣реИред  рдЙрддреНрдкрд╛рджрди рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдХреИрд╢ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИред  рдХреБрдЫ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдХреА рдЬрд░реВрд░рдд рд╣реИред <br><br><h4>  Rx рдореЗрдВ RxCache рд╣реИ </h4><br>  рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ рдЕрднреА рднреА RxJava рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЖрдк RxCache рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рдо рдЕрднреА рднреА рдЗрд╕рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░рддреЗ рд╣реИрдВред  <strong>RxCache</strong> рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╣реИред  рдЖрдкрдХреЛ рдбреЗрдЯрд╛ рдХреЛ рдХреИрд╢ рдХрд░рдиреЗ рдФрд░ рдЙрд╕рдХреЗ рдЬреАрд╡рди рдЪрдХреНрд░ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рдпрд╣ рдХрд╣рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдбреЗрдЯрд╛ 15 рдорд┐рдирдЯ рдХреЗ рдмрд╛рдж рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рдПрдЧрд╛: "рдХреГрдкрдпрд╛, рдЗрд╕ рдЕрд╡рдзрд┐ рдХреЗ рдмрд╛рдж, рдХреИрд╢ рд╕реЗ рдбреЗрдЯрд╛ рди рднреЗрдЬреЗрдВ, рд▓реЗрдХрд┐рди рдореБрдЭреЗ рддрд╛рдЬрд╝рд╛ рдбреЗрдЯрд╛ рднреЗрдЬреЗрдВред" <br><br>  рдкреБрд╕реНрддрдХрд╛рд▓рдп рдЕрджреНрднреБрдд рд╣реИ рдХрд┐ рдпрд╣ рдЯреАрдо рдХреЛ рдШреЛрд╖рд┐рдд рд░реВрдк рд╕реЗ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред  рдШреЛрд╖рдгрд╛ рдмрд╣реБрдд рдХреБрдЫ рд╡реИрд╕рд╛ рд╣реА рд╣реИ рдЬреИрд╕рд╛ рдЖрдк <strong>рд░реЗрдЯреНрд░реЛрдлрд┐рдЯ рдХреЗ</strong> рд╕рд╛рде рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FeatureConfigCacheProvider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@ProviderKey</span></span>(<span class="hljs-string"><span class="hljs-string">"features"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@LifeCache</span></span>(duration = <span class="hljs-number"><span class="hljs-number">15</span></span>, timeUnit = TimeUnit.MINUTES) <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFeatures</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( result: Observable&lt;Features&gt;, cacheName: DynamicKey )</span></span></span><span class="hljs-function">: Observable&lt;Reply&lt;Features&gt;&gt; }</span></span></code> </pre><br>  - рдЖрдк рдХрд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ <strong>CacheProvider рд╣реИ</strong> ред <br>  - рдПрдХ рд╡рд┐рдзрд┐ рд╢реБрд░реВ рдХрд░реЗрдВ рдФрд░ рдХрд╣реЗрдВ рдХрд┐ <strong>LifeCache</strong> рдЬреАрд╡рдирдХрд╛рд▓ 15 рдорд┐рдирдЯ рд╣реИред  рдЬрд┐рд╕ рдХреБрдВрдЬреА рдХреЗ рджреНрд╡рд╛рд░рд╛ рдпрд╣ рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧрд╛ рд╡рд╣ рд╣реИ <strong>рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ</strong> ред <br>  - <strong>рдЕрд╡рд▓реЛрдХрди рдпреЛрдЧреНрдп рдЙрддреНрддрд░ рджреЗрдВ</strong> , рдЬрд╣рд╛рдВ <strong>рдЬрд╡рд╛рдм</strong> рдХреИрд╢ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣рд╛рдпрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╡рд╕реНрддреБ рд╣реИред <br><br>  рдЙрдкрдпреЛрдЧ рдХрд╛рдлреА рд╕рд░рд▓ рд╣реИ: <br><br><pre> <code class="java hljs">val restObservable = configServiceRestApi.getFeatures() val features = featureConfigCacheProvider.getFeatures( restObservable, DynamicKey(CACHE_KEY) )</code> </pre><br>  - Rx рдХреИрд╢ рд╕реЗ, <strong>RestApi рдХрд╛</strong> рдЙрдкрдпреЛрдЧ <strong>рдХрд░реЗрдВ</strong> ред <br>  - <strong>рдХреИрд╢реЗрдкреНрд░реЙрдЗрдбрд░ рдХреА рдУрд░ рдореБрдбрд╝реЗрдВ</strong> ред <br>  - рдЙрд╕реЗ рдПрдХ рдСрдмреНрдЬрд░реНрд╡реЗрдмрд▓ рдЦрд┐рд▓рд╛рдПрдВред <br>  - рдкреБрд╕реНрддрдХрд╛рд▓рдп рдЦреБрдж рдкрддрд╛ рд▓рдЧрд╛рдПрдЧрд╛ рдХрд┐ рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИ: рдХреИрд╢ рдкрд░ рдЬрд╛рдПрдВ рдпрд╛ рдирд╣реАрдВ, рдЕрдЧрд░ рд╕рдордп рдЦрддреНрдо рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ <strong>рдСрдмреНрдЬрд░реНрд╡реЗрдмрд▓ рдХреА</strong> рдУрд░ рдореБрдбрд╝реЗрдВ рдФрд░ рджреВрд╕рд░рд╛ рдСрдкрд░реЗрд╢рди рдХрд░реЗрдВред <br><br>  рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ рдФрд░ рдореИрдВ рдХреЛрд░рдЯрд╛рдЗрди рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдорд╛рди рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред <br><br><h4>  рд╡рд┐рдХрд╛рд╕ рдореЗрдВ рдХреЛрд░рд╛рдЯрд╛рдЗрди рдХреИрд╢ </h4><br>  EPAM рдХреЗ рдЕрдВрджрд░, рд╣рдо <strong>Coroutine Cache</strong> рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд▓рд┐рдЦ рд░рд╣реЗ рд╣реИрдВ, рдЬреЛ RxCache рдХреЗ рд╕рднреА рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдХрд░реЗрдЧреАред  рд╣рдордиреЗ рдкрд╣рд▓рд╛ рд╕рдВрд╕реНрдХрд░рдг рд▓рд┐рдЦрд╛ рдФрд░ рдЗрд╕реЗ рдХрдВрдкрдиреА рдХреЗ рдЕрдВрджрд░ рдЪрд▓рд╛рдпрд╛ред  рдЬреИрд╕реЗ рд╣реА рдкрд╣рд▓реА рд░рд┐рд▓реАрдЬ рд╣реЛрдЧреА, рдореИрдВ рдЗрд╕реЗ рдЕрдкрдиреЗ рдЯреНрд╡рд┐рдЯрд░ рдкрд░ рдкреЛрд╕реНрдЯ рдХрд░рдХреЗ рдЦреБрд╢ рд░рд╣реВрдВрдЧрд╛ред  рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛: <br><br><pre> <code class="java hljs">val restFunction = configServiceRestApi.getFeatures() val features = withCache(CACHE_KEY) { restFunction() }</code> </pre><br>  рд╣рдо рдПрдХ рдирд┐рд▓рдВрдмрди рд╕рдорд╛рд░реЛрд╣ <strong>getFeatures рд╣реЛрдЧрд╛</strong> ред  рд╣рдо рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдЙрдЪреНрдЪ-рдХреНрд░рдо рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдПрдХ рдмреНрд▓реЙрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд╕ рдХрд░реЗрдВрдЧреЗ рдЬрд┐рд╕рдореЗрдВ <strong>рдХреИрд╢</strong> рд╣реЛрдЧрд╛, рдЬреЛ рдпрд╣ <strong>рдкрддрд╛ рд▓рдЧрд╛рдПрдЧрд╛</strong> рдХрд┐ рдХреНрдпрд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рд╢рд╛рдпрдж рд╣рдо рдШреЛрд╖рдгрд╛рддреНрдордХ рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реА рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрдирд╛рдПрдВрдЧреЗред <br><br><a name="err"></a><h3>  рд╣реИрдВрдбрд▓рд┐рдВрдЧ рдореЗрдВ рддреНрд░реБрдЯрд┐ <br></h3><br><img src="https://habrastorage.org/webt/sd/qq/uc/sdqqucxxckqchfozdoknxa3vi-k.png"><br><br>  рд╕рд░рд▓ рддреНрд░реБрдЯрд┐ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдЕрдХреНрд╕рд░ рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рдкрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЖрдорддреМрд░ рдкрд░ рдХрд╛рдлреА рд╕рд░рд▓ рд░реВрдк рд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЬрдЯрд┐рд▓ рдЪреАрдЬреЗрдВ рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдкрдХрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк <strong>рдЕрдкрд╡рд╛рдж рдХреЛ</strong> рдкрдХрдбрд╝рддреЗ <strong>рд╣реИрдВ</strong> рдФрд░ рд╡рд╣рд╛рдВ рдЬреЛ рд╣реБрдЖ рд╣реИ рдЙрд╕реЗ рджреЗрдЦреЗрдВ, рд▓реЙрдЧ рдХреЛ рд▓рд┐рдЦреЗрдВ рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдПрдХ рддреНрд░реБрдЯрд┐ рджрд┐рдЦрд╛рдПрдВред  рдпреВрдЖрдИ рдкрд░, рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ рдРрд╕рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рд╕рд░рд▓ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рд╕рдм рдХреБрдЫ рдЕрдкреЗрдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рд╕рд░рд▓ рд╣реИ - рдХреЛрд░рдЯрд╛рдЗрди рдХреЗ рд╕рд╛рде рддреНрд░реБрдЯрд┐ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреА <strong>рдХреЛрд╢рд┐рд╢-рдХреИрдЪ-</strong> рдПрдВрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ <strong>рдХреА</strong> рдЬрд╛рддреА рд╣реИред <br><br>  рдЙрддреНрдкрд╛рджрди рдореЗрдВ, рд╕рд╛рдзрд╛рд░рдг рдорд╛рдорд▓реЛрдВ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдирд┐рдореНрди рд╣реИрдВ: <br><br>  - рдиреЗрд╕реНрдЯреЗрдб <strong>рдХреИрдЪ</strong> , <br>  - рдХрдИ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкреНрд░рдХрд╛рд░ рдХреЗ <strong>рдЕрдкрд╡рд╛рдж</strong> , <br>  - рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдпрд╛ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдВ, <br>  - рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЬрд╛рдирдХрд╛рд░реАред  рдЙрд╕рдиреЗ рдлрд┐рд░ рдХреБрдЫ рдЧрд▓рдд рдХрд┐рдпрд╛ рдФрд░ рдЙрд╕реЗ рд╣рд░ рдЪреАрдЬ рдХреЗ рд▓рд┐рдП рджреЛрд╖реА рдард╣рд░рд╛рдпрд╛ред <br><br>  рд╣рдореЗрдВ рдЗрд╕рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд░рд╣рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  2 рд╕рдорд╛рдзрд╛рди рд╣реИрдВ: <strong>CoroutineExceptionHandler</strong> рдФрд░ <strong>рдкрд░рд┐рдгрд╛рдо рд╡рд░реНрдЧреЛрдВ рдХреЗ</strong> рд╕рд╛рде рджреГрд╖реНрдЯрд┐рдХреЛрдгред <br><br><h3>  Coroutine рдЕрдкрд╡рд╛рдж рд╣реИрдВрдбрд▓рд░ <br></h3><br>  рдпрд╣ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рдЬрдЯрд┐рд▓ рдорд╛рдорд▓реЛрдВ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╡рд░реНрдЧ рд╣реИред  <strong>ExceptionHandler</strong> рдЖрдкрдХреЛ рдПрдХ рддреНрд░реБрдЯрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдкрдиреЗ <strong>рдЕрдкрд╡рд╛рдж</strong> рдХреЛ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЗрдиреЗ рдФрд░ рдЗрд╕реЗ рд╕рдВрднрд╛рд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br>  рд╣рдо рдЖрдо рддреМрд░ рдкрд░ рдЬрдЯрд┐рд▓ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рдХреИрд╕реЗ рд╕рдВрднрд╛рд▓рддреЗ рд╣реИрдВ? <br><br>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдХреБрдЫ рджрдмрд╛рдпрд╛, рдмрдЯрди рдХрд╛рдо рдирд╣реАрдВ рдХрд┐рдпрд╛ред  рдЙрд╕реЗ рдпрд╣ рдХрд╣рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдЧрд▓рдд рд╣реБрдЖ рдФрд░ рдЗрд╕реЗ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░реЗрдВ: рдЗрдВрдЯрд░рдиреЗрдЯ, рд╡рд╛рдИ-рдлрд╛рдИ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ, рдмрд╛рдж рдореЗрдВ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ рдпрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╣рдЯрд╛ рджреЗрдВ рдФрд░ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдЙрдкрдпреЛрдЧ рди рдХрд░реЗрдВред  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдпрд╣ рдХрд╣рдирд╛ рдХрд╛рдлреА рд╕рд░рд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre> <code class="java hljs">val handler = CoroutineExceptionHandler(handler = { , error -&gt; hideProgressDialog() val defaultErrorMsg = <span class="hljs-string"><span class="hljs-string">"Something went wrong"</span></span> val errorMsg = when (error) { is ConnectionException -&gt; userFriendlyErrorMessage(error, defaultErrorMsg) is HttpResponseException -&gt; userFriendlyErrorMessage(Endpoint.EndpointType.ENDPOINT_SYNCPLICITY, error) is EncodingException -&gt; <span class="hljs-string"><span class="hljs-string">"Failed to decode data, please try again"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> -&gt; defaultErrorMsg } Toast.makeText(context, errorMsg, Toast.LENGTH_SHORT).show() })</code> </pre><br>  - рдЪрд▓реЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ: "рдХреБрдЫ рдЧрд▓рдд рд╣реЛ рдЧрдпрд╛!"  рдФрд░ рдЕрдкрд╡рд╛рдж рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВред <br>  - рдпрджрд┐ рдпрд╣ рдПрдХ <strong>рдХрдиреЗрдХреНрд╢рди рд╣реИ,</strong> рддреЛ рд╣рдо рд╕рдВрд╕рд╛рдзрдиреЛрдВ рд╕реЗ рдПрдХ рд╕реНрдерд╛рдиреАрдп рд╕рдВрджреЗрд╢ рд▓реЗрддреЗ рд╣реИрдВ: тАЬрдпрд╛рд░, рд╡рд╛рдИ-рдлрд╛рдИ рдЪрд╛рд▓реВ рдХрд░реЛ рдФрд░ рддреБрдореНрд╣рд╛рд░реА рд╕рдорд╕реНрдпрд╛рдПрдВ рджреВрд░ рд╣реЛ рдЬрд╛рдПрдВрдЧреАред  рдореИрдВ рдЗрд╕рдХреА рдЧрд╛рд░рдВрдЯреА рджреЗрддрд╛ рд╣реВрдВред тАЭ <br>  - рдЕрдЧрд░ <strong>рд╕рд░реНрд╡рд░ рдиреЗ рдХреБрдЫ рдЧрд▓рдд рдХрд╣рд╛ рд╣реИ</strong> , рддреЛ рдЖрдкрдХреЛ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдмрддрд╛рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ: "рд▓реЙрдЧ рдЖрдЙрдЯ рдХрд░реЗрдВ рдФрд░ рдлрд┐рд░ рд╕реЗ рд▓реЙрдЧ рдЗрди рдХрд░реЗрдВ", рдпрд╛ "рдореЙрд╕реНрдХреЛ рдореЗрдВ рдРрд╕рд╛ рди рдХрд░реЗрдВ, рджреВрд╕рд░реЗ рджреЗрд╢ рдореЗрдВ рдРрд╕рд╛ рдХрд░реЗрдВ", рдпрд╛ "рд╕реЙрд░реА, рдХреЙрдорд░реЗрдбред  рдореИрдВ рдмрд╕ рдЗрддрдирд╛ рд╣реА рдХрд╣ рд╕рдХрддрд╛ рд╣реВрдВ рдХрд┐ рдХреБрдЫ рдЧрд▓рдд рд╣реБрдЖ рд╣реИред <br>  - рдЕрдЧрд░ рдпрд╣ рдПрдХ рдкреВрд░реА рддрд░рд╣ рд╕реЗ <strong>рдЕрд▓рдЧ рдЧрд▓рддреА рд╣реИ</strong> , рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <strong>рд╕реНрдореГрддрд┐ рд╕реЗ рдмрд╛рд╣рд░</strong> , рд╣рдо рдХрд╣рддреЗ рд╣реИрдВ: "рдХреБрдЫ рдЧрд▓рдд рд╣реБрдЖ, рдореБрдЭреЗ рдХреНрд╖рдорд╛ рдХрд░реЗрдВред" <br>  - рд╕рднреА рд╕рдВрджреЗрд╢ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддреЗ рд╣реИрдВред <br><br>  рдЖрдк <strong>CoroutineExceptionHandler</strong> рдХреЛ рдЬреЛ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рдЙрд╕реЗ рдЙрд╕реА <strong>рдбрд┐рд╕реНрдкреИрдЪрд░</strong> рдкрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд╣рд╛рдБ рдЖрдк coroutine рдЪрд▓рд╛рддреЗ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдЖрдк "рд▓реЙрдиреНрдЪ" рдпреВрдЖрдИ рдХрдорд╛рдВрдб рджреЗрддреЗ рд╣реИрдВ, рддреЛ рд╕рдм рдХреБрдЫ рдпреВрдЖрдИ рдкрд░ рд╣реЛрддрд╛ рд╣реИред  рдЖрдкрдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ <strong>рдкреНрд░реЗрд╖рдг рдХреА</strong> рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ <strong>,</strong> рдЬреЛ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИред <br><br>  рдЙрдкрдпреЛрдЧ рд╕рд░рд▓ рд╣реИ: <br><br><pre> <code class="java hljs">launch(uiDispatcher + handler) { ... }</code> </pre><br>  рдПрдХ <strong>рдкреНрд▓рд╕</strong> рдСрдкрд░реЗрдЯрд░ рд╣реИред  Coroutine рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ, рдПрдХ <strong>рд╣реИрдВрдбрд▓рд░</strong> рдЬреЛрдбрд╝реЗрдВ рдФрд░ рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИред  рд╣рдордиреЗ рдХреБрдЫ рд╕рдордп рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ред <br><br><h3>  рдкрд░рд┐рдгрд╛рдо рдХрдХреНрд╖рд╛рдПрдВ <br></h3><br>  рдмрд╛рдж рдореЗрдВ рд╣рдордиреЗ рдорд╣рд╕реВрд╕ рдХрд┐рдпрд╛ рдХрд┐ CoroutineExceptionHandler рдЧрд╛рдпрдм рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдкрд░рд┐рдгрд╛рдо, рдЬреЛ рдХреЛрд░рдЯрд╛рдЗрди рдХреЗ рдХрд╛рдо рд╕реЗ рдмрдирддрд╛ рд╣реИ, рдЗрд╕рдореЗрдВ рдХрдИ рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣рд┐рд╕реНрд╕реЛрдВ рд╕реЗ рдпрд╛ рдХрдИ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  <strong>рдкрд░рд┐рдгрд╛рдо рдХрдХреНрд╖рд╛рдПрдВ</strong> рджреГрд╖реНрдЯрд┐рдХреЛрдг рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИ: <br><br><pre> <code class="java hljs">sealed <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Result</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">data class </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Success</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(val payload: String)</span></span></span><span class="hljs-function"> : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Result</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> data class </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Error</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(val exception: Exception)</span></span></span><span class="hljs-function"> : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Result</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> }</span></span></code> </pre><br>  - рдЖрдкрдХреЗ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рдореЗрдВ, рдЖрдк рдПрдХ <strong>рдкрд░рд┐рдгрд╛рдо рд╡рд░реНрдЧ</strong> рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред <br>  - <strong>рд╕реАрд▓</strong> рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░реЗрдВред <br>  - рдЖрдкрдХреЛ рдХрдХреНрд╖рд╛ рджреЛ рдЕрдиреНрдп рдбреЗрдЯрд╛ рд╡рд░реНрдЧреЛрдВ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓рддреА рд╣реИ: <strong>рд╕рдлрд▓рддрд╛</strong> рдФрд░ <strong>рддреНрд░реБрдЯрд┐</strong> ред <br> тАФ  <strong>Success</strong>   ,     . <br> тАФ  <strong>Error</strong>  exception. <br><br>     -  : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">override suspend fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doTask</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: Result </span></span>= withContext(CommonPool) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !isSessionValidForTask() ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span><span class="hljs-meta"><span class="hljs-meta">@withContext</span></span> Result.Error(Exception()) } тАж <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Result.Success(restApi.call()) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e: Exception) { Result.Error(e) } }</code> </pre><br>  Coroutine context тАФ Coroutine builder withContex     . <br><br> ,  : <br><br> тАФ   ,   error.     . <br> тАФ   RestApi   -. <br> тАФ   ,   <strong>Result.Success</strong> . <br> тАФ   ,  <strong>Result.Error</strong> . <br><br>      - ,  ExceptionHandler   . <br><br> Result classes ,   .   Result classes,      ExceptionHandler  try-catch. <br><br><h3> 3.  <br></h3><br> ,       .    <strong>unit-</strong> ,   ,    .       unit-. <br><br> ,   .   ,   unit-,    2 : <br><br><ol><li> <strong>Replacing context</strong> .   ,    ; </li><li> <strong>Mocking coroutines</strong> .   . </li></ol><br><h4> Replacing context <br></h4><br>   presenter: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">val </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">login</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ launch(UI) { тАж } }</code> </pre><br> ,    <strong>login</strong>    ,     UI-.      ,        ,  <strong>         </strong> .    ,    ,   unit-. <br><br>   : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">val </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">login</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(val coroutineContext = UI)</span></span></span><span class="hljs-function"> </span></span>{ launch(coroutineContext) { ... } }</code> </pre><br> тАФ   login   coroutineContext. ,            .  Kotlin   ,     UI  . <br> тАФ   Coroutine builder   Coroutine Contex,    . <br><br>  unit-   : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testLogin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ val presenter = LoginPresenter () presenter.login(Unconfined) }</code> </pre><br><br> тАФ    <strong>LoginPresenter</strong>   login   - , ,  Unconfined. <br> тАФ <strong>Unconfined</strong> ,      ,    .         . <br><br><h4> Mocking coroutines <br></h4><br>   тАФ  .    <strong>Mockk</strong>  unit-.     unit-    Kotlin,      .  suspend-        <strong>coEvery</strong>        -. <br><br>   login     <strong>githubUser</strong> : <br><br><pre> <code class="java hljs">coEvery { apiClient.login(any()) } returns githubUser</code> </pre><br>    <strong>Mockito-kotlin</strong> ,     тАФ    . ,    ,     : <br><br><pre> <code class="java hljs">given { runBlocking { apiClient.login(any()) } }.willReturn (githubUser)</code> </pre><br>    <strong>runBlocking</strong> .  <strong>given-</strong>    ,    . <br><br>        <strong>Presenter</strong> : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testLogin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ val githubUser = GithubUser(<span class="hljs-string"><span class="hljs-string">'login'</span></span>) val presenter = LoginPresenter(mockApi) presenter.login (Unconfined) assertEquals(githubUser, presenter.user()) }</code> </pre><br> тАФ   -, , <strong>GitHubUser</strong> . <br> тАФ  LoginPresenter      API,     .      . <br> тАФ   <strong>presenter.login</strong>  Unconfined   ,   Presenter    ,   . <br><br>  рдФрд░ рд╡рд╣ рд╕рдм рд╣реИ!    . <br><br><h2>   <br></h2><br><br><ul><li> <strong> Rx-   .</strong>      .      ,  RxJava  RxJava.     -  тАФ   ,   . </li><li> <strong>   .</strong>   ,       . Unit- тАФ       ,  ,     ,    .  тАФ welcome! </li><li> <strong>   .</strong>   ,  ,   ,   ,      .       . </li></ul><br><br><h3>  рдЙрдкрдпреЛрдЧреА рд▓рд┐рдВрдХ <br></h3><br><ul><li>      ,      Android GDE   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Android Coroutine Recipes</a> .     ,      : lifeCircle, coroutineContexts,   Coroutine builders   . </li><li> <a href="">  </a>  GitHub. </li><li>     Android  Kotlin,      ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="> <strong>Codelab</strong></a> . </li><li>           .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Twitter</a>       . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><strong> Medium</strong></a>     ┬л┬╗      Android,   async-   . </li></ul><br><blockquote>  <strong>рд╕рдорд╛рдЪрд╛рд░</strong> <br><br> 30    Mail.ru   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="> </a>      .  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="></a> . <br><br>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">AppsConf</a>   ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="> </a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="> </a>   . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">  </a> ,   ,       ,       . <br><br>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">youtube-</a>       AppsConf 2018 тАФ    :) <br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi429908/">https://habr.com/ru/post/hi429908/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi429892/index.html">xonsh - рдПрдХ рд╢реЗрд▓ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдЬрдЧрд░</a></li>
<li><a href="../hi429894/index.html">рдЖрд░рдУрдПрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ 3 рдкрд░ рдордЫрд▓реА рдХреА рдЖрдВрдЦ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ - рднрд╛рдЧ 2</a></li>
<li><a href="../hi429898/index.html">рдбреАрдПрдордПрд╕ (рдбреАрд▓рд░рд╢рд┐рдк рдореИрдиреЗрдЬрдореЗрдВрдЯ рд╕рд┐рд╕реНрдЯрдо) - рдбреАрд▓рд░ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдкреНрд░рдмрдВрдзрди рдХреЗ рд▓рд┐рдП рд╕реВрдЪрдирд╛ рдЗрдХреЛрд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</a></li>
<li><a href="../hi429902/index.html">рд╡реЗрдм 2.0 рдкреЗрдЬ рдореЗрдВ рдкреЗрдЬ рд░реИрдВрдХ - рднрд╛рдЧ 1</a></li>
<li><a href="../hi429904/index.html">рдХрдВрдкреНрдпреВрдЯрд░ рдЧреЗрдо рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдордЬреЗрджрд╛рд░ рдФрд░ рджреБрдЦрдж рдХрд╣рд╛рдирд┐рдпрд╛рдВ</a></li>
<li><a href="../hi429910/index.html">AppsConf рдЙрдЧрддрд╛ рд╣реИ</a></li>
<li><a href="../hi429912/index.html">рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╡рд┐рдХрд╛рд╕: рдПрдкреАрдЖрдИ рд╕реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░рд┐рд▓реАрдЬ рддрдХ</a></li>
<li><a href="../hi429914/index.html">OpenSceneGraph: рджреГрд╢реНрдп рдЧреНрд░рд╛рдлрд╝ рдФрд░ рд╕реНрдорд╛рд░реНрдЯ рдкреЙрдЗрдВрдЯрд░реНрд╕</a></li>
<li><a href="../hi429916/index.html">рдирд┐рд░реНрдорд╛рдг рдФрд░ рдирд┐рд░реНрдорд╛рдг рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
<li><a href="../hi429918/index.html">рд╡рд░реНрдЪреБрдЕрд▓ рд╡рд░реНрд▓реНрдб рдЗрдВрдЯреЗрд▓ред рднрд╛рдЧ 2: рдПрд╕рдПрдордкреА</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>