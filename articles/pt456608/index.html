<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëà üëèüèΩ üçó Southbridge em Chelyabinsk e Bitrix em Kubernetes üÜó ‚öîÔ∏è ‚ÑπÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os administradores de sistema da Sysadminka se re√∫nem em Chelyabinsk e, finalmente, fiz um relat√≥rio sobre a nossa solu√ß√£o para aplicativos de trabalh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Southbridge em Chelyabinsk e Bitrix em Kubernetes</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/456608/"><p>  Os administradores de sistema da Sysadminka se re√∫nem em Chelyabinsk e, finalmente, fiz um relat√≥rio sobre a nossa solu√ß√£o para aplicativos de trabalho no 1C-Bitrix em Kubernetes. </p><br><p>  Bitrix, Kubernetes, Ceph - uma √≥tima mistura? </p><br><p>  Vou lhe contar como montamos uma solu√ß√£o funcional para tudo isso. </p><br><p>  Vamos l√°! </p><br><p><img src="https://habrastorage.org/webt/ww/-p/mh/ww-pmhsbbatcmjwanhlxrn2qng8.png"></p><a name="habracut"></a><br><p>  O Mitap foi realizado em 18 de abril em Chelyabinsk.  Voc√™ pode ler sobre nossas mitaps no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Timepad</a> e assistir no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">YouTube</a> . </p><br><p>  Se voc√™ deseja nos apresentar um relat√≥rio ou como ouvinte - para Wellcome, escreva para vadim.isakanov@gmail.com e Telegram t.me/vadimisakanov. </p><br><h2 id="moy-doklad">  Meu relat√≥rio </h2><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" title="Relat√≥rio Kubernetes Bitrix"><img src="https://habrastorage.org/getpro/habr/post_images/c6c/301/de1/c6c301de1d19519d256089f72c2641a9.jpg" alt="Kubernetes Bitrix Report Video"></a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Slides</a> </p><br><h2 id="reshenie-bitriks-v-kubernetes-versiya-southbridge-10">  Bitrix na solu√ß√£o Kubernetes Southbridge 1.0 </h2><br><p>  Vou falar sobre a nossa solu√ß√£o no formato "para manequins no Kubernetes", como foi feito na reuni√£o.  Mas suponho que as palavras Bitrix, Docker, Kubernetes, Ceph sejam conhecidas pelo menos no n√≠vel dos artigos da Wikipedia. </p><br><h4 id="chto-voobsche-est-gotovogo-pro-bitriks-v-kubernetes">  O que voc√™ tem sobre o Bitrix no Kubernetes? </h4><br><p>  Em toda a Internet, h√° muito pouca informa√ß√£o sobre a opera√ß√£o de aplicativos no Bitrix no Kubernetes. <br>  Encontrei apenas esses materiais: </p><br><p>  Relat√≥rio de Alexander Serbul, 1C-Bitrix e Anton Tuzlukov, da Qsoft: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/lHK4eOvLbRM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Eu recomendo ouvi-lo. </p><br><p>  Desenvolvimento de solu√ß√£o pr√≥pria do usu√°rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">serkyron</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em Habr√©</a> . <br>  Eu tamb√©m encontrei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">essa solu√ß√£o</a> . </p><br><p>  III ... na verdade. </p><br><p>  Aviso, n√£o verificamos a qualidade das solu√ß√µes usando os links acima :-) <br>  Ali√°s, ao preparar nossa solu√ß√£o, conversei com Alexander Serbul, ent√£o o relat√≥rio dele ainda n√£o estava, ent√£o nos meus slides existe o item ‚ÄúBitrix n√£o usa Kubernetes‚Äù. </p><br><p>  Mas j√° existem muitas imagens prontas do Docker para o Bitrix funcionar no Docker: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://hub.docker.com/search?q=bitrix&amp;type=image</a> </p><br><p>  Isso √© suficiente para criar uma solu√ß√£o completa do Bitrix no Kubernetes? <br>  N√£o.  H√° um grande n√∫mero de problemas que precisam ser resolvidos. </p><br><h4 id="v-chem-problemy-s-bitriks-v-kubernetes">  Quais s√£o os problemas com o Bitrix no Kubernetes? </h4><br><p>  <strong>Primeiro - imagens prontas para o Dockerhub n√£o s√£o adequadas para o Kubernetes</strong> </p><br><p>  Se queremos construir uma arquitetura de microsservi√ßo (e no Kubernetes geralmente queremos), o aplicativo no Kubernetes precisa ser dividido em cont√™ineres e garantir que cada cont√™iner execute uma pequena fun√ß√£o (e faz isso bem).  Por que apenas um?  Em suma - quanto mais simples, mais confi√°vel. <br>  Se for mais aut√™ntico, veja este artigo e v√≠deo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://habr.com/en/company/southbridge/blog/426637/</a> </p><br><p>  As imagens do Docker no Dockerhub s√£o constru√≠das principalmente com base no princ√≠pio de "tudo em um", portanto ainda t√≠nhamos que fabricar nossa pr√≥pria bicicleta e at√© fazer imagens do zero. </p><br><p>  <strong>Segundo - o c√≥digo do site √© editado no painel de administra√ß√£o</strong> </p><br><p>  Criamos uma nova se√ß√£o no site - o c√≥digo foi atualizado (um diret√≥rio com o nome da nova se√ß√£o foi adicionado). </p><br><p>  Alteradas as propriedades do componente no painel de administra√ß√£o - o c√≥digo foi alterado. </p><br><p>  O Kubernetes ‚Äúpor padr√£o‚Äù n√£o sabe como trabalhar com isso, os cont√™ineres devem ser sem estado. </p><br><p>  Raz√£o: cada cont√™iner (sub) no cluster processa apenas parte do tr√°fego.  Se voc√™ alterar o c√≥digo em apenas um cont√™iner (inferior), em diferentes pods o c√≥digo ser√° diferente, o site funcionar√° de maneira diferente, diferentes vers√µes do site ser√£o mostradas para diferentes usu√°rios.  Voc√™ n√£o pode viver assim. </p><br><p>  <strong>Terceiro - voc√™ precisa resolver o problema da implanta√ß√£o</strong> </p><br><p>  Se temos um servidor monol√≠tico e um servidor "cl√°ssico", tudo √© muito simples: implantamos uma nova base de c√≥digo, migramos o banco de dados, mudamos o tr√°fego para a nova vers√£o do c√≥digo.  A troca ocorre instantaneamente. <br>  Se temos um site no Kubernetes, ele √© visto em microsservi√ßos, existem muitos cont√™ineres com c√≥digo.  Voc√™ precisa coletar cont√™ineres com a nova vers√£o do c√≥digo, distribu√≠-los em vez dos antigos, executar corretamente a migra√ß√£o do banco de dados e, idealmente, fazer isso de forma invis√≠vel para os visitantes.  Felizmente, o Kubernetes nos ajuda nisso, suportando uma nuvem inteira de diferentes tipos de implanta√ß√£o. </p><br><p>  <strong>Quarto - voc√™ precisa resolver o problema de armazenamento est√°tico</strong> </p><br><p>  Se seu site pesar "apenas" 10 gigabytes e voc√™ o implantar inteiramente em cont√™ineres, voc√™ receber√° cont√™ineres com 10 gigabytes, que ser√£o implantados para sempre. <br>  Voc√™ precisa armazenar as partes mais "pesadas" do site fora dos cont√™ineres, e surge a quest√£o de como faz√™-lo corretamente </p><br><h4 id="chego-net-v-nashem-reshenii">  O que n√£o est√° em nossa decis√£o </h4><br><p>  O c√≥digo Bitrix inteiro para microfun√ß√µes / microsservi√ßos n√£o √© cortado (para que o registro seja separado, o m√≥dulo da loja online seja separado, etc.).  Armazenamos toda a base de c√≥digo em cada cont√™iner como um todo. </p><br><p>  Tamb√©m n√£o armazenamos a base no Kubernetes (no entanto, implementei solu√ß√µes com a base no Kubernetes para ambientes de desenvolvedor, mas n√£o para produ√ß√£o). </p><br><p>  Os administradores do site ainda perceber√£o que o site funciona no Kubernetes.  A fun√ß√£o "verifica√ß√£o do sistema" n√£o funciona corretamente. Para editar o c√≥digo do site no painel de administra√ß√£o, voc√™ deve primeiro clicar no bot√£o "Quero editar o c√≥digo". </p><br><p>  Decidimos sobre os problemas, decidimos sobre a necessidade de implementar o microsservi√ßo, o objetivo √© claro - obter um sistema funcional para trabalhar em aplicativos Bitrix no Kubernetes, preservando os recursos do Bitrix e as vantagens do Kubernetes.  Come√ßamos a implementa√ß√£o. </p><br><h4 id="arhitektura">  Arquitetura </h4><br><p>  Muitos lares "trabalhando" com um servidor web (trabalhadores). <br>  Um abaixo com coroas de coroa (necessariamente apenas um). <br>  Uma atualiza√ß√£o para editar o c√≥digo do site no painel de administra√ß√£o (somente uma tamb√©m √© necess√°ria). </p><br><p><img src="https://habrastorage.org/webt/3i/au/ed/3iauedjhblc8ph9icvyrlzxirrq.png"></p><br><p>  Resolvemos problemas: </p><br><ul><li>  Onde armazenar sess√µes? </li><li>  Onde armazenar o cache? </li><li>  Onde armazenar est√°tica, n√£o colocar gigabytes de est√°tica em um monte de cont√™ineres? </li><li>  Como o banco de dados funcionar√°? </li></ul><br><h4 id="docker-obraz">  Imagem do Docker </h4><br><p>  Come√ßamos criando uma imagem do Docker. </p><br><p>  A op√ß√£o ideal √© que tenhamos uma imagem universal, e, com base nisso, obtemos pods de trabalho e pods com colchetes e pods de atualiza√ß√£o. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Fizemos exatamente essa imagem</a> . </p><br><p>  Inclui nginx, apache / php-fpm (pode ser selecionado durante a montagem), msmtp para envio de email e cron. </p><br><p>  Ao montar a imagem, a base de c√≥digo completa do site √© copiada para o diret√≥rio / app (com exce√ß√£o das partes que colocaremos em um armazenamento compartilhado separado). </p><br><h4 id="mikroservisnost-servisy">  Microsservi√ßos, servi√ßos </h4><br><p>  <strong>lareiras de trabalhadores:</strong> </p><br><ul><li>  Cont√™iner com cont√™iner nginx + apache / php-fpm + msmtp </li><li>  msmtp n√£o funcionou em um microsservi√ßo separado, o Bitrix come√ßa a se ressentir por n√£o poder enviar email diretamente </li><li>  Cada cont√™iner possui uma base de c√≥digo completa. </li><li>  Proibi√ß√£o de alterar o c√≥digo em cont√™ineres. </li></ul><br><p>  <strong>cron em:</strong> </p><br><ul><li>  cont√™iner com apache, php, cron </li><li>  base de c√≥digo completa inclu√≠da </li><li>  proibi√ß√£o de alterar c√≥digo em cont√™ineres </li></ul><br><p>  <strong>atualiza√ß√£o em:</strong> </p><br><ul><li>  cont√™iner com cont√™iner nginx + apache / php-fpm + msmtp </li><li>  n√£o h√° proibi√ß√£o de alterar c√≥digo em cont√™ineres </li></ul><br><p>  <strong>armazenamento de sess√£o</strong> </p><br><p>  <strong>Armazenamento em cache Bitrix</strong> </p><br><p>  Mais importante: armazenamos senhas para conectar-se a tudo, desde o banco de dados at√© o correio em segredos do kubernetes.  Recebemos um b√¥nus, as senhas s√£o vis√≠veis apenas para aqueles a quem damos acesso a segredos, e n√£o para todos que t√™m acesso √† base de c√≥digo do projeto. </p><br><h4 id="hranilische-dlya-statiki">  Armazenamento est√°tico </h4><br><p>  Voc√™ pode usar qualquer coisa: ceph, nfs (mas nfs n√£o s√£o recomendados para produ√ß√£o), armazenamento em rede de provedores "em nuvem" etc. </p><br><p>  O armazenamento precisar√° ser conectado em cont√™ineres ao diret√≥rio / upload / do site e outros diret√≥rios com est√°tica. </p><br><h4 id="baza-dannyh">  Banco de Dados </h4><br><p>  Para simplificar, recomendamos mover a base para fora do Kubernetes.  A base do Kubernetes √© uma tarefa complexa separada, que tornar√° o circuito muito mais complicado. </p><br><h4 id="hranilische-sessiy">  Armazenamento de sess√£o </h4><br><p>  Usamos o memcached :) </p><br><p>  Ele faz um bom trabalho de armazenamento de sess√µes, clusters e √© suportado nativamente como session.save_path no php.  Esse sistema foi desenvolvido muitas vezes na arquitetura monol√≠tica cl√°ssica, quando constru√≠mos clusters com um grande n√∫mero de servidores da web.  Para implanta√ß√£o, usamos leme. </p><br><pre><code class="plaintext hljs">$ helm install stable/memcached --name session</code> </pre> <br><p>  php.ini - aqui nas configura√ß√µes de imagem est√£o definidas para armazenar sess√µes no memcached </p><br><p>  Usamos vari√°veis ‚Äã‚Äãde ambiente para transferir dados do host com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://kubernetes.io/docs/tasks/inject-data-application/define-environment-variable-container/</a> . <br>  Isso permite que voc√™ use o mesmo c√≥digo nos ambientes dev, stage, test, prod (os nomes de host de memcached neles ser√£o diferentes, portanto, precisamos transferir um nome de host exclusivo para as sess√µes para cada ambiente). <br>  Armazenamento em cache Bitrix </p><br><p>  Precisamos de um armazenamento √† prova de falhas no qual todos os lares possam escrever e do qual possamos ler. </p><br><p>  Tamb√©m usamos o memcached. <br>  Esta solu√ß√£o √© recomendada pelo pr√≥prio Bitrix. </p><br><pre> <code class="plaintext hljs">$ helm install stable/memcached --name cache</code> </pre> <br><p>  bitrix / .settings_extra.php - aqui no Bitrix √© definido onde armazenamos o cache </p><br><p>  Tamb√©m usamos vari√°veis ‚Äã‚Äãde ambiente. </p><br><h3 id="krontaski">  Krontaski </h3><br><p>  Existem diferentes abordagens para fazer crontabs no Kubernetes. </p><br><ul><li>  implanta√ß√£o separada com uma lareira </li><li>  cronjob para executar o crontask (se for um aplicativo da web - com wget <a href="">https: // $ host $ cronjobname</a> ou kubectl exec dentro de uma das √°reas de trabalho, etc.) </li><li>  etc. </li></ul><br><p>  Voc√™ pode argumentar sobre o mais correto, mas, neste caso, escolhemos a op√ß√£o "implanta√ß√£o separada com pods para crontask" </p><br><p>  Como fazer: </p><br><ul><li>  adicione coroas atrav√©s do ConfigMap ou via config / addcron </li><li>  em uma inst√¢ncia, execute um cont√™iner id√™ntico ao submarino do trabalhador e permita a execu√ß√£o de tarefas de coroa nele </li><li>  a mesma base de c√≥digo √© usada, gra√ßas √† unifica√ß√£o, a montagem do cont√™iner √© simples </li></ul><br><p>  Que bom temos: </p><br><ul><li>  temos crontaski trabalhando em um ambiente id√™ntico ao ambiente de desenvolvimento (janela de encaixe) </li><li>  Krontaski n√£o precisa ser "reescrito" para Kubernetes, eles funcionam da mesma forma e na mesma base de c√≥digo de antes </li><li>  Os membros da coroa podem adicionar todos os membros da equipe com direitos de confirma√ß√£o ao ramo de produ√ß√£o, e n√£o apenas administradores </li></ul><br><h3 id="modul-southbridge-k8sdeploy-i-redaktirovanie-koda-iz-admin-paneli">  M√≥dulo Southbridge K8SDeploy e edi√ß√£o de c√≥digo no painel de administra√ß√£o </h3><br><p>  Est√°vamos falando sobre atualiza√ß√£o em? <br>  E como direcionar o tr√°fego para l√°? <br>  Hooray, n√≥s escrevemos um m√≥dulo para isso no php :) Este √© um pequeno m√≥dulo cl√°ssico para o Bitrix.  Ainda n√£o est√° dispon√≠vel ao p√∫blico, mas planejamos abri-lo. <br>  O m√≥dulo √© instalado como um m√≥dulo regular no Bitrix: </p><br><p><img src="https://habrastorage.org/webt/6z/kw/-n/6zkw-n5v1lce5blf2uc6wp7udbi.png"></p><br><p>  E fica assim: </p><br><p><img src="https://habrastorage.org/webt/wo/m-/bx/wom-bxmnnnanwzo9cun2r54kepm.png"></p><br><p>  Ele permite que voc√™ defina um cookie que identifique o administrador do site e permite que o Kubernetes envie tr√°fego para atualiza√ß√£o. </p><br><p>  Quando as altera√ß√µes forem conclu√≠das, voc√™ precisar√° pressionar git push, as altera√ß√µes de c√≥digo ser√£o enviadas para git; o sistema coletar√° a imagem com a nova vers√£o do c√≥digo e a "rolar√°" pelo cluster, substituindo os pods antigos. </p><br><p>  Sim, √© uma muleta, mas, ao mesmo tempo, mantemos a arquitetura de microsservi√ßo e n√£o tiramos dos usu√°rios do Bitrix a oportunidade favorita de corrigir o c√≥digo no painel de administra√ß√£o.  No final, esta √© uma op√ß√£o, voc√™ pode resolver o problema de editar o c√≥digo de uma maneira diferente. </p><br><h4 id="helm-chart">  Gr√°fico do leme </h4><br><p>  Para criar aplicativos no Kubernetes, geralmente usamos o gerenciador de pacotes Helm. <br>  Para nossa solu√ß√£o Bitrix na Kubernetes, Sergey Bondarev, nosso principal administrador de sistemas, escreveu um gr√°fico Helm especial. </p><br><p>  Ele cria trabalhador, ugrade, cron lareiras, configura entradas, servi√ßos, transfere vari√°veis ‚Äã‚Äãdos segredos do Kubernetes para lareiras. </p><br><p>  Armazenamos o c√≥digo no Gitlab e tamb√©m executamos o assembly Helm no Gitlab. </p><br><p>  Em suma, parece que isso </p><br><pre> <code class="plaintext hljs">$ helm upgrade --install project .helm --set image=registrygitlab.local/k8s/bitrix -f .helm/values.yaml --wait --timeout 300 --debug --tiller-namespace=production</code> </pre> <br><p>  O Helm tamb√©m permite que voc√™ fa√ßa uma revers√£o "perfeita", se algo der errado durante a implanta√ß√£o.  √â legal quando voc√™ n√£o est√° em p√¢nico "conserte o c√≥digo do ftp, porque o produto caiu", e o Kubernetes faz isso automaticamente, e sem tempo de inatividade. </p><br><h4 id="deploy">  Implantar </h4><br><p>  Sim, somos f√£s do Gitlab e do Gitlab CI, use-o :) <br>  Ao se comprometer com o Gitlab no reposit√≥rio do projeto, o Gitlab lan√ßa um pipeline que implementar√° a nova vers√£o do ambiente. </p><br><p>  Etapas: </p><br><ul><li>  build (crie uma nova imagem do Docker) </li><li>  teste (teste) </li><li>  limpeza (remova o ambiente de teste) </li><li>  push (envie para o registro do Docker) </li><li>  deploy (implantamos o aplicativo no Kubernetes via Helm). </li></ul><br><p><img src="https://habrastorage.org/webt/0j/4g/2a/0j4g2a44mgliixuwlq3-5okjcgk.png"></p><br><p>  Viva, estamos prontos para apresent√°-lo! <br>  Bem, ou fa√ßa perguntas, se houver. </p><br><h2 id="itak-chto-my-sdelali">  Ent√£o o que fizemos </h2><br><p>  <strong>Do ponto de vista t√©cnico:</strong> </p><br><ul><li>  Bitrix dockerized; </li><li>  "Corte" o Bitrix em recipientes, cada um dos quais desempenhando um m√≠nimo de fun√ß√µes; </li><li>  alcan√ßou o estado sem estado de cont√™ineres; </li><li>  resolveu o problema com a atualiza√ß√£o do Bitrix no Kubernetes; </li><li>  todas as fun√ß√µes do Bitrix continuaram funcionando (quase todas); </li><li>  trabalhou implanta√ß√£o no Kubernetes e revers√£o entre vers√µes. </li></ul><br><p>  <strong>Do ponto de vista comercial:</strong> </p><br><ul><li>  toler√¢ncia a falhas; </li><li>  Ferramentas Kubernetes (f√°cil integra√ß√£o com o Gitlab CI, implanta√ß√£o cont√≠nua, etc); </li><li>  senhas em segredo (vis√≠veis apenas para aqueles que t√™m acesso direto a senhas); </li><li>  √© conveniente criar ambientes adicionais (para desenvolvimento, testes etc.) dentro de uma √∫nica infraestrutura. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt456608/">https://habr.com/ru/post/pt456608/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt456596/index.html">Microbiota. Como o teste funciona?</a></li>
<li><a href="../pt456600/index.html">Receitas Nginx: autoriza√ß√£o LDAP com captcha</a></li>
<li><a href="../pt456602/index.html">Guia de Implementa√ß√£o de assinaturas renov√°veis ‚Äã‚Äãautomaticamente em aplicativos iOS</a></li>
<li><a href="../pt456604/index.html">Como automatizamos uma grande loja on-line e come√ßamos a combinar produtos automaticamente</a></li>
<li><a href="../pt456606/index.html">Not√≠cias do mundo do OpenStreetMap n¬∫ 464 (04/04/2019 - 06/10/2019)</a></li>
<li><a href="../pt456610/index.html">N√£o pressione e n√£o aprove</a></li>
<li><a href="../pt456612/index.html">Uma das centenas de maneiras de publicar v√°rios projetos de produ√ß√£o em um servidor</a></li>
<li><a href="../pt456614/index.html">Como um conto de praga: o quadro da inoc√™ncia √© processado</a></li>
<li><a href="../pt456616/index.html">3 milh√µes de rublos para quem pode codificar</a></li>
<li><a href="../pt456618/index.html">Larabeer Moscou - 21 de junho</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>