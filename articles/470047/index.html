<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèê üëü üèüÔ∏è Mir√© hacia atr√°s para ver si ella miraba hacia atr√°s: 2 o hacia mi propio centro de datos a trav√©s de AWS üßôüèº üôá ü§úüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Publicamos todos los servicios ubicados en el hipervisor dom√©stico a trav√©s del servicio EC2 Amazon Web Services a trav√©s de una instancia gratuita pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mir√© hacia atr√°s para ver si ella miraba hacia atr√°s: 2 o hacia mi propio centro de datos a trav√©s de AWS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470047/"><img src="https://habrastorage.org/webt/hb/3k/nj/hb3knjstg1kmyhx0g_bzk-r5jiu.jpeg" alt="imagen"><br><br>  Publicamos todos los servicios ubicados en el hipervisor dom√©stico a trav√©s del servicio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">EC2 Amazon Web Services a</a> trav√©s de una instancia gratuita para Amazon Linux AMI 2018 usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">libreswan</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">xl2tpd</a> y con un poco de distorsi√≥n ... <br><a name="habracut"></a><br>  Los administradores de sistemas de una empresa tradicional (sin TI) con experiencia, generalmente despu√©s de un tiempo, tienen su propia granja de virtualizaci√≥n de servidores en casa para probar el mont√≥n de soluciones en el terreno.  Esto puede ser una imitaci√≥n banal de una red distribuida de oficinas y sucursales, pruebas de una infraestructura integrada de alta disponibilidad, implementaci√≥n de nuevas versiones de algunas soluciones, etc. <br><br>  Externamente, puede verse desde una simple PC hogare√±a llena de memoria con un hipervisor incorporado y un NAS de nivel de consumidor como almacenamiento iSCSI (o incluso como una m√°quina virtual simple en la misma PC) a servidores completos de montaje en bastidor de tama√±o peque√±o comprados para unidades de control da√±adas a bajo costo con un pedigr√≠ de los centros de datos occidentales, con el mismo BU tsiska para conectividad de red y atascado en el Fibre Channel, el mismo, comprado en el NAS del mercado secundario, pero ya una clase empresarial. <br><br>  Por supuesto, en nuestra era de locura por las nubes, toda la infraestructura se puede implementar f√°cilmente en los centros de datos en la nube, pero esto no siempre es posible, principalmente debido al costo.  No importa si las pruebas requieren varias m√°quinas virtuales livianas de los planes disponibles, pero ¬øqu√© sucede si en servicio tiene que torcer varias docenas o incluso cientos de "m√°quinas virtuales" separadas con una amplia variedad de servicios, y tambi√©n desea tener un archivo para que pueda tenerlo en cualquier momento hubo una muestra que se retorci√≥ en configuraciones / configuraciones hace un a√±o.  O bien, es necesario transferir todas las dificultades con la misma sincronizaci√≥n entre ADDS y ADFS antes de transferir algunos de los servicios empresariales existentes a la misma MS Azure. <br><br>  El principal problema en este caso es la publicaci√≥n (reenv√≠o) de toda esta infraestructura al exterior, para que pueda practicar la conexi√≥n de usuarios externos al "sitio del servidor" de su hogar o a sus propios servicios "en la nube", o la integraci√≥n con servicios de terceros, etc. <br><br>  Es bueno si la conexi√≥n dom√©stica est√° dise√±ada para una tarifa comercial, en este caso no hay problemas con las solicitudes entrantes, y la direcci√≥n IP es casi siempre "blanca", est√°tica. <br><br>  Pero qu√© hacer cuando el proveedor habitual de "hogar" est√° presente en el lugar de residencia, que adem√°s solo puede proporcionar una direcci√≥n de la red privada.  ¬øO dar√° una direcci√≥n blanca, pero tradicionalmente cortar√° todas las entradas del rango de puertos privilegiado (&lt;1024)?  O usted es un estudiante cursi pobre y simplemente no puede pagar una tarifa mensual dise√±ada para entidades legales.  ¬øO a menudo tiene que cambiar su lugar de residencia, arrastrando sus "pertenencias" del servidor virtual a la joroba?  Un caso especial tambi√©n es relevante para aquellos que viven fuera del CIS, cuando el proveedor proporciona por la fuerza su propio equipo para conectarse a Internet y all√≠ simplemente no puede configurar f√≠sicamente el reenv√≠o de los puertos que necesita a la granja virtual de su casa. <br><br>  Una soluci√≥n es usar cualquiera de los servicios VPN de terceros.  Desafortunadamente, pocos de ellos permiten el permiso de las conexiones entrantes con respecto al t√∫nel, a menudo es un servicio pago separado.  Tambi√©n en este caso, la elecci√≥n de direcciones IP externas ser√° muy limitada si desea probar la situaci√≥n con la presencia de una direcci√≥n IP externa en un pa√≠s en particular, adem√°s, por regla general, no hay garant√≠a de que al mismo tiempo un mont√≥n de otros clientes de servicios VPN no se cuelguen de esta direcci√≥n , o ser√° est√°tico durante mucho tiempo, lo cual es importante para configurar registros de subdominio de servicio en DNS. <br><br>  Tambi√©n vale la pena (en mi humilde opini√≥n), aunque algunos m√©todos pervertidos, es implementar su propio enrutador "virtual" en alguna plataforma de nube externa con la capacidad de configurar un t√∫nel VPN desde la granja de hipervisores dom√©sticos a esta m√°quina virtual en la nube, con las conexiones entrantes necesarias enviadas desde la interfaz de red externa servicios de hipervisor de nubes a casa.  E idealmente, no pagar casi nada por todo el asunto. <br><br>  Habiendo perdido recientemente mi trabajo, y con el acceso a una granja de pruebas corporativas c√°lida y c√≥moda, pero a cambio recib√≠ mucho tiempo libre para actualizar mis habilidades, decid√≠ dar a los servicios del hipervisor de mi hogar la oportunidad de ver las conexiones entrantes de clientes. <br><br>  El autor de estas l√≠neas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"ama todo tipo de perversiones de infraestructura"</a> , por lo tanto, como enrutador virtual, usaremos la instancia gratuita de Amazon Web Services (AWS) EC2 t2.micro para Linux, que en lugar de AWS: VPC (en teor√≠a) le dar√° un poco m√°s de flexibilidad en la depuraci√≥n y caracter√≠sticas , y la topolog√≠a de esta perversi√≥n VPN se muestra a continuaci√≥n: <br><br><img src="https://habrastorage.org/webt/xs/o5/_k/xso5_kg5gwlm9ozy9pj7udiqxuc.png" alt="imagen"><br><br>  ¬øQu√© vemos aqu√≠? <br><br>  Hay una m√°quina virtual (instancia) gratuita (750 horas de trabajo por mes durante el a√±o), en Linux, implementada en AWS: EC2.  Las llamadas entrantes de algunos usuarios de sus servicios dom√©sticos caen en la direcci√≥n IPv4 blanca externa de Elastic IP, luego, a trav√©s de las reglas entrantes (Entrantes) en los "Grupos de seguridad", los puertos que necesitamos asignar a la interfaz de red de la instancia, luego los paquetes de estas solicitudes a trav√©s de iptables pasan por el t√∫nel IPSec para una m√°quina virtual para Windows 2016, donde, mediante el enrutamiento, RRAS obtiene el servicio deseado dentro de la granja virtual dom√©stica.  Prestamos especial atenci√≥n a la presencia de tres NAT a la vez: uno en AWS Linux, uno en el enrutador de "red de oficina" y uno m√°s, impl√≠cito, en el enrutador dom√©stico. <br><br>  En este (mi) caso, una m√°quina virtual bajo Windows Server 2016 desempe√±a el papel de un enrutador para simular una red de oficina y su plataforma de servidor, MS WAP se implementa junto con una m√°quina separada con MS ADFS y otros, por lo que no hay problema para reemplazarla con cualquier otro sistema operativo o incluso una pieza casera al gusto.  Con Windows RRAS, por cierto, las cosas se complican en el camino, en el camino tuve que lidiar con varios momentos desagradables (sobre los cuales a continuaci√≥n), por lo que si elige no gustar MS Windows Server como un enrutador, entonces con otro sistema operativo puede ser m√°s f√°cil. <br><br>  Primero crearemos una cuenta de AWS si a√∫n no tiene una.  No hay problemas con la creaci√≥n de la cuenta en s√≠, solo necesita indicar los detalles de su tarjeta de pl√°stico, de la cual se cargar√° (y luego se devolver√°) 1 USD como cheque. <br><br>  Solo dos puntos deben mencionarse aqu√≠: <br><br><ol><li>  Aseg√∫rese de ir a AWS: IAM (Identity and Access Management) y habilitar MFA (Multi-Factor Authentication) para su nueva cuenta, y a√∫n mejor, como lo recomienda AWS: cree tambi√©n una cuenta separada con MFA y contin√∫e trabajando a trav√©s de la restricci√≥n de los derechos correspondientes. ella  De lo contrario, puede terminar en una situaci√≥n desagradable cuando un troyano roba las credenciales de AWS de su PC y, por ejemplo, alguien extrae de su coraz√≥n a su costa en costosos planes de instancias de alto rendimiento ... </li><li>  Por razones pr√°cticas, se recomienda que configure una alerta de presupuesto.  Esto se hace en la configuraci√≥n de la cuenta, el elemento de men√∫ correspondiente se llama "Panel de control de facturaci√≥n y costos".  En el panel que se abre, seleccione el elemento "Presupuestos" a la izquierda y configure el presupuesto mensual planificado a gusto utilizando el asistente incorporado.  No olvide configurar una alerta all√≠: en caso de exceder la cantidad especificada, recibir√° un mensaje de inmediato.  Esto es √∫til si no ha trabajado con AWS antes y tiene miedo de "obtener" accidentalmente una suma redonda en el transcurso de sus experimentos. </li></ol><br>  A continuaci√≥n, necesitamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AWS: EC2</a> . <br><br>  Uno de los pasos m√°s importantes es seleccionar la regi√≥n de AWS (esencialmente un centro de datos) en el que queremos implementar nuestra m√°quina virtual.  La ubicaci√≥n afectar√° directamente la ubicaci√≥n geogr√°fica de su "enrutador virtual" y, por lo tanto, el retraso de la red al trabajar con √©l.  Esto es importante porque  AWS no proporciona migraci√≥n en vivo entre regiones (el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">servicio de migraci√≥n de servidor AWS</a> incorporado solo puede migrar algo a la nube de AWS) y en caso de un error de ubicaci√≥n, es m√°s f√°cil recrear una nueva instancia nuevamente en la ubicaci√≥n deseada.  Alternativamente, deber√° eliminar la imagen de la instancia (Imagen, EC2 incorporada) en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AWS: S3</a> (servicio de almacenamiento) y desde all√≠ extraer esta imagen a la instancia de EC2 en la nueva regi√≥n.  En mi caso, la regi√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Frankfurt</a> fue seleccionada originalmente: <br><br><img src="https://habrastorage.org/webt/8c/2s/yh/8c2syhsrly1luamcwjsvbmlnbtg.png" alt="imagen"><br><br>  Creamos una nueva instancia, seleccione la opci√≥n <b>"Solo nivel gratuito"</b> a la izquierda, que limitar√° la lista de im√°genes propuesta a solo las gratuitas.  Eleg√≠ <b>"Amazon Linux AMI 2018"</b> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">m√°s informaci√≥n</a> sobre las distribuciones de Linux en AWS), porque  en "Amazon Linux 2 AMI" xl2tpd no funciona correctamente debido a la naturaleza del n√∫cleo ensamblado por Amazon. <br><br>  Puede elegir cualquier otra imagen de Linux que le sea familiar de la lista provista.  Tambi√©n puede profundizar en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AWS Marketplace</a> y buscar im√°genes alternativas all√≠, solo lea cuidadosamente los comentarios sobre el costo: la imagen en s√≠ y los recursos inform√°ticos pueden ser gratuitos, pero tendr√° que pagar m√°s por el espacio en disco, etc. <br><br>  Seleccionamos el tipo propuesto <b>"t2.micro"</b> , proporciona 1 vCPU, 1 GB de memoria, 8-30 GB (SSD / Magnetic) de espacio en disco y 750 horas de trabajo gratis cada mes durante un a√±o.  Suficiente para nuestro "enrutador virtual".  Vale la pena se√±alar que el espacio libre en disco y el tiempo de trabajo se gastan en todas las instancias, por lo que en caso de dificultades financieras, no necesita crearlos / ejecutarlos m√°s de lo que puede pagar, excepto gratis. <br><br>  Haga clic en el asistente "Siguiente ...", en el tercer paso dejamos todos los valores predeterminados, en el cuarto estamos de acuerdo con los 8 gigabytes de disco predeterminado de SSD propuestos y la instancia comienza con el bot√≥n Revisar e iniciar: <br><br><img src="https://habrastorage.org/webt/ta/dv/of/tadvofw_fyn1iozzpgvxiwaswla.png"><br><br>  Despu√©s de eso, obtendremos una ventana con un mensaje sobre la creaci√≥n de un nuevo par de claves para conectarse a la nuestra a trav√©s de SSH y una propuesta para nombrar este par y descargar la clave privada en formato * .pem.  Realmente lo necesitaremos en el futuro, por lo que es aconsejable guardarlo inmediatamente en un lugar seguro.  Si se pierde este archivo, perder√° la capacidad de conectarse de forma remota a las instancias que lo utilizan.  En EC2, no hay forma de regenerarlo nuevamente para una instancia existente, la √∫nica forma es conectar el disco de la instancia a otra instancia que tenga acceso y posterior edici√≥n de claves. <br><br>  Despu√©s de un tiempo, se lanzar√° la instancia, tendr√° una direcci√≥n IPv4 interna (privada) y externa (p√∫blica), as√≠ como dos nombres DNS correspondientes. <br>  Configure inmediatamente los grupos de seguridad para garantizar el flujo de tr√°fico para los servicios que necesita: <br><br><img src="https://habrastorage.org/webt/ex/rh/7y/exrh7yxlnlqsb36u5pdqifxrdb8.png"><br><br>  Necesitaremos los puertos entrantes abiertos 500, 1701, 4500 UDP y 4500 TCP para organizar el t√∫nel VPN IPSec L2TP, HTTP y HTTPS para publicar servicios de granja dom√©stica, el acceso externo a la instancia a trav√©s de SSH se cre√≥ autom√°ticamente al crear la instancia, porque  B√°sicamente, EC2 no contiene ning√∫n acceso integrado a la consola de la m√°quina virtual a trav√©s de su interfaz web.  Solo existe la posibilidad de ver la pantalla: <br><br><img src="https://habrastorage.org/webt/zr/g4/uw/zrg4uw5t3_nihfjq8qaipfwxfkw.png"><br><br>  Es recomendable configurar el acceso a trav√©s de VPN y SSH solo desde la direcci√≥n IP de su hogar.  El orden de las reglas en los grupos de seguridad no importa. <br><br>  Dado que utilizaremos m√∫ltiples documentos NAT, AWS recomienda deshabilitar la <b>"Comprobaci√≥n de origen / destino de red"</b> en este caso: <br><br><img src="https://habrastorage.org/webt/oa/6m/mg/oa6mmgeh6dyzg6sjxzdj0lkzbne.png"><br><br>  Como utilizaremos el t√∫nel IPSec, y no el transporte, esta configuraci√≥n no tiene mucho sentido para nosotros, pero por si acaso, es mejor desactivarla. <br><br>  Con√©ctese a trav√©s de SSH a nuestra instancia.  Si utiliza un cliente SSH gr√°fico, por ejemplo, PuTTY, para conectarse, la ayuda integrada sobre la conexi√≥n, llamada por RMB en la instancia -&gt; Conectar, lo ayudar√° a: <br><br><img src="https://habrastorage.org/webt/dc/tm/s1/dctms1dbkmpble2n5vojwkdq3py.png"><br><br>  Amazon Linux mantiene un pedigr√≠ de RHEL y CentOS, por lo que se utiliza el administrador de paquetes yum. <br><br>  Todas las operaciones que se describen a continuaci√≥n deben realizarse con escalamiento de privilegios, por lo tanto, las precedemos con sudo o simplemente trabajamos como root. <br><br>  Primera actualizaci√≥n: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># yum update</span></span></code> </pre> <br>  Como software para organizar un servidor VPN, usaremos una combinaci√≥n de libreswan y xl2tpd. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LibreSwan</a> (fork de Openswan y un an√°logo de strongSwan) es una implementaci√≥n popular de VPN IPSec e IKE (Internet Key Exchange).  Puede omitir correctamente varios tipos de NAT y sus combinaciones, lo cual es especialmente importante al organizar el t√∫nel IPSec. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">xl2tpd</a> tambi√©n se usa ampliamente, su principal ventaja es la capacidad incorporada para autenticar y transmitir los par√°metros de conexi√≥n del cliente a trav√©s de ppp cuando se conecta (por ejemplo, direcciones IP, configuraci√≥n de ruta predeterminada, servidores DNS, etc.), lo que elimina la necesidad de una implementaci√≥n adicional de DHCP y Radius para nuestro tareas simples <br><br>  Dado que xl2tpd no se encuentra en los repositorios est√°ndar de Amazon Linux, debemos habilitar EPEL (Paquetes adicionales para Enterprise Linux): <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># yum-config-manager --enable epel</span></span></code> </pre> <br><h3>  Instale los paquetes necesarios: </h3><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># yum install libreswan xl2tpd -y</span></span></code> </pre> <br><h3>  Habilitar el enrutamiento a nivel de kernel: </h3><br>  en el archivo <b>/etc/sysctl.conf</b> escribimos: <br><br><pre> <code class="bash hljs">net.ipv4.ip_forward = 1 net.ipv4.conf.all.accept_redirects = 0 net.ipv4.conf.all.secure_redirects = 1 net.ipv4.conf.all.send_redirects = 0 net.ipv4.conf.default.accept_redirects = 0 net.ipv4.conf.default.secure_redirects = 0 net.ipv4.conf.default.send_redirects = 0 net.ipv4.conf.lo.accept_redirects = 0 net.ipv4.conf.lo.secure_redirects = 0 net.ipv4.conf.lo.send_redirects = 0 net.ipv4.conf.eth0.accept_redirects = 0 net.ipv4.conf.eth0.secure_redirects = 0 net.ipv4.conf.eth0.send_redirects = 0 net.ipv4.conf.all.rp_filter = 0 net.ipv4.conf.default.rp_filter = 0 net.ipv4.conf.eth0.rp_filter = 0</code> </pre><br>  Deshabilite <b>rp_filter</b> en la sesi√≥n actual para no reiniciar: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># for f in /proc/sys/net/ipv4/conf/*/rp_filter ; do # echo 0 &gt; $f # done</span></span></code> </pre><br>  Aplicamos la configuraci√≥n y verificamos la disponibilidad de enrutamiento: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># sysctl -p /etc/sysctl.conf # cat /proc/sys/net/ipv4/ip_forward</span></span></code> </pre><br>  Necesitamos asegurar el reenv√≠o de los paquetes entrantes (con respecto a la interfaz p√∫blica de la instancia) desde los puertos de los servicios requeridos a nuestro futuro t√∫nel IPSec.  Para esto, es necesario no solo <b>quitar</b> la NAT de estos paquetes, sino tambi√©n enmascarar en la interfaz <b>ppp0</b> . <br>  Usaremos las funciones incorporadas de <b>iptables</b> para esto, que en el caso de Amazon Linux est√° configurado inicialmente para permitir completamente cualquier tr√°fico en cualquier direcci√≥n: <br><br>  hacer DNAT de los puertos requeridos: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># iptables -t nat -A PREROUTING -p tcp -i eth0 --dport 80 -j DNAT --to-destination 10.100.0.2:80 # iptables -t nat -A PREROUTING -p tcp -i eth0 --dport 443 -j DNAT --to-destination 10.100.0.2:443</span></span></code> </pre> <br>  reenv√≠e todos los paquetes que llegaron a estos puertos a la direcci√≥n de puerta de Windows: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># iptables -A FORWARD -p tcp -d 10.100.0.2 --dport 80 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT # iptables -A FORWARD -p tcp -d 10.100.0.2 --dport 443 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT</span></span></code> </pre> <br>  enmascarar estos paquetes: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE</span></span></code> </pre><br>  Es aconsejable mantener las reglas de iptables para que se ajusten autom√°ticamente cuando se reinicia la instancia: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># service iptables save</span></span></code> </pre> <br>  En este caso, utilizamos el DNAT (Destino NAT) del puerto TCP requerido desde la interfaz de red eth0 de la instancia en la direcci√≥n IPv4 10.100.0.2, que es la direcci√≥n en la interfaz ppp del servicio RRAS de nuestra puerta de Windows en el hipervisor dom√©stico. <br><br>  El siguiente es un punto muy importante: dado que los servicios dentro del hipervisor deben poder responder a las solicitudes recibidas de la instancia de AWS, es necesario proporcionar enmascaramiento (reemplazar la direcci√≥n del remitente) en la interfaz <b>ppp0</b> de la instancia antes de enviar el paquete, de lo contrario la respuesta ir√° en una direcci√≥n completamente diferente: desde la puerta de Windows en el hipervisor pasa el t√∫nel IPSec directamente al enrutador predeterminado (enrutador dom√©stico), como resultado de lo cual, por supuesto, se colocar√° en el lado del cliente del servicio, como si viniera de un recurso no solicitado.  Si se usa el enmascaramiento en el encabezado del paquete en la entrada del t√∫nel vpn, la direcci√≥n del remitente cambiar√° de la direcci√≥n en alg√∫n lugar de Internet a la direcci√≥n <b>ppp0 de la</b> interfaz de la instancia de AWS: EC2, es decir  en mi caso al 10.100.0.1 <br><br>  Como alternativa al uso de iptables para otras distribuciones de Linux o sistemas * NIX, puede recomendar el viejo rinetd, donde todo esto se hace generalmente en una l√≠nea en su configuraci√≥n <b>rinetd.conf</b> : <br><br><pre> <code class="bash hljs">&lt;ip <span class="hljs-built_in"><span class="hljs-built_in">source</span></span>&gt; &lt;port <span class="hljs-built_in"><span class="hljs-built_in">source</span></span>&gt; &lt;ip destination&gt; &lt;port destination&gt;</code> </pre> <br>  Lo √∫nico que deber√° habilitarse en este caso en el kernel es la posibilidad de enrutamiento / tr√°fico NAT. <br><br><h3>  Es hora de cocinar libreswan. </h3><br>  El archivo <b>/etc/ipsec.conf</b> contiene instrucciones para descargar todos los archivos .conf de /etc/ipsec.d/, por lo tanto, creamos un nuevo archivo de configuraci√≥n en el directorio /etc/ipsec.d/aws_vpn.conf y lo agregamos: <br><br><pre> <code class="bash hljs">config setup <span class="hljs-comment"><span class="hljs-comment">#       # plutostderrlog=/var/log/pluto.log # logfile=/var/log/pluto.log # plutodebug = all #  NAT-T -   NAT- nat_traversal=yes oe=off protostack=netkey nhelpers=0 interfaces=%defaultroute conn aws_vpn type=tunnel auto=start forceencaps=yes pfs=no fragmentation=yes authby=secret left=%defaultroute #   &lt;‚Ä¶&gt;      Elastic IP leftid=&lt;‚Ä¶&gt; #   &lt;‚Ä¶&gt;     (172...) leftsubnet=&lt;‚Ä¶&gt;/32 leftnexthop=%defaultroute leftprotoport=17/1701 rightprotoport=17/%any right=%any rightsubnetwithin=0.0.0.0/0 rightsubnet=vhost:%priv</span></span></code> </pre><br>  Para simplificar, utilizaremos la autenticaci√≥n IPSec basada en una clave compartida (PSK), no en certificados, por lo que debemos especificarla expl√≠citamente.  El archivo <b>/etc/ipsec.secrets</b> contiene instrucciones para descargar todos los archivos .secrets de <b>/etc/ipsec.d/</b> , all√≠ creamos un nuevo archivo <b>/etc/ipsec.d/aws_vpn.secrets</b> y especificamos el PSK en el formato: <br><br><pre> <code class="bash hljs">&lt;     172...&gt; %any : PSK <span class="hljs-string"><span class="hljs-string">"&lt; PSK&gt;"</span></span></code> </pre> <br>  Como un ejemplo: <br><br><pre> <code class="bash hljs">172.31.20.120 %any : PSK <span class="hljs-string"><span class="hljs-string">"Pa$</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$w0rd</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br>  Dado que la conexi√≥n ppp se usar√° dentro del t√∫nel IPSec, y existe su propia autenticaci√≥n, tambi√©n la configuramos: <br>  Ingresamos el nombre de usuario y la contrase√±a en el archivo <b>/ etc / ppp / chap-secrets</b> en el formato: <br><br><pre> <code class="bash hljs">&lt;user&gt; * &lt;password&gt; *</code> </pre> <br>  Como un ejemplo: <br><br><pre> <code class="bash hljs">aws_user * Pa$<span class="hljs-variable"><span class="hljs-variable">$w0rd</span></span> *</code> </pre> <br>  Al conectarse al cliente ppp, es posible pasar una serie de opciones para configurar la interfaz de red y la tabla de enrutamiento por su parte. <br><br>  En el archivo <b>/etc/ppp/options.xl2tpd</b> , configure estas opciones: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  xl2tpd  ip   ipcp-accept-local ipcp-accept-remote #    defaultroute   Windows-    nodefaultroute noccp auth #   RRAS  Windows-  mschap-v2   require-mschap-v2 #   MTU  MRU mtu 1410 mru 1410 lock</span></span></code> </pre><br>  Porque  no necesitamos pasar direcciones de dns, victorias, etc. al cliente.  cosas: todas las dem√°s opciones deben comentarse. <br><br>  Aqu√≠ necesitas una explicaci√≥n de la configuraci√≥n. <br><br>  El comportamiento est√°ndar para las conexiones VPN es instalar una nueva ruta predeterminada en la tabla del cliente, lo que obliga a todo el tr√°fico desde Internet a "pasar" a trav√©s del servidor vpn.  En nuestro caso, esto est√° mal, porque  El objetivo de la puerta de Windows es proporcionar acceso simulado a Internet de la red de la oficina virtual detr√°s de √©l en el hipervisor y publicar los recursos de los servicios internos hacia afuera a trav√©s de AWS: EC2, por lo que es irracional conducir todo el tr√°fico a trav√©s de la instancia a AWS: EC2.  Es por eso que debe evitar que una conexi√≥n VPN en RRAS cambie la ruta predeterminada (a un enrutador dom√©stico). <br><br>  Tambi√©n es importante elegir los valores correctos de MTU y MRU: utilizamos el t√∫nel IPSec y un tama√±o de carga √∫til demasiado grande puede no encajar en el l√≠mite de encapsulaci√≥n, lo que conducir√° a la fragmentaci√≥n y muy probablemente a un error.  Si aparece, intente en primer lugar reducir estos valores, por ejemplo, a 1280. Los valores indicados en la configuraci√≥n dada son compatibles con el cliente VPN de Windows. <br><br><h3>  Queda por configurar xl2tpd </h3><br>  Configuramos todo lo necesario en el archivo de configuraci√≥n xl2tpd <b>/etc/xl2tpd/xl2tpd.conf</b> : <br><br><pre> <code class="bash hljs">[global] port=1701 ipsec saref = yes ; ,      ;debug tunnel = yes ;debug avp = yes ;debug network = yes ;debug state = yes ;debug tunnel = yes [lns default] name = AWSvpnServer ;       ppp ip range = 10.100.0.2-10.100.0.2 ;    ppp0 AWS:EC2  <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> ip = 10.100.0.1 require authentication = yes require chap = yes refuse pap = yes pppoptfile = /etc/ppp/options.xl2tpd length bit = yes</code> </pre><br><h3>  Verificamos todo lo que hemos hecho </h3><br>  Intentamos ejecutar ambos servicios y verificar las configuraciones: <br><br><pre> <code class="bash hljs">service ipsec start service xl2tpd start ipsec verify</code> </pre><br>  Es posible que los servicios ya se est√©n ejecutando, en cuyo caso simplemente se reinician. <br><br>  Si todo est√° bien, el resultado de la verificaci√≥n de ipsec deber√≠a ser similar a la captura de pantalla: <br><br><img src="https://habrastorage.org/webt/o1/rv/br/o1rvbrchcizb6jn9qewgrj_hrn4.png"><br><br>  Puede depurar xl2tpd de forma interactiva ejecut√°ndolo con el modificador -D y colg√°ndolo en una "ventana" separada del terminal SSH utilizando la utilidad de <b>pantalla</b> : <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># xl2tpd -D</span></span></code> </pre> <br>  En este caso, el proceso xl2tpd no pasar√° a segundo plano, sino que mostrar√° todas sus actividades en la pantalla del terminal. <br><br>  En caso de problemas, debe descomentar las opciones de depuraci√≥n en las configuraciones (ver comentarios) y mirar el contenido de los registros del sistema y el archivo <b>/var/log/pluto.log</b> .  Tambi√©n vale la pena prestar atenci√≥n al contenido de la opci√≥n <b>virtual_private / virtual-private</b> en el archivo <b>/etc/ipsec.conf</b> , enumera todas las redes privadas disponibles para el intercambio de datos a trav√©s de IPSec.  Si, por alguna raz√≥n, tiene su propio direccionamiento, por ejemplo, utiliza su propio grupo de direcciones IPv4 blancas, debe realizar cambios en este par√°metro. <br><br><h3>  Pasemos al √∫ltimo paso: configurar el servicio RRAS en la puerta de Windows y verificar la publicaci√≥n de servicios desde Internet </h3><br>  Se supone que su hipervisor dom√©stico tiene una m√°quina virtual que ejecuta Windows 2012R2 o posterior, implementada en modo gr√°fico (Escritorio), y hay dos adaptadores de red en esta m√°quina virtual: uno "mira" a la red dom√©stica y tiene un enrutador dom√©stico como la ruta predeterminada y el otro en una red virtual de "oficina" local, en la que hay servicios publicados fuera.  Un dominio de Windows es opcional, a menos que, por supuesto, los propios servicios lo requieran. <br><br>  Instalamos todas las funciones necesarias con el Administrador del servidor o con el cmdlet PowerShell <b>Install-WindowsFeature</b> : <br><br><img src="https://habrastorage.org/webt/lv/vw/ul/lvvwull1qus2dpgplvaxfvjv_gq.png"><img src="https://habrastorage.org/webt/pc/ag/80/pcag80h9dc8jq6gtim8jbdoeseq.png"><br><br>  Aqu√≠ demuestro la instalaci√≥n de roles a trav√©s de gr√°ficos, porque a√∫n ser√° mucho m√°s conveniente llamar al asistente de configuraci√≥n desde el Administrador del servidor y configurar el servicio RRAS en el cronograma, lo que nos complacer√° con la buena interfaz desde el momento de Windows Server 2003: <br><br><img src="https://habrastorage.org/webt/ai/rx/hz/airxhzrmjcbvyopop4rt_rcu4ga.png"><br><br>  Haga clic en RMB en su servidor, seleccione <b>"Configurar y habilitar enrutamiento y acceso remoto"</b> y luego configure manualmente: <br><br><img src="https://habrastorage.org/webt/na/gj/bc/nagjbch0d6jxmyjzgywhnqqe17s.png"><br><br>  Si√©ntase libre de seleccionar todas las grajillas, completar el asistente e iniciar el servicio: <br><br><img src="https://habrastorage.org/webt/ku/ir/sq/kuirsqjvnmskwfjrikybcl2kacu.png"><br><br>  Primero, publiquemos nuestra red de √°rea local virtual afuera.  Vamos a IPv4-&gt; NAT y creamos una nueva interfaz, como la interfaz existente en la que se implementar√° NAT, seleccionamos la interfaz externa (que se ve en Internet, o m√°s bien en su red dom√©stica), la marcamos como p√∫blica y habilitamos NAT en ella: <br><br><img src="https://habrastorage.org/webt/gk/zh/lx/gkzhlxjyvjsgkhdnfvaqyhcn3xo.png"><img src="https://habrastorage.org/webt/kw/wx/xw/kwwxxw5u1gtezu2moo-3beokuli.png"><br><br>  Verificamos c√≥mo sale el tr√°fico de la LAN virtual a trav√©s de nuestra puerta.  No necesitamos configurar Windows Firewall todav√≠a. <br><br>  Si todo est√° bien, finalmente crearemos por lo que est√°bamos luchando, una conexi√≥n VPN a nuestra instancia de AWS y verificaremos la publicaci√≥n de nuestros servicios.  Entramos en el complemento RRAS a <b>"Interfaces de red"</b> y creamos una nueva interfaz de marcado a petici√≥n con un nombre arbitrario: <br><br><img src="https://habrastorage.org/webt/-v/04/yx/-v04yxa-najhry2evwovvtydsby.png"><br><br>  Seleccione inmediatamente la conexi√≥n L2TP, por lo que nuestra nueva interfaz no intentar√° determinar autom√°ticamente el tipo de VPN y, como resultado, se conectar√° m√°s r√°pido: <br><br><img src="https://habrastorage.org/webt/jg/mw/xb/jgmwxbg1nzbih2grilgopxrlfv8.png"><br><br>  Adem√°s en el asistente indicamos la direcci√≥n p√∫blica de nuestra nube (en mi caso, Elastic IP).  En los pr√≥ximos pasos, deje todo como est√°, porque  no necesitamos una conexi√≥n de sitio a sitio: <br><br><img src="https://habrastorage.org/webt/fa/fn/p7/fafnp7fmggqxnbmosjcpdkx1wck.png"><img src="https://habrastorage.org/webt/d1/zc/wm/d1zcwmsgomejupu7if4ynp2rqjk.png"><br><br>  Especifique la cuenta de usuario con la que configuramos la conexi√≥n ppp (en el archivo <b>/ etc / ppp / chap-secrets</b> ).  No se requiere nombre de dominio: <br><br><img src="https://habrastorage.org/webt/zc/to/ei/zctoei91of_eyji6fncqhgvcii4.png"><br><br>  El asistente crea una nueva conexi√≥n.  Ahora queda por configurarlo.  Ajustaremos el tiempo de espera inactivo (tiempo de inactividad), eliminaremos el CHAP obsoleto en favor de solo MS-CHAPv2, especificaremos la clave PSK en las "Propiedades avanzadas" (la que se configur√≥ para xl2tpd en el archivo /etc/ipsec.d/aws_vpn. secretos) y elimine IPv6: <br><br><img src="https://habrastorage.org/webt/a0/qf/tf/a0qftfatglil4qkjv-hyn5hzvlc.png"><img src="https://habrastorage.org/webt/ax/hy/hu/axhyhuwgchr9z2vhmel17jjbx1s.png"><img src="https://habrastorage.org/webt/vq/xl/qz/vqxlqzejzpi3rs0i9x0r5ol9fkg.png"><img src="https://habrastorage.org/webt/km/ro/um/kmroumh0brc2_yq3przzb-a7jm8.png"><br><br>  Despu√©s de crear una nueva interfaz, tambi√©n debe acceder a las propiedades del servicio RRAS, habilitar su pol√≠tica IPSec para L2TP y especificar su PSK.  Se les pide que reinicien el servicio RRAS. <br><br><img src="https://habrastorage.org/webt/h8/0w/zk/h80wzkz1pfymizhrqruvwrgj9di.png"><br><br>  Parece que todo se puede elevar de forma segura una nueva interfaz y disfrutar del trabajo.  Pero no  Debido al hecho de que utilizamos NAT en el lado de la instancia de AWS: EC2, el cliente VPN de Windows no podr√° conectarse a dicho nodo Nat-Traversal.  Esto es cierto tanto para las versiones de cliente (hasta la √∫ltima en el momento de escribir este art√≠culo de la compilaci√≥n de Windows 10) como para las de servidor. <br><br>  Afortunadamente, hay una soluci√≥n oficial a este problema en forma de ediciones en el registro de la configuraci√≥n del servicio de Pol√≠tica IPSec seguido de un reinicio: <br><br>  En <br>  <b>HKEY_LOCAL_MACHINE \ SYSTEM \ CurrentControlSet \ Services \ PolicyAgent</b> <br>  crear una clave DWORD (32 bits) <br>  <b>AsumeUDPEncapsulationContextOnSendRule = 2</b> <br>  y reinicie nuestra puerta de Windows. <br><br>  Desafortunadamente, el servicio RRAS es famoso por su capricho en la configuraci√≥n y operaci√≥n, e incluso despu√©s de un reinicio, realiza un inicio retrasado.  Para que pueda apresurarse despu√©s de un reinicio. <br>  Si todo se hace correctamente, la conexi√≥n funcionar√° dentro de 5-10 segundos. <br><br>  Queda por hacer la publicaci√≥n de los recursos necesarios en la puerta de Windows. <br><br>  Para la prueba, trabajaremos en la publicaci√≥n del servidor web.  Primero, consulte nuestro t√∫nel IPSec y las reglas de iptables. <br><br>  Con manos temblorosas, verificamos desde una PC arbitraria conectada a Internet: <br><br><img src="https://habrastorage.org/webt/ho/yg/c-/hoygc-blrya-dt30hytsmdruezg.png"><img src="https://habrastorage.org/webt/8v/yc/q7/8vycq7c2bsc6dqjcc3t7qzcacje.png"><br><br>  Wow, funciona ... <br><br>  Durante la instalaci√≥n de los roles necesarios, el MS IIS "nativo" se instal√≥ por la fuerza, pero queremos que sea a√∫n m√°s f√°cil.  Para esto, en una plataforma Windows, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b>HFS</b></a> (Servidor de archivos HTTP) es muy adecuado: es gratuito, no requiere instalaci√≥n, proporciona una p√°gina espec√≠fica y un encabezado HTTP, puede funcionar en un puerto arbitrario (por defecto es 8080, por lo que en nuestro caso ser√° necesario reconfigurar a 80), y tambi√©n escribe inmediatamente en su consola de d√≥nde proviene la conexi√≥n, lo cual es muy conveniente para depurar la publicaci√≥n de muchos recursos web en la plataforma Windows.  Para usarlo, primero debe detener el sitio de MS IIS para desatar el servidor incrustado del puerto requerido.  Como no queremos instalar la consola de administraci√≥n de MS IIS (de hecho, la consola de MS IIS 6 estar√° presente por compatibilidad, pero IIS 7+ no se puede controlar a trav√©s de ella), lo haremos a trav√©s de PowerShell: <br><br><pre> <code class="bash hljs">Stop-WebSite -Name <span class="hljs-string"><span class="hljs-string">"Default Web Site"</span></span></code> </pre> <br>  o simplemente a trav√©s de la utilidad de administraci√≥n iisreset: <br><br><pre> <code class="bash hljs">iisreset /stop</code> </pre> <br>  Despu√©s de eso, debe permitir el tr√°fico entrante al puerto 80 en el Firewall de Windows incorporado. <br>  Iniciamos HFS y verificamos: <br><br><img src="https://habrastorage.org/webt/ti/u2/bc/tiu2bcpm3ynhzteryfe9njxvfq4.png"><br><br>  Todo es genial  Hemos logrado que desde cualquier lugar en Internet pueda ver el servidor web que vive en nuestro hogar como una m√°quina virtual en un hipervisor arbitrario. <br><br>  El toque final: ense√±amos a RRAS a reenviar todas esas solicitudes desde el exterior a la red de la oficina virtual, donde, seg√∫n la leyenda, tenemos otro servidor web. <br><br>  Para hacer esto, volvemos al complemento de administraci√≥n RRAS en IPv4-&gt; NAT y RMB en nuestra interfaz VPN, donde seleccionamos la pesta√±a <b>"Servicios y puertos"</b> , la marcamos en la lista de servidores web y especificamos el servidor web en la red virtual interna cuyos recursos queremos publicar. internet: <br><br><img src="https://habrastorage.org/webt/d7/bq/jv/d7bqjv0ir3a2l8w4vzxpdax8nra.png"><br><br>  Haga clic en Aceptar y ... todo est√° listo.  Verificamos que todo deber√≠a funcionar bien. <br><br>  De una manera tan simple, puede publicar r√°pidamente casi todos los servicios y recursos, desde sitios, servidores de correo hasta algunas integraciones complejas.  Naturalmente, para la mayor√≠a de ellos, necesitar√° tener su propio dominio DNS con la capacidad de crear subdominios y editar los registros necesarios.  Tambi√©n es recomendable utilizar certificados SSL para publicar recursos web, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gracias a LetsEncrypt</a> y servicios similares compatibles con ACME, todo esto se puede hacer de forma completamente gratuita y con actualizaciones autom√°ticas. <br><br>  Cuando reinicia la instancia, la direcci√≥n IPv4 p√∫blica no cambia, solo cuando se detiene, pero se recomienda utilizar una direcci√≥n IPv4 est√°tica en AWS: EC2.  Est√°tica en el sentido de que cuando apaga su instancia, permanecer√° asignada a ella y no caer√° en el grupo libre general.  Por supuesto, esto es necesario para no molestarse cada vez con la reconfiguraci√≥n de registros DNS en dominios, y nadie cancel√≥ TTL con almacenamiento en cach√©.  Cuesta mucho dinero y se llama, como ya se mencion√≥ anteriormente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Elastic IP</a> . <br><br><h3>  Automatizaci√≥n de procesos primitiva. </h3><br>  Finalmente, quiero mencionar otra gran caracter√≠stica de AWS: EC2: configuraci√≥n r√°pida de instancia desplegable.  Hay muchas opciones de implementaci√≥n r√°pida en AWS: EC2, hasta servicios especiales (y bastante complejos, pero muy potentes), pero existe la m√°s simple: en el paso 3 en el asistente para crear una nueva instancia en la parte inferior se encuentra el campo <b>"Datos de usuario"</b> .  Puede colocar una secuencia de comandos en bash o incluso PowerShell (en el caso de una instancia para Windows), y esta secuencia de comandos se ejecutar√° autom√°ticamente inmediatamente despu√©s de crear la instancia. <br>  Es decir  puede modificar ligeramente todos los comandos y configuraciones anteriores para crear su propio script bash y usarlo para generar r√°pidamente un enrutador virtual AWS: EC2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Obtenga m√°s informaci√≥n sobre esta funci√≥n</a> . <br><br>  Gracias por tomarse el tiempo de leer este art√≠culo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/470047/">https://habr.com/ru/post/470047/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../470033/index.html">F # 2: Medio Ambiente FSI</a></li>
<li><a href="../470035/index.html">Generador delirante: cree textos en cualquier idioma utilizando una red neuronal</a></li>
<li><a href="../470037/index.html">F # 3: Formato de texto</a></li>
<li><a href="../470043/index.html">La ciencia detr√°s de c√≥mo nuestros cerebros funcionan mejor y c√≥mo la tecnolog√≠a y nuestro entorno pueden ayudar</a></li>
<li><a href="../470045/index.html">Visual Studio para Mac: caracter√≠sticas principales del nuevo editor</a></li>
<li><a href="../470049/index.html">Presentaci√≥n de la administraci√≥n de paquetes NuGet a nivel de soluci√≥n en Visual Studio para Mac</a></li>
<li><a href="../470051/index.html">Neurociencia: cuando nuestro cerebro funciona mejor y c√≥mo la tecnolog√≠a puede ayudarlo</a></li>
<li><a href="../470055/index.html">Presentaci√≥n de la soluci√≥n de administraci√≥n de paquetes de nivel de soluci√≥n en Visual Studio para Mac</a></li>
<li><a href="../470057/index.html">Visual Studio para Mac: 5 nuevas caracter√≠sticas interesantes</a></li>
<li><a href="../470061/index.html">C√≥mo escribir menos c√≥digo y tener m√°s sentido</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>