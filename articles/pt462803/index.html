<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëáüèø üç± ‚ñ∂Ô∏è Migra√ß√£o de um sistema ERP para outro üå∞ üë©‚Äçüéì üóª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Muitas vezes, a transi√ß√£o da empresa para um novo sistema ERP n√£o interrompe os custos financeiros da compra e conclus√£o, mas a necessidade de migrar ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Migra√ß√£o de um sistema ERP para outro</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lsfusion/blog/462803/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/_v/kp/ry/_vkpryk_u1cydvuq7w4m6hxqwq0.jpeg" alt="imagem"></div><br>  Muitas vezes, a transi√ß√£o da empresa para um novo sistema ERP n√£o interrompe os custos financeiros da compra e conclus√£o, mas a necessidade de migrar do sistema antigo.  Eles t√™m centenas ou mesmo milhares de usu√°rios que realizam seus processos de neg√≥cios em um programa e, de alguma forma, precisam ser transferidos para outro sem interrup√ß√£o nos neg√≥cios. <br><br>  Nos √∫ltimos anos, seguimos esse caminho v√°rias dezenas de vezes e j√° desenvolvemos a maneira menos dolorosa de fazer isso. <br><a name="habracut"></a><br><h3>  Dificuldades </h3><br><blockquote>  O dia em que Bison honrou sua vila com sua presen√ßa, tornou-se para voc√™ a coisa mais importante na vida.  Mas para mim era ter√ßa-feira. <br>  - Bayson, lutador de rua <br></blockquote><br>  O processo de transi√ß√£o geralmente √© complicado pelo fato de muitos funcion√°rios especialmente impression√°veis ‚Äã‚Äãdo cliente estarem em p√¢nico pela primeira vez, pois para eles essa √© provavelmente a primeira migra√ß√£o em sua carreira.  Para n√≥s, esse √© um evento comum, que, em regra, ocorre de acordo com o mesmo cen√°rio. <br><br>  Quando qualquer pessoa troca um produto por outro, a primeira coisa que ele percebe √© que foi <i>tirado</i> dele e ainda n√£o percebe o que <i>recebeu</i> .  Portanto, muitas vezes a primeira rea√ß√£o √©: "que bobagem voc√™ me colocou aqui - fa√ßa como foi".  Na pr√°tica, tivemos uma situa√ß√£o em que um usu√°rio reclamou que n√£o estava confort√°vel com a nova a√ß√£o, o que foi feito no sistema antigo em cinco transi√ß√µes entre formul√°rios.  Mas ele aperfei√ßoou tanto o automatismo que, para uma pessoa, era realmente mais r√°pido faz√™-lo do que realizar duas a√ß√µes novas, mas muito mais simples. <br><br>  Outra dificuldade √© que, durante a transi√ß√£o, os clientes gostam de mudar os processos de neg√≥cios para sua vis√£o.  Isso deve ser tratado com muito cuidado, pois os processos atuais "como est√£o" s√£o garantidos para funcionar.  Os processos incorporados no produto, como regra, tamb√©m funcionam, pois s√£o usados ‚Äã‚Äãpor outros clientes.  Mas novas inven√ß√µes podem, em teoria, parecer bonitas, mas, na pr√°tica, elas v√£o se esvair, por causa das quais todo o processo pode ser interrompido. <br><br><h3>  Cen√°rios </h3><br>  Na pr√°tica, existem dois cen√°rios principais para mudar de um sistema para outro: <br><br><h4>  Momentary </h4><br>  A data da transi√ß√£o para o novo sistema √© determinada.  Todas as fun√ß√µes s√£o desenvolvidas para descarregar dados do sistema antigo e carreg√°-los em um novo.  No dia X, a migra√ß√£o come√ßa √† noite e, de manh√£, todos os usu√°rios com todos os processos de neg√≥cios come√ßam a trabalhar no novo sistema de uma nova maneira. <br><br>  Tudo √© lindo no papel.  Mas, na pr√°tica, existem pelo menos quatro categorias de problemas: <br><br><ol><li>  <b>Treinamento</b> .  No momento da transi√ß√£o, como regra, muitos usu√°rios treinados esquecem completamente o que foram ensinados.  Eles come√ßam a cutucar tudo e, como resultado, param de trabalhar com as palavras "nada funciona".  Esse problema pode ser resolvido com a ajuda da equipe de suporte de primeira linha, que pode ajudar neste momento.  Mas haver√° tantas solicita√ß√µes no primeiro dia da transfer√™ncia que ser√° imposs√≠vel atend√™-las com o n√∫mero dispon√≠vel de funcion√°rios.  Ou voc√™ precisa ter uma maneira de expandir rapidamente o n√∫mero deles durante a transfer√™ncia, o que tamb√©m √© bastante dif√≠cil de fazer. </li><li>  <b>Melhorias e erros</b> .  Como regra, um novo sistema ERP traz novos processos de neg√≥cios (caso contr√°rio, por que alter√°-lo).  √â claro que, imediatamente antes da implementa√ß√£o, eles foram afastados de alguma forma, mas no momento de uma verdadeira "verifica√ß√£o de batalha" geralmente surge uma enorme quantidade de nuances, por causa das quais frequentemente os processos n√£o podem ser executados.  Consequentemente, novamente o n√∫mero de tais melhorias com prioridade imediata est√° crescendo como uma bola de neve, e h√° uma forte necessidade de recursos para programadores que fisicamente n√£o ser√£o capazes de fechar um n√∫mero t√£o grande de solicita√ß√µes. </li><li>  <b>Dados</b> .  Geralmente, os desenvolvedores do sistema antigo n√£o gostam muito de ajudar a enviar dados (para eles, geralmente, √© um evento triste de perder um cliente) e, se ajudarem, a qualidade do upload deixa muito a desejar.  E inconsist√™ncias, como regra, s√£o encontradas nos primeiros dias de opera√ß√£o de um novo sistema.  Como resultado, √© necess√°rio corrigir a descarga e, de alguma forma, recarregar os dados, levando em considera√ß√£o as altera√ß√µes j√° realizadas durante a opera√ß√£o. </li><li>  <b>Performance</b> .  Durante o processo de teste, n√£o √© t√£o f√°cil reproduzir a carga completamente "real" no sistema.  Se a funcionalidade b√°sica do produto j√° est√° geralmente testada e mostra par√¢metros de desempenho normais, as melhorias "pessoais" do cliente podem, em determinadas circunst√¢ncias, "sentar" o servidor.  Isso, por sua vez, tamb√©m requer recursos do programador para otimiza√ß√£o. </li></ol><br>  Quando todos esses quatro problemas ocorrem no primeiro dia ou semana da transi√ß√£o ao mesmo tempo, as perdas de neg√≥cios n√£o podem ser evitadas.  Portanto, esse esquema funciona apenas efetivamente em pequenos projetos.  Por exemplo, quando o n√∫mero de usu√°rios √© menor que cem e os processos n√£o s√£o cr√≠ticos. <br><br>  √â claro que voc√™ pode gastar mais recursos em treinamento e teste do sistema imediatamente antes da transi√ß√£o e haver√° menos problemas.  Mas na vida, os funcion√°rios do cliente geralmente se referem a esses processos "sem mangas" e confiam no "talvez".  Ou eles est√£o simplesmente enganados, esperando que um determinado processo possa ganhar dinheiro em um determinado ambiente, mas, de fato, parece que pequenas nuances reduzir√£o tudo. <br><br><h4>  Gradual </h4><br>  Com essa abordagem, o sistema √© dividido <i>horizontalmente</i> (por processos) ou <i>verticalmente</i> (por usu√°rios) em partes, que s√£o introduzidas uma ap√≥s a outra.  Isso permite espalhar todos os problemas acima com o tempo e resolv√™-los √† medida que eles recebem menos energia. <br><br>  Al√©m disso, descreverei o processo de migra√ß√£o de um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sistema ERP</a> baseado na plataforma aberta e gratuita da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lsFusion</a> para uma cadeia de lojas de varejo, uma vez que nos especializamos neste setor.  Mas aplicamos o mesmo princ√≠pio a clientes de outras √°reas. <br><br><h3>  Leitura de dados </h3><br>  Normalmente, para empresas que suportam o sistema antigo, a not√≠cia de substituir o programa e perder um cliente √© um grande golpe.  Alguns caem em um estado inadequado e come√ßam a amea√ßar o cliente com uma parada imediata do suporte.  Naturalmente, isso nunca funciona e nunca pode reverter a decis√£o.  No entanto, raramente √© poss√≠vel concordar com aqueles que suportam o sistema antigo que eles forne√ßam tabelas onde todos os dados necess√°rios para a transi√ß√£o est√£o armazenados. <br><br>  Primeiro, voc√™ precisa determinar em qual DBMS as informa√ß√µes necess√°rias est√£o armazenadas e como acess√°-las.  Nos √∫ltimos anos, tivemos que lidar com os seguintes DBMSs com os quais os sistemas antigos funcionavam: <br><br><ul><li>  <b>Acesso</b>  Como a plataforma √© escrita em Java, foi poss√≠vel desenterrar uma biblioteca antiga que sabia como se conectar ao mdb (embora apenas para leitura).  Funcionou muito peculiarmente porque, apesar dos filtros, lia toda a tabela, mas mesmo assim era o suficiente.  Tivemos a sorte de o servi√ßo de TI do cliente conhecer a estrutura do banco de dados muito bem e nos dizer o que e onde est√° armazenado. </li><li>  <b>MS SQL</b>  O sistema antigo era o Axapta 2000.  N√≥s configuramos o acesso ao sistema de teste, onde lan√ßamos a GUI e o SQL Profiler.  Em seguida, revezamos nos diret√≥rios e analisamos as solicita√ß√µes que o Axapta gera.  Era f√°cil entender por onde exatamente essas informa√ß√µes s√£o armazenadas. </li><li>  <b>Visual Foxpro</b>  Tudo era simples, pois houve uma transi√ß√£o de nossos sistemas legados e n√£o foi dif√≠cil obter informa√ß√µes.  A √∫nica dificuldade foi encontrar uma biblioteca Java que possa funcionar n√£o com tabelas DBASE, mas com o formato Visual Foxpro. </li><li>  <b>Oracle</b>  Transi√ß√£o do programa em caixa supermag.  Trabalhamos de acordo com um esquema semelhante ao esquema Axapta: GUI e consultas no SQL Developer para as consultas mais recentes.  A estrutura b√°sica e as interfaces eram certamente muito mais simples do que em Axapta, portanto n√£o havia grandes problemas. </li><li>  <b>Progresso / OpenEdge</b> .  Transi√ß√£o do programa Gestori in a box.  Dado que o DBMS, para dizer o m√≠nimo, n√£o √© de todo popular, n√£o encontramos nenhum perfilador.  No entanto, houve um despejo nos arquivos de texto.  Isso tornou poss√≠vel simplesmente acessar a GUI do servidor de teste e pesquisar nos arquivos de texto para pesquisar dados vis√≠veis na tela.  Felizmente, no site oficial deste DBMS, h√° uma oportunidade de baixar o driver JDBC e fazer consultas ao banco de dados SQL.  Ent√£o era uma quest√£o de tecnologia. </li></ul><br>  Gra√ßas a essas abordagens, nunca tive que recorrer aos desenvolvedores do sistema antigo, que economizavam significativamente as despesas dos clientes, pois geralmente eles simplesmente distribu√≠am enormes quantias de dinheiro para coopera√ß√£o. <br><br><h3>  Dados mestre </h3><br>  Tudo come√ßa com a importa√ß√£o de dados mestre.  Em particular, no com√©rcio varejista, as importa√ß√µes de diret√≥rios de grupos de mercadorias, bens, prestadores de servi√ßos e lojas s√£o as primeiras a serem realizadas.  Com uma transi√ß√£o gradual, h√° duas abordagens para importar dados mestre: <br><br><ul><li>  Importa√ß√£o de dados √∫nicos e entrada dupla no sistema antigo e novo. </li><li>  Atualiza√ß√£o incremental cont√≠nua de dados do sistema antigo para o novo. </li></ul><br>  H√° casos em que a primeira abordagem √© usada, mas consome muito tempo e √© altamente suscet√≠vel ao fator humano, com probabilidade de erros.  Portanto, sempre usamos apenas a segunda op√ß√£o. <br><br>  Idealmente, o sistema antigo poderia acumular mudan√ßas e, de alguma forma, comunicar que precisa ser reimportado.  Mas geralmente ningu√©m muda ou modifica nada no sistema antigo.  Portanto, o √∫nico esquema de trabalho que usamos √© o seguinte: <br><br><ol><li>  H√° uma solicita√ß√£o para o diret√≥rio do sistema antigo, que l√™ todos os dados dele. </li><li>  Os dados lidos s√£o comparados com a corrente no novo sistema e as altera√ß√µes s√£o detectadas. </li><li>  As altera√ß√µes s√£o gravadas em uma √∫nica transa√ß√£o no novo sistema. </li></ol><br>  O c√≥digo na plataforma para importar o diret√≥rio do produto ter√° a seguinte apar√™ncia: <br><div class="scrollable-table"><table><tbody><tr><td><code>importItems <font color="#50a14f">' '</font> { <br> <font color="#a626a4">NEWSESSION</font> { <br> <font color="#a626a4">LOCAL</font> file = <font color="#a626a4">FILE</font> (); <br> <font color="#808080"><i>//     </i></font> <br> <font color="#a626a4">READ</font> <font color="#50a14f">'jdbc:sqlserver://localhost;databaseName=items;User=import;Password=password@SELECT id, name FROM items'</font> <font color="#a626a4">TO</font> file; <br> <br> <font color="#a626a4">LOCAL</font> id = <font color="#a626a4">STRING</font> [ <font color="#986801">20</font> ] ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#a626a4">LOCAL</font> name = <font color="#a626a4">ISTRING</font> [ <font color="#986801">100</font> ] ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">IMPORT</font> <font color="#a626a4">TABLE</font> <font color="#a626a4">FROM</font> file() <font color="#a626a4">TO</font> id, name; <br> <br> <font color="#808080"><i>//  </i></font> <br> <font color="#a626a4">FOR</font> id( <font color="#a626a4">INTEGER</font> i) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> item(id(i)) <font color="#a626a4">NEW</font> b = Item <font color="#a626a4">DO</font> { <br> id(b) &lt;- id(i); <br> } <br> <br> <font color="#808080"><i>//  </i></font> <br> <font color="#a626a4">FOR</font> id(Item b) = id( <font color="#a626a4">INTEGER</font> i) <font color="#a626a4">DO</font> { <br> name(b) &lt;- name(i); <br> } <br> <br> <font color="#808080"><i>//  ,    </i></font> <br> <font color="#a626a4">DELETE</font> Item b <font color="#a626a4">WHERE</font> b <font color="#a626a4">IS</font> Item <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> [ <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">BY</font> id( <font color="#a626a4">INTEGER</font> i)](id(b)); <br> <br> <font color="#a626a4">APPLY</font> ; <br> } <br> } <br></code> </td></tr></tbody></table></div><br>  Isso funcionar√° da seguinte maneira: <br><br><ul><li>  <i>LER</i> considera o diret√≥rio inteiro com o c√≥digo e o nome na mem√≥ria </li><li>  <i>O IMPORT gravar√°</i> todos os dados nas propriedades locais (ou seja, tabelas tempor√°rias no banco de dados) </li><li>  O primeiro ciclo criar√° todos os bens que ainda n√£o est√£o no novo banco de dados (procure pelo c√≥digo do produto).  Apesar do <i>FOR estar</i> escrito l√°, ele √© compilado em uma consulta no banco de dados, que funcionar√° apenas com tabelas tempor√°rias. </li><li>  O segundo ciclo atualizar√° os campos para todos os produtos (incluindo os rec√©m-criados).  Nesse caso, apenas os valores alterados ser√£o gravados em tabelas tempor√°rias. </li><li>  A terceira a√ß√£o <i>DELETE</i> detecta todos os bens que est√£o no novo banco de dados, mas n√£o nos dados lidos, e os exclui. </li><li>  <i>O APPLY</i> iniciar√° a transa√ß√£o e gravar√° todas as altera√ß√µes no banco de dados com base em tabelas tempor√°rias geradas por comandos anteriores. </li></ul><br>  De fato, essa a√ß√£o no momento do lan√ßamento sincroniza completamente o diret√≥rio antigo e o novo.  Ele n√£o armazena nenhuma informa√ß√£o incremental e, portanto, pode ser reiniciado a qualquer momento, mesmo que a troca anterior tenha sido conclu√≠da com erros. <br><br>  Como todas as a√ß√µes s√£o compiladas em consultas SQL sem nenhuma itera√ß√£o, tudo isso √© feito com rapidez e seguran√ßa.  Normalmente, a troca de um diret√≥rio de mercadorias de 100 a 200 mil registros levava alguns minutos.  Ao mesmo tempo, como o PostgreSQL √© versionado, nenhum bloqueio de trabalho do usu√°rio ocorre no momento. <br>  Da mesma forma, os pre√ßos dos fornecedores, matrizes de sortimento, programa√ß√µes de pedidos e outras informa√ß√µes necess√°rias para o trabalho s√£o constantemente sincronizadas.  Aqui, no entanto, pode surgir um problema de que a l√≥gica do dom√≠nio no sistema antigo n√£o coincide com a nova l√≥gica do dom√≠nio.  Por exemplo, em nosso sistema, temos um hist√≥rico de vers√µes da matriz e o conceito de n√≠veis de produto dentro de uma matriz.  Se, no sistema antigo, o sortimento atual de lojas √© armazenado como um <i>booleano</i> para a loja e as mercadorias, uma matriz √© criada para cada loja com exatamente um n√≠vel. <br><br>  Na maioria das vezes, habilitamos a a√ß√£o para sincronizar todos os diret√≥rios com o sistema antigo uma vez por hora, enquanto fornecemos ao usu√°rio a oportunidade de iniciar a troca manualmente. <br><br><h3>  O processo </h3><br>  No varejo, geralmente dividimos o processo de convers√£o <i>verticalmente entre</i> lojas e simultaneamente <i>horizontalmente</i> dos processos da loja para os processos do escrit√≥rio. <br><br>  O primeiro passo √© escolher uma loja onde a transfer√™ncia para o novo sistema come√ßar√°.  Importa saldos atuais e pre√ßos de loja do sistema antigo na forma de documentos recebidos com as quantidades e pre√ßos correspondentes: <br><br><div class="spoiler">  <b class="spoiler_title">Exemplo de c√≥digo-fonte</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code>importInventory <font color="#50a14f">' '</font> { <br> <font color="#a626a4">NEWSESSION</font> { <br> <font color="#a626a4">LOCAL</font> file = <font color="#a626a4">FILE</font> (); <br> <font color="#808080"><i>//     </i></font> <br> <font color="#a626a4">READ</font> <font color="#50a14f">'jdbc:sqlserver://localhost;databaseName=items;User=import;Password=password@SELECT idSku, quantity, idDoc, dateDoc, idDetail FROM inventory'</font> <font color="#a626a4">TO</font> file; <br> <br> <font color="#a626a4">LOCAL</font> idSku = <font color="#a626a4">STRING</font> [ <font color="#986801">20</font> ] ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#a626a4">LOCAL</font> quantity = <font color="#a626a4">NUMERIC</font> [ <font color="#986801">16</font> , <font color="#986801">3</font> ] ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#808080"><i>//  idDoc, dateDoc  idDetail -          </i></font> <br> <font color="#808080"><i>//        ,       </i></font> <br> <font color="#a626a4">LOCAL</font> idDoc = <font color="#a626a4">STRING</font> [ <font color="#986801">20</font> ] ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#a626a4">LOCAL</font> dateDoc = <font color="#a626a4">DATE</font> ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#a626a4">LOCAL</font> idDetail = <font color="#a626a4">STRING</font> [ <font color="#986801">20</font> ] ( <font color="#a626a4">INTEGER</font> ); <br> <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">IMPORT</font> <font color="#a626a4">TABLE</font> <font color="#a626a4">FROM</font> file() <font color="#a626a4">TO</font> idSku, quantity, idDoc, dateDoc, idDetail; <br> <br> <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">FOR</font> [ <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">BY</font> idDoc( <font color="#a626a4">INTEGER</font> i)](id) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> receipt(id) <font color="#a626a4">NEW</font> r = Receipt <font color="#a626a4">DO</font> { <br> id(r) &lt;- id; <br> } <br> <br> <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">FOR</font> <font color="#a626a4">INTEGER</font> i = [ <font color="#a626a4">GROUP</font> <font color="#a626a4">MIN</font> <font color="#a626a4">INTEGER</font> ii <font color="#a626a4">BY</font> idDoc(ii)](id) <font color="#a626a4">AND</font> id(Receipt r) = id <font color="#a626a4">DO</font> { <br> date(r) &lt;- dateDoc(i); <br> } <br> <br> <font color="#808080"><i>//  ,   </i></font> <br> <font color="#a626a4">FOR</font> idDetail( <font color="#a626a4">INTEGER</font> i) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> receiptDetail(idDetail(i)) <font color="#a626a4">NEW</font> d = ReceiptDetail <font color="#a626a4">DO</font> { <br> id(d) &lt;- idDetail(i); <br> } <br> <br> <br> <font color="#808080"><i>//    </i></font> <br> <font color="#a626a4">FOR</font> id(ReceiptDetail d) = idDetail( <font color="#a626a4">INTEGER</font> i) <font color="#a626a4">DO</font> { <br> receipt(d) &lt;- receipt(idDoc(i)); <br> quantity(d) &lt;- quantity(i); <br> } <br> <br> <font color="#808080"><i>//     ,      </i></font> <br> <font color="#a626a4">DELETE</font> Receipt r <font color="#a626a4">WHERE</font> id(r) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> [ <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">BY</font> idDoc( <font color="#a626a4">INTEGER</font> i)](id(r)); <br> <font color="#a626a4">DELETE</font> ReceiptDetail d <font color="#a626a4">WHERE</font> id(d) <font color="#a626a4">AND</font> <font color="#a626a4">NOT</font> [ <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> <font color="#986801">1</font> <font color="#a626a4">BY</font> idDetail( <font color="#a626a4">INTEGER</font> i)](id(d)); <br> <br> <font color="#808080"><i>//        </i></font> <br> <font color="#a626a4">APPLY</font> ; <br> } <br> } <br></code> </td></tr></tbody></table></div></div></div><br>  Algumas semanas antes do in√≠cio da loja, a importa√ß√£o da implementa√ß√£o dos sistemas POS est√° conectada.  Isso √© necess√°rio para que haja dados hist√≥ricos para a forma√ß√£o de pedidos nos primeiros dias de trabalho. <br><br>  Muitas vezes, o processo de produ√ß√£o pr√≥pria √© transferido um pouco mais tarde que os processos principais.  Nesse caso, √© implementada a descarga no antigo sistema de documentos sobre movimenta√ß√£o de mat√©rias-primas e importa√ß√£o de produtos acabados. <br><br>  No dia da transfer√™ncia, a importa√ß√£o come√ßa √† noite e, em seguida, a equipe de suporte ao cliente e nossa primeira linha de suporte s√£o enviadas para a loja.  Eles ajudam os usu√°rios a iniciar o novo sistema sem precisar fazer um pr√©-treinamento.  Nesse caso, geralmente por algum tempo, a altera√ß√£o de documentos no sistema antigo n√£o fecha, pois as pessoas est√£o enganadas e precisam da capacidade de corrigir erros.  Ap√≥s algumas semanas, os remanescentes s√£o reimportados e, em seguida, a proibi√ß√£o de altera√ß√µes no sistema antigo j√° est√° em vigor. <br><br>  Depois que todos os problemas descritos acima s√£o identificados e resolvidos na primeira loja, depois de algumas semanas outras 2-3 lojas s√£o transferidas.  Novamente uma itera√ß√£o para identificar e corrigir problemas.  E todos os outros s√£o traduzidos muito rapidamente, dependendo dos recursos do servi√ßo de suporte ao cliente do cliente.  Todo esse tempo, os dados mestre continuam sendo inseridos no sistema antigo, para que as lojas possam funcionar no sistema antigo. <br><br>  Em seguida, quando todas as lojas s√£o transferidas, gradualmente ou todas elas desativam imediatamente as importa√ß√µes do sistema antigo, e os usu√°rios come√ßam a inserir dados mestre no novo sistema. <br><br>  As informa√ß√µes de resumo dos sistemas antigo e novo s√£o obtidas na contabilidade ou no sistema de BI, em que os dois sistemas s√£o carregados ao mesmo tempo.  L√°, voc√™ pode obter relat√≥rios resumidos para o intervalo, que incluem o tempo nos sistemas antigo e novo. <br><br><h3>  Conclus√£o </h3><br>  Apesar da aparente complexidade da transi√ß√£o de um sistema para outro, tendo percorrido esse caminho v√°rias d√∫zias de vezes, voc√™ entende que, com um esquema depurado, na verdade tudo n√£o √© t√£o assustador.  Mais problemas surgem com o fato de a maioria dos funcion√°rios do cliente ser bastante conservadora e, na menor oportunidade, exigir que seja "do jeito que foi".  E aqui √© muito importante que o cliente tenha uma pessoa com autoridade suficiente que possa comparar processos antigos e novos, determinar quais s√£o mais ideais e ser capaz de "quebrar" os funcion√°rios.  Ou modifique o processo de acordo com o esquema "como estava", se ocorrer o contr√°rio. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt462803/">https://habr.com/ru/post/pt462803/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt462789/index.html">Para a Alemanha por um desenvolvedor sem ensino m√©dio</a></li>
<li><a href="../pt462793/index.html">Esteira com um elefante e um cavalo. O m√©todo c√≠clico "Prisioneiro do C√°ucaso"</a></li>
<li><a href="../pt462795/index.html">Esquema declarativo e o que h√° de errado com ele no Magento 2</a></li>
<li><a href="../pt462797/index.html">E novamente sobre as nuvens, n√£o apenas os profissionais</a></li>
<li><a href="../pt462799/index.html">RAVIS e DAB em um come√ßo baixo. DRM ofendido. O estranho futuro do r√°dio digital da Federa√ß√£o Russa</a></li>
<li><a href="../pt462805/index.html">An√°lise: como o dinheiro √© realmente protegido ao negociar na bolsa</a></li>
<li><a href="../pt462807/index.html">WinForms: erros, Holmes</a></li>
<li><a href="../pt462809/index.html">WinForms: erros, Holmes</a></li>
<li><a href="../pt462813/index.html">Ecaterimburgo, 14 de agosto - Grupo de Usu√°rios Atlassian mitap</a></li>
<li><a href="../pt462815/index.html">Meu terceiro dia com o Haiku: todo o cen√°rio come√ßa a tomar forma</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>