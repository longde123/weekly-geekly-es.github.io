<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙌🏼 💃🏿 🤖 Interacción con el servidor Asterisk desde una aplicación Java 🖕🏾 😊 🤳🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Interactuando con un servidor Asterisk desde una aplicación Java a través de la Interfaz de Administración de Asterisk (AMI) 
 Si recién está comenzan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Interacción con el servidor Asterisk desde una aplicación Java</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469491/"><h3>  Interactuando con un servidor Asterisk desde una aplicación Java a través de la Interfaz de Administración de Asterisk (AMI) </h3><br>  Si recién está comenzando a investigar en esta área, la interacción con este servidor puede parecerle algo confusa, como alguna vez me pareció. <br><br>  Para no buscar los bits de información necesarios en los foros al estilo de respuesta a preguntas, adjunto un pequeño tutorial sobre cómo interactuar con el servidor Asterisk de Java. <br><a name="habracut"></a><br>  <b>Importante: supongo que una vez que haya alcanzado la etapa de escribir el código, entonces ya tiene un servidor Asterisk en funcionamiento al que puede acceder.</b> <br><br>  <b>1) ¿Qué elegir para que sea conveniente trabajar?</b> <br><br>  Definitivamente - Asterisk Managment Interface (AMI): esta interfaz tiene una gama completa de funciones que le permiten hacer una llamada, escuchar eventos en tiempo real desde el servidor, recibir un estado de llamada e interrumpirlo si es necesario. <br><br>  <b>2) ¿Qué biblioteca conectar?</b> <br><br>  Este: <br><br><pre><code class="java hljs">&lt;dependency&gt; &lt;groupId&gt;org.asteriskjava&lt;/groupId&gt; &lt;artifactId&gt;asterisk-java&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">2.0</span></span>.4&lt;/version&gt; &lt;/dependency&gt;</code> </pre> <br>  <b>3) ¿Qué configuraciones se deben ver en el servidor?</b> <br><br>  extensions.conf: la configuración que describe el diaplan.  Estarás constantemente en contacto con él.  Si está en un lenguaje más comprensible, contiene scripts de lo que hará el servidor cuando reciba una llamada a un número específico.  Primero, se busca un contexto específico en el diaplan: se escribe entre corchetes, después de lo cual se busca un número bajo la etiqueta de este contexto con el que se está contactando. <br><br>  manager.conf - config con usuario y contraseña para su servidor Asterisk <br><br>  El contenido de esta configuración debe ser aproximadamente el siguiente: <br><br><pre> <code class="xml hljs">[user_name] secret = password read = all write = all deny=0.0.0.0/0.0.0.0 permit=0.0.0.0/255.255.255.0</code> </pre><br><ul><li>  nombre_usuario - nombre de usuario </li><li>  secreto - contraseña para ello </li><li>  denegar: direcciones IP a las que se les niega el acceso bajo este usuario </li><li>  permiso: acceso al cual está permitido.  Asegúrese de especificar la IP con la que está contactando en el permiso, ya que el aster puede rechazar su solicitud. </li></ul><br>  sip.conf: todas las troncales están registradas aquí.  Una troncal es un teléfono desde el cual llamaremos a un cliente. <br><br>  <b>4) ¿Dónde comenzar a escribir código?</b> <br><br>  Hay dos opciones: debe realizar alguna acción en el servidor Asterisk o escuchar eventos en el servidor.  Nuestra secuencia incluye ambos. <br><br>  Describimos el plan de acción: <br><br><ol><li>  Abra la conexión al servidor; </li><li>  Describimos el escenario de trabajo; </li><li>  Escuchamos eventos; </li><li>  Cierra la conexión. </li></ol><br>  En consecuencia, la conexión se inicializa durante la creación del objeto DefaultAsteriskServer: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.asteriskjava.live.AsteriskServer; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.asteriskjava.live.DefaultAsteriskServer;</code> </pre><br><pre> <code class="java hljs">AsteriskServer asteriskServer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DefaultAsteriskServer(HOSTNAME, USERNAME, PASSWORD); asteriskServer.initialize();</code> </pre><br>  Después de abrir la conexión, debemos llamar al usuario.  Llamaremos a esto un escenario de acción.  La descripción del escenario estará en una clase separada: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** *    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScenarioCall</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OriginateAction</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger log = LoggerFactory.getLogger(ScenarioCall.class); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String TRUNK; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String PHONE_FOR_RINGING; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String EXTEN_FOR_APP; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String CONTEXT_FOR_APP; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ScenarioCall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String trunk, String phoneForRinging, String extension, String context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.TRUNK = trunk; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.PHONE_FOR_RINGING = phoneForRinging; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.EXTEN_FOR_APP = extension; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.CONTEXT_FOR_APP = context; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.init(); } <span class="hljs-comment"><span class="hljs-comment">/** *         OriginateAction */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  String callId = ValidValues.getValidCallId(this.PHONE_FOR_RINGING); //    String channelAsterisk = ValidValues.getValidChannel(this.TRUNK, this.PHONE_FOR_RINGING); this.setContext(CONTEXT_FOR_APP); this.setExten(EXTEN_FOR_APP); this.setPriority(1); this.setAsync(true); this.setCallerId(callId); this.setChannel(channelAsterisk); log.info("Create Scenario Call: phone '{}',chanel '{}',context '{}',extension '{}'", callId, channelAsterisk, CONTEXT_FOR_APP, EXTEN_FOR_APP); } }</span></span></code> </pre><br>  ¿Qué necesitamos entender en este escenario?  Primero, se crea una conexión troncal.  Una troncal es el número desde el cual llamará al suscriptor.  Después de eso, se crea una conexión entre la troncal y el suscriptor, después de eso, la conexión entre el suscriptor y quién más necesita está allí. <br><br>  Está en ese orden. <br><br><pre> <code class="plaintext hljs">this.setContext(CONTEXT_FOR_APP)</code> </pre>  El valor transmitido: el contexto en el que buscaremos el número de teléfono con el que desea asociar al suscriptor (desde extensiones.conf). <br><br><pre> <code class="plaintext hljs">this.setExten(EXTEN_FOR_APP)</code> </pre>  Valor transmitido: el script que se ejecutará después de contactar al suscriptor (desde extensiones.conf). <br><br><pre> <code class="plaintext hljs">this.setCallerId(callId)</code> </pre>  Valor transmitido: el número de nuestro suscriptor <br><br><pre> <code class="plaintext hljs">this.setChannel(channelAsterisk)</code> </pre>  Valor transmitido: canal de comunicación establecido, por lo general se ve así: trunk_name / phone_user. <br><br>  ¿Dónde buscar trunk_name?  Hay una configuración sip.conf en el servidor de asterisco: todas las troncales están registradas allí. <br><br>  Crea una llamada: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (asteriskServer .getManagerConnection().getState().equals(ManagerConnectionState.CONNECTED) || asteriskServer .getManagerConnection().getState().equals(ManagerConnectionState.CONNECTING) || asteriskServer .getManagerConnection().getState().equals(ManagerConnectionState.INITIAL)) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { ScenarioCall scenarioCall = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScenarioCall(trank, phone, extension, context); CallBack callBackForScenarioCall = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CallBack(); asteriskServer.originateAsync(scenarioCall, callBackForScenarioCall); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ManagerCommunicationException e) { <span class="hljs-comment"><span class="hljs-comment">//   , StateConnection    RECONNECTING,     } }</span></span></code> </pre><br>  Creamos una llamada, pero ¿cómo rastrearla dinámicamente? <br><br>  Se hacen dos cosas para esto: se pasa una instancia de la clase CallBack en el método originateAsync <br>  y se cuelga un oyente en el servidor, que fusionará todo lo que nos suceda. <br><br>  Se necesita un oyente porque la clase CallBack no le notificará el final de la llamada cuando el usuario ya ha hablado, ni le notificará que el usuario aún podría transferirse a otro lugar. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** *        asteriskConnection.originateAsync  *  CallBack -     ,     *  originateAsync. CallBack      , *       ,    onNoAnswer ,  *     onBusy,     ,  onFailure,  . *        . ,      *      (      ,    ) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CallBack</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OriginateCallback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *     PRERING,       * OriginateCallback -    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ChannelState resultCall = ChannelState.PRERING; <span class="hljs-comment"><span class="hljs-comment">/** *    ,   .         */</span></span> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDialing</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AsteriskChannel asteriskChannel)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   ,  resultCall, //   asteriskChannel    null, //    resultCall   //   } /** *   .      *      6 - setStatus */ @Override public void onSuccess(AsteriskChannel asteriskChannel) { //   , asteriskChannel   null, // asteriskChannel.getState()      ChannelState.UP //   } /** *      ,    *      7 - setStatus () */ @Override public void onNoAnswer(AsteriskChannel asteriskChannel) { //   , //   asteriskChannel    null, //    resultCall   //   } /** *   *      7 - setStatus () */ @Override public void onBusy(AsteriskChannel asteriskChannel) { //   , //   asteriskChannel    null, //    resultCall   //   } /** *      */ @Override public void onFailure(LiveException e) { //     , //     , // onFailure      } }</span></span></code> </pre> <br>  <b>¿Cómo colgar a un oyente en un asterisco?</b> <br><br>  Para hacer esto, cree una clase de implementación AsteriskServerListener, PropertyChangeListener. <br>  Para la conexión creada, a través de una instancia de la clase AsteriskConnection, implementamos: <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.asteriskConnection.addAsteriskServerListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.callBackEventListener);</code> </pre> <br>  this.callBackEventListener: una instancia de nuestra clase de escucha, nacida de: <br><br><pre> <code class="java hljs">** *    Asterisk *  PropertyChangeListener   ,     . *  AsteriskServerListener   ,     AsteriskConnection. */ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CallBackEventListener</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AsteriskServerListener</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PropertyChangeListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNewAsteriskChannel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AsteriskChannel channel)</span></span></span><span class="hljs-function"> </span></span>{ channel.addPropertyChangeListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNewMeetMeUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MeetMeUser user)</span></span></span><span class="hljs-function"> </span></span>{ user.addPropertyChangeListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNewQueueEntry</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AsteriskQueueEntry user)</span></span></span><span class="hljs-function"> </span></span>{ user.addPropertyChangeListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onNewAgent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AsteriskAgent asteriskAgent)</span></span></span><span class="hljs-function"> </span></span>{ asteriskAgent.addPropertyChangeListener(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/** *    .   {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> PropertyChangeEvent} *    , *        , *        CallBack * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> propertyChangeEvent      */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">propertyChange</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PropertyChangeEvent propertyChangeEvent)</span></span></span><span class="hljs-function"> </span></span>{ findEventEndCall(propertyChangeEvent); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findEventEndCall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PropertyChangeEvent event)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (event.getSource() <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> AsteriskChannel) { AsteriskChannel callBackChannel = (AsteriskChannel) event.getSource(); String callId = getStringWithOnlyDigits(callBackChannel.getCallerId().toString()); callId = ValidValues.getValidCallId(callId); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (callBackChannel.getState().toString().equals(<span class="hljs-string"><span class="hljs-string">"HUNGUP"</span></span>) &amp;&amp; event.getOldValue().toString().contains(<span class="hljs-string"><span class="hljs-string">"RINGING"</span></span>)) { <span class="hljs-comment"><span class="hljs-comment">//      callBackChannel.removePropertyChangeListener(this); //     } else if (callBackChannel.getState().toString().equals("HUNGUP") &amp;&amp; event.getOldValue().toString().contains("UP")) { //     callBackChannel.removePropertyChangeListener(this); //     } else if (callBackChannel.getState().toString().equals("HUNGUP")) { //      callBackChannel.removePropertyChangeListener(this); //     } } } private String getStringWithOnlyDigits(String strForParse) { String result = ""; if (strForParse != null &amp;&amp; !strForParse.isEmpty()) { CharMatcher ASCII_DIGITS = CharMatcher.anyOf("&lt;&gt;").precomputed(); result = ASCII_DIGITS.removeFrom(strForParse.replaceAll("[^0-9?!]", "")); } return result; } }</span></span></code> </pre><br>  Le aconsejo al principio que solo se comprometa, lo que viene a propertyChange y mire PropertyChangeEvent, será un montón de todo lo que sucede en el servidor.  No filtra la información en absoluto.  Por lo tanto, la conclusión: cuelgue al oyente lo menos posible.  No para cada llamada, porque puedo hacerlo incluso en la clase OriginateCallback, por lo que encontré.  Esto es inútil  Mira qué objetos PropertyChangeEvent te llegan, mira el tipo de campos allí y cuáles necesitas.  A continuación, bienvenido al mundo del procesamiento de la información. <br><br>  Un poco sobre validación de datos. <br><br>  En OriginateAction.setChannel - se pasa el nombre del tronco / usuario del teléfono <br>  phone_user: si es ruso, debe comenzar con una cifra de ocho, si el número internacional tiene un signo más. <br><br>  En OriginateAction.setCallerId: el número de teléfono del cliente se transmite, <br>  luego en CallBackEventListener vendrá en callBackChannel.getCallerId (). <br><br>  Lo tomaré así: <br><br><pre> <code class="java hljs">String callId = getStringWithOnlyDigits(callBackChannel.getCallerId().toString());</code> </pre><br>  Al final, no te olvides de: <br><br><pre> <code class="java hljs">asteriskServer.shutdown();</code> </pre><br>  Si necesita interrumpir cualquier llamada, en la clase CallBackEventListener <br>  al canal de comunicación existente que realizamos: <br><br><pre> <code class="java hljs">callBackChannel.hangup();</code> </pre><br>  Un tutorial tan simple resultó.  A primera vista, por supuesto, es muy simple, pero créanme, toma mucho tiempo y nervios encontrar información, posponer todos los métodos y dejar de funcionar. <br><br>  ¡Buena suerte con tus servidores Asterisk! <br><br>  Lectura adicional: <br><br>  1) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tutorial Asterisk-Java</a> <br><br>  2) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Interfaz de gestión de asterisco (AMI)</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/469491/">https://habr.com/ru/post/469491/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../469467/index.html">C ++ vs C #</a></li>
<li><a href="../469471/index.html">"5 centavos" para hablar sobre Sorts</a></li>
<li><a href="../469475/index.html">El auge y la caída de Flash, el complemento molesto que dio forma a la web moderna</a></li>
<li><a href="../469477/index.html">Es hora de que Apple deje de comparar iPad con PC</a></li>
<li><a href="../469479/index.html">¿De dónde viene la probabilidad cuántica?</a></li>
<li><a href="../469493/index.html">¡Haga que C ++ sea genial otra vez! .. en Tula</a></li>
<li><a href="../469495/index.html">Nuevos enfoques para construir ACS usando tecnologías WEB</a></li>
<li><a href="../469497/index.html">Crea niveles isométricos en 2D con el sistema Tilemap</a></li>
<li><a href="../469499/index.html">Cómo conquistamos Parallels Inicie sesión con Apple</a></li>
<li><a href="../469503/index.html">Ciberseguridad: protegemos los datos de suscriptores de fugas en 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>