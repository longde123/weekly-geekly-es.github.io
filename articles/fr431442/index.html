<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéº üë®‚Äç‚úàÔ∏è ü•° Mise √† jour de WD Black NVMe: de quoi la 3D NAND est-elle vraiment capable? ü•ß üë©üèæ‚Äçüíª üåã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selon les normes du march√© des composants informatiques, Western Digital a commenc√© √† d√©velopper le segment des disques SSD relativement r√©cemment: si...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mise √† jour de WD Black NVMe: de quoi la 3D NAND est-elle vraiment capable?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wd/blog/431442/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/vu/r2/sf/vur2sfib0ycuntpakmn2ua_hwci.jpeg"></div><br>  Selon les normes du march√© des composants informatiques, Western Digital a commenc√© √† d√©velopper le segment des disques SSD relativement r√©cemment: si nous omettons les premi√®res tentatives sous la forme de Silicon Edge Blue (2009) et de l'hybride WD Black SSHD (2013), le point de d√©part peut √™tre appel√© le 11 octobre 2016, lorsque l'annonce ligne de disques SATA WD Green et Blue SSD, et un peu plus tard est venu le SSD WD Black NVMe √† haute vitesse, destin√© aux passionn√©s.  Depuis, 2 ans se sont √©coul√©s.  Pendant ce temps, nous avons repens√© les installations de production pour produire une NAND 3D innovante, sans un certain nombre d'inconv√©nients de la m√©moire flash plane, et mis √† jour la gamme de mod√®les de disques SSD.  La Black Series a √©galement √©volu√©: le 4 juin 2018, nous avons pr√©sent√© la nouvelle g√©n√©ration de SSD WD Black 3D NVMe.  Quels sont les avantages de la transition vers un nouveau processus de fabrication et en quoi les p√©riph√©riques NVMe sont-ils diff√©rents de SATA? <a name="habracut"></a><br><br>  Le SSD WD Black 3D NVMe a clairement d√©montr√© tous les avantages de la nouvelle architecture de puces de m√©moire flash et d'un contr√¥leur redessin√©, ce qui a permis d'augmenter consid√©rablement les performances des disques, comme le montre avec √©loquence le tableau ci-dessous. <br><br>  <b><i>Comparaison des performances des SSD WD Black NVMe des premi√®re et deuxi√®me g√©n√©rations sur l'exemple des mod√®les 500 Go</i></b> <br><table><tbody><tr><td><p>  Num√©ro de mod√®le </p><br></td><td><p>  WDS512G1X0C </p><br></td><td><p>  WDS500G2X0C </p><br></td></tr><tr><td><p>  Facteur de forme </p><br></td><td colspan="2"><p>  M.2 2280 </p><br></td></tr><tr><td><p>  Interface </p><br></td><td colspan="2"><p>  PCI Express 3.0 x4 - NVMe </p><br></td></tr><tr><td><p>  Puces m√©moire </p><br></td><td><p>  SanDisk 15nm 128Gb TLC NAND </p><br></td><td><p>  SanDisk NTC TLC BiCS3 3D 64 Go 256 Go </p><br></td></tr><tr><td><p>  Contr√¥leur </p><br></td><td><p>  Marvell 88SS1093 </p><br></td><td><p>  SanDisk 20-82-007011 </p><br></td></tr><tr><td><p>  Tampon </p><br></td><td><p>  LPDDR3-1600, 512 Mo </p><br></td><td><p>  DDR4-2400, 512 Mo </p><br></td></tr><tr><td><p>  Vitesse de lecture s√©quentielle, Mo / s </p><br></td><td><p>  2050 </p><br></td><td><p>  3400 </p><br></td></tr><tr><td><p>  Vitesse d'√©criture s√©quentielle, Mo / s </p><br></td><td><p>  700 </p><br></td><td><p>  2500 </p><br></td></tr><tr><td><p>  Vitesse de lecture al√©atoire (blocs de 4 Ko), IOPS </p><br></td><td><p>  170 000 </p><br></td><td><p>  410 000 </p><br></td></tr><tr><td><p>  Vitesse d'√©criture al√©atoire (blocs de 4 Ko), IOPS </p><br></td><td><p>  130 000 </p><br></td><td><p>  330 000 </p><br></td></tr><tr><td><p>  Ressource d'enregistrement, TB </p><br></td><td><p>  160 </p><br></td><td><p>  300 </p><br></td></tr></tbody></table>  Comme vous pouvez le voir, la transition vers le nouveau processus de fabrication a entra√Æn√© une augmentation de pr√®s de 40% de la productivit√© en lecture, une multiplication par quatre des enregistrements et des op√©rations al√©atoires, et la dur√©e de vie des produits a presque doubl√©, ce qui, bien s√ªr, s√©duira les cr√©ateurs de contenu et les joueurs.  Soit dit en passant, en particulier pour les joueurs les plus hardcore et ceux dont le travail est li√© au traitement vid√©o, nous avons publi√© un produit phare de t√©raoctets qui peut d√©j√† se targuer de 500 000 IOPS en lecture et 400 000 - en √©criture! <br><br>  Les r√©sultats sont vraiment impressionnants et la situation avec les versions SATA des disques SSD est encore plus √©trange.  Certes, ceux qui ont suivi le d√©veloppement de la technologie 3D NAND ont √©t√© d√©√ßus de lire les chiffres: <br><br><ul><li>  vitesse de lecture s√©quentielle - 560 Mo / s contre 545 auparavant; </li><li>  vitesse d'√©criture s√©quentielle - 530 Mo / s contre 525; </li><li>  vitesse de lecture al√©atoire - 95 000 IOPS contre 100 000; </li><li>  vitesse d'√©criture al√©atoire - 84 000 IOPS contre 80 000. </li></ul><br>  C'est d√©routant, non?  Toutes choses √©tant √©gales par ailleurs, dans le cas de SATA, les performances sont rest√©es quasiment inchang√©es, mais quel √©tait alors l'int√©r√™t de la modernisation?  En bref - en augmentant le volume dans le facteur de forme pr√©c√©dent, ainsi qu'en augmentant la tol√©rance aux pannes des lecteurs, dont nous avons parl√© en d√©tail dans l'un des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documents</a> pr√©c√©dents <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur 3D NAND</a> .  Quant aux indicateurs de vitesse, h√©las - tout d√©pend des caract√©ristiques de l'interface elle-m√™me, qui ne permettent tout simplement pas de r√©v√©ler tout le potentiel de la technologie.  Nous en reparlerons aujourd'hui. <br><br><h2>  Quelques mots sur SATA, AHCI et NVMe </h2><br>  Il y a longtemps, il y a plusieurs d√©cennies, les disques durs des ordinateurs personnels utilisaient l'interface ST-506/412, qui a obtenu son nom en l'honneur du premier disque dur de 5,25 pouces. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/en/pz/ut/enpzutikcf6eegi1lutg2d6axec.jpeg"></div><br>  <i>Le premier disque dur Seagate ST-506 de 5,25 pouces</i> <br><br>  Sa principale caract√©ristique √©tait que la carte HDD elle-m√™me ne contenait que des modules de commande du moteur, des actionneurs et des t√™tes de commutation, ainsi qu'un traitement analogique - tout le reste √©tait situ√© dans le contr√¥leur PC lui-m√™me.  Cette approche √©tait assez bon march√© √† mettre en ≈ìuvre, mais m√™me dans ce cas, la bande passante de l'interface √©tait inf√©rieure √† ce que les premiers ordinateurs personnels pouvaient potentiellement fournir.  Mais √† cette √©poque, il n'y avait nulle part o√π se d√©p√™cher, et en termes de prix et de qualit√©, tout allait bien pour tout le monde. <br><br>  Cependant, les progr√®s ne sont pas rest√©s immobiles et les besoins des utilisateurs priv√©s et commerciaux ont augment√© inexorablement.  Ni les performances pr√©c√©dentes ni le nombre d'appareils (le ST-506/412 ne permettait de connecter que deux disques) ne pouvaient satisfaire personne, et les d√©veloppeurs ont commenc√© √† chercher une alternative.  C'est ainsi qu'est n√© ATA, qui est devenu pendant de nombreuses ann√©es la norme pour tous les PC, ce qui a √©t√© grandement facilit√© par l'expansion d'ATAPI, qui √©tait essentiellement une impl√©mentation de l'ensemble des normes SCSI utilis√©es dans les serveurs haute performance. <br><br>  Quelques ann√©es plus tard, l'interface parall√®le s'est heurt√©e √† un plafond de 133 Mo / s.  La caract√©ristique h√©rit√©e du ST-506/412 susmentionn√© se faisait sentir: une paire de p√©riph√©riques de disque √©tait connect√©e √† un canal, il √©tait tout simplement impossible de niveler leur influence mutuelle les uns sur les autres.  Il y a donc eu le SATA, dont le d√©bit est pass√© √† 150 Mo / s avec la possibilit√© d'une croissance suppl√©mentaire, et gr√¢ce √† l'utilisation de la topologie en √©toile, chaque canal est devenu ind√©pendant. <br><br>  Dans l'ensemble, c'√©tait la topologie qui √©tait l'atout, car pour les disques durs lents de cette √©poque, m√™me un cent et demi de m√©gaoctets √©taient redondants.  Pour augmenter leurs performances, il √©tait n√©cessaire d'optimiser les requ√™tes de lecture / √©criture et de minimiser le nombre de mouvements de bloc de t√™te.  Et ici, juste √† temps, est venue l'interface avanc√©e du contr√¥leur h√¥te (AHCI) avec la prise en charge de la technologie NCQ (Native Command Queuing), c'est-√†-dire le param√®tre mat√©riel de la s√©quence de commandes.  Bien s√ªr, il n'y a pas de v√©ritable parall√©lisme ici: bien que le NCQ puisse accepter des demandes de plusieurs sources en m√™me temps, leur r√©organisation ult√©rieure s'effectue dans la m√™me file d'attente, ne contribuant qu'√† r√©duire le nombre de mouvements des t√™tes d'√©criture et le d√©lai d'attente du secteur souhait√© sur la piste.  D'un autre c√¥t√©, il n'√©tait pas n√©cessaire d'en faire plus, car la t√™te magn√©tique peut √™tre situ√©e √† un instant donn√© juste au-dessus d'un cylindre sp√©cifique. <br><br>  Avec l'av√®nement des disques SSD, la situation a chang√© exactement le contraire.  Pour les SSD, m√™me SATA III √©tait √† l'√©troit, et seul le d√©veloppement d'un nouveau protocole a aid√© √† faire la diff√©rence.  Dramatiquement: si AHCI ne prenait en charge qu'une seule file d'attente avec une profondeur de 32 demandes, l'interface de contr√¥leur d'h√¥te de m√©moire non volatile (NVMe) introduite en ao√ªt 2012 √©tait capable de traiter 65536 files d'attente avec une profondeur de 65536 chacune (c'est-√†-dire 64K) et d'utiliser des processeurs multic≈ìurs.  Ajout d'une optimisation du d√©lai d'interruption, offrant un gain de performances presque la moiti√© du temps. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/c1/dr/lt/c1drltg_gnrq4norkcdohqadego.png"></div><br>  <i>Comparaison de la latence de lecture / √©criture entre SAS, SATA et NVMe</i> <br><br>  Cependant, NVMe n'est qu'un outil, et √† lui seul n'aurait pas pu fournir des r√©sultats aussi impressionnants sans une prise en charge mat√©rielle appropri√©e. <br><br><h2>  Lib√©rez le potentiel: de quoi sont capables les nouveaux contr√¥leurs? </h2><br>  En choisissant des contr√¥leurs pour la gamme WD Black SSD mise √† jour, nous sommes arriv√©s √† une conclusion d√©cevante: les solutions propos√©es par Marvell, qui ont √©t√© utilis√©es pr√©c√©demment, ainsi que les produits de leurs concurrents, ne r√©pondent tout simplement pas √† nos besoins actuels.  La seule bonne √©tape dans cette situation a √©t√© la cr√©ation de nos propres microcontr√¥leurs, gr√¢ce auxquels nous avons re√ßu, d'une part, une totale ind√©pendance vis-√†-vis des d√©veloppeurs tiers, et d'autre part, la possibilit√© d'optimiser subtilement la plate-forme mat√©rielle pour les fonctionnalit√©s sp√©cifiques de modifications de disques sp√©cifiques. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tw/__/yv/tw__yvk1s0vy8t0s_3ngndmfbys.jpeg"></div><br>  <i>Les op√©rations sont r√©parties entre les unit√©s de calcul</i> <br><br>  Il y avait donc le SanDisk 20-82-007011, qui √©tait bas√© sur un processeur √† trois c≈ìurs de 28 nanom√®tres sur l'ARM Cortex-R, d√©j√† nettement sup√©rieur en puissance au Marvell Eldora pr√©c√©demment utilis√©.  La principale innovation a √©t√© le transfert d'une partie des op√©rations trait√©es au niveau du programme vers des unit√©s informatiques sp√©cialis√©es: il s'agit par exemple de la lecture des donn√©es de la m√©moire flash, du traitement des commandes NVMe, mais aussi du codage LDPC.  Ce dernier, soit dit en passant, est devenu √† trois niveaux et a acquis un caract√®re en couches.  En pratique, cela signifie que l'algorithme le plus appropri√© est s√©lectionn√© en fonction du degr√© d'usure des cellules de m√©moire.  Le nouveau SSD WD Black 3D NAND, qui vient d'√™tre install√© dans l'ordinateur, utilisera une option de correction d'erreurs l√©g√®re, caract√©ris√©e par une ex√©cution rapide et une consommation d'√©nergie minimale.  Au contraire, lorsque la ressource de m√©moire flash arrive √† son terme, des sc√©narios plus gourmands en ressources entreront en jeu, qui, bien qu'ils ralentissent la lecture / √©criture, emp√™cheront la perte d'informations pr√©cieuses, tout en maximisant la dur√©e de vie du SSD. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/om/oj/v9/omojv93vzzi8okimmgoi3vpikbk.png"></div><br>  <i>Le sc√©nario ECC est s√©lectionn√© en fonction de l'√©tat de la m√©moire flash</i> <br><br>  Le contr√¥leur lui-m√™me prend en charge le dernier protocole NVM Express 1.3, tandis qu'il impl√©mente 4 lignes PCI-E 3.0, et les informations sont transmises via huit canaux, il n'y a donc aucun probl√®me de bande passante. <br><br>  Nous avons √©galement travaill√© sur l'√©limination d'un autre ¬´goulot d'√©tranglement¬ª, dont le r√¥le √©tait le cache.  Comme auparavant, il existe un tampon SLC interm√©diaire ici, cependant, l'algorithme propri√©taire nCache 3.0 a maintenant appris √† passer en mode direct vers TLC et √† √©crire des donn√©es directement dans la m√©moire TLC.  Qu'est-ce que cela signifie?  Vous, comme auparavant, profitez pleinement du cache haute vitesse, cependant, si le tampon d√©borde, il n'y aura pas de baisse spectaculaire des performances, car les informations seront directement vid√©es en m√©moire, contournant le cache.  Dans le m√™me temps, en mode SLC haute vitesse, WD Black NVMe pr√©sente un impressionnant enregistrement s√©quentiel de 2,4 Go / s, et l'enregistrement direct sur la m√©moire TLC est effectu√© √† une vitesse de 840 Mo / s, ce qui est plus de 2 fois plus rapide que la version pr√©c√©dente.  Le volume du cache est rest√© le m√™me, ce qui a rendu l'appareil moins cher. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1j/np/hf/1jnphffsr5yxxh4lnksod6lleuq.png"></div><br>  <i>Dynamique des performances √† mesure que le cache appara√Æt</i> <br><br>  Ainsi, les SSD WD Black NVMe se sont av√©r√©s vraiment √©quilibr√©s: la plate-forme mat√©rielle mise √† jour compl√®te id√©alement les puces NAND 3D, r√©v√©lant pleinement leur potentiel.  En fin de compte, nous avons une solution vraiment fiable destin√©e √† ceux √† qui le cadre SATA semble trop √©troit, d√©montrant des indicateurs de performance d√©cents et capable d'atteindre la paume avec la majorit√© des mod√®les de r√©f√©rence dans le segment des consommateurs en raison du meilleur rapport qualit√©-prix. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr431442/">https://habr.com/ru/post/fr431442/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr431432/index.html">Comment g√©n√©rer des commits significatifs. Appliquer la norme des engagements conventionnels</a></li>
<li><a href="../fr431434/index.html">Trois histoires de modernisation dans le centre de donn√©es</a></li>
<li><a href="../fr431436/index.html">Pourquoi la documentation SRE est importante. 2e partie</a></li>
<li><a href="../fr431438/index.html">Julia. Cordes et m√©taprogrammation</a></li>
<li><a href="../fr431440/index.html">Timofey Bokarev, un game designer russe int√©ressant</a></li>
<li><a href="../fr431444/index.html">Comment planifier un sprint de deux semaines</a></li>
<li><a href="../fr431446/index.html">L√©ger? La cam√©ra? OSMO! DJI a pr√©sent√© le plus petit steadicam OSMO Pocket</a></li>
<li><a href="../fr431448/index.html">Samsung Buds 2019: myst√©rieuse mise √† jour pour Gear IconX ou des tueurs potentiels d'Apple AirPods</a></li>
<li><a href="../fr431450/index.html">Qui vend vos comptes?</a></li>
<li><a href="../fr431452/index.html">TypeScript pratique. React + Redux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>