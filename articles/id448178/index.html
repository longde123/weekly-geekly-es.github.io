<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😟 😙 🐀 Sekretaris Suara di Webhooks 👦🏻 🍂 🤒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salah satu tren terbaru adalah bot obrolan online. Tapi apa yang harus dilakukan dengan klien yang sedang offline? Sebagian besar orang lebih suka men...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sekretaris Suara di Webhooks</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zadarma/blog/448178/"><img src="https://habrastorage.org/webt/zn/6a/ra/zn6araq_noheex-gr0naytimfhe.png"><br><br>  Salah satu tren terbaru adalah bot obrolan online.  Tapi apa yang harus dilakukan dengan klien yang sedang offline?  Sebagian besar orang lebih suka menelepon.  Mereka membutuhkan staf operator yang besar, atau solusi untuk mengotomatisasi pekerjaan suara.  Kami menawarkan solusi untuk mengurangi pekerjaan dan biaya (dan bahkan hampir tidak memuat programmer Anda). <br><br>  Bagaimana cara cepat dan mudah memprogram menu suara, autoinformer, robot sekretaris dengan referensi ke basis pelanggan Anda? <br><br>  Spoiler: Semuanya diimplementasikan di webhooks dan contoh diberikan dalam PHP. <br><br>  Kami berdiskusi di bawah potongan. <br><a name="habracut"></a><br><h2>  Apa dan mengapa? </h2><br>  Misalnya, Anda memiliki layanan pengiriman atau toko online dengan layanan logistik Anda sendiri.  Beberapa pelanggan menelepon untuk mencari tahu bagaimana kinerja mereka dengan paket / produk mereka dan ini dapat dengan mudah diotomatisasi.  Demikian pula - geolokasi taksi, pengumpulan data dari meter, secara umum, setiap informasi online yang dapat Anda berikan kepada klien dan tidak menghabiskan waktu untuk "membantu" waktu operator langsung. <br><br>  Mengotomatiskan ini sangat sederhana, kami akan menjelaskan contoh di bawah ini.  Dan, ah, semua ini bisa dilakukan dengan gratis. <br><br><h2>  Mengapa bukan tanda bintang Anda? </h2><br>  Tentu saja, semuanya dapat dilakukan pada Asterisk, tetapi di sini, selain pengembang, seorang administrator juga diperlukan, dan dengan pengetahuan tentang keamanan jaringan suara (karena mereka sangat suka crack). <br><br>  Kami menganggap implementasi paling sederhana dari solusi untuk masalah ini - di webhooks. <br><br><h2>  Daftar Metode </h2><br>  Untuk bekerja, kita hanya membutuhkan 2 metode baru, tetapi masing-masing memberikan banyak peluang, dan yang paling penting - siklus tak terbatas.  Berkat siklusnya, Anda bisa mendapatkan menu suara dengan kedalaman apa pun dan informan tentang topik apa pun. <br><br><h3>  Metode utama: </h3><br><ul><li>  NOTIFY_START - awal panggilan masuk ke PBX </li><li>  NOTIFY_IVR - respons pelanggan terhadap tindakan yang ditentukan </li></ul><br>  Deskripsi terperinci tentang metode untuk copy paste tersedia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dalam deskripsi API</a> . <br><br>  Untuk permintaan NOTIFY_START dan NOTIFY_IVR, Anda dapat "on the fly" mengubah skrip untuk panggilan saat ini dengan mengirim sebagai tanggapan salah satu opsi berikut: <br><br><img src="https://habrastorage.org/webt/np/rr/dt/nprrdtln0cz1bpidnmrewzvrdzs.png"><br><img src="https://habrastorage.org/webt/as/62/od/as62oduq5-v06eiap0b04hgfk1i.png"><br><img src="https://habrastorage.org/webt/au/vr/rv/auvrrvm_akqeccmo2guvywtko7c.png"><br><img src="https://habrastorage.org/webt/7u/3c/q0/7u3cq07brvwk5_3i0bssxforlmi.png"><br><img src="https://habrastorage.org/webt/ws/fm/d_/wsfmd_4iirv_pvn3wkpcun6ebam.png"><br><br>  Faktanya, klien memanggil dan mendengarkan salam, kemudian memanggil nomor tertentu (misalnya, nomor pesanan), kami mengirim pemberitahuan dengan nomor yang ia panggil, skrip pelanggan memeriksa database dan mengirimkan respons ke pemberitahuan kepada kami.  Respons dapat berisi id file suara atau varian dari pesan suara standar. <br><br>  Kami memiliki sistem standar untuk mereproduksi angka, sehingga tidak perlu merekam pesan suara pendahuluan, yaitu pemberitahuan yang diperlukan diambil dari database dan direproduksi oleh robot sebagai angka.  Atau Anda dapat membuat hingga 100 varian pemberitahuan suara templat dan mengirimkannya sebagai tanggapan atas permintaan klien (barang Anda ada dalam persediaan, Anda dapat menerima barang-barang Anda dari jam 9 pagi sampai jam 10 malam setiap hari kecuali hari Minggu, paket Anda berada pada titik pengambilan - metro Belorusskaya) . <br><br><h3>  Minimal untuk implementasi </h3><br>  Agar sekretaris dapat menjawab, Anda memerlukan setidaknya nomor telepon dan pertukaran telepon.  Anda juga perlu mengunduh terlebih dahulu atau secara otomatis membaca jawaban sekretaris. <br><br><h3>  Sesuaikan </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/733/9b9/1bf/7339b91bfdc2cf7dc5d06e7b4e3b9cc7.png"><br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PBX gratis</a> untuk tugas kami dikonfigurasi dalam tiga klik (pilih jumlah karyawan yang diinginkan, menu suara dapat dikonfigurasi nanti). </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nomor</a> telepon untuk pertukaran telepon otomatis dapat dihubungkan di kota besar mana pun dari Federasi Rusia atau di 90 negara di dunia.  Nomor tersebut dimasukkan segera setelah memeriksa dokumen (jika Anda memerlukan dokumen untuk wilayah ini).  Anda juga dapat menghubungkan salah satu nomor Anda secara gratis. </li><li>  Untuk membaca salam suara, buka bagian “Panggilan masuk dan menu suara” dan pilih opsi yang lebih cocok.  Anda dapat mengunggah file Anda, atau cukup mencetak teks dan robot akan membacanya secara otomatis.  Ada 16 bahasa dan beberapa suara tersedia untuk setiap bahasa (14 suara untuk bahasa Inggris).  Anda dapat menyimpan hingga 100 salam suara di akun pribadi Anda. </li></ol><br><img src="https://habrastorage.org/webt/wb/-g/bt/wb-gbta2o2ciwmei9iu8taynd14.png"><br><br><h3>  Contoh PHP </h3><br>  Untuk menunjukkan kemungkinan yang berbeda, kami membuat 4 contoh bekerja dengan IVR di PHP. <br><br><ol><li>  Sistem menentukan 3 digit terakhir dari CallerID (contoh bekerja dengan data angka dan mengucapkan angka) </li><li>  Pengguna memasukkan tanggal lahir DTMF dan sistem mengatakan berapa hari sebelum DR-nya.  (Bekerja dengan DTMF dan mengucapkan angka) </li><li>  Menu multi-level tanpa akhir: pengguna dapat menekan angka dan menuju ke menu berikutnya atau sebelumnya (contoh bagaimana Anda dapat membuat sejumlah menu suara dengan siklus sederhana). </li><li>  Contoh otorisasi untuk mendapatkan keseimbangan (berguna untuk banyak contoh dari kehidupan). </li></ol><br>  Tiga contoh pertama tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Github</a> .  Dalam contoh ini, semua elemen yang diperlukan dijabarkan, Anda hanya perlu mengganti file dengan utas (yang harus Anda preload atau baca di PBX). <br><br>  <b>Tugas 4</b> : salam suara dikatakan kepada pengguna dan mereka diminta untuk memasukkan nomor identifikasi mereka, setelah memasukkan nomor, sistem mengucapkan saldo, mengucapkan selamat tinggal menggunakan frasa dari daftar yang populer, dan mengakhiri panggilan. <br><br>  Kami memberikan contoh kode untuk tugas yang dijelaskan. <br><br>  <b>Kode PHP</b> : <br><br><pre><code class="php hljs">$request = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Request(); $notify = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::getEvent([AbstractNotify::EVENT_START, AbstractNotify::EVENT_IVR]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$notify) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> ($notify-&gt;event){ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> AbstractNotify::EVENT_START: $request -&gt;setIvrPlay(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::INFO_FILE_ID) -&gt;setWaitDtmf(TIMEOUT , ATTEMPTS, MAXDIGITS, DTMF_NAME, DEFAULT_BEHAVIOUR); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> AbstractNotify::EVENT_IVR: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($notify-&gt;wait_dtmf-&gt;digits)) { $balance = getBalance($notify-&gt;wait_dtmf-&gt;digits); $request-&gt;setIvrSayNumber($balance, <span class="hljs-string"><span class="hljs-string">'en'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($notify-&gt;ivr_saynumber)) { $request-&gt;setIvrSayPopular(POPULAR_PHRASE_NUM, <span class="hljs-string"><span class="hljs-string">'en'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $request-&gt;setHangup(); } } $request-&gt;send();</code> </pre> <br>  Kami menyelidiki kebutuhan untuk lebih memperluas fungsionalitas metode dan mengumpulkan umpan balik, saran dalam komentar dipersilahkan.  Selain itu, banyak metode webhook dan api lainnya tersedia.  Daftar lengkap ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di situs</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id448178/">https://habr.com/ru/post/id448178/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id448166/index.html">Git itu keren! Topimu</a></li>
<li><a href="../id448168/index.html">Beaver to Regret, atau Yang Perlu Anda Ketahui Tentang Bisnis di Italia</a></li>
<li><a href="../id448170/index.html">Rapikan SMB Anda atau temukan HPE ProLiant DL180 Gen10 yang diperbarui dan ditingkatkan</a></li>
<li><a href="../id448174/index.html">Kebingungan dengan Boeing 737 MAX: analisis kemungkinan penyebab kecelakaan</a></li>
<li><a href="../id448176/index.html">Bitcoin vs blockchain: mengapa ada orang yang lebih peduli?</a></li>
<li><a href="../id448180/index.html">Alat untuk wifi yang bagus. Ekahau Pro dan lainnya</a></li>
<li><a href="../id448182/index.html">Calon pengalaman dalam merekrut pengembang perangkat lunak. Bagian 1</a></li>
<li><a href="../id448184/index.html">Minggu Keamanan 16: Pencurian Identitas Digital</a></li>
<li><a href="../id448186/index.html">Dari pemodelan proses hingga merancang sistem otomatis (Bagian 2)</a></li>
<li><a href="../id448188/index.html">Kapsul waktu: HP iPaq h1940 "di luar kotak." Apa itu PDA untuk dari tahun 2000-an</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>