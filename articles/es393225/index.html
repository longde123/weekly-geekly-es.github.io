<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõµ ‚õ±Ô∏è üïµüèæ Volt√≠metro de cuatro canales 0-50V basado en el kit de Laboratorio Digital NR05 üçì üó∫Ô∏è üõí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A menudo existe la necesidad de controlar simult√°neamente varios voltajes, por ejemplo, los voltajes de salida de una fuente de alimentaci√≥n de comput...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Volt√≠metro de cuatro canales 0-50V basado en el kit de Laboratorio Digital NR05</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/masterkit/blog/393225/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A menudo existe la necesidad de controlar simult√°neamente varios voltajes, por ejemplo, los voltajes de salida de una fuente de alimentaci√≥n de computadora, varias bater√≠as, etc. En la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√∫ltima publicaci√≥n,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> examinamos el principio del bloqueo de c√≥digo, y ahora, en base al kit de expansi√≥n del kit de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laboratorio Digital NR05</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ensamblamos un digital de cuatro canales. un volt√≠metro con una indicaci√≥n de los resultados en la pantalla integrada en el tablero. El rango de voltajes medidos se puede cambiar usando un divisor externo, y el paso de medici√≥n se determina por la resoluci√≥n del convertidor anal√≥gico a digital (ADC) del microcontrolador Atmega 328 utilizado en la placa Arduino y tiene 1024 valores. Luego, en el rango de voltaje 0-50V, el paso de medici√≥n de voltaje ser√° de aproximadamente 50 mV, que es suficiente para uso dom√©stico.</font></font><br>
<br>
<img src="https://habrastorage.org/files/1c8/740/bbe/1c8740bbebde493992785c65a2974e5e.jpg" width="500"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conectaremos los voltajes medidos a las entradas anal√≥gicas libres de la placa. Estas son las entradas A0, A4, A5 y A7 ubicadas en la parte inferior derecha de la placa. Para usar la entrada A0, desconecte temporalmente la resistencia R4 ubicada cerca del conector XP3 en la parte inferior derecha de la placa.</font></font><br>
<br>
<img src="https://habrastorage.org/files/725/c9b/33d/725c9b33dd8e44b7999e89b30c2d566c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Haremos un divisor externo con conectores para conectar los voltajes medidos y una placa de expansi√≥n usando el m√©todo LUT (la llamada "tecnolog√≠a de planchado l√°ser") y grabamos la placa en una soluci√≥n de cloruro f√©rrico. Utilizamos resistencias SMD, pero si no tiene una impresora l√°ser, puede hacer el divisor dibujando conductores con un rotulador impermeable. En este caso, es mejor usar resistencias de salida, ya que la precisi√≥n del tama√±o de los conductores resultantes ser√° menor. En detalle, la tecnolog√≠a de fabricaci√≥n de placas de circuito impreso mediante grabado en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloruro f√©rrico</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se puede estudiar comprando un </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">conjunto de NN201</font></a><font style="vertical-align: inherit;"> producido por Master Kit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El tablero divisor terminado se muestra en la foto a continuaci√≥n.</font></font><br>
<br>
<img src="https://habrastorage.org/files/528/eb4/bd8/528eb4bd8c1e4c6799e66e46b7dffed5.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La placa de expansi√≥n tiene una pantalla de cristal l√≠quido de 2 l√≠neas con 16 caracteres en cada l√≠nea. </font><font style="vertical-align: inherit;">En dicho indicador, cuatro lecturas de 0 a 50 voltios con un decimal y los identificadores de canal son bastante c√≥modos para colocar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se recomienda que las mediciones se realicen varias veces en un corto per√≠odo de tiempo, promediando sus valores. </font><font style="vertical-align: inherit;">Esto reducir√° los errores de medici√≥n aleatorios. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n nos damos cuenta en el programa de "congelaci√≥n" de los resultados cuando hace clic en uno de los botones integrados en el tablero, por ejemplo, el del medio. </font><font style="vertical-align: inherit;">Una segunda pulsaci√≥n reanudar√° las mediciones continuas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilizamos el LED conectado a la salida digital n√∫mero 13 de Arduino para indicar el proceso de medici√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basado en lo anterior, haremos un programa para Arduino:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spoiler</font></font></b><div class="spoiler_text">/*--------------------------------------------------------------<br>
   0-50,  ,<br>
    ,    LCD-<br>
 16 , 2 , <br>
 <br>
       <br>
 NR05 ¬´ ¬ª; 4   10  <br>
 1, 100,     A0,A4,A5,A7<br>
 <br>
   <br>
   5     V_REF<br>
     .<br>
     -<br>
    .<br>
 <br>
     (<br>
   )<br>
    Vin    <br>
  .<br>
   Vout   .<br>
   DIV_*   Vin/Vout.<br>
 <br>
       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">startingelectronics.com</a><br>
--------------------------------------------------------------*/<br>
#include &lt;LiquidCrystal.h&gt;<br>
<br>
//   (    )<br>
#define LED 13<br>
//     <br>
#define NUM_SAMPLES 20<br>
//   <br>
#define DIV_1 11.186<br>
#define DIV_2 11.186<br>
#define DIV_3 11.186<br>
#define DIV_4 11.186<br>
//    <br>
#define V_REF 4.575<br>
//    <br>
#define NUM_KEYS 5<br>
//      ( )<br>
int adcKeyVal[NUM_KEYS] = {30, 150, 360, 535, 760};<br>
<br>
LiquidCrystal lcd(A1, A2, A3, 2, 4, 7);<br>
unsigned long sum[4] = {0}; //     <br>
unsigned char sample_count = 0; //   <br>
float voltage[4] = {0.0}; //  <br>
int cnt = 0; //  <br>
int keyIsPressed = 0; //    ¬´¬ª <br>
<br>
void setup()<br>
{<br>
 lcd.begin(16, 2);<br>
 pinMode(LED, OUTPUT);<br>
 digitalWrite(LED, LOW);<br>
}<br>
<br>
void loop()<br>
{<br>
 //   3 ,     ¬´¬ª<br>
 if (get_key() == 3){<br>
 keyIsPressed = !keyIsPressed;<br>
 delay(500);<br>
 }<br>
 //    (1),     <br>
 if (keyIsPressed == 0){<br>
 digitalWrite(LED, LOW);<br>
 //        <br>
 while (sample_count &lt; NUM_SAMPLES) {<br>
 // sample channel A0, A4, A5, A7<br>
 sum[0] += analogRead(A0);<br>
 sum[1] += analogRead(A4);<br>
 sum[2] += analogRead(A5);<br>
 sum[3] += analogRead(A7);<br>
 sample_count++;<br>
 delay(10);<br>
 }<br>
 digitalWrite(LED, HIGH);<br>
 //         <br>
 for (cnt = 0; cnt &lt; 4; cnt++) {<br>
 voltage[cnt] = ((float)sum[cnt] / (float)NUM_SAMPLES * V_REF) / 1024.0;<br>
 }<br>
 //    <br>
 lcd.setCursor(0, 0);<br>
 lcd.print(¬´A ‚Äû);<br>
 lcd.print(voltage[0] * DIV_1, 1);<br>
 lcd.print(‚ÄúV ‚Äû);<br>
 // voltage 2 ‚Äî B (pin A4)<br>
 lcd.setCursor(8, 0);<br>
 lcd.print(‚ÄúB ‚Äû);<br>
 lcd.print(voltage[1] * DIV_2, 1);<br>
 lcd.print(‚ÄúV ‚Äû);<br>
 // voltge 3 ‚Äî C (pin A5)<br>
 lcd.setCursor(0, 1);<br>
 lcd.print(‚ÄúC ‚Äû);<br>
 lcd.print(voltage[2] * DIV_3, 1);<br>
 lcd.print(‚ÄúV ‚Äû);<br>
 // voltage 4 ‚Äî D (pin A7)<br>
 lcd.setCursor(8, 1);<br>
 lcd.print(‚ÄúD ‚Äû);<br>
 lcd.print(voltage[3] * DIV_4, 1);<br>
 lcd.print(‚ÄúV ‚Äû);<br>
 <br>
 //    <br>
 sample_count = 0;<br>
 for (cnt = 0; cnt &lt; 4; cnt++) sum[cnt] = 0;<br>
 delay(20);<br>
 }<br>
}<br>
<br>
//     <br>
int get_key()<br>
{<br>
 int input = analogRead(A6);<br>
 int k;<br>
 for (k = 0; k &lt; NUM_KEYS; k++)<br>
 if (input &lt; adcKeyVal[k])<br>
 return k + 1;<br>
 return 0;<br>
}<br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El programa est√° equipado con comentarios suficientemente detallados que explican las caracter√≠sticas de la implementaci√≥n del algoritmo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quiz√°s la caracter√≠stica m√°s importante es el proceso de calibraci√≥n de las constantes descritas en los comentarios involucrados en el c√°lculo de los voltajes medidos. Para calibrar el divisor (realizado una vez), use una fuente de voltaje constante estable. Dado que la calibraci√≥n lleva poco tiempo, puede utilizar con √©xito una bater√≠a de 9 V "Krona" y un mult√≠metro digital. Un mult√≠metro del "Conjunto de un joven ingeniero electr√≥nico" NR02 es bastante adecuado. Este kit tambi√©n es ideal para ense√±ar soldadura y ensamblaje de PCB.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cabe se√±alar que cuando cambia el voltaje de suministro que llega a Arduino, los valores de calibraci√≥n del voltaje de referencia deben cambiarse en consecuencia, cuyos valores relativos se miden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para cambiar el rango de medici√≥n, es necesario aplicar un divisor con una relaci√≥n de divisi√≥n diferente del voltaje de entrada.</font></font><br>
<br>
<img src="https://habrastorage.org/files/fa0/05b/268/fa005b268fa4431ca6ee067bb716048a.jpg"></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es393225/">https://habr.com/ru/post/es393225/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es393211/index.html">¬øC√≥mo cae una primavera furtiva? [Vert Dider]</a></li>
<li><a href="../es393215/index.html">Jap√≥n reemplazar√° a los agricultores con robots y tractores no tripulados</a></li>
<li><a href="../es393217/index.html">Hacker Geohot trabajar√° en un auto rival no tripulado Tesla junto con el ingeniero principal de Tesla Motors</a></li>
<li><a href="../es393219/index.html">Qu√© esperar para un especialista en TI en el campo de las finanzas: requisitos y tecnolog√≠as utilizados</a></li>
<li><a href="../es393223/index.html">El ciclo de las drogas en la naturaleza: la droga excretada del cuerpo ingresa nuevamente a la comida</a></li>
<li><a href="../es393227/index.html">Tomar aspirina aumenta las posibilidades de supervivencia de los pacientes con c√°ncer en un 20%</a></li>
<li><a href="../es393231/index.html">MI Guitar: una guitarra para aquellos que quieren tocar la guitarra pero no quieren aprenderla.</a></li>
<li><a href="../es393233/index.html">Un sistema de movimiento virtual simple y eficiente: controlador de pantalones</a></li>
<li><a href="../es393235/index.html">En el Vostochny Cosmodrome, se instal√≥ un veh√≠culo de lanzamiento Soyuz 2.1a para el primer lanzamiento</a></li>
<li><a href="../es393237/index.html">Una breve historia del desarrollo de veh√≠culos no tripulados.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>