<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐐 🧦 👩🏼‍🌾 Quelles sont les fonctions pures en JavaScript? 💨 🍞 ⏯️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les fonctions pures sont les éléments constitutifs de la programmation fonctionnelle. Ils sont appréciés pour leur simplicité et leur testabilité. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Quelles sont les fonctions pures en JavaScript?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437512/">  Les fonctions pures sont les éléments constitutifs de la programmation fonctionnelle.  Ils sont appréciés pour leur simplicité et leur testabilité. <br><br>  Dans cet article, vous trouverez une <i>liste de contrôle</i> qui vous aidera à déterminer si une fonction est pure ou non. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/38b/e1d/718/38be1d718558cd9eff455c9d5870f7c8.jpg" alt="image"><br><br><h3>  Liste de contrôle </h3><br>  <i>Une fonction doit remplir deux conditions pour être considérée comme «pure»:</i> <br><br>  - Chaque fois que la fonction retourne le même résultat lorsqu'elle est appelée avec le même ensemble d'arguments <br><a name="habracut"></a><br>  - pas d'effets secondaires <br><br>  Examinons plus en détail. <br><br><h3>  1. La même entrée =&gt; La même sortie </h3><br>  Comparez ceci: <br><br><pre><code class="plaintext hljs">const add = (x, y) =&gt; x + y; add(2, 4); // 6</code> </pre> <br>  Avec ceci: <br><br><pre> <code class="plaintext hljs">let x = 2; const add = (y) =&gt; { x += y; }; add(4); // x === 6 (the first time)</code> </pre> <br>  Dans le premier cas, la valeur est renvoyée en fonction des paramètres spécifiés, quel que soit l'endroit / le moment où vous l'appelez. <br><br>  Si vous ajoutez 2 et 4, vous obtenez toujours 6. <br><cut></cut><br>  Rien n'affecte le résultat. <br><br>  <b>Fonctions impures = résultats incohérents</b> <br><br>  Le deuxième exemple ne renvoie rien.  Il s'appuie sur la condition générale pour réaliser son travail en augmentant la variable hors de son champ. <br><br>  Ce modèle est un cauchemar pour les développeurs. <br><br>  L'état partagé introduit une dépendance temporelle.  Vous obtenez des résultats différents selon le moment où vous avez appelé la fonction.  La première fois, le résultat est 6, la prochaine fois 10 et ainsi de suite. <br><br>  <b>Quel est le meilleur?</b> <br><br>  Dans quel cas obtiendrez-vous moins de bugs qui n'apparaissent que sous certaines conditions? <br><br>  Dans quel cas avez-vous plus de chances de réussir dans un environnement multithread où les dépendances temporelles peuvent casser le système? <br><br>  Certainement dans le premier. <br><br><h3>  2. Aucun effet secondaire </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/fb5/e5c/46a/fb5e5c46ad24392e77c78d8aff1a8436.jpg" alt="image"><br><cut></cut><br>  Ce test est une liste de contrôle en soi. <br><br>  <i>Exemples d'effets secondaires:</i> <br><br><ol><li>  Modification des paramètres d'entrée </li><li>  console.log </li><li>  Appels HTTP (AJAX / fetch) </li><li>  Modification du système de fichiers </li><li>  Demandes DOM </li></ol><br>  En fait, tout travail effectué par une fonction n'est pas lié au calcul du résultat final. <br><br>  Je vous conseille de regarder la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vidéo de</a> Bob Martin. <br><br>  Voici une fonction «sale» avec un effet secondaire. <br><br><pre> <code class="plaintext hljs">const impureDouble = (x) =&gt; { console.log('doubling', x); return x * 2; }; const result = impureDouble(4); console.log({ result });</code> </pre> <br>  <b>console.log</b> ici est un effet secondaire, mais cela ne fera pas de mal.  Nous obtiendrons toujours les mêmes résultats, étant donné les mêmes données. <br><cut></cut><br>  Cependant, cela peut provoquer des problèmes. <br><br>  Changement d'objet «impur» <br><br><pre> <code class="plaintext hljs">const impureAssoc = (key, value, object) =&gt; { object[key] = value; }; const person = { name: 'Bobo' }; const result = impureAssoc('shoeSize', 400, person); console.log({ person, result });</code> </pre> <br>  La variable personne a été modifiée pour toujours car la fonction a été déclarée via une instruction d'affectation. <br><cut></cut><br>  L'état partagé signifie que l'impact d' <i>impureAssoc</i> n'est plus complètement apparent.  Comprendre l'effet sur le système comprend désormais le suivi de chaque variable qu'il a déjà touchée et connaître son historique. <br><br>  <i>État partagé = dépendances temporelles.</i> <br><br>  Nous pouvons effacer <i>impureAssoc</i> en renvoyant simplement un nouvel objet avec les propriétés souhaitées. <br><br>  <b>"Nous le nettoyons"</b> <br><br><pre> <code class="plaintext hljs">const pureAssoc = (key, value, object) =&gt; ({ ...object, [key]: value }); const person = { name: 'Bobo' }; const result = pureAssoc('shoeSize', 400, person); console.log({ person, result });</code> </pre> <br>  <i>PureAssoc</i> renvoie désormais le résultat du test, vous n'avez donc pas à vous inquiéter s'il change ailleurs. <br><cut></cut><br>  Cela pourrait se faire comme ceci: <br><br><pre> <code class="plaintext hljs">const pureAssoc = (key, value, object) =&gt; { const newObject = { ...object }; newObject[key] = value; return newObject; }; const person = { name: 'Bobo' }; const result = pureAssoc('shoeSize', 400, person); console.log({ person, result });</code> </pre> <br>  Changer l'entrée peut être dangereux, mais changer la copie n'est pas un problème.  Le résultat final est une fonction testable et prévisible qui fonctionne peu importe où et quand vous l'appelez. <br><br>  Les modifications sont limitées à cette petite zone et vous renvoyez toujours la valeur. <br><cut></cut><br>  <b>Résumé</b> <br><br><ul><li>  Une fonction est pure si elle n'a pas d'effets secondaires et renvoie à chaque fois le même résultat lorsqu'elle est appelée avec le même ensemble d'arguments. </li><li>  Les effets secondaires incluent: changement d'entrée, appels HTTP, écriture sur disque, sortie sur écran. </li><li>  Vous pouvez cloner en toute sécurité puis modifier les paramètres d'entrée.  Laissez simplement l'original inchangé. </li><li>  La syntaxe de distribution (... syntaxe) est le moyen le plus simple de cloner des objets et des tableaux. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr437512/">https://habr.com/ru/post/fr437512/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr437500/index.html">À propos des choses «invisibles» importantes - confiance, culture et valeurs</a></li>
<li><a href="../fr437502/index.html">Je vais arrêter de jeter le bon à la poubelle</a></li>
<li><a href="../fr437504/index.html">Petits composants: qu'est-ce qui pourrait mal tourner? Nous utilisons le principe de l'entière responsabilité</a></li>
<li><a href="../fr437508/index.html">CVE-2019-6111 et autres vulnérabilités scp</a></li>
<li><a href="../fr437510/index.html">Que se passe-t-il lorsque vous envoyez des SMS</a></li>
<li><a href="../fr437514/index.html">Recherche d'erreurs dans le code source du SDK Amazon Web Services pour .NET</a></li>
<li><a href="../fr437516/index.html">Recherche de bogues dans le code source Amazon Web Services SDK for .NET</a></li>
<li><a href="../fr437518/index.html">Attaque des coléoptères</a></li>
<li><a href="../fr437520/index.html">«Ma lumière est un miroir! - dites-moi, montrez-moi mon double ... ": concevez un bon cadre et obtenez le second en cadeau</a></li>
<li><a href="../fr437522/index.html">Colonie. Chapitre 22: Décision finale</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>