<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äç‚ù§Ô∏è‚Äçüë© üî¢ üàÅ OOP en lenguajes de programaci√≥n gr√°fica. Parte 2 MOS y OOP ü§úüèæ üí¥ üíΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En la primera parte, trat√© de mostrar que existe un gato negro de OOP en una habitaci√≥n oscura de lenguajes gr√°ficos, incluso si no es un gato, sino u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>OOP en lenguajes de programaci√≥n gr√°fica. Parte 2 MOS y OOP</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454232/"><p>  En la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">primera parte,</a> trat√© de mostrar que existe un gato negro de OOP en una habitaci√≥n oscura de lenguajes gr√°ficos, incluso si no es un gato, sino un gato medio muerto del desollador Schroedinger, es decir, no lo es.  Se mostr√≥ un ejemplo de la implementaci√≥n de la metodolog√≠a de programaci√≥n orientada a objetos, cuando un programa no es c√≥digo C ++ o Java, sino un diagrama Simulink, SimInTech, SimulationX o SCADE Esterel, cualquier notaci√≥n gr√°fica de la descripci√≥n del algoritmo. </p><br><p> En los materiales publicitarios, Matlab Simulink a menudo usa el t√©rmino MOS: dise√±o basado en modelos.  En muchos textos, enfatizan que el diagrama gr√°fico del algoritmo es un modelo, lo cual, por supuesto, es cierto.  Sin embargo, en la definici√≥n inicial de MOS, el modelo es principalmente el modelo del objeto para el que se desarrolla el sistema de control, incluido el software de control.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ se describe m√°s metodolog√≠a MOS.</a>  Por lo tanto, cuando se desarrolla un sistema de control de acuerdo con la metodolog√≠a MOS, es posible y necesario utilizar la metodolog√≠a OOP para el desarrollo de software de gesti√≥n.  Y para cerrar completamente el problema con los modelos, aqu√≠ hay una imagen con las diferencias de uno con el otro.  Si todo est√° claro, entonces ya no puedes leer. </p><br><p><img width="700" src="https://habrastorage.org/webt/6q/lp/ti/6qlptikqb67uqw2kui8ejgydl7s.png"></p><br><a name="habracut"></a><br><p>  Volvamos a los lenguajes gr√°ficos y POO aplicados a los programas de control para la industria.  El lenguaje de programaci√≥n gr√°fico proporciona un registro de programa en forma de diagrama de un conjunto de bloques conectados por l√≠neas de comunicaci√≥n.  Como regla, en la programaci√≥n industrial, un generador de c√≥digo autom√°tico crea un c√≥digo para el compilador y la carga posterior en el equipo de destino a partir de un circuito gr√°fico. </p><br><p>  Como parte de mi especialidad, tuve que trabajar con el software de gesti√≥n para centrales nucleares donde est√° prohibido utilizar C ++ con est√°ndares de seguridad, solo C puro y, en algunos casos, ni siquiera C, sino l√≥gica "de hierro", donde los algoritmos se implementan como circuitos electr√≥nicos en transistores y rel√©  Y la observancia de los est√°ndares es monitoreada por mucha gente de supervisi√≥n severa. </p><br><p><img width="700" src="https://habrastorage.org/webt/kt/cu/i1/ktcui1vz0x-4bn3uce7zntd40i0.jpeg"></p><br><p>  Pero aqu√≠, no importa cu√°n sorprendente pueda sonar, el desarrollo sigue utilizando la metodolog√≠a OOP.  Porque cuando no puedes usar OOP, pero realmente quieres, puedes hacerlo.  Es cierto, entonces todo debe ser devuelto, y eso no ser√≠a ning√∫n C ++ y el c√≥digo final, por seguridad y √ºber alles est√°ndares.  Como dicen, comer un pez y no sentarse a cometer violaciones. </p><br><p>  Para crear un objeto real mediante la definici√≥n de OOP, vinculamos las estructuras de datos y los esquemas de procesamiento en un solo objeto, esto se denomina encapsulaci√≥n.  Y como no podemos usar C ++ para sistemas NPP confiables, debemos analizar todo esto al generar el c√≥digo.  Como se explic√≥ en los comentarios al art√≠culo anterior, el primer compilador C ++ Front funcion√≥ de la misma manera, tradujo el c√≥digo OOP C ++ a puro C. </p><br><p>  En la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">primera versi√≥n de la implementaci√≥n de OOP</a> en un lenguaje gr√°fico, creamos un bloque especial que contiene un esquema de c√°lculo gr√°fico.  Durante la inicializaci√≥n, este bloque vincula el esquema de clase (m√©todo) a una "instancia de clase" espec√≠fica, un conjunto de variables nombradas de una manera especial. </p><br><p>  Considere la segunda realizaci√≥n de la metodolog√≠a OOP en lenguajes de programaci√≥n gr√°ficos.  La figura 1 muestra el funcionamiento del algoritmo de procesamiento del sensor. </p><br><p><img width="700" src="https://habrastorage.org/webt/zi/ci/3_/zici3_ssrtr7--y2enbtoa6flts.png"><br>  <i><font color="#999999">Figura 1. Programa de procesamiento del sensor.</font></i> </p><br><p>  Este es un m√©todo de clase.  Corresponde a su propia categor√≠a <b>"Sensores"</b> en la base de datos: una clase abstracta con un conjunto dado de campos y una instancia del sensor espec√≠fico de clase <b>KBA31CFO1</b> .  Para este sensor, los campos tienen valores espec√≠ficos, algunos de los campos son establecidos por el usuario, algunos de los campos se calculan durante la ejecuci√≥n del programa.  ver foto  2 </p><br><p><img width="700" src="https://habrastorage.org/webt/ht/ei/ct/hteict0a86fegqyvxgqhcllfebc.png"><br>  <i><font color="#999999">Figura 2. La base de datos de se√±ales con la categor√≠a abierta "Sensor".</font></i> </p><br><p>  Hasta ahora, todo es como en la primera realizaci√≥n, donde formamos la uni√≥n del esquema de dise√±o a un sensor espec√≠fico al instalar la unidad en el circuito.  "¬øD√≥nde est√° la diferencia?"  - usted pregunta  Y la diferencia est√° dentro del bloque.  Si en la primera versi√≥n hab√≠a un diagrama de dise√±o dentro, que se copi√≥ con cada instalaci√≥n del bloque, entonces en esta versi√≥n el interior se ve as√≠: </p><br><p><img width="700" src="https://habrastorage.org/webt/7x/nx/hu/7xnxhufgyyih-wha7hqii0szr7o.png"><br>  <i><font color="#999999">Figura 3. Los interiores de una instancia de bloque de una instancia de clase.</font></i> </p><br><p>  En lugar del esquema de dise√±o, solo la "transmisi√≥n y recepci√≥n de datos" se "muestran" dentro del bloque. <br>  Y el c√°lculo en s√≠ se lleva a cabo en otro lugar, en el diagrama de la Figura 1. En algunos casos, es posible no usar bloques en absoluto en el diagrama de c√°lculo, es suficiente tener instancias de la clase de sensor en la base de datos de singles.  Esta es la segunda forma de implementar la encapsulaci√≥n en lenguajes gr√°ficos.  El truco es que todos los bloques en el diagrama de la Figura 1 son vectoriales y no procesan una sola se√±al, sino un vector de se√±ales de todos los sensores de este tipo en el esquema de c√°lculo.  Si habilita el modo de mostrar los resultados en la l√≠nea de comunicaci√≥n, veremos que cada l√≠nea de comunicaci√≥n contiene no un d√≠gito, sino un vector de 4 n√∫meros (por el n√∫mero de sensores en la base de datos). </p><br><p><img width="700" src="https://habrastorage.org/webt/rt/2k/ml/rt2kmlwmldjmc8n4aqsorxtxqyc.png"><br>  <i><font color="#999999">Figura 4. Diagrama de procesamiento de la se√±al de los sensores en el modo de visualizaci√≥n de valores.</font></i> </p><br><p>  Por lo tanto, un esquema de procesamiento implementa el procesamiento de todos los sensores en el proyecto, y cada sensor se procesa con sus propios par√°metros especificados en la base de datos como las caracter√≠sticas de una instancia particular de la clase.  Por ejemplo, el limitador toma el valor m√°ximo de la base de datos, que se establece igual para los primeros tres sensores y difiere para el cuarto.  (ver figura 5) </p><br><p><img width="450" src="https://habrastorage.org/webt/zf/fk/q_/zffkq_axhvogvctwlxrqfsat2cg.png"><br>  <i><font color="#999999">Figura 5. Par√°metros del bloque limitador en el esquema de c√°lculo.</font></i> </p><br><p>  Y qu√© pasa con el c√≥digo resultante, que se genera autom√°ticamente de acuerdo con este maravilloso esquema, ¬øc√≥mo se las arregla para evitar los artefactos OOP?  Es simple: no hay trampa ni OOP, C pura en el c√≥digo.  Para cada bloque del esquema de procesamiento de vectores, se formar√° un ciclo que proporcione tantos c√°lculos como instancias de clase en el proyecto.  En nuestro caso, hay 4 sensores, por lo que primero formamos matrices de dimensi√≥n "4" leyendo las se√±ales de los sensores: </p><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=104 UID=104 GeneratorClassName=TSignalReader Name=buz1.sensor.Macro6.Macro3.Macro157.SignalReader3 Type=    */</span></span> }; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">0</span></span>] = kba31cf001_mf_type; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">1</span></span>] = kba32cf001_mf_type; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">2</span></span>] = kba33cf001_mf_type; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">3</span></span>] = uf40y329084320_mf_type</code> </pre> <br><p>  Luego ordenamos todos los bloques en orden y los ejecutamos en un bucle.  Para cada elemento de una matriz de tipo, cada bloque de c√°lculos se realizar√° para todos los sensores. </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=211 UID=211 GeneratorClassName=TAndSrc Name=buz1.sensor.Macro6.And61 Type=  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">4</span></span>;i++){ locals-&gt;v211_out_0_[i] = state_vars-&gt;kbastdv125_out_0_[i] &amp;&amp; (!(locals-&gt;v191_out_7_[i] &gt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/* Index=212 UID=212 GeneratorClassName=TMulDbl Name=buz1.sensor.Macro6.Mul_oper1 Type= */</span></span> locals-&gt;v209_out_2_[i] = consts-&gt;kbastdv121_a_[i]*state_vars-&gt;kbastdv127_out_0_[i]; <span class="hljs-comment"><span class="hljs-comment">/* Index=213 UID=213 GeneratorClassName=TSumSrc Name=buz1.sensor.Macro6.Add_oper1 Type= */</span></span> locals-&gt;v209_out_3_[i] = (<span class="hljs-number"><span class="hljs-number">1</span></span>)*consts-&gt;kbastdv122_a_[i]+(<span class="hljs-number"><span class="hljs-number">1</span></span>)*locals-&gt;v209_out_2_[i]; ‚Ä¶ }</code> </pre><br>  Despu√©s del c√°lculo, registramos las se√±ales para cada instancia de la clase: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=776 UID=776 GeneratorClassName=TSignalWriter Name=buz1.sensor.Macro6.Macro3.SignalWriter4 Type=    */</span></span> kba31cf001_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">0</span></span>]; kba32cf001_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">1</span></span>]; kba33cf001_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">2</span></span>]; uf40y329084320_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">3</span></span>];</code> </pre><br><p>  Como puede ver, no hay objetos en el c√≥digo final.  SI limpio, inocente y seguro.  En el ejemplo anterior, la implementaci√≥n de OOP en un lenguaje gr√°fico, un circuito vectorial calcula todos los sensores del mismo tipo.  Esta t√©cnica le permite cambiar un esquema para cambiar el procesamiento de todos los sensores. </p><br><p>  Otro beneficio adicional de este enfoque es el seguro contra errores.  Imag√≠nese: agrega manualmente un sensor y en un lugar olvid√≥ aumentar el n√∫mero de repeticiones durante el procesamiento en un ciclo.  Ning√∫n analizador de c√≥digo est√°tico podr√° detectar este error, el c√≥digo es correcto.  E incluso en el trabajo, esto puede no afectar de manera inmediata y obvia. </p><br><p>  Bueno, al final, el prometido polimorfismo y herencia.  En el primer m√©todo, el usuario recibi√≥ muchos esquemas id√©nticos, que pudo editar despu√©s de instalar el bloque de submodelo y, por lo tanto, llevar a cabo el polimorfismo, cambiando el comportamiento de una instancia particular de la clase.  Creo que todos adivinaron que es posible cambiar el esquema de procesamiento para un sensor en particular, y obtendremos una nueva clase que tiene los mismos campos, pero los m√©todos son diferentes.  Tambi√©n puede agregar nuevos campos y obtener una nueva clase con diferentes campos que contengan todos los campos del padre y los m√©todos del padre. </p><br><p>  La Figura 6 muestra un ejemplo de dos bloques de las clases "padre" y "heredero".  Dentro del bloque, se guarda el esquema de c√°lculo de la clase principal.  Todos los datos van a un bloque vectorial com√∫n, similar al bloque de la Fig.  4. El m√©todo de clase padre se repite completamente.  Y luego la clase sucesora tiene un campo adicional <b>Yatm</b> y un rec√°lculo adicional del valor utilizando el bloque de interpolaci√≥n lineal. </p><br><p>  Por lo tanto, sigue siendo posible cambiar los m√©todos de procesamiento del padre, que cambiar√° en todos los herederos de las clases, as√≠ como personalizar individualmente el comportamiento del heredero. </p><br><p><img width="700" src="https://habrastorage.org/webt/cj/uf/fl/cjufflnh6w6vxom0ihlevs34vf0.png"><br>  <i><font color="#999999">Figura 6. Polimorfismo en herederos de clase.</font></i> </p><br><p>  Para resumir, podemos argumentar que la metodolog√≠a OOP puede usarse para crear software en lenguajes de programaci√≥n gr√°ficos.  Abstracci√≥n, encapsulaci√≥n, herencia, polimorfismo: todos estos principios se implementan f√°cil y naturalmente con las herramientas de desarrollo adecuadas.  Es importante tener en cuenta que el c√≥digo final, despu√©s de la generaci√≥n autom√°tica a partir de un lenguaje gr√°fico, permanece completamente seguro C sin ning√∫n OOP </p><br><p>  En algunos casos, el resultado del desarrollo de software de control en forma gr√°fica no es el c√≥digo C para cargar en los controladores, sino el diagrama de circuito "l√≥gica de hierro", pero la t√©cnica descrita anteriormente OOP tambi√©n funciona bien. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454232/">https://habr.com/ru/post/454232/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454216/index.html">Evidencia encontrada de que todos los cambios son una mezcla de orden y oportunidad</a></li>
<li><a href="../454220/index.html">Term√≥metro de dos d√≠gitos</a></li>
<li><a href="../454222/index.html">Actualice el subsistema de disco del servidor anterior con el bus PCIe 1.0 - 2.0</a></li>
<li><a href="../454224/index.html">Recomendaciones en Okko: c√≥mo ganar cientos de millones multiplicando un par de matrices</a></li>
<li><a href="../454226/index.html">Memoria en dominios magn√©ticos cil√≠ndricos. Parte 1. Principio de trabajo</a></li>
<li><a href="../454236/index.html">Dos historias sobre c√≥mo ANKI puede ayudarlo a aprender un idioma extranjero y prepararse para una entrevista</a></li>
<li><a href="../454238/index.html">"La m√°quina de la emoci√≥n" de Marvin Minsky (traducci√≥n de Habra, segunda ronda)</a></li>
<li><a href="../454240/index.html">An√°lisis de wavelet. Parte 3</a></li>
<li><a href="../454242/index.html">"Mira, ¬°qu√© jetpack tengo!" "¬°Ja, mira qu√© cohete tengo!" (notas del campeonato de cohetes)</a></li>
<li><a href="../454246/index.html">Variedades de coordenadas utilizadas en la GUI de Unity3d</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>