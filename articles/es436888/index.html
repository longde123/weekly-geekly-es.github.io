<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÅ üåè üóæ Historia sobre c√≥mo dise√±ar una API üéé üîã üéÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Una vez ayud√© a un amigo que necesitaba integrar datos sobre viviendas libres y ocupadas del sistema de administraci√≥n de propiedades con el sitio de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Historia sobre c√≥mo dise√±ar una API</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/436888/">  Una vez ayud√© a un amigo que necesitaba integrar datos sobre viviendas libres y ocupadas del sistema de administraci√≥n de propiedades con el sitio de su cliente.  Para mi deleite, este sistema ten√≠a una API.  Pero, desafortunadamente, se arregl√≥ muy mal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfc/80d/a9e/dfc80da9e77fe55d40b833fe3f5ff9b6.jpg" alt="imagen"></div><br>  Decid√≠ escribir este art√≠culo no para criticar el sistema que se discutir√°, sino para hablar sobre los errores que se encuentran durante el desarrollo de la API y sugerir formas de corregir estos errores. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Resumen de la situaci√≥n</font> </h2><br>  La organizaci√≥n en cuesti√≥n utiliz√≥ el sistema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Beds24</a> para administrar el espacio vital.  La informaci√≥n sobre lo que est√° libre y lo que est√° ocupado se sincroniz√≥ con varios sistemas de reserva de alojamiento (como Booking, AirBnB y otros).  La organizaci√≥n particip√≥ en el desarrollo del sitio y quer√≠a que la b√∫squeda mostrara solo informaci√≥n sobre las habitaciones disponibles durante un per√≠odo de tiempo espec√≠fico y con capacidad adecuada.  Esta tarea parec√≠a muy simple, ya que Beds24 proporciona una API para la integraci√≥n con otros sistemas.  De hecho, result√≥ que los desarrolladores de esta API cometieron muchos errores en su dise√±o.  Propongo analizar estos errores, identificar problemas espec√≠ficos y hablar sobre c√≥mo abordar el desarrollo de la API en las situaciones bajo consideraci√≥n. <br><br><h2>  <font color="#3AC1EF">Problema # 1: formato del cuerpo de la solicitud</font> </h2><br>  Dado que el cliente solo est√° interesado en informaci√≥n sobre si, por ejemplo, una habitaci√≥n de hotel est√° libre u ocupada, solo estamos interesados ‚Äã‚Äãen referirnos al <code>/getAvailabilities</code> API <code>/getAvailabilities</code> .  Y, aunque una llamada a dicha API deber√≠a conducir a datos sobre la disponibilidad de habitaciones, esta llamada, de hecho, parece una solicitud POST, ya que el autor de la API decidi√≥ equiparla con la capacidad de aceptar filtros como un cuerpo JSON de la solicitud.  Aqu√≠ hay una lista de posibles par√°metros de consulta y ejemplos de los valores que aceptan: <br><br><pre> <code class="plaintext hljs">{   "checkIn": "20151001",   "lastNight": "20151002",   "checkOut": "20151003",   "roomId": "12345",   "propId": "1234",   "ownerId": "123",   "numAdult": "2",   "numChild": "0",   "offerId": "1",   "voucherCode": "",   "referer": "",   "agent": "",   "ignoreAvail": false,   "propIds": [       1235,       1236   ],   "roomIds": [       12347,       12348,       12349   ] }</code> </pre> <br>  Veamos este objeto JSON y hablemos sobre lo que est√° mal aqu√≠. <br><br><ol><li>  Las fechas ( <code>checkIn</code> , <code>lastNight</code> y <code>checkOut</code> ) est√°n en formato <code>YYYYMMDD</code> .  No hay absolutamente ninguna raz√≥n para no usar el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">formato</a> est√°ndar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ISO 8601</a> ( <code>YYYY-MM-DD</code> ) al convertir fechas en cadenas, ya que este es un est√°ndar ampliamente utilizado para presentar fechas.  Es familiar para muchos desarrolladores, es lo que muchos analizadores JSON esperan recibir en la entrada.  Adem√°s, existe la sensaci√≥n de que el campo <code>lastNight</code> es redundante, ya que hay un campo <code>checkOut</code> , que siempre est√° representado por una fecha un d√≠a antes de la fecha especificada en <code>lastNight</code> .  En relaci√≥n con las deficiencias mencionadas anteriormente, sugiero que, al dise√±ar tales API, se esfuerce por utilizar siempre m√©todos est√°ndar de presentaci√≥n de fechas y trate de no agobiar a los usuarios de API con la necesidad de trabajar con datos redundantes. </li><li>  Todos los campos de identificaci√≥n, as√≠ como los <code>numChild</code> <code>numAdult</code> y <code>numChild</code> , son num√©ricos, pero se representan como cadenas.  En este caso, no hay raz√≥n aparente para representarlos como cadenas. </li><li>  Aqu√≠ puede observar los siguientes pares de campos: <code>roomId</code> y <code>roomIds</code> , as√≠ como <code>propId</code> y <code>propIds</code> .  La presencia de los <code>propId</code> <code>roomId</code> y <code>propId</code> es redundante, ya que ambos pueden usarse para transmitir identificadores.  Adem√°s, hay un problema con los tipos.  Tenga en cuenta que el campo <code>roomId</code> es un campo de cadena, y los valores num√©ricos de los identificadores deben usarse en la matriz <code>roomIds</code> .  Esto puede generar confusi√≥n, problemas con el an√°lisis y, adem√°s, sugiere que en el servidor algunas operaciones se realizan con cadenas y otras con n√∫meros, a pesar de que estas cadenas y n√∫meros se utilizan para representar lo mismo. datos </li></ol><br>  Me gustar√≠a invitar a los desarrolladores de API a intentar no complicar la vida de aquellos que usar√°n estas API, mientras cometen errores como las API al dise√±ar las API.  Es decir, vale la pena luchar por el formato de datos est√°ndar, para garantizar que no sean redundantes, para garantizar que no se utilicen diferentes tipos de datos para representar entidades homog√©neas.  Y no represente indiscriminadamente todo como cadenas. <br><br><h2>  <font color="#3AC1EF">Problema # 2: formato del cuerpo de respuesta</font> </h2><br>  Como ya se mencion√≥, solo estamos interesados ‚Äã‚Äãen el <code>/getAvailabilities</code> API <code>/getAvailabilities</code> .  Veamos c√≥mo se ve la respuesta de este punto final y hablemos sobre las deficiencias que se hicieron durante su formaci√≥n.  Recuerde que al acceder a la API, estamos interesados ‚Äã‚Äãen una lista de identificadores de objetos que son gratuitos durante un per√≠odo de tiempo determinado y pueden acomodar a un n√∫mero determinado de personas.  A continuaci√≥n se muestra un ejemplo del cuerpo de la solicitud a la API y un ejemplo de lo que devuelve en respuesta a esta solicitud. <br><br>  Aqu√≠ est√° la solicitud: <br><br><pre> <code class="plaintext hljs">{   "checkIn": "20190501",   "checkOut": "20190503",   "ownerId": "25748",   "numAdult": "2",   "numChild": "0" }</code> </pre> <br>  Aqu√≠ est√° la respuesta: <br><br><pre> <code class="plaintext hljs">{   "10328": {       "roomId": "10328",       "propId": "4478",       "roomsavail": "0"   },   "13219": {       "roomId": "13219",       "propId": "5729",       "roomsavail": "0"   },   "14900": {       "roomId": "14900",       "propId": "6779",       "roomsavail": 1   },   "checkIn": "20190501",   "lastNight": "20190502",   "checkOut": "20190503",   "ownerId": 25748,   "numAdult": 2 }</code> </pre> <br>  Hable sobre problemas de respuesta. <br><br><ol><li>  En el cuerpo de la respuesta, las <code>numAdult</code> <code>ownerId</code> y <code>numAdult</code> repente se convirtieron en n√∫meros.  Y en la solicitud fue necesario indicarlos en forma de cadenas. </li><li>  La lista de objetos inmobiliarios se presenta en forma de propiedades de objeto, cuyas claves son identificadores de habitaci√≥n ( <code>roomId</code> ).  Ser√≠a l√≥gico esperar que dichos datos se generen como una matriz.  Para nosotros, esto significa que para obtener una lista de habitaciones disponibles, necesitamos <code>roomsavail</code> sobre todo el objeto, mientras verificamos la presencia de ciertas propiedades de los objetos encerrados en √©l, como <code>roomsavail</code> , y no prestamos atenci√≥n a algo como <code>checkIn</code> y <code>lastNight</code> .  Entonces ser√≠a necesario verificar el valor de la propiedad <code>roomsavail</code> , y si es mayor que 0, podr√≠amos concluir que la propiedad correspondiente est√° disponible para la reserva.  Ahora echemos un vistazo a la propiedad <code>roomsavail</code> .  Estas son las opciones para presentarlo en el cuerpo de respuesta: <code>"roomsavail": "0"</code> y <code>"roomsavail": 1</code> .  ¬øVes el patr√≥n?  Si las habitaciones est√°n ocupadas, el valor de la propiedad se representa con una cadena.  Si es gratis, se convierte en un n√∫mero.  Esto puede generar muchos problemas en los lenguajes que est√°n estrictamente relacionados con los tipos de datos, ya que en ellos la misma propiedad no debe tomar valores de diferentes tipos.  En relaci√≥n con lo anterior, me gustar√≠a sugerir a los desarrolladores que usen matrices de objetos JSON para representar ciertos conjuntos de datos, y que no usen construcciones inconvenientes en forma de pares clave-valor similares a los que estamos considerando aqu√≠.  Adem√°s, es necesario asegurarse de que los campos de los objetos homog√©neos no contengan datos de diferentes tipos.  Una respuesta del servidor formateada correctamente podr√≠a parecerse a la siguiente.  Tenga en cuenta que al presentar datos en este formulario, la informaci√≥n de la sala no contiene datos duplicados. </li></ol><br><pre> <code class="plaintext hljs">{   "properties": [       {           "id": 4478,           "rooms": [               {                   "id": 12328,                   "available": false               }           ]       },       {           "id": 5729,           "rooms": [               {                   "id": 13219,                   "available": false               }           ]       },       {           "id": 6779,           "rooms": [               {                   "id": 14900,                   "available": true               }           ]       }   ],   "checkIn": "2019-05-01",   "lastNight": "2019-05-02",   "checkOut": "2019-05-03",   "ownerId": 25748,   "numAdult": 2 }</code> </pre> <br><h2>  <font color="#3AC1EF">Problema 3: manejo de errores</font> </h2><br>  As√≠ es como se organiza el manejo de errores en la API considerada aqu√≠: el sistema env√≠a respuestas con un c√≥digo de <code>200</code> a todas las solicitudes, incluso si se produce un error.  Esto significa que la √∫nica forma de distinguir una respuesta normal de una respuesta con un mensaje de error es analizar el cuerpo de la respuesta y verificar la presencia de campos de <code>error</code> o <code>errorCode</code> de <code>error</code> en ella.  Solo se proporcionan los siguientes 6 c√≥digos de error en la API. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/03c/627/623/03c627623d8d26449cd6788e747643aa.png"></div><br>  <i><font color="#999999">Camas24 c√≥digos de error API</font></i> <br><br>  Sugiero que todos los que lean esto intenten no devolver una respuesta con el c√≥digo 200 (procesamiento exitoso de la solicitud) si algo sali√≥ mal al procesar la solicitud.  Puede realizar este paso solo si lo proporciona el marco en funci√≥n del cual est√° desarrollando la API.  La devoluci√≥n de c√≥digos de respuesta adecuados permite a los clientes API saber de antemano si necesitan analizar el cuerpo de la respuesta o no, y c√≥mo hacerlo (es decir, analizar una respuesta normal del servidor o un objeto de error). <br><br>  En nuestro caso, hay dos formas de mejorar la API en esta direcci√≥n: puede proporcionar un c√≥digo HTTP especial en el rango de 400-499 para cada uno de los 6 posibles errores (es mejor hacerlo), o devolver, si ocurre un error, el c√≥digo 500, que permitir√° al menos, el cliente debe saber antes de analizar el cuerpo de la respuesta que contiene informaci√≥n sobre el error. <br><br><h2>  <font color="#3AC1EF">Problema n√∫mero 4: "instrucciones"</font> </h2><br>  A continuaci√≥n se encuentran las "instrucciones" para usar la API de la documentaci√≥n del proyecto: <br><br>  Lea las siguientes instrucciones cuando use la API. <br><br><ol><li>  Las llamadas a la API deben dise√±arse de modo que durante su ejecuci√≥n tengan que enviar y recibir una cantidad m√≠nima de datos. </li><li>  Las llamadas a la API se realizan de una en una.  Debe esperar hasta la pr√≥xima llamada a la API antes de hacer la pr√≥xima llamada. </li><li>  Si necesita hacer varias llamadas a la API, se debe proporcionar una pausa de unos segundos entre ellas. </li><li>  No es necesario realizar llamadas API con demasiada frecuencia, manteniendo el nivel de llamadas en el nivel m√≠nimo necesario para resolver las tareas del cliente. </li><li>  El uso excesivo de la API dentro de un per√≠odo de 5 minutos conducir√° a la suspensi√≥n de su cuenta sin notificaciones adicionales. </li><li>  Nos reservamos el derecho de bloquear el acceso al sistema a los clientes que, en nuestra opini√≥n, usan la API en exceso.  Esto se hace a nuestra discreci√≥n y sin previo aviso. </li></ol><br>  Si bien los puntos 1 y 4 parecen bastante justificados, no puedo estar de acuerdo con los otros puntos de esta instrucci√≥n.  Consid√©ralos. <br><br><ol><li>  Art√≠culo n√∫mero 2.  Si est√° desarrollando una API REST, se supone que ser√° una API independiente del estado.  La independencia de las llamadas API de las llamadas anteriores es una de las razones por las que la tecnolog√≠a REST ha encontrado una amplia aplicaci√≥n en aplicaciones en la nube.  Si un determinado m√≥dulo del sistema no es compatible con el estado, se puede volver a implementar f√°cilmente en caso de error.  Los sistemas basados ‚Äã‚Äãen dichos m√≥dulos se escalan f√°cilmente cuando cambia la carga sobre ellos.  Al dise√±ar una API RESTful, debe asegurarse de que sea una API independiente del estado y de que quienes la utilizan no tengan que preocuparse por algo como ejecutar solo una solicitud a la vez. </li><li>  Art√≠culo n√∫mero 3.  Este art√≠culo se ve bastante extra√±o y ambiguo.  No puedo entender la raz√≥n por la cual se escribi√≥ este p√°rrafo de la instrucci√≥n, pero tengo la sensaci√≥n de que nos dice que en el proceso de procesamiento de la solicitud, el sistema realiza ciertas acciones, y si est√° "distra√≠do" por otra solicitud, no enviado a tiempo, esto puede interferir con su trabajo.  Adem√°s, el hecho de que el autor del manual diga "unos segundos" no nos permite averiguar la duraci√≥n exacta de la pausa que debe sostenerse entre solicitudes sucesivas. </li><li>  Art√≠culos No. 5 y No. 6.  Se refiere al "uso excesivo de la API", pero no se dan criterios para el "uso excesivo".  ¬øQuiz√°s son 10 solicitudes por segundo?  O tal vez 1?  Adem√°s, algunos proyectos web pueden tener grandes cantidades de tr√°fico.  Si, sin ninguna raz√≥n adecuada y sin notificaci√≥n, cierran el acceso a la API que necesitan, sus administradores probablemente se negar√°n a usar tales API.  Si escribe tales instrucciones, use un lenguaje claro en ellas y ub√≠quese en el lugar de los usuarios que tienen que trabajar con su sistema, guiado por sus instrucciones. </li></ol><br><h2>  <font color="#3AC1EF">Problema n√∫mero 5: documentaci√≥n</font> </h2><br>  As√≠ es como se ve la documentaci√≥n de la API. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5b6/8bf/ae6/5b68bfae633a5c394a5f11d3b8c228ce.png"></div><br>  <i><font color="#999999">Camas24 Documentaci√≥n API</font></i> <br><br>  El √∫nico problema con esta documentaci√≥n es su apariencia.  Se ver√≠a mucho mejor si estuviera bien formateado.  Especialmente para mostrar la posible aparici√≥n de dicha documentaci√≥n, yo, usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dillinger</a> y gastando menos de dos minutos en ello, hice la siguiente versi√≥n.  En mi opini√≥n, se ve mucho mejor que lo anterior. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac4/e71/7fe/ac4e717fe2757b3f4af62733a857ff2b.png"></div><br>  <i><font color="#999999">Documentaci√≥n mejorada</font></i> <br><br>  Para crear tales materiales, se recomienda utilizar herramientas especiales.  Si estamos hablando de documentos simples similares al descrito anteriormente, entonces algo como un archivo de rebajas regular es suficiente para su dise√±o.  Si la documentaci√≥n es m√°s complicada, para su dise√±o es mejor usar herramientas como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Swagger</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Apiary</a> . <br><br>  Por cierto, si quieres echar un vistazo a la documentaci√≥n de la API de Beds24, √©chale un vistazo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><h2>  <font color="#3AC1EF">Problema 6: Seguridad</font> </h2><br>  La documentaci√≥n para todos los puntos finales API dice lo siguiente: <br><br>  <i><font color="#999999">Para usar estas funciones, se debe permitir el acceso a la API.</font></i>  <i><font color="#999999">Esto se hace en el men√∫ AJUSTES ‚Üí CUENTA ‚Üí ACCESO A LA CUENTA.</font></i> <br><br>  Sin embargo, en realidad, cualquiera puede acceder a esta API y, mediante algunas llamadas, obtener informaci√≥n de ella sin proporcionar ninguna credencial.  Por ejemplo, esto tambi√©n se aplica a las consultas sobre la disponibilidad de ciertas viviendas.  Esto se discute en otra parte de la documentaci√≥n. <br><br>  <i><font color="#999999">La mayor√≠a de los m√©todos JSON requieren una clave API para acceder a una cuenta.</font></i>  <i><font color="#999999">La clave de acceso a la API se puede configurar usando el men√∫ AJUSTES ‚Üí CUENTA ‚Üí ACCESO A LA CUENTA.</font></i> <br><br>  Adem√°s de la explicaci√≥n incomprensible de los problemas de autenticaci√≥n, resulta que el usuario debe crear la clave para acceder a la API por su cuenta (esto se hace, por cierto, rellenando manualmente el campo correspondiente, no se proporcionan algunos medios para crear claves autom√°ticamente).  La longitud de la clave debe tener entre 16 y 64 caracteres.  Si permite que los usuarios creen sus propias claves para acceder a la API, esto puede dar lugar a la aparici√≥n de claves muy inseguras que se pueden recoger f√°cilmente.  En una situaci√≥n similar, son posibles los problemas asociados con el contenido de las claves, ya que puede ingresar cualquier cosa en el campo clave.  En el peor de los casos, esto podr√≠a conducir a un ataque al servicio mediante inyecci√≥n SQL o algo as√≠.  Al dise√±ar una API, no permita que los usuarios creen claves para acceder a la API ellos mismos.  En su lugar, genere claves para ellos autom√°ticamente.  El usuario no deber√≠a poder cambiar el contenido de dicha clave, pero, si es necesario, deber√≠a poder generar una nueva clave, reconociendo la antigua como inv√°lida. <br><br>  En el caso de solicitudes que requieren autenticaci√≥n, vemos otro problema.  Consiste en el hecho de que se debe enviar un token de autenticaci√≥n como parte del cuerpo de la solicitud.  As√≠ es como se describe en la documentaci√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b45/548/cb9/b45548cb94e4cd4dd64ae53ec5c6dbb8.png"></div><br>  <i><font color="#999999">Ejemplo de autenticaci√≥n API de Beds24</font></i> <br><br>  Si el token de autenticaci√≥n se transmite en el cuerpo de la solicitud, esto significa que el servidor deber√° analizar el cuerpo de la solicitud antes de que llegue a la clave.  Despu√©s de eso, extrae la clave, realiza la autenticaci√≥n y luego decide, qu√© debe hacer con la solicitud, cumplirla o no.  Si la autenticaci√≥n es exitosa, el servidor no estar√° sujeto a una carga adicional, ya que en este caso el cuerpo de la solicitud a√∫n deber√≠a analizarse.  Pero si la solicitud no se pudo autenticar, se utilizar√° un tiempo valioso del procesador para analizar el cuerpo de la solicitud para nada.  Ser√≠a mejor enviar un token de autenticaci√≥n en el encabezado de la solicitud, utilizando algo como un esquema de autenticaci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">portador</a> .  Con este enfoque, el servidor necesitar√° analizar el cuerpo de la solicitud solo si la autenticaci√≥n es exitosa.  Otra raz√≥n por la que recomendamos utilizar un esquema est√°ndar como Bearer para la autenticaci√≥n es el hecho de que la mayor√≠a de los desarrolladores est√°n familiarizados con dichos esquemas. <br><br><h2>  <font color="#3AC1EF">Problema n√∫mero 7: rendimiento</font> </h2><br>  Este es el √∫ltimo problema en mi lista, pero no le resta importancia.  El hecho es que lleva un poco m√°s de un segundo completar la solicitud a la API en cuesti√≥n.  En aplicaciones modernas, tales demoras pueden ser inaceptables.  De hecho, aqu√≠ puede aconsejar a todos los involucrados en el desarrollo de la API que no se olviden del rendimiento. <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  A pesar de todos los problemas de los que est√°bamos hablando aqu√≠, la API en cuesti√≥n nos permiti√≥ resolver los problemas que enfrenta el proyecto.  Pero los desarrolladores se tomaron mucho tiempo para comprender la API e implementar todo lo que necesitan.  Adem√°s, para resolver problemas simples, tuvieron que escribir c√≥digo bastante complicado.  Si esta API se dise√±ara como deber√≠a, el trabajo se realizar√≠a m√°s r√°pido y la soluci√≥n llave en mano ser√≠a m√°s simple. <br><br>  Por lo tanto, me gustar√≠a pedirles a todos los que dise√±an la API que piensen c√≥mo los usuarios de sus servicios trabajar√°n con ella.  Aseg√∫rese de que la documentaci√≥n de la API describe completamente sus capacidades, de modo que sea comprensible y est√© bien dise√±ado.  Controle el nombre de las entidades, aseg√∫rese de que los datos que emite o recibe su API est√°n claramente estructurados para que sea f√°cil y conveniente trabajar con ellos.  Adem√°s, no se olvide de la seguridad y el manejo correcto de los errores.  Si tomamos en cuenta todo lo que hablamos al dise√±ar la API, entonces no necesita escribir algo como las extra√±as "instrucciones" que discutimos anteriormente para trabajar con ella. <br><br>  Como ya se mencion√≥, este material no pretende disuadir a los lectores de usar Beds24 o cualquier otro sistema con una API mal dise√±ada.  Mi objetivo era mostrar ejemplos de errores y enfoques para su soluci√≥n, dar recomendaciones, despu√©s de lo cual todos podr√≠an mejorar la calidad de sus desarrollos.  Espero que este material atraiga la atenci√≥n de los programadores que lo leen a la calidad de las soluciones que desarrollan.  Esto significa que habr√° m√°s API buenas en el mundo. <br><br>  <b>Estimados lectores!</b>  ¬øTe has encontrado con API mal dise√±adas? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436888/">https://habr.com/ru/post/es436888/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436876/index.html">[SAP] SAPUI5 para dummies parte 1: un ejercicio completo paso a paso</a></li>
<li><a href="../es436878/index.html">BERT es un modelo de lenguaje de vanguardia para 104 idiomas. Tutorial para lanzar BERT localmente y en Google Colab</a></li>
<li><a href="../es436880/index.html">Conceptos b√°sicos de la plantilla de C ++: plantillas de funciones</a></li>
<li><a href="../es436884/index.html">Dominamos async / wait en un ejemplo real</a></li>
<li><a href="../es436886/index.html">Usando Babel y Webpack para configurar un proyecto React desde cero</a></li>
<li><a href="../es436890/index.html">Tutorial React Parte 10: Taller sobre c√≥mo trabajar con propiedades de componentes y estilo</a></li>
<li><a href="../es436892/index.html">Tutorial React Parte 11: Formaci√≥n de marcado din√°mico y el m√©todo de matriz de mapa</a></li>
<li><a href="../es436894/index.html">Creeping IT Apocalypse. Los nuevos servicios en la nube dejar√°n a algunos ingenieros sin trabajo</a></li>
<li><a href="../es436896/index.html">docker-pretty-ps - finalmente un docker legible ps</a></li>
<li><a href="../es436900/index.html">Encuentro FunTech ML</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>