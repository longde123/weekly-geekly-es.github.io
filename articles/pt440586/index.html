<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí™üèª üõÖ üè≥Ô∏è‚Äçüåà Consenso Exonum: Como Funciona ü§úüèΩ üë¥üèª üßôüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ExonumTM √© nossa estrutura de blockchain privada de c√≥digo aberto. Hoje, mostraremos como o algoritmo de consenso dele funciona. 

  
 Imagem: Bitfury...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Consenso Exonum: Como Funciona</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bitfury/blog/440586/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ExonumTM</a> √© nossa estrutura de blockchain privada de c√≥digo aberto.  Hoje, mostraremos como o algoritmo de consenso dele funciona. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/nb/ew/8w/nbew8wre-yuufyvjl8xxtxvvphg.png"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>Imagem: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bitfury</a></i></font> <br><br><h2>  Por que algoritmos de consenso s√£o necess√°rios </h2><br>  Antes de prosseguir para a hist√≥ria de como o algoritmo de consenso Exonum <sup>TM</sup> funciona, vamos falar sobre por que esses algoritmos geralmente s√£o necess√°rios em blockchains. <br><br>  Blockchain √© um sistema distribu√≠do sem um administrador central.  Para concordar com um novo bloco na rede (e, consequentemente, nas transa√ß√µes), os participantes da rede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">usam</a> algoritmos de consenso especiais.  A tarefa de consenso √© ajudar os n√≥s da rede ponto a ponto a concordar com o que deve ser o seu novo estado - ou seja, escolher o pr√≥ximo bloco na cadeia de blockchain. <br><br>  Isso √© necess√°rio para proteger o blockchain e as informa√ß√µes armazenadas nele contra falsifica√ß√£o.  Por exemplo, o blockchain baseado no Exonum <sup>TM</sup> , implementado pela Russian Railways, registra informa√ß√µes sobre opera√ß√µes com pe√ßas para carros e trens.  O blockchain garante a confiabilidade dos dados no bloco, o que permite √† empresa monitorar a rota de pe√ßas de reposi√ß√£o do fornecedor e detectar oportunamente falhas.  Falaremos mais sobre esse e outros casos ainda mais. <br><br><h2>  Que tarefas resolvemos criando o algoritmo de consenso Exonum </h2><br>  Ao desenvolver o algoritmo de consenso Exonum <sup>TM</sup> , foi importante resolver o problema do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">comportamento bizantino dos n√≥s</a> .  Por comportamento bizantino, entendemos a atividade maliciosa de n√≥s de rede individuais.  Essas atividades tamb√©m podem incluir situa√ß√µes em que os n√≥s perdem a conex√£o com a rede ou ficam offline. <br><br>  Em meados dos anos 80, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ficou provado</a> que, para garantir a estabilidade de um sistema distribu√≠do, ele deveria funcionar em condi√ß√µes de sincronismo parcial.  Ao mesmo tempo, o algoritmo de consenso deve ter os seguintes crit√©rios: <br><br><ul><li>  <b>Liveness</b> - deve poder aceitar um novo bloco a qualquer momento. </li><li>  <b>Consist√™ncia</b> - o banco de dados de transa√ß√µes em todos os n√≥s da rede deve ser id√™ntico. </li><li>  <b>Resist√™ncia √† censura</b> - os n√≥s n√£o devem dar prefer√™ncia a nenhuma transa√ß√£o ou ignor√°-la. </li></ul><br>  Para uma rede com um n√∫mero conhecido de participantes, um modelo de algoritmo de consenso resistente ao comportamento do n√≥ bizantino ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">toler√¢ncia a falhas bizantinas</a> , BFT), sob sincronismo parcial, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">permite menos de 1/3 dos participantes</a> maliciosos (bizantinos) na rede. <br><br><h2>  Como funciona o algoritmo de consenso do exonum </h2><br>  Existem tr√™s tipos de n√≥s na blockchain Exonum <sup>TM</sup> : validadores, auditores e clientes light.  Os primeiros s√£o participantes diretos do algoritmo de consenso, enquanto os √∫ltimos distribuem a carga na rede e controlam os validadores.  Quanto aos clientes light, eles apenas fornecem aos participantes da rede a oportunidade de enviar transa√ß√µes para o blockchain.  Clientes e auditores Light n√£o est√£o diretamente envolvidos no algoritmo de consenso, portanto n√£o falaremos sobre eles neste material. <br><br>  A tarefa dos validadores √© votar na inclus√£o de novos blocos na blockchain.  Como dissemos acima, a rede Exonum <sup>TM</sup> pode funcionar de forma est√°vel, mesmo que um ter√ßo de todos os n√≥s seja bizantino.  Consequentemente, para obter consenso, o bloco deve aprovar mais de 2/3 dos n√≥s da rede blockchain.  E esta afirma√ß√£o pode ser confirmada matematicamente. <br><br>  Suponha que a rede tenha h validadores de n√≥s honestos (honestos) ef bizantinos (defeituosos).  Ent√£o o n√∫mero total de validadores pode ser representado como N = h + f.  Todos os validadores decidem sobre um "vencedor" com base em uma regra de limite. <br><br><blockquote>  Diz: o <b>n√∫mero de votos para o vencedor deve ser maior ou igual a Œ± * N</b> , onde Œ± √© o n√∫mero no intervalo de 0 a 1. Portanto, a maioria absoluta de votos √© alcan√ßada quando Œ±&gt; 1/2. </blockquote><br>  No final da vota√ß√£o, cada validador decide independentemente qual dos dois candidatos venceu.  No entanto, os validadores n√£o podem decidir em quem votar, se houver poucos validadores enviando seus votos para o restante.  Isso pode acontecer se os n√≥s bizantinos come√ßarem a enviar votos para diferentes candidatos a membros honestos da rede, tentando confundi-los. <br><br>  Para excluir uma situa√ß√£o semelhante, √© necess√°rio observar duas condi√ß√µes: <br><br><ul><li>  Validadores honestos devem poder fazer escolhas sem a participa√ß√£o de n√≥s bizantinos.  Essa condi√ß√£o √© determinada pela propriedade liveness, sobre a qual falamos acima.  Matematicamente, √© expresso pela seguinte desigualdade: h ‚â• Œ± * N. </li><li>  Um candidato para quem uma minoria de validadores honestos votou n√£o pode superar o limite em Œ± * N. Isso √© ditado pelo crit√©rio de consist√™ncia.  A condi√ß√£o √© expressa da seguinte maneira: [h / 2] + f &lt;Œ± * N, onde [h / 2] √© a parte inteira do n√∫mero h / 2. </li></ul><br>  Como resultado, obtemos a seguinte cadeia de desigualdades: h&gt; 2f, Œ±&gt; 2/3 e N ‚â• 3f + 1. Segue-se que, para confirmar o bloqueio da transa√ß√£o, ele deve receber estritamente mais de 2/3 dos votos do validador. <br><br>  Em seguida, vamos falar sobre como os validadores votam na blockchain Exonum <sup>TM</sup> .  Em termos gerais, o esquema √© o seguinte: <br><br><img src="https://habrastorage.org/webt/ec/iq/gx/eciqgxzxfgvxbvavqr3j5x49o50.png"><br><br>  O processo de obten√ß√£o de consenso come√ßa com o fato de que o n√≥ principal - √© selecionado por um algoritmo separado e muda regularmente - forma uma lista de transa√ß√µes que devem ser adicionadas √† blockchain (faz uma <b><i>proposta</i></b> ).  Essa lista √© ent√£o transmitida por toda a rede para os n√≥s do validador. <br><br>  Os validadores verificam a mensagem recebida quanto √† conformidade com o formato de serializa√ß√£o.  Se algum erro for registrado, o n√≥ ignorar√° completamente a mensagem recebida.  Por exemplo, a proposta de adicionar um bloco ao meio da blockchain ou registrar novamente uma transa√ß√£o existente ser√° ignorada.  Se tudo estiver em ordem, o est√°gio de vota√ß√£o come√ßar√° - os n√≥s validadores votam para adicionar o bloco √† blockchain, transmitindo a mensagem anterior. <br><br>  Esse n√≥, cuja proposta recebeu mais de 2/3 das aprova√ß√µes dos validadores, perde a oportunidade de votar em propostas de outros validadores e n√£o pode alterar sua <b><i>proposta</i></b> .  Esse estado √© chamado de <i>prova de bloqueio</i> . <br><br>  Depois que o n√∫mero exigido de votos dos validadores √© obtido, o n√≥ principal registra as transa√ß√µes aprovadas no bloco e transmite uma mensagem especial - <b><i>pr√©</i></b> - <b><i>confirma√ß√£o</i></b> .  Ele cont√©m um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">hash do estado atualizado da blockchain</a> e indica que o n√≥ est√° pronto para adicionar o bloco proposto √† cadeia.  No momento em que a maioria dos validadores responde com uma mensagem de <b><i>pr√©</i></b> - <b><i>confirma√ß√£o</i></b> semelhante (com o mesmo hash), o bloco √© adicionado ao blockchain.  O consenso √© alcan√ßado e o procedimento √© repetido para cada bloco subsequente. <br><br>  Para aumentar a estabilidade do sistema, os validadores trocam periodicamente mais duas mensagens - <b><i>Solicita√ß√£o</i></b> e <b><i>Bloqueio</i></b> .  O primeiro √© gerado se os n√≥s n√£o tiverem dados de transa√ß√£o.  O segundo √© necess√°rio para transmitir informa√ß√µes sobre o bloco de transa√ß√µes para um n√≥ que est√° atrasado (por exemplo, desconectado), para sincronizar a opera√ß√£o de toda a rede. <br><br>  Para avaliar as possibilidades do consenso Exonum <sup>TM</sup> , testamos a opera√ß√£o do blockchain com base em duas configura√ß√µes: em um data center e em v√°rios data centers geograficamente distribu√≠dos.  Durante os testes, o par√¢metro TPS foi avaliado - o n√∫mero de transa√ß√µes por segundo - para um n√∫mero diferente de validadores.  A seguir, forneceremos gr√°ficos das altera√ß√µes no desempenho da rede em cadeias de blocos para trabalhar com criptomoedas (gr√°fico preto) e carimbos de data e hora (gr√°fico azul). <br><br><img src="https://habrastorage.org/webt/cu/gz/os/cugzosghbkq9ff0cvnz5ysjsk1a.png"><br>  <font color="#A9A9A9"><i>TPS em fun√ß√£o do n√∫mero de validadores no caso de um √∫nico data center</i></font> <br><br><img src="https://habrastorage.org/webt/bc/ze/gy/bczegyazailtoztxqautkdxfgt8.png"><br>  <font color="#A9A9A9"><i>TPS em fun√ß√£o do n√∫mero de validadores no caso de v√°rios data centers</i></font> <br><br>  Em m√©dia, a blockchain Exonum <sup>TM</sup> conseguiu processar de 2 a 13 mil transa√ß√µes por segundo, dependendo da configura√ß√£o da rede. <br><br><h2>  Onde o Exonum j√° est√° sendo usado </h2><br>  A estrutura Exonum <sup>TM</sup> √© usada hoje em uma ampla variedade de projetos.  No ver√£o passado, em conjunto com a Technoprom, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">criamos um</a> mercado especial para a Russian Railways.  A blockchain Exonum <sup>TM</sup> registra opera√ß√µes com pe√ßas para trens e a folha de dados de cada carro.  Isso possibilita rastrear o movimento de todas as pe√ßas de reposi√ß√£o de fornecedores oficiais e detectar falhas. <br><br>  Tamb√©m <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lan√ßamos um</a> projeto educacional de blockchain baseado na University of Synergy.  O registro registra e armazena todas as informa√ß√µes sobre o desempenho do aluno: notas, resultados de exames e diplomas.  Segundo nossos colegas, essa abordagem elimina a possibilidade de fazer altera√ß√µes nos documentos educacionais e ajuda a economizar em arquivamento e certifica√ß√£o. <br><br>  Mesmo com base no Exonum <sup>TM,</sup> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">implementamos uma</a> s√©rie de projetos piloto acelerando o desenvolvimento e o lan√ßamento de software.  Nossos parceiros da organiza√ß√£o de engenharia Aricent testam a estrutura h√° seis meses.  A abordagem blockchain ao desenvolvimento de software aumentou a produtividade dos programadores e a velocidade da corre√ß√£o de erros. <br><br>  Iniciamos outro projeto em conjunto com um grupo de empresas m√©dicas.  Incluindo a startup Insillico, onde eles aplicam treinamento profundo para encontrar novos medicamentos.  O ExonumTM ser√° o n√∫cleo do ecossistema de dados do paciente.  O sistema simplificar√° os ensaios cl√≠nicos e tamb√©m ajudar√° na an√°lise dos registros m√©dicos e no DNA dos pacientes.  Como resultado, os m√©dicos poder√£o diagnosticar mais rapidamente doen√ßas e prescrever um tratamento mais eficaz. <br><br>  <i>Esperamos que nossa blockchain encontre aplica√ß√£o em outras tarefas e em outros setores.</i>  <i>Atualmente, estamos trabalhando para implementar o Exonum <sup>TM</sup> nos sistemas de vota√ß√£o, leil√£o e gerenciamento de direitos digitais.</i>  <i>Demonstra√ß√µes de algumas dessas solu√ß√µes podem ser encontradas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no site oficial da Exonum <sup>TM</sup></a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt440586/">https://habr.com/ru/post/pt440586/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt440570/index.html">Mapas de Sombra Reflexiva: Parte 2 - Implementa√ß√£o</a></li>
<li><a href="../pt440574/index.html">Russian AI Cup 2018, hist√≥ria 9 lugares</a></li>
<li><a href="../pt440576/index.html">Altera√ß√µes importantes no CTE no PostgreSQL 12</a></li>
<li><a href="../pt440582/index.html">Os carros el√©tricos s√£o puxados para o fundo da corpora√ß√£o automobil√≠stica?</a></li>
<li><a href="../pt440584/index.html">O que h√° de errado com o Raspberry Pi</a></li>
<li><a href="../pt440588/index.html">O MIT aprendeu a transmitir som com um laser</a></li>
<li><a href="../pt440590/index.html">Onde est√£o as pernas do Java Memory Model</a></li>
<li><a href="../pt440592/index.html">Criando um jogo AR com Vuforia</a></li>
<li><a href="../pt440594/index.html">1C e Yandex, computa√ß√£o em nuvem. Para cima e para baixo</a></li>
<li><a href="../pt440596/index.html">Flightradar24 - como funciona?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>