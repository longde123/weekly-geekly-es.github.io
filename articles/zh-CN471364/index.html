<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘… ğŸ“½ï¸ ğŸ¤±ğŸ¾ ä½¿ç”¨Telegramè¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ç®¡ç† ğŸ§—ğŸ» ğŸ“• ğŸˆ¹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä½œä¸ºè´¨é‡æ£€æŸ¥å·¥ç¨‹å¸ˆï¼Œæˆ‘å¼€å‘äº†ä¸€ä¸ªè‡ªæµ‹ç³»ç»Ÿã€‚ é¢ä¸´è®¸å¤šé—®é¢˜ï¼š 



- å¯¹äºæ¯ç§ç±»å‹çš„æµ‹è¯•ï¼Œæˆ‘å¿…é¡»åœ¨CIä¸­åˆ›å»ºè‡ªå·±çš„ä½œä¸šï¼Œç„¶åæ‰‹åŠ¨è¿è¡Œå®ƒä»¬ã€‚ 
- å¼€å‘äººå‘˜æ‹’ç»è¿è¡Œè‡ªæ£€æ¡ˆä¾‹ã€‚ 
- æ— æ³•åœ¨è®¾å¤‡ä¸Šçš„ä»»ä½•ä½ç½®è¿è¡Œè‡ªåŠ¨æµ‹è¯•ã€‚ 
- è´¨é‡æ£€æŸ¥æ‰‹åŠ¨æµ‹è¯•å·¥ç¨‹å¸ˆæ— æ³•è‡ªè¡Œè¿è¡Œè‡ªåŠ¨æµ‹è¯•ã€‚ 
 å› æ­¤ï¼Œæˆ‘å†³å®šä¸ºè¯¥æœºå™¨äººåˆ›...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨Telegramè¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ç®¡ç†</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471364/"> ä½œä¸ºè´¨é‡æ£€æŸ¥å·¥ç¨‹å¸ˆï¼Œæˆ‘å¼€å‘äº†ä¸€ä¸ªè‡ªæµ‹ç³»ç»Ÿã€‚ é¢ä¸´è®¸å¤šé—®é¢˜ï¼š <br><br><ul><li> å¯¹äºæ¯ç§ç±»å‹çš„æµ‹è¯•ï¼Œæˆ‘å¿…é¡»åœ¨CIä¸­åˆ›å»ºè‡ªå·±çš„ä½œä¸šï¼Œç„¶åæ‰‹åŠ¨è¿è¡Œå®ƒä»¬ã€‚ </li><li> å¼€å‘äººå‘˜æ‹’ç»è¿è¡Œè‡ªæ£€æ¡ˆä¾‹ã€‚ </li><li> æ— æ³•åœ¨è®¾å¤‡ä¸Šçš„ä»»ä½•ä½ç½®è¿è¡Œè‡ªåŠ¨æµ‹è¯•ã€‚ </li><li> è´¨é‡æ£€æŸ¥æ‰‹åŠ¨æµ‹è¯•å·¥ç¨‹å¸ˆæ— æ³•è‡ªè¡Œè¿è¡Œè‡ªåŠ¨æµ‹è¯•ã€‚ </li></ul><br> å› æ­¤ï¼Œæˆ‘å†³å®šä¸ºè¯¥æœºå™¨äººåˆ›å»ºä¸€ä¸ªå°çš„åŸå‹ï¼Œä»¥è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè¯¥æœºå™¨äººå°†æ¶µç›–ä¸Šè¿°å¤§å¤šæ•°é—®é¢˜ã€‚ <br><br>  <b>æƒ³æ³•æè¿°ï¼š</b> <br><br> ç”¨æˆ·æ ¹æ®é…ç½®ä¸­æŒ‡å®šçš„è§„åˆ™ï¼Œå‘èŠå¤©å‘é€å¿…è¦çš„å‘½ä»¤ï¼Œåœ¨CIç³»ç»Ÿä¸­å¯åŠ¨æ„å»ºã€‚  CIä½¿ç”¨pytestæ ‡è®°è¿è¡Œè‡ªåŠ¨æµ‹è¯•ã€‚ è¿è¡Œä¹‹åï¼Œæµ‹è¯•å­˜å‚¨åº“ä¸­çš„è„šæœ¬æ¥æ”¶æœ‰å…³æ„å»ºçŠ¶æ€çš„ä¿¡æ¯ï¼Œæ”¶é›†æ—¥å¿—å¹¶å°†å…¶é€šè¿‡ç”µæŠ¥èŠå¤©å‘é€å›ç”¨æˆ·ã€‚ <br><a name="habracut"></a><br>  <b>å·¥å…·ï¼š</b> <br><br><div class="spoiler">  <b class="spoiler_title">å·¥å…·</b> <div class="spoiler_text"><ul><li> ç¼–ç¨‹è¯­è¨€-Python </li><li> æµ‹è¯•æ¡†æ¶-Pytest </li><li>  HTTPå®¢æˆ·ç«¯-è¯·æ±‚ </li><li> æ•°æ®åº“-SQLite3 </li><li>  ORM-Peewee </li><li>  CIç³»ç»Ÿ-Travis CI </li></ul><br></div></div><br><br>  <b>ç›®å½•å†…å®¹</b> <br><br><ol><li> å‡†å¤‡å·¥ä½œ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æœºå™¨äººæ³¨å†Œ</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å‡†å¤‡æµ‹è¯•åº“</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æµ‹è¯•å’Œè®°å½•</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æŠ¥å‘Šç”Ÿæˆ</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é…ç½®Travis CI</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æœºå™¨äººç¨‹åº</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æœºå™¨äººçš„åŸç†</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨Herokuä¸Šéƒ¨ç½²</a> </li></ol><br><a name="1"></a><br><h3>  <b>æœºå™¨äººæ³¨å†Œ</b> </h3><br> é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ³¨å†Œè¯¥æœºå™¨äººçš„ç”µæŠ¥å¹¶è·å–å…¶å”¯ä¸€IDï¼ˆå³ä»¤ç‰Œï¼‰ã€‚ ä¸ºæ­¤ï¼Œå°†æ¶ˆæ¯/ startå†™å…¥@BotFatheræœºå™¨äººã€‚ <br> æˆ‘ä»¬çš„ä¸»è¦å›¢é˜Ÿæ˜¯/ newbotï¼Œé€šè¿‡è¾“å…¥ï¼Œæˆ‘ä»¬å°†è¢«è¦æ±‚æä¾›æœºå™¨äººçš„åç§°ã€‚ <br> ä½†æ˜¯æœ‰ä¸€æ¡è§„åˆ™-åç§°å¿…é¡»ä»¥botç»“å°¾ã€‚  BotFatherä½¿ç”¨æœºå™¨äººçš„åç§°å¹¶è¿”å›æ‚¨çš„ä»¤ç‰Œã€‚ é€šè¿‡å¼€å§‹èŠå¤©æ¥æ¿€æ´»æœºå™¨äººã€‚ æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦å°†APIè¯·æ±‚å‘é€åˆ°getUpdatesæ–¹æ³•ã€‚ <br><br><pre><code class="python hljs">https://api.telegram.org/bot{_}/getUpdates</code> </pre> <br> è®°ä½æ”¶åˆ°çš„hat_idã€‚ <br><br><a name="2"></a><br><h3>  <b>å‡†å¤‡æµ‹è¯•åº“</b> </h3><br> æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦ä½¿ç”¨æµ‹è¯•æ¥ç»„ç»‡å­˜å‚¨åº“ï¼Œæˆ–è€…ä½¿ç”¨é¢„å…ˆ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å‡†å¤‡çš„</a>æ–‡ç« ã€‚ <br><br><a name="3"></a><br>  <i>æµ‹è¯•å’Œè®°å½•</i> <br><br> åˆ›å»ºæµ‹è¯•åŠŸèƒ½ï¼Œå¹¶ç”¨pytestæ ‡è®°è¿›è¡Œæ ‡è®°-å®Œæ•´ï¼ŒçƒŸé›¾å’Œé¸ŸçŠ¶ã€‚ <br><br> é€šè¿‡åˆ›å»ºpytest.iniæ–‡ä»¶å¹¶åœ¨æµ‹è¯•å‡½æ•°ä¸­çš„æ—¥å¿—è®°å½•åº“ä¸­æ·»åŠ å¯¹infoæ–¹æ³•çš„è°ƒç”¨ï¼Œå°†æ—¥å¿—è®°å½•æ·»åŠ åˆ°æˆ‘ä»¬çš„æµ‹è¯•ä¸­éå¸¸é‡è¦ã€‚ <br>  pytest.iniæ–‡ä»¶åŒ…å«å®æ—¶æ—¥å¿—çš„æ¨¡æ¿å’Œä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">æµ‹è¯•ä¾‹</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> logging @pytest.mark.full @pytest.mark.smoke <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_cat_facts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> query = {<span class="hljs-string"><span class="hljs-string">"animal_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"cat"</span></span>, <span class="hljs-string"><span class="hljs-string">"amount"</span></span>: <span class="hljs-string"><span class="hljs-string">"2"</span></span>} response = requests.get(<span class="hljs-string"><span class="hljs-string">"https://cat-fact.herokuapp.com/facts/random"</span></span>, params=query) logging.info(<span class="hljs-string"><span class="hljs-string">f"Request url: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.request.url}</span></span></span><span class="hljs-string">, body: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.request.body}</span></span></span><span class="hljs-string">"</span></span>) logging.info(<span class="hljs-string"><span class="hljs-string">f"Request status: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.status_code}</span></span></span><span class="hljs-string">, body: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.text}</span></span></span><span class="hljs-string">"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> response.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span> @pytest.mark.full @pytest.mark.smoke <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_dog_facts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> query = {<span class="hljs-string"><span class="hljs-string">"animal_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"dog"</span></span>, <span class="hljs-string"><span class="hljs-string">"amount"</span></span>: <span class="hljs-string"><span class="hljs-string">"2"</span></span>} response = requests.get(<span class="hljs-string"><span class="hljs-string">"https://cat-fact.herokuapp.com/facts/random"</span></span>, params=query) logging.info(<span class="hljs-string"><span class="hljs-string">f"Request url: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.request.url}</span></span></span><span class="hljs-string">, body: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.request.body}</span></span></span><span class="hljs-string">"</span></span>) logging.info(<span class="hljs-string"><span class="hljs-string">f"Request status: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.status_code}</span></span></span><span class="hljs-string">, body: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.text}</span></span></span><span class="hljs-string">"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> response.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span> @pytest.mark.full <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_horse_facts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> query = {<span class="hljs-string"><span class="hljs-string">"animal_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"horse"</span></span>, <span class="hljs-string"><span class="hljs-string">"amount"</span></span>: <span class="hljs-string"><span class="hljs-string">"2"</span></span>} response = requests.get(<span class="hljs-string"><span class="hljs-string">"https://cat-fact.herokuapp.com/facts/random"</span></span>, params=query) logging.info(<span class="hljs-string"><span class="hljs-string">f"Request url: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.request.url}</span></span></span><span class="hljs-string">, body: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.request.body}</span></span></span><span class="hljs-string">"</span></span>) logging.info(<span class="hljs-string"><span class="hljs-string">f"Request status: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.status_code}</span></span></span><span class="hljs-string">, body: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.text}</span></span></span><span class="hljs-string">"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> response.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span> @pytest.mark.bird <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_bird_facts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> query = {<span class="hljs-string"><span class="hljs-string">"animal_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"bird"</span></span>, <span class="hljs-string"><span class="hljs-string">"amount"</span></span>: <span class="hljs-string"><span class="hljs-string">"2"</span></span>} response = requests.get(<span class="hljs-string"><span class="hljs-string">"https://cat-fact.herokuapp.com/facts/random"</span></span>, params=query) logging.info(<span class="hljs-string"><span class="hljs-string">f"Request url: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.request.url}</span></span></span><span class="hljs-string">, body: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.request.body}</span></span></span><span class="hljs-string">"</span></span>) logging.info(<span class="hljs-string"><span class="hljs-string">f"Request status: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.status_code}</span></span></span><span class="hljs-string">, body: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{response.text}</span></span></span><span class="hljs-string">"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> response.status_code == <span class="hljs-number"><span class="hljs-number">200</span></span></code> </pre> <br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">pytest.ini</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">[pytest] markers = smoke: for smoking testing full: for regression testing bird: facts only bird log_cli = 1 log_cli_level=INFO log_cli_format = %(asctime)s [%(levelname)8s] %(message)s log_cli_date_format='%Y-%m-%d %H:%M:%S' log_file = test_log.log log_file_level=INFO log_file_format= %(asctime)s [%(levelname)8s] %(message)s log_file_date_format='%Y-%m-%d %H:%M:%S'</code> </pre> <br></div></div><br><br><a name="4"></a><br>  <i>æŠ¥å‘Šç”Ÿæˆ</i> <br><br> æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼Œè¯¥è„šæœ¬åœ¨ç»„è£…å®Œæˆåä»CIç³»ç»Ÿæ”¶é›†ä¿¡æ¯ï¼Œå¹¶å°†å…¶ä¸æ—¥å¿—ä¸€èµ·å‘é€åˆ°ç”µæŠ¥èŠå¤©ã€‚ <br> åœ¨è„šæœ¬å†…éƒ¨ï¼Œæ‚¨éœ€è¦ç”¨å…ˆå‰æ”¶åˆ°çš„å€¼æ›¿æ¢TELEGRAM_BOTå’ŒCHAT_IDå€¼ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">è„šæœ¬ä»£ç </b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os TRAVIS_TEST_RESULT = os.environ.get(<span class="hljs-string"><span class="hljs-string">"TRAVIS_TEST_RESULT"</span></span>) TRAVIS_REPO_SLUG = os.environ.get(<span class="hljs-string"><span class="hljs-string">"TRAVIS_REPO_SLUG"</span></span>) TRAVIS_BRANCH = os.environ.get(<span class="hljs-string"><span class="hljs-string">"TRAVIS_BRANCH"</span></span>) TRAVIS_JOB_WEB_URL = os.environ.get(<span class="hljs-string"><span class="hljs-string">"TRAVIS_JOB_WEB_URL"</span></span>) TRAVIS_COMMIT_MESSAGE = os.environ.get(<span class="hljs-string"><span class="hljs-string">"TRAVIS_COMMIT_MESSAGE"</span></span>) TELEGRAM_TOKEN = <span class="hljs-string"><span class="hljs-string">"808619876:GHrtj9zs-KvKhhtWyu1YoxjtIikUYMGVjD8g"</span></span> CHAT_ID = <span class="hljs-string"><span class="hljs-string">"272560060"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> TRAVIS_TEST_RESULT != <span class="hljs-number"><span class="hljs-number">0</span></span>: build_status = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: build_status = <span class="hljs-string"><span class="hljs-string">""</span></span> TEXT = <span class="hljs-string"><span class="hljs-string">f" : </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{build_status}</span></span></span><span class="hljs-string"> \n : </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{TRAVIS_REPO_SLUG}</span></span></span><span class="hljs-string"> \n : </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{TRAVIS_BRANCH}</span></span></span><span class="hljs-string"> \n Commit : </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{TRAVIS_COMMIT_MESSAGE}</span></span></span><span class="hljs-string"> \n -: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{TRAVIS_JOB_WEB_URL}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> URL = <span class="hljs-string"><span class="hljs-string">f"https://api.telegram.org/bot</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{TELEGRAM_TOKEN}</span></span></span><span class="hljs-string">/sendMessage"</span></span> body = {<span class="hljs-string"><span class="hljs-string">'chat_id'</span></span>: CHAT_ID, <span class="hljs-string"><span class="hljs-string">'text'</span></span>: TEXT} response = requests.post(url=URL, json=body) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_file</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> URL = <span class="hljs-string"><span class="hljs-string">f"https://api.telegram.org/bot</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{TELEGRAM_TOKEN}</span></span></span><span class="hljs-string">/sendDocument"</span></span> body = {<span class="hljs-string"><span class="hljs-string">'chat_id'</span></span>: CHAT_ID} file = {<span class="hljs-string"><span class="hljs-string">"document"</span></span>: open(<span class="hljs-string"><span class="hljs-string">"test_log.log"</span></span>)} response = requests.post(url=URL, data=body, files=file) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response send_message() send_file()</code> </pre> <br></div></div><br> è¯¥è„šæœ¬ä½¿ç”¨ç³»ç»Ÿå˜é‡å¹¶ä»Travis CIæ¥æ”¶å€¼ã€‚ <br><br> å¦‚æœTRAVIS_TEST_RESULTçš„å€¼ä¸ç­‰äºé›¶ï¼Œåˆ™å°†è¯¥å€¼è®¾ç½®ä¸ºâ€œ Successfullyâ€ï¼Œé¦–å…ˆå¤„ç†send_messageå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†ç¨‹åºé›†ä¿¡æ¯å‘é€åˆ°èŠå¤©ï¼ˆå­˜å‚¨åº“åç§°ï¼Œæ‰€é€‰åˆ†æ”¯ï¼Œæ‰€ä½¿ç”¨çš„æäº¤åç§°ï¼Œé“¾æ¥åˆ°Webæ—¥å¿—ï¼‰ï¼Œç„¶åå‘é€send_fileå‡½æ•°æ—¥å¿—æ–‡ä»¶ã€‚ <br><br> åœ¨æµ‹è¯•åº“ä¸­ï¼Œæ·»åŠ é…ç½®æ–‡ä»¶-travis.ymlã€‚ åœ¨å†…éƒ¨ï¼Œæˆ‘ä»¬æè¿°äº†è£…é…å°†é€šè¿‡å…¶å·¥ä½œçš„ç®¡é“ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">travis.yml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">language: python python: - "3.7" install: - pip install -r requirements.txt script: pytest -m smoke after_script: - python tg_command.py</code> </pre> <br></div></div><br> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨GitHubä¸Šéƒ¨ç½²å­˜å‚¨åº“ï¼Œä»¥å°†å…¶æ·»åŠ åˆ°Travis CIã€‚ <br><br><a name="5"></a><br><h3>  <b>è®¾å®šTRAVIS_CI</b> </h3><br> æˆ‘ä»¬å»äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç°åœº</a> ã€‚ <br> ä½¿ç”¨æ‚¨çš„GitHubå¸æˆ·ç™»å½•ã€‚ åˆ‡æ¢åˆ°ä»ªè¡¨æ¿é€‰é¡¹å¡ã€‚ å…ˆå‰å·²æ‰“å¼€DevToolsï¼ˆNetworkï¼‰ï¼Œç„¶ååœ¨æµ‹è¯•å­˜å‚¨åº“å¯¹é¢çš„ç«™ç‚¹çš„â€œå­˜å‚¨åº“â€å­é€‰é¡¹å¡ä¸­ï¼Œç§»åŠ¨æ»‘å—-æ¿€æ´»å…¶è£…é…ã€‚ åœ¨â€œç½‘ç»œâ€é€‰é¡¹å¡ï¼ˆDevToolsï¼‰ä¸­ï¼Œä¸€ä¸ªæ´»åŠ¨è¯·æ±‚åˆ°è¾¾ï¼Œåœ¨é¢„è§ˆä¸­æœ‰å…³äºå­˜å‚¨åº“IDçš„ä¿¡æ¯ï¼Œå¿…é¡»è®°ä½è¯¥ç¼–å·ï¼ˆå¤åˆ¶/å†™å…¥ï¼‰ã€‚ åœ¨è®¾ç½®é€‰é¡¹å¡ä¸­åˆ‡æ¢åˆ°è¯¥ç«™ç‚¹ã€‚ æˆ‘ä»¬å¤åˆ¶æˆ–è®°ä½ä»¤ç‰Œ-æˆ‘ä»¬éœ€è¦å®ƒã€‚ <br><br><a name="6"></a><br><h3>  <b>æœºå™¨äººç¨‹åº</b> </h3><br> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šè¿‡å¤šåœ°åˆ†æä»£ç ï¼Œæ‚¨å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å­˜å‚¨åº“ä¸­</a>çœ‹åˆ°å®ƒã€‚ ç°åœ¨ï¼Œå¯¹æˆ‘ä»¬è€Œè¨€ï¼Œäº†è§£è¯¥ä¸»é¢˜çš„åŸºç¡€å¾ˆé‡è¦ï¼Œå› æ­¤è®©æˆ‘ä»¬ç»§ç»­è®¾ç½®æˆ‘ä»¬çš„æœºå™¨äººï¼š <br><br> å­˜å‚¨åº“å†…éƒ¨æ˜¯æ–‡ä»¶ï¼š <br><br><ol><li>  main.py-æœºå™¨äººè„šæœ¬; </li><li>  models.py-å¸¦æœ‰ORMæ¨¡å‹çš„æ–‡ä»¶ï¼› </li><li>  conf.ini-å…·æœ‰é…ç½®å˜é‡çš„æ–‡ä»¶ï¼› </li><li>  runtime.txt-ä¿®æ­£äº†Travis CIçš„Pythonç‰ˆæœ¬å€¼ï¼› </li><li>  procfile-gunicornçš„è®¾ç½®ï¼› </li><li>  wsgi.py-ä½¿ç”¨gunicornçš„åº”ç”¨ç¨‹åºå¯åŠ¨æ–‡ä»¶ã€‚ </li></ol><br> ä¸ºäº†ä½¿æ‚¨çš„æœºå™¨äººæ­£å¸¸å·¥ä½œï¼Œæ‚¨éœ€è¦æ›¿æ¢conf.iniä¸­çš„æ•°æ®ï¼Œå³ï¼š <br><br><ul><li>  travis_token-å‘Travis CIæŒ‡ç¤ºæ”¶åˆ°çš„ä»¤ç‰Œï¼› </li><li>  travis_base_url-æŒ‡å®šTravis CI APIçš„åœ°å€ï¼› </li><li>  travis_repository_id-åœ¨Travis CIå†…éƒ¨é€šè¿‡è‡ªåŠ¨æµ‹è¯•æŒ‡å®šå­˜å‚¨åº“çš„IDï¼› </li><li>  telegram_chat_id-æŒ‡å®šå°†æ¥è‡ªæœºå™¨äººçš„æ¶ˆæ¯å‘é€åˆ°çš„ç”µæŠ¥çš„èŠå¤©IDï¼› </li><li>  telegram_bot_url-æŒ‡å®šæ¼«æ¸¸å™¨çš„ç½‘å€ã€‚ </li></ul><br><div class="spoiler">  <b class="spoiler_title">Conf.iniç¤ºä¾‹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">[travis] travis_token = token HkjhkjgGKJhjgFGfdgd travis_base_url = https://api.travis-ci.org travis_repository_id = 10898384 [telegram] telegram_chat_id = 24234234 telegram_bot_url = https://api.telegram.org/bot87543366:AAHtj9zs-Kv4zGWyu1eTXegikUYMGVjD8g/</code> </pre> <br></div></div><br><a name="7"></a><br>  <i>æœºå™¨äººçš„åŸç†</i> <br><br> æ¯ä¸ªè¯·æ±‚å¿…é¡»ç»™å‡º200çš„å“åº”çŠ¶æ€ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦ã€‚å¦åˆ™ï¼Œç”µæŠ¥å°†å¼€å§‹å‘¨æœŸæ€§åœ°å‘é€è¯·æ±‚ï¼Œç›´åˆ°æ”¶åˆ°æœ‰æ•ˆçš„å“åº”ä¸ºæ­¢ã€‚ <br><br> è¯¥æœºå™¨äººå…·æœ‰ä¸€ç»„å‘½ä»¤ï¼š <br><br> åˆ†éš”ç¬¦å¯ä»¥æ˜¯ä¸‹åˆ’çº¿ä»¥å¤–çš„ä»»ä½•ç‰¹æ®Šå­—ç¬¦ã€‚ <br><br><ul><li>  add_m-æ·»åŠ æµ‹è¯•å·¥å…·åŒ…ï¼ˆpythonæ ‡è®°ï¼‰ã€‚ <br> æ¨¡æ¿ï¼š*å‘½ä»¤* {å·¥å…·è¯´æ˜} {åˆ†éš”ç¬¦} {åç§°æ ‡è®°}ã€‚ <br> ç¤ºä¾‹ï¼šadd_mæµ‹è¯•é¸Ÿ/é¸Ÿã€‚ </li><li>  add_b-æ·»åŠ ä¸€ä¸ªåˆ†æ”¯è¿›è¡Œæµ‹è¯•ã€‚ <br> æ¨¡æ¿ï¼š*å‘½ä»¤* {åˆ†æ”¯çš„æè¿°} {åˆ†éš”ç¬¦} {gitåˆ†æ”¯çš„åç§°}ã€‚ <br> ç¤ºä¾‹ï¼šadd_bä¸»æœåŠ¡å™¨ã€‚ </li><li>  select-é»˜è®¤æƒ…å†µä¸‹ï¼Œå…è®¸æ‚¨é€‰æ‹©ä¸€ä¸ªåˆ†æ”¯è¿›è¡Œæµ‹è¯•ã€‚ <br> æ¨¡æ¿ï¼š*å‘½ä»¤*ã€‚ <br> ç¤ºä¾‹ï¼šè¾“å…¥é€‰æ‹©å‘½ä»¤åï¼Œå°†å‡ºç°æŒ‰é’®ï¼Œç”¨äºé€‰æ‹©ä½¿ç”¨add_bå‘½ä»¤æ·»åŠ åˆ°æ•°æ®åº“çš„åˆ†æ”¯ã€‚ </li><li>  run-å¯åŠ¨è£…é…çš„å‘½ä»¤ã€‚ <br> æ¨¡æ¿ï¼š*å‘½ä»¤*ã€‚ <br> ç¤ºä¾‹ï¼šè¾“å…¥è¿è¡Œå‘½ä»¤åï¼Œå°†æ˜¾ç¤ºç”¨äºé€‰æ‹©é€šè¿‡add_må‘½ä»¤æ·»åŠ åˆ°æ•°æ®åº“çš„è‡ªåŠ¨æµ‹è¯•é›†çš„æŒ‰é’®ã€‚ å¯åŠ¨æ—¶ï¼Œå°†è‡ªåŠ¨é€‰æ‹©ç”±selectå‘½ä»¤æŒ‡å®šçš„åˆ†æ”¯ã€‚ </li><li>  del_m-åˆ é™¤ä¸€ç»„æµ‹è¯•ã€‚ <br> æ¨¡æ¿ï¼š*å‘½ä»¤* {åç§°æ ‡è®°}ã€‚ <br> ç¤ºä¾‹ï¼šdel_m birdã€‚ </li><li>  del_b-åˆ é™¤åœ¨æ•°æ®åº“ä¸­è¾“å…¥çš„åˆ†æ”¯ã€‚ <br> æ¨¡æ¿ï¼š*å‘½ä»¤* {ä»gitåˆ†æ”¯}ã€‚ <br> ç¤ºä¾‹ï¼šdel_b masterã€‚ </li></ul><br>  <i>è¯¥æœºå™¨äººå¦‚ä½•å·¥ä½œï¼Ÿ</i> <br><br>  <b>1.</b>ç”¨æˆ·æ·»åŠ ä¸€ä¸ªæµ‹è¯•å¥—ä»¶ï¼ˆadd_mï¼‰ï¼š <br> è¯¥å‘½ä»¤å°†ç”¨æˆ·æ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†-gitä¸­åˆ†æ”¯çš„æè¿°å’Œåç§°ã€‚ åç§°å†™åœ¨æ•°æ®åº“å†…çš„mark_nameåˆ—ä¸­ï¼Œæè¿°å†™åœ¨mark_descriptionåˆ—ä¸­ã€‚ <br><br>  <b>2.</b>ç”¨æˆ·æ·»åŠ åˆ†æ”¯ï¼ˆadd_bï¼‰ï¼š <br> è¯¥å‘½ä»¤å°†ç”¨æˆ·æ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†-gitä¸­åˆ†æ”¯çš„æè¿°å’Œåç§°ã€‚ åç§°å†™åœ¨æ•°æ®åº“å†…çš„branch_nameåˆ—ä¸­ï¼Œæè¿°å†™åœ¨branch_descriptionåˆ—ä¸­ã€‚ <br><br>  <b>3.</b>ç”¨æˆ·é€‰æ‹©é»˜è®¤åˆ†æ”¯ï¼ˆé€‰æ‹©ï¼‰ï¼š <br> ç”¨æˆ·åœ¨èŠå¤©ä¸­æ¥æ”¶æŒ‰é’®ï¼Œè¿™äº›æŒ‰é’®æ˜¯æ ¹æ®æ¥è‡ªè¡¨branch_descriptionå’Œbranch_nameçš„æ•°æ®å½¢æˆçš„ã€‚ ç”¨æˆ·é€‰æ‹©å…·æœ‰æ‰€éœ€åˆ†æ”¯çš„æŒ‰é’®ã€‚ å®ƒè¢«å†™å…¥æ”¶è—å¤¹è¡¨ã€‚ <br><br>  <b>4.</b>ç”¨æˆ·å¼€å§‹æ„å»ºåˆå§‹åŒ–ï¼ˆè¿è¡Œï¼‰ï¼š <br> ç”¨æˆ·ä¼šæ ¹æ®è¡¨æ ¼ä¸­çš„æ•°æ®åœ¨èŠå¤©ä¸­æ¥æ”¶æŒ‰é’® <br>  mark_descriptionå’Œmark_nameã€‚ ç”¨æˆ·é€‰æ‹©å¸¦æœ‰å·¥å…·åŒ…çš„æŒ‰é’®æ¥è¿è¡Œè‡ªåŠ¨æµ‹è¯•ã€‚ <br><br> æœºå™¨äººæ ¹æ®ç”¨æˆ·é€‰æ‹©çš„æ•°æ®ï¼Œåœ¨TravisCIç±»çš„è§¦å‘æ–¹æ³•ä¸­ç”Ÿæˆä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶å°†å…¶å‘é€åˆ°Travisè¿›è¡Œæ‰§è¡Œã€‚ åœ¨Travisç³»ç»Ÿå†…éƒ¨ï¼Œè§¦å‘äº†buildé€‰é¡¹ã€‚ æ­¤é€‰é¡¹å°†è¦†ç›–travis.ymlæ–‡ä»¶ï¼Œå°†è„šæœ¬éƒ¨åˆ†æ›´æ”¹ä¸ºç”¨æˆ·é€‰æ‹©çš„æ•°æ®ã€‚ <br><br><a name="8"></a><br><h3>  <b>åœ¨HEROKUä¸Šéƒ¨ç½²</b> </h3><br> ä¸ºäº†ä½¿æœºå™¨äººæ­£å¸¸å·¥ä½œï¼Œå¿…é¡»å°†å…¶éƒ¨ç½²åˆ°ä¸»æœºã€‚ æˆ‘å»ºè®®ä½¿ç”¨Herokuï¼Œå› ä¸ºè¯¥å¹³å°æœ‰å…è´¹çš„èµ„è´¹ï¼Œå¯ä»¥ä¸ºæœºå™¨äººå·¥ä½œæä¾›å¿…è¦çš„åŠ¨åŠ›ã€‚ <br><br>  <i>å¦‚ä½•éƒ¨ç½²æœºå™¨äººï¼Ÿ</i> <br><br> ä¸ºäº†ä¸æè¿°æ•´ä¸ªè¿‡ç¨‹ï¼Œæˆ‘å°†åœ¨å¼€å§‹æ—¶ç•™ä¸‹æŒ‡å‘å®˜æ–¹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡æ¡£</a>çš„é“¾æ¥ï¼š <br><br> å¦‚æœè¦é€šè¿‡GUIä½¿ç”¨Herokuï¼Œè¯·åœ¨Githubä¸Šå¡«å†™ä»£ç ã€‚ æ‚¨éœ€è¦é€šè¿‡Heroku Webç•Œé¢è¿›è¡Œæ³¨å†Œã€‚ æ³¨å†Œåï¼Œå•å‡»æ–°å»º-&gt;åˆ›å»ºæ–°åº”ç”¨-&gt;è¾“å…¥åº”ç”¨åç§°å¹¶é€‰æ‹©ä¸€ä¸ªåœ°åŒºã€‚ è½¬åˆ°Deployé€‰é¡¹å¡ï¼Œç„¶ååœ¨Deploymentæ–¹æ³•ä¸­é€‰æ‹©ä¸Githubçš„é›†æˆã€‚ <br><br> åœ¨æˆ‘ä»¬é¢å‰å‡ºç°äº†ä¸€ä¸ªç”¨äºæœç´¢å­˜å‚¨åº“çš„å—ã€‚ è¾“å…¥å­˜å‚¨åº“çš„åç§°ï¼Œç„¶åå•å‡»â€œæœç´¢â€æŒ‰é’®ã€‚ åœ¨æœç´¢ç»“æœä¸­ï¼Œä¸å­˜å‚¨åº“åç§°ç›¸å¯¹åº”ï¼Œå•å‡»â€œè¿æ¥â€æŒ‰é’®ã€‚ åœ¨â€œæ‰‹åŠ¨éƒ¨ç½²â€å—ä¸­ï¼Œé€‰æ‹©åˆ†æ”¯ï¼Œç„¶åå•å‡»â€œéƒ¨ç½²â€ã€‚ <br><br> æœ€åä¸€åˆ»-æ‚¨éœ€è¦ä½¿ç”¨GETè¯·æ±‚æ¿€æ´»Webhooksï¼š <br><pre> <code class="python hljs">https://api.telegram.org/bot{id_}/setWebhook?url=https://{_}.herokuapp.com/bot</code> </pre> <br><br> è¯¥æœºå™¨äººå¯ä»¥ä½¿ç”¨ã€‚ æˆ‘ä»¬æ£€æŸ¥æ˜¯å¦ä¸€åˆ‡å¯¹æˆ‘ä»¬éƒ½æœ‰æ•ˆï¼š <br><br><img src="https://cdn1.radikalno.ru/uploads/2019/10/13/7d55521afbcfd87833197fc0a3ad0c82-full.jpg" alt="å›¾ç‰‡"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN471364/">https://habr.com/ru/post/zh-CN471364/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN471346/index.html">ä¸Šå‘¨ç¬¬384æœŸï¼ˆ2019å¹´10æœˆ7æ—¥è‡³13æ—¥ï¼‰æ¥è‡ªå‰ç«¯ä¸–ç•Œçš„æ–°é²œææ–™æ‘˜è¦</a></li>
<li><a href="../zh-CN471350/index.html">1969å¹´é€šè¿‡æ¨¡æ‹Ÿè®¡ç®—æœºå¯¹ä½å™ªå£°è¿ç®—æ”¾å¤§å™¨è¿›è¡Œé€†å‘å·¥ç¨‹</a></li>
<li><a href="../zh-CN471352/index.html">åœ¨LaTeXä¸­ç¼–å†™æ¼”ç¤ºæ–‡ç¨¿</a></li>
<li><a href="../zh-CN471358/index.html">å¦‚ä½•ä½¿ç”¨Python on Ontologyç¼–å†™æ™ºèƒ½åˆçº¦ï¼Ÿ ç¬¬4éƒ¨åˆ†ï¼šæœ¬æœºAPI</a></li>
<li><a href="../zh-CN471360/index.html">å¤åˆ¶æ–¹æ³•ã€‚ ICEè®¾è®¡çš„11ä¸ªç¤ºä¾‹</a></li>
<li><a href="../zh-CN471366/index.html">æ¬§ç›Ÿæ³•é™¢é»˜è®¤æƒ…å†µä¸‹åå¯¹Cookie-ä¸åº”é¢„å…ˆé€‰ä¸­å¤é€‰æ¡†</a></li>
<li><a href="../zh-CN471372/index.html">å…¬å¸ä¸ºä»€ä¹ˆè¦ç®¡ç†å‘˜å·¥æ™ºèƒ½æ‰‹æœºï¼Ÿ</a></li>
<li><a href="../zh-CN471374/index.html">æˆ‘ä»¬é‚€è¯·æ‚¨å‚åŠ å“ˆå°”ç§‘å¤«çš„NIXMultiConfï¼ƒ3</a></li>
<li><a href="../zh-CN471378/index.html">ç¼–ç¨‹ä»å“ªé‡Œå¼€å§‹ï¼Ÿ</a></li>
<li><a href="../zh-CN471380/index.html">æ¸—é€æµ‹è¯•äººå‘˜å¤„äºç½‘ç»œå®‰å…¨çš„æœ€å‰æ²¿</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>