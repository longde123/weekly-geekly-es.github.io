<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“‚ ğŸ¾ ğŸˆ Terraformer-è¦ç¼–ç çš„åŸºç¡€ç»“æ„ ğŸ” ğŸ•¤ ğŸ›³ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘æƒ³è°ˆè°ˆæˆ‘ä¸ºè§£å†³ä¸€ä¸ªæ—§é—®é¢˜è€Œç¼–å†™çš„æ–°CLIå·¥å…·ã€‚ 

 é—®é¢˜ 
 Terraformé•¿æœŸä»¥æ¥ä¸€ç›´æ˜¯Devops / Cloud / ITç¤¾åŒºçš„æ ‡å‡†ã€‚ è¿™å¯¹äºå°†åŸºç¡€ç»“æ„ç”¨ä½œä»£ç éå¸¸æ–¹ä¾¿ä¸”æœ‰ç”¨ã€‚ Terraformä¸­æœ‰å¾ˆå¤šé­…åŠ›ï¼Œè¿˜æœ‰è®¸å¤šå‰å­ï¼Œé”‹åˆ©çš„åˆ€å­å’Œè€™å­ã€‚ 
 ä½¿ç”¨Terraformï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Terraformer-è¦ç¼–ç çš„åŸºç¡€ç»“æ„</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450410/"><img src="https://habrastorage.org/getpro/habr/post_images/3ac/04c/136/3ac04c136f4060b5f1cc3c80401cb8b4.png" alt="å›¾ç‰‡"><br> æˆ‘æƒ³è°ˆè°ˆæˆ‘ä¸ºè§£å†³ä¸€ä¸ªæ—§é—®é¢˜è€Œç¼–å†™çš„æ–°CLIå·¥å…·ã€‚ <br><br><h3> é—®é¢˜ </h3><br>  Terraformé•¿æœŸä»¥æ¥ä¸€ç›´æ˜¯Devops / Cloud / ITç¤¾åŒºçš„æ ‡å‡†ã€‚ è¿™å¯¹äºå°†åŸºç¡€ç»“æ„ç”¨ä½œä»£ç éå¸¸æ–¹ä¾¿ä¸”æœ‰ç”¨ã€‚  Terraformä¸­æœ‰å¾ˆå¤šé­…åŠ›ï¼Œè¿˜æœ‰è®¸å¤šå‰å­ï¼Œé”‹åˆ©çš„åˆ€å­å’Œè€™å­ã€‚ <br> ä½¿ç”¨Terraformï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œæ–°äº‹ç‰©ï¼Œç„¶åè¿›è¡Œç®¡ç†ï¼Œæ›´æ”¹æˆ–åˆ é™¤ã€‚ é‚£äº›åœ¨äº‘ä¸­æ‹¥æœ‰åºå¤§åŸºç¡€æ¶æ„ä½†åˆä¸æ˜¯é€šè¿‡Terraformåˆ›å»ºçš„äººåˆå¦‚ä½•å‘¢ï¼Ÿ é‡å†™å’Œé‡æ–°åˆ›å»ºæ•´ä¸ªäº‘åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯æ˜‚è´µä¸”ä¸å®‰å…¨çš„ã€‚ <br> æˆ‘åœ¨2éƒ¨ä½œå“ä¸­é‡åˆ°äº†è¿™æ ·çš„é—®é¢˜ï¼Œæœ€ç®€å•çš„ç¤ºä¾‹æ˜¯å½“æ‚¨å¸Œæœ›æ‰€æœ‰å†…å®¹éƒ½ä»¥terraformæ–‡ä»¶çš„å½¢å¼å‡ºç°æ—¶ï¼Œå¹¶ä¸”æ‚¨æ‹¥æœ‰250å¤šä¸ªå­˜å‚¨æ¡¶å¹¶ç”¨æ‰‹ç¼–å†™äº†å¾ˆå¤šç”¨äºterraformçš„æ–‡ä»¶ã€‚ <br> è‡ª2014 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¹´</a>ä»¥æ¥ï¼Œterrafomä¸­å‡ºç°ä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é—®é¢˜ï¼Œ</a>è¯¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é—®é¢˜</a>å·²äº2016å¹´å…³é—­ï¼Œå¸Œæœ›ä¼šæœ‰è¿›å£ã€‚ <br><br> ä¸€èˆ¬è€Œè¨€ï¼Œæ‰€æœ‰å†…å®¹éƒ½åªä»å³åˆ°å·¦å¦‚å›¾æ‰€ç¤º <br><a name="habracut"></a><br><br> è­¦å‘Šï¼šæ’°æ–‡äººåœ¨ä¿„ç½—æ–¯ä¸€ç”Ÿä¸­æ²¡æœ‰åŠç”Ÿï¼Œä¹Ÿå¾ˆå°‘å†™ä¿„è¯­ã€‚ æ³¨æ„æ‹¼å†™é”™è¯¯ã€‚ <br><br><h3> è§£å†³æ–¹æ¡ˆ </h3><br>  1.æœ‰é€‚ç”¨äºAWS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">terraformingçš„</a>äº¤é’¥åŒ™å’Œæ—§è§£å†³æ–¹æ¡ˆã€‚ å½“æˆ‘å°è¯•é€šè¿‡250å¤šä¸ªå­˜å‚¨æ¡¶æ—¶ï¼Œæˆ‘æ„è¯†åˆ°é‚£é‡Œçš„ä¸€åˆ‡éƒ½å¾ˆç³Ÿç³•ã€‚  AWSå¾ˆä¹…ä»¥æ¥å°±å·²ç»æå‡ºäº†è®¸å¤šæ–°é€‰é¡¹ï¼Œè€Œterraformingå¯¹æ­¤ä¸€æ— æ‰€çŸ¥ï¼Œå¹¶ä¸”æ€»çš„æ¥è¯´ï¼Œå®ƒçš„ruby <a href="">æ¨¡æ¿çœ‹èµ·æ¥å¾ˆå·®</a> ã€‚ æ™šä¸Š2ç‚¹ä¹‹åï¼Œæˆ‘å‘é€äº†ä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Pullè¯·æ±‚</a> ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¦æ±‚</a>åœ¨é‚£é‡Œæ·»åŠ æ›´å¤šåŠŸèƒ½ï¼Œå¹¶ä¸”æ„è¯†åˆ°è¿™ç§è§£å†³æ–¹æ¡ˆæ ¹æœ¬ä¸åˆé€‚ã€‚ <br>  terraformingçš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œå®ƒä»AWSå¼€å‘å·¥å…·åŒ…è·å–æ•°æ®ï¼Œå¹¶é€šè¿‡æ¨¡æ¿ç”Ÿæˆtfå’Œtfstateã€‚ <br> æœ‰3ä¸ªé—®é¢˜ï¼š <br>  1.æ›´æ–°ä¸­æ€»ä¼šæœ‰ç§¯å‹ <br>  2. tfæ–‡ä»¶æœ‰æ—¶ä¼šåæ‰ <br>  3. tfstateä¸tfåˆ†å¼€æ”¶é›†ï¼Œå¹¶ä¸æ€»æ˜¯æ”¶æ•› <br> é€šå¸¸ï¼Œå¾ˆéš¾å¾—åˆ°â€œåœ°å½¢è®¡åˆ’â€å°†è¯´æ²¡æœ‰å˜åŒ–çš„ç»“æœ <br><br>  2.`terraform import`-terraformä¸­çš„å†…ç½®å‘½ä»¤ã€‚ å¦‚ä½•è¿ä½œï¼Ÿ <br> æ‚¨ç”¨èµ„æºçš„åç§°å’Œç±»å‹ç¼–å†™ä¸€ä¸ªç©ºçš„TFæ–‡ä»¶ï¼Œç„¶åè¿è¡Œâ€œ terraform importâ€å¹¶ä¼ é€’èµ„æºçš„IDã€‚  terraformè°ƒç”¨æä¾›è€…æ¥æ”¶æ•°æ®å¹¶åˆ¶ä½œä¸€ä¸ªtfstateæ–‡ä»¶ã€‚ <br> æœ‰3ä¸ªé—®é¢˜ï¼š <br>  1.æˆ‘ä»¬åªå¾—åˆ°tfstateæ–‡ä»¶ï¼Œè€Œtfç©ºå¿…é¡»ç”¨tfstateå†™å…¥æˆ–è½¬æ¢ <br>  2.æ¯æ¬¡åªèƒ½ä½¿ç”¨ä¸€ç§èµ„æºï¼Œå¹¶ä¸”ä¸æ”¯æŒæ‰€æœ‰èµ„æºã€‚  250æ¡¶ä»¥ä¸Šæˆ‘è¯¥æ€ä¹ˆåŠ <br>  3.æ‚¨éœ€è¦çŸ¥é“èµ„æºID-ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‚¨éœ€è¦å°†å…¶åŒ…è£…åœ¨æå–èµ„æºåˆ—è¡¨çš„ä»£ç ä¸­ <br> é€šå¸¸ï¼Œç»“æœæ˜¯ä¸å®Œæ•´çš„ï¼Œæ— æ³•å¾ˆå¥½åœ°æ‰©å±• <br><br><h3> æˆ‘çš„å†³å®š <br></h3> è¦æ±‚ï¼š <br>  1.èƒ½å¤ŸæŒ‰èµ„æºåˆ›å»ºtfå’Œtfstateæ–‡ä»¶ã€‚ ä¾‹å¦‚ï¼Œä¸‹è½½æ‰€æœ‰å­˜å‚¨æ¡¶/å®‰å…¨ç»„/è´Ÿè½½å¹³è¡¡å™¨ï¼Œå¹¶ä¸”â€œ terraform planâ€è¿”å›æ²¡æœ‰ä»»ä½•æ›´æ”¹ <br>  2.éœ€è¦2ä¸ªGCP + AWSäº‘ <br>  3.æ˜“äºæ¯æ¬¡æ›´æ–°ä¸”ä¸ä¼šæµªè´¹3å¤©å·¥ä½œæ—¶é—´åœ¨æ¯ç§èµ„æºä¸Šçš„æ—¶é—´çš„å…¨å±€è§£å†³æ–¹æ¡ˆ <br>  4.å¼€æº-æ¯ä¸ªäººéƒ½æœ‰è¿™æ ·çš„é—®é¢˜ <br><br>  Goè¯­è¨€-è¿™å°±æ˜¯æˆ‘å–œæ¬¢å®ƒçš„åŸå› ï¼Œå®ƒæœ‰ä¸€ä¸ªç”¨äºåˆ›å»ºåœ¨terraformä¸­ä½¿ç”¨çš„HCLæ–‡ä»¶çš„åº“ä»¥åŠè®¸å¤šåœ¨terraformä¸­å¯ç”¨çš„ä»£ç  <br><br><h3> æ–¹å¼ </h3><br> ç¬¬ä¸€æ¬¡å°è¯• <br> å¼€å§‹ä¸€ä¸ªç®€å•çš„é€‰æ‹©ã€‚ é€šè¿‡SDKè®¿é—®æ‰€éœ€èµ„æºçš„äº‘ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºç”¨äºTerraformçš„å­—æ®µã€‚ å°è¯•ç«‹å³åœ¨å®‰å…¨ç»„ä¸Šç»ˆæ­¢ï¼Œå› ä¸ºæˆ‘ä¸æ„¿æ„èŠ±1.5å¤©çš„æ—¶é—´åªè½¬æ¢å®‰å…¨ç»„ï¼ˆå¹¶ä¸”æœ‰å¾ˆå¤šèµ„æºï¼‰ã€‚ é•¿ï¼Œç„¶åå­—æ®µå¯ä»¥æ›´æ”¹/æ·»åŠ  <br><br> ç¬¬äºŒæ¬¡å°è¯• <br> åŸºäº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a>ä»‹ç»çš„æ€æƒ³ã€‚ åªéœ€å°†tfstateè½¬æ¢ä¸ºtfã€‚ æ‰€æœ‰æ•°æ®éƒ½åœ¨é‚£é‡Œï¼Œå¹¶ä¸”å­—æ®µç›¸åŒã€‚ å¦‚ä½•è·å¾—è®¸å¤šèµ„æºçš„å®Œæ•´tfstateï¼Ÿ ç„¶åï¼Œâ€œ terraform refreshâ€å‘½ä»¤è¿›è¡Œäº†æ•‘æ´ã€‚  terraformåœ¨tfstateä¸­è·å–æ‰€æœ‰èµ„æºï¼Œå¹¶æŒ‰IDæå–æ•°æ®ï¼Œå¹¶å°†æ‰€æœ‰å†…å®¹å†™å…¥tfstateã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ›å»ºä¸€ä¸ªä»…åŒ…å«åç§°å’ŒIDçš„ç©ºtfstateï¼Œè¿è¡Œâ€œ terraform refreshâ€ï¼Œå³å¯è·å¾—å®Œæ•´çš„tfstateã€‚ ä¸‡å²ï¼ <br> ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥åš<s>é€’å½’çš„è‰²æƒ…ä½œå“ï¼Œ</s>å³ä¸ºtfstateåˆ°tfç¼–å†™ä¸€ä¸ªè½¬æ¢å™¨ã€‚ å¯¹äºä»æœªè¯»è¿‡tfstateçš„ç”¨æˆ·ï¼Œè¿™æ˜¯JSONï¼Œä½†å¾ˆç‰¹æ®Šã€‚ <br> è¿™æ˜¯å®ƒçš„é‡è¦éƒ¨åˆ†å±æ€§ <br><pre><code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"attributes"</span></span>: { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"default/backend-logging-load-deployment"</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.0.annotations.%"</span></span>: <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.0.generate_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.0.generation"</span></span>: <span class="hljs-string"><span class="hljs-string">"24"</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.0.labels.%"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.0.labels.app"</span></span>: <span class="hljs-string"><span class="hljs-string">"backend-logging"</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.0.name"</span></span>: <span class="hljs-string"><span class="hljs-string">"backend-logging-load-deployment"</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.0.namespace"</span></span>: <span class="hljs-string"><span class="hljs-string">"default"</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.0.resource_version"</span></span>: <span class="hljs-string"><span class="hljs-string">"109317427"</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.0.self_link"</span></span>: <span class="hljs-string"><span class="hljs-string">"/apis/apps/v1/namespaces/default/deployments/backend-logging-load-deployment"</span></span>, <span class="hljs-string"><span class="hljs-string">"metadata.0.uid"</span></span>: <span class="hljs-string"><span class="hljs-string">"300ecda1-4138-11e9-9d5d-42010a8400b5"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.min_ready_seconds"</span></span>: <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.paused"</span></span>: <span class="hljs-string"><span class="hljs-string">"false"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.progress_deadline_seconds"</span></span>: <span class="hljs-string"><span class="hljs-string">"600"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.replicas"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.revision_history_limit"</span></span>: <span class="hljs-string"><span class="hljs-string">"10"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.selector.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>,</code> </pre> <br> æœ‰ï¼š <br>  1. id-å­—ç¬¦ä¸² <br>  2.å…ƒæ•°æ®-å¤§å°ä¸º1çš„æ•°ç»„ï¼Œå…¶ä¸­æ˜¯ä¸€ä¸ªå¸¦æœ‰å­—æ®µçš„å¯¹è±¡ï¼Œä¸‹é¢å°†å¯¹æ­¤è¿›è¡Œæè¿° <br>  3. spec-å¤§å°ä¸º1çš„å“ˆå¸Œå€¼ï¼Œå…¶é”®å€¼ä¸º <br> ç®€è€Œè¨€ä¹‹ï¼Œè¿™æ˜¯ä¸€ç§æœ‰è¶£çš„æ ¼å¼ï¼Œæ‰€æœ‰å†…å®¹éƒ½å¯ä»¥åœ¨å¤šä¸ªå±‚æ¬¡ä¸Šæ·±å…¥ <br><pre> <code class="javascript hljs"> <span class="hljs-string"><span class="hljs-string">"spec.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.min_ready_seconds"</span></span>: <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.paused"</span></span>: <span class="hljs-string"><span class="hljs-string">"false"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.progress_deadline_seconds"</span></span>: <span class="hljs-string"><span class="hljs-string">"600"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.replicas"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.revision_history_limit"</span></span>: <span class="hljs-string"><span class="hljs-string">"10"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.selector.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.selector.0.match_expressions.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.selector.0.match_labels.%"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.selector.0.match_labels.app"</span></span>: <span class="hljs-string"><span class="hljs-string">"backend-logging-load"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.strategy.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.0.annotations.%"</span></span>: <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.0.generate_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.0.generation"</span></span>: <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.0.labels.%"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.0.labels.app"</span></span>: <span class="hljs-string"><span class="hljs-string">"backend-logging-load"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.0.name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.0.namespace"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.0.resource_version"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.0.self_link"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.metadata.0.uid"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.spec.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.spec.0.active_deadline_seconds"</span></span>: <span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.spec.0.container.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"spec.0.template.0.spec.0.container.0.args.#"</span></span>: <span class="hljs-string"><span class="hljs-string">"3"</span></span>,</code> </pre> <br> é€šå¸¸ï¼Œæƒ³è¦é¢è¯•çš„ç¼–ç¨‹ä»»åŠ¡çš„äººï¼Œåªéœ€è¦ä¸ºæ­¤å†™ä¸€ä¸ªè§£æå™¨å³å¯ï¼š) <br> é•¿æ—¶é—´å°è¯•ç¼–å†™æ²¡æœ‰é”™è¯¯çš„è§£æå™¨åï¼Œæˆ‘åœ¨terraformä»£ç ä¸­æ‰¾åˆ°äº†å®ƒçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ã€‚ è€Œä¸”ä¸€åˆ‡ä¼¼ä¹éƒ½æ­£å¸¸ <br><br> å°è¯•ä¸‰ <br>  terraform provideræ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªä»£ç ï¼Œå…¶ä¸­åŒ…å«ä½¿ç”¨äº‘APIçš„æ‰€æœ‰èµ„æºå’Œé€»è¾‘ã€‚ æ¯ä¸ªäº‘éƒ½æœ‰è‡ªå·±çš„æä¾›ç¨‹åºï¼Œå¹¶ä¸”terraformæœ¬èº«ä»…é€šè¿‡ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„RPCåè®®æ¥è°ƒç”¨å®ƒä»¬ã€‚ <br> ç°åœ¨ï¼Œæˆ‘å†³å®šç›´æ¥é€šè¿‡RPCè°ƒç”¨æ¥è®¿é—®terraformæä¾›ç¨‹åºã€‚ äº‹å®è¯æ˜ï¼Œè¿™å¾ˆæ¼‚äº®ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸æ›´æ”¹ä»£ç çš„æƒ…å†µä¸‹å°†terraformæä¾›ç¨‹åºæ›´æ”¹ä¸ºæ›´æ–°çš„æä¾›ç¨‹åºå¹¶è·å¾—æ–°çš„æœºä¼šã€‚ äº‹å®è¯æ˜ï¼Œå¹¶étfstateä¸­çš„æ‰€æœ‰å­—æ®µéƒ½åº”è¯¥åœ¨tfä¸­ï¼Œä½†æ˜¯æˆ‘æ€ä¹ˆçŸ¥é“å‘¢ï¼Ÿ åªéœ€å‘æä¾›è€…è¯¢é—®ã€‚ ç„¶å<s>ï¼Œå¯¹æ­£åˆ™è¡¨è¾¾å¼æ±‡ç¼–çš„</s>å¦ä¸€ç§<s>é€’å½’è‰²æƒ…</s>ä»æœç´¢<s>å¼€å§‹</s> ï¼Œå³åœ¨å„ä¸ªçº§åˆ«çš„tfstateå†…æœç´¢å­—æ®µã€‚ <br><br> æœ€åï¼Œæˆ‘ä»¬è·å¾—äº†ä¸€ä¸ªæœ‰ç”¨çš„CLIå·¥å…·ï¼Œè¯¥å·¥å…·å…·æœ‰é€‚ç”¨äºæ‰€æœ‰terraformæä¾›å•†çš„é€šç”¨åŸºç¡€æ¶æ„ï¼Œæ‚¨å¯ä»¥è½»æ¾æ·»åŠ ä¸€ä¸ªæ–°çš„ã€‚ æ·»åŠ èµ„æºä¹Ÿå ç”¨å¾ˆå°‘çš„ä»£ç ã€‚ åŠ ä¸Šå„ç§å¥½å¤„ï¼Œä¾‹å¦‚èµ„æºä¹‹é—´çš„è¿æ¥ã€‚ å½“ç„¶ï¼Œå­˜åœ¨è®¸å¤šæ— æ³•æè¿°çš„ä¸åŒé—®é¢˜ã€‚ <br> ä»–ç§°å°åŠ¨ç‰©Terrafomerã€‚ <br><br><h3> å†³èµ› </h3><br> ä½¿ç”¨Terrafomerï¼Œæˆ‘ä»¬ä»ä¸¤æœµäº‘ä¸­ç”Ÿæˆäº†500-70ä¸‡è¡Œtf + tfstateä»£ç ã€‚ ä»–ä»¬å¯ä»¥é‡‡ç”¨æ—§æœ‰çš„ä¸œè¥¿ï¼Œå¹¶ä»…é€šè¿‡terraformæ¥æ¥è§¦å®ƒä»¬ï¼Œå°±åƒåŸºç¡€è®¾æ–½çš„æœ€ä½³æ„æƒ³å°±æ˜¯ä»£ç ä¸€æ ·ã€‚ å½“æ‚¨æ‹¿èµ·å·¨å¤§çš„äº‘å¹¶é€šè¿‡å‘½ä»¤ä»¥terraformå·¥ä½œæ–‡ä»¶çš„å½¢å¼è·å–å®ƒæ—¶ï¼Œè¿™å°±æ˜¯é­”æœ¯ã€‚ ç„¶ågrep / replace / gitç­‰ã€‚ <br><br> ä»–æ¢³ç†å¹¶æ•´ç†ï¼Œå¾—åˆ°è®¸å¯ã€‚ äºå‘¨å››ï¼ˆ05/02/19ï¼‰åœ¨githubä¸Šå…¨éƒ¨å‘å¸ƒã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">github.com/GoogleCloudPlatform/terraformer</a> <br> å·²ç»æ”¶åˆ°600é¢—æ˜Ÿï¼Œæœ‰2ä¸ªè¯·æ±‚è¯·æ±‚å¢åŠ äº†å¯¹openstackå’Œkubernetesçš„æ”¯æŒã€‚ å¥½è¯„ä»·ã€‚ æ€»çš„æ¥è¯´ï¼Œè¯¥é¡¹ç›®å¯¹äººä»¬æœ‰ç”¨ <br> æˆ‘å»ºè®®æ¯ä¸ªæƒ³è¦å¼€å§‹ä½¿ç”¨Terraformè€Œä¸æ˜¯ä¸ºæ­¤é‡å†™æ‰€æœ‰å†…å®¹çš„äººã€‚ <br> æˆ‘å¾ˆä¹æ„æå‡ºè¦æ±‚ï¼Œé—®é¢˜å’Œå»ºè®®ã€‚ <br><br> æ¼”ç¤ºç‰ˆ <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://asciinema.org/a/243961.svg"></a> <br><br> æ›´æ–°ï¼šæç ¸äº†å¯¹Openstackçš„æœ€å°æ”¯æŒï¼Œå¹¶ä¸”ç”±äºPRçš„æ”¯æŒï¼Œkubernetesçš„æ”¯æŒå·²ç»å‡†å¤‡å°±ç»ª </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN450410/">https://habr.com/ru/post/zh-CN450410/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN450384/index.html">å°å‹é—ç•™ä»£ç ç ”ç©¶çš„æ•…äº‹</a></li>
<li><a href="../zh-CN450386/index.html">åœ¨Goä¸­ä½œä¸ºæŠ½è±¡æ•°æ®ç±»å‹è¿›è¡Œæ¥å£</a></li>
<li><a href="../zh-CN450394/index.html">è°ƒæŸ¥ä¸€ä¸ªæœªçŸ¥æ¡£æ¡ˆ</a></li>
<li><a href="../zh-CN450396/index.html">å¦‚ä½•æé«˜è‹±è¯­å†™ä½œèƒ½åŠ›ï¼šå®ç”¨æŠ€å·§å’Œæœ‰ç”¨å·¥å…·</a></li>
<li><a href="../zh-CN450398/index.html">æœ€æ— ç•çš„æ¯’è¯</a></li>
<li><a href="../zh-CN450416/index.html">å…±äº«è½¯ä»¶VPNæä¾›å•†å¦‚ä½•å‡ºå”®æ‚¨çš„æ•°æ®</a></li>
<li><a href="../zh-CN450418/index.html">åˆ›å»ºæœ‰æœº3Dæ¨¡å‹çš„è‰ºæœ¯ï¼šçš®ä¸‹ç€è‰²å™¨</a></li>
<li><a href="../zh-CN450420/index.html">ä¸ºä»€ä¹ˆæ•°æ®ç§‘å­¦å›¢é˜Ÿéœ€è¦é€šç”¨è€Œä¸æ˜¯ä¸“å®¶</a></li>
<li><a href="../zh-CN450422/index.html">å›¾åƒè¯†åˆ«ç®—æ³•çš„å±€é™æ€§</a></li>
<li><a href="../zh-CN450426/index.html">2011å¹´vs AM4ã€‚ æé¾™ä¸å“ºä¹³åŠ¨ç‰©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>