<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙌🏼 🦅 👏🏽 Traefik como controlador de entrada para K8S 🌇 👩🏾‍💻 🛌🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No es ningún secreto que K8S tiene una excelente comunidad y, en general, una buena documentación. En él puedes encontrar fácilmente la respuesta a mu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Traefik como controlador de entrada para K8S</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nixys/blog/427655/"><p>  No es ningún secreto que K8S tiene una excelente comunidad y, en general, una buena documentación.  En él puedes encontrar fácilmente la respuesta a muchas preguntas.  Pero como cualquier otra documentación, no puede cubrir absolutamente todo.  En este artículo intentaré proporcionar instrucciones detalladas sobre cómo implementar y configurar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Traefik</a> para usarlo como un controlador Ingress. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a67/33f/efa/a6733fefa71e9bcd0ff99b50c779abf6.png" alt="imagen"></p><a name="habracut"></a><br><h3 id="chto-takoe-ingress">  ¿Qué es el ingreso? </h3><br><p> Ingress es un objeto API que controla el acceso externo a los servicios en un clúster, principalmente a través de HTTP / HTTPS.  Para que el recurso Ingress funcione, necesita un controlador Ingress.  Si usa GCE, el controlador Ingress ya está implementado en el asistente.  Sin embargo, si usted mismo descargó el clúster, por ejemplo, desde <code>kops</code> a AWS, debe implementar el controlador Ingress usted mismo.  En minikube, esto se resuelve al incluir el complemento Ingress. </p><br><h3 id="ingress-kontrollery">  Controladores de entrada </h3><br><p>  NGINX Ingress Controller, Kong, Octavia Ingress Controller, etc. pueden desempeñar el papel del controlador Ingress, etc. En este artículo consideraremos una herramienta como Traefik y veremos cómo puede usarlo como un controlador Ingress para servicios en un clúster. </p><br><h3 id="zachem">  Por qué </h3><br><p>  ¿Por qué usar un controlador Ingress si puede proporcionar acceso a cada servicio a través de <code>NodePort</code> o <code>LoadBalancer</code> ?  En resumen, esto permite que un punto central represente todo el tráfico.  Es decir, con el controlador Ingress, solo necesita un LoadBalancer para Traefik y nada más.  Este paquete resolverá todo el tráfico. </p><br><h3 id="traefik-komponenty">  Componentes Traefik </h3><br><p>  Traefik anunció soporte para Kubernetes Ingress en la versión 1.4.  Sin embargo, el Traefik 1.7 recientemente lanzado tiene la opción de servicio <code>publishedService,</code> que puede actualizar el campo de <code>status</code> en Ingress, que no estaba en versiones anteriores.  La siguiente es una lista de componentes que se requerirán para operar. </p><br><p>  <strong>Crear:</strong> </p><br><ul><li>  espacio de nombres </li><li>  cuenta de servicio </li><li>  Secreto TLS </li><li>  rol de clúster </li><li>  enlace de rol de clúster </li><li>  mapa de configuración </li><li>  despliegue </li><li>  servicio para http y https </li><li>  servicio para el tablero de Traefik </li><li>  Entrada </li></ul><br><p>  <strong>Espacio de nombres</strong> </p><br><p>  Crea un espacio de nombres: </p><br><pre> <code class="hljs cs">kubectl create <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">traefik</span></span></code> </pre> <br><p>  <strong>TLS Secret</strong> </p><br><p>  <em>(aprox. por. - en el siguiente ejemplo, por alguna razón el autor duplica la misma configuración, vea la configuración actual en el archivo README provisto por el enlace a continuación)</em> </p><br><p>  Primero cree un certificado: </p><br><pre> <code class="hljs powershell">openssl req <span class="hljs-literal"><span class="hljs-literal">-x509</span></span> <span class="hljs-literal"><span class="hljs-literal">-nodes</span></span> <span class="hljs-literal"><span class="hljs-literal">-days</span></span> <span class="hljs-number"><span class="hljs-number">365</span></span> <span class="hljs-literal"><span class="hljs-literal">-newkey</span></span> rsa:<span class="hljs-number"><span class="hljs-number">2048</span></span> <span class="hljs-literal"><span class="hljs-literal">-keyout</span></span> ./tls.key <span class="hljs-literal"><span class="hljs-literal">-out</span></span> ./tls.crt <span class="hljs-literal"><span class="hljs-literal">-subj</span></span> <span class="hljs-string"><span class="hljs-string">"/CN=*.example.com"</span></span></code> </pre> <br><p>  Crear un certificado TLS: </p><br><pre> <code class="hljs powershell">openssl req <span class="hljs-literal"><span class="hljs-literal">-x509</span></span> <span class="hljs-literal"><span class="hljs-literal">-nodes</span></span> <span class="hljs-literal"><span class="hljs-literal">-days</span></span> <span class="hljs-number"><span class="hljs-number">365</span></span> <span class="hljs-literal"><span class="hljs-literal">-newkey</span></span> rsa:<span class="hljs-number"><span class="hljs-number">2048</span></span> <span class="hljs-literal"><span class="hljs-literal">-keyout</span></span> ./tls.key <span class="hljs-literal"><span class="hljs-literal">-out</span></span> ./tls.crt <span class="hljs-literal"><span class="hljs-literal">-subj</span></span> <span class="hljs-string"><span class="hljs-string">"/CN=*.example.com"</span></span></code> </pre> <br><p>  Crear secreto: </p><br><pre> <code class="hljs powershell">kubectl create secret tls traefik<span class="hljs-literal"><span class="hljs-literal">-ui</span></span><span class="hljs-literal"><span class="hljs-literal">-tls</span></span><span class="hljs-literal"><span class="hljs-literal">-cert</span></span> -<span class="hljs-literal"><span class="hljs-literal">-key</span></span> ./tls.key -<span class="hljs-literal"><span class="hljs-literal">-cert</span></span> ./tls.crt</code> </pre> <br><p>  Por conveniencia, hice un archivo README con estos comandos y lo subí a <a href="">mi GitHub</a> . </p><br><p>  <strong>ConfigMap</strong> </p><br><pre> <code class="hljs powershell">--- apiVersion: v1 kind: ConfigMap metadata: name: traefik<span class="hljs-literal"><span class="hljs-literal">-configmap</span></span> namespace: traefik <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>: traefik.toml: | defaultEntryPoints = [<span class="hljs-string"><span class="hljs-string">"http"</span></span>,<span class="hljs-string"><span class="hljs-string">"https"</span></span>] [<span class="hljs-type"><span class="hljs-type">entryPoints</span></span>] [<span class="hljs-type"><span class="hljs-type">entryPoints.http</span></span>] address = <span class="hljs-string"><span class="hljs-string">":80"</span></span> [<span class="hljs-type"><span class="hljs-type">entryPoints.https</span></span>] address = <span class="hljs-string"><span class="hljs-string">":443"</span></span> [<span class="hljs-type"><span class="hljs-type">entryPoints.https.tls</span></span>] [[<span class="hljs-type"><span class="hljs-type">entryPoints.https.tls.certificates</span></span>]] CertFile = <span class="hljs-string"><span class="hljs-string">"/ssl/tls.crt"</span></span> KeyFile = <span class="hljs-string"><span class="hljs-string">"/ssl/tls.key"</span></span> [<span class="hljs-type"><span class="hljs-type">entryPoints.traefik</span></span>] address = <span class="hljs-string"><span class="hljs-string">":8080"</span></span> [<span class="hljs-type"><span class="hljs-type">entryPoints.traefik.auth.basic</span></span>] users = [<span class="hljs-string"><span class="hljs-string">"admin:</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$apr1</span></span></span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$zjjGWKW4</span></span></span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$W2JIcu4m26WzOzzESDF0W</span></span></span><span class="hljs-string">/"</span></span>] [<span class="hljs-type"><span class="hljs-type">kubernetes</span></span>] [<span class="hljs-type"><span class="hljs-type">kubernetes.ingressEndpoint</span></span>] publishedService = <span class="hljs-string"><span class="hljs-string">"traefik/traefik"</span></span> [<span class="hljs-type"><span class="hljs-type">ping</span></span>] entryPoint = <span class="hljs-string"><span class="hljs-string">"http"</span></span> [<span class="hljs-type"><span class="hljs-type">api</span></span>] entryPoint = <span class="hljs-string"><span class="hljs-string">"traefik"</span></span></code> </pre> <br><p>  Por defecto, EntryPoints son los puertos <code>80</code> y <code>443</code> . </p><br><p>  EntryPoint <code>http</code> escucha <code>:80</code> y no tiene reglas adicionales </p><br><p>  EntryPoint <code>https</code> escucha en <code>:443</code> y contiene una regla para conectar certificados TLS. </p><br><p>  EntryPoint <code>traefik</code> escucha <code>:8080</code> y usa autenticación básica.  El nombre de usuario es <code>admin</code> , la contraseña es <code>admin</code> . </p><br><p>  La definición del punto final Ingress correspondiente en Kubernetes se realiza especificando <code>publishService</code> y debe consistir en el valor del <code>namespace</code> de <code>namespace</code> y el nombre del <code>service</code> para Traefik.  En este caso, es <code>traefik / traefik</code> . </p><br><p>  <code>ping</code> o chequeo de salud usará entryPoint <code>http</code> . </p><br><p>  <code>api</code> o dashboard / ui usarán entryPoint <code>traefik</code> . </p><br><p>  Tenga en cuenta que puede definir puntos de entrada adicionales con un puerto.  Este puerto puede proxy de tráfico a cualquier puerto, en lugar de puertos dinámicos y <code>NodePort</code> . </p><br><p>  <strong>Clusterrole</strong> </p><br><p>  La cuenta de servicio para Traefik debe tener permiso para actualizar el campo de <code>Ingress status</code> .  Este es un parámetro importante, y aún no se presenta en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentación oficial de Traefik</a> : </p><br><pre> <code class="hljs swift">--- kind: <span class="hljs-type"><span class="hljs-type">ClusterRole</span></span> apiVersion: rbac.authorization.k8s.io/v1beta1 metadata: name: traefik-ingress-controller rules: - apiGroups: - <span class="hljs-string"><span class="hljs-string">""</span></span> resources: - services - endpoints - secrets verbs: - <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> - list - watch - apiGroups: - extensions resources: - ingresses verbs: - <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> - list - watch - apiGroups: - extensions resources: - ingresses/status verbs: - update</code> </pre> <br><p>  Las últimas 6 líneas son muy importantes para el correcto funcionamiento. </p><br><p>  <strong>Despliegue</strong> </p><br><p>  La implementación es bastante sencilla.  Veamos brevemente los bloques principales: </p><br><pre> <code class="hljs powershell">volumes: - name: traefik<span class="hljs-literal"><span class="hljs-literal">-ui</span></span><span class="hljs-literal"><span class="hljs-literal">-tls</span></span><span class="hljs-literal"><span class="hljs-literal">-cert</span></span> secret: secretName: traefik<span class="hljs-literal"><span class="hljs-literal">-ui</span></span><span class="hljs-literal"><span class="hljs-literal">-tls</span></span><span class="hljs-literal"><span class="hljs-literal">-cert</span></span> - name: traefik<span class="hljs-literal"><span class="hljs-literal">-configmap</span></span> configMap: name: traefik<span class="hljs-literal"><span class="hljs-literal">-configmap</span></span></code> </pre> <br><p>  Defina <code>volumes</code> para ConfigMap y Secret, que luego se pueden usar en <code>volumeMounts</code> . </p><br><pre> <code class="hljs pgsql">volumeMounts: - mountPath: "/ssl" <span class="hljs-type"><span class="hljs-type">name</span></span>: "traefik-ui-tls-cert" - mountPath: "/config" <span class="hljs-type"><span class="hljs-type">name</span></span>: "traefik-configmap"</code> </pre> <br><p>  Las comprobaciones de estado se realizan en el puerto 80, como se define en ConfigMap. </p><br><p>  Abra los puertos para todos los puntos de entrada especificados en el archivo de configuración: </p><br><pre> <code class="hljs pgsql">ports: - <span class="hljs-type"><span class="hljs-type">name</span></span>: http containerPort: <span class="hljs-number"><span class="hljs-number">80</span></span> - <span class="hljs-type"><span class="hljs-type">name</span></span>: https containerPort: <span class="hljs-number"><span class="hljs-number">443</span></span> - <span class="hljs-type"><span class="hljs-type">name</span></span>: dashboard containerPort: <span class="hljs-number"><span class="hljs-number">8080</span></span></code> </pre> <br><p>  Le recuerdo que algunos ejemplos y documentación en Internet están desactualizados, así que no se pierda la sección de argumentos necesaria para que Traefik funcione: </p><br><pre> <code class="hljs powershell">args: - -<span class="hljs-literal"><span class="hljs-literal">-logLevel</span></span>=INFO - -<span class="hljs-literal"><span class="hljs-literal">-configfile</span></span>=/config/traefik.toml</code> </pre> <br><p>  No pase banderas y argumentos adicionales, como -api, -ping o -kubernetes, porque esto anulará la configuración especificada en el archivo de configuración. </p><br><p>  <strong>Servicio</strong> </p><br><p>  El primero de los servicios define un Loadbalancer para entryPoints <code>http</code> y <code>https</code> .  Si observa el grupo de seguridad (Ingress) para LoadBalancer, verá los puertos 80 y 443 abiertos allí. Los K8 crearán un LoadBalancer y lo conectarán a los nodos en los que se ejecuta Traefik.  Si desea crear un ELB interno, como yo, debe definir anotaciones: </p><br><pre> <code class="hljs delphi">--- kind: Service apiVersion: v1 metadata: <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: traefik namespace: traefik annotations: <span class="hljs-comment"><span class="hljs-comment">{}</span></span> # service.beta.kubernetes.io/aws-load-balancer-internal: <span class="hljs-number"><span class="hljs-number">0.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> spec: selector: k8s-app: traefik-ingress ports: - protocol: TCP port: <span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: http - protocol: TCP port: <span class="hljs-number"><span class="hljs-number">443</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>: https <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: LoadBalancer</code> </pre> <br><p>  <strong>Servicio (para Tablero)</strong> </p><br><p>  Ahora la parte divertida!  Como Dashboard usa autenticación básica, necesitaba <code>https</code> .  Para usar SSL, debemos redirigir el tráfico al puerto <code>:8080</code> , en el que funciona el Tablero.  Como puede ver, es muy simple.  Toda la magia sucede en Ingress. </p><br><pre> <code class="hljs powershell">--- kind: Service apiVersion: v1 metadata: name: traefik<span class="hljs-literal"><span class="hljs-literal">-dashboard</span></span> namespace: traefik spec: selector: k8s<span class="hljs-literal"><span class="hljs-literal">-app</span></span>: traefik<span class="hljs-literal"><span class="hljs-literal">-ingress</span></span> ports: - port: <span class="hljs-number"><span class="hljs-number">8080</span></span> name: dashboard</code> </pre> <br><p>  <strong>Ingress (para el tablero de instrumentos)</strong> </p><br><p>  La magia es que el tráfico seguro proxy a Dashboard se realiza a través de Traefik.  La gestión de Traefik in Ingress se realiza mediante <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">anotaciones de Traefik</a> : </p><br><pre> <code class="hljs powershell">--- apiVersion: extensions/v1beta1 kind: Ingress metadata: name: traefik<span class="hljs-literal"><span class="hljs-literal">-dashboard</span></span><span class="hljs-literal"><span class="hljs-literal">-ingress</span></span> namespace: traefik annotations: kubernetes.io/ingress.class: traefik traefik.ingress.kubernetes.io/frontend<span class="hljs-literal"><span class="hljs-literal">-entry</span></span><span class="hljs-literal"><span class="hljs-literal">-points</span></span>: http,https traefik.ingress.kubernetes.io/redirect<span class="hljs-literal"><span class="hljs-literal">-entry</span></span><span class="hljs-literal"><span class="hljs-literal">-point</span></span>: https traefik.ingress.kubernetes.io/redirect<span class="hljs-literal"><span class="hljs-literal">-permanent</span></span>: <span class="hljs-string"><span class="hljs-string">"true"</span></span> spec: rules: - host: traefik<span class="hljs-literal"><span class="hljs-literal">-ui</span></span>.example.com http: paths: - path: / backend: serviceName: traefik<span class="hljs-literal"><span class="hljs-literal">-dashboard</span></span> servicePort: <span class="hljs-number"><span class="hljs-number">8080</span></span></code> </pre> <br><p>  Solo tomó 4 anotaciones simples y claras. </p><br><p>  Por supuesto, para garantizar la plena funcionalidad, debe crear un registro DNS <code>traefik-ui.example.com</code> , que apuntará a su ELB. </p><br><p>  ¿Sería bueno si esto se hiciera automáticamente?  No hay problema, escribiré sobre la creación automática de registros DNS en el próximo artículo. </p><br><p>  <strong>Referencias</strong> </p><br><p>  El archivo deploy.yaml terminado se puede descargar desde mi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio de Github</a> .  Si tiene alguna dificultad durante el proceso de configuración, no dude en preguntar. </p><br><h3 id="naputstvie-ot-perevodchika">  Palabras de despedida del traductor </h3><br><p>  Lea otros artículos en nuestro blog: </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Copias de seguridad con estado en Kubernetes</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Copia de seguridad de una gran cantidad de proyectos web heterogéneos</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Telegram bot para Redmine.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cómo simplificar la vida para ti y para las personas</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es427655/">https://habr.com/ru/post/es427655/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es427643/index.html">Los operadores de telecomunicaciones rusos han comenzado a probar las tarjetas SIM NB-IoT para Internet de las cosas</a></li>
<li><a href="../es427645/index.html">Revisión de las presentaciones de la sexta conferencia sobre ciberseguridad industrial (Sochi, 19-21 de septiembre de 2018)</a></li>
<li><a href="../es427647/index.html">Informe Tesla (TSLA) Q3 2018</a></li>
<li><a href="../es427649/index.html">Matriz de cocina en casa</a></li>
<li><a href="../es427653/index.html">Distribuir y conquistar: diseño ahora y ahora</a></li>
<li><a href="../es427657/index.html">Uso de Animation Inspector en Chrome Developer Tools</a></li>
<li><a href="../es427661/index.html">Sportiduino - sistema de marcado electrónico para eventos deportivos, parte 3</a></li>
<li><a href="../es427663/index.html">Habro osos y cangrejo</a></li>
<li><a href="../es427665/index.html">Las mejores escalas inteligentes (según Wareable)</a></li>
<li><a href="../es427669/index.html">KNX Home Control: iluminación</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>