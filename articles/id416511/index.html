<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ”¨ ğŸ‘©ğŸ»â€ğŸ« ğŸ‘©ğŸ»â€ğŸš€ Kesalahan paling umum dalam kode Bereaksi yang Anda (mungkin) buat ğŸ‘¨ğŸ¼â€ğŸš’ ğŸ¤¶ğŸ½ ğŸ¤¦ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Terinspirasi oleh artikel baca di media, saya memutuskan untuk menulis artikel saya dan memberitahu Anda bagaimana menghindari kesalahan paling umum d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kesalahan paling umum dalam kode Bereaksi yang Anda (mungkin) buat</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416511/"><p><img src="https://habrastorage.org/webt/oj/se/qd/ojseqdaqgpr-i6ksye6ydimplp8.jpeg"></p><br><p>  Terinspirasi oleh artikel baca di media, saya memutuskan untuk menulis artikel saya dan memberitahu Anda bagaimana menghindari kesalahan paling umum dalam aplikasi Bereaksi Anda dan mengapa Anda perlu melakukan ini. </p><br><p>  Semua kode ditulis dalam gaya ES6, jadi untuk mengulanginya Anda harus menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Babel</a> dalam proyek Anda (dan ada orang lain yang tidak menggunakannya?). </p><br><p>  Saya mencoba menjelaskan setiap kesalahan sedetail mungkin, oleh karena itu, artikel saya lebih fokus pada pengembang muda yang masih mencari pengetahuan baru.  Meskipun, menurut saya, pengembang yang berpengalaman dapat menemukan beberapa hal menarik untuk dirinya sendiri dalam artikel ini. </p><br><p>  Jika Anda tertarik, selamat datang di kucing. </p><a name="habracut"></a><br><p>  Dalam tanda kurung sebelum setiap paragraf, saya meninggalkan tautan ke aturan eslint.  Anda nanti dapat <a href="" rel="nofollow">menemukannya di git</a> dan menambahkannya ke proyek Anda. </p><br><br><h3 id="reactforbid-component-props">  (bereaksi / melarang-komponen-alat peraga) </h3><br><p>  Kesalahan umum pertama adalah melewati 'style' dan 'className' sebagai alat peraga ke komponen Anda.  Hindari ini karena Anda <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">menambahkan banyak kerumitan pada komponen Anda.</a> </p><br><p>  Sebagai gantinya, Anda dapat menggunakan pustaka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">'classnames'</a> dan menambahkan variasi menarik ke komponen Anda (jika Anda menggunakan kelas css): </p><br><pre><code class="plaintext hljs">const { hasError, hasBorder } = this.props; const componentClasses = classnames({ 'your-component-main-class': true, 'your-component-main-class_with-error': hasError, 'your-component-main-class_with-border': hasBorder, });</code> </pre> <br><br><h3 id="reactforbid-prop-types">  (bereaksi / melarang-prop-type) </h3><br><p>  Kesalahan berikutnya bukan propTip informatif.  Jangan gunakan PropTypes.any, PropTypes.array dan PropTypes.object.  Jelaskan alat peraga Anda sedetail mungkin.  Ini akan memungkinkan Anda untuk meninggalkan dokumentasi yang baik untuk masa depan, dan Anda (atau pengembang lain) akan berterima kasih berkali-kali. </p><br><pre> <code class="plaintext hljs">class MyComponent extends React.Component { static propTypes = { user: PropTypes.shape({ id: PropTypes.number, name: PropTypes.string, }), policies: PropTypes.arrayOf(PropTypes.shape({ id: PropTypes.number, type: PropTypes.string, value: PropTypes.string, }), } }</code> </pre> <br><br><h3 id="reactforbid-foreign-prop-types">  (bereaksi / melarang-asing-prop-type) </h3><br><p>  Mari kita lanjutkan dengan propTip.  Jangan gunakan propTip komponen lain: </p><br><pre> <code class="plaintext hljs">import SomeComponent from './SomeComponent'; SomeComponent.propTypes;</code> </pre> <br><p>  Buat file di mana Anda akan menjaga propTypes global Anda agar: </p><br><pre> <code class="plaintext hljs">import { userShape, policiesArray } from '../common/global_prop_types';</code> </pre> <br><p>  Ini akan membantu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">babel-plugin-transform-react-remove-prop-types</a> menghapus propTypes dari kode produksi dan membuat aplikasi Anda sedikit lebih mudah. </p><br><br><h3 id="reactno-access-state-in-setstate">  (bereaksi / tidak-akses-status-in-setstate) </h3><br><p>  Kesalahan berikut ini sangat menarik: </p><br><pre> <code class="plaintext hljs">class MyComponent extends React.Component { state = { counter: 1, }; incrementCounter = () =&gt; this.setState({ counter: this.state.counter + 1 }); massIncrement = () =&gt; { // this code will lead to not what you expect this.incrementCounter(); this.incrementCounter(); } }</code> </pre> <br><p>  Karena setState adalah fungsi status asinkron keadaan dalam kedua kasus akan sama. <br>  this.state.counter akan menjadi 1 dan kita akan mendapatkan: </p><br><pre> <code class="plaintext hljs">incrementCounter = () =&gt; this.setState({ counter: 1 + 1 }); incrementCounter = () =&gt; this.setState({ counter: 1 + 1 });</code> </pre> <br><p>  Untuk menghindarinya, Anda bisa menggunakan setState callback yang menerima status negara sebagai argumen: </p><br><pre> <code class="plaintext hljs">incrementCounter = () =&gt; this.setState((prevState) =&gt; ({ counter: prevState.counter + 1 }));</code> </pre> <br><br><h3 id="reactno-array-index-key">  (bereaksi / tidak-larik-indeks-kunci) </h3><br><p>  Kesalahan ini juga sangat umum, oleh karena itu, baca dengan cermat dan hindarilah di masa mendatang: </p><br><pre> <code class="plaintext hljs">users.map((user, index) =&gt; ( &lt;UserComponent {...user} key={index} /&gt; ));</code> </pre> <br><p>  Bereaksi menggunakan kunci prop sebagai tautan ke elemen DOM, dan ini membantunya dengan cepat menemukan dan merender komponen yang diperlukan (semuanya, tentu saja, lebih rumit, tapi saya sengaja menyederhanakannya dengan sengaja). <br>  Apa yang terjadi jika Anda menambahkan pengguna baru di tengah array?  Bereaksi akan dipaksa untuk me-render ulang semua komponen UserComponents setelah yang baru ditambahkan, karena indeks akan diubah untuk sejumlah besar komponen.  Gunakan kunci unik saja.  Jalan keluar yang sangat sederhana adalah id yang Anda dapatkan dari database Anda: </p><br><pre> <code class="plaintext hljs">users.map((user) =&gt; ( &lt;UserComponent {...user} key={user.id} /&gt; ));</code> </pre> <br><br><h3 id="reactno-did-mount-set-state-reactno-did-update-set-state">  (reaksi / no-did-mount-set-state), (reaksi / no-do-update-set-state) </h3><br><p>  Kesalahan ini juga sangat umum dalam latihan saya.  Jika Anda mencoba memperbarui status dalam metode componentDidUpdate, Anda mendapatkan loop re-render yang tak terbatas.  React memulai pemeriksaan untuk rendering ulang ketika komponen berubah status atau properti.  Jika Anda mengubah status setelah komponen dipasang di DOM atau telah diperbarui, Anda akan menjalankan pemeriksaan lagi dan lagi dan lagi ... <br>  Saat memperbarui keadaan di componentDidMount, Anda dapat memanggil komponen yang di-render sekali lagi, karena fungsinya dipanggil sekali setelah komponen dipasang di DOM. <br>  Jika Anda perlu memperbarui data setelah memasang komponen, saya sarankan menggunakan variabel kelas: </p><br><pre> <code class="plaintext hljs">class MyComponent extends React.Component { componentDidMount() { this.veryImportantDataThatCanBeStoredOnlyAfterMount = 'I'll be back!'; } veryImportantDataThatCanBeStoredOnlyAfterMount = void 0; render() { return &lt;div /&gt; } }</code> </pre> <br><br><h3 id="reactno-direct-mutation-state">  (bereaksi / tidak-langsung-mutasi-negara) </h3><br><p>  Mutasi negara adalah kesalahan yang sangat besar.  Mutasi status yang tidak terkendali akan menyebabkan bug tidak terdeteksi dan, sebagai akibatnya, menjadi masalah besar.  Pendapat pribadi saya adalah penggunaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">immsable-js</a> , sebagai perpustakaan yang menambahkan struktur abadi.  Dan Anda dapat menggunakannya dengan Redux / MobX / Setiap perpustakaan manajemen negara.  Anda juga dapat menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">deepClone dari lodash</a> to clone state dan kemudian memutasi clone, atau menggunakan fitur JS baru - merusak: </p><br><pre> <code class="plaintext hljs">updateStateWrong = () =&gt; this.state.imRambo = true; updateStateRight = () =&gt; { const clonedState = cloneDeep(this.state); clonedState.imAGoodMan = true; this.setState(clonedState); } updateWithImmutabelJS = () =&gt; { const newState = this.state.data.set('iUseImmutableStructure', true); this.setState(data: newState); } updateWithDestructuring = () =&gt; this.setState({ ...this.state, iUseDestructuring: true });</code> </pre> <br><br><h3 id="reactprefer-stateless-function">  (bereaksi / prefer-stateless-function) </h3><br><p>  Aturan ini menjelaskan lebih banyak perbaikan kode dan aplikasi Anda daripada kesalahan, tetapi saya tetap menyarankan Anda mengikuti aturan ini.  Jika komponen Anda tidak menggunakan status, jadikan ini komponen tanpa kewarganegaraan (Saya lebih suka istilah 'komponen murni'): </p><br><pre> <code class="plaintext hljs">class MyComponentWithoutState extends React.Component { render() { return &lt;div&gt;I like to write a lot of unneeded code&lt;/div&gt; } } const MyPureComponent = (props) =&gt; &lt;div&gt;Less code === less support&lt;/div&gt;</code> </pre> <br><br><h3 id="reactprop-types">  (bereaksi / prop-type) </h3><br><p>  Harap selalu tambahkan memeriksa jenis alat peraga (propTypes) jika komponen Anda menerima alat peraga.  Anggap saja mendokumentasikan kode Anda.  Lebih dari sekali Anda akan mengatakan pada diri sendiri 'terima kasih' untuk ini (dan mungkin untuk saya :)).  PropTypes akan membantu Anda memahami dan memahami apa yang komponen Anda dapat render, serta apa yang dibutuhkan untuk rendering. </p><br><pre> <code class="plaintext hljs">MyPureComponent.propTypes = { id: PropTypes.number.isRequired, // And I know that without id component will not render at all, and this is good. }</code> </pre> <br><br><h3 id="reactjsx-no-bind">  (bereaksi / jsx-no-bind) </h3><br><p>  Kesalahan yang sangat umum dan besar yang saya lihat dalam kode berkali-kali.  Jangan Menggunakan Fungsi Bind Dan Arrow Di Jsx.  Tidak pernah.  Lebih banyak. <br>  Tempat terpanas di neraka menunggu orang yang menulis .bind (ini) di JSX di event handler. <br>  Setiap kali komponen dirender, fungsi Anda akan dibuat kembali, dan ini dapat sangat memperlambat aplikasi Anda (ini disebabkan oleh fakta bahwa pengumpul sampah akan dipaksa untuk menjalankan lebih sering).  Alih-alih .bind (ini), Anda dapat menggunakan fungsi Panah dengan cara tertentu: </p><br><pre> <code class="plaintext hljs">class RightWayToCallFunctionsInRender extends React.Component { handleDivClick = (event) =&gt; event; render() { return &lt;div onClick={this.handleDivClick} /&gt; } } const handleDivClick = (event) =&gt; event; const AndInPureComponent = () =&gt; { return &lt;div onClick={handleDivClick} /&gt; }</code> </pre> <br><br><h3 id="reactjsx-no-target-blank">  (bereaksi / jsx-no-target-blank) </h3><br><p>  Bug keamanan.  Rasanya sangat aneh bagi saya bahwa orang masih membuat kesalahan ini.  Banyak orang menulis banyak artikel tentang topik ini pada tahun 2017. <br>  Jika Anda membuat tautan dengan atribut target = '_ blank', pastikan untuk menambahkan rel = 'noreferrer noopener' ke sana.  Sangat sederhana: </p><br><pre> <code class="plaintext hljs">&lt;a href="https://example.com" target="_blank" rel="noreferrer noopener" /&gt;</code> </pre> <br><h2 id="spasibo-vam">  Terima kasih </h2><br><p>  Hanya itu yang ingin saya sampaikan kepada Anda sebagai bagian dari artikel ini.  Saya akan sangat berterima kasih jika Anda, pembaca saya, meninggalkan saya umpan balik atau komentar Anda dan membagikan pendapat Anda tentang masalah yang saya jelaskan di artikel ini.  Juga, Anda dapat memberi tahu saya tentang kesalahan saya dan Anda dalam kode dan tentang segala sesuatu yang Anda anggap perlu untuk diceritakan.  Terima kasih lagi! <br></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id416511/">https://habr.com/ru/post/id416511/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id416495/index.html">SamsPcbGuide Bagian 6: Tracing Signal Lines. Model Kehilangan dan Crosstalk</a></li>
<li><a href="../id416497/index.html">Contoh menghitung reaksi sinyal menggunakan transformasi Fourier di MATLAB</a></li>
<li><a href="../id416501/index.html">Tulis saya server GraphQL di C #</a></li>
<li><a href="../id416505/index.html">Kami menulis setumpuk mesin virtual di Rust'e</a></li>
<li><a href="../id416507/index.html">Cara memeriksa keandalan pusat data: 3 poin utama yang perlu Anda perhatikan</a></li>
<li><a href="../id416513/index.html">Intisari materi menarik untuk pengembang seluler # 260 (2 Juli - 8 Juli)</a></li>
<li><a href="../id416515/index.html">Beri peringkat artikel untuk ditambahkan ke favorit</a></li>
<li><a href="../id416517/index.html">Fenomena Hackathon: motif, metode, dan hasil peserta. Ringkasan Studi Lapangan</a></li>
<li><a href="../id416519/index.html">Apakah benar-benar semua GLONASS terbakar?</a></li>
<li><a href="../id416521/index.html">Cara termudah untuk membuat game (tapi ini tidak akurat)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>