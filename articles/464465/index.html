<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ…ğŸ» ğŸ¤ğŸ¾ ğŸ›ï¸ Â¿CÃ³mo y por quÃ© migramos Preply a Kubernetes? ğŸš¦ ğŸ§ ğŸ“‹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este artÃ­culo describirÃ© nuestra experiencia de migrar Preply a Kubernetes, cÃ³mo y por quÃ© lo hicimos, quÃ© dificultades encontramos y quÃ© ventajas ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Â¿CÃ³mo y por quÃ© migramos Preply a Kubernetes?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464465/"><p>  En este artÃ­culo describirÃ© nuestra experiencia de migrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Preply</a> a Kubernetes, cÃ³mo y por quÃ© lo hicimos, quÃ© dificultades encontramos y quÃ© ventajas obtuvimos. </p><br><p><img src="https://habrastorage.org/webt/dg/ko/pe/dgkopeifykiyrylbtsvqb6u89ni.jpeg"></p><a name="habracut"></a><br><h2 id="kubernetes-radi-kubernetes-net-biznes-trebovaniya">  Kubernetes para Kubernetes?  No, requisitos comerciales! </h2><br><p>  Alrededor de Kubernetes hay mucha publicidad y por buenas razones.  Mucha gente dice que resolverÃ¡ todos los problemas, algunos dicen que lo mÃ¡s probable <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">es que no necesite Kubernetes</a> .  La verdad, por supuesto, estÃ¡ en algÃºn punto intermedio. </p><br><p><img src="https://habrastorage.org/webt/f5/ny/or/f5nyorsmmm2vqawfm6dxw-2qees.jpeg"></p><br><p>  Sin embargo, todas estas discusiones sobre dÃ³nde y cuÃ¡ndo se necesita Kubernetes merecen un artÃ­culo separado.  Ahora hablarÃ© un poco sobre nuestros requisitos comerciales y cÃ³mo funcionÃ³ Preply antes de la migraciÃ³n a Kubernetes: </p><br><ul><li> Cuando utilizamos el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">flujo Skullcandy</a> , tenÃ­amos muchas ramas, todas ellas fusionadas en una rama comÃºn llamada <code>stage-rc</code> , desplegada en el escenario.  El equipo de control de calidad probÃ³ este entorno, despuÃ©s de probar que la rama estaba feliz en el maestro y el maestro desplegado en el prod.  Todo el procedimiento tomÃ³ alrededor de <strong>3-4 horas</strong> y pudimos implementar <strong>de 0 a 2 veces al dÃ­a</strong> </li><li>  Cuando implementamos el cÃ³digo roto en el producto, tuvimos que revertir todos los cambios incluidos en la Ãºltima versiÃ³n.  TambiÃ©n fue difÃ­cil encontrar quÃ© cambio rompiÃ³ nuestro producto </li><li>  Utilizamos AWS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Elastic Beanstalk</a> para alojar nuestra aplicaciÃ³n.  Cada implementaciÃ³n de Beanstalk en nuestro caso tomÃ³ 45 minutos (toda la tuberÃ­a junto con las pruebas funcionaron en <strong>90 minutos</strong> ).  Volver a la versiÃ³n anterior de la aplicaciÃ³n tomÃ³ <strong>45 minutos</strong> </li></ul><br><p>  Para mejorar nuestros productos y procesos en la empresa, querÃ­amos: </p><br><ul><li>  Romper un monolito en microservicios </li><li>  Implemente mÃ¡s rÃ¡pido y con mÃ¡s frecuencia </li><li>  Retroceda mÃ¡s rÃ¡pido </li><li>  Cambiamos nuestro proceso de desarrollo porque pensamos que ya no era efectivo </li></ul><br><h2 id="nashi-potrebnosti">  Nuestras necesidades </h2><br><h3 id="izmenyaem-process-razrabotki">  Cambiamos el proceso de desarrollo. </h3><br><p>  Para implementar nuestras innovaciones con el flujo Skullcandy, necesitÃ¡bamos crear un entorno dinÃ¡mico para cada sucursal.  En nuestro enfoque con la configuraciÃ³n de la aplicaciÃ³n en Elastic Beanstalk, fue difÃ­cil y costoso hacerlo.  QuerÃ­amos crear entornos que pudieran: </p><br><ul><li>  Implementado rÃ¡pida y fÃ¡cilmente (preferiblemente contenedores) </li><li>  TrabajÃ³ en instancias puntuales </li><li>  Eran tan similares a los productos </li></ul><br><p>  Decidimos pasar al desarrollo basado en troncales.  Con su ayuda, cada caracterÃ­stica tiene una rama separada que, independientemente del resto, puede fusionarse en un maestro.  Se puede implementar una rama maestra en cualquier momento. </p><br><p><img src="https://habrastorage.org/webt/fp/az/cm/fpazcmrnvwjcaeu_xtbwjxlsdwe.jpeg"><br>  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">git-flow y desarrollo basado en troncales</a></em> </p><br><h3 id="deploimsya-bystree-i-chasche">  Implemente mÃ¡s rÃ¡pido y con mÃ¡s frecuencia </h3><br><p>  El nuevo proceso basado en troncales nos permitiÃ³ entregar innovaciones a la rama maestra mÃ¡s rÃ¡pido una tras otra.  Esto nos ayudÃ³ mucho en el proceso de encontrar cÃ³digo roto en el producto y revertirlo.  Sin embargo, el tiempo de implementaciÃ³n aÃºn era de 90 minutos, y el tiempo de reversiÃ³n era de 45 minutos, debido a esto no pudimos implementar mÃ¡s a menudo 4-5 veces al dÃ­a. </p><br><p>  TambiÃ©n encontramos dificultades al usar la arquitectura de servicio en Elastic Beanstalk.  La soluciÃ³n mÃ¡s obvia era usar contenedores e instrumentos para orquestarlos.  AdemÃ¡s, ya tenÃ­amos experiencia usando Docker y docker-compose para el desarrollo local. </p><br><p>  Nuestro siguiente paso fue investigar los populares orquestadores de contenedores: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AWS ECS</a> </li><li>  Enjambre </li><li>  Apache mesos </li><li>  NÃ³mada </li><li>  Kubernetes </li></ul><br><p>  Decidimos quedarnos en Kubernetes, y por eso.  Entre los orquestadores en cuestiÃ³n, cada uno tenÃ­a una falla importante: ECS es una soluciÃ³n dependiente del proveedor, Swarm ya perdiÃ³ los laureles de Kubernetes, Apache Mesos parecÃ­a una nave espacial con sus cuidadores del zoolÃ³gico para nosotros.  Nomad parecÃ­a interesante, pero se revelÃ³ completamente solo en integraciÃ³n con otros productos de Hashicorp, tambiÃ©n nos decepcionÃ³ que se pagaran los espacios de nombres en Nomad. </p><br><p>  A pesar de su alto umbral de entrada, Kubernetes es el estÃ¡ndar de facto en la orquestaciÃ³n de contenedores.  Kubernetes as a Service estÃ¡ disponible en la mayorÃ­a de los principales proveedores de la nube.  La orquesta estÃ¡ en desarrollo activo, tiene una gran comunidad de usuarios y desarrolladores, y una buena documentaciÃ³n. </p><br><p>  EsperÃ¡bamos migrar completamente nuestra plataforma a Kubernetes en 1 aÃ±o.  Dos ingenieros de plataforma sin experiencia en Kubernetes participaron en la migraciÃ³n de arranque parcial. </p><br><h2 id="ispolzuem-kubernetes">  Usando Kubernetes </h2><br><p>  Comenzamos con una prueba de concepto, creamos un grupo de prueba y documentamos todo lo que hicimos en detalle.  Decidimos usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">kops</a> , ya que en nuestra regiÃ³n en ese momento EKS todavÃ­a no estaba disponible (en Irlanda se anunciÃ³ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en septiembre de 2018</a> ). </p><br><p>  Mientras trabajÃ¡bamos con el clÃºster, probamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el autoescalador de clÃºster, el gestor de certificados</a> , Prometheus, las integraciones con Hashicorp Vault, Jenkins y mucho mÃ¡s.  "Jugamos" con estrategias de actualizaciÃ³n continua, enfrentamos varios problemas de red, en particular con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DNS</a> , y fortalecimos nuestro conocimiento en clustering de clÃºster. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Utilizaron instancias puntuales</a> para optimizar los costos de infraestructura.  Para recibir notificaciones sobre problemas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">puntuales</a> , utilizaron <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">kube-spot-termination-notice-handler</a> , el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Asesor</a> de instancias puntuales puede ayudarlo a elegir el tipo de instancia puntual. </p><br><p>  Comenzamos la migraciÃ³n del flujo de Skullcandy al desarrollo basado en Trunk, donde lanzamos una etapa dinÃ¡mica para cada solicitud de extracciÃ³n, esto nos permitiÃ³ reducir el tiempo de entrega de nuevas funciones <strong>de 4 a 6 a 1 a 2 horas</strong> . </p><br><p><img src="https://habrastorage.org/webt/os/pt/nk/osptnk8oas5jj-mqrp89sopqqj8.png"><br>  <em>Github hook lanza la creaciÃ³n de un entorno dinÃ¡mico para la solicitud de extracciÃ³n</em> </p><br><p>  Utilizamos un clÃºster de prueba para estos entornos dinÃ¡micos, cada entorno estaba en un espacio de nombres separado.  Los desarrolladores tuvieron acceso al Panel de Kubernetes para depurar su cÃ³digo. </p><br><p>  Estamos contentos de haber comenzado a beneficiarnos de Kubernetes despuÃ©s de solo 1-2 meses desde el comienzo de su uso. </p><br><h2 id="klastery-dlya-steydzha-i-proda">  Etapa y grupos de venta </h2><br><p>  Nuestra configuraciÃ³n para grupos de escenarios y productos: </p><br><ul><li>  kops y Kubernetes 1.11 (la Ãºltima versiÃ³n en el momento de la creaciÃ³n del clÃºster) </li><li>  Tres nodos maestros en diferentes zonas de acceso. </li><li>  TopologÃ­a de red privada con bastiÃ³n dedicado, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Calico</a> CNI </li><li>  Prometheus para recopilar mÃ©tricas se implementa en el mismo clÃºster con PVC (vale la pena considerar que no almacenamos mÃ©tricas durante mucho tiempo) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Agente Datadog</a> para APM </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dex + dex-k8s-authenticator</a> para proporcionar acceso al clÃºster a los desarrolladores </li><li>  Los nodos para el clÃºster de etapas funcionan en instancias puntuales </li></ul><br><p>  Mientras trabajÃ¡bamos con clÃºsteres, encontramos varios problemas.  Por ejemplo, las versiones del agente Nginx Ingress y Datadog diferÃ­an en los clÃºsteres, en relaciÃ³n con esto, algunas cosas funcionaron en el clÃºster del escenario, pero no funcionaron en el producto.  <strong>Por lo tanto, decidimos cumplir totalmente las versiones de software en los clÃºsteres para evitar tales casos.</strong> </p><br><h2 id="migriruem-prod-v-kubernetes">  MigraciÃ³n de productos a Kubernetes </h2><br><p>  Los grupos de escenarios y alimentos estÃ¡n listos, y estamos listos para comenzar la migraciÃ³n.  Utilizamos monorepa con la siguiente estructura: </p><br><pre> <code class="plaintext hljs">. â”œâ”€â”€ microservice1 â”‚ â”œâ”€â”€ Dockerfile â”‚ â”œâ”€â”€ Jenkinsfile â”‚ â””â”€â”€ ... â”œâ”€â”€ microservice2 â”‚ â”œâ”€â”€ Dockerfile â”‚ â”œâ”€â”€ Jenkinsfile â”‚ â””â”€â”€ ... â”œâ”€â”€ microserviceN â”‚ â”œâ”€â”€ Dockerfile â”‚ â”œâ”€â”€ Jenkinsfile â”‚ â””â”€â”€ ... â”œâ”€â”€ helm â”‚ â”œâ”€â”€ microservice1 â”‚ â”‚ â”œâ”€â”€ Chart.yaml â”‚ â”‚ â”œâ”€â”€ ... â”‚ â”‚ â”œâ”€â”€ values.prod.yaml â”‚ â”‚ â””â”€â”€ values.stage.yaml â”‚ â”œâ”€â”€ microservice2 â”‚ â”‚ â”œâ”€â”€ Chart.yaml â”‚ â”‚ â”œâ”€â”€ ... â”‚ â”‚ â”œâ”€â”€ values.prod.yaml â”‚ â”‚ â””â”€â”€ values.stage.yaml â”‚ â”œâ”€â”€ microserviceN â”‚ â”‚ â”œâ”€â”€ Chart.yaml â”‚ â”‚ â”œâ”€â”€ ... â”‚ â”‚ â”œâ”€â”€ values.prod.yaml â”‚ â”‚ â””â”€â”€ values.stage.yaml â””â”€â”€ Jenkinsfile</code> </pre> <br><p>  El <code>Jenkinsfile</code> raÃ­z <code>Jenkinsfile</code> contiene una tabla de correspondencia entre el nombre del microservicio y el directorio en el que se encuentra su cÃ³digo.  Cuando el desarrollador retiene la solicitud de extracciÃ³n al maestro, se crea una etiqueta en GitHub, esta etiqueta se implementa en el producto utilizando Jenkins de acuerdo con el archivo Jenkins. </p><br><p>  El directorio <code>helm/</code> contiene grÃ¡ficos HELM con dos archivos de valores separados para el escenario y la venta.  Usamos Skaffold para desplegar muchas cartas HELM en el escenario.  Intentamos usar el grÃ¡fico general, pero nos enfrentamos al hecho de que es difÃ­cil de escalar. </p><br><p>  De acuerdo con la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aplicaciÃ³n de doce factores,</a> cada nuevo microservicio en el producto escribe registros en stdout, lee secretos de Vault y tiene un conjunto bÃ¡sico de alertas (que verifica el nÃºmero de hogares en funcionamiento, quinientos errores y retrasos en el ingreso). </p><br><p>  Independientemente de si importamos nuevas caracterÃ­sticas en microservicios o no, en nuestro caso toda la funcionalidad principal estÃ¡ en el monolito Django y este monolito todavÃ­a funciona en Elastic Beanstalk. </p><br><p><img src="https://habrastorage.org/webt/oj/w2/gc/ojw2gcp4v5ngnjl1vy1annhwbyg.jpeg"><br>  <em>Divide el monolito en microservicios // El Parque Vigeland en Oslo</em> </p><br><p>  Utilizamos AWS Cloudfront como CDN y con Ã©l utilizamos una implementaciÃ³n canaria durante toda nuestra migraciÃ³n.  Comenzamos a migrar el monolito a Kubernetes y a probarlo en algunas versiones de idiomas y en las pÃ¡ginas internas del sitio (como el panel de administraciÃ³n).  Un proceso de migraciÃ³n similar nos permitiÃ³ detectar errores en la producciÃ³n y pulir nuestras implementaciones en solo unas pocas iteraciones.  En el transcurso de un par de semanas, monitoreamos el estado de la plataforma, la carga y el monitoreo, y al final, el 100% del trÃ¡fico de ventas se cambiÃ³ a Kubernetes. </p><br><p><img src="https://habrastorage.org/webt/zb/jt/-f/zbjt-f_jggyybesds7w0u0cuhx0.png"></p><br><p>  DespuÃ©s de eso, pudimos negarnos a usar Elastic Beanstalk. </p><br><h2 id="itogi">  Resumen </h2><br><p>  La migraciÃ³n completa nos llevÃ³ 11 meses, como mencionÃ© anteriormente, planeamos cumplir con la fecha lÃ­mite de 1 aÃ±o. </p><br><p>  En realidad, los resultados son obvios: </p><br><ul><li>  El tiempo de implementaciÃ³n disminuyÃ³ de <strong>90 min</strong> a <strong>40 min.</strong> </li><li>  El nÃºmero de implementaciones aumentÃ³ de <strong>0-2</strong> a <strong>10-15</strong> por dÃ­a (Â¡y sigue creciendo!) </li><li>  El tiempo de reversiÃ³n disminuyÃ³ de <strong>45</strong> a <strong>1-2 minutos.</strong> </li><li>  Podemos entregar fÃ¡cilmente nuevos microservicios al producto </li><li>  Arreglamos nuestro monitoreo, registro, gestiÃ³n de secretos, los centralizamos y los describimos como cÃ³digo </li></ul><br><p>  Fue una experiencia de migraciÃ³n muy interesante y todavÃ­a estamos trabajando en muchas mejoras de plataforma.  AsegÃºrese de leer el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">interesante artÃ­culo</a> sobre la experiencia con Kubernetes de Jura, fue uno de esos ingenieros de YAML que participaron en la implementaciÃ³n de Kubernetes en Preply. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/464465/">https://habr.com/ru/post/464465/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../464451/index.html">CÃ³mo hice un rastreador de estacionamiento para personas</a></li>
<li><a href="../464453/index.html">Huskies: eliminar, dejar, reemplazar? Que?</a></li>
<li><a href="../464457/index.html">22 sitios para que un programador te ayude a hablar inglÃ©s</a></li>
<li><a href="../464459/index.html">Cuatro reglas de UX intuitivo</a></li>
<li><a href="../464463/index.html">iOS Responder Chain o lo que preguntan en la entrevista</a></li>
<li><a href="../464467/index.html">Aprenda analÃ­tica web desde cero. Amplia selecciÃ³n</a></li>
<li><a href="../464471/index.html">monitoreo de impresora snmp en The Dude</a></li>
<li><a href="../464479/index.html">"Manifiesto de programadores novatos de especialidades relacionadas" o cÃ³mo lleguÃ© a tal vida</a></li>
<li><a href="../464481/index.html">CÃ³mo construimos un sistema de entrenamiento y motivaciÃ³n en el estudio</a></li>
<li><a href="../464485/index.html">ShIoTiny: ventilaciÃ³n de habitaciÃ³n hÃºmeda (proyecto de ejemplo)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>