<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèæ üçû üßÄ Verteilte Systeme. Entwurfsmuster. Buchbesprechung üì© üñ®Ô∏è üì∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Kollegen. Heute ver√∂ffentlichen wir eine √úbersetzung der n√§chsten Rezension von Ben Neidels Website - diese Website wird Sie sicherlich f√ºr das ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verteilte Systeme. Entwurfsmuster. Buchbesprechung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/442514/"> Hallo Kollegen.  Heute ver√∂ffentlichen wir eine √úbersetzung der n√§chsten Rezension von Ben Neidels Website - diese Website wird Sie sicherlich f√ºr das Original interessieren.  Dieses Mal werden wir √ºber das Buch " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Distributed Systems. Design Patterns</a> " sprechen, das das Anfang dieses Jahres ver√∂ffentlichte Buch " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Master Kubernetes</a> " erg√§nzt und im Wesentlichen ein Analogon von GoF f√ºr das Design verteilter Systeme ist. <br><br><img src="https://habrastorage.org/webt/kv/we/4c/kvwe4cf94jbziiik3j87ywbjgyi.png"><br><br>  Viel Spa√ü beim Lesen. <br><a name="habracut"></a><br>  Am Wochenende las ich das Buch Distributed Systems.  Design Patterns von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Brendan Burns</a> .  Das Buch hat mir sehr gut gefallen, obwohl ich zugeben muss, dass ich erwartet habe, ein etwas anderes Material darin zu finden.  So werden in der Beschreibung der Buchbeh√§lter nur nebenbei erw√§hnt.  Obwohl die in diesem Buch beschriebenen Muster nicht nur f√ºr die Containerisierung gelten, werden fast alle hier beschriebenen Muster im Containerkontext angegeben und anschlie√üend in der Kubernetes-Bereitstellungspipeline ber√ºcksichtigt.  Es stellte sich √ºbrigens heraus.  Ich fange gerade erst an, mich mit der containerorientierten Entwicklung und Bereitstellung vertraut zu machen, und die Er√∂rterung von Architekturmustern unter einem solchen ‚ÄûContainer‚Äú -Sichtpunkt war f√ºr mich eine Offenbarung.  Dieser Ansatz hat mir geholfen, ein gutes Verst√§ndnis daf√ºr zu bekommen, wie in der Microservice-Landschaft kleine Services richtig unterschieden werden, von denen jeder eine bestimmte Chance hat. <br><br>  Der Autor des Buches, Brendan Burns, ist Mitbegr√ºnder des Open-Source-Projekts Kubernetes.  Daher ist es nicht verwunderlich, dass alle Anwendungsbeispiele auf der Bereitstellung von Containern basieren, die auf Kubernetes-Konfigurationsdateien basieren.  Zum Zeitpunkt des Lesens des Buches war ich ein wenig mit Docker vertraut und wusste nichts √ºber Kubernetes.  Daher habe ich versucht, den ‚ÄûZweck‚Äú der Kubernetes-Konfigurationsdateien durch einfaches Lesen herauszufinden.  Ich glaube jedoch, dass das Buch n√ºtzlicher sein wird, wenn der Leser zumindest einige Erfahrungen mit Kubernetes hat. <br><br>  Beim Lesen des Buches konnte ich die Assoziationen mit der Arbeit ‚Äû <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Integrationsvorlagen f√ºr Unternehmensanwendungen</a> ‚Äú von Gregor Hope und Bobby Wolf nicht loswerden.  Viele der von Burns diskutierten Muster sind den von Hope und Wolfe diskutierten Nachrichtenwarteschlangenmustern sehr √§hnlich.  Tats√§chlich muss ich sagen, dass viele Muster in beiden B√ºchern sogar gleich erw√§hnt werden (zum Beispiel Scatter / Gather).  Dies ist logisch, da das Thema beider B√ºcher die Aufteilung komplexer monolithischer Systeme in eine Reihe kleiner, eng zugeschnittener wiederverwendbarer Dienste ist.  Ich denke, es kann sogar argumentiert werden, dass Burns spezifische Ans√§tze skizziert, die bei der Implementierung der Producer- und Consumer-Services n√ºtzlich sind, die an der Funktionsweise von nachrichtenbasierten Workflows beteiligt sind, die auch im Buch ‚ÄûEnterprise Application Integration Templates‚Äú beschrieben sind. <br><br>  Auch hier glaube ich, dass die Parallelen zwischen diesen beiden B√ºchern die Kraft von Designmustern bezeugen.  Sowohl darin, wie gut sie uns zu bew√§hrten L√∂sungen f√ºhren, als auch darin, dass Entwurfsmuster die technische Kommunikation erleichtern, da sie es uns erm√∂glichen, in einer gemeinsamen Sprache zu argumentieren. <br><br>  Gleichzeitig ist einer der Ans√§tze, die mir am besten gefallen haben, im Buch ‚ÄûDistributed Systems.  Entwurfsmuster ‚Äúh√§ngt genau mit dem Verbrauch der Nachrichtenwarteschlange zusammen.  Burns empfiehlt, den Arbeitscontainer nicht zu zwingen, Nachrichten direkt aus dem System abzurufen (√§hnlich wie im SQS-System (Simple Queue Service) von Amazon), sondern ein ‚ÄûAmbassador‚Äú (Ambassador-Muster) zu erstellen.  Ein solcher "Botschafter" -Container wird zusammen mit dem Arbeitscontainer bereitgestellt und bietet eine allgemeine API zum Bearbeiten von Warteschlangen.  Mit dem Ambassador-Container k√∂nnen Sie Implementierungsdetails f√ºr die permanente Speicherung von Elementen in der Nachrichtenwarteschlange abstrahieren, sodass der Arbeitscontainer v√∂llig unabh√§ngig von bestimmten technologischen L√∂sungen ist. <br><br>  ‚ÄûDer Botschafter der Containerquelle der Arbeitswarteschlange‚Äú ist nur ein Beispiel aus einem Querschnittsthema, das sich als roter Faden durch das Buch zieht: Verwenden Sie S√§tze kleiner Container, damit sich jeder einzelne Container so weit wie m√∂glich auf eine bestimmte Aufgabe konzentrieren und sich als so wiederverwendbar wie m√∂glich herausstellen kann.  Burns untersucht dieses Konzept auf der Ebene der einzelnen Container und spricht √ºber die Parametrisierung von Containern mithilfe von Befehlszeilenargumenten und Umgebungsvariablen.  Dann geht er eine Ebene h√∂her und spricht √ºber die Muster von Seitenwagen und Botschaftern mit mehreren Containern in einem Einzelknotenkontext.  Schlie√ülich zeigt er, wie mithilfe von Multi-Container-Mustern eine leistungsstarke Microservice-Architektur erstellt wird. <br><br>  Ich denke, dass Burns den "Traum" der gesamten Microservice-Landschaft perfekt artikulieren konnte: <br><br><blockquote>  Der Microservice-Ansatz bietet viele Vorteile, von denen viele mit Zuverl√§ssigkeit und Flexibilit√§t zusammenh√§ngen.  Microservices unterteilen die Anwendung in kleine Teile, von denen jeder f√ºr die Bereitstellung eines bestimmten Dienstes verantwortlich ist.  Durch die Einschr√§nkung des Leistungsumfangs kann jeder Dienst ein Team aufbauen und unterhalten, das mit zwei Pizzen versorgt werden kann. <br><br>  Durch die Reduzierung der Teamgr√∂√üe werden auch die Kosten f√ºr die Aufrechterhaltung der Aktivit√§ten gesenkt. <br><br>  Dar√ºber hinaus schw√§cht die Entstehung einer formalen Schnittstelle zwischen Mikrodiensten die gegenseitige Abh√§ngigkeit der Teams und schafft einen zuverl√§ssigen Vertrag zwischen den Diensten.  Ein solcher formeller Vertrag verringert die Notwendigkeit einer engen Teamsynchronisation, da das Team, das die API bereitstellt, versteht, inwieweit es erforderlich ist, die Kompatibilit√§t sicherzustellen, und das Team, das die API verwendet, auf einen stabilen Dienst z√§hlen kann, ohne sich um die Details der Implementierung des verbrauchten Dienstes k√ºmmern zu m√ºssen.  Eine solche Zerlegung erm√∂glicht es den Teams, das Entwicklungstempo und den Zeitplan f√ºr die Ver√∂ffentlichung neuer Versionen unabh√§ngig zu steuern, wodurch sie die M√∂glichkeit haben, zu iterieren, wodurch der Servicecode verbessert wird. <br><br>  Schlie√ülich erh√∂ht die Aufteilung in Mikrodienste die Skalierbarkeit.  Da jede Komponente einem separaten Service zugeordnet ist, kann sie unabh√§ngig von den anderen skaliert werden </blockquote><br>  (S. 79-80 in russischer √úbersetzung) <br><br>  Ich spreche von dem "Traum", weil es, wie Burns selbst zugibt, schwierig ist, ein Microservice-System und seine Architektur zu entwerfen.  Das √úberwachen und Debuggen eines solchen Systems ist viel komplizierter als das √úberwachen und Debuggen eines monolithischen Analogons.  Nur dem kann ich leicht zustimmen.  Aufgrund meiner begrenzten Erfahrung mit Microservices best√§tige ich, dass Shared Services schnell eng miteinander verbunden werden und ‚Äûzuverl√§ssige Vertr√§ge‚Äú zwischen Services schnell zu einem beweglichen Ziel werden und immer mehr neue √Ñnderungen erfahren. <br><br>  Abschlie√üend m√∂chte ich auf das FaaS-Konzept eingehen - ‚ÄûFunktionen als Dienstleistungen‚Äú.  Bei Systemen wie dem Lambda-Service von Amazon f√ºhle ich mich gemischt.  In einem √§u√üerst abstrakten Sinne mag ich solche Systeme, aber ich habe keine Ahnung, wie sie sich in einer bestimmten Anwendung manifestieren.  Burns geht in Teil II auf "Muster beim Entwerfen von Servesystemen" auf FaaS ein, aber leider kl√§rt es das Faas-Problem f√ºr mich nicht vollst√§ndig. <br><br>  Es hat mir sehr gut gefallen, dass Burns die Verwendung von FaaS empfiehlt, um nur einen Teil der bekannten Probleme zu l√∂sen: <br><br><blockquote>  Wie bei anderen Tools zum Entwickeln verteilter Systeme m√∂chten Sie m√∂glicherweise eine bestimmte L√∂sung (z. B. ereignisorientierte Verarbeitung) als universelles Tool verwenden.  Die Wahrheit ist, dass eine bestimmte L√∂sung normalerweise bestimmte Probleme l√∂st.  In einem bestimmten Kontext wird es sich als leistungsstarkes Werkzeug erweisen, aber wenn Sie es an den Ohren ziehen, um h√§ufig auftretende Probleme zu l√∂sen, entstehen komplexe, fragile Architekturen. </blockquote><br>  (S. 135 in russischer √úbersetzung) <br><br>  Vielen Dank an ihn f√ºr die Erw√§hnung der Schwierigkeiten, die bei der Verwendung von FaaS auftreten: <br><br><blockquote>  Wie im vorherigen Abschnitt erw√§hnt, m√ºssen Sie bei der Systementwicklung mit dem FaaS-Ansatz die Systemkomponenten lose miteinander verbinden.  Jede Funktion ist per Definition unabh√§ngig.  Alle Interaktionen werden √ºber das Netzwerk ausgef√ºhrt.  Funktionsinstanzen haben keinen eigenen Speicher, daher ben√∂tigen sie gemeinsam genutzten Speicher, um den Status zu speichern.  Eine erzwungene Schw√§chung der Konnektivit√§t von Systemelementen kann die Flexibilit√§t und Geschwindigkeit der Serviceentwicklung erh√∂hen, gleichzeitig jedoch die Unterst√ºtzung erheblich erschweren. <br>  Insbesondere ist es ziemlich schwierig, die umfassende Struktur des Dienstes zu erkennen, festzustellen, wie die Funktionen miteinander integriert sind, um zu verstehen, was und warum im Fehlerfall ein Fehler aufgetreten ist.  Aufgrund der abfrageorientierten und serverlosen Natur von Funktionen sind einige Probleme nur schwer zu erkennen. </blockquote><br>  (S. 136-137 in russischer √úbersetzung) <br><br>  Wieder war ich √ºberrascht, dass die meisten FaaS-Systeme nicht zu gut f√ºr die L√∂sung von Aufgaben sind, die eine aktive Verarbeitung erfordern: <br><br><blockquote>  ... au√üerdem ist die Ausf√ºhrungszeit einer Funktionsinstanz aufgrund der serverlosen Implementierung von Diensten normalerweise begrenzt.  Dies bedeutet, dass der FaaS-Ansatz normalerweise nicht f√ºr Anwendungen geeignet ist, die eine lange Hintergrunddatenverarbeitung erfordern.  (S. 138 in russischer √úbersetzung) <br>  Schlie√ülich freute ich mich √ºber die Bemerkung, dass FaaS wirtschaftlich unzweckm√§√üig wird, wenn es unm√∂glich ist, einen langen unterbrechungsfreien Betrieb des Prozessors sicherzustellen: <br>  Wenn Sie jedoch so viele Anfragen haben, dass die Funktion st√§ndig aktiv ist, zahlen Sie wahrscheinlich zu viel f√ºr die Anzahl der verarbeiteten Anfragen. <br><br>  ... wenn der Dienst w√§chst, w√§chst die Anzahl der verarbeiteten Anforderungen auf ein solches Niveau, dass der Prozessor st√§ndig damit besch√§ftigt ist, sie zu verarbeiten.  Ab diesem Zeitpunkt wird die Geb√ºhr f√ºr die Anzahl der Anfragen unrentabel.  Die Kosten pro CPU-Zeiteinheit f√ºr virtuelle Cloud-Maschinen sinken, wenn Kerne hinzugef√ºgt werden und Ressourcen und Rabatte f√ºr die langfristige Nutzung reserviert werden.  Die Kosten f√ºr die Zahlung der Anzahl der Anfragen steigen normalerweise mit der Anzahl der Anfragen. </blockquote><br>  (S. 139-140 in russischer √úbersetzung) <br><br>  Infolgedessen habe ich immer noch nicht verstanden: Wann ist es besser, ‚ÄûFunktionen als Dienste‚Äú zu verwenden?  Ich stelle fest, dass Burns kurz die Arbeit mit ereignisorientierten kurzfristigen Aufgaben beschreibt, die den Prozessor nicht stark belasten, wie z. B. die Zwei-Faktor-Authentifizierung (2FA).  Angesichts der Tatsache, dass es sich um kleine kurzfristige Aufgaben mit geringen Kosten handelt, stellt sich jedoch die Frage: Warum sollten sie unabh√§ngig voneinander skaliert werden?  Warum nicht einfach diese Funktionen in einen anderen Containerservice aufnehmen, der eng mit dem ersten verwandt ist? <br><br>  Ich hoffe, diese Probleme besser l√∂sen zu k√∂nnen, wenn ich FaaS-Technologien in der Praxis einsetzen kann. <br><br>  Abgesehen von einigen Verwechslungen mit FaaS hat mir das Buch sehr gut gefallen.  Es ist schnell zu lesen, leicht wahrzunehmen.  Es erinnert uns erneut an das enorme Potenzial, die Verbindung zwischen Komponenten auf allen Ebenen der Anwendungsentwicklung zu schw√§chen.  Schlie√ülich f√§llt es mir jetzt viel leichter, mit meinen Kollegen √ºber Themen wie ‚ÄûBeiwagencontainer‚Äú zu sprechen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de442514/">https://habr.com/ru/post/de442514/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de442502/index.html">Wir verwandeln den Arbeitsplatz f√ºr 200 US-Dollar in ein Liegerad</a></li>
<li><a href="../de442504/index.html">PHP Xdebug-Proxy: Wenn die Standardfunktionen von Xdebug nicht ausreichen</a></li>
<li><a href="../de442506/index.html">Wird Russland f√ºr den illegalen Handel mit personenbezogenen Daten bestraft?</a></li>
<li><a href="../de442508/index.html">Wie udalenka die Innovation auf GitLab beschleunigt</a></li>
<li><a href="../de442512/index.html">Anpassung von Django ORM am Beispiel von ZomboDB</a></li>
<li><a href="../de442516/index.html">Pandas Leitfaden zur Big Data-Analyse</a></li>
<li><a href="../de442518/index.html">Top 10 Web-Hacking-Techniken 2018</a></li>
<li><a href="../de442520/index.html">Fall. Einsparung von 300 000 p. pro Monat auf kontextbezogene Werbung</a></li>
<li><a href="../de442522/index.html">Intuitives RL (Reinforcement Learning): Einf√ºhrung in Advantage-Actor-Critic (A2C)</a></li>
<li><a href="../de442524/index.html">So erh√∂hen Sie die Sicherheit von Personalidentifikations- und Zugangskontrollsystemen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>