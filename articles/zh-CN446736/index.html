<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤸🏼 🤨 👩🏿‍🎨 Oracle APEX 报告书 🍐 ⏪ 💅🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="本文介绍了三种类型的顶点报告：经典报告，交互式报告（IR）和交互式网格（IG）。 经典报表是其中最简单的报表，但与其他组件结合使用可以使您做一些出乎意料的事情。 IR和IG具有更多现成的功能，但是它们本身就是很多东西。 一方面，它们的广泛功能使不必要的某种其他调整成为可能，另一方面，这些相同的功能严...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Oracle APEX 报告书</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446736/"><p> 本文介绍了三种类型的顶点报告：经典报告，交互式报告（IR）和交互式网格（IG）。 经典报表是其中最简单的报表，但与其他组件结合使用可以使您做一些出乎意料的事情。  IR和IG具有更多现成的功能，但是它们本身就是很多东西。 一方面，它们的广泛功能使不必要的某种其他调整成为可能，另一方面，这些相同的功能严重地限制了执行其他操作的能力。 适用于经典报告的大部分内容也适用于它们。 </p><br><p><img src="https://habrastorage.org/webt/rz/u8/4v/rzu84vxvkjqg2f0udg97gx5pf-i.png" alt="KDPV"></p><a name="habracut"></a><br><h2 id="oglavlenie"> 目录 </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">经典报告</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">附加数据格式</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用列属性进行格式化</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">通过编辑模板进行格式化</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">添加互动</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“点击报告行”类型的事件</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用经典报表编辑数据</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">互动报告（IR）</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">交互式网格（IG）</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">创建非SQL列</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">新列类型</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">基于IG的主从报告</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在IG中处理数据输入</a> </p><br><h2 id="classic-report"> 经典报告 </h2><br><p> 有两种创建报告的方法。 首先是通过页面创建向导与页面一起创建：选择“报告”页面类型，然后选择“经典报告”子类型，然后通过向导步骤设置页面属性，最后一步是指定数据源。 将创建一个包含一个报告的新页面，如果需要，您可以在上面添加其他内容。 此方法具有相当大的历史价值，在版本5.0的现代Page Designer出现之前，它确实非常容易。 </p><br><p>第二种方法-在“ <code>Rendering</code> ”选项卡左侧菜单的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">页面设计器</a>中已创建的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">页面</a>上（这是第一种），找到“ <code>Regions</code> ”分支，右键单击它，然后选择“ <code>Create Region</code> ”。 接下来，您需要在右侧面板的“ <code>Identification</code> ”属性组中指定：“ <code>Title</code> ”-将在页面上显示报告的标题，以及“ <code>Type</code> ”-“ <code>Classic Report</code> ”； 在“ <code>Source</code> ”组中：“ <code>Location</code> ”-“ <code>Local Database</code> ”（一个相对较新的字段，它不在5.x中），“ <code>Type</code> ”-“ <code>SQL Query</code> ”，“ <code>SQL Query</code> ”-查询本身。 够了 </p><br><div class="spoiler">  <b class="spoiler_title">建立更多示例和KDPV的SQL查询</b> <div class="spoiler_text"><p> 创建表： </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> students <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname, trunc(<span class="hljs-keyword"><span class="hljs-keyword">sysdate</span></span> - dbms_random.value(<span class="hljs-number"><span class="hljs-number">18</span></span> * <span class="hljs-number"><span class="hljs-number">365</span></span> - <span class="hljs-number"><span class="hljs-number">180</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span> * <span class="hljs-number"><span class="hljs-number">365</span></span> + <span class="hljs-number"><span class="hljs-number">180</span></span>)) birthdate, trunc(<span class="hljs-keyword"><span class="hljs-keyword">sysdate</span></span> - <span class="hljs-number"><span class="hljs-number">8</span></span>) examdate, trunc(<span class="hljs-number"><span class="hljs-number">50</span></span> + dbms_random.value * <span class="hljs-number"><span class="hljs-number">50</span></span>) rating <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> surname <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual);</code> </pre> <br><p> 查询报告： </p><br><pre> <code class="sql hljs"> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname, birthdate, examdate, rating, rn, <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> rn &lt;= <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-string"><span class="hljs-string">'highrating'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> color, apex_item.checkbox(<span class="hljs-number"><span class="hljs-number">1</span></span>) chbx <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname, birthdate, examdate, rating, row_number() <span class="hljs-keyword"><span class="hljs-keyword">over</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> rating <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span>) rn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> students) <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span></code> </pre> </div></div><br><p> 输入查询文本后，顶点将自行解析并检测列。 左侧面板中带有报告的区域设置如下所示： </p><br><p><img src="https://habrastorage.org/webt/op/m_/kz/opm_kzpzo_ac4ilrbchxxay0qqk.png" alt="报告设定"></p><br><p> 主要分为三个部分： </p><br><ul><li>  <code>Title</code>为该区域的“ <code>Title</code> ”的部分：在此配置区域的属性； </li><li>  “ <code>Columns</code> ”： <code>Columns</code>的列表，每列都有自己的设置； </li><li>  “ <code>Attributes</code> ”：报告本身的属性，即专门针对数据板的属性（我不知道是谁，但起初我很困惑，该区域的属性在哪里，该报告的属性在哪里；特别是，该区域和报告都有各自的“ <code>Template</code> ” ，并且如果您更改了“ <code>Template</code> ”，并且报表/区域的类型未更改，请检查是否将它们相互混合）。 </li></ul><br><p> 经典报表的基本功能： </p><br><ul><li> 列标题和列数据的对齐方式（左，中，右），设置数字和日期的格式掩码； </li><li> 排序：如果在“可<code>Sortable</code> ”列的属性中指定“ <code>Yes</code> ”，则在页面上此列的标题将由一个链接表示，单击该链接即可对其进行排序。 您可以<code>Order by</code>在查询中添加“ <code>Order by</code> ”，或通过在列属性中设置排序来对数据进行排序，但是不能同时进行这两种操作。 </li><li>  “ <code>Pagination</code> ”：您可以指定每页的行数（“ <code>Attributes</code> ”→“ <code>Number of Rows</code> ”），并调整页面选择器的外观（有多个选项可供选择）。 还请注意参数“ <code>Maximum Rows to Process</code> ”：它设置表中将要结束的查询行数。 所有排序，“ <code>Pagination</code> ”等都将应用于此行数。 如果您的查询应该/应该返回更多，请增加此数字； </li><li>  “ <code>When No Data Found</code> ”：当查询返回0行时，根本不显示该表（甚至是标题，这是引擎的功能），在此部分中，您可以指定一条消息，而不是显示结果的表； </li><li> 数据上传到CSV：在“ <code>Download</code> ”部分中配置。 </li></ul><br><p> 这些列具有“类型”字段，您可以在其中选择以下几个选项之一来显示结果： </p><br><ul><li>  “纯文本”：这是默认选项-只是查询的结果。 </li><li>  “纯文本（基于值列表）”：如果查询中有一个引用查找表的字段，则可以使用该字段替换查找中的值（当然，最好将其密封在查询本身中）。 </li><li>  “链接”：允许您建立链接。 关于链接，将有单独的文章。 </li><li>  “显示图像”和“下载BLOB”：这些类型允许您访问存储在<code>BLOB</code>类型列中的表中的文件。 第一个显示文件为图片（当然，如果是图片），第二个显示下载链接。 </li><li>  “百分比图”：使用进度条显示从0到100的数字作为图片。 </li><li>  “隐藏列”：当查询中的值是辅助值（例如，用于格式化）时使用，但不应在屏幕上显示。 </li></ul><br><h3 id="dopolnitelnoe-formatirovanie-dannyh"> 附加数据格式 </h3><br><h6 id="formatirovanie-s-pomoschyu-svoystv-stolbcov"> 使用列属性进行格式化 </h6><br><p> 考虑一个例子，其中我们列出了通过考试的学生（SQL查询在上面给出）。 我们有一个结果盘，我们要用红色和粗体突出显示三个最佳结果。 为了帮助我们实现“ <code>Column formatting</code> ”列的设置。 当顶点呈现报表时，它将创建一个HTML表并将查询结果中的值放在其单元格（ <code>&lt;td&gt;&lt;/td&gt;</code> ）中。  “ <code>HTML Expression</code> ”属性允许您改为指定任意HTML代码。 如果为空，则顶点将把请求中的值放入<code>td</code>标记内；如果不为空，则将属性的内容放入。 在表达式“ <code>HTML Expression</code> ”中，您可以使用指向查询任何列的值的链接，为此，您需要将其名称括在两个字符<code>#</code>之间。 在请求中，在我的示例中，有“ <code>RATING</code> ”列（需要显示的结果）和“ <code>COLOR</code> ”（它计算将设置突出显示样式的CSS类的名称，具体取决于“ <code>RATING</code> ”列的值）。 在“ <code>RATING</code> ”列的“ <code>HTML Expression</code> ”属性中，输入： </p><br><pre> <code class="plaintext hljs">&lt;span class="#COLOR#"&gt;#RATING#&lt;span&gt;</code> </pre> <br><p> 可以在页面属性（“ <code>CSS</code> ”→“ <code>Inline</code> ”）中描述<code>highrating</code> CSS类<code>highrating</code> ： </p><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.highrating</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: red; <span class="hljs-attribute"><span class="hljs-attribute">font-weight</span></span>: bold; }</code> </pre> <br><p> 一切准备就绪。 如果现在打开页面，将会看到三个最高的结果以红色突出显示。 </p><br><p> 当然，可以通过许多替代方法解决此问题。 例如，不要使用CSS类，而是在SQL查询中计算颜色并将其插入到<code>style</code>属性中，或者在页面或报表模板中描述所需的CSS类。 有很多变化，请选择更接近的人。 </p><br><p>  <strong>注意：</strong>要隐藏用于格式化或某些中间计算的所有其他列，请在“ <code>Identification</code> ”→“ <code>Type</code> ”列的属性中选择“ <code>Hidden Column</code> ”。 </p><br><h6 id="formatirovanie-putem-izmeneniya-shablona"> 通过编辑模板进行格式化 </h6><br><p> 使用列属性进行格式化有一个缺点：您无法影响单元格本身的格式，即<code>td</code>标签。 因此，例如，将无法用任何颜色完全填充单元格（因为在标准apex CSS文件中，表格单元格具有非零<code>padding</code>并且内部将带有白色边框）。 </p><br><p> 采取与上述相同的示例，并为具有三个最佳结果的行添加黄色突出显示。 </p><br><p> 为此，请执行以下步骤： </p><br><ol><li> 我们转到“ <code>Shared Components</code> ”→“ <code>User Interface</code> ”→“ <code>Templates</code> ”，在出现的模板列表中，单击“ <code>Type</code> ”列的标题，然后在出现的值列表中选择“ <code>Report</code> ”。 现在我们找到模板“ <code>Standard</code> ”（默认使用），并在列表的最右列（“ <code>Copy</code> ”）中单击按钮以创建模板的副本。 在出现的窗口中，为模板命名，例如“带突出显示的标准”。 </li><li><p> 模板属性打开。 在“ <code>Column Template</code> ”选项卡上，“ <code>Column Template 1</code> ”字段包含以下内容： </p><br><pre> <code class="plaintext hljs">&lt;td class="t-Report-cell" #ALIGNMENT# headers="#COLUMN_HEADER_NAME#"&gt;#COLUMN_VALUE#&lt;/td&gt;</code> </pre> <br><p> 这是当前正在使用的单元格模板。 在此选项卡上，您最多可以指定四个备用单元格模板，将根据计算每个模板条件的结果在其中进行选择。 我们在请求中有一个<code>RN</code>字段-结果的序列号（即，最好的结果是数字1，下一个是2，依此类推），在这里我们将使用它。 第一种模式（根据问题的情况）应仅应用于列<code>RN</code>的值大于三的行。 在模板的属性中的“ <code>Column Template 1 Condition</code> ”字段中，选择“ <code>Use Based on PL/SQL Expression</code> ”，然后在字段“ <code>Column Template 1 Expression</code> ”中编写： </p><br><pre> <code class="plaintext hljs">:RN &gt; 3</code> </pre> <br><p> 而且仅需添加备用模板（在“ <code>Column Template 2</code> ”字段中）： </p><br><pre> <code class="plaintext hljs">&lt;td class="t-Report-cell highlighted" #ALIGNMENT# headers="#COLUMN_HEADER_NAME#"&gt;#COLUMN_VALUE#&lt;/td&gt;</code> </pre> <br><p> 在这里， <code>highlighted</code>类将添加到标准单元格类（ <code>td</code> ）中。 现在仍然可以单击“应用更改”按钮。 </p><br></li><li> 返回到页面设计器。 我们在属性“ <code>Attributes</code> ”→“ <code>Appearance</code> ”→“ <code>Template</code> ”中找到我们的报告，从列表中选择新模板“带突出显示的标准”。 </li><li> 与前面的示例一样，在页面属性（“ <code>CSS</code> ”→“ <code>Inline</code> ”）中，我们描述了新的<code>highlighted</code>类： </li></ol><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.highlighted</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: lightyellow <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; }</code> </pre> <br><p> 我们保存页面，检查结果（它应该像本文开头的图片一样）。 </p><br><h3 id="dobavlyaem-interaktiva"> 添加互动 </h3><br><h6 id="sobytiya-vida-klik-na-stroke-otcheta">  “点击报告行”类型的事件 </h6><br><p> 最常见的任务之一是确定用户单击的行号。 对于顶点处浏览器中的事件，动态操作（DA）的组件负责。 不幸的是，尽管种类繁多，但没有典型的DA可以处理报表行中的点击。 但这是相对容易模仿的。 例如，我们将基于上一节中的报告，从两个经典报告中创建一个主从报告。 <br> 此处的第二个报告将是一个包含电话号码的表格。 通过单击第一个表，它将被更新并显示所选人员的电话号码（并且无需重新加载页面！）。 对于此报告，创建“经典报告”类型的另一个区域。 </p><br><div class="spoiler">  <b class="spoiler_title">该请求将是例如</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">with</span></span> phone <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">'1684313'</span></span> phone_num <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'6843513'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'8916311'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'6843213'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'6513218'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'9561311'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'9843135'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> phone_num <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> phone <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> = :P2_ROW_ID</code> </pre> </div></div><br><p> 解决方案的必要组成部分： </p><br><ol><li><p> 一种识别用户选择的字符串的方法。 为此， <code>ID</code>列是合适的。 不幸的是，如果此列被标记为隐藏（很多多余的图标经常不向用户显示，以免使界面不致过载），则引擎将根本不会呈现它，并且该数据也不会显示在页面上。 但是可以按照格式化输出的相同方式将它们添加到现有列中。 让我们看一列（例如，第一个可见），然后在“ <code>Column formatting</code> ”→“ <code>HTML Expression</code> ”字段中编写： </p><br><pre> <code class="plaintext hljs">&lt;span class="click" data-id="#ID#"&gt;&lt;/span&gt;#NAME#</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">您可以直接将此代码插入SQL查询，但最好不要</b> <div class="spoiler_text"><p> 还有另一种方法可以做到这一点-将此HTML代码直接添加到请求中： </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-string"><span class="hljs-string">'&lt;span class="click" data-id="'</span></span> || <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> || <span class="hljs-string"><span class="hljs-string">'"&gt;&lt;/span&gt;'</span></span> || <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> ...</code> </pre> <br><p> 整体结果将是相同的，但按<code>name</code>字段进行排序将停止工作，因为DBMS引擎会将整行视为数据并按其进行排序。 而且，如果通过“ <code>Column formatting</code> ”完成此操作，那么用于进行排序的数据将不会包含任何多余的内容。 <br> 另外，在这种情况下，要在列中显示HTML代码，您将不得不放弃特殊字符的转义，这也是潜在的安全漏洞。 </p></div></div><br></li><li> 报告标识符（如果页面上有多个这样的报告）。 该区域的属性为“ <code>Advanced</code> ”→“ <code>Static ID</code> ”，将值<code>my_rep</code> 。 此属性的值在页面的HTML代码中使用。 包含该区域的<code>div</code>元素将接收具有此值的<code>id</code>属性。 如果“ <code>Static ID</code> ”字段为空，则顶点将使用系统表中的区域标识符作为<code>id</code>属性。 最好不要依赖它，因为在将应用程序转移到另一台服务器时，此标识符 <del> 可能会改变 </del> 几乎可以保证会改变。 </li><li> 用于临时存储所选行的<code>ID</code>值的项目。 让我们创建一个类型为“ <code>Hidden</code> ”的<code>P2_ROW_ID</code> （如您所见，此名称用于返回电话列表的请求中）。 </li><li><p> 接下来，您需要创建一个动态动作。 打开页面设计器，在“动态动作”选项卡的左侧面板中找到“单击”分支，使用右键单击该分支，然后从菜单中选择“创建动态动作”。 接下来，填写以下DA属性： </p><br><ul><li>  “ <code>Identification</code> ”→“ <code>Name</code> ”：一些有意义的名称，否则您将迷失在这些无尽的“ New”，“ New2”，“ New3”等中； </li><li>  “ <code>When</code> ”→“ <code>Selection Type</code> ”：“ <code>jQuery Selector</code> ”； </li><li><p> 在接下来出现的“ <code>jQuery Selector</code> ”字段中：在这里，您可以指定一个选择器，该选择器将指向带有行标识符的其他不可见<code>span</code> ： </p><br><pre> <code class="plaintext hljs">#my_rep table.t-Report-report tr</code> </pre> <br></li></ul><br></li></ol><br><p> 接下来，让我们为此DA创建动作（“ <code>True Actions</code> ”）： </p><br><ul><li><p> 第一个动作获取所选行的<code>ID</code>并将其存储在一个项目中。 您需要设置以下属性值：“ <code>Action</code> ”-“ <code>Set Value</code> ”，“ <code>Set Type</code> ”-“ <code>JavaScript Expression</code> ”，“ <code>JavaScript Expression</code> ”-以下代码： </p><br><pre> <code class="plaintext hljs"> this.triggeringElement.querySelector('span.click').dataset.id</code> </pre> <br><p> 在“ <code>Affected Elements</code> ”→“ <code>Selection Type</code> ”属性中，选择“ <code>Item(s)</code> ”，在“ <code>Item(s)</code> ”属性中，选择项目<code>P2_ROW_ID</code> 。 </p><br></li><li> 第二个动作将项目值发送到服务器。 属性：“ <code>Action</code> ”-“ <code>Execute PL/SQL Code</code> ”，“ <code>PL/SQL Code</code> ”-仅为<code>null;</code>  ，“ <code>Items to Submit</code> ” <code>P2_ROW_ID</code> （实际上，所有此操作都是将项目值发送到服务器所必需的-没有更简单的方法可以执行此操作；或者，除了这两个<code>Actions</code>您还可以制作一个带有裸露的javascript的内部操作，以计算值，并且发送到服务器-甚至都不会困难得多）。 </li><li> 第三个操作将更新第二个（详细信息）报告。 属性：“ <code>Action</code> ”-“ <code>Refresh</code> ”，“ <code>Affected Elements</code> ”→“ <code>Selection Type</code> ”-选择“ <code>Region</code> ”，在“ <code>Region</code> ”中选择带有电话的第二个区域。 </li></ul><br><div class="spoiler">  <b class="spoiler_title">动态动作说明</b> <div class="spoiler_text"><p> 将来，我将撰写有关DA和许多其他入门级顶点组件的单独的详细文章，以便任何初学者都能立即理解以下内容的工作方式和作用，但现在假设读者已经知道所有这些。 </p></div></div><br><p> 仅此而已。 如果您采取了所有这些步骤并且没有错过任何内容，则页面上将有两个报告，并且当您单击第一个报告的任何行时，第二个报告将被更新并显示所选人员的数据。 </p><br><h6 id="izmenenie-dannyh-s-pomoschyu-classic-report"> 使用经典报表编辑数据 </h6><br><p> 在古代版本的顶点中，有一个称为表格格式的报告类型（尽管标记为传统，它原则上仍然存在），它允许一次更改表中几行的数据。 他被功能更强大的交互式网格所取代。 在这里，我将演示如何使用简易方法来组装暖管表格形式的类似物。 使用与上一个示例相同的表格，并添加编辑此人的姓名和姓氏的功能。 <br> 对于编辑数据（其数量甚至无法事先得知），我们将需要<code>APEX_ITEM</code>和<code>APEX_APPLICATION</code> 。 第一个允许您在运行时中创建任何项（在这种情况下，创建是相应HTML的生成），第二个允许您访问在运行时中创建的字段中输入的数据。 <br> 以函数<code>APEX_ITEM.TEXT</code> （返回简单文本输入的HTML代码）。 这是在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">文档中</a>声明此功能的方式： </p><br><pre> <code class="sql hljs">APEX_ITEM.TEXT( p_idx IN NUMBER, p_value IN VARCHAR2 DEFAULT NULL, p_size IN NUMBER DEFAULT NULL, p_maxlength IN NUMBER DEFAULT NULL, p_attributes IN VARCHAR2 DEFAULT NULL, p_item_id IN VARCHAR2 DEFAULT NULL, p_item_label IN VARCHAR2 DEFAULT NULL) RETURN VARCHAR2;</code> </pre> <br><p> 从第二个开始的参数描述了HTML代码将包含的内容：输入字段中的值，其他属性，长度限制等。在本例中，最重要的参数是第一个（它是唯一必需的参数，其余参数具有默认值）。 该参数的取值范围为1到50，然后将在此处输入的数字将用于访问用户输入的数据。 每个数字都对应于PL / SQL集合<code>APEX_APPLICATION.G_FXX</code> ，其中<code>XX</code>是<code>02</code> ，... <code>50</code> 。 <br> 对于我们的任务，我们需要三个表字段： <code>id</code> ， <code>name</code> ， <code>surname</code> 。 第一个应该被隐藏，第二个和第三个应该是输入字段。 </p><br><ol><li><p> 我们基于SQL查询创建一个报告： </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> apex_item.hidden(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) || apex_item.text(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, apex_item.text(<span class="hljs-number"><span class="hljs-number">3</span></span>, surname) surname, birthdate, examdate <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> students</code> </pre> <br></li><li> 在“ <code>NAME</code>和“ <code>SURNAME</code> ”列的属性中，我们删除了字符的转义：在“ <code>Security</code> ”→“ <code>Escape special characters</code> ”中，我们设置为“ <code>No</code> ”。 </li><li> 创建一个按钮“ <code>Save</code> ”，默认情况下可以保留设置。 </li><li><p> 我们使用以下属性创建“ <code>After Submit</code> ”过程：“ <code>Identification</code> ”→“ <code>Type</code> ”-“ <code>PL/SQL</code> ”；  “ <code>Server-side Conditions</code> ”→“ <code>When Button Pressed</code> ”-“ <code>Save</code> ”按钮。 以及将数据保存到数据库的代码： </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> apex_application.g_f01.first .. apex_application.g_f01.last <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> students <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = apex_application.g_f02(i), surname = apex_application.g_f03(i) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> = apex_application.g_f01(i); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br></li></ol><br><p> 如您所见，它看起来非常简单。 剩下的只是提及与<code>APEX_ITEM</code>一起使用时<code>APEX_ITEM</code>一个令人不快的陷阱。 如果您要通过这种方式向报表添加复选框： </p><br><pre> <code class="plaintext hljs">select ... apex_item.checkbox2(4, id) from students</code> </pre> <br><p> 然后，您在<code>APEX_APPLICATION.G_F04</code>集合中将具有与复选框一样多的元素，而在所有其他集合中，元素的数目将等于屏幕上显示的行数，并且作为第二个参数传递给<code>apex_item.checkbox2</code>函数的值将落入该集合的内容中<code>apex_item.checkbox2</code> 。 因此，如果将集合与来自复选框的数据一起使用，其代码类似于上面的代码，则可能会遇到<code>NO DATA FOUND</code>异常。 </p><br><h2 id="interactive-report-ir"> 互动报告（IR） </h2><br><p> 交互式报表是一种即用型多功能组合，其中开箱即用的功能是大量的数据处理功能。 需要做的就是在设置中启用它们（更确切地说，不要禁用它们，因为默认情况下几乎所有内容都包含在其中）。 在IR页面上，它看起来几乎像是常规报告，仅在其上方有一个附加面板，带有用于搜索的输入字段和“ <code>Actions</code> ”按钮。  “ <code>Actions</code> ”按钮显示一个附加菜单，从中可以使用所有其他功能。 我只会简要列出各种可能性： </p><br><ul><li> 搜索面板：允许您在报告的所有列中搜索指定的文本； </li><li>  “ <code>Actions</code> ”→“ <code>Columns</code> ”：设置列的显示（顺序，隐藏/显示）； </li><li>  “ <code>Actions</code> ”→“ <code>Filter</code> ”：数据过滤工具，可让您选择字段，过滤操作（更多，更少，等于，包含文本等）； </li><li>  “ <code>Actions</code> ”→“ <code>Data</code> ”：数据操作（排序，计算，聚合和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">闪回</a> ）； </li><li>  “ <code>Actions</code> ”→“ <code>Format</code> ”：数据显示设置； 允许您突出显示必要的数据（调整数据的突出显示颜色和条件），进行控制中断（我不知道俄语是什么，看起来像这样），选择页面上的报告行数； </li><li>  “ <code>Actions</code> ”→“ <code>Chart</code> ”，“ <code>Group by</code> ”，“ <code>Pivot</code> ”：名称不言而喻-根据IR数据构建图表，图形，摘要报告； </li><li>  “ <code>Actions</code> ”→“ <code>Report</code> ”：允许最终用户使用特定名称保存报告。 在这种情况下，将保存上述所有菜单项中的所有设置，并且每个用户都有自己的设置； </li><li>  “ <code>Actions</code> ”→“ <code>Download</code> ”：数据导出，支持5种格式：CSV，PDF，XLS，HTML，RTF。 </li></ul><br><p> 在报表属性中配置了以上哪项对用户可用：“ <code>Attributes</code> ”→属性组“ <code>Search Bar</code> ”，“ <code>Actions Menu</code> ”，“ <code>Download</code> ”。 <br>  Interactive Report      ,    Classic Report.        ,  HTML    (    ).      — " <code>Remove HTML</code> ",   HTML     (       ,    ). <br>    ,      . <br> -,  IR      " <code>Template</code> ".        , CSS-  ,     — IR    ,      .    ,  . (,  - ,   ,   ,   .) <br> -,       .  " <code>Sequence</code> "   ,    .    ,    :  ,    ,   " <code>Actions</code> " → " <code>Columns</code> "     .   :    " <code>Actions</code> " → " <code>Report</code> "  " <code>Save Report</code> ",       " <code>Primary</code> " —           (   " <code>Primary</code> "  ,      IDE       IDE). </p><br><h2 id="interactive-grid-ig"> Interactive Grid (IG) </h2><br><p> Interactive Grid —    Interactive Report.      5.1. IG    IR,       ,     .  IG   javascript API,        (  18.2, ).           . </p><br><div class="spoiler"> <b class="spoiler_title">      ,  - </b> <div class="spoiler_text"><p>           ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ), ,   ,   -   .      5.1,      ,   : </p><br><p><img src="https://habrastorage.org/webt/co/c9/4j/coc94jjjcuf3xei_6cchcxpqosk.png" alt=" JS API IG"></p><br><p> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ) </p><br><p> ,    (     ),         .      (   ),  <code>.invoke( "add-row" )</code>    <code>.invoke( "row-add-row" )</code> . <br>  -, , . </p></div></div><br><div class="spoiler"> <b class="spoiler_title"> ,    Interactive Grid,   , </b> <div class="spoiler_text"><p>      .     (   ),   5. -  ,         .     ,         .    — " ". </p><br><p>   (  IR) —   .   (  )       ,          .  IDE -  .   IG    :       ,       ,      ,    . ,    5      ,    ,   -.      ,     ,    —  ,    ,    ,     (     "Actions" → "Columns":       ). </p><br><p>   —  . ,      ,   5.1       IG.   IG   ,    ,    —       " <code>Actions</code> " → " <code>Report</code> " → " <code>Save</code> ".         .           —  , -. </p></div></div><br><h6 id="sozdanie-stolbcov-ne-cherez-sql">     SQL </h6><br><p>   Classic Report   Interactive Report      SQL  (      ,     SQL ),   IG      .                " <code>Create Column</code> ".    ,     " <code>Source</code> " → " <code>Type</code> "  " <code>None</code> " (       SQL ,     ),   " <code>Database Column</code> " / " <code>SQL Expression</code> "        .  ,             .    ,   (  ,    ),    . </p><br><h6 id="novye-tipy-stolbcov">    </h6><br><p>    (   IR)   .  : </p><br><ul><li> " <code>Actions Menu</code> ".         -"" (   — ,   ""?).         — , ,     . . </li><li> " <code>Checkbox</code> ".    ,       ,       " <code>Row Selector</code> " (. ).  ,       ,    (    ),   ,   —   ,   . </li><li> " <code>Color picker</code> ". ,  ,    .     : </li></ul><br><p><img src="https://habrastorage.org/webt/hv/ev/xd/hvevxdxttene0nsyzqs9edwtv0y.png" alt="拾色器屏幕截图"></p><br><ul><li> " <code>Row Selector</code> ".     ,    ,  ,  ,       javascript  PL/SQL . </li><li>  (" <code>Date picker</code> ", " <code>Number field</code> ", " <code>Password</code> ",   ) —         .          <code>APEX_ITEM</code> (      Classic Report)      . </li></ul><br><p>   -     " <code>Download BLOB</code> ".           ,      Interactive Report    Classic Report.       —    ? (       "    IG".) </p><br><h6 id="master-detail-otchety-na-osnove-ig"> Master-Detail    IG </h6><br><p>  IG     Master-Detail .     ,    Classic Report .     ,    IG .   Master   ,   ,       (  → " <code>Source</code> " → " <code>Primary Key</code> "  " <code>Yes</code> ").  Detail      " <code>Master-Detail</code> " → " <code>Master Region</code> "       .   ,    ,     " <code>Master-Detail</code> " → " <code>Master Column</code> "      .    .     Master    Detail   . </p><br><h4 id="obrabotka-vvoda-dannyh-v-ig">     IG </h4><br><p>  ,      IG —     ,    .   IG       / . , ,    (   <code>STUDENTS</code>   )        ,      :      ,  ,    — ,   — .     IG       <code>STUDENTS</code> : </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname, birthdate, examdate <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> students</code> </pre> <br><p>    (" <code>Attributes</code> " → " <code>Edit</code> " → " <code>Enabled</code> "),     " <code>Processing</code> ",         IG (      : "IG — Save Interactive Grid Data"),    " <code>Settings</code> " → " <code>Target Type</code> "  " <code>PL/SQL Code</code> ",     " <code>PL/SQL Code to Insert/Update/Delete</code> "   : </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> :<span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span> := initcap(:<span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>); :SURNAME := initcap(:SURNAME); case :APEX$ROW_STATUS when 'I' then <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> students (<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname, birthdate, examdate) <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> (:<span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, :SURNAME, :BIRTHDATE, :EXAMDATE); when 'U' then <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> students <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = :<span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, surname = :SURNAME, birthdate = :BIRTHDATE, examdate = :EXAMDATE <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> = :<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>; when 'D' then <span class="hljs-comment"><span class="hljs-comment">-- 'D'  ,     --  -    end case; end;</span></span></code> </pre> <br><p>        .   <code>APEX$ROW_STATUS</code>     <code>I</code> , <code>U</code>  <code>D</code> (insert, update, delete)    ,      ( , / ).     ,   (   ,    ):          SQL-,             ,               .   ,   <code>NAME</code> , <code>SURNAME</code> , <code>BIRTHDATE</code>  <code>EXAMDATE</code> . <br>       <code>APEX$ROW_NUM</code> ,     ,    ,  <code>APEX$ROW_SELECTOR</code> ,    <code>X</code>  ,        " <code>Row Selector</code> ". </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN446736/">https://habr.com/ru/post/zh-CN446736/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN446724/index.html">iOS开发人员如何通过云计算提高竞争力</a></li>
<li><a href="../zh-CN446726/index.html">光学流量计算中的深度学习</a></li>
<li><a href="../zh-CN446728/index.html">无线充电的接收功率如何根据手机的位置而变化</a></li>
<li><a href="../zh-CN446730/index.html">DUMP的后端部分：无服务器，Postgres和Go，.NET Core，GraphQL等</a></li>
<li><a href="../zh-CN446732/index.html">op足类将无济于事：蚂蚁幼体坑陷阱的研究和数学建模</a></li>
<li><a href="../zh-CN446738/index.html">文本的自然语言处理基础</a></li>
<li><a href="../zh-CN446740/index.html">使用Python在单个公司中进行报告</a></li>
<li><a href="../zh-CN446742/index.html">2019年顶级3D博览会的主题：“ Anisoprinting-新一代复合结构的生产技术”，Fedor Antonov</a></li>
<li><a href="../zh-CN446744/index.html">具有神经接口的VR-完全沉浸在虚拟现实中</a></li>
<li><a href="../zh-CN446746/index.html">瑞银（UBS）一名雇员无意中听到与欧洲之星火车邻居的一次谈话，并发现一笔约150亿美元的交易，现在他和银行将被罚款。</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>