<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóùÔ∏è üë®üèæ‚Äçü§ù‚Äçüë®üèº üö∂üèø Faire une d√©mo pour un vieux t√©l√©phone - AONDEMO ‚ö±Ô∏è ü§Ωüèæ üå©Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je voulais faire une d√©mo depuis que j'ai vu la m√©ga d√©mo polonaise classique Lyra II pour la premi√®re fois en 1997. Je voulais aussi faire quelque ch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Faire une d√©mo pour un vieux t√©l√©phone - AONDEMO</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486010/">  Je voulais faire une d√©mo depuis que j'ai vu la m√©ga d√©mo polonaise classique <em>Lyra II</em> pour la premi√®re fois en 1997. Je voulais aussi faire quelque chose pour la plus grande f√™te de d√©monstration russe <em>Chaos Constructions</em> depuis longtemps, mais je n'y suis jamais all√©, √©tant occup√© avec d'autres fonctions.  Enfin, en 2018, le moment est venu et j'ai rempli les deux d√©sirs √† la fois, le style √† double impact de Van Damm - a fait une d√©mo appel√©e <em>AONDEMO</em> qui est entr√©e dans la compo de <em>d√©monstration ZX Spectrum 640K</em> chez <em>Chaos Constructions</em> . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/GPG6a__Q0Sg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Je parie que la chose rouge que vous venez de voir ne vous ressemble pas beaucoup.  Voici l'histoire. <br><br><a name="habracut"></a><br><h3>  En Russie sovi√©tique </h3><br>  Pendant longtemps, le march√© de l'√©lectronique grand public de l'Union sovi√©tique a pris du retard sur le monde contemporain pendant une bonne d√©cennie.  Il n'avait pas beaucoup de technologies avanc√©es √† offrir, et jusqu'√† la fin des ann√©es 80, c'√©tait un pays de t√©l√©phones √† cadran rotatif, de t√©l√©viseurs √† tube √† vide et de platines vinyles.  Pr√®s de la dissolution de l'Union, les fronti√®res ont commenc√© √† se desserrer, permettant √† une partie de l'√©lectronique √©trang√®re de l'obtenir, tandis que les fabricants locaux ont commenc√© √† tenter de satisfaire l'augmentation de la demande du public en cr√©ant des produits similaires, donc toutes sortes de merveilles techniques, telles que les magn√©toscopes, les ordinateurs personnels, et m√™me des choses aussi simples qu'un t√©l√©phone √† cadran, ont commenc√© √† √™tre de plus en plus accessibles au grand public. <br><br>  Vers 1989, un nouvel appareil est apparu sur les march√©s de la radio, qui a commenc√© √† gagner en popularit√©.  Largement connu sous l'acronyme <em>AON</em> , qui se traduit approximativement par "un identifiant d'appelant automatique", √©galement appel√© "secr√©taire √©lectronique" dans les manuels, il s'agissait essentiellement d'un anc√™tre distant des smartphones modernes - un t√©l√©phone fixe aliment√© par microprocesseur qui √©tait capable de identifier et afficher les num√©ros des appels entrants en exploitant la fonctionnalit√© des postes t√©l√©phoniques destin√©s √† des fins sp√©ciales plut√¥t qu'√† une utilisation publique.  Le t√©l√©phone a enregistr√© les appels entrants et sortants dans un journal, avait un annuaire t√©l√©phonique qui permettait de classer les appels, de leur attribuer diff√©rentes m√©lodies, de bloquer certains appels ind√©sirables, d'utiliser des alarmes, le mode nuit, les num√©rotations rapides, les recompositions, etc., et ainsi de suite - une chose tr√®s riche en fonctionnalit√©s pour son temps. <br><br>  Pendant 15 ans de sa popularit√©, il a eu toute une histoire.  A commenc√© comme un produit de cr√©ation et d'emploi secondaire d'individus amateurs - g√©n√©ralement des √©tudiants ou des ing√©nieurs en √©lectronique sans emploi (ce fut une p√©riode difficile en Russie), qui produisent souvent des clones <em>ZX Spectrum</em> faits √† la main, √©galement - la demande du public a rapidement contribu√© √† la transformer en un peu des entreprises priv√©es l√©gitimes, et certaines d'entre elles ont fini par devenir de grandes entreprises officielles.  Au milieu des ann√©es 90, les t√©l√©phones <em>AON se</em> sont retrouv√©s dans presque tous les autres foyers, au point que de nombreux utilisateurs de t√©l√©phones le connaissaient suffisamment pour pouvoir distinguer la pr√©sence d' <em>AON</em> juste √† la fa√ßon dont les tonalit√©s d'√©tat sonnaient.  Cette popularit√© a perdur√© jusqu'au d√©but des ann√©es 2000.  La baisse a √©t√© influenc√©e par le fait que les op√©rateurs de t√©l√©phonie fixe, n'√©tant pas satisfaits de la charge accrue de leurs √©quipements sp√©ciaux, ont d'abord tent√© de transformer le service d'identification de l'appelant en une option payante, puis l'ont compl√®tement remplac√© par une nouvelle norme europ√©enne incompatible.  Avec la mont√©e en puissance des t√©l√©phones portables qui a suivi peu de temps apr√®s, les services de t√©l√©phonie fixe sont devenus un sous-sol technologique, o√π les restes de son horrible march√© de consommation voient parfois la sortie de versions modernes "premium" des descendants d' <em>AON</em> , tels que <em>Paliha</em> , √† ce jour. <br><br>  La communaut√© des cr√©ateurs d' <em>AON</em> √† ses d√©buts √©tait tr√®s similaire √† la communaut√© russe des ordinateurs domestiques de l'√©poque, une sorte de r√©alit√© alternative et vaguement interconnect√©e.  Il partageait les m√™mes racines de radio amateur, un mat√©riel et des int√©r√™ts similaires, une approche similaire du d√©veloppement sauvage et des processus de fabrication d'homebrew (comme l'introduction de nouveaux PCB dans les t√©l√©phones existants).  Tout comme la sc√®ne de d√©veloppement de jeux ZX Spectrum au Royaume-Uni, il a apport√© une renomm√©e nationale √† certains des fabricants, m√™me s'ils √©taient tr√®s jeunes.  D'une part, <em>Pavel Sukhodolsky</em> , qui avait programm√© le firmware <em>AON</em> le plus populaire <em>Rus</em> , n'avait que 15 ans √† l'√©poque. <br><br>  Pheaking t√©l√©phonique, piratage pour s'emprunter des morceaux de code, des droits d'auteur na√Øfs et leur violation, des messages aux parties concurrentes cach√©s dans le code binaire avec des adresses FidoNet, des articles dans les magazines radio, des livres, des manuels, des mythes urbains et bien plus encore - un morceau significatif de l'aube de l'histoire de l'√®re num√©rique couverte par les sables du temps, en attente de courageux explorateurs √† venir. <br><br><h3>  Moi, moi et AON </h3><br>  La premi√®re fois que j'ai vu un <em>AON,</em> c'√©tait au d√©but des ann√©es 90, quelque temps apr√®s avoir jou√© mes premiers jeux sur les clones <em>ZX Spectrum</em> et <em>NES</em> , mais juste avant de me lancer dans la programmation moi-m√™me.  J'√©tais fascin√© par cette nouveaut√© technique et j'ai pass√© beaucoup de temps √† exp√©rimenter des s√©quences de boutons pour d√©couvrir des fonctionnalit√©s dans des versions fra√Æches ou inconnues du firmware, √† l'√©coute de m√©lodies populaires dans l'ex√©cution d'une seule voix, ainsi que du discours informatique qu'il a pu pour synth√©tiser, et lire des manuels pour passer en revue les mentions de fonctionnalit√©s et d'artefacts jamais vus tels que le <em>contr√¥le de bande</em> , <em>la boucle de s√©curit√©</em> , <em>la carte vocale</em> ou le <em>bip</em> (qui √©tait un appareil permettant d'acc√©der √† distance aux fonctions du t√©l√©phone via la commande de num√©rotation par tonalit√©).  Mon compagnon a aid√© son p√®re √† fabriquer de tels t√©l√©phones et, √©tant int√©ress√© par l'√©lectronique et a commenc√© √† s'int√©resser aux ordinateurs, j'ai pu rejoindre les connaissances secr√®tes de <em>Z80</em> , <em>8255</em> et d'autres symboles magiques.  En m√™me temps que les <em>AON</em> commen√ßaient √† appara√Ætre tout autour, ils se cassaient souvent, et comme il n'y avait pas de soutien ou de services officiels pour le r√©parer, ils se sont retrouv√©s entre mes mains afin d'essayer de les r√©parer, le plus souvent sans succ√®s.  Cette activit√© a dur√© jusqu'en 2000. <br><br>  En 2013, je nettoyais ma maison, et dans le coin le plus √©loign√©, j'ai d√©couvert quelques vieux t√©l√©phones <em>AON</em> , qui me rappelaient le bon vieux temps.  Un peu plus tard, mes exp√©riences dans le domaine de la musique 1 bit, des synth√©tiseurs DIY et de tr√®s vieux ordinateurs tels que <em>KIM-1</em> , ont conduit √† l'id√©e que AON est une sorte d'ordinateur monocarte qui pourrait √™tre r√©utilis√© pour certaines utilisations de musique √©lectronique , comme une bo√Æte √† rythmes ou un s√©quenceur.  Je suis assez enthousiaste √† propos de cette possibilit√© et j'ai commenc√© √† obtenir les informations n√©cessaires qui √©taient enfouies dans les profondeurs d'Internet ancien, √† programmer un √©mulateur <em>AON</em> et d'autres activit√©s connexes.  Cependant, peu de temps apr√®s, il s'est av√©r√© que le mat√©riel retrouv√© a accidentellement trouv√© son chemin avec les autres d√©chets, et cette id√©e a d√ª √™tre mise en attente. <br><br>  Au cours des ann√©es suivantes, j'ai poursuivi de nombreux projets et int√©r√™ts diff√©rents.  D√©veloppement <em>PCSPE</em> , navigation dans une <a href="http://www.155la3.ru/" rel="nofollow">collection Web</a> de composants √©lectroniques sovi√©tiques rares (ne manquez pas ces <a href="http://www.155la3.ru/electroluminescent.htm" rel="nofollow">incroyables affichages de segments!</a> ), R√©cup√©ration de quelques morceaux de l'histoire d' <em>AON</em> , r√©it√©ration de vieilles id√©es sur la cr√©ation de logiciels de musique pour eux, achat de nombreux <em>AON</em> via un babillard local, obtention de pi√®ces et d'√©quipements pour des projets √©lectroniques non li√©s, poursuite des travaux sur l'√©mulateur <em>AON</em> , etc.  Petit √† petit, toutes les pi√®ces du puzzle se rejoignent.  Une semaine avant la soir√©e de d√©monstration de <em>Multimatograf 2018</em> , la connexion entre "d√©mo" et "t√©l√©phone" a √©t√© √©tablie dans mon esprit (si je me souviens bien, une blague sur "d√©mo pour une calculatrice" y a contribu√©), et j'ai commenc√© √† travailler sur ce projet pour de vrai.  Bien s√ªr, je n'ai pas pu terminer quoi que ce soit dans un d√©lai aussi serr√©, et le travail a ralenti, mais a repris juste au moment o√π la date de <em>Chaos Constructions 2018</em> apparaissait de pr√®s.  Dans la meilleure tradition de la sc√®ne, un √©norme effort a √©t√© mis en place juste deux jours et une nuit avant la f√™te, au cours de laquelle j'ai con√ßu, programm√© et d√©bogu√© la plupart des id√©es que j'avais pour cette d√©mo, puis film√© et mont√© une vid√©o sur √ßa.  L'inscription termin√©e a √©t√© envoy√©e au concours t√¥t le matin du jour de la f√™te, quelques heures avant la date limite. <br><br>  Quelque temps apr√®s la f√™te, j'ai appris que les affichages √† 7 segments ne sont pas rares dans les entr√©es de <em>Wild Compo</em> , mais d'une mani√®re ou d'une autre, cela n'a jamais attir√© mon attention auparavant, donc mon design n'a pas eu de telles influences. <br><br><h3>  Le mat√©riel </h3><br><img src="https://habrastorage.org/webt/lw/qj/hj/lwqjhjrtueqv8stcetbig1rfxtg.jpeg"><br><br>  Le mat√©riel sous le capot d'un <em>AON</em> est un ordinateur monocarte 8 bits assez simple et simple, √©quip√© d'un √©cran LED √† 7 segments, d'un clavier de t√©l√©phone et d'un circuit d'interface fixe.  Au cours de sa p√©riode de popularit√© de 15 ans, le mat√©riel a beaucoup √©volu√©, √† partir d'un sch√©ma bas√© sur i8080 en 1989, et se terminant par un MCU <em>R100-XP sur mesure</em> (noyau i8051, p√©riph√©riques requis et un clone AY-3-8910 dans un monopuce) d√©velopp√© par <em>Rus-Telecom</em> en 2003. Beaucoup de versions et de fourches existaient entre les deux. <br><br>  J'ai d√©cid√© de m'en tenir √† la version la plus classique de 1990 qui est assez proche de ZX Spectrum dans le mat√©riel et l'esprit: CPU Z80 √† 4 MHz, 2K √† 8K de SRAM, 8K √† 64K de ROM, port parall√®le bas√© sur 8255 pour le mat√©riel interne, et minuterie programmable 8253 √† 1 MHz.  L'un des canaux de temporisation g√©n√®re des interruptions CPU, un autre produit un son √† onde carr√©e √† canal unique, et le troisi√®me n'est pas utilis√© du tout, ou agit comme un chien de garde du syst√®me.  Ce sch√©ma a √©t√© pr√©sent√© avec les deux types de PCB les plus courants, un "grand" classique et un "petit" mis √† jour.  Le grand a √©t√© con√ßu pour √™tre install√© dans le corps du <em>VEF-TA-12</em> fabriqu√© en Lettonie, qui √©tait √† peu pr√®s le seul mod√®le de t√©l√©phone √† acc√®s direct √† l'√©poque.  La petite carte n'avait pas de telles dimensions et points de montage sp√©cifiques au mod√®le, et a √©t√© install√©e dans divers t√©l√©phones import√©s, principalement repr√©sent√©s avec des clones des t√©l√©phones de bureau <em>Panasonic</em> .  De nombreux micrologiciels √©taient disponibles pour fonctionner sur ces cartes aliment√©es par Z80, y compris <em>Arctur-36</em> , <em>Selena</em> , <em>Lira</em> , <em>Allo</em> , et le plus populaire de tous - <em>Rus</em> (jusqu'√† la version 23, il a ensuite √©t√© reprogramm√© pour les cartes bas√©es sur 8051). <br><br>  La reprogrammation d' <em>AON</em> est assez facile, n'importe quelle puce EEPROM 5V et un br√ªleur compatible feront l'affaire.  J'ai r√©utilis√© certaines EEPROM d'anciennes cartes m√®res de PC, command√© du Winbond W27C512 frais de Chine et utilis√© un graveur <em>WizardProg-87</em> abordable pour programmer ces puces. <br><br>  Le plus grand d√©fi avec le mat√©riel √©tait l'√©tat des supports ROM sur un PCB vieux d'un quart de si√®cle.  Ils n'√©taient jamais de haute qualit√© pour commencer, et aujourd'hui les mauvais contacts sont tr√®s courants dans ces derniers, ce qui rend difficile de distinguer si un probl√®me est caus√© par un bogue de programme, ou s'il s'agit simplement d'une connexion d√©fectueuse.  J'ai essay√© de r√©soudre ce probl√®me en installant un socket ZIF, mais la petite carte encombr√©e de composants hauts ne le permettait pas, et la fixation du socket √† l'aide d'une pile de connecteurs DIP28 pour r√©pondre au probl√®me de hauteur √©tait sujette √† un mauvais contact en soi. <br><br><h3>  D√©veloppement </h3><br><img src="https://habrastorage.org/webt/_v/iu/ra/_viuraswdy0cc22vkypppkmgmki.png"><br><br>  Avant de commencer le d√©veloppement de la d√©mo r√©elle, j'ai d√ª terminer mon √©mulateur <em>AON</em> , esquiss√© en gros en 2014. J'ai tri√© quelques choses d√©licates qui n'√©taient pas couvertes dans les anciens documents et j'ai int√©gr√© un noyau de minuterie 8253 tiers pour faire les interruptions et le son fonctionnent correctement.  Avoir un √©mulateur √† port√©e de main, m√™me avec des fonctionnalit√©s de d√©bogage grossi√®res, permet d'acc√©l√©rer tout d√©veloppement r√©tro par ordre de grandeur.  Une fois que l'√©mulateur a fonctionn√©, je l'ai utilis√© pour tester et d√©boguer tout le code de d√©monstration, en l'ex√©cutant de temps en temps sur le mat√©riel pour m'assurer que tout fonctionne correctement et qu'il a l'air bien sur l'√©cran LED multiplex√©, ce que je n'ai pas pu √©muler assez authentiquement. <br><br>  Le code a √©t√© √©crit avec <em>SjAsmPlus</em> , un assembleur crois√© Z80 populaire parmi les d√©veloppeurs <em>ZX Spectrum</em> et <em>MSX</em> modernes.  <em>AON</em> propose une carte m√©moire assez funky, probablement le r√©sultat de la minimisation des changements mat√©riels lors de la migration vers des tailles de ROM plus grandes pour les nouveaux micrologiciels.  Bien qu'il soit possible d'installer une puce ROM 64K, seulement 32K de la m√©moire ROM est disponible pour le CPU √† un moment donn√©, et ces 32K sont entrelac√©s avec de la RAM en morceaux de 8K.  Deux moiti√©s de la ROM 64K peuvent √™tre √©chang√©es par une √©criture de port, mais ma d√©mo ne l'a pas utilis√©e, car elle s'int√®gre avec succ√®s dans seulement 32K.  Le graveur ROM doit avoir tous les morceaux de code pour fonctionner correctement, donc les directives d'assembleur et l'automatisation BAT ont √©t√© utilis√©es pour organiser la disposition de m√©moire entrelac√©e n√©cessaire et l'enregistrer en tant qu'image binaire lin√©aire. <br><br>  Environ la moiti√© des effets de d√©monstration ont √©t√© correctement programm√©s via du code, tandis qu'une autre moiti√© a √©t√© impl√©ment√©e sous la forme d'un ensemble d'animations simples, faute de temps.  Un outil de cr√©ation d'animation LED a √©t√© cr√©√© afin d'accomplir cette t√¢che assez rapidement.  Il est disponible en t√©l√©chargement sur mon site Web. <br><br><img src="https://habrastorage.org/webt/k3/t_/wm/k3t_wmkevn2-zluzmhingt63qgk.png"><br><br>  Compte tenu de la haute densit√© d'effets dans la d√©mo, qui est d'environ 4 secondes par effet, et de l'ordre constant de r√©arrangement des effets, pr√®s de la date limite, il s'est av√©r√© que la d√©mo manquait compl√®tement de 16 secondes de long segment au milieu, lorsque de la musique pseudo polyphonique joue √† pleine intensit√©.  Un effet de remplissage flagrant avec des segments de LED en baisse a √©t√© pirat√© pour combler cet √©cart.  Il a √©t√© entrelac√© avec un analyseur de spectre pr√©c√©demment programm√© pour augmenter encore le temps de sc√®ne.  J'esp√©rais qu'une partie sonore occup√©e d√©tournerait l'attention des t√©l√©spectateurs des mauvais visuels prolong√©s de cette sc√®ne. <br><br>  Les pr√©noms dans la section des salutations sont un hommage aux passionn√©s du pass√©, ce sont les noms des cr√©ateurs de firmware <em>AON</em> trouv√©s dans diverses images ROM. <br><br>  Bien que ce ne soit pas exactement li√© th√©matiquement, il n'y aurait aucune excuse pour manquer une occasion d'afficher le <em>message</em> embl√©matique <em>EGGOG</em> (Erreur) qui provient des premi√®res calculatrices programmables sovi√©tiques (c'est une toute autre histoire).  L'endroit le plus logique pour le mettre √©tait la toute fin de la d√©mo - comme cela a commenc√© avec l'imitation d'un probl√®me, il serait logique de le terminer avec un message d'erreur. <br><br>  Il n'y a pas grand chose √† dire sur la fa√ßon dont les effets particuliers ont √©t√© programm√©s, tout y est simple.  Ce qui m√©rite d'√™tre mentionn√©, cependant, est probablement la caract√©ristique la plus importante de la plate-forme mat√©rielle, l'indication LED multiplex√©e pilot√©e par logiciel. <br><br>  L'affichage √† LED √† 7 segments √† 9 chiffres est contr√¥l√© via des sorties √† 7 segments et des sorties de s√©lection √† 9 chiffres, ainsi le mat√©riel ne peut afficher qu'un chiffre √† la fois, et le logiciel doit alterner rapidement entre tous les chiffres afin d'avoir un affichage complet.  J'ai impl√©ment√© cela via des interruptions de minuterie √† une fr√©quence assez √©lev√©e de 960 Hz (~ 4166 horloges CPU entre les interruptions, ce qui repr√©sente environ 500 op√©rations CPU significatives).  Une liste de longueur variable est utilis√©e pour configurer une s√©quence de chiffres arbitraires √† afficher.  Cette approche a permis de mettre en ≈ìuvre deux effets.  Le premier est l'imitation de gel du syst√®me qui est visuellement distincte avec un 8 inhabituellement lumineux dans l'un des chiffres (lorsque le t√©l√©phone se bloque, le multiplexage s'arr√™te et le dernier chiffre affich√© reste actif).  Le deuxi√®me effet est un pseudo contr√¥le de la luminosit√© dans l'effet KITT effectu√© en √©clairant certains chiffres plus longtemps que d'autres.  Pendant l'affichage normal, le taux de mise √† jour est d'environ 106 Hz, ce qui a √©limin√© le scintillement notable et aide √† √©viter les artefacts pendant le tournage de l'action sur vid√©o. <br><br><h3>  La musique </h3><br>  <em>Le</em> mat√©riel audio <em>AON</em> est √† peu pr√®s comme le <em>haut</em> - <em>parleur PC</em> , juste un haut-parleur pilot√© par l'un des 8253 canaux.  Il peut produire une tonalit√© carr√©e lorsque le processeur est occup√© par d'autres t√¢ches.  Il n'y a pas de contr√¥le de forme d'onde ou de volume.  J'√©tais bien dans la fabrication de musique de haut-parleur PC monophonique classique en ce moment (qui est ensuite devenu r√©alit√© avec la sortie de l'album <a href="https://habr.com/ru/post/439192/">System Beeps</a> ), alors j'avais d√©j√† <em>PCSPE</em> VST √† port√©e de main et j'ai acquis beaucoup d'exp√©rience dans l'arrangement de cette musique, avec un seul note jouant √† tout moment.  <em>PCSPE</em> est un plugin pour toute station de travail audio num√©rique moderne qui √©mule les sp√©cificit√©s du haut-parleur PC et permet de cr√©er de la musique de mani√®re tr√®s pratique.  L'utiliser pour composer de la musique qui pourrait √™tre convertie facilement √©tait un choix √©vident plut√¥t que de concevoir un tout nouveau moteur de synth√®se sonore 1 bit qui semblerait beaucoup plus impressionnant, mais prendrait un certain temps √† faire.  Il convenait √©galement au niveau conceptuel - un son authentique qui rel√®ve la barre dans les restrictions famili√®res. <br><br><img src="https://habrastorage.org/webt/pq/ai/os/pqaiositjmv_gjj0ce85iywr1io.png"><br><br>  La musique a √©t√© compos√©e √† l'aide de <em>Reaper</em> , une DAW populaire.  Mon id√©e pour la premi√®re partie √©tait d'imiter le morceau de m√©lodie de d√©marrage du firmware Rus original.  J'ai √©galement imit√© d'autres sons typiques, tels que les pressions de boutons et la sonnerie par d√©faut.  Les avoir pr√™ts a donn√© l'id√©e de composer une structure rythmique √† partir de ceux-ci.  La chanson s'est ensuite d√©velopp√©e de mani√®re extensive, en ajoutant de plus en plus de couches pour cr√©er une illusion de polyphonie.  L'effet le plus complexe de la d√©mo, un symbole lumineux qui coule c√¥te √† c√¥te, m'a rappel√© la barre de scanner du <em>Knight Rider</em> <em>KITT</em> , j'ai donc ajout√© un extrait du th√®me principal de la s√©rie. <br><br>  Comme les capacit√©s visuelles de la plate-forme sont pour le moins m√©diocres, il √©tait clair d√®s le d√©but que je devrais faire un trackmo, c'est-√†-dire une d√©mo qui a une synchronisation √©troite entre son audio et son visuel.  Ainsi, l'√©criture du script de d√©monstration et de la composition musicale a √©t√© effectu√©e en parall√®le.  Contrairement aux trackers chiptune qui affichent seulement une petite partie de la chanson, Reaper permet de voir toute la dur√©e et la structure de la piste, et de d√©placer et d'√©changer facilement des parties.  Cela a aid√© √† prendre des d√©cisions meilleures et plus faciles sur la structure de d√©monstration. <br><br>  Malheureusement, il n'a pas √©t√© possible de synchroniser suffisamment l'action avec la musique.  Il n'y avait tout simplement pas assez de temps pour le r√©gler en utilisant le vrai mat√©riel.  Je n'ai pas non plus eu le temps d'ajouter un syst√®me de marqueurs de synchronisation appropri√© qui aiderait √† r√©soudre ce probl√®me (un tel syst√®me est impl√©ment√© dans toutes mes productions de d√©monstration suivantes).  En cons√©quence, la synchronisation dans certaines parties de la d√©mo est un peu d√©sactiv√©e, et cela est visible visuellement.  J'ai pass√© un peu de temps √† synchroniser manuellement le contenu du mieux que je pouvais avant de devoir abandonner et de le laisser tel quel. <br><br>  Une caract√©ristique sonore notable des <em>AON</em> est que, outre les bips reconnaissables, les derni√®res versions du micrologiciel avaient une synth√®se vocale rudimentaire bas√©e sur des √©chantillons utilis√©e pour √©noncer des choses comme les num√©ros d'appels entrants ou l'heure actuelle, ce qui √©tait assez impressionnant pour l'√©poque.  Par curiosit√©, j'ai invers√© l'ing√©nierie des formats de donn√©es (certains ont utilis√© des √©chantillons 4 bits √† ~ 4500 Hz, reproduits en utilisant une technique PWM bas√©e sur une minuterie), j'ai √©cout√© tous les √©chantillons et j'ai d√©couvert qu'il y avait 3 √† 4 voix diff√©rentes ensembles qui ont migr√© entre le firmware de diff√©rents auteurs.  Un mythe urbain a √©galement √©t√© confirm√©, certains d'entre eux pr√©sentant en effet des expressions obsc√®nes lues aux appelants les plus ind√©sirables.  J'avais une id√©e de d√©couper un discours amusant en utilisant ces √©chantillons et de l'ajouter √† la d√©mo, mais je n'avais pas le temps de trouver une bonne id√©e, donc il a d√ª √™tre omis. <br><br><h3>  Vid√©o </h3><br>  Pour pouvoir montrer une d√©mo pour un mat√©riel inhabituel, sans pouvoir assister √† la f√™te avec le mat√©riel en personne, j'ai d√ª filmer et couper ensemble une petite vid√©o.  Ce n'est pas un gros probl√®me, mais ce n'est pas vraiment une chose courante pour un programmeur - il s'agit g√©n√©ralement d'enregistrer une distribution d'√©cran, sans traiter la cam√©ra, les lumi√®res, les placements d'objets physiques et des trucs comme √ßa. <br><br><img src="https://habrastorage.org/webt/wk/m_/st/wkm_stfcq_r8ffbqibswrulu1c4.jpeg"><br><br>  Quelques t√©l√©phones <em>AON</em> ont √©t√© utilis√©s pendant le d√©veloppement.  L'une √©tait une version petite planche, battue beaucoup.  Le second √©tait un <em>VEF-TA-12</em> rouge classique en tr√®s bon √©tat avec la grande planche.  J'ai principalement utilis√© le premier pour ex√©cuter des tests et j'ai enregistr√© le produit final en utilisant le second.  Chose int√©ressante, malgr√© le m√™me type d'affichage LED exact (ALS318), cette derni√®re unit√© avait des chiffres visuellement plus grands, peut-√™tre parce qu'elle n'est pas plac√©e aussi profond√©ment dans le corps du t√©l√©phone, et cela a √©t√© b√©n√©fique pour la vid√©o. <br><br>  Ces √©crans LED, d√©velopp√©s √† l'origine pour les calculatrices de poche, ont tendance √† se d√©t√©riorer au fil du temps.  Chaque t√©l√©phone que j'ai poss√®de une diff√©rence notable de luminosit√© entre les chiffres.  La raison est probable que les <em>AON</em> √©taient sujets √† de fr√©quents gels et plantages, et une fois qu'il s'est √©cras√©, le multiplexage de l'affichage se serait bloqu√© avec l'un des chiffres allum√© pendant une longue p√©riode de temps.  J'avais en fait des √©crans de remplacement en meilleur √©tat √† port√©e de main, mais j'ai d√©cid√© de garder un look plus authentique pour la vid√©o. <br><br>  La vid√©o a √©t√© film√©e avec un cam√©scope bon march√© tr√®s press√© au tout dernier moment.  Ensuite, il a √©t√© pirat√© ensemble √† l'aide de la vid√©o int√©gr√©e NLE de Blender - simplement parce que je savais comment l'utiliser, et je n'avais rien de mieux autour.  La partie d'introduction √©tait destin√©e √† rappeler ce qu'est cette chose et √† expliquer comment le programme a √©t√© t√©l√©charg√©.  J'ai √©galement pens√© filmer comment la ROM est ins√©r√©e dans la prise, mais j'ai d√ª l'omettre car l'√©tat de la prise n√©cessiterait d'utiliser les deux mains et de faire beaucoup de g√©missements obsc√®nes dans le processus. <br><br><h3>  Rel√¢chez </h3><br>  La d√©mo avait une histoire amusante li√©e √† l'entr√©e dans une compo particuli√®re. <br><br>  Deux semaines avant <em>Chaos Construction 2018,</em> les r√®gles ont √©t√© l√©g√®rement mises √† jour.  <em>La</em> compo de <em>d√©monstration ZX Spectrum 640K a</em> √©t√© essentiellement transform√©e en <em>d√©mo combin√©e Oldschool</em> , en autorisant les entr√©es pour tout autre ordinateur domestique sorti avant 1991. Pour une raison quelconque, susceptible de satisfaire les parties de sc√®ne conflictuelles, les organisateurs ont d√©cid√© de conserver l'ancien nom de la compo malgr√© ce changement.  Chauff√© par la longue discussion sur ce qu'il faut consid√©rer comme un <em>ZX Spectrum</em> (il y a une tonne de clones √©tendus), il s'est in√©vitablement retrouv√© avec une certaine confusion et des critiques. <br><br>  Comme j'√©tais dans un mode assez zombie au petit matin apr√®s un long marathon de d√©veloppement, j'√©tais dans le doute et j'ai pris une d√©cision d√©sormais discutable d'envoyer mon inscription dans la cat√©gorie nouvellement modifi√©e.  De plus, les organisateurs ont rejoint toutes les entr√©es de la <em>Wild Demo</em> et d'autres compositions dans <em>Combined Demo</em> , donc une seule entr√©e non-ZX en plus de la mienne s'est retrouv√©e dans la cat√©gorie <em>ZX Spectrum</em> .  Avec le recul, la bonne d√©cision serait de s'en tenir √† la compo <em>Wild</em> .  Mes excuses √† l'√©poque √©taient que <em>AON</em> avait certaines qualit√©s d'une plate-forme √† mes yeux, comme √™tre un vrai mat√©riel du pass√©, la possibilit√© de r√©p√©ter facilement le processus en cours (contrairement √† un <em>GAB</em> ou une d√©monstration d'appareil photo), et ce n'√©tait pas le cas. juste un appareil unique, mais une norme commune avec un certain nombre de micrologiciels interchangeables diff√©rents. <br><br>  Cette situation s'est finalement transform√©e en un m√®me de sc√®ne.  Plus tard en 2018, j'ai port√© la d√©mo sur <em>ZX Spectrum</em> , fermant le cercle.  En 2019, le t√©l√©phone rouge a figur√© sur certaines marchandises de <em>Chaos Constructions</em> et est m√™me apparu comme l'un des objets importants d' <a href="https://www.youtube.com/watch%3Fv%3Df0NbY9G1Llo" rel="nofollow">un jeu bas√©</a> sur des <em>m√®mes de</em> <a href="https://www.youtube.com/watch%3Fv%3Df0NbY9G1Llo" rel="nofollow">sc√®ne</a> pr√©sent√© au <em>CaFe 2019</em> .  Je l'ai moi-m√™me exploit√©e dans ma <a href="https://www.youtube.com/watch%3Fv%3D338r2BRYg3A" rel="nofollow">d√©mo NES 2019</a> .  Donc, dans la r√©trospective, peut-√™tre que cette bizarrerie de sortie n'√©tait pas trop mauvaise, apr√®s tout. <br><br><h3>  T√©l√©chargez </h3><br>  <a href="" rel="nofollow">AONDEMO avec le code source</a> <br>  <a href="" rel="nofollow">Port ZX Spectrum</a> ( <a href="https://www.youtube.com/watch%3Fv%3DW6_Q8gUuaF4" rel="nofollow">vid√©o</a> ) <br>  <a href="" rel="nofollow">AONZ80Emu pour Windows</a> <br>  <a href="" rel="nofollow">LED9ED pour Windows</a> <br>  <a href="" rel="nofollow">PCSPE pour un DAW compatible VSTi</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr486010/">https://habr.com/ru/post/fr486010/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485990/index.html">L'automatisation tue?</a></li>
<li><a href="../fr485996/index.html">APM √©lastique dans l'application</a></li>
<li><a href="../fr485998/index.html">LyX: Remarques g√©n√©rales. 2e partie</a></li>
<li><a href="../fr486000/index.html">ADSM3. Syst√®mes IPAM / DCIM</a></li>
<li><a href="../fr486006/index.html">Stocker l'√©tat du chat sur la pile</a></li>
<li><a href="../fr486014/index.html">Visite SLAC: Laboratoire national des acc√©l√©rateurs du D√©partement am√©ricain de l'√©nergie √† Stanford</a></li>
<li><a href="../fr486018/index.html">R√©sultats de l'enqu√™te de session</a></li>
<li><a href="../fr486024/index.html">Graphismes vraiment simples en R pour la science et le journalisme</a></li>
<li><a href="../fr486028/index.html">R√©seaux de neurones dans la production de proth√®ses dentaires</a></li>
<li><a href="../fr486030/index.html">TL-SREET 55 5K LED Light Street Review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>