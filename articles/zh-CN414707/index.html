<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥂 👨🏿‍🎓 😲 区块链分析，或者为什么混频器中断？ ▪️ 🚈 🏝️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="根据我在2018年4月16日于莫斯科举行的数字化转型大会上的报告 


 我想知道区块链如何工作。 不仅有什么算法，密码学，平台和加密货币。 对我来说，区块链不仅是技术，而且是一种新的生活，一种新的宇宙。 如有疑问，请查看以下Aragon代币销售数量： 





 所有这些地址，智能合约，令牌一直...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>区块链分析，或者为什么混频器中断？</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414707/"><p> <i>根据我在2018年4月16日于莫斯科举行的数字化转型大会上的报告</i> </p><br><p> 我想知道区块链如何工作。 不仅有什么算法，密码学，平台和加密货币。 对我来说，区块链不仅是技术，而且是一种新的生活，一种新的宇宙。 如有疑问，请查看以下Aragon代币销售数量： </p><br><p><img src="https://habrastorage.org/webt/3f/ea/1i/3fea1izwdoaypv4s-j61shhxrl8.png"></p><br><p> 所有这些地址，智能合约，令牌一直在相互交互，其背后是人员，组织和机器人的行为。 没有这种互动，区块链和加密货币将毫无意义和价值。 </p><br><p> 区块链中的企业如何工作，人们和机器人在那里做什么？这些问题使我学习了区块链。 </p><a name="habracut"></a><br><h3 id="problema-i-puti-resheniya"> 问题与解决方案 </h3><br><p> 区块链网络，我们专门谈论的是公共区块链网络，实际上是完全开放的。 您绝对可以阅读有关块，地址和交易的任何信息。 对于程序员来说，有针对此的API（例如Web3 [1]），对于凡人也有-区块链研究人员，例如Etherscan [2]。 此外，任何完整的区块链节点从一开始就将具有完整信息的所有块下载到本地磁盘中，因为这是验证交易的正确性所必需的，上帝禁止开采。 也就是说，任何区块链节点都是其完整副本，甚至具有访问接口和详细文档。 </p><br><p> 似乎有所有需要分析的东西，但是确实有。 区块链与 回忆一下这个词在俄语中的含义：一连串的块。 这些块存储事务记录和元信息，以确保完整性和连通性。 为了在区块链中找到某些东西，您需要知道交易的区块号或哈希值，或者在最坏的情况下需要知道地址。 除节点上列出的索引外，没有其他索引。 </p><br><p>  Etherscan也略胜一筹。 它仅以网页形式显示通过API提供的内容。 而且，为了找到东西，您必须事先知道地址，交易的哈希或区块号。 您可以通过仅限于这些实体的狭窄窗口查看区块链。 这是用显微镜研究宇宙的方式；现有工具完全不适合“大范围”分析。 </p><br><p> 从哲学上讲，我什至画了一个图表，其中问题的实质是可见的： </p><br><p><img src="https://habrastorage.org/webt/il/t6/ea/ilt6eahszfh2ss5uachuvwehtzw.png"></p><br><p> 对于加密货币，它变得越来越不清楚；对于其分析，使用了众所周知的交易所交易方法和工具。 您可以在Internet上的许多站点上获得有关加密货币所有参数的可靠客观信息。 </p><br><p> 关于区块链不能这么说。 对于那些了解的人而言，主要或纯粹技术计划中的信息（例如“ Etherscan”）或有关ICO项目的虚构信息[3]，DAO [4]，具有明显的主观偏见且未经数学方法验证。 </p><br><p> 区块链通常是不透明的，尽管所有信息都可以广泛使用，所以我们将继续努力！ </p><br><h3 id="tehnicheskie-sredstva-dlya-analitiki-blokcheyn"> 区块链分析硬件 </h3><br><p> 首先，我们将了解问题的严重程度。 有许多区块链网络，以及构建它们的许多不同平台。 您必须从某个地方开始，出于以下几个原因，我选择了以太坊基金会网络： </p><br><ol><li> 许多参加者 </li><li> 所有网络货币（包括令牌）的资本总额可能是所有货币中最大的 </li><li> 智能合约[5]和DAO [4]，扩展了可能的分析并使之更加有意义和有用 </li></ol><br><p> 即使选择一个网络，我们也会获得大量数据（截至2018年6月15日）： </p><br><table><tbody><tr><td> 加密货币转移数量，总计 </td><td>  <strong>2.67亿</strong> </td></tr><tr><td> 平均每天的加密货币转移 </td><td>  <strong>75万</strong> </td></tr><tr><td> 有效地址数 </td><td>  <strong>4400万</strong> </td></tr><tr><td> 智能合约数量 </td><td>  <strong>680万</strong> </td></tr><tr><td> 发行的代币数量 </td><td>  <strong>四万八千</strong> </td></tr><tr><td> 每天平均智能合约通话次数 </td><td>  <strong>69万</strong> </td></tr><tr><td> 完整节点的大约压缩数据量 </td><td>  <strong>117 GB</strong> </td></tr></tbody></table><br><p> 最初，人们希望分析应该尽可能接近网络的真实状态，即实时。 这有两个技术方面： </p><br><ol><li> 一旦创建了新区块，来自区块链的信息应尽快进入数据库。 我们要查看当前信息，而不是存档； </li><li> 我们希望能在一秒钟或更短的时间内迅速收到报告，以免引起问很多问题的兴趣。 </li></ol><br><p> 该选择落在Clickhouse数据库[6]上，这是Yandex的开源项目。 在此之前，我没有使用过该系统，而Altinity [7]的人员帮助我理解了这一点，为此我要分别感谢他们。 </p><br><p> 系统的一般结构如下： </p><br><p><img src="https://habrastorage.org/webt/jg/bs/mm/jgbsmmdxs4m32db_8ut5l-xr-oy.png"></p><br><p> 通过ETL（提取-转换-加载）过程从整个以太坊网络节点读取源数据，该过程将解析块内的数据并将其写入Clickhouse数据库中的多个表中。 新块到达网络节点并开始连续运行后，该过程即开始。 </p><br><p> 在图表的右侧，数据用户当前为： </p><br><ol><li>  SuperSet分析工具[8]。 有了它，您可以制作很酷的图表并快速组合查询来获得分析问题的答案； </li><li>  Python Jupiter [9]对机器学习工具和统计算法的应用进行了更完整的分析； </li><li>  Bloxy网站和API [10]供公众使用。 </li></ol><br><p> 索引以太坊数据库需要花费一些时间，毕竟已经有将近600万个数据块，并且每个数据块都必须从节点读取并进行处理，但是这项工作在我们身后，我们终于可以享受分析数据库的全部功能了，尤其是因为数据仅是m嗯，真好吃！ </p><br><h3 id="tokeny"> 代币 </h3><br><p> 让我们从令牌开始，因为这是以太坊网络上最流行的智能合约应用程序，我们可以说出其创建的目的和意义。 令牌是任何人都可以使用某种类型的智能合约发行的加密货币。 令牌的主要标准是ERC20 [11]，但是正如我们现在所看到的，所有内容都不仅限于此。 </p><br><p> 现在，有了分析和SuperSet的基础，我们可以看到发行了哪些令牌，如何使用令牌以及现在流行的令牌： </p><br><p><img src="https://habrastorage.org/webt/-p/mo/ec/-pmoec7ziylhi2yyf8av4ubthsi.png"></p><br><p> 数据适用于以太坊的整个生命周期。 饼图显示ERC20令牌与其他类型的令牌相比不堪重负。 到目前为止，转移中活跃使用的代币数量的图形一直在稳定增长，这意味着ICO的热情并未减弱，反之亦然。 实际上，有时一天会创建几百个新令牌，读取加密货币，但并非全部落在该图表上，而是落在那些正在使用的令牌上。 </p><br><p> 下图显示了随着时间的推移并没有如此迅速的增长，这是每天的代币转移交易的数量。 在2018年春季的某个地方，他大约每天停止40万笔交易，并且没有增长。 从本质上讲，这意味着新代币所占的转移额比以前少得多。 </p><br><p> 该图中有两个异常：2017年11月ERC20代币转移的峰值和12月份ERC721代币转移的增长的不太明显的“波动”。 </p><br><p>  11月的高峰与InsPromo令牌相关，该令牌“差不多”散布在将近一百万个地址中，这是一种空投类型的促销活动[12]。 这种吸引ICO客户的方法已经被使用过很多次，但是，免费“硬币”在1天之内的传播规模是创纪录的！ </p><br><p>  12月对ERC721令牌的兴趣与CryptoKitties游戏完全相关，人们非常热衷于购买和种植数字猫。 该图显示了Crypto Kitty的营业额迅速增加，而其他代币的交易却减少了，显然人们忘记了还有其他一些代币。 </p><br><h3 id="kripto-zveri-i-ne-tolko"> 加密兽等 </h3><br><p>  ERC721令牌[14]实际上是从加密猫[13]的出现中出现的，尽管它们的潜在用途要广泛得多。 如果ERC20标准使向所有人发行一定量的加密货币成为可能，那么ERC721将为所有人提供表明任何对象，虚拟，真实甚至是知识世界的所有权的机会。 </p><br><p> 从技术上讲，每个ERC721令牌都存储一个智能合约中唯一的标识符。 该标识符可以表示a猫，金剑，一块土地或一项发明的专利。 标识符的所有权在区块链中是固定的。 由于存在交换令牌ERC721的标准，因此可以在钱包中看到它们，在交易所进行交易以及进行其他常规操作。 </p><br><p><img src="https://habrastorage.org/webt/v3/i0/pm/v3i0pmtkyp5i4sx-rz5z-bewbnw.png"></p><br><p> 上方的图表显示了所有ERC721令牌的交易数量。 在2017年12月，游戏Crypto Kitties有了很大的增长，达到100％。 对游戏的兴趣持续了整个十二月，然后逐渐沉迷。 </p><br><p> 底部图表显示了流通中的ERC721标准的不同令牌的数量，请阅读使用此技术的项目。 在12月，只有Crypto Kitty，而在2月，已经有几十只。 令牌名称显示在左侧，交易数量越多，字体越大，仍然将CK符号放在第一位的小猫。 </p><br><h3 id="zachem-nam-mikser"> 我们为什么需要调音台？ </h3><br><p> 整体上，区块链分析可以发现在交易，地址和区块的微观层面上不可见的模式和异常。 最引人注目的例子之一是在以太坊网络上运行的数千个机器人的“混合器”。 </p><br><p> 首先让我们根据加密货币的接收方和发送方的数量搜索地址分布中的异常情况： </p><br><p><img src="https://habrastorage.org/webt/4l/z8/f-/4lz8f-qef2vrkz9shfumgj2o_da.png"></p><br><p> 在水平轴上-垂直将钱从其转移到该地址的地址数-从该地址转移钱的地址数。 圆圈大小-此类地址的数量。 </p><br><p> 左图是在2016年12月绘制的，最大圆圈落在具有一个收件人和一个发件人的地址上，略小于没有收件人和一个发件人的地址。 这是可以理解的，大多数地址都从一个来源接收货币并将其花在一个地方，或者根本不花，而是存储它。 </p><br><p> 但是在2017年12月，由两个发件人和三个收件人组成的圈子的大小异常增加。 并且有数百万个这样的地址！ 要了解这种情况，请从紧圈中选择以下地址之一并构建翻译图： </p><br><p><img src="https://habrastorage.org/webt/si/1o/g9/si1og922-6jklgi2ny1yp1dowog.png"></p><br><p> 可以看出，所有这些地址都连接到一个巨大的混合器中，该混合器本身就可以汇款。 由于平均而言，每个地址的收件人多于发件人，因此只需几步即可从原始发件人获得大量收件人。 当然，这不是由人来完成，而是由机器人来完成，因为有超过400万个此类地址，而且它们运行平稳且非常迅速，几分钟之内就可以汇款。 </p><br><p> 通过将这些地址的交易与网络中的其他交易分开，我们估计了这个庞大的机器人的工作量： </p><br><p><img src="https://habrastorage.org/webt/km/xk/ua/kmxkuajh3ziym_sz_5xkkkwaopo.png"></p><br><p> 就传输量而言，混合器（橙色列）在几个月内的传输量是网络中所有其他传输（绿色列）的数倍。 当然，必须考虑到他正在自己内部进行货币转移并且他的外部营业额不是那么重要，不会超过1700万以太币（今天为100亿美元）。 </p><br><p> 混音器事务已占用Etehereum网络带宽的很大一部分，这已经有很多个月了。 它的最大活动发生在2018年初，此机器人发起了每四次以太坊转移交易，从混合器交易占总份额的蓝色图中可以看出： </p><br><p><img src="https://habrastorage.org/webt/hd/2z/4x/hd2z4xkprso30vi4amj8iabwkbe.png"></p><br><p> 但是突然之间，在2018年2月，他停止了工作。 由于我们不知道使用它的原因，我们只能猜测他的生命和猝死的原因。 或者，也许他没有死，而是改变了算法，只是离开了我们的雷达？ </p><br><h3 id="ya-veryu-v-blokcheyn"> 我相信区块链 </h3><br><p> 我相信区块链。 企业，人员和社区都可以从中受益。 要使用它，您需要了解它作为现象的工作方式。 根据制定的法律，内部异常，趋势，衰退和上升是什么。 </p><br><p> 更加透明的区块链将使企业能够睁开眼睛进行有效的活动。 普通用户将更好地了解他们正在做什么，正在参与什么活动，从而更加安全和快乐。 </p><br><p> 毕竟，区块链与其说是人和社区，不如说是网络，平台，区块和交易。 该技术的成功开发完全取决于公众对其的认知，在此过程中透明性很重要。 </p><br><h3 id="literatura"> 文学作品 </h3><br><p>  [1] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Web 3：去中心化应用程序的平台</a> </p><br><p>  [2] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Etherscan</a> </p><br><p>  [3] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ICO</a> </p><br><p>  [4] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">DAO</a> </p><br><p>  [5] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">以太坊智能合约</a> </p><br><p>  [6] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Yandex Clickhouse</a> </p><br><p>  [7] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">高度</a> </p><br><p>  [8] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">超级集</a> </p><br><p>  [9] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Python Jupyter</a> </p><br><p>  [10] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Bloxy</a> </p><br><p>  [11] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ERC20</a> </p><br><p>  [12] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">WTF是空投吗？</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">免费加密货币详细指南</a> </p><br><p>  [13] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CryptoKitties</a> </p><br><p>  [14] <a href="">ERC721标准</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN414707/">https://habr.com/ru/post/zh-CN414707/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN414695/index.html">纳米事物互联网的纳米介绍。 第二部分</a></li>
<li><a href="../zh-CN414699/index.html">程序生成的行星表面上的不规则瓷砖</a></li>
<li><a href="../zh-CN414701/index.html">使用KOMPAS-3D API→第10课→特殊字符，包括字符串</a></li>
<li><a href="../zh-CN414703/index.html">（差不多）六个月后-对廉价家用投影机Epson EH-TW610和Epson EH-TW650提出了一些意见。 还有另一个民意调查</a></li>
<li><a href="../zh-CN414705/index.html">全球扬声器构造的杰作：Monitor Audio从织物到金属和复合材料的创新之路</a></li>
<li><a href="../zh-CN414709/index.html">沙漠狮子与自省</a></li>
<li><a href="../zh-CN414711/index.html">西班牙足球应用程式La Liga使其使用者成为非自愿诈骗者</a></li>
<li><a href="../zh-CN414713/index.html">交叉反馈周</a></li>
<li><a href="../zh-CN414715/index.html">以@Implement为例的编译时注释</a></li>
<li><a href="../zh-CN414717/index.html">2018 4K电视：最佳选择的建议</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>