<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌗 ♍️ 🕵️ 数据仓库架构：传统和云 🔓 👨‍❤️‍💋‍👨 🔮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="哈Ha！ 关于数据仓库体系结构的文章已经写了很多，但是还没有像我偶然遇到的一篇文章那样简洁。 

 我邀请您熟悉我的翻译中的这篇文章。 欢迎评论和添加！ 


 （图片来源） 

 引言 
 因此，数据仓库的架构正在发生变化。 在本文中，我们将比较传统企业数据仓库和云解决方案具有较低的初始成本，改进...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>数据仓库架构：传统和云</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441538/">哈Ha！ 关于数据仓库体系结构的文章已经写了很多，但是还没有像我偶然遇到的一篇文章那样简洁。 <br><br> 我邀请您熟悉我的翻译中的这篇文章。 欢迎评论和添加！ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ih/f1/ie/ihf1iesoydew3ek8qb-gcne_5vq.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">（图片来源）</a> <br><a name="habracut"></a><br><h2> 引言 </h2><br> 因此，数据仓库的架构正在发生变化。 在本文中，我们将比较传统企业数据仓库和云解决方案具有较低的初始成本，改进的可伸缩性和性能。 <br><br> 数据仓库是一个系统，其中从公司内的各种来源收集数据，并且该数据用于支持管理决策。 <br><br> 公司越来越多地转向基于云的数据仓库，而不是传统的本地系统。 云数据存储与传统存储有几个区别： <br><br><ul><li> 无需购买物理设备； </li><li> 云数据仓库配置和扩展更快，更便宜。 </li><li> 云数据仓库通常使用复杂的并行处理，因此可以更快地执行复杂的分析查询。 </li></ul><br><h2> 传统数据仓库架构 </h2><br> 以下概念重点介绍了一些用于创建传统数据仓库的既定设计思想和原则。 <br><br><h3> 三层架构 </h3><br> 通常，传统的数据仓库体系结构具有三层结构，包括以下几层： <br><br><ul><li>  <b>较低级别</b> ：此级别包含用于从许多不同来源（例如，从用于前端应用程序的事务性数据库）检索数据的数据库服务器。 </li><li>  <b>中间层</b> ：中间层包含一个OLAP服务器，该服务器将数据转换为更适合于分析和复杂查询的结构。  OLAP服务器可以通过两种方式工作：作为将多维数据操作映射到标准关系OLAP操作的高级关系数据库管理系统，或者使用直接实现多维数据和操作的多维OLAP模型。 </li><li>  <b>最高层</b> ：最高层是客户层。 此级别包含用于高级数据分析，报告和数据分析的工具。 </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tn/t6/ho/tnt6hod27digrh97sinoyywqpuk.jpeg"></div><br><h3> 金博尔vs. 因门 </h3><br> 数据仓库的两位先驱：Bill Inmon和Ralph Kimball，提供了不同的设计方法。 <br><br>  <b>Ralph Kimball</b>的方法基于数​​据集市的重要性，数据集市是属于特定业务的数据仓库。 数据仓库只是<b>各种</b>便于报告和分析的<b>数据集市</b>的<b>组合</b> 。 基于Kimball的数据仓库项目使用自下而上的方法。 <br><br>  <b>Bill Inmon的方法</b>基于这样一个事实，即数据仓库是所有公司数据的集中存储。 使用这种方法，组织首先创建<b>标准化的</b>数据仓库<b>模型</b> 。 然后，基于仓库模型创建维度数据集市。 这被称为自上而下的数据仓库方法。 <br><br><h3> 数据仓库模型 </h3><br> 在传统体系结构中，数据仓库有三种通用模型：虚拟存储，数据展示和公司数据仓库： <br><br><ul><li>  <b>虚拟数据仓库</b>是一组可以共享的独立数据库，因此用户可以有效地访问所有数据，就像它们存储在一个数据仓库中一样。 </li><li>  <b>数据展示模型</b>用于报告和分析特定业务线。 在此存储模型中，来自与特定业务领域（例如销售或财务）相关的多个源系统的聚合数据； </li><li>  <b>公司</b>数据<b>仓库模型</b>涉及存储跨越整个组织的聚合数据。 该模型将数据仓库视为企业信息系统的核心，其中包含来自所有业务部门的集成数据。 </li></ul><br><h3> 星与 雪花 </h3><br> 星型和雪花方案是构建数据仓库的两种方法。 <br><br>  <b>星型</b>模式具有集中的数据仓库，该数据仓库存储在事实表中。 该图表将事实表分为一系列非规格化的维表。 事实表包含将用于报告的聚合数据，维度表描述了存储的数据。 <br><br> 因为数据是分组的，所以非规范化项目的复杂性较低。 事实表仅使用一个链接来附加到每个维度表。 较简单的星形设计极大地简化了复杂查询的编写。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m-/2y/l5/m-2yl5ndg1js8sunldgzzho2zta.jpeg"></div><br>  <b>雪花</b>模式的不同之处在于它使用规范化的数据。 规范化意味着有效的数据组织，以便定义所有数据相关性，并且每个表都包含最少的冗余。 因此，将各个测量表分叉到单独的测量表中。 <br><br>  <b>雪花</b>方案使用更少的磁盘空间并更好地维护数据完整性。 主要缺点是访问数据所需的查询很复杂-每个查询都必须经过几个表联接才能获取相应的数据。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uf/fo/di/uffodipv5qpwawoh-b07x596z20.jpeg"></div><br><h3>  ETL与 电报 </h3><br>  ETL和ELT是将数据加载到存储中的两种不同方式。 <br><br>  <b>ETL（提取，转换，加载）</b>首先从数据源池中检索数据。 数据存储在临时登台数据库中。 然后，执行转换操作以将数据结构化并转换为适用于目标数据仓库系统的形式。 然后将结构化数据加载到存储中并准备进行分析。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9h/cl/gk/9hclgkwsprpqlae4yheechi-fls.jpeg"></div><br> 对于<b>ELT（提取，加载，转换），</b>从源数据池中提取数据后立即加载数据。 没有中间数据库，这意味着数据会立即上传到单个集中式存储库。 <br> 数据将转换为数据仓库系统，以用于商业智能和分析工具。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ce/dz/8y/cedz8yg5rm3wlqw2q5or50h_lrc.jpeg"></div><br><h3> 组织成熟度 </h3><br> 该组织的数据仓库结构还取决于其当前状况和需求。 <br><br> 基本结构允许存储最终用户直接从源系统访问摘要数据，创建报告并分析此数据。 对于数据源来自相同类型的数据库系统的情况，此结构很有用。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vv/zf/bv/vvzfbvvlkujpbu83jyvwkwx0tlq.jpeg"></div><br> 具有中间区域的存储是具有异构数据源的组织中下一步的逻辑步骤，该异构数据源具有许多不同类型和格式的数据。 暂存区将数据转换为通用的结构化格式，使用分析和报告工具更易于请求。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/o5/jl/yj/o5jlyjz8jwjjkuurs8wscmsv1pe.jpeg"></div><br> 中间结构的一种变体是在数据仓库中添加了数据集市。 数据集市将摘要数据存储在特定的活动领域中，这使这些数据易于用于特定形式的分析。 <br><br> 例如，添加数据集市可以使财务分析师更轻松地对销售数据执行详细查询并预测客户行为。 数据集市通过专门为满足最终用户需求而定制数据来促进分析。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rc/sh/zq/rcshzquazyo1ig4renso2qhlk0w.jpeg"></div><br><h2> 新的数据仓库架构 </h2><br> 近年来，数据仓库正在迁移到云中。 新的云数据仓库不遵循传统架构，并且每个仓库都提供自己的独特架构。 <br><br> 本节简要介绍两个最受欢迎的云存储所使用的架构：Amazon Redshift和Google BigQuery。 <br><br><h3> 亚马逊红移 </h3><br>  <b>Amazon Redshift</b>是传统数据仓库的基于云的视图。 <br><br>  Redshift要求准备计算资源并将其配置为包含一个或多个节点的集合的群集。 每个节点都有自己的处理器，内存和RAM。 领导者节点编译请求并将其传递给执行请求的计算节点。 <br><br> 在每个节点上，数据存储在称为<b>slices的</b>块中。  Redshift使用列存储，也就是说，每个数据块都包含多行中一列的值，而不是包含多列中的值的一行。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sr/2n/36/sr2n36eioy6n-snrf_hcmyes_wo.png"></div><br>  Redshift使用MPP（大规模并行处理）架构，将大型数据集分解为块，并分配给每个节点中的切片。 由于计算节点同时处理每个片中的请求，因此请求速度更快。  “领导者节点”节点合并结果并将其返回到客户端应用程序。 <br><br> 诸如BI和分析工具之类的客户端应用程序可以使用开源PostgreSQL JDBC和ODBC驱动程序直接连接到Redshift。 这样，分析人员可以直接在Redshift数据上执行任务。 <br><br>  Redshift只能加载结构化数据。 您可以使用包括Amazon S3和DynamoDB在内的预集成系统，通过SSH连接从任何本地主机传输数据或通过使用Redshift API集成其他数据源，将数据加载到Redshift中。 <br><br><h3> 谷歌bigquery </h3><br>  BigQuery架构不需要服务器，这意味着Google可动态控制计算机资源的分配。 因此，所有资源管理决策对用户都是隐藏的。 <br><br>  BigQuery允许客户从Google Cloud Storage和其他可读数据源下载数据。 另一种选择是流数据，它允许开发人员在可用时将数据实时逐行实时添加到数据仓库中。 <br><br>  BigQuery使用称为Dremel的查询引擎，该引擎可以在几秒钟内扫描数十亿行数据。  Dremel使用大规模并行查询来扫描Colossus基本文件管理系统中的数据。  Colossus在称为节点的各种计算资源之间将文件分配为64兆字节的片段，这些资源按群集分组。 <br>  Dremel使用类似于Redshift的列数据结构。 树结构在几秒钟内将请求发送到数千台计算机。 <br><br> 简单的SQL命令用于执行数据查询。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lf/hs/fq/lfhsfqfrtm7vobg9bfj8igu0cxm.png"></div><br><br><h3> 全景式 </h3><br>  Panoply提供全面的数据管理即服务。 其独特的自我优化架构使用机器学习和自然语言处理（NLP）来建模和简化从源到分析的数据传输，从而将从数据到值的时间尽可能地减少到接近零。 <br><br>  Panoply Intelligent Data Infrastructure包括以下功能： <br><br><ul><li> 查询和数据分析-确定每种用例的最佳配置，随时间进行调整并创建索引，排序键，磁盘键，数据类型，疏散和分区。 </li><li> 识别不遵循最佳实践的查询（例如，包含嵌套循环或隐式强制转换的查询），并将其重写为等效查询，而执行该查询的执行时间或资源很少。 </li><li> 根据查询模式并随着时间的推移优化服务器配置，并了解哪种服务器设置最有效。 该平台无缝切换服务器类型并衡量整体性能。 </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7y/ds/_g/7yds_gzgj5dnevamau8q5_cppnm.png"></div><br><h3> 超越云存储 </h3><br> 基于云的数据仓库是对传统架构方法的重大改进。 但是，用户在配置它们时仍然遇到许多问题： <br><br><ul><li>  <b>将数据上传</b>到基于云的数据仓库并非易事，并且大规模数据管道需要配置，测试和支持ETL流程。 该过程的这一部分通常由第三方工具执行； </li><li>  <b>更新，插入和删除</b>可能很复杂，必须仔细进行以防止查询性能下降； </li><li>  <b>半结构化</b>数据很难处理-需要以关系数据库格式进行规范化，这需要自动化大数据流； </li><li> 云数据仓库通常不支持<b>嵌套结构</b> 。 您需要将嵌套表转换为数据仓库可以理解的格式。 </li><li>  <b>集群优化</b> 。 有多种选项可配置Redshift群集以运行您的工作负载。 不同的工作负载，数据集甚至不同类型的查询可能需要不同的配置。 为了获得最佳性能，有必要不断检查，并在必要时进行其他配置。 </li><li>  <b>查询优化</b> -用户查询可能未遵循最佳做法，因此需要更长的时间才能完成。 您可以与用户或自动客户端应用程序一起优化查询，以便数据仓库可以按预期工作 </li><li>  <b>备份和恢复</b> -尽管数据仓库提供商提供了许多用于备份数据的选项，但它们并非易事，需要监视和密切注意。 </li></ul><br>  <i>链接到原始文本： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">panoply.io/data-warehouse-guide/data-warehouse-architecture-traditional-vs-cloud</a></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN441538/">https://habr.com/ru/post/zh-CN441538/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN441528/index.html">我的生活如何变成一本卡夫卡书</a></li>
<li><a href="../zh-CN441530/index.html">SDN将进入太空：为什么需要这样做</a></li>
<li><a href="../zh-CN441532/index.html">蝙蝠鱼 引言</a></li>
<li><a href="../zh-CN441534/index.html">编排系统的负载均衡器</a></li>
<li><a href="../zh-CN441536/index.html">各种SIMD</a></li>
<li><a href="../zh-CN441540/index.html">Vue mixins，显式方式（通过BEM修饰符插件示例）</a></li>
<li><a href="../zh-CN441546/index.html">“ Hayabusa-2”首次碰到小行星</a></li>
<li><a href="../zh-CN441550/index.html">一个简单的程序员的生活是艰难而平淡的</a></li>
<li><a href="../zh-CN441554/index.html">Linux的整个历史。 第一部分：一切开始</a></li>
<li><a href="../zh-CN441560/index.html">2月25日至3月3日在莫斯科举行的数字活动</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>