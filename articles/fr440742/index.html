<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💃🏾 🏛️ 👨🏿‍🤝‍👨🏾 Pages AMP et Turbo: avantages, inconvénients et résultats de la mise en œuvre ⚗️ 💂🏼 👨🏽‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ceux qui suivent l'actualité de l'industrie informatique connaissent les «pages rapides» de Google et Yandex: pages AMP et Turbo. Ils sont sortis il y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pages AMP et Turbo: avantages, inconvénients et résultats de la mise en œuvre</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440742/">  Ceux qui suivent l'actualité de l'industrie informatique connaissent les «pages rapides» de Google et Yandex: pages AMP et Turbo.  Ils sont sortis il y a plus de 2 ans, mais n'ont pas fait beaucoup de bruit sur le marché, je m'appelle Konstantin.  Je suis le directeur du studio web AlkoDesign.  Nous avons décidé de rappeler ces outils et de partager les résultats de leur mise en œuvre. <br><br><img src="https://habrastorage.org/webt/tr/_9/ed/tr_9ed6cmjtkrc3muogkvipfgqi.jpeg" alt="image"><a name="habracut"></a><br><br>  Le trafic mobile a augmenté régulièrement ces dernières années.  Les utilisateurs lisent de plus en plus de sites d'actualités, commandent des produits et des articles depuis leur téléphone.  Les versions mobiles et adaptatives des sites ont cessé d'être un bonus attrayant, mais sont devenues une réelle nécessité. <br><br><img src="https://habrastorage.org/webt/hc/hn/yl/hchnylr6az7dpqzfurtc13jqn-w.png" alt="image"><br><br>  Mais tout n'est pas si beau.  Dans la poursuite du trafic et la réduction des pannes, nous devons rechercher de nouvelles solutions.  Les versions mobile et adaptative ne sauvent pas toujours la situation, et sont parfois généralement inconfortables: l'adaptive s'avère trop «lourde» à télécharger, de ce fait la vitesse de téléchargement sur les smartphones laisse beaucoup à désirer.  (Dire que les visiteurs et les moteurs de recherche n'aiment pas les longs chargements, est-ce nécessaire?) <br><br>  Chez AlkoDesign.ru, nous travaillons avec un grand portail d'informations.  (Nous ferons sans noms).  L'une des tâches qui nous a été confiée était d'augmenter le trafic et de réduire le pourcentage de pannes.  Sans réfléchir à deux fois, nous avons décidé d'utiliser les pages rapides de Google et Yandex. <br><br>  Dans cet article, nous partagerons les résultats de l'introduction de ces pages sur l'un des portails d'actualités et décrirons brièvement ce que sont les pages rapides et ce qu'elles mangent (pour ceux qui ne sont pas dans le sujet). <br><br><h1>  Théorie </h1><br>  <b>AMP et Turbo Pages</b> est une technologie de page mobile accélérée développée par des développeurs indépendants et activement promue par les deux moteurs de recherche.  Ces pages se chargent encore plus rapidement que la page de la version mobile du site. <br><br><h2>  Pages AMP google.ru </h2><br><img src="https://habrastorage.org/webt/1o/3x/5y/1o3x5yrip68jxbew_h_5tcytsbm.png" alt="image"><br><br>  L'essentiel est que le site utilise des balises spéciales (avec le préfixe ampli), dont le nombre et les fonctionnalités sont strictement limités.  La tâche du développeur consiste à assembler un méli-mélo de schémas disponibles qui résoudront le problème du client. <br><br>  Les moteurs de recherche y trouvent ces balises spéciales et cachent des informations.  Après cela, lorsque l'utilisateur recherche quelque chose, le navigateur en arrière-plan charge les informations du CDN dans une iframe spéciale et, en cliquant sur le lien, ouvre une page déjà chargée dans une fenêtre spéciale. <br><br>  Lorsque vous utilisez un CMS sur le site, pour les pages AMP, vous devez créer votre propre modèle distinct pour l'affichage des données conformément aux exigences de marquage des pages AMP. <br><br><h2>  Yandex Turbo Pages </h2><br><img src="https://habrastorage.org/webt/3h/7o/ar/3h7oarputu-l_1sk2l_o2ulsdsq.png" alt="image"><br><br>  La principale différence avec AMP est que le contenu des pages Turbo ne provient pas des pages du site, mais d'un flux RSS spécial. <br><br>  Leur contenu est stocké sur les serveurs Yandex.  Mais pour que Yandex prenne le contenu de notre site Web, nous devons écrire un script qui transférera toutes les données nécessaires (texte, images, styles, etc.) dans un format de document XML spécial.  Le processus est similaire à la préparation des données pour Yandex.Products ou Yandex.Market. <br><br>  Honnêtement, la configuration est aussi simple que possible.  Si le nombre de pages est petit (10-20), vous pouvez créer vous-même un flux RSS pour Yandex, sans impliquer de programmeur.  Certes, dans ce cas, il sera également mis à jour manuellement. <br><br>  La vitesse de chargement des pages Turbo est environ 15 fois plus rapide que d'habitude.  Et, un bonus supplémentaire (mais pas le dernier) - si le site se bloque, par exemple, en raison d'une infection ou d'une attaque DDoS, ses pages Turbo continueront de s'ouvrir et le contenu sera toujours disponible pour les utilisateurs. <br><blockquote>  Les pages avec AMP et Turbo sont classées au-dessus des autres requêtes de recherche car elles répondent aux exigences d'un chargement rapide. </blockquote><br><h2>  Caractéristiques des pages AMP et Turbo </h2><br>  La première différence, la plus importante par rapport aux sites standard, est l'incapacité d'insérer des scripts «normaux».  Autrement dit, la plupart des fonctionnalités liées au changement dynamique (actions de clic, animation, filtrage, fenêtres modales) deviennent inaccessibles. <br><br>  La solution consiste à utiliser les composants disponibles et un iframe.  Les composants disponibles vous permettent de réaliser, bien que pas complètement, la mise en œuvre des outils habituels sur le site, mais de le présenter avec un remplacement décent et sont optimisés pour des téléchargements rapides. <br><br>  Avec l'aide des balises AMP et Turbo, vous pouvez implémenter le menu latéral, le carrousel, la soumission de formulaire, le contenu téléchargeable, la publicité et plus encore.  Chaque composant est associé à sa propre bibliothèque js, qui doit être connectée pour l'utiliser sur le site. <br><br><h3>  Fonctionnalités de la page Turbo </h3><br>  Ils aident à augmenter la portée de l'audience mobile - les utilisateurs n'ont pas à attendre longtemps pour que le site se charge et ils passent presque immédiatement à votre contenu.  L'augmentation du trafic peut être importante. <br><br>  Les avantages des pages Turbo sont qu'après leur implémentation sur votre site: <br><br><ul><li>  <b>Le taux de rebond baisse.</b>  Lorsqu'un utilisateur visite votre site et que son mauvais Internet ne peut pas ouvrir votre page pendant une longue période, il peut simplement ne pas attendre qu'il se charge, se ferme et revienne aux résultats de recherche pour trouver un autre site plus rapide.  Ainsi, votre taux de rebond augmente et plus le taux de rebond est élevé, plus votre position dans les résultats de recherche est mauvaise. </li><li>  <b>Le trafic mobile augmente.</b>  Aujourd'hui, de nombreux utilisateurs savent déjà que les sites marqués d'une icône de fusée se chargent très rapidement et cliquent donc activement dessus.  Cela vous donne un avantage sur vos concurrents et vous permet d'augmenter le trafic vers votre site à partir d'appareils mobiles. </li><li>  <b>La charge d'hébergement est réduite.</b>  Si le site a un trafic assez élevé, cet élément sera également pertinent.  Étant donné que le téléchargement de contenu ne se fait pas depuis votre hébergement, mais depuis les serveurs Yandex, la charge est réduite.  Dans le même temps, Yandex utilise son propre réseau de diffusion de contenu (CDN) pour créer et stocker des pages Turbo, ce qui accélère encore plus le chargement de contenu. </li></ul><br>  Inconvénients Turbo - dans une fonctionnalité limitée: <br><br><ul><li>  <b>Les formulaires de commentaires ne sont pas pris en charge, il n'y a aucune possibilité de commander des biens ou des services.</b>  Cela peut être appelé le moins le plus important, car  pour une page de destination ou une boutique en ligne, l'utilisation de pages turbo sera inappropriée, car vous ne pourrez toujours pas recevoir de candidatures de leur part. </li><li>  <b>Le site est conçu selon un modèle prédéfini de petite taille.</b>  Lorsque vous cliquez sur le lien marqué de l'icône «Turbo», votre contenu apparaîtra dans une page simplifiée créée par le moteur de recherche, et personne ne verra la conception unique de votre site Web.  Par conséquent, ici, vous devez choisir entre la vitesse de chargement du site et la conception unique de votre version mobile ou adaptative. </li></ul><br><h3>  Caractéristiques AMP </h3><br><ul><li>  Création de pages "faciles"; </li><li>  Le moteur de recherche enregistre des versions allégées de pages sur ses serveurs; </li><li>  Yandex offre aux propriétaires de smartphones des pages turbo dans une recherche ou un fil d'actualités; </li><li>  Grâce à la vitesse de téléchargement élevée, l'expérience utilisateur et les indicateurs de comportement sont améliorés. </li></ul><br>  Après avoir créé des pages AMP, Google est allé plus loin.  Il a transféré tous les sites vers un nouveau système de classement - Google Mobile Friendly.  Désormais, le classement des sites dépend principalement de la version mobile du site.  Si plus tôt, il était possible de créer et de «lécher» la version de bureau du site sans faire une version adaptative ou, en dernier recours, mobile du site.  Maintenant, lors du développement d'un site, une attention particulière doit être accordée à la version adaptative. <br><br><h2>  Préparation des données </h2><br><img src="https://habrastorage.org/webt/lw/4d/rl/lw4drlba141m4kuwit95o2lzhpu.png" alt="image"><br><br><h4>  Pour les pages AMP </h4><br>  Toutes les images de la page doivent être décrites dans une balise &lt;amp-img&gt; spéciale, ce qui rend difficile pour l'utilisateur d'insérer des images via un éditeur de texte. <br><br>  De plus, si vous utilisez un carrousel ou une lightbox, vous devez insérer des analogues des composants de l'ampli.  Pour implémenter cette fonctionnalité, un gestionnaire a été implémenté qui, à l'aide d'expressions régulières, remplace les balises HTML standard par les balises utilisées dans la spécification amp. <br><br>  Une autre fonctionnalité qui devrait concerner principalement un éditeur de texte, puisque la modification des styles s'y fait en ligne.  Les éléments avec des attributs tels que style = "color: ..." ne sont pas valides, et la modification de la couleur ou de la taille de police écrira cette propriété dans le code. <br><br>  Pour que le moteur de recherche comprenne qu'il existe une version AMP de la page, elle doit contenir un lien: <br><blockquote>  &lt;link rel = "amphtml" href = " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.site.com/url/to/amp/document.html</a> "&gt; <br></blockquote><br>  Et sur la page AMP il y a un lien de retour: <br><blockquote>  &lt;link rel = "canonical" href = " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.site.com/url/to/full/document.html</a> "&gt; </blockquote><br>  Les styles CSS sont écrits en ligne et leur taille ne doit pas dépasser 50 Ko. <br><h3>  Pour les pages turbo </h3><br>  Pour connecter des pages Turbo, il suffit d'apporter de petites modifications au fichier d'exportation en cours selon les exigences techniques: <br><br><ul><li>  L'élément racine du fichier RSS est rss, dont l'attribut de version doit être défini sur 2.0. </li><li>  À l'intérieur de l'élément rss se trouve l'élément channel, qui comprend des informations sur la source et son contenu. </li></ul><br>  Les éléments suivants sont indiqués: <br><br><ul><li>  Informations sur le site source - les informations sont transmises dans l'élément de canal. </li><li>  Informations sur le message - les données sont transférées dans l'élément item. </li><li>  contenu de la page turbo </li></ul><br>  Dans la page turbo, vous pouvez intégrer des éléments supplémentaires tels que: en-tête de page, liens, images, vidéo, bouton Partager, citations, tableaux, etc.  Vous pouvez également connecter certains systèmes d'analyse Web. <br><br><h2>  Pratique </h2><br><h3>  Nous implémentons AMP sur le site </h3><br>  Étant donné que nous sommes loin d'être des débutants dans le domaine informatique, l'introduction des pages n'a pas été difficile. <br><br>  Nous avons créé un modèle distinct pour le site en utilisant les balises nécessaires des spécifications AMP et Turbo.  Ensuite, nous avons configuré la génération automatique de pages. <br><br><img src="https://habrastorage.org/webt/vv/sf/y7/vvsfy7qpzrspdfjdgqxdunr8giy.png" alt="image"><br><br>  Immédiatement après l'introduction des pages rapides, nous avons lancé un contrôle via Google et Yandex validator.  Après le démarrage, ils ont trouvé des erreurs supplémentaires qui ont été résolues avec succès. <br><br><img src="https://habrastorage.org/webt/my/mz/rm/mymzrmhyl8ae5og8al3lb4d9dk0.png" alt="image"><br><br><h3>  Présentation de Turbo Pages </h3><br>  Pour implémenter les pages Turbo sur le site, la spécification du format a été étudiée.  Modèles définis pour générer des en-têtes de pages turbo et indiquer des images supplémentaires.  Un module spécialisé pour CMS a été développé, qui génère des fichiers de données RSS, selon la documentation technique de Yandex ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partner.news.yandex.ru/tech.pdf</a> ). <br><br>  Étant donné que les matériaux sur le site sont constamment ajoutés, la mise à jour des flux RSS avec des pages turbo est également mise à jour en exécutant le script de mise à jour sur CRON.  En raison des spécificités du projet, il a été décidé de réaliser plusieurs flux RSS, chacun pour son propre type de contenu. <br>  Dans les paramètres du module, vous pouvez spécifier les sections du site que vous souhaitez exporter vers RSS, spécifier des données supplémentaires pour l'exportation.  La fréquence des mises à jour des flux RSS pour les pages turbo est définie par la fréquence de la tâche CRON. <br><br>  Après avoir passé la validation RSS par Yandex, des pages Turbo ont été ajoutées à l'indexation. <br><br><h2>  Résultats </h2><br><h3>  Rebond </h3><br>  Suite à l'introduction des pages AMP et Turbo, les mesures comportementales ont changé. <br><br>  <b>Pour le trimestre, le taux de rebond</b> global du <b>site</b> était de <b>14,2%</b> .  Tous les visiteurs sont considérés ici, y compris les utilisateurs de bureau. <br><br><img src="https://habrastorage.org/webt/bx/9t/-y/bx9t-y0cibrvq0ajxx4o8zuytgo.png" alt="image"><br><br>  <b>Le taux de rebond pour les propriétaires de smartphones</b> qui ont consulté des pages régulières était de <b>23,7% pour le trimestre</b> . <br><br><img src="https://habrastorage.org/webt/5q/gw/mt/5qgwmtrajyq6fcyengsc8qba8ks.png" alt="image"><br><br>  Le taux de rebond <b>pour les visiteurs des pages Turbo</b> pour la même période était de <b>6,2%.</b> <br><br><img src="https://habrastorage.org/webt/oz/40/zn/oz40znynbwdc-fvvtzw8sn3c4le.png" alt="image"><br><br>  Autrement dit, en termes de taux de rebond, les pages régulières perdent plus de deux fois au profit des pages turbo: <b>23,7% contre 6,2% avec les pages Turbo et un total de 14,2%</b> . <br><br><h3>  Fréquentation </h3><br>  Depuis l'introduction des pages AMP et Turbo, nous avons multiplié par <b>2</b> le trafic vers le portail. <br><br><img src="https://habrastorage.org/webt/8v/xq/gu/8vxqgu5weyoxgabapblbztscz8o.png" alt="image"><br><br><h3>  Vitesse de téléchargement des pages </h3><br>  Le principal avantage est une augmentation de <b>3 à 10 fois de la</b> vitesse de chargement des pages.  Elle a grandi instantanément en raison de la mise en cache. <br><br>  Et aussi: <br><br><ul><li>  Charge du serveur réduite </li><li>  Les facteurs comportementaux ont augmenté (l'AMP n'affecte pas directement les positions dans l'organique). </li></ul><br><h2>  Conclusion: nous introduisons au lieu et sagement </h2><br>  Où il est nécessaire de transmettre le contenu à l'utilisateur le plus rapidement possible et de manière simple. <br><br><h4>  Dans notre cas, le résultat de la mise en œuvre a été: </h4><br><ul><li>  le taux de rejet a diminué en général de 2 fois; </li><li>  la fréquentation a augmenté de 2 fois; </li><li>  la vitesse de téléchargement a été augmentée de 3 à 10 fois </li></ul><br><h4>  À qui Turbo ne convient pas encore: </h4><br><ul><li>  Ecommerce car il n'y a pas de panier.  (en cours de développement) </li><li>  Page de destination, car les boutons et formulaires des pages ne sont pas pris en charge </li></ul><br><h4>  Qui sont les pages Turbo idéalement adaptées: </h4><br><ul><li>  Les médias </li><li>  Projets de contenu </li><li>  Blogs à l'intérieur des sites (par exemple, une section d'information dans une boutique en ligne, avec des nouvelles, des descriptions de nouveaux produits dans l'industrie, etc.) </li></ul><br>  Nous recommandons fortement aux propriétaires de portails d'actualités, de sites médiatiques ou de blogs d'informations de connecter ces pages.  Cela vous permettra d'obtenir du trafic supplémentaire, de réduire le nombre d'impressions et d'augmenter le nombre de pages vues. <br><br>  <b>AMP et Turbo Pages</b> sont une technologie intéressante à utiliser judicieusement.  Il peut être utilisé pour la version mobile "facile" du site, ou pour certaines sections qui ne nécessitent pas de fonctionnalités élevées.  Et, bien sûr, c'est une excellente solution pour les sites d'information, les blogs, les magazines en ligne. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr440742/">https://habr.com/ru/post/fr440742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr440728/index.html">Développement mobile: de l'idée à l'estimation des coûts</a></li>
<li><a href="../fr440732/index.html">Mettre à niveau une carte de débogage avec un processeur Baikal-T1: ajoutez une carte SD</a></li>
<li><a href="../fr440734/index.html">Session ouverte en vue dans Spring Boot: The Phantom Menace</a></li>
<li><a href="../fr440736/index.html">Je ruine la vie des développeurs avec mes critiques de code et je suis désolé</a></li>
<li><a href="../fr440740/index.html">Webinaire ouvert «Parcours client: quel trafic et où conduire»</a></li>
<li><a href="../fr440744/index.html">PHP pour les débutants. Gestion des erreurs</a></li>
<li><a href="../fr440746/index.html">La technologie de gestion des connaissances de Gartner utilise des études de cas sur KnowledgeConf</a></li>
<li><a href="../fr440748/index.html">Le supercalculateur le plus rapide du monde bat le record de l'IA</a></li>
<li><a href="../fr440752/index.html">Sélection de la priorité de la demande de l'utilisateur</a></li>
<li><a href="../fr440754/index.html">Utilitaire anglais multiplateforme pour visualiser les certificats qualifiés russes x509</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>