<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì° ‚öìÔ∏è üßòüèæ AI, curso pr√°ctico. Colecci√≥n e investigaci√≥n de im√°genes. üôåüèº ü§µüèΩ üïì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo analiza los m√©todos utilizados para recopilar datos de im√°genes en un proyecto de m√∫sica con una presentaci√≥n de diapositivas. Hubo limi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AI, curso pr√°ctico. Colecci√≥n e investigaci√≥n de im√°genes.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intel/blog/413839/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/_j/dr/q0/_jdrq0ffcxcf86rbei-wxierd5u.jpeg"></div><br>  Este art√≠culo analiza los m√©todos utilizados para recopilar datos de im√°genes en un proyecto de m√∫sica con una presentaci√≥n de diapositivas.  Hubo limitaciones que nos obligaron a usar la base de datos de im√°genes existente, en lugar de im√°genes tomadas de Flickr.  Sin embargo, este art√≠culo analiza ambos enfoques para que el lector pueda aprender c√≥mo extraer datos utilizando la API de Flickr. <br><br>  Adem√°s, dado que la calidad de una parte importante de las im√°genes recopiladas con Flickr era baja, se decidi√≥ utilizar im√°genes de bases de datos de im√°genes existentes.  En particular, se recopilaron im√°genes de tres bases de datos para investigaci√≥n psicol√≥gica. <br><a name="habracut"></a><br>  Recuerde que inicialmente se seleccionaron los siguientes conjuntos de datos para este proyecto: <br><br><ol><li>  Un conjunto de datos de entrenamiento que contiene 7000 im√°genes de colores emocionales de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flickr</a> para un algoritmo de extracci√≥n de emociones. </li><li>  Un conjunto de datos de entrenamiento que contiene los trabajos de Bach para el algoritmo de finalizaci√≥n de melod√≠a. </li><li>  Un conjunto de melod√≠as que sirven como plantillas para modular las emociones. </li></ol><br>  Ahora necesita recopilar los conjuntos de datos.  Como se mostrar√° en el art√≠culo, la cantidad de trabajo requerida para esto var√≠a significativamente seg√∫n el conjunto de datos seleccionado. <br><br><h2>  <font color="#0071c5">Captura de imagen</font> </h2><br>  Este proyecto requer√≠a un conjunto de im√°genes que evocaban siete emociones diferentes: felicidad, tristeza, miedo, ansiedad, asombro, determinaci√≥n, ira.  Para la colecci√≥n de im√°genes, se decidi√≥ utilizar Flickr, un sitio popular para compartir fotos, debido a su tama√±o y licencia de Creative Commons *. <br><br>  Buscar manualmente en Flickr 7000 im√°genes es una tarea desalentadora.  Afortunadamente, Flickr tiene una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">API</a> que proporciona un conjunto de m√©todos que facilitan el intercambio de datos con Flickr en un lenguaje de programaci√≥n.  Sin embargo, antes de usar la API para recopilar im√°genes, es importante saber qu√© buscar para evocar emociones relevantes.  Para determinar la lista de t√©rminos de b√∫squeda, se utiliz√≥ una tarea en la plataforma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Amazon Mechanical Turk</a> *. <br><br><h3>  <font color="#0071c5">API de Flickr</font> </h3><br>  Para utilizar los m√©todos ofrecidos por la API de Flickr, deber√° crear una cuenta de Flickr y solicitar una clave de API.  Para hacer esto, debe tener una cuenta de Flickr o Yahoo! *.  A continuaci√≥n, debe seguir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este enlace</a> y obtener la clave. <br><br><img src="https://habrastorage.org/webt/uh/q3/0k/uhq30kznjns9goydmrjwufzdwl0.png"><br>  <i>Captura de pantalla de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.flickr.com/services/apps/create/apply</a></i> <br><br>  El proceso de procesamiento de una solicitud para una clave no comercial es bastante simple.  Incluye una descripci√≥n del uso previsto y la aceptaci√≥n de los t√©rminos de uso.  La clave API es una medida de seguridad y se utiliza para evitar el mal uso de la API.  En los m√©todos proporcionados por la API, es un par√°metro obligatorio. <br><br>  Despu√©s de recibir la clave API, puede descargar e instalar el kit de herramientas API para uno de los lenguajes de programaci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">The App Garden</a> .  Este proyecto utiliza <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la API PythonI Flickr de Beej</a> , que se puede usar con el lenguaje Python 3. Debe seguir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la gu√≠a de instalaci√≥n de la</a> API Flickr. <br><br>  El c√≥digo utilizado para descargar las im√°genes se muestra a continuaci√≥n.  B√°sicamente, aqu√≠ se usa la funci√≥n de caminar API, que busca una imagen por etiqueta.  Las etiquetas se almacenan en un archivo .txt y se enumeran una por l√≠nea.  Si se encuentra una imagen, su URL se crea a partir de la plantilla en la <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">granja</a> {farm-id} .staticflickr.com / {server-id} / {id} _ {secret} .jpg</i> , donde el contenido de las llaves se reemplaza con atributos de imagen.  Luego, las 30 im√°genes principales para cada etiqueta (ordenadas por relevancia) se extraen y organizan en carpetas, seg√∫n la emoci√≥n y las condiciones de b√∫squeda. <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> flickrapi <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib.request <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os project_path = <span class="hljs-string"><span class="hljs-string">'/path/to/your/project'</span></span> photos_per_tag = <span class="hljs-number"><span class="hljs-number">30</span></span> filenames = [<span class="hljs-string"><span class="hljs-string">'Awe.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Happiness.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Fear.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Determination.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Anxiety.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Tranquility.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Sadness.txt'</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">download_files</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(flickr, t, category, num_photos)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># Downloads the files of a specific tag os.mkdir(t) os.chdir(t) s = [] for photo in flickr.walk(tag_mode='all', sort='relevance', tags=t, license=4, per_page=50): url = 'https://farm{}.staticflickr.com/{}/{}_{}.jpg'.format(photo.get('farm'), photo.get('server'), photo.get('id'), photo.get('secret')) s.append(url) if len(s) == num_photos: break for i in range(len(s)): filename = '{}_{}_{}.jpg'.format(category, t, str(i)) urllib.request.urlretrieve(s[i], filename) os.chdir(os.path.join(project_path, category)) if __name__ == '__main__': # Creates flickr object # These keys should be requested from flickr api_key = u'xxxxxxxxxxxx' api_secret = u'xxxxxxxxxxx' flickr = flickrapi.FlickrAPI(api_key, api_secret) # Runs the program, cycles through the emotions and downloads the images for each tag. os.chdir(project_path) for fname in filenames: categ = fname[:-4] with open(fname, 'r') as f: tags = f.read().splitlines() os.mkdir(categ) os.chdir(categ) for t in tags: download_files(flickr, t, categ, photos_per_tag) os.chdir(project_path)</span></span></code> </pre> <br>  Para usar este c√≥digo, debe clonar el repositorio utilizando el enlace de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> .  Despu√©s de eso, siga las instrucciones en el archivo README.  Debe reemplazar los par√°metros api_key y api_secret con las claves API recibidas en Flickr.  Como se mencion√≥ anteriormente, este script solo funciona en Python 3. <br><br>  Despu√©s de que se ejecuta el programa, la carpeta se ve as√≠: <br><br><img src="https://habrastorage.org/webt/d6/vg/4u/d6vg4uz-dqluh8gznempvdzwxrk.png"><br><br><img src="https://habrastorage.org/webt/db/n5/l_/dbn5l_zbd8-w-zjvkjyyelpumz8.jpeg"><br>  <i>Un conjunto de datos de los resultados de b√∫squeda en Flickr.</i> <br><br>  En total, se recolectaron alrededor de 8800 im√°genes.  Se recibieron m√°s im√°genes de las requeridas, ya que planeamos descartar algunas de las im√°genes de baja calidad que no se pueden usar.  El siguiente paso fue buscar estas im√°genes. <br><br><h3>  <font color="#0071c5">Selecci√≥n de imagen</font> </h3><br>  La calidad de las im√°genes recopiladas fue diferente.  Algunas condiciones de b√∫squeda, por ejemplo, las flores (que se muestran en la figura) dieron im√°genes utilizables de alta calidad.  Sin embargo, las condiciones de b√∫squeda menos espec√≠ficas a menudo arrojaron im√°genes completamente inutilizables.  Por ejemplo, se obtuvo una imagen de un pastel con una mujer maravilla * de la etiqueta milagrosa (debido a la emoci√≥n del asombro), y se encontr√≥ una imagen de repollo de Ambitious Farms de la etiqueta ambiciosa (debido a la emoci√≥n de la determinaci√≥n). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xk/ia/0k/xkia0kxzikvgjlowgyg8b6_bemo.jpeg"></div><br>  <i>Im√°genes inadecuadas</i> <br><br>  Cualquier persona que est√© planeando usar la API de Flickr para buscar im√°genes es alentada a usar sustantivos espec√≠ficos como t√©rminos de b√∫squeda.  Las im√°genes que se encuentran de ellos son mucho mejores que el uso de adjetivos o sustantivos abstractos.  Por ejemplo, cuando busque im√°genes de asombro, debe usar t√©rminos de b√∫squeda como el oc√©ano o el Gran Ca√±√≥n, en lugar de asombro o milagro. <br><br>  Despu√©s de ver las im√°genes, el equipo concluy√≥ que m√°s del 40 por ciento de las im√°genes eran inutilizables.  Como resultado, se revis√≥ el enfoque para seleccionar un conjunto de datos.  Despu√©s de discutir una serie de posibilidades, como limitar el conjunto de im√°genes a caras con emociones relevantes, se decidi√≥ usar im√°genes de bases de datos existentes que se usan com√∫nmente en investigaci√≥n psicol√≥gica (Base de datos afectiva PicturE de Ginebra ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GAPED</a> ), Conjunto de im√°genes estandarizadas afectivas abiertas ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OASIS</a> ) e Imagen Est√≠mulos para la provocaci√≥n de emociones ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ISEE</a> ). <br><br>  A pesar de que las im√°genes en las bases de datos existentes son menos diversas de lo que podr√≠an ser en el nuevo conjunto de datos, se opt√≥ por las bases de datos existentes debido a la mayor calidad de imagen y la disponibilidad de informaci√≥n sobre los par√°metros.  Tener informaci√≥n sobre los par√°metros es una gran ventaja, ya que elimina la necesidad de anotaciones con Amazon Mechanical Turk, lo que reduce significativamente el costo. <br><br><h3>  <font color="#0071c5">Fuente de datos</font> </h3><br>  El proceso de recopilaci√≥n de datos para el nuevo conjunto de datos fue mucho m√°s simple.  En particular, ya no se requieren pasos con Amazon Mechanical Turk y la API de Flickr.  Los conjuntos de datos GAPED y OASIS (incluido el marcado de par√°metros) est√°n disponibles para su descarga en Internet.  El conjunto de datos ISEE estuvo disponible despu√©s de un correo electr√≥nico al autor solicitando acceso.  Si las instrucciones para descargar los conjuntos de datos no se comprenden bien, lo m√°s probable es que una b√∫squeda en Google * lo ayude a encontrar contactos de autores que puedan solicitar directamente el acceso a los conjuntos de datos. <br><br>  Se crearon dos conjuntos de datos para este proyecto.  El primero utiliz√≥ la API de Flickr para cargar im√°genes usando etiquetas de emoci√≥n, el segundo fue una compilaci√≥n de bases de datos existentes utilizadas en la investigaci√≥n psicol√≥gica.  Cada uno de estos conjuntos de datos tiene sus pros y sus contras;  sin embargo, el segundo fue elegido para el proyecto, gracias a ventajas como la calidad de la imagen, la presencia de par√°metros etiquetados y el costo. <br><br>  El m√©todo utilizado para recopilar datos directamente depende de qu√© datos se requieren.  Sin embargo, los procesos y m√©todos descritos en este art√≠culo probablemente sean √∫tiles para muchos proyectos. <br><br>  Ahora que se crean los conjuntos de datos, el proyecto est√° listo para realizar los siguientes pasos: investigaci√≥n y procesamiento preliminar de datos. <br><br><h2>  <font color="#0071c5">Exploraci√≥n de datos de imagen</font> </h2><br>  Como la calidad de una parte importante de las im√°genes recopiladas con Flickr era baja, se decidi√≥ utilizar im√°genes de bases de datos de im√°genes existentes.  En particular, se recopilaron im√°genes de tres bases de datos para investigaci√≥n psicol√≥gica.  Cada imagen incluye informaci√≥n de calificaci√≥n para (des) placer e intensidad, recopilada de varios artistas.  Las im√°genes de 1986 de estas bases de datos se dividieron en 4 categor√≠as.  Estas categor√≠as cubr√≠an el 87% de las im√°genes e inclu√≠an el 34% de los animales, el 28% de las personas, el 13% de las escenas y el 12% de los objetos.  El 13% restante fue clasificado como miscel√°neo. <br><br><h3>  <font color="#0071c5">Animales</font> </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_j/dr/q0/_jdrq0ffcxcf86rbei-wxierd5u.jpeg"></div><br>  <i>Ejemplos de im√°genes de la categor√≠a "Animales"</i> <br><br>  Alrededor de un tercio de las im√°genes contienen animales, ya sea aislados o junto con otros animales, como se muestra arriba.  En estos ejemplos, movi√©ndose de izquierda a derecha, aumenta la calificaci√≥n de agrado.  Las im√°genes desagradables de hienas que se comen a sus presas y cucarachas pueden causar una respuesta en forma de emociones tales como: miedo, tristeza y asco. <br><br>  Las im√°genes de la derecha, un gato dormido, un perro sonriente, por el contrario, pueden causar simpat√≠a y felicidad. <br><br><h3>  <font color="#0071c5">Personas</font> </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z6/kd/vf/z6kdvfa0yknvuqh3_sdboqobqa8.jpeg"></div><br>  <i>Im√°genes de muestra de la categor√≠a Personas</i> <br><br>  La categor√≠a de im√°genes Personas incluye im√°genes de individuos y grupos de personas, mientras que las im√°genes de grupos de personas a menudo contienen m√°s informaci√≥n contextual.  Por ejemplo, la imagen de la banda de m√∫sica parece haber sido tomada en el contexto de un estadio lleno de fan√°ticos, lo que sugiere que la imagen se toma en una actuaci√≥n durante los deportes.  La imagen de una mujer enojada, por el contrario, est√° privada de contexto: el espectador no tiene la oportunidad de descubrir o adivinar la raz√≥n de su enojo.  Cabe se√±alar que no todas las im√°genes con muchas personas o con grupos tienen informaci√≥n adicional. <br><br>  Por ejemplo, la imagen de hombres tendidos en una l√≠nea en el suelo, con heridas visibles y ropa ensangrentada, no da una idea de lo que est√° sucediendo.  Sin embargo, incluso con tal falta de informaci√≥n, las im√°genes con personas causan diversas reacciones emocionales. <br><br><h3>  <font color="#0071c5">Escenas</font> </h3><br>  La categor√≠a "Escenas" de un conjunto de im√°genes incluye una variedad de escenas, desde estructuras y objetos hechos por el hombre hasta escenas de la naturaleza e incluso el espacio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ho/2v/tt/ho2vttl3iuauwnr94ce8uivrwdw.jpeg"></div><br>  <i>Im√°genes de muestra de la categor√≠a de escenas</i> <br><br><h3>  <font color="#0071c5">Los objetos</font> </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vl/5_/bk/vl5_bkiof6y8puazjhku6d9yfuy.jpeg"></div><br>  <i>Im√°genes de muestra de la categor√≠a Objetos</i> <br><br>  La categor√≠a "Objetos" del conjunto de im√°genes incluye im√°genes enfocadas en un objeto, como se muestra en los ejemplos anteriores.  No hay contexto situacional en estas im√°genes, especialmente cuando se compara con otras categor√≠as en el conjunto de im√°genes. <br><br><h3>  <font color="#0071c5">Miscel√°neo</font> </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/md/qf/1g/mdqf1gyo2nw5sdu4oo2vyhbyxfm.jpeg"></div><br>  <i>Ejemplos de im√°genes de la categor√≠a Varios.</i> <br><br>  Finalmente, qued√≥ un subconjunto de im√°genes en el conjunto que no se pudo asignar a ninguna de las cuatro categor√≠as.  A menudo, como se muestra en los ejemplos, estas im√°genes eran escenas con varios objetos, pero sin el contexto t√≠pico de las im√°genes de la categor√≠a Escenas.  Este tipo de imagen, por regla general, conten√≠a una calificaci√≥n neutral: no eran ni agradables ni desagradables. <br><br><h2>  <font color="#0071c5">Categor√≠as de emoci√≥n para la base de datos de im√°genes</font> </h2><br>  Para identificar las categor√≠as de emociones para la base de datos de im√°genes, nos basamos en clasificaciones de significaci√≥n subjetiva normativa que acompa√±an a cada imagen en la Base de datos afectiva PicturE de Ginebra (GAPED) y el Conjunto de im√°genes estandarizadas afectivas abiertas (OASIS).  Dado que GAPED us√≥ la escala Likert de 0 a 100, y OASIS us√≥ la escala Likert de 1 a 7, se aplic√≥ una transformaci√≥n lineal que llev√≥ todas las calificaciones a una escala continua de 0 a 100. Luego se investigaron dos posibles reglas para categorizar las emociones. <br><br>  Primero, es intuitivamente deseable clasificar las im√°genes de acuerdo con el nivel de placer, luego dividirlas en tres partes de acuerdo con la escala de calificaci√≥n, de modo que las im√°genes con calificaciones 0‚Äì33.33 representen la categor√≠a negativa, con calificaciones 33.33‚Äì66.67 neutrales, y con calificaciones 66.67‚Äì100 - una categor√≠a positiva.  Para implementar esta regla de dividir en tres categor√≠as, se utiliz√≥ el c√≥digo Python: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> shutil <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> csv <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">organizeFolderGAPED</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(original, pos, neg, neut)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#      GAPED    #        dict = {} files = os.listdir(original) for file in files: if '.txt' in file: with open(os.path.join(original, file), 'r') as f: for l in f: l = l.split() dict[l[0][:-4]] = l[1] #        pos/neg/neut      for roots, dirs, files, in os.walk(original): for file in files: if '.bmp' in file: if float(dict[file[:-4]]) &lt; 100/3: shutil.copy(os.path.join(roots, file), neg) elif float(dict[file[:-4]]) &gt; 200/3: shutil.copy(os.path.join(roots, file), pos) else: shutil.copy(os.path.join(roots, file), neut) def organizeFolderOASIS(original, pos, neg, neut): #      GAPED    #        dict = {} with open('/Users/harrys/Desktop/OASIS.csv') as file: reader = csv.reader(file) for row in reader: dict[row[1]] = row[4] #        pos/neg/neut       for roots, dirs, files, in os.walk(original): for file in files: if '.jpg' in file: if (float(dict[file[:-4]])-1)*100/6 &lt; 100/3: shutil.copy(os.path.join(roots, file), neg) elif (float(dict[file[:-4]])-1)*100/6 &gt; 200/3: shutil.copy(os.path.join(roots, file), pos) else: shutil.copy(os.path.join(roots, file), neut) if __name__ == '__main__' : gaped = 'path/to/your/project/directory/GAPED' oasis = 'path/to/your/project/directory/Oasis' pos = 'path/to/your/project/directory/Positive' neg = 'path/to/your/project/directory/Negative' neut = 'path/to/your/project/directory/Neutral' organizeFolderOASIS(oasis, pos, neg, neut) organizeFolderGAPED(gaped, pos, neg, neut)</span></span></code> </pre><br>  Este enfoque nos permiti√≥ dividir la base de datos en categor√≠as: 417 im√°genes negativas, 774 neutrales y 442 positivas.  En este enfoque, dividido en tres categor√≠as en proporciones iguales de im√°genes desagradables, cuya calificaci√≥n no alcanz√≥ el valor umbral, se clasific√≥ como neutral;  Por ejemplo, las im√°genes de un cad√°ver, un ni√±o llorando, cementerios fueron clasificados como neutrales.  Aunque estas im√°genes fueron menos desagradables que otras en la categor√≠a negativa, surgieron dudas sobre su neutralidad. <br><br>  Por lo tanto, se decidi√≥ aplicar una regla de categorizaci√≥n optimizada basada en la distribuci√≥n normal de datos, as√≠ como mejorar la separaci√≥n de par√°metros en categor√≠as emocionales.  Los valores 0‚Äì39 se asignaron a la categor√≠a negativa, 40‚Äì60 a la categor√≠a neutral y 61‚Äì100 a la categor√≠a positiva.  Para implementar esta regla, se utiliz√≥ el c√≥digo Python: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> shutil <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> csv <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">organizeFolderGAPED</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(original, pos, neg, neut)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#      GAPED    #        dict = {} files = os.listdir(original) for file in files: if '.txt' in file: with open(os.path.join(original, file), 'r') as f: for l in f: l = l.split() dict[l[0][:-4]] = l[1] #        pos/neg/neut      for roots, dirs, files, in os.walk(original): for file in files: if '.bmp' in file: if float(dict[file[:-4]]) &lt; 40: shutil.copy(os.path.join(roots, file), neg) elif float(dict[file[:-4]]) &gt; 60: shutil.copy(os.path.join(roots, file), pos) else: shutil.copy(os.path.join(roots, file), neut) def organizeFolderOASIS(original, pos, neg, neut): #      GAPED    #        dict = {} with open('path/to/your/project/directory/OASIS.csv') as file: reader = csv.reader(file) for row in reader: dict[row[1]] = row[4] #        pos/neg/neut       for roots, dirs, files, in os.walk(original): for file in files: if '.jpg' in file: if (float(dict[file[:-4]])-1)*100/6 &lt; 40: shutil.copy(os.path.join(roots, file), neg) elif (float(dict[file[:-4]])-1)*100/6 &gt; 60: shutil.copy(os.path.join(roots, file), pos) else: shutil.copy(os.path.join(roots, file), neut) if __name__ == '__main__' : gaped = 'path/to/your/project/directory/GAPED' oasis = 'path/to/your/project/directory/Oasis' pos = 'path/to/your/project/directory/Positive' neg = 'path/to/your/project/directory/Negative' neut = 'path/to/your/project/directory/Neutral' organizeFolderOASIS(oasis, pos, neg, neut) organizeFolderGAPED(gaped, pos, neg, neut)</span></span></code> </pre><br>  Con esta regla de categorizaci√≥n, 40‚Äì60‚Äì40 567 im√°genes positivas fueron calificadas como m√°s agradables que 502 neutrales, y 564 im√°genes negativas fueron calificadas como menos agradables que neutrales.  Por lo tanto, se mantuvo el valor objetivo de las categor√≠as emocionales y se mejor√≥ la distribuci√≥n de im√°genes por categor√≠a.  La siguiente figura ilustra el nivel de placer asociado con cada una de las categor√≠as.  Las diferentes longitudes de los bigotes en el diagrama de dispersi√≥n indican en qu√© categor√≠a emocional (positiva o negativa) hay un mayor rango de calificaciones en comparaci√≥n con la categor√≠a neutral. <br><br><img src="https://habrastorage.org/webt/yx/3f/sv/yx3fsvbh9cpl_jyfz4_1j9xf-io.jpeg"><br>  <i>Calificaciones promedio de placer para cada una de las categor√≠as emocionales</i> <br><br>  Concluimos que esta regla de categorizaci√≥n es suficiente para clasificar im√°genes basadas en emociones.  Con respecto a las categor√≠as de los par√°metros de la base de datos de im√°genes, a continuaci√≥n se muestran los tipos de im√°genes que representan cada una de las categor√≠as emocionales.  Cabe se√±alar que cada categor√≠a de par√°metros (animales, personas, escenas, objetos, miscel√°neos) est√° representada en cada una de las categor√≠as emocionales. <br><br>  <i>Categor√≠a emocional 1: negativa</i> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wg/mo/xx/wgmoxxsmn1b8zp5sbsapzfpgsxi.jpeg"></div><br>  <i>Categor√≠a emocional 2: neutral</i> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rz/dv/8a/rzdv8a89hkcqc5gbrtqt8k_yc-q.jpeg"></div><br>  <i>Categor√≠a emocional 3: positiva</i> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fx/u2/ot/fxu2otvmennaundgxobtgb-empq.jpeg"></div><br>  Para resumir.  Dividimos la base de datos de im√°genes en categor√≠as emocionales neutrales, negativas y positivas utilizando clasificaciones de significaci√≥n normativa en el rango de 0 a 100, asignando 0-39 a negativo, 40-60 a neutral y 61-100 a positivo.  Las im√°genes se distribuyeron adecuadamente en estas categor√≠as emocionales.  Finalmente, cada categor√≠a emocional inclu√≠a im√°genes de animales, personas, escenas, objetos y m√°s. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es413839/">https://habr.com/ru/post/es413839/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es413819/index.html">Sinceramente sobre el mercado de TI en Rusia</a></li>
<li><a href="../es413823/index.html">El boom del empleo sin sentido</a></li>
<li><a href="../es413827/index.html">Proyecto Kubernetes cumple 4 a√±os</a></li>
<li><a href="../es413831/index.html">La nueva versi√≥n del piloto autom√°tico Tesla se lanzar√° en agosto, por primera vez con "caracter√≠sticas de conducci√≥n totalmente aut√≥nomas".</a></li>
<li><a href="../es413837/index.html">Hacer de Tower Defense un juego de unidad - Parte 1</a></li>
<li><a href="../es413841/index.html">Alternativas a los productos de Google</a></li>
<li><a href="../es413843/index.html">Waymo por delante del resto: los robom√≥viles de la compa√±√≠a han rodado 11 millones de kil√≥metros</a></li>
<li><a href="../es413847/index.html">Monumento desencadenante "vivo"</a></li>
<li><a href="../es413849/index.html">Historia de la marca Sennheiser: libertad y visi√≥n</a></li>
<li><a href="../es413851/index.html">Esteganograf√≠a en paquetes IP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>