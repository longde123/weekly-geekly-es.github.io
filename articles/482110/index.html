<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÖüèª ü§≤ üë®üèº‚Äçüé§ Linux se ejecuta en mi tarjeta de visita üö¥üèæ üë∂üèª üë®üèæ‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Traducci√≥n de un art√≠culo del blog del ingeniero George Hilliard 

  
 Clickable 

 Soy un ingeniero de sistemas integrados. En mi tiempo libre, a men...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Linux se ejecuta en mi tarjeta de visita</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482110/"> <i>Traducci√≥n de un art√≠culo del <a href="https://www.thirtythreeforty.net/">blog del</a> ingeniero George Hilliard</i> <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/953/2a8/ddc/9532a8ddcfcc8709783f40fd9c588eeb.jpg"></a> <br>  <i>Clickable</i> <br><br>  Soy un ingeniero de sistemas integrados.  En mi tiempo libre, a menudo busco lo que se puede usar en el dise√±o de sistemas futuros, o algo de la categor√≠a de mis intereses. <br><br>  Una de esas √°reas son las computadoras baratas que pueden soportar Linux, y cuanto m√°s baratas, mejor.  Por lo tanto, me enterr√© en una profunda madriguera de procesadores poco conocidos. <br><br>  Pens√©: "Estos procesadores son tan baratos que pr√°cticamente se pueden entregar de forma gratuita".  Y despu√©s de un tiempo, se me ocurri√≥ la idea de hacer una tarjeta simple para Linux en un formato de tarjeta de visita. <br><a name="habracut"></a><br>  Tan pronto como lo pens√©, decid√≠ que ser√≠a genial hacerlo.  Ya he <a href="https://hackaday.com/2017/10/04/literally-flashy-business-cards/">visto</a> <a href="https://hackaday.com/2014/06/17/designing-the-second-version-of-my-business-card/">tarjetas de presentaci√≥n</a> <a href="https://hackaday.com/2018/05/11/stylish-business-card-with-a-stylophone-built-in/">electr√≥nicas</a> anteriormente, y ten√≠an varias caracter√≠sticas interesantes, como emular tarjetas flash, luces parpadeantes o incluso transferencia inal√°mbrica de datos.  Sin embargo, no he visto tarjetas de visita con soporte para Linux. <br><br>  Entonces me hice uno. <br><br>  Esta es una versi√≥n completa del producto.  Una computadora m√≠nima completa en ARM, que ejecuta mi versi√≥n especial de Linux, creada usando Buildroot. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6fd/e4a/608/6fde4a6082ee3747bc571f7b9394047b.jpg"><br><br>  En la esquina tiene un puerto USB.  Si lo conecta a una computadora, se carga en aproximadamente 6 segundos y se puede ver como una tarjeta flash y un puerto serie virtual, a trav√©s del cual puede ingresar el caparaz√≥n de la tarjeta.  En la unidad flash hay un archivo README, una copia de mi curr√≠culum y algunas de mis fotos.  Hay varios juegos en el shell, cl√°sicos de Unix como fortune y rogue, una versi√≥n peque√±a del juego 2048 y el int√©rprete de MicroPython. <br><br>  Todo esto se hace con un chip flash muy peque√±o de 8 MB.  El gestor de arranque se adapta a 256 KB, el n√∫cleo ocupa 1,6 MB y todo el sistema de archivos ra√≠z: 2,4 MB.  Por lo tanto, queda mucho espacio para una unidad flash virtual.  Tambi√©n tiene un directorio personal de escritura, si alguien hace algo que quiere guardar.  Esto tambi√©n se almacena en un chip flash. <br><br>  Todo el dispositivo cuesta menos de $ 3.  Es lo suficientemente barato como para ser distribuido.  Si recibi√≥ un dispositivo de mi parte, significa que lo m√°s probable es que est√© tratando de impresionarlo. <br><br><h2>  Dise√±o y montaje </h2><br>  Dise√±√© y ensambl√© todo yo mismo.  Este es mi trabajo, y me gusta, y la mayor√≠a de las dificultades consistieron en encontrar suficientes piezas baratas para tal pasatiempo. <br><br>  La elecci√≥n de un procesador fue la decisi√≥n m√°s importante que afect√≥ el costo y la viabilidad del proyecto.  Despu√©s de una investigaci√≥n activa, eleg√≠ los F1C100, un procesador Allwinner relativamente poco conocido, con un costo optimizado (es decir, muy barato).  En un caso son RAM y CPU.  Compr√© procesadores en Taobao.  Todos los dem√°s componentes comprados en LCSC. <br><br>  Ped√≠ tableros de JLC.  Por $ 8 hice 10 copias.  Su calidad es impresionante, especialmente por el precio;  No es tan ordenado como OSHPark, pero a√∫n se ve bien. <br><br>  Hice el primer lote negro mate.  Se ve√≠an hermosos, pero se ensuciaban muy f√°cilmente. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/750/9d9/d7c/7509d9d7c24c3ba3c6d7d9214c0f0878.jpg"><br><br>  Hubo un par de problemas con el primer lote.  En primer lugar, el conector USB no era lo suficientemente largo como para caber de forma segura en cualquier puerto USB.  En segundo lugar, las pistas de flash no se hicieron correctamente, pero evit√© esto doblando los contactos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f6a/d88/294/f6ad8829440e6f1b942292b45ab6841b.jpg"><br><br>  Despu√©s de revisar todo en el trabajo, orden√© un nuevo lote de tablas;  Puedes ver una foto de uno de ellos al comienzo del art√≠culo. <br><br>  Debido al peque√±o tama√±o de todos estos componentes peque√±os, decid√≠ recurrir a la soldadura por reflujo usando una <a href="https://www.thirtythreeforty.net/posts/2019/08/t962-reflow-profile-calculator/">estufa barata</a> .  Tengo acceso a un cortador l√°ser, as√≠ que cort√© una plantilla de soldadura de una pel√≠cula para un laminador en ella.  La plantilla result√≥ bastante bien.  Los orificios para los contactos del procesador con un di√°metro de 0.2 mm requirieron un cuidado especial para la fabricaci√≥n de alta calidad: era de vital importancia enfocar correctamente el l√°ser y seleccionar su potencia. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/91e/4bf/55d/91e4bf55dd1c86a241be05998ca1b2fd.jpg"><br>  <i>Otros tableros son buenos para sostener el tablero cuando se aplica pasta.</i> <br><br>  Apliqu√© pasta de soldadura y arregl√© los componentes manualmente.  Me asegur√© de que el plomo no se usara en ninguna parte del proceso: todas las placas, componentes y pastas <a href="https://ru.wikipedia.org/wiki/Restriction_of_Hazardous_Substances_Directive">cumplen con RoHS</a> , para que la conciencia no me atormentara cuando los distribuya a las personas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/419/00d/a63/41900da63d71dd54c47c8325e4bfeead.jpg"><br>  <i>Me perd√≠ un poco con este lote, pero la pasta de soldadura perdona los errores, y todo sali√≥ bien</i> <br><br>  Cada componente tard√≥ unos 10 segundos en posicionarse, as√≠ que intent√© hacer que su n√∫mero fuera m√≠nimo.  Puede encontrar m√°s detalles sobre el dise√±o de un mapa en <a href="https://www.thirtythreeforty.net/posts/2019/12/designing-my-linux-business-card/">mi</a> otro <a href="https://www.thirtythreeforty.net/posts/2019/12/designing-my-linux-business-card/">art√≠culo detallado</a> . <br><br><h2>  Lista de materiales y costos. </h2><br>  Mantuve un presupuesto estricto.  Y la tarjeta de presentaci√≥n result√≥ como estaba prevista: ¬°no me importa regalarla!  Por supuesto, no se lo dar√© a nadie ni a todos, porque se dedica tiempo a la producci√≥n de cada copia, y mi tiempo no se tiene en cuenta en el costo de una tarjeta de presentaci√≥n (es gratis). <br><br><div class="scrollable-table"><table><tbody><tr><th>  Componente </th><th>  Precio </th></tr><tr><td>  F1C100s </td><td>  $ 1,42 </td></tr><tr><td>  PCB </td><td>  $ 0.80 </td></tr><tr><td>  8 MB de flash </td><td>  $ 0.17 </td></tr><tr><td>  Todos los dem√°s componentes </td><td>  $ 0,49 </td></tr><tr><td>  <b>Total</b> </td><td>  $ 2.88 </td></tr></tbody></table></div><br><br>  Naturalmente, todav√≠a hay gastos que son dif√≠ciles de calcular, como la entrega (ya que se distribuy√≥ entre los componentes destinados a varios proyectos).  Sin embargo, para una placa con soporte de Linux, esto es definitivamente bastante barato.  Adem√°s, este desglose da una buena idea de cu√°nto le cuesta a las empresas fabricar dispositivos del segmento de precio m√°s bajo: ¬°puede estar seguro de que le cuesta a las empresas incluso m√°s barato que yo! <br><br><h2>  Las posibilidades </h2><br>  Que decir  El mapa carga Linux muy recortado en 6 segundos.  Debido al factor de forma y al costo, la tarjeta no tiene E / S, soporte de red o alguna cantidad importante de almacenamiento para iniciar programas pesados.  Sin embargo, logr√© meter un mont√≥n de cosas interesantes en la imagen del firmware. <br><br><h2>  USB </h2><br>  Con USB, se te ocurren muchas cosas interesantes, pero eleg√≠ la opci√≥n m√°s simple, de modo que las personas probablemente habr√≠an trabajado si hubieran decidido probar mi tarjeta de presentaci√≥n.  Linux permite que la tarjeta se comporte como un "dispositivo" con soporte para <a href="https://linux-sunxi.org/USB_Gadget">Gadget Framework</a> .  Tom√© algunos controladores de proyectos anteriores que inclu√≠an este procesador, por lo que tengo acceso a toda la funcionalidad del marco de dispositivos USB.  Decid√≠ emular una unidad flash pregenerada y dar acceso al shell a trav√©s de un puerto serie virtual. <br><br><h2>  Concha </h2><br>  Despu√©s de iniciar sesi√≥n como root, puede ejecutar los siguientes programas en la consola serie: <br><ul><li>  p√≠caro: un cl√°sico juego de aventuras de mazmorras de Unix; </li><li>  2048: juego simple en 2048 en modo consola; </li><li>  fortuna: la conclusi√≥n de varios dichos pathos.  Decid√≠ no incluir toda la base de cotizaciones aqu√≠ para dejar espacio para otras funciones; </li><li>  <a href="https://micropython.org/">micropython</a> : un int√©rprete muy peque√±o de Python. </li></ul><br><br><h2>  Emulaci√≥n de unidad flash </h2><br>  En el momento de la compilaci√≥n, las herramientas de compilaci√≥n generan una peque√±a imagen FAT32 y la agregan como una de las particiones UBI.  El subsistema de gadgets de Linux presenta su PC como un dispositivo de almacenamiento. <br><br>  Si est√° interesado en ver lo que aparece en la unidad flash, entonces la forma m√°s f√°cil de hacerlo es familiarizarse con la <a href="https://github.com/thirtythreeforty/businesscard-linux/tree/master/package/businesscard-flashdrive/files">fuente</a> .  Tambi√©n hay algunas fotos y mi curr√≠culum. <br><br><h2>  Recursos </h2><br><h3>  C√≥digo fuente </h3><br>  Mi √°rbol Buildroot est√° cargado en GitHub: <a href="https://github.com/thirtythreeforty/businesscard-linux">treinta y tres / businesscard-linux</a> .  Existe un c√≥digo para generar una imagen flash NOR, que se configura utilizando el modo de descarga USB del procesador.  Tambi√©n tiene todas las definiciones de paquetes para juegos y otros programas que introduje en Buildroot despu√©s de que funcion√≥.  Si desea utilizar los F1C100 en su proyecto, este ser√° un excelente punto de partida (no dude <a href="https://www.thirtythreeforty.net/about/">en hacerme preguntas</a> ). <br>  Us√© el <a href="https://github.com/Icenowy/linux/tree/f1c100s">proyecto</a> Linux v4.9 <a href="https://github.com/Icenowy/linux/tree/f1c100s">bellamente ejecutado</a> para F1C100s por Icenowy, rehaci√©ndolo un poco.  Casi est√°ndar v5.2 funciona en mi tarjeta.  Ella miente en GitHub - <a href="">treinta y tres / linux</a> . <br>  Creo que hoy tengo el mejor puerto U-Boot para F1C100 en el mundo, y est√° parcialmente basado en el trabajo de Icenowy (inesperadamente, hacer que U-Boot funcione como deber√≠a ser una tarea muy desagradable).  Tambi√©n puedes <a href="">usar</a> GitHub: <a href="">treinta y tres / u-boot</a> . <br><br><h3>  Documentaci√≥n para F1C100 </h3><br>  Encontr√© la documentaci√≥n bastante escasa de los F1C100 y la publico aqu√≠: <br><ul><li>  <a href="https://www.thirtythreeforty.net/media/F1C100s_Datasheet_V1.0.pdf">Hoja de datos de Allwinner F1C100s</a> : informaci√≥n general y pinout. </li><li>  <a href="https://www.thirtythreeforty.net/media/Allwinner_F1C600_User_Manual_V1.0.pdf">Manual de referencia de Allwinner F1C600</a> : registre las definiciones para F1C600, que en realidad son los mismos F1C100, pero se renombraron con soporte de Linux declarado (¬°ja!). </li><li>  Tom√© prestada informaci√≥n activamente del circuito de <a href="http://dl.sipeed.com/LICHEE/Nano/">Lichee Nano</a> de <a href="http://dl.sipeed.com/LICHEE/Nano/">Sipeed,</a> la placa de desarrollo que us√© para configurar el software. </li></ul><br><br>  Para los curiosos, subo el <a href="https://www.thirtythreeforty.net/posts/2019/12/my-business-card-runs-linux/businesscard.pdf">bosquejo de mi proyecto</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d56/59a/549/d5659a549dd475471b3309f2efb66a0a.svg"><br><br><h2>  Conclusi√≥n </h2><br>  Aprend√≠ muchas cosas durante el desarrollo de este proyecto: este es mi primer proyecto, donde utilic√© un horno de soldadura por reflujo.  Tambi√©n aprend√≠ a encontrar recursos para componentes con poca documentaci√≥n. <br><br>  Us√© mi experiencia con Linux embebido y la experiencia en el desarrollo de placas.  El proyecto no est√° exento de defectos, pero muestra bien todas mis habilidades. <br><br>  Para aquellos interesados ‚Äã‚Äãen los detalles de trabajar con Linux embebido, les sugiero leer mi serie de art√≠culos sobre esto: <a href="https://www.thirtythreeforty.net/posts/2019/08/mastering-embedded-linux-part-1-concepts/">Mastering Embedded Linux</a> .  All√≠ hablo en detalle sobre c√≥mo crear software y hardware desde cero para sistemas Linux peque√±os y baratos, similares a esta tarjeta de presentaci√≥n m√≠a. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/482110/">https://habr.com/ru/post/482110/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../482096/index.html">VR y creatividad: c√≥mo las estaciones de trabajo Dell Precision ayudan a los estudiantes de la British Graduate School of Design</a></li>
<li><a href="../482100/index.html">Tecnolog√≠a AMP en correos electr√≥nicos: pros, contras y posibles usos</a></li>
<li><a href="../482102/index.html">Preguntas y respuestas de Habr 2019: resultados del a√±o</a></li>
<li><a href="../482104/index.html">C√≥mo lidiar con los h√°bitos de las personas programadas</a></li>
<li><a href="../482106/index.html">Habr Freelance 2019: resultados del a√±o</a></li>
<li><a href="../482114/index.html">Enviar correos electr√≥nicos utilizando asyncio y aiohttp desde una aplicaci√≥n Django</a></li>
<li><a href="../482126/index.html">Revisi√≥n de Keras para TensorFlow</a></li>
<li><a href="../482128/index.html">gReebok detectado. Dermatovener√≥logo mismo</a></li>
<li><a href="../482130/index.html">Asignaci√≥n de derechos a gran escala a usuarios de dominio de diferentes bosques</a></li>
<li><a href="../482132/index.html">La copia de Tesla Cybertruck fue vista en Mosc√∫. Este es un ... LADA rusa Samara</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>