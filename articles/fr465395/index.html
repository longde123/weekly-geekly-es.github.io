<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üàØÔ∏è ‚ôêÔ∏è üõï Quelle est la principale diff√©rence entre l'injection de d√©pendance et le localisateur de service? üíÜüèΩ üö† üç¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ha, quel d√©guisement gracieux du localisateur de services sous DI. Cela pourrait m√™me ressembler √† un DI! :-) 

 Ceci est le premier commentaire de ma...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Quelle est la principale diff√©rence entre l'injection de d√©pendance et le localisateur de service?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465395/"><blockquote>  Ha, quel d√©guisement gracieux du localisateur de services sous DI.  Cela pourrait m√™me ressembler √† un DI!  :-) </blockquote><p>  Ceci est le premier commentaire de ma publication pr√©c√©dente, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dependency Injection, JavaScript et ES6 Modules</a> .  Merci au coll√®gue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">symbix</a> 'u pour ce commentaire, tk.  c'est lui qui est devenu la cause de l'immersion dans les subtilit√©s de la diff√©rence entre l'un et l'autre.  Sous la coupe ma r√©ponse √† la question dans le titre. </p><br><p><img src="https://habrastorage.org/webt/v3/8k/ax/v38kaxu_rzz_k0hweljvwl5n6vi.jpeg" alt="image"></p><br><p>  <em>(KDPV n'a pas beaucoup de sens et est principalement destin√© √† l'identification visuelle de cette publication, entre autres)</em> </p><a name="habracut"></a><br><p>  Pour commencer, nous traiterons des d√©finitions ( <em>certains des exemples de code que je fournirai en PHP, certains en JS, parce que ces deux langages sont actuellement dans mes bagages actifs, et certains dans n'importe quel autre, parce que j'ai vol√© ces exemples sur Internet</em> ). </p><br><h1 id="dependency-injection">  Injection de d√©pendance </h1><br><blockquote> DI en un mot - au lieu du module require / import, vous injectez la d√©pendance via le param√®tre constructeur (ou setter de propri√©t√©).  Autrement dit, derri√®re ce grand mot se trouve le simple ¬´passer les d√©pendances de classe via les param√®tres du constructeur¬ª. </blockquote><p>  Ce commentaire est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">le</a> coll√®gue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">de risedphantom qui</a> transmet assez pr√©cis√©ment l'essence du ph√©nom√®ne.  Pour faciliter la compr√©hension du code par le d√©veloppeur, toutes les d√©pendances sont d√©crites explicitement - sous la forme de param√®tres de constructeur (g√©n√©ralement, mais pas toujours): </p><br><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($dep1, $dep2, $dep3)</span></span></span><span class="hljs-function"> </span></span>{} }</code> </pre> <br><p>  C‚Äôest tout.  DI - il est √† ce sujet.  Les d√©pendances dont nous avons besoin sont fournies par quelqu'un l√†-bas.  Et o√π est-ce que ¬´quelqu'un l√†-bas¬ª les emm√®ne - DI s'en fiche. </p><br><p>  Lors de l'analyse du code, il est important de comprendre ce qui est exactement ¬´interne¬ª pour lui (et ce que nous pouvons changer en toute s√©curit√©), et ce qui vient / d√©passe la responsabilit√© de ce code.  C'est ce qui excite DI.  Pourquoi les d√©pendances passent-elles principalement par le constructeur, et non par les setters?  Parce que c'est plus pratique pour le d√©veloppeur - il voit imm√©diatement toutes les d√©pendances du code analys√© en un seul endroit.  Nous sommes habitu√©s √† penser que DI est quelque chose au niveau de la classe, mais les param√®tres de fonction / m√©thode sont √©galement DI: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dep1, dep2, dep3</span></span></span><span class="hljs-function">) </span></span>{}</code> </pre> <br><p>  Un constructeur est juste une m√©thode sp√©ciale parmi toutes les autres. </p><br><h1 id="service-locator">  Localisateur de services </h1><br><p>  Service Locator est un anti-mod√®le bien connu.  Que fait-il?  Fournit l'acc√®s √† un objet √† d'autres objets.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici une</a> interface typique pour un tel localisateur: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ServiceLocator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addInstance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $class, Service $service)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $class, array $params)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">has</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $interface)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $class)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Service</span></span></span></span>; }</code> </pre> <br><p>  Un localisateur est un conteneur dans lequel vous pouvez placer des objets pr√™ts √† l'emploi (ou d√©finir les r√®gles de leur cr√©ation), puis acc√©der √† ces objets.  Pour un localisateur, dans l'ensemble, peu importe la fa√ßon dont les objets y apparaissent - ils sont explicitement cr√©√©s de l'ext√©rieur et plac√©s dans le conteneur ou cr√©√©s par le conteneur lui-m√™me selon les r√®gles donn√©es. </p><br><p>  Le localisateur de services est responsable du stockage des objets et de leur acc√®s.  C‚Äôest tout. </p><br><h1 id="dependency-injection-container">  Conteneur d'injection de d√©pendance </h1><br><p>  Qu'est-ce qu'un conteneur DI?  Selon la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">relecture ind√©pendante du</a> contenu des " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Principes, pratiques et mod√®les d'injection de d√©pendance</a> ": <em>"une biblioth√®que de logiciels qui fournit des fonctionnalit√©s DI et permet d'automatiser de nombreuses t√¢ches impliqu√©es dans la composition d'objets, l'interception et la gestion √† vie. Les conteneurs DI sont √©galement appel√©s inversion de Conteneurs de contr√¥le (IoC). (¬ß3.2.2) "</em> </p><br><p>  Autrement dit, le conteneur DI est principalement responsable de la cr√©ation d'objets, mais seulement dans le second - de leur stockage.  Un conteneur DI peut m√™me ne pas stocker d'objets cr√©√©s du tout, si l'application elle-m√™me n'a pas besoin d'objets communs √† l'ensemble de l'application (comme une configuration ou un enregistreur). </p><br><p>  Voici, par exemple, l'interface du conteneur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Symfony</a> DI: </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContainerInterface</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PsrContainerInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $id, ?object $service)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($id, int $invalidBehavior = self::EXCEPTION_ON_INVALID_REFERENCE)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">has</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($id)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initialized</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $id)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getParameter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hasParameter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setParameter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name, $value)</span></span></span></span>; }</code> </pre> <br><p>  Si n√©cessaire, vous pouvez tr√®s facilement vous convaincre que l'interface du conteneur DI est tr√®s similaire √† l'interface des services de localisation - le m√™me <code>get</code> , <code>has</code> et <code>set</code> / <code>add</code> . </p><br><h1 id="chem-zhe-ploh-service-locator">  Pourquoi le Service Locator est-il mauvais? </h1><br><p>  Mais rien.  Ce n'est pas le mod√®le lui-m√™me qui est mauvais, mais la fa√ßon dont il est parfois utilis√©.  En particulier, il <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">existe une opinion selon</a> laquelle ¬´le <em>localisateur de services viole l'encapsulation dans les langues typ√©es statiquement, car ce mod√®le n'exprime pas clairement les conditions pr√©alables</em> ¬ª.  Et un exemple de violation: </p><br><pre> <code class="vbscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> OrderProcessor : IOrderProcessor { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> void Process(Order order) { var validator = Locator.Resolve&lt;IOrderValidator&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (validator.Validate(order)) { var shipper = Locator.Resolve&lt;IOrderShipper&gt;(); shipper.Ship(order); } } }</code> </pre> <br><p>  C'est tellement mauvais, mais bon - comme ceci: </p><br><pre> <code class="vbscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> OrderProcessor : IOrderProcessor { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> OrderProcessor(IOrderValidator validator, IOrderShipper shipper) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> void Process(Order order) }</code> </pre> <br><p>  H√©, nous venons de <code>IOrderValidator</code> c√¥t√© les parenth√®ses du moment de la cr√©ation des objets eux-m√™mes avec les <code>IOrderShipper</code> <code>IOrderValidator</code> et <code>IOrderShipper</code> !  Il est possible que dans cette application ailleurs, il y ait quelque chose comme ce code: </p><br><pre> <code class="vbscript hljs">var validator = Locator.Resolve&lt;IOrderValidator&gt;(); var shipper = Locator.Resolve&lt;IOrderShipper&gt;(); var processor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> OrderProcessor(validator, shipper); processor.Process(order);</code> </pre> <br><h1 id="composition-root">  Racine de composition </h1><br><p>  En parlant d'Injection de D√©pendance, nous ne pouvons nous emp√™cher d'arriver √† un concept tel que la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Racine de Composition</a> (ci-apr√®s je l'appellerai le "Point d'Assemblage").  Il s'agit du m√™me ¬´ <em>quelqu'un</em> ¬ª √† qui les responsabilit√©s de cr√©ation de d√©pendances et de leur mise en ≈ìuvre sont d√©l√©gu√©es. </p><br><p>  Au point d'assemblage, toutes les d√©pendances sont d√©finies explicitement, les objets correspondants sont cr√©√©s et impl√©ment√©s l√† o√π ils attendent.  Ici, les diff√©rences entre le localisateur de services et le conteneur DI sont minimes.  Cela et un autre permettent de cr√©er de nouveaux objets, de stocker les objets cr√©√©s, d'extraire des objets stock√©s.  Je m'engagerais m√™me √† affirmer qu'il n'y a pas ici de diff√©rences fondamentales entre eux. </p><br><h1 id="glavnoe-otlichie">  La principale diff√©rence </h1><br><p>  Et o√π les diff√©rences entre le conteneur DI et le conteneur du localisateur de services sont-elles les plus √©videntes?  A tout autre endroit, et notamment avec un acc√®s statique au conteneur: </p><br><pre> <code class="php hljs">$obj = Container::getInstance()-&gt;get($objId);</code> </pre> <br><p>  √áa y est.  Sous cette forme, n'importe o√π (sauf s'il s'agit d'un point d'assemblage, mais que l'utilisation de l'acc√®s statique y est tr√®s douteuse), tout conteneur devient un anti-mod√®le appel√© Service Locator. </p><br><p>  Un coll√®gue de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">VolCh</a> a r√©pondu bri√®vement et succinctement √† ma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">question</a> : </p><br><blockquote>  Et en quoi pensez-vous que la vraie DI diff√®re d'un localisateur de service d√©guis√© en DI? </blockquote><p>  comme ceci: </p><br><blockquote>  Acc√®s aux conteneurs </blockquote><p>  En fait, toute cette publication n'est qu'un d√©ploiement plus d√©taill√© de sa r√©ponse ici. </p><br><h1 id="legalnoe-primenenie-konteynera">  Utilisation l√©gale du conteneur </h1><br><p>  Ainsi, qu'un conteneur soit un conteneur DI ou un conteneur pour le localisateur de services d√©pend beaucoup de l'endroit et de la fa√ßon dont nous l'utilisons.  Comme je l'ai dit plus haut, au point de rassemblement, la diff√©rence entre les types de conteneurs dispara√Æt.  Mais que passons-nous si le conteneur lui-m√™me est une d√©pendance pour une classe? </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Container $container)</span></span></span></span>{} }</code> </pre> <br><p>  Encore une fois, tout d√©pend de la fa√ßon dont nous utilisons le conteneur.  Voici deux exemples, dont l'un correspond exactement au conteneur du localisateur de services et est un anti-mod√®le, tandis que l'autre a droit √† la vie sous certaines conditions. </p><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $dep; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Container $container)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;dep = $container-&gt;get(<span class="hljs-string"><span class="hljs-string">'depId'</span></span>); } }</code> </pre> <br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $container; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Container $container)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container = $container; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initModules</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($modules)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($modules <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $initClassId) { $init= <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;container-&gt;get($initClassId); $init-&gt;exec(); } } }</code> </pre> <br><h1 id="rezyume">  R√©sum√© </h1><br><p>  En fait, tout est un peu plus compliqu√©, le conteneur DI doit avoir plus de fonctionnalit√©s que le localisateur de services, mais l'essence de cette publication est que m√™me le conteneur DI le plus sophistiqu√© peut √™tre facilement utilis√© comme localisateur de services, mais pour utiliser le localisateur de services comme conteneur DI - vous devez essayer. </p><br><p>  PS <br>  Je ne peux pas m'emp√™cher de fournir des liens vers le blog de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">programmation de</a> Sergei Teplyakov - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ces questions y</a> sont tr√®s bien couvertes. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr465395/">https://habr.com/ru/post/fr465395/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr465375/index.html">Vente de serveurs d√©di√©s aux Pays-Bas et √† Moscou</a></li>
<li><a href="../fr465377/index.html">Faites-le vous-m√™me Skype</a></li>
<li><a href="../fr465379/index.html">Commande autonome sans fil autonome de pompe √† insuline</a></li>
<li><a href="../fr465391/index.html">Sur les traces du mouvement russe Scala. Partie 1</a></li>
<li><a href="../fr465393/index.html">Alimentation par batterie pour les appareils MySensors</a></li>
<li><a href="../fr465397/index.html">Comment le traducteur Nitro est-il apparu, qui aide les d√©veloppeurs dans la localisation et le support technique</a></li>
<li><a href="../fr465399/index.html">D√©ployez le stockage distribu√© CEPH et connectez-le √† Kubernetes</a></li>
<li><a href="../fr465401/index.html">5 activit√©s pour acc√©l√©rer la r√©solution de probl√®mes dans n'importe quelle √©quipe informatique</a></li>
<li><a href="../fr465403/index.html">Achtung! Nouvelles cam√©ras sur la route ou informations √† jour sur les radars et d√©tecteurs de radar</a></li>
<li><a href="../fr465407/index.html">1. Pr√©sentation des commutateurs Extreme Enterprise Layer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>